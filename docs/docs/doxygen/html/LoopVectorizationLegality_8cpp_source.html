<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LLVM: lib/Transforms/Vectorize/LoopVectorizationLegality.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LLVM
   &#160;<span id="projectnumber">17.0.0git</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_a72932e0778af28115095468f6286ff8.html">Transforms</a></li><li class="navelem"><a class="el" href="dir_acb975f027bc8cf760392318543d920a.html">Vectorize</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">LoopVectorizationLegality.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="LoopVectorizationLegality_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//===- LoopVectorizationLegality.cpp --------------------------------------===//</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// Part of the LLVM Project, under the Apache License v2.0 with LLVM Exceptions.</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">// See https://llvm.org/LICENSE.txt for license information.</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// SPDX-License-Identifier: Apache-2.0 WITH LLVM-exception</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">// This file provides loop vectorization legality analysis. Original code</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">// resided in LoopVectorize.cpp for a long time.</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">// At this point, it is implemented as a utility class, not as an analysis</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">// pass. It should be easy to create an analysis pass around it if there</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">// is a need (but D45420 needs to happen first).</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160; </div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="LoopVectorizationLegality_8h.html">llvm/Transforms/Vectorize/LoopVectorizationLegality.h</a>&quot;</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Loads_8h.html">llvm/Analysis/Loads.h</a>&quot;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="LoopInfo_8h.html">llvm/Analysis/LoopInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="OptimizationRemarkEmitter_8h.html">llvm/Analysis/OptimizationRemarkEmitter.h</a>&quot;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TargetLibraryInfo_8h.html">llvm/Analysis/TargetLibraryInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TargetTransformInfo_8h.html">llvm/Analysis/TargetTransformInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ValueTracking_8h.html">llvm/Analysis/ValueTracking.h</a>&quot;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="VectorUtils_8h.html">llvm/Analysis/VectorUtils.h</a>&quot;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="IntrinsicInst_8h.html">llvm/IR/IntrinsicInst.h</a>&quot;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="PatternMatch_8h.html">llvm/IR/PatternMatch.h</a>&quot;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SizeOpts_8h.html">llvm/Transforms/Utils/SizeOpts.h</a>&quot;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="LoopVectorize_8h.html">llvm/Transforms/Vectorize/LoopVectorize.h</a>&quot;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160; </div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacellvm.html">llvm</a>;</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="keyword">using namespace </span>PatternMatch;</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160; </div>
<div class="line"><a name="l00033"></a><span class="lineno"><a class="line" href="LoopVectorizationLegality_8cpp.html#a0eff4a8bccb143ae91e197e6a59d4692">   33</a></span>&#160;<span class="preprocessor">#define LV_NAME &quot;loop-vectorize&quot;</span></div>
<div class="line"><a name="l00034"></a><span class="lineno"><a class="line" href="LoopVectorizationLegality_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">   34</a></span>&#160;<span class="preprocessor">#define DEBUG_TYPE LV_NAME</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160; </div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;    <a class="code" href="LoopVectorizationLegality_8cpp.html#ab10ac4a80fce310e0fa7c74066153ebc">EnableIfConversion</a>(<span class="stringliteral">&quot;enable-if-conversion&quot;</span>, <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(<span class="keyword">true</span>), <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>,</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;                       <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Enable if-conversion during vectorization.&quot;</span>));</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160; </div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacellvm.html">llvm</a> {</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    <a class="code" href="namespacellvm.html#a5c07c8a7581497982e109b2baa22fa3f">HintsAllowReordering</a>(<span class="stringliteral">&quot;hints-allow-reordering&quot;</span>, <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(<span class="keyword">true</span>), <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>,</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;                         <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Allow enabling loop hints to reorder &quot;</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;                                  <span class="stringliteral">&quot;FP operations during vectorization.&quot;</span>));</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;}</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160; </div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="comment">// TODO: Move size-based thresholds out of legality checking, make cost based</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="comment">// decisions instead of hard thresholds.</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;unsigned&gt;</a> <a class="code" href="LoopVectorizationLegality_8cpp.html#a1576589b71201bd3db2719c862a74b75">VectorizeSCEVCheckThreshold</a>(</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    <span class="stringliteral">&quot;vectorize-scev-check-threshold&quot;</span>, <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(16), <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>,</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;The maximum number of SCEV checks allowed.&quot;</span>));</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160; </div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;unsigned&gt;</a> <a class="code" href="LoopVectorizationLegality_8cpp.html#a252ba2f9debb1d43ac35846b31e96a06">PragmaVectorizeSCEVCheckThreshold</a>(</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    <span class="stringliteral">&quot;pragma-vectorize-scev-check-threshold&quot;</span>, <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(128), <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>,</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;The maximum number of SCEV checks allowed with a &quot;</span></div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;             <span class="stringliteral">&quot;vectorize(enable) pragma&quot;</span>));</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160; </div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;LoopVectorizeHints::ScalableForceKind&gt;</a></div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    <a class="code" href="LoopVectorizationLegality_8cpp.html#a71ba85cda6597e7ae08075d333e42a78">ForceScalableVectorization</a>(</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;        <span class="stringliteral">&quot;scalable-vectorization&quot;</span>, <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(<a class="code" href="classllvm_1_1LoopVectorizeHints.html#a041ce1f90aff1772f662dd0c8e3ec4f4a99f04f3a0c3cb69e39acbc12c93b49da">LoopVectorizeHints::SK_Unspecified</a>),</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;        <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>,</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;        <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Control whether the compiler can use scalable vectors to &quot;</span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;                 <span class="stringliteral">&quot;vectorize a loop&quot;</span>),</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;        <a class="code" href="namespacellvm_1_1cl.html#a8fa743aa76b6902028f8a643dfb87171">cl::values</a>(</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;            <a class="code" href="CommandLine_8h.html#a187fd767976b311c09dff5e05ac0c1bc">clEnumValN</a>(<a class="code" href="classllvm_1_1LoopVectorizeHints.html#a041ce1f90aff1772f662dd0c8e3ec4f4ac46ef7a95288338ce20df95d296898f4">LoopVectorizeHints::SK_FixedWidthOnly</a>, <span class="stringliteral">&quot;off&quot;</span>,</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;                       <span class="stringliteral">&quot;Scalable vectorization is disabled.&quot;</span>),</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;            <a class="code" href="CommandLine_8h.html#a187fd767976b311c09dff5e05ac0c1bc">clEnumValN</a>(</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;                <a class="code" href="classllvm_1_1LoopVectorizeHints.html#a041ce1f90aff1772f662dd0c8e3ec4f4a7d9d22c5375d2c00b79a4a897967a2f6">LoopVectorizeHints::SK_PreferScalable</a>, <span class="stringliteral">&quot;preferred&quot;</span>,</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;                <span class="stringliteral">&quot;Scalable vectorization is available and favored when the &quot;</span></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;                <span class="stringliteral">&quot;cost is inconclusive.&quot;</span>),</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;            <a class="code" href="CommandLine_8h.html#a187fd767976b311c09dff5e05ac0c1bc">clEnumValN</a>(</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;                <a class="code" href="classllvm_1_1LoopVectorizeHints.html#a041ce1f90aff1772f662dd0c8e3ec4f4a7d9d22c5375d2c00b79a4a897967a2f6">LoopVectorizeHints::SK_PreferScalable</a>, <span class="stringliteral">&quot;on&quot;</span>,</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;                <span class="stringliteral">&quot;Scalable vectorization is available and favored when the &quot;</span></div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;                <span class="stringliteral">&quot;cost is inconclusive.&quot;</span>)));</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="comment">/// Maximum vectorization interleave count.</span></div>
<div class="line"><a name="l00077"></a><span class="lineno"><a class="line" href="LoopVectorizationLegality_8cpp.html#a734c41b9d22521d43d34fddda8b8a575">   77</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <a class="code" href="LoopVectorizationLegality_8cpp.html#a734c41b9d22521d43d34fddda8b8a575">MaxInterleaveFactor</a> = 16;</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160; </div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacellvm.html">llvm</a> {</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160; </div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="namespacellvm_1_1RISCVFeatures.html#a33bd43741ac5adb4b9a36f946b927cda">LoopVectorizeHints::Hint::validate</a>(<span class="keywordtype">unsigned</span> Val) {</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;  <span class="keywordflow">switch</span> (Kind) {</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;  <span class="keywordflow">case</span> HK_WIDTH:</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a6dec2b5d3e04b47adf4d918d678e81c9">isPowerOf2_32</a>(Val) &amp;&amp; Val &lt;= <a class="code" href="structllvm_1_1VectorizerParams.html#a122bb2d8a6d57352811c1a7aa72771be">VectorizerParams::MaxVectorWidth</a>;</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;  <span class="keywordflow">case</span> HK_INTERLEAVE:</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a6dec2b5d3e04b47adf4d918d678e81c9">isPowerOf2_32</a>(Val) &amp;&amp; Val &lt;= <a class="code" href="LoopVectorizationLegality_8cpp.html#a734c41b9d22521d43d34fddda8b8a575">MaxInterleaveFactor</a>;</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;  <span class="keywordflow">case</span> HK_FORCE:</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    <span class="keywordflow">return</span> (Val &lt;= 1);</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;  <span class="keywordflow">case</span> HK_ISVECTORIZED:</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;  <span class="keywordflow">case</span> HK_PREDICATE:</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;  <span class="keywordflow">case</span> HK_SCALABLE:</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    <span class="keywordflow">return</span> (Val == 0 || Val == 1);</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;  }</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;}</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160; </div>
<div class="line"><a name="l00097"></a><span class="lineno"><a class="line" href="classllvm_1_1LoopVectorizeHints.html#aa68245d8ed8fafd80a06d5092f434093">   97</a></span>&#160;<a class="code" href="classllvm_1_1LoopVectorizeHints.html#aa68245d8ed8fafd80a06d5092f434093">LoopVectorizeHints::LoopVectorizeHints</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L,</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;                                       <span class="keywordtype">bool</span> InterleaveOnlyWhenForced,</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;                                       <a class="code" href="classllvm_1_1OptimizationRemarkEmitter.html">OptimizationRemarkEmitter</a> &amp;ORE,</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;                                       <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetTransformInfo.html">TargetTransformInfo</a> *<a class="code" href="classllvm_1_1TargetTransformInfo.html">TTI</a>)</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    : <a class="code" href="namespacellvm_1_1AMDGPU_1_1Hwreg.html#a6467ebe1e09a75203dd5f14bdfe21d11">Width</a>(<span class="stringliteral">&quot;vectorize.width&quot;</span>, <a class="code" href="structllvm_1_1VectorizerParams.html">VectorizerParams</a>::<a class="code" href="structllvm_1_1VectorizationFactor.html">VectorizationFactor</a>, HK_WIDTH),</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;      Interleave(<span class="stringliteral">&quot;interleave.count&quot;</span>, InterleaveOnlyWhenForced, HK_INTERLEAVE),</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;      Force(<span class="stringliteral">&quot;vectorize.enable&quot;</span>, FK_Undefined, HK_FORCE),</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;      IsVectorized(<span class="stringliteral">&quot;isvectorized&quot;</span>, 0, HK_ISVECTORIZED),</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;      <a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355">Predicate</a>(<span class="stringliteral">&quot;vectorize.predicate.enable&quot;</span>, FK_Undefined, HK_PREDICATE),</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;      Scalable(<span class="stringliteral">&quot;vectorize.scalable.enable&quot;</span>, SK_Unspecified, HK_SCALABLE),</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;      TheLoop(L), ORE(ORE) {</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;  <span class="comment">// Populate values with existing loop metadata.</span></div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;  getHintsFromMetadata();</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160; </div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;  <span class="comment">// force-vector-interleave overrides DisableInterleaving.</span></div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="structllvm_1_1VectorizerParams.html#a5ccaa3f1275b2e841f5c23852d61b872">VectorizerParams::isInterleaveForced</a>())</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    Interleave.Value = <a class="code" href="structllvm_1_1VectorizerParams.html#a6a8f6b7564d1df823a8d8e8dcecf6802">VectorizerParams::VectorizationInterleave</a>;</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160; </div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;  <span class="comment">// If the metadata doesn&#39;t explicitly specify whether to enable scalable</span></div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;  <span class="comment">// vectorization, then decide based on the following criteria (increasing</span></div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;  <span class="comment">// level of priority):</span></div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;  <span class="comment">//  - Target default</span></div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;  <span class="comment">//  - Metadata width</span></div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;  <span class="comment">//  - Force option (always overrides)</span></div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;  <span class="keywordflow">if</span> ((<a class="code" href="classllvm_1_1LoopVectorizeHints.html#a041ce1f90aff1772f662dd0c8e3ec4f4">LoopVectorizeHints::ScalableForceKind</a>)Scalable.Value == <a class="code" href="classllvm_1_1LoopVectorizeHints.html#a041ce1f90aff1772f662dd0c8e3ec4f4a99f04f3a0c3cb69e39acbc12c93b49da">SK_Unspecified</a>) {</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1TargetTransformInfo.html">TTI</a>)</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;      Scalable.Value = <a class="code" href="classllvm_1_1TargetTransformInfo.html">TTI</a>-&gt;<a class="code" href="classllvm_1_1TargetTransformInfo.html#ac912bf74dab55fe744b25c739e29d7b0">enableScalableVectorization</a>() ? <a class="code" href="classllvm_1_1LoopVectorizeHints.html#a041ce1f90aff1772f662dd0c8e3ec4f4a7d9d22c5375d2c00b79a4a897967a2f6">SK_PreferScalable</a></div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;                                                          : <a class="code" href="classllvm_1_1LoopVectorizeHints.html#a041ce1f90aff1772f662dd0c8e3ec4f4ac46ef7a95288338ce20df95d296898f4">SK_FixedWidthOnly</a>;</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160; </div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    <span class="keywordflow">if</span> (Width.Value)</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;      <span class="comment">// If the width is set, but the metadata says nothing about the scalable</span></div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;      <span class="comment">// property, then assume it concerns only a fixed-width UserVF.</span></div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;      <span class="comment">// If width is not set, the flag takes precedence.</span></div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;      Scalable.Value = <a class="code" href="classllvm_1_1LoopVectorizeHints.html#a041ce1f90aff1772f662dd0c8e3ec4f4ac46ef7a95288338ce20df95d296898f4">SK_FixedWidthOnly</a>;</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;  }</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160; </div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;  <span class="comment">// If the flag is set to force any use of scalable vectors, override the loop</span></div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;  <span class="comment">// hints.</span></div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="LoopVectorizationLegality_8cpp.html#a71ba85cda6597e7ae08075d333e42a78">ForceScalableVectorization</a>.getValue() !=</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;      <a class="code" href="classllvm_1_1LoopVectorizeHints.html#a041ce1f90aff1772f662dd0c8e3ec4f4a99f04f3a0c3cb69e39acbc12c93b49da">LoopVectorizeHints::SK_Unspecified</a>)</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    Scalable.Value = <a class="code" href="LoopVectorizationLegality_8cpp.html#a71ba85cda6597e7ae08075d333e42a78">ForceScalableVectorization</a>.getValue();</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160; </div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;  <span class="comment">// Scalable vectorization is disabled if no preference is specified.</span></div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;  <span class="keywordflow">if</span> ((<a class="code" href="classllvm_1_1LoopVectorizeHints.html#a041ce1f90aff1772f662dd0c8e3ec4f4">LoopVectorizeHints::ScalableForceKind</a>)Scalable.Value == <a class="code" href="classllvm_1_1LoopVectorizeHints.html#a041ce1f90aff1772f662dd0c8e3ec4f4a99f04f3a0c3cb69e39acbc12c93b49da">SK_Unspecified</a>)</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    Scalable.Value = <a class="code" href="classllvm_1_1LoopVectorizeHints.html#a041ce1f90aff1772f662dd0c8e3ec4f4ac46ef7a95288338ce20df95d296898f4">SK_FixedWidthOnly</a>;</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160; </div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;  <span class="keywordflow">if</span> (IsVectorized.Value != 1)</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    <span class="comment">// If the vectorization width and interleaving count are both 1 then</span></div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    <span class="comment">// consider the loop to have been already vectorized because there&#39;s</span></div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    <span class="comment">// nothing more that we can do.</span></div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    IsVectorized.Value =</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;        <a class="code" href="classllvm_1_1LoopVectorizeHints.html#a50cae5c2df432357d50f182d310ce7b7">getWidth</a>() == <a class="code" href="classllvm_1_1ElementCount.html#a584cb8dfa0090b33a969c4dda27337f6">ElementCount::getFixed</a>(1) &amp;&amp; <a class="code" href="classllvm_1_1LoopVectorizeHints.html#ad98353127dbeb649d41ca07da5074b49">getInterleave</a>() == 1;</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<span class="keywordflow">if</span> (InterleaveOnlyWhenForced &amp;&amp; <a class="code" href="classllvm_1_1LoopVectorizeHints.html#ad98353127dbeb649d41ca07da5074b49">getInterleave</a>() == 1) <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>()</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;             &lt;&lt; <span class="stringliteral">&quot;LV: Interleaving disabled by the pass manager\n&quot;</span>);</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;}</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160; </div>
<div class="line"><a name="l00153"></a><span class="lineno"><a class="line" href="classllvm_1_1LoopVectorizeHints.html#aa2f5ef2d522fb80de283a23d5bed6d86">  153</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1LoopVectorizeHints.html#aa2f5ef2d522fb80de283a23d5bed6d86">LoopVectorizeHints::setAlreadyVectorized</a>() {</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;  <a class="code" href="classllvm_1_1LLVMContext.html">LLVMContext</a> &amp;<a class="code" href="NVVMIntrRange_8cpp.html#afad351d7bf10ac0446b64e7827634e94">Context</a> = TheLoop-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a58c5b170ea68b41e94ebb0019523a68f">getHeader</a>()-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#aa286a0f7f5d38488d593bb7ef0ba183e">getContext</a>();</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160; </div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;  <a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *IsVectorizedMD = <a class="code" href="classllvm_1_1MDNode.html#a7d10a7b9b7f40b04d27ed97c38ea1950">MDNode::get</a>(</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;      <a class="code" href="NVVMIntrRange_8cpp.html#afad351d7bf10ac0446b64e7827634e94">Context</a>,</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;      {<a class="code" href="classllvm_1_1MDString.html#affbb7e2e9ad8d18114816f2443d672b9">MDString::get</a>(<a class="code" href="NVVMIntrRange_8cpp.html#afad351d7bf10ac0446b64e7827634e94">Context</a>, <span class="stringliteral">&quot;llvm.loop.isvectorized&quot;</span>),</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;       <a class="code" href="classllvm_1_1ConstantAsMetadata.html#a703ab6c3e14ff7565866468d731f537a">ConstantAsMetadata::get</a>(<a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(<a class="code" href="NVVMIntrRange_8cpp.html#afad351d7bf10ac0446b64e7827634e94">Context</a>, <a class="code" href="classllvm_1_1APInt.html">APInt</a>(32, 1)))});</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;  <a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *LoopID = TheLoop-&gt;<a class="code" href="classllvm_1_1Loop.html#afbcd78588d5235f99698b5c30f591382">getLoopID</a>();</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;  <a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *NewLoopID =</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;      <a class="code" href="namespacellvm.html#ac8a1ae2e1de53a840bee516d1f5bb173">makePostTransformationMetadata</a>(<a class="code" href="NVVMIntrRange_8cpp.html#afad351d7bf10ac0446b64e7827634e94">Context</a>, LoopID,</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;                                     {<a class="code" href="classllvm_1_1Twine.html">Twine</a>(Prefix(), <span class="stringliteral">&quot;vectorize.&quot;</span>).<a class="code" href="classllvm_1_1Twine.html#a4c1c1093a7749409c70838678514cc7c">str</a>(),</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;                                      <a class="code" href="classllvm_1_1Twine.html">Twine</a>(Prefix(), <span class="stringliteral">&quot;interleave.&quot;</span>).<a class="code" href="classllvm_1_1Twine.html#a4c1c1093a7749409c70838678514cc7c">str</a>()},</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;                                     {IsVectorizedMD});</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;  TheLoop-&gt;<a class="code" href="classllvm_1_1Loop.html#adf4be757fa30ca7fe3e8b119438100f0">setLoopID</a>(NewLoopID);</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160; </div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;  <span class="comment">// Update internal cache.</span></div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;  IsVectorized.Value = 1;</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;}</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160; </div>
<div class="line"><a name="l00172"></a><span class="lineno"><a class="line" href="classllvm_1_1LoopVectorizeHints.html#a21b6d9e2aa12c8c68d8e2f122ec7ecec">  172</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1LoopVectorizeHints.html#a21b6d9e2aa12c8c68d8e2f122ec7ecec">LoopVectorizeHints::allowVectorization</a>(</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    <a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L, <span class="keywordtype">bool</span> VectorizeOnlyWhenForced)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1LoopVectorizeHints.html#a20ecacbd54e401685d798d86161af6cf">getForce</a>() == <a class="code" href="classllvm_1_1LoopVectorizeHints.html#a55ab1072c44295ad279535d714a0f33ea980c2c6e59ca5dcf413baa325d8bc385">LoopVectorizeHints::FK_Disabled</a>) {</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;LV: Not vectorizing: #pragma vectorize disable.\n&quot;</span>);</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    <a class="code" href="classllvm_1_1LoopVectorizeHints.html#a440979b6103588bef39bd2d62065d5ff">emitRemarkWithHints</a>();</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;  }</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160; </div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;  <span class="keywordflow">if</span> (VectorizeOnlyWhenForced &amp;&amp; <a class="code" href="classllvm_1_1LoopVectorizeHints.html#a20ecacbd54e401685d798d86161af6cf">getForce</a>() != <a class="code" href="classllvm_1_1LoopVectorizeHints.html#a55ab1072c44295ad279535d714a0f33ea278ca681847fb2bad9707f76d899b231">LoopVectorizeHints::FK_Enabled</a>) {</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;LV: Not vectorizing: No #pragma vectorize enable.\n&quot;</span>);</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    <a class="code" href="classllvm_1_1LoopVectorizeHints.html#a440979b6103588bef39bd2d62065d5ff">emitRemarkWithHints</a>();</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;  }</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160; </div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1LoopVectorizeHints.html#af0277f27ebe0f8317170a739b2080d0c">getIsVectorized</a>() == 1) {</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;LV: Not vectorizing: Disabled/already vectorized.\n&quot;</span>);</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    <span class="comment">// FIXME: Add interleave.disable metadata. This will allow</span></div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    <span class="comment">// vectorize.disable to be used without disabling the pass and errors</span></div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    <span class="comment">// to differentiate between disabled vectorization and a width of 1.</span></div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    ORE.<a class="code" href="classllvm_1_1OptimizationRemarkEmitter.html#aae6a98aea85aa3af87357cc5448db499">emit</a>([&amp;]() {</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1OptimizationRemarkAnalysis.html">OptimizationRemarkAnalysis</a>(<a class="code" href="classllvm_1_1LoopVectorizeHints.html#abcf8c2b35316773f1ab0ba70aeb2a6de">vectorizeAnalysisPassName</a>(),</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;                                        <span class="stringliteral">&quot;AllDisabled&quot;</span>, L-&gt;<a class="code" href="classllvm_1_1Loop.html#a615131659002c10601eef598d42d025e">getStartLoc</a>(),</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;                                        L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a58c5b170ea68b41e94ebb0019523a68f">getHeader</a>())</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;             &lt;&lt; <span class="stringliteral">&quot;loop not vectorized: vectorization and interleaving are &quot;</span></div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;                <span class="stringliteral">&quot;explicitly disabled, or the loop has already been &quot;</span></div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;                <span class="stringliteral">&quot;vectorized&quot;</span>;</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    });</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;  }</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160; </div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;}</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160; </div>
<div class="line"><a name="l00205"></a><span class="lineno"><a class="line" href="classllvm_1_1LoopVectorizeHints.html#a440979b6103588bef39bd2d62065d5ff">  205</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1LoopVectorizeHints.html#a440979b6103588bef39bd2d62065d5ff">LoopVectorizeHints::emitRemarkWithHints</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;  <span class="keyword">using namespace </span>ore;</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160; </div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;  ORE.emit([&amp;]() {</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    <span class="keywordflow">if</span> (Force.Value == <a class="code" href="classllvm_1_1LoopVectorizeHints.html#a55ab1072c44295ad279535d714a0f33ea980c2c6e59ca5dcf413baa325d8bc385">LoopVectorizeHints::FK_Disabled</a>)</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1OptimizationRemarkMissed.html">OptimizationRemarkMissed</a>(<a class="code" href="LoopVectorizationLegality_8cpp.html#a0eff4a8bccb143ae91e197e6a59d4692">LV_NAME</a>, <span class="stringliteral">&quot;MissedExplicitlyDisabled&quot;</span>,</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;                                      TheLoop-&gt;getStartLoc(),</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;                                      TheLoop-&gt;getHeader())</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;             &lt;&lt; <span class="stringliteral">&quot;loop not vectorized: vectorization is explicitly disabled&quot;</span>;</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;      OptimizationRemarkMissed R(LV_NAME, <span class="stringliteral">&quot;MissedDetails&quot;</span>,</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;                                 TheLoop-&gt;getStartLoc(), TheLoop-&gt;getHeader());</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;      R &lt;&lt; <span class="stringliteral">&quot;loop not vectorized&quot;</span>;</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;      if (Force.Value == LoopVectorizeHints::FK_Enabled) {</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;        R &lt;&lt; <span class="stringliteral">&quot; (Force=&quot;</span> &lt;&lt; NV(<span class="stringliteral">&quot;Force&quot;</span>, true);</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;        if (Width.Value != 0)</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;          R &lt;&lt; <span class="stringliteral">&quot;, Vector Width=&quot;</span> &lt;&lt; NV(<span class="stringliteral">&quot;VectorWidth&quot;</span>, getWidth());</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;        if (getInterleave() != 0)</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;          R &lt;&lt; <span class="stringliteral">&quot;, Interleave Count=&quot;</span> &lt;&lt; NV(<span class="stringliteral">&quot;InterleaveCount&quot;</span>, getInterleave());</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;        R &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>;</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;      }</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;      <span class="keywordflow">return</span> R;</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    }</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;  });</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;}</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160; </div>
<div class="line"><a name="l00231"></a><span class="lineno"><a class="line" href="classllvm_1_1LoopVectorizeHints.html#abcf8c2b35316773f1ab0ba70aeb2a6de">  231</a></span>&#160;<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="classllvm_1_1LoopVectorizeHints.html#abcf8c2b35316773f1ab0ba70aeb2a6de">LoopVectorizeHints::vectorizeAnalysisPassName</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1LoopVectorizeHints.html#a50cae5c2df432357d50f182d310ce7b7">getWidth</a>() == <a class="code" href="classllvm_1_1ElementCount.html#a584cb8dfa0090b33a969c4dda27337f6">ElementCount::getFixed</a>(1))</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="LoopVectorizationLegality_8cpp.html#a0eff4a8bccb143ae91e197e6a59d4692">LV_NAME</a>;</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1LoopVectorizeHints.html#a20ecacbd54e401685d798d86161af6cf">getForce</a>() == <a class="code" href="classllvm_1_1LoopVectorizeHints.html#a55ab1072c44295ad279535d714a0f33ea980c2c6e59ca5dcf413baa325d8bc385">LoopVectorizeHints::FK_Disabled</a>)</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="LoopVectorizationLegality_8cpp.html#a0eff4a8bccb143ae91e197e6a59d4692">LV_NAME</a>;</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1LoopVectorizeHints.html#a20ecacbd54e401685d798d86161af6cf">getForce</a>() == <a class="code" href="classllvm_1_1LoopVectorizeHints.html#a55ab1072c44295ad279535d714a0f33ea8914fe2dbf82d457456e8e4faa201b87">LoopVectorizeHints::FK_Undefined</a> &amp;&amp; <a class="code" href="classllvm_1_1LoopVectorizeHints.html#a50cae5c2df432357d50f182d310ce7b7">getWidth</a>().<a class="code" href="Lint_8cpp.html#a45005634b54e2126cb3e6ec0dbc9ade4">isZero</a>())</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="LoopVectorizationLegality_8cpp.html#a0eff4a8bccb143ae91e197e6a59d4692">LV_NAME</a>;</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1OptimizationRemarkAnalysis.html#aa17011a05879d3698f829ff869dc9a88">OptimizationRemarkAnalysis::AlwaysPrint</a>;</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;}</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160; </div>
<div class="line"><a name="l00241"></a><span class="lineno"><a class="line" href="classllvm_1_1LoopVectorizeHints.html#a2b74e08f930d32c0d31482179fd0a805">  241</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1LoopVectorizeHints.html#a2b74e08f930d32c0d31482179fd0a805">LoopVectorizeHints::allowReordering</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;  <span class="comment">// Allow the vectorizer to change the order of operations if enabling</span></div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;  <span class="comment">// loop hints are provided</span></div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;  <a class="code" href="classllvm_1_1ElementCount.html">ElementCount</a> EC = <a class="code" href="classllvm_1_1LoopVectorizeHints.html#a50cae5c2df432357d50f182d310ce7b7">getWidth</a>();</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a5c07c8a7581497982e109b2baa22fa3f">HintsAllowReordering</a> &amp;&amp;</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;         (<a class="code" href="classllvm_1_1LoopVectorizeHints.html#a20ecacbd54e401685d798d86161af6cf">getForce</a>() == <a class="code" href="classllvm_1_1LoopVectorizeHints.html#a55ab1072c44295ad279535d714a0f33ea278ca681847fb2bad9707f76d899b231">LoopVectorizeHints::FK_Enabled</a> ||</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;          EC.getKnownMinValue() &gt; 1);</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;}</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160; </div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;<span class="keywordtype">void</span> LoopVectorizeHints::getHintsFromMetadata() {</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;  <a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *LoopID = TheLoop-&gt;<a class="code" href="classllvm_1_1Loop.html#afbcd78588d5235f99698b5c30f591382">getLoopID</a>();</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;  <span class="keywordflow">if</span> (!LoopID)</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160; </div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;  <span class="comment">// First operand should refer to the loop id itself.</span></div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(LoopID-&gt;<a class="code" href="classllvm_1_1MDNode.html#aa4068e37ec583962685e3567dc102ae5">getNumOperands</a>() &gt; 0 &amp;&amp; <span class="stringliteral">&quot;requires at least one operand&quot;</span>);</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(LoopID-&gt;<a class="code" href="classllvm_1_1MDNode.html#a6cbc0453586a25c057a32161b38b8ce4">getOperand</a>(0) == LoopID &amp;&amp; <span class="stringliteral">&quot;invalid loop id&quot;</span>);</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160; </div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 1, ie = LoopID-&gt;<a class="code" href="classllvm_1_1MDNode.html#aa4068e37ec583962685e3567dc102ae5">getNumOperands</a>(); <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; ie; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MDString.html">MDString</a> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Metadata *, 4&gt;</a> <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>;</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160; </div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    <span class="comment">// The expected hint is either a MDString or a MDNode with the first</span></div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    <span class="comment">// operand a MDString.</span></div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *MD = dyn_cast&lt;MDNode&gt;(LoopID-&gt;<a class="code" href="classllvm_1_1MDNode.html#a6cbc0453586a25c057a32161b38b8ce4">getOperand</a>(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>))) {</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;      <span class="keywordflow">if</span> (!MD || MD-&gt;getNumOperands() == 0)</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;      <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> = dyn_cast&lt;MDString&gt;(MD-&gt;getOperand(0));</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 1, ie = MD-&gt;getNumOperands(); <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; ie; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;        <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>.push_back(MD-&gt;getOperand(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>));</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;      <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> = dyn_cast&lt;MDString&gt;(LoopID-&gt;<a class="code" href="classllvm_1_1MDNode.html#a6cbc0453586a25c057a32161b38b8ce4">getOperand</a>(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>));</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>.size() == 0 &amp;&amp; <span class="stringliteral">&quot;too many arguments for MDString&quot;</span>);</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    }</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160; </div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>)</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160; </div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    <span class="comment">// Check if the hint starts with the loop metadata prefix.</span></div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> = <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>-&gt;getString();</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>.size() == 1)</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;      setHint(Name, <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>[0]);</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;  }</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;}</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160; </div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;<span class="keywordtype">void</span> LoopVectorizeHints::setHint(<a class="code" href="classllvm_1_1StringRef.html">StringRef</a> Name, <a class="code" href="classllvm_1_1Metadata.html">Metadata</a> *<a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>) {</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(Prefix()))</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;  <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> = <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.substr(Prefix().<a class="code" href="namespacellvm.html#a10f3d955592ae2bc745f57e5b48ae115">size</a>(), <a class="code" href="classllvm_1_1StringRef.html#ad0f54a163ac500b144590640c6f1eb6b">StringRef::npos</a>);</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160; </div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = mdconst::dyn_extract&lt;ConstantInt&gt;(<a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>);</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>)</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;  <span class="keywordtype">unsigned</span> Val = <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;getZExtValue();</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160; </div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;  Hint *Hints[] = {&amp;Width,        &amp;Interleave, &amp;Force,</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;                   &amp;IsVectorized, &amp;Predicate,  &amp;Scalable};</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> *<a class="code" href="MD5_8cpp.html#ae42219072d798876e6b08e6b78614ff6">H</a> : Hints) {</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    <span class="keywordflow">if</span> (Name == <a class="code" href="MD5_8cpp.html#ae42219072d798876e6b08e6b78614ff6">H</a>-&gt;Name) {</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ae42219072d798876e6b08e6b78614ff6">H</a>-&gt;validate(Val))</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;        <a class="code" href="MD5_8cpp.html#ae42219072d798876e6b08e6b78614ff6">H</a>-&gt;Value = Val;</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;        <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;LV: ignoring invalid hint &#39;&quot;</span> &lt;&lt; Name &lt;&lt; <span class="stringliteral">&quot;&#39;\n&quot;</span>);</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    }</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;  }</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;}</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160; </div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;<span class="comment">// Return true if the inner loop \p Lp is uniform with regard to the outer loop</span></div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;<span class="comment">// \p OuterLp (i.e., if the outer loop is vectorized, all the vector lanes</span></div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;<span class="comment">// executing the inner loop will execute the same iterations). This check is</span></div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;<span class="comment">// very constrained for now but it will be relaxed in the future. \p Lp is</span></div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;<span class="comment">// considered uniform if it meets all the following conditions:</span></div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;<span class="comment">//   1) it has a canonical IV (starting from 0 and with stride 1),</span></div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;<span class="comment">//   2) its latch terminator is a conditional branch and,</span></div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;<span class="comment">//   3) its latch condition is a compare instruction whose operands are the</span></div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;<span class="comment">//      canonical IV and an OuterLp invariant.</span></div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;<span class="comment">// This check doesn&#39;t take into account the uniformity of other conditions not</span></div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;<span class="comment">// related to the loop latch because they don&#39;t affect the loop uniformity.</span></div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;<span class="comment">// NOTE: We decided to keep all these checks and its associated documentation</span></div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;<span class="comment">// together so that we can easily have a picture of the current supported loop</span></div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;<span class="comment">// nests. However, some of the current checks don&#39;t depend on \p OuterLp and</span></div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;<span class="comment">// would be redundantly executed for each \p Lp if we invoked this function for</span></div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;<span class="comment">// different candidate outer loops. This is not the case for now because we</span></div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;<span class="comment">// don&#39;t currently have the infrastructure to evaluate multiple candidate outer</span></div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;<span class="comment">// loops and \p OuterLp will be a fixed parameter while we only support explicit</span></div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;<span class="comment">// outer loop vectorization. It&#39;s also very likely that these checks go away</span></div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;<span class="comment">// before introducing the aforementioned infrastructure. However, if this is not</span></div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;<span class="comment">// the case, we should move the \p OuterLp independent checks to a separate</span></div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;<span class="comment">// function that is only executed once for each \p Lp.</span></div>
<div class="line"><a name="l00332"></a><span class="lineno"><a class="line" href="namespacellvm.html#a3eb7a9b091032d4d053727b7a578a97e">  332</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="namespacellvm.html#a3eb7a9b091032d4d053727b7a578a97e">isUniformLoop</a>(<a class="code" href="classllvm_1_1Loop.html">Loop</a> *Lp, <a class="code" href="classllvm_1_1Loop.html">Loop</a> *OuterLp) {</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Lp-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a1230fd674d2609b96527fe65eaf40b1b">getLoopLatch</a>() &amp;&amp; <span class="stringliteral">&quot;Expected loop with a single latch.&quot;</span>);</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160; </div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;  <span class="comment">// If Lp is the outer loop, it&#39;s uniform by definition.</span></div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;  <span class="keywordflow">if</span> (Lp == OuterLp)</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(OuterLp-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a04337b572d34ea413c35dbac5d75530b">contains</a>(Lp) &amp;&amp; <span class="stringliteral">&quot;OuterLp must contain Lp.&quot;</span>);</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160; </div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;  <span class="comment">// 1.</span></div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;  <a class="code" href="classllvm_1_1PHINode.html">PHINode</a> *<a class="code" href="blake3__impl_8h.html#a78823051d1dad34b9b3d8120112e674d">IV</a> = Lp-&gt;<a class="code" href="classllvm_1_1Loop.html#ae731e6e33c2f2a9a6ebd1d51886ce534">getCanonicalInductionVariable</a>();</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="blake3__impl_8h.html#a78823051d1dad34b9b3d8120112e674d">IV</a>) {</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;LV: Canonical IV not found.\n&quot;</span>);</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;  }</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160; </div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;  <span class="comment">// 2.</span></div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;  <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *Latch = Lp-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a1230fd674d2609b96527fe65eaf40b1b">getLoopLatch</a>();</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;  <span class="keyword">auto</span> *LatchBr = dyn_cast&lt;BranchInst&gt;(Latch-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#a8de021e28a3c04c9216ad8decf104f02">getTerminator</a>());</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;  <span class="keywordflow">if</span> (!LatchBr || LatchBr-&gt;isUnconditional()) {</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;LV: Unsupported loop latch branch.\n&quot;</span>);</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;  }</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160; </div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;  <span class="comment">// 3.</span></div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;  <span class="keyword">auto</span> *LatchCmp = dyn_cast&lt;CmpInst&gt;(LatchBr-&gt;getCondition());</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;  <span class="keywordflow">if</span> (!LatchCmp) {</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;        <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;LV: Loop latch condition is not a compare instruction.\n&quot;</span>);</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;  }</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160; </div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *CondOp0 = LatchCmp-&gt;getOperand(0);</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *CondOp1 = LatchCmp-&gt;getOperand(1);</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *IVUpdate = <a class="code" href="blake3__impl_8h.html#a78823051d1dad34b9b3d8120112e674d">IV</a>-&gt;getIncomingValueForBlock(Latch);</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;  <span class="keywordflow">if</span> (!(CondOp0 == IVUpdate &amp;&amp; OuterLp-&gt;<a class="code" href="classllvm_1_1Loop.html#a6cb6a58fb0ded82b4c7755fc4c27c86d">isLoopInvariant</a>(CondOp1)) &amp;&amp;</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;      !(CondOp1 == IVUpdate &amp;&amp; OuterLp-&gt;<a class="code" href="classllvm_1_1Loop.html#a6cb6a58fb0ded82b4c7755fc4c27c86d">isLoopInvariant</a>(CondOp0))) {</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;LV: Loop latch condition is not uniform.\n&quot;</span>);</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;  }</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160; </div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;}</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160; </div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;<span class="comment">// Return true if \p Lp and all its nested loops are uniform with regard to \p</span></div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;<span class="comment">// OuterLp.</span></div>
<div class="line"><a name="l00377"></a><span class="lineno"><a class="line" href="namespacellvm.html#a38188bfbc3e0351184ed6587bafe8b6a">  377</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="namespacellvm.html#a38188bfbc3e0351184ed6587bafe8b6a">isUniformLoopNest</a>(<a class="code" href="classllvm_1_1Loop.html">Loop</a> *Lp, <a class="code" href="classllvm_1_1Loop.html">Loop</a> *OuterLp) {</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm.html#a3eb7a9b091032d4d053727b7a578a97e">isUniformLoop</a>(Lp, OuterLp))</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160; </div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;  <span class="comment">// Check if nested loops are uniform.</span></div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Loop.html">Loop</a> *SubLp : *Lp)</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm.html#a38188bfbc3e0351184ed6587bafe8b6a">isUniformLoopNest</a>(SubLp, OuterLp))</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160; </div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;}</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160; </div>
<div class="line"><a name="l00389"></a><span class="lineno"><a class="line" href="namespacellvm.html#ab7a212b8bf3c8a58d41471f26dd547c3">  389</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1Type.html">Type</a> *<a class="code" href="namespacellvm.html#ab7a212b8bf3c8a58d41471f26dd547c3">convertPointerToIntegerType</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="classllvm_1_1Type.html">Type</a> *Ty) {</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;  <span class="keywordflow">if</span> (Ty-&gt;<a class="code" href="classllvm_1_1Type.html#a3b996fbf8458aafffc86cb98a68d0a47">isPointerTy</a>())</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>.getIntPtrType(Ty);</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160; </div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;  <span class="comment">// It is possible that char&#39;s or short&#39;s overflow when we ask for the loop&#39;s</span></div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;  <span class="comment">// trip count, work around this by changing the type size.</span></div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;  <span class="keywordflow">if</span> (Ty-&gt;<a class="code" href="classllvm_1_1Type.html#a9f382207d841377156d4c7868b66b9a5">getScalarSizeInBits</a>() &lt; 32)</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Type.html#a30dd396c5b40cd86c1591872e574ccdf">Type::getInt32Ty</a>(Ty-&gt;<a class="code" href="classllvm_1_1Type.html#a0566221f10834bfcea70965379745a20">getContext</a>());</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160; </div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;  <span class="keywordflow">return</span> Ty;</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;}</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160; </div>
<div class="line"><a name="l00401"></a><span class="lineno"><a class="line" href="namespacellvm.html#a6303423d3eefbd808b7d97a62ee1c523">  401</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1Type.html">Type</a> *<a class="code" href="namespacellvm.html#a6303423d3eefbd808b7d97a62ee1c523">getWiderType</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="classllvm_1_1Type.html">Type</a> *Ty0, <a class="code" href="classllvm_1_1Type.html">Type</a> *Ty1) {</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;  Ty0 = <a class="code" href="namespacellvm.html#ab7a212b8bf3c8a58d41471f26dd547c3">convertPointerToIntegerType</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, Ty0);</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;  Ty1 = <a class="code" href="namespacellvm.html#ab7a212b8bf3c8a58d41471f26dd547c3">convertPointerToIntegerType</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, Ty1);</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;  <span class="keywordflow">if</span> (Ty0-&gt;<a class="code" href="classllvm_1_1Type.html#a9f382207d841377156d4c7868b66b9a5">getScalarSizeInBits</a>() &gt; Ty1-&gt;<a class="code" href="classllvm_1_1Type.html#a9f382207d841377156d4c7868b66b9a5">getScalarSizeInBits</a>())</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;    <span class="keywordflow">return</span> Ty0;</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;  <span class="keywordflow">return</span> Ty1;</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;}</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;<span class="comment">/// Check that the instruction has outside loop users and is not an</span></div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;<span class="comment">/// identified reduction variable.</span></div>
<div class="line"><a name="l00411"></a><span class="lineno"><a class="line" href="namespacellvm.html#a89f41bef45732023f8662884065cd058">  411</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="namespacellvm.html#a89f41bef45732023f8662884065cd058">hasOutsideLoopUser</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *TheLoop, <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *Inst,</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;                               <a class="code" href="classllvm_1_1SmallPtrSetImpl.html">SmallPtrSetImpl&lt;Value *&gt;</a> &amp;AllowedExit) {</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;  <span class="comment">// Reductions, Inductions and non-header phis are allowed to have exit users. All</span></div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;  <span class="comment">// other instructions must not have external users.</span></div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;  <span class="keywordflow">if</span> (!AllowedExit.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a1f475b0df44ebd7169e720fa1bf9169e">count</a>(Inst))</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;    <span class="comment">// Check that all of the users of the loop are inside the BB.</span></div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1User.html">User</a> *U : Inst-&gt;<a class="code" href="classllvm_1_1Value.html#ab4e0512c7e1c7adaa56677e3155685f1">users</a>()) {</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;      <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *UI = cast&lt;Instruction&gt;(U);</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;      <span class="comment">// This user may be a reduction exit value.</span></div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;      <span class="keywordflow">if</span> (!TheLoop-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a04337b572d34ea413c35dbac5d75530b">contains</a>(UI)) {</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;        <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;LV: Found an outside user for : &quot;</span> &lt;&lt; *UI &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;      }</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;    }</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;}</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;<span class="comment">/// Returns true if A and B have same pointer operands or same SCEVs addresses</span></div>
<div class="line"><a name="l00429"></a><span class="lineno"><a class="line" href="namespacellvm.html#a9a89ad752842d42f055dc74cc19303c3">  429</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="namespacellvm.html#a9a89ad752842d42f055dc74cc19303c3">storeToSameAddress</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html">ScalarEvolution</a> *SE, <a class="code" href="classllvm_1_1StoreInst.html">StoreInst</a> *A,</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;                               <a class="code" href="classllvm_1_1StoreInst.html">StoreInst</a> *<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>) {</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;  <span class="comment">// Compare store</span></div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;  <span class="keywordflow">if</span> (A == <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>)</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160; </div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;  <span class="comment">// Otherwise Compare pointers</span></div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *APtr = A-&gt;getPointerOperand();</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *BPtr = <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>-&gt;getPointerOperand();</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;  <span class="keywordflow">if</span> (APtr == BPtr)</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160; </div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;  <span class="comment">// Otherwise compare address SCEVs</span></div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;  <span class="keywordflow">if</span> (SE-&gt;<a class="code" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(APtr) == SE-&gt;<a class="code" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(BPtr))</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160; </div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;}</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160; </div>
<div class="line"><a name="l00448"></a><span class="lineno"><a class="line" href="classllvm_1_1LoopVectorizationLegality.html#a4589ea484ebe1919b451fff3948a17cc">  448</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="classllvm_1_1LoopVectorizationLegality.html#a4589ea484ebe1919b451fff3948a17cc">LoopVectorizationLegality::isConsecutivePtr</a>(<a class="code" href="classllvm_1_1Type.html">Type</a> *AccessTy,</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;                                                <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1DenseMap.html">ValueToValueMap</a> &amp;Strides =</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;      getSymbolicStrides() ? *getSymbolicStrides() : <a class="code" href="namespacellvm.html#a16c2d9dca68e87344796fd3d394005b6">ValueToValueMap</a>();</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160; </div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;  <a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> = TheLoop-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a58c5b170ea68b41e94ebb0019523a68f">getHeader</a>()-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#a38bee869ad41aebfef3de2641b12004c">getParent</a>();</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;  <span class="keywordtype">bool</span> OptForSize = <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;hasOptSize() ||</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;                    <a class="code" href="namespacellvm.html#a3af72f14ea20f2c762c751d2d49e5ea3">llvm::shouldOptimizeForSize</a>(TheLoop-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a58c5b170ea68b41e94ebb0019523a68f">getHeader</a>(), PSI, BFI,</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;                                                <a class="code" href="namespacellvm.html#aec7c967a5416fa6e154433965357a50ea089e7eb4db258e05f70eef4ed5aa10bb">PGSOQueryType::IRPass</a>);</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;  <span class="keywordtype">bool</span> CanAddPredicate = !OptForSize;</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;  <span class="keywordtype">int</span> Stride = <a class="code" href="namespacellvm.html#a28b07f998a7dc2d159f32733f132de31">getPtrStride</a>(PSE, AccessTy, <a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>, TheLoop, Strides,</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;                            CanAddPredicate, <span class="keyword">false</span>).value_or(0);</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;  <span class="keywordflow">if</span> (Stride == 1 || Stride == -1)</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;    <span class="keywordflow">return</span> Stride;</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;  <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;}</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160; </div>
<div class="line"><a name="l00465"></a><span class="lineno"><a class="line" href="classllvm_1_1LoopVectorizationLegality.html#a81955f0baa44d5e0e564520ceed9c789">  465</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1LoopVectorizationLegality.html#a81955f0baa44d5e0e564520ceed9c789">LoopVectorizationLegality::isUniform</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *V)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;  <span class="keywordflow">return</span> LAI-&gt;<a class="code" href="classllvm_1_1LoopAccessInfo.html#a24eb2d9c42c36950317f2666255d7535">isUniform</a>(V);</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;}</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160; </div>
<div class="line"><a name="l00469"></a><span class="lineno"><a class="line" href="classllvm_1_1LoopVectorizationLegality.html#af593134e27871d44a016de05492a4f41">  469</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1LoopVectorizationLegality.html#af593134e27871d44a016de05492a4f41">LoopVectorizationLegality::isUniformMemOp</a>(<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a> = <a class="code" href="namespacellvm.html#aee44336886a06f3c1b8c35c701ba8316">getLoadStorePointerOperand</a>(&amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>)</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;  <span class="comment">// Note: There&#39;s nothing inherent which prevents predicated loads and</span></div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;  <span class="comment">// stores from being uniform.  The current lowering simply doesn&#39;t handle</span></div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;  <span class="comment">// it; in particular, the cost model distinguishes scatter/gather from</span></div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;  <span class="comment">// scalar w/predication, and we currently rely on the scalar path.</span></div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1LoopVectorizationLegality.html#a81955f0baa44d5e0e564520ceed9c789">isUniform</a>(<a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>) &amp;&amp; !<a class="code" href="classllvm_1_1LoopVectorizationLegality.html#a3b78b24a3c241e611957b82cd12640da">blockNeedsPredication</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getParent());</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;}</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160; </div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;<span class="keywordtype">bool</span> LoopVectorizationLegality::canVectorizeOuterLoop() {</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!TheLoop-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a16165c1e5da45acaa086c3a54a188d34">isInnermost</a>() &amp;&amp; <span class="stringliteral">&quot;We are not vectorizing an outer loop.&quot;</span>);</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;  <span class="comment">// Store the result and return it at the end instead of exiting early, in case</span></div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;  <span class="comment">// allowExtraAnalysis is used to report multiple reasons for not vectorizing.</span></div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;  <span class="keywordtype">bool</span> Result = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;  <span class="keywordtype">bool</span> DoExtraAnalysis = ORE-&gt;<a class="code" href="classllvm_1_1OptimizationRemarkEmitter.html#a74b26949a0dd7a5fab2ba1b0da204e50">allowExtraAnalysis</a>(<a class="code" href="LoopVectorizationLegality_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">DEBUG_TYPE</a>);</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160; </div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a> : TheLoop-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a40f34cc77d2b3bc73384f535c8101858">blocks</a>()) {</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;    <span class="comment">// Check whether the BB terminator is a BranchInst. Any other terminator is</span></div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;    <span class="comment">// not supported yet.</span></div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;    <span class="keyword">auto</span> *Br = dyn_cast&lt;BranchInst&gt;(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>-&gt;getTerminator());</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;    <span class="keywordflow">if</span> (!Br) {</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;      <a class="code" href="namespacellvm.html#ab425bb10a0f4af749bbb29aa07fc6854">reportVectorizationFailure</a>(<span class="stringliteral">&quot;Unsupported basic block terminator&quot;</span>,</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;          <span class="stringliteral">&quot;loop control flow is not understood by vectorizer&quot;</span>,</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;          <span class="stringliteral">&quot;CFGNotUnderstood&quot;</span>, ORE, TheLoop);</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;      <span class="keywordflow">if</span> (DoExtraAnalysis)</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;        Result = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;    }</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160; </div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;    <span class="comment">// Check whether the BranchInst is a supported one. Only unconditional</span></div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;    <span class="comment">// branches, conditional branches with an outer loop invariant condition or</span></div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;    <span class="comment">// backedges are supported.</span></div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;    <span class="comment">// FIXME: We skip these checks when VPlan predication is enabled as we</span></div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;    <span class="comment">// want to allow divergent branches. This whole check will be removed</span></div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;    <span class="comment">// once VPlan predication is on by default.</span></div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;    <span class="keywordflow">if</span> (Br &amp;&amp; Br-&gt;isConditional() &amp;&amp;</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;        !TheLoop-&gt;<a class="code" href="classllvm_1_1Loop.html#a6cb6a58fb0ded82b4c7755fc4c27c86d">isLoopInvariant</a>(Br-&gt;getCondition()) &amp;&amp;</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;        !LI-&gt;<a class="code" href="classllvm_1_1LoopInfoBase.html#a727d0e43acb5bfa1468c281ee3eef91f">isLoopHeader</a>(Br-&gt;getSuccessor(0)) &amp;&amp;</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;        !LI-&gt;<a class="code" href="classllvm_1_1LoopInfoBase.html#a727d0e43acb5bfa1468c281ee3eef91f">isLoopHeader</a>(Br-&gt;getSuccessor(1))) {</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;      <a class="code" href="namespacellvm.html#ab425bb10a0f4af749bbb29aa07fc6854">reportVectorizationFailure</a>(<span class="stringliteral">&quot;Unsupported conditional branch&quot;</span>,</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;          <span class="stringliteral">&quot;loop control flow is not understood by vectorizer&quot;</span>,</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;          <span class="stringliteral">&quot;CFGNotUnderstood&quot;</span>, ORE, TheLoop);</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;      <span class="keywordflow">if</span> (DoExtraAnalysis)</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;        Result = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;    }</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;  }</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160; </div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;  <span class="comment">// Check whether inner loops are uniform. At this point, we only support</span></div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;  <span class="comment">// simple outer loops scenarios with uniform nested loops.</span></div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm.html#a38188bfbc3e0351184ed6587bafe8b6a">isUniformLoopNest</a>(TheLoop <span class="comment">/*loop nest*/</span>,</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;                         TheLoop <span class="comment">/*context outer loop*/</span>)) {</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;    <a class="code" href="namespacellvm.html#ab425bb10a0f4af749bbb29aa07fc6854">reportVectorizationFailure</a>(<span class="stringliteral">&quot;Outer loop contains divergent loops&quot;</span>,</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;        <span class="stringliteral">&quot;loop control flow is not understood by vectorizer&quot;</span>,</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;        <span class="stringliteral">&quot;CFGNotUnderstood&quot;</span>, ORE, TheLoop);</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;    <span class="keywordflow">if</span> (DoExtraAnalysis)</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;      <a class="code" href="namespacellvm_1_1ms__demangle.html#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">Result</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;  }</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160; </div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;  <span class="comment">// Check whether we are able to set up outer loop induction.</span></div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;  <span class="keywordflow">if</span> (!setupOuterLoopInductions()) {</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;    <a class="code" href="namespacellvm.html#ab425bb10a0f4af749bbb29aa07fc6854">reportVectorizationFailure</a>(<span class="stringliteral">&quot;Unsupported outer loop Phi(s)&quot;</span>,</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;                               <span class="stringliteral">&quot;Unsupported outer loop Phi(s)&quot;</span>,</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;                               <span class="stringliteral">&quot;UnsupportedPhi&quot;</span>, ORE, TheLoop);</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;    <span class="keywordflow">if</span> (DoExtraAnalysis)</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;      <a class="code" href="namespacellvm_1_1ms__demangle.html#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">Result</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;  }</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160; </div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1ms__demangle.html#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">Result</a>;</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;}</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160; </div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;<span class="keywordtype">void</span> LoopVectorizationLegality::addInductionPhi(</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;    <a class="code" href="classllvm_1_1PHINode.html">PHINode</a> *Phi, <span class="keyword">const</span> <a class="code" href="classllvm_1_1InductionDescriptor.html">InductionDescriptor</a> &amp;<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>,</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;    <a class="code" href="classllvm_1_1SmallPtrSetImpl.html">SmallPtrSetImpl&lt;Value *&gt;</a> &amp;AllowedExit) {</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;  Inductions[Phi] = <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>;</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160; </div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;  <span class="comment">// In case this induction also comes with casts that we know we can ignore</span></div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;  <span class="comment">// in the vectorized loop body, record them here. All casts could be recorded</span></div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;  <span class="comment">// here for ignoring, but suffices to record only the first (as it is the</span></div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;  <span class="comment">// only one that may bw used outside the cast sequence).</span></div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;Instruction *&gt;</a> &amp;Casts = <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>.getCastInsts();</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;  <span class="keywordflow">if</span> (!Casts.empty())</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;    InductionCastsToIgnore.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">insert</a>(*Casts.begin());</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160; </div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *PhiTy = Phi-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>();</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a> = Phi-&gt;<a class="code" href="classllvm_1_1Instruction.html#a4ba3a5be6c0e9b9e8a525de055836733">getModule</a>()-&gt;<a class="code" href="classllvm_1_1Module.html#a6d883605206368bc536cc9ded97209b8">getDataLayout</a>();</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160; </div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;  <span class="comment">// Get the widest type.</span></div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;  <span class="keywordflow">if</span> (!PhiTy-&gt;<a class="code" href="classllvm_1_1Type.html#aac5759c83abd6a4af236401a7cfe7a0f">isFloatingPointTy</a>()) {</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;    <span class="keywordflow">if</span> (!WidestIndTy)</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;      WidestIndTy = <a class="code" href="namespacellvm.html#ab7a212b8bf3c8a58d41471f26dd547c3">convertPointerToIntegerType</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, PhiTy);</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;      WidestIndTy = <a class="code" href="namespacellvm.html#a6303423d3eefbd808b7d97a62ee1c523">getWiderType</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, PhiTy, WidestIndTy);</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;  }</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160; </div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;  <span class="comment">// Int inductions are special because we only allow one IV.</span></div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>.getKind() == <a class="code" href="classllvm_1_1InductionDescriptor.html#ac2d32589e2e153088b8a35db1a9eabccaf0191e822c9708e106d7bb58aa9ec947">InductionDescriptor::IK_IntInduction</a> &amp;&amp;</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;      <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>.getConstIntStepValue() &amp;&amp; <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>.getConstIntStepValue()-&gt;isOne() &amp;&amp;</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;      isa&lt;Constant&gt;(<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>.getStartValue()) &amp;&amp;</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;      cast&lt;Constant&gt;(<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>.getStartValue())-&gt;isNullValue()) {</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160; </div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;    <span class="comment">// Use the phi node with the widest type as induction. Use the last</span></div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;    <span class="comment">// one if there are multiple (no good reason for doing this other</span></div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;    <span class="comment">// than it is expedient). We&#39;ve checked that it begins at zero and</span></div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;    <span class="comment">// steps by one, so this is a canonical induction variable.</span></div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;    <span class="keywordflow">if</span> (!PrimaryInduction || PhiTy == WidestIndTy)</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;      PrimaryInduction = Phi;</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;  }</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160; </div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;  <span class="comment">// Both the PHI node itself, and the &quot;post-increment&quot; value feeding</span></div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;  <span class="comment">// back into the PHI node may have external users.</span></div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;  <span class="comment">// We can allow those uses, except if the SCEVs we have for them rely</span></div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;  <span class="comment">// on predicates that only hold within the loop, since allowing the exit</span></div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;  <span class="comment">// currently means re-using this SCEV outside the loop (see PR33706 for more</span></div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;  <span class="comment">// details).</span></div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;  <span class="keywordflow">if</span> (PSE.<a class="code" href="classllvm_1_1PredicatedScalarEvolution.html#a12a8ac8838fb851a2de5dc5275307bb6">getPredicate</a>().<a class="code" href="classllvm_1_1SCEVPredicate.html#ac43f5102232a1e1819b0763536f2937a">isAlwaysTrue</a>()) {</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;    AllowedExit.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">insert</a>(Phi);</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;    AllowedExit.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">insert</a>(Phi-&gt;<a class="code" href="classllvm_1_1PHINode.html#adfb61ffe25c950c75c86310245b3ef39">getIncomingValueForBlock</a>(TheLoop-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a1230fd674d2609b96527fe65eaf40b1b">getLoopLatch</a>()));</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;  }</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160; </div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;LV: Found an induction variable.\n&quot;</span>);</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;}</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160; </div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;<span class="keywordtype">bool</span> LoopVectorizationLegality::setupOuterLoopInductions() {</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;  <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *Header = TheLoop-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a58c5b170ea68b41e94ebb0019523a68f">getHeader</a>();</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160; </div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;  <span class="comment">// Returns true if a given Phi is a supported induction.</span></div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;  <span class="keyword">auto</span> isSupportedPhi = [&amp;](<a class="code" href="classllvm_1_1PHINode.html">PHINode</a> &amp;Phi) -&gt; <span class="keywordtype">bool</span> {</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;    <a class="code" href="classllvm_1_1InductionDescriptor.html">InductionDescriptor</a> <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>;</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1InductionDescriptor.html#acdb97daf1829f811db20dff44887fe9e">InductionDescriptor::isInductionPHI</a>(&amp;Phi, TheLoop, PSE, <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>) &amp;&amp;</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;        <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>.getKind() == <a class="code" href="classllvm_1_1InductionDescriptor.html#ac2d32589e2e153088b8a35db1a9eabccaf0191e822c9708e106d7bb58aa9ec947">InductionDescriptor::IK_IntInduction</a>) {</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;      addInductionPhi(&amp;Phi, <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>, AllowedExit);</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;      <span class="comment">// Bail out for any Phi in the outer loop header that is not a supported</span></div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;      <span class="comment">// induction.</span></div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;      <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;          <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>()</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;          &lt;&lt; <span class="stringliteral">&quot;LV: Found unsupported PHI for outer loop vectorization.\n&quot;</span>);</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;    }</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;  };</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160; </div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a0d10fe510ced2849a8074fe81e5d04ce">llvm::all_of</a>(Header-&gt;phis(), isSupportedPhi))</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;}</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;<span class="comment">/// Checks if a function is scalarizable according to the TLI, in</span></div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;<span class="comment">/// the sense that it should be vectorized and then expanded in</span></div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;<span class="comment">/// multiple scalar calls. This is represented in the</span></div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;<span class="comment">/// TLI via mappings that do not specify a vector name, as in the</span></div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;<span class="comment">/// following example:</span></div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;<span class="comment">///    const VecDesc VecIntrinsics[] = {</span></div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;<span class="comment">///      {&quot;llvm.phx.abs.i32&quot;, &quot;&quot;, 4}</span></div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;<span class="comment">///    };</span></div>
<div class="line"><a name="l00635"></a><span class="lineno"><a class="line" href="namespacellvm.html#ae641260d79a9242ccf378d9a7949fdc3">  635</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="namespacellvm.html#ae641260d79a9242ccf378d9a7949fdc3">isTLIScalarize</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetLibraryInfo.html">TargetLibraryInfo</a> &amp;TLI, <span class="keyword">const</span> <a class="code" href="classllvm_1_1CallInst.html">CallInst</a> &amp;CI) {</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> ScalarName = CI.<a class="code" href="classllvm_1_1CallBase.html#a83b8c9e572130f403445c0b0f69b837c">getCalledFunction</a>()-&gt;<a class="code" href="classllvm_1_1Value.html#adb5c319f5905c1d3ca9eb5df546388c5">getName</a>();</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;  <span class="keywordtype">bool</span> Scalarize = TLI.<a class="code" href="classllvm_1_1TargetLibraryInfo.html#af2dc370c0f0b837f18b006c2d4b8b7cc">isFunctionVectorizable</a>(ScalarName);</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;  <span class="comment">// Check that all known VFs are not associated to a vector</span></div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;  <span class="comment">// function, i.e. the vector name is emty.</span></div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;  <span class="keywordflow">if</span> (Scalarize) {</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;    <a class="code" href="classllvm_1_1ElementCount.html">ElementCount</a> WidestFixedVF, WidestScalableVF;</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;    TLI.<a class="code" href="classllvm_1_1TargetLibraryInfo.html#a842341c6f70ff53fbb7f69badbe7d876">getWidestVF</a>(ScalarName, WidestFixedVF, WidestScalableVF);</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1ElementCount.html">ElementCount</a> VF = <a class="code" href="classllvm_1_1ElementCount.html#a584cb8dfa0090b33a969c4dda27337f6">ElementCount::getFixed</a>(2);</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;         <a class="code" href="classllvm_1_1details_1_1FixedOrScalableQuantity.html#a338ba7ca7a526243ab1853d07d90fe38">ElementCount::isKnownLE</a>(VF, WidestFixedVF); VF *= 2)</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;      Scalarize &amp;= !TLI.<a class="code" href="classllvm_1_1TargetLibraryInfo.html#af2dc370c0f0b837f18b006c2d4b8b7cc">isFunctionVectorizable</a>(ScalarName, VF);</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1ElementCount.html">ElementCount</a> VF = <a class="code" href="classllvm_1_1ElementCount.html#a1bddc4949ab247dd1474f79b9bc6e34e">ElementCount::getScalable</a>(1);</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;         <a class="code" href="classllvm_1_1details_1_1FixedOrScalableQuantity.html#a338ba7ca7a526243ab1853d07d90fe38">ElementCount::isKnownLE</a>(VF, WidestScalableVF); VF *= 2)</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;      Scalarize &amp;= !TLI.<a class="code" href="classllvm_1_1TargetLibraryInfo.html#af2dc370c0f0b837f18b006c2d4b8b7cc">isFunctionVectorizable</a>(ScalarName, VF);</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((WidestScalableVF.<a class="code" href="classllvm_1_1details_1_1FixedOrScalableQuantity.html#ad96fee81c3174ef427bf779d73fb1ef2">isZero</a>() || !Scalarize) &amp;&amp;</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;           <span class="stringliteral">&quot;Caller may decide to scalarize a variant using a scalable VF&quot;</span>);</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;  }</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;  <span class="keywordflow">return</span> Scalarize;</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;}</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160; </div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;<span class="keywordtype">bool</span> LoopVectorizationLegality::canVectorizeInstrs() {</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;  <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *Header = TheLoop-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a58c5b170ea68b41e94ebb0019523a68f">getHeader</a>();</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160; </div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;  <span class="comment">// For each block in the loop.</span></div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a> : TheLoop-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a40f34cc77d2b3bc73384f535c8101858">blocks</a>()) {</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;    <span class="comment">// Scan the instructions in the block and look for hazards.</span></div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> : *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>) {</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">auto</span> *Phi = dyn_cast&lt;PHINode&gt;(&amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)) {</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;        <a class="code" href="classllvm_1_1Type.html">Type</a> *PhiTy = Phi-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>();</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;        <span class="comment">// Check that this PHI type is allowed.</span></div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;        <span class="keywordflow">if</span> (!PhiTy-&gt;<a class="code" href="classllvm_1_1Type.html#ac6d28a9b11139182134a9618028a0d07">isIntegerTy</a>() &amp;&amp; !PhiTy-&gt;<a class="code" href="classllvm_1_1Type.html#aac5759c83abd6a4af236401a7cfe7a0f">isFloatingPointTy</a>() &amp;&amp;</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;            !PhiTy-&gt;<a class="code" href="classllvm_1_1Type.html#a3b996fbf8458aafffc86cb98a68d0a47">isPointerTy</a>()) {</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;          <a class="code" href="namespacellvm.html#ab425bb10a0f4af749bbb29aa07fc6854">reportVectorizationFailure</a>(<span class="stringliteral">&quot;Found a non-int non-pointer PHI&quot;</span>,</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;                                     <span class="stringliteral">&quot;loop control flow is not understood by vectorizer&quot;</span>,</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;                                     <span class="stringliteral">&quot;CFGNotUnderstood&quot;</span>, ORE, TheLoop);</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;        }</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160; </div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;        <span class="comment">// If this PHINode is not in the header block, then we know that we</span></div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;        <span class="comment">// can convert it to select during if-conversion. No need to check if</span></div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;        <span class="comment">// the PHIs in this block are induction or reduction variables.</span></div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a> != Header) {</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;          <span class="comment">// Non-header phi nodes that have outside uses can be vectorized. Add</span></div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;          <span class="comment">// them to the list of allowed exits.</span></div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;          <span class="comment">// Unsafe cyclic dependencies with header phis are identified during</span></div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;          <span class="comment">// legalization for reduction, induction and fixed order</span></div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;          <span class="comment">// recurrences.</span></div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;          AllowedExit.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">insert</a>(&amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;          <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;        }</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160; </div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;        <span class="comment">// We only allow if-converted PHIs with exactly two incoming values.</span></div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;        <span class="keywordflow">if</span> (Phi-&gt;<a class="code" href="classllvm_1_1PHINode.html#aef51af4b490af6b3bf2dfbc8737a8f9f">getNumIncomingValues</a>() != 2) {</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;          <a class="code" href="namespacellvm.html#ab425bb10a0f4af749bbb29aa07fc6854">reportVectorizationFailure</a>(<span class="stringliteral">&quot;Found an invalid PHI&quot;</span>,</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;              <span class="stringliteral">&quot;loop control flow is not understood by vectorizer&quot;</span>,</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;              <span class="stringliteral">&quot;CFGNotUnderstood&quot;</span>, ORE, TheLoop, Phi);</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;        }</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160; </div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;        <a class="code" href="classllvm_1_1RecurrenceDescriptor.html">RecurrenceDescriptor</a> RedDes;</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1RecurrenceDescriptor.html#a484f974fc232e862a87a6380d3a7587d">RecurrenceDescriptor::isReductionPHI</a>(Phi, TheLoop, RedDes, DB, AC,</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;                                                 DT, PSE.<a class="code" href="classllvm_1_1PredicatedScalarEvolution.html#a872704344573663359494dca7554c198">getSE</a>())) {</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;          Requirements-&gt;<a class="code" href="classllvm_1_1LoopVectorizationRequirements.html#aa8ac08a48fb7e083c5adf9a1cb6091bc">addExactFPMathInst</a>(RedDes.<a class="code" href="classllvm_1_1RecurrenceDescriptor.html#aa94672fc5b505badff2cb5592c5e7389">getExactFPMathInst</a>());</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;          AllowedExit.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">insert</a>(RedDes.<a class="code" href="classllvm_1_1RecurrenceDescriptor.html#a53aeb820a8f9180fbf7894a987025f35">getLoopExitInstr</a>());</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;          Reductions[Phi] = RedDes;</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;          <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;        }</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160; </div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;        <span class="comment">// TODO: Instead of recording the AllowedExit, it would be good to</span></div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;        <span class="comment">// record the complementary set: NotAllowedExit. These include (but may</span></div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;        <span class="comment">// not be limited to):</span></div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;        <span class="comment">// 1. Reduction phis as they represent the one-before-last value, which</span></div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;        <span class="comment">// is not available when vectorized</span></div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;        <span class="comment">// 2. Induction phis and increment when SCEV predicates cannot be used</span></div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;        <span class="comment">// outside the loop - see addInductionPhi</span></div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;        <span class="comment">// 3. Non-Phis with outside uses when SCEV predicates cannot be used</span></div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;        <span class="comment">// outside the loop - see call to hasOutsideLoopUser in the non-phi</span></div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;        <span class="comment">// handling below</span></div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;        <span class="comment">// 4. FixedOrderRecurrence phis that can possibly be handled by</span></div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;        <span class="comment">// extraction.</span></div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;        <span class="comment">// By recording these, we can then reason about ways to vectorize each</span></div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;        <span class="comment">// of these NotAllowedExit.</span></div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;        <a class="code" href="classllvm_1_1InductionDescriptor.html">InductionDescriptor</a> <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>;</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1InductionDescriptor.html#acdb97daf1829f811db20dff44887fe9e">InductionDescriptor::isInductionPHI</a>(Phi, TheLoop, PSE, <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>)) {</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;          addInductionPhi(Phi, <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>, AllowedExit);</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;          Requirements-&gt;<a class="code" href="classllvm_1_1LoopVectorizationRequirements.html#aa8ac08a48fb7e083c5adf9a1cb6091bc">addExactFPMathInst</a>(<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>.getExactFPMathInst());</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;          <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;        }</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160; </div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1RecurrenceDescriptor.html#a445d2b366708f7089645f2a9fdee15e5">RecurrenceDescriptor::isFixedOrderRecurrence</a>(Phi, TheLoop,</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;                                                         SinkAfter, DT)) {</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;          AllowedExit.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">insert</a>(Phi);</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;          FixedOrderRecurrences.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">insert</a>(Phi);</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;          <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;        }</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160; </div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;        <span class="comment">// As a last resort, coerce the PHI to a AddRec expression</span></div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;        <span class="comment">// and re-try classifying it a an induction PHI.</span></div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1InductionDescriptor.html#acdb97daf1829f811db20dff44887fe9e">InductionDescriptor::isInductionPHI</a>(Phi, TheLoop, PSE, <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>, <span class="keyword">true</span>)) {</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;          addInductionPhi(Phi, <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>, AllowedExit);</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;          <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;        }</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160; </div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;        <a class="code" href="namespacellvm.html#ab425bb10a0f4af749bbb29aa07fc6854">reportVectorizationFailure</a>(<span class="stringliteral">&quot;Found an unidentified PHI&quot;</span>,</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;            <span class="stringliteral">&quot;value that could not be identified as &quot;</span></div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;            <span class="stringliteral">&quot;reduction is used outside the loop&quot;</span>,</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;            <span class="stringliteral">&quot;NonReductionValueUsedOutsideLoop&quot;</span>, ORE, TheLoop, Phi);</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;      } <span class="comment">// end of PHI handling</span></div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160; </div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;      <span class="comment">// We handle calls that:</span></div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;      <span class="comment">//   * Are debug info intrinsics.</span></div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;      <span class="comment">//   * Have a mapping to an IR intrinsic.</span></div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;      <span class="comment">//   * Have a vector version available.</span></div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;      <span class="keyword">auto</span> *CI = dyn_cast&lt;CallInst&gt;(&amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160; </div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;      <span class="keywordflow">if</span> (CI &amp;&amp; !<a class="code" href="namespacellvm.html#a11c66d01880f53332fc7ad53f565b039">getVectorIntrinsicIDForCall</a>(CI, TLI) &amp;&amp;</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;          !isa&lt;DbgInfoIntrinsic&gt;(CI) &amp;&amp;</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;          !(CI-&gt;getCalledFunction() &amp;&amp; TLI &amp;&amp;</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;            (!<a class="code" href="classllvm_1_1VFDatabase.html#af9abb14ef675e9dee8dd14bd4dd43aac">VFDatabase::getMappings</a>(*CI).empty() ||</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;             <a class="code" href="namespacellvm.html#ae641260d79a9242ccf378d9a7949fdc3">isTLIScalarize</a>(*TLI, *CI)))) {</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;        <span class="comment">// If the call is a recognized math libary call, it is likely that</span></div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;        <span class="comment">// we can vectorize it given loosened floating-point constraints.</span></div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;        <a class="code" href="namespacellvm.html#a26a5e408fc09c5664d2bbb2d7fae154e">LibFunc</a> <a class="code" href="namespacellvm_1_1ifs.html#adfe04e1a9cc096fb571e8372debaa67ea00d0b4f2d7dcdaaef835b97cf5d1e0df">Func</a>;</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;        <span class="keywordtype">bool</span> IsMathLibCall =</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;            TLI &amp;&amp; CI-&gt;getCalledFunction() &amp;&amp;</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;            CI-&gt;getType()-&gt;isFloatingPointTy() &amp;&amp;</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;            TLI-&gt;<a class="code" href="classllvm_1_1TargetLibraryInfo.html#a97cfbbed8869e3582142012a071a9052">getLibFunc</a>(CI-&gt;getCalledFunction()-&gt;getName(), Func) &amp;&amp;</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;            TLI-&gt;<a class="code" href="classllvm_1_1TargetLibraryInfo.html#a38377afcf58b163cbb11662bdc2841a9">hasOptimizedCodeGen</a>(Func);</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160; </div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;        <span class="keywordflow">if</span> (IsMathLibCall) {</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;          <span class="comment">// TODO: Ideally, we should not use clang-specific language here,</span></div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;          <span class="comment">// but it&#39;s hard to provide meaningful yet generic advice.</span></div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;          <span class="comment">// Also, should this be guarded by allowExtraAnalysis() and/or be part</span></div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;          <span class="comment">// of the returned info from isFunctionVectorizable()?</span></div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;          <a class="code" href="namespacellvm.html#ab425bb10a0f4af749bbb29aa07fc6854">reportVectorizationFailure</a>(</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;              <span class="stringliteral">&quot;Found a non-intrinsic callsite&quot;</span>,</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;              <span class="stringliteral">&quot;library call cannot be vectorized. &quot;</span></div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;              <span class="stringliteral">&quot;Try compiling with -fno-math-errno, -ffast-math, &quot;</span></div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;              <span class="stringliteral">&quot;or similar flags&quot;</span>,</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;              <span class="stringliteral">&quot;CantVectorizeLibcall&quot;</span>, ORE, TheLoop, CI);</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;          <a class="code" href="namespacellvm.html#ab425bb10a0f4af749bbb29aa07fc6854">reportVectorizationFailure</a>(<span class="stringliteral">&quot;Found a non-intrinsic callsite&quot;</span>,</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;                                     <span class="stringliteral">&quot;call instruction cannot be vectorized&quot;</span>,</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;                                     <span class="stringliteral">&quot;CantVectorizeLibcall&quot;</span>, ORE, TheLoop, CI);</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;        }</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;      }</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160; </div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;      <span class="comment">// Some intrinsics have scalar arguments and should be same in order for</span></div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;      <span class="comment">// them to be vectorized (i.e. loop invariant).</span></div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;      <span class="keywordflow">if</span> (CI) {</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;        <span class="keyword">auto</span> *SE = PSE.<a class="code" href="classllvm_1_1PredicatedScalarEvolution.html#a872704344573663359494dca7554c198">getSE</a>();</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;        <a class="code" href="namespacellvm_1_1Intrinsic.html#a80add6b3b1cdaec560907995127adc16">Intrinsic::ID</a> IntrinID = <a class="code" href="namespacellvm.html#a11c66d01880f53332fc7ad53f565b039">getVectorIntrinsicIDForCall</a>(CI, TLI);</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a> = CI-&gt;arg_size(); <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#ad5f1403d57d5cc4301785b181caa5f1b">isVectorIntrinsicWithScalarOpAtArg</a>(IntrinID, <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)) {</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;            <span class="keywordflow">if</span> (!SE-&gt;isLoopInvariant(PSE.<a class="code" href="classllvm_1_1PredicatedScalarEvolution.html#ae0994d8207b94ad22ecebc1a6bc580f1">getSCEV</a>(CI-&gt;getOperand(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)), TheLoop)) {</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;              <a class="code" href="namespacellvm.html#ab425bb10a0f4af749bbb29aa07fc6854">reportVectorizationFailure</a>(<span class="stringliteral">&quot;Found unvectorizable intrinsic&quot;</span>,</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;                  <span class="stringliteral">&quot;intrinsic instruction cannot be vectorized&quot;</span>,</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;                  <span class="stringliteral">&quot;CantVectorizeIntrinsic&quot;</span>, ORE, TheLoop, CI);</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;              <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;            }</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;          }</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;      }</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160; </div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;      <span class="comment">// Check that the instruction return type is vectorizable.</span></div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;      <span class="comment">// Also, we can&#39;t vectorize extractelement instructions.</span></div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;      <span class="keywordflow">if</span> ((!<a class="code" href="classllvm_1_1VectorType.html#a071e25c5c6eae5299b1cdc3350c6d55c">VectorType::isValidElementType</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getType()) &amp;&amp;</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;           !<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getType()-&gt;isVoidTy()) ||</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;          isa&lt;ExtractElementInst&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)) {</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;        <a class="code" href="namespacellvm.html#ab425bb10a0f4af749bbb29aa07fc6854">reportVectorizationFailure</a>(<span class="stringliteral">&quot;Found unvectorizable type&quot;</span>,</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;            <span class="stringliteral">&quot;instruction return type cannot be vectorized&quot;</span>,</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;            <span class="stringliteral">&quot;CantVectorizeInstructionReturnType&quot;</span>, ORE, TheLoop, &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;      }</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160; </div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;      <span class="comment">// Check that the stored type is vectorizable.</span></div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">auto</span> *<a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">ST</a> = dyn_cast&lt;StoreInst&gt;(&amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)) {</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;        <a class="code" href="classllvm_1_1Type.html">Type</a> *<a class="code" href="classT.html">T</a> = <a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">ST</a>-&gt;getValueOperand()-&gt;getType();</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1VectorType.html#a071e25c5c6eae5299b1cdc3350c6d55c">VectorType::isValidElementType</a>(<a class="code" href="classT.html">T</a>)) {</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;          <a class="code" href="namespacellvm.html#ab425bb10a0f4af749bbb29aa07fc6854">reportVectorizationFailure</a>(<span class="stringliteral">&quot;Store instruction cannot be vectorized&quot;</span>,</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;                                     <span class="stringliteral">&quot;store instruction cannot be vectorized&quot;</span>,</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;                                     <span class="stringliteral">&quot;CantVectorizeStore&quot;</span>, ORE, TheLoop, <a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">ST</a>);</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;        }</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160; </div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;        <span class="comment">// For nontemporal stores, check that a nontemporal vector version is</span></div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;        <span class="comment">// supported on the target.</span></div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">ST</a>-&gt;getMetadata(LLVMContext::MD_nontemporal)) {</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;          <span class="comment">// Arbitrarily try a vector of 2 elements.</span></div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;          <span class="keyword">auto</span> *VecTy = <a class="code" href="classllvm_1_1FixedVectorType.html#af9a870d5df50fe0133a410b7c9114c80">FixedVectorType::get</a>(<a class="code" href="classT.html">T</a>, <span class="comment">/*NumElts=*/</span>2);</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;          <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(VecTy &amp;&amp; <span class="stringliteral">&quot;did not find vectorized version of stored type&quot;</span>);</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;          <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1TargetTransformInfo.html">TTI</a>-&gt;<a class="code" href="classllvm_1_1TargetTransformInfo.html#a923b761c973df44658c12ab18b29365c">isLegalNTStore</a>(VecTy, <a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">ST</a>-&gt;getAlign())) {</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;            <a class="code" href="namespacellvm.html#ab425bb10a0f4af749bbb29aa07fc6854">reportVectorizationFailure</a>(</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;                <span class="stringliteral">&quot;nontemporal store instruction cannot be vectorized&quot;</span>,</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;                <span class="stringliteral">&quot;nontemporal store instruction cannot be vectorized&quot;</span>,</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;                <span class="stringliteral">&quot;CantVectorizeNontemporalStore&quot;</span>, ORE, TheLoop, <a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">ST</a>);</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;          }</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;        }</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160; </div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="keyword">auto</span> *<a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85a7289f7156c17c31399fe5226bf556781">LD</a> = dyn_cast&lt;LoadInst&gt;(&amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)) {</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85a7289f7156c17c31399fe5226bf556781">LD</a>-&gt;getMetadata(LLVMContext::MD_nontemporal)) {</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;          <span class="comment">// For nontemporal loads, check that a nontemporal vector version is</span></div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;          <span class="comment">// supported on the target (arbitrarily try a vector of 2 elements).</span></div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;          <span class="keyword">auto</span> *VecTy = <a class="code" href="classllvm_1_1FixedVectorType.html#af9a870d5df50fe0133a410b7c9114c80">FixedVectorType::get</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getType(), <span class="comment">/*NumElts=*/</span>2);</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;          <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(VecTy &amp;&amp; <span class="stringliteral">&quot;did not find vectorized version of load type&quot;</span>);</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;          <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1TargetTransformInfo.html">TTI</a>-&gt;<a class="code" href="classllvm_1_1TargetTransformInfo.html#a7bdad414050f44dd51fe2c193b7992b6">isLegalNTLoad</a>(VecTy, <a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85a7289f7156c17c31399fe5226bf556781">LD</a>-&gt;getAlign())) {</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;            <a class="code" href="namespacellvm.html#ab425bb10a0f4af749bbb29aa07fc6854">reportVectorizationFailure</a>(</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;                <span class="stringliteral">&quot;nontemporal load instruction cannot be vectorized&quot;</span>,</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;                <span class="stringliteral">&quot;nontemporal load instruction cannot be vectorized&quot;</span>,</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;                <span class="stringliteral">&quot;CantVectorizeNontemporalLoad&quot;</span>, ORE, TheLoop, <a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85a7289f7156c17c31399fe5226bf556781">LD</a>);</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;          }</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;        }</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160; </div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;        <span class="comment">// FP instructions can allow unsafe algebra, thus vectorizable by</span></div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;        <span class="comment">// non-IEEE-754 compliant SIMD units.</span></div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;        <span class="comment">// This applies to floating-point math operations and calls, not memory</span></div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;        <span class="comment">// operations, shuffles, or casts, as they don&#39;t change precision or</span></div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;        <span class="comment">// semantics.</span></div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getType()-&gt;isFloatingPointTy() &amp;&amp; (CI || <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.isBinaryOp()) &amp;&amp;</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;                 !<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.isFast()) {</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;        <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;LV: Found FP op with unsafe algebra.\n&quot;</span>);</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;        Hints-&gt;setPotentiallyUnsafe();</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;      }</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160; </div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;      <span class="comment">// Reduction instructions are allowed to have exit users.</span></div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;      <span class="comment">// All other instructions must not have external users.</span></div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a89f41bef45732023f8662884065cd058">hasOutsideLoopUser</a>(TheLoop, &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, AllowedExit)) {</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;        <span class="comment">// We can safely vectorize loops where instructions within the loop are</span></div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;        <span class="comment">// used outside the loop only if the SCEV predicates within the loop is</span></div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;        <span class="comment">// same as outside the loop. Allowing the exit means reusing the SCEV</span></div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;        <span class="comment">// outside the loop.</span></div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;        <span class="keywordflow">if</span> (PSE.<a class="code" href="classllvm_1_1PredicatedScalarEvolution.html#a12a8ac8838fb851a2de5dc5275307bb6">getPredicate</a>().<a class="code" href="classllvm_1_1SCEVPredicate.html#ac43f5102232a1e1819b0763536f2937a">isAlwaysTrue</a>()) {</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;          AllowedExit.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">insert</a>(&amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;          <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;        }</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;        <a class="code" href="namespacellvm.html#ab425bb10a0f4af749bbb29aa07fc6854">reportVectorizationFailure</a>(<span class="stringliteral">&quot;Value cannot be used outside the loop&quot;</span>,</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;                                   <span class="stringliteral">&quot;value cannot be used outside the loop&quot;</span>,</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;                                   <span class="stringliteral">&quot;ValueUsedOutsideLoop&quot;</span>, ORE, TheLoop, &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;      }</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;    } <span class="comment">// next instr.</span></div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;  }</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160; </div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;  <span class="keywordflow">if</span> (!PrimaryInduction) {</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;    <span class="keywordflow">if</span> (Inductions.<a class="code" href="classllvm_1_1MapVector.html#a8da97c44f514ad1ae9ccf4518b0f88aa">empty</a>()) {</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;      <a class="code" href="namespacellvm.html#ab425bb10a0f4af749bbb29aa07fc6854">reportVectorizationFailure</a>(<span class="stringliteral">&quot;Did not find one integer induction var&quot;</span>,</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;          <span class="stringliteral">&quot;loop induction variable could not be identified&quot;</span>,</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;          <span class="stringliteral">&quot;NoInductionVariable&quot;</span>, ORE, TheLoop);</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!WidestIndTy) {</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;      <a class="code" href="namespacellvm.html#ab425bb10a0f4af749bbb29aa07fc6854">reportVectorizationFailure</a>(<span class="stringliteral">&quot;Did not find one integer induction var&quot;</span>,</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;          <span class="stringliteral">&quot;integer loop induction variable could not be identified&quot;</span>,</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;          <span class="stringliteral">&quot;NoIntegerInductionVariable&quot;</span>, ORE, TheLoop);</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;      <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;LV: Did not find one integer induction var.\n&quot;</span>);</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;    }</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;  }</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160; </div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;  <span class="comment">// For fixed order recurrences, we use the previous value (incoming value from</span></div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;  <span class="comment">// the latch) to check if it dominates all users of the recurrence. Bail out</span></div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;  <span class="comment">// if we have to sink such an instruction for another recurrence, as the</span></div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;  <span class="comment">// dominance requirement may not hold after sinking.</span></div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;  <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *LoopLatch = TheLoop-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a1230fd674d2609b96527fe65eaf40b1b">getLoopLatch</a>();</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a61d13d6824ec46c31260a4fd0997eda0">any_of</a>(FixedOrderRecurrences, [LoopLatch, <span class="keyword">this</span>](<span class="keyword">const</span> <a class="code" href="classllvm_1_1PHINode.html">PHINode</a> *Phi) {</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;        <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *V =</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;            cast&lt;Instruction&gt;(Phi-&gt;<a class="code" href="classllvm_1_1PHINode.html#adfb61ffe25c950c75c86310245b3ef39">getIncomingValueForBlock</a>(LoopLatch));</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;        <span class="keywordflow">return</span> SinkAfter.find(V) != SinkAfter.end();</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;      }))</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160; </div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;  <span class="comment">// Now we know the widest induction type, check if our found induction</span></div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;  <span class="comment">// is the same size. If it&#39;s not, unset it here and InnerLoopVectorizer</span></div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;  <span class="comment">// will create another.</span></div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;  <span class="keywordflow">if</span> (PrimaryInduction &amp;&amp; WidestIndTy != PrimaryInduction-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>())</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;    PrimaryInduction = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160; </div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;}</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160; </div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;<span class="keywordtype">bool</span> LoopVectorizationLegality::canVectorizeMemory() {</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;  LAI = &amp;LAIs.<a class="code" href="classllvm_1_1LoopAccessInfoManager.html#a628110f56ef933981e2fecb45c4b0d63">getInfo</a>(*TheLoop);</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1OptimizationRemarkAnalysis.html">OptimizationRemarkAnalysis</a> *LAR = LAI-&gt;<a class="code" href="classllvm_1_1LoopAccessInfo.html#a2e49a847d483bd2dbeec5fb7da3f7573">getReport</a>();</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;  <span class="keywordflow">if</span> (LAR) {</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;    ORE-&gt;<a class="code" href="classllvm_1_1OptimizationRemarkEmitter.html#aae6a98aea85aa3af87357cc5448db499">emit</a>([&amp;]() {</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1OptimizationRemarkAnalysis.html">OptimizationRemarkAnalysis</a>(Hints-&gt;vectorizeAnalysisPassName(),</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;                                        <span class="stringliteral">&quot;loop not vectorized: &quot;</span>, *LAR);</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;    });</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;  }</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160; </div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;  <span class="keywordflow">if</span> (!LAI-&gt;<a class="code" href="classllvm_1_1LoopAccessInfo.html#a3e05d925e750d2cffbf3c385f3a5028c">canVectorizeMemory</a>())</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160; </div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;  <span class="comment">// We can vectorize stores to invariant address when final reduction value is</span></div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;  <span class="comment">// guaranteed to be stored at the end of the loop. Also, if decision to</span></div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;  <span class="comment">// vectorize loop is made, runtime checks are added so as to make sure that</span></div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;  <span class="comment">// invariant address won&#39;t alias with any other objects.</span></div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;  <span class="keywordflow">if</span> (!LAI-&gt;<a class="code" href="classllvm_1_1LoopAccessInfo.html#a5c0b827bc6fb99e8c37af26bfc0814d5">getStoresToInvariantAddresses</a>().empty()) {</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;    <span class="comment">// For each invariant address, check if last stored value is unconditional</span></div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;    <span class="comment">// and the address is not calculated inside the loop.</span></div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1StoreInst.html">StoreInst</a> *<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a> : LAI-&gt;<a class="code" href="classllvm_1_1LoopAccessInfo.html#a5c0b827bc6fb99e8c37af26bfc0814d5">getStoresToInvariantAddresses</a>()) {</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1LoopVectorizationLegality.html#a1c9fd1c0627dfa3e013a1b2c7416ae90">isInvariantStoreOfReduction</a>(<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>))</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160; </div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1LoopVectorizationLegality.html#a3b78b24a3c241e611957b82cd12640da">blockNeedsPredication</a>(<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>-&gt;getParent())) {</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;        <a class="code" href="namespacellvm.html#ab425bb10a0f4af749bbb29aa07fc6854">reportVectorizationFailure</a>(</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;            <span class="stringliteral">&quot;We don&#39;t allow storing to uniform addresses&quot;</span>,</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;            <span class="stringliteral">&quot;write of conditional recurring variant value to a loop &quot;</span></div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;            <span class="stringliteral">&quot;invariant address could not be vectorized&quot;</span>,</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;            <span class="stringliteral">&quot;CantVectorizeStoreToLoopInvariantAddress&quot;</span>, ORE, TheLoop);</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;      }</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160; </div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;      <span class="comment">// Invariant address should be defined outside of loop. LICM pass usually</span></div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;      <span class="comment">// makes sure it happens, but in rare cases it does not, we do not want</span></div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;      <span class="comment">// to overcomplicate vectorization to support this case.</span></div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a> = dyn_cast&lt;Instruction&gt;(<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>-&gt;getPointerOperand())) {</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;        <span class="keywordflow">if</span> (TheLoop-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a04337b572d34ea413c35dbac5d75530b">contains</a>(<a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>)) {</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;          <a class="code" href="namespacellvm.html#ab425bb10a0f4af749bbb29aa07fc6854">reportVectorizationFailure</a>(</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;              <span class="stringliteral">&quot;Invariant address is calculated inside the loop&quot;</span>,</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;              <span class="stringliteral">&quot;write to a loop invariant address could not &quot;</span></div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;              <span class="stringliteral">&quot;be vectorized&quot;</span>,</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;              <span class="stringliteral">&quot;CantVectorizeStoreToLoopInvariantAddress&quot;</span>, ORE, TheLoop);</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;        }</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;      }</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;    }</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160; </div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;    <span class="keywordflow">if</span> (LAI-&gt;<a class="code" href="classllvm_1_1LoopAccessInfo.html#a0300dae8c20912671f2e23f489536627">hasDependenceInvolvingLoopInvariantAddress</a>()) {</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;      <span class="comment">// For each invariant address, check its last stored value is the result</span></div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;      <span class="comment">// of one of our reductions.</span></div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;      <span class="comment">//</span></div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;      <span class="comment">// We do not check if dependence with loads exists because they are</span></div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;      <span class="comment">// currently rejected earlier in LoopAccessInfo::analyzeLoop. In case this</span></div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;      <span class="comment">// behaviour changes we have to modify this code.</span></div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;      <a class="code" href="classllvm_1_1ScalarEvolution.html">ScalarEvolution</a> *SE = PSE.<a class="code" href="classllvm_1_1PredicatedScalarEvolution.html#a872704344573663359494dca7554c198">getSE</a>();</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;      <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;StoreInst *, 4&gt;</a> UnhandledStores;</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1StoreInst.html">StoreInst</a> *<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a> : LAI-&gt;<a class="code" href="classllvm_1_1LoopAccessInfo.html#a5c0b827bc6fb99e8c37af26bfc0814d5">getStoresToInvariantAddresses</a>()) {</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1LoopVectorizationLegality.html#a1c9fd1c0627dfa3e013a1b2c7416ae90">isInvariantStoreOfReduction</a>(<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>)) {</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;          <span class="comment">// Earlier stores to this address are effectively deadcode.</span></div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;          <span class="comment">// With opaque pointers it is possible for one pointer to be used with</span></div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;          <span class="comment">// different sizes of stored values:</span></div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;          <span class="comment">//    store i32 0, ptr %x</span></div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;          <span class="comment">//    store i8 0, ptr %x</span></div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;          <span class="comment">// The latest store doesn&#39;t complitely overwrite the first one in the</span></div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;          <span class="comment">// example. That is why we have to make sure that types of stored</span></div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;          <span class="comment">// values are same.</span></div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;          <span class="comment">// TODO: Check that bitwidth of unhandled store is smaller then the</span></div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;          <span class="comment">// one that overwrites it and add a test.</span></div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;          <a class="code" href="namespacellvm.html#ac9a7de5a04920954ac964059cfc428ad">erase_if</a>(UnhandledStores, [SE, <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>](<a class="code" href="classllvm_1_1StoreInst.html">StoreInst</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a9a89ad752842d42f055dc74cc19303c3">storeToSameAddress</a>(SE, <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) &amp;&amp;</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;                   <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getValueOperand()-&gt;getType() ==</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;                       <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>-&gt;getValueOperand()-&gt;getType();</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;          });</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;          <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;        }</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;        UnhandledStores.push_back(<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>);</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;      }</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160; </div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;      <span class="keywordtype">bool</span> IsOK = UnhandledStores.empty();</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;      <span class="comment">// TODO: we should also validate against InvariantMemSets.</span></div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;      <span class="keywordflow">if</span> (!IsOK) {</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;        <a class="code" href="namespacellvm.html#ab425bb10a0f4af749bbb29aa07fc6854">reportVectorizationFailure</a>(</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;            <span class="stringliteral">&quot;We don&#39;t allow storing to uniform addresses&quot;</span>,</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;            <span class="stringliteral">&quot;write to a loop invariant address could not &quot;</span></div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;            <span class="stringliteral">&quot;be vectorized&quot;</span>,</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;            <span class="stringliteral">&quot;CantVectorizeStoreToLoopInvariantAddress&quot;</span>, ORE, TheLoop);</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;      }</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;    }</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;  }</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160; </div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;  PSE.<a class="code" href="classllvm_1_1PredicatedScalarEvolution.html#a0b369e991301543c2120405809119d36">addPredicate</a>(LAI-&gt;<a class="code" href="classllvm_1_1LoopAccessInfo.html#aa9d24e39eb41447892aaf8fdcff0f16a">getPSE</a>().<a class="code" href="classllvm_1_1PredicatedScalarEvolution.html#a12a8ac8838fb851a2de5dc5275307bb6">getPredicate</a>());</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;}</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160; </div>
<div class="line"><a name="l01014"></a><span class="lineno"><a class="line" href="classllvm_1_1LoopVectorizationLegality.html#a552a158f5a673da0a26461d1471cea41"> 1014</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1LoopVectorizationLegality.html#a552a158f5a673da0a26461d1471cea41">LoopVectorizationLegality::canVectorizeFPMath</a>(</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;    <span class="keywordtype">bool</span> EnableStrictReductions) {</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160; </div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;  <span class="comment">// First check if there is any ExactFP math or if we allow reassociations</span></div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;  <span class="keywordflow">if</span> (!Requirements-&gt;<a class="code" href="classllvm_1_1LoopVectorizationRequirements.html#ae7795838121055002ab03a649ee1906c">getExactFPInst</a>() || Hints-&gt;allowReordering())</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160; </div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;  <span class="comment">// If the above is false, we have ExactFPMath &amp; do not allow reordering.</span></div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;  <span class="comment">// If the EnableStrictReductions flag is set, first check if we have any</span></div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;  <span class="comment">// Exact FP induction vars, which we cannot vectorize.</span></div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;  <span class="keywordflow">if</span> (!EnableStrictReductions ||</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;      <a class="code" href="namespacellvm.html#a61d13d6824ec46c31260a4fd0997eda0">any_of</a>(<a class="code" href="classllvm_1_1LoopVectorizationLegality.html#a64cd54bcf6a18f67300e34ef9deeb4fc">getInductionVars</a>(), [&amp;](<span class="keyword">auto</span> &amp;Induction) -&gt; <span class="keywordtype">bool</span> {</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;        <a class="code" href="classllvm_1_1InductionDescriptor.html">InductionDescriptor</a> IndDesc = Induction.second;</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;        <span class="keywordflow">return</span> IndDesc.<a class="code" href="classllvm_1_1InductionDescriptor.html#afb0dab8e100d4e630966ea4a8c213d8d">getExactFPMathInst</a>();</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;      }))</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160; </div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;  <span class="comment">// We can now only vectorize if all reductions with Exact FP math also</span></div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;  <span class="comment">// have the isOrdered flag set, which indicates that we can move the</span></div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;  <span class="comment">// reduction operations in-loop.</span></div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;  <span class="keywordflow">return</span> (<a class="code" href="namespacellvm.html#a0d10fe510ced2849a8074fe81e5d04ce">all_of</a>(<a class="code" href="classllvm_1_1LoopVectorizationLegality.html#af49cf566ea4419d8bb29960c6ad1c8e2">getReductionVars</a>(), [&amp;](<span class="keyword">auto</span> &amp;<a class="code" href="LoopStrengthReduce_8cpp.html#a175f1f53cc9c3619505ffbd13aca087f">Reduction</a>) -&gt; <span class="keywordtype">bool</span> {</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1RecurrenceDescriptor.html">RecurrenceDescriptor</a> &amp;RdxDesc = <a class="code" href="LoopStrengthReduce_8cpp.html#a175f1f53cc9c3619505ffbd13aca087f">Reduction</a>.second;</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;    <span class="keywordflow">return</span> !RdxDesc.<a class="code" href="classllvm_1_1RecurrenceDescriptor.html#a25187781de77a2ccf8406804fe510ce8">hasExactFPMath</a>() || RdxDesc.<a class="code" href="classllvm_1_1RecurrenceDescriptor.html#a8dad5abc2bd929acd8391643b2dbe4c5">isOrdered</a>();</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;  }));</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;}</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160; </div>
<div class="line"><a name="l01040"></a><span class="lineno"><a class="line" href="classllvm_1_1LoopVectorizationLegality.html#a1c9fd1c0627dfa3e013a1b2c7416ae90"> 1040</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1LoopVectorizationLegality.html#a1c9fd1c0627dfa3e013a1b2c7416ae90">LoopVectorizationLegality::isInvariantStoreOfReduction</a>(<a class="code" href="classllvm_1_1StoreInst.html">StoreInst</a> *<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>) {</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a61d13d6824ec46c31260a4fd0997eda0">any_of</a>(<a class="code" href="classllvm_1_1LoopVectorizationLegality.html#af49cf566ea4419d8bb29960c6ad1c8e2">getReductionVars</a>(), [&amp;](<span class="keyword">auto</span> &amp;<a class="code" href="LoopStrengthReduce_8cpp.html#a175f1f53cc9c3619505ffbd13aca087f">Reduction</a>) -&gt; <span class="keywordtype">bool</span> {</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1RecurrenceDescriptor.html">RecurrenceDescriptor</a> &amp;RdxDesc = <a class="code" href="LoopStrengthReduce_8cpp.html#a175f1f53cc9c3619505ffbd13aca087f">Reduction</a>.second;</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;    <span class="keywordflow">return</span> RdxDesc.<a class="code" href="classllvm_1_1RecurrenceDescriptor.html#a9e4044de402972428a2101b8afcaa1b7">IntermediateStore</a> == <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>;</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;  });</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;}</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160; </div>
<div class="line"><a name="l01047"></a><span class="lineno"><a class="line" href="classllvm_1_1LoopVectorizationLegality.html#a34f384c7ff8e4b23cc79156daf2a5c11"> 1047</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1LoopVectorizationLegality.html#a34f384c7ff8e4b23cc79156daf2a5c11">LoopVectorizationLegality::isInvariantAddressOfReduction</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *V) {</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a61d13d6824ec46c31260a4fd0997eda0">any_of</a>(<a class="code" href="classllvm_1_1LoopVectorizationLegality.html#af49cf566ea4419d8bb29960c6ad1c8e2">getReductionVars</a>(), [&amp;](<span class="keyword">auto</span> &amp;<a class="code" href="LoopStrengthReduce_8cpp.html#a175f1f53cc9c3619505ffbd13aca087f">Reduction</a>) -&gt; <span class="keywordtype">bool</span> {</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1RecurrenceDescriptor.html">RecurrenceDescriptor</a> &amp;RdxDesc = <a class="code" href="LoopStrengthReduce_8cpp.html#a175f1f53cc9c3619505ffbd13aca087f">Reduction</a>.second;</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;    <span class="keywordflow">if</span> (!RdxDesc.<a class="code" href="classllvm_1_1RecurrenceDescriptor.html#a9e4044de402972428a2101b8afcaa1b7">IntermediateStore</a>)</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160; </div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;    <a class="code" href="classllvm_1_1ScalarEvolution.html">ScalarEvolution</a> *SE = PSE.<a class="code" href="classllvm_1_1PredicatedScalarEvolution.html#a872704344573663359494dca7554c198">getSE</a>();</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *InvariantAddress = RdxDesc.<a class="code" href="classllvm_1_1RecurrenceDescriptor.html#a9e4044de402972428a2101b8afcaa1b7">IntermediateStore</a>-&gt;<a class="code" href="classllvm_1_1StoreInst.html#ac03c1c093059ea000216af8dd6f2dbf4">getPointerOperand</a>();</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;    <span class="keywordflow">return</span> V == InvariantAddress ||</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;           SE-&gt;<a class="code" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(V) == SE-&gt;<a class="code" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(InvariantAddress);</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;  });</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;}</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160; </div>
<div class="line"><a name="l01060"></a><span class="lineno"><a class="line" href="classllvm_1_1LoopVectorizationLegality.html#a7803d6f1162773c3b1a61e3ff441fcb8"> 1060</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1LoopVectorizationLegality.html#a7803d6f1162773c3b1a61e3ff441fcb8">LoopVectorizationLegality::isInductionPhi</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *V)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *In0 = <span class="keyword">const_cast&lt;</span><a class="code" href="classllvm_1_1Value.html">Value</a> *<span class="keyword">&gt;</span>(V);</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;  <a class="code" href="classllvm_1_1PHINode.html">PHINode</a> *PN = dyn_cast_or_null&lt;PHINode&gt;(In0);</div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;  <span class="keywordflow">if</span> (!PN)</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160; </div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;  <span class="keywordflow">return</span> Inductions.<a class="code" href="classllvm_1_1MapVector.html#a041e60c6f5f9841f3dc74921ea87bec2">count</a>(PN);</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;}</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160; </div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;<span class="keyword">const</span> <a class="code" href="classllvm_1_1InductionDescriptor.html">InductionDescriptor</a> *</div>
<div class="line"><a name="l01070"></a><span class="lineno"><a class="line" href="classllvm_1_1LoopVectorizationLegality.html#a74bcb5c6d80d9d7fb0eeb1131eeef2dc"> 1070</a></span>&#160;<a class="code" href="classllvm_1_1LoopVectorizationLegality.html#a74bcb5c6d80d9d7fb0eeb1131eeef2dc">LoopVectorizationLegality::getIntOrFpInductionDescriptor</a>(<a class="code" href="classllvm_1_1PHINode.html">PHINode</a> *Phi)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1LoopVectorizationLegality.html#a7803d6f1162773c3b1a61e3ff441fcb8">isInductionPhi</a>(Phi))</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;  <span class="keyword">auto</span> &amp;<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a> = <a class="code" href="classllvm_1_1LoopVectorizationLegality.html#a64cd54bcf6a18f67300e34ef9deeb4fc">getInductionVars</a>().<a class="code" href="classllvm_1_1MapVector.html#a6b0c3e15c351ba9682837c29b0a141b6">find</a>(Phi)-&gt;second;</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>.getKind() == <a class="code" href="classllvm_1_1InductionDescriptor.html#ac2d32589e2e153088b8a35db1a9eabccaf0191e822c9708e106d7bb58aa9ec947">InductionDescriptor::IK_IntInduction</a> ||</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;      <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>.getKind() == <a class="code" href="classllvm_1_1InductionDescriptor.html#ac2d32589e2e153088b8a35db1a9eabccab0b71801de025f26b088a8cb22825f79">InductionDescriptor::IK_FpInduction</a>)</div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;    <span class="keywordflow">return</span> &amp;<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>;</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;}</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160; </div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;<span class="keyword">const</span> <a class="code" href="classllvm_1_1InductionDescriptor.html">InductionDescriptor</a> *</div>
<div class="line"><a name="l01081"></a><span class="lineno"><a class="line" href="classllvm_1_1LoopVectorizationLegality.html#a728069d0bcacf976cbb3764bad749562"> 1081</a></span>&#160;<a class="code" href="classllvm_1_1LoopVectorizationLegality.html#a728069d0bcacf976cbb3764bad749562">LoopVectorizationLegality::getPointerInductionDescriptor</a>(<a class="code" href="classllvm_1_1PHINode.html">PHINode</a> *Phi)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1LoopVectorizationLegality.html#a7803d6f1162773c3b1a61e3ff441fcb8">isInductionPhi</a>(Phi))</div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;  <span class="keyword">auto</span> &amp;<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a> = <a class="code" href="classllvm_1_1LoopVectorizationLegality.html#a64cd54bcf6a18f67300e34ef9deeb4fc">getInductionVars</a>().<a class="code" href="classllvm_1_1MapVector.html#a6b0c3e15c351ba9682837c29b0a141b6">find</a>(Phi)-&gt;second;</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>.getKind() == <a class="code" href="classllvm_1_1InductionDescriptor.html#ac2d32589e2e153088b8a35db1a9eabccab61689ca7d0a024fc4ff52a74d691ae2">InductionDescriptor::IK_PtrInduction</a>)</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;    <span class="keywordflow">return</span> &amp;<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>;</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;}</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160; </div>
<div class="line"><a name="l01090"></a><span class="lineno"><a class="line" href="classllvm_1_1LoopVectorizationLegality.html#afd0c0e675aff7e870f18b9c911977b7a"> 1090</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1LoopVectorizationLegality.html#afd0c0e675aff7e870f18b9c911977b7a">LoopVectorizationLegality::isCastedInductionVariable</a>(</div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *V)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;  <span class="keyword">auto</span> *Inst = dyn_cast&lt;Instruction&gt;(V);</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;  <span class="keywordflow">return</span> (Inst &amp;&amp; InductionCastsToIgnore.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a1f475b0df44ebd7169e720fa1bf9169e">count</a>(Inst));</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;}</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160; </div>
<div class="line"><a name="l01096"></a><span class="lineno"><a class="line" href="classllvm_1_1LoopVectorizationLegality.html#af9f3d6495086eb1a43e829bf045fd073"> 1096</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1LoopVectorizationLegality.html#af9f3d6495086eb1a43e829bf045fd073">LoopVectorizationLegality::isInductionVariable</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *V)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1LoopVectorizationLegality.html#a7803d6f1162773c3b1a61e3ff441fcb8">isInductionPhi</a>(V) || <a class="code" href="classllvm_1_1LoopVectorizationLegality.html#afd0c0e675aff7e870f18b9c911977b7a">isCastedInductionVariable</a>(V);</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;}</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160; </div>
<div class="line"><a name="l01100"></a><span class="lineno"><a class="line" href="classllvm_1_1LoopVectorizationLegality.html#a5d6b8f1a562e7d26404946de46d3045b"> 1100</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1LoopVectorizationLegality.html#a5d6b8f1a562e7d26404946de46d3045b">LoopVectorizationLegality::isFixedOrderRecurrence</a>(</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1PHINode.html">PHINode</a> *Phi)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;  <span class="keywordflow">return</span> FixedOrderRecurrences.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a1f475b0df44ebd7169e720fa1bf9169e">count</a>(Phi);</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;}</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160; </div>
<div class="line"><a name="l01105"></a><span class="lineno"><a class="line" href="classllvm_1_1LoopVectorizationLegality.html#a3b78b24a3c241e611957b82cd12640da"> 1105</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1LoopVectorizationLegality.html#a3b78b24a3c241e611957b82cd12640da">LoopVectorizationLegality::blockNeedsPredication</a>(<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1LoopAccessInfo.html#aa67d22298695c49e80b79cb8a271928b">LoopAccessInfo::blockNeedsPredication</a>(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>, TheLoop, DT);</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;}</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160; </div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;<span class="keywordtype">bool</span> LoopVectorizationLegality::blockCanBePredicated(</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;    <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>, <a class="code" href="classllvm_1_1SmallPtrSetImpl.html">SmallPtrSetImpl&lt;Value *&gt;</a> &amp;SafePtrs,</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;    <a class="code" href="classllvm_1_1SmallPtrSetImpl.html">SmallPtrSetImpl&lt;const Instruction *&gt;</a> &amp;MaskedOp,</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;    <a class="code" href="classllvm_1_1SmallPtrSetImpl.html">SmallPtrSetImpl&lt;Instruction *&gt;</a> &amp;ConditionalAssumes)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> : *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>) {</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;    <span class="comment">// We can predicate blocks with calls to assume, as long as we drop them in</span></div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;    <span class="comment">// case we flatten the CFG via predication.</span></div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(&amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, m_Intrinsic&lt;Intrinsic::assume&gt;())) {</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;      ConditionalAssumes.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">insert</a>(&amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;    }</div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160; </div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;    <span class="comment">// Do not let llvm.experimental.noalias.scope.decl block the vectorization.</span></div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;    <span class="comment">// TODO: there might be cases that it should block the vectorization. Let&#39;s</span></div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;    <span class="comment">// ignore those for now.</span></div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;    <span class="keywordflow">if</span> (isa&lt;NoAliasScopeDeclInst&gt;(&amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>))</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160; </div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;    <span class="comment">// Loads are handled via masking (or speculated if safe to do so.)</span></div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> *LI = dyn_cast&lt;LoadInst&gt;(&amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)) {</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;      <span class="keywordflow">if</span> (!SafePtrs.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a1f475b0df44ebd7169e720fa1bf9169e">count</a>(LI-&gt;getPointerOperand()))</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;        MaskedOp.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">insert</a>(LI);</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;    }</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160; </div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;    <span class="comment">// Predicated store requires some form of masking:</span></div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;    <span class="comment">// 1) masked store HW instruction,</span></div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;    <span class="comment">// 2) emulation via load-blend-store (only if safe and legal to do so,</span></div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;    <span class="comment">//    be aware on the race conditions), or</span></div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;    <span class="comment">// 3) element-by-element predicate check and scalar store.</span></div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> *<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a> = dyn_cast&lt;StoreInst&gt;(&amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)) {</div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;      MaskedOp.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">insert</a>(<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>);</div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;    }</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160; </div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.mayReadFromMemory() || <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.mayWriteToMemory() || <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.mayThrow())</div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;  }</div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160; </div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;}</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160; </div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;<span class="keywordtype">bool</span> LoopVectorizationLegality::canVectorizeWithIfConvert() {</div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="LoopVectorizationLegality_8cpp.html#ab10ac4a80fce310e0fa7c74066153ebc">EnableIfConversion</a>) {</div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;    <a class="code" href="namespacellvm.html#ab425bb10a0f4af749bbb29aa07fc6854">reportVectorizationFailure</a>(<span class="stringliteral">&quot;If-conversion is disabled&quot;</span>,</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;                               <span class="stringliteral">&quot;if-conversion is disabled&quot;</span>,</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;                               <span class="stringliteral">&quot;IfConversionDisabled&quot;</span>,</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;                               ORE, TheLoop);</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;  }</div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160; </div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(TheLoop-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a261ee3c4745564c7be9283984c9af06b">getNumBlocks</a>() &gt; 1 &amp;&amp; <span class="stringliteral">&quot;Single block loops are vectorizable&quot;</span>);</div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160; </div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;  <span class="comment">// A list of pointers which are known to be dereferenceable within scope of</span></div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;  <span class="comment">// the loop body for each iteration of the loop which executes.  That is,</span></div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;  <span class="comment">// the memory pointed to can be dereferenced (with the access size implied by</span></div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;  <span class="comment">// the value&#39;s type) unconditionally within the loop header without</span></div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;  <span class="comment">// introducing a new fault.</span></div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;  <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;Value *, 8&gt;</a> SafePointers;</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160; </div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;  <span class="comment">// Collect safe addresses.</span></div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a> : TheLoop-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a40f34cc77d2b3bc73384f535c8101858">blocks</a>()) {</div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1LoopVectorizationLegality.html#a3b78b24a3c241e611957b82cd12640da">blockNeedsPredication</a>(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>)) {</div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> : *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>)</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;        <span class="keywordflow">if</span> (<span class="keyword">auto</span> *<a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a> = <a class="code" href="namespacellvm.html#aee44336886a06f3c1b8c35c701ba8316">getLoadStorePointerOperand</a>(&amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>))</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;          SafePointers.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">insert</a>(<a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>);</div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;    }</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160; </div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;    <span class="comment">// For a block which requires predication, a address may be safe to access</span></div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;    <span class="comment">// in the loop w/o predication if we can prove dereferenceability facts</span></div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;    <span class="comment">// sufficient to ensure it&#39;ll never fault within the loop. For the moment,</span></div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;    <span class="comment">// we restrict this to loads; stores are more complicated due to</span></div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;    <span class="comment">// concurrency restrictions.</span></div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;    <a class="code" href="classllvm_1_1ScalarEvolution.html">ScalarEvolution</a> &amp;SE = *PSE.<a class="code" href="classllvm_1_1PredicatedScalarEvolution.html#a872704344573663359494dca7554c198">getSE</a>();</div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> : *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>) {</div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;      <a class="code" href="classllvm_1_1LoadInst.html">LoadInst</a> *LI = dyn_cast&lt;LoadInst&gt;(&amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;      <span class="keywordflow">if</span> (LI &amp;&amp; !LI-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a1bc022868b23918efa44df511f4d5b61">isVectorTy</a>() &amp;&amp; !<a class="code" href="namespacellvm.html#a423120c6a3bab0386276333090b574f8">mustSuppressSpeculation</a>(*LI) &amp;&amp;</div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;          <a class="code" href="namespacellvm.html#a826c4ac42a32ca006a5a26537917996e">isDereferenceableAndAlignedInLoop</a>(LI, TheLoop, SE, *DT, AC))</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;        SafePointers.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">insert</a>(LI-&gt;<a class="code" href="classllvm_1_1LoadInst.html#ad47eefa1d094f60494b6b927061ca001">getPointerOperand</a>());</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;    }</div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;  }</div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160; </div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;  <span class="comment">// Collect the blocks that need predication.</span></div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a> : TheLoop-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a40f34cc77d2b3bc73384f535c8101858">blocks</a>()) {</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;    <span class="comment">// We don&#39;t support switch statements inside loops.</span></div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;    <span class="keywordflow">if</span> (!isa&lt;BranchInst&gt;(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>-&gt;getTerminator())) {</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;      <a class="code" href="namespacellvm.html#ab425bb10a0f4af749bbb29aa07fc6854">reportVectorizationFailure</a>(<span class="stringliteral">&quot;Loop contains a switch statement&quot;</span>,</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;                                 <span class="stringliteral">&quot;loop contains a switch statement&quot;</span>,</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;                                 <span class="stringliteral">&quot;LoopContainsSwitch&quot;</span>, ORE, TheLoop,</div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;                                 <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>-&gt;getTerminator());</div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;    }</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160; </div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;    <span class="comment">// We must be able to predicate all blocks that need to be predicated.</span></div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1LoopVectorizationLegality.html#a3b78b24a3c241e611957b82cd12640da">blockNeedsPredication</a>(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>)) {</div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;      <span class="keywordflow">if</span> (!blockCanBePredicated(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>, SafePointers, MaskedOp,</div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;                                ConditionalAssumes)) {</div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;        <a class="code" href="namespacellvm.html#ab425bb10a0f4af749bbb29aa07fc6854">reportVectorizationFailure</a>(</div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;            <span class="stringliteral">&quot;Control flow cannot be substituted for a select&quot;</span>,</div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;            <span class="stringliteral">&quot;control flow cannot be substituted for a select&quot;</span>,</div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;            <span class="stringliteral">&quot;NoCFGForSelect&quot;</span>, ORE, TheLoop,</div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;            <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>-&gt;getTerminator());</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;      }</div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;    }</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;  }</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160; </div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;  <span class="comment">// We can if-convert this loop.</span></div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;}</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160; </div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;<span class="comment">// Helper function to canVectorizeLoopNestCFG.</span></div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;<span class="keywordtype">bool</span> LoopVectorizationLegality::canVectorizeLoopCFG(<a class="code" href="classllvm_1_1Loop.html">Loop</a> *Lp,</div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;                                                    <span class="keywordtype">bool</span> UseVPlanNativePath) {</div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((UseVPlanNativePath || Lp-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a16165c1e5da45acaa086c3a54a188d34">isInnermost</a>()) &amp;&amp;</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;         <span class="stringliteral">&quot;VPlan-native path is not enabled.&quot;</span>);</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160; </div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;  <span class="comment">// TODO: ORE should be improved to show more accurate information when an</span></div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;  <span class="comment">// outer loop can&#39;t be vectorized because a nested loop is not understood or</span></div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;  <span class="comment">// legal. Something like: &quot;outer_loop_location: loop not vectorized:</span></div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;  <span class="comment">// (inner_loop_location) loop control flow is not understood by vectorizer&quot;.</span></div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160; </div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;  <span class="comment">// Store the result and return it at the end instead of exiting early, in case</span></div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;  <span class="comment">// allowExtraAnalysis is used to report multiple reasons for not vectorizing.</span></div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="namespacellvm_1_1ms__demangle.html#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">Result</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;  <span class="keywordtype">bool</span> DoExtraAnalysis = ORE-&gt;<a class="code" href="classllvm_1_1OptimizationRemarkEmitter.html#a74b26949a0dd7a5fab2ba1b0da204e50">allowExtraAnalysis</a>(<a class="code" href="LoopVectorizationLegality_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">DEBUG_TYPE</a>);</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160; </div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;  <span class="comment">// We must have a loop in canonical form. Loops with indirectbr in them cannot</span></div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;  <span class="comment">// be canonicalized.</span></div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;  <span class="keywordflow">if</span> (!Lp-&gt;<a class="code" href="classllvm_1_1LoopBase.html#ac3280e7f76f955403fe17eacf126b90d">getLoopPreheader</a>()) {</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;    <a class="code" href="namespacellvm.html#ab425bb10a0f4af749bbb29aa07fc6854">reportVectorizationFailure</a>(<span class="stringliteral">&quot;Loop doesn&#39;t have a legal pre-header&quot;</span>,</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;        <span class="stringliteral">&quot;loop control flow is not understood by vectorizer&quot;</span>,</div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;        <span class="stringliteral">&quot;CFGNotUnderstood&quot;</span>, ORE, TheLoop);</div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;    <span class="keywordflow">if</span> (DoExtraAnalysis)</div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;      <a class="code" href="namespacellvm_1_1ms__demangle.html#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">Result</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;  }</div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160; </div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;  <span class="comment">// We must have a single backedge.</span></div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;  <span class="keywordflow">if</span> (Lp-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a389bb3581ba3c8094b89642efaf8e514">getNumBackEdges</a>() != 1) {</div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;    <a class="code" href="namespacellvm.html#ab425bb10a0f4af749bbb29aa07fc6854">reportVectorizationFailure</a>(<span class="stringliteral">&quot;The loop must have a single backedge&quot;</span>,</div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;        <span class="stringliteral">&quot;loop control flow is not understood by vectorizer&quot;</span>,</div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;        <span class="stringliteral">&quot;CFGNotUnderstood&quot;</span>, ORE, TheLoop);</div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;    <span class="keywordflow">if</span> (DoExtraAnalysis)</div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;      <a class="code" href="namespacellvm_1_1ms__demangle.html#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">Result</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;  }</div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160; </div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1ms__demangle.html#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">Result</a>;</div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;}</div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160; </div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;<span class="keywordtype">bool</span> LoopVectorizationLegality::canVectorizeLoopNestCFG(</div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;    <a class="code" href="classllvm_1_1Loop.html">Loop</a> *Lp, <span class="keywordtype">bool</span> UseVPlanNativePath) {</div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;  <span class="comment">// Store the result and return it at the end instead of exiting early, in case</span></div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;  <span class="comment">// allowExtraAnalysis is used to report multiple reasons for not vectorizing.</span></div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="namespacellvm_1_1ms__demangle.html#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">Result</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;  <span class="keywordtype">bool</span> DoExtraAnalysis = ORE-&gt;<a class="code" href="classllvm_1_1OptimizationRemarkEmitter.html#a74b26949a0dd7a5fab2ba1b0da204e50">allowExtraAnalysis</a>(<a class="code" href="LoopVectorizationLegality_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">DEBUG_TYPE</a>);</div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;  <span class="keywordflow">if</span> (!canVectorizeLoopCFG(Lp, UseVPlanNativePath)) {</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;    <span class="keywordflow">if</span> (DoExtraAnalysis)</div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;      <a class="code" href="namespacellvm_1_1ms__demangle.html#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">Result</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;  }</div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160; </div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;  <span class="comment">// Recursively check whether the loop control flow of nested loops is</span></div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;  <span class="comment">// understood.</span></div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Loop.html">Loop</a> *SubLp : *Lp)</div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;    <span class="keywordflow">if</span> (!canVectorizeLoopNestCFG(SubLp, UseVPlanNativePath)) {</div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;      <span class="keywordflow">if</span> (DoExtraAnalysis)</div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;        <a class="code" href="namespacellvm_1_1ms__demangle.html#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">Result</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;    }</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160; </div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1ms__demangle.html#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">Result</a>;</div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;}</div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160; </div>
<div class="line"><a name="l01289"></a><span class="lineno"><a class="line" href="classllvm_1_1LoopVectorizationLegality.html#a3ce10d1174bdfcac2b73ed7efa352b7f"> 1289</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1LoopVectorizationLegality.html#a3ce10d1174bdfcac2b73ed7efa352b7f">LoopVectorizationLegality::canVectorize</a>(<span class="keywordtype">bool</span> UseVPlanNativePath) {</div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;  <span class="comment">// Store the result and return it at the end instead of exiting early, in case</span></div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;  <span class="comment">// allowExtraAnalysis is used to report multiple reasons for not vectorizing.</span></div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;  <span class="keywordtype">bool</span> Result = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160; </div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;  <span class="keywordtype">bool</span> DoExtraAnalysis = ORE-&gt;<a class="code" href="classllvm_1_1OptimizationRemarkEmitter.html#a74b26949a0dd7a5fab2ba1b0da204e50">allowExtraAnalysis</a>(<a class="code" href="LoopVectorizationLegality_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">DEBUG_TYPE</a>);</div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;  <span class="comment">// Check whether the loop-related control flow in the loop nest is expected by</span></div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;  <span class="comment">// vectorizer.</span></div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;  <span class="keywordflow">if</span> (!canVectorizeLoopNestCFG(TheLoop, UseVPlanNativePath)) {</div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;    <span class="keywordflow">if</span> (DoExtraAnalysis)</div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;      Result = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;  }</div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160; </div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;  <span class="comment">// We need to have a loop header.</span></div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;LV: Found a loop: &quot;</span> &lt;&lt; TheLoop-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a58c5b170ea68b41e94ebb0019523a68f">getHeader</a>()-&gt;<a class="code" href="classllvm_1_1Value.html#adb5c319f5905c1d3ca9eb5df546388c5">getName</a>()</div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;                    &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160; </div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;  <span class="comment">// Specific checks for outer loops. We skip the remaining legal checks at this</span></div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;  <span class="comment">// point because they don&#39;t support outer loops.</span></div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;  <span class="keywordflow">if</span> (!TheLoop-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a16165c1e5da45acaa086c3a54a188d34">isInnermost</a>()) {</div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(UseVPlanNativePath &amp;&amp; <span class="stringliteral">&quot;VPlan-native path is not enabled.&quot;</span>);</div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160; </div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;    <span class="keywordflow">if</span> (!canVectorizeOuterLoop()) {</div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;      <a class="code" href="namespacellvm.html#ab425bb10a0f4af749bbb29aa07fc6854">reportVectorizationFailure</a>(<span class="stringliteral">&quot;Unsupported outer loop&quot;</span>,</div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;                                 <span class="stringliteral">&quot;unsupported outer loop&quot;</span>,</div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;                                 <span class="stringliteral">&quot;UnsupportedOuterLoop&quot;</span>,</div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;                                 ORE, TheLoop);</div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;      <span class="comment">// TODO: Implement DoExtraAnalysis when subsequent legal checks support</span></div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;      <span class="comment">// outer loops.</span></div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;    }</div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160; </div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;LV: We can vectorize this outer loop!\n&quot;</span>);</div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;    <span class="keywordflow">return</span> Result;</div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;  }</div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160; </div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(TheLoop-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a16165c1e5da45acaa086c3a54a188d34">isInnermost</a>() &amp;&amp; <span class="stringliteral">&quot;Inner loop expected.&quot;</span>);</div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;  <span class="comment">// Check if we can if-convert non-single-bb loops.</span></div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;  <span class="keywordtype">unsigned</span> NumBlocks = TheLoop-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a261ee3c4745564c7be9283984c9af06b">getNumBlocks</a>();</div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;  <span class="keywordflow">if</span> (NumBlocks != 1 &amp;&amp; !canVectorizeWithIfConvert()) {</div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;LV: Can&#39;t if-convert the loop.\n&quot;</span>);</div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;    <span class="keywordflow">if</span> (DoExtraAnalysis)</div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;      Result = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;  }</div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160; </div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;  <span class="comment">// Check if we can vectorize the instructions and CFG in this loop.</span></div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;  <span class="keywordflow">if</span> (!canVectorizeInstrs()) {</div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;LV: Can&#39;t vectorize the instructions or CFG\n&quot;</span>);</div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;    <span class="keywordflow">if</span> (DoExtraAnalysis)</div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;      Result = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;  }</div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160; </div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;  <span class="comment">// Go over each instruction and look at memory deps.</span></div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;  <span class="keywordflow">if</span> (!canVectorizeMemory()) {</div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;LV: Can&#39;t vectorize due to memory conflicts\n&quot;</span>);</div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;    <span class="keywordflow">if</span> (DoExtraAnalysis)</div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;      Result = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;  }</div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160; </div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;LV: We can vectorize this loop&quot;</span></div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;                    &lt;&lt; (LAI-&gt;<a class="code" href="classllvm_1_1LoopAccessInfo.html#adb954e9d6470002f8ebd563b9d611bb7">getRuntimePointerChecking</a>()-&gt;<a class="code" href="classllvm_1_1RuntimePointerChecking.html#a177df4fcdf758fb57ca59102c15d30c3">Need</a></div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;                            ? <span class="stringliteral">&quot; (with a runtime bound check)&quot;</span></div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;                            : <span class="stringliteral">&quot;&quot;</span>)</div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;                    &lt;&lt; <span class="stringliteral">&quot;!\n&quot;</span>);</div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160; </div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;  <span class="keywordtype">unsigned</span> SCEVThreshold = <a class="code" href="LoopVectorizationLegality_8cpp.html#a1576589b71201bd3db2719c862a74b75">VectorizeSCEVCheckThreshold</a>;</div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;  <span class="keywordflow">if</span> (Hints-&gt;getForce() == <a class="code" href="classllvm_1_1LoopVectorizeHints.html#a55ab1072c44295ad279535d714a0f33ea278ca681847fb2bad9707f76d899b231">LoopVectorizeHints::FK_Enabled</a>)</div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;    SCEVThreshold = <a class="code" href="LoopVectorizationLegality_8cpp.html#a252ba2f9debb1d43ac35846b31e96a06">PragmaVectorizeSCEVCheckThreshold</a>;</div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160; </div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;  <span class="keywordflow">if</span> (PSE.<a class="code" href="classllvm_1_1PredicatedScalarEvolution.html#a12a8ac8838fb851a2de5dc5275307bb6">getPredicate</a>().<a class="code" href="classllvm_1_1SCEVPredicate.html#a4e26ec305e394c496dd3f2a16c6d58e5">getComplexity</a>() &gt; SCEVThreshold) {</div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;    <a class="code" href="namespacellvm.html#ab425bb10a0f4af749bbb29aa07fc6854">reportVectorizationFailure</a>(<span class="stringliteral">&quot;Too many SCEV checks needed&quot;</span>,</div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;        <span class="stringliteral">&quot;Too many SCEV assumptions need to be made and checked at runtime&quot;</span>,</div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;        <span class="stringliteral">&quot;TooManySCEVRunTimeChecks&quot;</span>, ORE, TheLoop);</div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;    <span class="keywordflow">if</span> (DoExtraAnalysis)</div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;      Result = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;  }</div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160; </div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;  <span class="comment">// Okay! We&#39;ve done all the tests. If any have failed, return false. Otherwise</span></div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;  <span class="comment">// we can vectorize, and at this point we don&#39;t have any other mem analysis</span></div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;  <span class="comment">// which may limit our maximum vectorization factor, so just return true with</span></div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;  <span class="comment">// no restrictions.</span></div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;  <span class="keywordflow">return</span> Result;</div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;}</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160; </div>
<div class="line"><a name="l01383"></a><span class="lineno"><a class="line" href="classllvm_1_1LoopVectorizationLegality.html#abc31c4cb45dd05eef2bf3f4e76464558"> 1383</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1LoopVectorizationLegality.html#abc31c4cb45dd05eef2bf3f4e76464558">LoopVectorizationLegality::prepareToFoldTailByMasking</a>() {</div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160; </div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;LV: checking if tail can be folded by masking.\n&quot;</span>);</div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160; </div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;  <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;const Value *, 8&gt;</a> ReductionLiveOuts;</div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160; </div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;<a class="code" href="LoopStrengthReduce_8cpp.html#a175f1f53cc9c3619505ffbd13aca087f">Reduction</a> : <a class="code" href="classllvm_1_1LoopVectorizationLegality.html#af49cf566ea4419d8bb29960c6ad1c8e2">getReductionVars</a>())</div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;    ReductionLiveOuts.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">insert</a>(<a class="code" href="LoopStrengthReduce_8cpp.html#a175f1f53cc9c3619505ffbd13aca087f">Reduction</a>.second.getLoopExitInstr());</div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160; </div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;  <span class="comment">// TODO: handle non-reduction outside users when tail is folded by masking.</span></div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> *AE : AllowedExit) {</div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;    <span class="comment">// Check that all users of allowed exit values are inside the loop or</span></div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;    <span class="comment">// are the live-out of a reduction.</span></div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;    <span class="keywordflow">if</span> (ReductionLiveOuts.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a1f475b0df44ebd7169e720fa1bf9169e">count</a>(AE))</div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1User.html">User</a> *U : AE-&gt;<a class="code" href="classllvm_1_1Value.html#ab4e0512c7e1c7adaa56677e3155685f1">users</a>()) {</div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;      <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *UI = cast&lt;Instruction&gt;(U);</div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;      <span class="keywordflow">if</span> (TheLoop-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a04337b572d34ea413c35dbac5d75530b">contains</a>(UI))</div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;      <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(</div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;          <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>()</div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;          &lt;&lt; <span class="stringliteral">&quot;LV: Cannot fold tail by masking, loop has an outside user for &quot;</span></div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;          &lt;&lt; *UI &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;    }</div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;  }</div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160; </div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;  <span class="comment">// The list of pointers that we can safely read and write to remains empty.</span></div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;  <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;Value *, 8&gt;</a> SafePointers;</div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160; </div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;  <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;const Instruction *, 8&gt;</a> TmpMaskedOp;</div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;  <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;Instruction *, 8&gt;</a> TmpConditionalAssumes;</div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160; </div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;  <span class="comment">// Check and mark all blocks for predication, including those that ordinarily</span></div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;  <span class="comment">// do not need predication such as the header block.</span></div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a> : TheLoop-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a40f34cc77d2b3bc73384f535c8101858">blocks</a>()) {</div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;    <span class="keywordflow">if</span> (!blockCanBePredicated(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>, SafePointers, TmpMaskedOp,</div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;                              TmpConditionalAssumes)) {</div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;      <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;LV: Cannot fold tail by masking as requested.\n&quot;</span>);</div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;    }</div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;  }</div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160; </div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;LV: can fold tail by masking.\n&quot;</span>);</div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160; </div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;  MaskedOp.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">insert</a>(TmpMaskedOp.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#abf73a826b5d6f739eb4af48ddf14c5b4">begin</a>(), TmpMaskedOp.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a7004354fbee1c8cd74ed9001915e1db5">end</a>());</div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;  ConditionalAssumes.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">insert</a>(TmpConditionalAssumes.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#abf73a826b5d6f739eb4af48ddf14c5b4">begin</a>(),</div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;                            TmpConditionalAssumes.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a7004354fbee1c8cd74ed9001915e1db5">end</a>());</div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160; </div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;}</div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160; </div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;} <span class="comment">// namespace llvm</span></div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="alib_2Target_2README_8txt_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">i</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2README_8txt_source.html#l00029">README.txt:29</a></div></div>
<div class="ttc" id="anamespacellvm_html_a423120c6a3bab0386276333090b574f8"><div class="ttname"><a href="namespacellvm.html#a423120c6a3bab0386276333090b574f8">llvm::mustSuppressSpeculation</a></div><div class="ttdeci">bool mustSuppressSpeculation(const LoadInst &amp;LI)</div><div class="ttdoc">Return true if speculation of the given load must be suppressed to avoid ordering or interfering with...</div><div class="ttdef"><b>Definition:</b> <a href="ValueTracking_8cpp_source.html#l04788">ValueTracking.cpp:4788</a></div></div>
<div class="ttc" id="aclassllvm_1_1OptimizationRemarkMissed_html"><div class="ttname"><a href="classllvm_1_1OptimizationRemarkMissed.html">llvm::OptimizationRemarkMissed</a></div><div class="ttdoc">Diagnostic information for missed-optimization remarks.</div><div class="ttdef"><b>Definition:</b> <a href="DiagnosticInfo_8h_source.html#l00734">DiagnosticInfo.h:734</a></div></div>
<div class="ttc" id="aclassllvm_1_1Loop_html_a6cb6a58fb0ded82b4c7755fc4c27c86d"><div class="ttname"><a href="classllvm_1_1Loop.html#a6cb6a58fb0ded82b4c7755fc4c27c86d">llvm::Loop::isLoopInvariant</a></div><div class="ttdeci">bool isLoopInvariant(const Value *V) const</div><div class="ttdoc">Return true if the specified value is loop invariant.</div><div class="ttdef"><b>Definition:</b> <a href="LoopInfo_8cpp_source.html#l00060">LoopInfo.cpp:60</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopVectorizationLegality_html_af49cf566ea4419d8bb29960c6ad1c8e2"><div class="ttname"><a href="classllvm_1_1LoopVectorizationLegality.html#af49cf566ea4419d8bb29960c6ad1c8e2">llvm::LoopVectorizationLegality::getReductionVars</a></div><div class="ttdeci">const ReductionList &amp; getReductionVars() const</div><div class="ttdoc">Returns the reduction variables found in the loop.</div><div class="ttdef"><b>Definition:</b> <a href="LoopVectorizationLegality_8h_source.html#l00288">LoopVectorizationLegality.h:288</a></div></div>
<div class="ttc" id="anamespacellvm_html"><div class="ttname"><a href="namespacellvm.html">llvm</a></div><div class="ttdoc">This is an optimization pass for GlobalISel generic memory operations.</div><div class="ttdef"><b>Definition:</b> <a href="AddressRanges_8h_source.html#l00018">AddressRanges.h:18</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html_a4ba3a5be6c0e9b9e8a525de055836733"><div class="ttname"><a href="classllvm_1_1Instruction.html#a4ba3a5be6c0e9b9e8a525de055836733">llvm::Instruction::getModule</a></div><div class="ttdeci">const Module * getModule() const</div><div class="ttdoc">Return the module owning the function this instruction belongs to or nullptr it the function does not...</div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8cpp_source.html#l00070">Instruction.cpp:70</a></div></div>
<div class="ttc" id="aclassllvm_1_1ElementCount_html_a1bddc4949ab247dd1474f79b9bc6e34e"><div class="ttname"><a href="classllvm_1_1ElementCount.html#a1bddc4949ab247dd1474f79b9bc6e34e">llvm::ElementCount::getScalable</a></div><div class="ttdeci">static constexpr ElementCount getScalable(ScalarTy MinVal)</div><div class="ttdef"><b>Definition:</b> <a href="TypeSize_8h_source.html#l00294">TypeSize.h:294</a></div></div>
<div class="ttc" id="anamespacellvm_html_a9a89ad752842d42f055dc74cc19303c3"><div class="ttname"><a href="namespacellvm.html#a9a89ad752842d42f055dc74cc19303c3">llvm::storeToSameAddress</a></div><div class="ttdeci">static bool storeToSameAddress(ScalarEvolution *SE, StoreInst *A, StoreInst *B)</div><div class="ttdoc">Returns true if A and B have same pointer operands or same SCEVs addresses.</div><div class="ttdef"><b>Definition:</b> <a href="LoopVectorizationLegality_8cpp_source.html#l00429">LoopVectorizationLegality.cpp:429</a></div></div>
<div class="ttc" id="aclassllvm_1_1PredicatedScalarEvolution_html_a12a8ac8838fb851a2de5dc5275307bb6"><div class="ttname"><a href="classllvm_1_1PredicatedScalarEvolution.html#a12a8ac8838fb851a2de5dc5275307bb6">llvm::PredicatedScalarEvolution::getPredicate</a></div><div class="ttdeci">const SCEVPredicate &amp; getPredicate() const</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l14758">ScalarEvolution.cpp:14758</a></div></div>
<div class="ttc" id="aclassllvm_1_1DataLayout_html"><div class="ttname"><a href="classllvm_1_1DataLayout.html">llvm::DataLayout</a></div><div class="ttdoc">A parsed version of the target data layout string in and methods for querying it.</div><div class="ttdef"><b>Definition:</b> <a href="DataLayout_8h_source.html#l00110">DataLayout.h:110</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopAccessInfo_html_a24eb2d9c42c36950317f2666255d7535"><div class="ttname"><a href="classllvm_1_1LoopAccessInfo.html#a24eb2d9c42c36950317f2666255d7535">llvm::LoopAccessInfo::isUniform</a></div><div class="ttdeci">bool isUniform(Value *V) const</div><div class="ttdoc">Returns true if the value V is uniform within the loop.</div><div class="ttdef"><b>Definition:</b> <a href="LoopAccessAnalysis_8cpp_source.html#l02548">LoopAccessAnalysis.cpp:2548</a></div></div>
<div class="ttc" id="aclassllvm_1_1BasicBlock_html_a38bee869ad41aebfef3de2641b12004c"><div class="ttname"><a href="classllvm_1_1BasicBlock.html#a38bee869ad41aebfef3de2641b12004c">llvm::BasicBlock::getParent</a></div><div class="ttdeci">const Function * getParent() const</div><div class="ttdoc">Return the enclosing method, or null if none.</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8h_source.html#l00112">BasicBlock.h:112</a></div></div>
<div class="ttc" id="aIntrinsicInst_8h_html"><div class="ttname"><a href="IntrinsicInst_8h.html">IntrinsicInst.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_a3b996fbf8458aafffc86cb98a68d0a47"><div class="ttname"><a href="classllvm_1_1Type.html#a3b996fbf8458aafffc86cb98a68d0a47">llvm::Type::isPointerTy</a></div><div class="ttdeci">bool isPointerTy() const</div><div class="ttdoc">True if this is an instance of PointerType.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00249">Type.h:249</a></div></div>
<div class="ttc" id="aclassllvm_1_1ElementCount_html"><div class="ttname"><a href="classllvm_1_1ElementCount.html">llvm::ElementCount</a></div><div class="ttdef"><b>Definition:</b> <a href="TypeSize_8h_source.html#l00279">TypeSize.h:279</a></div></div>
<div class="ttc" id="aLoopVectorizationLegality_8cpp_html_ab10ac4a80fce310e0fa7c74066153ebc"><div class="ttname"><a href="LoopVectorizationLegality_8cpp.html#ab10ac4a80fce310e0fa7c74066153ebc">EnableIfConversion</a></div><div class="ttdeci">static cl::opt&lt; bool &gt; EnableIfConversion(&quot;enable-if-conversion&quot;, cl::init(true), cl::Hidden, cl::desc(&quot;Enable if-conversion during vectorization.&quot;))</div></div>
<div class="ttc" id="anamespacellvm_html_a11c66d01880f53332fc7ad53f565b039"><div class="ttname"><a href="namespacellvm.html#a11c66d01880f53332fc7ad53f565b039">llvm::getVectorIntrinsicIDForCall</a></div><div class="ttdeci">Intrinsic::ID getVectorIntrinsicIDForCall(const CallInst *CI, const TargetLibraryInfo *TLI)</div><div class="ttdoc">Returns intrinsic ID for call.</div><div class="ttdef"><b>Definition:</b> <a href="VectorUtils_8cpp_source.html#l00135">VectorUtils.cpp:135</a></div></div>
<div class="ttc" id="aLoads_8h_html"><div class="ttname"><a href="Loads_8h.html">Loads.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopVectorizationLegality_html_a5d6b8f1a562e7d26404946de46d3045b"><div class="ttname"><a href="classllvm_1_1LoopVectorizationLegality.html#a5d6b8f1a562e7d26404946de46d3045b">llvm::LoopVectorizationLegality::isFixedOrderRecurrence</a></div><div class="ttdeci">bool isFixedOrderRecurrence(const PHINode *Phi) const</div><div class="ttdoc">Returns True if Phi is a fixed-order recurrence in this loop.</div><div class="ttdef"><b>Definition:</b> <a href="LoopVectorizationLegality_8cpp_source.html#l01100">LoopVectorizationLegality.cpp:1100</a></div></div>
<div class="ttc" id="aclassT_html"><div class="ttname"><a href="classT.html">T</a></div></div>
<div class="ttc" id="aclassllvm_1_1InductionDescriptor_html_afb0dab8e100d4e630966ea4a8c213d8d"><div class="ttname"><a href="classllvm_1_1InductionDescriptor.html#afb0dab8e100d4e630966ea4a8c213d8d">llvm::InductionDescriptor::getExactFPMathInst</a></div><div class="ttdeci">Instruction * getExactFPMathInst()</div><div class="ttdoc">Returns floating-point induction operator that does not allow reassociation (transforming the inducti...</div><div class="ttdef"><b>Definition:</b> <a href="IVDescriptors_8h_source.html#l00357">IVDescriptors.h:357</a></div></div>
<div class="ttc" id="aclassllvm_1_1Function_html"><div class="ttname"><a href="classllvm_1_1Function.html">llvm::Function</a></div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00059">Function.h:59</a></div></div>
<div class="ttc" id="aclassllvm_1_1Loop_html"><div class="ttname"><a href="classllvm_1_1Loop.html">llvm::Loop</a></div><div class="ttdoc">Represents a single loop in the control flow graph.</div><div class="ttdef"><b>Definition:</b> <a href="LoopInfo_8h_source.html#l00547">LoopInfo.h:547</a></div></div>
<div class="ttc" id="aclassllvm_1_1RecurrenceDescriptor_html_a25187781de77a2ccf8406804fe510ce8"><div class="ttname"><a href="classllvm_1_1RecurrenceDescriptor.html#a25187781de77a2ccf8406804fe510ce8">llvm::RecurrenceDescriptor::hasExactFPMath</a></div><div class="ttdeci">bool hasExactFPMath() const</div><div class="ttdoc">Returns true if the recurrence has floating-point math that requires precise (ordered) operations.</div><div class="ttdef"><b>Definition:</b> <a href="IVDescriptors_8h_source.html#l00210">IVDescriptors.h:210</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopBase_html_a04337b572d34ea413c35dbac5d75530b"><div class="ttname"><a href="classllvm_1_1LoopBase.html#a04337b572d34ea413c35dbac5d75530b">llvm::LoopBase::contains</a></div><div class="ttdeci">bool contains(const LoopT *L) const</div><div class="ttdoc">Return true if the specified loop is contained within in this loop.</div><div class="ttdef"><b>Definition:</b> <a href="LoopInfo_8h_source.html#l00139">LoopInfo.h:139</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ARM__MB_html_ad70272e2a9ec2a7e3a497458e1edbc85a7289f7156c17c31399fe5226bf556781"><div class="ttname"><a href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85a7289f7156c17c31399fe5226bf556781">llvm::ARM_MB::LD</a></div><div class="ttdeci">@ LD</div><div class="ttdef"><b>Definition:</b> <a href="MCTargetDesc_2ARMBaseInfo_8h_source.html#l00072">ARMBaseInfo.h:72</a></div></div>
<div class="ttc" id="aclassllvm_1_1details_1_1FixedOrScalableQuantity_html_a338ba7ca7a526243ab1853d07d90fe38"><div class="ttname"><a href="classllvm_1_1details_1_1FixedOrScalableQuantity.html#a338ba7ca7a526243ab1853d07d90fe38">llvm::details::FixedOrScalableQuantity&lt; ElementCount, unsigned &gt;::isKnownLE</a></div><div class="ttdeci">static constexpr bool isKnownLE(const FixedOrScalableQuantity &amp;LHS, const FixedOrScalableQuantity &amp;RHS)</div><div class="ttdef"><b>Definition:</b> <a href="TypeSize_8h_source.html#l00212">TypeSize.h:212</a></div></div>
<div class="ttc" id="aclassllvm_1_1StringRef_html_ad0f54a163ac500b144590640c6f1eb6b"><div class="ttname"><a href="classllvm_1_1StringRef.html#ad0f54a163ac500b144590640c6f1eb6b">llvm::StringRef::npos</a></div><div class="ttdeci">static constexpr size_t npos</div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00052">StringRef.h:52</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVector_html"><div class="ttname"><a href="classllvm_1_1SmallVector.html">llvm::SmallVector</a></div><div class="ttdoc">This is a 'vector' (really, a variable-sized array), optimized for the case when the array is small.</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l01199">SmallVector.h:1199</a></div></div>
<div class="ttc" id="aSizeOpts_8h_html"><div class="ttname"><a href="SizeOpts_8h.html">SizeOpts.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetTransformInfo_html"><div class="ttname"><a href="classllvm_1_1TargetTransformInfo.html">llvm::TargetTransformInfo</a></div><div class="ttdoc">This pass provides access to the codegen interfaces that are needed for IR-level transformations.</div><div class="ttdef"><b>Definition:</b> <a href="TargetTransformInfo_8h_source.html#l00196">TargetTransformInfo.h:196</a></div></div>
<div class="ttc" id="aclassllvm_1_1Loop_html_a615131659002c10601eef598d42d025e"><div class="ttname"><a href="classllvm_1_1Loop.html#a615131659002c10601eef598d42d025e">llvm::Loop::getStartLoc</a></div><div class="ttdeci">DebugLoc getStartLoc() const</div><div class="ttdoc">Return the debug location of the start of this loop.</div><div class="ttdef"><b>Definition:</b> <a href="LoopInfo_8cpp_source.html#l00631">LoopInfo.cpp:631</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLibraryInfo_html_af2dc370c0f0b837f18b006c2d4b8b7cc"><div class="ttname"><a href="classllvm_1_1TargetLibraryInfo.html#af2dc370c0f0b837f18b006c2d4b8b7cc">llvm::TargetLibraryInfo::isFunctionVectorizable</a></div><div class="ttdeci">bool isFunctionVectorizable(StringRef F, const ElementCount &amp;VF) const</div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00343">TargetLibraryInfo.h:343</a></div></div>
<div class="ttc" id="anamespacellvm_html_ac9a7de5a04920954ac964059cfc428ad"><div class="ttname"><a href="namespacellvm.html#ac9a7de5a04920954ac964059cfc428ad">llvm::erase_if</a></div><div class="ttdeci">void erase_if(Container &amp;C, UnaryPredicate P)</div><div class="ttdoc">Provide a container algorithm similar to C++ Library Fundamentals v2's erase_if which is equivalent t...</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l01998">STLExtras.h:1998</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html">llvm::ScalarEvolution</a></div><div class="ttdoc">The main scalar evolution driver.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8h_source.html#l00452">ScalarEvolution.h:452</a></div></div>
<div class="ttc" id="astructllvm_1_1VectorizerParams_html_a6a8f6b7564d1df823a8d8e8dcecf6802"><div class="ttname"><a href="structllvm_1_1VectorizerParams.html#a6a8f6b7564d1df823a8d8e8dcecf6802">llvm::VectorizerParams::VectorizationInterleave</a></div><div class="ttdeci">static unsigned VectorizationInterleave</div><div class="ttdoc">Interleave factor as overridden by the user.</div><div class="ttdef"><b>Definition:</b> <a href="LoopAccessAnalysis_8h_source.html#l00044">LoopAccessAnalysis.h:44</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopVectorizeHints_html_a041ce1f90aff1772f662dd0c8e3ec4f4a99f04f3a0c3cb69e39acbc12c93b49da"><div class="ttname"><a href="classllvm_1_1LoopVectorizeHints.html#a041ce1f90aff1772f662dd0c8e3ec4f4a99f04f3a0c3cb69e39acbc12c93b49da">llvm::LoopVectorizeHints::SK_Unspecified</a></div><div class="ttdeci">@ SK_Unspecified</div><div class="ttdoc">Not selected.</div><div class="ttdef"><b>Definition:</b> <a href="LoopVectorizationLegality_8h_source.html#l00116">LoopVectorizationLegality.h:116</a></div></div>
<div class="ttc" id="aValueTracking_8h_html"><div class="ttname"><a href="ValueTracking_8h.html">ValueTracking.h</a></div></div>
<div class="ttc" id="aOptimizationRemarkEmitter_8h_html"><div class="ttname"><a href="OptimizationRemarkEmitter_8h.html">OptimizationRemarkEmitter.h</a></div></div>
<div class="ttc" id="anamespacellvm_html_ad5f1403d57d5cc4301785b181caa5f1b"><div class="ttname"><a href="namespacellvm.html#ad5f1403d57d5cc4301785b181caa5f1b">llvm::isVectorIntrinsicWithScalarOpAtArg</a></div><div class="ttdeci">bool isVectorIntrinsicWithScalarOpAtArg(Intrinsic::ID ID, unsigned ScalarOpdIdx)</div><div class="ttdoc">Identifies if the vector form of the intrinsic has a scalar operand.</div><div class="ttdef"><b>Definition:</b> <a href="VectorUtils_8cpp_source.html#l00101">VectorUtils.cpp:101</a></div></div>
<div class="ttc" id="aclassllvm_1_1OptimizationRemarkEmitter_html_a74b26949a0dd7a5fab2ba1b0da204e50"><div class="ttname"><a href="classllvm_1_1OptimizationRemarkEmitter.html#a74b26949a0dd7a5fab2ba1b0da204e50">llvm::OptimizationRemarkEmitter::allowExtraAnalysis</a></div><div class="ttdeci">bool allowExtraAnalysis(StringRef PassName) const</div><div class="ttdoc">Whether we allow for extra compile-time budget to perform more analysis to produce fewer false positi...</div><div class="ttdef"><b>Definition:</b> <a href="OptimizationRemarkEmitter_8h_source.html#l00098">OptimizationRemarkEmitter.h:98</a></div></div>
<div class="ttc" id="anamespacellvm_1_1cl_html_a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6"><div class="ttname"><a href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">llvm::cl::Hidden</a></div><div class="ttdeci">@ Hidden</div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00138">CommandLine.h:138</a></div></div>
<div class="ttc" id="aLoopVectorizationLegality_8cpp_html_a1576589b71201bd3db2719c862a74b75"><div class="ttname"><a href="LoopVectorizationLegality_8cpp.html#a1576589b71201bd3db2719c862a74b75">VectorizeSCEVCheckThreshold</a></div><div class="ttdeci">static cl::opt&lt; unsigned &gt; VectorizeSCEVCheckThreshold(&quot;vectorize-scev-check-threshold&quot;, cl::init(16), cl::Hidden, cl::desc(&quot;The maximum number of SCEV checks allowed.&quot;))</div></div>
<div class="ttc" id="aclassllvm_1_1InductionDescriptor_html_ac2d32589e2e153088b8a35db1a9eabccaf0191e822c9708e106d7bb58aa9ec947"><div class="ttname"><a href="classllvm_1_1InductionDescriptor.html#ac2d32589e2e153088b8a35db1a9eabccaf0191e822c9708e106d7bb58aa9ec947">llvm::InductionDescriptor::IK_IntInduction</a></div><div class="ttdeci">@ IK_IntInduction</div><div class="ttdoc">Integer induction variable. Step = C.</div><div class="ttdef"><b>Definition:</b> <a href="IVDescriptors_8h_source.html#l00311">IVDescriptors.h:311</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopVectorizeHints_html_a041ce1f90aff1772f662dd0c8e3ec4f4ac46ef7a95288338ce20df95d296898f4"><div class="ttname"><a href="classllvm_1_1LoopVectorizeHints.html#a041ce1f90aff1772f662dd0c8e3ec4f4ac46ef7a95288338ce20df95d296898f4">llvm::LoopVectorizeHints::SK_FixedWidthOnly</a></div><div class="ttdeci">@ SK_FixedWidthOnly</div><div class="ttdoc">Disables vectorization with scalable vectors.</div><div class="ttdef"><b>Definition:</b> <a href="LoopVectorizationLegality_8h_source.html#l00118">LoopVectorizationLegality.h:118</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html"><div class="ttname"><a href="classllvm_1_1Type.html">llvm::Type</a></div><div class="ttdoc">The instances of the Type class are immutable: once they are created, they are never changed.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00045">Type.h:45</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopVectorizeHints_html_a50cae5c2df432357d50f182d310ce7b7"><div class="ttname"><a href="classllvm_1_1LoopVectorizeHints.html#a50cae5c2df432357d50f182d310ce7b7">llvm::LoopVectorizeHints::getWidth</a></div><div class="ttdeci">ElementCount getWidth() const</div><div class="ttdef"><b>Definition:</b> <a href="LoopVectorizationLegality_8h_source.html#l00138">LoopVectorizationLegality.h:138</a></div></div>
<div class="ttc" id="aclassllvm_1_1ElementCount_html_a584cb8dfa0090b33a969c4dda27337f6"><div class="ttname"><a href="classllvm_1_1ElementCount.html#a584cb8dfa0090b33a969c4dda27337f6">llvm::ElementCount::getFixed</a></div><div class="ttdeci">static constexpr ElementCount getFixed(ScalarTy MinVal)</div><div class="ttdef"><b>Definition:</b> <a href="TypeSize_8h_source.html#l00291">TypeSize.h:291</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopVectorizationLegality_html_a552a158f5a673da0a26461d1471cea41"><div class="ttname"><a href="classllvm_1_1LoopVectorizationLegality.html#a552a158f5a673da0a26461d1471cea41">llvm::LoopVectorizationLegality::canVectorizeFPMath</a></div><div class="ttdeci">bool canVectorizeFPMath(bool EnableStrictReductions)</div><div class="ttdoc">Returns true if it is legal to vectorize the FP math operations in this loop.</div><div class="ttdef"><b>Definition:</b> <a href="LoopVectorizationLegality_8cpp_source.html#l01014">LoopVectorizationLegality.cpp:1014</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopVectorizeHints_html_af0277f27ebe0f8317170a739b2080d0c"><div class="ttname"><a href="classllvm_1_1LoopVectorizeHints.html#af0277f27ebe0f8317170a739b2080d0c">llvm::LoopVectorizeHints::getIsVectorized</a></div><div class="ttdeci">unsigned getIsVectorized() const</div><div class="ttdef"><b>Definition:</b> <a href="LoopVectorizationLegality_8h_source.html#l00152">LoopVectorizationLegality.h:152</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetTransformInfo_html_a7bdad414050f44dd51fe2c193b7992b6"><div class="ttname"><a href="classllvm_1_1TargetTransformInfo.html#a7bdad414050f44dd51fe2c193b7992b6">llvm::TargetTransformInfo::isLegalNTLoad</a></div><div class="ttdeci">bool isLegalNTLoad(Type *DataType, Align Alignment) const</div><div class="ttdoc">Return true if the target supports nontemporal load.</div><div class="ttdef"><b>Definition:</b> <a href="TargetTransformInfo_8cpp_source.html#l00415">TargetTransformInfo.cpp:415</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetTransformInfo_html_a923b761c973df44658c12ab18b29365c"><div class="ttname"><a href="classllvm_1_1TargetTransformInfo.html#a923b761c973df44658c12ab18b29365c">llvm::TargetTransformInfo::isLegalNTStore</a></div><div class="ttdeci">bool isLegalNTStore(Type *DataType, Align Alignment) const</div><div class="ttdoc">Return true if the target supports nontemporal store.</div><div class="ttdef"><b>Definition:</b> <a href="TargetTransformInfo_8cpp_source.html#l00410">TargetTransformInfo.cpp:410</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopVectorizeHints_html_aa68245d8ed8fafd80a06d5092f434093"><div class="ttname"><a href="classllvm_1_1LoopVectorizeHints.html#aa68245d8ed8fafd80a06d5092f434093">llvm::LoopVectorizeHints::LoopVectorizeHints</a></div><div class="ttdeci">LoopVectorizeHints(const Loop *L, bool InterleaveOnlyWhenForced, OptimizationRemarkEmitter &amp;ORE, const TargetTransformInfo *TTI=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="LoopVectorizationLegality_8cpp_source.html#l00097">LoopVectorizationLegality.cpp:97</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantAsMetadata_html_a703ab6c3e14ff7565866468d731f537a"><div class="ttname"><a href="classllvm_1_1ConstantAsMetadata.html#a703ab6c3e14ff7565866468d731f537a">llvm::ConstantAsMetadata::get</a></div><div class="ttdeci">static ConstantAsMetadata * get(Constant *C)</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l00419">Metadata.h:419</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallPtrSet_html"><div class="ttname"><a href="classllvm_1_1SmallPtrSet.html">llvm::SmallPtrSet</a></div><div class="ttdoc">SmallPtrSet - This class implements a set which is optimized for holding SmallSize or less elements.</div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00450">SmallPtrSet.h:450</a></div></div>
<div class="ttc" id="anamespacellvm_html_ab425bb10a0f4af749bbb29aa07fc6854"><div class="ttname"><a href="namespacellvm.html#ab425bb10a0f4af749bbb29aa07fc6854">llvm::reportVectorizationFailure</a></div><div class="ttdeci">void reportVectorizationFailure(const StringRef DebugMsg, const StringRef OREMsg, const StringRef ORETag, OptimizationRemarkEmitter *ORE, Loop *TheLoop, Instruction *I=nullptr)</div><div class="ttdoc">Reports a vectorization failure: print DebugMsg for debugging purposes along with the corresponding o...</div><div class="ttdef"><b>Definition:</b> <a href="LoopVectorize_8cpp_source.html#l00997">LoopVectorize.cpp:997</a></div></div>
<div class="ttc" id="aclassllvm_1_1details_1_1FixedOrScalableQuantity_html_ad96fee81c3174ef427bf779d73fb1ef2"><div class="ttname"><a href="classllvm_1_1details_1_1FixedOrScalableQuantity.html#ad96fee81c3174ef427bf779d73fb1ef2">llvm::details::FixedOrScalableQuantity::isZero</a></div><div class="ttdeci">constexpr bool isZero() const</div><div class="ttdef"><b>Definition:</b> <a href="TypeSize_8h_source.html#l00151">TypeSize.h:151</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoadInst_html_ad47eefa1d094f60494b6b927061ca001"><div class="ttname"><a href="classllvm_1_1LoadInst.html#ad47eefa1d094f60494b6b927061ca001">llvm::LoadInst::getPointerOperand</a></div><div class="ttdeci">Value * getPointerOperand()</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00264">Instructions.h:264</a></div></div>
<div class="ttc" id="anamespacellvm_html_a6dec2b5d3e04b47adf4d918d678e81c9"><div class="ttname"><a href="namespacellvm.html#a6dec2b5d3e04b47adf4d918d678e81c9">llvm::isPowerOf2_32</a></div><div class="ttdeci">constexpr bool isPowerOf2_32(uint32_t Value)</div><div class="ttdoc">Return true if the argument is a power of two &gt; 0.</div><div class="ttdef"><b>Definition:</b> <a href="MathExtras_8h_source.html#l00292">MathExtras.h:292</a></div></div>
<div class="ttc" id="anamespacellvm_html_a38188bfbc3e0351184ed6587bafe8b6a"><div class="ttname"><a href="namespacellvm.html#a38188bfbc3e0351184ed6587bafe8b6a">llvm::isUniformLoopNest</a></div><div class="ttdeci">static bool isUniformLoopNest(Loop *Lp, Loop *OuterLp)</div><div class="ttdef"><b>Definition:</b> <a href="LoopVectorizationLegality_8cpp_source.html#l00377">LoopVectorizationLegality.cpp:377</a></div></div>
<div class="ttc" id="anamespacellvm_1_1RISCVFeatures_html_a33bd43741ac5adb4b9a36f946b927cda"><div class="ttname"><a href="namespacellvm_1_1RISCVFeatures.html#a33bd43741ac5adb4b9a36f946b927cda">llvm::RISCVFeatures::validate</a></div><div class="ttdeci">void validate(const Triple &amp;TT, const FeatureBitset &amp;FeatureBits)</div><div class="ttdef"><b>Definition:</b> <a href="RISCVBaseInfo_8cpp_source.html#l00099">RISCVBaseInfo.cpp:99</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopVectorizationLegality_html_abc31c4cb45dd05eef2bf3f4e76464558"><div class="ttname"><a href="classllvm_1_1LoopVectorizationLegality.html#abc31c4cb45dd05eef2bf3f4e76464558">llvm::LoopVectorizationLegality::prepareToFoldTailByMasking</a></div><div class="ttdeci">bool prepareToFoldTailByMasking()</div><div class="ttdoc">Return true if we can vectorize this loop while folding its tail by masking, and mark all respective ...</div><div class="ttdef"><b>Definition:</b> <a href="LoopVectorizationLegality_8cpp_source.html#l01383">LoopVectorizationLegality.cpp:1383</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_aac5759c83abd6a4af236401a7cfe7a0f"><div class="ttname"><a href="classllvm_1_1Type.html#aac5759c83abd6a4af236401a7cfe7a0f">llvm::Type::isFloatingPointTy</a></div><div class="ttdeci">bool isFloatingPointTy() const</div><div class="ttdoc">Return true if this is one of the floating-point types.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00185">Type.h:185</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_a30dd396c5b40cd86c1591872e574ccdf"><div class="ttname"><a href="classllvm_1_1Type.html#a30dd396c5b40cd86c1591872e574ccdf">llvm::Type::getInt32Ty</a></div><div class="ttdeci">static IntegerType * getInt32Ty(LLVMContext &amp;C)</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00241">Type.cpp:241</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopBase_html_a261ee3c4745564c7be9283984c9af06b"><div class="ttname"><a href="classllvm_1_1LoopBase.html#a261ee3c4745564c7be9283984c9af06b">llvm::LoopBase::getNumBlocks</a></div><div class="ttdeci">unsigned getNumBlocks() const</div><div class="ttdoc">Get the number of blocks in this loop in constant time.</div><div class="ttdef"><b>Definition:</b> <a href="LoopInfo_8h_source.html#l00202">LoopInfo.h:202</a></div></div>
<div class="ttc" id="aDebug_8h_html_a08efc68d15935eb8889400a46c3749ba"><div class="ttname"><a href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a></div><div class="ttdeci">#define LLVM_DEBUG(X)</div><div class="ttdef"><b>Definition:</b> <a href="Debug_8h_source.html#l00101">Debug.h:101</a></div></div>
<div class="ttc" id="aclassllvm_1_1MDNode_html_a7d10a7b9b7f40b04d27ed97c38ea1950"><div class="ttname"><a href="classllvm_1_1MDNode.html#a7d10a7b9b7f40b04d27ed97c38ea1950">llvm::MDNode::get</a></div><div class="ttdeci">static MDTuple * get(LLVMContext &amp;Context, ArrayRef&lt; Metadata * &gt; MDs)</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l01399">Metadata.h:1399</a></div></div>
<div class="ttc" id="aMD5_8cpp_html_a96d73bbd7af15cb1fc38c3f4a3bd82e9"><div class="ttname"><a href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a></div><div class="ttdeci">#define F(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00055">MD5.cpp:55</a></div></div>
<div class="ttc" id="aclassllvm_1_1BasicBlock_html"><div class="ttname"><a href="classllvm_1_1BasicBlock.html">llvm::BasicBlock</a></div><div class="ttdoc">LLVM Basic Block Representation.</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8h_source.html#l00055">BasicBlock.h:55</a></div></div>
<div class="ttc" id="aclassllvm_1_1MDNode_html_aa4068e37ec583962685e3567dc102ae5"><div class="ttname"><a href="classllvm_1_1MDNode.html#aa4068e37ec583962685e3567dc102ae5">llvm::MDNode::getNumOperands</a></div><div class="ttdeci">unsigned getNumOperands() const</div><div class="ttdoc">Return number of MDNode operands.</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l01297">Metadata.h:1297</a></div></div>
<div class="ttc" id="anamespacellvm_html_ac8a1ae2e1de53a840bee516d1f5bb173"><div class="ttname"><a href="namespacellvm.html#ac8a1ae2e1de53a840bee516d1f5bb173">llvm::makePostTransformationMetadata</a></div><div class="ttdeci">llvm::MDNode * makePostTransformationMetadata(llvm::LLVMContext &amp;Context, MDNode *OrigLoopID, llvm::ArrayRef&lt; llvm::StringRef &gt; RemovePrefixes, llvm::ArrayRef&lt; llvm::MDNode * &gt; AddAttrs)</div><div class="ttdoc">Create a new LoopID after the loop has been transformed.</div><div class="ttdef"><b>Definition:</b> <a href="LoopInfo_8cpp_source.html#l01126">LoopInfo.cpp:1126</a></div></div>
<div class="ttc" id="aNVVMIntrRange_8cpp_html_afad351d7bf10ac0446b64e7827634e94"><div class="ttname"><a href="NVVMIntrRange_8cpp.html#afad351d7bf10ac0446b64e7827634e94">Context</a></div><div class="ttdeci">LLVMContext &amp; Context</div><div class="ttdef"><b>Definition:</b> <a href="NVVMIntrRange_8cpp_source.html#l00066">NVVMIntrRange.cpp:66</a></div></div>
<div class="ttc" id="anamespacellvm_html_a7c46c742c31be54870e2038048e6b391"><div class="ttname"><a href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">llvm::dbgs</a></div><div class="ttdeci">raw_ostream &amp; dbgs()</div><div class="ttdoc">dbgs() - This returns a reference to a raw_ostream for debugging messages.</div><div class="ttdef"><b>Definition:</b> <a href="Debug_8cpp_source.html#l00163">Debug.cpp:163</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopVectorizeHints_html_a55ab1072c44295ad279535d714a0f33ea8914fe2dbf82d457456e8e4faa201b87"><div class="ttname"><a href="classllvm_1_1LoopVectorizeHints.html#a55ab1072c44295ad279535d714a0f33ea8914fe2dbf82d457456e8e4faa201b87">llvm::LoopVectorizeHints::FK_Undefined</a></div><div class="ttdeci">@ FK_Undefined</div><div class="ttdoc">Not selected.</div><div class="ttdef"><b>Definition:</b> <a href="LoopVectorizationLegality_8h_source.html#l00109">LoopVectorizationLegality.h:109</a></div></div>
<div class="ttc" id="aAMDGPULibCalls_8cpp_html_afecf1cc1292b07f57d343c0f4d682044"><div class="ttname"><a href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a></div><div class="ttdeci">amdgpu Simplify well known AMD library false FunctionCallee Value * Arg</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPULibCalls_8cpp_source.html#l00187">AMDGPULibCalls.cpp:187</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantInt_html"><div class="ttname"><a href="classllvm_1_1ConstantInt.html">llvm::ConstantInt</a></div><div class="ttdoc">This is the shared class of boolean and integer constants.</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8h_source.html#l00078">Constants.h:78</a></div></div>
<div class="ttc" id="anamespacellvm_html_a0d10fe510ced2849a8074fe81e5d04ce"><div class="ttname"><a href="namespacellvm.html#a0d10fe510ced2849a8074fe81e5d04ce">llvm::all_of</a></div><div class="ttdeci">bool all_of(R &amp;&amp;range, UnaryPredicate P)</div><div class="ttdoc">Provide wrappers to std::all_of which take ranges instead of having to pass begin/end explicitly.</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l01735">STLExtras.h:1735</a></div></div>
<div class="ttc" id="anamespacellvm_html_a3af72f14ea20f2c762c751d2d49e5ea3"><div class="ttname"><a href="namespacellvm.html#a3af72f14ea20f2c762c751d2d49e5ea3">llvm::shouldOptimizeForSize</a></div><div class="ttdeci">bool shouldOptimizeForSize(const MachineFunction *MF, ProfileSummaryInfo *PSI, const MachineBlockFrequencyInfo *BFI, PGSOQueryType QueryType=PGSOQueryType::Other)</div><div class="ttdoc">Returns true if machine function MF is suggested to be size-optimized based on the profile.</div><div class="ttdef"><b>Definition:</b> <a href="MachineSizeOpts_8cpp_source.html#l00183">MachineSizeOpts.cpp:183</a></div></div>
<div class="ttc" id="aclassllvm_1_1InductionDescriptor_html"><div class="ttname"><a href="classllvm_1_1InductionDescriptor.html">llvm::InductionDescriptor</a></div><div class="ttdoc">A struct for saving information about induction variables.</div><div class="ttdef"><b>Definition:</b> <a href="IVDescriptors_8h_source.html#l00306">IVDescriptors.h:306</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopAccessInfo_html_a0300dae8c20912671f2e23f489536627"><div class="ttname"><a href="classllvm_1_1LoopAccessInfo.html#a0300dae8c20912671f2e23f489536627">llvm::LoopAccessInfo::hasDependenceInvolvingLoopInvariantAddress</a></div><div class="ttdeci">bool hasDependenceInvolvingLoopInvariantAddress() const</div><div class="ttdoc">If the loop has memory dependence involving an invariant address, i.e.</div><div class="ttdef"><b>Definition:</b> <a href="LoopAccessAnalysis_8h_source.html#l00625">LoopAccessAnalysis.h:625</a></div></div>
<div class="ttc" id="aLoopVectorizationLegality_8cpp_html_a734c41b9d22521d43d34fddda8b8a575"><div class="ttname"><a href="LoopVectorizationLegality_8cpp.html#a734c41b9d22521d43d34fddda8b8a575">MaxInterleaveFactor</a></div><div class="ttdeci">static const unsigned MaxInterleaveFactor</div><div class="ttdoc">Maximum vectorization interleave count.</div><div class="ttdef"><b>Definition:</b> <a href="LoopVectorizationLegality_8cpp_source.html#l00077">LoopVectorizationLegality.cpp:77</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_a25d956d9e0beadd47ce4bc255dfa811d"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">llvm::PatternMatch::match</a></div><div class="ttdeci">bool match(Val *V, const Pattern &amp;P)</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00049">PatternMatch.h:49</a></div></div>
<div class="ttc" id="aLint_8cpp_html_a45005634b54e2126cb3e6ec0dbc9ade4"><div class="ttname"><a href="Lint_8cpp.html#a45005634b54e2126cb3e6ec0dbc9ade4">isZero</a></div><div class="ttdeci">static bool isZero(Value *V, const DataLayout &amp;DL, DominatorTree *DT, AssumptionCache *AC)</div><div class="ttdef"><b>Definition:</b> <a href="Lint_8cpp_source.html#l00524">Lint.cpp:524</a></div></div>
<div class="ttc" id="aclassllvm_1_1InductionDescriptor_html_ac2d32589e2e153088b8a35db1a9eabccab61689ca7d0a024fc4ff52a74d691ae2"><div class="ttname"><a href="classllvm_1_1InductionDescriptor.html#ac2d32589e2e153088b8a35db1a9eabccab61689ca7d0a024fc4ff52a74d691ae2">llvm::InductionDescriptor::IK_PtrInduction</a></div><div class="ttdeci">@ IK_PtrInduction</div><div class="ttdoc">Pointer induction var. Step = C / sizeof(elem).</div><div class="ttdef"><b>Definition:</b> <a href="IVDescriptors_8h_source.html#l00312">IVDescriptors.h:312</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopAccessInfo_html_aa67d22298695c49e80b79cb8a271928b"><div class="ttname"><a href="classllvm_1_1LoopAccessInfo.html#aa67d22298695c49e80b79cb8a271928b">llvm::LoopAccessInfo::blockNeedsPredication</a></div><div class="ttdeci">static bool blockNeedsPredication(BasicBlock *BB, Loop *TheLoop, DominatorTree *DT)</div><div class="ttdoc">Return true if the block BB needs to be predicated in order for the loop to be vectorized.</div><div class="ttdef"><b>Definition:</b> <a href="LoopAccessAnalysis_8cpp_source.html#l02519">LoopAccessAnalysis.cpp:2519</a></div></div>
<div class="ttc" id="anamespacellvm_html_a16c2d9dca68e87344796fd3d394005b6"><div class="ttname"><a href="namespacellvm.html#a16c2d9dca68e87344796fd3d394005b6">llvm::ValueToValueMap</a></div><div class="ttdeci">DenseMap&lt; const Value *, Value * &gt; ValueToValueMap</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolutionExpressions_8h_source.html#l00887">ScalarEvolutionExpressions.h:887</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopVectorizationLegality_html_a1c9fd1c0627dfa3e013a1b2c7416ae90"><div class="ttname"><a href="classllvm_1_1LoopVectorizationLegality.html#a1c9fd1c0627dfa3e013a1b2c7416ae90">llvm::LoopVectorizationLegality::isInvariantStoreOfReduction</a></div><div class="ttdeci">bool isInvariantStoreOfReduction(StoreInst *SI)</div><div class="ttdoc">Returns True if given store is a final invariant store of one of the reductions found in the loop.</div><div class="ttdef"><b>Definition:</b> <a href="LoopVectorizationLegality_8cpp_source.html#l01040">LoopVectorizationLegality.cpp:1040</a></div></div>
<div class="ttc" id="aclassllvm_1_1User_html"><div class="ttname"><a href="classllvm_1_1User.html">llvm::User</a></div><div class="ttdef"><b>Definition:</b> <a href="User_8h_source.html#l00044">User.h:44</a></div></div>
<div class="ttc" id="anamespacellvm_html_a26a5e408fc09c5664d2bbb2d7fae154e"><div class="ttname"><a href="namespacellvm.html#a26a5e408fc09c5664d2bbb2d7fae154e">llvm::LibFunc</a></div><div class="ttdeci">LibFunc</div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00036">TargetLibraryInfo.h:36</a></div></div>
<div class="ttc" id="aREADME__ALTIVEC_8txt_html_a9aacd9146afe44bf656cd664e2a88c8c"><div class="ttname"><a href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a></div><div class="ttdeci">(vector float) vec_cmpeq(*A, *B) C</div><div class="ttdef"><b>Definition:</b> <a href="README__ALTIVEC_8txt_source.html#l00086">README_ALTIVEC.txt:86</a></div></div>
<div class="ttc" id="anamespacellvm_html_a3eb7a9b091032d4d053727b7a578a97e"><div class="ttname"><a href="namespacellvm.html#a3eb7a9b091032d4d053727b7a578a97e">llvm::isUniformLoop</a></div><div class="ttdeci">static bool isUniformLoop(Loop *Lp, Loop *OuterLp)</div><div class="ttdef"><b>Definition:</b> <a href="LoopVectorizationLegality_8cpp_source.html#l00332">LoopVectorizationLegality.cpp:332</a></div></div>
<div class="ttc" id="aclassllvm_1_1RecurrenceDescriptor_html_aa94672fc5b505badff2cb5592c5e7389"><div class="ttname"><a href="classllvm_1_1RecurrenceDescriptor.html#aa94672fc5b505badff2cb5592c5e7389">llvm::RecurrenceDescriptor::getExactFPMathInst</a></div><div class="ttdeci">Instruction * getExactFPMathInst() const</div><div class="ttdoc">Returns 1st non-reassociative FP instruction in the PHI node's use-chain.</div><div class="ttdef"><b>Definition:</b> <a href="IVDescriptors_8h_source.html#l00213">IVDescriptors.h:213</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallBase_html_a83b8c9e572130f403445c0b0f69b837c"><div class="ttname"><a href="classllvm_1_1CallBase.html#a83b8c9e572130f403445c0b0f69b837c">llvm::CallBase::getCalledFunction</a></div><div class="ttdeci">Function * getCalledFunction() const</div><div class="ttdoc">Returns the function called, or null if this is an indirect function invocation or the function signa...</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l01406">InstrTypes.h:1406</a></div></div>
<div class="ttc" id="aSIInstrInfo_8cpp_html_a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791"><div class="ttname"><a href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a></div><div class="ttdeci">@ SI</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l07993">SIInstrInfo.cpp:7993</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopVectorizeHints_html_abcf8c2b35316773f1ab0ba70aeb2a6de"><div class="ttname"><a href="classllvm_1_1LoopVectorizeHints.html#abcf8c2b35316773f1ab0ba70aeb2a6de">llvm::LoopVectorizeHints::vectorizeAnalysisPassName</a></div><div class="ttdeci">const char * vectorizeAnalysisPassName() const</div><div class="ttdoc">If hints are provided that force vectorization, use the AlwaysPrint pass name to force the frontend t...</div><div class="ttdef"><b>Definition:</b> <a href="LoopVectorizationLegality_8cpp_source.html#l00231">LoopVectorizationLegality.cpp:231</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ms__demangle_html_afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e"><div class="ttname"><a href="namespacellvm_1_1ms__demangle.html#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">llvm::ms_demangle::QualifierMangleMode::Result</a></div><div class="ttdeci">@ Result</div></div>
<div class="ttc" id="aclassllvm_1_1LoopVectorizationRequirements_html_aa8ac08a48fb7e083c5adf9a1cb6091bc"><div class="ttname"><a href="classllvm_1_1LoopVectorizationRequirements.html#aa8ac08a48fb7e083c5adf9a1cb6091bc">llvm::LoopVectorizationRequirements::addExactFPMathInst</a></div><div class="ttdeci">void addExactFPMathInst(Instruction *I)</div><div class="ttdoc">Track the 1st floating-point instruction that can not be reassociated.</div><div class="ttdef"><b>Definition:</b> <a href="LoopVectorizationLegality_8h_source.html#l00217">LoopVectorizationLegality.h:217</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopBase_html_a40f34cc77d2b3bc73384f535c8101858"><div class="ttname"><a href="classllvm_1_1LoopBase.html#a40f34cc77d2b3bc73384f535c8101858">llvm::LoopBase::blocks</a></div><div class="ttdeci">iterator_range&lt; block_iterator &gt; blocks() const</div><div class="ttdef"><b>Definition:</b> <a href="LoopInfo_8h_source.html#l00195">LoopInfo.h:195</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopVectorizationLegality_html_a3b78b24a3c241e611957b82cd12640da"><div class="ttname"><a href="classllvm_1_1LoopVectorizationLegality.html#a3b78b24a3c241e611957b82cd12640da">llvm::LoopVectorizationLegality::blockNeedsPredication</a></div><div class="ttdeci">bool blockNeedsPredication(BasicBlock *BB) const</div><div class="ttdoc">Return true if the block BB needs to be predicated in order for the loop to be vectorized.</div><div class="ttdef"><b>Definition:</b> <a href="LoopVectorizationLegality_8cpp_source.html#l01105">LoopVectorizationLegality.cpp:1105</a></div></div>
<div class="ttc" id="aTargetLibraryInfo_8h_html"><div class="ttname"><a href="TargetLibraryInfo_8h.html">TargetLibraryInfo.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_a1bc022868b23918efa44df511f4d5b61"><div class="ttname"><a href="classllvm_1_1Type.html#a1bc022868b23918efa44df511f4d5b61">llvm::Type::isVectorTy</a></div><div class="ttdeci">bool isVectorTy() const</div><div class="ttdoc">True if this is an instance of VectorType.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00258">Type.h:258</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopVectorizationLegality_html_a728069d0bcacf976cbb3764bad749562"><div class="ttname"><a href="classllvm_1_1LoopVectorizationLegality.html#a728069d0bcacf976cbb3764bad749562">llvm::LoopVectorizationLegality::getPointerInductionDescriptor</a></div><div class="ttdeci">const InductionDescriptor * getPointerInductionDescriptor(PHINode *Phi) const</div><div class="ttdoc">Returns a pointer to the induction descriptor, if Phi is pointer induction.</div><div class="ttdef"><b>Definition:</b> <a href="LoopVectorizationLegality_8cpp_source.html#l01081">LoopVectorizationLegality.cpp:1081</a></div></div>
<div class="ttc" id="aBuiltinGCs_8cpp_html_a7abf5fb4071cb25dbce06dfb5ee3c937"><div class="ttname"><a href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a></div><div class="ttdeci">static GCRegistry::Add&lt; OcamlGC &gt; B(&quot;ocaml&quot;, &quot;ocaml 3.10-compatible GC&quot;)</div></div>
<div class="ttc" id="aclassllvm_1_1PHINode_html_adfb61ffe25c950c75c86310245b3ef39"><div class="ttname"><a href="classllvm_1_1PHINode.html#adfb61ffe25c950c75c86310245b3ef39">llvm::PHINode::getIncomingValueForBlock</a></div><div class="ttdeci">Value * getIncomingValueForBlock(const BasicBlock *BB) const</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l02889">Instructions.h:2889</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopVectorizationLegality_html_af593134e27871d44a016de05492a4f41"><div class="ttname"><a href="classllvm_1_1LoopVectorizationLegality.html#af593134e27871d44a016de05492a4f41">llvm::LoopVectorizationLegality::isUniformMemOp</a></div><div class="ttdeci">bool isUniformMemOp(Instruction &amp;I) const</div><div class="ttdoc">A uniform memory op is a load or store which accesses the same memory location on all lanes.</div><div class="ttdef"><b>Definition:</b> <a href="LoopVectorizationLegality_8cpp_source.html#l00469">LoopVectorizationLegality.cpp:469</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetTransformInfo_html_ac912bf74dab55fe744b25c739e29d7b0"><div class="ttname"><a href="classllvm_1_1TargetTransformInfo.html#ac912bf74dab55fe744b25c739e29d7b0">llvm::TargetTransformInfo::enableScalableVectorization</a></div><div class="ttdeci">bool enableScalableVectorization() const</div><div class="ttdef"><b>Definition:</b> <a href="TargetTransformInfo_8cpp_source.html#l01189">TargetTransformInfo.cpp:1189</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLibraryInfo_html_a97cfbbed8869e3582142012a071a9052"><div class="ttname"><a href="classllvm_1_1TargetLibraryInfo.html#a97cfbbed8869e3582142012a071a9052">llvm::TargetLibraryInfo::getLibFunc</a></div><div class="ttdeci">bool getLibFunc(StringRef funcName, LibFunc &amp;F) const</div><div class="ttdoc">Searches for a particular function name.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00306">TargetLibraryInfo.h:306</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html"><div class="ttname"><a href="classllvm_1_1Instruction.html">llvm::Instruction</a></div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8h_source.html#l00041">Instruction.h:41</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_a9f382207d841377156d4c7868b66b9a5"><div class="ttname"><a href="classllvm_1_1Type.html#a9f382207d841377156d4c7868b66b9a5">llvm::Type::getScalarSizeInBits</a></div><div class="ttdeci">unsigned getScalarSizeInBits() const LLVM_READONLY</div><div class="ttdoc">If this is a vector type, return the getPrimitiveSizeInBits value for the element type.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00188">Type.cpp:188</a></div></div>
<div class="ttc" id="anamespacellvm_html_aec7c967a5416fa6e154433965357a50ea089e7eb4db258e05f70eef4ed5aa10bb"><div class="ttname"><a href="namespacellvm.html#aec7c967a5416fa6e154433965357a50ea089e7eb4db258e05f70eef4ed5aa10bb">llvm::PGSOQueryType::IRPass</a></div><div class="ttdeci">@ IRPass</div></div>
<div class="ttc" id="aclassllvm_1_1LoopVectorizeHints_html_a20ecacbd54e401685d798d86161af6cf"><div class="ttname"><a href="classllvm_1_1LoopVectorizeHints.html#a20ecacbd54e401685d798d86161af6cf">llvm::LoopVectorizeHints::getForce</a></div><div class="ttdeci">enum ForceKind getForce() const</div><div class="ttdef"><b>Definition:</b> <a href="LoopVectorizationLegality_8h_source.html#l00154">LoopVectorizationLegality.h:154</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantInt_html_a969709dd49c28865a482d8b870f87c46"><div class="ttname"><a href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">llvm::ConstantInt::get</a></div><div class="ttdeci">static Constant * get(Type *Ty, uint64_t V, bool IsSigned=false)</div><div class="ttdoc">If Ty is a vector type, return a Constant with a splat of the given value.</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l00887">Constants.cpp:887</a></div></div>
<div class="ttc" id="aPatternMatch_8h_html"><div class="ttname"><a href="PatternMatch_8h.html">PatternMatch.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1FixedVectorType_html_af9a870d5df50fe0133a410b7c9114c80"><div class="ttname"><a href="classllvm_1_1FixedVectorType.html#af9a870d5df50fe0133a410b7c9114c80">llvm::FixedVectorType::get</a></div><div class="ttdeci">static FixedVectorType * get(Type *ElementType, unsigned NumElts)</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00686">Type.cpp:686</a></div></div>
<div class="ttc" id="aclassllvm_1_1Metadata_html"><div class="ttname"><a href="classllvm_1_1Metadata.html">llvm::Metadata</a></div><div class="ttdoc">Root of the metadata hierarchy.</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l00061">Metadata.h:61</a></div></div>
<div class="ttc" id="aclassllvm_1_1PHINode_html_aef51af4b490af6b3bf2dfbc8737a8f9f"><div class="ttname"><a href="classllvm_1_1PHINode.html#aef51af4b490af6b3bf2dfbc8737a8f9f">llvm::PHINode::getNumIncomingValues</a></div><div class="ttdeci">unsigned getNumIncomingValues() const</div><div class="ttdoc">Return the number of incoming edges.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l02790">Instructions.h:2790</a></div></div>
<div class="ttc" id="anamespacellvm_1_1CallingConv_html_a188c0836f8c3528401f1c236fd93b977"><div class="ttname"><a href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">llvm::CallingConv::ID</a></div><div class="ttdeci">unsigned ID</div><div class="ttdoc">LLVM IR allows to use arbitrary numbers as calling convention identifiers.</div><div class="ttdef"><b>Definition:</b> <a href="CallingConv_8h_source.html#l00024">CallingConv.h:24</a></div></div>
<div class="ttc" id="aLoopInfo_8h_html"><div class="ttname"><a href="LoopInfo_8h.html">LoopInfo.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1Twine_html_a4c1c1093a7749409c70838678514cc7c"><div class="ttname"><a href="classllvm_1_1Twine.html#a4c1c1093a7749409c70838678514cc7c">llvm::Twine::str</a></div><div class="ttdeci">std::string str() const</div><div class="ttdoc">Return the twine contents as a std::string.</div><div class="ttdef"><b>Definition:</b> <a href="Twine_8cpp_source.html#l00017">Twine.cpp:17</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_a30bd18ac905eacf3601bc6a553a9ff49"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">llvm::ScalarEvolution::getSCEV</a></div><div class="ttdeci">const SCEV * getSCEV(Value *V)</div><div class="ttdoc">Return a SCEV expression for the full generality of the specified expression.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l04534">ScalarEvolution.cpp:4534</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_ac6d28a9b11139182134a9618028a0d07"><div class="ttname"><a href="classllvm_1_1Type.html#ac6d28a9b11139182134a9618028a0d07">llvm::Type::isIntegerTy</a></div><div class="ttdeci">bool isIntegerTy() const</div><div class="ttdoc">True if this is an instance of IntegerType.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00222">Type.h:222</a></div></div>
<div class="ttc" id="aclassllvm_1_1MDNode_html_a6cbc0453586a25c057a32161b38b8ce4"><div class="ttname"><a href="classllvm_1_1MDNode.html#a6cbc0453586a25c057a32161b38b8ce4">llvm::MDNode::getOperand</a></div><div class="ttdeci">const MDOperand &amp; getOperand(unsigned I) const</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l01291">Metadata.h:1291</a></div></div>
<div class="ttc" id="aclassllvm_1_1VectorType_html_a071e25c5c6eae5299b1cdc3350c6d55c"><div class="ttname"><a href="classllvm_1_1VectorType.html#a071e25c5c6eae5299b1cdc3350c6d55c">llvm::VectorType::isValidElementType</a></div><div class="ttdeci">static bool isValidElementType(Type *ElemTy)</div><div class="ttdoc">Return true if the specified type is valid as a element type.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00677">Type.cpp:677</a></div></div>
<div class="ttc" id="aVectorUtils_8h_html"><div class="ttname"><a href="VectorUtils_8h.html">VectorUtils.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1cl_1_1opt_html"><div class="ttname"><a href="classllvm_1_1cl_1_1opt.html">llvm::cl::opt&lt; bool &gt;</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PPC_html_a14028f7fe73a11dabc6583510cc0a355"><div class="ttname"><a href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355">llvm::PPC::Predicate</a></div><div class="ttdeci">Predicate</div><div class="ttdoc">Predicate - These are &quot;(BI &lt;&lt; 5) | BO&quot; for various predicates.</div><div class="ttdef"><b>Definition:</b> <a href="PPCPredicates_8h_source.html#l00026">PPCPredicates.h:26</a></div></div>
<div class="ttc" id="aclassllvm_1_1StoreInst_html"><div class="ttname"><a href="classllvm_1_1StoreInst.html">llvm::StoreInst</a></div><div class="ttdoc">An instruction for storing to memory.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00301">Instructions.h:301</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopVectorizationLegality_html_a81955f0baa44d5e0e564520ceed9c789"><div class="ttname"><a href="classllvm_1_1LoopVectorizationLegality.html#a81955f0baa44d5e0e564520ceed9c789">llvm::LoopVectorizationLegality::isUniform</a></div><div class="ttdeci">bool isUniform(Value *V) const</div><div class="ttdoc">Returns true if the value V is uniform within the loop.</div><div class="ttdef"><b>Definition:</b> <a href="LoopVectorizationLegality_8cpp_source.html#l00465">LoopVectorizationLegality.cpp:465</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopVectorizeHints_html_a041ce1f90aff1772f662dd0c8e3ec4f4a7d9d22c5375d2c00b79a4a897967a2f6"><div class="ttname"><a href="classllvm_1_1LoopVectorizeHints.html#a041ce1f90aff1772f662dd0c8e3ec4f4a7d9d22c5375d2c00b79a4a897967a2f6">llvm::LoopVectorizeHints::SK_PreferScalable</a></div><div class="ttdeci">@ SK_PreferScalable</div><div class="ttdoc">Vectorize loops using scalable vectors or fixed-width vectors, but favor scalable vectors when the co...</div><div class="ttdef"><b>Definition:</b> <a href="LoopVectorizationLegality_8h_source.html#l00122">LoopVectorizationLegality.h:122</a></div></div>
<div class="ttc" id="anamespacellvm_1_1cl_html_a8fa743aa76b6902028f8a643dfb87171"><div class="ttname"><a href="namespacellvm_1_1cl.html#a8fa743aa76b6902028f8a643dfb87171">llvm::cl::values</a></div><div class="ttdeci">ValuesClass values(OptsTy... Options)</div><div class="ttdoc">Helper to build a ValuesClass by forwarding a variable number of arguments as an initializer list to ...</div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00703">CommandLine.h:703</a></div></div>
<div class="ttc" id="aclassllvm_1_1RuntimePointerChecking_html_a177df4fcdf758fb57ca59102c15d30c3"><div class="ttname"><a href="classllvm_1_1RuntimePointerChecking.html#a177df4fcdf758fb57ca59102c15d30c3">llvm::RuntimePointerChecking::Need</a></div><div class="ttdeci">bool Need</div><div class="ttdoc">This flag indicates if we need to add the runtime check.</div><div class="ttdef"><b>Definition:</b> <a href="LoopAccessAnalysis_8h_source.html#l00480">LoopAccessAnalysis.h:480</a></div></div>
<div class="ttc" id="aclassllvm_1_1MapVector_html_a6b0c3e15c351ba9682837c29b0a141b6"><div class="ttname"><a href="classllvm_1_1MapVector.html#a6b0c3e15c351ba9682837c29b0a141b6">llvm::MapVector::find</a></div><div class="ttdeci">iterator find(const KeyT &amp;Key)</div><div class="ttdef"><b>Definition:</b> <a href="MapVector_8h_source.html#l00148">MapVector.h:148</a></div></div>
<div class="ttc" id="aclassllvm_1_1VFDatabase_html_af9abb14ef675e9dee8dd14bd4dd43aac"><div class="ttname"><a href="classllvm_1_1VFDatabase.html#af9abb14ef675e9dee8dd14bd4dd43aac">llvm::VFDatabase::getMappings</a></div><div class="ttdeci">static SmallVector&lt; VFInfo, 8 &gt; getMappings(const CallInst &amp;CI)</div><div class="ttdoc">Retrieve all the VFInfo instances associated to the CallInst CI.</div><div class="ttdef"><b>Definition:</b> <a href="VectorUtils_8h_source.html#l00265">VectorUtils.h:265</a></div></div>
<div class="ttc" id="anamespacellvm_html_a5c07c8a7581497982e109b2baa22fa3f"><div class="ttname"><a href="namespacellvm.html#a5c07c8a7581497982e109b2baa22fa3f">llvm::HintsAllowReordering</a></div><div class="ttdeci">cl::opt&lt; bool &gt; HintsAllowReordering(&quot;hints-allow-reordering&quot;, cl::init(true), cl::Hidden, cl::desc(&quot;Allow enabling loop hints to reorder &quot; &quot;FP operations during vectorization.&quot;))</div></div>
<div class="ttc" id="aclassllvm_1_1SmallPtrSetImpl_html_a7004354fbee1c8cd74ed9001915e1db5"><div class="ttname"><a href="classllvm_1_1SmallPtrSetImpl.html#a7004354fbee1c8cd74ed9001915e1db5">llvm::SmallPtrSetImpl::end</a></div><div class="ttdeci">iterator end() const</div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00408">SmallPtrSet.h:408</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ARM__MB_html_ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2"><div class="ttname"><a href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">llvm::ARM_MB::ST</a></div><div class="ttdeci">@ ST</div><div class="ttdef"><b>Definition:</b> <a href="MCTargetDesc_2ARMBaseInfo_8h_source.html#l00073">ARMBaseInfo.h:73</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopVectorizeHints_html_a55ab1072c44295ad279535d714a0f33ea278ca681847fb2bad9707f76d899b231"><div class="ttname"><a href="classllvm_1_1LoopVectorizeHints.html#a55ab1072c44295ad279535d714a0f33ea278ca681847fb2bad9707f76d899b231">llvm::LoopVectorizeHints::FK_Enabled</a></div><div class="ttdeci">@ FK_Enabled</div><div class="ttdoc">Forcing enabled.</div><div class="ttdef"><b>Definition:</b> <a href="LoopVectorizationLegality_8h_source.html#l00111">LoopVectorizationLegality.h:111</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopVectorizeHints_html_ad98353127dbeb649d41ca07da5074b49"><div class="ttname"><a href="classllvm_1_1LoopVectorizeHints.html#ad98353127dbeb649d41ca07da5074b49">llvm::LoopVectorizeHints::getInterleave</a></div><div class="ttdeci">unsigned getInterleave() const</div><div class="ttdef"><b>Definition:</b> <a href="LoopVectorizationLegality_8h_source.html#l00143">LoopVectorizationLegality.h:143</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopVectorizeHints_html_a21b6d9e2aa12c8c68d8e2f122ec7ecec"><div class="ttname"><a href="classllvm_1_1LoopVectorizeHints.html#a21b6d9e2aa12c8c68d8e2f122ec7ecec">llvm::LoopVectorizeHints::allowVectorization</a></div><div class="ttdeci">bool allowVectorization(Function *F, Loop *L, bool VectorizeOnlyWhenForced) const</div><div class="ttdef"><b>Definition:</b> <a href="LoopVectorizationLegality_8cpp_source.html#l00172">LoopVectorizationLegality.cpp:172</a></div></div>
<div class="ttc" id="aclassllvm_1_1LLVMContext_html"><div class="ttname"><a href="classllvm_1_1LLVMContext.html">llvm::LLVMContext</a></div><div class="ttdoc">This is an important class for using LLVM in a threaded context.</div><div class="ttdef"><b>Definition:</b> <a href="LLVMContext_8h_source.html#l00067">LLVMContext.h:67</a></div></div>
<div class="ttc" id="anamespacellvm_1_1numbers_html_a92f4283d4e0e2ea1776894b3ae93640f"><div class="ttname"><a href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">llvm::numbers::e</a></div><div class="ttdeci">constexpr double e</div><div class="ttdef"><b>Definition:</b> <a href="MathExtras_8h_source.html#l00031">MathExtras.h:31</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMap_html"><div class="ttname"><a href="classllvm_1_1DenseMap.html">llvm::DenseMap&lt; const Value *, Value * &gt;</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopAccessInfo_html_adb954e9d6470002f8ebd563b9d611bb7"><div class="ttname"><a href="classllvm_1_1LoopAccessInfo.html#adb954e9d6470002f8ebd563b9d611bb7">llvm::LoopAccessInfo::getRuntimePointerChecking</a></div><div class="ttdeci">const RuntimePointerChecking * getRuntimePointerChecking() const</div><div class="ttdef"><b>Definition:</b> <a href="LoopAccessAnalysis_8h_source.html#l00576">LoopAccessAnalysis.h:576</a></div></div>
<div class="ttc" id="aMD5_8cpp_html_ac0eafdc9ee161b71e7af98af736952fd"><div class="ttname"><a href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a></div><div class="ttdeci">#define I(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00058">MD5.cpp:58</a></div></div>
<div class="ttc" id="aLoopVectorizationLegality_8cpp_html_a71ba85cda6597e7ae08075d333e42a78"><div class="ttname"><a href="LoopVectorizationLegality_8cpp.html#a71ba85cda6597e7ae08075d333e42a78">ForceScalableVectorization</a></div><div class="ttdeci">static cl::opt&lt; LoopVectorizeHints::ScalableForceKind &gt; ForceScalableVectorization(&quot;scalable-vectorization&quot;, cl::init(LoopVectorizeHints::SK_Unspecified), cl::Hidden, cl::desc(&quot;Control whether the compiler can use scalable vectors to &quot; &quot;vectorize a loop&quot;), cl::values(clEnumValN(LoopVectorizeHints::SK_FixedWidthOnly, &quot;off&quot;, &quot;Scalable vectorization is disabled.&quot;), clEnumValN(LoopVectorizeHints::SK_PreferScalable, &quot;preferred&quot;, &quot;Scalable vectorization is available and favored when the &quot; &quot;cost is inconclusive.&quot;), clEnumValN(LoopVectorizeHints::SK_PreferScalable, &quot;on&quot;, &quot;Scalable vectorization is available and favored when the &quot; &quot;cost is inconclusive.&quot;)))</div></div>
<div class="ttc" id="anamespacellvm_1_1cl_html_a10a041239ae1870cfcc064bfaa79fb65"><div class="ttname"><a href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">llvm::cl::init</a></div><div class="ttdeci">initializer&lt; Ty &gt; init(const Ty &amp;Val)</div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00445">CommandLine.h:445</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopBase_html_ac3280e7f76f955403fe17eacf126b90d"><div class="ttname"><a href="classllvm_1_1LoopBase.html#ac3280e7f76f955403fe17eacf126b90d">llvm::LoopBase::getLoopPreheader</a></div><div class="ttdeci">BlockT * getLoopPreheader() const</div><div class="ttdoc">If there is a preheader for this loop, return it.</div><div class="ttdef"><b>Definition:</b> <a href="LoopInfoImpl_8h_source.html#l00183">LoopInfoImpl.h:183</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallPtrSetImpl_html_abf73a826b5d6f739eb4af48ddf14c5b4"><div class="ttname"><a href="classllvm_1_1SmallPtrSetImpl.html#abf73a826b5d6f739eb4af48ddf14c5b4">llvm::SmallPtrSetImpl::begin</a></div><div class="ttdeci">iterator begin() const</div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00403">SmallPtrSet.h:403</a></div></div>
<div class="ttc" id="astructllvm_1_1VectorizerParams_html_a122bb2d8a6d57352811c1a7aa72771be"><div class="ttname"><a href="structllvm_1_1VectorizerParams.html#a122bb2d8a6d57352811c1a7aa72771be">llvm::VectorizerParams::MaxVectorWidth</a></div><div class="ttdeci">static const unsigned MaxVectorWidth</div><div class="ttdoc">Maximum SIMD width.</div><div class="ttdef"><b>Definition:</b> <a href="LoopAccessAnalysis_8h_source.html#l00039">LoopAccessAnalysis.h:39</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopVectorizationLegality_html_a34f384c7ff8e4b23cc79156daf2a5c11"><div class="ttname"><a href="classllvm_1_1LoopVectorizationLegality.html#a34f384c7ff8e4b23cc79156daf2a5c11">llvm::LoopVectorizationLegality::isInvariantAddressOfReduction</a></div><div class="ttdeci">bool isInvariantAddressOfReduction(Value *V)</div><div class="ttdoc">Returns True if given address is invariant and is used to store recurrent expression.</div><div class="ttdef"><b>Definition:</b> <a href="LoopVectorizationLegality_8cpp_source.html#l01047">LoopVectorizationLegality.cpp:1047</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopAccessInfo_html_a2e49a847d483bd2dbeec5fb7da3f7573"><div class="ttname"><a href="classllvm_1_1LoopAccessInfo.html#a2e49a847d483bd2dbeec5fb7da3f7573">llvm::LoopAccessInfo::getReport</a></div><div class="ttdeci">const OptimizationRemarkAnalysis * getReport() const</div><div class="ttdoc">The diagnostics report generated for the analysis.</div><div class="ttdef"><b>Definition:</b> <a href="LoopAccessAnalysis_8h_source.html#l00600">LoopAccessAnalysis.h:600</a></div></div>
<div class="ttc" id="aclassllvm_1_1MDString_html_affbb7e2e9ad8d18114816f2443d672b9"><div class="ttname"><a href="classllvm_1_1MDString.html#affbb7e2e9ad8d18114816f2443d672b9">llvm::MDString::get</a></div><div class="ttdeci">static MDString * get(LLVMContext &amp;Context, StringRef Str)</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8cpp_source.html#l00497">Metadata.cpp:497</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopBase_html_a1230fd674d2609b96527fe65eaf40b1b"><div class="ttname"><a href="classllvm_1_1LoopBase.html#a1230fd674d2609b96527fe65eaf40b1b">llvm::LoopBase::getLoopLatch</a></div><div class="ttdeci">BlockT * getLoopLatch() const</div><div class="ttdoc">If there is a single latch block for this loop, return it.</div><div class="ttdef"><b>Definition:</b> <a href="LoopInfoImpl_8h_source.html#l00232">LoopInfoImpl.h:232</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopAccessInfo_html_a5c0b827bc6fb99e8c37af26bfc0814d5"><div class="ttname"><a href="classllvm_1_1LoopAccessInfo.html#a5c0b827bc6fb99e8c37af26bfc0814d5">llvm::LoopAccessInfo::getStoresToInvariantAddresses</a></div><div class="ttdeci">ArrayRef&lt; StoreInst * &gt; getStoresToInvariantAddresses() const</div><div class="ttdoc">Return the list of stores to invariant addresses.</div><div class="ttdef"><b>Definition:</b> <a href="LoopAccessAnalysis_8h_source.html#l00630">LoopAccessAnalysis.h:630</a></div></div>
<div class="ttc" id="aSILowerControlFlow_8cpp_html_a4868c5d81c5ccc98c47aeab6244346a0"><div class="ttname"><a href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a></div><div class="ttdeci">assert(ImpDefSCC.getReg()==AMDGPU::SCC &amp;&amp;ImpDefSCC.isDef())</div></div>
<div class="ttc" id="aclassllvm_1_1PredicatedScalarEvolution_html_ae0994d8207b94ad22ecebc1a6bc580f1"><div class="ttname"><a href="classllvm_1_1PredicatedScalarEvolution.html#ae0994d8207b94ad22ecebc1a6bc580f1">llvm::PredicatedScalarEvolution::getSCEV</a></div><div class="ttdeci">const SCEV * getSCEV(Value *V)</div><div class="ttdoc">Returns the SCEV expression of V, in the context of the current SCEV predicate.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l14718">ScalarEvolution.cpp:14718</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopVectorizationLegality_html_afd0c0e675aff7e870f18b9c911977b7a"><div class="ttname"><a href="classllvm_1_1LoopVectorizationLegality.html#afd0c0e675aff7e870f18b9c911977b7a">llvm::LoopVectorizationLegality::isCastedInductionVariable</a></div><div class="ttdeci">bool isCastedInductionVariable(const Value *V) const</div><div class="ttdoc">Returns True if V is a cast that is part of an induction def-use chain, and had been proven to be red...</div><div class="ttdef"><b>Definition:</b> <a href="LoopVectorizationLegality_8cpp_source.html#l01090">LoopVectorizationLegality.cpp:1090</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopVectorizationLegality_html_af9f3d6495086eb1a43e829bf045fd073"><div class="ttname"><a href="classllvm_1_1LoopVectorizationLegality.html#af9f3d6495086eb1a43e829bf045fd073">llvm::LoopVectorizationLegality::isInductionVariable</a></div><div class="ttdeci">bool isInductionVariable(const Value *V) const</div><div class="ttdoc">Returns True if V can be considered as an induction variable in this loop.</div><div class="ttdef"><b>Definition:</b> <a href="LoopVectorizationLegality_8cpp_source.html#l01096">LoopVectorizationLegality.cpp:1096</a></div></div>
<div class="ttc" id="aclassllvm_1_1OptimizationRemarkEmitter_html_aae6a98aea85aa3af87357cc5448db499"><div class="ttname"><a href="classllvm_1_1OptimizationRemarkEmitter.html#aae6a98aea85aa3af87357cc5448db499">llvm::OptimizationRemarkEmitter::emit</a></div><div class="ttdeci">void emit(DiagnosticInfoOptimizationBase &amp;OptDiag)</div><div class="ttdoc">Output the remark via the diagnostic handler and to the optimization record file.</div><div class="ttdef"><b>Definition:</b> <a href="OptimizationRemarkEmitter_8cpp_source.html#l00079">OptimizationRemarkEmitter.cpp:79</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopAccessInfo_html_a3e05d925e750d2cffbf3c385f3a5028c"><div class="ttname"><a href="classllvm_1_1LoopAccessInfo.html#a3e05d925e750d2cffbf3c385f3a5028c">llvm::LoopAccessInfo::canVectorizeMemory</a></div><div class="ttdeci">bool canVectorizeMemory() const</div><div class="ttdoc">Return true we can analyze the memory accesses in the loop and there are no memory dependence cycles.</div><div class="ttdef"><b>Definition:</b> <a href="LoopAccessAnalysis_8h_source.html#l00569">LoopAccessAnalysis.h:569</a></div></div>
<div class="ttc" id="aclassllvm_1_1SCEVPredicate_html_ac43f5102232a1e1819b0763536f2937a"><div class="ttname"><a href="classllvm_1_1SCEVPredicate.html#ac43f5102232a1e1819b0763536f2937a">llvm::SCEVPredicate::isAlwaysTrue</a></div><div class="ttdeci">virtual bool isAlwaysTrue() const =0</div><div class="ttdoc">Returns true if the predicate is always true.</div></div>
<div class="ttc" id="aTargetLibraryInfo_8cpp_html_aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053"><div class="ttname"><a href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a></div><div class="ttdeci">@ Ptr</div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8cpp_source.html#l00062">TargetLibraryInfo.cpp:62</a></div></div>
<div class="ttc" id="aclassllvm_1_1InductionDescriptor_html_ac2d32589e2e153088b8a35db1a9eabccab0b71801de025f26b088a8cb22825f79"><div class="ttname"><a href="classllvm_1_1InductionDescriptor.html#ac2d32589e2e153088b8a35db1a9eabccab0b71801de025f26b088a8cb22825f79">llvm::InductionDescriptor::IK_FpInduction</a></div><div class="ttdeci">@ IK_FpInduction</div><div class="ttdoc">Floating point induction variable.</div><div class="ttdef"><b>Definition:</b> <a href="IVDescriptors_8h_source.html#l00313">IVDescriptors.h:313</a></div></div>
<div class="ttc" id="anamespacellvm_html_ae641260d79a9242ccf378d9a7949fdc3"><div class="ttname"><a href="namespacellvm.html#ae641260d79a9242ccf378d9a7949fdc3">llvm::isTLIScalarize</a></div><div class="ttdeci">static bool isTLIScalarize(const TargetLibraryInfo &amp;TLI, const CallInst &amp;CI)</div><div class="ttdoc">Checks if a function is scalarizable according to the TLI, in the sense that it should be vectorized ...</div><div class="ttdef"><b>Definition:</b> <a href="LoopVectorizationLegality_8cpp_source.html#l00635">LoopVectorizationLegality.cpp:635</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopVectorizationRequirements_html_ae7795838121055002ab03a649ee1906c"><div class="ttname"><a href="classllvm_1_1LoopVectorizationRequirements.html#ae7795838121055002ab03a649ee1906c">llvm::LoopVectorizationRequirements::getExactFPInst</a></div><div class="ttdeci">Instruction * getExactFPInst()</div><div class="ttdef"><b>Definition:</b> <a href="LoopVectorizationLegality_8h_source.html#l00222">LoopVectorizationLegality.h:222</a></div></div>
<div class="ttc" id="aclassllvm_1_1MDNode_html"><div class="ttname"><a href="classllvm_1_1MDNode.html">llvm::MDNode</a></div><div class="ttdoc">Metadata node.</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l00943">Metadata.h:943</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallPtrSetImpl_html_a1f475b0df44ebd7169e720fa1bf9169e"><div class="ttname"><a href="classllvm_1_1SmallPtrSetImpl.html#a1f475b0df44ebd7169e720fa1bf9169e">llvm::SmallPtrSetImpl::count</a></div><div class="ttdeci">size_type count(ConstPtrType Ptr) const</div><div class="ttdoc">count - Return 1 if the specified pointer is in the set, 0 otherwise.</div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00383">SmallPtrSet.h:383</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html"><div class="ttname"><a href="classllvm_1_1APInt.html">llvm::APInt</a></div><div class="ttdoc">Class for arbitrary precision integers.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00075">APInt.h:75</a></div></div>
<div class="ttc" id="aLoopVectorizationLegality_8cpp_html_a0eff4a8bccb143ae91e197e6a59d4692"><div class="ttname"><a href="LoopVectorizationLegality_8cpp.html#a0eff4a8bccb143ae91e197e6a59d4692">LV_NAME</a></div><div class="ttdeci">#define LV_NAME</div><div class="ttdef"><b>Definition:</b> <a href="LoopVectorizationLegality_8cpp_source.html#l00033">LoopVectorizationLegality.cpp:33</a></div></div>
<div class="ttc" id="anamespacellvm_html_a10f3d955592ae2bc745f57e5b48ae115"><div class="ttname"><a href="namespacellvm.html#a10f3d955592ae2bc745f57e5b48ae115">llvm::size</a></div><div class="ttdeci">auto size(R &amp;&amp;Range, std::enable_if_t&lt; std::is_base_of&lt; std::random_access_iterator_tag, typename std::iterator_traits&lt; decltype(Range.begin())&gt;::iterator_category &gt;::value, void &gt; *=nullptr)</div><div class="ttdoc">Get the size of a range.</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l01716">STLExtras.h:1716</a></div></div>
<div class="ttc" id="aclassllvm_1_1OptimizationRemarkEmitter_html"><div class="ttname"><a href="classllvm_1_1OptimizationRemarkEmitter.html">llvm::OptimizationRemarkEmitter</a></div><div class="ttdoc">The optimization diagnostic interface.</div><div class="ttdef"><b>Definition:</b> <a href="OptimizationRemarkEmitter_8h_source.html#l00033">OptimizationRemarkEmitter.h:33</a></div></div>
<div class="ttc" id="aclassllvm_1_1RecurrenceDescriptor_html_a9e4044de402972428a2101b8afcaa1b7"><div class="ttname"><a href="classllvm_1_1RecurrenceDescriptor.html#a9e4044de402972428a2101b8afcaa1b7">llvm::RecurrenceDescriptor::IntermediateStore</a></div><div class="ttdeci">StoreInst * IntermediateStore</div><div class="ttdoc">Reductions may store temporary or final result to an invariant address.</div><div class="ttdef"><b>Definition:</b> <a href="IVDescriptors_8h_source.html#l00276">IVDescriptors.h:276</a></div></div>
<div class="ttc" id="anamespacellvm_html_a61d13d6824ec46c31260a4fd0997eda0"><div class="ttname"><a href="namespacellvm.html#a61d13d6824ec46c31260a4fd0997eda0">llvm::any_of</a></div><div class="ttdeci">bool any_of(R &amp;&amp;range, UnaryPredicate P)</div><div class="ttdoc">Provide wrappers to std::any_of which take ranges instead of having to pass begin/end explicitly.</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l01742">STLExtras.h:1742</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopVectorizationLegality_html_a4589ea484ebe1919b451fff3948a17cc"><div class="ttname"><a href="classllvm_1_1LoopVectorizationLegality.html#a4589ea484ebe1919b451fff3948a17cc">llvm::LoopVectorizationLegality::isConsecutivePtr</a></div><div class="ttdeci">int isConsecutivePtr(Type *AccessTy, Value *Ptr) const</div><div class="ttdoc">Check if this pointer is consecutive when vectorizing.</div><div class="ttdef"><b>Definition:</b> <a href="LoopVectorizationLegality_8cpp_source.html#l00448">LoopVectorizationLegality.cpp:448</a></div></div>
<div class="ttc" id="aclassllvm_1_1SCEVPredicate_html_a4e26ec305e394c496dd3f2a16c6d58e5"><div class="ttname"><a href="classllvm_1_1SCEVPredicate.html#a4e26ec305e394c496dd3f2a16c6d58e5">llvm::SCEVPredicate::getComplexity</a></div><div class="ttdeci">virtual unsigned getComplexity() const</div><div class="ttdoc">Returns the estimated complexity of this predicate.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8h_source.html#l00241">ScalarEvolution.h:241</a></div></div>
<div class="ttc" id="aclassllvm_1_1StringRef_html"><div class="ttname"><a href="classllvm_1_1StringRef.html">llvm::StringRef</a></div><div class="ttdoc">StringRef - Represent a constant reference to a string, i.e.</div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00050">StringRef.h:50</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopVectorizeHints_html_a041ce1f90aff1772f662dd0c8e3ec4f4"><div class="ttname"><a href="classllvm_1_1LoopVectorizeHints.html#a041ce1f90aff1772f662dd0c8e3ec4f4">llvm::LoopVectorizeHints::ScalableForceKind</a></div><div class="ttdeci">ScalableForceKind</div><div class="ttdef"><b>Definition:</b> <a href="LoopVectorizationLegality_8h_source.html#l00114">LoopVectorizationLegality.h:114</a></div></div>
<div class="ttc" id="aclassllvm_1_1Loop_html_ae731e6e33c2f2a9a6ebd1d51886ce534"><div class="ttname"><a href="classllvm_1_1Loop.html#ae731e6e33c2f2a9a6ebd1d51886ce534">llvm::Loop::getCanonicalInductionVariable</a></div><div class="ttdeci">PHINode * getCanonicalInductionVariable() const</div><div class="ttdoc">Check to see if the loop has a canonical induction variable: an integer recurrence that starts at 0 a...</div><div class="ttdef"><b>Definition:</b> <a href="LoopInfo_8cpp_source.html#l00150">LoopInfo.cpp:150</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_a6393a2d4fe7e10b28a0dcc35f881567b"><div class="ttname"><a href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">llvm::Value::getType</a></div><div class="ttdeci">Type * getType() const</div><div class="ttdoc">All values are typed, get the type of this value.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00255">Value.h:255</a></div></div>
<div class="ttc" id="aAArch64SLSHardening_8cpp_html_ad467c4ab9119043f9b7750ab986be61a"><div class="ttname"><a href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a></div><div class="ttdeci">MachineBasicBlock MachineBasicBlock::iterator DebugLoc DL</div><div class="ttdef"><b>Definition:</b> <a href="AArch64SLSHardening_8cpp_source.html#l00076">AArch64SLSHardening.cpp:76</a></div></div>
<div class="ttc" id="aCommandLine_8h_html_a187fd767976b311c09dff5e05ac0c1bc"><div class="ttname"><a href="CommandLine_8h.html#a187fd767976b311c09dff5e05ac0c1bc">clEnumValN</a></div><div class="ttdeci">#define clEnumValN(ENUMVAL, FLAGNAME, DESC)</div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00678">CommandLine.h:678</a></div></div>
<div class="ttc" id="alib_2Target_2ARM_2README_8txt_html_a1b45f45820a60c09244a87eb59824aec"><div class="ttname"><a href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a></div><div class="ttdeci">add sub stmia L5 ldr r0 bl L_printf $stub Instead of a and a wouldn t it be better to do three moves *Return an aggregate type is even return S</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2ARM_2README_8txt_source.html#l00210">README.txt:210</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopVectorizeHints_html_a440979b6103588bef39bd2d62065d5ff"><div class="ttname"><a href="classllvm_1_1LoopVectorizeHints.html#a440979b6103588bef39bd2d62065d5ff">llvm::LoopVectorizeHints::emitRemarkWithHints</a></div><div class="ttdeci">void emitRemarkWithHints() const</div><div class="ttdoc">Dumps all the hint information.</div><div class="ttdef"><b>Definition:</b> <a href="LoopVectorizationLegality_8cpp_source.html#l00205">LoopVectorizationLegality.cpp:205</a></div></div>
<div class="ttc" id="anamespacellvm_html_ab7a212b8bf3c8a58d41471f26dd547c3"><div class="ttname"><a href="namespacellvm.html#ab7a212b8bf3c8a58d41471f26dd547c3">llvm::convertPointerToIntegerType</a></div><div class="ttdeci">static Type * convertPointerToIntegerType(const DataLayout &amp;DL, Type *Ty)</div><div class="ttdef"><b>Definition:</b> <a href="LoopVectorizationLegality_8cpp_source.html#l00389">LoopVectorizationLegality.cpp:389</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopVectorizationLegality_html_a74bcb5c6d80d9d7fb0eeb1131eeef2dc"><div class="ttname"><a href="classllvm_1_1LoopVectorizationLegality.html#a74bcb5c6d80d9d7fb0eeb1131eeef2dc">llvm::LoopVectorizationLegality::getIntOrFpInductionDescriptor</a></div><div class="ttdeci">const InductionDescriptor * getIntOrFpInductionDescriptor(PHINode *Phi) const</div><div class="ttdoc">Returns a pointer to the induction descriptor, if Phi is an integer or floating point induction.</div><div class="ttdef"><b>Definition:</b> <a href="LoopVectorizationLegality_8cpp_source.html#l01070">LoopVectorizationLegality.cpp:1070</a></div></div>
<div class="ttc" id="aclassllvm_1_1OptimizationRemarkAnalysis_html"><div class="ttname"><a href="classllvm_1_1OptimizationRemarkAnalysis.html">llvm::OptimizationRemarkAnalysis</a></div><div class="ttdoc">Diagnostic information for optimization analysis remarks.</div><div class="ttdef"><b>Definition:</b> <a href="DiagnosticInfo_8h_source.html#l00780">DiagnosticInfo.h:780</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ifs_html_adfe04e1a9cc096fb571e8372debaa67ea00d0b4f2d7dcdaaef835b97cf5d1e0df"><div class="ttname"><a href="namespacellvm_1_1ifs.html#adfe04e1a9cc096fb571e8372debaa67ea00d0b4f2d7dcdaaef835b97cf5d1e0df">llvm::ifs::IFSSymbolType::Func</a></div><div class="ttdeci">@ Func</div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_adb5c319f5905c1d3ca9eb5df546388c5"><div class="ttname"><a href="classllvm_1_1Value.html#adb5c319f5905c1d3ca9eb5df546388c5">llvm::Value::getName</a></div><div class="ttdeci">StringRef getName() const</div><div class="ttdoc">Return a constant reference to the value's name.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8cpp_source.html#l00308">Value.cpp:308</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_a0566221f10834bfcea70965379745a20"><div class="ttname"><a href="classllvm_1_1Type.html#a0566221f10834bfcea70965379745a20">llvm::Type::getContext</a></div><div class="ttdeci">LLVMContext &amp; getContext() const</div><div class="ttdoc">Return the LLVMContext in which this type was uniqued.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00129">Type.h:129</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoadInst_html"><div class="ttname"><a href="classllvm_1_1LoadInst.html">llvm::LoadInst</a></div><div class="ttdoc">An instruction for reading from memory.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00177">Instructions.h:177</a></div></div>
<div class="ttc" id="astructllvm_1_1VectorizerParams_html_a5ccaa3f1275b2e841f5c23852d61b872"><div class="ttname"><a href="structllvm_1_1VectorizerParams.html#a5ccaa3f1275b2e841f5c23852d61b872">llvm::VectorizerParams::isInterleaveForced</a></div><div class="ttdeci">static bool isInterleaveForced()</div><div class="ttdoc">True if force-vector-interleave was specified by the user.</div><div class="ttdef"><b>Definition:</b> <a href="LoopAccessAnalysis_8cpp_source.html#l00139">LoopAccessAnalysis.cpp:139</a></div></div>
<div class="ttc" id="aLoopVectorize_8h_html"><div class="ttname"><a href="LoopVectorize_8h.html">LoopVectorize.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1BasicBlock_html_aa286a0f7f5d38488d593bb7ef0ba183e"><div class="ttname"><a href="classllvm_1_1BasicBlock.html#aa286a0f7f5d38488d593bb7ef0ba183e">llvm::BasicBlock::getContext</a></div><div class="ttdeci">LLVMContext &amp; getContext() const</div><div class="ttdoc">Get the context in which this basic block lives.</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8cpp_source.html#l00035">BasicBlock.cpp:35</a></div></div>
<div class="ttc" id="aclassllvm_1_1MapVector_html_a8da97c44f514ad1ae9ccf4518b0f88aa"><div class="ttname"><a href="classllvm_1_1MapVector.html#a8da97c44f514ad1ae9ccf4518b0f88aa">llvm::MapVector::empty</a></div><div class="ttdeci">bool empty() const</div><div class="ttdef"><b>Definition:</b> <a href="MapVector_8h_source.html#l00080">MapVector.h:80</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopBase_html_a16165c1e5da45acaa086c3a54a188d34"><div class="ttname"><a href="classllvm_1_1LoopBase.html#a16165c1e5da45acaa086c3a54a188d34">llvm::LoopBase::isInnermost</a></div><div class="ttdeci">bool isInnermost() const</div><div class="ttdoc">Return true if the loop does not contain any (natural) loops.</div><div class="ttdef"><b>Definition:</b> <a href="LoopInfo_8h_source.html#l00182">LoopInfo.h:182</a></div></div>
<div class="ttc" id="aclassllvm_1_1InductionDescriptor_html_acdb97daf1829f811db20dff44887fe9e"><div class="ttname"><a href="classllvm_1_1InductionDescriptor.html#acdb97daf1829f811db20dff44887fe9e">llvm::InductionDescriptor::isInductionPHI</a></div><div class="ttdeci">static bool isInductionPHI(PHINode *Phi, const Loop *L, ScalarEvolution *SE, InductionDescriptor &amp;D, const SCEV *Expr=nullptr, SmallVectorImpl&lt; Instruction * &gt; *CastsToIgnore=nullptr)</div><div class="ttdoc">Returns true if Phi is an induction in the loop L.</div><div class="ttdef"><b>Definition:</b> <a href="IVDescriptors_8cpp_source.html#l01524">IVDescriptors.cpp:1524</a></div></div>
<div class="ttc" id="aLoopVectorizationLegality_8cpp_html_a252ba2f9debb1d43ac35846b31e96a06"><div class="ttname"><a href="LoopVectorizationLegality_8cpp.html#a252ba2f9debb1d43ac35846b31e96a06">PragmaVectorizeSCEVCheckThreshold</a></div><div class="ttdeci">static cl::opt&lt; unsigned &gt; PragmaVectorizeSCEVCheckThreshold(&quot;pragma-vectorize-scev-check-threshold&quot;, cl::init(128), cl::Hidden, cl::desc(&quot;The maximum number of SCEV checks allowed with a &quot; &quot;vectorize(enable) pragma&quot;))</div></div>
<div class="ttc" id="aclassllvm_1_1LoopInfoBase_html_a727d0e43acb5bfa1468c281ee3eef91f"><div class="ttname"><a href="classllvm_1_1LoopInfoBase.html#a727d0e43acb5bfa1468c281ee3eef91f">llvm::LoopInfoBase::isLoopHeader</a></div><div class="ttdeci">bool isLoopHeader(const BlockT *BB) const</div><div class="ttdef"><b>Definition:</b> <a href="LoopInfo_8h_source.html#l01005">LoopInfo.h:1005</a></div></div>
<div class="ttc" id="aclassllvm_1_1Twine_html"><div class="ttname"><a href="classllvm_1_1Twine.html">llvm::Twine</a></div><div class="ttdoc">Twine - A lightweight data structure for efficiently representing the concatenation of temporary valu...</div><div class="ttdef"><b>Definition:</b> <a href="Twine_8h_source.html#l00081">Twine.h:81</a></div></div>
<div class="ttc" id="aclassllvm_1_1MapVector_html_a041e60c6f5f9841f3dc74921ea87bec2"><div class="ttname"><a href="classllvm_1_1MapVector.html#a041e60c6f5f9841f3dc74921ea87bec2">llvm::MapVector::count</a></div><div class="ttdeci">size_type count(const KeyT &amp;Key) const</div><div class="ttdef"><b>Definition:</b> <a href="MapVector_8h_source.html#l00143">MapVector.h:143</a></div></div>
<div class="ttc" id="anamespacellvm_1_1GraphProgram_html_a0ad4685976f8c4d4a697a53fbe05d10b"><div class="ttname"><a href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">llvm::GraphProgram::Name</a></div><div class="ttdeci">Name</div><div class="ttdef"><b>Definition:</b> <a href="GraphWriter_8h_source.html#l00050">GraphWriter.h:50</a></div></div>
<div class="ttc" id="aMD5_8cpp_html_ae42219072d798876e6b08e6b78614ff6"><div class="ttname"><a href="MD5_8cpp.html#ae42219072d798876e6b08e6b78614ff6">H</a></div><div class="ttdeci">#define H(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00057">MD5.cpp:57</a></div></div>
<div class="ttc" id="aclassllvm_1_1Loop_html_adf4be757fa30ca7fe3e8b119438100f0"><div class="ttname"><a href="classllvm_1_1Loop.html#adf4be757fa30ca7fe3e8b119438100f0">llvm::Loop::setLoopID</a></div><div class="ttdeci">void setLoopID(MDNode *LoopID) const</div><div class="ttdoc">Set the llvm.loop loop id metadata for this loop.</div><div class="ttdef"><b>Definition:</b> <a href="LoopInfo_8cpp_source.html#l00525">LoopInfo.cpp:525</a></div></div>
<div class="ttc" id="astructllvm_1_1VectorizationFactor_html"><div class="ttname"><a href="structllvm_1_1VectorizationFactor.html">llvm::VectorizationFactor</a></div><div class="ttdoc">TODO: The following VectorizationFactor was pulled out of LoopVectorizationCostModel class.</div><div class="ttdef"><b>Definition:</b> <a href="LoopVectorizationPlanner_8h_source.html#l00188">LoopVectorizationPlanner.h:188</a></div></div>
<div class="ttc" id="aclassllvm_1_1Loop_html_afbcd78588d5235f99698b5c30f591382"><div class="ttname"><a href="classllvm_1_1Loop.html#afbcd78588d5235f99698b5c30f591382">llvm::Loop::getLoopID</a></div><div class="ttdeci">MDNode * getLoopID() const</div><div class="ttdoc">Return the llvm.loop loop id metadata node for this loop if it is present.</div><div class="ttdef"><b>Definition:</b> <a href="LoopInfo_8cpp_source.html#l00501">LoopInfo.cpp:501</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopBase_html_a58c5b170ea68b41e94ebb0019523a68f"><div class="ttname"><a href="classllvm_1_1LoopBase.html#a58c5b170ea68b41e94ebb0019523a68f">llvm::LoopBase::getHeader</a></div><div class="ttdeci">BlockT * getHeader() const</div><div class="ttdef"><b>Definition:</b> <a href="LoopInfo_8h_source.html#l00105">LoopInfo.h:105</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLibraryInfo_html"><div class="ttname"><a href="classllvm_1_1TargetLibraryInfo.html">llvm::TargetLibraryInfo</a></div><div class="ttdoc">Provides information about what library functions are available for the current target.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00234">TargetLibraryInfo.h:234</a></div></div>
<div class="ttc" id="aLoopVectorizationLegality_8h_html"><div class="ttname"><a href="LoopVectorizationLegality_8h.html">LoopVectorizationLegality.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1PredicatedScalarEvolution_html_a0b369e991301543c2120405809119d36"><div class="ttname"><a href="classllvm_1_1PredicatedScalarEvolution.html#a0b369e991301543c2120405809119d36">llvm::PredicatedScalarEvolution::addPredicate</a></div><div class="ttdeci">void addPredicate(const SCEVPredicate &amp;Pred)</div><div class="ttdoc">Adds a new predicate.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l14747">ScalarEvolution.cpp:14747</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopBase_html_a389bb3581ba3c8094b89642efaf8e514"><div class="ttname"><a href="classllvm_1_1LoopBase.html#a389bb3581ba3c8094b89642efaf8e514">llvm::LoopBase::getNumBackEdges</a></div><div class="ttdeci">unsigned getNumBackEdges() const</div><div class="ttdoc">Calculate the number of back edges to the loop header.</div><div class="ttdef"><b>Definition:</b> <a href="LoopInfo_8h_source.html#l00267">LoopInfo.h:267</a></div></div>
<div class="ttc" id="aclassllvm_1_1OptimizationRemarkAnalysis_html_aa17011a05879d3698f829ff869dc9a88"><div class="ttname"><a href="classllvm_1_1OptimizationRemarkAnalysis.html#aa17011a05879d3698f829ff869dc9a88">llvm::OptimizationRemarkAnalysis::AlwaysPrint</a></div><div class="ttdeci">static const char * AlwaysPrint</div><div class="ttdef"><b>Definition:</b> <a href="DiagnosticInfo_8h_source.html#l00820">DiagnosticInfo.h:820</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1Hwreg_html_a6467ebe1e09a75203dd5f14bdfe21d11"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1Hwreg.html#a6467ebe1e09a75203dd5f14bdfe21d11">llvm::AMDGPU::Hwreg::Width</a></div><div class="ttdeci">Width</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00449">SIDefines.h:449</a></div></div>
<div class="ttc" id="anamespacellvm_html_a826c4ac42a32ca006a5a26537917996e"><div class="ttname"><a href="namespacellvm.html#a826c4ac42a32ca006a5a26537917996e">llvm::isDereferenceableAndAlignedInLoop</a></div><div class="ttdeci">bool isDereferenceableAndAlignedInLoop(LoadInst *LI, Loop *L, ScalarEvolution &amp;SE, DominatorTree &amp;DT, AssumptionCache *AC=nullptr)</div><div class="ttdoc">Return true if we can prove that the given load (which is assumed to be within the specified loop) wo...</div><div class="ttdef"><b>Definition:</b> <a href="Loads_8cpp_source.html#l00262">Loads.cpp:262</a></div></div>
<div class="ttc" id="aclassllvm_1_1RecurrenceDescriptor_html"><div class="ttname"><a href="classllvm_1_1RecurrenceDescriptor.html">llvm::RecurrenceDescriptor</a></div><div class="ttdoc">The RecurrenceDescriptor is used to identify recurrences variables in a loop.</div><div class="ttdef"><b>Definition:</b> <a href="IVDescriptors_8h_source.html#l00069">IVDescriptors.h:69</a></div></div>
<div class="ttc" id="aLoopVectorizationLegality_8cpp_html_ad78e062f62e0d6e453941fb4ca843e4d"><div class="ttname"><a href="LoopVectorizationLegality_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">DEBUG_TYPE</a></div><div class="ttdeci">#define DEBUG_TYPE</div><div class="ttdef"><b>Definition:</b> <a href="LoopVectorizationLegality_8cpp_source.html#l00034">LoopVectorizationLegality.cpp:34</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopVectorizationLegality_html_a7803d6f1162773c3b1a61e3ff441fcb8"><div class="ttname"><a href="classllvm_1_1LoopVectorizationLegality.html#a7803d6f1162773c3b1a61e3ff441fcb8">llvm::LoopVectorizationLegality::isInductionPhi</a></div><div class="ttdeci">bool isInductionPhi(const Value *V) const</div><div class="ttdoc">Returns True if V is a Phi node of an induction variable in this loop.</div><div class="ttdef"><b>Definition:</b> <a href="LoopVectorizationLegality_8cpp_source.html#l01060">LoopVectorizationLegality.cpp:1060</a></div></div>
<div class="ttc" id="aclassllvm_1_1StoreInst_html_ac03c1c093059ea000216af8dd6f2dbf4"><div class="ttname"><a href="classllvm_1_1StoreInst.html#ac03c1c093059ea000216af8dd6f2dbf4">llvm::StoreInst::getPointerOperand</a></div><div class="ttdeci">Value * getPointerOperand()</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00393">Instructions.h:393</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopVectorizeHints_html_aa2f5ef2d522fb80de283a23d5bed6d86"><div class="ttname"><a href="classllvm_1_1LoopVectorizeHints.html#aa2f5ef2d522fb80de283a23d5bed6d86">llvm::LoopVectorizeHints::setAlreadyVectorized</a></div><div class="ttdeci">void setAlreadyVectorized()</div><div class="ttdoc">Mark the loop L as already vectorized by setting the width to 1.</div><div class="ttdef"><b>Definition:</b> <a href="LoopVectorizationLegality_8cpp_source.html#l00153">LoopVectorizationLegality.cpp:153</a></div></div>
<div class="ttc" id="astructllvm_1_1VectorizerParams_html"><div class="ttname"><a href="structllvm_1_1VectorizerParams.html">llvm::VectorizerParams</a></div><div class="ttdoc">Collection of parameters shared beetween the Loop Vectorizer and the Loop Access Analysis.</div><div class="ttdef"><b>Definition:</b> <a href="LoopAccessAnalysis_8h_source.html#l00037">LoopAccessAnalysis.h:37</a></div></div>
<div class="ttc" id="aTargetTransformInfo_8h_html"><div class="ttname"><a href="TargetTransformInfo_8h.html">TargetTransformInfo.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1PHINode_html"><div class="ttname"><a href="classllvm_1_1PHINode.html">llvm::PHINode</a></div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l02708">Instructions.h:2708</a></div></div>
<div class="ttc" id="aclassllvm_1_1BasicBlock_html_a8de021e28a3c04c9216ad8decf104f02"><div class="ttname"><a href="classllvm_1_1BasicBlock.html#a8de021e28a3c04c9216ad8decf104f02">llvm::BasicBlock::getTerminator</a></div><div class="ttdeci">const Instruction * getTerminator() const LLVM_READONLY</div><div class="ttdoc">Returns the terminator instruction if the block is well formed or null if the block is not well forme...</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8h_source.html#l00127">BasicBlock.h:127</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopVectorizeHints_html_a2b74e08f930d32c0d31482179fd0a805"><div class="ttname"><a href="classllvm_1_1LoopVectorizeHints.html#a2b74e08f930d32c0d31482179fd0a805">llvm::LoopVectorizeHints::allowReordering</a></div><div class="ttdeci">bool allowReordering() const</div><div class="ttdoc">When enabling loop hints are provided we allow the vectorizer to change the order of operations that ...</div><div class="ttdef"><b>Definition:</b> <a href="LoopVectorizationLegality_8cpp_source.html#l00241">LoopVectorizationLegality.cpp:241</a></div></div>
<div class="ttc" id="ablake3__impl_8h_html_a78823051d1dad34b9b3d8120112e674d"><div class="ttname"><a href="blake3__impl_8h.html#a78823051d1dad34b9b3d8120112e674d">IV</a></div><div class="ttdeci">static const uint32_t IV[8]</div><div class="ttdef"><b>Definition:</b> <a href="blake3__impl_8h_source.html#l00077">blake3_impl.h:77</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVectorImpl_html"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html">llvm::SmallVectorImpl&lt; Instruction * &gt;</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLibraryInfo_html_a842341c6f70ff53fbb7f69badbe7d876"><div class="ttname"><a href="classllvm_1_1TargetLibraryInfo.html#a842341c6f70ff53fbb7f69badbe7d876">llvm::TargetLibraryInfo::getWidestVF</a></div><div class="ttdeci">void getWidestVF(StringRef ScalarF, ElementCount &amp;FixedVF, ElementCount &amp;ScalableVF) const</div><div class="ttdoc">Returns the largest vectorization factor used in the list of vector functions.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00525">TargetLibraryInfo.h:525</a></div></div>
<div class="ttc" id="aclassllvm_1_1Module_html_a6d883605206368bc536cc9ded97209b8"><div class="ttname"><a href="classllvm_1_1Module.html#a6d883605206368bc536cc9ded97209b8">llvm::Module::getDataLayout</a></div><div class="ttdeci">const DataLayout &amp; getDataLayout() const</div><div class="ttdoc">Get the data layout for the module's target platform.</div><div class="ttdef"><b>Definition:</b> <a href="Module_8cpp_source.html#l00398">Module.cpp:398</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallPtrSetImpl_html"><div class="ttname"><a href="classllvm_1_1SmallPtrSetImpl.html">llvm::SmallPtrSetImpl&lt; Value * &gt;</a></div></div>
<div class="ttc" id="anamespacellvm_html_aee44336886a06f3c1b8c35c701ba8316"><div class="ttname"><a href="namespacellvm.html#aee44336886a06f3c1b8c35c701ba8316">llvm::getLoadStorePointerOperand</a></div><div class="ttdeci">const Value * getLoadStorePointerOperand(const Value *V)</div><div class="ttdoc">A helper function that returns the pointer operand of a load or store instruction.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l05363">Instructions.h:5363</a></div></div>
<div class="ttc" id="aclassllvm_1_1RecurrenceDescriptor_html_a8dad5abc2bd929acd8391643b2dbe4c5"><div class="ttname"><a href="classllvm_1_1RecurrenceDescriptor.html#a8dad5abc2bd929acd8391643b2dbe4c5">llvm::RecurrenceDescriptor::isOrdered</a></div><div class="ttdeci">bool isOrdered() const</div><div class="ttdoc">Expose an ordered FP reduction to the instance users.</div><div class="ttdef"><b>Definition:</b> <a href="IVDescriptors_8h_source.html#l00260">IVDescriptors.h:260</a></div></div>
<div class="ttc" id="aclassllvm_1_1RecurrenceDescriptor_html_a484f974fc232e862a87a6380d3a7587d"><div class="ttname"><a href="classllvm_1_1RecurrenceDescriptor.html#a484f974fc232e862a87a6380d3a7587d">llvm::RecurrenceDescriptor::isReductionPHI</a></div><div class="ttdeci">static bool isReductionPHI(PHINode *Phi, Loop *TheLoop, RecurrenceDescriptor &amp;RedDes, DemandedBits *DB=nullptr, AssumptionCache *AC=nullptr, DominatorTree *DT=nullptr, ScalarEvolution *SE=nullptr)</div><div class="ttdoc">Returns true if Phi is a reduction in TheLoop.</div><div class="ttdef"><b>Definition:</b> <a href="IVDescriptors_8cpp_source.html#l00831">IVDescriptors.cpp:831</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallInst_html"><div class="ttname"><a href="classllvm_1_1CallInst.html">llvm::CallInst</a></div><div class="ttdoc">This class represents a function call, abstracting a target machine's calling convention.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01485">Instructions.h:1485</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopVectorizationLegality_html_a64cd54bcf6a18f67300e34ef9deeb4fc"><div class="ttname"><a href="classllvm_1_1LoopVectorizationLegality.html#a64cd54bcf6a18f67300e34ef9deeb4fc">llvm::LoopVectorizationLegality::getInductionVars</a></div><div class="ttdeci">const InductionList &amp; getInductionVars() const</div><div class="ttdoc">Returns the induction variables found in the loop.</div><div class="ttdef"><b>Definition:</b> <a href="LoopVectorizationLegality_8h_source.html#l00291">LoopVectorizationLegality.h:291</a></div></div>
<div class="ttc" id="alib_2CodeGen_2README_8txt_html_a09776db24cf586ec9f1e18f3bae14099"><div class="ttname"><a href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a></div><div class="ttdeci">Common register allocation spilling lr str ldr sxth r3 ldr mla r4 can lr mov lr str ldr sxth r3 mla r4 and then merge mul and lr str ldr sxth r3 mla r4 It also increase the likelihood the store may become dead bb27 Successors according to LLVM BB</div><div class="ttdef"><b>Definition:</b> <a href="lib_2CodeGen_2README_8txt_source.html#l00039">README.txt:39</a></div></div>
<div class="ttc" id="anamespacellvm_html_a6303423d3eefbd808b7d97a62ee1c523"><div class="ttname"><a href="namespacellvm.html#a6303423d3eefbd808b7d97a62ee1c523">llvm::getWiderType</a></div><div class="ttdeci">static Type * getWiderType(const DataLayout &amp;DL, Type *Ty0, Type *Ty1)</div><div class="ttdef"><b>Definition:</b> <a href="LoopVectorizationLegality_8cpp_source.html#l00401">LoopVectorizationLegality.cpp:401</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLibraryInfo_html_a38377afcf58b163cbb11662bdc2841a9"><div class="ttname"><a href="classllvm_1_1TargetLibraryInfo.html#a38377afcf58b163cbb11662bdc2841a9">llvm::TargetLibraryInfo::hasOptimizedCodeGen</a></div><div class="ttdeci">bool hasOptimizedCodeGen(LibFunc F) const</div><div class="ttdoc">Tests if the function is both available and a candidate for optimized code generation.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00355">TargetLibraryInfo.h:355</a></div></div>
<div class="ttc" id="aclassllvm_1_1RecurrenceDescriptor_html_a53aeb820a8f9180fbf7894a987025f35"><div class="ttname"><a href="classllvm_1_1RecurrenceDescriptor.html#a53aeb820a8f9180fbf7894a987025f35">llvm::RecurrenceDescriptor::getLoopExitInstr</a></div><div class="ttdeci">Instruction * getLoopExitInstr() const</div><div class="ttdef"><b>Definition:</b> <a href="IVDescriptors_8h_source.html#l00206">IVDescriptors.h:206</a></div></div>
<div class="ttc" id="anamespacellvm_html_a28b07f998a7dc2d159f32733f132de31"><div class="ttname"><a href="namespacellvm.html#a28b07f998a7dc2d159f32733f132de31">llvm::getPtrStride</a></div><div class="ttdeci">std::optional&lt; int64_t &gt; getPtrStride(PredicatedScalarEvolution &amp;PSE, Type *AccessTy, Value *Ptr, const Loop *Lp, const ValueToValueMap &amp;StridesMap=ValueToValueMap(), bool Assume=false, bool ShouldCheckWrap=true)</div><div class="ttdoc">If the pointer has a constant stride return it in units of the access type size.</div><div class="ttdef"><b>Definition:</b> <a href="LoopAccessAnalysis_8cpp_source.html#l01369">LoopAccessAnalysis.cpp:1369</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key_html_a1958a762261549463a280bac3274d6d5"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">llvm::AMDGPU::HSAMD::Kernel::Key::Args</a></div><div class="ttdeci">constexpr char Args[]</div><div class="ttdoc">Key for Kernel::Metadata::mArgs.</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUMetadata_8h_source.html#l00394">AMDGPUMetadata.h:394</a></div></div>
<div class="ttc" id="astructllvm_1_1cl_1_1desc_html"><div class="ttname"><a href="structllvm_1_1cl_1_1desc.html">llvm::cl::desc</a></div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00411">CommandLine.h:411</a></div></div>
<div class="ttc" id="anamespacellvm_html_a89f41bef45732023f8662884065cd058"><div class="ttname"><a href="namespacellvm.html#a89f41bef45732023f8662884065cd058">llvm::hasOutsideLoopUser</a></div><div class="ttdeci">static bool hasOutsideLoopUser(const Loop *TheLoop, Instruction *Inst, SmallPtrSetImpl&lt; Value * &gt; &amp;AllowedExit)</div><div class="ttdoc">Check that the instruction has outside loop users and is not an identified reduction variable.</div><div class="ttdef"><b>Definition:</b> <a href="LoopVectorizationLegality_8cpp_source.html#l00411">LoopVectorizationLegality.cpp:411</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopAccessInfo_html_aa9d24e39eb41447892aaf8fdcff0f16a"><div class="ttname"><a href="classllvm_1_1LoopAccessInfo.html#aa9d24e39eb41447892aaf8fdcff0f16a">llvm::LoopAccessInfo::getPSE</a></div><div class="ttdeci">const PredicatedScalarEvolution &amp; getPSE() const</div><div class="ttdoc">Used to add runtime SCEV checks.</div><div class="ttdef"><b>Definition:</b> <a href="LoopAccessAnalysis_8h_source.html#l00639">LoopAccessAnalysis.h:639</a></div></div>
<div class="ttc" id="aclassllvm_1_1RecurrenceDescriptor_html_a445d2b366708f7089645f2a9fdee15e5"><div class="ttname"><a href="classllvm_1_1RecurrenceDescriptor.html#a445d2b366708f7089645f2a9fdee15e5">llvm::RecurrenceDescriptor::isFixedOrderRecurrence</a></div><div class="ttdeci">static bool isFixedOrderRecurrence(PHINode *Phi, Loop *TheLoop, MapVector&lt; Instruction *, Instruction * &gt; &amp;SinkAfter, DominatorTree *DT)</div><div class="ttdoc">Returns true if Phi is a fixed-order recurrence.</div><div class="ttdef"><b>Definition:</b> <a href="IVDescriptors_8cpp_source.html#l00930">IVDescriptors.cpp:930</a></div></div>
<div class="ttc" id="aclassllvm_1_1PredicatedScalarEvolution_html_a872704344573663359494dca7554c198"><div class="ttname"><a href="classllvm_1_1PredicatedScalarEvolution.html#a872704344573663359494dca7554c198">llvm::PredicatedScalarEvolution::getSE</a></div><div class="ttdeci">ScalarEvolution * getSE() const</div><div class="ttdoc">Returns the ScalarEvolution analysis used.</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8h_source.html#l02312">ScalarEvolution.h:2312</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopVectorizeHints_html_a55ab1072c44295ad279535d714a0f33ea980c2c6e59ca5dcf413baa325d8bc385"><div class="ttname"><a href="classllvm_1_1LoopVectorizeHints.html#a55ab1072c44295ad279535d714a0f33ea980c2c6e59ca5dcf413baa325d8bc385">llvm::LoopVectorizeHints::FK_Disabled</a></div><div class="ttdeci">@ FK_Disabled</div><div class="ttdoc">Forcing disabled.</div><div class="ttdef"><b>Definition:</b> <a href="LoopVectorizationLegality_8h_source.html#l00110">LoopVectorizationLegality.h:110</a></div></div>
<div class="ttc" id="aLoopStrengthReduce_8cpp_html_a175f1f53cc9c3619505ffbd13aca087f"><div class="ttname"><a href="LoopStrengthReduce_8cpp.html#a175f1f53cc9c3619505ffbd13aca087f">Reduction</a></div><div class="ttdeci">loop Loop Strength Reduction</div><div class="ttdef"><b>Definition:</b> <a href="LoopStrengthReduce_8cpp_source.html#l07017">LoopStrengthReduce.cpp:7017</a></div></div>
<div class="ttc" id="aclassllvm_1_1MDString_html"><div class="ttname"><a href="classllvm_1_1MDString.html">llvm::MDString</a></div><div class="ttdoc">A single uniqued string.</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l00611">Metadata.h:611</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopAccessInfoManager_html_a628110f56ef933981e2fecb45c4b0d63"><div class="ttname"><a href="classllvm_1_1LoopAccessInfoManager.html#a628110f56ef933981e2fecb45c4b0d63">llvm::LoopAccessInfoManager::getInfo</a></div><div class="ttdeci">const LoopAccessInfo &amp; getInfo(Loop &amp;L)</div><div class="ttdef"><b>Definition:</b> <a href="LoopAccessAnalysis_8cpp_source.html#l02673">LoopAccessAnalysis.cpp:2673</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopVectorizationLegality_html_a3ce10d1174bdfcac2b73ed7efa352b7f"><div class="ttname"><a href="classllvm_1_1LoopVectorizationLegality.html#a3ce10d1174bdfcac2b73ed7efa352b7f">llvm::LoopVectorizationLegality::canVectorize</a></div><div class="ttdeci">bool canVectorize(bool UseVPlanNativePath)</div><div class="ttdoc">Returns true if it is legal to vectorize this loop.</div><div class="ttdef"><b>Definition:</b> <a href="LoopVectorizationLegality_8cpp_source.html#l01289">LoopVectorizationLegality.cpp:1289</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html"><div class="ttname"><a href="classllvm_1_1Value.html">llvm::Value</a></div><div class="ttdoc">LLVM Value Representation.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00074">Value.h:74</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_ab4e0512c7e1c7adaa56677e3155685f1"><div class="ttname"><a href="classllvm_1_1Value.html#ab4e0512c7e1c7adaa56677e3155685f1">llvm::Value::users</a></div><div class="ttdeci">iterator_range&lt; user_iterator &gt; users()</div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00421">Value.h:421</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallPtrSetImpl_html_a6bc6fb89fe2e91c25559a8631f56e27e"><div class="ttname"><a href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">llvm::SmallPtrSetImpl::insert</a></div><div class="ttdeci">std::pair&lt; iterator, bool &gt; insert(PtrType Ptr)</div><div class="ttdoc">Inserts Ptr if and only if there is no element in the container equal to Ptr.</div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00365">SmallPtrSet.h:365</a></div></div>
<div class="ttc" id="anamespacellvm_1_1Intrinsic_html_a80add6b3b1cdaec560907995127adc16"><div class="ttname"><a href="namespacellvm_1_1Intrinsic.html#a80add6b3b1cdaec560907995127adc16">llvm::Intrinsic::ID</a></div><div class="ttdeci">unsigned ID</div><div class="ttdef"><b>Definition:</b> <a href="TargetTransformInfo_8h_source.html#l00039">TargetTransformInfo.h:39</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Aug 7 2023 10:38:52 for LLVM by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
