<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LLVM: lib/Transforms/Utils/Local.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LLVM
   &#160;<span id="projectnumber">17.0.0git</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_a72932e0778af28115095468f6286ff8.html">Transforms</a></li><li class="navelem"><a class="el" href="dir_f75c00afeb315f44d76556a7c675e6e8.html">Utils</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Local.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="Transforms_2Utils_2Local_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//===- Local.cpp - Functions to perform local transformations -------------===//</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// Part of the LLVM Project, under the Apache License v2.0 with LLVM Exceptions.</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">// See https://llvm.org/LICENSE.txt for license information.</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// SPDX-License-Identifier: Apache-2.0 WITH LLVM-exception</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">// This family of functions perform various local transformations to the</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">// program.</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160; </div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Transforms_2Utils_2Local_8h.html">llvm/Transforms/Utils/Local.h</a>&quot;</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="APInt_8h.html">llvm/ADT/APInt.h</a>&quot;</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DenseMap_8h.html">llvm/ADT/DenseMap.h</a>&quot;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DenseMapInfo_8h.html">llvm/ADT/DenseMapInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DenseSet_8h.html">llvm/ADT/DenseSet.h</a>&quot;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Hashing_8h.html">llvm/ADT/Hashing.h</a>&quot;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="STLExtras_8h.html">llvm/ADT/STLExtras.h</a>&quot;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SetVector_8h.html">llvm/ADT/SetVector.h</a>&quot;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SmallPtrSet_8h.html">llvm/ADT/SmallPtrSet.h</a>&quot;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SmallVector_8h.html">llvm/ADT/SmallVector.h</a>&quot;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Statistic_8h.html">llvm/ADT/Statistic.h</a>&quot;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="AssumeBundleQueries_8h.html">llvm/Analysis/AssumeBundleQueries.h</a>&quot;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ConstantFolding_8h.html">llvm/Analysis/ConstantFolding.h</a>&quot;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DomTreeUpdater_8h.html">llvm/Analysis/DomTreeUpdater.h</a>&quot;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="InstructionSimplify_8h.html">llvm/Analysis/InstructionSimplify.h</a>&quot;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MemoryBuiltins_8h.html">llvm/Analysis/MemoryBuiltins.h</a>&quot;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MemorySSAUpdater_8h.html">llvm/Analysis/MemorySSAUpdater.h</a>&quot;</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TargetLibraryInfo_8h.html">llvm/Analysis/TargetLibraryInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ValueTracking_8h.html">llvm/Analysis/ValueTracking.h</a>&quot;</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="VectorUtils_8h.html">llvm/Analysis/VectorUtils.h</a>&quot;</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Dwarf_8h.html">llvm/BinaryFormat/Dwarf.h</a>&quot;</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Argument_8h.html">llvm/IR/Argument.h</a>&quot;</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Attributes_8h.html">llvm/IR/Attributes.h</a>&quot;</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="BasicBlock_8h.html">llvm/IR/BasicBlock.h</a>&quot;</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="IR_2CFG_8h.html">llvm/IR/CFG.h</a>&quot;</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Constant_8h.html">llvm/IR/Constant.h</a>&quot;</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ConstantRange_8h.html">llvm/IR/ConstantRange.h</a>&quot;</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Constants_8h.html">llvm/IR/Constants.h</a>&quot;</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DIBuilder_8h.html">llvm/IR/DIBuilder.h</a>&quot;</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DataLayout_8h.html">llvm/IR/DataLayout.h</a>&quot;</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="IR_2DebugInfo_8h.html">llvm/IR/DebugInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DebugInfoMetadata_8h.html">llvm/IR/DebugInfoMetadata.h</a>&quot;</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DebugLoc_8h.html">llvm/IR/DebugLoc.h</a>&quot;</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DerivedTypes_8h.html">llvm/IR/DerivedTypes.h</a>&quot;</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Dominators_8h.html">llvm/IR/Dominators.h</a>&quot;</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="EHPersonalities_8h.html">llvm/IR/EHPersonalities.h</a>&quot;</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Function_8h.html">llvm/IR/Function.h</a>&quot;</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="GetElementPtrTypeIterator_8h.html">llvm/IR/GetElementPtrTypeIterator.h</a>&quot;</span></div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="GlobalObject_8h.html">llvm/IR/GlobalObject.h</a>&quot;</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="IRBuilder_8h.html">llvm/IR/IRBuilder.h</a>&quot;</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="InstrTypes_8h.html">llvm/IR/InstrTypes.h</a>&quot;</span></div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="IR_2Instruction_8h.html">llvm/IR/Instruction.h</a>&quot;</span></div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Instructions_8h.html">llvm/IR/Instructions.h</a>&quot;</span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="IntrinsicInst_8h.html">llvm/IR/IntrinsicInst.h</a>&quot;</span></div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Intrinsics_8h.html">llvm/IR/Intrinsics.h</a>&quot;</span></div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="preprocessor">#include &quot;llvm/IR/IntrinsicsWebAssembly.h&quot;</span></div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="LLVMContext_8h.html">llvm/IR/LLVMContext.h</a>&quot;</span></div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MDBuilder_8h.html">llvm/IR/MDBuilder.h</a>&quot;</span></div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Metadata_8h.html">llvm/IR/Metadata.h</a>&quot;</span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Module_8h.html">llvm/IR/Module.h</a>&quot;</span></div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="PatternMatch_8h.html">llvm/IR/PatternMatch.h</a>&quot;</span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ProfDataUtils_8h.html">llvm/IR/ProfDataUtils.h</a>&quot;</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Type_8h.html">llvm/IR/Type.h</a>&quot;</span></div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Use_8h.html">llvm/IR/Use.h</a>&quot;</span></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="User_8h.html">llvm/IR/User.h</a>&quot;</span></div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Value_8h.html">llvm/IR/Value.h</a>&quot;</span></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ValueHandle_8h.html">llvm/IR/ValueHandle.h</a>&quot;</span></div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Casting_8h.html">llvm/Support/Casting.h</a>&quot;</span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Debug_8h.html">llvm/Support/Debug.h</a>&quot;</span></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Support_2ErrorHandling_8h.html">llvm/Support/ErrorHandling.h</a>&quot;</span></div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="KnownBits_8h.html">llvm/Support/KnownBits.h</a>&quot;</span></div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="raw__ostream_8h.html">llvm/Support/raw_ostream.h</a>&quot;</span></div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="BasicBlockUtils_8h.html">llvm/Transforms/Utils/BasicBlockUtils.h</a>&quot;</span></div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ValueMapper_8h.html">llvm/Transforms/Utils/ValueMapper.h</a>&quot;</span></div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="preprocessor">#include &lt;algorithm&gt;</span></div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="preprocessor">#include &lt;cassert&gt;</span></div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="preprocessor">#include &lt;cstdint&gt;</span></div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="preprocessor">#include &lt;iterator&gt;</span></div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="preprocessor">#include &lt;map&gt;</span></div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="preprocessor">#include &lt;optional&gt;</span></div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="preprocessor">#include &lt;utility&gt;</span></div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160; </div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacellvm.html">llvm</a>;</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacellvm_1_1PatternMatch.html">llvm::PatternMatch</a>;</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160; </div>
<div class="line"><a name="l00089"></a><span class="lineno"><a class="line" href="Transforms_2Utils_2Local_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">   89</a></span>&#160;<span class="preprocessor">#define DEBUG_TYPE &quot;local&quot;</span></div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160; </div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;<a class="code" href="namespacellvm.html#a0bf75467957937ad23ad7be19f489934">STATISTIC</a>(NumRemoved, <span class="stringliteral">&quot;Number of unreachable basic blocks removed&quot;</span>);</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;<a class="code" href="namespacellvm.html#a0bf75467957937ad23ad7be19f489934">STATISTIC</a>(NumPHICSEs, <span class="stringliteral">&quot;Number of PHI&#39;s that got CSE&#39;d&quot;</span>);</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160; </div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a> <a class="code" href="Transforms_2Utils_2Local_8cpp.html#ae4472b174c2d3bf50fc5883319a48108">PHICSEDebugHash</a>(</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    <span class="stringliteral">&quot;phicse-debug-hash&quot;</span>,</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;#ifdef EXPENSIVE_CHECKS</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(<span class="keyword">true</span>),</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;#<span class="keywordflow">else</span></div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(<span class="keyword">false</span>),</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;#<a class="code" href="include_2llvm_2Support_2CMakeLists_8txt.html#ac54dc4baeff9131a27bde4eb0527e810">endif</a></div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>,</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Perform extra assertion checking to verify that PHINodes&#39;s hash &quot;</span></div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;             <span class="stringliteral">&quot;function is well-behaved w.r.t. its isEqual predicate&quot;</span>));</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160; </div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;unsigned&gt;</a> <a class="code" href="Transforms_2Utils_2Local_8cpp.html#a1d8447f93eb6fa9a16e37d2e44319463">PHICSENumPHISmallSize</a>(</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    <span class="stringliteral">&quot;phicse-num-phi-smallsize&quot;</span>, <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(32), <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>,</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;        <span class="stringliteral">&quot;When the basic block contains not more than this number of PHI nodes, &quot;</span></div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;        <span class="stringliteral">&quot;perform a (faster!) exhaustive search instead of set-driven one.&quot;</span>));</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160; </div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;<span class="comment">// Max recursion depth for collectBitParts used when detecting bswap and</span></div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;<span class="comment">// bitreverse idioms.</span></div>
<div class="line"><a name="l00113"></a><span class="lineno"><a class="line" href="Transforms_2Utils_2Local_8cpp.html#ae67ef27038e310f603f3b1bc4fb6eda2">  113</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <a class="code" href="Transforms_2Utils_2Local_8cpp.html#ae67ef27038e310f603f3b1bc4fb6eda2">BitPartRecursionMaxDepth</a> = 48;</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160; </div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;<span class="comment">//  Local constant propagation.</span></div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;<span class="comment">/// ConstantFoldTerminator - If a terminator instruction is predicated on a</span></div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;<span class="comment">/// constant value, convert it into an unconditional branch to the constant</span></div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;<span class="comment">/// destination.  This is a nontrivial operation because the successors of this</span></div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;<span class="comment">/// basic block must have their PHI nodes updated.</span></div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;<span class="comment">/// Also calls RecursivelyDeleteTriviallyDeadInstructions() on any branch/switch</span></div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;<span class="comment">/// conditions and indirectbr addresses this might make dead if</span></div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;<span class="comment">/// DeleteDeadConditions is true.</span></div>
<div class="line"><a name="l00126"></a><span class="lineno"><a class="line" href="namespacellvm.html#a152d8c380cc937c9dceb402ceec943b6">  126</a></span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> <a class="code" href="namespacellvm.html#a152d8c380cc937c9dceb402ceec943b6">llvm::ConstantFoldTerminator</a>(<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>, <span class="keywordtype">bool</span> DeleteDeadConditions,</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;                                  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetLibraryInfo.html">TargetLibraryInfo</a> *TLI,</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;                                  <a class="code" href="classllvm_1_1DomTreeUpdater.html">DomTreeUpdater</a> *DTU) {</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;  <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="classT.html">T</a> = <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>-&gt;getTerminator();</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;  <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>(<a class="code" href="classT.html">T</a>);</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160; </div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;  <span class="comment">// Branch - See if we are conditional jumping on constant</span></div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *BI = dyn_cast&lt;BranchInst&gt;(<a class="code" href="classT.html">T</a>)) {</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    <span class="keywordflow">if</span> (BI-&gt;isUnconditional()) <span class="keywordflow">return</span> <span class="keyword">false</span>;  <span class="comment">// Can&#39;t optimize uncond branch</span></div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160; </div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *Dest1 = BI-&gt;getSuccessor(0);</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *Dest2 = BI-&gt;getSuccessor(1);</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160; </div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    <span class="keywordflow">if</span> (Dest2 == Dest1) {       <span class="comment">// Conditional branch to same location?</span></div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;      <span class="comment">// This branch matches something like this:</span></div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;      <span class="comment">//     br bool %cond, label %Dest, label %Dest</span></div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;      <span class="comment">// and changes it into:  br label %Dest</span></div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160; </div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;      <span class="comment">// Let the basic block know that we are letting go of one copy of it.</span></div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(BI-&gt;getParent() &amp;&amp; <span class="stringliteral">&quot;Terminator not inserted in block!&quot;</span>);</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;      Dest1-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#afe7af0c3ec2ef1f525173acd2ea4ba60">removePredecessor</a>(BI-&gt;getParent());</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160; </div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;      <span class="comment">// Replace the conditional branch with an unconditional one.</span></div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;      <a class="code" href="classllvm_1_1BranchInst.html">BranchInst</a> *NewBI = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateBr(Dest1);</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160; </div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;      <span class="comment">// Transfer the metadata to the new branch instruction.</span></div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;      NewBI-&gt;<a class="code" href="classllvm_1_1Instruction.html#aec6eaa1e49f48c178e0ab9c030b5971e">copyMetadata</a>(*BI, {LLVMContext::MD_loop, LLVMContext::MD_dbg,</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;                                LLVMContext::MD_annotation});</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160; </div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a> = BI-&gt;getCondition();</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;      BI-&gt;eraseFromParent();</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;      <span class="keywordflow">if</span> (DeleteDeadConditions)</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;        <a class="code" href="namespacellvm.html#a1106b8a15061e8494873e10bb8a364e5">RecursivelyDeleteTriviallyDeadInstructions</a>(<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>, TLI);</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    }</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160; </div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> *<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a> = dyn_cast&lt;ConstantInt&gt;(BI-&gt;getCondition())) {</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;      <span class="comment">// Are we branching on constant?</span></div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;      <span class="comment">// YES.  Change to unconditional branch...</span></div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;      <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *Destination = <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>-&gt;getZExtValue() ? Dest1 : Dest2;</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;      <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *OldDest = <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>-&gt;getZExtValue() ? Dest2 : Dest1;</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160; </div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;      <span class="comment">// Let the basic block know that we are letting go of it.  Based on this,</span></div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;      <span class="comment">// it will adjust it&#39;s PHI nodes.</span></div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;      OldDest-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#afe7af0c3ec2ef1f525173acd2ea4ba60">removePredecessor</a>(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>);</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160; </div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;      <span class="comment">// Replace the conditional branch with an unconditional one.</span></div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;      <a class="code" href="classllvm_1_1BranchInst.html">BranchInst</a> *NewBI = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateBr(Destination);</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160; </div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;      <span class="comment">// Transfer the metadata to the new branch instruction.</span></div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;      NewBI-&gt;<a class="code" href="classllvm_1_1Instruction.html#aec6eaa1e49f48c178e0ab9c030b5971e">copyMetadata</a>(*BI, {LLVMContext::MD_loop, LLVMContext::MD_dbg,</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;                                LLVMContext::MD_annotation});</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160; </div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;      BI-&gt;eraseFromParent();</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;      <span class="keywordflow">if</span> (DTU)</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;        DTU-&gt;<a class="code" href="classllvm_1_1DomTreeUpdater.html#aae522cd1928cfac6850b50c7a3e22185">applyUpdates</a>({{<a class="code" href="classllvm_1_1DominatorTreeBase.html#a71c91cbbfc1c0ecf9a69e10ccf739bd7">DominatorTree::Delete</a>, <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>, OldDest}});</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    }</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160; </div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;  }</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160; </div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a> = dyn_cast&lt;SwitchInst&gt;(<a class="code" href="classT.html">T</a>)) {</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    <span class="comment">// If we are switching on a constant, we can convert the switch to an</span></div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    <span class="comment">// unconditional branch.</span></div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    <span class="keyword">auto</span> *CI = dyn_cast&lt;ConstantInt&gt;(<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>-&gt;getCondition());</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *DefaultDest = <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>-&gt;getDefaultDest();</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *TheOnlyDest = DefaultDest;</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160; </div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    <span class="comment">// If the default is unreachable, ignore it when searching for TheOnlyDest.</span></div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    <span class="keywordflow">if</span> (isa&lt;UnreachableInst&gt;(DefaultDest-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#a94c9bd7b123be808934be99e1bcedd24">getFirstNonPHIOrDbg</a>()) &amp;&amp;</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;        <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>-&gt;getNumCases() &gt; 0) {</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;      TheOnlyDest = <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>-&gt;case_begin()-&gt;getCaseSuccessor();</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    }</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160; </div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    <span class="keywordtype">bool</span> Changed = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160; </div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    <span class="comment">// Figure out which case it goes to.</span></div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> It = <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>-&gt;case_begin(), End = <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>-&gt;case_end(); It != End;) {</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;      <span class="comment">// Found case matching a constant operand?</span></div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;      <span class="keywordflow">if</span> (It-&gt;getCaseValue() == CI) {</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;        TheOnlyDest = It-&gt;getCaseSuccessor();</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;      }</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160; </div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;      <span class="comment">// Check to see if this branch is going to the same place as the default</span></div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;      <span class="comment">// dest.  If so, eliminate it as an explicit compare.</span></div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;      <span class="keywordflow">if</span> (It-&gt;getCaseSuccessor() == DefaultDest) {</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;        <a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *MD = <a class="code" href="namespacellvm.html#a6da87e96231847cc11de9fd5d5020d40">getValidBranchWeightMDNode</a>(*<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>);</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;        <span class="keywordtype">unsigned</span> NCases = <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>-&gt;getNumCases();</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;        <span class="comment">// Fold the case metadata into the default if there will be any branches</span></div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;        <span class="comment">// left, unless the metadata doesn&#39;t match the switch.</span></div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;        <span class="keywordflow">if</span> (NCases &gt; 1 &amp;&amp; MD) {</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;          <span class="comment">// Collect branch weights into a vector.</span></div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;          <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;uint32_t, 8&gt;</a> Weights;</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;          <a class="code" href="namespacellvm.html#ac19cbbc4935a23e1d44f65e1eaba6b1d">extractBranchWeights</a>(MD, Weights);</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160; </div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;          <span class="comment">// Merge weight of this case to the default weight.</span></div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;          <span class="keywordtype">unsigned</span> Idx = It-&gt;getCaseIndex();</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;          <span class="comment">// TODO: Add overflow check.</span></div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;          Weights[0] += Weights[Idx + 1];</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;          <span class="comment">// Remove weight for this case.</span></div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;          <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(Weights[Idx + 1], Weights.back());</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;          Weights.pop_back();</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;          <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>-&gt;setMetadata(LLVMContext::MD_prof,</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;                          <a class="code" href="classllvm_1_1MDBuilder.html">MDBuilder</a>(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>-&gt;getContext()).</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;                          createBranchWeights(Weights));</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;        }</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;        <span class="comment">// Remove this entry.</span></div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;        <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *ParentBB = <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>-&gt;getParent();</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;        DefaultDest-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#afe7af0c3ec2ef1f525173acd2ea4ba60">removePredecessor</a>(ParentBB);</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;        It = <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>-&gt;removeCase(It);</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;        End = <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>-&gt;case_end();</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160; </div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;        <span class="comment">// Removing this case may have made the condition constant. In that</span></div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;        <span class="comment">// case, update CI and restart iteration through the cases.</span></div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;        <span class="keywordflow">if</span> (<span class="keyword">auto</span> *NewCI = dyn_cast&lt;ConstantInt&gt;(<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>-&gt;getCondition())) {</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;          CI = NewCI;</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;          It = <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>-&gt;case_begin();</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;        }</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160; </div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;        Changed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;      }</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160; </div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;      <span class="comment">// Otherwise, check to see if the switch only branches to one destination.</span></div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;      <span class="comment">// We do this by reseting &quot;TheOnlyDest&quot; to null when we find two non-equal</span></div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;      <span class="comment">// destinations.</span></div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;      <span class="keywordflow">if</span> (It-&gt;getCaseSuccessor() != TheOnlyDest)</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;        TheOnlyDest = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160; </div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;      <span class="comment">// Increment this iterator as we haven&#39;t removed the case.</span></div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;      ++It;</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    }</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160; </div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    <span class="keywordflow">if</span> (CI &amp;&amp; !TheOnlyDest) {</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;      <span class="comment">// Branching on a constant, but not any of the cases, go to the default</span></div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;      <span class="comment">// successor.</span></div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;      TheOnlyDest = <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>-&gt;getDefaultDest();</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    }</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160; </div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    <span class="comment">// If we found a single destination that we can fold the switch into, do so</span></div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    <span class="comment">// now.</span></div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    <span class="keywordflow">if</span> (TheOnlyDest) {</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;      <span class="comment">// Insert the new branch.</span></div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;      <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateBr(TheOnlyDest);</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;      <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a> = <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>-&gt;getParent();</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160; </div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;      <a class="code" href="classllvm_1_1SmallSet.html">SmallSet&lt;BasicBlock *, 8&gt;</a> RemovedSuccessors;</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160; </div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;      <span class="comment">// Remove entries from PHI nodes which we no longer branch to...</span></div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;      <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *SuccToKeep = TheOnlyDest;</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *Succ : <a class="code" href="namespacellvm.html#a26e2a938b431eaa6eca2beaa96410c9d">successors</a>(<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>)) {</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;        <span class="keywordflow">if</span> (DTU &amp;&amp; Succ != TheOnlyDest)</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;          RemovedSuccessors.<a class="code" href="classllvm_1_1SmallSet.html#a1679469af9bb8ccfbe98441fb8228c79">insert</a>(Succ);</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;        <span class="comment">// Found case matching a constant operand?</span></div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;        <span class="keywordflow">if</span> (Succ == SuccToKeep) {</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;          SuccToKeep = <span class="keyword">nullptr</span>; <span class="comment">// Don&#39;t modify the first branch to TheOnlyDest</span></div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;          Succ-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#afe7af0c3ec2ef1f525173acd2ea4ba60">removePredecessor</a>(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>);</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;        }</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;      }</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160; </div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;      <span class="comment">// Delete the old switch.</span></div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a> = <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>-&gt;getCondition();</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;      <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>-&gt;eraseFromParent();</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;      <span class="keywordflow">if</span> (DeleteDeadConditions)</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;        <a class="code" href="namespacellvm.html#a1106b8a15061e8494873e10bb8a364e5">RecursivelyDeleteTriviallyDeadInstructions</a>(<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>, TLI);</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;      <span class="keywordflow">if</span> (DTU) {</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;        std::vector&lt;DominatorTree::UpdateType&gt; Updates;</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;        Updates.reserve(RemovedSuccessors.<a class="code" href="classllvm_1_1SmallSet.html#afd7c135e18f2d7253d4f8545cd7b1756">size</a>());</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">auto</span> *RemovedSuccessor : RemovedSuccessors)</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;          Updates.push_back({<a class="code" href="classllvm_1_1DominatorTreeBase.html#a71c91cbbfc1c0ecf9a69e10ccf739bd7">DominatorTree::Delete</a>, <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>, RemovedSuccessor});</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;        DTU-&gt;<a class="code" href="classllvm_1_1DomTreeUpdater.html#aae522cd1928cfac6850b50c7a3e22185">applyUpdates</a>(Updates);</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;      }</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    }</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160; </div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>-&gt;getNumCases() == 1) {</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;      <span class="comment">// Otherwise, we can fold this switch into a conditional branch</span></div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;      <span class="comment">// instruction if it has only one non-default destination.</span></div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;      <span class="keyword">auto</span> FirstCase = *<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>-&gt;case_begin();</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a> = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateICmpEQ(<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>-&gt;getCondition(),</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;          FirstCase.getCaseValue(), <span class="stringliteral">&quot;cond&quot;</span>);</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160; </div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;      <span class="comment">// Insert the new branch.</span></div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;      <a class="code" href="classllvm_1_1BranchInst.html">BranchInst</a> *NewBr = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateCondBr(<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>,</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;                                               FirstCase.getCaseSuccessor(),</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;                                               <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>-&gt;getDefaultDest());</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;      <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;uint32_t&gt;</a> Weights;</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#ac19cbbc4935a23e1d44f65e1eaba6b1d">extractBranchWeights</a>(*<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>, Weights) &amp;&amp; Weights.size() == 2) {</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;        <a class="code" href="classuint32__t.html">uint32_t</a> DefWeight = Weights[0];</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;        <a class="code" href="classuint32__t.html">uint32_t</a> CaseWeight = Weights[1];</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;        <span class="comment">// The TrueWeight should be the weight for the single case of SI.</span></div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;        NewBr-&gt;<a class="code" href="classllvm_1_1Instruction.html#a9247a212ea89acc9573fa7e7f557eaba">setMetadata</a>(LLVMContext::MD_prof,</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;                           <a class="code" href="classllvm_1_1MDBuilder.html">MDBuilder</a>(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>-&gt;getContext())</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;                               .<a class="code" href="classllvm_1_1MDBuilder.html#ad910125a9cfd76aaad7f69469df22f66">createBranchWeights</a>(CaseWeight, DefWeight));</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;      }</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160; </div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;      <span class="comment">// Update make.implicit metadata to the newly-created conditional branch.</span></div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;      <a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *MakeImplicitMD = <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>-&gt;getMetadata(LLVMContext::MD_make_implicit);</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;      <span class="keywordflow">if</span> (MakeImplicitMD)</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;        NewBr-&gt;<a class="code" href="classllvm_1_1Instruction.html#a9247a212ea89acc9573fa7e7f557eaba">setMetadata</a>(LLVMContext::MD_make_implicit, MakeImplicitMD);</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160; </div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;      <span class="comment">// Delete the old switch.</span></div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;      <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>-&gt;eraseFromParent();</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    }</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    <span class="keywordflow">return</span> Changed;</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;  }</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160; </div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *IBI = dyn_cast&lt;IndirectBrInst&gt;(<a class="code" href="classT.html">T</a>)) {</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    <span class="comment">// indirectbr blockaddress(@F, @BB) -&gt; br label @BB</span></div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> *BA =</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;          dyn_cast&lt;BlockAddress&gt;(IBI-&gt;getAddress()-&gt;stripPointerCasts())) {</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;      <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *TheOnlyDest = BA-&gt;getBasicBlock();</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;      <a class="code" href="classllvm_1_1SmallSet.html">SmallSet&lt;BasicBlock *, 8&gt;</a> RemovedSuccessors;</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160; </div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;      <span class="comment">// Insert the new branch.</span></div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;      <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateBr(TheOnlyDest);</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160; </div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;      <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *SuccToKeep = TheOnlyDest;</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a> = IBI-&gt;getNumDestinations(); <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;        <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *DestBB = IBI-&gt;getDestination(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;        <span class="keywordflow">if</span> (DTU &amp;&amp; DestBB != TheOnlyDest)</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;          RemovedSuccessors.<a class="code" href="classllvm_1_1SmallSet.html#a1679469af9bb8ccfbe98441fb8228c79">insert</a>(DestBB);</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;        <span class="keywordflow">if</span> (IBI-&gt;getDestination(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) == SuccToKeep) {</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;          SuccToKeep = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;          DestBB-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#afe7af0c3ec2ef1f525173acd2ea4ba60">removePredecessor</a>(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>);</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;        }</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;      }</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *Address = IBI-&gt;getAddress();</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;      IBI-&gt;eraseFromParent();</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;      <span class="keywordflow">if</span> (DeleteDeadConditions)</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;        <span class="comment">// Delete pointer cast instructions.</span></div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;        <a class="code" href="namespacellvm.html#a1106b8a15061e8494873e10bb8a364e5">RecursivelyDeleteTriviallyDeadInstructions</a>(Address, TLI);</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160; </div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;      <span class="comment">// Also zap the blockaddress constant if there are no users remaining,</span></div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;      <span class="comment">// otherwise the destination is still marked as having its address taken.</span></div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;      <span class="keywordflow">if</span> (BA-&gt;use_empty())</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;        BA-&gt;destroyConstant();</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160; </div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;      <span class="comment">// If we didn&#39;t find our destination in the IBI successor list, then we</span></div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;      <span class="comment">// have undefined behavior.  Replace the unconditional branch with an</span></div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;      <span class="comment">// &#39;unreachable&#39; instruction.</span></div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;      <span class="keywordflow">if</span> (SuccToKeep) {</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;        <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>-&gt;getTerminator()-&gt;eraseFromParent();</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;        <span class="keyword">new</span> <a class="code" href="classllvm_1_1UnreachableInst.html">UnreachableInst</a>(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>-&gt;getContext(), <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>);</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;      }</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160; </div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;      <span class="keywordflow">if</span> (DTU) {</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;        std::vector&lt;DominatorTree::UpdateType&gt; Updates;</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;        Updates.reserve(RemovedSuccessors.<a class="code" href="classllvm_1_1SmallSet.html#afd7c135e18f2d7253d4f8545cd7b1756">size</a>());</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">auto</span> *RemovedSuccessor : RemovedSuccessors)</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;          Updates.push_back({<a class="code" href="classllvm_1_1DominatorTreeBase.html#a71c91cbbfc1c0ecf9a69e10ccf739bd7">DominatorTree::Delete</a>, <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>, RemovedSuccessor});</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;        DTU-&gt;<a class="code" href="classllvm_1_1DomTreeUpdater.html#aae522cd1928cfac6850b50c7a3e22185">applyUpdates</a>(Updates);</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;      }</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    }</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;  }</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160; </div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;}</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160; </div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;<span class="comment">//  Local dead code elimination.</span></div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;<span class="comment">/// isInstructionTriviallyDead - Return true if the result produced by the</span></div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;<span class="comment">/// instruction is not used, and the instruction has no side effects.</span></div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00398"></a><span class="lineno"><a class="line" href="namespacellvm.html#a627b2f86ac433d829482d5a5a0f50668">  398</a></span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> <a class="code" href="namespacellvm.html#a627b2f86ac433d829482d5a5a0f50668">llvm::isInstructionTriviallyDead</a>(<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>,</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;                                      <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetLibraryInfo.html">TargetLibraryInfo</a> *TLI) {</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;use_empty())</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a64ac0fc718d697dc3cb861e36b1c591a">wouldInstructionBeTriviallyDead</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, TLI);</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;}</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160; </div>
<div class="line"><a name="l00405"></a><span class="lineno"><a class="line" href="namespacellvm.html#a7308003cbda988c3bf5d13197f5c26d5">  405</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="namespacellvm.html#a7308003cbda988c3bf5d13197f5c26d5">llvm::wouldInstructionBeTriviallyDeadOnUnusedPaths</a>(</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetLibraryInfo.html">TargetLibraryInfo</a> *TLI) {</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;  <span class="comment">// Instructions that are &quot;markers&quot; and have implied meaning on code around</span></div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;  <span class="comment">// them (without explicit uses), are not dead on unused paths.</span></div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1IntrinsicInst.html">IntrinsicInst</a> *II = dyn_cast&lt;IntrinsicInst&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>))</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;    <span class="keywordflow">if</span> (II-&gt;getIntrinsicID() == Intrinsic::stacksave ||</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;        II-&gt;getIntrinsicID() == Intrinsic::launder_invariant_group ||</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;        II-&gt;isLifetimeStartOrEnd())</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a64ac0fc718d697dc3cb861e36b1c591a">wouldInstructionBeTriviallyDead</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, TLI);</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;}</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160; </div>
<div class="line"><a name="l00417"></a><span class="lineno"><a class="line" href="namespacellvm.html#a64ac0fc718d697dc3cb861e36b1c591a">  417</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="namespacellvm.html#a64ac0fc718d697dc3cb861e36b1c591a">llvm::wouldInstructionBeTriviallyDead</a>(<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>,</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;                                           <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetLibraryInfo.html">TargetLibraryInfo</a> *TLI) {</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;isTerminator())</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160; </div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;  <span class="comment">// We don&#39;t want the landingpad-like instructions removed by anything this</span></div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;  <span class="comment">// general.</span></div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;isEHPad())</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160; </div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;  <span class="comment">// We don&#39;t want debug info removed by anything this general, unless</span></div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;  <span class="comment">// debug info is empty.</span></div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1DbgDeclareInst.html">DbgDeclareInst</a> *DDI = dyn_cast&lt;DbgDeclareInst&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)) {</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;    <span class="keywordflow">if</span> (DDI-&gt;getAddress())</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;  }</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1DbgValueInst.html">DbgValueInst</a> *DVI = dyn_cast&lt;DbgValueInst&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)) {</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;    <span class="keywordflow">if</span> (DVI-&gt;hasArgList() || DVI-&gt;getValue(0))</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;  }</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1DbgLabelInst.html">DbgLabelInst</a> *DLI = dyn_cast&lt;DbgLabelInst&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)) {</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;    <span class="keywordflow">if</span> (DLI-&gt;getLabel())</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;  }</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160; </div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *CB = dyn_cast&lt;CallBase&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>))</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a2787d1134842ab0b9be8694d95ccbdd7">isRemovableAlloc</a>(CB, TLI))</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160; </div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;willReturn()) {</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;    <span class="keyword">auto</span> *II = dyn_cast&lt;IntrinsicInst&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;    <span class="keywordflow">if</span> (!II)</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160; </div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;    <span class="comment">// TODO: These intrinsics are not safe to remove, because this may remove</span></div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;    <span class="comment">// a well-defined trap.</span></div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;    <span class="keywordflow">switch</span> (II-&gt;getIntrinsicID()) {</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;    <span class="keywordflow">case</span> Intrinsic::wasm_trunc_signed:</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;    <span class="keywordflow">case</span> Intrinsic::wasm_trunc_unsigned:</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    <span class="keywordflow">case</span> Intrinsic::ptrauth_auth:</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;    <span class="keywordflow">case</span> Intrinsic::ptrauth_resign:</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;    }</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;  }</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160; </div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;mayHaveSideEffects())</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160; </div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;  <span class="comment">// Special case intrinsics that &quot;may have side effects&quot; but can be deleted</span></div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;  <span class="comment">// when dead.</span></div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1IntrinsicInst.html">IntrinsicInst</a> *II = dyn_cast&lt;IntrinsicInst&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)) {</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;    <span class="comment">// Safe to delete llvm.stacksave and launder.invariant.group if dead.</span></div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;    <span class="keywordflow">if</span> (II-&gt;getIntrinsicID() == Intrinsic::stacksave ||</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;        II-&gt;getIntrinsicID() == Intrinsic::launder_invariant_group)</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160; </div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;    <span class="keywordflow">if</span> (II-&gt;isLifetimeStartOrEnd()) {</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;      <span class="keyword">auto</span> *<a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a> = II-&gt;getArgOperand(1);</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;      <span class="comment">// Lifetime intrinsics are dead when their right-hand is undef.</span></div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;      <span class="keywordflow">if</span> (isa&lt;UndefValue&gt;(<a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>))</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;      <span class="comment">// If the right-hand is an alloc, global, or argument and the only uses</span></div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;      <span class="comment">// are lifetime intrinsics then the intrinsics are dead.</span></div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;      <span class="keywordflow">if</span> (isa&lt;AllocaInst&gt;(<a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>) || isa&lt;GlobalValue&gt;(<a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>) || isa&lt;Argument&gt;(<a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>))</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a0d10fe510ced2849a8074fe81e5d04ce">llvm::all_of</a>(<a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>-&gt;uses(), [](<a class="code" href="classllvm_1_1Use.html">Use</a> &amp;<a class="code" href="classllvm_1_1Use.html">Use</a>) {</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;          if (IntrinsicInst *IntrinsicUse =</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;                  dyn_cast&lt;IntrinsicInst&gt;(Use.getUser()))</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;            return IntrinsicUse-&gt;isLifetimeStartOrEnd();</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;          return false;</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;        });</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;    }</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160; </div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;    <span class="comment">// Assumptions are dead if their condition is trivially true.  Guards on</span></div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;    <span class="comment">// true are operationally no-ops.  In the future we can consider more</span></div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;    <span class="comment">// sophisticated tradeoffs for guards considering potential for check</span></div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;    <span class="comment">// widening, but for now we keep things simple.</span></div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;    <span class="keywordflow">if</span> ((II-&gt;getIntrinsicID() == Intrinsic::assume &amp;&amp;</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;         <a class="code" href="namespacellvm.html#af292b2e5cb0702e5df9051df6428c79e">isAssumeWithEmptyBundle</a>(cast&lt;AssumeInst&gt;(*II))) ||</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;        II-&gt;getIntrinsicID() == Intrinsic::experimental_guard) {</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a> = dyn_cast&lt;ConstantInt&gt;(II-&gt;getArgOperand(0)))</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;        <span class="keywordflow">return</span> !<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>-&gt;isZero();</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160; </div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;    }</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160; </div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> *FPI = dyn_cast&lt;ConstrainedFPIntrinsic&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)) {</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;      std::optional&lt;fp::ExceptionBehavior&gt; ExBehavior =</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;          FPI-&gt;getExceptionBehavior();</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;      <span class="keywordflow">return</span> *ExBehavior != <a class="code" href="namespacellvm_1_1fp.html#a51c5e09b2604faec548aef87bd482630a5dfc3e95e600e911e26874be1f27dba7">fp::ebStrict</a>;</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;    }</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;  }</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160; </div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *Call = dyn_cast&lt;CallBase&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)) {</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *FreedOp = <a class="code" href="namespacellvm.html#ab9cb77a3069c227792d6bade6faff422">getFreedOperand</a>(Call, TLI))</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = dyn_cast&lt;Constant&gt;(FreedOp))</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;isNullValue() || isa&lt;UndefValue&gt;(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>);</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a2f579c2fbf1fda44d35d059d9799eddc">isMathLibCallNoop</a>(Call, TLI))</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;  }</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160; </div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;  <span class="comment">// Non-volatile atomic loads from constants can be removed.</span></div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *LI = dyn_cast&lt;LoadInst&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>))</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> *GV = dyn_cast&lt;GlobalVariable&gt;(</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;            LI-&gt;getPointerOperand()-&gt;stripPointerCasts()))</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;      <span class="keywordflow">if</span> (!LI-&gt;isVolatile() &amp;&amp; GV-&gt;isConstant())</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160; </div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;}</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;<span class="comment">/// RecursivelyDeleteTriviallyDeadInstructions - If the specified value is a</span></div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;<span class="comment">/// trivially dead instruction, delete it.  If that makes any of its operands</span></div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;<span class="comment">/// trivially dead, delete them too, recursively.  Return true if any</span></div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;<span class="comment">/// instructions were deleted.</span></div>
<div class="line"><a name="l00537"></a><span class="lineno"><a class="line" href="namespacellvm.html#a1106b8a15061e8494873e10bb8a364e5">  537</a></span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> <a class="code" href="namespacellvm.html#a1106b8a15061e8494873e10bb8a364e5">llvm::RecursivelyDeleteTriviallyDeadInstructions</a>(</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *V, <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetLibraryInfo.html">TargetLibraryInfo</a> *TLI, <a class="code" href="classllvm_1_1MemorySSAUpdater.html">MemorySSAUpdater</a> *MSSAU,</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;    <a class="code" href="MemDepPrinter_8cpp.html#a470d8721ad7c3b718e9daeabdaeb4700">std::function</a>&lt;<span class="keywordtype">void</span>(<a class="code" href="classllvm_1_1Value.html">Value</a> *)&gt; AboutToDeleteCallback) {</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;  <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = dyn_cast&lt;Instruction&gt;(V);</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> || !<a class="code" href="namespacellvm.html#a627b2f86ac433d829482d5a5a0f50668">isInstructionTriviallyDead</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, TLI))</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160; </div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;WeakTrackingVH, 16&gt;</a> DeadInsts;</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;  DeadInsts.push_back(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;  <a class="code" href="namespacellvm.html#a1106b8a15061e8494873e10bb8a364e5">RecursivelyDeleteTriviallyDeadInstructions</a>(DeadInsts, TLI, MSSAU,</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;                                             AboutToDeleteCallback);</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160; </div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;}</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160; </div>
<div class="line"><a name="l00552"></a><span class="lineno"><a class="line" href="namespacellvm.html#abca8e2c525d8162fbcbb5b444cf04d21">  552</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="namespacellvm.html#abca8e2c525d8162fbcbb5b444cf04d21">llvm::RecursivelyDeleteTriviallyDeadInstructionsPermissive</a>(</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;    <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;WeakTrackingVH&gt;</a> &amp;DeadInsts, <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetLibraryInfo.html">TargetLibraryInfo</a> *TLI,</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;    <a class="code" href="classllvm_1_1MemorySSAUpdater.html">MemorySSAUpdater</a> *MSSAU,</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;    <a class="code" href="MemDepPrinter_8cpp.html#a470d8721ad7c3b718e9daeabdaeb4700">std::function</a>&lt;<span class="keywordtype">void</span>(<a class="code" href="classllvm_1_1Value.html">Value</a> *)&gt; AboutToDeleteCallback) {</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> = 0, <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = DeadInsts.size(), Alive = 0;</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;  <span class="keywordflow">for</span> (; <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> != <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>; ++<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>) {</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;    <span class="keyword">auto</span> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = dyn_cast&lt;Instruction&gt;(DeadInsts[<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>]);</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> || !<a class="code" href="namespacellvm.html#a627b2f86ac433d829482d5a5a0f50668">isInstructionTriviallyDead</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)) {</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;      DeadInsts[<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>] = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;      ++Alive;</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;    }</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;  }</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;  <span class="keywordflow">if</span> (Alive == <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>)</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;  <a class="code" href="namespacellvm.html#a1106b8a15061e8494873e10bb8a364e5">RecursivelyDeleteTriviallyDeadInstructions</a>(DeadInsts, TLI, MSSAU,</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;                                             AboutToDeleteCallback);</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;}</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160; </div>
<div class="line"><a name="l00571"></a><span class="lineno"><a class="line" href="namespacellvm.html#a1de454f8f11d343f01bde5f057af057e">  571</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacellvm.html#a1106b8a15061e8494873e10bb8a364e5">llvm::RecursivelyDeleteTriviallyDeadInstructions</a>(</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;    <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;WeakTrackingVH&gt;</a> &amp;DeadInsts, <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetLibraryInfo.html">TargetLibraryInfo</a> *TLI,</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;    <a class="code" href="classllvm_1_1MemorySSAUpdater.html">MemorySSAUpdater</a> *MSSAU,</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;    <a class="code" href="MemDepPrinter_8cpp.html#a470d8721ad7c3b718e9daeabdaeb4700">std::function</a>&lt;<span class="keywordtype">void</span>(<a class="code" href="classllvm_1_1Value.html">Value</a> *)&gt; AboutToDeleteCallback) {</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;  <span class="comment">// Process the dead instruction list until empty.</span></div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;  <span class="keywordflow">while</span> (!DeadInsts.empty()) {</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *V = DeadInsts.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a0c8ffe664a36e30d49c84d0aded2fe08">pop_back_val</a>();</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;    <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = cast_or_null&lt;Instruction&gt;(V);</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="namespacellvm.html#a627b2f86ac433d829482d5a5a0f50668">isInstructionTriviallyDead</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, TLI) &amp;&amp;</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;           <span class="stringliteral">&quot;Live instruction found in dead worklist!&quot;</span>);</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;use_empty() &amp;&amp; <span class="stringliteral">&quot;Instructions with uses are not dead.&quot;</span>);</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160; </div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;    <span class="comment">// Don&#39;t lose the debug info while deleting the instructions.</span></div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;    <a class="code" href="namespacellvm.html#a26be1141b23850a2b4eb78021d99e862">salvageDebugInfo</a>(*<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160; </div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;    <span class="keywordflow">if</span> (AboutToDeleteCallback)</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;      AboutToDeleteCallback(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160; </div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;    <span class="comment">// Null out all of the instruction&#39;s operands to see if any operand becomes</span></div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;    <span class="comment">// dead as we go.</span></div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Use.html">Use</a> &amp;OpU : <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;operands()) {</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *OpV = OpU.get();</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;      OpU.set(<span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160; </div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;      <span class="keywordflow">if</span> (!OpV-&gt;<a class="code" href="classllvm_1_1Value.html#a9d7de807ebdfe1819df3ff6cb0f16158">use_empty</a>())</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160; </div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;      <span class="comment">// If the operand is an instruction that became dead as we nulled out the</span></div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;      <span class="comment">// operand, and if it is &#39;trivially&#39; dead, delete it in a future loop</span></div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;      <span class="comment">// iteration.</span></div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *OpI = dyn_cast&lt;Instruction&gt;(OpV))</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a627b2f86ac433d829482d5a5a0f50668">isInstructionTriviallyDead</a>(OpI, TLI))</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;          DeadInsts.push_back(OpI);</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;    }</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;    <span class="keywordflow">if</span> (MSSAU)</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;      MSSAU-&gt;<a class="code" href="classllvm_1_1MemorySSAUpdater.html#abcf78af37d56a9b72a49c65428210758">removeMemoryAccess</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160; </div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;    <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;eraseFromParent();</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;  }</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;}</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160; </div>
<div class="line"><a name="l00614"></a><span class="lineno"><a class="line" href="namespacellvm.html#aa5f6fb45b8f4ed44ba033601a9700b4e">  614</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="namespacellvm.html#aa5f6fb45b8f4ed44ba033601a9700b4e">llvm::replaceDbgUsesWithUndef</a>(<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;DbgVariableIntrinsic *, 1&gt;</a> DbgUsers;</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;  <a class="code" href="namespacellvm.html#a683448397460b5b16e0d9016fd7a273a">findDbgUsers</a>(DbgUsers, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> *DII : DbgUsers)</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;    DII-&gt;setKillLocation();</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;  <span class="keywordflow">return</span> !DbgUsers.empty();</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;}</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;<span class="comment">/// areAllUsesEqual - Check whether the uses of a value are all the same.</span></div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;<span class="comment">/// This is similar to Instruction::hasOneUse() except this will also return</span></div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;<span class="comment">/// true when there are no uses or multiple uses that all refer to the same</span></div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;<span class="comment">/// value.</span></div>
<div class="line"><a name="l00626"></a><span class="lineno"><a class="line" href="Transforms_2Utils_2Local_8cpp.html#a86d26e60cc16331137a491fdcd7744a3">  626</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="Transforms_2Utils_2Local_8cpp.html#a86d26e60cc16331137a491fdcd7744a3">areAllUsesEqual</a>(<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;  <a class="code" href="classllvm_1_1Value.html#acd2fbee42afeb868be98aaae56528636">Value::user_iterator</a> UI = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;user_begin();</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;  <a class="code" href="classllvm_1_1Value.html#acd2fbee42afeb868be98aaae56528636">Value::user_iterator</a> UE = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;user_end();</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;  <span class="keywordflow">if</span> (UI == UE)</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160; </div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;  <a class="code" href="classllvm_1_1User.html">User</a> *TheUse = *UI;</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;  <span class="keywordflow">for</span> (++UI; UI != UE; ++UI) {</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;    <span class="keywordflow">if</span> (*UI != TheUse)</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;  }</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;}</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;<span class="comment">/// RecursivelyDeleteDeadPHINode - If the specified value is an effectively</span></div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;<span class="comment">/// dead PHI node, due to being a def-use chain of single-use nodes that</span></div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;<span class="comment">/// either forms a cycle or is terminated by a trivially dead instruction,</span></div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;<span class="comment">/// delete it.  If that makes any of its operands trivially dead, delete them</span></div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;<span class="comment">/// too, recursively.  Return true if a change was made.</span></div>
<div class="line"><a name="l00645"></a><span class="lineno"><a class="line" href="namespacellvm.html#ad3cf19784335900227e275fd488e4727">  645</a></span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> <a class="code" href="namespacellvm.html#ad3cf19784335900227e275fd488e4727">llvm::RecursivelyDeleteDeadPHINode</a>(<a class="code" href="classllvm_1_1PHINode.html">PHINode</a> *PN,</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;                                        <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetLibraryInfo.html">TargetLibraryInfo</a> *TLI,</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;                                        <a class="code" href="classllvm_1_1MemorySSAUpdater.html">llvm::MemorySSAUpdater</a> *MSSAU) {</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;  <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;Instruction*, 4&gt;</a> Visited;</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = PN; <a class="code" href="Transforms_2Utils_2Local_8cpp.html#a86d26e60cc16331137a491fdcd7744a3">areAllUsesEqual</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) &amp;&amp; !<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;mayHaveSideEffects();</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;       <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = cast&lt;Instruction&gt;(*<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;user_begin())) {</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;use_empty())</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a1106b8a15061e8494873e10bb8a364e5">RecursivelyDeleteTriviallyDeadInstructions</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, TLI, MSSAU);</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160; </div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;    <span class="comment">// If we find an instruction more than once, we&#39;re on a cycle that</span></div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;    <span class="comment">// won&#39;t prove fruitful.</span></div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;    <span class="keywordflow">if</span> (!Visited.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">insert</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>).second) {</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;      <span class="comment">// Break the cycle and delete the instruction and its operands.</span></div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;      <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;replaceAllUsesWith(<a class="code" href="classllvm_1_1PoisonValue.html#a1bf08613fb664a2e377a9a72c59a6b66">PoisonValue::get</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getType()));</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;      (void)<a class="code" href="namespacellvm.html#a1106b8a15061e8494873e10bb8a364e5">RecursivelyDeleteTriviallyDeadInstructions</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, TLI, MSSAU);</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;    }</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;  }</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;}</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160; </div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span></div>
<div class="line"><a name="l00667"></a><span class="lineno"><a class="line" href="Transforms_2Utils_2Local_8cpp.html#a7d068ffb71feb72ff6d1dee350ec7677">  667</a></span>&#160;<a class="code" href="Transforms_2Utils_2Local_8cpp.html#a7d068ffb71feb72ff6d1dee350ec7677">simplifyAndDCEInstruction</a>(<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>,</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;                          <a class="code" href="classllvm_1_1SmallSetVector.html">SmallSetVector&lt;Instruction *, 16&gt;</a> &amp;WorkList,</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;                          <span class="keyword">const</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>,</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;                          <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetLibraryInfo.html">TargetLibraryInfo</a> *TLI) {</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a627b2f86ac433d829482d5a5a0f50668">isInstructionTriviallyDead</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, TLI)) {</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;    <a class="code" href="namespacellvm.html#a26be1141b23850a2b4eb78021d99e862">salvageDebugInfo</a>(*<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160; </div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;    <span class="comment">// Null out all of the instruction&#39;s operands to see if any operand becomes</span></div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;    <span class="comment">// dead as we go.</span></div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a> = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getNumOperands(); <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *OpV = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getOperand(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;      <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;setOperand(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>, <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160; </div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;      <span class="keywordflow">if</span> (!OpV-&gt;<a class="code" href="classllvm_1_1Value.html#a9d7de807ebdfe1819df3ff6cb0f16158">use_empty</a>() || <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> == OpV)</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160; </div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;      <span class="comment">// If the operand is an instruction that became dead as we nulled out the</span></div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;      <span class="comment">// operand, and if it is &#39;trivially&#39; dead, delete it in a future loop</span></div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;      <span class="comment">// iteration.</span></div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *OpI = dyn_cast&lt;Instruction&gt;(OpV))</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a627b2f86ac433d829482d5a5a0f50668">isInstructionTriviallyDead</a>(OpI, TLI))</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;          WorkList.<a class="code" href="classllvm_1_1SetVector.html#a72d928b7fc2c5f2d56c6ac0265fd9c6e">insert</a>(OpI);</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;    }</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160; </div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;    <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;eraseFromParent();</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160; </div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;  }</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160; </div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *SimpleV = <a class="code" href="namespacellvm.html#aab02db480f387fca92956ef1c9a01941">simplifyInstruction</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>)) {</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;    <span class="comment">// Add the users to the worklist. CAREFUL: an instruction can use itself,</span></div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;    <span class="comment">// in the case of a phi node.</span></div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1User.html">User</a> *U : <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;users()) {</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;      <span class="keywordflow">if</span> (U != <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;        WorkList.<a class="code" href="classllvm_1_1SetVector.html#a72d928b7fc2c5f2d56c6ac0265fd9c6e">insert</a>(cast&lt;Instruction&gt;(U));</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;      }</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;    }</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160; </div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;    <span class="comment">// Replace the instruction with its simplified value.</span></div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;    <span class="keywordtype">bool</span> Changed = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;use_empty()) {</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;      <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;replaceAllUsesWith(SimpleV);</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;      Changed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;    }</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a627b2f86ac433d829482d5a5a0f50668">isInstructionTriviallyDead</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, TLI)) {</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;      <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;eraseFromParent();</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;      Changed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;    }</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;    <span class="keywordflow">return</span> Changed;</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;  }</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;}</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;<span class="comment">/// SimplifyInstructionsInBlock - Scan the specified basic block and try to</span></div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;<span class="comment">/// simplify any instructions in it and recursively delete dead instructions.</span></div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;<span class="comment">/// This returns true if it changed the code, note that it can delete</span></div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;<span class="comment">/// instructions in other blocks as well in this block.</span></div>
<div class="line"><a name="l00725"></a><span class="lineno"><a class="line" href="namespacellvm.html#a42108fe3c2695cb429e6fe312908fa0d">  725</a></span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> <a class="code" href="namespacellvm.html#a42108fe3c2695cb429e6fe312908fa0d">llvm::SimplifyInstructionsInBlock</a>(<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>,</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;                                       <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetLibraryInfo.html">TargetLibraryInfo</a> *TLI) {</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;  <span class="keywordtype">bool</span> MadeChange = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a> = <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>-&gt;getModule()-&gt;getDataLayout();</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160; </div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;<span class="preprocessor">#ifndef NDEBUG</span></div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;  <span class="comment">// In debug builds, ensure that the terminator of the block is never replaced</span></div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;  <span class="comment">// or deleted by these simplifications. The idea of simplification is that it</span></div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;  <span class="comment">// cannot introduce new instructions, and there is no way to replace the</span></div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;  <span class="comment">// terminator of a block without introducing a new instruction.</span></div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;  <a class="code" href="classllvm_1_1AssertingVH.html">AssertingVH&lt;Instruction&gt;</a> TerminatorVH(&amp;<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>-&gt;back());</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160; </div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;  <a class="code" href="classllvm_1_1SmallSetVector.html">SmallSetVector&lt;Instruction *, 16&gt;</a> WorkList;</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;  <span class="comment">// Iterate over the original function, only adding insts to the worklist</span></div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;  <span class="comment">// if they actually need to be revisited. This avoids having to pre-init</span></div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;  <span class="comment">// the worklist with the entire function&#39;s worth of instructions.</span></div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1BasicBlock.html#a98c0a84a5dfa8bce341c829709f171e5">BasicBlock::iterator</a> BI = <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>-&gt;begin(), <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = std::prev(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>-&gt;end());</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;       BI != <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>;) {</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!BI-&gt;isTerminator());</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;    <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = &amp;*BI;</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;    ++BI;</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160; </div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;    <span class="comment">// We&#39;re visiting this instruction now, so make sure it&#39;s not in the</span></div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;    <span class="comment">// worklist from an earlier visit.</span></div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;    <span class="keywordflow">if</span> (!WorkList.<a class="code" href="classllvm_1_1SetVector.html#a21c2c6ae5ec23004dc4020eacf83bbce">count</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>))</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;      MadeChange |= <a class="code" href="Transforms_2Utils_2Local_8cpp.html#a7d068ffb71feb72ff6d1dee350ec7677">simplifyAndDCEInstruction</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, WorkList, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, TLI);</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;  }</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160; </div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;  <span class="keywordflow">while</span> (!WorkList.<a class="code" href="classllvm_1_1SetVector.html#aaf9ee38b9973681c1720aaf03af3a069">empty</a>()) {</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;    <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = WorkList.<a class="code" href="classllvm_1_1SetVector.html#a3499f6a24500afba2c318295ad2d2d05">pop_back_val</a>();</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;    MadeChange |= <a class="code" href="Transforms_2Utils_2Local_8cpp.html#a7d068ffb71feb72ff6d1dee350ec7677">simplifyAndDCEInstruction</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, WorkList, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, TLI);</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;  }</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;  <span class="keywordflow">return</span> MadeChange;</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;}</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160; </div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;<span class="comment">//  Control Flow Graph Restructuring.</span></div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160; </div>
<div class="line"><a name="l00765"></a><span class="lineno"><a class="line" href="namespacellvm.html#aa16cddaa1497dc3248fc105467671e82">  765</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacellvm.html#aa16cddaa1497dc3248fc105467671e82">llvm::MergeBasicBlockIntoOnlyPred</a>(<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *DestBB,</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;                                       <a class="code" href="classllvm_1_1DomTreeUpdater.html">DomTreeUpdater</a> *DTU) {</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160; </div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;  <span class="comment">// If BB has single-entry PHI nodes, fold them.</span></div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;  <span class="keywordflow">while</span> (<a class="code" href="classllvm_1_1PHINode.html">PHINode</a> *PN = dyn_cast&lt;PHINode&gt;(DestBB-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#a0ed5f3ab3c2e4196ee0cffffa080c062">begin</a>())) {</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *NewVal = PN-&gt;getIncomingValue(0);</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;    <span class="comment">// Replace self referencing PHI with poison, it must be dead.</span></div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;    <span class="keywordflow">if</span> (NewVal == PN) NewVal = <a class="code" href="classllvm_1_1PoisonValue.html#a1bf08613fb664a2e377a9a72c59a6b66">PoisonValue::get</a>(PN-&gt;getType());</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;    PN-&gt;replaceAllUsesWith(NewVal);</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;    PN-&gt;eraseFromParent();</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;  }</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160; </div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;  <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *PredBB = DestBB-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#a59fb91d1691350f7d1b8e8a114e3f2a4">getSinglePredecessor</a>();</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(PredBB &amp;&amp; <span class="stringliteral">&quot;Block doesn&#39;t have a single predecessor!&quot;</span>);</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160; </div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;  <span class="keywordtype">bool</span> ReplaceEntryBB = PredBB-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#a4ec05121d4b54b3691ad6203e78ff54e">isEntryBlock</a>();</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160; </div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;  <span class="comment">// DTU updates: Collect all the edges that enter</span></div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;  <span class="comment">// PredBB. These dominator edges will be redirected to DestBB.</span></div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;DominatorTree::UpdateType, 32&gt;</a> Updates;</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160; </div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;  <span class="keywordflow">if</span> (DTU) {</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;    <span class="comment">// To avoid processing the same predecessor more than once.</span></div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;    <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;BasicBlock *, 2&gt;</a> SeenPreds;</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;    Updates.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a499ea32ca1b8d16cedfe01d1e5b08f29">reserve</a>(Updates.size() + 2 * <a class="code" href="namespacellvm.html#ae6d1c31d74bbaaa9e42bcbdc10a499f2">pred_size</a>(PredBB) + 1);</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *PredOfPredBB : <a class="code" href="namespacellvm.html#acb22fb04083152eee862457e42e8dc31">predecessors</a>(PredBB))</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;      <span class="comment">// This predecessor of PredBB may already have DestBB as a successor.</span></div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;      <span class="keywordflow">if</span> (PredOfPredBB != PredBB)</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;        <span class="keywordflow">if</span> (SeenPreds.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">insert</a>(PredOfPredBB).second)</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;          Updates.push_back({<a class="code" href="classllvm_1_1DominatorTreeBase.html#a9aeeca2833810f01b20545a46fe22503">DominatorTree::Insert</a>, PredOfPredBB, DestBB});</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;    SeenPreds.<a class="code" href="classllvm_1_1SmallPtrSetImplBase.html#a16413f1a88d8baca228d0a1b4cc0bfc6">clear</a>();</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *PredOfPredBB : <a class="code" href="namespacellvm.html#acb22fb04083152eee862457e42e8dc31">predecessors</a>(PredBB))</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;      <span class="keywordflow">if</span> (SeenPreds.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">insert</a>(PredOfPredBB).second)</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;        Updates.push_back({<a class="code" href="classllvm_1_1DominatorTreeBase.html#a71c91cbbfc1c0ecf9a69e10ccf739bd7">DominatorTree::Delete</a>, PredOfPredBB, PredBB});</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;    Updates.push_back({<a class="code" href="classllvm_1_1DominatorTreeBase.html#a71c91cbbfc1c0ecf9a69e10ccf739bd7">DominatorTree::Delete</a>, PredBB, DestBB});</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;  }</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160; </div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;  <span class="comment">// Zap anything that took the address of DestBB.  Not doing this will give the</span></div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;  <span class="comment">// address an invalid value.</span></div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;  <span class="keywordflow">if</span> (DestBB-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#a315f26c899f5ea8a780db4740ba95ef4">hasAddressTaken</a>()) {</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;    <a class="code" href="classllvm_1_1BlockAddress.html">BlockAddress</a> *BA = <a class="code" href="classllvm_1_1BlockAddress.html#af6e2f535824d8f9b4bf1b1a75e5ab57c">BlockAddress::get</a>(DestBB);</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;    <a class="code" href="classllvm_1_1Constant.html">Constant</a> *Replacement =</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;      <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(<a class="code" href="classllvm_1_1Type.html#a30dd396c5b40cd86c1591872e574ccdf">Type::getInt32Ty</a>(BA-&gt;<a class="code" href="classllvm_1_1Value.html#ab3fc0225d8aaf8434026c3573f961f2c">getContext</a>()), 1);</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;    BA-&gt;<a class="code" href="classllvm_1_1Value.html#a3ab5fc45117b450e8bb04e564cb6e5f2">replaceAllUsesWith</a>(<a class="code" href="classllvm_1_1ConstantExpr.html#a02560cda155aaed54314383bed827d60">ConstantExpr::getIntToPtr</a>(Replacement,</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;                                                     BA-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()));</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;    BA-&gt;<a class="code" href="classllvm_1_1Constant.html#ae1a4c619a44ea59a2cdeeb85060f385d">destroyConstant</a>();</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;  }</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160; </div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;  <span class="comment">// Anything that branched to PredBB now branches to DestBB.</span></div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;  PredBB-&gt;<a class="code" href="classllvm_1_1Value.html#a3ab5fc45117b450e8bb04e564cb6e5f2">replaceAllUsesWith</a>(DestBB);</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160; </div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;  <span class="comment">// Splice all the instructions from PredBB to DestBB.</span></div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;  PredBB-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#a8de021e28a3c04c9216ad8decf104f02">getTerminator</a>()-&gt;<a class="code" href="classllvm_1_1Instruction.html#ae6b978645b8ac72d1a35e1298ffdd4f0">eraseFromParent</a>();</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;  DestBB-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#af29f89e91dfd0ae90950f0b1bf49798d">splice</a>(DestBB-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#a0ed5f3ab3c2e4196ee0cffffa080c062">begin</a>(), PredBB);</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;  <span class="keyword">new</span> <a class="code" href="classllvm_1_1UnreachableInst.html">UnreachableInst</a>(PredBB-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#aa286a0f7f5d38488d593bb7ef0ba183e">getContext</a>(), PredBB);</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160; </div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;  <span class="comment">// If the PredBB is the entry block of the function, move DestBB up to</span></div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;  <span class="comment">// become the entry block after we erase PredBB.</span></div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;  <span class="keywordflow">if</span> (ReplaceEntryBB)</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;    DestBB-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#a507bb47fc498540c91fec0bf95c25907">moveAfter</a>(PredBB);</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160; </div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;  <span class="keywordflow">if</span> (DTU) {</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(PredBB-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#ab9f68be0e2bcdf14f503f45edea63023">size</a>() == 1 &amp;&amp;</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;           isa&lt;UnreachableInst&gt;(PredBB-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#a8de021e28a3c04c9216ad8decf104f02">getTerminator</a>()) &amp;&amp;</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;           <span class="stringliteral">&quot;The successor list of PredBB isn&#39;t empty before &quot;</span></div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;           <span class="stringliteral">&quot;applying corresponding DTU updates.&quot;</span>);</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;    DTU-&gt;<a class="code" href="classllvm_1_1DomTreeUpdater.html#afbc993d84183553a733d9a161286eaab">applyUpdatesPermissive</a>(Updates);</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;    DTU-&gt;<a class="code" href="classllvm_1_1DomTreeUpdater.html#adcca375fa8086f6844e863abbf58f83b">deleteBB</a>(PredBB);</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;    <span class="comment">// Recalculation of DomTree is needed when updating a forward DomTree and</span></div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;    <span class="comment">// the Entry BB is replaced.</span></div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;    <span class="keywordflow">if</span> (ReplaceEntryBB &amp;&amp; DTU-&gt;<a class="code" href="classllvm_1_1DomTreeUpdater.html#a452fbd15ef0fd669454cffbd79e70bbe">hasDomTree</a>()) {</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;      <span class="comment">// The entry block was removed and there is no external interface for</span></div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;      <span class="comment">// the dominator tree to be notified of this change. In this corner-case</span></div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;      <span class="comment">// we recalculate the entire tree.</span></div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;      DTU-&gt;<a class="code" href="classllvm_1_1DomTreeUpdater.html#a16573be9dccc430b2f944e78cd54373e">recalculate</a>(*(DestBB-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#a38bee869ad41aebfef3de2641b12004c">getParent</a>()));</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;    }</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;  }</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160; </div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;  <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;    PredBB-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#a8dd327a937563afdb08250abc43820b0">eraseFromParent</a>(); <span class="comment">// Nuke BB if DTU is nullptr.</span></div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;  }</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;}</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;<span class="comment">/// Return true if we can choose one of these values to use in place of the</span></div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;<span class="comment">/// other. Note that we will always choose the non-undef value to keep.</span></div>
<div class="line"><a name="l00850"></a><span class="lineno"><a class="line" href="Transforms_2Utils_2Local_8cpp.html#a7c71badb215d0f31fc84eb7985934e77">  850</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="Transforms_2Utils_2Local_8cpp.html#a7c71badb215d0f31fc84eb7985934e77">CanMergeValues</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *First, <a class="code" href="classllvm_1_1Value.html">Value</a> *Second) {</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="lib_2Target_2README_8txt.html#ab24db72f7bd10b13351812874015861b">First</a> == Second || isa&lt;UndefValue&gt;(<a class="code" href="lib_2Target_2README_8txt.html#ab24db72f7bd10b13351812874015861b">First</a>) || isa&lt;UndefValue&gt;(Second);</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;}</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;<span class="comment">/// Return true if we can fold BB, an almost-empty BB ending in an unconditional</span></div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;<span class="comment">/// branch to Succ, into Succ.</span></div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;<span class="comment">/// Assumption: Succ is the single successor for BB.</span></div>
<div class="line"><a name="l00858"></a><span class="lineno"><a class="line" href="Transforms_2Utils_2Local_8cpp.html#a3aaf8983c097b3cc3f6dccb989b28c4d">  858</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="Transforms_2Utils_2Local_8cpp.html#a3aaf8983c097b3cc3f6dccb989b28c4d">CanPropagatePredecessorsForPHIs</a>(<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>, <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *Succ) {</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(*<a class="code" href="namespacellvm.html#a3720211f6e6389ab53734b989bfb6fce">succ_begin</a>(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>) == Succ &amp;&amp; <span class="stringliteral">&quot;Succ is not successor of BB!&quot;</span>);</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160; </div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Looking to fold &quot;</span> &lt;&lt; <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>-&gt;getName() &lt;&lt; <span class="stringliteral">&quot; into &quot;</span></div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;                    &lt;&lt; Succ-&gt;<a class="code" href="classllvm_1_1Value.html#adb5c319f5905c1d3ca9eb5df546388c5">getName</a>() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;  <span class="comment">// Shortcut, if there is only a single predecessor it must be BB and merging</span></div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;  <span class="comment">// is always safe</span></div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;  <span class="keywordflow">if</span> (Succ-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#a59fb91d1691350f7d1b8e8a114e3f2a4">getSinglePredecessor</a>()) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160; </div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;  <span class="comment">// Make a list of the predecessors of BB</span></div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;  <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;BasicBlock*, 16&gt;</a> BBPreds(<a class="code" href="namespacellvm.html#a7e108932dc3da5294aed99a353aac9c4">pred_begin</a>(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>), <a class="code" href="namespacellvm.html#a5eeaf08e96168c2cac8960f87f0ef360">pred_end</a>(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>));</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160; </div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;  <span class="comment">// Look at all the phi nodes in Succ, to see if they present a conflict when</span></div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;  <span class="comment">// merging these blocks</span></div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1BasicBlock.html#a98c0a84a5dfa8bce341c829709f171e5">BasicBlock::iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = Succ-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#a0ed5f3ab3c2e4196ee0cffffa080c062">begin</a>(); isa&lt;PHINode&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>); ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;    <a class="code" href="classllvm_1_1PHINode.html">PHINode</a> *PN = cast&lt;PHINode&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160; </div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;    <span class="comment">// If the incoming value from BB is again a PHINode in</span></div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;    <span class="comment">// BB which has the same incoming value for *PI as PN does, we can</span></div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;    <span class="comment">// merge the phi nodes and then the blocks can still be merged</span></div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;    <a class="code" href="classllvm_1_1PHINode.html">PHINode</a> *BBPN = dyn_cast&lt;PHINode&gt;(PN-&gt;<a class="code" href="classllvm_1_1PHINode.html#adfb61ffe25c950c75c86310245b3ef39">getIncomingValueForBlock</a>(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>));</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;    <span class="keywordflow">if</span> (BBPN &amp;&amp; BBPN-&gt;<a class="code" href="classllvm_1_1Instruction.html#a1a7f07aaef6a3bee130bf0e0f0536802">getParent</a>() == <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>) {</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> PI = 0, PE = PN-&gt;<a class="code" href="classllvm_1_1PHINode.html#aef51af4b490af6b3bf2dfbc8737a8f9f">getNumIncomingValues</a>(); PI != PE; ++PI) {</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;        <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *IBB = PN-&gt;<a class="code" href="classllvm_1_1PHINode.html#a8ce0c4746a1ec805e66409d20ae93922">getIncomingBlock</a>(PI);</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;        <span class="keywordflow">if</span> (BBPreds.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a1f475b0df44ebd7169e720fa1bf9169e">count</a>(IBB) &amp;&amp;</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;            !<a class="code" href="Transforms_2Utils_2Local_8cpp.html#a7c71badb215d0f31fc84eb7985934e77">CanMergeValues</a>(BBPN-&gt;<a class="code" href="classllvm_1_1PHINode.html#adfb61ffe25c950c75c86310245b3ef39">getIncomingValueForBlock</a>(IBB),</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;                            PN-&gt;<a class="code" href="classllvm_1_1PHINode.html#a16c39eb6e60b42a40c399d8d65347bb6">getIncomingValue</a>(PI))) {</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;          <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>()</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;                     &lt;&lt; <span class="stringliteral">&quot;Can&#39;t fold, phi node &quot;</span> &lt;&lt; PN-&gt;<a class="code" href="classllvm_1_1Value.html#adb5c319f5905c1d3ca9eb5df546388c5">getName</a>() &lt;&lt; <span class="stringliteral">&quot; in &quot;</span></div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;                     &lt;&lt; Succ-&gt;<a class="code" href="classllvm_1_1Value.html#adb5c319f5905c1d3ca9eb5df546388c5">getName</a>() &lt;&lt; <span class="stringliteral">&quot; is conflicting with &quot;</span></div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;                     &lt;&lt; BBPN-&gt;<a class="code" href="classllvm_1_1Value.html#adb5c319f5905c1d3ca9eb5df546388c5">getName</a>() &lt;&lt; <span class="stringliteral">&quot; with regard to common predecessor &quot;</span></div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;                     &lt;&lt; IBB-&gt;<a class="code" href="classllvm_1_1Value.html#adb5c319f5905c1d3ca9eb5df546388c5">getName</a>() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;        }</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;      }</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a>* Val = PN-&gt;<a class="code" href="classllvm_1_1PHINode.html#adfb61ffe25c950c75c86310245b3ef39">getIncomingValueForBlock</a>(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>);</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> PI = 0, PE = PN-&gt;<a class="code" href="classllvm_1_1PHINode.html#aef51af4b490af6b3bf2dfbc8737a8f9f">getNumIncomingValues</a>(); PI != PE; ++PI) {</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;        <span class="comment">// See if the incoming value for the common predecessor is equal to the</span></div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;        <span class="comment">// one for BB, in which case this phi node will not prevent the merging</span></div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;        <span class="comment">// of the block.</span></div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;        <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *IBB = PN-&gt;<a class="code" href="classllvm_1_1PHINode.html#a8ce0c4746a1ec805e66409d20ae93922">getIncomingBlock</a>(PI);</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;        <span class="keywordflow">if</span> (BBPreds.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a1f475b0df44ebd7169e720fa1bf9169e">count</a>(IBB) &amp;&amp;</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;            !<a class="code" href="Transforms_2Utils_2Local_8cpp.html#a7c71badb215d0f31fc84eb7985934e77">CanMergeValues</a>(Val, PN-&gt;<a class="code" href="classllvm_1_1PHINode.html#a16c39eb6e60b42a40c399d8d65347bb6">getIncomingValue</a>(PI))) {</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;          <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Can&#39;t fold, phi node &quot;</span> &lt;&lt; PN-&gt;<a class="code" href="classllvm_1_1Value.html#adb5c319f5905c1d3ca9eb5df546388c5">getName</a>()</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;                            &lt;&lt; <span class="stringliteral">&quot; in &quot;</span> &lt;&lt; Succ-&gt;<a class="code" href="classllvm_1_1Value.html#adb5c319f5905c1d3ca9eb5df546388c5">getName</a>()</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;                            &lt;&lt; <span class="stringliteral">&quot; is conflicting with regard to common &quot;</span></div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;                            &lt;&lt; <span class="stringliteral">&quot;predecessor &quot;</span> &lt;&lt; IBB-&gt;<a class="code" href="classllvm_1_1Value.html#adb5c319f5905c1d3ca9eb5df546388c5">getName</a>() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;        }</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;      }</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;    }</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;  }</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160; </div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;}</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160; </div>
<div class="line"><a name="l00915"></a><span class="lineno"><a class="line" href="Transforms_2Utils_2Local_8cpp.html#abf8dfef195cfd8a028f2dedf33c85a61">  915</a></span>&#160;<span class="keyword">using</span> <a class="code" href="classllvm_1_1SmallVector.html">PredBlockVector</a> = <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;BasicBlock *, 16&gt;</a>;</div>
<div class="line"><a name="l00916"></a><span class="lineno"><a class="line" href="Transforms_2Utils_2Local_8cpp.html#a2ef5a9ed9849f302412fbccc8aad51d5">  916</a></span>&#160;<span class="keyword">using</span> <a class="code" href="classllvm_1_1DenseMap.html">IncomingValueMap</a> = <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;BasicBlock *, Value *&gt;</a>;</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;<span class="comment">/// Determines the value to use as the phi node input for a block.</span></div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;<span class="comment">/// Select between \p OldVal any value that we know flows from \p BB</span></div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;<span class="comment">/// to a particular phi on the basis of which one (if either) is not</span></div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;<span class="comment">/// undef. Update IncomingValues based on the selected value.</span></div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;<span class="comment">/// \param OldVal The value we are considering selecting.</span></div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;<span class="comment">/// \param BB The block that the value flows in from.</span></div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;<span class="comment">/// \param IncomingValues A map from block-to-value for other phi inputs</span></div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;<span class="comment">/// that we have examined.</span></div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;<span class="comment">/// \returns the selected value.</span></div>
<div class="line"><a name="l00930"></a><span class="lineno"><a class="line" href="Transforms_2Utils_2Local_8cpp.html#a4174d7448e3656c2b6b13a71f77d90c6">  930</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="Transforms_2Utils_2Local_8cpp.html#a4174d7448e3656c2b6b13a71f77d90c6">selectIncomingValueForBlock</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *OldVal, <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>,</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;                                          <a class="code" href="classllvm_1_1DenseMap.html">IncomingValueMap</a> &amp;IncomingValues) {</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;  <span class="keywordflow">if</span> (!isa&lt;UndefValue&gt;(OldVal)) {</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((!IncomingValues.<a class="code" href="classllvm_1_1DenseMapBase.html#a53408c95a7bfb5443b43fb2134c3eb23">count</a>(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>) ||</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;            IncomingValues.<a class="code" href="classllvm_1_1DenseMapBase.html#a0c047f127ed4380a6f383d70bec4eb94">find</a>(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>)-&gt;second == OldVal) &amp;&amp;</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;           <span class="stringliteral">&quot;Expected OldVal to match incoming value from BB!&quot;</span>);</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160; </div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;    IncomingValues.<a class="code" href="classllvm_1_1DenseMapBase.html#a99f811d53704275b4158c62a2dd138d9">insert</a>(std::make_pair(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>, OldVal));</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;    <span class="keywordflow">return</span> OldVal;</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;  }</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160; </div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;  <a class="code" href="classllvm_1_1DenseMapIterator.html">IncomingValueMap::const_iterator</a> It = IncomingValues.<a class="code" href="classllvm_1_1DenseMapBase.html#a0c047f127ed4380a6f383d70bec4eb94">find</a>(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>);</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;  <span class="keywordflow">if</span> (It != IncomingValues.<a class="code" href="classllvm_1_1DenseMapBase.html#a65520b9c67759099e313d0f4e7b5ff9e">end</a>()) <span class="keywordflow">return</span> It-&gt;second;</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160; </div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;  <span class="keywordflow">return</span> OldVal;</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;}</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;<span class="comment">/// Create a map from block to value for the operands of a</span></div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;<span class="comment">/// given phi.</span></div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;<span class="comment">/// Create a map from block to value for each non-undef value flowing</span></div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;<span class="comment">/// into \p PN.</span></div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;<span class="comment">/// \param PN The phi we are collecting the map for.</span></div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;<span class="comment">/// \param IncomingValues [out] The map from block to value for this phi.</span></div>
<div class="line"><a name="l00955"></a><span class="lineno"><a class="line" href="Transforms_2Utils_2Local_8cpp.html#a3bd9116f3c9e74b7c836560911000c8e">  955</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="Transforms_2Utils_2Local_8cpp.html#a3bd9116f3c9e74b7c836560911000c8e">gatherIncomingValuesToPhi</a>(<a class="code" href="classllvm_1_1PHINode.html">PHINode</a> *PN,</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;                                      <a class="code" href="classllvm_1_1DenseMap.html">IncomingValueMap</a> &amp;IncomingValues) {</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a> = PN-&gt;<a class="code" href="classllvm_1_1PHINode.html#aef51af4b490af6b3bf2dfbc8737a8f9f">getNumIncomingValues</a>(); <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;    <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a> = PN-&gt;<a class="code" href="classllvm_1_1PHINode.html#a8ce0c4746a1ec805e66409d20ae93922">getIncomingBlock</a>(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *V = PN-&gt;<a class="code" href="classllvm_1_1PHINode.html#a16c39eb6e60b42a40c399d8d65347bb6">getIncomingValue</a>(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160; </div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;    <span class="keywordflow">if</span> (!isa&lt;UndefValue&gt;(V))</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;      IncomingValues.<a class="code" href="classllvm_1_1DenseMapBase.html#a99f811d53704275b4158c62a2dd138d9">insert</a>(std::make_pair(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>, V));</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;  }</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;}</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;<span class="comment">/// Replace the incoming undef values to a phi with the values</span></div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;<span class="comment">/// from a block-to-value map.</span></div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;<span class="comment">/// \param PN The phi we are replacing the undefs in.</span></div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;<span class="comment">/// \param IncomingValues A map from block to value.</span></div>
<div class="line"><a name="l00971"></a><span class="lineno"><a class="line" href="Transforms_2Utils_2Local_8cpp.html#a705c6c2b8e570441356edb8db2dd8ddb">  971</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="Transforms_2Utils_2Local_8cpp.html#a705c6c2b8e570441356edb8db2dd8ddb">replaceUndefValuesInPhi</a>(<a class="code" href="classllvm_1_1PHINode.html">PHINode</a> *PN,</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;                                    <span class="keyword">const</span> <a class="code" href="classllvm_1_1DenseMap.html">IncomingValueMap</a> &amp;IncomingValues) {</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;unsigned&gt;</a> TrueUndefOps;</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a> = PN-&gt;<a class="code" href="classllvm_1_1PHINode.html#aef51af4b490af6b3bf2dfbc8737a8f9f">getNumIncomingValues</a>(); <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *V = PN-&gt;<a class="code" href="classllvm_1_1PHINode.html#a16c39eb6e60b42a40c399d8d65347bb6">getIncomingValue</a>(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160; </div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;    <span class="keywordflow">if</span> (!isa&lt;UndefValue&gt;(V)) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160; </div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;    <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a> = PN-&gt;<a class="code" href="classllvm_1_1PHINode.html#a8ce0c4746a1ec805e66409d20ae93922">getIncomingBlock</a>(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;    <a class="code" href="classllvm_1_1DenseMapIterator.html">IncomingValueMap::const_iterator</a> It = IncomingValues.<a class="code" href="classllvm_1_1DenseMapBase.html#a0c047f127ed4380a6f383d70bec4eb94">find</a>(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>);</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160; </div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;    <span class="comment">// Keep track of undef/poison incoming values. Those must match, so we fix</span></div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;    <span class="comment">// them up below if needed.</span></div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;    <span class="comment">// Note: this is conservatively correct, but we could try harder and group</span></div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;    <span class="comment">// the undef values per incoming basic block.</span></div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;    <span class="keywordflow">if</span> (It == IncomingValues.<a class="code" href="classllvm_1_1DenseMapBase.html#a65520b9c67759099e313d0f4e7b5ff9e">end</a>()) {</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;      TrueUndefOps.push_back(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;    }</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160; </div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;    <span class="comment">// There is a defined value for this incoming block, so map this undef</span></div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;    <span class="comment">// incoming value to the defined value.</span></div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;    PN-&gt;<a class="code" href="classllvm_1_1PHINode.html#a88cdefb709309eddc6e5daca0be6a7b4">setIncomingValue</a>(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>, It-&gt;second);</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;  }</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160; </div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;  <span class="comment">// If there are both undef and poison values incoming, then convert those</span></div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;  <span class="comment">// values to undef. It is invalid to have different values for the same</span></div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;  <span class="comment">// incoming block.</span></div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;  <span class="keywordtype">unsigned</span> PoisonCount = <a class="code" href="namespacellvm.html#ac214df91cdc242f4710ea5a93939c678">count_if</a>(TrueUndefOps, [&amp;](<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;    <span class="keywordflow">return</span> isa&lt;PoisonValue&gt;(PN-&gt;<a class="code" href="classllvm_1_1PHINode.html#a16c39eb6e60b42a40c399d8d65347bb6">getIncomingValue</a>(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>));</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;  });</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;  <span class="keywordflow">if</span> (PoisonCount != 0 &amp;&amp; PoisonCount != TrueUndefOps.size()) {</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> : TrueUndefOps)</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;      PN-&gt;<a class="code" href="classllvm_1_1PHINode.html#a88cdefb709309eddc6e5daca0be6a7b4">setIncomingValue</a>(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code" href="classllvm_1_1UndefValue.html#a4ae5ff22b700a42bcc5d889233721335">UndefValue::get</a>(PN-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()));</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;  }</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;}</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;<span class="comment">/// Replace a value flowing from a block to a phi with</span></div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;<span class="comment">/// potentially multiple instances of that value flowing from the</span></div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;<span class="comment">/// block&#39;s predecessors to the phi.</span></div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;<span class="comment">/// \param BB The block with the value flowing into the phi.</span></div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;<span class="comment">/// \param BBPreds The predecessors of BB.</span></div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;<span class="comment">/// \param PN The phi that we are updating.</span></div>
<div class="line"><a name="l01015"></a><span class="lineno"><a class="line" href="Transforms_2Utils_2Local_8cpp.html#ad7b52d9083e5a132f32613644f3b39b9"> 1015</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="Transforms_2Utils_2Local_8cpp.html#ad7b52d9083e5a132f32613644f3b39b9">redirectValuesFromPredecessorsToPhi</a>(<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>,</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;                                                <span class="keyword">const</span> <a class="code" href="classllvm_1_1SmallVector.html">PredBlockVector</a> &amp;BBPreds,</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;                                                <a class="code" href="classllvm_1_1PHINode.html">PHINode</a> *PN) {</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *OldVal = PN-&gt;<a class="code" href="classllvm_1_1PHINode.html#a6f01dbe965b38186b1a78378689d4105">removeIncomingValue</a>(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>, <span class="keyword">false</span>);</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(OldVal &amp;&amp; <span class="stringliteral">&quot;No entry in PHI for Pred BB!&quot;</span>);</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160; </div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;  <a class="code" href="classllvm_1_1DenseMap.html">IncomingValueMap</a> IncomingValues;</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160; </div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;  <span class="comment">// We are merging two blocks - BB, and the block containing PN - and</span></div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;  <span class="comment">// as a result we need to redirect edges from the predecessors of BB</span></div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;  <span class="comment">// to go to the block containing PN, and update PN</span></div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;  <span class="comment">// accordingly. Since we allow merging blocks in the case where the</span></div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;  <span class="comment">// predecessor and successor blocks both share some predecessors,</span></div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;  <span class="comment">// and where some of those common predecessors might have undef</span></div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;  <span class="comment">// values flowing into PN, we want to rewrite those values to be</span></div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;  <span class="comment">// consistent with the non-undef values.</span></div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160; </div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;  <a class="code" href="Transforms_2Utils_2Local_8cpp.html#a3bd9116f3c9e74b7c836560911000c8e">gatherIncomingValuesToPhi</a>(PN, IncomingValues);</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160; </div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;  <span class="comment">// If this incoming value is one of the PHI nodes in BB, the new entries</span></div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;  <span class="comment">// in the PHI node are the entries from the old PHI.</span></div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;  <span class="keywordflow">if</span> (isa&lt;PHINode&gt;(OldVal) &amp;&amp; cast&lt;PHINode&gt;(OldVal)-&gt;<a class="code" href="BasicAliasAnalysis_8cpp.html#a2675de1d8479c7b00387979714da43f7">getParent</a>() == <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>) {</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;    <a class="code" href="classllvm_1_1PHINode.html">PHINode</a> *OldValPN = cast&lt;PHINode&gt;(OldVal);</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a> = OldValPN-&gt;<a class="code" href="classllvm_1_1PHINode.html#aef51af4b490af6b3bf2dfbc8737a8f9f">getNumIncomingValues</a>(); <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;      <span class="comment">// Note that, since we are merging phi nodes and BB and Succ might</span></div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;      <span class="comment">// have common predecessors, we could end up with a phi node with</span></div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;      <span class="comment">// identical incoming branches. This will be cleaned up later (and</span></div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;      <span class="comment">// will trigger asserts if we try to clean it up now, without also</span></div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;      <span class="comment">// simplifying the corresponding conditional branch).</span></div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;      <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *PredBB = OldValPN-&gt;<a class="code" href="classllvm_1_1PHINode.html#a8ce0c4746a1ec805e66409d20ae93922">getIncomingBlock</a>(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *PredVal = OldValPN-&gt;<a class="code" href="classllvm_1_1PHINode.html#a16c39eb6e60b42a40c399d8d65347bb6">getIncomingValue</a>(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *Selected = <a class="code" href="Transforms_2Utils_2Local_8cpp.html#a4174d7448e3656c2b6b13a71f77d90c6">selectIncomingValueForBlock</a>(PredVal, PredBB,</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;                                                    IncomingValues);</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160; </div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;      <span class="comment">// And add a new incoming value for this predecessor for the</span></div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;      <span class="comment">// newly retargeted branch.</span></div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;      PN-&gt;<a class="code" href="classllvm_1_1PHINode.html#a089cccb6f231efee72abc76d0f9c695f">addIncoming</a>(Selected, PredBB);</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;    }</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a> = BBPreds.size(); <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;      <span class="comment">// Update existing incoming values in PN for this</span></div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;      <span class="comment">// predecessor of BB.</span></div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;      <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *PredBB = BBPreds[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *Selected = <a class="code" href="Transforms_2Utils_2Local_8cpp.html#a4174d7448e3656c2b6b13a71f77d90c6">selectIncomingValueForBlock</a>(OldVal, PredBB,</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;                                                    IncomingValues);</div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160; </div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;      <span class="comment">// And add a new incoming value for this predecessor for the</span></div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;      <span class="comment">// newly retargeted branch.</span></div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;      PN-&gt;<a class="code" href="classllvm_1_1PHINode.html#a089cccb6f231efee72abc76d0f9c695f">addIncoming</a>(Selected, PredBB);</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;    }</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;  }</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160; </div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;  <a class="code" href="Transforms_2Utils_2Local_8cpp.html#a705c6c2b8e570441356edb8db2dd8ddb">replaceUndefValuesInPhi</a>(PN, IncomingValues);</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;}</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160; </div>
<div class="line"><a name="l01070"></a><span class="lineno"><a class="line" href="namespacellvm.html#a67474fe1bb82a093f3ad2e9ad2d7f7c4"> 1070</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="namespacellvm.html#a67474fe1bb82a093f3ad2e9ad2d7f7c4">llvm::TryToSimplifyUncondBranchFromEmptyBlock</a>(<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>,</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;                                                   <a class="code" href="classllvm_1_1DomTreeUpdater.html">DomTreeUpdater</a> *DTU) {</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a> != &amp;<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>-&gt;getParent()-&gt;getEntryBlock() &amp;&amp;</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;         <span class="stringliteral">&quot;TryToSimplifyUncondBranchFromEmptyBlock called on entry block!&quot;</span>);</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160; </div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;  <span class="comment">// We can&#39;t eliminate infinite loops.</span></div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;  <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *Succ = cast&lt;BranchInst&gt;(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>-&gt;getTerminator())-&gt;getSuccessor(0);</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a> == Succ) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160; </div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;  <span class="comment">// Check to see if merging these blocks would cause conflicts for any of the</span></div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;  <span class="comment">// phi nodes in BB or Succ. If not, we can safely merge.</span></div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="Transforms_2Utils_2Local_8cpp.html#a3aaf8983c097b3cc3f6dccb989b28c4d">CanPropagatePredecessorsForPHIs</a>(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>, Succ)) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160; </div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;  <span class="comment">// Check for cases where Succ has multiple predecessors and a PHI node in BB</span></div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;  <span class="comment">// has uses which will not disappear when the PHI nodes are merged.  It is</span></div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;  <span class="comment">// possible to handle such cases, but difficult: it requires checking whether</span></div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;  <span class="comment">// BB dominates Succ, which is non-trivial to calculate in the case where</span></div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;  <span class="comment">// Succ has multiple predecessors.  Also, it requires checking whether</span></div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;  <span class="comment">// constructing the necessary self-referential PHI node doesn&#39;t introduce any</span></div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;  <span class="comment">// conflicts; this isn&#39;t too difficult, but the previous code for doing this</span></div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;  <span class="comment">// was incorrect.</span></div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;  <span class="comment">// Note that if this check finds a live use, BB dominates Succ, so BB is</span></div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;  <span class="comment">// something like a loop pre-header (or rarely, a part of an irreducible CFG);</span></div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;  <span class="comment">// folding the branch isn&#39;t profitable in that case anyway.</span></div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;  <span class="keywordflow">if</span> (!Succ-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#a59fb91d1691350f7d1b8e8a114e3f2a4">getSinglePredecessor</a>()) {</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;    <a class="code" href="classllvm_1_1BasicBlock.html#a98c0a84a5dfa8bce341c829709f171e5">BasicBlock::iterator</a> BBI = <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>-&gt;begin();</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;    <span class="keywordflow">while</span> (isa&lt;PHINode&gt;(*BBI)) {</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Use.html">Use</a> &amp;U : BBI-&gt;<a class="code" href="classllvm_1_1Value.html#aecb93439702247fe5353a9966f7cefcd">uses</a>()) {</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1PHINode.html">PHINode</a>* PN = dyn_cast&lt;PHINode&gt;(U.getUser())) {</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;          <span class="keywordflow">if</span> (PN-&gt;getIncomingBlock(U) != <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>)</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;        }</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;      }</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;      ++BBI;</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;    }</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;  }</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160; </div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;  <span class="comment">// &#39;BB&#39; and &#39;BB-&gt;Pred&#39; are loop latches, bail out to presrve inner loop</span></div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;  <span class="comment">// metadata.</span></div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;  <span class="comment">// FIXME: This is a stop-gap solution to preserve inner-loop metadata given</span></div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;  <span class="comment">// current status (that loop metadata is implemented as metadata attached to</span></div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;  <span class="comment">// the branch instruction in the loop latch block). To quote from review</span></div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;  <span class="comment">// comments, &quot;the current representation of loop metadata (using a loop latch</span></div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;  <span class="comment">// terminator attachment) is known to be fundamentally broken. Loop latches</span></div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;  <span class="comment">// are not uniquely associated with loops (both in that a latch can be part of</span></div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;  <span class="comment">// multiple loops and a loop may have multiple latches). Loop headers are. The</span></div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;  <span class="comment">// solution to this problem is also known: Add support for basic block</span></div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;  <span class="comment">// metadata, and attach loop metadata to the loop header.&quot;</span></div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;  <span class="comment">// Why bail out:</span></div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;  <span class="comment">// In this case, we expect &#39;BB&#39; is the latch for outer-loop and &#39;BB-&gt;Pred&#39; is</span></div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;  <span class="comment">// the latch for inner-loop (see reason below), so bail out to prerserve</span></div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;  <span class="comment">// inner-loop metadata rather than eliminating &#39;BB&#39; and attaching its metadata</span></div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;  <span class="comment">// to this inner-loop.</span></div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;  <span class="comment">// - The reason we believe &#39;BB&#39; and &#39;BB-&gt;Pred&#39; have different inner-most</span></div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;  <span class="comment">// loops: assuming &#39;BB&#39; and &#39;BB-&gt;Pred&#39; are from the same inner-most loop L,</span></div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;  <span class="comment">// then &#39;BB&#39; is the header and latch of &#39;L&#39; and thereby &#39;L&#39; must consist of</span></div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;  <span class="comment">// one self-looping basic block, which is contradictory with the assumption.</span></div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;  <span class="comment">// To illustrate how inner-loop metadata is dropped:</span></div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;  <span class="comment">// CFG Before</span></div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;  <span class="comment">// BB is while.cond.exit, attached with loop metdata md2.</span></div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;  <span class="comment">// BB-&gt;Pred is for.body, attached with loop metadata md1.</span></div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;  <span class="comment">//      entry</span></div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;  <span class="comment">//        |</span></div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;  <span class="comment">//        v</span></div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;  <span class="comment">// ---&gt; while.cond   -------------&gt;  while.end</span></div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;  <span class="comment">// |       |</span></div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;  <span class="comment">// |       v</span></div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;  <span class="comment">// |   while.body</span></div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;  <span class="comment">// |       |</span></div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;  <span class="comment">// |       v</span></div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;  <span class="comment">// |    for.body &lt;---- (md1)</span></div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;  <span class="comment">// |       |  |______|</span></div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;  <span class="comment">// |       v</span></div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;  <span class="comment">// |    while.cond.exit (md2)</span></div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;  <span class="comment">// |       |</span></div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;  <span class="comment">// |_______|</span></div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;  <span class="comment">// CFG After</span></div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;  <span class="comment">// while.cond1 is the merge of while.cond.exit and while.cond above.</span></div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;  <span class="comment">// for.body is attached with md2, and md1 is dropped.</span></div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;  <span class="comment">// If LoopSimplify runs later (as a part of loop pass), it could create</span></div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;  <span class="comment">// dedicated exits for inner-loop (essentially adding `while.cond.exit`</span></div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;  <span class="comment">// back), but won&#39;t it won&#39;t see &#39;md1&#39; nor restore it for the inner-loop.</span></div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;  <span class="comment">//       entry</span></div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;  <span class="comment">//         |</span></div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;  <span class="comment">//         v</span></div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;  <span class="comment">// ---&gt; while.cond1  -------------&gt;  while.end</span></div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;  <span class="comment">// |       |</span></div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;  <span class="comment">// |       v</span></div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;  <span class="comment">// |   while.body</span></div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;  <span class="comment">// |       |</span></div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;  <span class="comment">// |       v</span></div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;  <span class="comment">// |    for.body &lt;---- (md2)</span></div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;  <span class="comment">// |_______|  |______|</span></div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *TI = <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>-&gt;getTerminator())</div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;    <span class="keywordflow">if</span> (TI-&gt;hasMetadata(LLVMContext::MD_loop))</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *Pred : <a class="code" href="namespacellvm.html#acb22fb04083152eee862457e42e8dc31">predecessors</a>(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>))</div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *PredTI = Pred-&gt;getTerminator())</div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;          <span class="keywordflow">if</span> (PredTI-&gt;hasMetadata(LLVMContext::MD_loop))</div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160; </div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Killing Trivial BB: \n&quot;</span> &lt;&lt; *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>);</div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160; </div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;DominatorTree::UpdateType, 32&gt;</a> Updates;</div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;  <span class="keywordflow">if</span> (DTU) {</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;    <span class="comment">// To avoid processing the same predecessor more than once.</span></div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;    <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;BasicBlock *, 8&gt;</a> SeenPreds;</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;    <span class="comment">// All predecessors of BB will be moved to Succ.</span></div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;    <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;BasicBlock *, 8&gt;</a> PredsOfSucc(<a class="code" href="namespacellvm.html#a7e108932dc3da5294aed99a353aac9c4">pred_begin</a>(Succ), <a class="code" href="namespacellvm.html#a5eeaf08e96168c2cac8960f87f0ef360">pred_end</a>(Succ));</div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;    Updates.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a499ea32ca1b8d16cedfe01d1e5b08f29">reserve</a>(Updates.size() + 2 * <a class="code" href="namespacellvm.html#ae6d1c31d74bbaaa9e42bcbdc10a499f2">pred_size</a>(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>) + 1);</div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> *PredOfBB : <a class="code" href="namespacellvm.html#acb22fb04083152eee862457e42e8dc31">predecessors</a>(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>))</div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;      <span class="comment">// This predecessor of BB may already have Succ as a successor.</span></div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;      <span class="keywordflow">if</span> (!PredsOfSucc.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#af74676a3c7447be34bd2c1da76ec0c48">contains</a>(PredOfBB))</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;        <span class="keywordflow">if</span> (SeenPreds.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">insert</a>(PredOfBB).second)</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;          Updates.push_back({<a class="code" href="classllvm_1_1DominatorTreeBase.html#a9aeeca2833810f01b20545a46fe22503">DominatorTree::Insert</a>, PredOfBB, Succ});</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;    SeenPreds.<a class="code" href="classllvm_1_1SmallPtrSetImplBase.html#a16413f1a88d8baca228d0a1b4cc0bfc6">clear</a>();</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> *PredOfBB : <a class="code" href="namespacellvm.html#acb22fb04083152eee862457e42e8dc31">predecessors</a>(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>))</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;      <span class="keywordflow">if</span> (SeenPreds.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">insert</a>(PredOfBB).second)</div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;        Updates.push_back({<a class="code" href="classllvm_1_1DominatorTreeBase.html#a71c91cbbfc1c0ecf9a69e10ccf739bd7">DominatorTree::Delete</a>, PredOfBB, <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>});</div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;    Updates.push_back({<a class="code" href="classllvm_1_1DominatorTreeBase.html#a71c91cbbfc1c0ecf9a69e10ccf739bd7">DominatorTree::Delete</a>, <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>, Succ});</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;  }</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160; </div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;  <span class="keywordflow">if</span> (isa&lt;PHINode&gt;(Succ-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#a0ed5f3ab3c2e4196ee0cffffa080c062">begin</a>())) {</div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;    <span class="comment">// If there is more than one pred of succ, and there are PHI nodes in</span></div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;    <span class="comment">// the successor, then we need to add incoming edges for the PHI nodes</span></div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SmallVector.html">PredBlockVector</a> BBPreds(<a class="code" href="namespacellvm.html#acb22fb04083152eee862457e42e8dc31">predecessors</a>(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>));</div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160; </div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;    <span class="comment">// Loop over all of the PHI nodes in the successor of BB.</span></div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1BasicBlock.html#a98c0a84a5dfa8bce341c829709f171e5">BasicBlock::iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = Succ-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#a0ed5f3ab3c2e4196ee0cffffa080c062">begin</a>(); isa&lt;PHINode&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>); ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;      <a class="code" href="classllvm_1_1PHINode.html">PHINode</a> *PN = cast&lt;PHINode&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160; </div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;      <a class="code" href="Transforms_2Utils_2Local_8cpp.html#ad7b52d9083e5a132f32613644f3b39b9">redirectValuesFromPredecessorsToPhi</a>(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>, BBPreds, PN);</div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;    }</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;  }</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160; </div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;  <span class="keywordflow">if</span> (Succ-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#a59fb91d1691350f7d1b8e8a114e3f2a4">getSinglePredecessor</a>()) {</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;    <span class="comment">// BB is the only predecessor of Succ, so Succ will end up with exactly</span></div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;    <span class="comment">// the same predecessors BB had.</span></div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160; </div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;    <span class="comment">// Copy over any phi, debug or lifetime instruction.</span></div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;    <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>-&gt;getTerminator()-&gt;eraseFromParent();</div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;    Succ-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#af29f89e91dfd0ae90950f0b1bf49798d">splice</a>(Succ-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#a46ef6115027606b67adcf4d28f3dac17">getFirstNonPHI</a>()-&gt;<a class="code" href="classllvm_1_1ilist__node__impl.html#af719fc783be6589465137d997701a432">getIterator</a>(), <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>);</div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;    <span class="keywordflow">while</span> (<a class="code" href="classllvm_1_1PHINode.html">PHINode</a> *PN = dyn_cast&lt;PHINode&gt;(&amp;<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>-&gt;front())) {</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;      <span class="comment">// We explicitly check for such uses in CanPropagatePredecessorsForPHIs.</span></div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(PN-&gt;use_empty() &amp;&amp; <span class="stringliteral">&quot;There shouldn&#39;t be any uses here!&quot;</span>);</div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;      PN-&gt;eraseFromParent();</div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;    }</div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;  }</div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160; </div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;  <span class="comment">// If the unconditional branch we replaced contains llvm.loop metadata, we</span></div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;  <span class="comment">// add the metadata to the branch instructions in the predecessors.</span></div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;  <span class="keywordtype">unsigned</span> LoopMDKind = <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>-&gt;getContext().getMDKindID(<span class="stringliteral">&quot;llvm.loop&quot;</span>);</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;  <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *TI = <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>-&gt;getTerminator();</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;  <span class="keywordflow">if</span> (TI)</div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *LoopMD = TI-&gt;<a class="code" href="classllvm_1_1Instruction.html#ae22f493ba8327ce92e87d3b96bce7017">getMetadata</a>(LoopMDKind))</div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *Pred : <a class="code" href="namespacellvm.html#acb22fb04083152eee862457e42e8dc31">predecessors</a>(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>))</div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;        Pred-&gt;getTerminator()-&gt;setMetadata(LoopMDKind, LoopMD);</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160; </div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;  <span class="comment">// Everything that jumped to BB now goes to Succ.</span></div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;  <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>-&gt;replaceAllUsesWith(Succ);</div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;  <span class="keywordflow">if</span> (!Succ-&gt;<a class="code" href="classllvm_1_1Value.html#ad9d88ae321b98d8a3b7f394977ae6d7f">hasName</a>()) Succ-&gt;<a class="code" href="classllvm_1_1Value.html#ae855357b6c5e6e7ed1869272708a3a84">takeName</a>(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>);</div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160; </div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;  <span class="comment">// Clear the successor list of BB to match updates applying to DTU later.</span></div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>-&gt;getTerminator())</div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;    <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>-&gt;back().eraseFromParent();</div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;  <span class="keyword">new</span> <a class="code" href="classllvm_1_1UnreachableInst.html">UnreachableInst</a>(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>-&gt;getContext(), <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>);</div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="namespacellvm.html#a126a78caf2176eb39d879c899bdd749c">succ_empty</a>(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>) &amp;&amp; <span class="stringliteral">&quot;The successor list of BB isn&#39;t empty before &quot;</span></div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;                           <span class="stringliteral">&quot;applying corresponding DTU updates.&quot;</span>);</div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160; </div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;  <span class="keywordflow">if</span> (DTU)</div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;    DTU-&gt;<a class="code" href="classllvm_1_1DomTreeUpdater.html#aae522cd1928cfac6850b50c7a3e22185">applyUpdates</a>(Updates);</div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160; </div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;  <a class="code" href="namespacellvm.html#a458b4709ebedccb846a179f1e422265b">DeleteDeadBlock</a>(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>, DTU);</div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160; </div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;}</div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160; </div>
<div class="line"><a name="l01260"></a><span class="lineno"><a class="line" href="Transforms_2Utils_2Local_8cpp.html#a21b19890c7257e3d62c90b9e6f165471"> 1260</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="Transforms_2Utils_2Local_8cpp.html#a21b19890c7257e3d62c90b9e6f165471">EliminateDuplicatePHINodesNaiveImpl</a>(<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>) {</div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;  <span class="comment">// This implementation doesn&#39;t currently consider undef operands</span></div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;  <span class="comment">// specially. Theoretically, two phis which are identical except for</span></div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;  <span class="comment">// one having an undef where the other doesn&#39;t could be collapsed.</span></div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160; </div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;  <span class="keywordtype">bool</span> Changed = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160; </div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;  <span class="comment">// Examine each PHI.</span></div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;  <span class="comment">// Note that increment of I must *NOT* be in the iteration_expression, since</span></div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;  <span class="comment">// we don&#39;t want to immediately advance when we restart from the beginning.</span></div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>-&gt;begin(); <a class="code" href="classllvm_1_1PHINode.html">PHINode</a> *PN = dyn_cast&lt;PHINode&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);) {</div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;    ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;    <span class="comment">// Is there an identical PHI node in this basic block?</span></div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;    <span class="comment">// Note that we only look in the upper square&#39;s triangle,</span></div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;    <span class="comment">// we already checked that the lower triangle PHI&#39;s aren&#39;t identical.</span></div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> J = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>; <a class="code" href="classllvm_1_1PHINode.html">PHINode</a> *DuplicatePN = dyn_cast&lt;PHINode&gt;(J); ++J) {</div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;      <span class="keywordflow">if</span> (!DuplicatePN-&gt;<a class="code" href="classllvm_1_1Instruction.html#a69c17ef87a64dfcb3e5795b870cf69fa">isIdenticalToWhenDefined</a>(PN))</div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;      <span class="comment">// A duplicate. Replace this PHI with the base PHI.</span></div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;      ++NumPHICSEs;</div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;      DuplicatePN-&gt;<a class="code" href="classllvm_1_1Value.html#a3ab5fc45117b450e8bb04e564cb6e5f2">replaceAllUsesWith</a>(PN);</div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;      DuplicatePN-&gt;<a class="code" href="classllvm_1_1Instruction.html#ae6b978645b8ac72d1a35e1298ffdd4f0">eraseFromParent</a>();</div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;      Changed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160; </div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;      <span class="comment">// The RAUW can change PHIs that we already visited.</span></div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;      <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>-&gt;begin();</div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;      <span class="keywordflow">break</span>; <span class="comment">// Start over from the beginning.</span></div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;    }</div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;  }</div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;  <span class="keywordflow">return</span> Changed;</div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;}</div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160; </div>
<div class="line"><a name="l01292"></a><span class="lineno"><a class="line" href="Transforms_2Utils_2Local_8cpp.html#a2d4fbcadf5f7137609519e04d5e84e5f"> 1292</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="Transforms_2Utils_2Local_8cpp.html#a2d4fbcadf5f7137609519e04d5e84e5f">EliminateDuplicatePHINodesSetBasedImpl</a>(<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>) {</div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;  <span class="comment">// This implementation doesn&#39;t currently consider undef operands</span></div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;  <span class="comment">// specially. Theoretically, two phis which are identical except for</span></div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;  <span class="comment">// one having an undef where the other doesn&#39;t could be collapsed.</span></div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160; </div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;  <span class="keyword">struct </span>PHIDenseMapInfo {</div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;    <span class="keyword">static</span> <a class="code" href="classllvm_1_1PHINode.html">PHINode</a> *getEmptyKey() {</div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="structllvm_1_1DenseMapInfo.html">DenseMapInfo&lt;PHINode *&gt;::getEmptyKey</a>();</div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;    }</div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160; </div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;    <span class="keyword">static</span> <a class="code" href="classllvm_1_1PHINode.html">PHINode</a> *getTombstoneKey() {</div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="structllvm_1_1DenseMapInfo.html">DenseMapInfo&lt;PHINode *&gt;::getTombstoneKey</a>();</div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;    }</div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160; </div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;    <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="DWARFAcceleratorTable_8cpp.html#a1aed031578039adc6374053233f53d6f">isSentinel</a>(<a class="code" href="classllvm_1_1PHINode.html">PHINode</a> *PN) {</div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;      <span class="keywordflow">return</span> PN == getEmptyKey() || PN == getTombstoneKey();</div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;    }</div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160; </div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;    <span class="comment">// WARNING: this logic must be kept in sync with</span></div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;    <span class="comment">//          Instruction::isIdenticalToWhenDefined()!</span></div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;    <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <a class="code" href="EarlyCSE_8cpp.html#aa52ac704c30d37ea926b7e186f4fac83">getHashValueImpl</a>(<a class="code" href="classllvm_1_1PHINode.html">PHINode</a> *PN) {</div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;      <span class="comment">// Compute a hash value on the operands. Instcombine will likely have</span></div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;      <span class="comment">// sorted them, which helps expose duplicates, but we have to check all</span></div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;      <span class="comment">// the operands to be safe in case instcombine hasn&#39;t run.</span></div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keywordtype">unsigned</span><span class="keyword">&gt;</span>(<a class="code" href="namespacellvm.html#add71474638430694c84640146383fc44">hash_combine</a>(</div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;          <a class="code" href="namespacellvm.html#af80edfc5e42059e045aa7bf7fe42bee3">hash_combine_range</a>(PN-&gt;<a class="code" href="classllvm_1_1User.html#ad93396a26f6fd589ed400bb280319836">value_op_begin</a>(), PN-&gt;<a class="code" href="classllvm_1_1User.html#a5d1730a173d0a69624b80e1e22e6d225">value_op_end</a>()),</div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;          <a class="code" href="namespacellvm.html#af80edfc5e42059e045aa7bf7fe42bee3">hash_combine_range</a>(PN-&gt;<a class="code" href="classllvm_1_1PHINode.html#a47670479395f375c7501109d25cb475f">block_begin</a>(), PN-&gt;<a class="code" href="classllvm_1_1PHINode.html#aaf337eae2193217943c7c0d7a65e61bb">block_end</a>())));</div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;    }</div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160; </div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;    <span class="keyword">static</span> <span class="keywordtype">unsigned</span> getHashValue(<a class="code" href="classllvm_1_1PHINode.html">PHINode</a> *PN) {</div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;<span class="preprocessor">#ifndef NDEBUG</span></div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;      <span class="comment">// If -phicse-debug-hash was specified, return a constant -- this</span></div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;      <span class="comment">// will force all hashing to collide, so we&#39;ll exhaustively search</span></div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;      <span class="comment">// the table for a match, and the assertion in isEqual will fire if</span></div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;      <span class="comment">// there&#39;s a bug causing equal keys to hash differently.</span></div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="Transforms_2Utils_2Local_8cpp.html#ae4472b174c2d3bf50fc5883319a48108">PHICSEDebugHash</a>)</div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="EarlyCSE_8cpp.html#aa52ac704c30d37ea926b7e186f4fac83">getHashValueImpl</a>(PN);</div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;    }</div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160; </div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;    <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="EarlyCSE_8cpp.html#aa60423084fe7d27af0ffbba889cbdf1a">isEqualImpl</a>(<a class="code" href="classllvm_1_1PHINode.html">PHINode</a> *<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="classllvm_1_1PHINode.html">PHINode</a> *<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>) {</div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="DWARFAcceleratorTable_8cpp.html#a1aed031578039adc6374053233f53d6f">isSentinel</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>) || <a class="code" href="DWARFAcceleratorTable_8cpp.html#a1aed031578039adc6374053233f53d6f">isSentinel</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>))</div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a> == <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>;</div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>-&gt;isIdenticalTo(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;    }</div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160; </div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;    <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="namespacellvm.html#a0f0d66fa63bebb53ddd51f1cc4def0f8">isEqual</a>(<a class="code" href="classllvm_1_1PHINode.html">PHINode</a> *<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="classllvm_1_1PHINode.html">PHINode</a> *<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>) {</div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;      <span class="comment">// These comparisons are nontrivial, so assert that equality implies</span></div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;      <span class="comment">// hash equality (DenseMap demands this as an invariant).</span></div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;      <span class="keywordtype">bool</span> Result = <a class="code" href="EarlyCSE_8cpp.html#aa60423084fe7d27af0ffbba889cbdf1a">isEqualImpl</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!Result || (<a class="code" href="DWARFAcceleratorTable_8cpp.html#a1aed031578039adc6374053233f53d6f">isSentinel</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>) &amp;&amp; <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a> == <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>) ||</div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;             <a class="code" href="EarlyCSE_8cpp.html#aa52ac704c30d37ea926b7e186f4fac83">getHashValueImpl</a>(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>) == <a class="code" href="EarlyCSE_8cpp.html#aa52ac704c30d37ea926b7e186f4fac83">getHashValueImpl</a>(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>));</div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;      <span class="keywordflow">return</span> Result;</div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;    }</div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;  };</div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160; </div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;  <span class="comment">// Set of unique PHINodes.</span></div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;  <a class="code" href="classllvm_1_1DenseSet.html">DenseSet&lt;PHINode *, PHIDenseMapInfo&gt;</a> PHISet;</div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;  PHISet.<a class="code" href="classllvm_1_1detail_1_1DenseSetImpl.html#a5b0a15cec07aa8f0f9e60cd343676bca">reserve</a>(4 * <a class="code" href="Transforms_2Utils_2Local_8cpp.html#a1d8447f93eb6fa9a16e37d2e44319463">PHICSENumPHISmallSize</a>);</div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160; </div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;  <span class="comment">// Examine each PHI.</span></div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;  <span class="keywordtype">bool</span> Changed = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>-&gt;begin(); <a class="code" href="classllvm_1_1PHINode.html">PHINode</a> *PN = dyn_cast&lt;PHINode&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>++);) {</div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;    <span class="keyword">auto</span> Inserted = PHISet.<a class="code" href="classllvm_1_1detail_1_1DenseSetImpl.html#a79eed48913651aeedda2eed25201ea84">insert</a>(PN);</div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;    <span class="keywordflow">if</span> (!Inserted.second) {</div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;      <span class="comment">// A duplicate. Replace this PHI with its duplicate.</span></div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;      ++NumPHICSEs;</div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;      PN-&gt;replaceAllUsesWith(*Inserted.first);</div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;      PN-&gt;eraseFromParent();</div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;      Changed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160; </div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;      <span class="comment">// The RAUW can change PHIs that we already visited. Start over from the</span></div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;      <span class="comment">// beginning.</span></div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;      PHISet.<a class="code" href="classllvm_1_1detail_1_1DenseSetImpl.html#a1fbf4d66a9eeaa9ade03e8febee097ee">clear</a>();</div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;      <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>-&gt;begin();</div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;    }</div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;  }</div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160; </div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;  <span class="keywordflow">return</span> Changed;</div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;}</div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160; </div>
<div class="line"><a name="l01374"></a><span class="lineno"><a class="line" href="namespacellvm.html#aed498f056a09006219c59ee9fab0450f"> 1374</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="namespacellvm.html#aed498f056a09006219c59ee9fab0450f">llvm::EliminateDuplicatePHINodes</a>(<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>) {</div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;  <span class="keywordflow">if</span> (</div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;#ifndef <a class="code" href="regutils_8h.html#a8de3ed741dadc9c979a4ff17c0a9116e">NDEBUG</a></div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;      !<a class="code" href="Transforms_2Utils_2Local_8cpp.html#ae4472b174c2d3bf50fc5883319a48108">PHICSEDebugHash</a> &amp;&amp;</div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;#<a class="code" href="include_2llvm_2Support_2CMakeLists_8txt.html#ac54dc4baeff9131a27bde4eb0527e810">endif</a></div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;      <a class="code" href="namespacellvm.html#a3b24ebd69d40090a23b6a2717a896625">hasNItemsOrLess</a>(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>-&gt;phis(), <a class="code" href="Transforms_2Utils_2Local_8cpp.html#a1d8447f93eb6fa9a16e37d2e44319463">PHICSENumPHISmallSize</a>))</div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="Transforms_2Utils_2Local_8cpp.html#a21b19890c7257e3d62c90b9e6f165471">EliminateDuplicatePHINodesNaiveImpl</a>(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>);</div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="Transforms_2Utils_2Local_8cpp.html#a2d4fbcadf5f7137609519e04d5e84e5f">EliminateDuplicatePHINodesSetBasedImpl</a>(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>);</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;}</div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;<span class="comment">/// If the specified pointer points to an object that we control, try to modify</span></div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;<span class="comment">/// the object&#39;s alignment to PrefAlign. Returns a minimum known alignment of</span></div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;<span class="comment">/// the value after the operation, which may be lower than PrefAlign.</span></div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;<span class="comment">/// Increating value alignment isn&#39;t often possible though. If alignment is</span></div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;<span class="comment">/// important, a more reliable approach is to simply align all global variables</span></div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;<span class="comment">/// and allocation instructions to their preferred alignment from the beginning.</span></div>
<div class="line"><a name="l01391"></a><span class="lineno"><a class="line" href="Transforms_2Utils_2Local_8cpp.html#a555b9b6548c678544919e66c59543cf5"> 1391</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="structllvm_1_1Align.html">Align</a> <a class="code" href="Transforms_2Utils_2Local_8cpp.html#a555b9b6548c678544919e66c59543cf5">tryEnforceAlignment</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *V, <a class="code" href="structllvm_1_1Align.html">Align</a> PrefAlign,</div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;                                 <span class="keyword">const</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>) {</div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;  V = V-&gt;<a class="code" href="classllvm_1_1Value.html#a966eb231e7d4e572874d2cb49b18faea">stripPointerCasts</a>();</div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160; </div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1AllocaInst.html">AllocaInst</a> *AI = dyn_cast&lt;AllocaInst&gt;(V)) {</div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;    <span class="comment">// TODO: Ideally, this function would not be called if PrefAlign is smaller</span></div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;    <span class="comment">// than the current alignment, as the known bits calculation should have</span></div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;    <span class="comment">// already taken it into account. However, this is not always the case,</span></div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;    <span class="comment">// as computeKnownBits() has a depth limit, while stripPointerCasts()</span></div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;    <span class="comment">// doesn&#39;t.</span></div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;    <a class="code" href="structllvm_1_1Align.html">Align</a> CurrentAlign = AI-&gt;getAlign();</div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;    <span class="keywordflow">if</span> (PrefAlign &lt;= CurrentAlign)</div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;      <span class="keywordflow">return</span> CurrentAlign;</div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160; </div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;    <span class="comment">// If the preferred alignment is greater than the natural stack alignment</span></div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;    <span class="comment">// then don&#39;t round up. This avoids dynamic stack realignment.</span></div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>.exceedsNaturalStackAlignment(PrefAlign))</div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;      <span class="keywordflow">return</span> CurrentAlign;</div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;    AI-&gt;setAlignment(PrefAlign);</div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;    <span class="keywordflow">return</span> PrefAlign;</div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;  }</div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160; </div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *GO = dyn_cast&lt;GlobalObject&gt;(V)) {</div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;    <span class="comment">// TODO: as above, this shouldn&#39;t be necessary.</span></div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;    <a class="code" href="structllvm_1_1Align.html">Align</a> CurrentAlign = GO-&gt;getPointerAlignment(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>);</div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;    <span class="keywordflow">if</span> (PrefAlign &lt;= CurrentAlign)</div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;      <span class="keywordflow">return</span> CurrentAlign;</div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160; </div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;    <span class="comment">// If there is a large requested alignment and we can, bump up the alignment</span></div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;    <span class="comment">// of the global.  If the memory we set aside for the global may not be the</span></div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;    <span class="comment">// memory used by the final program then it is impossible for us to reliably</span></div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;    <span class="comment">// enforce the preferred alignment.</span></div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;    <span class="keywordflow">if</span> (!GO-&gt;canIncreaseAlignment())</div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;      <span class="keywordflow">return</span> CurrentAlign;</div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160; </div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;    <span class="keywordflow">if</span> (GO-&gt;isThreadLocal()) {</div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;      <span class="keywordtype">unsigned</span> MaxTLSAlign = GO-&gt;getParent()-&gt;getMaxTLSAlignment() / CHAR_BIT;</div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;      <span class="keywordflow">if</span> (MaxTLSAlign &amp;&amp; PrefAlign &gt; <a class="code" href="ELFObjHandler_8cpp.html#a043cdaf7b89aaeeb127be5d93411637f">Align</a>(MaxTLSAlign))</div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;        PrefAlign = <a class="code" href="ELFObjHandler_8cpp.html#a043cdaf7b89aaeeb127be5d93411637f">Align</a>(MaxTLSAlign);</div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;    }</div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160; </div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;    GO-&gt;setAlignment(PrefAlign);</div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;    <span class="keywordflow">return</span> PrefAlign;</div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;  }</div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160; </div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="ELFObjHandler_8cpp.html#a043cdaf7b89aaeeb127be5d93411637f">Align</a>(1);</div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;}</div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160; </div>
<div class="line"><a name="l01439"></a><span class="lineno"><a class="line" href="namespacellvm.html#a6e7b79b3933def717c2a0f2fc6fa38e0"> 1439</a></span>&#160;<a class="code" href="structllvm_1_1Align.html">Align</a> <a class="code" href="namespacellvm.html#a6e7b79b3933def717c2a0f2fc6fa38e0">llvm::getOrEnforceKnownAlignment</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *V, <a class="code" href="structllvm_1_1MaybeAlign.html">MaybeAlign</a> PrefAlign,</div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;                                       <span class="keyword">const</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>,</div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;                                       <span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *CxtI,</div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;                                       <a class="code" href="classllvm_1_1AssumptionCache.html">AssumptionCache</a> *AC,</div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;                                       <span class="keyword">const</span> <a class="code" href="classllvm_1_1DominatorTree.html">DominatorTree</a> *DT) {</div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(V-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a3b996fbf8458aafffc86cb98a68d0a47">isPointerTy</a>() &amp;&amp;</div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;         <span class="stringliteral">&quot;getOrEnforceKnownAlignment expects a pointer!&quot;</span>);</div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160; </div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;  <a class="code" href="structllvm_1_1KnownBits.html">KnownBits</a> Known = <a class="code" href="namespacellvm.html#aa1f8f0633edd8b9a1c5ec15bb9fc5640">computeKnownBits</a>(V, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, 0, AC, CxtI, DT);</div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;  <span class="keywordtype">unsigned</span> TrailZ = Known.<a class="code" href="structllvm_1_1KnownBits.html#a1eeff70353694cb360b2893553c18e7d">countMinTrailingZeros</a>();</div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160; </div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;  <span class="comment">// Avoid trouble with ridiculously large TrailZ values, such as</span></div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;  <span class="comment">// those computed from a null pointer.</span></div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;  <span class="comment">// LLVM doesn&#39;t support alignments larger than (1 &lt;&lt; MaxAlignmentExponent).</span></div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;  TrailZ = <a class="code" href="namespacellvm.html#a57f2ca0e57f4f7b13f56f9aa16af3e0d">std::min</a>(TrailZ, +<a class="code" href="classllvm_1_1Value.html#ab5941ebb386c8b46a569d1d8dbfe0c8c">Value::MaxAlignmentExponent</a>);</div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160; </div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;  <a class="code" href="structllvm_1_1Align.html">Align</a> Alignment = <a class="code" href="ELFObjHandler_8cpp.html#a043cdaf7b89aaeeb127be5d93411637f">Align</a>(1ull &lt;&lt; <a class="code" href="namespacellvm.html#a57f2ca0e57f4f7b13f56f9aa16af3e0d">std::min</a>(Known.<a class="code" href="structllvm_1_1KnownBits.html#a4fdc09049a61f952b5d52788dbd2f69b">getBitWidth</a>() - 1, TrailZ));</div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160; </div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;  <span class="keywordflow">if</span> (PrefAlign &amp;&amp; *PrefAlign &gt; Alignment)</div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;    Alignment = <a class="code" href="namespacellvm.html#ab4d4bc901fedd8857f647dcc2c0d71de">std::max</a>(Alignment, <a class="code" href="Transforms_2Utils_2Local_8cpp.html#a555b9b6548c678544919e66c59543cf5">tryEnforceAlignment</a>(V, *PrefAlign, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>));</div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160; </div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;  <span class="comment">// We don&#39;t need to make any adjustment.</span></div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;  <span class="keywordflow">return</span> Alignment;</div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;}</div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;<span class="comment">///===---------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;<span class="comment">///  Dbg Intrinsic utilities</span></div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;<span class="comment"></span><span class="comment"></span> </div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;<span class="comment">/// See if there is a dbg.value intrinsic for DIVar for the PHI node.</span></div>
<div class="line"><a name="l01469"></a><span class="lineno"><a class="line" href="Transforms_2Utils_2Local_8cpp.html#a2a8305f7bf6d7dc8b192e257785c1fe4"> 1469</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="Transforms_2Utils_2Local_8cpp.html#a2a8305f7bf6d7dc8b192e257785c1fe4">PhiHasDebugValue</a>(<a class="code" href="classllvm_1_1DILocalVariable.html">DILocalVariable</a> *DIVar,</div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;                             <a class="code" href="classllvm_1_1DIExpression.html">DIExpression</a> *DIExpr,</div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;                             <a class="code" href="classllvm_1_1PHINode.html">PHINode</a> *APN) {</div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;  <span class="comment">// Since we can&#39;t guarantee that the original dbg.declare intrinsic</span></div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;  <span class="comment">// is removed by LowerDbgDeclare(), we need to make sure that we are</span></div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;  <span class="comment">// not inserting the same dbg.value intrinsic over and over.</span></div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;DbgValueInst *, 1&gt;</a> DbgValues;</div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;  <a class="code" href="namespacellvm.html#a8813c8445d4429956ae5a3647f02fcfb">findDbgValues</a>(DbgValues, APN);</div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> *DVI : DbgValues) {</div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="namespacellvm.html#acd1cd968cb420c82d70926920fcdc7d7">is_contained</a>(DVI-&gt;getValues(), APN));</div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;    <span class="keywordflow">if</span> ((DVI-&gt;getVariable() == DIVar) &amp;&amp; (DVI-&gt;getExpression() == DIExpr))</div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;  }</div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;}</div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;<span class="comment">/// Check if the alloc size of \p ValTy is large enough to cover the variable</span></div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;<span class="comment">/// (or fragment of the variable) described by \p DII.</span></div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;<span class="comment">/// This is primarily intended as a helper for the different</span></div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;<span class="comment">/// ConvertDebugDeclareToDebugValue functions. The dbg.declare/dbg.addr that is</span></div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;<span class="comment">/// converted describes an alloca&#39;d variable, so we need to use the</span></div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;<span class="comment">/// alloc size of the value when doing the comparison. E.g. an i1 value will be</span></div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;<span class="comment">/// identified as covering an n-bit fragment, if the store size of i1 is at</span></div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;<span class="comment">/// least n bits.</span></div>
<div class="line"><a name="l01494"></a><span class="lineno"><a class="line" href="Transforms_2Utils_2Local_8cpp.html#a0bdd0669ab7b82ba709bfedcb751dcc3"> 1494</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="Transforms_2Utils_2Local_8cpp.html#a0bdd0669ab7b82ba709bfedcb751dcc3">valueCoversEntireFragment</a>(<a class="code" href="classllvm_1_1Type.html">Type</a> *ValTy, <a class="code" href="classllvm_1_1DbgVariableIntrinsic.html">DbgVariableIntrinsic</a> *DII) {</div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a> = DII-&gt;<a class="code" href="classllvm_1_1Instruction.html#a4ba3a5be6c0e9b9e8a525de055836733">getModule</a>()-&gt;<a class="code" href="classllvm_1_1Module.html#a6d883605206368bc536cc9ded97209b8">getDataLayout</a>();</div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;  <a class="code" href="classllvm_1_1TypeSize.html">TypeSize</a> ValueSize = <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>.getTypeAllocSizeInBits(ValTy);</div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;  <span class="keywordflow">if</span> (std::optional&lt;uint64_t&gt; FragmentSize = DII-&gt;<a class="code" href="classllvm_1_1DbgVariableIntrinsic.html#ad00657bed806e5e3e4f3a55e48c97023">getFragmentSizeInBits</a>()) {</div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!ValueSize.<a class="code" href="classllvm_1_1details_1_1FixedOrScalableQuantity.html#a9188f84e1dd67530330dcab9cae787d7">isScalable</a>() &amp;&amp;</div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;           <span class="stringliteral">&quot;Fragments don&#39;t work on scalable types.&quot;</span>);</div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;    <span class="keywordflow">return</span> ValueSize.<a class="code" href="classllvm_1_1details_1_1FixedOrScalableQuantity.html#a33880aaca0ad05e5f1557f079305bde5">getFixedValue</a>() &gt;= *FragmentSize;</div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;  }</div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;  <span class="comment">// We can&#39;t always calculate the size of the DI variable (e.g. if it is a</span></div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;  <span class="comment">// VLA). Try to use the size of the alloca that the dbg intrinsic describes</span></div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;  <span class="comment">// intead.</span></div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;  <span class="keywordflow">if</span> (DII-&gt;<a class="code" href="classllvm_1_1DbgVariableIntrinsic.html#a8c005ab74340f04df81ce12b8511a27a">isAddressOfVariable</a>()) {</div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;    <span class="comment">// DII should have exactly 1 location when it is an address.</span></div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(DII-&gt;<a class="code" href="classllvm_1_1DbgVariableIntrinsic.html#a8976759fe7e2d0329628f86b42957704">getNumVariableLocationOps</a>() == 1 &amp;&amp;</div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;           <span class="stringliteral">&quot;address of variable must have exactly 1 location operand.&quot;</span>);</div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> *AI =</div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;            dyn_cast_or_null&lt;AllocaInst&gt;(DII-&gt;<a class="code" href="classllvm_1_1DbgVariableIntrinsic.html#a5702a1d09ac6ee86196a38b3f682a570">getVariableLocationOp</a>(0))) {</div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;      <span class="keywordflow">if</span> (std::optional&lt;TypeSize&gt; FragmentSize =</div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;              AI-&gt;getAllocationSizeInBits(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>)) {</div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1details_1_1FixedOrScalableQuantity.html#afb486f9022a26e1cc53ff189710dbde5">TypeSize::isKnownGE</a>(ValueSize, *FragmentSize);</div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;      }</div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;    }</div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;  }</div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;  <span class="comment">// Could not determine size of variable. Conservatively return false.</span></div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;}</div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;<span class="comment">/// Inserts a llvm.dbg.value intrinsic before a store to an alloca&#39;d value</span></div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;<span class="comment">/// that has an associated llvm.dbg.declare or llvm.dbg.addr intrinsic.</span></div>
<div class="line"><a name="l01523"></a><span class="lineno"><a class="line" href="namespacellvm.html#a8946e172b10c0ef5eaebb28ebb7662ad"> 1523</a></span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="namespacellvm.html#a8946e172b10c0ef5eaebb28ebb7662ad">llvm::ConvertDebugDeclareToDebugValue</a>(<a class="code" href="classllvm_1_1DbgVariableIntrinsic.html">DbgVariableIntrinsic</a> *DII,</div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;                                           <a class="code" href="classllvm_1_1StoreInst.html">StoreInst</a> *<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>, <a class="code" href="classllvm_1_1DIBuilder.html">DIBuilder</a> &amp;<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>) {</div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(DII-&gt;<a class="code" href="classllvm_1_1DbgVariableIntrinsic.html#a8c005ab74340f04df81ce12b8511a27a">isAddressOfVariable</a>() || isa&lt;DbgAssignIntrinsic&gt;(DII));</div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;  <span class="keyword">auto</span> *DIVar = DII-&gt;<a class="code" href="classllvm_1_1DbgVariableIntrinsic.html#ac161deb2a31f78c85f94fbe0f3ba97b4">getVariable</a>();</div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(DIVar &amp;&amp; <span class="stringliteral">&quot;Missing variable&quot;</span>);</div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;  <span class="keyword">auto</span> *DIExpr = DII-&gt;<a class="code" href="classllvm_1_1DbgVariableIntrinsic.html#a2d4581b2568be7db21e47f096ffd6df8">getExpression</a>();</div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *DV = <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>-&gt;getValueOperand();</div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160; </div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;  <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> NewLoc = <a class="code" href="namespacellvm.html#a87ef919ea907189c22b74f604a645b40">getDebugValueLoc</a>(DII);</div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160; </div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;  <span class="comment">// If the alloca describes the variable itself, i.e. the expression in the</span></div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;  <span class="comment">// dbg.declare doesn&#39;t start with a dereference, we can perform the</span></div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;  <span class="comment">// conversion if the value covers the entire fragment of DII.</span></div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;  <span class="comment">// If the alloca describes the *address* of DIVar, i.e. DIExpr is</span></div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;  <span class="comment">// *just* a DW_OP_deref, we use DV as is for the dbg.value.</span></div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;  <span class="comment">// We conservatively ignore other dereferences, because the following two are</span></div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;  <span class="comment">// not equivalent:</span></div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;  <span class="comment">//     dbg.declare(alloca, ..., !Expr(deref, plus_uconstant, 2))</span></div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;  <span class="comment">//     dbg.value(DV, ..., !Expr(deref, plus_uconstant, 2))</span></div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;  <span class="comment">// The former is adding 2 to the address of the variable, whereas the latter</span></div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;  <span class="comment">// is adding 2 to the value of the variable. As such, we insist on just a</span></div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;  <span class="comment">// deref expression.</span></div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;  <span class="keywordtype">bool</span> CanConvert =</div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;      DIExpr-&gt;isDeref() || (!DIExpr-&gt;startsWithDeref() &amp;&amp;</div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;                            <a class="code" href="Transforms_2Utils_2Local_8cpp.html#a0bdd0669ab7b82ba709bfedcb751dcc3">valueCoversEntireFragment</a>(DV-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>(), DII));</div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;  <span class="keywordflow">if</span> (CanConvert) {</div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;    <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.insertDbgValueIntrinsic(DV, DIVar, DIExpr, NewLoc, <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>);</div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;  }</div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160; </div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;  <span class="comment">// FIXME: If storing to a part of the variable described by the dbg.declare,</span></div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;  <span class="comment">// then we want to insert a dbg.value for the corresponding fragment.</span></div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Failed to convert dbg.declare to dbg.value: &quot;</span> &lt;&lt; *DII</div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;                    &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;  <span class="comment">// For now, when there is a store to parts of the variable (but we do not</span></div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;  <span class="comment">// know which part) we insert an dbg.value intrinsic to indicate that we</span></div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;  <span class="comment">// know nothing about the variable&#39;s content.</span></div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;  DV = <a class="code" href="classllvm_1_1UndefValue.html#a4ae5ff22b700a42bcc5d889233721335">UndefValue::get</a>(DV-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;  <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.insertDbgValueIntrinsic(DV, DIVar, DIExpr, NewLoc, <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>);</div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;}</div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;<span class="comment">/// Inserts a llvm.dbg.value intrinsic before a load of an alloca&#39;d value</span></div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;<span class="comment">/// that has an associated llvm.dbg.declare or llvm.dbg.addr intrinsic.</span></div>
<div class="line"><a name="l01566"></a><span class="lineno"><a class="line" href="namespacellvm.html#ab77dd880f8a4804500c2fd5c4df979ee"> 1566</a></span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="namespacellvm.html#a8946e172b10c0ef5eaebb28ebb7662ad">llvm::ConvertDebugDeclareToDebugValue</a>(<a class="code" href="classllvm_1_1DbgVariableIntrinsic.html">DbgVariableIntrinsic</a> *DII,</div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;                                           <a class="code" href="classllvm_1_1LoadInst.html">LoadInst</a> *LI, <a class="code" href="classllvm_1_1DIBuilder.html">DIBuilder</a> &amp;<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>) {</div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;  <span class="keyword">auto</span> *DIVar = DII-&gt;<a class="code" href="classllvm_1_1DbgVariableIntrinsic.html#ac161deb2a31f78c85f94fbe0f3ba97b4">getVariable</a>();</div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;  <span class="keyword">auto</span> *DIExpr = DII-&gt;<a class="code" href="classllvm_1_1DbgVariableIntrinsic.html#a2d4581b2568be7db21e47f096ffd6df8">getExpression</a>();</div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(DIVar &amp;&amp; <span class="stringliteral">&quot;Missing variable&quot;</span>);</div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160; </div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="Transforms_2Utils_2Local_8cpp.html#a0bdd0669ab7b82ba709bfedcb751dcc3">valueCoversEntireFragment</a>(LI-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>(), DII)) {</div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;    <span class="comment">// FIXME: If only referring to a part of the variable described by the</span></div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;    <span class="comment">// dbg.declare, then we want to insert a dbg.value for the corresponding</span></div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;    <span class="comment">// fragment.</span></div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Failed to convert dbg.declare to dbg.value: &quot;</span></div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;                      &lt;&lt; *DII &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;  }</div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160; </div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;  <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> NewLoc = <a class="code" href="namespacellvm.html#a87ef919ea907189c22b74f604a645b40">getDebugValueLoc</a>(DII);</div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160; </div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;  <span class="comment">// We are now tracking the loaded value instead of the address. In the</span></div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;  <span class="comment">// future if multi-location support is added to the IR, it might be</span></div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;  <span class="comment">// preferable to keep tracking both the loaded value and the original</span></div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;  <span class="comment">// address in case the alloca can not be elided.</span></div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;  <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="classLiveDebugValues_1_1DbgValue.html">DbgValue</a> = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.insertDbgValueIntrinsic(</div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;      LI, DIVar, DIExpr, NewLoc, (<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *)<span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;  <a class="code" href="classLiveDebugValues_1_1DbgValue.html">DbgValue</a>-&gt;insertAfter(LI);</div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;}</div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;<span class="comment">/// Inserts a llvm.dbg.value intrinsic after a phi that has an associated</span></div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;<span class="comment">/// llvm.dbg.declare or llvm.dbg.addr intrinsic.</span></div>
<div class="line"><a name="l01594"></a><span class="lineno"><a class="line" href="namespacellvm.html#a79e6c0c958b2de133d4b9d0e2c62f1e4"> 1594</a></span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="namespacellvm.html#a8946e172b10c0ef5eaebb28ebb7662ad">llvm::ConvertDebugDeclareToDebugValue</a>(<a class="code" href="classllvm_1_1DbgVariableIntrinsic.html">DbgVariableIntrinsic</a> *DII,</div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;                                           <a class="code" href="classllvm_1_1PHINode.html">PHINode</a> *APN, <a class="code" href="classllvm_1_1DIBuilder.html">DIBuilder</a> &amp;<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>) {</div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;  <span class="keyword">auto</span> *DIVar = DII-&gt;<a class="code" href="classllvm_1_1DbgVariableIntrinsic.html#ac161deb2a31f78c85f94fbe0f3ba97b4">getVariable</a>();</div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;  <span class="keyword">auto</span> *DIExpr = DII-&gt;<a class="code" href="classllvm_1_1DbgVariableIntrinsic.html#a2d4581b2568be7db21e47f096ffd6df8">getExpression</a>();</div>
<div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(DIVar &amp;&amp; <span class="stringliteral">&quot;Missing variable&quot;</span>);</div>
<div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160; </div>
<div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="Transforms_2Utils_2Local_8cpp.html#a2a8305f7bf6d7dc8b192e257785c1fe4">PhiHasDebugValue</a>(DIVar, DIExpr, APN))</div>
<div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160; </div>
<div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="Transforms_2Utils_2Local_8cpp.html#a0bdd0669ab7b82ba709bfedcb751dcc3">valueCoversEntireFragment</a>(APN-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>(), DII)) {</div>
<div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;    <span class="comment">// FIXME: If only referring to a part of the variable described by the</span></div>
<div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;    <span class="comment">// dbg.declare, then we want to insert a dbg.value for the corresponding</span></div>
<div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;    <span class="comment">// fragment.</span></div>
<div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Failed to convert dbg.declare to dbg.value: &quot;</span></div>
<div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;                      &lt;&lt; *DII &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;  }</div>
<div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160; </div>
<div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;  <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a> = APN-&gt;<a class="code" href="classllvm_1_1Instruction.html#a1a7f07aaef6a3bee130bf0e0f0536802">getParent</a>();</div>
<div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;  <span class="keyword">auto</span> InsertionPt = <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>-&gt;getFirstInsertionPt();</div>
<div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160; </div>
<div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;  <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> NewLoc = <a class="code" href="namespacellvm.html#a87ef919ea907189c22b74f604a645b40">getDebugValueLoc</a>(DII);</div>
<div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160; </div>
<div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;  <span class="comment">// The block may be a catchswitch block, which does not have a valid</span></div>
<div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;  <span class="comment">// insertion point.</span></div>
<div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;  <span class="comment">// FIXME: Insert dbg.value markers in the successors when appropriate.</span></div>
<div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;  <span class="keywordflow">if</span> (InsertionPt != <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>-&gt;end())</div>
<div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;    <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.insertDbgValueIntrinsic(APN, DIVar, DIExpr, NewLoc, &amp;*InsertionPt);</div>
<div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;}</div>
<div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;<span class="comment">/// Determine whether this alloca is either a VLA or an array.</span></div>
<div class="line"><a name="l01625"></a><span class="lineno"><a class="line" href="Transforms_2Utils_2Local_8cpp.html#a7e06c0b653fcb0e20fbec6bee3d3d40d"> 1625</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="Transforms_2Utils_2Local_8cpp.html#a7e06c0b653fcb0e20fbec6bee3d3d40d">isArray</a>(<a class="code" href="classllvm_1_1AllocaInst.html">AllocaInst</a> *AI) {</div>
<div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;  <span class="keywordflow">return</span> AI-&gt;<a class="code" href="classllvm_1_1AllocaInst.html#aea74164514e7164813ab30bcc4b7c557">isArrayAllocation</a>() ||</div>
<div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;         (AI-&gt;<a class="code" href="classllvm_1_1AllocaInst.html#a074617b3e2f9f98ee3a2ac208e8e7210">getAllocatedType</a>() &amp;&amp; AI-&gt;<a class="code" href="classllvm_1_1AllocaInst.html#a074617b3e2f9f98ee3a2ac208e8e7210">getAllocatedType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a2a394517076e7dd2bdcd7dde33dfcb7d">isArrayTy</a>());</div>
<div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;}</div>
<div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;<span class="comment">/// Determine whether this alloca is a structure.</span></div>
<div class="line"><a name="l01631"></a><span class="lineno"><a class="line" href="Transforms_2Utils_2Local_8cpp.html#a226deca7d8508b6b646c8596d4c174a7"> 1631</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="Transforms_2Utils_2Local_8cpp.html#a226deca7d8508b6b646c8596d4c174a7">isStructure</a>(<a class="code" href="classllvm_1_1AllocaInst.html">AllocaInst</a> *AI) {</div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;  <span class="keywordflow">return</span> AI-&gt;<a class="code" href="classllvm_1_1AllocaInst.html#a074617b3e2f9f98ee3a2ac208e8e7210">getAllocatedType</a>() &amp;&amp; AI-&gt;<a class="code" href="classllvm_1_1AllocaInst.html#a074617b3e2f9f98ee3a2ac208e8e7210">getAllocatedType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a81eef9d7336f7ee43be79630d8e8ec86">isStructTy</a>();</div>
<div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;}</div>
<div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;<span class="comment">/// LowerDbgDeclare - Lowers llvm.dbg.declare intrinsics into appropriate set</span></div>
<div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;<span class="comment">/// of llvm.dbg.value intrinsics.</span></div>
<div class="line"><a name="l01637"></a><span class="lineno"><a class="line" href="namespacellvm.html#a7994fd7ca0d8f8fcf2a9d18d151d0988"> 1637</a></span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> <a class="code" href="namespacellvm.html#a7994fd7ca0d8f8fcf2a9d18d151d0988">llvm::LowerDbgDeclare</a>(<a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>) {</div>
<div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;  <span class="keywordtype">bool</span> Changed = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;  <a class="code" href="classllvm_1_1DIBuilder.html">DIBuilder</a> DIB(*<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.getParent(), <span class="comment">/*AllowUnresolved*/</span> <span class="keyword">false</span>);</div>
<div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;DbgDeclareInst *, 4&gt;</a> Dbgs;</div>
<div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;FI : <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>)</div>
<div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> &amp;BI : FI)</div>
<div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">auto</span> DDI = dyn_cast&lt;DbgDeclareInst&gt;(&amp;BI))</div>
<div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;        Dbgs.push_back(DDI);</div>
<div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160; </div>
<div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;  <span class="keywordflow">if</span> (Dbgs.empty())</div>
<div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;    <span class="keywordflow">return</span> Changed;</div>
<div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160; </div>
<div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> : Dbgs) {</div>
<div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;    <a class="code" href="classllvm_1_1DbgDeclareInst.html">DbgDeclareInst</a> *DDI = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div>
<div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;    <a class="code" href="classllvm_1_1AllocaInst.html">AllocaInst</a> *AI = dyn_cast_or_null&lt;AllocaInst&gt;(DDI-&gt;<a class="code" href="classllvm_1_1DbgDeclareInst.html#ac3c336790504179649a01bf8fc34b33e">getAddress</a>());</div>
<div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;    <span class="comment">// If this is an alloca for a scalar variable, insert a dbg.value</span></div>
<div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;    <span class="comment">// at each load and store to the alloca and erase the dbg.declare.</span></div>
<div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;    <span class="comment">// The dbg.values allow tracking a variable even if it is not</span></div>
<div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;    <span class="comment">// stored on the stack, while the dbg.declare can only describe</span></div>
<div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;    <span class="comment">// the stack slot (and at a lexical-scope granularity). Later</span></div>
<div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;    <span class="comment">// passes will attempt to elide the stack slot.</span></div>
<div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;    <span class="keywordflow">if</span> (!AI || <a class="code" href="Transforms_2Utils_2Local_8cpp.html#a7e06c0b653fcb0e20fbec6bee3d3d40d">isArray</a>(AI) || <a class="code" href="Transforms_2Utils_2Local_8cpp.html#a226deca7d8508b6b646c8596d4c174a7">isStructure</a>(AI))</div>
<div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160; </div>
<div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;    <span class="comment">// A volatile load/store means that the alloca can&#39;t be elided anyway.</span></div>
<div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a61d13d6824ec46c31260a4fd0997eda0">llvm::any_of</a>(AI-&gt;<a class="code" href="classllvm_1_1Value.html#ab4e0512c7e1c7adaa56677e3155685f1">users</a>(), [](<a class="code" href="classllvm_1_1User.html">User</a> *U) -&gt; <span class="keywordtype">bool</span> {</div>
<div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;          if (LoadInst *LI = dyn_cast&lt;LoadInst&gt;(U))</div>
<div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;            return LI-&gt;isVolatile();</div>
<div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;          if (StoreInst *SI = dyn_cast&lt;StoreInst&gt;(U))</div>
<div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;            return SI-&gt;isVolatile();</div>
<div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;          return false;</div>
<div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;        }))</div>
<div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160; </div>
<div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const Value *, 8&gt;</a> WorkList;</div>
<div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;    WorkList.push_back(AI);</div>
<div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;    <span class="keywordflow">while</span> (!WorkList.empty()) {</div>
<div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *V = WorkList.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a0c8ffe664a36e30d49c84d0aded2fe08">pop_back_val</a>();</div>
<div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;AIUse : V-&gt;<a class="code" href="classllvm_1_1Value.html#aecb93439702247fe5353a9966f7cefcd">uses</a>()) {</div>
<div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;        <a class="code" href="classllvm_1_1User.html">User</a> *U = AIUse.getUser();</div>
<div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1StoreInst.html">StoreInst</a> *<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a> = dyn_cast&lt;StoreInst&gt;(U)) {</div>
<div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;          <span class="keywordflow">if</span> (AIUse.getOperandNo() == 1)</div>
<div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;            <a class="code" href="namespacellvm.html#a8946e172b10c0ef5eaebb28ebb7662ad">ConvertDebugDeclareToDebugValue</a>(DDI, <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>, DIB);</div>
<div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1LoadInst.html">LoadInst</a> *LI = dyn_cast&lt;LoadInst&gt;(U)) {</div>
<div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;          <a class="code" href="namespacellvm.html#a8946e172b10c0ef5eaebb28ebb7662ad">ConvertDebugDeclareToDebugValue</a>(DDI, LI, DIB);</div>
<div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *CI = dyn_cast&lt;CallInst&gt;(U)) {</div>
<div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;          <span class="comment">// This is a call by-value or some other instruction that takes a</span></div>
<div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;          <span class="comment">// pointer to the variable. Insert a *value* intrinsic that describes</span></div>
<div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;          <span class="comment">// the variable by dereferencing the alloca.</span></div>
<div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;          <span class="keywordflow">if</span> (!CI-&gt;isLifetimeStartOrEnd()) {</div>
<div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;            <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> NewLoc = <a class="code" href="namespacellvm.html#a87ef919ea907189c22b74f604a645b40">getDebugValueLoc</a>(DDI);</div>
<div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;            <span class="keyword">auto</span> *DerefExpr =</div>
<div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;                <a class="code" href="classllvm_1_1DIExpression.html#a15f4de7989cc83855e8f65792ae94bc4">DIExpression::append</a>(DDI-&gt;<a class="code" href="classllvm_1_1DbgVariableIntrinsic.html#a2d4581b2568be7db21e47f096ffd6df8">getExpression</a>(), dwarf::DW_OP_deref);</div>
<div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;            DIB.insertDbgValueIntrinsic(AI, DDI-&gt;<a class="code" href="classllvm_1_1DbgVariableIntrinsic.html#ac161deb2a31f78c85f94fbe0f3ba97b4">getVariable</a>(), DerefExpr,</div>
<div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;                                        NewLoc, CI);</div>
<div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;          }</div>
<div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1BitCastInst.html">BitCastInst</a> *BI = dyn_cast&lt;BitCastInst&gt;(U)) {</div>
<div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;          <span class="keywordflow">if</span> (BI-&gt;getType()-&gt;isPointerTy())</div>
<div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;            WorkList.push_back(BI);</div>
<div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;        }</div>
<div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;      }</div>
<div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;    }</div>
<div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;    DDI-&gt;<a class="code" href="classllvm_1_1Instruction.html#ae6b978645b8ac72d1a35e1298ffdd4f0">eraseFromParent</a>();</div>
<div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;    Changed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;  }</div>
<div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160; </div>
<div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;  <span class="keywordflow">if</span> (Changed)</div>
<div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> &amp;<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a> : <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>)</div>
<div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;    <a class="code" href="namespacellvm.html#a08f3f942afc0ee9115a8f9fa87e9191d">RemoveRedundantDbgInstrs</a>(&amp;<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>);</div>
<div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160; </div>
<div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;  <span class="keywordflow">return</span> Changed;</div>
<div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;}</div>
<div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;<span class="comment">/// Propagate dbg.value intrinsics through the newly inserted PHIs.</span></div>
<div class="line"><a name="l01711"></a><span class="lineno"><a class="line" href="namespacellvm.html#a4dfea19770364b880a77c3f0c1c0f67c"> 1711</a></span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="namespacellvm.html#a4dfea19770364b880a77c3f0c1c0f67c">llvm::insertDebugValuesForPHIs</a>(<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>,</div>
<div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;                                    <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;PHINode *&gt;</a> &amp;InsertedPHIs) {</div>
<div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a> &amp;&amp; <span class="stringliteral">&quot;No BasicBlock to clone dbg.value(s) from.&quot;</span>);</div>
<div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;  <span class="keywordflow">if</span> (InsertedPHIs.size() == 0)</div>
<div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160; </div>
<div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;  <span class="comment">// Map existing PHI nodes to their dbg.values.</span></div>
<div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;  <a class="code" href="classllvm_1_1ValueMap.html">ValueToValueMapTy</a> DbgValueMap;</div>
<div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> : *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>) {</div>
<div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> DbgII = dyn_cast&lt;DbgVariableIntrinsic&gt;(&amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)) {</div>
<div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V : DbgII-&gt;location_ops())</div>
<div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;        <span class="keywordflow">if</span> (<span class="keyword">auto</span> *Loc = dyn_cast_or_null&lt;PHINode&gt;(V))</div>
<div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;          DbgValueMap.<a class="code" href="classllvm_1_1ValueMap.html#a620815bfbf153caa776f5e207bd8e3c0">insert</a>({Loc, DbgII});</div>
<div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;    }</div>
<div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;  }</div>
<div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;  <span class="keywordflow">if</span> (DbgValueMap.<a class="code" href="classllvm_1_1ValueMap.html#aa18f9d54e998d6095d944307853f8dc8">size</a>() == 0)</div>
<div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160; </div>
<div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;  <span class="comment">// Map a pair of the destination BB and old dbg.value to the new dbg.value,</span></div>
<div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;  <span class="comment">// so that if a dbg.value is being rewritten to use more than one of the</span></div>
<div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;  <span class="comment">// inserted PHIs in the same destination BB, we can update the same dbg.value</span></div>
<div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;  <span class="comment">// with all the new PHIs instead of creating one copy for each.</span></div>
<div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;  <a class="code" href="classllvm_1_1MapVector.html">MapVector&lt;std::pair&lt;BasicBlock *, DbgVariableIntrinsic *&gt;</a>,</div>
<div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;            <a class="code" href="classllvm_1_1DbgVariableIntrinsic.html">DbgVariableIntrinsic</a> *&gt;</div>
<div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;      NewDbgValueMap;</div>
<div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;  <span class="comment">// Then iterate through the new PHIs and look to see if they use one of the</span></div>
<div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;  <span class="comment">// previously mapped PHIs. If so, create a new dbg.value intrinsic that will</span></div>
<div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;  <span class="comment">// propagate the info through the new PHI. If we use more than one new PHI in</span></div>
<div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;  <span class="comment">// a single destination BB with the same old dbg.value, merge the updates so</span></div>
<div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;  <span class="comment">// that we get a single new dbg.value with all the new PHIs.</span></div>
<div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> *<a class="code" href="AMDGPURewriteUndefForPHI_8cpp.html#a2e83cb1bc3f5e8986cbd14575755a134">PHI</a> : InsertedPHIs) {</div>
<div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;    <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *Parent = <a class="code" href="AMDGPURewriteUndefForPHI_8cpp.html#a2e83cb1bc3f5e8986cbd14575755a134">PHI</a>-&gt;getParent();</div>
<div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;    <span class="comment">// Avoid inserting an intrinsic into an EH block.</span></div>
<div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;    <span class="keywordflow">if</span> (Parent-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#a46ef6115027606b67adcf4d28f3dac17">getFirstNonPHI</a>()-&gt;<a class="code" href="classllvm_1_1Instruction.html#a5d3d315f678bc76e43b27d18e5d72829">isEHPad</a>())</div>
<div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> *<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a97bce951e4585a39601c04d86bb14ffd">VI</a> : <a class="code" href="AMDGPURewriteUndefForPHI_8cpp.html#a2e83cb1bc3f5e8986cbd14575755a134">PHI</a>-&gt;operand_values()) {</div>
<div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;      <span class="keyword">auto</span> V = DbgValueMap.<a class="code" href="classllvm_1_1ValueMap.html#a7629b8c5f6a6802ee0fdc5c290769692">find</a>(<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a97bce951e4585a39601c04d86bb14ffd">VI</a>);</div>
<div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;      <span class="keywordflow">if</span> (V != DbgValueMap.<a class="code" href="classllvm_1_1ValueMap.html#ab871e2d0ebded563edfebd6766fc1a04">end</a>()) {</div>
<div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;        <span class="keyword">auto</span> *DbgII = cast&lt;DbgVariableIntrinsic&gt;(V-&gt;second);</div>
<div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;        <span class="keyword">auto</span> NewDI = NewDbgValueMap.<a class="code" href="classllvm_1_1MapVector.html#a6b0c3e15c351ba9682837c29b0a141b6">find</a>({Parent, DbgII});</div>
<div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;        <span class="keywordflow">if</span> (NewDI == NewDbgValueMap.<a class="code" href="classllvm_1_1MapVector.html#a0881334358ff6ff7ff8cea5562c7988e">end</a>()) {</div>
<div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;          <span class="keyword">auto</span> *NewDbgII = cast&lt;DbgVariableIntrinsic&gt;(DbgII-&gt;clone());</div>
<div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;          NewDI = NewDbgValueMap.<a class="code" href="classllvm_1_1MapVector.html#a9318649185cfc66ba4b4eb66d5968e00">insert</a>({{Parent, DbgII}, NewDbgII}).first;</div>
<div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;        }</div>
<div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;        <a class="code" href="classllvm_1_1DbgVariableIntrinsic.html">DbgVariableIntrinsic</a> *NewDbgII = NewDI-&gt;second;</div>
<div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;        <span class="comment">// If PHI contains VI as an operand more than once, we may</span></div>
<div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;        <span class="comment">// replaced it in NewDbgII; confirm that it is present.</span></div>
<div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#acd1cd968cb420c82d70926920fcdc7d7">is_contained</a>(NewDbgII-&gt;<a class="code" href="classllvm_1_1DbgVariableIntrinsic.html#a948d39166dc97e354adf799ec62a218a">location_ops</a>(), <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a97bce951e4585a39601c04d86bb14ffd">VI</a>))</div>
<div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;          NewDbgII-&gt;<a class="code" href="classllvm_1_1DbgVariableIntrinsic.html#a212fcbee3e65ec41eebed2525fc15207">replaceVariableLocationOp</a>(<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a97bce951e4585a39601c04d86bb14ffd">VI</a>, <a class="code" href="AMDGPURewriteUndefForPHI_8cpp.html#a2e83cb1bc3f5e8986cbd14575755a134">PHI</a>);</div>
<div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;      }</div>
<div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;    }</div>
<div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;  }</div>
<div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;  <span class="comment">// Insert thew new dbg.values into their destination blocks.</span></div>
<div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> DI : NewDbgValueMap) {</div>
<div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;    <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *Parent = DI.first.first;</div>
<div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;    <span class="keyword">auto</span> *NewDbgII = DI.second;</div>
<div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;    <span class="keyword">auto</span> InsertionPt = Parent-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#a161fd4e9fa5367f64c2a4c9e921c3ad3">getFirstInsertionPt</a>();</div>
<div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(InsertionPt != Parent-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#a0b4e7bee9b8575cc7db73329f1a561bd">end</a>() &amp;&amp; <span class="stringliteral">&quot;Ill-formed basic block&quot;</span>);</div>
<div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;    NewDbgII-&gt;insertBefore(&amp;*InsertionPt);</div>
<div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;  }</div>
<div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;}</div>
<div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160; </div>
<div class="line"><a name="l01773"></a><span class="lineno"><a class="line" href="namespacellvm.html#afae608ddbbaa668b04aac083a6683245"> 1773</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="namespacellvm.html#afae608ddbbaa668b04aac083a6683245">llvm::replaceDbgDeclare</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *Address, <a class="code" href="classllvm_1_1Value.html">Value</a> *NewAddress,</div>
<div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;                             <a class="code" href="classllvm_1_1DIBuilder.html">DIBuilder</a> &amp;<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, uint8_t DIExprFlags,</div>
<div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;                             <span class="keywordtype">int</span> Offset) {</div>
<div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;  <span class="keyword">auto</span> DbgAddrs = <a class="code" href="namespacellvm.html#a81ba15e1d6d05dde87983ab4f4f6aec1">FindDbgAddrUses</a>(Address);</div>
<div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1DbgVariableIntrinsic.html">DbgVariableIntrinsic</a> *DII : DbgAddrs) {</div>
<div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> &amp;Loc = DII-&gt;getDebugLoc();</div>
<div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;    <span class="keyword">auto</span> *DIVar = DII-&gt;getVariable();</div>
<div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;    <span class="keyword">auto</span> *DIExpr = DII-&gt;getExpression();</div>
<div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(DIVar &amp;&amp; <span class="stringliteral">&quot;Missing variable&quot;</span>);</div>
<div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;    DIExpr = <a class="code" href="classllvm_1_1DIExpression.html#ab804b15bb92ff685d7c1464b2816d608">DIExpression::prepend</a>(DIExpr, DIExprFlags, Offset);</div>
<div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;    <span class="comment">// Insert llvm.dbg.declare immediately before DII, and remove old</span></div>
<div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;    <span class="comment">// llvm.dbg.declare.</span></div>
<div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;    <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.insertDeclare(NewAddress, DIVar, DIExpr, Loc, DII);</div>
<div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;    DII-&gt;eraseFromParent();</div>
<div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;  }</div>
<div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;  <span class="keywordflow">return</span> !DbgAddrs.empty();</div>
<div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;}</div>
<div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160; </div>
<div class="line"><a name="l01791"></a><span class="lineno"><a class="line" href="Transforms_2Utils_2Local_8cpp.html#a86b440f5fd620c00da390eeca76e8c9e"> 1791</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="Transforms_2Utils_2Local_8cpp.html#a86b440f5fd620c00da390eeca76e8c9e">replaceOneDbgValueForAlloca</a>(<a class="code" href="classllvm_1_1DbgValueInst.html">DbgValueInst</a> *DVI, <a class="code" href="classllvm_1_1Value.html">Value</a> *NewAddress,</div>
<div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;                                        <a class="code" href="classllvm_1_1DIBuilder.html">DIBuilder</a> &amp;<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, <span class="keywordtype">int</span> Offset) {</div>
<div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> &amp;Loc = DVI-&gt;<a class="code" href="classllvm_1_1Instruction.html#ab4f3bf98b5054831b608852e33427814">getDebugLoc</a>();</div>
<div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;  <span class="keyword">auto</span> *DIVar = DVI-&gt;<a class="code" href="classllvm_1_1DbgVariableIntrinsic.html#ac161deb2a31f78c85f94fbe0f3ba97b4">getVariable</a>();</div>
<div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;  <span class="keyword">auto</span> *DIExpr = DVI-&gt;<a class="code" href="classllvm_1_1DbgVariableIntrinsic.html#a2d4581b2568be7db21e47f096ffd6df8">getExpression</a>();</div>
<div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(DIVar &amp;&amp; <span class="stringliteral">&quot;Missing variable&quot;</span>);</div>
<div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160; </div>
<div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;  <span class="comment">// This is an alloca-based llvm.dbg.value. The first thing it should do with</span></div>
<div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;  <span class="comment">// the alloca pointer is dereference it. Otherwise we don&#39;t know how to handle</span></div>
<div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;  <span class="comment">// it and give up.</span></div>
<div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;  <span class="keywordflow">if</span> (!DIExpr || DIExpr-&gt;getNumElements() &lt; 1 ||</div>
<div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;      DIExpr-&gt;getElement(0) != dwarf::DW_OP_deref)</div>
<div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160; </div>
<div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;  <span class="comment">// Insert the offset before the first deref.</span></div>
<div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;  <span class="comment">// We could just change the offset argument of dbg.value, but it&#39;s unsigned...</span></div>
<div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;  <span class="keywordflow">if</span> (Offset)</div>
<div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;    DIExpr = <a class="code" href="classllvm_1_1DIExpression.html#ab804b15bb92ff685d7c1464b2816d608">DIExpression::prepend</a>(DIExpr, 0, Offset);</div>
<div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160; </div>
<div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;  <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.insertDbgValueIntrinsic(NewAddress, DIVar, DIExpr, Loc, DVI);</div>
<div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;  DVI-&gt;<a class="code" href="classllvm_1_1Instruction.html#ae6b978645b8ac72d1a35e1298ffdd4f0">eraseFromParent</a>();</div>
<div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;}</div>
<div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160; </div>
<div class="line"><a name="l01814"></a><span class="lineno"><a class="line" href="namespacellvm.html#ab5dbbd2f6fe6ff78b5f809228236eb0d"> 1814</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacellvm.html#ab5dbbd2f6fe6ff78b5f809228236eb0d">llvm::replaceDbgValueForAlloca</a>(<a class="code" href="classllvm_1_1AllocaInst.html">AllocaInst</a> *AI, <a class="code" href="classllvm_1_1Value.html">Value</a> *NewAllocaAddress,</div>
<div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;                                    <a class="code" href="classllvm_1_1DIBuilder.html">DIBuilder</a> &amp;<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, <span class="keywordtype">int</span> Offset) {</div>
<div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *L = <a class="code" href="classllvm_1_1LocalAsMetadata.html#a5247094880dd4ac01a770bdf836b97c9">LocalAsMetadata::getIfExists</a>(AI))</div>
<div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> *MDV = <a class="code" href="classllvm_1_1MetadataAsValue.html#a43da96a342731ffba21f83523a9c787a">MetadataAsValue::getIfExists</a>(AI-&gt;<a class="code" href="classllvm_1_1Value.html#ab3fc0225d8aaf8434026c3573f961f2c">getContext</a>(), L))</div>
<div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Use.html">Use</a> &amp;U : <a class="code" href="namespacellvm.html#a8154638df88e4eaa568b67b23d463dac">llvm::make_early_inc_range</a>(MDV-&gt;uses()))</div>
<div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;        <span class="keywordflow">if</span> (<span class="keyword">auto</span> *DVI = dyn_cast&lt;DbgValueInst&gt;(U.getUser()))</div>
<div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;          <a class="code" href="Transforms_2Utils_2Local_8cpp.html#a86b440f5fd620c00da390eeca76e8c9e">replaceOneDbgValueForAlloca</a>(DVI, NewAllocaAddress, <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, Offset);</div>
<div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;}</div>
<div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;<span class="comment">/// Where possible to salvage debug information for \p I do so.</span></div>
<div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;<span class="comment">/// If not possible mark undef.</span></div>
<div class="line"><a name="l01825"></a><span class="lineno"><a class="line" href="namespacellvm.html#a031cf51b1958dacd72cb6fd65a10c420"> 1825</a></span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="namespacellvm.html#a26be1141b23850a2b4eb78021d99e862">llvm::salvageDebugInfo</a>(<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;DbgVariableIntrinsic *, 1&gt;</a> DbgUsers;</div>
<div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;  <a class="code" href="namespacellvm.html#a683448397460b5b16e0d9016fd7a273a">findDbgUsers</a>(DbgUsers, &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;  <a class="code" href="namespacellvm.html#a24243d0f6646560894f96b01fddfc6da">salvageDebugInfoForDbgValues</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, DbgUsers);</div>
<div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;}</div>
<div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;<span class="comment">/// Salvage the address component of \p DAI.</span></div>
<div class="line"><a name="l01832"></a><span class="lineno"><a class="line" href="Transforms_2Utils_2Local_8cpp.html#ac44515e4ed365e77621ccf62bc7678b5"> 1832</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="Transforms_2Utils_2Local_8cpp.html#ac44515e4ed365e77621ccf62bc7678b5">salvageDbgAssignAddress</a>(<a class="code" href="classllvm_1_1DbgAssignIntrinsic.html">DbgAssignIntrinsic</a> *DAI) {</div>
<div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;  <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = dyn_cast&lt;Instruction&gt;(DAI-&gt;<a class="code" href="classllvm_1_1DbgAssignIntrinsic.html#ab13971dbdc6d1c069f75e59f337fa078">getAddress</a>());</div>
<div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;  <span class="comment">// Only instructions can be salvaged at the moment.</span></div>
<div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</div>
<div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160; </div>
<div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!DAI-&gt;<a class="code" href="classllvm_1_1DbgAssignIntrinsic.html#a668dd46de1b2c3d8f19381c111da3d18">getAddressExpression</a>()-&gt;<a class="code" href="classllvm_1_1DIExpression.html#a7cc5f1632a4c520497898439c17dc026">getFragmentInfo</a>().has_value() &amp;&amp;</div>
<div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;         <span class="stringliteral">&quot;address-expression shouldn&#39;t have fragment info&quot;</span>);</div>
<div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160; </div>
<div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;  <span class="comment">// The address component of a dbg.assign cannot be variadic.</span></div>
<div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;  <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> CurrentLocOps = 0;</div>
<div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Value *, 4&gt;</a> AdditionalValues;</div>
<div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;uint64_t, 16&gt;</a> Ops;</div>
<div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *NewV = <a class="code" href="namespacellvm.html#a99356c6b92999b95181b5d79c03868ee">salvageDebugInfoImpl</a>(*<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, CurrentLocOps, Ops, AdditionalValues);</div>
<div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160; </div>
<div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;  <span class="comment">// Check if the salvage failed.</span></div>
<div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;  <span class="keywordflow">if</span> (!NewV)</div>
<div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160; </div>
<div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;  <a class="code" href="classllvm_1_1DIExpression.html">DIExpression</a> *SalvagedExpr = <a class="code" href="classllvm_1_1DIExpression.html#a5f48305fa7d23161515c94bca7c2beb6">DIExpression::appendOpsToArg</a>(</div>
<div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;      DAI-&gt;<a class="code" href="classllvm_1_1DbgAssignIntrinsic.html#a668dd46de1b2c3d8f19381c111da3d18">getAddressExpression</a>(), Ops, 0, <span class="comment">/*StackValue=*/</span><span class="keyword">false</span>);</div>
<div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!SalvagedExpr-&gt;<a class="code" href="classllvm_1_1DIExpression.html#a7cc5f1632a4c520497898439c17dc026">getFragmentInfo</a>().has_value() &amp;&amp;</div>
<div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;         <span class="stringliteral">&quot;address-expression shouldn&#39;t have fragment info&quot;</span>);</div>
<div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160; </div>
<div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;  <span class="comment">// Salvage succeeds if no additional values are required.</span></div>
<div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;  <span class="keywordflow">if</span> (AdditionalValues.empty()) {</div>
<div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;    DAI-&gt;<a class="code" href="classllvm_1_1DbgAssignIntrinsic.html#aef2660c212a6794faf7ec16cae82248a">setAddress</a>(NewV);</div>
<div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;    DAI-&gt;<a class="code" href="classllvm_1_1DbgAssignIntrinsic.html#af50410033f7fa1450e7030aa25eae45e">setAddressExpression</a>(SalvagedExpr);</div>
<div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;    DAI-&gt;<a class="code" href="classllvm_1_1DbgAssignIntrinsic.html#a77fca2c3fdf25a035739378ae30ec9d8">setKillAddress</a>();</div>
<div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;  }</div>
<div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;}</div>
<div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160; </div>
<div class="line"><a name="l01865"></a><span class="lineno"><a class="line" href="namespacellvm.html#a24243d0f6646560894f96b01fddfc6da"> 1865</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacellvm.html#a24243d0f6646560894f96b01fddfc6da">llvm::salvageDebugInfoForDbgValues</a>(</div>
<div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;    <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;DbgVariableIntrinsic *&gt;</a> DbgUsers) {</div>
<div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;  <span class="comment">// These are arbitrary chosen limits on the maximum number of values and the</span></div>
<div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;  <span class="comment">// maximum size of a debug expression we can salvage up to, used for</span></div>
<div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;  <span class="comment">// performance reasons.</span></div>
<div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> MaxDebugArgs = 16;</div>
<div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> MaxExpressionSize = 128;</div>
<div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;  <span class="keywordtype">bool</span> Salvaged = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160; </div>
<div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> *DII : DbgUsers) {</div>
<div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> *DAI = dyn_cast&lt;DbgAssignIntrinsic&gt;(DII)) {</div>
<div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;      <span class="keywordflow">if</span> (DAI-&gt;getAddress() == &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;        <a class="code" href="Transforms_2Utils_2Local_8cpp.html#ac44515e4ed365e77621ccf62bc7678b5">salvageDbgAssignAddress</a>(DAI);</div>
<div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;        Salvaged = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;      }</div>
<div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;      <span class="keywordflow">if</span> (DAI-&gt;getValue() != &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</div>
<div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;    }</div>
<div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160; </div>
<div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;    <span class="comment">// Do not add DW_OP_stack_value for DbgDeclare and DbgAddr, because they</span></div>
<div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;    <span class="comment">// are implicitly pointing out the value as a DWARF memory location</span></div>
<div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;    <span class="comment">// description.</span></div>
<div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;    <span class="keywordtype">bool</span> StackValue = isa&lt;DbgValueInst&gt;(DII);</div>
<div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;    <span class="keyword">auto</span> DIILocation = DII-&gt;location_ops();</div>
<div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(</div>
<div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;        <a class="code" href="namespacellvm.html#acd1cd968cb420c82d70926920fcdc7d7">is_contained</a>(DIILocation, &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) &amp;&amp;</div>
<div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;        <span class="stringliteral">&quot;DbgVariableIntrinsic must use salvaged instruction as its location&quot;</span>);</div>
<div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Value *, 4&gt;</a> AdditionalValues;</div>
<div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;    <span class="comment">// `I` may appear more than once in DII&#39;s location ops, and each use of `I`</span></div>
<div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;    <span class="comment">// must be updated in the DIExpression and potentially have additional</span></div>
<div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;    <span class="comment">// values added; thus we call salvageDebugInfoImpl for each `I` instance in</span></div>
<div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;    <span class="comment">// DIILocation.</span></div>
<div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *Op0 = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;    <a class="code" href="classllvm_1_1DIExpression.html">DIExpression</a> *SalvagedExpr = DII-&gt;getExpression();</div>
<div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;    <span class="keyword">auto</span> LocItr = <a class="code" href="namespacellvm.html#a086e9fbdb06276db7753101a08a63adf">find</a>(DIILocation, &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;    <span class="keywordflow">while</span> (SalvagedExpr &amp;&amp; LocItr != DIILocation.end()) {</div>
<div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;      <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;uint64_t, 16&gt;</a> Ops;</div>
<div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;      <span class="keywordtype">unsigned</span> LocNo = std::distance(DIILocation.begin(), LocItr);</div>
<div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;      <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> CurrentLocOps = SalvagedExpr-&gt;<a class="code" href="classllvm_1_1DIExpression.html#a9aef6cbb464a57070a26cf422b979df9">getNumLocationOperands</a>();</div>
<div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;      Op0 = <a class="code" href="namespacellvm.html#a99356c6b92999b95181b5d79c03868ee">salvageDebugInfoImpl</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, CurrentLocOps, Ops, AdditionalValues);</div>
<div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;      <span class="keywordflow">if</span> (!Op0)</div>
<div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;      SalvagedExpr =</div>
<div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;          <a class="code" href="classllvm_1_1DIExpression.html#a5f48305fa7d23161515c94bca7c2beb6">DIExpression::appendOpsToArg</a>(SalvagedExpr, Ops, LocNo, StackValue);</div>
<div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;      LocItr = <a class="code" href="namespacellvm.html#a086e9fbdb06276db7753101a08a63adf">std::find</a>(++LocItr, DIILocation.end(), &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;    }</div>
<div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;    <span class="comment">// salvageDebugInfoImpl should fail on examining the first element of</span></div>
<div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;    <span class="comment">// DbgUsers, or none of them.</span></div>
<div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;    <span class="keywordflow">if</span> (!Op0)</div>
<div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160; </div>
<div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;    DII-&gt;replaceVariableLocationOp(&amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, Op0);</div>
<div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;    <span class="keywordtype">bool</span> IsValidSalvageExpr = SalvagedExpr-&gt;<a class="code" href="classllvm_1_1DIExpression.html#a1b59c8fe81267b338774bf6c542f90ee">getNumElements</a>() &lt;= MaxExpressionSize;</div>
<div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;    <span class="keywordflow">if</span> (AdditionalValues.empty() &amp;&amp; IsValidSalvageExpr) {</div>
<div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;      DII-&gt;setExpression(SalvagedExpr);</div>
<div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (isa&lt;DbgValueInst&gt;(DII) &amp;&amp; !isa&lt;DbgAssignIntrinsic&gt;(DII) &amp;&amp;</div>
<div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;               IsValidSalvageExpr &amp;&amp;</div>
<div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;               DII-&gt;getNumVariableLocationOps() + AdditionalValues.size() &lt;=</div>
<div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;                   MaxDebugArgs) {</div>
<div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;      DII-&gt;addVariableLocationOps(AdditionalValues, SalvagedExpr);</div>
<div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;      <span class="comment">// Do not salvage using DIArgList for dbg.addr/dbg.declare, as it is</span></div>
<div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;      <span class="comment">// not currently supported in those instructions. Do not salvage using</span></div>
<div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;      <span class="comment">// DIArgList for dbg.assign yet. FIXME: support this.</span></div>
<div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;      <span class="comment">// Also do not salvage if the resulting DIArgList would contain an</span></div>
<div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;      <span class="comment">// unreasonably large number of values.</span></div>
<div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160;      DII-&gt;setKillLocation();</div>
<div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;    }</div>
<div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;SALVAGE: &quot;</span> &lt;&lt; *DII &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;    Salvaged = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;  }</div>
<div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160; </div>
<div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;  <span class="keywordflow">if</span> (Salvaged)</div>
<div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160; </div>
<div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> *DII : DbgUsers)</div>
<div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;    DII-&gt;setKillLocation();</div>
<div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;}</div>
<div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160; </div>
<div class="line"><a name="l01944"></a><span class="lineno"><a class="line" href="Transforms_2Utils_2Local_8cpp.html#ac8f80dc3cde5edc23c338e1250408466"> 1944</a></span>&#160;<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="Transforms_2Utils_2Local_8cpp.html#ac8f80dc3cde5edc23c338e1250408466">getSalvageOpsForGEP</a>(<a class="code" href="classllvm_1_1GetElementPtrInst.html">GetElementPtrInst</a> *<a class="code" href="HexagonCommonGEP_8cpp.html#ad532e8710e50302e0a376b61c91fa91d">GEP</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>,</div>
<div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;                           <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> CurrentLocOps,</div>
<div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;                           <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;uint64_t&gt;</a> &amp;Opcodes,</div>
<div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;                           <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;Value *&gt;</a> &amp;AdditionalValues) {</div>
<div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> = <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>.getIndexSizeInBits(<a class="code" href="HexagonCommonGEP_8cpp.html#ad532e8710e50302e0a376b61c91fa91d">GEP</a>-&gt;getPointerAddressSpace());</div>
<div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;  <span class="comment">// Rewrite a GEP into a DIExpression.</span></div>
<div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;  <a class="code" href="classllvm_1_1MapVector.html">MapVector&lt;Value *, APInt&gt;</a> VariableOffsets;</div>
<div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> ConstantOffset(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>, 0);</div>
<div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="HexagonCommonGEP_8cpp.html#ad532e8710e50302e0a376b61c91fa91d">GEP</a>-&gt;collectOffset(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>, VariableOffsets, ConstantOffset))</div>
<div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160;  <span class="keywordflow">if</span> (!VariableOffsets.<a class="code" href="classllvm_1_1MapVector.html#a8da97c44f514ad1ae9ccf4518b0f88aa">empty</a>() &amp;&amp; !CurrentLocOps) {</div>
<div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160;    Opcodes.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a94d23373106467003722f7d6c17b1528">insert</a>(Opcodes.begin(), {dwarf::DW_OP_LLVM_arg, 0});</div>
<div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160;    CurrentLocOps = 1;</div>
<div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160;  }</div>
<div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> Offset : VariableOffsets) {</div>
<div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;    AdditionalValues.push_back(Offset.first);</div>
<div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Offset.second.isStrictlyPositive() &amp;&amp;</div>
<div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160;           <span class="stringliteral">&quot;Expected strictly positive multiplier for offset.&quot;</span>);</div>
<div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160;    Opcodes.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a7efd1f0c1206d95e4fe01a9b49a57b82">append</a>({<a class="code" href="namespacellvm_1_1dwarf.html#a78e9cb1527edb3cc1d1ee577257b5f0cadb24b626a6ff07a122e0df22e9857a3d">dwarf::DW_OP_LLVM_arg</a>, CurrentLocOps++, dwarf::DW_OP_constu,</div>
<div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160;                    Offset.second.getZExtValue(), dwarf::DW_OP_mul,</div>
<div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160;                    dwarf::DW_OP_plus});</div>
<div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160;  }</div>
<div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160;  <a class="code" href="classllvm_1_1DIExpression.html#a272fe723d8c234f2137d34621a5cef78">DIExpression::appendOffset</a>(Opcodes, ConstantOffset.<a class="code" href="classllvm_1_1APInt.html#af2daa0ee117afefed4c82eee55bf97b7">getSExtValue</a>());</div>
<div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="HexagonCommonGEP_8cpp.html#ad532e8710e50302e0a376b61c91fa91d">GEP</a>-&gt;getOperand(0);</div>
<div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;}</div>
<div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160; </div>
<div class="line"><a name="l01970"></a><span class="lineno"><a class="line" href="Transforms_2Utils_2Local_8cpp.html#a25a7c90efaafea9d737d727d5f13e520"> 1970</a></span>&#160;<a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> <a class="code" href="Transforms_2Utils_2Local_8cpp.html#a25a7c90efaafea9d737d727d5f13e520">getDwarfOpForBinOp</a>(<a class="code" href="classllvm_1_1Instruction.html#ac26154a24f393f523c87cc5f8239f36c">Instruction::BinaryOps</a> Opcode) {</div>
<div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160;  <span class="keywordflow">switch</span> (Opcode) {</div>
<div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a2b016c207343046b2bac45e69e76dcec">Instruction::Add</a>:</div>
<div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160;    <span class="keywordflow">return</span> dwarf::DW_OP_plus;</div>
<div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160;  <span class="keywordflow">case</span> Instruction::Sub:</div>
<div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;    <span class="keywordflow">return</span> dwarf::DW_OP_minus;</div>
<div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="X86PartialReduction_8cpp.html#ae0f503db91504a3f3440ab81260e4134">Instruction::Mul</a>:</div>
<div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;    <span class="keywordflow">return</span> dwarf::DW_OP_mul;</div>
<div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;  <span class="keywordflow">case</span> Instruction::SDiv:</div>
<div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;    <span class="keywordflow">return</span> dwarf::DW_OP_div;</div>
<div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;  <span class="keywordflow">case</span> Instruction::SRem:</div>
<div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;    <span class="keywordflow">return</span> dwarf::DW_OP_mod;</div>
<div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;  <span class="keywordflow">case</span> Instruction::Or:</div>
<div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160;    <span class="keywordflow">return</span> dwarf::DW_OP_or;</div>
<div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160;  <span class="keywordflow">case</span> Instruction::And:</div>
<div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;    <span class="keywordflow">return</span> dwarf::DW_OP_and;</div>
<div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;  <span class="keywordflow">case</span> Instruction::Xor:</div>
<div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;    <span class="keywordflow">return</span> dwarf::DW_OP_xor;</div>
<div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;  <span class="keywordflow">case</span> Instruction::Shl:</div>
<div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;    <span class="keywordflow">return</span> dwarf::DW_OP_shl;</div>
<div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;  <span class="keywordflow">case</span> Instruction::LShr:</div>
<div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;    <span class="keywordflow">return</span> dwarf::DW_OP_shr;</div>
<div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;  <span class="keywordflow">case</span> Instruction::AShr:</div>
<div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;    <span class="keywordflow">return</span> dwarf::DW_OP_shra;</div>
<div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;    <span class="comment">// TODO: Salvage from each kind of binop we know about.</span></div>
<div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;  }</div>
<div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;}</div>
<div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160; </div>
<div class="line"><a name="l02000"></a><span class="lineno"><a class="line" href="Transforms_2Utils_2Local_8cpp.html#a39477219114de75254017cf66a7a5fe6"> 2000</a></span>&#160;<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="Transforms_2Utils_2Local_8cpp.html#a39477219114de75254017cf66a7a5fe6">getSalvageOpsForBinOp</a>(<a class="code" href="classllvm_1_1BinaryOperator.html">BinaryOperator</a> *BI, <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> CurrentLocOps,</div>
<div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;                             <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;uint64_t&gt;</a> &amp;Opcodes,</div>
<div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;                             <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;Value *&gt;</a> &amp;AdditionalValues) {</div>
<div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;  <span class="comment">// Handle binary operations with constant integer operands as a special case.</span></div>
<div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;  <span class="keyword">auto</span> *ConstInt = dyn_cast&lt;ConstantInt&gt;(BI-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(1));</div>
<div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;  <span class="comment">// Values wider than 64 bits cannot be represented within a DIExpression.</span></div>
<div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;  <span class="keywordflow">if</span> (ConstInt &amp;&amp; ConstInt-&gt;getBitWidth() &gt; 64)</div>
<div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160; </div>
<div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;  <a class="code" href="classllvm_1_1Instruction.html#ac26154a24f393f523c87cc5f8239f36c">Instruction::BinaryOps</a> BinOpcode = BI-&gt;<a class="code" href="classllvm_1_1BinaryOperator.html#a31bf07f3f61525486633bc1d0bbaf029">getOpcode</a>();</div>
<div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;  <span class="comment">// Push any Constant Int operand onto the expression stack.</span></div>
<div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;  <span class="keywordflow">if</span> (ConstInt) {</div>
<div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;    <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> Val = ConstInt-&gt;<a class="code" href="classllvm_1_1APInt.html#af2daa0ee117afefed4c82eee55bf97b7">getSExtValue</a>();</div>
<div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;    <span class="comment">// Add or Sub Instructions with a constant operand can potentially be</span></div>
<div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160;    <span class="comment">// simplified.</span></div>
<div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;    <span class="keywordflow">if</span> (BinOpcode == <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a2b016c207343046b2bac45e69e76dcec">Instruction::Add</a> || BinOpcode == Instruction::Sub) {</div>
<div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;      <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> Offset = BinOpcode == <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a2b016c207343046b2bac45e69e76dcec">Instruction::Add</a> ? Val : -int64_t(Val);</div>
<div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;      <a class="code" href="classllvm_1_1DIExpression.html#a272fe723d8c234f2137d34621a5cef78">DIExpression::appendOffset</a>(Opcodes, Offset);</div>
<div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160;      <span class="keywordflow">return</span> BI-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(0);</div>
<div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;    }</div>
<div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;    Opcodes.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a7efd1f0c1206d95e4fe01a9b49a57b82">append</a>({dwarf::DW_OP_constu, Val});</div>
<div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160;    <span class="keywordflow">if</span> (!CurrentLocOps) {</div>
<div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160;      Opcodes.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a7efd1f0c1206d95e4fe01a9b49a57b82">append</a>({<a class="code" href="namespacellvm_1_1dwarf.html#a78e9cb1527edb3cc1d1ee577257b5f0cadb24b626a6ff07a122e0df22e9857a3d">dwarf::DW_OP_LLVM_arg</a>, 0});</div>
<div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160;      CurrentLocOps = 1;</div>
<div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160;    }</div>
<div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160;    Opcodes.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a7efd1f0c1206d95e4fe01a9b49a57b82">append</a>({<a class="code" href="namespacellvm_1_1dwarf.html#a78e9cb1527edb3cc1d1ee577257b5f0cadb24b626a6ff07a122e0df22e9857a3d">dwarf::DW_OP_LLVM_arg</a>, CurrentLocOps});</div>
<div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;    AdditionalValues.push_back(BI-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(1));</div>
<div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160;  }</div>
<div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160; </div>
<div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160;  <span class="comment">// Add salvaged binary operator to expression stack, if it has a valid</span></div>
<div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160;  <span class="comment">// representation in a DIExpression.</span></div>
<div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;  <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> DwarfBinOp = <a class="code" href="Transforms_2Utils_2Local_8cpp.html#a25a7c90efaafea9d737d727d5f13e520">getDwarfOpForBinOp</a>(BinOpcode);</div>
<div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160;  <span class="keywordflow">if</span> (!DwarfBinOp)</div>
<div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;  Opcodes.push_back(DwarfBinOp);</div>
<div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160;  <span class="keywordflow">return</span> BI-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(0);</div>
<div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160;}</div>
<div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160; </div>
<div class="line"><a name="l02039"></a><span class="lineno"><a class="line" href="namespacellvm.html#a99356c6b92999b95181b5d79c03868ee"> 2039</a></span>&#160;<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#a99356c6b92999b95181b5d79c03868ee">llvm::salvageDebugInfoImpl</a>(<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> CurrentLocOps,</div>
<div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160;                                  <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;uint64_t&gt;</a> &amp;Ops,</div>
<div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160;                                  <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;Value *&gt;</a> &amp;AdditionalValues) {</div>
<div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160;  <span class="keyword">auto</span> &amp;<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a> = *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getModule();</div>
<div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160;  <span class="keyword">auto</span> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a> = <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getDataLayout();</div>
<div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160; </div>
<div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *CI = dyn_cast&lt;CastInst&gt;(&amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)) {</div>
<div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *FromValue = CI-&gt;getOperand(0);</div>
<div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160;    <span class="comment">// No-op casts are irrelevant for debug info.</span></div>
<div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160;    <span class="keywordflow">if</span> (CI-&gt;isNoopCast(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>)) {</div>
<div class="line"><a name="l02049"></a><span class="lineno"> 2049</span>&#160;      <span class="keywordflow">return</span> FromValue;</div>
<div class="line"><a name="l02050"></a><span class="lineno"> 2050</span>&#160;    }</div>
<div class="line"><a name="l02051"></a><span class="lineno"> 2051</span>&#160; </div>
<div class="line"><a name="l02052"></a><span class="lineno"> 2052</span>&#160;    <a class="code" href="classllvm_1_1Type.html">Type</a> *<a class="code" href="classllvm_1_1Type.html">Type</a> = CI-&gt;getType();</div>
<div class="line"><a name="l02053"></a><span class="lineno"> 2053</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Type.html">Type</a>-&gt;<a class="code" href="classllvm_1_1Type.html#a3b996fbf8458aafffc86cb98a68d0a47">isPointerTy</a>())</div>
<div class="line"><a name="l02054"></a><span class="lineno"> 2054</span>&#160;      <a class="code" href="classllvm_1_1Type.html">Type</a> = <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>.getIntPtrType(<a class="code" href="classllvm_1_1Type.html">Type</a>);</div>
<div class="line"><a name="l02055"></a><span class="lineno"> 2055</span>&#160;    <span class="comment">// Casts other than Trunc, SExt, or ZExt to scalar types cannot be salvaged.</span></div>
<div class="line"><a name="l02056"></a><span class="lineno"> 2056</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Type.html">Type</a>-&gt;<a class="code" href="classllvm_1_1Type.html#a1bc022868b23918efa44df511f4d5b61">isVectorTy</a>() ||</div>
<div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160;        !(isa&lt;TruncInst&gt;(&amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) || isa&lt;SExtInst&gt;(&amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) || isa&lt;ZExtInst&gt;(&amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) ||</div>
<div class="line"><a name="l02058"></a><span class="lineno"> 2058</span>&#160;          isa&lt;IntToPtrInst&gt;(&amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) || isa&lt;PtrToIntInst&gt;(&amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)))</div>
<div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02060"></a><span class="lineno"> 2060</span>&#160; </div>
<div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160;    <a class="code" href="classllvm_1_1Type.html">llvm::Type</a> *<a class="code" href="namespacellvm_1_1NVPTX_1_1PTXLdStInstCode.html#a0c4e2aa2235abdd10d2beffa32cd9b14">FromType</a> = FromValue-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>();</div>
<div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1NVPTX_1_1PTXLdStInstCode.html#a0c4e2aa2235abdd10d2beffa32cd9b14">FromType</a>-&gt;isPointerTy())</div>
<div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160;      <a class="code" href="namespacellvm_1_1NVPTX_1_1PTXLdStInstCode.html#a0c4e2aa2235abdd10d2beffa32cd9b14">FromType</a> = <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>.getIntPtrType(<a class="code" href="namespacellvm_1_1NVPTX_1_1PTXLdStInstCode.html#a0c4e2aa2235abdd10d2beffa32cd9b14">FromType</a>);</div>
<div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160; </div>
<div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160;    <span class="keywordtype">unsigned</span> FromTypeBitSize = <a class="code" href="namespacellvm_1_1NVPTX_1_1PTXLdStInstCode.html#a0c4e2aa2235abdd10d2beffa32cd9b14">FromType</a>-&gt;getScalarSizeInBits();</div>
<div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160;    <span class="keywordtype">unsigned</span> ToTypeBitSize = <a class="code" href="classllvm_1_1Type.html">Type</a>-&gt;<a class="code" href="classllvm_1_1Type.html#a9f382207d841377156d4c7868b66b9a5">getScalarSizeInBits</a>();</div>
<div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160; </div>
<div class="line"><a name="l02068"></a><span class="lineno"> 2068</span>&#160;    <span class="keyword">auto</span> ExtOps = <a class="code" href="classllvm_1_1DIExpression.html#a21411e047f9e3a5a7557b7b14982a04b">DIExpression::getExtOps</a>(FromTypeBitSize, ToTypeBitSize,</div>
<div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160;                                          isa&lt;SExtInst&gt;(&amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>));</div>
<div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160;    Ops.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a7efd1f0c1206d95e4fe01a9b49a57b82">append</a>(ExtOps.begin(), ExtOps.end());</div>
<div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160;    <span class="keywordflow">return</span> FromValue;</div>
<div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160;  }</div>
<div class="line"><a name="l02073"></a><span class="lineno"> 2073</span>&#160; </div>
<div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *<a class="code" href="HexagonCommonGEP_8cpp.html#ad532e8710e50302e0a376b61c91fa91d">GEP</a> = dyn_cast&lt;GetElementPtrInst&gt;(&amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>))</div>
<div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="Transforms_2Utils_2Local_8cpp.html#ac8f80dc3cde5edc23c338e1250408466">getSalvageOpsForGEP</a>(<a class="code" href="HexagonCommonGEP_8cpp.html#ad532e8710e50302e0a376b61c91fa91d">GEP</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, CurrentLocOps, Ops, AdditionalValues);</div>
<div class="line"><a name="l02076"></a><span class="lineno"> 2076</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *BI = dyn_cast&lt;BinaryOperator&gt;(&amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>))</div>
<div class="line"><a name="l02077"></a><span class="lineno"> 2077</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="Transforms_2Utils_2Local_8cpp.html#a39477219114de75254017cf66a7a5fe6">getSalvageOpsForBinOp</a>(BI, CurrentLocOps, Ops, AdditionalValues);</div>
<div class="line"><a name="l02078"></a><span class="lineno"> 2078</span>&#160; </div>
<div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160;  <span class="comment">// *Not* to do: we should not attempt to salvage load instructions,</span></div>
<div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160;  <span class="comment">// because the validity and lifetime of a dbg.value containing</span></div>
<div class="line"><a name="l02081"></a><span class="lineno"> 2081</span>&#160;  <span class="comment">// DW_OP_deref becomes difficult to analyze. See PR40628 for examples.</span></div>
<div class="line"><a name="l02082"></a><span class="lineno"> 2082</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160;}</div>
<div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l02085"></a><span class="lineno"> 2085</span>&#160;<span class="comment">/// A replacement for a dbg.value expression.</span></div>
<div class="line"><a name="l02086"></a><span class="lineno"><a class="line" href="Transforms_2Utils_2Local_8cpp.html#a4f3243057e017aad4e091381fa3d9d10"> 2086</a></span>&#160;<span class="comment"></span><span class="keyword">using</span> <a class="code" href="Transforms_2Utils_2Local_8cpp.html#a4f3243057e017aad4e091381fa3d9d10">DbgValReplacement</a> = std::optional&lt;DIExpression *&gt;;</div>
<div class="line"><a name="l02087"></a><span class="lineno"> 2087</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l02088"></a><span class="lineno"> 2088</span>&#160;<span class="comment">/// Point debug users of \p From to \p To using exprs given by \p RewriteExpr,</span></div>
<div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160;<span class="comment">/// possibly moving/undefing users to prevent use-before-def. Returns true if</span></div>
<div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160;<span class="comment">/// changes are made.</span></div>
<div class="line"><a name="l02091"></a><span class="lineno"><a class="line" href="Transforms_2Utils_2Local_8cpp.html#af7bc0edcc3fb07e2c9db6cac53c72bcf"> 2091</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="Transforms_2Utils_2Local_8cpp.html#af7bc0edcc3fb07e2c9db6cac53c72bcf">rewriteDebugUsers</a>(</div>
<div class="line"><a name="l02092"></a><span class="lineno"> 2092</span>&#160;    <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> &amp;<a class="code" href="BlockVerifier_8cpp.html#ae45c7d73c0ff5d177b59153ffae77f84">From</a>, <a class="code" href="classllvm_1_1Value.html">Value</a> &amp;To, <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> &amp;DomPoint, <a class="code" href="classllvm_1_1DominatorTree.html">DominatorTree</a> &amp;DT,</div>
<div class="line"><a name="l02093"></a><span class="lineno"> 2093</span>&#160;    <a class="code" href="classllvm_1_1function__ref.html">function_ref</a>&lt;<a class="code" href="Transforms_2Utils_2Local_8cpp.html#a4f3243057e017aad4e091381fa3d9d10">DbgValReplacement</a>(<a class="code" href="classllvm_1_1DbgVariableIntrinsic.html">DbgVariableIntrinsic</a> &amp;DII)&gt; RewriteExpr) {</div>
<div class="line"><a name="l02094"></a><span class="lineno"> 2094</span>&#160;  <span class="comment">// Find debug users of From.</span></div>
<div class="line"><a name="l02095"></a><span class="lineno"> 2095</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;DbgVariableIntrinsic *, 1&gt;</a> <a class="code" href="IVUsers_8cpp.html#a4e5b9edb51eec9dbca592075eb64dfcb">Users</a>;</div>
<div class="line"><a name="l02096"></a><span class="lineno"> 2096</span>&#160;  <a class="code" href="namespacellvm.html#a683448397460b5b16e0d9016fd7a273a">findDbgUsers</a>(<a class="code" href="IVUsers_8cpp.html#a4e5b9edb51eec9dbca592075eb64dfcb">Users</a>, &amp;<a class="code" href="BlockVerifier_8cpp.html#ae45c7d73c0ff5d177b59153ffae77f84">From</a>);</div>
<div class="line"><a name="l02097"></a><span class="lineno"> 2097</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="IVUsers_8cpp.html#a4e5b9edb51eec9dbca592075eb64dfcb">Users</a>.empty())</div>
<div class="line"><a name="l02098"></a><span class="lineno"> 2098</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02099"></a><span class="lineno"> 2099</span>&#160; </div>
<div class="line"><a name="l02100"></a><span class="lineno"> 2100</span>&#160;  <span class="comment">// Prevent use-before-def of To.</span></div>
<div class="line"><a name="l02101"></a><span class="lineno"> 2101</span>&#160;  <span class="keywordtype">bool</span> Changed = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160;  <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;DbgVariableIntrinsic *, 1&gt;</a> UndefOrSalvage;</div>
<div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160;  <span class="keywordflow">if</span> (isa&lt;Instruction&gt;(&amp;To)) {</div>
<div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160;    <span class="keywordtype">bool</span> DomPointAfterFrom = <a class="code" href="BlockVerifier_8cpp.html#ae45c7d73c0ff5d177b59153ffae77f84">From</a>.getNextNonDebugInstruction() == &amp;DomPoint;</div>
<div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160; </div>
<div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> *DII : <a class="code" href="IVUsers_8cpp.html#a4e5b9edb51eec9dbca592075eb64dfcb">Users</a>) {</div>
<div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160;      <span class="comment">// It&#39;s common to see a debug user between From and DomPoint. Move it</span></div>
<div class="line"><a name="l02108"></a><span class="lineno"> 2108</span>&#160;      <span class="comment">// after DomPoint to preserve the variable update without any reordering.</span></div>
<div class="line"><a name="l02109"></a><span class="lineno"> 2109</span>&#160;      <span class="keywordflow">if</span> (DomPointAfterFrom &amp;&amp; DII-&gt;<a class="code" href="classllvm_1_1Instruction.html#a91bd28adea418a08cec78b72413d9d45">getNextNonDebugInstruction</a>() == &amp;DomPoint) {</div>
<div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160;        <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;MOVE:  &quot;</span> &lt;&lt; *DII &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160;        DII-&gt;<a class="code" href="classllvm_1_1Instruction.html#a54507f01d7d06127068ee0663233511d">moveAfter</a>(&amp;DomPoint);</div>
<div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160;        Changed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160; </div>
<div class="line"><a name="l02114"></a><span class="lineno"> 2114</span>&#160;      <span class="comment">// Users which otherwise aren&#39;t dominated by the replacement value must</span></div>
<div class="line"><a name="l02115"></a><span class="lineno"> 2115</span>&#160;      <span class="comment">// be salvaged or deleted.</span></div>
<div class="line"><a name="l02116"></a><span class="lineno"> 2116</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!DT.<a class="code" href="classllvm_1_1DominatorTree.html#a5c69311e8d44898dac36a155c3d8691d">dominates</a>(&amp;DomPoint, DII)) {</div>
<div class="line"><a name="l02117"></a><span class="lineno"> 2117</span>&#160;        UndefOrSalvage.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">insert</a>(DII);</div>
<div class="line"><a name="l02118"></a><span class="lineno"> 2118</span>&#160;      }</div>
<div class="line"><a name="l02119"></a><span class="lineno"> 2119</span>&#160;    }</div>
<div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160;  }</div>
<div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160; </div>
<div class="line"><a name="l02122"></a><span class="lineno"> 2122</span>&#160;  <span class="comment">// Update debug users without use-before-def risk.</span></div>
<div class="line"><a name="l02123"></a><span class="lineno"> 2123</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> *DII : <a class="code" href="IVUsers_8cpp.html#a4e5b9edb51eec9dbca592075eb64dfcb">Users</a>) {</div>
<div class="line"><a name="l02124"></a><span class="lineno"> 2124</span>&#160;    <span class="keywordflow">if</span> (UndefOrSalvage.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a1f475b0df44ebd7169e720fa1bf9169e">count</a>(DII))</div>
<div class="line"><a name="l02125"></a><span class="lineno"> 2125</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02126"></a><span class="lineno"> 2126</span>&#160; </div>
<div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160;    <a class="code" href="Transforms_2Utils_2Local_8cpp.html#a4f3243057e017aad4e091381fa3d9d10">DbgValReplacement</a> DVR = RewriteExpr(*DII);</div>
<div class="line"><a name="l02128"></a><span class="lineno"> 2128</span>&#160;    <span class="keywordflow">if</span> (!DVR)</div>
<div class="line"><a name="l02129"></a><span class="lineno"> 2129</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02130"></a><span class="lineno"> 2130</span>&#160; </div>
<div class="line"><a name="l02131"></a><span class="lineno"> 2131</span>&#160;    DII-&gt;<a class="code" href="classllvm_1_1DbgVariableIntrinsic.html#a212fcbee3e65ec41eebed2525fc15207">replaceVariableLocationOp</a>(&amp;<a class="code" href="BlockVerifier_8cpp.html#ae45c7d73c0ff5d177b59153ffae77f84">From</a>, &amp;To);</div>
<div class="line"><a name="l02132"></a><span class="lineno"> 2132</span>&#160;    DII-&gt;<a class="code" href="classllvm_1_1DbgVariableIntrinsic.html#a71808acf992f787300ec18d5700f09cc">setExpression</a>(*DVR);</div>
<div class="line"><a name="l02133"></a><span class="lineno"> 2133</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;REWRITE:  &quot;</span> &lt;&lt; *DII &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"><a name="l02134"></a><span class="lineno"> 2134</span>&#160;    Changed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02135"></a><span class="lineno"> 2135</span>&#160;  }</div>
<div class="line"><a name="l02136"></a><span class="lineno"> 2136</span>&#160; </div>
<div class="line"><a name="l02137"></a><span class="lineno"> 2137</span>&#160;  <span class="keywordflow">if</span> (!UndefOrSalvage.<a class="code" href="classllvm_1_1SmallPtrSetImplBase.html#af8a50544090e81ac83601aff8f4b0142">empty</a>()) {</div>
<div class="line"><a name="l02138"></a><span class="lineno"> 2138</span>&#160;    <span class="comment">// Try to salvage the remaining debug users.</span></div>
<div class="line"><a name="l02139"></a><span class="lineno"> 2139</span>&#160;    <a class="code" href="namespacellvm.html#a26be1141b23850a2b4eb78021d99e862">salvageDebugInfo</a>(<a class="code" href="BlockVerifier_8cpp.html#ae45c7d73c0ff5d177b59153ffae77f84">From</a>);</div>
<div class="line"><a name="l02140"></a><span class="lineno"> 2140</span>&#160;    Changed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02141"></a><span class="lineno"> 2141</span>&#160;  }</div>
<div class="line"><a name="l02142"></a><span class="lineno"> 2142</span>&#160; </div>
<div class="line"><a name="l02143"></a><span class="lineno"> 2143</span>&#160;  <span class="keywordflow">return</span> Changed;</div>
<div class="line"><a name="l02144"></a><span class="lineno"> 2144</span>&#160;}</div>
<div class="line"><a name="l02145"></a><span class="lineno"> 2145</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l02146"></a><span class="lineno"> 2146</span>&#160;<span class="comment">/// Check if a bitcast between a value of type \p FromTy to type \p ToTy would</span></div>
<div class="line"><a name="l02147"></a><span class="lineno"> 2147</span>&#160;<span class="comment">/// losslessly preserve the bits and semantics of the value. This predicate is</span></div>
<div class="line"><a name="l02148"></a><span class="lineno"> 2148</span>&#160;<span class="comment">/// symmetric, i.e swapping \p FromTy and \p ToTy should give the same result.</span></div>
<div class="line"><a name="l02149"></a><span class="lineno"> 2149</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l02150"></a><span class="lineno"> 2150</span>&#160;<span class="comment">/// Note that Type::canLosslesslyBitCastTo is not suitable here because it</span></div>
<div class="line"><a name="l02151"></a><span class="lineno"> 2151</span>&#160;<span class="comment">/// allows semantically unequivalent bitcasts, such as &lt;2 x i64&gt; -&gt; &lt;4 x i32&gt;,</span></div>
<div class="line"><a name="l02152"></a><span class="lineno"> 2152</span>&#160;<span class="comment">/// and also does not allow lossless pointer &lt;-&gt; integer conversions.</span></div>
<div class="line"><a name="l02153"></a><span class="lineno"><a class="line" href="Transforms_2Utils_2Local_8cpp.html#a1484fd35d5f2401ee532e8aea2aba44c"> 2153</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="Transforms_2Utils_2Local_8cpp.html#a1484fd35d5f2401ee532e8aea2aba44c">isBitCastSemanticsPreserving</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="classllvm_1_1Type.html">Type</a> *FromTy,</div>
<div class="line"><a name="l02154"></a><span class="lineno"> 2154</span>&#160;                                         <a class="code" href="classllvm_1_1Type.html">Type</a> *ToTy) {</div>
<div class="line"><a name="l02155"></a><span class="lineno"> 2155</span>&#160;  <span class="comment">// Trivially compatible types.</span></div>
<div class="line"><a name="l02156"></a><span class="lineno"> 2156</span>&#160;  <span class="keywordflow">if</span> (FromTy == ToTy)</div>
<div class="line"><a name="l02157"></a><span class="lineno"> 2157</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02158"></a><span class="lineno"> 2158</span>&#160; </div>
<div class="line"><a name="l02159"></a><span class="lineno"> 2159</span>&#160;  <span class="comment">// Handle compatible pointer &lt;-&gt; integer conversions.</span></div>
<div class="line"><a name="l02160"></a><span class="lineno"> 2160</span>&#160;  <span class="keywordflow">if</span> (FromTy-&gt;<a class="code" href="classllvm_1_1Type.html#abf313eff420b7c6c8e322a2e9c53cd90">isIntOrPtrTy</a>() &amp;&amp; ToTy-&gt;<a class="code" href="classllvm_1_1Type.html#abf313eff420b7c6c8e322a2e9c53cd90">isIntOrPtrTy</a>()) {</div>
<div class="line"><a name="l02161"></a><span class="lineno"> 2161</span>&#160;    <span class="keywordtype">bool</span> SameSize = <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>.getTypeSizeInBits(FromTy) == <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>.getTypeSizeInBits(ToTy);</div>
<div class="line"><a name="l02162"></a><span class="lineno"> 2162</span>&#160;    <span class="keywordtype">bool</span> LosslessConversion = !<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>.isNonIntegralPointerType(FromTy) &amp;&amp;</div>
<div class="line"><a name="l02163"></a><span class="lineno"> 2163</span>&#160;                              !<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>.isNonIntegralPointerType(ToTy);</div>
<div class="line"><a name="l02164"></a><span class="lineno"> 2164</span>&#160;    <span class="keywordflow">return</span> SameSize &amp;&amp; LosslessConversion;</div>
<div class="line"><a name="l02165"></a><span class="lineno"> 2165</span>&#160;  }</div>
<div class="line"><a name="l02166"></a><span class="lineno"> 2166</span>&#160; </div>
<div class="line"><a name="l02167"></a><span class="lineno"> 2167</span>&#160;  <span class="comment">// TODO: This is not exhaustive.</span></div>
<div class="line"><a name="l02168"></a><span class="lineno"> 2168</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02169"></a><span class="lineno"> 2169</span>&#160;}</div>
<div class="line"><a name="l02170"></a><span class="lineno"> 2170</span>&#160; </div>
<div class="line"><a name="l02171"></a><span class="lineno"><a class="line" href="namespacellvm.html#a9784a018b2dd6a85ee8a70f5f5ab3d02"> 2171</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="namespacellvm.html#a9784a018b2dd6a85ee8a70f5f5ab3d02">llvm::replaceAllDbgUsesWith</a>(<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> &amp;<a class="code" href="BlockVerifier_8cpp.html#ae45c7d73c0ff5d177b59153ffae77f84">From</a>, <a class="code" href="classllvm_1_1Value.html">Value</a> &amp;To,</div>
<div class="line"><a name="l02172"></a><span class="lineno"> 2172</span>&#160;                                 <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> &amp;DomPoint, <a class="code" href="classllvm_1_1DominatorTree.html">DominatorTree</a> &amp;DT) {</div>
<div class="line"><a name="l02173"></a><span class="lineno"> 2173</span>&#160;  <span class="comment">// Exit early if From has no debug users.</span></div>
<div class="line"><a name="l02174"></a><span class="lineno"> 2174</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="BlockVerifier_8cpp.html#ae45c7d73c0ff5d177b59153ffae77f84">From</a>.isUsedByMetadata())</div>
<div class="line"><a name="l02175"></a><span class="lineno"> 2175</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02176"></a><span class="lineno"> 2176</span>&#160; </div>
<div class="line"><a name="l02177"></a><span class="lineno"> 2177</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(&amp;<a class="code" href="BlockVerifier_8cpp.html#ae45c7d73c0ff5d177b59153ffae77f84">From</a> != &amp;To &amp;&amp; <span class="stringliteral">&quot;Can&#39;t replace something with itself&quot;</span>);</div>
<div class="line"><a name="l02178"></a><span class="lineno"> 2178</span>&#160; </div>
<div class="line"><a name="l02179"></a><span class="lineno"> 2179</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *FromTy = <a class="code" href="BlockVerifier_8cpp.html#ae45c7d73c0ff5d177b59153ffae77f84">From</a>.getType();</div>
<div class="line"><a name="l02180"></a><span class="lineno"> 2180</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *ToTy = To.<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>();</div>
<div class="line"><a name="l02181"></a><span class="lineno"> 2181</span>&#160; </div>
<div class="line"><a name="l02182"></a><span class="lineno"> 2182</span>&#160;  <span class="keyword">auto</span> Identity = [&amp;](<a class="code" href="classllvm_1_1DbgVariableIntrinsic.html">DbgVariableIntrinsic</a> &amp;DII) -&gt; <a class="code" href="Transforms_2Utils_2Local_8cpp.html#a4f3243057e017aad4e091381fa3d9d10">DbgValReplacement</a> {</div>
<div class="line"><a name="l02183"></a><span class="lineno"> 2183</span>&#160;    <span class="keywordflow">return</span> DII.getExpression();</div>
<div class="line"><a name="l02184"></a><span class="lineno"> 2184</span>&#160;  };</div>
<div class="line"><a name="l02185"></a><span class="lineno"> 2185</span>&#160; </div>
<div class="line"><a name="l02186"></a><span class="lineno"> 2186</span>&#160;  <span class="comment">// Handle no-op conversions.</span></div>
<div class="line"><a name="l02187"></a><span class="lineno"> 2187</span>&#160;  <a class="code" href="classllvm_1_1Module.html">Module</a> &amp;<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a> = *<a class="code" href="BlockVerifier_8cpp.html#ae45c7d73c0ff5d177b59153ffae77f84">From</a>.getModule();</div>
<div class="line"><a name="l02188"></a><span class="lineno"> 2188</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a> = <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getDataLayout();</div>
<div class="line"><a name="l02189"></a><span class="lineno"> 2189</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="Transforms_2Utils_2Local_8cpp.html#a1484fd35d5f2401ee532e8aea2aba44c">isBitCastSemanticsPreserving</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, FromTy, ToTy))</div>
<div class="line"><a name="l02190"></a><span class="lineno"> 2190</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="Transforms_2Utils_2Local_8cpp.html#af7bc0edcc3fb07e2c9db6cac53c72bcf">rewriteDebugUsers</a>(<a class="code" href="BlockVerifier_8cpp.html#ae45c7d73c0ff5d177b59153ffae77f84">From</a>, To, DomPoint, DT, Identity);</div>
<div class="line"><a name="l02191"></a><span class="lineno"> 2191</span>&#160; </div>
<div class="line"><a name="l02192"></a><span class="lineno"> 2192</span>&#160;  <span class="comment">// Handle integer-to-integer widening and narrowing.</span></div>
<div class="line"><a name="l02193"></a><span class="lineno"> 2193</span>&#160;  <span class="comment">// FIXME: Use DW_OP_convert when it&#39;s available everywhere.</span></div>
<div class="line"><a name="l02194"></a><span class="lineno"> 2194</span>&#160;  <span class="keywordflow">if</span> (FromTy-&gt;<a class="code" href="classllvm_1_1Type.html#ac6d28a9b11139182134a9618028a0d07">isIntegerTy</a>() &amp;&amp; ToTy-&gt;<a class="code" href="classllvm_1_1Type.html#ac6d28a9b11139182134a9618028a0d07">isIntegerTy</a>()) {</div>
<div class="line"><a name="l02195"></a><span class="lineno"> 2195</span>&#160;    <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> FromBits = FromTy-&gt;<a class="code" href="classllvm_1_1Type.html#a833daf718a49c5cd637d8c9ddeaebe07">getPrimitiveSizeInBits</a>();</div>
<div class="line"><a name="l02196"></a><span class="lineno"> 2196</span>&#160;    <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> ToBits = ToTy-&gt;<a class="code" href="classllvm_1_1Type.html#a833daf718a49c5cd637d8c9ddeaebe07">getPrimitiveSizeInBits</a>();</div>
<div class="line"><a name="l02197"></a><span class="lineno"> 2197</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(FromBits != ToBits &amp;&amp; <span class="stringliteral">&quot;Unexpected no-op conversion&quot;</span>);</div>
<div class="line"><a name="l02198"></a><span class="lineno"> 2198</span>&#160; </div>
<div class="line"><a name="l02199"></a><span class="lineno"> 2199</span>&#160;    <span class="comment">// When the width of the result grows, assume that a debugger will only</span></div>
<div class="line"><a name="l02200"></a><span class="lineno"> 2200</span>&#160;    <span class="comment">// access the low `FromBits` bits when inspecting the source variable.</span></div>
<div class="line"><a name="l02201"></a><span class="lineno"> 2201</span>&#160;    <span class="keywordflow">if</span> (FromBits &lt; ToBits)</div>
<div class="line"><a name="l02202"></a><span class="lineno"> 2202</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="Transforms_2Utils_2Local_8cpp.html#af7bc0edcc3fb07e2c9db6cac53c72bcf">rewriteDebugUsers</a>(<a class="code" href="BlockVerifier_8cpp.html#ae45c7d73c0ff5d177b59153ffae77f84">From</a>, To, DomPoint, DT, Identity);</div>
<div class="line"><a name="l02203"></a><span class="lineno"> 2203</span>&#160; </div>
<div class="line"><a name="l02204"></a><span class="lineno"> 2204</span>&#160;    <span class="comment">// The width of the result has shrunk. Use sign/zero extension to describe</span></div>
<div class="line"><a name="l02205"></a><span class="lineno"> 2205</span>&#160;    <span class="comment">// the source variable&#39;s high bits.</span></div>
<div class="line"><a name="l02206"></a><span class="lineno"> 2206</span>&#160;    <span class="keyword">auto</span> SignOrZeroExt = [&amp;](<a class="code" href="classllvm_1_1DbgVariableIntrinsic.html">DbgVariableIntrinsic</a> &amp;DII) -&gt; <a class="code" href="Transforms_2Utils_2Local_8cpp.html#a4f3243057e017aad4e091381fa3d9d10">DbgValReplacement</a> {</div>
<div class="line"><a name="l02207"></a><span class="lineno"> 2207</span>&#160;      <a class="code" href="classllvm_1_1DILocalVariable.html">DILocalVariable</a> *Var = DII.getVariable();</div>
<div class="line"><a name="l02208"></a><span class="lineno"> 2208</span>&#160; </div>
<div class="line"><a name="l02209"></a><span class="lineno"> 2209</span>&#160;      <span class="comment">// Without knowing signedness, sign/zero extension isn&#39;t possible.</span></div>
<div class="line"><a name="l02210"></a><span class="lineno"> 2210</span>&#160;      <span class="keyword">auto</span> Signedness = Var-&gt;<a class="code" href="classllvm_1_1DIVariable.html#a04a71a1d084db8fe394121e059f0b774">getSignedness</a>();</div>
<div class="line"><a name="l02211"></a><span class="lineno"> 2211</span>&#160;      <span class="keywordflow">if</span> (!Signedness)</div>
<div class="line"><a name="l02212"></a><span class="lineno"> 2212</span>&#160;        <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l02213"></a><span class="lineno"> 2213</span>&#160; </div>
<div class="line"><a name="l02214"></a><span class="lineno"> 2214</span>&#160;      <span class="keywordtype">bool</span> <a class="code" href="NVPTXISelLowering_8cpp.html#ae1a90b5d85643644483b2ca70da4d13faed3fa7a5efe80dad3ea3d86cc14be246">Signed</a> = *Signedness == <a class="code" href="classllvm_1_1DIBasicType.html#a60f94cc0e71193b01ca24ef37de9845aa71fed0c3428bf1a2e19af257c4bac379">DIBasicType::Signedness::Signed</a>;</div>
<div class="line"><a name="l02215"></a><span class="lineno"> 2215</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1DIExpression.html#ac687b806c1ee6f3e560b206de208a7e3">DIExpression::appendExt</a>(DII.getExpression(), ToBits, FromBits,</div>
<div class="line"><a name="l02216"></a><span class="lineno"> 2216</span>&#160;                                     <a class="code" href="NVPTXISelLowering_8cpp.html#ae1a90b5d85643644483b2ca70da4d13faed3fa7a5efe80dad3ea3d86cc14be246">Signed</a>);</div>
<div class="line"><a name="l02217"></a><span class="lineno"> 2217</span>&#160;    };</div>
<div class="line"><a name="l02218"></a><span class="lineno"> 2218</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="Transforms_2Utils_2Local_8cpp.html#af7bc0edcc3fb07e2c9db6cac53c72bcf">rewriteDebugUsers</a>(<a class="code" href="BlockVerifier_8cpp.html#ae45c7d73c0ff5d177b59153ffae77f84">From</a>, To, DomPoint, DT, SignOrZeroExt);</div>
<div class="line"><a name="l02219"></a><span class="lineno"> 2219</span>&#160;  }</div>
<div class="line"><a name="l02220"></a><span class="lineno"> 2220</span>&#160; </div>
<div class="line"><a name="l02221"></a><span class="lineno"> 2221</span>&#160;  <span class="comment">// TODO: Floating-point conversions, vectors.</span></div>
<div class="line"><a name="l02222"></a><span class="lineno"> 2222</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02223"></a><span class="lineno"> 2223</span>&#160;}</div>
<div class="line"><a name="l02224"></a><span class="lineno"> 2224</span>&#160; </div>
<div class="line"><a name="l02225"></a><span class="lineno"> 2225</span>&#160;std::pair&lt;unsigned, unsigned&gt;</div>
<div class="line"><a name="l02226"></a><span class="lineno"><a class="line" href="namespacellvm.html#a1c9e22b633ee4e0727bba3c87db57296"> 2226</a></span>&#160;<a class="code" href="namespacellvm.html#a1c9e22b633ee4e0727bba3c87db57296">llvm::removeAllNonTerminatorAndEHPadInstructions</a>(<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>) {</div>
<div class="line"><a name="l02227"></a><span class="lineno"> 2227</span>&#160;  <span class="keywordtype">unsigned</span> NumDeadInst = 0;</div>
<div class="line"><a name="l02228"></a><span class="lineno"> 2228</span>&#160;  <span class="keywordtype">unsigned</span> NumDeadDbgInst = 0;</div>
<div class="line"><a name="l02229"></a><span class="lineno"> 2229</span>&#160;  <span class="comment">// Delete the instructions backwards, as it has a reduced likelihood of</span></div>
<div class="line"><a name="l02230"></a><span class="lineno"> 2230</span>&#160;  <span class="comment">// having to update as many def-use and use-def chains.</span></div>
<div class="line"><a name="l02231"></a><span class="lineno"> 2231</span>&#160;  <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *EndInst = <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>-&gt;getTerminator(); <span class="comment">// Last not to be deleted.</span></div>
<div class="line"><a name="l02232"></a><span class="lineno"> 2232</span>&#160;  <span class="keywordflow">while</span> (EndInst != &amp;<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>-&gt;front()) {</div>
<div class="line"><a name="l02233"></a><span class="lineno"> 2233</span>&#160;    <span class="comment">// Delete the next to last instruction.</span></div>
<div class="line"><a name="l02234"></a><span class="lineno"> 2234</span>&#160;    <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *Inst = &amp;*--EndInst-&gt;<a class="code" href="classllvm_1_1ilist__node__impl.html#af719fc783be6589465137d997701a432">getIterator</a>();</div>
<div class="line"><a name="l02235"></a><span class="lineno"> 2235</span>&#160;    <span class="keywordflow">if</span> (!Inst-&gt;<a class="code" href="classllvm_1_1Value.html#a9d7de807ebdfe1819df3ff6cb0f16158">use_empty</a>() &amp;&amp; !Inst-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#ac9542ee3a689ae9574b7807c96107d89">isTokenTy</a>())</div>
<div class="line"><a name="l02236"></a><span class="lineno"> 2236</span>&#160;      Inst-&gt;<a class="code" href="classllvm_1_1Value.html#a3ab5fc45117b450e8bb04e564cb6e5f2">replaceAllUsesWith</a>(<a class="code" href="classllvm_1_1PoisonValue.html#a1bf08613fb664a2e377a9a72c59a6b66">PoisonValue::get</a>(Inst-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()));</div>
<div class="line"><a name="l02237"></a><span class="lineno"> 2237</span>&#160;    <span class="keywordflow">if</span> (Inst-&gt;<a class="code" href="classllvm_1_1Instruction.html#a5d3d315f678bc76e43b27d18e5d72829">isEHPad</a>() || Inst-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#ac9542ee3a689ae9574b7807c96107d89">isTokenTy</a>()) {</div>
<div class="line"><a name="l02238"></a><span class="lineno"> 2238</span>&#160;      EndInst = Inst;</div>
<div class="line"><a name="l02239"></a><span class="lineno"> 2239</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02240"></a><span class="lineno"> 2240</span>&#160;    }</div>
<div class="line"><a name="l02241"></a><span class="lineno"> 2241</span>&#160;    <span class="keywordflow">if</span> (isa&lt;DbgInfoIntrinsic&gt;(Inst))</div>
<div class="line"><a name="l02242"></a><span class="lineno"> 2242</span>&#160;      ++NumDeadDbgInst;</div>
<div class="line"><a name="l02243"></a><span class="lineno"> 2243</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l02244"></a><span class="lineno"> 2244</span>&#160;      ++NumDeadInst;</div>
<div class="line"><a name="l02245"></a><span class="lineno"> 2245</span>&#160;    Inst-&gt;<a class="code" href="classllvm_1_1Instruction.html#ae6b978645b8ac72d1a35e1298ffdd4f0">eraseFromParent</a>();</div>
<div class="line"><a name="l02246"></a><span class="lineno"> 2246</span>&#160;  }</div>
<div class="line"><a name="l02247"></a><span class="lineno"> 2247</span>&#160;  <span class="keywordflow">return</span> {NumDeadInst, NumDeadDbgInst};</div>
<div class="line"><a name="l02248"></a><span class="lineno"> 2248</span>&#160;}</div>
<div class="line"><a name="l02249"></a><span class="lineno"> 2249</span>&#160; </div>
<div class="line"><a name="l02250"></a><span class="lineno"><a class="line" href="namespacellvm.html#a97370114df349e0996f133e3402c1595"> 2250</a></span>&#160;<span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm.html#a97370114df349e0996f133e3402c1595">llvm::changeToUnreachable</a>(<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <span class="keywordtype">bool</span> PreserveLCSSA,</div>
<div class="line"><a name="l02251"></a><span class="lineno"> 2251</span>&#160;                                   <a class="code" href="classllvm_1_1DomTreeUpdater.html">DomTreeUpdater</a> *DTU,</div>
<div class="line"><a name="l02252"></a><span class="lineno"> 2252</span>&#160;                                   <a class="code" href="classllvm_1_1MemorySSAUpdater.html">MemorySSAUpdater</a> *MSSAU) {</div>
<div class="line"><a name="l02253"></a><span class="lineno"> 2253</span>&#160;  <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a> = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getParent();</div>
<div class="line"><a name="l02254"></a><span class="lineno"> 2254</span>&#160; </div>
<div class="line"><a name="l02255"></a><span class="lineno"> 2255</span>&#160;  <span class="keywordflow">if</span> (MSSAU)</div>
<div class="line"><a name="l02256"></a><span class="lineno"> 2256</span>&#160;    MSSAU-&gt;<a class="code" href="classllvm_1_1MemorySSAUpdater.html#a94cd9c4d5114d65e1cd802c23c080326">changeToUnreachable</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l02257"></a><span class="lineno"> 2257</span>&#160; </div>
<div class="line"><a name="l02258"></a><span class="lineno"> 2258</span>&#160;  <a class="code" href="classllvm_1_1SmallSet.html">SmallSet&lt;BasicBlock *, 8&gt;</a> UniqueSuccessors;</div>
<div class="line"><a name="l02259"></a><span class="lineno"> 2259</span>&#160; </div>
<div class="line"><a name="l02260"></a><span class="lineno"> 2260</span>&#160;  <span class="comment">// Loop over all of the successors, removing BB&#39;s entry from any PHI</span></div>
<div class="line"><a name="l02261"></a><span class="lineno"> 2261</span>&#160;  <span class="comment">// nodes.</span></div>
<div class="line"><a name="l02262"></a><span class="lineno"> 2262</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06add2496ae8d635f9f169602771c88d376">Successor</a> : <a class="code" href="namespacellvm.html#a26e2a938b431eaa6eca2beaa96410c9d">successors</a>(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>)) {</div>
<div class="line"><a name="l02263"></a><span class="lineno"> 2263</span>&#160;    <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06add2496ae8d635f9f169602771c88d376">Successor</a>-&gt;removePredecessor(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>, PreserveLCSSA);</div>
<div class="line"><a name="l02264"></a><span class="lineno"> 2264</span>&#160;    <span class="keywordflow">if</span> (DTU)</div>
<div class="line"><a name="l02265"></a><span class="lineno"> 2265</span>&#160;      UniqueSuccessors.<a class="code" href="classllvm_1_1SmallSet.html#a1679469af9bb8ccfbe98441fb8228c79">insert</a>(<a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06add2496ae8d635f9f169602771c88d376">Successor</a>);</div>
<div class="line"><a name="l02266"></a><span class="lineno"> 2266</span>&#160;  }</div>
<div class="line"><a name="l02267"></a><span class="lineno"> 2267</span>&#160;  <span class="keyword">auto</span> *UI = <span class="keyword">new</span> <a class="code" href="classllvm_1_1UnreachableInst.html">UnreachableInst</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getContext(), <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l02268"></a><span class="lineno"> 2268</span>&#160;  UI-&gt;setDebugLoc(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getDebugLoc());</div>
<div class="line"><a name="l02269"></a><span class="lineno"> 2269</span>&#160; </div>
<div class="line"><a name="l02270"></a><span class="lineno"> 2270</span>&#160;  <span class="comment">// All instructions after this are dead.</span></div>
<div class="line"><a name="l02271"></a><span class="lineno"> 2271</span>&#160;  <span class="keywordtype">unsigned</span> NumInstrsRemoved = 0;</div>
<div class="line"><a name="l02272"></a><span class="lineno"> 2272</span>&#160;  <a class="code" href="classllvm_1_1BasicBlock.html#a98c0a84a5dfa8bce341c829709f171e5">BasicBlock::iterator</a> BBI = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getIterator(), BBE = <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>-&gt;end();</div>
<div class="line"><a name="l02273"></a><span class="lineno"> 2273</span>&#160;  <span class="keywordflow">while</span> (BBI != BBE) {</div>
<div class="line"><a name="l02274"></a><span class="lineno"> 2274</span>&#160;    <span class="keywordflow">if</span> (!BBI-&gt;use_empty())</div>
<div class="line"><a name="l02275"></a><span class="lineno"> 2275</span>&#160;      BBI-&gt;replaceAllUsesWith(<a class="code" href="classllvm_1_1PoisonValue.html#a1bf08613fb664a2e377a9a72c59a6b66">PoisonValue::get</a>(BBI-&gt;getType()));</div>
<div class="line"><a name="l02276"></a><span class="lineno"> 2276</span>&#160;    BBI++-&gt;eraseFromParent();</div>
<div class="line"><a name="l02277"></a><span class="lineno"> 2277</span>&#160;    ++NumInstrsRemoved;</div>
<div class="line"><a name="l02278"></a><span class="lineno"> 2278</span>&#160;  }</div>
<div class="line"><a name="l02279"></a><span class="lineno"> 2279</span>&#160;  <span class="keywordflow">if</span> (DTU) {</div>
<div class="line"><a name="l02280"></a><span class="lineno"> 2280</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;DominatorTree::UpdateType, 8&gt;</a> Updates;</div>
<div class="line"><a name="l02281"></a><span class="lineno"> 2281</span>&#160;    Updates.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a499ea32ca1b8d16cedfe01d1e5b08f29">reserve</a>(UniqueSuccessors.<a class="code" href="classllvm_1_1SmallSet.html#afd7c135e18f2d7253d4f8545cd7b1756">size</a>());</div>
<div class="line"><a name="l02282"></a><span class="lineno"> 2282</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *UniqueSuccessor : UniqueSuccessors)</div>
<div class="line"><a name="l02283"></a><span class="lineno"> 2283</span>&#160;      Updates.push_back({<a class="code" href="classllvm_1_1DominatorTreeBase.html#a71c91cbbfc1c0ecf9a69e10ccf739bd7">DominatorTree::Delete</a>, <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>, UniqueSuccessor});</div>
<div class="line"><a name="l02284"></a><span class="lineno"> 2284</span>&#160;    DTU-&gt;<a class="code" href="classllvm_1_1DomTreeUpdater.html#aae522cd1928cfac6850b50c7a3e22185">applyUpdates</a>(Updates);</div>
<div class="line"><a name="l02285"></a><span class="lineno"> 2285</span>&#160;  }</div>
<div class="line"><a name="l02286"></a><span class="lineno"> 2286</span>&#160;  <span class="keywordflow">return</span> NumInstrsRemoved;</div>
<div class="line"><a name="l02287"></a><span class="lineno"> 2287</span>&#160;}</div>
<div class="line"><a name="l02288"></a><span class="lineno"> 2288</span>&#160; </div>
<div class="line"><a name="l02289"></a><span class="lineno"><a class="line" href="namespacellvm.html#a7c3ae5ad4be121cbb1bc87e871b679da"> 2289</a></span>&#160;<a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *<a class="code" href="namespacellvm.html#a7c3ae5ad4be121cbb1bc87e871b679da">llvm::createCallMatchingInvoke</a>(<a class="code" href="classllvm_1_1InvokeInst.html">InvokeInst</a> *II) {</div>
<div class="line"><a name="l02290"></a><span class="lineno"> 2290</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Value *, 8&gt;</a> <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>(II-&gt;<a class="code" href="classllvm_1_1CallBase.html#ac63dbb4994494c46f025715272cdb81e">args</a>());</div>
<div class="line"><a name="l02291"></a><span class="lineno"> 2291</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;OperandBundleDef, 1&gt;</a> OpBundles;</div>
<div class="line"><a name="l02292"></a><span class="lineno"> 2292</span>&#160;  II-&gt;<a class="code" href="classllvm_1_1CallBase.html#a19263fff7f5b3a9d22b48151fa0d85d0">getOperandBundlesAsDefs</a>(OpBundles);</div>
<div class="line"><a name="l02293"></a><span class="lineno"> 2293</span>&#160;  <a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *NewCall = <a class="code" href="classllvm_1_1CallInst.html#a850d8262cd900958b3153c4aa080b2bb">CallInst::Create</a>(II-&gt;<a class="code" href="classllvm_1_1CallBase.html#a5e4a09f80c7cd5283dbbc7256d122d12">getFunctionType</a>(),</div>
<div class="line"><a name="l02294"></a><span class="lineno"> 2294</span>&#160;                                       II-&gt;<a class="code" href="classllvm_1_1CallBase.html#a7ac9329ef7292ee640d87f45ce7ae05c">getCalledOperand</a>(), <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>, OpBundles);</div>
<div class="line"><a name="l02295"></a><span class="lineno"> 2295</span>&#160;  NewCall-&gt;<a class="code" href="classllvm_1_1CallBase.html#a0851b4de29686e9c3918449b054cfada">setCallingConv</a>(II-&gt;<a class="code" href="classllvm_1_1CallBase.html#a3ff92cec76009e859cb0c419d6e8ba5f">getCallingConv</a>());</div>
<div class="line"><a name="l02296"></a><span class="lineno"> 2296</span>&#160;  NewCall-&gt;<a class="code" href="classllvm_1_1CallBase.html#a9da3b29e8e71b9be4645874e1721207a">setAttributes</a>(II-&gt;<a class="code" href="classllvm_1_1CallBase.html#ae0c55761fce39dd71617690b04385193">getAttributes</a>());</div>
<div class="line"><a name="l02297"></a><span class="lineno"> 2297</span>&#160;  NewCall-&gt;<a class="code" href="classllvm_1_1Instruction.html#ae8f5bf5cc06f696b52c709677df00fbf">setDebugLoc</a>(II-&gt;<a class="code" href="classllvm_1_1Instruction.html#ab4f3bf98b5054831b608852e33427814">getDebugLoc</a>());</div>
<div class="line"><a name="l02298"></a><span class="lineno"> 2298</span>&#160;  NewCall-&gt;<a class="code" href="classllvm_1_1Instruction.html#aec6eaa1e49f48c178e0ab9c030b5971e">copyMetadata</a>(*II);</div>
<div class="line"><a name="l02299"></a><span class="lineno"> 2299</span>&#160; </div>
<div class="line"><a name="l02300"></a><span class="lineno"> 2300</span>&#160;  <span class="comment">// If the invoke had profile metadata, try converting them for CallInst.</span></div>
<div class="line"><a name="l02301"></a><span class="lineno"> 2301</span>&#160;  <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> TotalWeight;</div>
<div class="line"><a name="l02302"></a><span class="lineno"> 2302</span>&#160;  <span class="keywordflow">if</span> (NewCall-&gt;<a class="code" href="classllvm_1_1Instruction.html#a51d5735829e1f043630dd403f01d4219">extractProfTotalWeight</a>(TotalWeight)) {</div>
<div class="line"><a name="l02303"></a><span class="lineno"> 2303</span>&#160;    <span class="comment">// Set the total weight if it fits into i32, otherwise reset.</span></div>
<div class="line"><a name="l02304"></a><span class="lineno"> 2304</span>&#160;    <a class="code" href="classllvm_1_1MDBuilder.html">MDBuilder</a> MDB(NewCall-&gt;<a class="code" href="classllvm_1_1Value.html#ab3fc0225d8aaf8434026c3573f961f2c">getContext</a>());</div>
<div class="line"><a name="l02305"></a><span class="lineno"> 2305</span>&#160;    <span class="keyword">auto</span> NewWeights = <a class="code" href="classuint32__t.html">uint32_t</a>(TotalWeight) != TotalWeight</div>
<div class="line"><a name="l02306"></a><span class="lineno"> 2306</span>&#160;                          ? nullptr</div>
<div class="line"><a name="l02307"></a><span class="lineno"> 2307</span>&#160;                          : MDB.<a class="code" href="classllvm_1_1MDBuilder.html#ad910125a9cfd76aaad7f69469df22f66">createBranchWeights</a>({<a class="code" href="classuint32__t.html">uint32_t</a>(TotalWeight)});</div>
<div class="line"><a name="l02308"></a><span class="lineno"> 2308</span>&#160;    NewCall-&gt;<a class="code" href="classllvm_1_1Instruction.html#a9247a212ea89acc9573fa7e7f557eaba">setMetadata</a>(LLVMContext::MD_prof, NewWeights);</div>
<div class="line"><a name="l02309"></a><span class="lineno"> 2309</span>&#160;  }</div>
<div class="line"><a name="l02310"></a><span class="lineno"> 2310</span>&#160; </div>
<div class="line"><a name="l02311"></a><span class="lineno"> 2311</span>&#160;  <span class="keywordflow">return</span> NewCall;</div>
<div class="line"><a name="l02312"></a><span class="lineno"> 2312</span>&#160;}</div>
<div class="line"><a name="l02313"></a><span class="lineno"> 2313</span>&#160; </div>
<div class="line"><a name="l02314"></a><span class="lineno"> 2314</span>&#160;<span class="comment">// changeToCall - Convert the specified invoke into a normal call.</span></div>
<div class="line"><a name="l02315"></a><span class="lineno"><a class="line" href="namespacellvm.html#a2b3fdb09b0789963c439d41fe91e44a1"> 2315</a></span>&#160;<a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *<a class="code" href="namespacellvm.html#a2b3fdb09b0789963c439d41fe91e44a1">llvm::changeToCall</a>(<a class="code" href="classllvm_1_1InvokeInst.html">InvokeInst</a> *II, <a class="code" href="classllvm_1_1DomTreeUpdater.html">DomTreeUpdater</a> *DTU) {</div>
<div class="line"><a name="l02316"></a><span class="lineno"> 2316</span>&#160;  <a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *NewCall = <a class="code" href="namespacellvm.html#a7c3ae5ad4be121cbb1bc87e871b679da">createCallMatchingInvoke</a>(II);</div>
<div class="line"><a name="l02317"></a><span class="lineno"> 2317</span>&#160;  NewCall-&gt;<a class="code" href="classllvm_1_1Value.html#ae855357b6c5e6e7ed1869272708a3a84">takeName</a>(II);</div>
<div class="line"><a name="l02318"></a><span class="lineno"> 2318</span>&#160;  NewCall-&gt;<a class="code" href="classllvm_1_1Instruction.html#a482498a1c760122fd33c7fc8190dd277">insertBefore</a>(II);</div>
<div class="line"><a name="l02319"></a><span class="lineno"> 2319</span>&#160;  II-&gt;<a class="code" href="classllvm_1_1Value.html#a3ab5fc45117b450e8bb04e564cb6e5f2">replaceAllUsesWith</a>(NewCall);</div>
<div class="line"><a name="l02320"></a><span class="lineno"> 2320</span>&#160; </div>
<div class="line"><a name="l02321"></a><span class="lineno"> 2321</span>&#160;  <span class="comment">// Follow the call by a branch to the normal destination.</span></div>
<div class="line"><a name="l02322"></a><span class="lineno"> 2322</span>&#160;  <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *NormalDestBB = II-&gt;<a class="code" href="classllvm_1_1InvokeInst.html#a100bd3005ea84bf47f3b4021e8022633">getNormalDest</a>();</div>
<div class="line"><a name="l02323"></a><span class="lineno"> 2323</span>&#160;  <a class="code" href="classllvm_1_1BranchInst.html#a38df51256d4b415b6a817b5e1c6d4d36">BranchInst::Create</a>(NormalDestBB, II);</div>
<div class="line"><a name="l02324"></a><span class="lineno"> 2324</span>&#160; </div>
<div class="line"><a name="l02325"></a><span class="lineno"> 2325</span>&#160;  <span class="comment">// Update PHI nodes in the unwind destination</span></div>
<div class="line"><a name="l02326"></a><span class="lineno"> 2326</span>&#160;  <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a> = II-&gt;<a class="code" href="classllvm_1_1Instruction.html#a1a7f07aaef6a3bee130bf0e0f0536802">getParent</a>();</div>
<div class="line"><a name="l02327"></a><span class="lineno"> 2327</span>&#160;  <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *UnwindDestBB = II-&gt;<a class="code" href="classllvm_1_1InvokeInst.html#a5ba379c3251d99b4c23c8f2e6abe4a6c">getUnwindDest</a>();</div>
<div class="line"><a name="l02328"></a><span class="lineno"> 2328</span>&#160;  UnwindDestBB-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#afe7af0c3ec2ef1f525173acd2ea4ba60">removePredecessor</a>(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>);</div>
<div class="line"><a name="l02329"></a><span class="lineno"> 2329</span>&#160;  II-&gt;<a class="code" href="classllvm_1_1Instruction.html#ae6b978645b8ac72d1a35e1298ffdd4f0">eraseFromParent</a>();</div>
<div class="line"><a name="l02330"></a><span class="lineno"> 2330</span>&#160;  <span class="keywordflow">if</span> (DTU)</div>
<div class="line"><a name="l02331"></a><span class="lineno"> 2331</span>&#160;    DTU-&gt;<a class="code" href="classllvm_1_1DomTreeUpdater.html#aae522cd1928cfac6850b50c7a3e22185">applyUpdates</a>({{<a class="code" href="classllvm_1_1DominatorTreeBase.html#a71c91cbbfc1c0ecf9a69e10ccf739bd7">DominatorTree::Delete</a>, <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>, UnwindDestBB}});</div>
<div class="line"><a name="l02332"></a><span class="lineno"> 2332</span>&#160;  <span class="keywordflow">return</span> NewCall;</div>
<div class="line"><a name="l02333"></a><span class="lineno"> 2333</span>&#160;}</div>
<div class="line"><a name="l02334"></a><span class="lineno"> 2334</span>&#160; </div>
<div class="line"><a name="l02335"></a><span class="lineno"><a class="line" href="namespacellvm.html#a1481db7804704b4beb48e8c2ad4c94b2"> 2335</a></span>&#160;<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="namespacellvm.html#a1481db7804704b4beb48e8c2ad4c94b2">llvm::changeToInvokeAndSplitBasicBlock</a>(<a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *CI,</div>
<div class="line"><a name="l02336"></a><span class="lineno"> 2336</span>&#160;                                                   <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *UnwindEdge,</div>
<div class="line"><a name="l02337"></a><span class="lineno"> 2337</span>&#160;                                                   <a class="code" href="classllvm_1_1DomTreeUpdater.html">DomTreeUpdater</a> *DTU) {</div>
<div class="line"><a name="l02338"></a><span class="lineno"> 2338</span>&#160;  <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a> = CI-&gt;<a class="code" href="classllvm_1_1Instruction.html#a1a7f07aaef6a3bee130bf0e0f0536802">getParent</a>();</div>
<div class="line"><a name="l02339"></a><span class="lineno"> 2339</span>&#160; </div>
<div class="line"><a name="l02340"></a><span class="lineno"> 2340</span>&#160;  <span class="comment">// Convert this function call into an invoke instruction.  First, split the</span></div>
<div class="line"><a name="l02341"></a><span class="lineno"> 2341</span>&#160;  <span class="comment">// basic block.</span></div>
<div class="line"><a name="l02342"></a><span class="lineno"> 2342</span>&#160;  <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *Split = <a class="code" href="namespacellvm.html#ad295cb34421c21507bc9cdefe1ba3f16">SplitBlock</a>(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>, CI, DTU, <span class="comment">/*LI=*/</span><span class="keyword">nullptr</span>, <span class="comment">/*MSSAU*/</span> <span class="keyword">nullptr</span>,</div>
<div class="line"><a name="l02343"></a><span class="lineno"> 2343</span>&#160;                                 CI-&gt;<a class="code" href="classllvm_1_1Value.html#adb5c319f5905c1d3ca9eb5df546388c5">getName</a>() + <span class="stringliteral">&quot;.noexc&quot;</span>);</div>
<div class="line"><a name="l02344"></a><span class="lineno"> 2344</span>&#160; </div>
<div class="line"><a name="l02345"></a><span class="lineno"> 2345</span>&#160;  <span class="comment">// Delete the unconditional branch inserted by SplitBlock</span></div>
<div class="line"><a name="l02346"></a><span class="lineno"> 2346</span>&#160;  <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>-&gt;back().eraseFromParent();</div>
<div class="line"><a name="l02347"></a><span class="lineno"> 2347</span>&#160; </div>
<div class="line"><a name="l02348"></a><span class="lineno"> 2348</span>&#160;  <span class="comment">// Create the new invoke instruction.</span></div>
<div class="line"><a name="l02349"></a><span class="lineno"> 2349</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Value *, 8&gt;</a> InvokeArgs(CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ac63dbb4994494c46f025715272cdb81e">args</a>());</div>
<div class="line"><a name="l02350"></a><span class="lineno"> 2350</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;OperandBundleDef, 1&gt;</a> OpBundles;</div>
<div class="line"><a name="l02351"></a><span class="lineno"> 2351</span>&#160; </div>
<div class="line"><a name="l02352"></a><span class="lineno"> 2352</span>&#160;  CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#a19263fff7f5b3a9d22b48151fa0d85d0">getOperandBundlesAsDefs</a>(OpBundles);</div>
<div class="line"><a name="l02353"></a><span class="lineno"> 2353</span>&#160; </div>
<div class="line"><a name="l02354"></a><span class="lineno"> 2354</span>&#160;  <span class="comment">// Note: we&#39;re round tripping operand bundles through memory here, and that</span></div>
<div class="line"><a name="l02355"></a><span class="lineno"> 2355</span>&#160;  <span class="comment">// can potentially be avoided with a cleverer API design that we do not have</span></div>
<div class="line"><a name="l02356"></a><span class="lineno"> 2356</span>&#160;  <span class="comment">// as of this time.</span></div>
<div class="line"><a name="l02357"></a><span class="lineno"> 2357</span>&#160; </div>
<div class="line"><a name="l02358"></a><span class="lineno"> 2358</span>&#160;  <a class="code" href="classllvm_1_1InvokeInst.html">InvokeInst</a> *II =</div>
<div class="line"><a name="l02359"></a><span class="lineno"> 2359</span>&#160;      <a class="code" href="classllvm_1_1InvokeInst.html#ab659895cedd34fb668aab552ee3b9068">InvokeInst::Create</a>(CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#a5e4a09f80c7cd5283dbbc7256d122d12">getFunctionType</a>(), CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#a7ac9329ef7292ee640d87f45ce7ae05c">getCalledOperand</a>(), Split,</div>
<div class="line"><a name="l02360"></a><span class="lineno"> 2360</span>&#160;                         UnwindEdge, InvokeArgs, OpBundles, CI-&gt;<a class="code" href="classllvm_1_1Value.html#adb5c319f5905c1d3ca9eb5df546388c5">getName</a>(), <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>);</div>
<div class="line"><a name="l02361"></a><span class="lineno"> 2361</span>&#160;  II-&gt;<a class="code" href="classllvm_1_1Instruction.html#ae8f5bf5cc06f696b52c709677df00fbf">setDebugLoc</a>(CI-&gt;<a class="code" href="classllvm_1_1Instruction.html#ab4f3bf98b5054831b608852e33427814">getDebugLoc</a>());</div>
<div class="line"><a name="l02362"></a><span class="lineno"> 2362</span>&#160;  II-&gt;<a class="code" href="classllvm_1_1CallBase.html#a0851b4de29686e9c3918449b054cfada">setCallingConv</a>(CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#a3ff92cec76009e859cb0c419d6e8ba5f">getCallingConv</a>());</div>
<div class="line"><a name="l02363"></a><span class="lineno"> 2363</span>&#160;  II-&gt;<a class="code" href="classllvm_1_1CallBase.html#a9da3b29e8e71b9be4645874e1721207a">setAttributes</a>(CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ae0c55761fce39dd71617690b04385193">getAttributes</a>());</div>
<div class="line"><a name="l02364"></a><span class="lineno"> 2364</span>&#160;  II-&gt;<a class="code" href="classllvm_1_1Instruction.html#a9247a212ea89acc9573fa7e7f557eaba">setMetadata</a>(LLVMContext::MD_prof, CI-&gt;<a class="code" href="classllvm_1_1Instruction.html#ae22f493ba8327ce92e87d3b96bce7017">getMetadata</a>(LLVMContext::MD_prof));</div>
<div class="line"><a name="l02365"></a><span class="lineno"> 2365</span>&#160; </div>
<div class="line"><a name="l02366"></a><span class="lineno"> 2366</span>&#160;  <span class="keywordflow">if</span> (DTU)</div>
<div class="line"><a name="l02367"></a><span class="lineno"> 2367</span>&#160;    DTU-&gt;<a class="code" href="classllvm_1_1DomTreeUpdater.html#aae522cd1928cfac6850b50c7a3e22185">applyUpdates</a>({{<a class="code" href="classllvm_1_1DominatorTreeBase.html#a9aeeca2833810f01b20545a46fe22503">DominatorTree::Insert</a>, <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>, UnwindEdge}});</div>
<div class="line"><a name="l02368"></a><span class="lineno"> 2368</span>&#160; </div>
<div class="line"><a name="l02369"></a><span class="lineno"> 2369</span>&#160;  <span class="comment">// Make sure that anything using the call now uses the invoke!  This also</span></div>
<div class="line"><a name="l02370"></a><span class="lineno"> 2370</span>&#160;  <span class="comment">// updates the CallGraph if present, because it uses a WeakTrackingVH.</span></div>
<div class="line"><a name="l02371"></a><span class="lineno"> 2371</span>&#160;  CI-&gt;<a class="code" href="classllvm_1_1Value.html#a3ab5fc45117b450e8bb04e564cb6e5f2">replaceAllUsesWith</a>(II);</div>
<div class="line"><a name="l02372"></a><span class="lineno"> 2372</span>&#160; </div>
<div class="line"><a name="l02373"></a><span class="lineno"> 2373</span>&#160;  <span class="comment">// Delete the original call</span></div>
<div class="line"><a name="l02374"></a><span class="lineno"> 2374</span>&#160;  Split-&gt;front().eraseFromParent();</div>
<div class="line"><a name="l02375"></a><span class="lineno"> 2375</span>&#160;  <span class="keywordflow">return</span> Split;</div>
<div class="line"><a name="l02376"></a><span class="lineno"> 2376</span>&#160;}</div>
<div class="line"><a name="l02377"></a><span class="lineno"> 2377</span>&#160; </div>
<div class="line"><a name="l02378"></a><span class="lineno"><a class="line" href="Transforms_2Utils_2Local_8cpp.html#a0af4594038f5cb46e7a4c86713520c95"> 2378</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="Transforms_2Utils_2Local_8cpp.html#a0af4594038f5cb46e7a4c86713520c95">markAliveBlocks</a>(<a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>,</div>
<div class="line"><a name="l02379"></a><span class="lineno"> 2379</span>&#160;                            <a class="code" href="classllvm_1_1SmallPtrSetImpl.html">SmallPtrSetImpl&lt;BasicBlock *&gt;</a> &amp;Reachable,</div>
<div class="line"><a name="l02380"></a><span class="lineno"> 2380</span>&#160;                            <a class="code" href="classllvm_1_1DomTreeUpdater.html">DomTreeUpdater</a> *DTU = <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l02381"></a><span class="lineno"> 2381</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;BasicBlock*, 128&gt;</a> Worklist;</div>
<div class="line"><a name="l02382"></a><span class="lineno"> 2382</span>&#160;  <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a> = &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.front();</div>
<div class="line"><a name="l02383"></a><span class="lineno"> 2383</span>&#160;  Worklist.push_back(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>);</div>
<div class="line"><a name="l02384"></a><span class="lineno"> 2384</span>&#160;  Reachable.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">insert</a>(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>);</div>
<div class="line"><a name="l02385"></a><span class="lineno"> 2385</span>&#160;  <span class="keywordtype">bool</span> Changed = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02386"></a><span class="lineno"> 2386</span>&#160;  <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l02387"></a><span class="lineno"> 2387</span>&#160;    <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a> = Worklist.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a0c8ffe664a36e30d49c84d0aded2fe08">pop_back_val</a>();</div>
<div class="line"><a name="l02388"></a><span class="lineno"> 2388</span>&#160; </div>
<div class="line"><a name="l02389"></a><span class="lineno"> 2389</span>&#160;    <span class="comment">// Do a quick scan of the basic block, turning any obviously unreachable</span></div>
<div class="line"><a name="l02390"></a><span class="lineno"> 2390</span>&#160;    <span class="comment">// instructions into LLVM unreachable insts.  The instruction combining pass</span></div>
<div class="line"><a name="l02391"></a><span class="lineno"> 2391</span>&#160;    <span class="comment">// canonicalizes unreachable insts into stores to null or undef.</span></div>
<div class="line"><a name="l02392"></a><span class="lineno"> 2392</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> : *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>) {</div>
<div class="line"><a name="l02393"></a><span class="lineno"> 2393</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">auto</span> *CI = dyn_cast&lt;CallInst&gt;(&amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)) {</div>
<div class="line"><a name="l02394"></a><span class="lineno"> 2394</span>&#160;        <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a> = CI-&gt;getCalledOperand();</div>
<div class="line"><a name="l02395"></a><span class="lineno"> 2395</span>&#160;        <span class="comment">// Handle intrinsic calls.</span></div>
<div class="line"><a name="l02396"></a><span class="lineno"> 2396</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> = dyn_cast&lt;Function&gt;(<a class="code" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a>)) {</div>
<div class="line"><a name="l02397"></a><span class="lineno"> 2397</span>&#160;          <span class="keyword">auto</span> IntrinsicID = <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getIntrinsicID();</div>
<div class="line"><a name="l02398"></a><span class="lineno"> 2398</span>&#160;          <span class="comment">// Assumptions that are known to be false are equivalent to</span></div>
<div class="line"><a name="l02399"></a><span class="lineno"> 2399</span>&#160;          <span class="comment">// unreachable. Also, if the condition is undefined, then we make the</span></div>
<div class="line"><a name="l02400"></a><span class="lineno"> 2400</span>&#160;          <span class="comment">// choice most beneficial to the optimizer, and choose that to also be</span></div>
<div class="line"><a name="l02401"></a><span class="lineno"> 2401</span>&#160;          <span class="comment">// unreachable.</span></div>
<div class="line"><a name="l02402"></a><span class="lineno"> 2402</span>&#160;          <span class="keywordflow">if</span> (IntrinsicID == Intrinsic::assume) {</div>
<div class="line"><a name="l02403"></a><span class="lineno"> 2403</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(CI-&gt;getArgOperand(0), <a class="code" href="namespacellvm_1_1PatternMatch.html#af4feec45578e32fe65d8efc59112bc8e">m_CombineOr</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#ae77be336e228cf9aa00709a8606dfb98">m_Zero</a>(), <a class="code" href="namespacellvm_1_1PatternMatch.html#adea6dc2e42baa345b97be48b0370313d">m_Undef</a>()))) {</div>
<div class="line"><a name="l02404"></a><span class="lineno"> 2404</span>&#160;              <span class="comment">// Don&#39;t insert a call to llvm.trap right before the unreachable.</span></div>
<div class="line"><a name="l02405"></a><span class="lineno"> 2405</span>&#160;              <a class="code" href="namespacellvm.html#a97370114df349e0996f133e3402c1595">changeToUnreachable</a>(CI, <span class="keyword">false</span>, DTU);</div>
<div class="line"><a name="l02406"></a><span class="lineno"> 2406</span>&#160;              Changed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02407"></a><span class="lineno"> 2407</span>&#160;              <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02408"></a><span class="lineno"> 2408</span>&#160;            }</div>
<div class="line"><a name="l02409"></a><span class="lineno"> 2409</span>&#160;          } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IntrinsicID == Intrinsic::experimental_guard) {</div>
<div class="line"><a name="l02410"></a><span class="lineno"> 2410</span>&#160;            <span class="comment">// A call to the guard intrinsic bails out of the current</span></div>
<div class="line"><a name="l02411"></a><span class="lineno"> 2411</span>&#160;            <span class="comment">// compilation unit if the predicate passed to it is false. If the</span></div>
<div class="line"><a name="l02412"></a><span class="lineno"> 2412</span>&#160;            <span class="comment">// predicate is a constant false, then we know the guard will bail</span></div>
<div class="line"><a name="l02413"></a><span class="lineno"> 2413</span>&#160;            <span class="comment">// out of the current compile unconditionally, so all code following</span></div>
<div class="line"><a name="l02414"></a><span class="lineno"> 2414</span>&#160;            <span class="comment">// it is dead.</span></div>
<div class="line"><a name="l02415"></a><span class="lineno"> 2415</span>&#160;            <span class="comment">//</span></div>
<div class="line"><a name="l02416"></a><span class="lineno"> 2416</span>&#160;            <span class="comment">// Note: unlike in llvm.assume, it is not &quot;obviously profitable&quot; for</span></div>
<div class="line"><a name="l02417"></a><span class="lineno"> 2417</span>&#160;            <span class="comment">// guards to treat `undef` as `false` since a guard on `undef` can</span></div>
<div class="line"><a name="l02418"></a><span class="lineno"> 2418</span>&#160;            <span class="comment">// still be useful for widening.</span></div>
<div class="line"><a name="l02419"></a><span class="lineno"> 2419</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(CI-&gt;getArgOperand(0), <a class="code" href="namespacellvm_1_1PatternMatch.html#ae77be336e228cf9aa00709a8606dfb98">m_Zero</a>()))</div>
<div class="line"><a name="l02420"></a><span class="lineno"> 2420</span>&#160;              <span class="keywordflow">if</span> (!isa&lt;UnreachableInst&gt;(CI-&gt;getNextNode())) {</div>
<div class="line"><a name="l02421"></a><span class="lineno"> 2421</span>&#160;                <a class="code" href="namespacellvm.html#a97370114df349e0996f133e3402c1595">changeToUnreachable</a>(CI-&gt;getNextNode(), <span class="keyword">false</span>, DTU);</div>
<div class="line"><a name="l02422"></a><span class="lineno"> 2422</span>&#160;                Changed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02423"></a><span class="lineno"> 2423</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02424"></a><span class="lineno"> 2424</span>&#160;              }</div>
<div class="line"><a name="l02425"></a><span class="lineno"> 2425</span>&#160;          }</div>
<div class="line"><a name="l02426"></a><span class="lineno"> 2426</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((isa&lt;ConstantPointerNull&gt;(<a class="code" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a>) &amp;&amp;</div>
<div class="line"><a name="l02427"></a><span class="lineno"> 2427</span>&#160;                    !<a class="code" href="namespacellvm.html#a7b03ed78a8e299bde6d26a8793cd4e06">NullPointerIsDefined</a>(CI-&gt;getFunction(),</div>
<div class="line"><a name="l02428"></a><span class="lineno"> 2428</span>&#160;                                          cast&lt;PointerType&gt;(<a class="code" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a>-&gt;getType())</div>
<div class="line"><a name="l02429"></a><span class="lineno"> 2429</span>&#160;                                              -&gt;getAddressSpace())) ||</div>
<div class="line"><a name="l02430"></a><span class="lineno"> 2430</span>&#160;                   isa&lt;UndefValue&gt;(<a class="code" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a>)) {</div>
<div class="line"><a name="l02431"></a><span class="lineno"> 2431</span>&#160;          <a class="code" href="namespacellvm.html#a97370114df349e0996f133e3402c1595">changeToUnreachable</a>(CI, <span class="keyword">false</span>, DTU);</div>
<div class="line"><a name="l02432"></a><span class="lineno"> 2432</span>&#160;          Changed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02433"></a><span class="lineno"> 2433</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02434"></a><span class="lineno"> 2434</span>&#160;        }</div>
<div class="line"><a name="l02435"></a><span class="lineno"> 2435</span>&#160;        <span class="keywordflow">if</span> (CI-&gt;doesNotReturn() &amp;&amp; !CI-&gt;isMustTailCall()) {</div>
<div class="line"><a name="l02436"></a><span class="lineno"> 2436</span>&#160;          <span class="comment">// If we found a call to a no-return function, insert an unreachable</span></div>
<div class="line"><a name="l02437"></a><span class="lineno"> 2437</span>&#160;          <span class="comment">// instruction after it.  Make sure there isn&#39;t *already* one there</span></div>
<div class="line"><a name="l02438"></a><span class="lineno"> 2438</span>&#160;          <span class="comment">// though.</span></div>
<div class="line"><a name="l02439"></a><span class="lineno"> 2439</span>&#160;          <span class="keywordflow">if</span> (!isa&lt;UnreachableInst&gt;(CI-&gt;getNextNode())) {</div>
<div class="line"><a name="l02440"></a><span class="lineno"> 2440</span>&#160;            <span class="comment">// Don&#39;t insert a call to llvm.trap right before the unreachable.</span></div>
<div class="line"><a name="l02441"></a><span class="lineno"> 2441</span>&#160;            <a class="code" href="namespacellvm.html#a97370114df349e0996f133e3402c1595">changeToUnreachable</a>(CI-&gt;getNextNode(), <span class="keyword">false</span>, DTU);</div>
<div class="line"><a name="l02442"></a><span class="lineno"> 2442</span>&#160;            Changed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02443"></a><span class="lineno"> 2443</span>&#160;          }</div>
<div class="line"><a name="l02444"></a><span class="lineno"> 2444</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02445"></a><span class="lineno"> 2445</span>&#160;        }</div>
<div class="line"><a name="l02446"></a><span class="lineno"> 2446</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="keyword">auto</span> *<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a> = dyn_cast&lt;StoreInst&gt;(&amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)) {</div>
<div class="line"><a name="l02447"></a><span class="lineno"> 2447</span>&#160;        <span class="comment">// Store to undef and store to null are undefined and used to signal</span></div>
<div class="line"><a name="l02448"></a><span class="lineno"> 2448</span>&#160;        <span class="comment">// that they should be changed to unreachable by passes that can&#39;t</span></div>
<div class="line"><a name="l02449"></a><span class="lineno"> 2449</span>&#160;        <span class="comment">// modify the CFG.</span></div>
<div class="line"><a name="l02450"></a><span class="lineno"> 2450</span>&#160; </div>
<div class="line"><a name="l02451"></a><span class="lineno"> 2451</span>&#160;        <span class="comment">// Don&#39;t touch volatile stores.</span></div>
<div class="line"><a name="l02452"></a><span class="lineno"> 2452</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>-&gt;isVolatile()) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02453"></a><span class="lineno"> 2453</span>&#160; </div>
<div class="line"><a name="l02454"></a><span class="lineno"> 2454</span>&#160;        <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a> = <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>-&gt;getOperand(1);</div>
<div class="line"><a name="l02455"></a><span class="lineno"> 2455</span>&#160; </div>
<div class="line"><a name="l02456"></a><span class="lineno"> 2456</span>&#160;        <span class="keywordflow">if</span> (isa&lt;UndefValue&gt;(<a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>) ||</div>
<div class="line"><a name="l02457"></a><span class="lineno"> 2457</span>&#160;            (isa&lt;ConstantPointerNull&gt;(<a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>) &amp;&amp;</div>
<div class="line"><a name="l02458"></a><span class="lineno"> 2458</span>&#160;             !<a class="code" href="namespacellvm.html#a7b03ed78a8e299bde6d26a8793cd4e06">NullPointerIsDefined</a>(<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>-&gt;getFunction(),</div>
<div class="line"><a name="l02459"></a><span class="lineno"> 2459</span>&#160;                                   <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>-&gt;getPointerAddressSpace()))) {</div>
<div class="line"><a name="l02460"></a><span class="lineno"> 2460</span>&#160;          <a class="code" href="namespacellvm.html#a97370114df349e0996f133e3402c1595">changeToUnreachable</a>(<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>, <span class="keyword">false</span>, DTU);</div>
<div class="line"><a name="l02461"></a><span class="lineno"> 2461</span>&#160;          Changed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02462"></a><span class="lineno"> 2462</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02463"></a><span class="lineno"> 2463</span>&#160;        }</div>
<div class="line"><a name="l02464"></a><span class="lineno"> 2464</span>&#160;      }</div>
<div class="line"><a name="l02465"></a><span class="lineno"> 2465</span>&#160;    }</div>
<div class="line"><a name="l02466"></a><span class="lineno"> 2466</span>&#160; </div>
<div class="line"><a name="l02467"></a><span class="lineno"> 2467</span>&#160;    <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023af121d798d2c14b32e81d537a1f0cff8d">Terminator</a> = <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>-&gt;getTerminator();</div>
<div class="line"><a name="l02468"></a><span class="lineno"> 2468</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> *II = dyn_cast&lt;InvokeInst&gt;(<a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023af121d798d2c14b32e81d537a1f0cff8d">Terminator</a>)) {</div>
<div class="line"><a name="l02469"></a><span class="lineno"> 2469</span>&#160;      <span class="comment">// Turn invokes that call &#39;nounwind&#39; functions into ordinary calls.</span></div>
<div class="line"><a name="l02470"></a><span class="lineno"> 2470</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a> = II-&gt;getCalledOperand();</div>
<div class="line"><a name="l02471"></a><span class="lineno"> 2471</span>&#160;      <span class="keywordflow">if</span> ((isa&lt;ConstantPointerNull&gt;(<a class="code" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a>) &amp;&amp;</div>
<div class="line"><a name="l02472"></a><span class="lineno"> 2472</span>&#160;           !<a class="code" href="namespacellvm.html#a7b03ed78a8e299bde6d26a8793cd4e06">NullPointerIsDefined</a>(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>-&gt;getParent())) ||</div>
<div class="line"><a name="l02473"></a><span class="lineno"> 2473</span>&#160;          isa&lt;UndefValue&gt;(<a class="code" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a>)) {</div>
<div class="line"><a name="l02474"></a><span class="lineno"> 2474</span>&#160;        <a class="code" href="namespacellvm.html#a97370114df349e0996f133e3402c1595">changeToUnreachable</a>(II, <span class="keyword">false</span>, DTU);</div>
<div class="line"><a name="l02475"></a><span class="lineno"> 2475</span>&#160;        Changed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02476"></a><span class="lineno"> 2476</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02477"></a><span class="lineno"> 2477</span>&#160;        <span class="keywordflow">if</span> (II-&gt;doesNotReturn() &amp;&amp;</div>
<div class="line"><a name="l02478"></a><span class="lineno"> 2478</span>&#160;            !isa&lt;UnreachableInst&gt;(II-&gt;getNormalDest()-&gt;front())) {</div>
<div class="line"><a name="l02479"></a><span class="lineno"> 2479</span>&#160;          <span class="comment">// If we found an invoke of a no-return function,</span></div>
<div class="line"><a name="l02480"></a><span class="lineno"> 2480</span>&#160;          <span class="comment">// create a new empty basic block with an `unreachable` terminator,</span></div>
<div class="line"><a name="l02481"></a><span class="lineno"> 2481</span>&#160;          <span class="comment">// and set it as the normal destination for the invoke,</span></div>
<div class="line"><a name="l02482"></a><span class="lineno"> 2482</span>&#160;          <span class="comment">// unless that is already the case.</span></div>
<div class="line"><a name="l02483"></a><span class="lineno"> 2483</span>&#160;          <span class="comment">// Note that the original normal destination could have other uses.</span></div>
<div class="line"><a name="l02484"></a><span class="lineno"> 2484</span>&#160;          <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *OrigNormalDest = II-&gt;getNormalDest();</div>
<div class="line"><a name="l02485"></a><span class="lineno"> 2485</span>&#160;          OrigNormalDest-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#afe7af0c3ec2ef1f525173acd2ea4ba60">removePredecessor</a>(II-&gt;getParent());</div>
<div class="line"><a name="l02486"></a><span class="lineno"> 2486</span>&#160;          <a class="code" href="classllvm_1_1LLVMContext.html">LLVMContext</a> &amp;Ctx = II-&gt;getContext();</div>
<div class="line"><a name="l02487"></a><span class="lineno"> 2487</span>&#160;          <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *UnreachableNormalDest = <a class="code" href="classllvm_1_1BasicBlock.html#ace940beeee97c222f836fe0ac70f6cf5">BasicBlock::Create</a>(</div>
<div class="line"><a name="l02488"></a><span class="lineno"> 2488</span>&#160;              Ctx, OrigNormalDest-&gt;<a class="code" href="classllvm_1_1Value.html#adb5c319f5905c1d3ca9eb5df546388c5">getName</a>() + <span class="stringliteral">&quot;.unreachable&quot;</span>,</div>
<div class="line"><a name="l02489"></a><span class="lineno"> 2489</span>&#160;              II-&gt;getFunction(), OrigNormalDest);</div>
<div class="line"><a name="l02490"></a><span class="lineno"> 2490</span>&#160;          <span class="keyword">new</span> <a class="code" href="classllvm_1_1UnreachableInst.html">UnreachableInst</a>(Ctx, UnreachableNormalDest);</div>
<div class="line"><a name="l02491"></a><span class="lineno"> 2491</span>&#160;          II-&gt;setNormalDest(UnreachableNormalDest);</div>
<div class="line"><a name="l02492"></a><span class="lineno"> 2492</span>&#160;          <span class="keywordflow">if</span> (DTU)</div>
<div class="line"><a name="l02493"></a><span class="lineno"> 2493</span>&#160;            DTU-&gt;applyUpdates(</div>
<div class="line"><a name="l02494"></a><span class="lineno"> 2494</span>&#160;                {{<a class="code" href="classllvm_1_1DominatorTreeBase.html#a71c91cbbfc1c0ecf9a69e10ccf739bd7">DominatorTree::Delete</a>, <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>, OrigNormalDest},</div>
<div class="line"><a name="l02495"></a><span class="lineno"> 2495</span>&#160;                 {<a class="code" href="classllvm_1_1DominatorTreeBase.html#a9aeeca2833810f01b20545a46fe22503">DominatorTree::Insert</a>, <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>, UnreachableNormalDest}});</div>
<div class="line"><a name="l02496"></a><span class="lineno"> 2496</span>&#160;          Changed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02497"></a><span class="lineno"> 2497</span>&#160;        }</div>
<div class="line"><a name="l02498"></a><span class="lineno"> 2498</span>&#160;        <span class="keywordflow">if</span> (II-&gt;doesNotThrow() &amp;&amp; <a class="code" href="namespacellvm.html#a57f0e4faf4e39fa79daf9de35b1c7244">canSimplifyInvokeNoUnwind</a>(&amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>)) {</div>
<div class="line"><a name="l02499"></a><span class="lineno"> 2499</span>&#160;          <span class="keywordflow">if</span> (II-&gt;use_empty() &amp;&amp; !II-&gt;mayHaveSideEffects()) {</div>
<div class="line"><a name="l02500"></a><span class="lineno"> 2500</span>&#160;            <span class="comment">// jump to the normal destination branch.</span></div>
<div class="line"><a name="l02501"></a><span class="lineno"> 2501</span>&#160;            <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *NormalDestBB = II-&gt;getNormalDest();</div>
<div class="line"><a name="l02502"></a><span class="lineno"> 2502</span>&#160;            <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *UnwindDestBB = II-&gt;getUnwindDest();</div>
<div class="line"><a name="l02503"></a><span class="lineno"> 2503</span>&#160;            <a class="code" href="classllvm_1_1BranchInst.html#a38df51256d4b415b6a817b5e1c6d4d36">BranchInst::Create</a>(NormalDestBB, II);</div>
<div class="line"><a name="l02504"></a><span class="lineno"> 2504</span>&#160;            UnwindDestBB-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#afe7af0c3ec2ef1f525173acd2ea4ba60">removePredecessor</a>(II-&gt;getParent());</div>
<div class="line"><a name="l02505"></a><span class="lineno"> 2505</span>&#160;            II-&gt;eraseFromParent();</div>
<div class="line"><a name="l02506"></a><span class="lineno"> 2506</span>&#160;            <span class="keywordflow">if</span> (DTU)</div>
<div class="line"><a name="l02507"></a><span class="lineno"> 2507</span>&#160;              DTU-&gt;applyUpdates({{<a class="code" href="classllvm_1_1DominatorTreeBase.html#a71c91cbbfc1c0ecf9a69e10ccf739bd7">DominatorTree::Delete</a>, <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>, UnwindDestBB}});</div>
<div class="line"><a name="l02508"></a><span class="lineno"> 2508</span>&#160;          } <span class="keywordflow">else</span></div>
<div class="line"><a name="l02509"></a><span class="lineno"> 2509</span>&#160;            <a class="code" href="namespacellvm.html#a2b3fdb09b0789963c439d41fe91e44a1">changeToCall</a>(II, DTU);</div>
<div class="line"><a name="l02510"></a><span class="lineno"> 2510</span>&#160;          Changed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02511"></a><span class="lineno"> 2511</span>&#160;        }</div>
<div class="line"><a name="l02512"></a><span class="lineno"> 2512</span>&#160;      }</div>
<div class="line"><a name="l02513"></a><span class="lineno"> 2513</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="keyword">auto</span> *CatchSwitch = dyn_cast&lt;CatchSwitchInst&gt;(<a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023af121d798d2c14b32e81d537a1f0cff8d">Terminator</a>)) {</div>
<div class="line"><a name="l02514"></a><span class="lineno"> 2514</span>&#160;      <span class="comment">// Remove catchpads which cannot be reached.</span></div>
<div class="line"><a name="l02515"></a><span class="lineno"> 2515</span>&#160;      <span class="keyword">struct </span>CatchPadDenseMapInfo {</div>
<div class="line"><a name="l02516"></a><span class="lineno"> 2516</span>&#160;        <span class="keyword">static</span> <a class="code" href="classllvm_1_1CatchPadInst.html">CatchPadInst</a> *getEmptyKey() {</div>
<div class="line"><a name="l02517"></a><span class="lineno"> 2517</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="structllvm_1_1DenseMapInfo.html">DenseMapInfo&lt;CatchPadInst *&gt;::getEmptyKey</a>();</div>
<div class="line"><a name="l02518"></a><span class="lineno"> 2518</span>&#160;        }</div>
<div class="line"><a name="l02519"></a><span class="lineno"> 2519</span>&#160; </div>
<div class="line"><a name="l02520"></a><span class="lineno"> 2520</span>&#160;        <span class="keyword">static</span> <a class="code" href="classllvm_1_1CatchPadInst.html">CatchPadInst</a> *getTombstoneKey() {</div>
<div class="line"><a name="l02521"></a><span class="lineno"> 2521</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="structllvm_1_1DenseMapInfo.html">DenseMapInfo&lt;CatchPadInst *&gt;::getTombstoneKey</a>();</div>
<div class="line"><a name="l02522"></a><span class="lineno"> 2522</span>&#160;        }</div>
<div class="line"><a name="l02523"></a><span class="lineno"> 2523</span>&#160; </div>
<div class="line"><a name="l02524"></a><span class="lineno"> 2524</span>&#160;        <span class="keyword">static</span> <span class="keywordtype">unsigned</span> getHashValue(<a class="code" href="classllvm_1_1CatchPadInst.html">CatchPadInst</a> *CatchPad) {</div>
<div class="line"><a name="l02525"></a><span class="lineno"> 2525</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keywordtype">unsigned</span><span class="keyword">&gt;</span>(<a class="code" href="namespacellvm.html#af80edfc5e42059e045aa7bf7fe42bee3">hash_combine_range</a>(</div>
<div class="line"><a name="l02526"></a><span class="lineno"> 2526</span>&#160;              CatchPad-&gt;<a class="code" href="classllvm_1_1User.html#ad93396a26f6fd589ed400bb280319836">value_op_begin</a>(), CatchPad-&gt;<a class="code" href="classllvm_1_1User.html#a5d1730a173d0a69624b80e1e22e6d225">value_op_end</a>()));</div>
<div class="line"><a name="l02527"></a><span class="lineno"> 2527</span>&#160;        }</div>
<div class="line"><a name="l02528"></a><span class="lineno"> 2528</span>&#160; </div>
<div class="line"><a name="l02529"></a><span class="lineno"> 2529</span>&#160;        <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="namespacellvm.html#a0f0d66fa63bebb53ddd51f1cc4def0f8">isEqual</a>(<a class="code" href="classllvm_1_1CatchPadInst.html">CatchPadInst</a> *<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="classllvm_1_1CatchPadInst.html">CatchPadInst</a> *<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>) {</div>
<div class="line"><a name="l02530"></a><span class="lineno"> 2530</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a> == getEmptyKey() || <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a> == getTombstoneKey() ||</div>
<div class="line"><a name="l02531"></a><span class="lineno"> 2531</span>&#160;              <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a> == getEmptyKey() || <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a> == getTombstoneKey())</div>
<div class="line"><a name="l02532"></a><span class="lineno"> 2532</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a> == <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>;</div>
<div class="line"><a name="l02533"></a><span class="lineno"> 2533</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>-&gt;isIdenticalTo(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l02534"></a><span class="lineno"> 2534</span>&#160;        }</div>
<div class="line"><a name="l02535"></a><span class="lineno"> 2535</span>&#160;      };</div>
<div class="line"><a name="l02536"></a><span class="lineno"> 2536</span>&#160; </div>
<div class="line"><a name="l02537"></a><span class="lineno"> 2537</span>&#160;      <a class="code" href="classllvm_1_1SmallDenseMap.html">SmallDenseMap&lt;BasicBlock *, int, 8&gt;</a> NumPerSuccessorCases;</div>
<div class="line"><a name="l02538"></a><span class="lineno"> 2538</span>&#160;      <span class="comment">// Set of unique CatchPads.</span></div>
<div class="line"><a name="l02539"></a><span class="lineno"> 2539</span>&#160;      <a class="code" href="classllvm_1_1SmallDenseMap.html">SmallDenseMap</a>&lt;<a class="code" href="classllvm_1_1CatchPadInst.html">CatchPadInst</a> *, <a class="code" href="structllvm_1_1detail_1_1DenseSetEmpty.html">detail::DenseSetEmpty</a>, 4,</div>
<div class="line"><a name="l02540"></a><span class="lineno"> 2540</span>&#160;                    CatchPadDenseMapInfo, <a class="code" href="classllvm_1_1detail_1_1DenseSetPair.html">detail::DenseSetPair&lt;CatchPadInst *&gt;</a>&gt;</div>
<div class="line"><a name="l02541"></a><span class="lineno"> 2541</span>&#160;          HandlerSet;</div>
<div class="line"><a name="l02542"></a><span class="lineno"> 2542</span>&#160;      <a class="code" href="structllvm_1_1detail_1_1DenseSetEmpty.html">detail::DenseSetEmpty</a> Empty;</div>
<div class="line"><a name="l02543"></a><span class="lineno"> 2543</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1mapped__iterator.html">CatchSwitchInst::handler_iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = CatchSwitch-&gt;handler_begin(),</div>
<div class="line"><a name="l02544"></a><span class="lineno"> 2544</span>&#160;                                             <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = CatchSwitch-&gt;handler_end();</div>
<div class="line"><a name="l02545"></a><span class="lineno"> 2545</span>&#160;           <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l02546"></a><span class="lineno"> 2546</span>&#160;        <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *HandlerBB = *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div>
<div class="line"><a name="l02547"></a><span class="lineno"> 2547</span>&#160;        <span class="keywordflow">if</span> (DTU)</div>
<div class="line"><a name="l02548"></a><span class="lineno"> 2548</span>&#160;          ++NumPerSuccessorCases[HandlerBB];</div>
<div class="line"><a name="l02549"></a><span class="lineno"> 2549</span>&#160;        <span class="keyword">auto</span> *CatchPad = cast&lt;CatchPadInst&gt;(HandlerBB-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#a46ef6115027606b67adcf4d28f3dac17">getFirstNonPHI</a>());</div>
<div class="line"><a name="l02550"></a><span class="lineno"> 2550</span>&#160;        <span class="keywordflow">if</span> (!HandlerSet.insert({CatchPad, Empty}).second) {</div>
<div class="line"><a name="l02551"></a><span class="lineno"> 2551</span>&#160;          <span class="keywordflow">if</span> (DTU)</div>
<div class="line"><a name="l02552"></a><span class="lineno"> 2552</span>&#160;            --NumPerSuccessorCases[HandlerBB];</div>
<div class="line"><a name="l02553"></a><span class="lineno"> 2553</span>&#160;          CatchSwitch-&gt;removeHandler(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l02554"></a><span class="lineno"> 2554</span>&#160;          --<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div>
<div class="line"><a name="l02555"></a><span class="lineno"> 2555</span>&#160;          --<a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>;</div>
<div class="line"><a name="l02556"></a><span class="lineno"> 2556</span>&#160;          Changed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02557"></a><span class="lineno"> 2557</span>&#160;        }</div>
<div class="line"><a name="l02558"></a><span class="lineno"> 2558</span>&#160;      }</div>
<div class="line"><a name="l02559"></a><span class="lineno"> 2559</span>&#160;      <span class="keywordflow">if</span> (DTU) {</div>
<div class="line"><a name="l02560"></a><span class="lineno"> 2560</span>&#160;        std::vector&lt;DominatorTree::UpdateType&gt; Updates;</div>
<div class="line"><a name="l02561"></a><span class="lineno"> 2561</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">const</span> std::pair&lt;BasicBlock *, int&gt; &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> : NumPerSuccessorCases)</div>
<div class="line"><a name="l02562"></a><span class="lineno"> 2562</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.second == 0)</div>
<div class="line"><a name="l02563"></a><span class="lineno"> 2563</span>&#160;            Updates.push_back({<a class="code" href="classllvm_1_1DominatorTreeBase.html#a71c91cbbfc1c0ecf9a69e10ccf739bd7">DominatorTree::Delete</a>, <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.first});</div>
<div class="line"><a name="l02564"></a><span class="lineno"> 2564</span>&#160;        DTU-&gt;applyUpdates(Updates);</div>
<div class="line"><a name="l02565"></a><span class="lineno"> 2565</span>&#160;      }</div>
<div class="line"><a name="l02566"></a><span class="lineno"> 2566</span>&#160;    }</div>
<div class="line"><a name="l02567"></a><span class="lineno"> 2567</span>&#160; </div>
<div class="line"><a name="l02568"></a><span class="lineno"> 2568</span>&#160;    Changed |= <a class="code" href="namespacellvm.html#a152d8c380cc937c9dceb402ceec943b6">ConstantFoldTerminator</a>(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>, <span class="keyword">true</span>, <span class="keyword">nullptr</span>, DTU);</div>
<div class="line"><a name="l02569"></a><span class="lineno"> 2569</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06add2496ae8d635f9f169602771c88d376">Successor</a> : <a class="code" href="namespacellvm.html#a26e2a938b431eaa6eca2beaa96410c9d">successors</a>(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>))</div>
<div class="line"><a name="l02570"></a><span class="lineno"> 2570</span>&#160;      <span class="keywordflow">if</span> (Reachable.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">insert</a>(<a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06add2496ae8d635f9f169602771c88d376">Successor</a>).second)</div>
<div class="line"><a name="l02571"></a><span class="lineno"> 2571</span>&#160;        Worklist.push_back(<a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06add2496ae8d635f9f169602771c88d376">Successor</a>);</div>
<div class="line"><a name="l02572"></a><span class="lineno"> 2572</span>&#160;  } <span class="keywordflow">while</span> (!Worklist.empty());</div>
<div class="line"><a name="l02573"></a><span class="lineno"> 2573</span>&#160;  <span class="keywordflow">return</span> Changed;</div>
<div class="line"><a name="l02574"></a><span class="lineno"> 2574</span>&#160;}</div>
<div class="line"><a name="l02575"></a><span class="lineno"> 2575</span>&#160; </div>
<div class="line"><a name="l02576"></a><span class="lineno"><a class="line" href="namespacellvm.html#a83cbd0aa1465957c50eaea8374875b27"> 2576</a></span>&#160;<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="namespacellvm.html#a83cbd0aa1465957c50eaea8374875b27">llvm::removeUnwindEdge</a>(<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>, <a class="code" href="classllvm_1_1DomTreeUpdater.html">DomTreeUpdater</a> *DTU) {</div>
<div class="line"><a name="l02577"></a><span class="lineno"> 2577</span>&#160;  <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *TI = <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>-&gt;getTerminator();</div>
<div class="line"><a name="l02578"></a><span class="lineno"> 2578</span>&#160; </div>
<div class="line"><a name="l02579"></a><span class="lineno"> 2579</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *II = dyn_cast&lt;InvokeInst&gt;(TI))</div>
<div class="line"><a name="l02580"></a><span class="lineno"> 2580</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a2b3fdb09b0789963c439d41fe91e44a1">changeToCall</a>(II, DTU);</div>
<div class="line"><a name="l02581"></a><span class="lineno"> 2581</span>&#160; </div>
<div class="line"><a name="l02582"></a><span class="lineno"> 2582</span>&#160;  <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *NewTI;</div>
<div class="line"><a name="l02583"></a><span class="lineno"> 2583</span>&#160;  <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *UnwindDest;</div>
<div class="line"><a name="l02584"></a><span class="lineno"> 2584</span>&#160; </div>
<div class="line"><a name="l02585"></a><span class="lineno"> 2585</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *CRI = dyn_cast&lt;CleanupReturnInst&gt;(TI)) {</div>
<div class="line"><a name="l02586"></a><span class="lineno"> 2586</span>&#160;    NewTI = <a class="code" href="classllvm_1_1CleanupReturnInst.html#a12229044a9165df6c04a72377885874a">CleanupReturnInst::Create</a>(CRI-&gt;getCleanupPad(), <span class="keyword">nullptr</span>, CRI);</div>
<div class="line"><a name="l02587"></a><span class="lineno"> 2587</span>&#160;    UnwindDest = CRI-&gt;getUnwindDest();</div>
<div class="line"><a name="l02588"></a><span class="lineno"> 2588</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="keyword">auto</span> *CatchSwitch = dyn_cast&lt;CatchSwitchInst&gt;(TI)) {</div>
<div class="line"><a name="l02589"></a><span class="lineno"> 2589</span>&#160;    <span class="keyword">auto</span> *NewCatchSwitch = <a class="code" href="classllvm_1_1CatchSwitchInst.html#ae61b8e2a70c05a76af629cd6acb64390">CatchSwitchInst::Create</a>(</div>
<div class="line"><a name="l02590"></a><span class="lineno"> 2590</span>&#160;        CatchSwitch-&gt;getParentPad(), <span class="keyword">nullptr</span>, CatchSwitch-&gt;getNumHandlers(),</div>
<div class="line"><a name="l02591"></a><span class="lineno"> 2591</span>&#160;        CatchSwitch-&gt;getName(), CatchSwitch);</div>
<div class="line"><a name="l02592"></a><span class="lineno"> 2592</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *PadBB : CatchSwitch-&gt;handlers())</div>
<div class="line"><a name="l02593"></a><span class="lineno"> 2593</span>&#160;      NewCatchSwitch-&gt;addHandler(PadBB);</div>
<div class="line"><a name="l02594"></a><span class="lineno"> 2594</span>&#160; </div>
<div class="line"><a name="l02595"></a><span class="lineno"> 2595</span>&#160;    NewTI = NewCatchSwitch;</div>
<div class="line"><a name="l02596"></a><span class="lineno"> 2596</span>&#160;    UnwindDest = CatchSwitch-&gt;getUnwindDest();</div>
<div class="line"><a name="l02597"></a><span class="lineno"> 2597</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02598"></a><span class="lineno"> 2598</span>&#160;    <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Could not find unwind successor&quot;</span>);</div>
<div class="line"><a name="l02599"></a><span class="lineno"> 2599</span>&#160;  }</div>
<div class="line"><a name="l02600"></a><span class="lineno"> 2600</span>&#160; </div>
<div class="line"><a name="l02601"></a><span class="lineno"> 2601</span>&#160;  NewTI-&gt;<a class="code" href="classllvm_1_1Value.html#ae855357b6c5e6e7ed1869272708a3a84">takeName</a>(TI);</div>
<div class="line"><a name="l02602"></a><span class="lineno"> 2602</span>&#160;  NewTI-&gt;<a class="code" href="classllvm_1_1Instruction.html#ae8f5bf5cc06f696b52c709677df00fbf">setDebugLoc</a>(TI-&gt;<a class="code" href="classllvm_1_1Instruction.html#ab4f3bf98b5054831b608852e33427814">getDebugLoc</a>());</div>
<div class="line"><a name="l02603"></a><span class="lineno"> 2603</span>&#160;  UnwindDest-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#afe7af0c3ec2ef1f525173acd2ea4ba60">removePredecessor</a>(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>);</div>
<div class="line"><a name="l02604"></a><span class="lineno"> 2604</span>&#160;  TI-&gt;<a class="code" href="classllvm_1_1Value.html#a3ab5fc45117b450e8bb04e564cb6e5f2">replaceAllUsesWith</a>(NewTI);</div>
<div class="line"><a name="l02605"></a><span class="lineno"> 2605</span>&#160;  TI-&gt;<a class="code" href="classllvm_1_1Instruction.html#ae6b978645b8ac72d1a35e1298ffdd4f0">eraseFromParent</a>();</div>
<div class="line"><a name="l02606"></a><span class="lineno"> 2606</span>&#160;  <span class="keywordflow">if</span> (DTU)</div>
<div class="line"><a name="l02607"></a><span class="lineno"> 2607</span>&#160;    DTU-&gt;<a class="code" href="classllvm_1_1DomTreeUpdater.html#aae522cd1928cfac6850b50c7a3e22185">applyUpdates</a>({{<a class="code" href="classllvm_1_1DominatorTreeBase.html#a71c91cbbfc1c0ecf9a69e10ccf739bd7">DominatorTree::Delete</a>, <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>, UnwindDest}});</div>
<div class="line"><a name="l02608"></a><span class="lineno"> 2608</span>&#160;  <span class="keywordflow">return</span> NewTI;</div>
<div class="line"><a name="l02609"></a><span class="lineno"> 2609</span>&#160;}</div>
<div class="line"><a name="l02610"></a><span class="lineno"> 2610</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l02611"></a><span class="lineno"> 2611</span>&#160;<span class="comment">/// removeUnreachableBlocks - Remove blocks that are not reachable, even</span></div>
<div class="line"><a name="l02612"></a><span class="lineno"> 2612</span>&#160;<span class="comment">/// if they are in a dead cycle.  Return true if a change was made, false</span></div>
<div class="line"><a name="l02613"></a><span class="lineno"> 2613</span>&#160;<span class="comment">/// otherwise.</span></div>
<div class="line"><a name="l02614"></a><span class="lineno"><a class="line" href="namespacellvm.html#aec88b7682025edff7984c3b6c8da8ac9"> 2614</a></span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> <a class="code" href="namespacellvm.html#aec88b7682025edff7984c3b6c8da8ac9">llvm::removeUnreachableBlocks</a>(<a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, <a class="code" href="classllvm_1_1DomTreeUpdater.html">DomTreeUpdater</a> *DTU,</div>
<div class="line"><a name="l02615"></a><span class="lineno"> 2615</span>&#160;                                   <a class="code" href="classllvm_1_1MemorySSAUpdater.html">MemorySSAUpdater</a> *MSSAU) {</div>
<div class="line"><a name="l02616"></a><span class="lineno"> 2616</span>&#160;  <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;BasicBlock *, 16&gt;</a> Reachable;</div>
<div class="line"><a name="l02617"></a><span class="lineno"> 2617</span>&#160;  <span class="keywordtype">bool</span> Changed = <a class="code" href="Transforms_2Utils_2Local_8cpp.html#a0af4594038f5cb46e7a4c86713520c95">markAliveBlocks</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, Reachable, DTU);</div>
<div class="line"><a name="l02618"></a><span class="lineno"> 2618</span>&#160; </div>
<div class="line"><a name="l02619"></a><span class="lineno"> 2619</span>&#160;  <span class="comment">// If there are unreachable blocks in the CFG...</span></div>
<div class="line"><a name="l02620"></a><span class="lineno"> 2620</span>&#160;  <span class="keywordflow">if</span> (Reachable.<a class="code" href="classllvm_1_1SmallPtrSetImplBase.html#a0e1c3175b0ac22fe3853651c28e1ecb8">size</a>() == <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.size())</div>
<div class="line"><a name="l02621"></a><span class="lineno"> 2621</span>&#160;    <span class="keywordflow">return</span> Changed;</div>
<div class="line"><a name="l02622"></a><span class="lineno"> 2622</span>&#160; </div>
<div class="line"><a name="l02623"></a><span class="lineno"> 2623</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Reachable.<a class="code" href="classllvm_1_1SmallPtrSetImplBase.html#a0e1c3175b0ac22fe3853651c28e1ecb8">size</a>() &lt; <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.size());</div>
<div class="line"><a name="l02624"></a><span class="lineno"> 2624</span>&#160; </div>
<div class="line"><a name="l02625"></a><span class="lineno"> 2625</span>&#160;  <span class="comment">// Are there any blocks left to actually delete?</span></div>
<div class="line"><a name="l02626"></a><span class="lineno"> 2626</span>&#160;  <a class="code" href="classllvm_1_1SmallSetVector.html">SmallSetVector&lt;BasicBlock *, 8&gt;</a> BlocksToRemove;</div>
<div class="line"><a name="l02627"></a><span class="lineno"> 2627</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> &amp;<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a> : <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>) {</div>
<div class="line"><a name="l02628"></a><span class="lineno"> 2628</span>&#160;    <span class="comment">// Skip reachable basic blocks</span></div>
<div class="line"><a name="l02629"></a><span class="lineno"> 2629</span>&#160;    <span class="keywordflow">if</span> (Reachable.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a1f475b0df44ebd7169e720fa1bf9169e">count</a>(&amp;<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>))</div>
<div class="line"><a name="l02630"></a><span class="lineno"> 2630</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02631"></a><span class="lineno"> 2631</span>&#160;    <span class="comment">// Skip already-deleted blocks</span></div>
<div class="line"><a name="l02632"></a><span class="lineno"> 2632</span>&#160;    <span class="keywordflow">if</span> (DTU &amp;&amp; DTU-&gt;<a class="code" href="classllvm_1_1DomTreeUpdater.html#aa11a3f736168200639e5ead7e3ed16db">isBBPendingDeletion</a>(&amp;<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>))</div>
<div class="line"><a name="l02633"></a><span class="lineno"> 2633</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02634"></a><span class="lineno"> 2634</span>&#160;    BlocksToRemove.<a class="code" href="classllvm_1_1SetVector.html#a72d928b7fc2c5f2d56c6ac0265fd9c6e">insert</a>(&amp;<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>);</div>
<div class="line"><a name="l02635"></a><span class="lineno"> 2635</span>&#160;  }</div>
<div class="line"><a name="l02636"></a><span class="lineno"> 2636</span>&#160; </div>
<div class="line"><a name="l02637"></a><span class="lineno"> 2637</span>&#160;  <span class="keywordflow">if</span> (BlocksToRemove.<a class="code" href="classllvm_1_1SetVector.html#aaf9ee38b9973681c1720aaf03af3a069">empty</a>())</div>
<div class="line"><a name="l02638"></a><span class="lineno"> 2638</span>&#160;    <span class="keywordflow">return</span> Changed;</div>
<div class="line"><a name="l02639"></a><span class="lineno"> 2639</span>&#160; </div>
<div class="line"><a name="l02640"></a><span class="lineno"> 2640</span>&#160;  Changed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02641"></a><span class="lineno"> 2641</span>&#160;  NumRemoved += BlocksToRemove.<a class="code" href="classllvm_1_1SetVector.html#a18b9d328d2490f447589ba60345eba6e">size</a>();</div>
<div class="line"><a name="l02642"></a><span class="lineno"> 2642</span>&#160; </div>
<div class="line"><a name="l02643"></a><span class="lineno"> 2643</span>&#160;  <span class="keywordflow">if</span> (MSSAU)</div>
<div class="line"><a name="l02644"></a><span class="lineno"> 2644</span>&#160;    MSSAU-&gt;<a class="code" href="classllvm_1_1MemorySSAUpdater.html#aa0c15073f16693ebc44c2410986cacec">removeBlocks</a>(BlocksToRemove);</div>
<div class="line"><a name="l02645"></a><span class="lineno"> 2645</span>&#160; </div>
<div class="line"><a name="l02646"></a><span class="lineno"> 2646</span>&#160;  <a class="code" href="namespacellvm.html#addf42fea14164ec994d4d517eaa56688">DeleteDeadBlocks</a>(BlocksToRemove.<a class="code" href="classllvm_1_1SetVector.html#aafddd417cece33b6747376123d8af51f">takeVector</a>(), DTU);</div>
<div class="line"><a name="l02647"></a><span class="lineno"> 2647</span>&#160; </div>
<div class="line"><a name="l02648"></a><span class="lineno"> 2648</span>&#160;  <span class="keywordflow">return</span> Changed;</div>
<div class="line"><a name="l02649"></a><span class="lineno"> 2649</span>&#160;}</div>
<div class="line"><a name="l02650"></a><span class="lineno"> 2650</span>&#160; </div>
<div class="line"><a name="l02651"></a><span class="lineno"><a class="line" href="namespacellvm.html#a929b458d1b5080256b6f6c8141bbdfea"> 2651</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacellvm.html#a929b458d1b5080256b6f6c8141bbdfea">llvm::combineMetadata</a>(<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *K, <span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *J,</div>
<div class="line"><a name="l02652"></a><span class="lineno"> 2652</span>&#160;                           <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;unsigned&gt;</a> KnownIDs, <span class="keywordtype">bool</span> DoesKMove) {</div>
<div class="line"><a name="l02653"></a><span class="lineno"> 2653</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;std::pair&lt;unsigned, MDNode *&gt;</a>, 4&gt; <a class="code" href="classllvm_1_1Metadata.html">Metadata</a>;</div>
<div class="line"><a name="l02654"></a><span class="lineno"> 2654</span>&#160;  K-&gt;<a class="code" href="classllvm_1_1Instruction.html#afe61be671b7569dcff028bb1d0303c3d">dropUnknownNonDebugMetadata</a>(KnownIDs);</div>
<div class="line"><a name="l02655"></a><span class="lineno"> 2655</span>&#160;  K-&gt;<a class="code" href="classllvm_1_1Instruction.html#a7ed351739b2d34b5a8519c71d523fb38">getAllMetadataOtherThanDebugLoc</a>(<a class="code" href="classllvm_1_1Metadata.html">Metadata</a>);</div>
<div class="line"><a name="l02656"></a><span class="lineno"> 2656</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;MD : <a class="code" href="classllvm_1_1Metadata.html">Metadata</a>) {</div>
<div class="line"><a name="l02657"></a><span class="lineno"> 2657</span>&#160;    <span class="keywordtype">unsigned</span> Kind = MD.first;</div>
<div class="line"><a name="l02658"></a><span class="lineno"> 2658</span>&#160;    <a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *JMD = J-&gt;<a class="code" href="classllvm_1_1Instruction.html#ae22f493ba8327ce92e87d3b96bce7017">getMetadata</a>(Kind);</div>
<div class="line"><a name="l02659"></a><span class="lineno"> 2659</span>&#160;    <a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *KMD = MD.second;</div>
<div class="line"><a name="l02660"></a><span class="lineno"> 2660</span>&#160; </div>
<div class="line"><a name="l02661"></a><span class="lineno"> 2661</span>&#160;    <span class="keywordflow">switch</span> (Kind) {</div>
<div class="line"><a name="l02662"></a><span class="lineno"> 2662</span>&#160;      <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l02663"></a><span class="lineno"> 2663</span>&#160;        K-&gt;<a class="code" href="classllvm_1_1Instruction.html#a9247a212ea89acc9573fa7e7f557eaba">setMetadata</a>(Kind, <span class="keyword">nullptr</span>); <span class="comment">// Remove unknown metadata</span></div>
<div class="line"><a name="l02664"></a><span class="lineno"> 2664</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02665"></a><span class="lineno"> 2665</span>&#160;      <span class="keywordflow">case</span> LLVMContext::MD_dbg:</div>
<div class="line"><a name="l02666"></a><span class="lineno"> 2666</span>&#160;        <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;getAllMetadataOtherThanDebugLoc returned a MD_dbg&quot;</span>);</div>
<div class="line"><a name="l02667"></a><span class="lineno"> 2667</span>&#160;      <span class="keywordflow">case</span> LLVMContext::MD_DIAssignID:</div>
<div class="line"><a name="l02668"></a><span class="lineno"> 2668</span>&#160;        K-&gt;<a class="code" href="classllvm_1_1Instruction.html#a2711d3bc7c6c769a8f34c7fc3937169d">mergeDIAssignID</a>(J);</div>
<div class="line"><a name="l02669"></a><span class="lineno"> 2669</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02670"></a><span class="lineno"> 2670</span>&#160;      <span class="keywordflow">case</span> LLVMContext::MD_tbaa:</div>
<div class="line"><a name="l02671"></a><span class="lineno"> 2671</span>&#160;        K-&gt;<a class="code" href="classllvm_1_1Instruction.html#a9247a212ea89acc9573fa7e7f557eaba">setMetadata</a>(Kind, <a class="code" href="classllvm_1_1MDNode.html#a3c210e8905029a012df3384a7eeb63ad">MDNode::getMostGenericTBAA</a>(JMD, KMD));</div>
<div class="line"><a name="l02672"></a><span class="lineno"> 2672</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02673"></a><span class="lineno"> 2673</span>&#160;      <span class="keywordflow">case</span> LLVMContext::MD_alias_scope:</div>
<div class="line"><a name="l02674"></a><span class="lineno"> 2674</span>&#160;        K-&gt;<a class="code" href="classllvm_1_1Instruction.html#a9247a212ea89acc9573fa7e7f557eaba">setMetadata</a>(Kind, <a class="code" href="classllvm_1_1MDNode.html#a088247f165cc7e2ca9a3917adc0e75df">MDNode::getMostGenericAliasScope</a>(JMD, KMD));</div>
<div class="line"><a name="l02675"></a><span class="lineno"> 2675</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02676"></a><span class="lineno"> 2676</span>&#160;      <span class="keywordflow">case</span> LLVMContext::MD_noalias:</div>
<div class="line"><a name="l02677"></a><span class="lineno"> 2677</span>&#160;      <span class="keywordflow">case</span> LLVMContext::MD_mem_parallel_loop_access:</div>
<div class="line"><a name="l02678"></a><span class="lineno"> 2678</span>&#160;        K-&gt;<a class="code" href="classllvm_1_1Instruction.html#a9247a212ea89acc9573fa7e7f557eaba">setMetadata</a>(Kind, <a class="code" href="classllvm_1_1MDNode.html#acdbfda46c9837123ef7143244fc1f904">MDNode::intersect</a>(JMD, KMD));</div>
<div class="line"><a name="l02679"></a><span class="lineno"> 2679</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02680"></a><span class="lineno"> 2680</span>&#160;      <span class="keywordflow">case</span> LLVMContext::MD_access_group:</div>
<div class="line"><a name="l02681"></a><span class="lineno"> 2681</span>&#160;        K-&gt;<a class="code" href="classllvm_1_1Instruction.html#a9247a212ea89acc9573fa7e7f557eaba">setMetadata</a>(LLVMContext::MD_access_group,</div>
<div class="line"><a name="l02682"></a><span class="lineno"> 2682</span>&#160;                       <a class="code" href="namespacellvm.html#a51d22a1ed809d7cb1c1eb46c820c8226">intersectAccessGroups</a>(K, J));</div>
<div class="line"><a name="l02683"></a><span class="lineno"> 2683</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02684"></a><span class="lineno"> 2684</span>&#160;      <span class="keywordflow">case</span> LLVMContext::MD_range:</div>
<div class="line"><a name="l02685"></a><span class="lineno"> 2685</span>&#160; </div>
<div class="line"><a name="l02686"></a><span class="lineno"> 2686</span>&#160;        <span class="comment">// If K does move, use most generic range. Otherwise keep the range of</span></div>
<div class="line"><a name="l02687"></a><span class="lineno"> 2687</span>&#160;        <span class="comment">// K.</span></div>
<div class="line"><a name="l02688"></a><span class="lineno"> 2688</span>&#160;        <span class="keywordflow">if</span> (DoesKMove)</div>
<div class="line"><a name="l02689"></a><span class="lineno"> 2689</span>&#160;          <span class="comment">// FIXME: If K does move, we should drop the range info and nonnull.</span></div>
<div class="line"><a name="l02690"></a><span class="lineno"> 2690</span>&#160;          <span class="comment">//        Currently this function is used with DoesKMove in passes</span></div>
<div class="line"><a name="l02691"></a><span class="lineno"> 2691</span>&#160;          <span class="comment">//        doing hoisting/sinking and the current behavior of using the</span></div>
<div class="line"><a name="l02692"></a><span class="lineno"> 2692</span>&#160;          <span class="comment">//        most generic range is correct in those cases.</span></div>
<div class="line"><a name="l02693"></a><span class="lineno"> 2693</span>&#160;          K-&gt;<a class="code" href="classllvm_1_1Instruction.html#a9247a212ea89acc9573fa7e7f557eaba">setMetadata</a>(Kind, <a class="code" href="classllvm_1_1MDNode.html#aac6e3a0dec40a6721857cbbd4330039f">MDNode::getMostGenericRange</a>(JMD, KMD));</div>
<div class="line"><a name="l02694"></a><span class="lineno"> 2694</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02695"></a><span class="lineno"> 2695</span>&#160;      <span class="keywordflow">case</span> LLVMContext::MD_fpmath:</div>
<div class="line"><a name="l02696"></a><span class="lineno"> 2696</span>&#160;        K-&gt;<a class="code" href="classllvm_1_1Instruction.html#a9247a212ea89acc9573fa7e7f557eaba">setMetadata</a>(Kind, <a class="code" href="classllvm_1_1MDNode.html#a9d9f2d817781a31c771406d1f0acc9fb">MDNode::getMostGenericFPMath</a>(JMD, KMD));</div>
<div class="line"><a name="l02697"></a><span class="lineno"> 2697</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02698"></a><span class="lineno"> 2698</span>&#160;      <span class="keywordflow">case</span> LLVMContext::MD_invariant_load:</div>
<div class="line"><a name="l02699"></a><span class="lineno"> 2699</span>&#160;        <span class="comment">// Only set the !invariant.load if it is present in both instructions.</span></div>
<div class="line"><a name="l02700"></a><span class="lineno"> 2700</span>&#160;        K-&gt;<a class="code" href="classllvm_1_1Instruction.html#a9247a212ea89acc9573fa7e7f557eaba">setMetadata</a>(Kind, JMD);</div>
<div class="line"><a name="l02701"></a><span class="lineno"> 2701</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02702"></a><span class="lineno"> 2702</span>&#160;      <span class="keywordflow">case</span> LLVMContext::MD_nonnull:</div>
<div class="line"><a name="l02703"></a><span class="lineno"> 2703</span>&#160;        <span class="comment">// If K does move, keep nonull if it is present in both instructions.</span></div>
<div class="line"><a name="l02704"></a><span class="lineno"> 2704</span>&#160;        <span class="keywordflow">if</span> (DoesKMove)</div>
<div class="line"><a name="l02705"></a><span class="lineno"> 2705</span>&#160;          K-&gt;<a class="code" href="classllvm_1_1Instruction.html#a9247a212ea89acc9573fa7e7f557eaba">setMetadata</a>(Kind, JMD);</div>
<div class="line"><a name="l02706"></a><span class="lineno"> 2706</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02707"></a><span class="lineno"> 2707</span>&#160;      <span class="keywordflow">case</span> LLVMContext::MD_invariant_group:</div>
<div class="line"><a name="l02708"></a><span class="lineno"> 2708</span>&#160;        <span class="comment">// Preserve !invariant.group in K.</span></div>
<div class="line"><a name="l02709"></a><span class="lineno"> 2709</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02710"></a><span class="lineno"> 2710</span>&#160;      <span class="keywordflow">case</span> LLVMContext::MD_align:</div>
<div class="line"><a name="l02711"></a><span class="lineno"> 2711</span>&#160;        K-&gt;<a class="code" href="classllvm_1_1Instruction.html#a9247a212ea89acc9573fa7e7f557eaba">setMetadata</a>(Kind,</div>
<div class="line"><a name="l02712"></a><span class="lineno"> 2712</span>&#160;          <a class="code" href="classllvm_1_1MDNode.html#af9b9a04442e0f04f60751aca1783ff3b">MDNode::getMostGenericAlignmentOrDereferenceable</a>(JMD, KMD));</div>
<div class="line"><a name="l02713"></a><span class="lineno"> 2713</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02714"></a><span class="lineno"> 2714</span>&#160;      <span class="keywordflow">case</span> LLVMContext::MD_dereferenceable:</div>
<div class="line"><a name="l02715"></a><span class="lineno"> 2715</span>&#160;      <span class="keywordflow">case</span> LLVMContext::MD_dereferenceable_or_null:</div>
<div class="line"><a name="l02716"></a><span class="lineno"> 2716</span>&#160;        K-&gt;<a class="code" href="classllvm_1_1Instruction.html#a9247a212ea89acc9573fa7e7f557eaba">setMetadata</a>(Kind,</div>
<div class="line"><a name="l02717"></a><span class="lineno"> 2717</span>&#160;          <a class="code" href="classllvm_1_1MDNode.html#af9b9a04442e0f04f60751aca1783ff3b">MDNode::getMostGenericAlignmentOrDereferenceable</a>(JMD, KMD));</div>
<div class="line"><a name="l02718"></a><span class="lineno"> 2718</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02719"></a><span class="lineno"> 2719</span>&#160;      <span class="keywordflow">case</span> LLVMContext::MD_preserve_access_index:</div>
<div class="line"><a name="l02720"></a><span class="lineno"> 2720</span>&#160;        <span class="comment">// Preserve !preserve.access.index in K.</span></div>
<div class="line"><a name="l02721"></a><span class="lineno"> 2721</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02722"></a><span class="lineno"> 2722</span>&#160;      <span class="keywordflow">case</span> LLVMContext::MD_noundef:</div>
<div class="line"><a name="l02723"></a><span class="lineno"> 2723</span>&#160;        <span class="comment">// If K does move, keep noundef if it is present in both instructions.</span></div>
<div class="line"><a name="l02724"></a><span class="lineno"> 2724</span>&#160;        <span class="keywordflow">if</span> (DoesKMove)</div>
<div class="line"><a name="l02725"></a><span class="lineno"> 2725</span>&#160;          K-&gt;<a class="code" href="classllvm_1_1Instruction.html#a9247a212ea89acc9573fa7e7f557eaba">setMetadata</a>(Kind, JMD);</div>
<div class="line"><a name="l02726"></a><span class="lineno"> 2726</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02727"></a><span class="lineno"> 2727</span>&#160;    }</div>
<div class="line"><a name="l02728"></a><span class="lineno"> 2728</span>&#160;  }</div>
<div class="line"><a name="l02729"></a><span class="lineno"> 2729</span>&#160;  <span class="comment">// Set !invariant.group from J if J has it. If both instructions have it</span></div>
<div class="line"><a name="l02730"></a><span class="lineno"> 2730</span>&#160;  <span class="comment">// then we will just pick it from J - even when they are different.</span></div>
<div class="line"><a name="l02731"></a><span class="lineno"> 2731</span>&#160;  <span class="comment">// Also make sure that K is load or store - f.e. combining bitcast with load</span></div>
<div class="line"><a name="l02732"></a><span class="lineno"> 2732</span>&#160;  <span class="comment">// could produce bitcast with invariant.group metadata, which is invalid.</span></div>
<div class="line"><a name="l02733"></a><span class="lineno"> 2733</span>&#160;  <span class="comment">// FIXME: we should try to preserve both invariant.group md if they are</span></div>
<div class="line"><a name="l02734"></a><span class="lineno"> 2734</span>&#160;  <span class="comment">// different, but right now instruction can only have one invariant.group.</span></div>
<div class="line"><a name="l02735"></a><span class="lineno"> 2735</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *JMD = J-&gt;<a class="code" href="classllvm_1_1Instruction.html#ae22f493ba8327ce92e87d3b96bce7017">getMetadata</a>(LLVMContext::MD_invariant_group))</div>
<div class="line"><a name="l02736"></a><span class="lineno"> 2736</span>&#160;    <span class="keywordflow">if</span> (isa&lt;LoadInst&gt;(K) || isa&lt;StoreInst&gt;(K))</div>
<div class="line"><a name="l02737"></a><span class="lineno"> 2737</span>&#160;      K-&gt;<a class="code" href="classllvm_1_1Instruction.html#a9247a212ea89acc9573fa7e7f557eaba">setMetadata</a>(LLVMContext::MD_invariant_group, JMD);</div>
<div class="line"><a name="l02738"></a><span class="lineno"> 2738</span>&#160;}</div>
<div class="line"><a name="l02739"></a><span class="lineno"> 2739</span>&#160; </div>
<div class="line"><a name="l02740"></a><span class="lineno"><a class="line" href="namespacellvm.html#a9b43098c569ea8289ed1ab70ee9a00af"> 2740</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacellvm.html#a9b43098c569ea8289ed1ab70ee9a00af">llvm::combineMetadataForCSE</a>(<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *K, <span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *J,</div>
<div class="line"><a name="l02741"></a><span class="lineno"> 2741</span>&#160;                                 <span class="keywordtype">bool</span> KDominatesJ) {</div>
<div class="line"><a name="l02742"></a><span class="lineno"> 2742</span>&#160;  <span class="keywordtype">unsigned</span> KnownIDs[] = {</div>
<div class="line"><a name="l02743"></a><span class="lineno"> 2743</span>&#160;      LLVMContext::MD_tbaa,            LLVMContext::MD_alias_scope,</div>
<div class="line"><a name="l02744"></a><span class="lineno"> 2744</span>&#160;      LLVMContext::MD_noalias,         LLVMContext::MD_range,</div>
<div class="line"><a name="l02745"></a><span class="lineno"> 2745</span>&#160;      LLVMContext::MD_invariant_load,  LLVMContext::MD_nonnull,</div>
<div class="line"><a name="l02746"></a><span class="lineno"> 2746</span>&#160;      LLVMContext::MD_invariant_group, LLVMContext::MD_align,</div>
<div class="line"><a name="l02747"></a><span class="lineno"> 2747</span>&#160;      LLVMContext::MD_dereferenceable,</div>
<div class="line"><a name="l02748"></a><span class="lineno"> 2748</span>&#160;      LLVMContext::MD_dereferenceable_or_null,</div>
<div class="line"><a name="l02749"></a><span class="lineno"> 2749</span>&#160;      LLVMContext::MD_access_group,    LLVMContext::MD_preserve_access_index};</div>
<div class="line"><a name="l02750"></a><span class="lineno"> 2750</span>&#160;  <a class="code" href="namespacellvm.html#a929b458d1b5080256b6f6c8141bbdfea">combineMetadata</a>(K, J, KnownIDs, KDominatesJ);</div>
<div class="line"><a name="l02751"></a><span class="lineno"> 2751</span>&#160;}</div>
<div class="line"><a name="l02752"></a><span class="lineno"> 2752</span>&#160; </div>
<div class="line"><a name="l02753"></a><span class="lineno"><a class="line" href="namespacellvm.html#a2f8e44f52bb2b2c5d2273eccec70faae"> 2753</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacellvm.html#a2f8e44f52bb2b2c5d2273eccec70faae">llvm::copyMetadataForLoad</a>(<a class="code" href="classllvm_1_1LoadInst.html">LoadInst</a> &amp;Dest, <span class="keyword">const</span> <a class="code" href="classllvm_1_1LoadInst.html">LoadInst</a> &amp;<a class="code" href="namespacellvm_1_1Sched.html#ac1547cccaf660851fcd6863d1e60309eac13545a6345c7d5b3c9cc8932ad3b0e9">Source</a>) {</div>
<div class="line"><a name="l02754"></a><span class="lineno"> 2754</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;std::pair&lt;unsigned, MDNode *&gt;</a>, 8&gt; MD;</div>
<div class="line"><a name="l02755"></a><span class="lineno"> 2755</span>&#160;  <a class="code" href="namespacellvm_1_1Sched.html#ac1547cccaf660851fcd6863d1e60309eac13545a6345c7d5b3c9cc8932ad3b0e9">Source</a>.getAllMetadata(MD);</div>
<div class="line"><a name="l02756"></a><span class="lineno"> 2756</span>&#160;  <a class="code" href="classllvm_1_1MDBuilder.html">MDBuilder</a> MDB(Dest.<a class="code" href="classllvm_1_1Value.html#ab3fc0225d8aaf8434026c3573f961f2c">getContext</a>());</div>
<div class="line"><a name="l02757"></a><span class="lineno"> 2757</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *NewType = Dest.<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>();</div>
<div class="line"><a name="l02758"></a><span class="lineno"> 2758</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a> = <a class="code" href="namespacellvm_1_1Sched.html#ac1547cccaf660851fcd6863d1e60309eac13545a6345c7d5b3c9cc8932ad3b0e9">Source</a>.getModule()-&gt;getDataLayout();</div>
<div class="line"><a name="l02759"></a><span class="lineno"> 2759</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;MDPair : MD) {</div>
<div class="line"><a name="l02760"></a><span class="lineno"> 2760</span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a> = MDPair.first;</div>
<div class="line"><a name="l02761"></a><span class="lineno"> 2761</span>&#160;    <a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> = MDPair.second;</div>
<div class="line"><a name="l02762"></a><span class="lineno"> 2762</span>&#160;    <span class="comment">// Note, essentially every kind of metadata should be preserved here! This</span></div>
<div class="line"><a name="l02763"></a><span class="lineno"> 2763</span>&#160;    <span class="comment">// routine is supposed to clone a load instruction changing *only its type*.</span></div>
<div class="line"><a name="l02764"></a><span class="lineno"> 2764</span>&#160;    <span class="comment">// The only metadata it makes sense to drop is metadata which is invalidated</span></div>
<div class="line"><a name="l02765"></a><span class="lineno"> 2765</span>&#160;    <span class="comment">// when the pointer type changes. This should essentially never be the case</span></div>
<div class="line"><a name="l02766"></a><span class="lineno"> 2766</span>&#160;    <span class="comment">// in LLVM, but we explicitly switch over only known metadata to be</span></div>
<div class="line"><a name="l02767"></a><span class="lineno"> 2767</span>&#160;    <span class="comment">// conservatively correct. If you are adding metadata to LLVM which pertains</span></div>
<div class="line"><a name="l02768"></a><span class="lineno"> 2768</span>&#160;    <span class="comment">// to loads, you almost certainly want to add it here.</span></div>
<div class="line"><a name="l02769"></a><span class="lineno"> 2769</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>) {</div>
<div class="line"><a name="l02770"></a><span class="lineno"> 2770</span>&#160;    <span class="keywordflow">case</span> LLVMContext::MD_dbg:</div>
<div class="line"><a name="l02771"></a><span class="lineno"> 2771</span>&#160;    <span class="keywordflow">case</span> LLVMContext::MD_tbaa:</div>
<div class="line"><a name="l02772"></a><span class="lineno"> 2772</span>&#160;    <span class="keywordflow">case</span> LLVMContext::MD_prof:</div>
<div class="line"><a name="l02773"></a><span class="lineno"> 2773</span>&#160;    <span class="keywordflow">case</span> LLVMContext::MD_fpmath:</div>
<div class="line"><a name="l02774"></a><span class="lineno"> 2774</span>&#160;    <span class="keywordflow">case</span> LLVMContext::MD_tbaa_struct:</div>
<div class="line"><a name="l02775"></a><span class="lineno"> 2775</span>&#160;    <span class="keywordflow">case</span> LLVMContext::MD_invariant_load:</div>
<div class="line"><a name="l02776"></a><span class="lineno"> 2776</span>&#160;    <span class="keywordflow">case</span> LLVMContext::MD_alias_scope:</div>
<div class="line"><a name="l02777"></a><span class="lineno"> 2777</span>&#160;    <span class="keywordflow">case</span> LLVMContext::MD_noalias:</div>
<div class="line"><a name="l02778"></a><span class="lineno"> 2778</span>&#160;    <span class="keywordflow">case</span> LLVMContext::MD_nontemporal:</div>
<div class="line"><a name="l02779"></a><span class="lineno"> 2779</span>&#160;    <span class="keywordflow">case</span> LLVMContext::MD_mem_parallel_loop_access:</div>
<div class="line"><a name="l02780"></a><span class="lineno"> 2780</span>&#160;    <span class="keywordflow">case</span> LLVMContext::MD_access_group:</div>
<div class="line"><a name="l02781"></a><span class="lineno"> 2781</span>&#160;    <span class="keywordflow">case</span> LLVMContext::MD_noundef:</div>
<div class="line"><a name="l02782"></a><span class="lineno"> 2782</span>&#160;      <span class="comment">// All of these directly apply.</span></div>
<div class="line"><a name="l02783"></a><span class="lineno"> 2783</span>&#160;      Dest.<a class="code" href="classllvm_1_1Instruction.html#a9247a212ea89acc9573fa7e7f557eaba">setMetadata</a>(<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>, <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l02784"></a><span class="lineno"> 2784</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02785"></a><span class="lineno"> 2785</span>&#160; </div>
<div class="line"><a name="l02786"></a><span class="lineno"> 2786</span>&#160;    <span class="keywordflow">case</span> LLVMContext::MD_nonnull:</div>
<div class="line"><a name="l02787"></a><span class="lineno"> 2787</span>&#160;      <a class="code" href="namespacellvm.html#ab057ca6ed74ccfa73d1a0d2cf15b2300">copyNonnullMetadata</a>(<a class="code" href="namespacellvm_1_1Sched.html#ac1547cccaf660851fcd6863d1e60309eac13545a6345c7d5b3c9cc8932ad3b0e9">Source</a>, <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, Dest);</div>
<div class="line"><a name="l02788"></a><span class="lineno"> 2788</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02789"></a><span class="lineno"> 2789</span>&#160; </div>
<div class="line"><a name="l02790"></a><span class="lineno"> 2790</span>&#160;    <span class="keywordflow">case</span> LLVMContext::MD_align:</div>
<div class="line"><a name="l02791"></a><span class="lineno"> 2791</span>&#160;    <span class="keywordflow">case</span> LLVMContext::MD_dereferenceable:</div>
<div class="line"><a name="l02792"></a><span class="lineno"> 2792</span>&#160;    <span class="keywordflow">case</span> LLVMContext::MD_dereferenceable_or_null:</div>
<div class="line"><a name="l02793"></a><span class="lineno"> 2793</span>&#160;      <span class="comment">// These only directly apply if the new type is also a pointer.</span></div>
<div class="line"><a name="l02794"></a><span class="lineno"> 2794</span>&#160;      <span class="keywordflow">if</span> (NewType-&gt;<a class="code" href="classllvm_1_1Type.html#a3b996fbf8458aafffc86cb98a68d0a47">isPointerTy</a>())</div>
<div class="line"><a name="l02795"></a><span class="lineno"> 2795</span>&#160;        Dest.<a class="code" href="classllvm_1_1Instruction.html#a9247a212ea89acc9573fa7e7f557eaba">setMetadata</a>(<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>, <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l02796"></a><span class="lineno"> 2796</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02797"></a><span class="lineno"> 2797</span>&#160; </div>
<div class="line"><a name="l02798"></a><span class="lineno"> 2798</span>&#160;    <span class="keywordflow">case</span> LLVMContext::MD_range:</div>
<div class="line"><a name="l02799"></a><span class="lineno"> 2799</span>&#160;      <a class="code" href="namespacellvm.html#aadb1772c1026a517d15c771ceb6a91ca">copyRangeMetadata</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm_1_1Sched.html#ac1547cccaf660851fcd6863d1e60309eac13545a6345c7d5b3c9cc8932ad3b0e9">Source</a>, <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, Dest);</div>
<div class="line"><a name="l02800"></a><span class="lineno"> 2800</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02801"></a><span class="lineno"> 2801</span>&#160;    }</div>
<div class="line"><a name="l02802"></a><span class="lineno"> 2802</span>&#160;  }</div>
<div class="line"><a name="l02803"></a><span class="lineno"> 2803</span>&#160;}</div>
<div class="line"><a name="l02804"></a><span class="lineno"> 2804</span>&#160; </div>
<div class="line"><a name="l02805"></a><span class="lineno"><a class="line" href="namespacellvm.html#a85d5ffd7db412c30d2e0dd46df6cf854"> 2805</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacellvm.html#a85d5ffd7db412c30d2e0dd46df6cf854">llvm::patchReplacementInstruction</a>(<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="classllvm_1_1Value.html">Value</a> *Repl) {</div>
<div class="line"><a name="l02806"></a><span class="lineno"> 2806</span>&#160;  <span class="keyword">auto</span> *ReplInst = dyn_cast&lt;Instruction&gt;(Repl);</div>
<div class="line"><a name="l02807"></a><span class="lineno"> 2807</span>&#160;  <span class="keywordflow">if</span> (!ReplInst)</div>
<div class="line"><a name="l02808"></a><span class="lineno"> 2808</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02809"></a><span class="lineno"> 2809</span>&#160; </div>
<div class="line"><a name="l02810"></a><span class="lineno"> 2810</span>&#160;  <span class="comment">// Patch the replacement so that it is not more restrictive than the value</span></div>
<div class="line"><a name="l02811"></a><span class="lineno"> 2811</span>&#160;  <span class="comment">// being replaced.</span></div>
<div class="line"><a name="l02812"></a><span class="lineno"> 2812</span>&#160;  <span class="comment">// Note that if &#39;I&#39; is a load being replaced by some operation,</span></div>
<div class="line"><a name="l02813"></a><span class="lineno"> 2813</span>&#160;  <span class="comment">// for example, by an arithmetic operation, then andIRFlags()</span></div>
<div class="line"><a name="l02814"></a><span class="lineno"> 2814</span>&#160;  <span class="comment">// would just erase all math flags from the original arithmetic</span></div>
<div class="line"><a name="l02815"></a><span class="lineno"> 2815</span>&#160;  <span class="comment">// operation, which is clearly not wanted and not needed.</span></div>
<div class="line"><a name="l02816"></a><span class="lineno"> 2816</span>&#160;  <span class="keywordflow">if</span> (!isa&lt;LoadInst&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>))</div>
<div class="line"><a name="l02817"></a><span class="lineno"> 2817</span>&#160;    ReplInst-&gt;andIRFlags(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l02818"></a><span class="lineno"> 2818</span>&#160; </div>
<div class="line"><a name="l02819"></a><span class="lineno"> 2819</span>&#160;  <span class="comment">// FIXME: If both the original and replacement value are part of the</span></div>
<div class="line"><a name="l02820"></a><span class="lineno"> 2820</span>&#160;  <span class="comment">// same control-flow region (meaning that the execution of one</span></div>
<div class="line"><a name="l02821"></a><span class="lineno"> 2821</span>&#160;  <span class="comment">// guarantees the execution of the other), then we can combine the</span></div>
<div class="line"><a name="l02822"></a><span class="lineno"> 2822</span>&#160;  <span class="comment">// noalias scopes here and do better than the general conservative</span></div>
<div class="line"><a name="l02823"></a><span class="lineno"> 2823</span>&#160;  <span class="comment">// answer used in combineMetadata().</span></div>
<div class="line"><a name="l02824"></a><span class="lineno"> 2824</span>&#160; </div>
<div class="line"><a name="l02825"></a><span class="lineno"> 2825</span>&#160;  <span class="comment">// In general, GVN unifies expressions over different control-flow</span></div>
<div class="line"><a name="l02826"></a><span class="lineno"> 2826</span>&#160;  <span class="comment">// regions, and so we need a conservative combination of the noalias</span></div>
<div class="line"><a name="l02827"></a><span class="lineno"> 2827</span>&#160;  <span class="comment">// scopes.</span></div>
<div class="line"><a name="l02828"></a><span class="lineno"> 2828</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">unsigned</span> KnownIDs[] = {</div>
<div class="line"><a name="l02829"></a><span class="lineno"> 2829</span>&#160;      LLVMContext::MD_tbaa,            LLVMContext::MD_alias_scope,</div>
<div class="line"><a name="l02830"></a><span class="lineno"> 2830</span>&#160;      LLVMContext::MD_noalias,         LLVMContext::MD_range,</div>
<div class="line"><a name="l02831"></a><span class="lineno"> 2831</span>&#160;      LLVMContext::MD_fpmath,          LLVMContext::MD_invariant_load,</div>
<div class="line"><a name="l02832"></a><span class="lineno"> 2832</span>&#160;      LLVMContext::MD_invariant_group, LLVMContext::MD_nonnull,</div>
<div class="line"><a name="l02833"></a><span class="lineno"> 2833</span>&#160;      LLVMContext::MD_access_group,    LLVMContext::MD_preserve_access_index,</div>
<div class="line"><a name="l02834"></a><span class="lineno"> 2834</span>&#160;      LLVMContext::MD_noundef};</div>
<div class="line"><a name="l02835"></a><span class="lineno"> 2835</span>&#160;  <a class="code" href="namespacellvm.html#a929b458d1b5080256b6f6c8141bbdfea">combineMetadata</a>(ReplInst, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, KnownIDs, <span class="keyword">false</span>);</div>
<div class="line"><a name="l02836"></a><span class="lineno"> 2836</span>&#160;}</div>
<div class="line"><a name="l02837"></a><span class="lineno"> 2837</span>&#160; </div>
<div class="line"><a name="l02838"></a><span class="lineno"> 2838</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> RootType, <span class="keyword">typename</span> DominatesFn&gt;</div>
<div class="line"><a name="l02839"></a><span class="lineno"><a class="line" href="Transforms_2Utils_2Local_8cpp.html#a7c412a696910d8ca10ad4e942d914dd6"> 2839</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm.html#a8dab43be03b9188d73d2f790461f767c">replaceDominatedUsesWith</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="BlockVerifier_8cpp.html#ae45c7d73c0ff5d177b59153ffae77f84">From</a>, <a class="code" href="classllvm_1_1Value.html">Value</a> *To,</div>
<div class="line"><a name="l02840"></a><span class="lineno"> 2840</span>&#160;                                         <span class="keyword">const</span> RootType &amp;Root,</div>
<div class="line"><a name="l02841"></a><span class="lineno"> 2841</span>&#160;                                         <span class="keyword">const</span> DominatesFn &amp;Dominates) {</div>
<div class="line"><a name="l02842"></a><span class="lineno"> 2842</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="BlockVerifier_8cpp.html#ae45c7d73c0ff5d177b59153ffae77f84">From</a>-&gt;getType() == To-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l02843"></a><span class="lineno"> 2843</span>&#160; </div>
<div class="line"><a name="l02844"></a><span class="lineno"> 2844</span>&#160;  <span class="keywordtype">unsigned</span> Count = 0;</div>
<div class="line"><a name="l02845"></a><span class="lineno"> 2845</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Use.html">Use</a> &amp;U : <a class="code" href="namespacellvm.html#a8154638df88e4eaa568b67b23d463dac">llvm::make_early_inc_range</a>(<a class="code" href="BlockVerifier_8cpp.html#ae45c7d73c0ff5d177b59153ffae77f84">From</a>-&gt;uses())) {</div>
<div class="line"><a name="l02846"></a><span class="lineno"> 2846</span>&#160;    <span class="keywordflow">if</span> (!Dominates(Root, U))</div>
<div class="line"><a name="l02847"></a><span class="lineno"> 2847</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02848"></a><span class="lineno"> 2848</span>&#160;    U.set(To);</div>
<div class="line"><a name="l02849"></a><span class="lineno"> 2849</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Replace dominated use of &#39;&quot;</span> &lt;&lt; <a class="code" href="BlockVerifier_8cpp.html#ae45c7d73c0ff5d177b59153ffae77f84">From</a>-&gt;getName()</div>
<div class="line"><a name="l02850"></a><span class="lineno"> 2850</span>&#160;                      &lt;&lt; <span class="stringliteral">&quot;&#39; as &quot;</span> &lt;&lt; *To &lt;&lt; <span class="stringliteral">&quot; in &quot;</span> &lt;&lt; *U &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l02851"></a><span class="lineno"> 2851</span>&#160;    ++Count;</div>
<div class="line"><a name="l02852"></a><span class="lineno"> 2852</span>&#160;  }</div>
<div class="line"><a name="l02853"></a><span class="lineno"> 2853</span>&#160;  <span class="keywordflow">return</span> Count;</div>
<div class="line"><a name="l02854"></a><span class="lineno"> 2854</span>&#160;}</div>
<div class="line"><a name="l02855"></a><span class="lineno"> 2855</span>&#160; </div>
<div class="line"><a name="l02856"></a><span class="lineno"><a class="line" href="namespacellvm.html#a22deed11f251c5761b2b4bf021eff4ac"> 2856</a></span>&#160;<span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm.html#a22deed11f251c5761b2b4bf021eff4ac">llvm::replaceNonLocalUsesWith</a>(<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="BlockVerifier_8cpp.html#ae45c7d73c0ff5d177b59153ffae77f84">From</a>, <a class="code" href="classllvm_1_1Value.html">Value</a> *To) {</div>
<div class="line"><a name="l02857"></a><span class="lineno"> 2857</span>&#160;   <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="BlockVerifier_8cpp.html#ae45c7d73c0ff5d177b59153ffae77f84">From</a>-&gt;getType() == To-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l02858"></a><span class="lineno"> 2858</span>&#160;   <span class="keyword">auto</span> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a> = <a class="code" href="BlockVerifier_8cpp.html#ae45c7d73c0ff5d177b59153ffae77f84">From</a>-&gt;getParent();</div>
<div class="line"><a name="l02859"></a><span class="lineno"> 2859</span>&#160;   <span class="keywordtype">unsigned</span> Count = 0;</div>
<div class="line"><a name="l02860"></a><span class="lineno"> 2860</span>&#160; </div>
<div class="line"><a name="l02861"></a><span class="lineno"> 2861</span>&#160;   <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Use.html">Use</a> &amp;U : <a class="code" href="namespacellvm.html#a8154638df88e4eaa568b67b23d463dac">llvm::make_early_inc_range</a>(<a class="code" href="BlockVerifier_8cpp.html#ae45c7d73c0ff5d177b59153ffae77f84">From</a>-&gt;uses())) {</div>
<div class="line"><a name="l02862"></a><span class="lineno"> 2862</span>&#160;    <span class="keyword">auto</span> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = cast&lt;Instruction&gt;(U.getUser());</div>
<div class="line"><a name="l02863"></a><span class="lineno"> 2863</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getParent() == <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>)</div>
<div class="line"><a name="l02864"></a><span class="lineno"> 2864</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02865"></a><span class="lineno"> 2865</span>&#160;    U.set(To);</div>
<div class="line"><a name="l02866"></a><span class="lineno"> 2866</span>&#160;    ++Count;</div>
<div class="line"><a name="l02867"></a><span class="lineno"> 2867</span>&#160;  }</div>
<div class="line"><a name="l02868"></a><span class="lineno"> 2868</span>&#160;  <span class="keywordflow">return</span> Count;</div>
<div class="line"><a name="l02869"></a><span class="lineno"> 2869</span>&#160;}</div>
<div class="line"><a name="l02870"></a><span class="lineno"> 2870</span>&#160; </div>
<div class="line"><a name="l02871"></a><span class="lineno"><a class="line" href="namespacellvm.html#a8dab43be03b9188d73d2f790461f767c"> 2871</a></span>&#160;<span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm.html#a8dab43be03b9188d73d2f790461f767c">llvm::replaceDominatedUsesWith</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="BlockVerifier_8cpp.html#ae45c7d73c0ff5d177b59153ffae77f84">From</a>, <a class="code" href="classllvm_1_1Value.html">Value</a> *To,</div>
<div class="line"><a name="l02872"></a><span class="lineno"> 2872</span>&#160;                                        <a class="code" href="classllvm_1_1DominatorTree.html">DominatorTree</a> &amp;DT,</div>
<div class="line"><a name="l02873"></a><span class="lineno"> 2873</span>&#160;                                        <span class="keyword">const</span> <a class="code" href="classllvm_1_1BasicBlockEdge.html">BasicBlockEdge</a> &amp;Root) {</div>
<div class="line"><a name="l02874"></a><span class="lineno"> 2874</span>&#160;  <span class="keyword">auto</span> Dominates = [&amp;DT](<span class="keyword">const</span> <a class="code" href="classllvm_1_1BasicBlockEdge.html">BasicBlockEdge</a> &amp;Root, <span class="keyword">const</span> <a class="code" href="classllvm_1_1Use.html">Use</a> &amp;U) {</div>
<div class="line"><a name="l02875"></a><span class="lineno"> 2875</span>&#160;    <span class="keywordflow">return</span> DT.<a class="code" href="classllvm_1_1DominatorTree.html#a5c69311e8d44898dac36a155c3d8691d">dominates</a>(Root, U);</div>
<div class="line"><a name="l02876"></a><span class="lineno"> 2876</span>&#160;  };</div>
<div class="line"><a name="l02877"></a><span class="lineno"> 2877</span>&#160;  <a class="code" href="Transforms_2Utils_2Local_8cpp.html#a7c412a696910d8ca10ad4e942d914dd6">return ::replaceDominatedUsesWith</a>(<a class="code" href="BlockVerifier_8cpp.html#ae45c7d73c0ff5d177b59153ffae77f84">From</a>, To, Root, Dominates);</div>
<div class="line"><a name="l02878"></a><span class="lineno"> 2878</span>&#160;}</div>
<div class="line"><a name="l02879"></a><span class="lineno"> 2879</span>&#160; </div>
<div class="line"><a name="l02880"></a><span class="lineno"><a class="line" href="namespacellvm.html#a2120880bb6a40c7cbcf7e8c44b17a4b3"> 2880</a></span>&#160;<span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm.html#a8dab43be03b9188d73d2f790461f767c">llvm::replaceDominatedUsesWith</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="BlockVerifier_8cpp.html#ae45c7d73c0ff5d177b59153ffae77f84">From</a>, <a class="code" href="classllvm_1_1Value.html">Value</a> *To,</div>
<div class="line"><a name="l02881"></a><span class="lineno"> 2881</span>&#160;                                        <a class="code" href="classllvm_1_1DominatorTree.html">DominatorTree</a> &amp;DT,</div>
<div class="line"><a name="l02882"></a><span class="lineno"> 2882</span>&#160;                                        <span class="keyword">const</span> <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>) {</div>
<div class="line"><a name="l02883"></a><span class="lineno"> 2883</span>&#160;  <span class="keyword">auto</span> Dominates = [&amp;DT](<span class="keyword">const</span> <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1Use.html">Use</a> &amp;U) {</div>
<div class="line"><a name="l02884"></a><span class="lineno"> 2884</span>&#160;    <span class="keywordflow">return</span> DT.<a class="code" href="classllvm_1_1DominatorTree.html#a5c69311e8d44898dac36a155c3d8691d">dominates</a>(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>, U);</div>
<div class="line"><a name="l02885"></a><span class="lineno"> 2885</span>&#160;  };</div>
<div class="line"><a name="l02886"></a><span class="lineno"> 2886</span>&#160;  <a class="code" href="Transforms_2Utils_2Local_8cpp.html#a7c412a696910d8ca10ad4e942d914dd6">return ::replaceDominatedUsesWith</a>(<a class="code" href="BlockVerifier_8cpp.html#ae45c7d73c0ff5d177b59153ffae77f84">From</a>, To, <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>, Dominates);</div>
<div class="line"><a name="l02887"></a><span class="lineno"> 2887</span>&#160;}</div>
<div class="line"><a name="l02888"></a><span class="lineno"> 2888</span>&#160; </div>
<div class="line"><a name="l02889"></a><span class="lineno"><a class="line" href="namespacellvm.html#af75ecbb2ce891821d146a047f17d4dd1"> 2889</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="namespacellvm.html#af75ecbb2ce891821d146a047f17d4dd1">llvm::callsGCLeafFunction</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1CallBase.html">CallBase</a> *Call,</div>
<div class="line"><a name="l02890"></a><span class="lineno"> 2890</span>&#160;                               <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetLibraryInfo.html">TargetLibraryInfo</a> &amp;TLI) {</div>
<div class="line"><a name="l02891"></a><span class="lineno"> 2891</span>&#160;  <span class="comment">// Check if the function is specifically marked as a gc leaf function.</span></div>
<div class="line"><a name="l02892"></a><span class="lineno"> 2892</span>&#160;  <span class="keywordflow">if</span> (Call-&gt;hasFnAttr(<span class="stringliteral">&quot;gc-leaf-function&quot;</span>))</div>
<div class="line"><a name="l02893"></a><span class="lineno"> 2893</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02894"></a><span class="lineno"> 2894</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> = Call-&gt;getCalledFunction()) {</div>
<div class="line"><a name="l02895"></a><span class="lineno"> 2895</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;hasFnAttribute(<span class="stringliteral">&quot;gc-leaf-function&quot;</span>))</div>
<div class="line"><a name="l02896"></a><span class="lineno"> 2896</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02897"></a><span class="lineno"> 2897</span>&#160; </div>
<div class="line"><a name="l02898"></a><span class="lineno"> 2898</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> IID = <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getIntrinsicID()) {</div>
<div class="line"><a name="l02899"></a><span class="lineno"> 2899</span>&#160;      <span class="comment">// Most LLVM intrinsics do not take safepoints.</span></div>
<div class="line"><a name="l02900"></a><span class="lineno"> 2900</span>&#160;      <span class="keywordflow">return</span> IID != Intrinsic::experimental_gc_statepoint &amp;&amp;</div>
<div class="line"><a name="l02901"></a><span class="lineno"> 2901</span>&#160;             IID != Intrinsic::experimental_deoptimize &amp;&amp;</div>
<div class="line"><a name="l02902"></a><span class="lineno"> 2902</span>&#160;             IID != Intrinsic::memcpy_element_unordered_atomic &amp;&amp;</div>
<div class="line"><a name="l02903"></a><span class="lineno"> 2903</span>&#160;             IID != Intrinsic::memmove_element_unordered_atomic;</div>
<div class="line"><a name="l02904"></a><span class="lineno"> 2904</span>&#160;    }</div>
<div class="line"><a name="l02905"></a><span class="lineno"> 2905</span>&#160;  }</div>
<div class="line"><a name="l02906"></a><span class="lineno"> 2906</span>&#160; </div>
<div class="line"><a name="l02907"></a><span class="lineno"> 2907</span>&#160;  <span class="comment">// Lib calls can be materialized by some passes, and won&#39;t be</span></div>
<div class="line"><a name="l02908"></a><span class="lineno"> 2908</span>&#160;  <span class="comment">// marked as &#39;gc-leaf-function.&#39; All available Libcalls are</span></div>
<div class="line"><a name="l02909"></a><span class="lineno"> 2909</span>&#160;  <span class="comment">// GC-leaf.</span></div>
<div class="line"><a name="l02910"></a><span class="lineno"> 2910</span>&#160;  <a class="code" href="namespacellvm.html#a26a5e408fc09c5664d2bbb2d7fae154e">LibFunc</a> LF;</div>
<div class="line"><a name="l02911"></a><span class="lineno"> 2911</span>&#160;  <span class="keywordflow">if</span> (TLI.<a class="code" href="classllvm_1_1TargetLibraryInfo.html#a97cfbbed8869e3582142012a071a9052">getLibFunc</a>(*Call, LF)) {</div>
<div class="line"><a name="l02912"></a><span class="lineno"> 2912</span>&#160;    <span class="keywordflow">return</span> TLI.<a class="code" href="classllvm_1_1TargetLibraryInfo.html#a54699e3f128acda6003afc11d3027f6c">has</a>(LF);</div>
<div class="line"><a name="l02913"></a><span class="lineno"> 2913</span>&#160;  }</div>
<div class="line"><a name="l02914"></a><span class="lineno"> 2914</span>&#160; </div>
<div class="line"><a name="l02915"></a><span class="lineno"> 2915</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02916"></a><span class="lineno"> 2916</span>&#160;}</div>
<div class="line"><a name="l02917"></a><span class="lineno"> 2917</span>&#160; </div>
<div class="line"><a name="l02918"></a><span class="lineno"><a class="line" href="namespacellvm.html#ab057ca6ed74ccfa73d1a0d2cf15b2300"> 2918</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacellvm.html#ab057ca6ed74ccfa73d1a0d2cf15b2300">llvm::copyNonnullMetadata</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1LoadInst.html">LoadInst</a> &amp;OldLI, <a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>,</div>
<div class="line"><a name="l02919"></a><span class="lineno"> 2919</span>&#160;                               <a class="code" href="classllvm_1_1LoadInst.html">LoadInst</a> &amp;NewLI) {</div>
<div class="line"><a name="l02920"></a><span class="lineno"> 2920</span>&#160;  <span class="keyword">auto</span> *NewTy = NewLI.<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>();</div>
<div class="line"><a name="l02921"></a><span class="lineno"> 2921</span>&#160; </div>
<div class="line"><a name="l02922"></a><span class="lineno"> 2922</span>&#160;  <span class="comment">// This only directly applies if the new type is also a pointer.</span></div>
<div class="line"><a name="l02923"></a><span class="lineno"> 2923</span>&#160;  <span class="keywordflow">if</span> (NewTy-&gt;isPointerTy()) {</div>
<div class="line"><a name="l02924"></a><span class="lineno"> 2924</span>&#160;    NewLI.<a class="code" href="classllvm_1_1Instruction.html#a9247a212ea89acc9573fa7e7f557eaba">setMetadata</a>(LLVMContext::MD_nonnull, <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l02925"></a><span class="lineno"> 2925</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02926"></a><span class="lineno"> 2926</span>&#160;  }</div>
<div class="line"><a name="l02927"></a><span class="lineno"> 2927</span>&#160; </div>
<div class="line"><a name="l02928"></a><span class="lineno"> 2928</span>&#160;  <span class="comment">// The only other translation we can do is to integral loads with !range</span></div>
<div class="line"><a name="l02929"></a><span class="lineno"> 2929</span>&#160;  <span class="comment">// metadata.</span></div>
<div class="line"><a name="l02930"></a><span class="lineno"> 2930</span>&#160;  <span class="keywordflow">if</span> (!NewTy-&gt;isIntegerTy())</div>
<div class="line"><a name="l02931"></a><span class="lineno"> 2931</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02932"></a><span class="lineno"> 2932</span>&#160; </div>
<div class="line"><a name="l02933"></a><span class="lineno"> 2933</span>&#160;  <a class="code" href="classllvm_1_1MDBuilder.html">MDBuilder</a> MDB(NewLI.<a class="code" href="classllvm_1_1Value.html#ab3fc0225d8aaf8434026c3573f961f2c">getContext</a>());</div>
<div class="line"><a name="l02934"></a><span class="lineno"> 2934</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a> = OldLI.<a class="code" href="classllvm_1_1LoadInst.html#ad47eefa1d094f60494b6b927061ca001">getPointerOperand</a>();</div>
<div class="line"><a name="l02935"></a><span class="lineno"> 2935</span>&#160;  <span class="keyword">auto</span> *ITy = cast&lt;IntegerType&gt;(NewTy);</div>
<div class="line"><a name="l02936"></a><span class="lineno"> 2936</span>&#160;  <span class="keyword">auto</span> *NullInt = <a class="code" href="classllvm_1_1ConstantExpr.html#a652380f28d1a7011e05d0787b6024d48">ConstantExpr::getPtrToInt</a>(</div>
<div class="line"><a name="l02937"></a><span class="lineno"> 2937</span>&#160;      <a class="code" href="classllvm_1_1ConstantPointerNull.html#a96f5c85e4022e369266541b2db3fda69">ConstantPointerNull::get</a>(cast&lt;PointerType&gt;(<a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>-&gt;getType())), ITy);</div>
<div class="line"><a name="l02938"></a><span class="lineno"> 2938</span>&#160;  <span class="keyword">auto</span> *NonNullInt = <a class="code" href="classllvm_1_1ConstantExpr.html#ae6f1c15034bc5515033874630a8ecce6">ConstantExpr::getAdd</a>(NullInt, <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(ITy, 1));</div>
<div class="line"><a name="l02939"></a><span class="lineno"> 2939</span>&#160;  NewLI.<a class="code" href="classllvm_1_1Instruction.html#a9247a212ea89acc9573fa7e7f557eaba">setMetadata</a>(LLVMContext::MD_range,</div>
<div class="line"><a name="l02940"></a><span class="lineno"> 2940</span>&#160;                    MDB.<a class="code" href="classllvm_1_1MDBuilder.html#ab6af8e6189a4d10f4a9c20daab0280b8">createRange</a>(NonNullInt, NullInt));</div>
<div class="line"><a name="l02941"></a><span class="lineno"> 2941</span>&#160;}</div>
<div class="line"><a name="l02942"></a><span class="lineno"> 2942</span>&#160; </div>
<div class="line"><a name="l02943"></a><span class="lineno"><a class="line" href="namespacellvm.html#aadb1772c1026a517d15c771ceb6a91ca"> 2943</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacellvm.html#aadb1772c1026a517d15c771ceb6a91ca">llvm::copyRangeMetadata</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1LoadInst.html">LoadInst</a> &amp;OldLI,</div>
<div class="line"><a name="l02944"></a><span class="lineno"> 2944</span>&#160;                             <a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, <a class="code" href="classllvm_1_1LoadInst.html">LoadInst</a> &amp;NewLI) {</div>
<div class="line"><a name="l02945"></a><span class="lineno"> 2945</span>&#160;  <span class="keyword">auto</span> *NewTy = NewLI.<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>();</div>
<div class="line"><a name="l02946"></a><span class="lineno"> 2946</span>&#160;  <span class="comment">// Simply copy the metadata if the type did not change.</span></div>
<div class="line"><a name="l02947"></a><span class="lineno"> 2947</span>&#160;  <span class="keywordflow">if</span> (NewTy == OldLI.<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()) {</div>
<div class="line"><a name="l02948"></a><span class="lineno"> 2948</span>&#160;    NewLI.<a class="code" href="classllvm_1_1Instruction.html#a9247a212ea89acc9573fa7e7f557eaba">setMetadata</a>(LLVMContext::MD_range, <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l02949"></a><span class="lineno"> 2949</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02950"></a><span class="lineno"> 2950</span>&#160;  }</div>
<div class="line"><a name="l02951"></a><span class="lineno"> 2951</span>&#160; </div>
<div class="line"><a name="l02952"></a><span class="lineno"> 2952</span>&#160;  <span class="comment">// Give up unless it is converted to a pointer where there is a single very</span></div>
<div class="line"><a name="l02953"></a><span class="lineno"> 2953</span>&#160;  <span class="comment">// valuable mapping we can do reliably.</span></div>
<div class="line"><a name="l02954"></a><span class="lineno"> 2954</span>&#160;  <span class="comment">// FIXME: It would be nice to propagate this in more ways, but the type</span></div>
<div class="line"><a name="l02955"></a><span class="lineno"> 2955</span>&#160;  <span class="comment">// conversions make it hard.</span></div>
<div class="line"><a name="l02956"></a><span class="lineno"> 2956</span>&#160;  <span class="keywordflow">if</span> (!NewTy-&gt;isPointerTy())</div>
<div class="line"><a name="l02957"></a><span class="lineno"> 2957</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02958"></a><span class="lineno"> 2958</span>&#160; </div>
<div class="line"><a name="l02959"></a><span class="lineno"> 2959</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> = <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>.getPointerTypeSizeInBits(NewTy);</div>
<div class="line"><a name="l02960"></a><span class="lineno"> 2960</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm.html#a5193c3535375c450b9430e5671cbeb2d">getConstantRangeFromMetadata</a>(*N).<a class="code" href="classllvm_1_1ConstantRange.html#aaca3a4d2b25c24b11179cbd01079b73c">contains</a>(<a class="code" href="classllvm_1_1APInt.html">APInt</a>(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>, 0))) {</div>
<div class="line"><a name="l02961"></a><span class="lineno"> 2961</span>&#160;    <a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *NN = <a class="code" href="classllvm_1_1MDNode.html#a7d10a7b9b7f40b04d27ed97c38ea1950">MDNode::get</a>(OldLI.<a class="code" href="classllvm_1_1Value.html#ab3fc0225d8aaf8434026c3573f961f2c">getContext</a>(), std::nullopt);</div>
<div class="line"><a name="l02962"></a><span class="lineno"> 2962</span>&#160;    NewLI.<a class="code" href="classllvm_1_1Instruction.html#a9247a212ea89acc9573fa7e7f557eaba">setMetadata</a>(LLVMContext::MD_nonnull, NN);</div>
<div class="line"><a name="l02963"></a><span class="lineno"> 2963</span>&#160;  }</div>
<div class="line"><a name="l02964"></a><span class="lineno"> 2964</span>&#160;}</div>
<div class="line"><a name="l02965"></a><span class="lineno"> 2965</span>&#160; </div>
<div class="line"><a name="l02966"></a><span class="lineno"><a class="line" href="namespacellvm.html#a9d8f1df2d7125f8c7dc1af46433b3e70"> 2966</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacellvm.html#a9d8f1df2d7125f8c7dc1af46433b3e70">llvm::dropDebugUsers</a>(<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l02967"></a><span class="lineno"> 2967</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;DbgVariableIntrinsic *, 1&gt;</a> DbgUsers;</div>
<div class="line"><a name="l02968"></a><span class="lineno"> 2968</span>&#160;  <a class="code" href="namespacellvm.html#a683448397460b5b16e0d9016fd7a273a">findDbgUsers</a>(DbgUsers, &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l02969"></a><span class="lineno"> 2969</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> *DII : DbgUsers)</div>
<div class="line"><a name="l02970"></a><span class="lineno"> 2970</span>&#160;    DII-&gt;eraseFromParent();</div>
<div class="line"><a name="l02971"></a><span class="lineno"> 2971</span>&#160;}</div>
<div class="line"><a name="l02972"></a><span class="lineno"> 2972</span>&#160; </div>
<div class="line"><a name="l02973"></a><span class="lineno"><a class="line" href="namespacellvm.html#aab4d6b37c7f97bad2b1f441dc3fd43e0"> 2973</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacellvm.html#aab4d6b37c7f97bad2b1f441dc3fd43e0">llvm::hoistAllInstructionsInto</a>(<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *DomBlock, <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *InsertPt,</div>
<div class="line"><a name="l02974"></a><span class="lineno"> 2974</span>&#160;                                    <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>) {</div>
<div class="line"><a name="l02975"></a><span class="lineno"> 2975</span>&#160;  <span class="comment">// Since we are moving the instructions out of its basic block, we do not</span></div>
<div class="line"><a name="l02976"></a><span class="lineno"> 2976</span>&#160;  <span class="comment">// retain their original debug locations (DILocations) and debug intrinsic</span></div>
<div class="line"><a name="l02977"></a><span class="lineno"> 2977</span>&#160;  <span class="comment">// instructions.</span></div>
<div class="line"><a name="l02978"></a><span class="lineno"> 2978</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l02979"></a><span class="lineno"> 2979</span>&#160;  <span class="comment">// Doing so would degrade the debugging experience and adversely affect the</span></div>
<div class="line"><a name="l02980"></a><span class="lineno"> 2980</span>&#160;  <span class="comment">// accuracy of profiling information.</span></div>
<div class="line"><a name="l02981"></a><span class="lineno"> 2981</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l02982"></a><span class="lineno"> 2982</span>&#160;  <span class="comment">// Currently, when hoisting the instructions, we take the following actions:</span></div>
<div class="line"><a name="l02983"></a><span class="lineno"> 2983</span>&#160;  <span class="comment">// - Remove their debug intrinsic instructions.</span></div>
<div class="line"><a name="l02984"></a><span class="lineno"> 2984</span>&#160;  <span class="comment">// - Set their debug locations to the values from the insertion point.</span></div>
<div class="line"><a name="l02985"></a><span class="lineno"> 2985</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l02986"></a><span class="lineno"> 2986</span>&#160;  <span class="comment">// As per PR39141 (comment #8), the more fundamental reason why the dbg.values</span></div>
<div class="line"><a name="l02987"></a><span class="lineno"> 2987</span>&#160;  <span class="comment">// need to be deleted, is because there will not be any instructions with a</span></div>
<div class="line"><a name="l02988"></a><span class="lineno"> 2988</span>&#160;  <span class="comment">// DILocation in either branch left after performing the transformation. We</span></div>
<div class="line"><a name="l02989"></a><span class="lineno"> 2989</span>&#160;  <span class="comment">// can only insert a dbg.value after the two branches are joined again.</span></div>
<div class="line"><a name="l02990"></a><span class="lineno"> 2990</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l02991"></a><span class="lineno"> 2991</span>&#160;  <span class="comment">// See PR38762, PR39243 for more details.</span></div>
<div class="line"><a name="l02992"></a><span class="lineno"> 2992</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l02993"></a><span class="lineno"> 2993</span>&#160;  <span class="comment">// TODO: Extend llvm.dbg.value to take more than one SSA Value (PR39141) to</span></div>
<div class="line"><a name="l02994"></a><span class="lineno"> 2994</span>&#160;  <span class="comment">// encode predicated DIExpressions that yield different results on different</span></div>
<div class="line"><a name="l02995"></a><span class="lineno"> 2995</span>&#160;  <span class="comment">// code paths.</span></div>
<div class="line"><a name="l02996"></a><span class="lineno"> 2996</span>&#160; </div>
<div class="line"><a name="l02997"></a><span class="lineno"> 2997</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1BasicBlock.html#a98c0a84a5dfa8bce341c829709f171e5">BasicBlock::iterator</a> II = <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>-&gt;begin(), <a class="code" href="namespacellvm_1_1ARM__PROC.html#a1add7850fad3f66c140ecee871460ea4ae9d798593a4a6b5cc48486a453a59e5e">IE</a> = <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>-&gt;end(); II != <a class="code" href="namespacellvm_1_1ARM__PROC.html#a1add7850fad3f66c140ecee871460ea4ae9d798593a4a6b5cc48486a453a59e5e">IE</a>;) {</div>
<div class="line"><a name="l02998"></a><span class="lineno"> 2998</span>&#160;    <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = &amp;*II;</div>
<div class="line"><a name="l02999"></a><span class="lineno"> 2999</span>&#160;    <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;dropUndefImplyingAttrsAndUnknownMetadata();</div>
<div class="line"><a name="l03000"></a><span class="lineno"> 3000</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;isUsedByMetadata())</div>
<div class="line"><a name="l03001"></a><span class="lineno"> 3001</span>&#160;      <a class="code" href="namespacellvm.html#a9d8f1df2d7125f8c7dc1af46433b3e70">dropDebugUsers</a>(*<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l03002"></a><span class="lineno"> 3002</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;isDebugOrPseudoInst()) {</div>
<div class="line"><a name="l03003"></a><span class="lineno"> 3003</span>&#160;      <span class="comment">// Remove DbgInfo and pseudo probe Intrinsics.</span></div>
<div class="line"><a name="l03004"></a><span class="lineno"> 3004</span>&#160;      II = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;eraseFromParent();</div>
<div class="line"><a name="l03005"></a><span class="lineno"> 3005</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l03006"></a><span class="lineno"> 3006</span>&#160;    }</div>
<div class="line"><a name="l03007"></a><span class="lineno"> 3007</span>&#160;    <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;setDebugLoc(InsertPt-&gt;<a class="code" href="classllvm_1_1Instruction.html#ab4f3bf98b5054831b608852e33427814">getDebugLoc</a>());</div>
<div class="line"><a name="l03008"></a><span class="lineno"> 3008</span>&#160;    ++II;</div>
<div class="line"><a name="l03009"></a><span class="lineno"> 3009</span>&#160;  }</div>
<div class="line"><a name="l03010"></a><span class="lineno"> 3010</span>&#160;  DomBlock-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#af29f89e91dfd0ae90950f0b1bf49798d">splice</a>(InsertPt-&gt;<a class="code" href="classllvm_1_1ilist__node__impl.html#af719fc783be6589465137d997701a432">getIterator</a>(), <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>, <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>-&gt;begin(),</div>
<div class="line"><a name="l03011"></a><span class="lineno"> 3011</span>&#160;                   <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>-&gt;getTerminator()-&gt;getIterator());</div>
<div class="line"><a name="l03012"></a><span class="lineno"> 3012</span>&#160;}</div>
<div class="line"><a name="l03013"></a><span class="lineno"> 3013</span>&#160; </div>
<div class="line"><a name="l03014"></a><span class="lineno"> 3014</span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l03015"></a><span class="lineno"> 3015</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l03016"></a><span class="lineno"> 3016</span>&#160;<span class="comment">/// A potential constituent of a bitreverse or bswap expression. See</span></div>
<div class="line"><a name="l03017"></a><span class="lineno"> 3017</span>&#160;<span class="comment">/// collectBitParts for a fuller explanation.</span></div>
<div class="line"><a name="l03018"></a><span class="lineno"> 3018</span>&#160;<span class="comment"></span><span class="keyword">struct </span>BitPart {</div>
<div class="line"><a name="l03019"></a><span class="lineno"> 3019</span>&#160;  BitPart(<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>, <span class="keywordtype">unsigned</span> BW) : Provider(<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>) {</div>
<div class="line"><a name="l03020"></a><span class="lineno"> 3020</span>&#160;    Provenance.resize(BW);</div>
<div class="line"><a name="l03021"></a><span class="lineno"> 3021</span>&#160;  }</div>
<div class="line"><a name="l03022"></a><span class="lineno"> 3022</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l03023"></a><span class="lineno"> 3023</span>&#160;<span class="comment">  /// The Value that this is a bitreverse/bswap of.</span></div>
<div class="line"><a name="l03024"></a><span class="lineno"> 3024</span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1Value.html">Value</a> *Provider;</div>
<div class="line"><a name="l03025"></a><span class="lineno"> 3025</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l03026"></a><span class="lineno"> 3026</span>&#160;<span class="comment">  /// The &quot;provenance&quot; of each bit. Provenance[A] = B means that bit A</span></div>
<div class="line"><a name="l03027"></a><span class="lineno"> 3027</span>&#160;<span class="comment">  /// in Provider becomes bit B in the result of this expression.</span></div>
<div class="line"><a name="l03028"></a><span class="lineno"> 3028</span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;int8_t, 32&gt;</a> Provenance; <span class="comment">// int8_t means max size is i128.</span></div>
<div class="line"><a name="l03029"></a><span class="lineno"> 3029</span>&#160; </div>
<div class="line"><a name="l03030"></a><span class="lineno"> 3030</span>&#160;  <span class="keyword">enum</span> { Unset = -1 };</div>
<div class="line"><a name="l03031"></a><span class="lineno"> 3031</span>&#160;};</div>
<div class="line"><a name="l03032"></a><span class="lineno"> 3032</span>&#160; </div>
<div class="line"><a name="l03033"></a><span class="lineno"> 3033</span>&#160;} <span class="comment">// end anonymous namespace</span></div>
<div class="line"><a name="l03034"></a><span class="lineno"> 3034</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l03035"></a><span class="lineno"> 3035</span>&#160;<span class="comment">/// Analyze the specified subexpression and see if it is capable of providing</span></div>
<div class="line"><a name="l03036"></a><span class="lineno"> 3036</span>&#160;<span class="comment">/// pieces of a bswap or bitreverse. The subexpression provides a potential</span></div>
<div class="line"><a name="l03037"></a><span class="lineno"> 3037</span>&#160;<span class="comment">/// piece of a bswap or bitreverse if it can be proved that each non-zero bit in</span></div>
<div class="line"><a name="l03038"></a><span class="lineno"> 3038</span>&#160;<span class="comment">/// the output of the expression came from a corresponding bit in some other</span></div>
<div class="line"><a name="l03039"></a><span class="lineno"> 3039</span>&#160;<span class="comment">/// value. This function is recursive, and the end result is a mapping of</span></div>
<div class="line"><a name="l03040"></a><span class="lineno"> 3040</span>&#160;<span class="comment">/// bitnumber to bitnumber. It is the caller&#39;s responsibility to validate that</span></div>
<div class="line"><a name="l03041"></a><span class="lineno"> 3041</span>&#160;<span class="comment">/// the bitnumber to bitnumber mapping is correct for a bswap or bitreverse.</span></div>
<div class="line"><a name="l03042"></a><span class="lineno"> 3042</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l03043"></a><span class="lineno"> 3043</span>&#160;<span class="comment">/// For example, if the current subexpression if &quot;(shl i32 %X, 24)&quot; then we know</span></div>
<div class="line"><a name="l03044"></a><span class="lineno"> 3044</span>&#160;<span class="comment">/// that the expression deposits the low byte of %X into the high byte of the</span></div>
<div class="line"><a name="l03045"></a><span class="lineno"> 3045</span>&#160;<span class="comment">/// result and that all other bits are zero. This expression is accepted and a</span></div>
<div class="line"><a name="l03046"></a><span class="lineno"> 3046</span>&#160;<span class="comment">/// BitPart is returned with Provider set to %X and Provenance[24-31] set to</span></div>
<div class="line"><a name="l03047"></a><span class="lineno"> 3047</span>&#160;<span class="comment">/// [0-7].</span></div>
<div class="line"><a name="l03048"></a><span class="lineno"> 3048</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l03049"></a><span class="lineno"> 3049</span>&#160;<span class="comment">/// For vector types, all analysis is performed at the per-element level. No</span></div>
<div class="line"><a name="l03050"></a><span class="lineno"> 3050</span>&#160;<span class="comment">/// cross-element analysis is supported (shuffle/insertion/reduction), and all</span></div>
<div class="line"><a name="l03051"></a><span class="lineno"> 3051</span>&#160;<span class="comment">/// constant masks must be splatted across all elements.</span></div>
<div class="line"><a name="l03052"></a><span class="lineno"> 3052</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l03053"></a><span class="lineno"> 3053</span>&#160;<span class="comment">/// To avoid revisiting values, the BitPart results are memoized into the</span></div>
<div class="line"><a name="l03054"></a><span class="lineno"> 3054</span>&#160;<span class="comment">/// provided map. To avoid unnecessary copying of BitParts, BitParts are</span></div>
<div class="line"><a name="l03055"></a><span class="lineno"> 3055</span>&#160;<span class="comment">/// constructed in-place in the \c BPS map. Because of this \c BPS needs to</span></div>
<div class="line"><a name="l03056"></a><span class="lineno"> 3056</span>&#160;<span class="comment">/// store BitParts objects, not pointers. As we need the concept of a nullptr</span></div>
<div class="line"><a name="l03057"></a><span class="lineno"> 3057</span>&#160;<span class="comment">/// BitParts (Value has been analyzed and the analysis failed), we an Optional</span></div>
<div class="line"><a name="l03058"></a><span class="lineno"> 3058</span>&#160;<span class="comment">/// type instead to provide the same functionality.</span></div>
<div class="line"><a name="l03059"></a><span class="lineno"> 3059</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l03060"></a><span class="lineno"> 3060</span>&#160;<span class="comment">/// Because we pass around references into \c BPS, we must use a container that</span></div>
<div class="line"><a name="l03061"></a><span class="lineno"> 3061</span>&#160;<span class="comment">/// does not invalidate internal references (std::map instead of DenseMap).</span></div>
<div class="line"><a name="l03062"></a><span class="lineno"> 3062</span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keyword">const</span> std::optional&lt;BitPart&gt; &amp;</div>
<div class="line"><a name="l03063"></a><span class="lineno"><a class="line" href="Transforms_2Utils_2Local_8cpp.html#a1a271a6676288b51742b4a72d3b0b5f0"> 3063</a></span>&#160;<a class="code" href="Transforms_2Utils_2Local_8cpp.html#a1a271a6676288b51742b4a72d3b0b5f0">collectBitParts</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *V, <span class="keywordtype">bool</span> MatchBSwaps, <span class="keywordtype">bool</span> MatchBitReversals,</div>
<div class="line"><a name="l03064"></a><span class="lineno"> 3064</span>&#160;                std::map&lt;<a class="code" href="classllvm_1_1Value.html">Value</a> *, std::optional&lt;BitPart&gt;&gt; &amp;BPS, <span class="keywordtype">int</span> <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a>,</div>
<div class="line"><a name="l03065"></a><span class="lineno"> 3065</span>&#160;                <span class="keywordtype">bool</span> &amp;FoundRoot) {</div>
<div class="line"><a name="l03066"></a><span class="lineno"> 3066</span>&#160;  <span class="keyword">auto</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = BPS.find(V);</div>
<div class="line"><a name="l03067"></a><span class="lineno"> 3067</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != BPS.end())</div>
<div class="line"><a name="l03068"></a><span class="lineno"> 3068</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;second;</div>
<div class="line"><a name="l03069"></a><span class="lineno"> 3069</span>&#160; </div>
<div class="line"><a name="l03070"></a><span class="lineno"> 3070</span>&#160;  <span class="keyword">auto</span> &amp;Result = BPS[V] = std::nullopt;</div>
<div class="line"><a name="l03071"></a><span class="lineno"> 3071</span>&#160;  <span class="keyword">auto</span> <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> = V-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a9f382207d841377156d4c7868b66b9a5">getScalarSizeInBits</a>();</div>
<div class="line"><a name="l03072"></a><span class="lineno"> 3072</span>&#160; </div>
<div class="line"><a name="l03073"></a><span class="lineno"> 3073</span>&#160;  <span class="comment">// Can&#39;t do integer/elements &gt; 128 bits.</span></div>
<div class="line"><a name="l03074"></a><span class="lineno"> 3074</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> &gt; 128)</div>
<div class="line"><a name="l03075"></a><span class="lineno"> 3075</span>&#160;    <span class="keywordflow">return</span> Result;</div>
<div class="line"><a name="l03076"></a><span class="lineno"> 3076</span>&#160; </div>
<div class="line"><a name="l03077"></a><span class="lineno"> 3077</span>&#160;  <span class="comment">// Prevent stack overflow by limiting the recursion depth</span></div>
<div class="line"><a name="l03078"></a><span class="lineno"> 3078</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> == <a class="code" href="Transforms_2Utils_2Local_8cpp.html#ae67ef27038e310f603f3b1bc4fb6eda2">BitPartRecursionMaxDepth</a>) {</div>
<div class="line"><a name="l03079"></a><span class="lineno"> 3079</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;collectBitParts max recursion depth reached.\n&quot;</span>);</div>
<div class="line"><a name="l03080"></a><span class="lineno"> 3080</span>&#160;    <span class="keywordflow">return</span> Result;</div>
<div class="line"><a name="l03081"></a><span class="lineno"> 3081</span>&#160;  }</div>
<div class="line"><a name="l03082"></a><span class="lineno"> 3082</span>&#160; </div>
<div class="line"><a name="l03083"></a><span class="lineno"> 3083</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = dyn_cast&lt;Instruction&gt;(V)) {</div>
<div class="line"><a name="l03084"></a><span class="lineno"> 3084</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, *<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>;</div>
<div class="line"><a name="l03085"></a><span class="lineno"> 3085</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>;</div>
<div class="line"><a name="l03086"></a><span class="lineno"> 3086</span>&#160; </div>
<div class="line"><a name="l03087"></a><span class="lineno"> 3087</span>&#160;    <span class="comment">// If this is an or instruction, it may be an inner node of the bswap.</span></div>
<div class="line"><a name="l03088"></a><span class="lineno"> 3088</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(V, <a class="code" href="namespacellvm_1_1PatternMatch.html#a42569041ddafba7d40243e126af07f42">m_Or</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>)))) {</div>
<div class="line"><a name="l03089"></a><span class="lineno"> 3089</span>&#160;      <span class="comment">// Check we have both sources and they are from the same provider.</span></div>
<div class="line"><a name="l03090"></a><span class="lineno"> 3090</span>&#160;      <span class="keyword">const</span> <span class="keyword">auto</span> &amp;A = <a class="code" href="Transforms_2Utils_2Local_8cpp.html#a1a271a6676288b51742b4a72d3b0b5f0">collectBitParts</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, MatchBSwaps, MatchBitReversals, BPS,</div>
<div class="line"><a name="l03091"></a><span class="lineno"> 3091</span>&#160;                                      <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1, FoundRoot);</div>
<div class="line"><a name="l03092"></a><span class="lineno"> 3092</span>&#160;      <span class="keywordflow">if</span> (!A || !A-&gt;Provider)</div>
<div class="line"><a name="l03093"></a><span class="lineno"> 3093</span>&#160;        <span class="keywordflow">return</span> Result;</div>
<div class="line"><a name="l03094"></a><span class="lineno"> 3094</span>&#160; </div>
<div class="line"><a name="l03095"></a><span class="lineno"> 3095</span>&#160;      <span class="keyword">const</span> <span class="keyword">auto</span> &amp;<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a> = <a class="code" href="Transforms_2Utils_2Local_8cpp.html#a1a271a6676288b51742b4a72d3b0b5f0">collectBitParts</a>(<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>, MatchBSwaps, MatchBitReversals, BPS,</div>
<div class="line"><a name="l03096"></a><span class="lineno"> 3096</span>&#160;                                      <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1, FoundRoot);</div>
<div class="line"><a name="l03097"></a><span class="lineno"> 3097</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a> || A-&gt;Provider != <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>-&gt;Provider)</div>
<div class="line"><a name="l03098"></a><span class="lineno"> 3098</span>&#160;        <span class="keywordflow">return</span> Result;</div>
<div class="line"><a name="l03099"></a><span class="lineno"> 3099</span>&#160; </div>
<div class="line"><a name="l03100"></a><span class="lineno"> 3100</span>&#160;      <span class="comment">// Try and merge the two together.</span></div>
<div class="line"><a name="l03101"></a><span class="lineno"> 3101</span>&#160;      Result = BitPart(A-&gt;Provider, <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>);</div>
<div class="line"><a name="l03102"></a><span class="lineno"> 3102</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> BitIdx = 0; BitIdx &lt; <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>; ++BitIdx) {</div>
<div class="line"><a name="l03103"></a><span class="lineno"> 3103</span>&#160;        <span class="keywordflow">if</span> (A-&gt;Provenance[BitIdx] != BitPart::Unset &amp;&amp;</div>
<div class="line"><a name="l03104"></a><span class="lineno"> 3104</span>&#160;            <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>-&gt;Provenance[BitIdx] != BitPart::Unset &amp;&amp;</div>
<div class="line"><a name="l03105"></a><span class="lineno"> 3105</span>&#160;            A-&gt;Provenance[BitIdx] != <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>-&gt;Provenance[BitIdx])</div>
<div class="line"><a name="l03106"></a><span class="lineno"> 3106</span>&#160;          <span class="keywordflow">return</span> Result = std::nullopt;</div>
<div class="line"><a name="l03107"></a><span class="lineno"> 3107</span>&#160; </div>
<div class="line"><a name="l03108"></a><span class="lineno"> 3108</span>&#160;        <span class="keywordflow">if</span> (A-&gt;Provenance[BitIdx] == BitPart::Unset)</div>
<div class="line"><a name="l03109"></a><span class="lineno"> 3109</span>&#160;          Result-&gt;Provenance[BitIdx] = <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>-&gt;Provenance[BitIdx];</div>
<div class="line"><a name="l03110"></a><span class="lineno"> 3110</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l03111"></a><span class="lineno"> 3111</span>&#160;          Result-&gt;Provenance[BitIdx] = A-&gt;Provenance[BitIdx];</div>
<div class="line"><a name="l03112"></a><span class="lineno"> 3112</span>&#160;      }</div>
<div class="line"><a name="l03113"></a><span class="lineno"> 3113</span>&#160; </div>
<div class="line"><a name="l03114"></a><span class="lineno"> 3114</span>&#160;      <span class="keywordflow">return</span> Result;</div>
<div class="line"><a name="l03115"></a><span class="lineno"> 3115</span>&#160;    }</div>
<div class="line"><a name="l03116"></a><span class="lineno"> 3116</span>&#160; </div>
<div class="line"><a name="l03117"></a><span class="lineno"> 3117</span>&#160;    <span class="comment">// If this is a logical shift by a constant, recurse then shift the result.</span></div>
<div class="line"><a name="l03118"></a><span class="lineno"> 3118</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(V, <a class="code" href="namespacellvm_1_1PatternMatch.html#a595e5029858e33416e500bed9317d309">m_LogicalShift</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>), <a class="code" href="namespacellvm_1_1PatternMatch.html#aac9e78b3aa02ec087c4621358f506718">m_APInt</a>(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>)))) {</div>
<div class="line"><a name="l03119"></a><span class="lineno"> 3119</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;BitShift = *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>;</div>
<div class="line"><a name="l03120"></a><span class="lineno"> 3120</span>&#160; </div>
<div class="line"><a name="l03121"></a><span class="lineno"> 3121</span>&#160;      <span class="comment">// Ensure the shift amount is defined.</span></div>
<div class="line"><a name="l03122"></a><span class="lineno"> 3122</span>&#160;      <span class="keywordflow">if</span> (BitShift.<a class="code" href="classllvm_1_1APInt.html#af4b1ccc0b78f9da9f3f3944e06007f1d">uge</a>(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>))</div>
<div class="line"><a name="l03123"></a><span class="lineno"> 3123</span>&#160;        <span class="keywordflow">return</span> Result;</div>
<div class="line"><a name="l03124"></a><span class="lineno"> 3124</span>&#160; </div>
<div class="line"><a name="l03125"></a><span class="lineno"> 3125</span>&#160;      <span class="comment">// For bswap-only, limit shift amounts to whole bytes, for an early exit.</span></div>
<div class="line"><a name="l03126"></a><span class="lineno"> 3126</span>&#160;      <span class="keywordflow">if</span> (!MatchBitReversals &amp;&amp; (BitShift.<a class="code" href="classllvm_1_1APInt.html#a217e0207d9cc8e046c2dccbf0e4bb198">getZExtValue</a>() % 8) != 0)</div>
<div class="line"><a name="l03127"></a><span class="lineno"> 3127</span>&#160;        <span class="keywordflow">return</span> Result;</div>
<div class="line"><a name="l03128"></a><span class="lineno"> 3128</span>&#160; </div>
<div class="line"><a name="l03129"></a><span class="lineno"> 3129</span>&#160;      <span class="keyword">const</span> <span class="keyword">auto</span> &amp;Res = <a class="code" href="Transforms_2Utils_2Local_8cpp.html#a1a271a6676288b51742b4a72d3b0b5f0">collectBitParts</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, MatchBSwaps, MatchBitReversals, BPS,</div>
<div class="line"><a name="l03130"></a><span class="lineno"> 3130</span>&#160;                                        <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1, FoundRoot);</div>
<div class="line"><a name="l03131"></a><span class="lineno"> 3131</span>&#160;      <span class="keywordflow">if</span> (!Res)</div>
<div class="line"><a name="l03132"></a><span class="lineno"> 3132</span>&#160;        <span class="keywordflow">return</span> Result;</div>
<div class="line"><a name="l03133"></a><span class="lineno"> 3133</span>&#160;      Result = Res;</div>
<div class="line"><a name="l03134"></a><span class="lineno"> 3134</span>&#160; </div>
<div class="line"><a name="l03135"></a><span class="lineno"> 3135</span>&#160;      <span class="comment">// Perform the &quot;shift&quot; on BitProvenance.</span></div>
<div class="line"><a name="l03136"></a><span class="lineno"> 3136</span>&#160;      <span class="keyword">auto</span> &amp;<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> = Result-&gt;Provenance;</div>
<div class="line"><a name="l03137"></a><span class="lineno"> 3137</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getOpcode() == Instruction::Shl) {</div>
<div class="line"><a name="l03138"></a><span class="lineno"> 3138</span>&#160;        <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.erase(std::prev(<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.end(), BitShift.<a class="code" href="classllvm_1_1APInt.html#a217e0207d9cc8e046c2dccbf0e4bb198">getZExtValue</a>()), <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.end());</div>
<div class="line"><a name="l03139"></a><span class="lineno"> 3139</span>&#160;        <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.insert(<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.begin(), BitShift.<a class="code" href="classllvm_1_1APInt.html#a217e0207d9cc8e046c2dccbf0e4bb198">getZExtValue</a>(), BitPart::Unset);</div>
<div class="line"><a name="l03140"></a><span class="lineno"> 3140</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03141"></a><span class="lineno"> 3141</span>&#160;        <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.erase(<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.begin(), std::next(<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.begin(), BitShift.<a class="code" href="classllvm_1_1APInt.html#a217e0207d9cc8e046c2dccbf0e4bb198">getZExtValue</a>()));</div>
<div class="line"><a name="l03142"></a><span class="lineno"> 3142</span>&#160;        <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.insert(<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.end(), BitShift.<a class="code" href="classllvm_1_1APInt.html#a217e0207d9cc8e046c2dccbf0e4bb198">getZExtValue</a>(), BitPart::Unset);</div>
<div class="line"><a name="l03143"></a><span class="lineno"> 3143</span>&#160;      }</div>
<div class="line"><a name="l03144"></a><span class="lineno"> 3144</span>&#160; </div>
<div class="line"><a name="l03145"></a><span class="lineno"> 3145</span>&#160;      <span class="keywordflow">return</span> Result;</div>
<div class="line"><a name="l03146"></a><span class="lineno"> 3146</span>&#160;    }</div>
<div class="line"><a name="l03147"></a><span class="lineno"> 3147</span>&#160; </div>
<div class="line"><a name="l03148"></a><span class="lineno"> 3148</span>&#160;    <span class="comment">// If this is a logical &#39;and&#39; with a mask that clears bits, recurse then</span></div>
<div class="line"><a name="l03149"></a><span class="lineno"> 3149</span>&#160;    <span class="comment">// unset the appropriate bits.</span></div>
<div class="line"><a name="l03150"></a><span class="lineno"> 3150</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(V, <a class="code" href="namespacellvm_1_1PatternMatch.html#a427435d4da769ae680a8e77ef89520aa">m_And</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>), <a class="code" href="namespacellvm_1_1PatternMatch.html#aac9e78b3aa02ec087c4621358f506718">m_APInt</a>(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>)))) {</div>
<div class="line"><a name="l03151"></a><span class="lineno"> 3151</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;AndMask = *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>;</div>
<div class="line"><a name="l03152"></a><span class="lineno"> 3152</span>&#160; </div>
<div class="line"><a name="l03153"></a><span class="lineno"> 3153</span>&#160;      <span class="comment">// Check that the mask allows a multiple of 8 bits for a bswap, for an</span></div>
<div class="line"><a name="l03154"></a><span class="lineno"> 3154</span>&#160;      <span class="comment">// early exit.</span></div>
<div class="line"><a name="l03155"></a><span class="lineno"> 3155</span>&#160;      <span class="keywordtype">unsigned</span> NumMaskedBits = AndMask.<a class="code" href="classllvm_1_1APInt.html#a7237782a64e78d98366d51252b16ca07">countPopulation</a>();</div>
<div class="line"><a name="l03156"></a><span class="lineno"> 3156</span>&#160;      <span class="keywordflow">if</span> (!MatchBitReversals &amp;&amp; (NumMaskedBits % 8) != 0)</div>
<div class="line"><a name="l03157"></a><span class="lineno"> 3157</span>&#160;        <span class="keywordflow">return</span> Result;</div>
<div class="line"><a name="l03158"></a><span class="lineno"> 3158</span>&#160; </div>
<div class="line"><a name="l03159"></a><span class="lineno"> 3159</span>&#160;      <span class="keyword">const</span> <span class="keyword">auto</span> &amp;Res = <a class="code" href="Transforms_2Utils_2Local_8cpp.html#a1a271a6676288b51742b4a72d3b0b5f0">collectBitParts</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, MatchBSwaps, MatchBitReversals, BPS,</div>
<div class="line"><a name="l03160"></a><span class="lineno"> 3160</span>&#160;                                        <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1, FoundRoot);</div>
<div class="line"><a name="l03161"></a><span class="lineno"> 3161</span>&#160;      <span class="keywordflow">if</span> (!Res)</div>
<div class="line"><a name="l03162"></a><span class="lineno"> 3162</span>&#160;        <span class="keywordflow">return</span> Result;</div>
<div class="line"><a name="l03163"></a><span class="lineno"> 3163</span>&#160;      Result = Res;</div>
<div class="line"><a name="l03164"></a><span class="lineno"> 3164</span>&#160; </div>
<div class="line"><a name="l03165"></a><span class="lineno"> 3165</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> BitIdx = 0; BitIdx &lt; <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>; ++BitIdx)</div>
<div class="line"><a name="l03166"></a><span class="lineno"> 3166</span>&#160;        <span class="comment">// If the AndMask is zero for this bit, clear the bit.</span></div>
<div class="line"><a name="l03167"></a><span class="lineno"> 3167</span>&#160;        <span class="keywordflow">if</span> (AndMask[BitIdx] == 0)</div>
<div class="line"><a name="l03168"></a><span class="lineno"> 3168</span>&#160;          Result-&gt;Provenance[BitIdx] = BitPart::Unset;</div>
<div class="line"><a name="l03169"></a><span class="lineno"> 3169</span>&#160;      <span class="keywordflow">return</span> Result;</div>
<div class="line"><a name="l03170"></a><span class="lineno"> 3170</span>&#160;    }</div>
<div class="line"><a name="l03171"></a><span class="lineno"> 3171</span>&#160; </div>
<div class="line"><a name="l03172"></a><span class="lineno"> 3172</span>&#160;    <span class="comment">// If this is a zext instruction zero extend the result.</span></div>
<div class="line"><a name="l03173"></a><span class="lineno"> 3173</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(V, <a class="code" href="namespacellvm_1_1PatternMatch.html#a2cbdca7c8267aac6914d674f8e81841b">m_ZExt</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>)))) {</div>
<div class="line"><a name="l03174"></a><span class="lineno"> 3174</span>&#160;      <span class="keyword">const</span> <span class="keyword">auto</span> &amp;Res = <a class="code" href="Transforms_2Utils_2Local_8cpp.html#a1a271a6676288b51742b4a72d3b0b5f0">collectBitParts</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, MatchBSwaps, MatchBitReversals, BPS,</div>
<div class="line"><a name="l03175"></a><span class="lineno"> 3175</span>&#160;                                        <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1, FoundRoot);</div>
<div class="line"><a name="l03176"></a><span class="lineno"> 3176</span>&#160;      <span class="keywordflow">if</span> (!Res)</div>
<div class="line"><a name="l03177"></a><span class="lineno"> 3177</span>&#160;        <span class="keywordflow">return</span> Result;</div>
<div class="line"><a name="l03178"></a><span class="lineno"> 3178</span>&#160; </div>
<div class="line"><a name="l03179"></a><span class="lineno"> 3179</span>&#160;      Result = BitPart(Res-&gt;Provider, <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>);</div>
<div class="line"><a name="l03180"></a><span class="lineno"> 3180</span>&#160;      <span class="keyword">auto</span> NarrowBitWidth = <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>-&gt;getType()-&gt;getScalarSizeInBits();</div>
<div class="line"><a name="l03181"></a><span class="lineno"> 3181</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> BitIdx = 0; BitIdx &lt; NarrowBitWidth; ++BitIdx)</div>
<div class="line"><a name="l03182"></a><span class="lineno"> 3182</span>&#160;        Result-&gt;Provenance[BitIdx] = Res-&gt;Provenance[BitIdx];</div>
<div class="line"><a name="l03183"></a><span class="lineno"> 3183</span>&#160;      <a class="code" href="lib_2Target_2README_8txt.html#a7df6ed7588301267782c2bd4b7f6899d">for</a> (<span class="keywordtype">unsigned</span> BitIdx = NarrowBitWidth; BitIdx &lt; <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>; ++BitIdx)</div>
<div class="line"><a name="l03184"></a><span class="lineno"> 3184</span>&#160;        Result-&gt;Provenance[BitIdx] = BitPart::Unset;</div>
<div class="line"><a name="l03185"></a><span class="lineno"> 3185</span>&#160;      <span class="keywordflow">return</span> Result;</div>
<div class="line"><a name="l03186"></a><span class="lineno"> 3186</span>&#160;    }</div>
<div class="line"><a name="l03187"></a><span class="lineno"> 3187</span>&#160; </div>
<div class="line"><a name="l03188"></a><span class="lineno"> 3188</span>&#160;    <span class="comment">// If this is a truncate instruction, extract the lower bits.</span></div>
<div class="line"><a name="l03189"></a><span class="lineno"> 3189</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(V, <a class="code" href="namespacellvm_1_1PatternMatch.html#a5b844aada27c4c6fdb87146ac458c0d8">m_Trunc</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>)))) {</div>
<div class="line"><a name="l03190"></a><span class="lineno"> 3190</span>&#160;      <span class="keyword">const</span> <span class="keyword">auto</span> &amp;Res = <a class="code" href="Transforms_2Utils_2Local_8cpp.html#a1a271a6676288b51742b4a72d3b0b5f0">collectBitParts</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, MatchBSwaps, MatchBitReversals, BPS,</div>
<div class="line"><a name="l03191"></a><span class="lineno"> 3191</span>&#160;                                        <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1, FoundRoot);</div>
<div class="line"><a name="l03192"></a><span class="lineno"> 3192</span>&#160;      <span class="keywordflow">if</span> (!Res)</div>
<div class="line"><a name="l03193"></a><span class="lineno"> 3193</span>&#160;        <span class="keywordflow">return</span> Result;</div>
<div class="line"><a name="l03194"></a><span class="lineno"> 3194</span>&#160; </div>
<div class="line"><a name="l03195"></a><span class="lineno"> 3195</span>&#160;      Result = BitPart(Res-&gt;Provider, <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>);</div>
<div class="line"><a name="l03196"></a><span class="lineno"> 3196</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> BitIdx = 0; BitIdx &lt; <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>; ++BitIdx)</div>
<div class="line"><a name="l03197"></a><span class="lineno"> 3197</span>&#160;        Result-&gt;Provenance[BitIdx] = Res-&gt;Provenance[BitIdx];</div>
<div class="line"><a name="l03198"></a><span class="lineno"> 3198</span>&#160;      <span class="keywordflow">return</span> Result;</div>
<div class="line"><a name="l03199"></a><span class="lineno"> 3199</span>&#160;    }</div>
<div class="line"><a name="l03200"></a><span class="lineno"> 3200</span>&#160; </div>
<div class="line"><a name="l03201"></a><span class="lineno"> 3201</span>&#160;    <span class="comment">// BITREVERSE - most likely due to us previous matching a partial</span></div>
<div class="line"><a name="l03202"></a><span class="lineno"> 3202</span>&#160;    <span class="comment">// bitreverse.</span></div>
<div class="line"><a name="l03203"></a><span class="lineno"> 3203</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(V, <a class="code" href="namespacellvm_1_1PatternMatch.html#a8f793deb2edf1656236f570c01d7042e">m_BitReverse</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>)))) {</div>
<div class="line"><a name="l03204"></a><span class="lineno"> 3204</span>&#160;      <span class="keyword">const</span> <span class="keyword">auto</span> &amp;Res = <a class="code" href="Transforms_2Utils_2Local_8cpp.html#a1a271a6676288b51742b4a72d3b0b5f0">collectBitParts</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, MatchBSwaps, MatchBitReversals, BPS,</div>
<div class="line"><a name="l03205"></a><span class="lineno"> 3205</span>&#160;                                        <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1, FoundRoot);</div>
<div class="line"><a name="l03206"></a><span class="lineno"> 3206</span>&#160;      <span class="keywordflow">if</span> (!Res)</div>
<div class="line"><a name="l03207"></a><span class="lineno"> 3207</span>&#160;        <span class="keywordflow">return</span> Result;</div>
<div class="line"><a name="l03208"></a><span class="lineno"> 3208</span>&#160; </div>
<div class="line"><a name="l03209"></a><span class="lineno"> 3209</span>&#160;      Result = BitPart(Res-&gt;Provider, <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>);</div>
<div class="line"><a name="l03210"></a><span class="lineno"> 3210</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> BitIdx = 0; BitIdx &lt; <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>; ++BitIdx)</div>
<div class="line"><a name="l03211"></a><span class="lineno"> 3211</span>&#160;        Result-&gt;Provenance[(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> - 1) - BitIdx] = Res-&gt;Provenance[BitIdx];</div>
<div class="line"><a name="l03212"></a><span class="lineno"> 3212</span>&#160;      <span class="keywordflow">return</span> Result;</div>
<div class="line"><a name="l03213"></a><span class="lineno"> 3213</span>&#160;    }</div>
<div class="line"><a name="l03214"></a><span class="lineno"> 3214</span>&#160; </div>
<div class="line"><a name="l03215"></a><span class="lineno"> 3215</span>&#160;    <span class="comment">// BSWAP - most likely due to us previous matching a partial bswap.</span></div>
<div class="line"><a name="l03216"></a><span class="lineno"> 3216</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(V, <a class="code" href="namespacellvm_1_1PatternMatch.html#a39d717dc10783ec7bd5a24111bd5b8a5">m_BSwap</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>)))) {</div>
<div class="line"><a name="l03217"></a><span class="lineno"> 3217</span>&#160;      <span class="keyword">const</span> <span class="keyword">auto</span> &amp;Res = <a class="code" href="Transforms_2Utils_2Local_8cpp.html#a1a271a6676288b51742b4a72d3b0b5f0">collectBitParts</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, MatchBSwaps, MatchBitReversals, BPS,</div>
<div class="line"><a name="l03218"></a><span class="lineno"> 3218</span>&#160;                                        <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1, FoundRoot);</div>
<div class="line"><a name="l03219"></a><span class="lineno"> 3219</span>&#160;      <span class="keywordflow">if</span> (!Res)</div>
<div class="line"><a name="l03220"></a><span class="lineno"> 3220</span>&#160;        <span class="keywordflow">return</span> Result;</div>
<div class="line"><a name="l03221"></a><span class="lineno"> 3221</span>&#160; </div>
<div class="line"><a name="l03222"></a><span class="lineno"> 3222</span>&#160;      <span class="keywordtype">unsigned</span> ByteWidth = <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> / 8;</div>
<div class="line"><a name="l03223"></a><span class="lineno"> 3223</span>&#160;      Result = BitPart(Res-&gt;Provider, <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>);</div>
<div class="line"><a name="l03224"></a><span class="lineno"> 3224</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> ByteIdx = 0; ByteIdx &lt; ByteWidth; ++ByteIdx) {</div>
<div class="line"><a name="l03225"></a><span class="lineno"> 3225</span>&#160;        <span class="keywordtype">unsigned</span> ByteBitOfs = ByteIdx * 8;</div>
<div class="line"><a name="l03226"></a><span class="lineno"> 3226</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> BitIdx = 0; BitIdx &lt; 8; ++BitIdx)</div>
<div class="line"><a name="l03227"></a><span class="lineno"> 3227</span>&#160;          Result-&gt;Provenance[(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> - 8 - ByteBitOfs) + BitIdx] =</div>
<div class="line"><a name="l03228"></a><span class="lineno"> 3228</span>&#160;              Res-&gt;Provenance[ByteBitOfs + BitIdx];</div>
<div class="line"><a name="l03229"></a><span class="lineno"> 3229</span>&#160;      }</div>
<div class="line"><a name="l03230"></a><span class="lineno"> 3230</span>&#160;      <span class="keywordflow">return</span> Result;</div>
<div class="line"><a name="l03231"></a><span class="lineno"> 3231</span>&#160;    }</div>
<div class="line"><a name="l03232"></a><span class="lineno"> 3232</span>&#160; </div>
<div class="line"><a name="l03233"></a><span class="lineno"> 3233</span>&#160;    <span class="comment">// Funnel &#39;double&#39; shifts take 3 operands, 2 inputs and the shift</span></div>
<div class="line"><a name="l03234"></a><span class="lineno"> 3234</span>&#160;    <span class="comment">// amount (modulo).</span></div>
<div class="line"><a name="l03235"></a><span class="lineno"> 3235</span>&#160;    <span class="comment">// fshl(X,Y,Z): (X &lt;&lt; (Z % BW)) | (Y &gt;&gt; (BW - (Z % BW)))</span></div>
<div class="line"><a name="l03236"></a><span class="lineno"> 3236</span>&#160;    <span class="comment">// fshr(X,Y,Z): (X &lt;&lt; (BW - (Z % BW))) | (Y &gt;&gt; (Z % BW))</span></div>
<div class="line"><a name="l03237"></a><span class="lineno"> 3237</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(V, <a class="code" href="namespacellvm_1_1PatternMatch.html#aeabb6bae24f546580e022835285da5ab">m_FShl</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>), <a class="code" href="namespacellvm_1_1PatternMatch.html#aac9e78b3aa02ec087c4621358f506718">m_APInt</a>(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>))) ||</div>
<div class="line"><a name="l03238"></a><span class="lineno"> 3238</span>&#160;        <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(V, <a class="code" href="namespacellvm_1_1PatternMatch.html#a768e1a76107c46276e339b07744f888a">m_FShr</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>), <a class="code" href="namespacellvm_1_1PatternMatch.html#aac9e78b3aa02ec087c4621358f506718">m_APInt</a>(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>)))) {</div>
<div class="line"><a name="l03239"></a><span class="lineno"> 3239</span>&#160;      <span class="comment">// We can treat fshr as a fshl by flipping the modulo amount.</span></div>
<div class="line"><a name="l03240"></a><span class="lineno"> 3240</span>&#160;      <span class="keywordtype">unsigned</span> ModAmt = <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;urem(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>);</div>
<div class="line"><a name="l03241"></a><span class="lineno"> 3241</span>&#160;      <span class="keywordflow">if</span> (cast&lt;IntrinsicInst&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)-&gt;<a class="code" href="AArch64ISelLowering_8cpp.html#a62766c75f88612ffa652342472e755f6">getIntrinsicID</a>() == Intrinsic::fshr)</div>
<div class="line"><a name="l03242"></a><span class="lineno"> 3242</span>&#160;        ModAmt = <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> - ModAmt;</div>
<div class="line"><a name="l03243"></a><span class="lineno"> 3243</span>&#160; </div>
<div class="line"><a name="l03244"></a><span class="lineno"> 3244</span>&#160;      <span class="comment">// For bswap-only, limit shift amounts to whole bytes, for an early exit.</span></div>
<div class="line"><a name="l03245"></a><span class="lineno"> 3245</span>&#160;      <span class="keywordflow">if</span> (!MatchBitReversals &amp;&amp; (ModAmt % 8) != 0)</div>
<div class="line"><a name="l03246"></a><span class="lineno"> 3246</span>&#160;        <span class="keywordflow">return</span> Result;</div>
<div class="line"><a name="l03247"></a><span class="lineno"> 3247</span>&#160; </div>
<div class="line"><a name="l03248"></a><span class="lineno"> 3248</span>&#160;      <span class="comment">// Check we have both sources and they are from the same provider.</span></div>
<div class="line"><a name="l03249"></a><span class="lineno"> 3249</span>&#160;      <span class="keyword">const</span> <span class="keyword">auto</span> &amp;<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a> = <a class="code" href="Transforms_2Utils_2Local_8cpp.html#a1a271a6676288b51742b4a72d3b0b5f0">collectBitParts</a>(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, MatchBSwaps, MatchBitReversals, BPS,</div>
<div class="line"><a name="l03250"></a><span class="lineno"> 3250</span>&#160;                                        <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1, FoundRoot);</div>
<div class="line"><a name="l03251"></a><span class="lineno"> 3251</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a> || !<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>-&gt;Provider)</div>
<div class="line"><a name="l03252"></a><span class="lineno"> 3252</span>&#160;        <span class="keywordflow">return</span> Result;</div>
<div class="line"><a name="l03253"></a><span class="lineno"> 3253</span>&#160; </div>
<div class="line"><a name="l03254"></a><span class="lineno"> 3254</span>&#160;      <span class="keyword">const</span> <span class="keyword">auto</span> &amp;<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a> = <a class="code" href="Transforms_2Utils_2Local_8cpp.html#a1a271a6676288b51742b4a72d3b0b5f0">collectBitParts</a>(<a class="code" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>, MatchBSwaps, MatchBitReversals, BPS,</div>
<div class="line"><a name="l03255"></a><span class="lineno"> 3255</span>&#160;                                        <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1, FoundRoot);</div>
<div class="line"><a name="l03256"></a><span class="lineno"> 3256</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a> || <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>-&gt;Provider != <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>-&gt;Provider)</div>
<div class="line"><a name="l03257"></a><span class="lineno"> 3257</span>&#160;        <span class="keywordflow">return</span> Result;</div>
<div class="line"><a name="l03258"></a><span class="lineno"> 3258</span>&#160; </div>
<div class="line"><a name="l03259"></a><span class="lineno"> 3259</span>&#160;      <span class="keywordtype">unsigned</span> StartBitRHS = <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> - ModAmt;</div>
<div class="line"><a name="l03260"></a><span class="lineno"> 3260</span>&#160;      Result = BitPart(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>-&gt;Provider, <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>);</div>
<div class="line"><a name="l03261"></a><span class="lineno"> 3261</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> BitIdx = 0; BitIdx &lt; StartBitRHS; ++BitIdx)</div>
<div class="line"><a name="l03262"></a><span class="lineno"> 3262</span>&#160;        Result-&gt;Provenance[BitIdx + ModAmt] = <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>-&gt;Provenance[BitIdx];</div>
<div class="line"><a name="l03263"></a><span class="lineno"> 3263</span>&#160;      <a class="code" href="lib_2Target_2README_8txt.html#a7df6ed7588301267782c2bd4b7f6899d">for</a> (<span class="keywordtype">unsigned</span> BitIdx = 0; BitIdx &lt; ModAmt; ++BitIdx)</div>
<div class="line"><a name="l03264"></a><span class="lineno"> 3264</span>&#160;        Result-&gt;Provenance[BitIdx] = <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>-&gt;Provenance[BitIdx + StartBitRHS];</div>
<div class="line"><a name="l03265"></a><span class="lineno"> 3265</span>&#160;      <span class="keywordflow">return</span> Result;</div>
<div class="line"><a name="l03266"></a><span class="lineno"> 3266</span>&#160;    }</div>
<div class="line"><a name="l03267"></a><span class="lineno"> 3267</span>&#160;  }</div>
<div class="line"><a name="l03268"></a><span class="lineno"> 3268</span>&#160; </div>
<div class="line"><a name="l03269"></a><span class="lineno"> 3269</span>&#160;  <span class="comment">// If we&#39;ve already found a root input value then we&#39;re never going to merge</span></div>
<div class="line"><a name="l03270"></a><span class="lineno"> 3270</span>&#160;  <span class="comment">// these back together.</span></div>
<div class="line"><a name="l03271"></a><span class="lineno"> 3271</span>&#160;  <span class="keywordflow">if</span> (FoundRoot)</div>
<div class="line"><a name="l03272"></a><span class="lineno"> 3272</span>&#160;    <span class="keywordflow">return</span> Result;</div>
<div class="line"><a name="l03273"></a><span class="lineno"> 3273</span>&#160; </div>
<div class="line"><a name="l03274"></a><span class="lineno"> 3274</span>&#160;  <span class="comment">// Okay, we got to something that isn&#39;t a shift, &#39;or&#39;, &#39;and&#39;, etc. This must</span></div>
<div class="line"><a name="l03275"></a><span class="lineno"> 3275</span>&#160;  <span class="comment">// be the root input value to the bswap/bitreverse.</span></div>
<div class="line"><a name="l03276"></a><span class="lineno"> 3276</span>&#160;  FoundRoot = <span class="keyword">true</span>;</div>
<div class="line"><a name="l03277"></a><span class="lineno"> 3277</span>&#160;  Result = BitPart(V, <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>);</div>
<div class="line"><a name="l03278"></a><span class="lineno"> 3278</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> BitIdx = 0; BitIdx &lt; <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>; ++BitIdx)</div>
<div class="line"><a name="l03279"></a><span class="lineno"> 3279</span>&#160;    Result-&gt;Provenance[BitIdx] = BitIdx;</div>
<div class="line"><a name="l03280"></a><span class="lineno"> 3280</span>&#160;  <span class="keywordflow">return</span> Result;</div>
<div class="line"><a name="l03281"></a><span class="lineno"> 3281</span>&#160;}</div>
<div class="line"><a name="l03282"></a><span class="lineno"> 3282</span>&#160; </div>
<div class="line"><a name="l03283"></a><span class="lineno"><a class="line" href="Transforms_2Utils_2Local_8cpp.html#a9f3d7adf7647a76ba410be64215a9d74"> 3283</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="Transforms_2Utils_2Local_8cpp.html#a9f3d7adf7647a76ba410be64215a9d74">bitTransformIsCorrectForBSwap</a>(<span class="keywordtype">unsigned</span> <a class="code" href="BlockVerifier_8cpp.html#ae45c7d73c0ff5d177b59153ffae77f84">From</a>, <span class="keywordtype">unsigned</span> To,</div>
<div class="line"><a name="l03284"></a><span class="lineno"> 3284</span>&#160;                                          <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>) {</div>
<div class="line"><a name="l03285"></a><span class="lineno"> 3285</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="BlockVerifier_8cpp.html#ae45c7d73c0ff5d177b59153ffae77f84">From</a> % 8 != To % 8)</div>
<div class="line"><a name="l03286"></a><span class="lineno"> 3286</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03287"></a><span class="lineno"> 3287</span>&#160;  <span class="comment">// Convert from bit indices to byte indices and check for a byte reversal.</span></div>
<div class="line"><a name="l03288"></a><span class="lineno"> 3288</span>&#160;  <a class="code" href="BlockVerifier_8cpp.html#ae45c7d73c0ff5d177b59153ffae77f84">From</a> &gt;&gt;= 3;</div>
<div class="line"><a name="l03289"></a><span class="lineno"> 3289</span>&#160;  To &gt;&gt;= 3;</div>
<div class="line"><a name="l03290"></a><span class="lineno"> 3290</span>&#160;  <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> &gt;&gt;= 3;</div>
<div class="line"><a name="l03291"></a><span class="lineno"> 3291</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="BlockVerifier_8cpp.html#ae45c7d73c0ff5d177b59153ffae77f84">From</a> == <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> - To - 1;</div>
<div class="line"><a name="l03292"></a><span class="lineno"> 3292</span>&#160;}</div>
<div class="line"><a name="l03293"></a><span class="lineno"> 3293</span>&#160; </div>
<div class="line"><a name="l03294"></a><span class="lineno"><a class="line" href="Transforms_2Utils_2Local_8cpp.html#af2d13d2dd35f8bac23c71adf9e740aa6"> 3294</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="Transforms_2Utils_2Local_8cpp.html#af2d13d2dd35f8bac23c71adf9e740aa6">bitTransformIsCorrectForBitReverse</a>(<span class="keywordtype">unsigned</span> <a class="code" href="BlockVerifier_8cpp.html#ae45c7d73c0ff5d177b59153ffae77f84">From</a>, <span class="keywordtype">unsigned</span> To,</div>
<div class="line"><a name="l03295"></a><span class="lineno"> 3295</span>&#160;                                               <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>) {</div>
<div class="line"><a name="l03296"></a><span class="lineno"> 3296</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="BlockVerifier_8cpp.html#ae45c7d73c0ff5d177b59153ffae77f84">From</a> == <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> - To - 1;</div>
<div class="line"><a name="l03297"></a><span class="lineno"> 3297</span>&#160;}</div>
<div class="line"><a name="l03298"></a><span class="lineno"> 3298</span>&#160; </div>
<div class="line"><a name="l03299"></a><span class="lineno"><a class="line" href="namespacellvm.html#a6c402f49fa595af618c5ad1500565d92"> 3299</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="namespacellvm.html#a6c402f49fa595af618c5ad1500565d92">llvm::recognizeBSwapOrBitReverseIdiom</a>(</div>
<div class="line"><a name="l03300"></a><span class="lineno"> 3300</span>&#160;    <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <span class="keywordtype">bool</span> MatchBSwaps, <span class="keywordtype">bool</span> MatchBitReversals,</div>
<div class="line"><a name="l03301"></a><span class="lineno"> 3301</span>&#160;    <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;Instruction *&gt;</a> &amp;InsertedInsts) {</div>
<div class="line"><a name="l03302"></a><span class="lineno"> 3302</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#a42569041ddafba7d40243e126af07f42">m_Or</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>())) &amp;&amp;</div>
<div class="line"><a name="l03303"></a><span class="lineno"> 3303</span>&#160;      !<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#aeabb6bae24f546580e022835285da5ab">m_FShl</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>())) &amp;&amp;</div>
<div class="line"><a name="l03304"></a><span class="lineno"> 3304</span>&#160;      !<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#a768e1a76107c46276e339b07744f888a">m_FShr</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>())))</div>
<div class="line"><a name="l03305"></a><span class="lineno"> 3305</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03306"></a><span class="lineno"> 3306</span>&#160;  <span class="keywordflow">if</span> (!MatchBSwaps &amp;&amp; !MatchBitReversals)</div>
<div class="line"><a name="l03307"></a><span class="lineno"> 3307</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03308"></a><span class="lineno"> 3308</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *ITy = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getType();</div>
<div class="line"><a name="l03309"></a><span class="lineno"> 3309</span>&#160;  <span class="keywordflow">if</span> (!ITy-&gt;<a class="code" href="classllvm_1_1Type.html#a34ee40bb2f4f5ece47ef19e5f1f57e3c">isIntOrIntVectorTy</a>() || ITy-&gt;<a class="code" href="classllvm_1_1Type.html#a9f382207d841377156d4c7868b66b9a5">getScalarSizeInBits</a>() &gt; 128)</div>
<div class="line"><a name="l03310"></a><span class="lineno"> 3310</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;  <span class="comment">// Can&#39;t do integer/elements &gt; 128 bits.</span></div>
<div class="line"><a name="l03311"></a><span class="lineno"> 3311</span>&#160; </div>
<div class="line"><a name="l03312"></a><span class="lineno"> 3312</span>&#160;  <span class="comment">// Try to find all the pieces corresponding to the bswap.</span></div>
<div class="line"><a name="l03313"></a><span class="lineno"> 3313</span>&#160;  <span class="keywordtype">bool</span> FoundRoot = <span class="keyword">false</span>;</div>
<div class="line"><a name="l03314"></a><span class="lineno"> 3314</span>&#160;  std::map&lt;Value *, std::optional&lt;BitPart&gt;&gt; BPS;</div>
<div class="line"><a name="l03315"></a><span class="lineno"> 3315</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> &amp;Res =</div>
<div class="line"><a name="l03316"></a><span class="lineno"> 3316</span>&#160;      <a class="code" href="Transforms_2Utils_2Local_8cpp.html#a1a271a6676288b51742b4a72d3b0b5f0">collectBitParts</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, MatchBSwaps, MatchBitReversals, BPS, 0, FoundRoot);</div>
<div class="line"><a name="l03317"></a><span class="lineno"> 3317</span>&#160;  <span class="keywordflow">if</span> (!Res)</div>
<div class="line"><a name="l03318"></a><span class="lineno"> 3318</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03319"></a><span class="lineno"> 3319</span>&#160;  <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;int8_t&gt;</a> BitProvenance = Res-&gt;Provenance;</div>
<div class="line"><a name="l03320"></a><span class="lineno"> 3320</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="namespacellvm.html#a0d10fe510ced2849a8074fe81e5d04ce">all_of</a>(BitProvenance,</div>
<div class="line"><a name="l03321"></a><span class="lineno"> 3321</span>&#160;                [](int8_t <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) { <span class="keywordflow">return</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> == BitPart::Unset || 0 &lt;= <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>; }) &amp;&amp;</div>
<div class="line"><a name="l03322"></a><span class="lineno"> 3322</span>&#160;         <span class="stringliteral">&quot;Illegal bit provenance index&quot;</span>);</div>
<div class="line"><a name="l03323"></a><span class="lineno"> 3323</span>&#160; </div>
<div class="line"><a name="l03324"></a><span class="lineno"> 3324</span>&#160;  <span class="comment">// If the upper bits are zero, then attempt to perform as a truncated op.</span></div>
<div class="line"><a name="l03325"></a><span class="lineno"> 3325</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *DemandedTy = ITy;</div>
<div class="line"><a name="l03326"></a><span class="lineno"> 3326</span>&#160;  <span class="keywordflow">if</span> (BitProvenance.<a class="code" href="classllvm_1_1ArrayRef.html#adb38eaaa53c1d9c57b6fe11cf84bd7a4">back</a>() == BitPart::Unset) {</div>
<div class="line"><a name="l03327"></a><span class="lineno"> 3327</span>&#160;    <span class="keywordflow">while</span> (!BitProvenance.<a class="code" href="classllvm_1_1ArrayRef.html#ac835b8735b1b2faec0efdca236e37d94">empty</a>() &amp;&amp; BitProvenance.<a class="code" href="classllvm_1_1ArrayRef.html#adb38eaaa53c1d9c57b6fe11cf84bd7a4">back</a>() == BitPart::Unset)</div>
<div class="line"><a name="l03328"></a><span class="lineno"> 3328</span>&#160;      BitProvenance = BitProvenance.<a class="code" href="classllvm_1_1ArrayRef.html#a1c7ded859212582e33828a47259f9bd3">drop_back</a>();</div>
<div class="line"><a name="l03329"></a><span class="lineno"> 3329</span>&#160;    <span class="keywordflow">if</span> (BitProvenance.<a class="code" href="classllvm_1_1ArrayRef.html#ac835b8735b1b2faec0efdca236e37d94">empty</a>())</div>
<div class="line"><a name="l03330"></a><span class="lineno"> 3330</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>; <span class="comment">// TODO - handle null value?</span></div>
<div class="line"><a name="l03331"></a><span class="lineno"> 3331</span>&#160;    DemandedTy = <a class="code" href="classllvm_1_1Type.html#acaf8e4c3e40e01e848c1fad5f05b81cd">Type::getIntNTy</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getContext(), BitProvenance.<a class="code" href="classllvm_1_1ArrayRef.html#a85ffb6531d4cda988ea81f18d4e56fb7">size</a>());</div>
<div class="line"><a name="l03332"></a><span class="lineno"> 3332</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> *IVecTy = dyn_cast&lt;VectorType&gt;(ITy))</div>
<div class="line"><a name="l03333"></a><span class="lineno"> 3333</span>&#160;      DemandedTy = <a class="code" href="classllvm_1_1VectorType.html#a8c90e6c50e795b17466482a04947690e">VectorType::get</a>(DemandedTy, IVecTy);</div>
<div class="line"><a name="l03334"></a><span class="lineno"> 3334</span>&#160;  }</div>
<div class="line"><a name="l03335"></a><span class="lineno"> 3335</span>&#160; </div>
<div class="line"><a name="l03336"></a><span class="lineno"> 3336</span>&#160;  <span class="comment">// Check BitProvenance hasn&#39;t found a source larger than the result type.</span></div>
<div class="line"><a name="l03337"></a><span class="lineno"> 3337</span>&#160;  <span class="keywordtype">unsigned</span> DemandedBW = DemandedTy-&gt;<a class="code" href="classllvm_1_1Type.html#a9f382207d841377156d4c7868b66b9a5">getScalarSizeInBits</a>();</div>
<div class="line"><a name="l03338"></a><span class="lineno"> 3338</span>&#160;  <span class="keywordflow">if</span> (DemandedBW &gt; ITy-&gt;<a class="code" href="classllvm_1_1Type.html#a9f382207d841377156d4c7868b66b9a5">getScalarSizeInBits</a>())</div>
<div class="line"><a name="l03339"></a><span class="lineno"> 3339</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03340"></a><span class="lineno"> 3340</span>&#160; </div>
<div class="line"><a name="l03341"></a><span class="lineno"> 3341</span>&#160;  <span class="comment">// Now, is the bit permutation correct for a bswap or a bitreverse? We can</span></div>
<div class="line"><a name="l03342"></a><span class="lineno"> 3342</span>&#160;  <span class="comment">// only byteswap values with an even number of bytes.</span></div>
<div class="line"><a name="l03343"></a><span class="lineno"> 3343</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> DemandedMask = <a class="code" href="classllvm_1_1APInt.html#a071e8d814b2b30b02544fad964227b8e">APInt::getAllOnes</a>(DemandedBW);</div>
<div class="line"><a name="l03344"></a><span class="lineno"> 3344</span>&#160;  <span class="keywordtype">bool</span> OKForBSwap = MatchBSwaps &amp;&amp; (DemandedBW % 16) == 0;</div>
<div class="line"><a name="l03345"></a><span class="lineno"> 3345</span>&#160;  <span class="keywordtype">bool</span> OKForBitReverse = MatchBitReversals;</div>
<div class="line"><a name="l03346"></a><span class="lineno"> 3346</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> BitIdx = 0;</div>
<div class="line"><a name="l03347"></a><span class="lineno"> 3347</span>&#160;       (BitIdx &lt; DemandedBW) &amp;&amp; (OKForBSwap || OKForBitReverse); ++BitIdx) {</div>
<div class="line"><a name="l03348"></a><span class="lineno"> 3348</span>&#160;    <span class="keywordflow">if</span> (BitProvenance[BitIdx] == BitPart::Unset) {</div>
<div class="line"><a name="l03349"></a><span class="lineno"> 3349</span>&#160;      DemandedMask.<a class="code" href="classllvm_1_1APInt.html#a155466c9ea0a2bd00e09c62fdce2c052">clearBit</a>(BitIdx);</div>
<div class="line"><a name="l03350"></a><span class="lineno"> 3350</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l03351"></a><span class="lineno"> 3351</span>&#160;    }</div>
<div class="line"><a name="l03352"></a><span class="lineno"> 3352</span>&#160;    OKForBSwap &amp;= <a class="code" href="Transforms_2Utils_2Local_8cpp.html#a9f3d7adf7647a76ba410be64215a9d74">bitTransformIsCorrectForBSwap</a>(BitProvenance[BitIdx], BitIdx,</div>
<div class="line"><a name="l03353"></a><span class="lineno"> 3353</span>&#160;                                                DemandedBW);</div>
<div class="line"><a name="l03354"></a><span class="lineno"> 3354</span>&#160;    OKForBitReverse &amp;= <a class="code" href="Transforms_2Utils_2Local_8cpp.html#af2d13d2dd35f8bac23c71adf9e740aa6">bitTransformIsCorrectForBitReverse</a>(BitProvenance[BitIdx],</div>
<div class="line"><a name="l03355"></a><span class="lineno"> 3355</span>&#160;                                                          BitIdx, DemandedBW);</div>
<div class="line"><a name="l03356"></a><span class="lineno"> 3356</span>&#160;  }</div>
<div class="line"><a name="l03357"></a><span class="lineno"> 3357</span>&#160; </div>
<div class="line"><a name="l03358"></a><span class="lineno"> 3358</span>&#160;  <a class="code" href="namespacellvm_1_1Intrinsic.html#a80add6b3b1cdaec560907995127adc16">Intrinsic::ID</a> Intrin;</div>
<div class="line"><a name="l03359"></a><span class="lineno"> 3359</span>&#160;  <span class="keywordflow">if</span> (OKForBSwap)</div>
<div class="line"><a name="l03360"></a><span class="lineno"> 3360</span>&#160;    Intrin = Intrinsic::bswap;</div>
<div class="line"><a name="l03361"></a><span class="lineno"> 3361</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (OKForBitReverse)</div>
<div class="line"><a name="l03362"></a><span class="lineno"> 3362</span>&#160;    Intrin = Intrinsic::bitreverse;</div>
<div class="line"><a name="l03363"></a><span class="lineno"> 3363</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l03364"></a><span class="lineno"> 3364</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03365"></a><span class="lineno"> 3365</span>&#160; </div>
<div class="line"><a name="l03366"></a><span class="lineno"> 3366</span>&#160;  <a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> = <a class="code" href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">Intrinsic::getDeclaration</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getModule(), Intrin, DemandedTy);</div>
<div class="line"><a name="l03367"></a><span class="lineno"> 3367</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *Provider = Res-&gt;Provider;</div>
<div class="line"><a name="l03368"></a><span class="lineno"> 3368</span>&#160; </div>
<div class="line"><a name="l03369"></a><span class="lineno"> 3369</span>&#160;  <span class="comment">// We may need to truncate the provider.</span></div>
<div class="line"><a name="l03370"></a><span class="lineno"> 3370</span>&#160;  <span class="keywordflow">if</span> (DemandedTy != Provider-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()) {</div>
<div class="line"><a name="l03371"></a><span class="lineno"> 3371</span>&#160;    <span class="keyword">auto</span> *Trunc =</div>
<div class="line"><a name="l03372"></a><span class="lineno"> 3372</span>&#160;        <a class="code" href="classllvm_1_1CastInst.html#a277c32f1a2c680c0af45cbf0ff67c409">CastInst::CreateIntegerCast</a>(Provider, DemandedTy, <span class="keyword">false</span>, <span class="stringliteral">&quot;trunc&quot;</span>, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l03373"></a><span class="lineno"> 3373</span>&#160;    InsertedInsts.push_back(Trunc);</div>
<div class="line"><a name="l03374"></a><span class="lineno"> 3374</span>&#160;    Provider = Trunc;</div>
<div class="line"><a name="l03375"></a><span class="lineno"> 3375</span>&#160;  }</div>
<div class="line"><a name="l03376"></a><span class="lineno"> 3376</span>&#160; </div>
<div class="line"><a name="l03377"></a><span class="lineno"> 3377</span>&#160;  <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *Result = <a class="code" href="classllvm_1_1CallInst.html#a850d8262cd900958b3153c4aa080b2bb">CallInst::Create</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, Provider, <span class="stringliteral">&quot;rev&quot;</span>, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l03378"></a><span class="lineno"> 3378</span>&#160;  InsertedInsts.push_back(Result);</div>
<div class="line"><a name="l03379"></a><span class="lineno"> 3379</span>&#160; </div>
<div class="line"><a name="l03380"></a><span class="lineno"> 3380</span>&#160;  <span class="keywordflow">if</span> (!DemandedMask.<a class="code" href="classllvm_1_1APInt.html#a423e2c491de1408d54e35f0b47d076be">isAllOnes</a>()) {</div>
<div class="line"><a name="l03381"></a><span class="lineno"> 3381</span>&#160;    <span class="keyword">auto</span> *<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a> = <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(DemandedTy, DemandedMask);</div>
<div class="line"><a name="l03382"></a><span class="lineno"> 3382</span>&#160;    Result = <a class="code" href="classllvm_1_1BinaryOperator.html#a02ce9966395063ac501ecbc1623deda4">BinaryOperator::Create</a>(Instruction::And, Result, <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>, <span class="stringliteral">&quot;mask&quot;</span>, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l03383"></a><span class="lineno"> 3383</span>&#160;    InsertedInsts.push_back(Result);</div>
<div class="line"><a name="l03384"></a><span class="lineno"> 3384</span>&#160;  }</div>
<div class="line"><a name="l03385"></a><span class="lineno"> 3385</span>&#160; </div>
<div class="line"><a name="l03386"></a><span class="lineno"> 3386</span>&#160;  <span class="comment">// We may need to zeroextend back to the result type.</span></div>
<div class="line"><a name="l03387"></a><span class="lineno"> 3387</span>&#160;  <span class="keywordflow">if</span> (ITy != Result-&gt;getType()) {</div>
<div class="line"><a name="l03388"></a><span class="lineno"> 3388</span>&#160;    <span class="keyword">auto</span> *ExtInst = <a class="code" href="classllvm_1_1CastInst.html#a277c32f1a2c680c0af45cbf0ff67c409">CastInst::CreateIntegerCast</a>(Result, ITy, <span class="keyword">false</span>, <span class="stringliteral">&quot;zext&quot;</span>, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l03389"></a><span class="lineno"> 3389</span>&#160;    InsertedInsts.push_back(ExtInst);</div>
<div class="line"><a name="l03390"></a><span class="lineno"> 3390</span>&#160;  }</div>
<div class="line"><a name="l03391"></a><span class="lineno"> 3391</span>&#160; </div>
<div class="line"><a name="l03392"></a><span class="lineno"> 3392</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03393"></a><span class="lineno"> 3393</span>&#160;}</div>
<div class="line"><a name="l03394"></a><span class="lineno"> 3394</span>&#160; </div>
<div class="line"><a name="l03395"></a><span class="lineno"> 3395</span>&#160;<span class="comment">// CodeGen has special handling for some string functions that may replace</span></div>
<div class="line"><a name="l03396"></a><span class="lineno"> 3396</span>&#160;<span class="comment">// them with target-specific intrinsics.  Since that&#39;d skip our interceptors</span></div>
<div class="line"><a name="l03397"></a><span class="lineno"> 3397</span>&#160;<span class="comment">// in ASan/MSan/TSan/DFSan, and thus make us miss some memory accesses,</span></div>
<div class="line"><a name="l03398"></a><span class="lineno"> 3398</span>&#160;<span class="comment">// we mark affected calls as NoBuiltin, which will disable optimization</span></div>
<div class="line"><a name="l03399"></a><span class="lineno"> 3399</span>&#160;<span class="comment">// in CodeGen.</span></div>
<div class="line"><a name="l03400"></a><span class="lineno"><a class="line" href="namespacellvm.html#ae63427c4d8f3c1ce48401b38ed9198f1"> 3400</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacellvm.html#ae63427c4d8f3c1ce48401b38ed9198f1">llvm::maybeMarkSanitizerLibraryCallNoBuiltin</a>(</div>
<div class="line"><a name="l03401"></a><span class="lineno"> 3401</span>&#160;    <a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *CI, <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetLibraryInfo.html">TargetLibraryInfo</a> *TLI) {</div>
<div class="line"><a name="l03402"></a><span class="lineno"> 3402</span>&#160;  <a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> = CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#a83b8c9e572130f403445c0b0f69b837c">getCalledFunction</a>();</div>
<div class="line"><a name="l03403"></a><span class="lineno"> 3403</span>&#160;  <a class="code" href="namespacellvm.html#a26a5e408fc09c5664d2bbb2d7fae154e">LibFunc</a> Func;</div>
<div class="line"><a name="l03404"></a><span class="lineno"> 3404</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> &amp;&amp; !<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;hasLocalLinkage() &amp;&amp; <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;hasName() &amp;&amp;</div>
<div class="line"><a name="l03405"></a><span class="lineno"> 3405</span>&#160;      TLI-&gt;<a class="code" href="classllvm_1_1TargetLibraryInfo.html#a97cfbbed8869e3582142012a071a9052">getLibFunc</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getName(), Func) &amp;&amp; TLI-&gt;<a class="code" href="classllvm_1_1TargetLibraryInfo.html#a38377afcf58b163cbb11662bdc2841a9">hasOptimizedCodeGen</a>(Func) &amp;&amp;</div>
<div class="line"><a name="l03406"></a><span class="lineno"> 3406</span>&#160;      !<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;doesNotAccessMemory())</div>
<div class="line"><a name="l03407"></a><span class="lineno"> 3407</span>&#160;    CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#a0f72a62efd0912aba72c6818c720023c">addFnAttr</a>(Attribute::NoBuiltin);</div>
<div class="line"><a name="l03408"></a><span class="lineno"> 3408</span>&#160;}</div>
<div class="line"><a name="l03409"></a><span class="lineno"> 3409</span>&#160; </div>
<div class="line"><a name="l03410"></a><span class="lineno"><a class="line" href="namespacellvm.html#ab42e397923eec18d3ab8ea88d280b63c"> 3410</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="namespacellvm.html#ab42e397923eec18d3ab8ea88d280b63c">llvm::canReplaceOperandWithVariable</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <span class="keywordtype">unsigned</span> OpIdx) {</div>
<div class="line"><a name="l03411"></a><span class="lineno"> 3411</span>&#160;  <span class="comment">// We can&#39;t have a PHI with a metadata type.</span></div>
<div class="line"><a name="l03412"></a><span class="lineno"> 3412</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getOperand(OpIdx)-&gt;getType()-&gt;isMetadataTy())</div>
<div class="line"><a name="l03413"></a><span class="lineno"> 3413</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03414"></a><span class="lineno"> 3414</span>&#160; </div>
<div class="line"><a name="l03415"></a><span class="lineno"> 3415</span>&#160;  <span class="comment">// Early exit.</span></div>
<div class="line"><a name="l03416"></a><span class="lineno"> 3416</span>&#160;  <span class="keywordflow">if</span> (!isa&lt;Constant&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getOperand(OpIdx)))</div>
<div class="line"><a name="l03417"></a><span class="lineno"> 3417</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03418"></a><span class="lineno"> 3418</span>&#160; </div>
<div class="line"><a name="l03419"></a><span class="lineno"> 3419</span>&#160;  <span class="keywordflow">switch</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getOpcode()) {</div>
<div class="line"><a name="l03420"></a><span class="lineno"> 3420</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l03421"></a><span class="lineno"> 3421</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03422"></a><span class="lineno"> 3422</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Instruction::Call</a>:</div>
<div class="line"><a name="l03423"></a><span class="lineno"> 3423</span>&#160;  <span class="keywordflow">case</span> Instruction::Invoke: {</div>
<div class="line"><a name="l03424"></a><span class="lineno"> 3424</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> &amp;CB = cast&lt;CallBase&gt;(*<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l03425"></a><span class="lineno"> 3425</span>&#160; </div>
<div class="line"><a name="l03426"></a><span class="lineno"> 3426</span>&#160;    <span class="comment">// Can&#39;t handle inline asm. Skip it.</span></div>
<div class="line"><a name="l03427"></a><span class="lineno"> 3427</span>&#160;    <span class="keywordflow">if</span> (CB.isInlineAsm())</div>
<div class="line"><a name="l03428"></a><span class="lineno"> 3428</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03429"></a><span class="lineno"> 3429</span>&#160; </div>
<div class="line"><a name="l03430"></a><span class="lineno"> 3430</span>&#160;    <span class="comment">// Constant bundle operands may need to retain their constant-ness for</span></div>
<div class="line"><a name="l03431"></a><span class="lineno"> 3431</span>&#160;    <span class="comment">// correctness.</span></div>
<div class="line"><a name="l03432"></a><span class="lineno"> 3432</span>&#160;    <span class="keywordflow">if</span> (CB.isBundleOperand(OpIdx))</div>
<div class="line"><a name="l03433"></a><span class="lineno"> 3433</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03434"></a><span class="lineno"> 3434</span>&#160; </div>
<div class="line"><a name="l03435"></a><span class="lineno"> 3435</span>&#160;    <span class="keywordflow">if</span> (OpIdx &lt; CB.arg_size()) {</div>
<div class="line"><a name="l03436"></a><span class="lineno"> 3436</span>&#160;      <span class="comment">// Some variadic intrinsics require constants in the variadic arguments,</span></div>
<div class="line"><a name="l03437"></a><span class="lineno"> 3437</span>&#160;      <span class="comment">// which currently aren&#39;t markable as immarg.</span></div>
<div class="line"><a name="l03438"></a><span class="lineno"> 3438</span>&#160;      <span class="keywordflow">if</span> (isa&lt;IntrinsicInst&gt;(CB) &amp;&amp;</div>
<div class="line"><a name="l03439"></a><span class="lineno"> 3439</span>&#160;          OpIdx &gt;= CB.getFunctionType()-&gt;getNumParams()) {</div>
<div class="line"><a name="l03440"></a><span class="lineno"> 3440</span>&#160;        <span class="comment">// This is known to be OK for stackmap.</span></div>
<div class="line"><a name="l03441"></a><span class="lineno"> 3441</span>&#160;        <span class="keywordflow">return</span> CB.getIntrinsicID() == Intrinsic::experimental_stackmap;</div>
<div class="line"><a name="l03442"></a><span class="lineno"> 3442</span>&#160;      }</div>
<div class="line"><a name="l03443"></a><span class="lineno"> 3443</span>&#160; </div>
<div class="line"><a name="l03444"></a><span class="lineno"> 3444</span>&#160;      <span class="comment">// gcroot is a special case, since it requires a constant argument which</span></div>
<div class="line"><a name="l03445"></a><span class="lineno"> 3445</span>&#160;      <span class="comment">// isn&#39;t also required to be a simple ConstantInt.</span></div>
<div class="line"><a name="l03446"></a><span class="lineno"> 3446</span>&#160;      <span class="keywordflow">if</span> (CB.getIntrinsicID() == Intrinsic::gcroot)</div>
<div class="line"><a name="l03447"></a><span class="lineno"> 3447</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03448"></a><span class="lineno"> 3448</span>&#160; </div>
<div class="line"><a name="l03449"></a><span class="lineno"> 3449</span>&#160;      <span class="comment">// Some intrinsic operands are required to be immediates.</span></div>
<div class="line"><a name="l03450"></a><span class="lineno"> 3450</span>&#160;      <span class="keywordflow">return</span> !CB.paramHasAttr(OpIdx, Attribute::ImmArg);</div>
<div class="line"><a name="l03451"></a><span class="lineno"> 3451</span>&#160;    }</div>
<div class="line"><a name="l03452"></a><span class="lineno"> 3452</span>&#160; </div>
<div class="line"><a name="l03453"></a><span class="lineno"> 3453</span>&#160;    <span class="comment">// It is never allowed to replace the call argument to an intrinsic, but it</span></div>
<div class="line"><a name="l03454"></a><span class="lineno"> 3454</span>&#160;    <span class="comment">// may be possible for a call.</span></div>
<div class="line"><a name="l03455"></a><span class="lineno"> 3455</span>&#160;    <span class="keywordflow">return</span> !isa&lt;IntrinsicInst&gt;(CB);</div>
<div class="line"><a name="l03456"></a><span class="lineno"> 3456</span>&#160;  }</div>
<div class="line"><a name="l03457"></a><span class="lineno"> 3457</span>&#160;  <span class="keywordflow">case</span> Instruction::ShuffleVector:</div>
<div class="line"><a name="l03458"></a><span class="lineno"> 3458</span>&#160;    <span class="comment">// Shufflevector masks are constant.</span></div>
<div class="line"><a name="l03459"></a><span class="lineno"> 3459</span>&#160;    <span class="keywordflow">return</span> OpIdx != 2;</div>
<div class="line"><a name="l03460"></a><span class="lineno"> 3460</span>&#160;  <span class="keywordflow">case</span> Instruction::Switch:</div>
<div class="line"><a name="l03461"></a><span class="lineno"> 3461</span>&#160;  <span class="keywordflow">case</span> Instruction::ExtractValue:</div>
<div class="line"><a name="l03462"></a><span class="lineno"> 3462</span>&#160;    <span class="comment">// All operands apart from the first are constant.</span></div>
<div class="line"><a name="l03463"></a><span class="lineno"> 3463</span>&#160;    <span class="keywordflow">return</span> OpIdx == 0;</div>
<div class="line"><a name="l03464"></a><span class="lineno"> 3464</span>&#160;  <span class="keywordflow">case</span> Instruction::InsertValue:</div>
<div class="line"><a name="l03465"></a><span class="lineno"> 3465</span>&#160;    <span class="comment">// All operands apart from the first and the second are constant.</span></div>
<div class="line"><a name="l03466"></a><span class="lineno"> 3466</span>&#160;    <span class="keywordflow">return</span> OpIdx &lt; 2;</div>
<div class="line"><a name="l03467"></a><span class="lineno"> 3467</span>&#160;  <span class="keywordflow">case</span> Instruction::Alloca:</div>
<div class="line"><a name="l03468"></a><span class="lineno"> 3468</span>&#160;    <span class="comment">// Static allocas (constant size in the entry block) are handled by</span></div>
<div class="line"><a name="l03469"></a><span class="lineno"> 3469</span>&#160;    <span class="comment">// prologue/epilogue insertion so they&#39;re free anyway. We definitely don&#39;t</span></div>
<div class="line"><a name="l03470"></a><span class="lineno"> 3470</span>&#160;    <span class="comment">// want to make them non-constant.</span></div>
<div class="line"><a name="l03471"></a><span class="lineno"> 3471</span>&#160;    <span class="keywordflow">return</span> !cast&lt;AllocaInst&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)-&gt;isStaticAlloca();</div>
<div class="line"><a name="l03472"></a><span class="lineno"> 3472</span>&#160;  <span class="keywordflow">case</span> Instruction::GetElementPtr:</div>
<div class="line"><a name="l03473"></a><span class="lineno"> 3473</span>&#160;    <span class="keywordflow">if</span> (OpIdx == 0)</div>
<div class="line"><a name="l03474"></a><span class="lineno"> 3474</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03475"></a><span class="lineno"> 3475</span>&#160;    <a class="code" href="classllvm_1_1generic__gep__type__iterator.html">gep_type_iterator</a> It = <a class="code" href="namespacellvm.html#ac828b9b52935f87659a4adf237f820a3">gep_type_begin</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l03476"></a><span class="lineno"> 3476</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = std::next(It, OpIdx); It != <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>; ++It)</div>
<div class="line"><a name="l03477"></a><span class="lineno"> 3477</span>&#160;      <span class="keywordflow">if</span> (It.<a class="code" href="classllvm_1_1generic__gep__type__iterator.html#a9c393ed0a6b446c52d205a562ac8d544">isStruct</a>())</div>
<div class="line"><a name="l03478"></a><span class="lineno"> 3478</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03479"></a><span class="lineno"> 3479</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03480"></a><span class="lineno"> 3480</span>&#160;  }</div>
<div class="line"><a name="l03481"></a><span class="lineno"> 3481</span>&#160;}</div>
<div class="line"><a name="l03482"></a><span class="lineno"> 3482</span>&#160; </div>
<div class="line"><a name="l03483"></a><span class="lineno"><a class="line" href="namespacellvm.html#add2fcd2292dd9e51480a2f43d41acfe2"> 3483</a></span>&#160;<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#add2fcd2292dd9e51480a2f43d41acfe2">llvm::invertCondition</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *Condition) {</div>
<div class="line"><a name="l03484"></a><span class="lineno"> 3484</span>&#160;  <span class="comment">// First: Check if it&#39;s a constant</span></div>
<div class="line"><a name="l03485"></a><span class="lineno"> 3485</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = dyn_cast&lt;Constant&gt;(Condition))</div>
<div class="line"><a name="l03486"></a><span class="lineno"> 3486</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantExpr.html#a5b43a866f0fca605556f0f69f70c522a">ConstantExpr::getNot</a>(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>);</div>
<div class="line"><a name="l03487"></a><span class="lineno"> 3487</span>&#160; </div>
<div class="line"><a name="l03488"></a><span class="lineno"> 3488</span>&#160;  <span class="comment">// Second: If the condition is already inverted, return the original value</span></div>
<div class="line"><a name="l03489"></a><span class="lineno"> 3489</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *NotCondition;</div>
<div class="line"><a name="l03490"></a><span class="lineno"> 3490</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Condition, <a class="code" href="namespacellvm_1_1PatternMatch.html#a2ff0f084844b189a858647d637d47eba">m_Not</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(NotCondition))))</div>
<div class="line"><a name="l03491"></a><span class="lineno"> 3491</span>&#160;    <span class="keywordflow">return</span> NotCondition;</div>
<div class="line"><a name="l03492"></a><span class="lineno"> 3492</span>&#160; </div>
<div class="line"><a name="l03493"></a><span class="lineno"> 3493</span>&#160;  <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *Parent = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l03494"></a><span class="lineno"> 3494</span>&#160;  <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *Inst = dyn_cast&lt;Instruction&gt;(Condition);</div>
<div class="line"><a name="l03495"></a><span class="lineno"> 3495</span>&#160;  <span class="keywordflow">if</span> (Inst)</div>
<div class="line"><a name="l03496"></a><span class="lineno"> 3496</span>&#160;    Parent = Inst-&gt;<a class="code" href="classllvm_1_1Instruction.html#a1a7f07aaef6a3bee130bf0e0f0536802">getParent</a>();</div>
<div class="line"><a name="l03497"></a><span class="lineno"> 3497</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Argument.html">Argument</a> *<a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a> = dyn_cast&lt;Argument&gt;(Condition))</div>
<div class="line"><a name="l03498"></a><span class="lineno"> 3498</span>&#160;    Parent = &amp;<a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>-&gt;getParent()-&gt;getEntryBlock();</div>
<div class="line"><a name="l03499"></a><span class="lineno"> 3499</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Parent &amp;&amp; <span class="stringliteral">&quot;Unsupported condition to invert&quot;</span>);</div>
<div class="line"><a name="l03500"></a><span class="lineno"> 3500</span>&#160; </div>
<div class="line"><a name="l03501"></a><span class="lineno"> 3501</span>&#160;  <span class="comment">// Third: Check all the users for an invert</span></div>
<div class="line"><a name="l03502"></a><span class="lineno"> 3502</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1User.html">User</a> *U : Condition-&gt;<a class="code" href="classllvm_1_1Value.html#ab4e0512c7e1c7adaa56677e3155685f1">users</a>())</div>
<div class="line"><a name="l03503"></a><span class="lineno"> 3503</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = dyn_cast&lt;Instruction&gt;(U))</div>
<div class="line"><a name="l03504"></a><span class="lineno"> 3504</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getParent() == Parent &amp;&amp; <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#a2ff0f084844b189a858647d637d47eba">m_Not</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(Condition))))</div>
<div class="line"><a name="l03505"></a><span class="lineno"> 3505</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div>
<div class="line"><a name="l03506"></a><span class="lineno"> 3506</span>&#160; </div>
<div class="line"><a name="l03507"></a><span class="lineno"> 3507</span>&#160;  <span class="comment">// Last option: Create a new instruction</span></div>
<div class="line"><a name="l03508"></a><span class="lineno"> 3508</span>&#160;  <span class="keyword">auto</span> *Inverted =</div>
<div class="line"><a name="l03509"></a><span class="lineno"> 3509</span>&#160;      <a class="code" href="classllvm_1_1BinaryOperator.html#a4f500ae0de71695b652af4c0958d8ea8">BinaryOperator::CreateNot</a>(Condition, Condition-&gt;<a class="code" href="classllvm_1_1Value.html#adb5c319f5905c1d3ca9eb5df546388c5">getName</a>() + <span class="stringliteral">&quot;.inv&quot;</span>);</div>
<div class="line"><a name="l03510"></a><span class="lineno"> 3510</span>&#160;  <span class="keywordflow">if</span> (Inst &amp;&amp; !isa&lt;PHINode&gt;(Inst))</div>
<div class="line"><a name="l03511"></a><span class="lineno"> 3511</span>&#160;    Inverted-&gt;insertAfter(Inst);</div>
<div class="line"><a name="l03512"></a><span class="lineno"> 3512</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l03513"></a><span class="lineno"> 3513</span>&#160;    Inverted-&gt;insertBefore(&amp;*Parent-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#a161fd4e9fa5367f64c2a4c9e921c3ad3">getFirstInsertionPt</a>());</div>
<div class="line"><a name="l03514"></a><span class="lineno"> 3514</span>&#160;  <span class="keywordflow">return</span> Inverted;</div>
<div class="line"><a name="l03515"></a><span class="lineno"> 3515</span>&#160;}</div>
<div class="line"><a name="l03516"></a><span class="lineno"> 3516</span>&#160; </div>
<div class="line"><a name="l03517"></a><span class="lineno"><a class="line" href="namespacellvm.html#ada75fb6345bfa2602ef65d6898d3e236"> 3517</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="namespacellvm.html#ada75fb6345bfa2602ef65d6898d3e236">llvm::inferAttributesFromOthers</a>(<a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>) {</div>
<div class="line"><a name="l03518"></a><span class="lineno"> 3518</span>&#160;  <span class="comment">// Note: We explicitly check for attributes rather than using cover functions</span></div>
<div class="line"><a name="l03519"></a><span class="lineno"> 3519</span>&#160;  <span class="comment">// because some of the cover functions include the logic being implemented.</span></div>
<div class="line"><a name="l03520"></a><span class="lineno"> 3520</span>&#160; </div>
<div class="line"><a name="l03521"></a><span class="lineno"> 3521</span>&#160;  <span class="keywordtype">bool</span> Changed = <span class="keyword">false</span>;</div>
<div class="line"><a name="l03522"></a><span class="lineno"> 3522</span>&#160;  <span class="comment">// readnone + not convergent implies nosync</span></div>
<div class="line"><a name="l03523"></a><span class="lineno"> 3523</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.hasFnAttribute(Attribute::NoSync) &amp;&amp;</div>
<div class="line"><a name="l03524"></a><span class="lineno"> 3524</span>&#160;      <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.doesNotAccessMemory() &amp;&amp; !<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.isConvergent()) {</div>
<div class="line"><a name="l03525"></a><span class="lineno"> 3525</span>&#160;    <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.setNoSync();</div>
<div class="line"><a name="l03526"></a><span class="lineno"> 3526</span>&#160;    Changed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l03527"></a><span class="lineno"> 3527</span>&#160;  }</div>
<div class="line"><a name="l03528"></a><span class="lineno"> 3528</span>&#160; </div>
<div class="line"><a name="l03529"></a><span class="lineno"> 3529</span>&#160;  <span class="comment">// readonly implies nofree</span></div>
<div class="line"><a name="l03530"></a><span class="lineno"> 3530</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.hasFnAttribute(Attribute::NoFree) &amp;&amp; <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.onlyReadsMemory()) {</div>
<div class="line"><a name="l03531"></a><span class="lineno"> 3531</span>&#160;    <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.setDoesNotFreeMemory();</div>
<div class="line"><a name="l03532"></a><span class="lineno"> 3532</span>&#160;    Changed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l03533"></a><span class="lineno"> 3533</span>&#160;  }</div>
<div class="line"><a name="l03534"></a><span class="lineno"> 3534</span>&#160; </div>
<div class="line"><a name="l03535"></a><span class="lineno"> 3535</span>&#160;  <span class="comment">// willreturn implies mustprogress</span></div>
<div class="line"><a name="l03536"></a><span class="lineno"> 3536</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.hasFnAttribute(Attribute::MustProgress) &amp;&amp; <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.willReturn()) {</div>
<div class="line"><a name="l03537"></a><span class="lineno"> 3537</span>&#160;    <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.setMustProgress();</div>
<div class="line"><a name="l03538"></a><span class="lineno"> 3538</span>&#160;    Changed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l03539"></a><span class="lineno"> 3539</span>&#160;  }</div>
<div class="line"><a name="l03540"></a><span class="lineno"> 3540</span>&#160; </div>
<div class="line"><a name="l03541"></a><span class="lineno"> 3541</span>&#160;  <span class="comment">// TODO: There are a bunch of cases of restrictive memory effects we</span></div>
<div class="line"><a name="l03542"></a><span class="lineno"> 3542</span>&#160;  <span class="comment">// can infer by inspecting arguments of argmemonly-ish functions.</span></div>
<div class="line"><a name="l03543"></a><span class="lineno"> 3543</span>&#160; </div>
<div class="line"><a name="l03544"></a><span class="lineno"> 3544</span>&#160;  <span class="keywordflow">return</span> Changed;</div>
<div class="line"><a name="l03545"></a><span class="lineno"> 3545</span>&#160;}</div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="aclassllvm_1_1DIExpression_html_ab804b15bb92ff685d7c1464b2816d608"><div class="ttname"><a href="classllvm_1_1DIExpression.html#ab804b15bb92ff685d7c1464b2816d608">llvm::DIExpression::prepend</a></div><div class="ttdeci">static DIExpression * prepend(const DIExpression *Expr, uint8_t Flags, int64_t Offset=0)</div><div class="ttdoc">Prepend DIExpr with a deref and offset operation and optionally turn it into a stack value or/and an ...</div><div class="ttdef"><b>Definition:</b> <a href="DebugInfoMetadata_8cpp_source.html#l01635">DebugInfoMetadata.cpp:1635</a></div></div>
<div class="ttc" id="alib_2Target_2README_8txt_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">i</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2README_8txt_source.html#l00029">README.txt:29</a></div></div>
<div class="ttc" id="aclassllvm_1_1InvokeInst_html_a100bd3005ea84bf47f3b4021e8022633"><div class="ttname"><a href="classllvm_1_1InvokeInst.html#a100bd3005ea84bf47f3b4021e8022633">llvm::InvokeInst::getNormalDest</a></div><div class="ttdeci">BasicBlock * getNormalDest() const</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l03946">Instructions.h:3946</a></div></div>
<div class="ttc" id="aTransforms_2Utils_2Local_8cpp_html_af2d13d2dd35f8bac23c71adf9e740aa6"><div class="ttname"><a href="Transforms_2Utils_2Local_8cpp.html#af2d13d2dd35f8bac23c71adf9e740aa6">bitTransformIsCorrectForBitReverse</a></div><div class="ttdeci">static bool bitTransformIsCorrectForBitReverse(unsigned From, unsigned To, unsigned BitWidth)</div><div class="ttdef"><b>Definition:</b> <a href="Transforms_2Utils_2Local_8cpp_source.html#l03294">Local.cpp:3294</a></div></div>
<div class="ttc" id="aTransforms_2Utils_2Local_8cpp_html_af7bc0edcc3fb07e2c9db6cac53c72bcf"><div class="ttname"><a href="Transforms_2Utils_2Local_8cpp.html#af7bc0edcc3fb07e2c9db6cac53c72bcf">rewriteDebugUsers</a></div><div class="ttdeci">static bool rewriteDebugUsers(Instruction &amp;From, Value &amp;To, Instruction &amp;DomPoint, DominatorTree &amp;DT, function_ref&lt; DbgValReplacement(DbgVariableIntrinsic &amp;DII)&gt; RewriteExpr)</div><div class="ttdoc">Point debug users of From to To using exprs given by RewriteExpr, possibly moving/undefing users to p...</div><div class="ttdef"><b>Definition:</b> <a href="Transforms_2Utils_2Local_8cpp_source.html#l02091">Local.cpp:2091</a></div></div>
<div class="ttc" id="anamespacellvm_html_a3b24ebd69d40090a23b6a2717a896625"><div class="ttname"><a href="namespacellvm.html#a3b24ebd69d40090a23b6a2717a896625">llvm::hasNItemsOrLess</a></div><div class="ttdeci">bool hasNItemsOrLess(IterTy &amp;&amp;Begin, IterTy &amp;&amp;End, unsigned N, Pred &amp;&amp;ShouldBeCounted=[](const decltype(*std::declval&lt; IterTy &gt;()) &amp;) { return true;})</div><div class="ttdoc">Returns true if the sequence [Begin, End) has N or less items.</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l02358">STLExtras.h:2358</a></div></div>
<div class="ttc" id="anamespacellvm_html_add2fcd2292dd9e51480a2f43d41acfe2"><div class="ttname"><a href="namespacellvm.html#add2fcd2292dd9e51480a2f43d41acfe2">llvm::invertCondition</a></div><div class="ttdeci">Value * invertCondition(Value *Condition)</div><div class="ttdoc">Invert the given true/false value, possibly reusing an existing copy.</div><div class="ttdef"><b>Definition:</b> <a href="Transforms_2Utils_2Local_8cpp_source.html#l03483">Local.cpp:3483</a></div></div>
<div class="ttc" id="aclassllvm_1_1DbgVariableIntrinsic_html_a2d4581b2568be7db21e47f096ffd6df8"><div class="ttname"><a href="classllvm_1_1DbgVariableIntrinsic.html#a2d4581b2568be7db21e47f096ffd6df8">llvm::DbgVariableIntrinsic::getExpression</a></div><div class="ttdeci">DIExpression * getExpression() const</div><div class="ttdef"><b>Definition:</b> <a href="IntrinsicInst_8h_source.html#l00292">IntrinsicInst.h:292</a></div></div>
<div class="ttc" id="anamespacellvm_html_a1106b8a15061e8494873e10bb8a364e5"><div class="ttname"><a href="namespacellvm.html#a1106b8a15061e8494873e10bb8a364e5">llvm::RecursivelyDeleteTriviallyDeadInstructions</a></div><div class="ttdeci">bool RecursivelyDeleteTriviallyDeadInstructions(Value *V, const TargetLibraryInfo *TLI=nullptr, MemorySSAUpdater *MSSAU=nullptr, std::function&lt; void(Value *)&gt; AboutToDeleteCallback=std::function&lt; void(Value *)&gt;())</div><div class="ttdoc">If the specified value is a trivially dead instruction, delete it.</div><div class="ttdef"><b>Definition:</b> <a href="Transforms_2Utils_2Local_8cpp_source.html#l00537">Local.cpp:537</a></div></div>
<div class="ttc" id="aclassllvm_1_1Argument_html"><div class="ttname"><a href="classllvm_1_1Argument.html">llvm::Argument</a></div><div class="ttdoc">This class represents an incoming formal argument to a Function.</div><div class="ttdef"><b>Definition:</b> <a href="Argument_8h_source.html#l00028">Argument.h:28</a></div></div>
<div class="ttc" id="aclassllvm_1_1BasicBlock_html_af29f89e91dfd0ae90950f0b1bf49798d"><div class="ttname"><a href="classllvm_1_1BasicBlock.html#af29f89e91dfd0ae90950f0b1bf49798d">llvm::BasicBlock::splice</a></div><div class="ttdeci">void splice(BasicBlock::iterator ToIt, BasicBlock *FromBB)</div><div class="ttdoc">Transfer all instructions from FromBB to this basic block at ToIt.</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8h_source.html#l00468">BasicBlock.h:468</a></div></div>
<div class="ttc" id="aclassllvm_1_1BasicBlock_html_a0b4e7bee9b8575cc7db73329f1a561bd"><div class="ttname"><a href="classllvm_1_1BasicBlock.html#a0b4e7bee9b8575cc7db73329f1a561bd">llvm::BasicBlock::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8h_source.html#l00316">BasicBlock.h:316</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_a768e1a76107c46276e339b07744f888a"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a768e1a76107c46276e339b07744f888a">llvm::PatternMatch::m_FShr</a></div><div class="ttdeci">m_Intrinsic_Ty&lt; Opnd0, Opnd1, Opnd2 &gt;::Ty m_FShr(const Opnd0 &amp;Op0, const Opnd1 &amp;Op1, const Opnd2 &amp;Op2)</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l02200">PatternMatch.h:2200</a></div></div>
<div class="ttc" id="aNVPTXISelLowering_8cpp_html_ae1a90b5d85643644483b2ca70da4d13faed3fa7a5efe80dad3ea3d86cc14be246"><div class="ttname"><a href="NVPTXISelLowering_8cpp.html#ae1a90b5d85643644483b2ca70da4d13faed3fa7a5efe80dad3ea3d86cc14be246">Signed</a></div><div class="ttdeci">@ Signed</div><div class="ttdef"><b>Definition:</b> <a href="NVPTXISelLowering_8cpp_source.html#l04884">NVPTXISelLowering.cpp:4884</a></div></div>
<div class="ttc" id="aclassllvm_1_1CatchSwitchInst_html_ae61b8e2a70c05a76af629cd6acb64390"><div class="ttname"><a href="classllvm_1_1CatchSwitchInst.html#ae61b8e2a70c05a76af629cd6acb64390">llvm::CatchSwitchInst::Create</a></div><div class="ttdeci">static CatchSwitchInst * Create(Value *ParentPad, BasicBlock *UnwindDest, unsigned NumHandlers, const Twine &amp;NameStr=&quot;&quot;, Instruction *InsertBefore=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l04356">Instructions.h:4356</a></div></div>
<div class="ttc" id="aclassllvm_1_1ArrayRef_html_a1c7ded859212582e33828a47259f9bd3"><div class="ttname"><a href="classllvm_1_1ArrayRef.html#a1c7ded859212582e33828a47259f9bd3">llvm::ArrayRef::drop_back</a></div><div class="ttdeci">ArrayRef&lt; T &gt; drop_back(size_t N=1) const</div><div class="ttdoc">Drop the last N elements of the array.</div><div class="ttdef"><b>Definition:</b> <a href="ArrayRef_8h_source.html#l00208">ArrayRef.h:208</a></div></div>
<div class="ttc" id="anamespacellvm_html_a929b458d1b5080256b6f6c8141bbdfea"><div class="ttname"><a href="namespacellvm.html#a929b458d1b5080256b6f6c8141bbdfea">llvm::combineMetadata</a></div><div class="ttdeci">void combineMetadata(Instruction *K, const Instruction *J, ArrayRef&lt; unsigned &gt; KnownIDs, bool DoesKMove)</div><div class="ttdoc">Combine the metadata of two instructions so that K can replace J.</div><div class="ttdef"><b>Definition:</b> <a href="Transforms_2Utils_2Local_8cpp_source.html#l02651">Local.cpp:2651</a></div></div>
<div class="ttc" id="anamespacellvm_html"><div class="ttname"><a href="namespacellvm.html">llvm</a></div><div class="ttdoc">This is an optimization pass for GlobalISel generic memory operations.</div><div class="ttdef"><b>Definition:</b> <a href="AddressRanges_8h_source.html#l00018">AddressRanges.h:18</a></div></div>
<div class="ttc" id="aclassllvm_1_1DbgDeclareInst_html_ac3c336790504179649a01bf8fc34b33e"><div class="ttname"><a href="classllvm_1_1DbgDeclareInst.html#ac3c336790504179649a01bf8fc34b33e">llvm::DbgDeclareInst::getAddress</a></div><div class="ttdeci">Value * getAddress() const</div><div class="ttdef"><b>Definition:</b> <a href="IntrinsicInst_8h_source.html#l00351">IntrinsicInst.h:351</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallBase_html_a19263fff7f5b3a9d22b48151fa0d85d0"><div class="ttname"><a href="classllvm_1_1CallBase.html#a19263fff7f5b3a9d22b48151fa0d85d0">llvm::CallBase::getOperandBundlesAsDefs</a></div><div class="ttdeci">void getOperandBundlesAsDefs(SmallVectorImpl&lt; OperandBundleDef &gt; &amp;Defs) const</div><div class="ttdoc">Return the list of operand bundles attached to this instruction as a vector of OperandBundleDefs.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8cpp_source.html#l00425">Instructions.cpp:425</a></div></div>
<div class="ttc" id="aclassllvm_1_1InvokeInst_html_ab659895cedd34fb668aab552ee3b9068"><div class="ttname"><a href="classllvm_1_1InvokeInst.html#ab659895cedd34fb668aab552ee3b9068">llvm::InvokeInst::Create</a></div><div class="ttdeci">static InvokeInst * Create(FunctionType *Ty, Value *Func, BasicBlock *IfNormal, BasicBlock *IfException, ArrayRef&lt; Value * &gt; Args, const Twine &amp;NameStr, Instruction *InsertBefore=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l03858">Instructions.h:3858</a></div></div>
<div class="ttc" id="alib_2Target_2X86_2README_8txt_html_ac88fe1d3a61b056a4f64fbbb156a62ff"><div class="ttname"><a href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a></div><div class="ttdeci">We currently emits eax Perhaps this is what we really should generate is Is imull three or four cycles eax eax The current instruction priority is based on pattern complexity The former is more complex because it folds a load so the latter will not be emitted Perhaps we should use AddedComplexity to give LEA32r a higher priority We should always try to match LEA first since the LEA matching code does some estimate to determine whether the match is profitable if we care more about code then imull is better It s two bytes shorter than movl leal On a Pentium M</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2X86_2README_8txt_source.html#l00252">README.txt:252</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8946e172b10c0ef5eaebb28ebb7662ad"><div class="ttname"><a href="namespacellvm.html#a8946e172b10c0ef5eaebb28ebb7662ad">llvm::ConvertDebugDeclareToDebugValue</a></div><div class="ttdeci">void ConvertDebugDeclareToDebugValue(DbgVariableIntrinsic *DII, StoreInst *SI, DIBuilder &amp;Builder)</div><div class="ttdoc">===------------------------------------------------------------------—===// Dbg Intrinsic utilities</div><div class="ttdef"><b>Definition:</b> <a href="Transforms_2Utils_2Local_8cpp_source.html#l01523">Local.cpp:1523</a></div></div>
<div class="ttc" id="aclassllvm_1_1DIExpression_html_a9aef6cbb464a57070a26cf422b979df9"><div class="ttname"><a href="classllvm_1_1DIExpression.html#a9aef6cbb464a57070a26cf422b979df9">llvm::DIExpression::getNumLocationOperands</a></div><div class="ttdeci">uint64_t getNumLocationOperands() const</div><div class="ttdoc">Return the number of unique location operands referred to (via DW_OP_LLVM_arg) in this expression; th...</div><div class="ttdef"><b>Definition:</b> <a href="DebugInfoMetadata_8cpp_source.html#l01899">DebugInfoMetadata.cpp:1899</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html_a4ba3a5be6c0e9b9e8a525de055836733"><div class="ttname"><a href="classllvm_1_1Instruction.html#a4ba3a5be6c0e9b9e8a525de055836733">llvm::Instruction::getModule</a></div><div class="ttdeci">const Module * getModule() const</div><div class="ttdoc">Return the module owning the function this instruction belongs to or nullptr it the function does not...</div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8cpp_source.html#l00070">Instruction.cpp:70</a></div></div>
<div class="ttc" id="aclassllvm_1_1detail_1_1DenseSetImpl_html_a5b0a15cec07aa8f0f9e60cd343676bca"><div class="ttname"><a href="classllvm_1_1detail_1_1DenseSetImpl.html#a5b0a15cec07aa8f0f9e60cd343676bca">llvm::detail::DenseSetImpl&lt; ValueT, DenseMap&lt; ValueT, detail::DenseSetEmpty, DenseMapInfo&lt; ValueT &gt;, detail::DenseSetPair&lt; ValueT &gt; &gt;, DenseMapInfo&lt; ValueT &gt; &gt;::reserve</a></div><div class="ttdeci">void reserve(size_t Size)</div><div class="ttdoc">Grow the DenseSet so that it can contain at least NumEntries items before resizing again.</div><div class="ttdef"><b>Definition:</b> <a href="DenseSet_8h_source.html#l00090">DenseSet.h:90</a></div></div>
<div class="ttc" id="aclassllvm_1_1DomTreeUpdater_html_adcca375fa8086f6844e863abbf58f83b"><div class="ttname"><a href="classllvm_1_1DomTreeUpdater.html#adcca375fa8086f6844e863abbf58f83b">llvm::DomTreeUpdater::deleteBB</a></div><div class="ttdeci">void deleteBB(BasicBlock *DelBB)</div><div class="ttdoc">Delete DelBB.</div><div class="ttdef"><b>Definition:</b> <a href="DomTreeUpdater_8cpp_source.html#l00177">DomTreeUpdater.cpp:177</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantExpr_html_a5b43a866f0fca605556f0f69f70c522a"><div class="ttname"><a href="classllvm_1_1ConstantExpr.html#a5b43a866f0fca605556f0f69f70c522a">llvm::ConstantExpr::getNot</a></div><div class="ttdeci">static Constant * getNot(Constant *C)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l02651">Constants.cpp:2651</a></div></div>
<div class="ttc" id="aValueMapper_8h_html"><div class="ttname"><a href="ValueMapper_8h.html">ValueMapper.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1DataLayout_html"><div class="ttname"><a href="classllvm_1_1DataLayout.html">llvm::DataLayout</a></div><div class="ttdoc">A parsed version of the target data layout string in and methods for querying it.</div><div class="ttdef"><b>Definition:</b> <a href="DataLayout_8h_source.html#l00110">DataLayout.h:110</a></div></div>
<div class="ttc" id="aTransforms_2Utils_2Local_8cpp_html_a226deca7d8508b6b646c8596d4c174a7"><div class="ttname"><a href="Transforms_2Utils_2Local_8cpp.html#a226deca7d8508b6b646c8596d4c174a7">isStructure</a></div><div class="ttdeci">static bool isStructure(AllocaInst *AI)</div><div class="ttdoc">Determine whether this alloca is a structure.</div><div class="ttdef"><b>Definition:</b> <a href="Transforms_2Utils_2Local_8cpp_source.html#l01631">Local.cpp:1631</a></div></div>
<div class="ttc" id="aclassllvm_1_1generic__gep__type__iterator_html"><div class="ttname"><a href="classllvm_1_1generic__gep__type__iterator.html">llvm::generic_gep_type_iterator</a></div><div class="ttdef"><b>Definition:</b> <a href="GetElementPtrTypeIterator_8h_source.html#l00031">GetElementPtrTypeIterator.h:31</a></div></div>
<div class="ttc" id="aMetadata_8h_html"><div class="ttname"><a href="Metadata_8h.html">Metadata.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1BasicBlock_html_a98c0a84a5dfa8bce341c829709f171e5"><div class="ttname"><a href="classllvm_1_1BasicBlock.html#a98c0a84a5dfa8bce341c829709f171e5">llvm::BasicBlock::iterator</a></div><div class="ttdeci">InstListType::iterator iterator</div><div class="ttdoc">Instruction iterators...</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8h_source.html#l00087">BasicBlock.h:87</a></div></div>
<div class="ttc" id="aTransforms_2Utils_2Local_8cpp_html_a0af4594038f5cb46e7a4c86713520c95"><div class="ttname"><a href="Transforms_2Utils_2Local_8cpp.html#a0af4594038f5cb46e7a4c86713520c95">markAliveBlocks</a></div><div class="ttdeci">static bool markAliveBlocks(Function &amp;F, SmallPtrSetImpl&lt; BasicBlock * &gt; &amp;Reachable, DomTreeUpdater *DTU=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="Transforms_2Utils_2Local_8cpp_source.html#l02378">Local.cpp:2378</a></div></div>
<div class="ttc" id="aAMDGPURewriteUndefForPHI_8cpp_html_a2e83cb1bc3f5e8986cbd14575755a134"><div class="ttname"><a href="AMDGPURewriteUndefForPHI_8cpp.html#a2e83cb1bc3f5e8986cbd14575755a134">PHI</a></div><div class="ttdeci">Rewrite undef for PHI</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPURewriteUndefForPHI_8cpp_source.html#l00101">AMDGPURewriteUndefForPHI.cpp:101</a></div></div>
<div class="ttc" id="aclassllvm_1_1BasicBlock_html_a38bee869ad41aebfef3de2641b12004c"><div class="ttname"><a href="classllvm_1_1BasicBlock.html#a38bee869ad41aebfef3de2641b12004c">llvm::BasicBlock::getParent</a></div><div class="ttdeci">const Function * getParent() const</div><div class="ttdoc">Return the enclosing method, or null if none.</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8h_source.html#l00112">BasicBlock.h:112</a></div></div>
<div class="ttc" id="aIntrinsicInst_8h_html"><div class="ttname"><a href="IntrinsicInst_8h.html">IntrinsicInst.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_a3b996fbf8458aafffc86cb98a68d0a47"><div class="ttname"><a href="classllvm_1_1Type.html#a3b996fbf8458aafffc86cb98a68d0a47">llvm::Type::isPointerTy</a></div><div class="ttdeci">bool isPointerTy() const</div><div class="ttdoc">True if this is an instance of PointerType.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00249">Type.h:249</a></div></div>
<div class="ttc" id="aEarlyCSE_8cpp_html_aa52ac704c30d37ea926b7e186f4fac83"><div class="ttname"><a href="EarlyCSE_8cpp.html#aa52ac704c30d37ea926b7e186f4fac83">getHashValueImpl</a></div><div class="ttdeci">static unsigned getHashValueImpl(SimpleValue Val)</div><div class="ttdef"><b>Definition:</b> <a href="EarlyCSE_8cpp_source.html#l00221">EarlyCSE.cpp:221</a></div></div>
<div class="ttc" id="aclassllvm_1_1DIBuilder_html"><div class="ttname"><a href="classllvm_1_1DIBuilder.html">llvm::DIBuilder</a></div><div class="ttdef"><b>Definition:</b> <a href="DIBuilder_8h_source.html#l00042">DIBuilder.h:42</a></div></div>
<div class="ttc" id="aDebugInfoMetadata_8h_html"><div class="ttname"><a href="DebugInfoMetadata_8h.html">DebugInfoMetadata.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1ValueMap_html_ab871e2d0ebded563edfebd6766fc1a04"><div class="ttname"><a href="classllvm_1_1ValueMap.html#ab871e2d0ebded563edfebd6766fc1a04">llvm::ValueMap::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="ValueMap_8h_source.html#l00135">ValueMap.h:135</a></div></div>
<div class="ttc" id="aclassllvm_1_1DomTreeUpdater_html_aae522cd1928cfac6850b50c7a3e22185"><div class="ttname"><a href="classllvm_1_1DomTreeUpdater.html#aae522cd1928cfac6850b50c7a3e22185">llvm::DomTreeUpdater::applyUpdates</a></div><div class="ttdeci">void applyUpdates(ArrayRef&lt; DominatorTree::UpdateType &gt; Updates)</div><div class="ttdoc">Submit updates to all available trees.</div><div class="ttdef"><b>Definition:</b> <a href="DomTreeUpdater_8cpp_source.html#l00230">DomTreeUpdater.cpp:230</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html_a91bd28adea418a08cec78b72413d9d45"><div class="ttname"><a href="classllvm_1_1Instruction.html#a91bd28adea418a08cec78b72413d9d45">llvm::Instruction::getNextNonDebugInstruction</a></div><div class="ttdeci">const Instruction * getNextNonDebugInstruction(bool SkipPseudoOp=false) const</div><div class="ttdoc">Return a pointer to the next non-debug instruction in the same basic block as 'this',...</div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8cpp_source.html#l00786">Instruction.cpp:786</a></div></div>
<div class="ttc" id="aclassT_html"><div class="ttname"><a href="classT.html">T</a></div></div>
<div class="ttc" id="aTransforms_2Utils_2Local_8cpp_html_a3bd9116f3c9e74b7c836560911000c8e"><div class="ttname"><a href="Transforms_2Utils_2Local_8cpp.html#a3bd9116f3c9e74b7c836560911000c8e">gatherIncomingValuesToPhi</a></div><div class="ttdeci">static void gatherIncomingValuesToPhi(PHINode *PN, IncomingValueMap &amp;IncomingValues)</div><div class="ttdoc">Create a map from block to value for the operands of a given phi.</div><div class="ttdef"><b>Definition:</b> <a href="Transforms_2Utils_2Local_8cpp_source.html#l00955">Local.cpp:955</a></div></div>
<div class="ttc" id="aMemorySSAUpdater_8h_html"><div class="ttname"><a href="MemorySSAUpdater_8h.html">MemorySSAUpdater.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1Function_html"><div class="ttname"><a href="classllvm_1_1Function.html">llvm::Function</a></div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00059">Function.h:59</a></div></div>
<div class="ttc" id="aTransforms_2Utils_2Local_8cpp_html_a7c412a696910d8ca10ad4e942d914dd6"><div class="ttname"><a href="Transforms_2Utils_2Local_8cpp.html#a7c412a696910d8ca10ad4e942d914dd6">replaceDominatedUsesWith</a></div><div class="ttdeci">static unsigned replaceDominatedUsesWith(Value *From, Value *To, const RootType &amp;Root, const DominatesFn &amp;Dominates)</div><div class="ttdef"><b>Definition:</b> <a href="Transforms_2Utils_2Local_8cpp_source.html#l02839">Local.cpp:2839</a></div></div>
<div class="ttc" id="anamespacellvm_html_af75ecbb2ce891821d146a047f17d4dd1"><div class="ttname"><a href="namespacellvm.html#af75ecbb2ce891821d146a047f17d4dd1">llvm::callsGCLeafFunction</a></div><div class="ttdeci">bool callsGCLeafFunction(const CallBase *Call, const TargetLibraryInfo &amp;TLI)</div><div class="ttdoc">Return true if this call calls a gc leaf function.</div><div class="ttdef"><b>Definition:</b> <a href="Transforms_2Utils_2Local_8cpp_source.html#l02889">Local.cpp:2889</a></div></div>
<div class="ttc" id="aREADME-SSE_8txt_html_a63d206a063eefcdf8c318ded97b65020"><div class="ttname"><a href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a></div><div class="ttdeci">This currently compiles esp xmm0 movsd esp eax eax esp ret We should use not the dag combiner This is because dagcombine2 needs to be able to see through the X86ISD::Wrapper which DAGCombine can t really do The code for turning x load into a single vector load is target independent and should be moved to the dag combiner The code for turning x load into a vector load can only handle a direct load from a global or a direct load from the stack It should be generalized to handle any load from P</div><div class="ttdef"><b>Definition:</b> <a href="README-SSE_8txt_source.html#l00411">README-SSE.txt:411</a></div></div>
<div class="ttc" id="aclassllvm_1_1BinaryOperator_html_a4f500ae0de71695b652af4c0958d8ea8"><div class="ttname"><a href="classllvm_1_1BinaryOperator.html#a4f500ae0de71695b652af4c0958d8ea8">llvm::BinaryOperator::CreateNot</a></div><div class="ttdeci">static BinaryOperator * CreateNot(Value *Op, const Twine &amp;Name=&quot;&quot;, Instruction *InsertBefore=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8cpp_source.html#l03006">Instructions.cpp:3006</a></div></div>
<div class="ttc" id="aclassllvm_1_1details_1_1FixedOrScalableQuantity_html_a9188f84e1dd67530330dcab9cae787d7"><div class="ttname"><a href="classllvm_1_1details_1_1FixedOrScalableQuantity.html#a9188f84e1dd67530330dcab9cae787d7">llvm::details::FixedOrScalableQuantity::isScalable</a></div><div class="ttdeci">constexpr bool isScalable() const</div><div class="ttdoc">Returns whether the quantity is scaled by a runtime quantity (vscale).</div><div class="ttdef"><b>Definition:</b> <a href="TypeSize_8h_source.html#l00166">TypeSize.h:166</a></div></div>
<div class="ttc" id="aclassllvm_1_1SetVector_html_a18b9d328d2490f447589ba60345eba6e"><div class="ttname"><a href="classllvm_1_1SetVector.html#a18b9d328d2490f447589ba60345eba6e">llvm::SetVector&lt; T, SmallVector&lt; T, N &gt;, SmallDenseSet&lt; T, N &gt; &gt;::size</a></div><div class="ttdeci">size_type size() const</div><div class="ttdoc">Determine the number of elements in the SetVector.</div><div class="ttdef"><b>Definition:</b> <a href="SetVector_8h_source.html#l00077">SetVector.h:77</a></div></div>
<div class="ttc" id="aclassllvm_1_1BitCastInst_html"><div class="ttname"><a href="classllvm_1_1BitCastInst.html">llvm::BitCastInst</a></div><div class="ttdoc">This class represents a no-op cast from one type to another.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l05258">Instructions.h:5258</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html_a7ed351739b2d34b5a8519c71d523fb38"><div class="ttname"><a href="classllvm_1_1Instruction.html#a7ed351739b2d34b5a8519c71d523fb38">llvm::Instruction::getAllMetadataOtherThanDebugLoc</a></div><div class="ttdeci">void getAllMetadataOtherThanDebugLoc(SmallVectorImpl&lt; std::pair&lt; unsigned, MDNode * &gt;&gt; &amp;MDs) const</div><div class="ttdoc">This does the same thing as getAllMetadata, except that it filters out the debug location.</div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8h_source.html#l00298">Instruction.h:298</a></div></div>
<div class="ttc" id="aGetElementPtrTypeIterator_8h_html"><div class="ttname"><a href="GetElementPtrTypeIterator_8h.html">GetElementPtrTypeIterator.h</a></div></div>
<div class="ttc" id="anamespacellvm_html_a26e2a938b431eaa6eca2beaa96410c9d"><div class="ttname"><a href="namespacellvm.html#a26e2a938b431eaa6eca2beaa96410c9d">llvm::successors</a></div><div class="ttdeci">auto successors(const MachineBasicBlock *BB)</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l01265">MachineBasicBlock.h:1265</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVector_html"><div class="ttname"><a href="classllvm_1_1SmallVector.html">llvm::SmallVector</a></div><div class="ttdoc">This is a 'vector' (really, a variable-sized array), optimized for the case when the array is small.</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l01199">SmallVector.h:1199</a></div></div>
<div class="ttc" id="aStatistic_8h_html"><div class="ttname"><a href="Statistic_8h.html">Statistic.h</a></div></div>
<div class="ttc" id="anamespacellvm_html_a22deed11f251c5761b2b4bf021eff4ac"><div class="ttname"><a href="namespacellvm.html#a22deed11f251c5761b2b4bf021eff4ac">llvm::replaceNonLocalUsesWith</a></div><div class="ttdeci">unsigned replaceNonLocalUsesWith(Instruction *From, Value *To)</div><div class="ttdef"><b>Definition:</b> <a href="Transforms_2Utils_2Local_8cpp_source.html#l02856">Local.cpp:2856</a></div></div>
<div class="ttc" id="aTransforms_2Utils_2Local_8cpp_html_a9f3d7adf7647a76ba410be64215a9d74"><div class="ttname"><a href="Transforms_2Utils_2Local_8cpp.html#a9f3d7adf7647a76ba410be64215a9d74">bitTransformIsCorrectForBSwap</a></div><div class="ttdeci">static bool bitTransformIsCorrectForBSwap(unsigned From, unsigned To, unsigned BitWidth)</div><div class="ttdef"><b>Definition:</b> <a href="Transforms_2Utils_2Local_8cpp_source.html#l03283">Local.cpp:3283</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_af2daa0ee117afefed4c82eee55bf97b7"><div class="ttname"><a href="classllvm_1_1APInt.html#af2daa0ee117afefed4c82eee55bf97b7">llvm::APInt::getSExtValue</a></div><div class="ttdeci">int64_t getSExtValue() const</div><div class="ttdoc">Get sign extended value.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l01516">APInt.h:1516</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html_a69c17ef87a64dfcb3e5795b870cf69fa"><div class="ttname"><a href="classllvm_1_1Instruction.html#a69c17ef87a64dfcb3e5795b870cf69fa">llvm::Instruction::isIdenticalToWhenDefined</a></div><div class="ttdeci">bool isIdenticalToWhenDefined(const Instruction *I) const LLVM_READONLY</div><div class="ttdoc">This is like isIdenticalTo, except that it ignores the SubclassOptionalData flags,...</div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8cpp_source.html#l00557">Instruction.cpp:557</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_ad9d88ae321b98d8a3b7f394977ae6d7f"><div class="ttname"><a href="classllvm_1_1Value.html#ad9d88ae321b98d8a3b7f394977ae6d7f">llvm::Value::hasName</a></div><div class="ttdeci">bool hasName() const</div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00261">Value.h:261</a></div></div>
<div class="ttc" id="aSupport_2ErrorHandling_8h_html"><div class="ttname"><a href="Support_2ErrorHandling_8h.html">ErrorHandling.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_af4feec45578e32fe65d8efc59112bc8e"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#af4feec45578e32fe65d8efc59112bc8e">llvm::PatternMatch::m_CombineOr</a></div><div class="ttdeci">match_combine_or&lt; LTy, RTy &gt; m_CombineOr(const LTy &amp;L, const RTy &amp;R)</div><div class="ttdoc">Combine two pattern matchers matching L || R.</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00218">PatternMatch.h:218</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRBuilder_html"><div class="ttname"><a href="classllvm_1_1IRBuilder.html">llvm::IRBuilder&lt;&gt;</a></div></div>
<div class="ttc" id="aDomTreeUpdater_8h_html"><div class="ttname"><a href="DomTreeUpdater_8h.html">DomTreeUpdater.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallDenseMap_html"><div class="ttname"><a href="classllvm_1_1SmallDenseMap.html">llvm::SmallDenseMap</a></div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00880">DenseMap.h:880</a></div></div>
<div class="ttc" id="anamespacellvm_html_a683448397460b5b16e0d9016fd7a273a"><div class="ttname"><a href="namespacellvm.html#a683448397460b5b16e0d9016fd7a273a">llvm::findDbgUsers</a></div><div class="ttdeci">void findDbgUsers(SmallVectorImpl&lt; DbgVariableIntrinsic * &gt; &amp;DbgInsts, Value *V)</div><div class="ttdoc">Finds the debug info intrinsics describing a value.</div><div class="ttdef"><b>Definition:</b> <a href="DebugInfo_8cpp_source.html#l00105">DebugInfo.cpp:105</a></div></div>
<div class="ttc" id="aclassllvm_1_1PHINode_html_a6f01dbe965b38186b1a78378689d4105"><div class="ttname"><a href="classllvm_1_1PHINode.html#a6f01dbe965b38186b1a78378689d4105">llvm::PHINode::removeIncomingValue</a></div><div class="ttdeci">Value * removeIncomingValue(unsigned Idx, bool DeletePHIIfEmpty=true)</div><div class="ttdoc">Remove an incoming value.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8cpp_source.html#l00124">Instructions.cpp:124</a></div></div>
<div class="ttc" id="aAArch64ISelLowering_8cpp_html_a62766c75f88612ffa652342472e755f6"><div class="ttname"><a href="AArch64ISelLowering_8cpp.html#a62766c75f88612ffa652342472e755f6">getIntrinsicID</a></div><div class="ttdeci">static unsigned getIntrinsicID(const SDNode *N)</div><div class="ttdef"><b>Definition:</b> <a href="AArch64ISelLowering_8cpp_source.html#l06202">AArch64ISelLowering.cpp:6202</a></div></div>
<div class="ttc" id="anamespacellvm_html_a9d8f1df2d7125f8c7dc1af46433b3e70"><div class="ttname"><a href="namespacellvm.html#a9d8f1df2d7125f8c7dc1af46433b3e70">llvm::dropDebugUsers</a></div><div class="ttdeci">void dropDebugUsers(Instruction &amp;I)</div><div class="ttdoc">Remove the debug intrinsic instructions for the given instruction.</div><div class="ttdef"><b>Definition:</b> <a href="Transforms_2Utils_2Local_8cpp_source.html#l02966">Local.cpp:2966</a></div></div>
<div class="ttc" id="anamespacellvm_html_addf42fea14164ec994d4d517eaa56688"><div class="ttname"><a href="namespacellvm.html#addf42fea14164ec994d4d517eaa56688">llvm::DeleteDeadBlocks</a></div><div class="ttdeci">void DeleteDeadBlocks(ArrayRef&lt; BasicBlock * &gt; BBs, DomTreeUpdater *DTU=nullptr, bool KeepOneInputPHIs=false)</div><div class="ttdoc">Delete the specified blocks from BB.</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlockUtils_8cpp_source.html#l00100">BasicBlockUtils.cpp:100</a></div></div>
<div class="ttc" id="aValueTracking_8h_html"><div class="ttname"><a href="ValueTracking_8h.html">ValueTracking.h</a></div></div>
<div class="ttc" id="anamespacellvm_html_af292b2e5cb0702e5df9051df6428c79e"><div class="ttname"><a href="namespacellvm.html#af292b2e5cb0702e5df9051df6428c79e">llvm::isAssumeWithEmptyBundle</a></div><div class="ttdeci">bool isAssumeWithEmptyBundle(AssumeInst &amp;Assume)</div><div class="ttdoc">Return true iff the operand bundles of the provided llvm.assume doesn't contain any valuable informat...</div><div class="ttdef"><b>Definition:</b> <a href="AssumeBundleQueries_8cpp_source.html#l00125">AssumeBundleQueries.cpp:125</a></div></div>
<div class="ttc" id="aTransforms_2Utils_2Local_8h_html"><div class="ttname"><a href="Transforms_2Utils_2Local_8h.html">Local.h</a></div></div>
<div class="ttc" id="aTransforms_2Utils_2Local_8cpp_html_a0bdd0669ab7b82ba709bfedcb751dcc3"><div class="ttname"><a href="Transforms_2Utils_2Local_8cpp.html#a0bdd0669ab7b82ba709bfedcb751dcc3">valueCoversEntireFragment</a></div><div class="ttdeci">static bool valueCoversEntireFragment(Type *ValTy, DbgVariableIntrinsic *DII)</div><div class="ttdoc">Check if the alloc size of ValTy is large enough to cover the variable (or fragment of the variable) ...</div><div class="ttdef"><b>Definition:</b> <a href="Transforms_2Utils_2Local_8cpp_source.html#l01494">Local.cpp:1494</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html_a482498a1c760122fd33c7fc8190dd277"><div class="ttname"><a href="classllvm_1_1Instruction.html#a482498a1c760122fd33c7fc8190dd277">llvm::Instruction::insertBefore</a></div><div class="ttdeci">void insertBefore(Instruction *InsertPos)</div><div class="ttdoc">Insert an unlinked instruction into a basic block immediately before the specified instruction.</div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8cpp_source.html#l00088">Instruction.cpp:88</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemorySSAUpdater_html_aa0c15073f16693ebc44c2410986cacec"><div class="ttname"><a href="classllvm_1_1MemorySSAUpdater.html#aa0c15073f16693ebc44c2410986cacec">llvm::MemorySSAUpdater::removeBlocks</a></div><div class="ttdeci">void removeBlocks(const SmallSetVector&lt; BasicBlock *, 8 &gt; &amp;DeadBlocks)</div><div class="ttdoc">Remove all MemoryAcceses in a set of BasicBlocks about to be deleted.</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSAUpdater_8cpp_source.html#l01372">MemorySSAUpdater.cpp:1372</a></div></div>
<div class="ttc" id="aclassllvm_1_1DbgVariableIntrinsic_html_a212fcbee3e65ec41eebed2525fc15207"><div class="ttname"><a href="classllvm_1_1DbgVariableIntrinsic.html#a212fcbee3e65ec41eebed2525fc15207">llvm::DbgVariableIntrinsic::replaceVariableLocationOp</a></div><div class="ttdeci">void replaceVariableLocationOp(Value *OldValue, Value *NewValue)</div><div class="ttdef"><b>Definition:</b> <a href="IntrinsicInst_8cpp_source.html#l00114">IntrinsicInst.cpp:114</a></div></div>
<div class="ttc" id="aclassllvm_1_1DominatorTree_html"><div class="ttname"><a href="classllvm_1_1DominatorTree.html">llvm::DominatorTree</a></div><div class="ttdoc">Concrete subclass of DominatorTreeBase that is used to compute a normal dominator tree.</div><div class="ttdef"><b>Definition:</b> <a href="Dominators_8h_source.html#l00166">Dominators.h:166</a></div></div>
<div class="ttc" id="aclassllvm_1_1DIVariable_html_a04a71a1d084db8fe394121e059f0b774"><div class="ttname"><a href="classllvm_1_1DIVariable.html#a04a71a1d084db8fe394121e059f0b774">llvm::DIVariable::getSignedness</a></div><div class="ttdeci">std::optional&lt; DIBasicType::Signedness &gt; getSignedness() const</div><div class="ttdoc">Return the signedness of this variable's type, or std::nullopt if this type is neither signed nor uns...</div><div class="ttdef"><b>Definition:</b> <a href="DebugInfoMetadata_8h_source.html#l02567">DebugInfoMetadata.h:2567</a></div></div>
<div class="ttc" id="anamespacellvm_1_1cl_html_a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6"><div class="ttname"><a href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">llvm::cl::Hidden</a></div><div class="ttdeci">@ Hidden</div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00138">CommandLine.h:138</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_a8f793deb2edf1656236f570c01d7042e"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a8f793deb2edf1656236f570c01d7042e">llvm::PatternMatch::m_BitReverse</a></div><div class="ttdeci">m_Intrinsic_Ty&lt; Opnd0 &gt;::Ty m_BitReverse(const Opnd0 &amp;Op0)</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l02161">PatternMatch.h:2161</a></div></div>
<div class="ttc" id="aAPInt_8h_html"><div class="ttname"><a href="APInt_8h.html">APInt.h</a></div></div>
<div class="ttc" id="anamespacellvm_html_a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639"><div class="ttname"><a href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">llvm::Depth</a></div><div class="ttdeci">@ Depth</div><div class="ttdef"><b>Definition:</b> <a href="SIMachineScheduler_8h_source.html#l00036">SIMachineScheduler.h:36</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMapIterator_html"><div class="ttname"><a href="classllvm_1_1DenseMapIterator.html">llvm::DenseMapIterator</a></div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00057">DenseMap.h:57</a></div></div>
<div class="ttc" id="aclassllvm_1_1DbgAssignIntrinsic_html_ab13971dbdc6d1c069f75e59f337fa078"><div class="ttname"><a href="classllvm_1_1DbgAssignIntrinsic.html#ab13971dbdc6d1c069f75e59f337fa078">llvm::DbgAssignIntrinsic::getAddress</a></div><div class="ttdeci">Value * getAddress() const</div><div class="ttdef"><b>Definition:</b> <a href="IntrinsicInst_8cpp_source.html#l00194">IntrinsicInst.cpp:194</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html"><div class="ttname"><a href="classllvm_1_1Type.html">llvm::Type</a></div><div class="ttdoc">The instances of the Type class are immutable: once they are created, they are never changed.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00045">Type.h:45</a></div></div>
<div class="ttc" id="aDenseMap_8h_html"><div class="ttname"><a href="DenseMap_8h.html">DenseMap.h</a></div></div>
<div class="ttc" id="anamespacellvm_html_aec88b7682025edff7984c3b6c8da8ac9"><div class="ttname"><a href="namespacellvm.html#aec88b7682025edff7984c3b6c8da8ac9">llvm::removeUnreachableBlocks</a></div><div class="ttdeci">bool removeUnreachableBlocks(Function &amp;F, DomTreeUpdater *DTU=nullptr, MemorySSAUpdater *MSSAU=nullptr)</div><div class="ttdoc">Remove all blocks that can not be reached from the function's entry.</div><div class="ttdef"><b>Definition:</b> <a href="Transforms_2Utils_2Local_8cpp_source.html#l02614">Local.cpp:2614</a></div></div>
<div class="ttc" id="aModule_8h_html"><div class="ttname"><a href="Module_8h.html">Module.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1BasicBlock_html_a8dd327a937563afdb08250abc43820b0"><div class="ttname"><a href="classllvm_1_1BasicBlock.html#a8dd327a937563afdb08250abc43820b0">llvm::BasicBlock::eraseFromParent</a></div><div class="ttdeci">SymbolTableList&lt; BasicBlock &gt;::iterator eraseFromParent()</div><div class="ttdoc">Unlink 'this' from the containing function and delete it.</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8cpp_source.html#l00132">BasicBlock.cpp:132</a></div></div>
<div class="ttc" id="aMemoryBuiltins_8h_html"><div class="ttname"><a href="MemoryBuiltins_8h.html">MemoryBuiltins.h</a></div></div>
<div class="ttc" id="anamespacellvm_html_a6e7b79b3933def717c2a0f2fc6fa38e0"><div class="ttname"><a href="namespacellvm.html#a6e7b79b3933def717c2a0f2fc6fa38e0">llvm::getOrEnforceKnownAlignment</a></div><div class="ttdeci">Align getOrEnforceKnownAlignment(Value *V, MaybeAlign PrefAlign, const DataLayout &amp;DL, const Instruction *CxtI=nullptr, AssumptionCache *AC=nullptr, const DominatorTree *DT=nullptr)</div><div class="ttdoc">Try to ensure that the alignment of V is at least PrefAlign bytes.</div><div class="ttdef"><b>Definition:</b> <a href="Transforms_2Utils_2Local_8cpp_source.html#l01439">Local.cpp:1439</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallBase_html_ae0c55761fce39dd71617690b04385193"><div class="ttname"><a href="classllvm_1_1CallBase.html#ae0c55761fce39dd71617690b04385193">llvm::CallBase::getAttributes</a></div><div class="ttdeci">AttributeList getAttributes() const</div><div class="ttdoc">Return the parameter attributes for this call.</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l01484">InstrTypes.h:1484</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallBase_html_a5e4a09f80c7cd5283dbbc7256d122d12"><div class="ttname"><a href="classllvm_1_1CallBase.html#a5e4a09f80c7cd5283dbbc7256d122d12">llvm::CallBase::getFunctionType</a></div><div class="ttdeci">FunctionType * getFunctionType() const</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l01264">InstrTypes.h:1264</a></div></div>
<div class="ttc" id="aclassllvm_1_1BasicBlockEdge_html"><div class="ttname"><a href="classllvm_1_1BasicBlockEdge.html">llvm::BasicBlockEdge</a></div><div class="ttdef"><b>Definition:</b> <a href="Dominators_8h_source.html#l00098">Dominators.h:98</a></div></div>
<div class="ttc" id="aclassllvm_1_1User_html_ad93396a26f6fd589ed400bb280319836"><div class="ttname"><a href="classllvm_1_1User.html#ad93396a26f6fd589ed400bb280319836">llvm::User::value_op_begin</a></div><div class="ttdeci">value_op_iterator value_op_begin()</div><div class="ttdef"><b>Definition:</b> <a href="User_8h_source.html#l00260">User.h:260</a></div></div>
<div class="ttc" id="aclassllvm_1_1DominatorTreeBase_html_a9aeeca2833810f01b20545a46fe22503"><div class="ttname"><a href="classllvm_1_1DominatorTreeBase.html#a9aeeca2833810f01b20545a46fe22503">llvm::DominatorTreeBase&lt; BasicBlock, false &gt;::Insert</a></div><div class="ttdeci">static constexpr UpdateKind Insert</div><div class="ttdef"><b>Definition:</b> <a href="GenericDomTree_8h_source.html#l00258">GenericDomTree.h:258</a></div></div>
<div class="ttc" id="aEHPersonalities_8h_html"><div class="ttname"><a href="EHPersonalities_8h.html">EHPersonalities.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallSet_html"><div class="ttname"><a href="classllvm_1_1SmallSet.html">llvm::SmallSet</a></div><div class="ttdoc">SmallSet - This maintains a set of unique values, optimizing for the case when the set is small (less...</div><div class="ttdef"><b>Definition:</b> <a href="SmallSet_8h_source.html#l00135">SmallSet.h:135</a></div></div>
<div class="ttc" id="aTransforms_2Utils_2Local_8cpp_html_a7e06c0b653fcb0e20fbec6bee3d3d40d"><div class="ttname"><a href="Transforms_2Utils_2Local_8cpp.html#a7e06c0b653fcb0e20fbec6bee3d3d40d">isArray</a></div><div class="ttdeci">static bool isArray(AllocaInst *AI)</div><div class="ttdoc">Determine whether this alloca is either a VLA or an array.</div><div class="ttdef"><b>Definition:</b> <a href="Transforms_2Utils_2Local_8cpp_source.html#l01625">Local.cpp:1625</a></div></div>
<div class="ttc" id="aclassllvm_1_1DbgVariableIntrinsic_html_ac161deb2a31f78c85f94fbe0f3ba97b4"><div class="ttname"><a href="classllvm_1_1DbgVariableIntrinsic.html#ac161deb2a31f78c85f94fbe0f3ba97b4">llvm::DbgVariableIntrinsic::getVariable</a></div><div class="ttdeci">DILocalVariable * getVariable() const</div><div class="ttdef"><b>Definition:</b> <a href="IntrinsicInst_8h_source.html#l00288">IntrinsicInst.h:288</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMapBase_html_a53408c95a7bfb5443b43fb2134c3eb23"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#a53408c95a7bfb5443b43fb2134c3eb23">llvm::DenseMapBase::count</a></div><div class="ttdeci">size_type count(const_arg_type_t&lt; KeyT &gt; Val) const</div><div class="ttdoc">Return 1 if the specified key is in the map, 0 otherwise.</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00145">DenseMap.h:145</a></div></div>
<div class="ttc" id="aclassllvm_1_1mapped__iterator_html"><div class="ttname"><a href="classllvm_1_1mapped__iterator.html">llvm::mapped_iterator</a></div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l00404">STLExtras.h:404</a></div></div>
<div class="ttc" id="aGlobalObject_8h_html"><div class="ttname"><a href="GlobalObject_8h.html">GlobalObject.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MapVector_html"><div class="ttname"><a href="classllvm_1_1MapVector.html">llvm::MapVector</a></div><div class="ttdoc">This class implements a map that also provides access to all stored values in a deterministic order.</div><div class="ttdef"><b>Definition:</b> <a href="MapVector_8h_source.html#l00037">MapVector.h:37</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallPtrSet_html"><div class="ttname"><a href="classllvm_1_1SmallPtrSet.html">llvm::SmallPtrSet&lt; Instruction *, 4 &gt;</a></div></div>
<div class="ttc" id="anamespacellvm_html_a81ba15e1d6d05dde87983ab4f4f6aec1"><div class="ttname"><a href="namespacellvm.html#a81ba15e1d6d05dde87983ab4f4f6aec1">llvm::FindDbgAddrUses</a></div><div class="ttdeci">TinyPtrVector&lt; DbgVariableIntrinsic * &gt; FindDbgAddrUses(Value *V)</div><div class="ttdoc">Finds all intrinsics declaring local variables as living in the memory that 'V' points to.</div><div class="ttdef"><b>Definition:</b> <a href="DebugInfo_8cpp_source.html#l00049">DebugInfo.cpp:49</a></div></div>
<div class="ttc" id="aHashing_8h_html"><div class="ttname"><a href="Hashing_8h.html">Hashing.h</a></div></div>
<div class="ttc" id="aTransforms_2Utils_2Local_8cpp_html_a2d4fbcadf5f7137609519e04d5e84e5f"><div class="ttname"><a href="Transforms_2Utils_2Local_8cpp.html#a2d4fbcadf5f7137609519e04d5e84e5f">EliminateDuplicatePHINodesSetBasedImpl</a></div><div class="ttdeci">static bool EliminateDuplicatePHINodesSetBasedImpl(BasicBlock *BB)</div><div class="ttdef"><b>Definition:</b> <a href="Transforms_2Utils_2Local_8cpp_source.html#l01292">Local.cpp:1292</a></div></div>
<div class="ttc" id="anamespacellvm_html_ab4d4bc901fedd8857f647dcc2c0d71de"><div class="ttname"><a href="namespacellvm.html#ab4d4bc901fedd8857f647dcc2c0d71de">llvm::max</a></div><div class="ttdeci">Expected&lt; ExpressionValue &gt; max(const ExpressionValue &amp;Lhs, const ExpressionValue &amp;Rhs)</div><div class="ttdef"><b>Definition:</b> <a href="FileCheck_8cpp_source.html#l00337">FileCheck.cpp:337</a></div></div>
<div class="ttc" id="aTransforms_2Utils_2Local_8cpp_html_a86b440f5fd620c00da390eeca76e8c9e"><div class="ttname"><a href="Transforms_2Utils_2Local_8cpp.html#a86b440f5fd620c00da390eeca76e8c9e">replaceOneDbgValueForAlloca</a></div><div class="ttdeci">static void replaceOneDbgValueForAlloca(DbgValueInst *DVI, Value *NewAddress, DIBuilder &amp;Builder, int Offset)</div><div class="ttdef"><b>Definition:</b> <a href="Transforms_2Utils_2Local_8cpp_source.html#l01791">Local.cpp:1791</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html_aec6eaa1e49f48c178e0ab9c030b5971e"><div class="ttname"><a href="classllvm_1_1Instruction.html#aec6eaa1e49f48c178e0ab9c030b5971e">llvm::Instruction::copyMetadata</a></div><div class="ttdeci">void copyMetadata(const Instruction &amp;SrcInst, ArrayRef&lt; unsigned &gt; WL=ArrayRef&lt; unsigned &gt;())</div><div class="ttdoc">Copy metadata from SrcInst to this instruction.</div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8cpp_source.html#l00882">Instruction.cpp:882</a></div></div>
<div class="ttc" id="aclassllvm_1_1BasicBlock_html_a59fb91d1691350f7d1b8e8a114e3f2a4"><div class="ttname"><a href="classllvm_1_1BasicBlock.html#a59fb91d1691350f7d1b8e8a114e3f2a4">llvm::BasicBlock::getSinglePredecessor</a></div><div class="ttdeci">const BasicBlock * getSinglePredecessor() const</div><div class="ttdoc">Return the predecessor of this block if it has a single predecessor block.</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8cpp_source.html#l00284">BasicBlock.cpp:284</a></div></div>
<div class="ttc" id="aclassllvm_1_1CastInst_html_a277c32f1a2c680c0af45cbf0ff67c409"><div class="ttname"><a href="classllvm_1_1CastInst.html#a277c32f1a2c680c0af45cbf0ff67c409">llvm::CastInst::CreateIntegerCast</a></div><div class="ttdeci">static CastInst * CreateIntegerCast(Value *S, Type *Ty, bool isSigned, const Twine &amp;Name=&quot;&quot;, Instruction *InsertBefore=nullptr)</div><div class="ttdoc">Create a ZExt, BitCast, or Trunc for int -&gt; int casts.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8cpp_source.html#l03520">Instructions.cpp:3520</a></div></div>
<div class="ttc" id="anamespacellvm_html_a2b3fdb09b0789963c439d41fe91e44a1"><div class="ttname"><a href="namespacellvm.html#a2b3fdb09b0789963c439d41fe91e44a1">llvm::changeToCall</a></div><div class="ttdeci">CallInst * changeToCall(InvokeInst *II, DomTreeUpdater *DTU=nullptr)</div><div class="ttdoc">This function converts the specified invoke into a normal call.</div><div class="ttdef"><b>Definition:</b> <a href="Transforms_2Utils_2Local_8cpp_source.html#l02315">Local.cpp:2315</a></div></div>
<div class="ttc" id="aSTLExtras_8h_html"><div class="ttname"><a href="STLExtras_8h.html">STLExtras.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1DIExpression_html"><div class="ttname"><a href="classllvm_1_1DIExpression.html">llvm::DIExpression</a></div><div class="ttdoc">DWARF expression.</div><div class="ttdef"><b>Definition:</b> <a href="DebugInfoMetadata_8h_source.html#l02611">DebugInfoMetadata.h:2611</a></div></div>
<div class="ttc" id="aX86PartialReduction_8cpp_html_a87b8bfbbe9d8f7146d7f20a5fb42efd0"><div class="ttname"><a href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a></div><div class="ttdeci">Value * RHS</div><div class="ttdef"><b>Definition:</b> <a href="X86PartialReduction_8cpp_source.html#l00076">X86PartialReduction.cpp:76</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoadInst_html_ad47eefa1d094f60494b6b927061ca001"><div class="ttname"><a href="classllvm_1_1LoadInst.html#ad47eefa1d094f60494b6b927061ca001">llvm::LoadInst::getPointerOperand</a></div><div class="ttdeci">Value * getPointerOperand()</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00264">Instructions.h:264</a></div></div>
<div class="ttc" id="anamespacellvm_html_a5193c3535375c450b9430e5671cbeb2d"><div class="ttname"><a href="namespacellvm.html#a5193c3535375c450b9430e5671cbeb2d">llvm::getConstantRangeFromMetadata</a></div><div class="ttdeci">ConstantRange getConstantRangeFromMetadata(const MDNode &amp;RangeMD)</div><div class="ttdoc">Parse out a conservative ConstantRange from !range metadata.</div><div class="ttdef"><b>Definition:</b> <a href="ConstantRange_8cpp_source.html#l01797">ConstantRange.cpp:1797</a></div></div>
<div class="ttc" id="anamespacellvm_html_ac828b9b52935f87659a4adf237f820a3"><div class="ttname"><a href="namespacellvm.html#ac828b9b52935f87659a4adf237f820a3">llvm::gep_type_begin</a></div><div class="ttdeci">gep_type_iterator gep_type_begin(const User *GEP)</div><div class="ttdef"><b>Definition:</b> <a href="GetElementPtrTypeIterator_8h_source.html#l00123">GetElementPtrTypeIterator.h:123</a></div></div>
<div class="ttc" id="anamespacellvm_html_a126a78caf2176eb39d879c899bdd749c"><div class="ttname"><a href="namespacellvm.html#a126a78caf2176eb39d879c899bdd749c">llvm::succ_empty</a></div><div class="ttdeci">bool succ_empty(const Instruction *I)</div><div class="ttdef"><b>Definition:</b> <a href="IR_2CFG_8h_source.html#l00255">CFG.h:255</a></div></div>
<div class="ttc" id="aDWARFAcceleratorTable_8cpp_html_a1aed031578039adc6374053233f53d6f"><div class="ttname"><a href="DWARFAcceleratorTable_8cpp.html#a1aed031578039adc6374053233f53d6f">isSentinel</a></div><div class="ttdeci">static bool isSentinel(const DWARFDebugNames::AttributeEncoding &amp;AE)</div><div class="ttdef"><b>Definition:</b> <a href="DWARFAcceleratorTable_8cpp_source.html#l00425">DWARFAcceleratorTable.cpp:425</a></div></div>
<div class="ttc" id="aclassllvm_1_1detail_1_1DenseSetImpl_html_a79eed48913651aeedda2eed25201ea84"><div class="ttname"><a href="classllvm_1_1detail_1_1DenseSetImpl.html#a79eed48913651aeedda2eed25201ea84">llvm::detail::DenseSetImpl&lt; ValueT, DenseMap&lt; ValueT, detail::DenseSetEmpty, DenseMapInfo&lt; ValueT &gt;, detail::DenseSetPair&lt; ValueT &gt; &gt;, DenseMapInfo&lt; ValueT &gt; &gt;::insert</a></div><div class="ttdeci">std::pair&lt; iterator, bool &gt; insert(const ValueT &amp;V)</div><div class="ttdef"><b>Definition:</b> <a href="DenseSet_8h_source.html#l00206">DenseSet.h:206</a></div></div>
<div class="ttc" id="aclassllvm_1_1PHINode_html_a88cdefb709309eddc6e5daca0be6a7b4"><div class="ttname"><a href="classllvm_1_1PHINode.html#a88cdefb709309eddc6e5daca0be6a7b4">llvm::PHINode::setIncomingValue</a></div><div class="ttdeci">void setIncomingValue(unsigned i, Value *V)</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l02797">Instructions.h:2797</a></div></div>
<div class="ttc" id="anamespacellvm_html_ac214df91cdc242f4710ea5a93939c678"><div class="ttname"><a href="namespacellvm.html#ac214df91cdc242f4710ea5a93939c678">llvm::count_if</a></div><div class="ttdeci">auto count_if(R &amp;&amp;Range, UnaryPredicate P)</div><div class="ttdoc">Wrapper function around std::count_if to count the number of times an element satisfying a given pred...</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l01903">STLExtras.h:1903</a></div></div>
<div class="ttc" id="aConstantFolding_8h_html"><div class="ttname"><a href="ConstantFolding_8h.html">ConstantFolding.h</a></div></div>
<div class="ttc" id="aUse_8h_html"><div class="ttname"><a href="Use_8h.html">Use.h</a></div></div>
<div class="ttc" id="anamespacellvm_html_a9b43098c569ea8289ed1ab70ee9a00af"><div class="ttname"><a href="namespacellvm.html#a9b43098c569ea8289ed1ab70ee9a00af">llvm::combineMetadataForCSE</a></div><div class="ttdeci">void combineMetadataForCSE(Instruction *K, const Instruction *J, bool DoesKMove)</div><div class="ttdoc">Combine the metadata of two instructions so that K can replace J.</div><div class="ttdef"><b>Definition:</b> <a href="Transforms_2Utils_2Local_8cpp_source.html#l02740">Local.cpp:2740</a></div></div>
<div class="ttc" id="ainclude_2llvm_2Support_2CMakeLists_8txt_html_ac54dc4baeff9131a27bde4eb0527e810"><div class="ttname"><a href="include_2llvm_2Support_2CMakeLists_8txt.html#ac54dc4baeff9131a27bde4eb0527e810">endif</a></div><div class="ttdeci">__FakeVCSRevision h endif() endif() set(generated_files &quot;$</div><div class="ttdef"><b>Definition:</b> <a href="include_2llvm_2Support_2CMakeLists_8txt_source.html#l00016">CMakeLists.txt:16</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_a30dd396c5b40cd86c1591872e574ccdf"><div class="ttname"><a href="classllvm_1_1Type.html#a30dd396c5b40cd86c1591872e574ccdf">llvm::Type::getInt32Ty</a></div><div class="ttdeci">static IntegerType * getInt32Ty(LLVMContext &amp;C)</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00241">Type.cpp:241</a></div></div>
<div class="ttc" id="anamespacellvm_html_a0f0d66fa63bebb53ddd51f1cc4def0f8"><div class="ttname"><a href="namespacellvm.html#a0f0d66fa63bebb53ddd51f1cc4def0f8">llvm::isEqual</a></div><div class="ttdeci">bool isEqual(const GCNRPTracker::LiveRegSet &amp;S1, const GCNRPTracker::LiveRegSet &amp;S2)</div><div class="ttdef"><b>Definition:</b> <a href="GCNRegPressure_8cpp_source.html#l00021">GCNRegPressure.cpp:21</a></div></div>
<div class="ttc" id="aclassllvm_1_1DbgVariableIntrinsic_html_a5702a1d09ac6ee86196a38b3f682a570"><div class="ttname"><a href="classllvm_1_1DbgVariableIntrinsic.html#a5702a1d09ac6ee86196a38b3f682a570">llvm::DbgVariableIntrinsic::getVariableLocationOp</a></div><div class="ttdeci">Value * getVariableLocationOp(unsigned OpIdx) const</div><div class="ttdef"><b>Definition:</b> <a href="IntrinsicInst_8cpp_source.html#l00092">IntrinsicInst.cpp:92</a></div></div>
<div class="ttc" id="aclassllvm_1_1ArrayRef_html_ac835b8735b1b2faec0efdca236e37d94"><div class="ttname"><a href="classllvm_1_1ArrayRef.html#ac835b8735b1b2faec0efdca236e37d94">llvm::ArrayRef::empty</a></div><div class="ttdeci">bool empty() const</div><div class="ttdoc">empty - Check if the array is empty.</div><div class="ttdef"><b>Definition:</b> <a href="ArrayRef_8h_source.html#l00158">ArrayRef.h:158</a></div></div>
<div class="ttc" id="aDebug_8h_html_a08efc68d15935eb8889400a46c3749ba"><div class="ttname"><a href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a></div><div class="ttdeci">#define LLVM_DEBUG(X)</div><div class="ttdef"><b>Definition:</b> <a href="Debug_8h_source.html#l00101">Debug.h:101</a></div></div>
<div class="ttc" id="aclassllvm_1_1MDNode_html_a7d10a7b9b7f40b04d27ed97c38ea1950"><div class="ttname"><a href="classllvm_1_1MDNode.html#a7d10a7b9b7f40b04d27ed97c38ea1950">llvm::MDNode::get</a></div><div class="ttdeci">static MDTuple * get(LLVMContext &amp;Context, ArrayRef&lt; Metadata * &gt; MDs)</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l01399">Metadata.h:1399</a></div></div>
<div class="ttc" id="aMD5_8cpp_html_a96d73bbd7af15cb1fc38c3f4a3bd82e9"><div class="ttname"><a href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a></div><div class="ttdeci">#define F(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00055">MD5.cpp:55</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_a7237782a64e78d98366d51252b16ca07"><div class="ttname"><a href="classllvm_1_1APInt.html#a7237782a64e78d98366d51252b16ca07">llvm::APInt::countPopulation</a></div><div class="ttdeci">unsigned countPopulation() const</div><div class="ttdoc">Count the number of bits set.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l01619">APInt.h:1619</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html_a9247a212ea89acc9573fa7e7f557eaba"><div class="ttname"><a href="classllvm_1_1Instruction.html#a9247a212ea89acc9573fa7e7f557eaba">llvm::Instruction::setMetadata</a></div><div class="ttdeci">void setMetadata(unsigned KindID, MDNode *Node)</div><div class="ttdoc">Set the metadata of the specified kind to the specified node.</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8cpp_source.html#l01455">Metadata.cpp:1455</a></div></div>
<div class="ttc" id="anamespacellvm_html_ad3cf19784335900227e275fd488e4727"><div class="ttname"><a href="namespacellvm.html#ad3cf19784335900227e275fd488e4727">llvm::RecursivelyDeleteDeadPHINode</a></div><div class="ttdeci">bool RecursivelyDeleteDeadPHINode(PHINode *PN, const TargetLibraryInfo *TLI=nullptr, MemorySSAUpdater *MSSAU=nullptr)</div><div class="ttdoc">If the specified value is an effectively dead PHI node, due to being a def-use chain of single-use no...</div><div class="ttdef"><b>Definition:</b> <a href="Transforms_2Utils_2Local_8cpp_source.html#l00645">Local.cpp:645</a></div></div>
<div class="ttc" id="aKnownBits_8h_html"><div class="ttname"><a href="KnownBits_8h.html">KnownBits.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1BasicBlock_html"><div class="ttname"><a href="classllvm_1_1BasicBlock.html">llvm::BasicBlock</a></div><div class="ttdoc">LLVM Basic Block Representation.</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8h_source.html#l00055">BasicBlock.h:55</a></div></div>
<div class="ttc" id="astructllvm_1_1KnownBits_html_a1eeff70353694cb360b2893553c18e7d"><div class="ttname"><a href="structllvm_1_1KnownBits.html#a1eeff70353694cb360b2893553c18e7d">llvm::KnownBits::countMinTrailingZeros</a></div><div class="ttdeci">unsigned countMinTrailingZeros() const</div><div class="ttdoc">Returns the minimum number of trailing zero bits.</div><div class="ttdef"><b>Definition:</b> <a href="KnownBits_8h_source.html#l00233">KnownBits.h:233</a></div></div>
<div class="ttc" id="anamespacellvm_html_a7c46c742c31be54870e2038048e6b391"><div class="ttname"><a href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">llvm::dbgs</a></div><div class="ttdeci">raw_ostream &amp; dbgs()</div><div class="ttdoc">dbgs() - This returns a reference to a raw_ostream for debugging messages.</div><div class="ttdef"><b>Definition:</b> <a href="Debug_8cpp_source.html#l00163">Debug.cpp:163</a></div></div>
<div class="ttc" id="aclassllvm_1_1DominatorTree_html_a5c69311e8d44898dac36a155c3d8691d"><div class="ttname"><a href="classllvm_1_1DominatorTree.html#a5c69311e8d44898dac36a155c3d8691d">llvm::DominatorTree::dominates</a></div><div class="ttdeci">bool dominates(const BasicBlock *BB, const Use &amp;U) const</div><div class="ttdoc">Return true if the (end of the) basic block BB dominates the use U.</div><div class="ttdef"><b>Definition:</b> <a href="Dominators_8cpp_source.html#l00122">Dominators.cpp:122</a></div></div>
<div class="ttc" id="aAMDGPULibCalls_8cpp_html_afecf1cc1292b07f57d343c0f4d682044"><div class="ttname"><a href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a></div><div class="ttdeci">amdgpu Simplify well known AMD library false FunctionCallee Value * Arg</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPULibCalls_8cpp_source.html#l00187">AMDGPULibCalls.cpp:187</a></div></div>
<div class="ttc" id="anamespacellvm_1_1BitmaskEnumDetail_html_a91efa71de05b0c2d00730a0279f58658"><div class="ttname"><a href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">llvm::BitmaskEnumDetail::Mask</a></div><div class="ttdeci">constexpr std::underlying_type_t&lt; E &gt; Mask()</div><div class="ttdoc">Get a bitmask with 1s in all places up to the high-order bit of E's largest value.</div><div class="ttdef"><b>Definition:</b> <a href="BitmaskEnum_8h_source.html#l00080">BitmaskEnum.h:80</a></div></div>
<div class="ttc" id="aIR_2Instruction_8h_html"><div class="ttname"><a href="IR_2Instruction_8h.html">Instruction.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_aac9e78b3aa02ec087c4621358f506718"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#aac9e78b3aa02ec087c4621358f506718">llvm::PatternMatch::m_APInt</a></div><div class="ttdeci">apint_match m_APInt(const APInt *&amp;Res)</div><div class="ttdoc">Match a ConstantInt or splatted ConstantVector, binding the specified pointer to the contained APInt.</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00278">PatternMatch.h:278</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_af4b1ccc0b78f9da9f3f3944e06007f1d"><div class="ttname"><a href="classllvm_1_1APInt.html#af4b1ccc0b78f9da9f3f3944e06007f1d">llvm::APInt::uge</a></div><div class="ttdeci">bool uge(const APInt &amp;RHS) const</div><div class="ttdoc">Unsigned greater or equal comparison.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l01199">APInt.h:1199</a></div></div>
<div class="ttc" id="aclassllvm_1_1ValueMap_html_aa18f9d54e998d6095d944307853f8dc8"><div class="ttname"><a href="classllvm_1_1ValueMap.html#aa18f9d54e998d6095d944307853f8dc8">llvm::ValueMap::size</a></div><div class="ttdeci">size_type size() const</div><div class="ttdef"><b>Definition:</b> <a href="ValueMap_8h_source.html#l00140">ValueMap.h:140</a></div></div>
<div class="ttc" id="aX86PartialReduction_8cpp_html_a9e1483f7215664a2315c53c3558d9a8d"><div class="ttname"><a href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a></div><div class="ttdeci">Value * LHS</div><div class="ttdef"><b>Definition:</b> <a href="X86PartialReduction_8cpp_source.html#l00075">X86PartialReduction.cpp:75</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantInt_html"><div class="ttname"><a href="classllvm_1_1ConstantInt.html">llvm::ConstantInt</a></div><div class="ttdoc">This is the shared class of boolean and integer constants.</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8h_source.html#l00078">Constants.h:78</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_a2a394517076e7dd2bdcd7dde33dfcb7d"><div class="ttname"><a href="classllvm_1_1Type.html#a2a394517076e7dd2bdcd7dde33dfcb7d">llvm::Type::isArrayTy</a></div><div class="ttdeci">bool isArrayTy() const</div><div class="ttdoc">True if this is an instance of ArrayType.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00246">Type.h:246</a></div></div>
<div class="ttc" id="astructllvm_1_1DenseMapInfo_html"><div class="ttname"><a href="structllvm_1_1DenseMapInfo.html">llvm::DenseMapInfo</a></div><div class="ttdoc">An information struct used to provide DenseMap with the various necessary components for a given valu...</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00034">APInt.h:34</a></div></div>
<div class="ttc" id="anamespacellvm_html_a0d10fe510ced2849a8074fe81e5d04ce"><div class="ttname"><a href="namespacellvm.html#a0d10fe510ced2849a8074fe81e5d04ce">llvm::all_of</a></div><div class="ttdeci">bool all_of(R &amp;&amp;range, UnaryPredicate P)</div><div class="ttdoc">Provide wrappers to std::all_of which take ranges instead of having to pass begin/end explicitly.</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l01735">STLExtras.h:1735</a></div></div>
<div class="ttc" id="aclassllvm_1_1DIExpression_html_a5f48305fa7d23161515c94bca7c2beb6"><div class="ttname"><a href="classllvm_1_1DIExpression.html#a5f48305fa7d23161515c94bca7c2beb6">llvm::DIExpression::appendOpsToArg</a></div><div class="ttdeci">static DIExpression * appendOpsToArg(const DIExpression *Expr, ArrayRef&lt; uint64_t &gt; Ops, unsigned ArgNo, bool StackValue=false)</div><div class="ttdoc">Create a copy of Expr by appending the given list of Ops to each instance of the operand DW_OP_LLVM_a...</div><div class="ttdef"><b>Definition:</b> <a href="DebugInfoMetadata_8cpp_source.html#l01651">DebugInfoMetadata.cpp:1651</a></div></div>
<div class="ttc" id="aclassllvm_1_1ArrayRef_html_adb38eaaa53c1d9c57b6fe11cf84bd7a4"><div class="ttname"><a href="classllvm_1_1ArrayRef.html#adb38eaaa53c1d9c57b6fe11cf84bd7a4">llvm::ArrayRef::back</a></div><div class="ttdeci">const T &amp; back() const</div><div class="ttdoc">back - Get the last element.</div><div class="ttdef"><b>Definition:</b> <a href="ArrayRef_8h_source.html#l00172">ArrayRef.h:172</a></div></div>
<div class="ttc" id="anamespacellvm_html_a42108fe3c2695cb429e6fe312908fa0d"><div class="ttname"><a href="namespacellvm.html#a42108fe3c2695cb429e6fe312908fa0d">llvm::SimplifyInstructionsInBlock</a></div><div class="ttdeci">bool SimplifyInstructionsInBlock(BasicBlock *BB, const TargetLibraryInfo *TLI=nullptr)</div><div class="ttdoc">Scan the specified basic block and try to simplify any instructions in it and recursively delete dead...</div><div class="ttdef"><b>Definition:</b> <a href="Transforms_2Utils_2Local_8cpp_source.html#l00725">Local.cpp:725</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html_a51d5735829e1f043630dd403f01d4219"><div class="ttname"><a href="classllvm_1_1Instruction.html#a51d5735829e1f043630dd403f01d4219">llvm::Instruction::extractProfTotalWeight</a></div><div class="ttdeci">bool extractProfTotalWeight(uint64_t &amp;TotalVal) const</div><div class="ttdoc">Retrieve total raw weight values of a branch.</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8cpp_source.html#l01539">Metadata.cpp:1539</a></div></div>
<div class="ttc" id="aConstants_8h_html"><div class="ttname"><a href="Constants_8h.html">Constants.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_a25d956d9e0beadd47ce4bc255dfa811d"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">llvm::PatternMatch::match</a></div><div class="ttdeci">bool match(Val *V, const Pattern &amp;P)</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00049">PatternMatch.h:49</a></div></div>
<div class="ttc" id="aclassllvm_1_1PHINode_html_a16c39eb6e60b42a40c399d8d65347bb6"><div class="ttname"><a href="classllvm_1_1PHINode.html#a16c39eb6e60b42a40c399d8d65347bb6">llvm::PHINode::getIncomingValue</a></div><div class="ttdeci">Value * getIncomingValue(unsigned i) const</div><div class="ttdoc">Return incoming value number x.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l02794">Instructions.h:2794</a></div></div>
<div class="ttc" id="aclassllvm_1_1DomTreeUpdater_html_aa11a3f736168200639e5ead7e3ed16db"><div class="ttname"><a href="classllvm_1_1DomTreeUpdater.html#aa11a3f736168200639e5ead7e3ed16db">llvm::DomTreeUpdater::isBBPendingDeletion</a></div><div class="ttdeci">bool isBBPendingDeletion(BasicBlock *DelBB) const</div><div class="ttdoc">Returns true if DelBB is awaiting deletion.</div><div class="ttdef"><b>Definition:</b> <a href="DomTreeUpdater_8cpp_source.html#l00166">DomTreeUpdater.cpp:166</a></div></div>
<div class="ttc" id="aclassllvm_1_1DbgValueInst_html"><div class="ttname"><a href="classllvm_1_1DbgValueInst.html">llvm::DbgValueInst</a></div><div class="ttdoc">This represents the llvm.dbg.value instruction.</div><div class="ttdef"><b>Definition:</b> <a href="IntrinsicInst_8h_source.html#l00388">IntrinsicInst.h:388</a></div></div>
<div class="ttc" id="aTransforms_2Utils_2Local_8cpp_html_a4174d7448e3656c2b6b13a71f77d90c6"><div class="ttname"><a href="Transforms_2Utils_2Local_8cpp.html#a4174d7448e3656c2b6b13a71f77d90c6">selectIncomingValueForBlock</a></div><div class="ttdeci">static Value * selectIncomingValueForBlock(Value *OldVal, BasicBlock *BB, IncomingValueMap &amp;IncomingValues)</div><div class="ttdoc">Determines the value to use as the phi node input for a block.</div><div class="ttdef"><b>Definition:</b> <a href="Transforms_2Utils_2Local_8cpp_source.html#l00930">Local.cpp:930</a></div></div>
<div class="ttc" id="aclassllvm_1_1AllocaInst_html_a074617b3e2f9f98ee3a2ac208e8e7210"><div class="ttname"><a href="classllvm_1_1AllocaInst.html#a074617b3e2f9f98ee3a2ac208e8e7210">llvm::AllocaInst::getAllocatedType</a></div><div class="ttdeci">Type * getAllocatedType() const</div><div class="ttdoc">Return the type that is being allocated by the instruction.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00118">Instructions.h:118</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_aeabb6bae24f546580e022835285da5ab"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#aeabb6bae24f546580e022835285da5ab">llvm::PatternMatch::m_FShl</a></div><div class="ttdeci">m_Intrinsic_Ty&lt; Opnd0, Opnd1, Opnd2 &gt;::Ty m_FShl(const Opnd0 &amp;Op0, const Opnd1 &amp;Op1, const Opnd2 &amp;Op2)</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l02194">PatternMatch.h:2194</a></div></div>
<div class="ttc" id="aclassllvm_1_1DILocalVariable_html"><div class="ttname"><a href="classllvm_1_1DILocalVariable.html">llvm::DILocalVariable</a></div><div class="ttdoc">Local variable.</div><div class="ttdef"><b>Definition:</b> <a href="DebugInfoMetadata_8h_source.html#l03170">DebugInfoMetadata.h:3170</a></div></div>
<div class="ttc" id="aBuiltinGCs_8cpp_html_a6742d2e0a668baf1196ec69e158d5f15"><div class="ttname"><a href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a></div><div class="ttdeci">static GCRegistry::Add&lt; CoreCLRGC &gt; E(&quot;coreclr&quot;, &quot;CoreCLR-compatible GC&quot;)</div></div>
<div class="ttc" id="aclassllvm_1_1User_html"><div class="ttname"><a href="classllvm_1_1User.html">llvm::User</a></div><div class="ttdef"><b>Definition:</b> <a href="User_8h_source.html#l00044">User.h:44</a></div></div>
<div class="ttc" id="anamespacellvm_html_a26a5e408fc09c5664d2bbb2d7fae154e"><div class="ttname"><a href="namespacellvm.html#a26a5e408fc09c5664d2bbb2d7fae154e">llvm::LibFunc</a></div><div class="ttdeci">LibFunc</div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00036">TargetLibraryInfo.h:36</a></div></div>
<div class="ttc" id="aclassllvm_1_1DbgVariableIntrinsic_html_a8c005ab74340f04df81ce12b8511a27a"><div class="ttname"><a href="classllvm_1_1DbgVariableIntrinsic.html#a8c005ab74340f04df81ce12b8511a27a">llvm::DbgVariableIntrinsic::isAddressOfVariable</a></div><div class="ttdeci">bool isAddressOfVariable() const</div><div class="ttdoc">Does this describe the address of a local variable.</div><div class="ttdef"><b>Definition:</b> <a href="IntrinsicInst_8h_source.html#l00265">IntrinsicInst.h:265</a></div></div>
<div class="ttc" id="aclassllvm_1_1PHINode_html_aaf337eae2193217943c7c0d7a65e61bb"><div class="ttname"><a href="classllvm_1_1PHINode.html#aaf337eae2193217943c7c0d7a65e61bb">llvm::PHINode::block_end</a></div><div class="ttdeci">const_block_iterator block_end() const</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l02776">Instructions.h:2776</a></div></div>
<div class="ttc" id="aIntrinsics_8h_html"><div class="ttname"><a href="Intrinsics_8h.html">Intrinsics.h</a></div></div>
<div class="ttc" id="aREADME__ALTIVEC_8txt_html_a9aacd9146afe44bf656cd664e2a88c8c"><div class="ttname"><a href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a></div><div class="ttdeci">(vector float) vec_cmpeq(*A, *B) C</div><div class="ttdef"><b>Definition:</b> <a href="README__ALTIVEC_8txt_source.html#l00086">README_ALTIVEC.txt:86</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantExpr_html_a02560cda155aaed54314383bed827d60"><div class="ttname"><a href="classllvm_1_1ConstantExpr.html#a02560cda155aaed54314383bed827d60">llvm::ConstantExpr::getIntToPtr</a></div><div class="ttdeci">static Constant * getIntToPtr(Constant *C, Type *Ty, bool OnlyIfReduced=false)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l02215">Constants.cpp:2215</a></div></div>
<div class="ttc" id="aclassllvm_1_1CleanupReturnInst_html_a12229044a9165df6c04a72377885874a"><div class="ttname"><a href="classllvm_1_1CleanupReturnInst.html#a12229044a9165df6c04a72377885874a">llvm::CleanupReturnInst::Create</a></div><div class="ttdeci">static CleanupReturnInst * Create(Value *CleanupPad, BasicBlock *UnwindBB=nullptr, Instruction *InsertBefore=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l04684">Instructions.h:4684</a></div></div>
<div class="ttc" id="aInstrTypes_8h_html"><div class="ttname"><a href="InstrTypes_8h.html">InstrTypes.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallBase_html_a83b8c9e572130f403445c0b0f69b837c"><div class="ttname"><a href="classllvm_1_1CallBase.html#a83b8c9e572130f403445c0b0f69b837c">llvm::CallBase::getCalledFunction</a></div><div class="ttdeci">Function * getCalledFunction() const</div><div class="ttdoc">Returns the function called, or null if this is an indirect function invocation or the function signa...</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l01406">InstrTypes.h:1406</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallBase_html_a9da3b29e8e71b9be4645874e1721207a"><div class="ttname"><a href="classllvm_1_1CallBase.html#a9da3b29e8e71b9be4645874e1721207a">llvm::CallBase::setAttributes</a></div><div class="ttdeci">void setAttributes(AttributeList A)</div><div class="ttdoc">Set the parameter attributes for this call.</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l01488">InstrTypes.h:1488</a></div></div>
<div class="ttc" id="aclassllvm_1_1BasicBlock_html_a0ed5f3ab3c2e4196ee0cffffa080c062"><div class="ttname"><a href="classllvm_1_1BasicBlock.html#a0ed5f3ab3c2e4196ee0cffffa080c062">llvm::BasicBlock::begin</a></div><div class="ttdeci">iterator begin()</div><div class="ttdoc">Instruction iterator methods.</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8h_source.html#l00314">BasicBlock.h:314</a></div></div>
<div class="ttc" id="anamespacellvm_html_ab42e397923eec18d3ab8ea88d280b63c"><div class="ttname"><a href="namespacellvm.html#ab42e397923eec18d3ab8ea88d280b63c">llvm::canReplaceOperandWithVariable</a></div><div class="ttdeci">bool canReplaceOperandWithVariable(const Instruction *I, unsigned OpIdx)</div><div class="ttdoc">Given an instruction, is it legal to set operand OpIdx to a non-constant value?</div><div class="ttdef"><b>Definition:</b> <a href="Transforms_2Utils_2Local_8cpp_source.html#l03410">Local.cpp:3410</a></div></div>
<div class="ttc" id="aOcamlGCPrinter_8cpp_html_afcf2f797ed287a723263583c9b1c1bce"><div class="ttname"><a href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a></div><div class="ttdeci">static GCMetadataPrinterRegistry::Add&lt; OcamlGCMetadataPrinter &gt; Y(&quot;ocaml&quot;, &quot;ocaml 3.10-compatible collector&quot;)</div></div>
<div class="ttc" id="aclassllvm_1_1MDBuilder_html_ad910125a9cfd76aaad7f69469df22f66"><div class="ttname"><a href="classllvm_1_1MDBuilder.html#ad910125a9cfd76aaad7f69469df22f66">llvm::MDBuilder::createBranchWeights</a></div><div class="ttdeci">MDNode * createBranchWeights(uint32_t TrueWeight, uint32_t FalseWeight)</div><div class="ttdoc">Return metadata containing two branch weights.</div><div class="ttdef"><b>Definition:</b> <a href="MDBuilder_8cpp_source.html#l00037">MDBuilder.cpp:37</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallInst_html_a850d8262cd900958b3153c4aa080b2bb"><div class="ttname"><a href="classllvm_1_1CallInst.html#a850d8262cd900958b3153c4aa080b2bb">llvm::CallInst::Create</a></div><div class="ttdeci">static CallInst * Create(FunctionType *Ty, Value *F, const Twine &amp;NameStr=&quot;&quot;, Instruction *InsertBefore=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01528">Instructions.h:1528</a></div></div>
<div class="ttc" id="aSIInstrInfo_8cpp_html_a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791"><div class="ttname"><a href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a></div><div class="ttdeci">@ SI</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l07993">SIInstrInfo.cpp:7993</a></div></div>
<div class="ttc" id="aAssumeBundleQueries_8h_html"><div class="ttname"><a href="AssumeBundleQueries_8h.html">AssumeBundleQueries.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantExpr_html_a652380f28d1a7011e05d0787b6024d48"><div class="ttname"><a href="classllvm_1_1ConstantExpr.html#a652380f28d1a7011e05d0787b6024d48">llvm::ConstantExpr::getPtrToInt</a></div><div class="ttdeci">static Constant * getPtrToInt(Constant *C, Type *Ty, bool OnlyIfReduced=false)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l02201">Constants.cpp:2201</a></div></div>
<div class="ttc" id="aclassllvm_1_1DomTreeUpdater_html_a16573be9dccc430b2f944e78cd54373e"><div class="ttname"><a href="classllvm_1_1DomTreeUpdater.html#a16573be9dccc430b2f944e78cd54373e">llvm::DomTreeUpdater::recalculate</a></div><div class="ttdeci">void recalculate(Function &amp;F)</div><div class="ttdoc">Notify DTU that the entry block was replaced.</div><div class="ttdef"><b>Definition:</b> <a href="DomTreeUpdater_8cpp_source.html#l00120">DomTreeUpdater.cpp:120</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_a071e8d814b2b30b02544fad964227b8e"><div class="ttname"><a href="classllvm_1_1APInt.html#a071e8d814b2b30b02544fad964227b8e">llvm::APInt::getAllOnes</a></div><div class="ttdeci">static APInt getAllOnes(unsigned numBits)</div><div class="ttdoc">Return an APInt of a specified width with all bits set.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00214">APInt.h:214</a></div></div>
<div class="ttc" id="aTargetLibraryInfo_8h_html"><div class="ttname"><a href="TargetLibraryInfo_8h.html">TargetLibraryInfo.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_a1bc022868b23918efa44df511f4d5b61"><div class="ttname"><a href="classllvm_1_1Type.html#a1bc022868b23918efa44df511f4d5b61">llvm::Type::isVectorTy</a></div><div class="ttdeci">bool isVectorTy() const</div><div class="ttdoc">True if this is an instance of VectorType.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00258">Type.h:258</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_aecb93439702247fe5353a9966f7cefcd"><div class="ttname"><a href="classllvm_1_1Value.html#aecb93439702247fe5353a9966f7cefcd">llvm::Value::uses</a></div><div class="ttdeci">iterator_range&lt; use_iterator &gt; uses()</div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00376">Value.h:376</a></div></div>
<div class="ttc" id="aDenseSet_8h_html"><div class="ttname"><a href="DenseSet_8h.html">DenseSet.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1BasicBlock_html_a161fd4e9fa5367f64c2a4c9e921c3ad3"><div class="ttname"><a href="classllvm_1_1BasicBlock.html#a161fd4e9fa5367f64c2a4c9e921c3ad3">llvm::BasicBlock::getFirstInsertionPt</a></div><div class="ttdeci">const_iterator getFirstInsertionPt() const</div><div class="ttdoc">Returns an iterator to the first instruction in this block that is suitable for inserting a non-PHI i...</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8cpp_source.html#l00245">BasicBlock.cpp:245</a></div></div>
<div class="ttc" id="astructllvm_1_1MaybeAlign_html"><div class="ttname"><a href="structllvm_1_1MaybeAlign.html">llvm::MaybeAlign</a></div><div class="ttdoc">This struct is a compact representation of a valid (power of two) or undefined (0) alignment.</div><div class="ttdef"><b>Definition:</b> <a href="Alignment_8h_source.html#l00117">Alignment.h:117</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_a2cbdca7c8267aac6914d674f8e81841b"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a2cbdca7c8267aac6914d674f8e81841b">llvm::PatternMatch::m_ZExt</a></div><div class="ttdeci">CastClass_match&lt; OpTy, Instruction::ZExt &gt; m_ZExt(const OpTy &amp;Op)</div><div class="ttdoc">Matches ZExt.</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l01629">PatternMatch.h:1629</a></div></div>
<div class="ttc" id="anamespacellvm_html_ada75fb6345bfa2602ef65d6898d3e236"><div class="ttname"><a href="namespacellvm.html#ada75fb6345bfa2602ef65d6898d3e236">llvm::inferAttributesFromOthers</a></div><div class="ttdeci">bool inferAttributesFromOthers(Function &amp;F)</div><div class="ttdoc">If we can infer one attribute from another on the declaration of a function, explicitly materialize t...</div><div class="ttdef"><b>Definition:</b> <a href="Transforms_2Utils_2Local_8cpp_source.html#l03517">Local.cpp:3517</a></div></div>
<div class="ttc" id="aBuiltinGCs_8cpp_html_a7abf5fb4071cb25dbce06dfb5ee3c937"><div class="ttname"><a href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a></div><div class="ttdeci">static GCRegistry::Add&lt; OcamlGC &gt; B(&quot;ocaml&quot;, &quot;ocaml 3.10-compatible GC&quot;)</div></div>
<div class="ttc" id="alib_2Target_2README_8txt_html_ab24db72f7bd10b13351812874015861b"><div class="ttname"><a href="lib_2Target_2README_8txt.html#ab24db72f7bd10b13351812874015861b">First</a></div><div class="ttdeci">into llvm powi allowing the code generator to produce balanced multiplication trees First</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2README_8txt_source.html#l00054">README.txt:54</a></div></div>
<div class="ttc" id="aclassllvm_1_1DbgVariableIntrinsic_html_a71808acf992f787300ec18d5700f09cc"><div class="ttname"><a href="classllvm_1_1DbgVariableIntrinsic.html#a71808acf992f787300ec18d5700f09cc">llvm::DbgVariableIntrinsic::setExpression</a></div><div class="ttdeci">void setExpression(DIExpression *NewExpr)</div><div class="ttdef"><b>Definition:</b> <a href="IntrinsicInst_8h_source.html#l00250">IntrinsicInst.h:250</a></div></div>
<div class="ttc" id="anamespacellvm_html_a1c9e22b633ee4e0727bba3c87db57296"><div class="ttname"><a href="namespacellvm.html#a1c9e22b633ee4e0727bba3c87db57296">llvm::removeAllNonTerminatorAndEHPadInstructions</a></div><div class="ttdeci">std::pair&lt; unsigned, unsigned &gt; removeAllNonTerminatorAndEHPadInstructions(BasicBlock *BB)</div><div class="ttdoc">Remove all instructions from a basic block other than its terminator and any present EH pad instructi...</div><div class="ttdef"><b>Definition:</b> <a href="Transforms_2Utils_2Local_8cpp_source.html#l02226">Local.cpp:2226</a></div></div>
<div class="ttc" id="aclassllvm_1_1PHINode_html_adfb61ffe25c950c75c86310245b3ef39"><div class="ttname"><a href="classllvm_1_1PHINode.html#adfb61ffe25c950c75c86310245b3ef39">llvm::PHINode::getIncomingValueForBlock</a></div><div class="ttdeci">Value * getIncomingValueForBlock(const BasicBlock *BB) const</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l02889">Instructions.h:2889</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLibraryInfo_html_a97cfbbed8869e3582142012a071a9052"><div class="ttname"><a href="classllvm_1_1TargetLibraryInfo.html#a97cfbbed8869e3582142012a071a9052">llvm::TargetLibraryInfo::getLibFunc</a></div><div class="ttdeci">bool getLibFunc(StringRef funcName, LibFunc &amp;F) const</div><div class="ttdoc">Searches for a particular function name.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00306">TargetLibraryInfo.h:306</a></div></div>
<div class="ttc" id="aclassllvm_1_1BinaryOperator_html_a31bf07f3f61525486633bc1d0bbaf029"><div class="ttname"><a href="classllvm_1_1BinaryOperator.html#a31bf07f3f61525486633bc1d0bbaf029">llvm::BinaryOperator::getOpcode</a></div><div class="ttdeci">BinaryOps getOpcode() const</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00391">InstrTypes.h:391</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_ac9542ee3a689ae9574b7807c96107d89"><div class="ttname"><a href="classllvm_1_1Type.html#ac9542ee3a689ae9574b7807c96107d89">llvm::Type::isTokenTy</a></div><div class="ttdeci">bool isTokenTy() const</div><div class="ttdoc">Return true if this is 'token'.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00219">Type.h:219</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html"><div class="ttname"><a href="classllvm_1_1Instruction.html">llvm::Instruction</a></div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8h_source.html#l00041">Instruction.h:41</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_a9f382207d841377156d4c7868b66b9a5"><div class="ttname"><a href="classllvm_1_1Type.html#a9f382207d841377156d4c7868b66b9a5">llvm::Type::getScalarSizeInBits</a></div><div class="ttdeci">unsigned getScalarSizeInBits() const LLVM_READONLY</div><div class="ttdoc">If this is a vector type, return the getPrimitiveSizeInBits value for the element type.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00188">Type.cpp:188</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_a423e2c491de1408d54e35f0b47d076be"><div class="ttname"><a href="classllvm_1_1APInt.html#a423e2c491de1408d54e35f0b47d076be">llvm::APInt::isAllOnes</a></div><div class="ttdeci">bool isAllOnes() const</div><div class="ttdoc">Determine if all bits are set. This is true for zero-width values.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00354">APInt.h:354</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallBase_html_a0f72a62efd0912aba72c6818c720023c"><div class="ttname"><a href="classllvm_1_1CallBase.html#a0f72a62efd0912aba72c6818c720023c">llvm::CallBase::addFnAttr</a></div><div class="ttdeci">void addFnAttr(Attribute::AttrKind Kind)</div><div class="ttdoc">Adds the attribute to the function.</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l01516">InstrTypes.h:1516</a></div></div>
<div class="ttc" id="aMDBuilder_8h_html"><div class="ttname"><a href="MDBuilder_8h.html">MDBuilder.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_a217e0207d9cc8e046c2dccbf0e4bb198"><div class="ttname"><a href="classllvm_1_1APInt.html#a217e0207d9cc8e046c2dccbf0e4bb198">llvm::APInt::getZExtValue</a></div><div class="ttdeci">uint64_t getZExtValue() const</div><div class="ttdoc">Get zero extended value.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l01494">APInt.h:1494</a></div></div>
<div class="ttc" id="anamespacellvm_html_a26be1141b23850a2b4eb78021d99e862"><div class="ttname"><a href="namespacellvm.html#a26be1141b23850a2b4eb78021d99e862">llvm::salvageDebugInfo</a></div><div class="ttdeci">void salvageDebugInfo(const MachineRegisterInfo &amp;MRI, MachineInstr &amp;MI)</div><div class="ttdoc">Assuming the instruction MI is going to be deleted, attempt to salvage debug users of MI by writing t...</div><div class="ttdef"><b>Definition:</b> <a href="CodeGen_2GlobalISel_2Utils_8cpp_source.html#l01367">Utils.cpp:1367</a></div></div>
<div class="ttc" id="anamespacellvm_html_a0bf75467957937ad23ad7be19f489934"><div class="ttname"><a href="namespacellvm.html#a0bf75467957937ad23ad7be19f489934">llvm::STATISTIC</a></div><div class="ttdeci">STATISTIC(NumFunctions, &quot;Total number of functions&quot;)</div></div>
<div class="ttc" id="anamespacellvm_html_aadb1772c1026a517d15c771ceb6a91ca"><div class="ttname"><a href="namespacellvm.html#aadb1772c1026a517d15c771ceb6a91ca">llvm::copyRangeMetadata</a></div><div class="ttdeci">void copyRangeMetadata(const DataLayout &amp;DL, const LoadInst &amp;OldLI, MDNode *N, LoadInst &amp;NewLI)</div><div class="ttdoc">Copy a range metadata node to a new load instruction.</div><div class="ttdef"><b>Definition:</b> <a href="Transforms_2Utils_2Local_8cpp_source.html#l02943">Local.cpp:2943</a></div></div>
<div class="ttc" id="aclassllvm_1_1UndefValue_html_a4ae5ff22b700a42bcc5d889233721335"><div class="ttname"><a href="classllvm_1_1UndefValue.html#a4ae5ff22b700a42bcc5d889233721335">llvm::UndefValue::get</a></div><div class="ttdeci">static UndefValue * get(Type *T)</div><div class="ttdoc">Static factory methods - Return an 'undef' object of the specified type.</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l01740">Constants.cpp:1740</a></div></div>
<div class="ttc" id="aclassllvm_1_1DomTreeUpdater_html"><div class="ttname"><a href="classllvm_1_1DomTreeUpdater.html">llvm::DomTreeUpdater</a></div><div class="ttdef"><b>Definition:</b> <a href="DomTreeUpdater_8h_source.html#l00028">DomTreeUpdater.h:28</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantInt_html_a969709dd49c28865a482d8b870f87c46"><div class="ttname"><a href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">llvm::ConstantInt::get</a></div><div class="ttdeci">static Constant * get(Type *Ty, uint64_t V, bool IsSigned=false)</div><div class="ttdoc">If Ty is a vector type, return a Constant with a splat of the given value.</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l00887">Constants.cpp:887</a></div></div>
<div class="ttc" id="aDebugLoc_8h_html"><div class="ttname"><a href="DebugLoc_8h.html">DebugLoc.h</a></div></div>
<div class="ttc" id="aSmallPtrSet_8h_html"><div class="ttname"><a href="SmallPtrSet_8h.html">SmallPtrSet.h</a></div></div>
<div class="ttc" id="aTransforms_2Utils_2Local_8cpp_html_a1a271a6676288b51742b4a72d3b0b5f0"><div class="ttname"><a href="Transforms_2Utils_2Local_8cpp.html#a1a271a6676288b51742b4a72d3b0b5f0">collectBitParts</a></div><div class="ttdeci">static const std::optional&lt; BitPart &gt; &amp; collectBitParts(Value *V, bool MatchBSwaps, bool MatchBitReversals, std::map&lt; Value *, std::optional&lt; BitPart &gt;&gt; &amp;BPS, int Depth, bool &amp;FoundRoot)</div><div class="ttdoc">Analyze the specified subexpression and see if it is capable of providing pieces of a bswap or bitrev...</div><div class="ttdef"><b>Definition:</b> <a href="Transforms_2Utils_2Local_8cpp_source.html#l03063">Local.cpp:3063</a></div></div>
<div class="ttc" id="aTransforms_2Utils_2Local_8cpp_html_ac8f80dc3cde5edc23c338e1250408466"><div class="ttname"><a href="Transforms_2Utils_2Local_8cpp.html#ac8f80dc3cde5edc23c338e1250408466">getSalvageOpsForGEP</a></div><div class="ttdeci">Value * getSalvageOpsForGEP(GetElementPtrInst *GEP, const DataLayout &amp;DL, uint64_t CurrentLocOps, SmallVectorImpl&lt; uint64_t &gt; &amp;Opcodes, SmallVectorImpl&lt; Value * &gt; &amp;AdditionalValues)</div><div class="ttdef"><b>Definition:</b> <a href="Transforms_2Utils_2Local_8cpp_source.html#l01944">Local.cpp:1944</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVectorImpl_html_a7efd1f0c1206d95e4fe01a9b49a57b82"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html#a7efd1f0c1206d95e4fe01a9b49a57b82">llvm::SmallVectorImpl::append</a></div><div class="ttdeci">void append(ItTy in_start, ItTy in_end)</div><div class="ttdoc">Add the specified range to the end of the SmallVector.</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00687">SmallVector.h:687</a></div></div>
<div class="ttc" id="aELFObjHandler_8cpp_html_a043cdaf7b89aaeeb127be5d93411637f"><div class="ttname"><a href="ELFObjHandler_8cpp.html#a043cdaf7b89aaeeb127be5d93411637f">Align</a></div><div class="ttdeci">uint64_t Align</div><div class="ttdef"><b>Definition:</b> <a href="ELFObjHandler_8cpp_source.html#l00082">ELFObjHandler.cpp:82</a></div></div>
<div class="ttc" id="aPatternMatch_8h_html"><div class="ttname"><a href="PatternMatch_8h.html">PatternMatch.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1BasicBlock_html_a46ef6115027606b67adcf4d28f3dac17"><div class="ttname"><a href="classllvm_1_1BasicBlock.html#a46ef6115027606b67adcf4d28f3dac17">llvm::BasicBlock::getFirstNonPHI</a></div><div class="ttdeci">const Instruction * getFirstNonPHI() const</div><div class="ttdoc">Returns a pointer to the first instruction in this block that is not a PHINode instruction.</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8cpp_source.html#l00208">BasicBlock.cpp:208</a></div></div>
<div class="ttc" id="anamespacellvm_html_a08f3f942afc0ee9115a8f9fa87e9191d"><div class="ttname"><a href="namespacellvm.html#a08f3f942afc0ee9115a8f9fa87e9191d">llvm::RemoveRedundantDbgInstrs</a></div><div class="ttdeci">bool RemoveRedundantDbgInstrs(BasicBlock *BB)</div><div class="ttdoc">Try to remove redundant dbg.value instructions from given basic block.</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlockUtils_8cpp_source.html#l00538">BasicBlockUtils.cpp:538</a></div></div>
<div class="ttc" id="astructllvm_1_1Align_html"><div class="ttname"><a href="structllvm_1_1Align.html">llvm::Align</a></div><div class="ttdoc">This struct is a compact representation of a valid (non-zero power of two) alignment.</div><div class="ttdef"><b>Definition:</b> <a href="Alignment_8h_source.html#l00039">Alignment.h:39</a></div></div>
<div class="ttc" id="anamespacellvm_1_1MCID_html_ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f"><div class="ttname"><a href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">llvm::MCID::Call</a></div><div class="ttdeci">@ Call</div><div class="ttdef"><b>Definition:</b> <a href="MCInstrDesc_8h_source.html#l00156">MCInstrDesc.h:156</a></div></div>
<div class="ttc" id="aclassllvm_1_1Metadata_html"><div class="ttname"><a href="classllvm_1_1Metadata.html">llvm::Metadata</a></div><div class="ttdoc">Root of the metadata hierarchy.</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l00061">Metadata.h:61</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallBase_html_a3ff92cec76009e859cb0c419d6e8ba5f"><div class="ttname"><a href="classllvm_1_1CallBase.html#a3ff92cec76009e859cb0c419d6e8ba5f">llvm::CallBase::getCallingConv</a></div><div class="ttdeci">CallingConv::ID getCallingConv() const</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l01465">InstrTypes.h:1465</a></div></div>
<div class="ttc" id="aclassllvm_1_1SetVector_html_aaf9ee38b9973681c1720aaf03af3a069"><div class="ttname"><a href="classllvm_1_1SetVector.html#aaf9ee38b9973681c1720aaf03af3a069">llvm::SetVector&lt; T, SmallVector&lt; T, N &gt;, SmallDenseSet&lt; T, N &gt; &gt;::empty</a></div><div class="ttdeci">bool empty() const</div><div class="ttdoc">Determine if the SetVector is empty or not.</div><div class="ttdef"><b>Definition:</b> <a href="SetVector_8h_source.html#l00072">SetVector.h:72</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_ab5941ebb386c8b46a569d1d8dbfe0c8c"><div class="ttname"><a href="classllvm_1_1Value.html#ab5941ebb386c8b46a569d1d8dbfe0c8c">llvm::Value::MaxAlignmentExponent</a></div><div class="ttdeci">static constexpr unsigned MaxAlignmentExponent</div><div class="ttdoc">The maximum alignment for instructions.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00789">Value.h:789</a></div></div>
<div class="ttc" id="aclassllvm_1_1PHINode_html_aef51af4b490af6b3bf2dfbc8737a8f9f"><div class="ttname"><a href="classllvm_1_1PHINode.html#aef51af4b490af6b3bf2dfbc8737a8f9f">llvm::PHINode::getNumIncomingValues</a></div><div class="ttdeci">unsigned getNumIncomingValues() const</div><div class="ttdoc">Return the number of incoming edges.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l02790">Instructions.h:2790</a></div></div>
<div class="ttc" id="aclassllvm_1_1DbgVariableIntrinsic_html_a8976759fe7e2d0329628f86b42957704"><div class="ttname"><a href="classllvm_1_1DbgVariableIntrinsic.html#a8976759fe7e2d0329628f86b42957704">llvm::DbgVariableIntrinsic::getNumVariableLocationOps</a></div><div class="ttdeci">unsigned getNumVariableLocationOps() const</div><div class="ttdef"><b>Definition:</b> <a href="IntrinsicInst_8h_source.html#l00254">IntrinsicInst.h:254</a></div></div>
<div class="ttc" id="aclassllvm_1_1DomTreeUpdater_html_a452fbd15ef0fd669454cffbd79e70bbe"><div class="ttname"><a href="classllvm_1_1DomTreeUpdater.html#a452fbd15ef0fd669454cffbd79e70bbe">llvm::DomTreeUpdater::hasDomTree</a></div><div class="ttdeci">bool hasDomTree() const</div><div class="ttdoc">Returns true if it holds a DominatorTree.</div><div class="ttdef"><b>Definition:</b> <a href="DomTreeUpdater_8h_source.html#l00057">DomTreeUpdater.h:57</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_a9d7de807ebdfe1819df3ff6cb0f16158"><div class="ttname"><a href="classllvm_1_1Value.html#a9d7de807ebdfe1819df3ff6cb0f16158">llvm::Value::use_empty</a></div><div class="ttdeci">bool use_empty() const</div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00344">Value.h:344</a></div></div>
<div class="ttc" id="anamespacellvm_1_1CallingConv_html_a188c0836f8c3528401f1c236fd93b977"><div class="ttname"><a href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">llvm::CallingConv::ID</a></div><div class="ttdeci">unsigned ID</div><div class="ttdoc">LLVM IR allows to use arbitrary numbers as calling convention identifiers.</div><div class="ttdef"><b>Definition:</b> <a href="CallingConv_8h_source.html#l00024">CallingConv.h:24</a></div></div>
<div class="ttc" id="aType_8h_html"><div class="ttname"><a href="Type_8h.html">Type.h</a></div></div>
<div class="ttc" id="aErlangGCPrinter_8cpp_html_a74b474c0616ab55c1d9487f11fd31d26"><div class="ttname"><a href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a></div><div class="ttdeci">static GCMetadataPrinterRegistry::Add&lt; ErlangGCPrinter &gt; X(&quot;erlang&quot;, &quot;erlang-compatible garbage collector&quot;)</div></div>
<div class="ttc" id="aTransforms_2Utils_2Local_8cpp_html_ae67ef27038e310f603f3b1bc4fb6eda2"><div class="ttname"><a href="Transforms_2Utils_2Local_8cpp.html#ae67ef27038e310f603f3b1bc4fb6eda2">BitPartRecursionMaxDepth</a></div><div class="ttdeci">static const unsigned BitPartRecursionMaxDepth</div><div class="ttdef"><b>Definition:</b> <a href="Transforms_2Utils_2Local_8cpp_source.html#l00113">Local.cpp:113</a></div></div>
<div class="ttc" id="aclassllvm_1_1DIBasicType_html_a60f94cc0e71193b01ca24ef37de9845aa71fed0c3428bf1a2e19af257c4bac379"><div class="ttname"><a href="classllvm_1_1DIBasicType.html#a60f94cc0e71193b01ca24ef37de9845aa71fed0c3428bf1a2e19af257c4bac379">llvm::DIBasicType::Signedness::Signed</a></div><div class="ttdeci">@ Signed</div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html_ae22f493ba8327ce92e87d3b96bce7017"><div class="ttname"><a href="classllvm_1_1Instruction.html#ae22f493ba8327ce92e87d3b96bce7017">llvm::Instruction::getMetadata</a></div><div class="ttdeci">MDNode * getMetadata(unsigned KindID) const</div><div class="ttdoc">Get the metadata of given kind attached to this Instruction.</div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8h_source.html#l00275">Instruction.h:275</a></div></div>
<div class="ttc" id="aIR_2CFG_8h_html"><div class="ttname"><a href="IR_2CFG_8h.html">CFG.h</a></div></div>
<div class="ttc" id="anamespacellvm_html_ab9cb77a3069c227792d6bade6faff422"><div class="ttname"><a href="namespacellvm.html#ab9cb77a3069c227792d6bade6faff422">llvm::getFreedOperand</a></div><div class="ttdeci">Value * getFreedOperand(const CallBase *CB, const TargetLibraryInfo *TLI)</div><div class="ttdoc">If this if a call to a free function, return the freed operand.</div><div class="ttdef"><b>Definition:</b> <a href="MemoryBuiltins_8cpp_source.html#l00546">MemoryBuiltins.cpp:546</a></div></div>
<div class="ttc" id="aclassllvm_1_1LocalAsMetadata_html_a5247094880dd4ac01a770bdf836b97c9"><div class="ttname"><a href="classllvm_1_1LocalAsMetadata.html#a5247094880dd4ac01a770bdf836b97c9">llvm::LocalAsMetadata::getIfExists</a></div><div class="ttdeci">static LocalAsMetadata * getIfExists(Value *Local)</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l00449">Metadata.h:449</a></div></div>
<div class="ttc" id="aADT_2tmp_8txt_html_a07ed0bfaa124c15897944fe3eaa971ab"><div class="ttname"><a href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a></div><div class="ttdeci">Class for arbitrary precision integers APInt is a functional replacement for common case unsigned integer type like unsigned long or uint64_t</div><div class="ttdef"><b>Definition:</b> <a href="ADT_2tmp_8txt_source.html#l00001">tmp.txt:1</a></div></div>
<div class="ttc" id="aclassllvm_1_1InvokeInst_html"><div class="ttname"><a href="classllvm_1_1InvokeInst.html">llvm::InvokeInst</a></div><div class="ttdoc">Invoke instruction.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l03814">Instructions.h:3814</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ARM__PROC_html_a1add7850fad3f66c140ecee871460ea4ae9d798593a4a6b5cc48486a453a59e5e"><div class="ttname"><a href="namespacellvm_1_1ARM__PROC.html#a1add7850fad3f66c140ecee871460ea4ae9d798593a4a6b5cc48486a453a59e5e">llvm::ARM_PROC::IE</a></div><div class="ttdeci">@ IE</div><div class="ttdef"><b>Definition:</b> <a href="MCTargetDesc_2ARMBaseInfo_8h_source.html#l00027">ARMBaseInfo.h:27</a></div></div>
<div class="ttc" id="anamespacellvm_html_acb22fb04083152eee862457e42e8dc31"><div class="ttname"><a href="namespacellvm.html#acb22fb04083152eee862457e42e8dc31">llvm::predecessors</a></div><div class="ttdeci">auto predecessors(const MachineBasicBlock *BB)</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l01266">MachineBasicBlock.h:1266</a></div></div>
<div class="ttc" id="aclassllvm_1_1DIExpression_html_a15f4de7989cc83855e8f65792ae94bc4"><div class="ttname"><a href="classllvm_1_1DIExpression.html#a15f4de7989cc83855e8f65792ae94bc4">llvm::DIExpression::append</a></div><div class="ttdeci">static DIExpression * append(const DIExpression *Expr, ArrayRef&lt; uint64_t &gt; Ops)</div><div class="ttdoc">Append the opcodes Ops to DIExpr.</div><div class="ttdef"><b>Definition:</b> <a href="DebugInfoMetadata_8cpp_source.html#l01741">DebugInfoMetadata.cpp:1741</a></div></div>
<div class="ttc" id="aclassllvm_1_1BasicBlock_html_a4ec05121d4b54b3691ad6203e78ff54e"><div class="ttname"><a href="classllvm_1_1BasicBlock.html#a4ec05121d4b54b3691ad6203e78ff54e">llvm::BasicBlock::isEntryBlock</a></div><div class="ttdeci">bool isEntryBlock() const</div><div class="ttdoc">Return true if this is the entry block of the containing function.</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8cpp_source.html#l00395">BasicBlock.cpp:395</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_ac6d28a9b11139182134a9618028a0d07"><div class="ttname"><a href="classllvm_1_1Type.html#ac6d28a9b11139182134a9618028a0d07">llvm::Type::isIntegerTy</a></div><div class="ttdeci">bool isIntegerTy() const</div><div class="ttdoc">True if this is an instance of IntegerType.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00222">Type.h:222</a></div></div>
<div class="ttc" id="aclassllvm_1_1function__ref_html"><div class="ttname"><a href="classllvm_1_1function__ref.html">llvm::function_ref</a></div><div class="ttdoc">An efficient, type-erasing, non-owning reference to a callable.</div><div class="ttdef"><b>Definition:</b> <a href="STLFunctionalExtras_8h_source.html#l00036">STLFunctionalExtras.h:36</a></div></div>
<div class="ttc" id="aclassllvm_1_1DbgAssignIntrinsic_html_a668dd46de1b2c3d8f19381c111da3d18"><div class="ttname"><a href="classllvm_1_1DbgAssignIntrinsic.html#a668dd46de1b2c3d8f19381c111da3d18">llvm::DbgAssignIntrinsic::getAddressExpression</a></div><div class="ttdeci">DIExpression * getAddressExpression() const</div><div class="ttdef"><b>Definition:</b> <a href="IntrinsicInst_8h_source.html#l00434">IntrinsicInst.h:434</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallPtrSetImplBase_html_af8a50544090e81ac83601aff8f4b0142"><div class="ttname"><a href="classllvm_1_1SmallPtrSetImplBase.html#af8a50544090e81ac83601aff8f4b0142">llvm::SmallPtrSetImplBase::empty</a></div><div class="ttdeci">bool empty() const</div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00092">SmallPtrSet.h:92</a></div></div>
<div class="ttc" id="anamespacellvm_html_a2f579c2fbf1fda44d35d059d9799eddc"><div class="ttname"><a href="namespacellvm.html#a2f579c2fbf1fda44d35d059d9799eddc">llvm::isMathLibCallNoop</a></div><div class="ttdeci">bool isMathLibCallNoop(const CallBase *Call, const TargetLibraryInfo *TLI)</div><div class="ttdoc">Check whether the given call has no side-effects.</div><div class="ttdef"><b>Definition:</b> <a href="ConstantFolding_8cpp_source.html#l03303">ConstantFolding.cpp:3303</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseSet_html"><div class="ttname"><a href="classllvm_1_1DenseSet.html">llvm::DenseSet</a></div><div class="ttdoc">Implements a dense probed hash-table based set.</div><div class="ttdef"><b>Definition:</b> <a href="DenseSet_8h_source.html#l00268">DenseSet.h:268</a></div></div>
<div class="ttc" id="anamespacellvm_html_a64ac0fc718d697dc3cb861e36b1c591a"><div class="ttname"><a href="namespacellvm.html#a64ac0fc718d697dc3cb861e36b1c591a">llvm::wouldInstructionBeTriviallyDead</a></div><div class="ttdeci">bool wouldInstructionBeTriviallyDead(Instruction *I, const TargetLibraryInfo *TLI=nullptr)</div><div class="ttdoc">Return true if the result produced by the instruction would have no side effects if it was not used.</div><div class="ttdef"><b>Definition:</b> <a href="Transforms_2Utils_2Local_8cpp_source.html#l00417">Local.cpp:417</a></div></div>
<div class="ttc" id="anamespacellvm_html_ab057ca6ed74ccfa73d1a0d2cf15b2300"><div class="ttname"><a href="namespacellvm.html#ab057ca6ed74ccfa73d1a0d2cf15b2300">llvm::copyNonnullMetadata</a></div><div class="ttdeci">void copyNonnullMetadata(const LoadInst &amp;OldLI, MDNode *N, LoadInst &amp;NewLI)</div><div class="ttdoc">Copy a nonnull metadata node to a new load instruction.</div><div class="ttdef"><b>Definition:</b> <a href="Transforms_2Utils_2Local_8cpp_source.html#l02918">Local.cpp:2918</a></div></div>
<div class="ttc" id="anamespacellvm_html_a2f8e44f52bb2b2c5d2273eccec70faae"><div class="ttname"><a href="namespacellvm.html#a2f8e44f52bb2b2c5d2273eccec70faae">llvm::copyMetadataForLoad</a></div><div class="ttdeci">void copyMetadataForLoad(LoadInst &amp;Dest, const LoadInst &amp;Source)</div><div class="ttdoc">Copy the metadata from the source instruction to the destination (the replacement for the source inst...</div><div class="ttdef"><b>Definition:</b> <a href="Transforms_2Utils_2Local_8cpp_source.html#l02753">Local.cpp:2753</a></div></div>
<div class="ttc" id="aVectorUtils_8h_html"><div class="ttname"><a href="VectorUtils_8h.html">VectorUtils.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1BasicBlock_html_a315f26c899f5ea8a780db4740ba95ef4"><div class="ttname"><a href="classllvm_1_1BasicBlock.html#a315f26c899f5ea8a780db4740ba95ef4">llvm::BasicBlock::hasAddressTaken</a></div><div class="ttdeci">bool hasAddressTaken() const</div><div class="ttdoc">Returns true if there are any uses of this basic block other than direct branches,...</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8h_source.html#l00495">BasicBlock.h:495</a></div></div>
<div class="ttc" id="aBasicBlock_8h_html"><div class="ttname"><a href="BasicBlock_8h.html">BasicBlock.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1cl_1_1opt_html"><div class="ttname"><a href="classllvm_1_1cl_1_1opt.html">llvm::cl::opt&lt; bool &gt;</a></div></div>
<div class="ttc" id="aclassllvm_1_1DbgVariableIntrinsic_html"><div class="ttname"><a href="classllvm_1_1DbgVariableIntrinsic.html">llvm::DbgVariableIntrinsic</a></div><div class="ttdoc">This is the common base class for debug info intrinsics for variables.</div><div class="ttdef"><b>Definition:</b> <a href="IntrinsicInst_8h_source.html#l00181">IntrinsicInst.h:181</a></div></div>
<div class="ttc" id="anamespacellvm_html_a67474fe1bb82a093f3ad2e9ad2d7f7c4"><div class="ttname"><a href="namespacellvm.html#a67474fe1bb82a093f3ad2e9ad2d7f7c4">llvm::TryToSimplifyUncondBranchFromEmptyBlock</a></div><div class="ttdeci">bool TryToSimplifyUncondBranchFromEmptyBlock(BasicBlock *BB, DomTreeUpdater *DTU=nullptr)</div><div class="ttdoc">BB is known to contain an unconditional branch, and contains no instructions other than PHI nodes,...</div><div class="ttdef"><b>Definition:</b> <a href="Transforms_2Utils_2Local_8cpp_source.html#l01070">Local.cpp:1070</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_ae77be336e228cf9aa00709a8606dfb98"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#ae77be336e228cf9aa00709a8606dfb98">llvm::PatternMatch::m_Zero</a></div><div class="ttdeci">is_zero m_Zero()</div><div class="ttdoc">Match any null constant or a vector with all elements equal to 0.</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00537">PatternMatch.h:537</a></div></div>
<div class="ttc" id="aclassllvm_1_1StoreInst_html"><div class="ttname"><a href="classllvm_1_1StoreInst.html">llvm::StoreInst</a></div><div class="ttdoc">An instruction for storing to memory.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00301">Instructions.h:301</a></div></div>
<div class="ttc" id="aSIInstrInfo_8cpp_html_a0dfd55eaf0bcb495f09ecf8c55b256b2a97bce951e4585a39601c04d86bb14ffd"><div class="ttname"><a href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a97bce951e4585a39601c04d86bb14ffd">VI</a></div><div class="ttdeci">@ VI</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l07994">SIInstrInfo.cpp:7994</a></div></div>
<div class="ttc" id="aclassllvm_1_1Constant_html"><div class="ttname"><a href="classllvm_1_1Constant.html">llvm::Constant</a></div><div class="ttdoc">This is an important base class in LLVM.</div><div class="ttdef"><b>Definition:</b> <a href="Constant_8h_source.html#l00041">Constant.h:41</a></div></div>
<div class="ttc" id="aclassLiveDebugValues_1_1DbgValue_html"><div class="ttname"><a href="classLiveDebugValues_1_1DbgValue.html">LiveDebugValues::DbgValue</a></div><div class="ttdoc">Class recording the (high level) value of a variable.</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8h_source.html#l00441">InstrRefBasedImpl.h:441</a></div></div>
<div class="ttc" id="aclassllvm_1_1MDNode_html_acdbfda46c9837123ef7143244fc1f904"><div class="ttname"><a href="classllvm_1_1MDNode.html#acdbfda46c9837123ef7143244fc1f904">llvm::MDNode::intersect</a></div><div class="ttdeci">static MDNode * intersect(MDNode *A, MDNode *B)</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8cpp_source.html#l01019">Metadata.cpp:1019</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html_ae6b978645b8ac72d1a35e1298ffdd4f0"><div class="ttname"><a href="classllvm_1_1Instruction.html#ae6b978645b8ac72d1a35e1298ffdd4f0">llvm::Instruction::eraseFromParent</a></div><div class="ttdeci">SymbolTableList&lt; Instruction &gt;::iterator eraseFromParent()</div><div class="ttdoc">This method unlinks 'this' from the containing basic block and deletes it.</div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8cpp_source.html#l00082">Instruction.cpp:82</a></div></div>
<div class="ttc" id="aclassllvm_1_1MapVector_html_a6b0c3e15c351ba9682837c29b0a141b6"><div class="ttname"><a href="classllvm_1_1MapVector.html#a6b0c3e15c351ba9682837c29b0a141b6">llvm::MapVector::find</a></div><div class="ttdeci">iterator find(const KeyT &amp;Key)</div><div class="ttdef"><b>Definition:</b> <a href="MapVector_8h_source.html#l00148">MapVector.h:148</a></div></div>
<div class="ttc" id="aclassllvm_1_1DIExpression_html_a7cc5f1632a4c520497898439c17dc026"><div class="ttname"><a href="classllvm_1_1DIExpression.html#a7cc5f1632a4c520497898439c17dc026">llvm::DIExpression::getFragmentInfo</a></div><div class="ttdeci">static std::optional&lt; FragmentInfo &gt; getFragmentInfo(expr_op_iterator Start, expr_op_iterator End)</div><div class="ttdoc">Retrieve the details of this fragment expression.</div><div class="ttdef"><b>Definition:</b> <a href="DebugInfoMetadata_8cpp_source.html#l01555">DebugInfoMetadata.cpp:1555</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemorySSAUpdater_html"><div class="ttname"><a href="classllvm_1_1MemorySSAUpdater.html">llvm::MemorySSAUpdater</a></div><div class="ttdef"><b>Definition:</b> <a href="MemorySSAUpdater_8h_source.html#l00054">MemorySSAUpdater.h:54</a></div></div>
<div class="ttc" id="aclassllvm_1_1DbgDeclareInst_html"><div class="ttname"><a href="classllvm_1_1DbgDeclareInst.html">llvm::DbgDeclareInst</a></div><div class="ttdoc">This represents the llvm.dbg.declare instruction.</div><div class="ttdef"><b>Definition:</b> <a href="IntrinsicInst_8h_source.html#l00349">IntrinsicInst.h:349</a></div></div>
<div class="ttc" id="anamespacellvm_html_a086e9fbdb06276db7753101a08a63adf"><div class="ttname"><a href="namespacellvm.html#a086e9fbdb06276db7753101a08a63adf">llvm::find</a></div><div class="ttdeci">auto find(R &amp;&amp;Range, const T &amp;Val)</div><div class="ttdoc">Provide wrappers to std::find which take ranges instead of having to pass begin/end explicitly.</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l01755">STLExtras.h:1755</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemorySSAUpdater_html_a94cd9c4d5114d65e1cd802c23c080326"><div class="ttname"><a href="classllvm_1_1MemorySSAUpdater.html#a94cd9c4d5114d65e1cd802c23c080326">llvm::MemorySSAUpdater::changeToUnreachable</a></div><div class="ttdeci">void changeToUnreachable(const Instruction *I)</div><div class="ttdoc">Instruction I will be changed to an unreachable.</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSAUpdater_8cpp_source.html#l01408">MemorySSAUpdater.cpp:1408</a></div></div>
<div class="ttc" id="aclassllvm_1_1DbgLabelInst_html"><div class="ttname"><a href="classllvm_1_1DbgLabelInst.html">llvm::DbgLabelInst</a></div><div class="ttdoc">This represents the llvm.dbg.label instruction.</div><div class="ttdef"><b>Definition:</b> <a href="IntrinsicInst_8h_source.html#l00463">IntrinsicInst.h:463</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_abf313eff420b7c6c8e322a2e9c53cd90"><div class="ttname"><a href="classllvm_1_1Type.html#abf313eff420b7c6c8e322a2e9c53cd90">llvm::Type::isIntOrPtrTy</a></div><div class="ttdeci">bool isIntOrPtrTy() const</div><div class="ttdoc">Return true if this is an integer type or a pointer type.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00237">Type.h:237</a></div></div>
<div class="ttc" id="anamespacellvm_html_a57f0e4faf4e39fa79daf9de35b1c7244"><div class="ttname"><a href="namespacellvm.html#a57f0e4faf4e39fa79daf9de35b1c7244">llvm::canSimplifyInvokeNoUnwind</a></div><div class="ttdeci">bool canSimplifyInvokeNoUnwind(const Function *F)</div><div class="ttdef"><b>Definition:</b> <a href="EHPersonalities_8cpp_source.html#l00089">EHPersonalities.cpp:89</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantPointerNull_html_a96f5c85e4022e369266541b2db3fda69"><div class="ttname"><a href="classllvm_1_1ConstantPointerNull.html#a96f5c85e4022e369266541b2db3fda69">llvm::ConstantPointerNull::get</a></div><div class="ttdeci">static ConstantPointerNull * get(PointerType *T)</div><div class="ttdoc">Static factory methods - Return objects of the specified value.</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l01707">Constants.cpp:1707</a></div></div>
<div class="ttc" id="aTransforms_2Utils_2Local_8cpp_html_a1484fd35d5f2401ee532e8aea2aba44c"><div class="ttname"><a href="Transforms_2Utils_2Local_8cpp.html#a1484fd35d5f2401ee532e8aea2aba44c">isBitCastSemanticsPreserving</a></div><div class="ttdeci">static bool isBitCastSemanticsPreserving(const DataLayout &amp;DL, Type *FromTy, Type *ToTy)</div><div class="ttdoc">Check if a bitcast between a value of type FromTy to type ToTy would losslessly preserve the bits and...</div><div class="ttdef"><b>Definition:</b> <a href="Transforms_2Utils_2Local_8cpp_source.html#l02153">Local.cpp:2153</a></div></div>
<div class="ttc" id="aclassllvm_1_1PHINode_html_a089cccb6f231efee72abc76d0f9c695f"><div class="ttname"><a href="classllvm_1_1PHINode.html#a089cccb6f231efee72abc76d0f9c695f">llvm::PHINode::addIncoming</a></div><div class="ttdeci">void addIncoming(Value *V, BasicBlock *BB)</div><div class="ttdoc">Add an incoming value to the end of the PHI list.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l02854">Instructions.h:2854</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_a42569041ddafba7d40243e126af07f42"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a42569041ddafba7d40243e126af07f42">llvm::PatternMatch::m_Or</a></div><div class="ttdeci">BinaryOp_match&lt; LHS, RHS, Instruction::Or &gt; m_Or(const LHS &amp;L, const RHS &amp;R)</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l01099">PatternMatch.h:1099</a></div></div>
<div class="ttc" id="aProfDataUtils_8h_html"><div class="ttname"><a href="ProfDataUtils_8h.html">ProfDataUtils.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1LLVMContext_html"><div class="ttname"><a href="classllvm_1_1LLVMContext.html">llvm::LLVMContext</a></div><div class="ttdoc">This is an important class for using LLVM in a threaded context.</div><div class="ttdef"><b>Definition:</b> <a href="LLVMContext_8h_source.html#l00067">LLVMContext.h:67</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html_a54507f01d7d06127068ee0663233511d"><div class="ttname"><a href="classllvm_1_1Instruction.html#a54507f01d7d06127068ee0663233511d">llvm::Instruction::moveAfter</a></div><div class="ttdeci">void moveAfter(Instruction *MovePos)</div><div class="ttdoc">Unlink this instruction from its current basic block and insert it into the basic block that MovePos ...</div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8cpp_source.html#l00112">Instruction.cpp:112</a></div></div>
<div class="ttc" id="anamespacellvm_1_1numbers_html_a92f4283d4e0e2ea1776894b3ae93640f"><div class="ttname"><a href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">llvm::numbers::e</a></div><div class="ttdeci">constexpr double e</div><div class="ttdef"><b>Definition:</b> <a href="MathExtras_8h_source.html#l00031">MathExtras.h:31</a></div></div>
<div class="ttc" id="aclassllvm_1_1BranchInst_html_a38df51256d4b415b6a817b5e1c6d4d36"><div class="ttname"><a href="classllvm_1_1BranchInst.html#a38df51256d4b415b6a817b5e1c6d4d36">llvm::BranchInst::Create</a></div><div class="ttdeci">static BranchInst * Create(BasicBlock *IfTrue, Instruction *InsertBefore=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l03195">Instructions.h:3195</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMap_html"><div class="ttname"><a href="classllvm_1_1DenseMap.html">llvm::DenseMap</a></div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00714">DenseMap.h:714</a></div></div>
<div class="ttc" id="aIR_2DebugInfo_8h_html"><div class="ttname"><a href="IR_2DebugInfo_8h.html">DebugInfo.h</a></div></div>
<div class="ttc" id="aMD5_8cpp_html_ac0eafdc9ee161b71e7af98af736952fd"><div class="ttname"><a href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a></div><div class="ttdeci">#define I(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00058">MD5.cpp:58</a></div></div>
<div class="ttc" id="anamespacellvm_html_a3720211f6e6389ab53734b989bfb6fce"><div class="ttname"><a href="namespacellvm.html#a3720211f6e6389ab53734b989bfb6fce">llvm::succ_begin</a></div><div class="ttdeci">Interval::succ_iterator succ_begin(Interval *I)</div><div class="ttdoc">succ_begin/succ_end - define methods so that Intervals may be used just like BasicBlocks can with the...</div><div class="ttdef"><b>Definition:</b> <a href="Interval_8h_source.html#l00099">Interval.h:99</a></div></div>
<div class="ttc" id="aclassllvm_1_1GetElementPtrInst_html"><div class="ttname"><a href="classllvm_1_1GetElementPtrInst.html">llvm::GetElementPtrInst</a></div><div class="ttdoc">an instruction for type-safe pointer arithmetic to access elements of arrays and structs</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00940">Instructions.h:940</a></div></div>
<div class="ttc" id="anamespacellvm_1_1cl_html_a10a041239ae1870cfcc064bfaa79fb65"><div class="ttname"><a href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">llvm::cl::init</a></div><div class="ttdeci">initializer&lt; Ty &gt; init(const Ty &amp;Val)</div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00445">CommandLine.h:445</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8154638df88e4eaa568b67b23d463dac"><div class="ttname"><a href="namespacellvm.html#a8154638df88e4eaa568b67b23d463dac">llvm::make_early_inc_range</a></div><div class="ttdeci">iterator_range&lt; early_inc_iterator_impl&lt; detail::IterOfRange&lt; RangeT &gt; &gt; &gt; make_early_inc_range(RangeT &amp;&amp;Range)</div><div class="ttdoc">Make a range that does early increment to allow mutation of the underlying range without disrupting i...</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l00721">STLExtras.h:721</a></div></div>
<div class="ttc" id="aDIBuilder_8h_html"><div class="ttname"><a href="DIBuilder_8h.html">DIBuilder.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_a427435d4da769ae680a8e77ef89520aa"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a427435d4da769ae680a8e77ef89520aa">llvm::PatternMatch::m_And</a></div><div class="ttdeci">BinaryOp_match&lt; LHS, RHS, Instruction::And &gt; m_And(const LHS &amp;L, const RHS &amp;R)</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l01093">PatternMatch.h:1093</a></div></div>
<div class="ttc" id="anamespacellvm_html_a4dfea19770364b880a77c3f0c1c0f67c"><div class="ttname"><a href="namespacellvm.html#a4dfea19770364b880a77c3f0c1c0f67c">llvm::insertDebugValuesForPHIs</a></div><div class="ttdeci">void insertDebugValuesForPHIs(BasicBlock *BB, SmallVectorImpl&lt; PHINode * &gt; &amp;InsertedPHIs)</div><div class="ttdoc">Propagate dbg.value intrinsics through the newly inserted PHIs.</div><div class="ttdef"><b>Definition:</b> <a href="Transforms_2Utils_2Local_8cpp_source.html#l01711">Local.cpp:1711</a></div></div>
<div class="ttc" id="anamespacellvm_html_acd1cd968cb420c82d70926920fcdc7d7"><div class="ttname"><a href="namespacellvm.html#acd1cd968cb420c82d70926920fcdc7d7">llvm::is_contained</a></div><div class="ttdeci">bool is_contained(R &amp;&amp;Range, const E &amp;Element)</div><div class="ttdoc">Wrapper function around std::find to detect if an element exists in a container.</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l01869">STLExtras.h:1869</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8813c8445d4429956ae5a3647f02fcfb"><div class="ttname"><a href="namespacellvm.html#a8813c8445d4429956ae5a3647f02fcfb">llvm::findDbgValues</a></div><div class="ttdeci">void findDbgValues(SmallVectorImpl&lt; DbgValueInst * &gt; &amp;DbgValues, Value *V)</div><div class="ttdoc">Finds the llvm.dbg.value intrinsics describing a value.</div><div class="ttdef"><b>Definition:</b> <a href="DebugInfo_8cpp_source.html#l00079">DebugInfo.cpp:79</a></div></div>
<div class="ttc" id="anamespacellvm_html_a87ef919ea907189c22b74f604a645b40"><div class="ttname"><a href="namespacellvm.html#a87ef919ea907189c22b74f604a645b40">llvm::getDebugValueLoc</a></div><div class="ttdeci">DebugLoc getDebugValueLoc(DbgVariableIntrinsic *DII)</div><div class="ttdoc">Produce a DebugLoc to use for each dbg.declare that is promoted to a dbg.value.</div><div class="ttdef"><b>Definition:</b> <a href="DebugInfo_8cpp_source.html#l00138">DebugInfo.cpp:138</a></div></div>
<div class="ttc" id="anamespacellvm_html_aab02db480f387fca92956ef1c9a01941"><div class="ttname"><a href="namespacellvm.html#aab02db480f387fca92956ef1c9a01941">llvm::simplifyInstruction</a></div><div class="ttdeci">Value * simplifyInstruction(Instruction *I, const SimplifyQuery &amp;Q, OptimizationRemarkEmitter *ORE=nullptr)</div><div class="ttdoc">See if we can compute a simplified version of this instruction.</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l06731">InstructionSimplify.cpp:6731</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html_ae8f5bf5cc06f696b52c709677df00fbf"><div class="ttname"><a href="classllvm_1_1Instruction.html#ae8f5bf5cc06f696b52c709677df00fbf">llvm::Instruction::setDebugLoc</a></div><div class="ttdeci">void setDebugLoc(DebugLoc Loc)</div><div class="ttdoc">Set the debug location information for this instruction.</div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8h_source.html#l00355">Instruction.h:355</a></div></div>
<div class="ttc" id="aTransforms_2Utils_2Local_8cpp_html_a7d068ffb71feb72ff6d1dee350ec7677"><div class="ttname"><a href="Transforms_2Utils_2Local_8cpp.html#a7d068ffb71feb72ff6d1dee350ec7677">simplifyAndDCEInstruction</a></div><div class="ttdeci">static bool simplifyAndDCEInstruction(Instruction *I, SmallSetVector&lt; Instruction *, 16 &gt; &amp;WorkList, const DataLayout &amp;DL, const TargetLibraryInfo *TLI)</div><div class="ttdef"><b>Definition:</b> <a href="Transforms_2Utils_2Local_8cpp_source.html#l00667">Local.cpp:667</a></div></div>
<div class="ttc" id="aclassllvm_1_1MDNode_html_a3c210e8905029a012df3384a7eeb63ad"><div class="ttname"><a href="classllvm_1_1MDNode.html#a3c210e8905029a012df3384a7eeb63ad">llvm::MDNode::getMostGenericTBAA</a></div><div class="ttdeci">static MDNode * getMostGenericTBAA(MDNode *A, MDNode *B)</div><div class="ttdef"><b>Definition:</b> <a href="TypeBasedAliasAnalysis_8cpp_source.html#l00477">TypeBasedAliasAnalysis.cpp:477</a></div></div>
<div class="ttc" id="anamespacellvm_html_aab4d6b37c7f97bad2b1f441dc3fd43e0"><div class="ttname"><a href="namespacellvm.html#aab4d6b37c7f97bad2b1f441dc3fd43e0">llvm::hoistAllInstructionsInto</a></div><div class="ttdeci">void hoistAllInstructionsInto(BasicBlock *DomBlock, Instruction *InsertPt, BasicBlock *BB)</div><div class="ttdoc">Hoist all of the instructions in the IfBlock to the dominant block DomBlock, by moving its instructio...</div><div class="ttdef"><b>Definition:</b> <a href="Transforms_2Utils_2Local_8cpp_source.html#l02973">Local.cpp:2973</a></div></div>
<div class="ttc" id="aclassllvm_1_1details_1_1FixedOrScalableQuantity_html_a33880aaca0ad05e5f1557f079305bde5"><div class="ttname"><a href="classllvm_1_1details_1_1FixedOrScalableQuantity.html#a33880aaca0ad05e5f1557f079305bde5">llvm::details::FixedOrScalableQuantity::getFixedValue</a></div><div class="ttdeci">constexpr ScalarTy getFixedValue() const</div><div class="ttdef"><b>Definition:</b> <a href="TypeSize_8h_source.html#l00182">TypeSize.h:182</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMapBase_html_a0c047f127ed4380a6f383d70bec4eb94"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#a0c047f127ed4380a6f383d70bec4eb94">llvm::DenseMapBase::find</a></div><div class="ttdeci">iterator find(const_arg_type_t&lt; KeyT &gt; Val)</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00150">DenseMap.h:150</a></div></div>
<div class="ttc" id="anamespacellvm_html_aa1f8f0633edd8b9a1c5ec15bb9fc5640"><div class="ttname"><a href="namespacellvm.html#aa1f8f0633edd8b9a1c5ec15bb9fc5640">llvm::computeKnownBits</a></div><div class="ttdeci">void computeKnownBits(const Value *V, KnownBits &amp;Known, const DataLayout &amp;DL, unsigned Depth=0, AssumptionCache *AC=nullptr, const Instruction *CxtI=nullptr, const DominatorTree *DT=nullptr, OptimizationRemarkEmitter *ORE=nullptr, bool UseInstrInfo=true)</div><div class="ttdoc">Determine which bits of V are known to be either zero or one and return them in the KnownZero/KnownOn...</div><div class="ttdef"><b>Definition:</b> <a href="ValueTracking_8cpp_source.html#l00186">ValueTracking.cpp:186</a></div></div>
<div class="ttc" id="astructllvm_1_1detail_1_1DenseSetEmpty_html"><div class="ttname"><a href="structllvm_1_1detail_1_1DenseSetEmpty.html">llvm::detail::DenseSetEmpty</a></div><div class="ttdef"><b>Definition:</b> <a href="DenseSet_8h_source.html#l00030">DenseSet.h:30</a></div></div>
<div class="ttc" id="aclassllvm_1_1MDNode_html_af9b9a04442e0f04f60751aca1783ff3b"><div class="ttname"><a href="classllvm_1_1MDNode.html#af9b9a04442e0f04f60751aca1783ff3b">llvm::MDNode::getMostGenericAlignmentOrDereferenceable</a></div><div class="ttdeci">static MDNode * getMostGenericAlignmentOrDereferenceable(MDNode *A, MDNode *B)</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8cpp_source.html#l01184">Metadata.cpp:1184</a></div></div>
<div class="ttc" id="aIRBuilder_8h_html"><div class="ttname"><a href="IRBuilder_8h.html">IRBuilder.h</a></div></div>
<div class="ttc" id="aSILowerControlFlow_8cpp_html_a4868c5d81c5ccc98c47aeab6244346a0"><div class="ttname"><a href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a></div><div class="ttdeci">assert(ImpDefSCC.getReg()==AMDGPU::SCC &amp;&amp;ImpDefSCC.isDef())</div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html_a2711d3bc7c6c769a8f34c7fc3937169d"><div class="ttname"><a href="classllvm_1_1Instruction.html#a2711d3bc7c6c769a8f34c7fc3937169d">llvm::Instruction::mergeDIAssignID</a></div><div class="ttdeci">void mergeDIAssignID(ArrayRef&lt; const Instruction * &gt; SourceInstructions)</div><div class="ttdoc">Merge the DIAssignID metadata from this instruction and those attached to instructions in SourceInstr...</div><div class="ttdef"><b>Definition:</b> <a href="DebugInfo_8cpp_source.html#l00901">DebugInfo.cpp:901</a></div></div>
<div class="ttc" id="anamespacestd_html_ab8424022895aee3e366fb9a32f2883cb"><div class="ttname"><a href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a></div><div class="ttdeci">void swap(llvm::BitVector &amp;LHS, llvm::BitVector &amp;RHS)</div><div class="ttdoc">Implement std::swap in terms of BitVector swap.</div><div class="ttdef"><b>Definition:</b> <a href="BitVector_8h_source.html#l00853">BitVector.h:853</a></div></div>
<div class="ttc" id="anamespacellvm_html_a24243d0f6646560894f96b01fddfc6da"><div class="ttname"><a href="namespacellvm.html#a24243d0f6646560894f96b01fddfc6da">llvm::salvageDebugInfoForDbgValues</a></div><div class="ttdeci">void salvageDebugInfoForDbgValues(Instruction &amp;I, ArrayRef&lt; DbgVariableIntrinsic * &gt; Insns)</div><div class="ttdoc">Implementation of salvageDebugInfo, applying only to instructions in Insns, rather than all debug use...</div><div class="ttdef"><b>Definition:</b> <a href="Transforms_2Utils_2Local_8cpp_source.html#l01865">Local.cpp:1865</a></div></div>
<div class="ttc" id="anamespacellvm_html_a7308003cbda988c3bf5d13197f5c26d5"><div class="ttname"><a href="namespacellvm.html#a7308003cbda988c3bf5d13197f5c26d5">llvm::wouldInstructionBeTriviallyDeadOnUnusedPaths</a></div><div class="ttdeci">bool wouldInstructionBeTriviallyDeadOnUnusedPaths(Instruction *I, const TargetLibraryInfo *TLI=nullptr)</div><div class="ttdoc">Return true if the result produced by the instruction has no side effects on any paths other than whe...</div><div class="ttdef"><b>Definition:</b> <a href="Transforms_2Utils_2Local_8cpp_source.html#l00405">Local.cpp:405</a></div></div>
<div class="ttc" id="aclassllvm_1_1ValueMap_html_a620815bfbf153caa776f5e207bd8e3c0"><div class="ttname"><a href="classllvm_1_1ValueMap.html#a620815bfbf153caa776f5e207bd8e3c0">llvm::ValueMap::insert</a></div><div class="ttdeci">std::pair&lt; iterator, bool &gt; insert(const std::pair&lt; KeyT, ValueT &gt; &amp;KV)</div><div class="ttdef"><b>Definition:</b> <a href="ValueMap_8h_source.html#l00172">ValueMap.h:172</a></div></div>
<div class="ttc" id="aTargetLibraryInfo_8cpp_html_aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053"><div class="ttname"><a href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a></div><div class="ttdeci">@ Ptr</div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8cpp_source.html#l00062">TargetLibraryInfo.cpp:62</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLibraryInfo_html_a54699e3f128acda6003afc11d3027f6c"><div class="ttname"><a href="classllvm_1_1TargetLibraryInfo.html#a54699e3f128acda6003afc11d3027f6c">llvm::TargetLibraryInfo::has</a></div><div class="ttdeci">bool has(LibFunc F) const</div><div class="ttdoc">Tests whether a library function is available.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00340">TargetLibraryInfo.h:340</a></div></div>
<div class="ttc" id="aMemDepPrinter_8cpp_html_a470d8721ad7c3b718e9daeabdaeb4700"><div class="ttname"><a href="MemDepPrinter_8cpp.html#a470d8721ad7c3b718e9daeabdaeb4700">function</a></div><div class="ttdeci">print Print MemDeps of function</div><div class="ttdef"><b>Definition:</b> <a href="MemDepPrinter_8cpp_source.html#l00082">MemDepPrinter.cpp:82</a></div></div>
<div class="ttc" id="aclassllvm_1_1DbgAssignIntrinsic_html_aef2660c212a6794faf7ec16cae82248a"><div class="ttname"><a href="classllvm_1_1DbgAssignIntrinsic.html#aef2660c212a6794faf7ec16cae82248a">llvm::DbgAssignIntrinsic::setAddress</a></div><div class="ttdeci">void setAddress(Value *V)</div><div class="ttdef"><b>Definition:</b> <a href="IntrinsicInst_8cpp_source.html#l00208">IntrinsicInst.cpp:208</a></div></div>
<div class="ttc" id="aclassllvm_1_1Module_html"><div class="ttname"><a href="classllvm_1_1Module.html">llvm::Module</a></div><div class="ttdoc">A Module instance is used to store all the information related to an LLVM module.</div><div class="ttdef"><b>Definition:</b> <a href="Module_8h_source.html#l00065">Module.h:65</a></div></div>
<div class="ttc" id="aregutils_8h_html_a8de3ed741dadc9c979a4ff17c0a9116e"><div class="ttname"><a href="regutils_8h.html#a8de3ed741dadc9c979a4ff17c0a9116e">NDEBUG</a></div><div class="ttdeci">#define NDEBUG</div><div class="ttdef"><b>Definition:</b> <a href="regutils_8h_source.html#l00048">regutils.h:48</a></div></div>
<div class="ttc" id="aclassllvm_1_1MDNode_html"><div class="ttname"><a href="classllvm_1_1MDNode.html">llvm::MDNode</a></div><div class="ttdoc">Metadata node.</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l00943">Metadata.h:943</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8dab43be03b9188d73d2f790461f767c"><div class="ttname"><a href="namespacellvm.html#a8dab43be03b9188d73d2f790461f767c">llvm::replaceDominatedUsesWith</a></div><div class="ttdeci">unsigned replaceDominatedUsesWith(Value *From, Value *To, DominatorTree &amp;DT, const BasicBlockEdge &amp;Edge)</div><div class="ttdoc">Replace each use of 'From' with 'To' if that use is dominated by the given edge.</div><div class="ttdef"><b>Definition:</b> <a href="Transforms_2Utils_2Local_8cpp_source.html#l02871">Local.cpp:2871</a></div></div>
<div class="ttc" id="anamespacellvm_html_a9784a018b2dd6a85ee8a70f5f5ab3d02"><div class="ttname"><a href="namespacellvm.html#a9784a018b2dd6a85ee8a70f5f5ab3d02">llvm::replaceAllDbgUsesWith</a></div><div class="ttdeci">bool replaceAllDbgUsesWith(Instruction &amp;From, Value &amp;To, Instruction &amp;DomPoint, DominatorTree &amp;DT)</div><div class="ttdoc">Point debug users of From to To or salvage them.</div><div class="ttdef"><b>Definition:</b> <a href="Transforms_2Utils_2Local_8cpp_source.html#l02171">Local.cpp:2171</a></div></div>
<div class="ttc" id="anamespacellvm_html_a1481db7804704b4beb48e8c2ad4c94b2"><div class="ttname"><a href="namespacellvm.html#a1481db7804704b4beb48e8c2ad4c94b2">llvm::changeToInvokeAndSplitBasicBlock</a></div><div class="ttdeci">BasicBlock * changeToInvokeAndSplitBasicBlock(CallInst *CI, BasicBlock *UnwindEdge, DomTreeUpdater *DTU=nullptr)</div><div class="ttdoc">Convert the CallInst to InvokeInst with the specified unwind edge basic block.</div><div class="ttdef"><b>Definition:</b> <a href="Transforms_2Utils_2Local_8cpp_source.html#l02335">Local.cpp:2335</a></div></div>
<div class="ttc" id="aclassllvm_1_1detail_1_1DenseSetPair_html"><div class="ttname"><a href="classllvm_1_1detail_1_1DenseSetPair.html">llvm::detail::DenseSetPair</a></div><div class="ttdef"><b>Definition:</b> <a href="DenseSet_8h_source.html#l00034">DenseSet.h:34</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallPtrSetImpl_html_a1f475b0df44ebd7169e720fa1bf9169e"><div class="ttname"><a href="classllvm_1_1SmallPtrSetImpl.html#a1f475b0df44ebd7169e720fa1bf9169e">llvm::SmallPtrSetImpl::count</a></div><div class="ttdeci">size_type count(ConstPtrType Ptr) const</div><div class="ttdoc">count - Return 1 if the specified pointer is in the set, 0 otherwise.</div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00383">SmallPtrSet.h:383</a></div></div>
<div class="ttc" id="aTransforms_2Utils_2Local_8cpp_html_ac44515e4ed365e77621ccf62bc7678b5"><div class="ttname"><a href="Transforms_2Utils_2Local_8cpp.html#ac44515e4ed365e77621ccf62bc7678b5">salvageDbgAssignAddress</a></div><div class="ttdeci">static void salvageDbgAssignAddress(DbgAssignIntrinsic *DAI)</div><div class="ttdoc">Salvage the address component of DAI.</div><div class="ttdef"><b>Definition:</b> <a href="Transforms_2Utils_2Local_8cpp_source.html#l01832">Local.cpp:1832</a></div></div>
<div class="ttc" id="aAssumeBundleBuilder_8cpp_html_afb136e0532bcaed86521b462e6538d62"><div class="ttname"><a href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a></div><div class="ttdeci">assume Assume Builder</div><div class="ttdef"><b>Definition:</b> <a href="AssumeBundleBuilder_8cpp_source.html#l00651">AssumeBundleBuilder.cpp:651</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_a24bca8838396aa81b87de8e7ac774b19"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">llvm::PatternMatch::m_Value</a></div><div class="ttdeci">class_match&lt; Value &gt; m_Value()</div><div class="ttdoc">Match an arbitrary value and ignore it.</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00076">PatternMatch.h:76</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html"><div class="ttname"><a href="classllvm_1_1APInt.html">llvm::APInt</a></div><div class="ttdoc">Class for arbitrary precision integers.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00075">APInt.h:75</a></div></div>
<div class="ttc" id="anamespacellvm_1_1NVPTX_1_1PTXLdStInstCode_html_a0c4e2aa2235abdd10d2beffa32cd9b14"><div class="ttname"><a href="namespacellvm_1_1NVPTX_1_1PTXLdStInstCode.html#a0c4e2aa2235abdd10d2beffa32cd9b14">llvm::NVPTX::PTXLdStInstCode::FromType</a></div><div class="ttdeci">FromType</div><div class="ttdef"><b>Definition:</b> <a href="NVPTX_8h_source.html#l00116">NVPTX.h:116</a></div></div>
<div class="ttc" id="aclassllvm_1_1SetVector_html_a72d928b7fc2c5f2d56c6ac0265fd9c6e"><div class="ttname"><a href="classllvm_1_1SetVector.html#a72d928b7fc2c5f2d56c6ac0265fd9c6e">llvm::SetVector&lt; T, SmallVector&lt; T, N &gt;, SmallDenseSet&lt; T, N &gt; &gt;::insert</a></div><div class="ttdeci">bool insert(const value_type &amp;X)</div><div class="ttdoc">Insert a new element into the SetVector.</div><div class="ttdef"><b>Definition:</b> <a href="SetVector_8h_source.html#l00141">SetVector.h:141</a></div></div>
<div class="ttc" id="aclassllvm_1_1detail_1_1DenseSetImpl_html_a1fbf4d66a9eeaa9ade03e8febee097ee"><div class="ttname"><a href="classllvm_1_1detail_1_1DenseSetImpl.html#a1fbf4d66a9eeaa9ade03e8febee097ee">llvm::detail::DenseSetImpl&lt; ValueT, DenseMap&lt; ValueT, detail::DenseSetEmpty, DenseMapInfo&lt; ValueT &gt;, detail::DenseSetPair&lt; ValueT &gt; &gt;, DenseMapInfo&lt; ValueT &gt; &gt;::clear</a></div><div class="ttdeci">void clear()</div><div class="ttdef"><b>Definition:</b> <a href="DenseSet_8h_source.html#l00092">DenseSet.h:92</a></div></div>
<div class="ttc" id="aTransforms_2Utils_2Local_8cpp_html_a555b9b6548c678544919e66c59543cf5"><div class="ttname"><a href="Transforms_2Utils_2Local_8cpp.html#a555b9b6548c678544919e66c59543cf5">tryEnforceAlignment</a></div><div class="ttdeci">static Align tryEnforceAlignment(Value *V, Align PrefAlign, const DataLayout &amp;DL)</div><div class="ttdoc">If the specified pointer points to an object that we control, try to modify the object's alignment to...</div><div class="ttdef"><b>Definition:</b> <a href="Transforms_2Utils_2Local_8cpp_source.html#l01391">Local.cpp:1391</a></div></div>
<div class="ttc" id="anamespacellvm_html_a51d22a1ed809d7cb1c1eb46c820c8226"><div class="ttname"><a href="namespacellvm.html#a51d22a1ed809d7cb1c1eb46c820c8226">llvm::intersectAccessGroups</a></div><div class="ttdeci">MDNode * intersectAccessGroups(const Instruction *Inst1, const Instruction *Inst2)</div><div class="ttdoc">Compute the access-group list of access groups that Inst1 and Inst2 are both in.</div><div class="ttdef"><b>Definition:</b> <a href="VectorUtils_8cpp_source.html#l00842">VectorUtils.cpp:842</a></div></div>
<div class="ttc" id="aclassllvm_1_1BlockAddress_html"><div class="ttname"><a href="classllvm_1_1BlockAddress.html">llvm::BlockAddress</a></div><div class="ttdoc">The address of a basic block.</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8h_source.html#l00875">Constants.h:875</a></div></div>
<div class="ttc" id="anamespacellvm_1_1dwarf_html_a78e9cb1527edb3cc1d1ee577257b5f0cadb24b626a6ff07a122e0df22e9857a3d"><div class="ttname"><a href="namespacellvm_1_1dwarf.html#a78e9cb1527edb3cc1d1ee577257b5f0cadb24b626a6ff07a122e0df22e9857a3d">llvm::dwarf::DW_OP_LLVM_arg</a></div><div class="ttdeci">@ DW_OP_LLVM_arg</div><div class="ttdoc">Only used in LLVM metadata.</div><div class="ttdef"><b>Definition:</b> <a href="Dwarf_8h_source.html#l00146">Dwarf.h:146</a></div></div>
<div class="ttc" id="aTransforms_2Utils_2Local_8cpp_html_a39477219114de75254017cf66a7a5fe6"><div class="ttname"><a href="Transforms_2Utils_2Local_8cpp.html#a39477219114de75254017cf66a7a5fe6">getSalvageOpsForBinOp</a></div><div class="ttdeci">Value * getSalvageOpsForBinOp(BinaryOperator *BI, uint64_t CurrentLocOps, SmallVectorImpl&lt; uint64_t &gt; &amp;Opcodes, SmallVectorImpl&lt; Value * &gt; &amp;AdditionalValues)</div><div class="ttdef"><b>Definition:</b> <a href="Transforms_2Utils_2Local_8cpp_source.html#l02000">Local.cpp:2000</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallPtrSetImplBase_html_a16413f1a88d8baca228d0a1b4cc0bfc6"><div class="ttname"><a href="classllvm_1_1SmallPtrSetImplBase.html#a16413f1a88d8baca228d0a1b4cc0bfc6">llvm::SmallPtrSetImplBase::clear</a></div><div class="ttdeci">void clear()</div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00095">SmallPtrSet.h:95</a></div></div>
<div class="ttc" id="anamespacellvm_1_1Sched_html_ac1547cccaf660851fcd6863d1e60309eac13545a6345c7d5b3c9cc8932ad3b0e9"><div class="ttname"><a href="namespacellvm_1_1Sched.html#ac1547cccaf660851fcd6863d1e60309eac13545a6345c7d5b3c9cc8932ad3b0e9">llvm::Sched::Source</a></div><div class="ttdeci">@ Source</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l00100">TargetLowering.h:100</a></div></div>
<div class="ttc" id="aclassllvm_1_1ArrayRef_html"><div class="ttname"><a href="classllvm_1_1ArrayRef.html">llvm::ArrayRef</a></div><div class="ttdoc">ArrayRef - Represent a constant reference to an array (0 or more elements consecutively in memory),...</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00033">APInt.h:33</a></div></div>
<div class="ttc" id="anamespacellvm_html_a627b2f86ac433d829482d5a5a0f50668"><div class="ttname"><a href="namespacellvm.html#a627b2f86ac433d829482d5a5a0f50668">llvm::isInstructionTriviallyDead</a></div><div class="ttdeci">bool isInstructionTriviallyDead(Instruction *I, const TargetLibraryInfo *TLI=nullptr)</div><div class="ttdoc">Return true if the result produced by the instruction is not used, and the instruction will return.</div><div class="ttdef"><b>Definition:</b> <a href="Transforms_2Utils_2Local_8cpp_source.html#l00398">Local.cpp:398</a></div></div>
<div class="ttc" id="aclassllvm_1_1BinaryOperator_html"><div class="ttname"><a href="classllvm_1_1BinaryOperator.html">llvm::BinaryOperator</a></div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00187">InstrTypes.h:187</a></div></div>
<div class="ttc" id="aclassllvm_1_1SetVector_html_a3499f6a24500afba2c318295ad2d2d05"><div class="ttname"><a href="classllvm_1_1SetVector.html#a3499f6a24500afba2c318295ad2d2d05">llvm::SetVector&lt; T, SmallVector&lt; T, N &gt;, SmallDenseSet&lt; T, N &gt; &gt;::pop_back_val</a></div><div class="ttdeci">T pop_back_val()</div><div class="ttdef"><b>Definition:</b> <a href="SetVector_8h_source.html#l00225">SetVector.h:225</a></div></div>
<div class="ttc" id="aclassllvm_1_1MapVector_html_a9318649185cfc66ba4b4eb66d5968e00"><div class="ttname"><a href="classllvm_1_1MapVector.html#a9318649185cfc66ba4b4eb66d5968e00">llvm::MapVector::insert</a></div><div class="ttdeci">std::pair&lt; iterator, bool &gt; insert(const std::pair&lt; KeyT, ValueT &gt; &amp;KV)</div><div class="ttdef"><b>Definition:</b> <a href="MapVector_8h_source.html#l00118">MapVector.h:118</a></div></div>
<div class="ttc" id="anamespacellvm_html_a57f2ca0e57f4f7b13f56f9aa16af3e0d"><div class="ttname"><a href="namespacellvm.html#a57f2ca0e57f4f7b13f56f9aa16af3e0d">llvm::min</a></div><div class="ttdeci">Expected&lt; ExpressionValue &gt; min(const ExpressionValue &amp;Lhs, const ExpressionValue &amp;Rhs)</div><div class="ttdef"><b>Definition:</b> <a href="FileCheck_8cpp_source.html#l00357">FileCheck.cpp:357</a></div></div>
<div class="ttc" id="aX86PartialReduction_8cpp_html_ae0f503db91504a3f3440ab81260e4134"><div class="ttname"><a href="X86PartialReduction_8cpp.html#ae0f503db91504a3f3440ab81260e4134">Mul</a></div><div class="ttdeci">BinaryOperator * Mul</div><div class="ttdef"><b>Definition:</b> <a href="X86PartialReduction_8cpp_source.html#l00070">X86PartialReduction.cpp:70</a></div></div>
<div class="ttc" id="anamespacellvm_html_a61d13d6824ec46c31260a4fd0997eda0"><div class="ttname"><a href="namespacellvm.html#a61d13d6824ec46c31260a4fd0997eda0">llvm::any_of</a></div><div class="ttdeci">bool any_of(R &amp;&amp;range, UnaryPredicate P)</div><div class="ttdoc">Provide wrappers to std::any_of which take ranges instead of having to pass begin/end explicitly.</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l01742">STLExtras.h:1742</a></div></div>
<div class="ttc" id="aclassllvm_1_1BasicBlock_html_a507bb47fc498540c91fec0bf95c25907"><div class="ttname"><a href="classllvm_1_1BasicBlock.html#a507bb47fc498540c91fec0bf95c25907">llvm::BasicBlock::moveAfter</a></div><div class="ttdeci">void moveAfter(BasicBlock *MovePos)</div><div class="ttdoc">Unlink this basic block from its current function and insert it right after MovePos in the function M...</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8cpp_source.html#l00141">BasicBlock.cpp:141</a></div></div>
<div class="ttc" id="aDataLayout_8h_html"><div class="ttname"><a href="DataLayout_8h.html">DataLayout.h</a></div></div>
<div class="ttc" id="aBasicBlockSections_8cpp_html_a5fd0741d696f28faf65b33f6c6af8fda"><div class="ttname"><a href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a></div><div class="ttdeci">SmallVector&lt; MachineOperand, 4 &gt; Cond</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlockSections_8cpp_source.html#l00137">BasicBlockSections.cpp:137</a></div></div>
<div class="ttc" id="aDwarf_8h_html"><div class="ttname"><a href="Dwarf_8h.html">Dwarf.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1DbgVariableIntrinsic_html_ad00657bed806e5e3e4f3a55e48c97023"><div class="ttname"><a href="classllvm_1_1DbgVariableIntrinsic.html#ad00657bed806e5e3e4f3a55e48c97023">llvm::DbgVariableIntrinsic::getFragmentSizeInBits</a></div><div class="ttdeci">std::optional&lt; uint64_t &gt; getFragmentSizeInBits() const</div><div class="ttdoc">Get the size (in bits) of the variable, or fragment of the variable that is described.</div><div class="ttdef"><b>Definition:</b> <a href="IntrinsicInst_8cpp_source.html#l00188">IntrinsicInst.cpp:188</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_adea6dc2e42baa345b97be48b0370313d"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#adea6dc2e42baa345b97be48b0370313d">llvm::PatternMatch::m_Undef</a></div><div class="ttdeci">auto m_Undef()</div><div class="ttdoc">Match an arbitrary undef constant.</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00136">PatternMatch.h:136</a></div></div>
<div class="ttc" id="aclassllvm_1_1AssumptionCache_html"><div class="ttname"><a href="classllvm_1_1AssumptionCache.html">llvm::AssumptionCache</a></div><div class="ttdoc">A cache of @llvm.assume calls within a function.</div><div class="ttdef"><b>Definition:</b> <a href="AssumptionCache_8h_source.html#l00042">AssumptionCache.h:42</a></div></div>
<div class="ttc" id="aSupport_2ErrorHandling_8h_html_ace243f5c25697a1107cce46626b3dc94"><div class="ttname"><a href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a></div><div class="ttdeci">#define llvm_unreachable(msg)</div><div class="ttdoc">Marks that the current location is not supposed to be reachable.</div><div class="ttdef"><b>Definition:</b> <a href="Support_2ErrorHandling_8h_source.html#l00143">ErrorHandling.h:143</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_a6393a2d4fe7e10b28a0dcc35f881567b"><div class="ttname"><a href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">llvm::Value::getType</a></div><div class="ttdeci">Type * getType() const</div><div class="ttdoc">All values are typed, get the type of this value.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00255">Value.h:255</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_a3ab5fc45117b450e8bb04e564cb6e5f2"><div class="ttname"><a href="classllvm_1_1Value.html#a3ab5fc45117b450e8bb04e564cb6e5f2">llvm::Value::replaceAllUsesWith</a></div><div class="ttdeci">void replaceAllUsesWith(Value *V)</div><div class="ttdoc">Change all uses of this to point to a new Value.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8cpp_source.html#l00532">Value.cpp:532</a></div></div>
<div class="ttc" id="aclassllvm_1_1BasicBlock_html_ace940beeee97c222f836fe0ac70f6cf5"><div class="ttname"><a href="classllvm_1_1BasicBlock.html#ace940beeee97c222f836fe0ac70f6cf5">llvm::BasicBlock::Create</a></div><div class="ttdeci">static BasicBlock * Create(LLVMContext &amp;Context, const Twine &amp;Name=&quot;&quot;, Function *Parent=nullptr, BasicBlock *InsertBefore=nullptr)</div><div class="ttdoc">Creates a new BasicBlock.</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8h_source.html#l00105">BasicBlock.h:105</a></div></div>
<div class="ttc" id="aBasicAliasAnalysis_8cpp_html_a2675de1d8479c7b00387979714da43f7"><div class="ttname"><a href="BasicAliasAnalysis_8cpp.html#a2675de1d8479c7b00387979714da43f7">getParent</a></div><div class="ttdeci">static const Function * getParent(const Value *V)</div><div class="ttdef"><b>Definition:</b> <a href="BasicAliasAnalysis_8cpp_source.html#l00806">BasicAliasAnalysis.cpp:806</a></div></div>
<div class="ttc" id="aclassuint32__t_html"><div class="ttname"><a href="classuint32__t.html">uint32_t</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_ab3fc0225d8aaf8434026c3573f961f2c"><div class="ttname"><a href="classllvm_1_1Value.html#ab3fc0225d8aaf8434026c3573f961f2c">llvm::Value::getContext</a></div><div class="ttdeci">LLVMContext &amp; getContext() const</div><div class="ttdoc">All values hold a context through their type.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8cpp_source.html#l00994">Value.cpp:994</a></div></div>
<div class="ttc" id="aclassllvm_1_1MDNode_html_a088247f165cc7e2ca9a3917adc0e75df"><div class="ttname"><a href="classllvm_1_1MDNode.html#a088247f165cc7e2ca9a3917adc0e75df">llvm::MDNode::getMostGenericAliasScope</a></div><div class="ttdeci">static MDNode * getMostGenericAliasScope(MDNode *A, MDNode *B)</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8cpp_source.html#l01032">Metadata.cpp:1032</a></div></div>
<div class="ttc" id="aclassllvm_1_1AllocaInst_html_aea74164514e7164813ab30bcc4b7c557"><div class="ttname"><a href="classllvm_1_1AllocaInst.html#aea74164514e7164813ab30bcc4b7c557">llvm::AllocaInst::isArrayAllocation</a></div><div class="ttdeci">bool isArrayAllocation() const</div><div class="ttdoc">Return true if there is an allocation size parameter to the allocation instruction that is not 1.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8cpp_source.html#l01508">Instructions.cpp:1508</a></div></div>
<div class="ttc" id="aclassllvm_1_1ilist__node__impl_html_af719fc783be6589465137d997701a432"><div class="ttname"><a href="classllvm_1_1ilist__node__impl.html#af719fc783be6589465137d997701a432">llvm::ilist_node_impl::getIterator</a></div><div class="ttdeci">self_iterator getIterator()</div><div class="ttdef"><b>Definition:</b> <a href="ilist__node_8h_source.html#l00082">ilist_node.h:82</a></div></div>
<div class="ttc" id="aAArch64SLSHardening_8cpp_html_ad467c4ab9119043f9b7750ab986be61a"><div class="ttname"><a href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a></div><div class="ttdeci">MachineBasicBlock MachineBasicBlock::iterator DebugLoc DL</div><div class="ttdef"><b>Definition:</b> <a href="AArch64SLSHardening_8cpp_source.html#l00076">AArch64SLSHardening.cpp:76</a></div></div>
<div class="ttc" id="aclassllvm_1_1DbgAssignIntrinsic_html"><div class="ttname"><a href="classllvm_1_1DbgAssignIntrinsic.html">llvm::DbgAssignIntrinsic</a></div><div class="ttdoc">This represents the llvm.dbg.assign instruction.</div><div class="ttdef"><b>Definition:</b> <a href="IntrinsicInst_8h_source.html#l00412">IntrinsicInst.h:412</a></div></div>
<div class="ttc" id="aConstantRange_8h_html"><div class="ttname"><a href="ConstantRange_8h.html">ConstantRange.h</a></div></div>
<div class="ttc" id="anamespacellvm_html_a6c402f49fa595af618c5ad1500565d92"><div class="ttname"><a href="namespacellvm.html#a6c402f49fa595af618c5ad1500565d92">llvm::recognizeBSwapOrBitReverseIdiom</a></div><div class="ttdeci">bool recognizeBSwapOrBitReverseIdiom(Instruction *I, bool MatchBSwaps, bool MatchBitReversals, SmallVectorImpl&lt; Instruction * &gt; &amp;InsertedInsts)</div><div class="ttdoc">Try to match a bswap or bitreverse idiom.</div><div class="ttdef"><b>Definition:</b> <a href="Transforms_2Utils_2Local_8cpp_source.html#l03299">Local.cpp:3299</a></div></div>
<div class="ttc" id="alib_2Target_2ARM_2README_8txt_html_a1b45f45820a60c09244a87eb59824aec"><div class="ttname"><a href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a></div><div class="ttdeci">add sub stmia L5 ldr r0 bl L_printf $stub Instead of a and a wouldn t it be better to do three moves *Return an aggregate type is even return S</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2ARM_2README_8txt_source.html#l00210">README.txt:210</a></div></div>
<div class="ttc" id="aEarlyCSE_8cpp_html_aa60423084fe7d27af0ffbba889cbdf1a"><div class="ttname"><a href="EarlyCSE_8cpp.html#aa60423084fe7d27af0ffbba889cbdf1a">isEqualImpl</a></div><div class="ttdeci">static bool isEqualImpl(SimpleValue LHS, SimpleValue RHS)</div><div class="ttdef"><b>Definition:</b> <a href="EarlyCSE_8cpp_source.html#l00339">EarlyCSE.cpp:339</a></div></div>
<div class="ttc" id="anamespacellvm_html_ae63427c4d8f3c1ce48401b38ed9198f1"><div class="ttname"><a href="namespacellvm.html#ae63427c4d8f3c1ce48401b38ed9198f1">llvm::maybeMarkSanitizerLibraryCallNoBuiltin</a></div><div class="ttdeci">void maybeMarkSanitizerLibraryCallNoBuiltin(CallInst *CI, const TargetLibraryInfo *TLI)</div><div class="ttdoc">Given a CallInst, check if it calls a string function known to CodeGen, and mark it with NoBuiltin if...</div><div class="ttdef"><b>Definition:</b> <a href="Transforms_2Utils_2Local_8cpp_source.html#l03400">Local.cpp:3400</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_adb5c319f5905c1d3ca9eb5df546388c5"><div class="ttname"><a href="classllvm_1_1Value.html#adb5c319f5905c1d3ca9eb5df546388c5">llvm::Value::getName</a></div><div class="ttdeci">StringRef getName() const</div><div class="ttdoc">Return a constant reference to the value's name.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8cpp_source.html#l00308">Value.cpp:308</a></div></div>
<div class="ttc" id="aclassllvm_1_1ValueMap_html"><div class="ttname"><a href="classllvm_1_1ValueMap.html">llvm::ValueMap&lt; const Value *, WeakTrackingVH &gt;</a></div></div>
<div class="ttc" id="alib_2Target_2README_8txt_html_a7df6ed7588301267782c2bd4b7f6899d"><div class="ttname"><a href="lib_2Target_2README_8txt.html#a7df6ed7588301267782c2bd4b7f6899d">for</a></div><div class="ttdeci">this could be done in SelectionDAGISel along with other special for</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2README_8txt_source.html#l00104">README.txt:104</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoadInst_html"><div class="ttname"><a href="classllvm_1_1LoadInst.html">llvm::LoadInst</a></div><div class="ttdoc">An instruction for reading from memory.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00177">Instructions.h:177</a></div></div>
<div class="ttc" id="aValueHandle_8h_html"><div class="ttname"><a href="ValueHandle_8h.html">ValueHandle.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMapBase_html_a99f811d53704275b4158c62a2dd138d9"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#a99f811d53704275b4158c62a2dd138d9">llvm::DenseMapBase::insert</a></div><div class="ttdeci">std::pair&lt; iterator, bool &gt; insert(const std::pair&lt; KeyT, ValueT &gt; &amp;KV)</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00207">DenseMap.h:207</a></div></div>
<div class="ttc" id="anamespacellvm_1_1Intrinsic_html_aefa39f6b622360ce4e947feb9f671b73"><div class="ttname"><a href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">llvm::Intrinsic::getDeclaration</a></div><div class="ttdeci">Function * getDeclaration(Module *M, ID id, ArrayRef&lt; Type * &gt; Tys=std::nullopt)</div><div class="ttdoc">Create or insert an LLVM Function declaration for an intrinsic, and return it.</div><div class="ttdef"><b>Definition:</b> <a href="Function_8cpp_source.html#l01502">Function.cpp:1502</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_a155466c9ea0a2bd00e09c62fdce2c052"><div class="ttname"><a href="classllvm_1_1APInt.html#a155466c9ea0a2bd00e09c62fdce2c052">llvm::APInt::clearBit</a></div><div class="ttdeci">void clearBit(unsigned BitPosition)</div><div class="ttdoc">Set a given bit to 0.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l01385">APInt.h:1385</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_a966eb231e7d4e572874d2cb49b18faea"><div class="ttname"><a href="classllvm_1_1Value.html#a966eb231e7d4e572874d2cb49b18faea">llvm::Value::stripPointerCasts</a></div><div class="ttdeci">const Value * stripPointerCasts() const</div><div class="ttdoc">Strip off pointer casts, all-zero GEPs and address space casts.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8cpp_source.html#l00685">Value.cpp:685</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallPtrSetImplBase_html_a0e1c3175b0ac22fe3853651c28e1ecb8"><div class="ttname"><a href="classllvm_1_1SmallPtrSetImplBase.html#a0e1c3175b0ac22fe3853651c28e1ecb8">llvm::SmallPtrSetImplBase::size</a></div><div class="ttdeci">size_type size() const</div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00093">SmallPtrSet.h:93</a></div></div>
<div class="ttc" id="anamespacellvm_html_ab5dbbd2f6fe6ff78b5f809228236eb0d"><div class="ttname"><a href="namespacellvm.html#ab5dbbd2f6fe6ff78b5f809228236eb0d">llvm::replaceDbgValueForAlloca</a></div><div class="ttdeci">void replaceDbgValueForAlloca(AllocaInst *AI, Value *NewAllocaAddress, DIBuilder &amp;Builder, int Offset=0)</div><div class="ttdoc">Replaces multiple llvm.dbg.value instructions when the alloca it describes is replaced with a new val...</div><div class="ttdef"><b>Definition:</b> <a href="Transforms_2Utils_2Local_8cpp_source.html#l01814">Local.cpp:1814</a></div></div>
<div class="ttc" id="anamespacellvm_html_a6da87e96231847cc11de9fd5d5020d40"><div class="ttname"><a href="namespacellvm.html#a6da87e96231847cc11de9fd5d5020d40">llvm::getValidBranchWeightMDNode</a></div><div class="ttdeci">MDNode * getValidBranchWeightMDNode(const Instruction &amp;I)</div><div class="ttdoc">Get the valid branch weights metadata node.</div><div class="ttdef"><b>Definition:</b> <a href="ProfDataUtils_8cpp_source.html#l00115">ProfDataUtils.cpp:115</a></div></div>
<div class="ttc" id="aclassllvm_1_1MapVector_html_a0881334358ff6ff7ff8cea5562c7988e"><div class="ttname"><a href="classllvm_1_1MapVector.html#a0881334358ff6ff7ff8cea5562c7988e">llvm::MapVector::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="MapVector_8h_source.html#l00072">MapVector.h:72</a></div></div>
<div class="ttc" id="aTransforms_2Utils_2Local_8cpp_html_a86d26e60cc16331137a491fdcd7744a3"><div class="ttname"><a href="Transforms_2Utils_2Local_8cpp.html#a86d26e60cc16331137a491fdcd7744a3">areAllUsesEqual</a></div><div class="ttdeci">static bool areAllUsesEqual(Instruction *I)</div><div class="ttdoc">areAllUsesEqual - Check whether the uses of a value are all the same.</div><div class="ttdef"><b>Definition:</b> <a href="Transforms_2Utils_2Local_8cpp_source.html#l00626">Local.cpp:626</a></div></div>
<div class="ttc" id="aArgument_8h_html"><div class="ttname"><a href="Argument_8h.html">Argument.h</a></div></div>
<div class="ttc" id="aAMDGPULibCalls_8cpp_html_a537c835c34f0b44b6ad2696643754390"><div class="ttname"><a href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a></div><div class="ttdeci">amdgpu Simplify well known AMD library false FunctionCallee Callee</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPULibCalls_8cpp_source.html#l00187">AMDGPULibCalls.cpp:187</a></div></div>
<div class="ttc" id="aclassllvm_1_1BasicBlock_html_aa286a0f7f5d38488d593bb7ef0ba183e"><div class="ttname"><a href="classllvm_1_1BasicBlock.html#aa286a0f7f5d38488d593bb7ef0ba183e">llvm::BasicBlock::getContext</a></div><div class="ttdeci">LLVMContext &amp; getContext() const</div><div class="ttdoc">Get the context in which this basic block lives.</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8cpp_source.html#l00035">BasicBlock.cpp:35</a></div></div>
<div class="ttc" id="anamespacellvm_html_aed498f056a09006219c59ee9fab0450f"><div class="ttname"><a href="namespacellvm.html#aed498f056a09006219c59ee9fab0450f">llvm::EliminateDuplicatePHINodes</a></div><div class="ttdeci">bool EliminateDuplicatePHINodes(BasicBlock *BB)</div><div class="ttdoc">Check for and eliminate duplicate PHI nodes in this block.</div><div class="ttdef"><b>Definition:</b> <a href="Transforms_2Utils_2Local_8cpp_source.html#l01374">Local.cpp:1374</a></div></div>
<div class="ttc" id="anamespacellvm_html_a83cbd0aa1465957c50eaea8374875b27"><div class="ttname"><a href="namespacellvm.html#a83cbd0aa1465957c50eaea8374875b27">llvm::removeUnwindEdge</a></div><div class="ttdeci">Instruction * removeUnwindEdge(BasicBlock *BB, DomTreeUpdater *DTU=nullptr)</div><div class="ttdoc">Replace 'BB's terminator with one that does not have an unwind successor block.</div><div class="ttdef"><b>Definition:</b> <a href="Transforms_2Utils_2Local_8cpp_source.html#l02576">Local.cpp:2576</a></div></div>
<div class="ttc" id="aAttributes_8h_html"><div class="ttname"><a href="Attributes_8h.html">Attributes.h</a></div></div>
<div class="ttc" id="aTransforms_2Utils_2Local_8cpp_html_ad7b52d9083e5a132f32613644f3b39b9"><div class="ttname"><a href="Transforms_2Utils_2Local_8cpp.html#ad7b52d9083e5a132f32613644f3b39b9">redirectValuesFromPredecessorsToPhi</a></div><div class="ttdeci">static void redirectValuesFromPredecessorsToPhi(BasicBlock *BB, const PredBlockVector &amp;BBPreds, PHINode *PN)</div><div class="ttdoc">Replace a value flowing from a block to a phi with potentially multiple instances of that value flowi...</div><div class="ttdef"><b>Definition:</b> <a href="Transforms_2Utils_2Local_8cpp_source.html#l01015">Local.cpp:1015</a></div></div>
<div class="ttc" id="aclassllvm_1_1MapVector_html_a8da97c44f514ad1ae9ccf4518b0f88aa"><div class="ttname"><a href="classllvm_1_1MapVector.html#a8da97c44f514ad1ae9ccf4518b0f88aa">llvm::MapVector::empty</a></div><div class="ttdeci">bool empty() const</div><div class="ttdef"><b>Definition:</b> <a href="MapVector_8h_source.html#l00080">MapVector.h:80</a></div></div>
<div class="ttc" id="aclassllvm_1_1User_html_a5d1730a173d0a69624b80e1e22e6d225"><div class="ttname"><a href="classllvm_1_1User.html#a5d1730a173d0a69624b80e1e22e6d225">llvm::User::value_op_end</a></div><div class="ttdeci">value_op_iterator value_op_end()</div><div class="ttdef"><b>Definition:</b> <a href="User_8h_source.html#l00263">User.h:263</a></div></div>
<div class="ttc" id="aConstant_8h_html"><div class="ttname"><a href="Constant_8h.html">Constant.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1PHINode_html_a47670479395f375c7501109d25cb475f"><div class="ttname"><a href="classllvm_1_1PHINode.html#a47670479395f375c7501109d25cb475f">llvm::PHINode::block_begin</a></div><div class="ttdeci">const_block_iterator block_begin() const</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l02772">Instructions.h:2772</a></div></div>
<div class="ttc" id="aclassllvm_1_1DIExpression_html_a272fe723d8c234f2137d34621a5cef78"><div class="ttname"><a href="classllvm_1_1DIExpression.html#a272fe723d8c234f2137d34621a5cef78">llvm::DIExpression::appendOffset</a></div><div class="ttdeci">static void appendOffset(SmallVectorImpl&lt; uint64_t &gt; &amp;Ops, int64_t Offset)</div><div class="ttdoc">Append Ops with operations to apply the Offset.</div><div class="ttdef"><b>Definition:</b> <a href="DebugInfoMetadata_8cpp_source.html#l01564">DebugInfoMetadata.cpp:1564</a></div></div>
<div class="ttc" id="anamespacellvm_html_a152d8c380cc937c9dceb402ceec943b6"><div class="ttname"><a href="namespacellvm.html#a152d8c380cc937c9dceb402ceec943b6">llvm::ConstantFoldTerminator</a></div><div class="ttdeci">bool ConstantFoldTerminator(BasicBlock *BB, bool DeleteDeadConditions=false, const TargetLibraryInfo *TLI=nullptr, DomTreeUpdater *DTU=nullptr)</div><div class="ttdoc">If a terminator instruction is predicated on a constant value, convert it into an unconditional branc...</div><div class="ttdef"><b>Definition:</b> <a href="Transforms_2Utils_2Local_8cpp_source.html#l00126">Local.cpp:126</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html_afe61be671b7569dcff028bb1d0303c3d"><div class="ttname"><a href="classllvm_1_1Instruction.html#afe61be671b7569dcff028bb1d0303c3d">llvm::Instruction::dropUnknownNonDebugMetadata</a></div><div class="ttdeci">void dropUnknownNonDebugMetadata(ArrayRef&lt; unsigned &gt; KnownIDs)</div><div class="ttdoc">Drop all unknown metadata except for debug locations.</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8cpp_source.html#l01401">Metadata.cpp:1401</a></div></div>
<div class="ttc" id="aclassllvm_1_1DIExpression_html_ac687b806c1ee6f3e560b206de208a7e3"><div class="ttname"><a href="classllvm_1_1DIExpression.html#ac687b806c1ee6f3e560b206de208a7e3">llvm::DIExpression::appendExt</a></div><div class="ttdeci">static DIExpression * appendExt(const DIExpression *Expr, unsigned FromSize, unsigned ToSize, bool Signed)</div><div class="ttdoc">Append a zero- or sign-extension to Expr.</div><div class="ttdef"><b>Definition:</b> <a href="DebugInfoMetadata_8cpp_source.html#l01944">DebugInfoMetadata.cpp:1944</a></div></div>
<div class="ttc" id="astructllvm_1_1KnownBits_html"><div class="ttname"><a href="structllvm_1_1KnownBits.html">llvm::KnownBits</a></div><div class="ttdef"><b>Definition:</b> <a href="KnownBits_8h_source.html#l00023">KnownBits.h:23</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_acaf8e4c3e40e01e848c1fad5f05b81cd"><div class="ttname"><a href="classllvm_1_1Type.html#acaf8e4c3e40e01e848c1fad5f05b81cd">llvm::Type::getIntNTy</a></div><div class="ttdeci">static IntegerType * getIntNTy(LLVMContext &amp;C, unsigned N)</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00245">Type.cpp:245</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_acd2fbee42afeb868be98aaae56528636"><div class="ttname"><a href="classllvm_1_1Value.html#acd2fbee42afeb868be98aaae56528636">llvm::Value::user_iterator</a></div><div class="ttdeci">user_iterator_impl&lt; User &gt; user_iterator</div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00390">Value.h:390</a></div></div>
<div class="ttc" id="anamespacellvm_html_a1eb5609345b906d024fbf9e4bc1adc06add2496ae8d635f9f169602771c88d376"><div class="ttname"><a href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06add2496ae8d635f9f169602771c88d376">llvm::Successor</a></div><div class="ttdeci">@ Successor</div><div class="ttdef"><b>Definition:</b> <a href="SIMachineScheduler_8h_source.html#l00035">SIMachineScheduler.h:35</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMapBase_html_a65520b9c67759099e313d0f4e7b5ff9e"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#a65520b9c67759099e313d0f4e7b5ff9e">llvm::DenseMapBase::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00084">DenseMap.h:84</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantExpr_html_ae6f1c15034bc5515033874630a8ecce6"><div class="ttname"><a href="classllvm_1_1ConstantExpr.html#ae6f1c15034bc5515033874630a8ecce6">llvm::ConstantExpr::getAdd</a></div><div class="ttdeci">static Constant * getAdd(Constant *C1, Constant *C2, bool HasNUW=false, bool HasNSW=false)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l02657">Constants.cpp:2657</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_a34ee40bb2f4f5ece47ef19e5f1f57e3c"><div class="ttname"><a href="classllvm_1_1Type.html#a34ee40bb2f4f5ece47ef19e5f1f57e3c">llvm::Type::isIntOrIntVectorTy</a></div><div class="ttdeci">bool isIntOrIntVectorTy() const</div><div class="ttdoc">Return true if this is an integer type or a vector of integer types.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00228">Type.h:228</a></div></div>
<div class="ttc" id="anamespacellvm_html_a5eeaf08e96168c2cac8960f87f0ef360"><div class="ttname"><a href="namespacellvm.html#a5eeaf08e96168c2cac8960f87f0ef360">llvm::pred_end</a></div><div class="ttdeci">Interval::pred_iterator pred_end(Interval *I)</div><div class="ttdef"><b>Definition:</b> <a href="Interval_8h_source.html#l00112">Interval.h:112</a></div></div>
<div class="ttc" id="aTransforms_2Utils_2Local_8cpp_html_ae4472b174c2d3bf50fc5883319a48108"><div class="ttname"><a href="Transforms_2Utils_2Local_8cpp.html#ae4472b174c2d3bf50fc5883319a48108">PHICSEDebugHash</a></div><div class="ttdeci">static cl::opt&lt; bool &gt; PHICSEDebugHash(&quot;phicse-debug-hash&quot;, cl::init(false), cl::Hidden, cl::desc(&quot;Perform extra assertion checking to verify that PHINodes's hash &quot; &quot;function is well-behaved w.r.t. its isEqual predicate&quot;))</div></div>
<div class="ttc" id="aclassllvm_1_1TypeSize_html"><div class="ttname"><a href="classllvm_1_1TypeSize.html">llvm::TypeSize</a></div><div class="ttdef"><b>Definition:</b> <a href="TypeSize_8h_source.html#l00314">TypeSize.h:314</a></div></div>
<div class="ttc" id="anamespacellvm_html_a99356c6b92999b95181b5d79c03868ee"><div class="ttname"><a href="namespacellvm.html#a99356c6b92999b95181b5d79c03868ee">llvm::salvageDebugInfoImpl</a></div><div class="ttdeci">Value * salvageDebugInfoImpl(Instruction &amp;I, uint64_t CurrentLocOps, SmallVectorImpl&lt; uint64_t &gt; &amp;Ops, SmallVectorImpl&lt; Value * &gt; &amp;AdditionalValues)</div><div class="ttdef"><b>Definition:</b> <a href="Transforms_2Utils_2Local_8cpp_source.html#l02039">Local.cpp:2039</a></div></div>
<div class="ttc" id="aCasting_8h_html"><div class="ttname"><a href="Casting_8h.html">Casting.h</a></div></div>
<div class="ttc" id="aTransforms_2Utils_2Local_8cpp_html_a1d8447f93eb6fa9a16e37d2e44319463"><div class="ttname"><a href="Transforms_2Utils_2Local_8cpp.html#a1d8447f93eb6fa9a16e37d2e44319463">PHICSENumPHISmallSize</a></div><div class="ttdeci">static cl::opt&lt; unsigned &gt; PHICSENumPHISmallSize(&quot;phicse-num-phi-smallsize&quot;, cl::init(32), cl::Hidden, cl::desc(&quot;When the basic block contains not more than this number of PHI nodes, &quot; &quot;perform a (faster!) exhaustive search instead of set-driven one.&quot;))</div></div>
<div class="ttc" id="anamespacellvm_html_a2787d1134842ab0b9be8694d95ccbdd7"><div class="ttname"><a href="namespacellvm.html#a2787d1134842ab0b9be8694d95ccbdd7">llvm::isRemovableAlloc</a></div><div class="ttdeci">bool isRemovableAlloc(const CallBase *V, const TargetLibraryInfo *TLI)</div><div class="ttdoc">Return true if this is a call to an allocation function that does not have side effects that we are r...</div><div class="ttdef"><b>Definition:</b> <a href="MemoryBuiltins_8cpp_source.html#l00330">MemoryBuiltins.cpp:330</a></div></div>
<div class="ttc" id="aFunction_8h_html"><div class="ttname"><a href="Function_8h.html">Function.h</a></div></div>
<div class="ttc" id="anamespacellvm_html_abee0df5f7f703bb4462aba260ba0a60f"><div class="ttname"><a href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">llvm::BitWidth</a></div><div class="ttdeci">constexpr unsigned BitWidth</div><div class="ttdef"><b>Definition:</b> <a href="BitmaskEnum_8h_source.html#l00147">BitmaskEnum.h:147</a></div></div>
<div class="ttc" id="aTransforms_2Utils_2Local_8cpp_html_a4f3243057e017aad4e091381fa3d9d10"><div class="ttname"><a href="Transforms_2Utils_2Local_8cpp.html#a4f3243057e017aad4e091381fa3d9d10">DbgValReplacement</a></div><div class="ttdeci">std::optional&lt; DIExpression * &gt; DbgValReplacement</div><div class="ttdoc">A replacement for a dbg.value expression.</div><div class="ttdef"><b>Definition:</b> <a href="Transforms_2Utils_2Local_8cpp_source.html#l02086">Local.cpp:2086</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_a39d717dc10783ec7bd5a24111bd5b8a5"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a39d717dc10783ec7bd5a24111bd5b8a5">llvm::PatternMatch::m_BSwap</a></div><div class="ttdeci">m_Intrinsic_Ty&lt; Opnd0 &gt;::Ty m_BSwap(const Opnd0 &amp;Op0)</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l02166">PatternMatch.h:2166</a></div></div>
<div class="ttc" id="aclassllvm_1_1DbgAssignIntrinsic_html_a77fca2c3fdf25a035739378ae30ec9d8"><div class="ttname"><a href="classllvm_1_1DbgAssignIntrinsic.html#a77fca2c3fdf25a035739378ae30ec9d8">llvm::DbgAssignIntrinsic::setKillAddress</a></div><div class="ttdeci">void setKillAddress()</div><div class="ttdoc">Kill the address component.</div><div class="ttdef"><b>Definition:</b> <a href="IntrinsicInst_8cpp_source.html#l00215">IntrinsicInst.cpp:215</a></div></div>
<div class="ttc" id="aclassllvm_1_1SetVector_html_a21c2c6ae5ec23004dc4020eacf83bbce"><div class="ttname"><a href="classllvm_1_1SetVector.html#a21c2c6ae5ec23004dc4020eacf83bbce">llvm::SetVector&lt; T, SmallVector&lt; T, N &gt;, SmallDenseSet&lt; T, N &gt; &gt;::count</a></div><div class="ttdeci">size_type count(const key_type &amp;key) const</div><div class="ttdoc">Count the number of elements of a given key in the SetVector.</div><div class="ttdef"><b>Definition:</b> <a href="SetVector_8h_source.html#l00208">SetVector.h:208</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLibraryInfo_html"><div class="ttname"><a href="classllvm_1_1TargetLibraryInfo.html">llvm::TargetLibraryInfo</a></div><div class="ttdoc">Provides information about what library functions are available for the current target.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00234">TargetLibraryInfo.h:234</a></div></div>
<div class="ttc" id="aTransforms_2Utils_2Local_8cpp_html_a2a8305f7bf6d7dc8b192e257785c1fe4"><div class="ttname"><a href="Transforms_2Utils_2Local_8cpp.html#a2a8305f7bf6d7dc8b192e257785c1fe4">PhiHasDebugValue</a></div><div class="ttdeci">static bool PhiHasDebugValue(DILocalVariable *DIVar, DIExpression *DIExpr, PHINode *APN)</div><div class="ttdoc">===------------------------------------------------------------------—===// Dbg Intrinsic utilities</div><div class="ttdef"><b>Definition:</b> <a href="Transforms_2Utils_2Local_8cpp_source.html#l01469">Local.cpp:1469</a></div></div>
<div class="ttc" id="aclassllvm_1_1ValueMap_html_a7629b8c5f6a6802ee0fdc5c290769692"><div class="ttname"><a href="classllvm_1_1ValueMap.html#a7629b8c5f6a6802ee0fdc5c290769692">llvm::ValueMap::find</a></div><div class="ttdeci">iterator find(const KeyT &amp;Val)</div><div class="ttdef"><b>Definition:</b> <a href="ValueMap_8h_source.html#l00155">ValueMap.h:155</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html_a5d3d315f678bc76e43b27d18e5d72829"><div class="ttname"><a href="classllvm_1_1Instruction.html#a5d3d315f678bc76e43b27d18e5d72829">llvm::Instruction::isEHPad</a></div><div class="ttdeci">bool isEHPad() const</div><div class="ttdoc">Return true if the instruction is a variety of EH-block.</div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8h_source.html#l00685">Instruction.h:685</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantRange_html_aaca3a4d2b25c24b11179cbd01079b73c"><div class="ttname"><a href="classllvm_1_1ConstantRange.html#aaca3a4d2b25c24b11179cbd01079b73c">llvm::ConstantRange::contains</a></div><div class="ttdeci">bool contains(const APInt &amp;Val) const</div><div class="ttdoc">Return true if the specified value is in the set.</div><div class="ttdef"><b>Definition:</b> <a href="ConstantRange_8cpp_source.html#l00446">ConstantRange.cpp:446</a></div></div>
<div class="ttc" id="aclassllvm_1_1DIExpression_html_a21411e047f9e3a5a7557b7b14982a04b"><div class="ttname"><a href="classllvm_1_1DIExpression.html#a21411e047f9e3a5a7557b7b14982a04b">llvm::DIExpression::getExtOps</a></div><div class="ttdeci">static ExtOps getExtOps(unsigned FromSize, unsigned ToSize, bool Signed)</div><div class="ttdoc">Returns the ops for a zero- or sign-extension in a DIExpression.</div><div class="ttdef"><b>Definition:</b> <a href="DebugInfoMetadata_8cpp_source.html#l01936">DebugInfoMetadata.cpp:1936</a></div></div>
<div class="ttc" id="anamespacellvm_1_1MCID_html_ab357441fcd1ea1f9b0d27c12700f6023a2b016c207343046b2bac45e69e76dcec"><div class="ttname"><a href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a2b016c207343046b2bac45e69e76dcec">llvm::MCID::Add</a></div><div class="ttdeci">@ Add</div><div class="ttdef"><b>Definition:</b> <a href="MCInstrDesc_8h_source.html#l00186">MCInstrDesc.h:186</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallSet_html_a1679469af9bb8ccfbe98441fb8228c79"><div class="ttname"><a href="classllvm_1_1SmallSet.html#a1679469af9bb8ccfbe98441fb8228c79">llvm::SmallSet::insert</a></div><div class="ttdeci">std::pair&lt; const_iterator, bool &gt; insert(const T &amp;V)</div><div class="ttdoc">insert - Insert an element into the set if it isn't already there.</div><div class="ttdef"><b>Definition:</b> <a href="SmallSet_8h_source.html#l00177">SmallSet.h:177</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallBase_html_a7ac9329ef7292ee640d87f45ce7ae05c"><div class="ttname"><a href="classllvm_1_1CallBase.html#a7ac9329ef7292ee640d87f45ce7ae05c">llvm::CallBase::getCalledOperand</a></div><div class="ttdeci">Value * getCalledOperand() const</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l01399">InstrTypes.h:1399</a></div></div>
<div class="ttc" id="anamespacellvm_html_a7994fd7ca0d8f8fcf2a9d18d151d0988"><div class="ttname"><a href="namespacellvm.html#a7994fd7ca0d8f8fcf2a9d18d151d0988">llvm::LowerDbgDeclare</a></div><div class="ttdeci">bool LowerDbgDeclare(Function &amp;F)</div><div class="ttdoc">Lowers llvm.dbg.declare intrinsics into appropriate set of llvm.dbg.value intrinsics.</div><div class="ttdef"><b>Definition:</b> <a href="Transforms_2Utils_2Local_8cpp_source.html#l01637">Local.cpp:1637</a></div></div>
<div class="ttc" id="anamespacellvm_html_aa5f6fb45b8f4ed44ba033601a9700b4e"><div class="ttname"><a href="namespacellvm.html#aa5f6fb45b8f4ed44ba033601a9700b4e">llvm::replaceDbgUsesWithUndef</a></div><div class="ttdeci">bool replaceDbgUsesWithUndef(Instruction *I)</div><div class="ttdoc">Replace all the uses of an SSA value in @llvm.dbg intrinsics with undef.</div><div class="ttdef"><b>Definition:</b> <a href="Transforms_2Utils_2Local_8cpp_source.html#l00614">Local.cpp:614</a></div></div>
<div class="ttc" id="aclassllvm_1_1IntrinsicInst_html"><div class="ttname"><a href="classllvm_1_1IntrinsicInst.html">llvm::IntrinsicInst</a></div><div class="ttdoc">A wrapper class for inspecting calls to intrinsic functions.</div><div class="ttdef"><b>Definition:</b> <a href="IntrinsicInst_8h_source.html#l00047">IntrinsicInst.h:47</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_a595e5029858e33416e500bed9317d309"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a595e5029858e33416e500bed9317d309">llvm::PatternMatch::m_LogicalShift</a></div><div class="ttdeci">BinOpPred_match&lt; LHS, RHS, is_logical_shift_op &gt; m_LogicalShift(const LHS &amp;L, const RHS &amp;R)</div><div class="ttdoc">Matches logical shift operations.</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l01311">PatternMatch.h:1311</a></div></div>
<div class="ttc" id="aclassllvm_1_1MDBuilder_html"><div class="ttname"><a href="classllvm_1_1MDBuilder.html">llvm::MDBuilder</a></div><div class="ttdef"><b>Definition:</b> <a href="MDBuilder_8h_source.html#l00036">MDBuilder.h:36</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_a2ff0f084844b189a858647d637d47eba"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a2ff0f084844b189a858647d637d47eba">llvm::PatternMatch::m_Not</a></div><div class="ttdeci">BinaryOp_match&lt; cst_pred_ty&lt; is_all_ones &gt;, ValTy, Instruction::Xor, true &gt; m_Not(const ValTy &amp;V)</div><div class="ttdoc">Matches a 'Not' as 'xor V, -1' or 'xor -1, V'.</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l02302">PatternMatch.h:2302</a></div></div>
<div class="ttc" id="aclassllvm_1_1CatchPadInst_html"><div class="ttname"><a href="classllvm_1_1CatchPadInst.html">llvm::CatchPadInst</a></div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l04533">Instructions.h:4533</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html_ac26154a24f393f523c87cc5f8239f36c"><div class="ttname"><a href="classllvm_1_1Instruction.html#ac26154a24f393f523c87cc5f8239f36c">llvm::Instruction::BinaryOps</a></div><div class="ttdeci">BinaryOps</div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8h_source.html#l00809">Instruction.h:809</a></div></div>
<div class="ttc" id="anamespacellvm_html_a7e108932dc3da5294aed99a353aac9c4"><div class="ttname"><a href="namespacellvm.html#a7e108932dc3da5294aed99a353aac9c4">llvm::pred_begin</a></div><div class="ttdeci">Interval::pred_iterator pred_begin(Interval *I)</div><div class="ttdoc">pred_begin/pred_end - define methods so that Intervals may be used just like BasicBlocks can with the...</div><div class="ttdef"><b>Definition:</b> <a href="Interval_8h_source.html#l00109">Interval.h:109</a></div></div>
<div class="ttc" id="anamespacellvm_html_a97370114df349e0996f133e3402c1595"><div class="ttname"><a href="namespacellvm.html#a97370114df349e0996f133e3402c1595">llvm::changeToUnreachable</a></div><div class="ttdeci">unsigned changeToUnreachable(Instruction *I, bool PreserveLCSSA=false, DomTreeUpdater *DTU=nullptr, MemorySSAUpdater *MSSAU=nullptr)</div><div class="ttdoc">Insert an unreachable instruction before the specified instruction, making it and the rest of the cod...</div><div class="ttdef"><b>Definition:</b> <a href="Transforms_2Utils_2Local_8cpp_source.html#l02250">Local.cpp:2250</a></div></div>
<div class="ttc" id="aclassllvm_1_1MetadataAsValue_html_a43da96a342731ffba21f83523a9c787a"><div class="ttname"><a href="classllvm_1_1MetadataAsValue.html#a43da96a342731ffba21f83523a9c787a">llvm::MetadataAsValue::getIfExists</a></div><div class="ttdeci">static MetadataAsValue * getIfExists(LLVMContext &amp;Context, Metadata *MD)</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8cpp_source.html#l00110">Metadata.cpp:110</a></div></div>
<div class="ttc" id="aInstructions_8h_html"><div class="ttname"><a href="Instructions_8h.html">Instructions.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MDNode_html_aac6e3a0dec40a6721857cbbd4330039f"><div class="ttname"><a href="classllvm_1_1MDNode.html#aac6e3a0dec40a6721857cbbd4330039f">llvm::MDNode::getMostGenericRange</a></div><div class="ttdeci">static MDNode * getMostGenericRange(MDNode *A, MDNode *B)</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8cpp_source.html#l01112">Metadata.cpp:1112</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_a81eef9d7336f7ee43be79630d8e8ec86"><div class="ttname"><a href="classllvm_1_1Type.html#a81eef9d7336f7ee43be79630d8e8ec86">llvm::Type::isStructTy</a></div><div class="ttdeci">bool isStructTy() const</div><div class="ttdoc">True if this is an instance of StructType.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00243">Type.h:243</a></div></div>
<div class="ttc" id="aSmallVector_8h_html"><div class="ttname"><a href="SmallVector_8h.html">SmallVector.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_a2d9861feadd3a09792967a012559e7b2"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">llvm::PatternMatch::m_Specific</a></div><div class="ttdeci">specificval_ty m_Specific(const Value *V)</div><div class="ttdoc">Match if we have a specific specified value.</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00772">PatternMatch.h:772</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html_ab4f3bf98b5054831b608852e33427814"><div class="ttname"><a href="classllvm_1_1Instruction.html#ab4f3bf98b5054831b608852e33427814">llvm::Instruction::getDebugLoc</a></div><div class="ttdeci">const DebugLoc &amp; getDebugLoc() const</div><div class="ttdoc">Return the debug location for this node as a DebugLoc.</div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8h_source.html#l00358">Instruction.h:358</a></div></div>
<div class="ttc" id="aUser_8h_html"><div class="ttname"><a href="User_8h.html">User.h</a></div></div>
<div class="ttc" id="anamespacellvm_html_add71474638430694c84640146383fc44"><div class="ttname"><a href="namespacellvm.html#add71474638430694c84640146383fc44">llvm::hash_combine</a></div><div class="ttdeci">hash_code hash_combine(const Ts &amp;...args)</div><div class="ttdoc">Combine values into a single hash_code.</div><div class="ttdef"><b>Definition:</b> <a href="Hashing_8h_source.html#l00613">Hashing.h:613</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallSet_html_afd7c135e18f2d7253d4f8545cd7b1756"><div class="ttname"><a href="classllvm_1_1SmallSet.html#afd7c135e18f2d7253d4f8545cd7b1756">llvm::SmallSet::size</a></div><div class="ttdeci">size_type size() const</div><div class="ttdef"><b>Definition:</b> <a href="SmallSet_8h_source.html#l00159">SmallSet.h:159</a></div></div>
<div class="ttc" id="aDominators_8h_html"><div class="ttname"><a href="Dominators_8h.html">Dominators.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MDNode_html_a9d9f2d817781a31c771406d1f0acc9fb"><div class="ttname"><a href="classllvm_1_1MDNode.html#a9d9f2d817781a31c771406d1f0acc9fb">llvm::MDNode::getMostGenericFPMath</a></div><div class="ttdeci">static MDNode * getMostGenericFPMath(MDNode *A, MDNode *B)</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8cpp_source.html#l01064">Metadata.cpp:1064</a></div></div>
<div class="ttc" id="aclassllvm_1_1MDBuilder_html_ab6af8e6189a4d10f4a9c20daab0280b8"><div class="ttname"><a href="classllvm_1_1MDBuilder.html#ab6af8e6189a4d10f4a9c20daab0280b8">llvm::MDBuilder::createRange</a></div><div class="ttdeci">MDNode * createRange(const APInt &amp;Lo, const APInt &amp;Hi)</div><div class="ttdoc">Return metadata describing the range [Lo, Hi).</div><div class="ttdef"><b>Definition:</b> <a href="MDBuilder_8cpp_source.html#l00084">MDBuilder.cpp:84</a></div></div>
<div class="ttc" id="aclassllvm_1_1generic__gep__type__iterator_html_a9c393ed0a6b446c52d205a562ac8d544"><div class="ttname"><a href="classllvm_1_1generic__gep__type__iterator.html#a9c393ed0a6b446c52d205a562ac8d544">llvm::generic_gep_type_iterator::isStruct</a></div><div class="ttdeci">bool isStruct() const</div><div class="ttdef"><b>Definition:</b> <a href="GetElementPtrTypeIterator_8h_source.html#l00111">GetElementPtrTypeIterator.h:111</a></div></div>
<div class="ttc" id="aregcomp_8c_html_a0240ac851181b84ac374872dc5434ee4"><div class="ttname"><a href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a></div><div class="ttdeci">#define N</div></div>
<div class="ttc" id="aclassllvm_1_1AssertingVH_html"><div class="ttname"><a href="classllvm_1_1AssertingVH.html">llvm::AssertingVH</a></div><div class="ttdoc">Value handle that asserts if the Value is deleted.</div><div class="ttdef"><b>Definition:</b> <a href="ValueHandle_8h_source.html#l00260">ValueHandle.h:260</a></div></div>
<div class="ttc" id="anamespacellvm_html_af80edfc5e42059e045aa7bf7fe42bee3"><div class="ttname"><a href="namespacellvm.html#af80edfc5e42059e045aa7bf7fe42bee3">llvm::hash_combine_range</a></div><div class="ttdeci">hash_code hash_combine_range(InputIteratorT first, InputIteratorT last)</div><div class="ttdoc">Compute a hash_code for a sequence of values.</div><div class="ttdef"><b>Definition:</b> <a href="Hashing_8h_source.html#l00491">Hashing.h:491</a></div></div>
<div class="ttc" id="aclassllvm_1_1DbgVariableIntrinsic_html_a948d39166dc97e354adf799ec62a218a"><div class="ttname"><a href="classllvm_1_1DbgVariableIntrinsic.html#a948d39166dc97e354adf799ec62a218a">llvm::DbgVariableIntrinsic::location_ops</a></div><div class="ttdeci">iterator_range&lt; location_op_iterator &gt; location_ops() const</div><div class="ttdoc">Get the locations corresponding to the variable referenced by the debug info intrinsic.</div><div class="ttdef"><b>Definition:</b> <a href="IntrinsicInst_8cpp_source.html#l00075">IntrinsicInst.cpp:75</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html_a1a7f07aaef6a3bee130bf0e0f0536802"><div class="ttname"><a href="classllvm_1_1Instruction.html#a1a7f07aaef6a3bee130bf0e0f0536802">llvm::Instruction::getParent</a></div><div class="ttdeci">const BasicBlock * getParent() const</div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8h_source.html#l00090">Instruction.h:90</a></div></div>
<div class="ttc" id="aclassllvm_1_1BasicBlock_html_ab9f68be0e2bcdf14f503f45edea63023"><div class="ttname"><a href="classllvm_1_1BasicBlock.html#ab9f68be0e2bcdf14f503f45edea63023">llvm::BasicBlock::size</a></div><div class="ttdeci">size_t size() const</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8h_source.html#l00324">BasicBlock.h:324</a></div></div>
<div class="ttc" id="aInstructionSimplify_8h_html"><div class="ttname"><a href="InstructionSimplify_8h.html">InstructionSimplify.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVectorImpl_html_a0c8ffe664a36e30d49c84d0aded2fe08"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html#a0c8ffe664a36e30d49c84d0aded2fe08">llvm::SmallVectorImpl::pop_back_val</a></div><div class="ttdeci">T pop_back_val()</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00677">SmallVector.h:677</a></div></div>
<div class="ttc" id="aclassllvm_1_1BlockAddress_html_af6e2f535824d8f9b4bf1b1a75e5ab57c"><div class="ttname"><a href="classllvm_1_1BlockAddress.html#af6e2f535824d8f9b4bf1b1a75e5ab57c">llvm::BlockAddress::get</a></div><div class="ttdeci">static BlockAddress * get(Function *F, BasicBlock *BB)</div><div class="ttdoc">Return a BlockAddress for the specified function and basic block.</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l01778">Constants.cpp:1778</a></div></div>
<div class="ttc" id="aclassllvm_1_1PHINode_html_a8ce0c4746a1ec805e66409d20ae93922"><div class="ttname"><a href="classllvm_1_1PHINode.html#a8ce0c4746a1ec805e66409d20ae93922">llvm::PHINode::getIncomingBlock</a></div><div class="ttdeci">BasicBlock * getIncomingBlock(unsigned i) const</div><div class="ttdoc">Return incoming basic block number i.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l02814">Instructions.h:2814</a></div></div>
<div class="ttc" id="aclassllvm_1_1ArrayRef_html_a85ffb6531d4cda988ea81f18d4e56fb7"><div class="ttname"><a href="classllvm_1_1ArrayRef.html#a85ffb6531d4cda988ea81f18d4e56fb7">llvm::ArrayRef::size</a></div><div class="ttdeci">size_t size() const</div><div class="ttdoc">size - Get the array size.</div><div class="ttdef"><b>Definition:</b> <a href="ArrayRef_8h_source.html#l00163">ArrayRef.h:163</a></div></div>
<div class="ttc" id="aIVUsers_8cpp_html_a4e5b9edb51eec9dbca592075eb64dfcb"><div class="ttname"><a href="IVUsers_8cpp.html#a4e5b9edb51eec9dbca592075eb64dfcb">Users</a></div><div class="ttdeci">iv Induction Variable Users</div><div class="ttdef"><b>Definition:</b> <a href="IVUsers_8cpp_source.html#l00048">IVUsers.cpp:48</a></div></div>
<div class="ttc" id="aclassllvm_1_1BasicBlock_html_a94c9bd7b123be808934be99e1bcedd24"><div class="ttname"><a href="classllvm_1_1BasicBlock.html#a94c9bd7b123be808934be99e1bcedd24">llvm::BasicBlock::getFirstNonPHIOrDbg</a></div><div class="ttdeci">const Instruction * getFirstNonPHIOrDbg(bool SkipPseudoOp=true) const</div><div class="ttdoc">Returns a pointer to the first instruction in this block that is not a PHINode or a debug intrinsic,...</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8cpp_source.html#l00215">BasicBlock.cpp:215</a></div></div>
<div class="ttc" id="aclassllvm_1_1PHINode_html"><div class="ttname"><a href="classllvm_1_1PHINode.html">llvm::PHINode</a></div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l02708">Instructions.h:2708</a></div></div>
<div class="ttc" id="aclassllvm_1_1BasicBlock_html_a8de021e28a3c04c9216ad8decf104f02"><div class="ttname"><a href="classllvm_1_1BasicBlock.html#a8de021e28a3c04c9216ad8decf104f02">llvm::BasicBlock::getTerminator</a></div><div class="ttdeci">const Instruction * getTerminator() const LLVM_READONLY</div><div class="ttdoc">Returns the terminator instruction if the block is well formed or null if the block is not well forme...</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8h_source.html#l00127">BasicBlock.h:127</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html">llvm::PatternMatch</a></div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00047">PatternMatch.h:47</a></div></div>
<div class="ttc" id="aclassllvm_1_1DIExpression_html_a1b59c8fe81267b338774bf6c542f90ee"><div class="ttname"><a href="classllvm_1_1DIExpression.html#a1b59c8fe81267b338774bf6c542f90ee">llvm::DIExpression::getNumElements</a></div><div class="ttdeci">unsigned getNumElements() const</div><div class="ttdef"><b>Definition:</b> <a href="DebugInfoMetadata_8h_source.html#l02637">DebugInfoMetadata.h:2637</a></div></div>
<div class="ttc" id="aclassllvm_1_1BasicBlock_html_afe7af0c3ec2ef1f525173acd2ea4ba60"><div class="ttname"><a href="classllvm_1_1BasicBlock.html#afe7af0c3ec2ef1f525173acd2ea4ba60">llvm::BasicBlock::removePredecessor</a></div><div class="ttdeci">void removePredecessor(BasicBlock *Pred, bool KeepOneInputPHIs=false)</div><div class="ttdoc">Update PHI nodes in this BasicBlock before removal of predecessor Pred.</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8cpp_source.html#l00341">BasicBlock.cpp:341</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVectorImpl_html"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html">llvm::SmallVectorImpl</a></div><div class="ttdoc">This class consists of common code factored out of the SmallVector class to reduce code duplication b...</div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8h_source.html#l00042">APFloat.h:42</a></div></div>
<div class="ttc" id="anamespacellvm_html_ae6d1c31d74bbaaa9e42bcbdc10a499f2"><div class="ttname"><a href="namespacellvm.html#ae6d1c31d74bbaaa9e42bcbdc10a499f2">llvm::pred_size</a></div><div class="ttdeci">unsigned pred_size(const MachineBasicBlock *BB)</div><div class="ttdef"><b>Definition:</b> <a href="MachineSSAContext_8h_source.html#l00032">MachineSSAContext.h:32</a></div></div>
<div class="ttc" id="aDenseMapInfo_8h_html"><div class="ttname"><a href="DenseMapInfo_8h.html">DenseMapInfo.h</a></div></div>
<div class="ttc" id="aTransforms_2Utils_2Local_8cpp_html_a21b19890c7257e3d62c90b9e6f165471"><div class="ttname"><a href="Transforms_2Utils_2Local_8cpp.html#a21b19890c7257e3d62c90b9e6f165471">EliminateDuplicatePHINodesNaiveImpl</a></div><div class="ttdeci">static bool EliminateDuplicatePHINodesNaiveImpl(BasicBlock *BB)</div><div class="ttdef"><b>Definition:</b> <a href="Transforms_2Utils_2Local_8cpp_source.html#l01260">Local.cpp:1260</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallBase_html"><div class="ttname"><a href="classllvm_1_1CallBase.html">llvm::CallBase</a></div><div class="ttdoc">Base class for all callable instructions (InvokeInst and CallInst) Holds everything related to callin...</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l01184">InstrTypes.h:1184</a></div></div>
<div class="ttc" id="aclassllvm_1_1Module_html_a6d883605206368bc536cc9ded97209b8"><div class="ttname"><a href="classllvm_1_1Module.html#a6d883605206368bc536cc9ded97209b8">llvm::Module::getDataLayout</a></div><div class="ttdeci">const DataLayout &amp; getDataLayout() const</div><div class="ttdoc">Get the data layout for the module's target platform.</div><div class="ttdef"><b>Definition:</b> <a href="Module_8cpp_source.html#l00398">Module.cpp:398</a></div></div>
<div class="ttc" id="anamespacellvm_html_a458b4709ebedccb846a179f1e422265b"><div class="ttname"><a href="namespacellvm.html#a458b4709ebedccb846a179f1e422265b">llvm::DeleteDeadBlock</a></div><div class="ttdeci">void DeleteDeadBlock(BasicBlock *BB, DomTreeUpdater *DTU=nullptr, bool KeepOneInputPHIs=false)</div><div class="ttdoc">Delete the specified block, which must have no predecessors.</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlockUtils_8cpp_source.html#l00095">BasicBlockUtils.cpp:95</a></div></div>
<div class="ttc" id="aDerivedTypes_8h_html"><div class="ttname"><a href="DerivedTypes_8h.html">DerivedTypes.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallPtrSetImpl_html"><div class="ttname"><a href="classllvm_1_1SmallPtrSetImpl.html">llvm::SmallPtrSetImpl</a></div><div class="ttdoc">A templated base class for SmallPtrSet which provides the typesafe interface that is common across al...</div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00344">SmallPtrSet.h:344</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallSetVector_html"><div class="ttname"><a href="classllvm_1_1SmallSetVector.html">llvm::SmallSetVector</a></div><div class="ttdoc">A SetVector that performs no allocations if smaller than a certain size.</div><div class="ttdef"><b>Definition:</b> <a href="SetVector_8h_source.html#l00300">SetVector.h:300</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallInst_html"><div class="ttname"><a href="classllvm_1_1CallInst.html">llvm::CallInst</a></div><div class="ttdoc">This class represents a function call, abstracting a target machine's calling convention.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01485">Instructions.h:1485</a></div></div>
<div class="ttc" id="anamespacellvm_html_ac19cbbc4935a23e1d44f65e1eaba6b1d"><div class="ttname"><a href="namespacellvm.html#ac19cbbc4935a23e1d44f65e1eaba6b1d">llvm::extractBranchWeights</a></div><div class="ttdeci">bool extractBranchWeights(const MDNode *ProfileData, SmallVectorImpl&lt; uint32_t &gt; &amp;Weights)</div><div class="ttdoc">Extract branch weights from MD_prof metadata.</div><div class="ttdef"><b>Definition:</b> <a href="ProfDataUtils_8cpp_source.html#l00122">ProfDataUtils.cpp:122</a></div></div>
<div class="ttc" id="alib_2CodeGen_2README_8txt_html_a09776db24cf586ec9f1e18f3bae14099"><div class="ttname"><a href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a></div><div class="ttdeci">Common register allocation spilling lr str ldr sxth r3 ldr mla r4 can lr mov lr str ldr sxth r3 mla r4 and then merge mul and lr str ldr sxth r3 mla r4 It also increase the likelihood the store may become dead bb27 Successors according to LLVM BB</div><div class="ttdef"><b>Definition:</b> <a href="lib_2CodeGen_2README_8txt_source.html#l00039">README.txt:39</a></div></div>
<div class="ttc" id="aHexagonCommonGEP_8cpp_html_ad532e8710e50302e0a376b61c91fa91d"><div class="ttname"><a href="HexagonCommonGEP_8cpp.html#ad532e8710e50302e0a376b61c91fa91d">GEP</a></div><div class="ttdeci">Hexagon Common GEP</div><div class="ttdef"><b>Definition:</b> <a href="HexagonCommonGEP_8cpp_source.html#l00171">HexagonCommonGEP.cpp:171</a></div></div>
<div class="ttc" id="aclassllvm_1_1UnreachableInst_html"><div class="ttname"><a href="classllvm_1_1UnreachableInst.html">llvm::UnreachableInst</a></div><div class="ttdoc">This function has undefined behavior.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l04773">Instructions.h:4773</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLibraryInfo_html_a38377afcf58b163cbb11662bdc2841a9"><div class="ttname"><a href="classllvm_1_1TargetLibraryInfo.html#a38377afcf58b163cbb11662bdc2841a9">llvm::TargetLibraryInfo::hasOptimizedCodeGen</a></div><div class="ttdeci">bool hasOptimizedCodeGen(LibFunc F) const</div><div class="ttdoc">Tests if the function is both available and a candidate for optimized code generation.</div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00355">TargetLibraryInfo.h:355</a></div></div>
<div class="ttc" id="anamespacellvm_html_a7c3ae5ad4be121cbb1bc87e871b679da"><div class="ttname"><a href="namespacellvm.html#a7c3ae5ad4be121cbb1bc87e871b679da">llvm::createCallMatchingInvoke</a></div><div class="ttdeci">CallInst * createCallMatchingInvoke(InvokeInst *II)</div><div class="ttdoc">Create a call that matches the invoke II in terms of arguments, attributes, debug information,...</div><div class="ttdef"><b>Definition:</b> <a href="Transforms_2Utils_2Local_8cpp_source.html#l02289">Local.cpp:2289</a></div></div>
<div class="ttc" id="aclassllvm_1_1SetVector_html_aafddd417cece33b6747376123d8af51f"><div class="ttname"><a href="classllvm_1_1SetVector.html#aafddd417cece33b6747376123d8af51f">llvm::SetVector&lt; T, SmallVector&lt; T, N &gt;, SmallDenseSet&lt; T, N &gt; &gt;::takeVector</a></div><div class="ttdeci">SmallVector&lt; T, N &gt; takeVector()</div><div class="ttdoc">Clear the SetVector and return the underlying vector.</div><div class="ttdef"><b>Definition:</b> <a href="SetVector_8h_source.html#l00066">SetVector.h:66</a></div></div>
<div class="ttc" id="anamespacellvm_html_a85d5ffd7db412c30d2e0dd46df6cf854"><div class="ttname"><a href="namespacellvm.html#a85d5ffd7db412c30d2e0dd46df6cf854">llvm::patchReplacementInstruction</a></div><div class="ttdeci">void patchReplacementInstruction(Instruction *I, Value *Repl)</div><div class="ttdoc">Patch the replacement so that it is not more restrictive than the value being replaced.</div><div class="ttdef"><b>Definition:</b> <a href="Transforms_2Utils_2Local_8cpp_source.html#l02805">Local.cpp:2805</a></div></div>
<div class="ttc" id="astructllvm_1_1KnownBits_html_a4fdc09049a61f952b5d52788dbd2f69b"><div class="ttname"><a href="structllvm_1_1KnownBits.html#a4fdc09049a61f952b5d52788dbd2f69b">llvm::KnownBits::getBitWidth</a></div><div class="ttdeci">unsigned getBitWidth() const</div><div class="ttdoc">Get the bit width of this value.</div><div class="ttdef"><b>Definition:</b> <a href="KnownBits_8h_source.html#l00040">KnownBits.h:40</a></div></div>
<div class="ttc" id="anamespacellvm_html_aa16cddaa1497dc3248fc105467671e82"><div class="ttname"><a href="namespacellvm.html#aa16cddaa1497dc3248fc105467671e82">llvm::MergeBasicBlockIntoOnlyPred</a></div><div class="ttdeci">void MergeBasicBlockIntoOnlyPred(BasicBlock *BB, DomTreeUpdater *DTU=nullptr)</div><div class="ttdoc">BB is a block with one predecessor and its predecessor is known to have one successor (BB!...</div><div class="ttdef"><b>Definition:</b> <a href="Transforms_2Utils_2Local_8cpp_source.html#l00765">Local.cpp:765</a></div></div>
<div class="ttc" id="anamespacellvm_1_1fp_html_a51c5e09b2604faec548aef87bd482630a5dfc3e95e600e911e26874be1f27dba7"><div class="ttname"><a href="namespacellvm_1_1fp.html#a51c5e09b2604faec548aef87bd482630a5dfc3e95e600e911e26874be1f27dba7">llvm::fp::ebStrict</a></div><div class="ttdeci">@ ebStrict</div><div class="ttdoc">This corresponds to &quot;fpexcept.strict&quot;.</div><div class="ttdef"><b>Definition:</b> <a href="FPEnv_8h_source.html#l00041">FPEnv.h:41</a></div></div>
<div class="ttc" id="aLLVMContext_8h_html"><div class="ttname"><a href="LLVMContext_8h.html">LLVMContext.h</a></div></div>
<div class="ttc" id="aBlockVerifier_8cpp_html_ae45c7d73c0ff5d177b59153ffae77f84"><div class="ttname"><a href="BlockVerifier_8cpp.html#ae45c7d73c0ff5d177b59153ffae77f84">From</a></div><div class="ttdeci">BlockVerifier::State From</div><div class="ttdef"><b>Definition:</b> <a href="BlockVerifier_8cpp_source.html#l00055">BlockVerifier.cpp:55</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_ae855357b6c5e6e7ed1869272708a3a84"><div class="ttname"><a href="classllvm_1_1Value.html#ae855357b6c5e6e7ed1869272708a3a84">llvm::Value::takeName</a></div><div class="ttdeci">void takeName(Value *V)</div><div class="ttdoc">Transfer the name from V to this value.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8cpp_source.html#l00381">Value.cpp:381</a></div></div>
<div class="ttc" id="aclassllvm_1_1DebugLoc_html"><div class="ttname"><a href="classllvm_1_1DebugLoc.html">llvm::DebugLoc</a></div><div class="ttdoc">A debug info location.</div><div class="ttdef"><b>Definition:</b> <a href="DebugLoc_8h_source.html#l00033">DebugLoc.h:33</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key_html_a1958a762261549463a280bac3274d6d5"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">llvm::AMDGPU::HSAMD::Kernel::Key::Args</a></div><div class="ttdeci">constexpr char Args[]</div><div class="ttdoc">Key for Kernel::Metadata::mArgs.</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUMetadata_8h_source.html#l00394">AMDGPUMetadata.h:394</a></div></div>
<div class="ttc" id="aclassllvm_1_1AllocaInst_html"><div class="ttname"><a href="classllvm_1_1AllocaInst.html">llvm::AllocaInst</a></div><div class="ttdoc">an instruction to allocate memory on the stack</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00058">Instructions.h:58</a></div></div>
<div class="ttc" id="aclassllvm_1_1User_html_abe1de1520a21f77ac57cc210bf0fb0b4"><div class="ttname"><a href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">llvm::User::getOperand</a></div><div class="ttdeci">Value * getOperand(unsigned i) const</div><div class="ttdef"><b>Definition:</b> <a href="User_8h_source.html#l00169">User.h:169</a></div></div>
<div class="ttc" id="astructllvm_1_1cl_1_1desc_html"><div class="ttname"><a href="structllvm_1_1cl_1_1desc.html">llvm::cl::desc</a></div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00411">CommandLine.h:411</a></div></div>
<div class="ttc" id="aTransforms_2Utils_2Local_8cpp_html_a705c6c2b8e570441356edb8db2dd8ddb"><div class="ttname"><a href="Transforms_2Utils_2Local_8cpp.html#a705c6c2b8e570441356edb8db2dd8ddb">replaceUndefValuesInPhi</a></div><div class="ttdeci">static void replaceUndefValuesInPhi(PHINode *PN, const IncomingValueMap &amp;IncomingValues)</div><div class="ttdoc">Replace the incoming undef values to a phi with the values from a block-to-value map.</div><div class="ttdef"><b>Definition:</b> <a href="Transforms_2Utils_2Local_8cpp_source.html#l00971">Local.cpp:971</a></div></div>
<div class="ttc" id="aTransforms_2Utils_2Local_8cpp_html_a3aaf8983c097b3cc3f6dccb989b28c4d"><div class="ttname"><a href="Transforms_2Utils_2Local_8cpp.html#a3aaf8983c097b3cc3f6dccb989b28c4d">CanPropagatePredecessorsForPHIs</a></div><div class="ttdeci">static bool CanPropagatePredecessorsForPHIs(BasicBlock *BB, BasicBlock *Succ)</div><div class="ttdoc">Return true if we can fold BB, an almost-empty BB ending in an unconditional branch to Succ,...</div><div class="ttdef"><b>Definition:</b> <a href="Transforms_2Utils_2Local_8cpp_source.html#l00858">Local.cpp:858</a></div></div>
<div class="ttc" id="aclassllvm_1_1BranchInst_html"><div class="ttname"><a href="classllvm_1_1BranchInst.html">llvm::BranchInst</a></div><div class="ttdoc">Conditional or Unconditional Branch instruction.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l03139">Instructions.h:3139</a></div></div>
<div class="ttc" id="araw__ostream_8h_html"><div class="ttname"><a href="raw__ostream_8h.html">raw_ostream.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_a5b844aada27c4c6fdb87146ac458c0d8"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a5b844aada27c4c6fdb87146ac458c0d8">llvm::PatternMatch::m_Trunc</a></div><div class="ttdeci">CastClass_match&lt; OpTy, Instruction::Trunc &gt; m_Trunc(const OpTy &amp;Op)</div><div class="ttdoc">Matches Trunc.</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l01611">PatternMatch.h:1611</a></div></div>
<div class="ttc" id="anamespacellvm_html_a7b03ed78a8e299bde6d26a8793cd4e06"><div class="ttname"><a href="namespacellvm.html#a7b03ed78a8e299bde6d26a8793cd4e06">llvm::NullPointerIsDefined</a></div><div class="ttdeci">bool NullPointerIsDefined(const Function *F, unsigned AS=0)</div><div class="ttdoc">Check whether null pointer dereferencing is considered undefined behavior for a given function or an ...</div><div class="ttdef"><b>Definition:</b> <a href="Function_8cpp_source.html#l02136">Function.cpp:2136</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallPtrSetImpl_html_af74676a3c7447be34bd2c1da76ec0c48"><div class="ttname"><a href="classllvm_1_1SmallPtrSetImpl.html#af74676a3c7447be34bd2c1da76ec0c48">llvm::SmallPtrSetImpl::contains</a></div><div class="ttdeci">bool contains(ConstPtrType Ptr) const</div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00389">SmallPtrSet.h:389</a></div></div>
<div class="ttc" id="aTransforms_2Utils_2Local_8cpp_html_a7c71badb215d0f31fc84eb7985934e77"><div class="ttname"><a href="Transforms_2Utils_2Local_8cpp.html#a7c71badb215d0f31fc84eb7985934e77">CanMergeValues</a></div><div class="ttdeci">static bool CanMergeValues(Value *First, Value *Second)</div><div class="ttdoc">Return true if we can choose one of these values to use in place of the other.</div><div class="ttdef"><b>Definition:</b> <a href="Transforms_2Utils_2Local_8cpp_source.html#l00850">Local.cpp:850</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVectorImpl_html_a499ea32ca1b8d16cedfe01d1e5b08f29"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html#a499ea32ca1b8d16cedfe01d1e5b08f29">llvm::SmallVectorImpl::reserve</a></div><div class="ttdeci">void reserve(size_type N)</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00667">SmallVector.h:667</a></div></div>
<div class="ttc" id="aclassllvm_1_1BinaryOperator_html_a02ce9966395063ac501ecbc1623deda4"><div class="ttname"><a href="classllvm_1_1BinaryOperator.html#a02ce9966395063ac501ecbc1623deda4">llvm::BinaryOperator::Create</a></div><div class="ttdeci">static BinaryOperator * Create(BinaryOps Op, Value *S1, Value *S2, const Twine &amp;Name=Twine(), Instruction *InsertBefore=nullptr)</div><div class="ttdoc">Construct a binary instruction, given the opcode and the two operands.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8cpp_source.html#l02950">Instructions.cpp:2950</a></div></div>
<div class="ttc" id="aBasicBlockUtils_8h_html"><div class="ttname"><a href="BasicBlockUtils_8h.html">BasicBlockUtils.h</a></div></div>
<div class="ttc" id="anamespacellvm_html_afae608ddbbaa668b04aac083a6683245"><div class="ttname"><a href="namespacellvm.html#afae608ddbbaa668b04aac083a6683245">llvm::replaceDbgDeclare</a></div><div class="ttdeci">bool replaceDbgDeclare(Value *Address, Value *NewAddress, DIBuilder &amp;Builder, uint8_t DIExprFlags, int Offset)</div><div class="ttdoc">Replaces llvm.dbg.declare instruction when the address it describes is replaced with a new value.</div><div class="ttdef"><b>Definition:</b> <a href="Transforms_2Utils_2Local_8cpp_source.html#l01773">Local.cpp:1773</a></div></div>
<div class="ttc" id="anamespacellvm_html_ad295cb34421c21507bc9cdefe1ba3f16"><div class="ttname"><a href="namespacellvm.html#ad295cb34421c21507bc9cdefe1ba3f16">llvm::SplitBlock</a></div><div class="ttdeci">BasicBlock * SplitBlock(BasicBlock *Old, Instruction *SplitPt, DominatorTree *DT, LoopInfo *LI=nullptr, MemorySSAUpdater *MSSAU=nullptr, const Twine &amp;BBName=&quot;&quot;, bool Before=false)</div><div class="ttdoc">Split the specified block at the specified instruction.</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlockUtils_8cpp_source.html#l00935">BasicBlockUtils.cpp:935</a></div></div>
<div class="ttc" id="aValue_8h_html"><div class="ttname"><a href="Value_8h.html">Value.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1InvokeInst_html_a5ba379c3251d99b4c23c8f2e6abe4a6c"><div class="ttname"><a href="classllvm_1_1InvokeInst.html#a5ba379c3251d99b4c23c8f2e6abe4a6c">llvm::InvokeInst::getUnwindDest</a></div><div class="ttdeci">BasicBlock * getUnwindDest() const</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l03949">Instructions.h:3949</a></div></div>
<div class="ttc" id="aclassllvm_1_1DomTreeUpdater_html_afbc993d84183553a733d9a161286eaab"><div class="ttname"><a href="classllvm_1_1DomTreeUpdater.html#afbc993d84183553a733d9a161286eaab">llvm::DomTreeUpdater::applyUpdatesPermissive</a></div><div class="ttdeci">void applyUpdatesPermissive(ArrayRef&lt; DominatorTree::UpdateType &gt; Updates)</div><div class="ttdoc">Submit updates to all available trees.</div><div class="ttdef"><b>Definition:</b> <a href="DomTreeUpdater_8cpp_source.html#l00249">DomTreeUpdater.cpp:249</a></div></div>
<div class="ttc" id="anamespacellvm_html_abca8e2c525d8162fbcbb5b444cf04d21"><div class="ttname"><a href="namespacellvm.html#abca8e2c525d8162fbcbb5b444cf04d21">llvm::RecursivelyDeleteTriviallyDeadInstructionsPermissive</a></div><div class="ttdeci">bool RecursivelyDeleteTriviallyDeadInstructionsPermissive(SmallVectorImpl&lt; WeakTrackingVH &gt; &amp;DeadInsts, const TargetLibraryInfo *TLI=nullptr, MemorySSAUpdater *MSSAU=nullptr, std::function&lt; void(Value *)&gt; AboutToDeleteCallback=std::function&lt; void(Value *)&gt;())</div><div class="ttdoc">Same functionality as RecursivelyDeleteTriviallyDeadInstructions, but allow instructions that are not...</div><div class="ttdef"><b>Definition:</b> <a href="Transforms_2Utils_2Local_8cpp_source.html#l00552">Local.cpp:552</a></div></div>
<div class="ttc" id="anamespacellvm_1_1MCID_html_ab357441fcd1ea1f9b0d27c12700f6023af121d798d2c14b32e81d537a1f0cff8d"><div class="ttname"><a href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023af121d798d2c14b32e81d537a1f0cff8d">llvm::MCID::Terminator</a></div><div class="ttdeci">@ Terminator</div><div class="ttdef"><b>Definition:</b> <a href="MCInstrDesc_8h_source.html#l00158">MCInstrDesc.h:158</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html"><div class="ttname"><a href="classllvm_1_1Value.html">llvm::Value</a></div><div class="ttdoc">LLVM Value Representation.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00074">Value.h:74</a></div></div>
<div class="ttc" id="aDebug_8h_html"><div class="ttname"><a href="Debug_8h.html">Debug.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1VectorType_html_a8c90e6c50e795b17466482a04947690e"><div class="ttname"><a href="classllvm_1_1VectorType.html#a8c90e6c50e795b17466482a04947690e">llvm::VectorType::get</a></div><div class="ttdeci">static VectorType * get(Type *ElementType, ElementCount EC)</div><div class="ttdoc">This static method is the primary way to construct an VectorType.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00670">Type.cpp:670</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_ab4e0512c7e1c7adaa56677e3155685f1"><div class="ttname"><a href="classllvm_1_1Value.html#ab4e0512c7e1c7adaa56677e3155685f1">llvm::Value::users</a></div><div class="ttdeci">iterator_range&lt; user_iterator &gt; users()</div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00421">Value.h:421</a></div></div>
<div class="ttc" id="aTransforms_2Utils_2Local_8cpp_html_a25a7c90efaafea9d737d727d5f13e520"><div class="ttname"><a href="Transforms_2Utils_2Local_8cpp.html#a25a7c90efaafea9d737d727d5f13e520">getDwarfOpForBinOp</a></div><div class="ttdeci">uint64_t getDwarfOpForBinOp(Instruction::BinaryOps Opcode)</div><div class="ttdef"><b>Definition:</b> <a href="Transforms_2Utils_2Local_8cpp_source.html#l01970">Local.cpp:1970</a></div></div>
<div class="ttc" id="aclassllvm_1_1details_1_1FixedOrScalableQuantity_html_afb486f9022a26e1cc53ff189710dbde5"><div class="ttname"><a href="classllvm_1_1details_1_1FixedOrScalableQuantity.html#afb486f9022a26e1cc53ff189710dbde5">llvm::details::FixedOrScalableQuantity&lt; TypeSize, uint64_t &gt;::isKnownGE</a></div><div class="ttdeci">static constexpr bool isKnownGE(const FixedOrScalableQuantity &amp;LHS, const FixedOrScalableQuantity &amp;RHS)</div><div class="ttdef"><b>Definition:</b> <a href="TypeSize_8h_source.html#l00219">TypeSize.h:219</a></div></div>
<div class="ttc" id="aclassllvm_1_1Constant_html_ae1a4c619a44ea59a2cdeeb85060f385d"><div class="ttname"><a href="classllvm_1_1Constant.html#ae1a4c619a44ea59a2cdeeb85060f385d">llvm::Constant::destroyConstant</a></div><div class="ttdeci">void destroyConstant()</div><div class="ttdoc">Called if some element of this constant is no longer valid.</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l00458">Constants.cpp:458</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallBase_html_ac63dbb4994494c46f025715272cdb81e"><div class="ttname"><a href="classllvm_1_1CallBase.html#ac63dbb4994494c46f025715272cdb81e">llvm::CallBase::args</a></div><div class="ttdeci">iterator_range&lt; User::op_iterator &gt; args()</div><div class="ttdoc">Iteration adapter for range-for loops.</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l01342">InstrTypes.h:1342</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemorySSAUpdater_html_abcf78af37d56a9b72a49c65428210758"><div class="ttname"><a href="classllvm_1_1MemorySSAUpdater.html#abcf78af37d56a9b72a49c65428210758">llvm::MemorySSAUpdater::removeMemoryAccess</a></div><div class="ttdeci">void removeMemoryAccess(MemoryAccess *, bool OptimizePhis=false)</div><div class="ttdoc">Remove a MemoryAccess from MemorySSA, including updating all definitions and uses.</div><div class="ttdef"><b>Definition:</b> <a href="MemorySSAUpdater_8cpp_source.html#l01305">MemorySSAUpdater.cpp:1305</a></div></div>
<div class="ttc" id="aSetVector_8h_html"><div class="ttname"><a href="SetVector_8h.html">SetVector.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1DominatorTreeBase_html_a71c91cbbfc1c0ecf9a69e10ccf739bd7"><div class="ttname"><a href="classllvm_1_1DominatorTreeBase.html#a71c91cbbfc1c0ecf9a69e10ccf739bd7">llvm::DominatorTreeBase&lt; BasicBlock, false &gt;::Delete</a></div><div class="ttdeci">static constexpr UpdateKind Delete</div><div class="ttdef"><b>Definition:</b> <a href="GenericDomTree_8h_source.html#l00259">GenericDomTree.h:259</a></div></div>
<div class="ttc" id="aclassllvm_1_1DbgAssignIntrinsic_html_af50410033f7fa1450e7030aa25eae45e"><div class="ttname"><a href="classllvm_1_1DbgAssignIntrinsic.html#af50410033f7fa1450e7030aa25eae45e">llvm::DbgAssignIntrinsic::setAddressExpression</a></div><div class="ttdeci">void setAddressExpression(DIExpression *NewExpr)</div><div class="ttdef"><b>Definition:</b> <a href="IntrinsicInst_8h_source.html#l00437">IntrinsicInst.h:437</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallBase_html_a0851b4de29686e9c3918449b054cfada"><div class="ttname"><a href="classllvm_1_1CallBase.html#a0851b4de29686e9c3918449b054cfada">llvm::CallBase::setCallingConv</a></div><div class="ttdeci">void setCallingConv(CallingConv::ID CC)</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l01469">InstrTypes.h:1469</a></div></div>
<div class="ttc" id="aclassllvm_1_1Use_html"><div class="ttname"><a href="classllvm_1_1Use.html">llvm::Use</a></div><div class="ttdoc">A Use represents the edge between a Value definition and its users.</div><div class="ttdef"><b>Definition:</b> <a href="Use_8h_source.html#l00043">Use.h:43</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_a833daf718a49c5cd637d8c9ddeaebe07"><div class="ttname"><a href="classllvm_1_1Type.html#a833daf718a49c5cd637d8c9ddeaebe07">llvm::Type::getPrimitiveSizeInBits</a></div><div class="ttdeci">TypeSize getPrimitiveSizeInBits() const LLVM_READONLY</div><div class="ttdoc">Return the basic size of this type if it is a primitive type.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00163">Type.cpp:163</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallPtrSetImpl_html_a6bc6fb89fe2e91c25559a8631f56e27e"><div class="ttname"><a href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">llvm::SmallPtrSetImpl::insert</a></div><div class="ttdeci">std::pair&lt; iterator, bool &gt; insert(PtrType Ptr)</div><div class="ttdoc">Inserts Ptr if and only if there is no element in the container equal to Ptr.</div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00365">SmallPtrSet.h:365</a></div></div>
<div class="ttc" id="anamespacellvm_1_1Intrinsic_html_a80add6b3b1cdaec560907995127adc16"><div class="ttname"><a href="namespacellvm_1_1Intrinsic.html#a80add6b3b1cdaec560907995127adc16">llvm::Intrinsic::ID</a></div><div class="ttdeci">unsigned ID</div><div class="ttdef"><b>Definition:</b> <a href="TargetTransformInfo_8h_source.html#l00039">TargetTransformInfo.h:39</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVectorImpl_html_a94d23373106467003722f7d6c17b1528"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html#a94d23373106467003722f7d6c17b1528">llvm::SmallVectorImpl::insert</a></div><div class="ttdeci">iterator insert(iterator I, T &amp;&amp;Elt)</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00809">SmallVector.h:809</a></div></div>
<div class="ttc" id="aclassllvm_1_1PoisonValue_html_a1bf08613fb664a2e377a9a72c59a6b66"><div class="ttname"><a href="classllvm_1_1PoisonValue.html#a1bf08613fb664a2e377a9a72c59a6b66">llvm::PoisonValue::get</a></div><div class="ttdeci">static PoisonValue * get(Type *T)</div><div class="ttdoc">Static factory methods - Return an 'poison' object of the specified type.</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l01759">Constants.cpp:1759</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Aug 7 2023 09:49:13 for LLVM by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
