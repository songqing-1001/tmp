<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LLVM: llvm::SROAPass Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LLVM
   &#160;<span id="projectnumber">17.0.0git</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacellvm.html">llvm</a></li><li class="navelem"><a class="el" href="classllvm_1_1SROAPass.html">SROAPass</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="classllvm_1_1SROAPass-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">llvm::SROAPass Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>An optimization pass providing Scalar Replacement of Aggregates.  
 <a href="classllvm_1_1SROAPass.html#details">More...</a></p>

<p><code>#include &quot;<a class="el" href="SROA_8h_source.html">llvm/Transforms/Scalar/SROA.h</a>&quot;</code></p>
<div class="dynheader">
Inheritance diagram for llvm::SROAPass:</div>
<div class="dyncontent">
<div class="center"><img src="classllvm_1_1SROAPass__inherit__graph.png" border="0" usemap="#llvm_1_1SROAPass_inherit__map" alt="Inheritance graph"/></div>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for llvm::SROAPass:</div>
<div class="dyncontent">
<div class="center"><img src="classllvm_1_1SROAPass__coll__graph.png" border="0" usemap="#llvm_1_1SROAPass_coll__map" alt="Collaboration graph"/></div>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ad7c554d0057ca7a875a0a8fef3d50ffa"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classllvm_1_1SROAPass.html#ad7c554d0057ca7a875a0a8fef3d50ffa">SROAPass</a> (<a class="el" href="namespacellvm.html#af4e437674a39417056e3028415053139">SROAOptions</a> PreserveCFG)</td></tr>
<tr class="memdesc:ad7c554d0057ca7a875a0a8fef3d50ffa"><td class="mdescLeft">&#160;</td><td class="mdescRight">If <code>PreserveCFG</code> is set, then the pass is not allowed to modify CFG in any way, even if it would update CFG analyses.  <a href="classllvm_1_1SROAPass.html#ad7c554d0057ca7a875a0a8fef3d50ffa">More...</a><br /></td></tr>
<tr class="separator:ad7c554d0057ca7a875a0a8fef3d50ffa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6cca3e145c2eb9050c6b4b94e2f760a0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classllvm_1_1PreservedAnalyses.html">PreservedAnalyses</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classllvm_1_1SROAPass.html#a6cca3e145c2eb9050c6b4b94e2f760a0">run</a> (<a class="el" href="classllvm_1_1Function.html">Function</a> &amp;<a class="el" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, <a class="el" href="namespacellvm.html#a4a70de23b004aba5c0fb0193a43062bb">FunctionAnalysisManager</a> &amp;AM)</td></tr>
<tr class="memdesc:a6cca3e145c2eb9050c6b4b94e2f760a0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Run the pass over the function.  <a href="classllvm_1_1SROAPass.html#a6cca3e145c2eb9050c6b4b94e2f760a0">More...</a><br /></td></tr>
<tr class="separator:a6cca3e145c2eb9050c6b4b94e2f760a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83580fd53eefd840860e0b048e9f6d43"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classllvm_1_1SROAPass.html#a83580fd53eefd840860e0b048e9f6d43">printPipeline</a> (<a class="el" href="classllvm_1_1raw__ostream.html">raw_ostream</a> &amp;<a class="el" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>, <a class="el" href="classllvm_1_1function__ref.html">function_ref</a>&lt; <a class="el" href="classllvm_1_1StringRef.html">StringRef</a>(<a class="el" href="classllvm_1_1StringRef.html">StringRef</a>)&gt; MapClassName2PassName)</td></tr>
<tr class="separator:a83580fd53eefd840860e0b048e9f6d43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_structllvm_1_1PassInfoMixin"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_structllvm_1_1PassInfoMixin')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="structllvm_1_1PassInfoMixin.html">llvm::PassInfoMixin&lt; SROAPass &gt;</a></td></tr>
<tr class="memitem:aa4cc9f41bee4680f8bc4dce320d8f7c7 inherit pub_methods_structllvm_1_1PassInfoMixin"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structllvm_1_1PassInfoMixin.html#aa4cc9f41bee4680f8bc4dce320d8f7c7">printPipeline</a> (<a class="el" href="classllvm_1_1raw__ostream.html">raw_ostream</a> &amp;<a class="el" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>, <a class="el" href="classllvm_1_1function__ref.html">function_ref</a>&lt; <a class="el" href="classllvm_1_1StringRef.html">StringRef</a>(<a class="el" href="classllvm_1_1StringRef.html">StringRef</a>)&gt; MapClassName2PassName)</td></tr>
<tr class="separator:aa4cc9f41bee4680f8bc4dce320d8f7c7 inherit pub_methods_structllvm_1_1PassInfoMixin"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:aa3dff5fe846cef4d4b14c6560c893ece"><td class="memItemLeft" align="right" valign="top">class&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classllvm_1_1SROAPass.html#aa3dff5fe846cef4d4b14c6560c893ece">sroa::AllocaSliceRewriter</a></td></tr>
<tr class="separator:aa3dff5fe846cef4d4b14c6560c893ece"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab171883e897deea70f76bdd005ea93e6"><td class="memItemLeft" align="right" valign="top">class&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classllvm_1_1SROAPass.html#ab171883e897deea70f76bdd005ea93e6">sroa::SROALegacyPass</a></td></tr>
<tr class="separator:ab171883e897deea70f76bdd005ea93e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_static_methods_structllvm_1_1PassInfoMixin"><td colspan="2" onclick="javascript:toggleInherit('pub_static_methods_structllvm_1_1PassInfoMixin')"><img src="closed.png" alt="-"/>&#160;Static Public Member Functions inherited from <a class="el" href="structllvm_1_1PassInfoMixin.html">llvm::PassInfoMixin&lt; SROAPass &gt;</a></td></tr>
<tr class="memitem:a630e2eac0694bcbcfed653c6a7f616e3 inherit pub_static_methods_structllvm_1_1PassInfoMixin"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classllvm_1_1StringRef.html">StringRef</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structllvm_1_1PassInfoMixin.html#a630e2eac0694bcbcfed653c6a7f616e3">name</a> ()</td></tr>
<tr class="memdesc:a630e2eac0694bcbcfed653c6a7f616e3 inherit pub_static_methods_structllvm_1_1PassInfoMixin"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the name of the pass we are mixed into.  <a href="structllvm_1_1PassInfoMixin.html#a630e2eac0694bcbcfed653c6a7f616e3">More...</a><br /></td></tr>
<tr class="separator:a630e2eac0694bcbcfed653c6a7f616e3 inherit pub_static_methods_structllvm_1_1PassInfoMixin"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>An optimization pass providing Scalar Replacement of Aggregates. </p>
<p>This pass takes allocations which can be completely analyzed (that is, they don't escape) and tries to turn them into scalar SSA values. There are a few steps to this process.</p>
<p>1) It takes allocations of aggregates and analyzes the ways in which they are used to try to split them into smaller allocations, ideally of a single scalar data type. It will split up memcpy and memset accesses as necessary and try to isolate individual scalar accesses. 2) It will transform accesses into forms which are suitable for SSA value promotion. This can be replacing a memset with a scalar store of an integer value, or it can involve speculating operations on a PHI or select to be a PHI or select of the results. 3) Finally, this will try to detect a pattern of accesses which map cleanly onto insert and extract operations on a vector value, and convert them to this form. By doing so, it will enable promotion of vector aggregates to SSA vector values. </p>

<p class="definition">Definition at line <a class="el" href="SROA_8h_source.html#l00095">95</a> of file <a class="el" href="SROA_8h_source.html">SROA.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ad7c554d0057ca7a875a0a8fef3d50ffa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad7c554d0057ca7a875a0a8fef3d50ffa">&#9670;&nbsp;</a></span>SROAPass()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SROAPass::SROAPass </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacellvm.html#af4e437674a39417056e3028415053139">SROAOptions</a>&#160;</td>
          <td class="paramname"><em>PreserveCFG</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>If <code>PreserveCFG</code> is set, then the pass is not allowed to modify CFG in any way, even if it would update CFG analyses. </p>

<p class="definition">Definition at line <a class="el" href="SROA_8cpp_source.html#l05076">5076</a> of file <a class="el" href="SROA_8cpp_source.html">SROA.cpp</a>.</p>

<p class="reference">References <a class="el" href="namespacellvm.html#af4e437674a39417056e3028415053139a83b74c73aa3a3ef410382d9d1b4298a7">llvm::PreserveCFG</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a83580fd53eefd840860e0b048e9f6d43"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a83580fd53eefd840860e0b048e9f6d43">&#9670;&nbsp;</a></span>printPipeline()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SROAPass::printPipeline </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1raw__ostream.html">raw_ostream</a> &amp;&#160;</td>
          <td class="paramname"><em>OS</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1function__ref.html">function_ref</a>&lt; <a class="el" href="classllvm_1_1StringRef.html">StringRef</a>(<a class="el" href="classllvm_1_1StringRef.html">StringRef</a>)&gt;&#160;</td>
          <td class="paramname"><em>MapClassName2PassName</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="SROA_8cpp_source.html#l05069">5069</a> of file <a class="el" href="SROA_8cpp_source.html">SROA.cpp</a>.</p>

<p class="reference">References <a class="el" href="SampleProfWriter_8cpp_source.html#l00053">OS</a>, and <a class="el" href="namespacellvm.html#af4e437674a39417056e3028415053139a83b74c73aa3a3ef410382d9d1b4298a7">llvm::PreserveCFG</a>.</p>

</div>
</div>
<a id="a6cca3e145c2eb9050c6b4b94e2f760a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6cca3e145c2eb9050c6b4b94e2f760a0">&#9670;&nbsp;</a></span>run()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classllvm_1_1PreservedAnalyses.html">PreservedAnalyses</a> SROAPass::run </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1Function.html">Function</a> &amp;&#160;</td>
          <td class="paramname"><em>F</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacellvm.html#a4a70de23b004aba5c0fb0193a43062bb">FunctionAnalysisManager</a> &amp;&#160;</td>
          <td class="paramname"><em>AM</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Run the pass over the function. </p>

<p class="definition">Definition at line <a class="el" href="SROA_8cpp_source.html#l05064">5064</a> of file <a class="el" href="SROA_8cpp_source.html">SROA.cpp</a>.</p>

<p class="reference">References <a class="el" href="MD5_8cpp_source.html#l00055">F</a>, <a class="el" href="PassManager_8h_source.html#l00774">llvm::AnalysisManager&lt; IRUnitT, ExtraArgTs &gt;::getResult()</a>, and <a class="el" href="ExpandLargeDivRem_8cpp_source.html#l00056">runImpl()</a>.</p>

</div>
</div>
<h2 class="groupheader">Friends And Related Function Documentation</h2>
<a id="aa3dff5fe846cef4d4b14c6560c893ece"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa3dff5fe846cef4d4b14c6560c893ece">&#9670;&nbsp;</a></span>sroa::AllocaSliceRewriter</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">friend class <a class="el" href="classllvm_1_1sroa_1_1AllocaSliceRewriter.html">sroa::AllocaSliceRewriter</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="SROA_8h_source.html#l00170">170</a> of file <a class="el" href="SROA_8h_source.html">SROA.h</a>.</p>

</div>
</div>
<a id="ab171883e897deea70f76bdd005ea93e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab171883e897deea70f76bdd005ea93e6">&#9670;&nbsp;</a></span>sroa::SROALegacyPass</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">friend class <a class="el" href="classllvm_1_1sroa_1_1SROALegacyPass.html">sroa::SROALegacyPass</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="SROA_8h_source.html#l00171">171</a> of file <a class="el" href="SROA_8h_source.html">SROA.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>include/llvm/Transforms/Scalar/<a class="el" href="SROA_8h_source.html">SROA.h</a></li>
<li>lib/Transforms/Scalar/<a class="el" href="SROA_8cpp_source.html">SROA.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Aug 7 2023 11:52:32 for LLVM by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
