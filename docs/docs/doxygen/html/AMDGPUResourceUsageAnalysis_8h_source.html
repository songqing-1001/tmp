<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LLVM: lib/Target/AMDGPU/AMDGPUResourceUsageAnalysis.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LLVM
   &#160;<span id="projectnumber">17.0.0git</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_794e483eb1cc7921d35fd149d9cc325b.html">Target</a></li><li class="navelem"><a class="el" href="dir_447ce995d6e35417de5ec3060e97c93e.html">AMDGPU</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">AMDGPUResourceUsageAnalysis.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="AMDGPUResourceUsageAnalysis_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//===- AMDGPUResourceUsageAnalysis.h ---- analysis of resources -*- C++ -*-===//</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// Part of the LLVM Project, under the Apache License v2.0 with LLVM Exceptions.</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">// See https://llvm.org/LICENSE.txt for license information.</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// SPDX-License-Identifier: Apache-2.0 WITH LLVM-exception</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">//</span><span class="comment"></span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">/// \file</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">/// \brief Analyzes how many registers and other resources are used by</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">/// functions.</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"></span><span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160; </div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#ifndef LLVM_LIB_TARGET_AMDGPU_AMDGPURESOURCEUSAGEANALYSIS_H</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#define LLVM_LIB_TARGET_AMDGPU_AMDGPURESOURCEUSAGEANALYSIS_H</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160; </div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="CallGraphSCCPass_8h.html">llvm/Analysis/CallGraphSCCPass.h</a>&quot;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineModuleInfo_8h.html">llvm/CodeGen/MachineModuleInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160; </div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacellvm.html">llvm</a> {</div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160; </div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="keyword">class </span>GCNSubtarget;</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="keyword">class </span>MachineFunction;</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="keyword">class </span>TargetMachine;</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160; </div>
<div class="line"><a name="l00027"></a><span class="lineno"><a class="line" href="structllvm_1_1AMDGPUResourceUsageAnalysis.html">   27</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structllvm_1_1AMDGPUResourceUsageAnalysis.html">AMDGPUResourceUsageAnalysis</a> : <span class="keyword">public</span> <a class="code" href="classllvm_1_1ModulePass.html">ModulePass</a> {</div>
<div class="line"><a name="l00028"></a><span class="lineno"><a class="line" href="structllvm_1_1AMDGPUResourceUsageAnalysis.html#a0473e75d4fd2a0903afd68683eb8404f">   28</a></span>&#160;  <span class="keyword">static</span> <span class="keywordtype">char</span> <a class="code" href="structllvm_1_1AMDGPUResourceUsageAnalysis.html#a0473e75d4fd2a0903afd68683eb8404f">ID</a>;</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160; </div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;  <span class="comment">// Track resource usage for callee functions.</span></div>
<div class="line"><a name="l00032"></a><span class="lineno"><a class="line" href="structllvm_1_1AMDGPUResourceUsageAnalysis_1_1SIFunctionResourceInfo.html">   32</a></span>&#160;  <span class="keyword">struct </span><a class="code" href="structllvm_1_1AMDGPUResourceUsageAnalysis_1_1SIFunctionResourceInfo.html">SIFunctionResourceInfo</a> {</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;    <span class="comment">// Track the number of explicitly used VGPRs. Special registers reserved at</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;    <span class="comment">// the end are tracked separately.</span></div>
<div class="line"><a name="l00035"></a><span class="lineno"><a class="line" href="structllvm_1_1AMDGPUResourceUsageAnalysis_1_1SIFunctionResourceInfo.html#ace2f47e698e52d6ee942db8b7196e665">   35</a></span>&#160;    int32_t <a class="code" href="structllvm_1_1AMDGPUResourceUsageAnalysis_1_1SIFunctionResourceInfo.html#ace2f47e698e52d6ee942db8b7196e665">NumVGPR</a> = 0;</div>
<div class="line"><a name="l00036"></a><span class="lineno"><a class="line" href="structllvm_1_1AMDGPUResourceUsageAnalysis_1_1SIFunctionResourceInfo.html#a9307d03fbda2e54a7b2ecb78bac47019">   36</a></span>&#160;    int32_t <a class="code" href="structllvm_1_1AMDGPUResourceUsageAnalysis_1_1SIFunctionResourceInfo.html#a9307d03fbda2e54a7b2ecb78bac47019">NumAGPR</a> = 0;</div>
<div class="line"><a name="l00037"></a><span class="lineno"><a class="line" href="structllvm_1_1AMDGPUResourceUsageAnalysis_1_1SIFunctionResourceInfo.html#a8a250107696bf3f9bd50f12ed52b937d">   37</a></span>&#160;    int32_t <a class="code" href="structllvm_1_1AMDGPUResourceUsageAnalysis_1_1SIFunctionResourceInfo.html#a8a250107696bf3f9bd50f12ed52b937d">NumExplicitSGPR</a> = 0;</div>
<div class="line"><a name="l00038"></a><span class="lineno"><a class="line" href="structllvm_1_1AMDGPUResourceUsageAnalysis_1_1SIFunctionResourceInfo.html#a9182e409604c9f69e188aa4580e5d7b1">   38</a></span>&#160;    <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> <a class="code" href="structllvm_1_1AMDGPUResourceUsageAnalysis_1_1SIFunctionResourceInfo.html#a9182e409604c9f69e188aa4580e5d7b1">PrivateSegmentSize</a> = 0;</div>
<div class="line"><a name="l00039"></a><span class="lineno"><a class="line" href="structllvm_1_1AMDGPUResourceUsageAnalysis_1_1SIFunctionResourceInfo.html#ab9afb486dfec15a26a2b0b26a9b5302d">   39</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="structllvm_1_1AMDGPUResourceUsageAnalysis_1_1SIFunctionResourceInfo.html#ab9afb486dfec15a26a2b0b26a9b5302d">UsesVCC</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00040"></a><span class="lineno"><a class="line" href="structllvm_1_1AMDGPUResourceUsageAnalysis_1_1SIFunctionResourceInfo.html#a1ad15d21553e3b179b6b0f78efad4e3a">   40</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="structllvm_1_1AMDGPUResourceUsageAnalysis_1_1SIFunctionResourceInfo.html#a1ad15d21553e3b179b6b0f78efad4e3a">UsesFlatScratch</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00041"></a><span class="lineno"><a class="line" href="structllvm_1_1AMDGPUResourceUsageAnalysis_1_1SIFunctionResourceInfo.html#a7646a5431ba0550b290b5888d0d6898b">   41</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="structllvm_1_1AMDGPUResourceUsageAnalysis_1_1SIFunctionResourceInfo.html#a7646a5431ba0550b290b5888d0d6898b">HasDynamicallySizedStack</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00042"></a><span class="lineno"><a class="line" href="structllvm_1_1AMDGPUResourceUsageAnalysis_1_1SIFunctionResourceInfo.html#aeddee414e364d6b8d346964c88b3b50b">   42</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="structllvm_1_1AMDGPUResourceUsageAnalysis_1_1SIFunctionResourceInfo.html#aeddee414e364d6b8d346964c88b3b50b">HasRecursion</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00043"></a><span class="lineno"><a class="line" href="structllvm_1_1AMDGPUResourceUsageAnalysis_1_1SIFunctionResourceInfo.html#a9dfea6fbc3e9600bcafa0a2371e9e2de">   43</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="structllvm_1_1AMDGPUResourceUsageAnalysis_1_1SIFunctionResourceInfo.html#a9dfea6fbc3e9600bcafa0a2371e9e2de">HasIndirectCall</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160; </div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    int32_t <a class="code" href="structllvm_1_1AMDGPUResourceUsageAnalysis_1_1SIFunctionResourceInfo.html#a1e7db0cd3c85df0620b65b98061dcd82">getTotalNumSGPRs</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1GCNSubtarget.html">GCNSubtarget</a> &amp;<a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">ST</a>) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    <span class="comment">// Total number of VGPRs is actually a combination of AGPR and VGPR</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    <span class="comment">// depending on architecture - and some alignment constraints</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    int32_t <a class="code" href="structllvm_1_1AMDGPUResourceUsageAnalysis_1_1SIFunctionResourceInfo.html#a60892cd4051181cb2946513230208f90">getTotalNumVGPRs</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1GCNSubtarget.html">GCNSubtarget</a> &amp;<a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">ST</a>, int32_t <a class="code" href="structllvm_1_1AMDGPUResourceUsageAnalysis_1_1SIFunctionResourceInfo.html#a9307d03fbda2e54a7b2ecb78bac47019">NumAGPR</a>,</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;                             int32_t <a class="code" href="structllvm_1_1AMDGPUResourceUsageAnalysis_1_1SIFunctionResourceInfo.html#ace2f47e698e52d6ee942db8b7196e665">NumVGPR</a>) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    int32_t <a class="code" href="structllvm_1_1AMDGPUResourceUsageAnalysis_1_1SIFunctionResourceInfo.html#a60892cd4051181cb2946513230208f90">getTotalNumVGPRs</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1GCNSubtarget.html">GCNSubtarget</a> &amp;<a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">ST</a>) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;  };</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160; </div>
<div class="line"><a name="l00053"></a><span class="lineno"><a class="line" href="structllvm_1_1AMDGPUResourceUsageAnalysis.html#af6958931337bb4e85ba5e28bcb2e75e3">   53</a></span>&#160;  <a class="code" href="structllvm_1_1AMDGPUResourceUsageAnalysis.html#af6958931337bb4e85ba5e28bcb2e75e3">AMDGPUResourceUsageAnalysis</a>() : <a class="code" href="classllvm_1_1ModulePass.html">ModulePass</a>(<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>) {}</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160; </div>
<div class="line"><a name="l00055"></a><span class="lineno"><a class="line" href="structllvm_1_1AMDGPUResourceUsageAnalysis.html#ad9e3e0ffd8df134dfd20bbad138d04fa">   55</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="structllvm_1_1AMDGPUResourceUsageAnalysis.html#ad9e3e0ffd8df134dfd20bbad138d04fa">doInitialization</a>(<a class="code" href="classllvm_1_1Module.html">Module</a> &amp;M)<span class="keyword"> override </span>{</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    CallGraphResourceInfo.clear();</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Pass.html#ab007d6c51634eb65e4f4f9dab4eb6a8c">ModulePass::doInitialization</a>(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>);</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;  }</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160; </div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="structllvm_1_1AMDGPUResourceUsageAnalysis.html#a1fa9d8c0cbe3e2ba099990fae44b5014">runOnModule</a>(<a class="code" href="classllvm_1_1Module.html">Module</a> &amp;M) <span class="keyword">override</span>;</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160; </div>
<div class="line"><a name="l00062"></a><span class="lineno"><a class="line" href="structllvm_1_1AMDGPUResourceUsageAnalysis.html#a16ddf3cda8c18103f9e328509ce9f40c">   62</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="structllvm_1_1AMDGPUResourceUsageAnalysis.html#a16ddf3cda8c18103f9e328509ce9f40c">getAnalysisUsage</a>(<a class="code" href="classllvm_1_1AnalysisUsage.html">AnalysisUsage</a> &amp;AU)<span class="keyword"> const override </span>{</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    AU.<a class="code" href="classllvm_1_1AnalysisUsage.html#ae5c60fd282ee894c87ea02c3f0fcb6d0">addRequired</a>&lt;<a class="code" href="classllvm_1_1MachineModuleInfoWrapperPass.html">MachineModuleInfoWrapperPass</a>&gt;();</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    AU.<a class="code" href="classllvm_1_1AnalysisUsage.html#af22b06a6a4f9df80454071685a0d6a02">setPreservesAll</a>();</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;  }</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160; </div>
<div class="line"><a name="l00067"></a><span class="lineno"><a class="line" href="structllvm_1_1AMDGPUResourceUsageAnalysis.html#ac31b502994a064c0444c079591289105">   67</a></span>&#160;  <span class="keyword">const</span> <a class="code" href="structllvm_1_1AMDGPUResourceUsageAnalysis_1_1SIFunctionResourceInfo.html">SIFunctionResourceInfo</a> &amp;<a class="code" href="structllvm_1_1AMDGPUResourceUsageAnalysis.html#ac31b502994a064c0444c079591289105">getResourceInfo</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    <span class="keyword">auto</span> <a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a> = CallGraphResourceInfo.find(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a> != CallGraphResourceInfo.end() &amp;&amp;</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;           <span class="stringliteral">&quot;Failed to find resource info for function&quot;</span>);</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>-&gt;getSecond();</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;  }</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160; </div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="keyword">private</span>:</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;  SIFunctionResourceInfo analyzeResourceUsage(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF,</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;                                              <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetMachine.html">TargetMachine</a> &amp;<a class="code" href="PassBuilderBindings_8cpp.html#ab76052bb166c65901edb603a3e1f03ab">TM</a>) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;  <span class="keywordtype">void</span> propagateIndirectCallRegisterUsage();</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160; </div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;  <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;const Function *, SIFunctionResourceInfo&gt;</a> CallGraphResourceInfo;</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;};</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;} <span class="comment">// namespace llvm</span></div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="preprocessor">#endif // LLVM_LIB_TARGET_AMDGPU_AMDGPURESOURCEUSAGEANALYSIS_H</span></div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="anamespacellvm_html"><div class="ttname"><a href="namespacellvm.html">llvm</a></div><div class="ttdoc">This is an optimization pass for GlobalISel generic memory operations.</div><div class="ttdef"><b>Definition:</b> <a href="AddressRanges_8h_source.html#l00018">AddressRanges.h:18</a></div></div>
<div class="ttc" id="alib_2Target_2X86_2README_8txt_html_ac88fe1d3a61b056a4f64fbbb156a62ff"><div class="ttname"><a href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a></div><div class="ttdeci">We currently emits eax Perhaps this is what we really should generate is Is imull three or four cycles eax eax The current instruction priority is based on pattern complexity The former is more complex because it folds a load so the latter will not be emitted Perhaps we should use AddedComplexity to give LEA32r a higher priority We should always try to match LEA first since the LEA matching code does some estimate to determine whether the match is profitable if we care more about code then imull is better It s two bytes shorter than movl leal On a Pentium M</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2X86_2README_8txt_source.html#l00252">README.txt:252</a></div></div>
<div class="ttc" id="aclassllvm_1_1ModulePass_html"><div class="ttname"><a href="classllvm_1_1ModulePass.html">llvm::ModulePass</a></div><div class="ttdoc">ModulePass class - This class is used to implement unstructured interprocedural optimizations and ana...</div><div class="ttdef"><b>Definition:</b> <a href="Pass_8h_source.html#l00248">Pass.h:248</a></div></div>
<div class="ttc" id="aclassllvm_1_1Function_html"><div class="ttname"><a href="classllvm_1_1Function.html">llvm::Function</a></div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00059">Function.h:59</a></div></div>
<div class="ttc" id="aclassllvm_1_1GCNSubtarget_html"><div class="ttname"><a href="classllvm_1_1GCNSubtarget.html">llvm::GCNSubtarget</a></div><div class="ttdef"><b>Definition:</b> <a href="GCNSubtarget_8h_source.html#l00032">GCNSubtarget.h:32</a></div></div>
<div class="ttc" id="astructllvm_1_1AMDGPUResourceUsageAnalysis_1_1SIFunctionResourceInfo_html_a7646a5431ba0550b290b5888d0d6898b"><div class="ttname"><a href="structllvm_1_1AMDGPUResourceUsageAnalysis_1_1SIFunctionResourceInfo.html#a7646a5431ba0550b290b5888d0d6898b">llvm::AMDGPUResourceUsageAnalysis::SIFunctionResourceInfo::HasDynamicallySizedStack</a></div><div class="ttdeci">bool HasDynamicallySizedStack</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUResourceUsageAnalysis_8h_source.html#l00041">AMDGPUResourceUsageAnalysis.h:41</a></div></div>
<div class="ttc" id="aMD5_8cpp_html_a96d73bbd7af15cb1fc38c3f4a3bd82e9"><div class="ttname"><a href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a></div><div class="ttdeci">#define F(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00055">MD5.cpp:55</a></div></div>
<div class="ttc" id="aclassllvm_1_1AnalysisUsage_html"><div class="ttname"><a href="classllvm_1_1AnalysisUsage.html">llvm::AnalysisUsage</a></div><div class="ttdoc">Represent the analysis usage information of a pass.</div><div class="ttdef"><b>Definition:</b> <a href="PassAnalysisSupport_8h_source.html#l00047">PassAnalysisSupport.h:47</a></div></div>
<div class="ttc" id="astructllvm_1_1AMDGPUResourceUsageAnalysis_html_ac31b502994a064c0444c079591289105"><div class="ttname"><a href="structllvm_1_1AMDGPUResourceUsageAnalysis.html#ac31b502994a064c0444c079591289105">llvm::AMDGPUResourceUsageAnalysis::getResourceInfo</a></div><div class="ttdeci">const SIFunctionResourceInfo &amp; getResourceInfo(const Function *F) const</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUResourceUsageAnalysis_8h_source.html#l00067">AMDGPUResourceUsageAnalysis.h:67</a></div></div>
<div class="ttc" id="aCSEInfo_8cpp_html_a75f8a8519c2c9b30e7c06dc5e256fffa"><div class="ttname"><a href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a></div><div class="ttdeci">Analysis containing CSE Info</div><div class="ttdef"><b>Definition:</b> <a href="CSEInfo_8cpp_source.html#l00027">CSEInfo.cpp:27</a></div></div>
<div class="ttc" id="anamespacellvm_1_1CallingConv_html_a188c0836f8c3528401f1c236fd93b977"><div class="ttname"><a href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">llvm::CallingConv::ID</a></div><div class="ttdeci">unsigned ID</div><div class="ttdoc">LLVM IR allows to use arbitrary numbers as calling convention identifiers.</div><div class="ttdef"><b>Definition:</b> <a href="CallingConv_8h_source.html#l00024">CallingConv.h:24</a></div></div>
<div class="ttc" id="astructllvm_1_1AMDGPUResourceUsageAnalysis_1_1SIFunctionResourceInfo_html_aeddee414e364d6b8d346964c88b3b50b"><div class="ttname"><a href="structllvm_1_1AMDGPUResourceUsageAnalysis_1_1SIFunctionResourceInfo.html#aeddee414e364d6b8d346964c88b3b50b">llvm::AMDGPUResourceUsageAnalysis::SIFunctionResourceInfo::HasRecursion</a></div><div class="ttdeci">bool HasRecursion</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUResourceUsageAnalysis_8h_source.html#l00042">AMDGPUResourceUsageAnalysis.h:42</a></div></div>
<div class="ttc" id="aADT_2tmp_8txt_html_a07ed0bfaa124c15897944fe3eaa971ab"><div class="ttname"><a href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a></div><div class="ttdeci">Class for arbitrary precision integers APInt is a functional replacement for common case unsigned integer type like unsigned long or uint64_t</div><div class="ttdef"><b>Definition:</b> <a href="ADT_2tmp_8txt_source.html#l00001">tmp.txt:1</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineModuleInfoWrapperPass_html"><div class="ttname"><a href="classllvm_1_1MachineModuleInfoWrapperPass.html">llvm::MachineModuleInfoWrapperPass</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineModuleInfo_8h_source.html#l00203">MachineModuleInfo.h:203</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ARM__MB_html_ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2"><div class="ttname"><a href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">llvm::ARM_MB::ST</a></div><div class="ttdeci">@ ST</div><div class="ttdef"><b>Definition:</b> <a href="MCTargetDesc_2ARMBaseInfo_8h_source.html#l00073">ARMBaseInfo.h:73</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMap_html"><div class="ttname"><a href="classllvm_1_1DenseMap.html">llvm::DenseMap</a></div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00714">DenseMap.h:714</a></div></div>
<div class="ttc" id="astructllvm_1_1AMDGPUResourceUsageAnalysis_html_a1fa9d8c0cbe3e2ba099990fae44b5014"><div class="ttname"><a href="structllvm_1_1AMDGPUResourceUsageAnalysis.html#a1fa9d8c0cbe3e2ba099990fae44b5014">llvm::AMDGPUResourceUsageAnalysis::runOnModule</a></div><div class="ttdeci">bool runOnModule(Module &amp;M) override</div><div class="ttdoc">runOnModule - Virtual method overriden by subclasses to process the module being operated on.</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUResourceUsageAnalysis_8cpp_source.html#l00100">AMDGPUResourceUsageAnalysis.cpp:100</a></div></div>
<div class="ttc" id="astructllvm_1_1AMDGPUResourceUsageAnalysis_1_1SIFunctionResourceInfo_html_a9307d03fbda2e54a7b2ecb78bac47019"><div class="ttname"><a href="structllvm_1_1AMDGPUResourceUsageAnalysis_1_1SIFunctionResourceInfo.html#a9307d03fbda2e54a7b2ecb78bac47019">llvm::AMDGPUResourceUsageAnalysis::SIFunctionResourceInfo::NumAGPR</a></div><div class="ttdeci">int32_t NumAGPR</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUResourceUsageAnalysis_8h_source.html#l00036">AMDGPUResourceUsageAnalysis.h:36</a></div></div>
<div class="ttc" id="aSILowerControlFlow_8cpp_html_a4868c5d81c5ccc98c47aeab6244346a0"><div class="ttname"><a href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a></div><div class="ttdeci">assert(ImpDefSCC.getReg()==AMDGPU::SCC &amp;&amp;ImpDefSCC.isDef())</div></div>
<div class="ttc" id="aclassllvm_1_1TargetMachine_html"><div class="ttname"><a href="classllvm_1_1TargetMachine.html">llvm::TargetMachine</a></div><div class="ttdoc">Primary interface to the complete machine description for the target machine.</div><div class="ttdef"><b>Definition:</b> <a href="Target_2TargetMachine_8h_source.html#l00078">TargetMachine.h:78</a></div></div>
<div class="ttc" id="astructllvm_1_1AMDGPUResourceUsageAnalysis_1_1SIFunctionResourceInfo_html_a60892cd4051181cb2946513230208f90"><div class="ttname"><a href="structllvm_1_1AMDGPUResourceUsageAnalysis_1_1SIFunctionResourceInfo.html#a60892cd4051181cb2946513230208f90">llvm::AMDGPUResourceUsageAnalysis::SIFunctionResourceInfo::getTotalNumVGPRs</a></div><div class="ttdeci">int32_t getTotalNumVGPRs(const GCNSubtarget &amp;ST, int32_t NumAGPR, int32_t NumVGPR) const</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUResourceUsageAnalysis_8cpp_source.html#l00090">AMDGPUResourceUsageAnalysis.cpp:90</a></div></div>
<div class="ttc" id="aMachineModuleInfo_8h_html"><div class="ttname"><a href="MachineModuleInfo_8h.html">MachineModuleInfo.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1Module_html"><div class="ttname"><a href="classllvm_1_1Module.html">llvm::Module</a></div><div class="ttdoc">A Module instance is used to store all the information related to an LLVM module.</div><div class="ttdef"><b>Definition:</b> <a href="Module_8h_source.html#l00065">Module.h:65</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html"><div class="ttname"><a href="classllvm_1_1MachineFunction.html">llvm::MachineFunction</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00258">MachineFunction.h:258</a></div></div>
<div class="ttc" id="aclassllvm_1_1Pass_html_ab007d6c51634eb65e4f4f9dab4eb6a8c"><div class="ttname"><a href="classllvm_1_1Pass.html#ab007d6c51634eb65e4f4f9dab4eb6a8c">llvm::Pass::doInitialization</a></div><div class="ttdeci">virtual bool doInitialization(Module &amp;)</div><div class="ttdoc">doInitialization - Virtual method overridden by subclasses to do any necessary initialization before ...</div><div class="ttdef"><b>Definition:</b> <a href="Pass_8h_source.html#l00116">Pass.h:116</a></div></div>
<div class="ttc" id="aCallGraphSCCPass_8h_html"><div class="ttname"><a href="CallGraphSCCPass_8h.html">CallGraphSCCPass.h</a></div></div>
<div class="ttc" id="astructllvm_1_1AMDGPUResourceUsageAnalysis_1_1SIFunctionResourceInfo_html_ab9afb486dfec15a26a2b0b26a9b5302d"><div class="ttname"><a href="structllvm_1_1AMDGPUResourceUsageAnalysis_1_1SIFunctionResourceInfo.html#ab9afb486dfec15a26a2b0b26a9b5302d">llvm::AMDGPUResourceUsageAnalysis::SIFunctionResourceInfo::UsesVCC</a></div><div class="ttdeci">bool UsesVCC</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUResourceUsageAnalysis_8h_source.html#l00039">AMDGPUResourceUsageAnalysis.h:39</a></div></div>
<div class="ttc" id="astructllvm_1_1AMDGPUResourceUsageAnalysis_1_1SIFunctionResourceInfo_html_a8a250107696bf3f9bd50f12ed52b937d"><div class="ttname"><a href="structllvm_1_1AMDGPUResourceUsageAnalysis_1_1SIFunctionResourceInfo.html#a8a250107696bf3f9bd50f12ed52b937d">llvm::AMDGPUResourceUsageAnalysis::SIFunctionResourceInfo::NumExplicitSGPR</a></div><div class="ttdeci">int32_t NumExplicitSGPR</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUResourceUsageAnalysis_8h_source.html#l00037">AMDGPUResourceUsageAnalysis.h:37</a></div></div>
<div class="ttc" id="aclassllvm_1_1AnalysisUsage_html_af22b06a6a4f9df80454071685a0d6a02"><div class="ttname"><a href="classllvm_1_1AnalysisUsage.html#af22b06a6a4f9df80454071685a0d6a02">llvm::AnalysisUsage::setPreservesAll</a></div><div class="ttdeci">void setPreservesAll()</div><div class="ttdoc">Set by analyses that do not transform their input at all.</div><div class="ttdef"><b>Definition:</b> <a href="PassAnalysisSupport_8h_source.html#l00130">PassAnalysisSupport.h:130</a></div></div>
<div class="ttc" id="astructllvm_1_1AMDGPUResourceUsageAnalysis_html_a16ddf3cda8c18103f9e328509ce9f40c"><div class="ttname"><a href="structllvm_1_1AMDGPUResourceUsageAnalysis.html#a16ddf3cda8c18103f9e328509ce9f40c">llvm::AMDGPUResourceUsageAnalysis::getAnalysisUsage</a></div><div class="ttdeci">void getAnalysisUsage(AnalysisUsage &amp;AU) const override</div><div class="ttdoc">getAnalysisUsage - This function should be overriden by passes that need analysis information to do t...</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUResourceUsageAnalysis_8h_source.html#l00062">AMDGPUResourceUsageAnalysis.h:62</a></div></div>
<div class="ttc" id="astructllvm_1_1AMDGPUResourceUsageAnalysis_html_af6958931337bb4e85ba5e28bcb2e75e3"><div class="ttname"><a href="structllvm_1_1AMDGPUResourceUsageAnalysis.html#af6958931337bb4e85ba5e28bcb2e75e3">llvm::AMDGPUResourceUsageAnalysis::AMDGPUResourceUsageAnalysis</a></div><div class="ttdeci">AMDGPUResourceUsageAnalysis()</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUResourceUsageAnalysis_8h_source.html#l00053">AMDGPUResourceUsageAnalysis.h:53</a></div></div>
<div class="ttc" id="astructllvm_1_1AMDGPUResourceUsageAnalysis_1_1SIFunctionResourceInfo_html_a1e7db0cd3c85df0620b65b98061dcd82"><div class="ttname"><a href="structllvm_1_1AMDGPUResourceUsageAnalysis_1_1SIFunctionResourceInfo.html#a1e7db0cd3c85df0620b65b98061dcd82">llvm::AMDGPUResourceUsageAnalysis::SIFunctionResourceInfo::getTotalNumSGPRs</a></div><div class="ttdeci">int32_t getTotalNumSGPRs(const GCNSubtarget &amp;ST) const</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUResourceUsageAnalysis_8cpp_source.html#l00083">AMDGPUResourceUsageAnalysis.cpp:83</a></div></div>
<div class="ttc" id="astructllvm_1_1AMDGPUResourceUsageAnalysis_html_ad9e3e0ffd8df134dfd20bbad138d04fa"><div class="ttname"><a href="structllvm_1_1AMDGPUResourceUsageAnalysis.html#ad9e3e0ffd8df134dfd20bbad138d04fa">llvm::AMDGPUResourceUsageAnalysis::doInitialization</a></div><div class="ttdeci">bool doInitialization(Module &amp;M) override</div><div class="ttdoc">doInitialization - Virtual method overridden by subclasses to do any necessary initialization before ...</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUResourceUsageAnalysis_8h_source.html#l00055">AMDGPUResourceUsageAnalysis.h:55</a></div></div>
<div class="ttc" id="astructllvm_1_1AMDGPUResourceUsageAnalysis_1_1SIFunctionResourceInfo_html_a1ad15d21553e3b179b6b0f78efad4e3a"><div class="ttname"><a href="structllvm_1_1AMDGPUResourceUsageAnalysis_1_1SIFunctionResourceInfo.html#a1ad15d21553e3b179b6b0f78efad4e3a">llvm::AMDGPUResourceUsageAnalysis::SIFunctionResourceInfo::UsesFlatScratch</a></div><div class="ttdeci">bool UsesFlatScratch</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUResourceUsageAnalysis_8h_source.html#l00040">AMDGPUResourceUsageAnalysis.h:40</a></div></div>
<div class="ttc" id="astructllvm_1_1AMDGPUResourceUsageAnalysis_html"><div class="ttname"><a href="structllvm_1_1AMDGPUResourceUsageAnalysis.html">llvm::AMDGPUResourceUsageAnalysis</a></div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUResourceUsageAnalysis_8h_source.html#l00027">AMDGPUResourceUsageAnalysis.h:27</a></div></div>
<div class="ttc" id="aPassBuilderBindings_8cpp_html_ab76052bb166c65901edb603a3e1f03ab"><div class="ttname"><a href="PassBuilderBindings_8cpp.html#ab76052bb166c65901edb603a3e1f03ab">TM</a></div><div class="ttdeci">const char LLVMTargetMachineRef TM</div><div class="ttdef"><b>Definition:</b> <a href="PassBuilderBindings_8cpp_source.html#l00047">PassBuilderBindings.cpp:47</a></div></div>
<div class="ttc" id="astructllvm_1_1AMDGPUResourceUsageAnalysis_1_1SIFunctionResourceInfo_html_a9182e409604c9f69e188aa4580e5d7b1"><div class="ttname"><a href="structllvm_1_1AMDGPUResourceUsageAnalysis_1_1SIFunctionResourceInfo.html#a9182e409604c9f69e188aa4580e5d7b1">llvm::AMDGPUResourceUsageAnalysis::SIFunctionResourceInfo::PrivateSegmentSize</a></div><div class="ttdeci">uint64_t PrivateSegmentSize</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUResourceUsageAnalysis_8h_source.html#l00038">AMDGPUResourceUsageAnalysis.h:38</a></div></div>
<div class="ttc" id="aclassllvm_1_1AnalysisUsage_html_ae5c60fd282ee894c87ea02c3f0fcb6d0"><div class="ttname"><a href="classllvm_1_1AnalysisUsage.html#ae5c60fd282ee894c87ea02c3f0fcb6d0">llvm::AnalysisUsage::addRequired</a></div><div class="ttdeci">AnalysisUsage &amp; addRequired()</div><div class="ttdef"><b>Definition:</b> <a href="PassAnalysisSupport_8h_source.html#l00075">PassAnalysisSupport.h:75</a></div></div>
<div class="ttc" id="astructllvm_1_1AMDGPUResourceUsageAnalysis_1_1SIFunctionResourceInfo_html_ace2f47e698e52d6ee942db8b7196e665"><div class="ttname"><a href="structllvm_1_1AMDGPUResourceUsageAnalysis_1_1SIFunctionResourceInfo.html#ace2f47e698e52d6ee942db8b7196e665">llvm::AMDGPUResourceUsageAnalysis::SIFunctionResourceInfo::NumVGPR</a></div><div class="ttdeci">int32_t NumVGPR</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUResourceUsageAnalysis_8h_source.html#l00035">AMDGPUResourceUsageAnalysis.h:35</a></div></div>
<div class="ttc" id="astructllvm_1_1AMDGPUResourceUsageAnalysis_1_1SIFunctionResourceInfo_html"><div class="ttname"><a href="structllvm_1_1AMDGPUResourceUsageAnalysis_1_1SIFunctionResourceInfo.html">llvm::AMDGPUResourceUsageAnalysis::SIFunctionResourceInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUResourceUsageAnalysis_8h_source.html#l00032">AMDGPUResourceUsageAnalysis.h:32</a></div></div>
<div class="ttc" id="astructllvm_1_1AMDGPUResourceUsageAnalysis_1_1SIFunctionResourceInfo_html_a9dfea6fbc3e9600bcafa0a2371e9e2de"><div class="ttname"><a href="structllvm_1_1AMDGPUResourceUsageAnalysis_1_1SIFunctionResourceInfo.html#a9dfea6fbc3e9600bcafa0a2371e9e2de">llvm::AMDGPUResourceUsageAnalysis::SIFunctionResourceInfo::HasIndirectCall</a></div><div class="ttdeci">bool HasIndirectCall</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUResourceUsageAnalysis_8h_source.html#l00043">AMDGPUResourceUsageAnalysis.h:43</a></div></div>
<div class="ttc" id="astructllvm_1_1AMDGPUResourceUsageAnalysis_html_a0473e75d4fd2a0903afd68683eb8404f"><div class="ttname"><a href="structllvm_1_1AMDGPUResourceUsageAnalysis.html#a0473e75d4fd2a0903afd68683eb8404f">llvm::AMDGPUResourceUsageAnalysis::ID</a></div><div class="ttdeci">static char ID</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUResourceUsageAnalysis_8h_source.html#l00028">AMDGPUResourceUsageAnalysis.h:28</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Aug 7 2023 10:09:38 for LLVM by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
