<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LLVM: lib/Transforms/Utils/FunctionImportUtils.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LLVM
   &#160;<span id="projectnumber">17.0.0git</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_a72932e0778af28115095468f6286ff8.html">Transforms</a></li><li class="navelem"><a class="el" href="dir_f75c00afeb315f44d76556a7c675e6e8.html">Utils</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">FunctionImportUtils.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="FunctionImportUtils_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//===- lib/Transforms/Utils/FunctionImportUtils.cpp - Importing utilities -===//</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// Part of the LLVM Project, under the Apache License v2.0 with LLVM Exceptions.</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">// See https://llvm.org/LICENSE.txt for license information.</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// SPDX-License-Identifier: Apache-2.0 WITH LLVM-exception</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">// This file implements the FunctionImportGlobalProcessing class, used</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">// to perform the necessary global value handling for function importing.</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160; </div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="FunctionImportUtils_8h.html">llvm/Transforms/Utils/FunctionImportUtils.h</a>&quot;</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="CommandLine_8h.html">llvm/Support/CommandLine.h</a>&quot;</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacellvm.html">llvm</a>;</div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment">/// Uses the &quot;source_filename&quot; instead of a Module hash ID for the suffix of</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment">/// promoted locals during LTO. NOTE: This requires that the source filename</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment">/// has a unique name / path to avoid name collisions.</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a> <a class="code" href="FunctionImportUtils_8cpp.html#adcc5a59c0fbf7dda9fface688f9d9a19">UseSourceFilenameForPromotedLocals</a>(</div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;    <span class="stringliteral">&quot;use-source-filename-for-promoted-locals&quot;</span>, <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>,</div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;    <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Uses the source file name instead of the Module hash. &quot;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;             <span class="stringliteral">&quot;This requires that the source filename has a unique name / &quot;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;             <span class="stringliteral">&quot;path to avoid name collisions.&quot;</span>));</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="comment">/// Checks if we should import SGV as a definition, otherwise import as a</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="comment">/// declaration.</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> FunctionImportGlobalProcessing::doImportAsDefinition(</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1GlobalValue.html">GlobalValue</a> *SGV) {</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;  <span class="keywordflow">if</span> (!isPerformingImport())</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160; </div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;  <span class="comment">// Only import the globals requested for importing.</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;  <span class="keywordflow">if</span> (!GlobalsToImport-&gt;count(<span class="keyword">const_cast&lt;</span><a class="code" href="classllvm_1_1GlobalValue.html">GlobalValue</a> *<span class="keyword">&gt;</span>(SGV)))</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160; </div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!isa&lt;GlobalAlias&gt;(SGV) &amp;&amp;</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;         <span class="stringliteral">&quot;Unexpected global alias in the import list.&quot;</span>);</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160; </div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;  <span class="comment">// Otherwise yes.</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;}</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160; </div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="keywordtype">bool</span> FunctionImportGlobalProcessing::shouldPromoteLocalToGlobal(</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1GlobalValue.html">GlobalValue</a> *SGV, <a class="code" href="structllvm_1_1ValueInfo.html">ValueInfo</a> <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a97bce951e4585a39601c04d86bb14ffd">VI</a>) {</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(SGV-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a3ba1af4b9d9faa4a33729bbbecee83d1">hasLocalLinkage</a>());</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160; </div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;  <span class="comment">// Ifuncs and ifunc alias does not have summary.</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;  <span class="keywordflow">if</span> (isa&lt;GlobalIFunc&gt;(SGV) ||</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;      (isa&lt;GlobalAlias&gt;(SGV) &amp;&amp;</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;       isa&lt;GlobalIFunc&gt;(cast&lt;GlobalAlias&gt;(SGV)-&gt;getAliaseeObject())))</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160; </div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;  <span class="comment">// Both the imported references and the original local variable must</span></div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;  <span class="comment">// be promoted.</span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;  <span class="keywordflow">if</span> (!isPerformingImport() &amp;&amp; !isModuleExporting())</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160; </div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;  <span class="keywordflow">if</span> (isPerformingImport()) {</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((!GlobalsToImport-&gt;count(<span class="keyword">const_cast&lt;</span><a class="code" href="classllvm_1_1GlobalValue.html">GlobalValue</a> *<span class="keyword">&gt;</span>(SGV)) ||</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;            !isNonRenamableLocal(*SGV)) &amp;&amp;</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;           <span class="stringliteral">&quot;Attempting to promote non-renamable local&quot;</span>);</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    <span class="comment">// We don&#39;t know for sure yet if we are importing this value (as either</span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    <span class="comment">// a reference or a def), since we are simply walking all values in the</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    <span class="comment">// module. But by necessity if we end up importing it and it is local,</span></div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    <span class="comment">// it must be promoted, so unconditionally promote all values in the</span></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    <span class="comment">// importing module.</span></div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;  }</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160; </div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;  <span class="comment">// When exporting, consult the index. We can have more than one local</span></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;  <span class="comment">// with the same GUID, in the case of same-named locals in different but</span></div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;  <span class="comment">// same-named source files that were compiled in their respective directories</span></div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;  <span class="comment">// (so the source file name and resulting GUID is the same). Find the one</span></div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;  <span class="comment">// in this module.</span></div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;  <span class="keyword">auto</span> <a class="code" href="namespacellvm_1_1logicalview.html#a8d87e69e124542d3338b631934cdbea9a290612199861c31d1036b185b4e69b75">Summary</a> = ImportIndex.<a class="code" href="classllvm_1_1ModuleSummaryIndex.html#a630485ed965c70ea8e34338f2283404c">findSummaryInModule</a>(</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;      <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a97bce951e4585a39601c04d86bb14ffd">VI</a>, SGV-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a9e1fc23a17e97d2d1732e753ae9251ac">getParent</a>()-&gt;<a class="code" href="classllvm_1_1Module.html#a168fb8190f7a201fd0c85b276cac268f">getModuleIdentifier</a>());</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Summary &amp;&amp; <span class="stringliteral">&quot;Missing summary for global value when exporting&quot;</span>);</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;  <span class="keyword">auto</span> <a class="code" href="namespacellvm_1_1jitlink.html#abee99c9c75d23a0304e5e58e3128a55f">Linkage</a> = <a class="code" href="namespacellvm_1_1logicalview.html#a8d87e69e124542d3338b631934cdbea9a290612199861c31d1036b185b4e69b75">Summary</a>-&gt;linkage();</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1GlobalValue.html#a308b65a044b4f53e31a2026a81c991d2">GlobalValue::isLocalLinkage</a>(Linkage)) {</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!isNonRenamableLocal(*SGV) &amp;&amp;</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;           <span class="stringliteral">&quot;Attempting to promote non-renamable local&quot;</span>);</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;  }</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160; </div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;}</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160; </div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;<span class="preprocessor">#ifndef NDEBUG</span></div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;<span class="keywordtype">bool</span> FunctionImportGlobalProcessing::isNonRenamableLocal(</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1GlobalValue.html">GlobalValue</a> &amp;GV)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;  <span class="keywordflow">if</span> (!GV.<a class="code" href="classllvm_1_1GlobalValue.html#a3ba1af4b9d9faa4a33729bbbecee83d1">hasLocalLinkage</a>())</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;  <span class="comment">// This needs to stay in sync with the logic in buildModuleSummaryIndex.</span></div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;  <span class="keywordflow">if</span> (GV.<a class="code" href="classllvm_1_1GlobalValue.html#a9f52d196211845d0d605733e2f699055">hasSection</a>())</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;  <span class="keywordflow">if</span> (Used.count(<span class="keyword">const_cast&lt;</span><a class="code" href="classllvm_1_1GlobalValue.html">GlobalValue</a> *<span class="keyword">&gt;</span>(&amp;GV)))</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;}</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160; </div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;std::string</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;FunctionImportGlobalProcessing::getPromotedName(<span class="keyword">const</span> <a class="code" href="classllvm_1_1GlobalValue.html">GlobalValue</a> *SGV) {</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(SGV-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a3ba1af4b9d9faa4a33729bbbecee83d1">hasLocalLinkage</a>());</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160; </div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;  <span class="comment">// For locals that must be promoted to global scope, ensure that</span></div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;  <span class="comment">// the promoted name uniquely identifies the copy in the original module,</span></div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;  <span class="comment">// using the ID assigned during combined index creation.</span></div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="FunctionImportUtils_8cpp.html#adcc5a59c0fbf7dda9fface688f9d9a19">UseSourceFilenameForPromotedLocals</a> &amp;&amp;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;      !SGV-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a9e1fc23a17e97d2d1732e753ae9251ac">getParent</a>()-&gt;<a class="code" href="classllvm_1_1Module.html#a506a727316531d896d2f5e2095eff2b6">getSourceFileName</a>().empty()) {</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    <a class="code" href="classllvm_1_1SmallString.html">SmallString&lt;256&gt;</a> Suffix(SGV-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a9e1fc23a17e97d2d1732e753ae9251ac">getParent</a>()-&gt;<a class="code" href="classllvm_1_1Module.html#a506a727316531d896d2f5e2095eff2b6">getSourceFileName</a>());</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    std::replace_if(<a class="code" href="namespacellvm_1_1sys_1_1path.html#a00a76a729b319dc47beffbe07325565f">std::begin</a>(Suffix), <a class="code" href="namespacellvm_1_1sys_1_1path.html#a214ec2f04ffd92636ed4bd2717607a1d">std::end</a>(Suffix),</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;                    [&amp;](<span class="keywordtype">char</span> ch) { <span class="keywordflow">return</span> !isAlnum(ch); }, <span class="charliteral">&#39;_&#39;</span>);</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ModuleSummaryIndex.html#ab2a95e6bf06c717c20fc64f6c1e5a2fa">ModuleSummaryIndex::getGlobalNameForLocal</a>(</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;        SGV-&gt;<a class="code" href="classllvm_1_1Value.html#adb5c319f5905c1d3ca9eb5df546388c5">getName</a>(), Suffix);</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;  }</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160; </div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ModuleSummaryIndex.html#ab2a95e6bf06c717c20fc64f6c1e5a2fa">ModuleSummaryIndex::getGlobalNameForLocal</a>(</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;      SGV-&gt;<a class="code" href="classllvm_1_1Value.html#adb5c319f5905c1d3ca9eb5df546388c5">getName</a>(),</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;      ImportIndex.<a class="code" href="classllvm_1_1ModuleSummaryIndex.html#af8be100904c0e077cd3075ebb53b4abe">getModuleHash</a>(SGV-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a9e1fc23a17e97d2d1732e753ae9251ac">getParent</a>()-&gt;<a class="code" href="classllvm_1_1Module.html#a168fb8190f7a201fd0c85b276cac268f">getModuleIdentifier</a>()));</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;}</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160; </div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;<a class="code" href="classllvm_1_1GlobalValue.html#aedfa75f0c85c4aa85b257f066fbea57c">GlobalValue::LinkageTypes</a></div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;FunctionImportGlobalProcessing::getLinkage(<span class="keyword">const</span> <a class="code" href="classllvm_1_1GlobalValue.html">GlobalValue</a> *SGV,</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;                                           <span class="keywordtype">bool</span> DoPromote) {</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;  <span class="comment">// Any local variable that is referenced by an exported function needs</span></div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;  <span class="comment">// to be promoted to global scope. Since we don&#39;t currently know which</span></div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;  <span class="comment">// functions reference which local variables/functions, we must treat</span></div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;  <span class="comment">// all as potentially exported if this module is exporting anything.</span></div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;  <span class="keywordflow">if</span> (isModuleExporting()) {</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    <span class="keywordflow">if</span> (SGV-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a3ba1af4b9d9faa4a33729bbbecee83d1">hasLocalLinkage</a>() &amp;&amp; DoPromote)</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1GlobalValue.html#aedfa75f0c85c4aa85b257f066fbea57ca6c93794d7b99cd433e96c53eadb15a6e">GlobalValue::ExternalLinkage</a>;</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    <span class="keywordflow">return</span> SGV-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a3547d58a060ee2e4a29cbea85bef91af">getLinkage</a>();</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;  }</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160; </div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;  <span class="comment">// Otherwise, if we aren&#39;t importing, no linkage change is needed.</span></div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;  <span class="keywordflow">if</span> (!isPerformingImport())</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    <span class="keywordflow">return</span> SGV-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a3547d58a060ee2e4a29cbea85bef91af">getLinkage</a>();</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160; </div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;  <span class="keywordflow">switch</span> (SGV-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a3547d58a060ee2e4a29cbea85bef91af">getLinkage</a>()) {</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1GlobalValue.html#aedfa75f0c85c4aa85b257f066fbea57caf2b592edf18170e7aff4e8f3bae3360c">GlobalValue::LinkOnceODRLinkage</a>:</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1GlobalValue.html#aedfa75f0c85c4aa85b257f066fbea57ca6c93794d7b99cd433e96c53eadb15a6e">GlobalValue::ExternalLinkage</a>:</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    <span class="comment">// External and linkonce definitions are converted to available_externally</span></div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    <span class="comment">// definitions upon import, so that they are available for inlining</span></div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    <span class="comment">// and/or optimization, but are turned into declarations later</span></div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    <span class="comment">// during the EliminateAvailableExternally pass.</span></div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    <span class="keywordflow">if</span> (doImportAsDefinition(SGV) &amp;&amp; !isa&lt;GlobalAlias&gt;(SGV))</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1GlobalValue.html#aedfa75f0c85c4aa85b257f066fbea57caa67f293befacbbf974525116ccf2ff42">GlobalValue::AvailableExternallyLinkage</a>;</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    <span class="comment">// An imported external declaration stays external.</span></div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    <span class="keywordflow">return</span> SGV-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a3547d58a060ee2e4a29cbea85bef91af">getLinkage</a>();</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160; </div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1GlobalValue.html#aedfa75f0c85c4aa85b257f066fbea57caa67f293befacbbf974525116ccf2ff42">GlobalValue::AvailableExternallyLinkage</a>:</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    <span class="comment">// An imported available_externally definition converts</span></div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    <span class="comment">// to external if imported as a declaration.</span></div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    <span class="keywordflow">if</span> (!doImportAsDefinition(SGV))</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1GlobalValue.html#aedfa75f0c85c4aa85b257f066fbea57ca6c93794d7b99cd433e96c53eadb15a6e">GlobalValue::ExternalLinkage</a>;</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    <span class="comment">// An imported available_externally declaration stays that way.</span></div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    <span class="keywordflow">return</span> SGV-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a3547d58a060ee2e4a29cbea85bef91af">getLinkage</a>();</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160; </div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1GlobalValue.html#aedfa75f0c85c4aa85b257f066fbea57ca5ebf288ceb5bbeb7025564727db6d705">GlobalValue::LinkOnceAnyLinkage</a>:</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1GlobalValue.html#aedfa75f0c85c4aa85b257f066fbea57ca8d13a9bcecfac72febceb1103afa048f">GlobalValue::WeakAnyLinkage</a>:</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    <span class="comment">// Can&#39;t import linkonce_any/weak_any definitions correctly, or we might</span></div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    <span class="comment">// change the program semantics, since the linker will pick the first</span></div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    <span class="comment">// linkonce_any/weak_any definition and importing would change the order</span></div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    <span class="comment">// they are seen by the linker. The module linking caller needs to enforce</span></div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    <span class="comment">// this.</span></div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!doImportAsDefinition(SGV));</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    <span class="comment">// If imported as a declaration, it becomes external_weak.</span></div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    <span class="keywordflow">return</span> SGV-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a3547d58a060ee2e4a29cbea85bef91af">getLinkage</a>();</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160; </div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1GlobalValue.html#aedfa75f0c85c4aa85b257f066fbea57ca696bb1c9b0b0e76bb70c61f68866452a">GlobalValue::WeakODRLinkage</a>:</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    <span class="comment">// For weak_odr linkage, there is a guarantee that all copies will be</span></div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    <span class="comment">// equivalent, so the issue described above for weak_any does not exist,</span></div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    <span class="comment">// and the definition can be imported. It can be treated similarly</span></div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    <span class="comment">// to an imported externally visible global value.</span></div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    <span class="keywordflow">if</span> (doImportAsDefinition(SGV) &amp;&amp; !isa&lt;GlobalAlias&gt;(SGV))</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1GlobalValue.html#aedfa75f0c85c4aa85b257f066fbea57caa67f293befacbbf974525116ccf2ff42">GlobalValue::AvailableExternallyLinkage</a>;</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1GlobalValue.html#aedfa75f0c85c4aa85b257f066fbea57ca6c93794d7b99cd433e96c53eadb15a6e">GlobalValue::ExternalLinkage</a>;</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160; </div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1GlobalValue.html#aedfa75f0c85c4aa85b257f066fbea57ca96ad6314ba9210b223b93dc3e15baf99">GlobalValue::AppendingLinkage</a>:</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    <span class="comment">// It would be incorrect to import an appending linkage variable,</span></div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    <span class="comment">// since it would cause global constructors/destructors to be</span></div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    <span class="comment">// executed multiple times. This should have already been handled</span></div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    <span class="comment">// by linkIfNeeded, and we will assert in shouldLinkFromSource</span></div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    <span class="comment">// if we try to import, so we simply return AppendingLinkage.</span></div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1GlobalValue.html#aedfa75f0c85c4aa85b257f066fbea57ca96ad6314ba9210b223b93dc3e15baf99">GlobalValue::AppendingLinkage</a>;</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160; </div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1GlobalValue.html#aedfa75f0c85c4aa85b257f066fbea57ca1511edd03e02d1f3dd277a3c6abf6ad5">GlobalValue::InternalLinkage</a>:</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1GlobalValue.html#aedfa75f0c85c4aa85b257f066fbea57ca04ed141708c0fd16723d212502b046ae">GlobalValue::PrivateLinkage</a>:</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    <span class="comment">// If we are promoting the local to global scope, it is handled</span></div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    <span class="comment">// similarly to a normal externally visible global.</span></div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    <span class="keywordflow">if</span> (DoPromote) {</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;      <span class="keywordflow">if</span> (doImportAsDefinition(SGV) &amp;&amp; !isa&lt;GlobalAlias&gt;(SGV))</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1GlobalValue.html#aedfa75f0c85c4aa85b257f066fbea57caa67f293befacbbf974525116ccf2ff42">GlobalValue::AvailableExternallyLinkage</a>;</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1GlobalValue.html#aedfa75f0c85c4aa85b257f066fbea57ca6c93794d7b99cd433e96c53eadb15a6e">GlobalValue::ExternalLinkage</a>;</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    }</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    <span class="comment">// A non-promoted imported local definition stays local.</span></div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    <span class="comment">// The ThinLTO pass will eventually force-import their definitions.</span></div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    <span class="keywordflow">return</span> SGV-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a3547d58a060ee2e4a29cbea85bef91af">getLinkage</a>();</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160; </div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1GlobalValue.html#aedfa75f0c85c4aa85b257f066fbea57caa81fc8db28ac4af45766fbab2e79d466">GlobalValue::ExternalWeakLinkage</a>:</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    <span class="comment">// External weak doesn&#39;t apply to definitions, must be a declaration.</span></div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!doImportAsDefinition(SGV));</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    <span class="comment">// Linkage stays external_weak.</span></div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    <span class="keywordflow">return</span> SGV-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a3547d58a060ee2e4a29cbea85bef91af">getLinkage</a>();</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160; </div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1GlobalValue.html#aedfa75f0c85c4aa85b257f066fbea57ca08c6a63ca3d9cdb39fb584655bf5c501">GlobalValue::CommonLinkage</a>:</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    <span class="comment">// Linkage stays common on definitions.</span></div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    <span class="comment">// The ThinLTO pass will eventually force-import their definitions.</span></div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    <span class="keywordflow">return</span> SGV-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a3547d58a060ee2e4a29cbea85bef91af">getLinkage</a>();</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;  }</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160; </div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;  <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;unknown linkage type&quot;</span>);</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;}</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160; </div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;<span class="keywordtype">void</span> FunctionImportGlobalProcessing::processGlobalForThinLTO(<a class="code" href="classllvm_1_1GlobalValue.html">GlobalValue</a> &amp;GV) {</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160; </div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;  <a class="code" href="structllvm_1_1ValueInfo.html">ValueInfo</a> <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a97bce951e4585a39601c04d86bb14ffd">VI</a>;</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;  <span class="keywordflow">if</span> (GV.<a class="code" href="classllvm_1_1Value.html#ad9d88ae321b98d8a3b7f394977ae6d7f">hasName</a>()) {</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a97bce951e4585a39601c04d86bb14ffd">VI</a> = ImportIndex.<a class="code" href="classllvm_1_1ModuleSummaryIndex.html#a62fac0638e2f98e3a85a13fd8deefdc5">getValueInfo</a>(GV.<a class="code" href="classllvm_1_1GlobalValue.html#a97918d8b2f03a703571385ca2d0fe5cd">getGUID</a>());</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    <span class="comment">// Set synthetic function entry counts.</span></div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a97bce951e4585a39601c04d86bb14ffd">VI</a> &amp;&amp; ImportIndex.<a class="code" href="classllvm_1_1ModuleSummaryIndex.html#a76dd6d671e6d1bc776a6b3923b0a97ed">hasSyntheticEntryCounts</a>()) {</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> = dyn_cast&lt;Function&gt;(&amp;GV)) {</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;isDeclaration()) {</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;          <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> : <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a97bce951e4585a39601c04d86bb14ffd">VI</a>.getSummaryList()) {</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;            <span class="keyword">auto</span> *<a class="code" href="namespacellvm_1_1X86AS.html#aea2591d7d017866934bcf72ee3dc8a31a5b3a782ccae295a254e2794ad30ad07f">FS</a> = cast&lt;FunctionSummary&gt;(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>-&gt;getBaseObject());</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1X86AS.html#aea2591d7d017866934bcf72ee3dc8a31a5b3a782ccae295a254e2794ad30ad07f">FS</a>-&gt;modulePath() == M.<a class="code" href="classllvm_1_1Module.html#a168fb8190f7a201fd0c85b276cac268f">getModuleIdentifier</a>()) {</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;              <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;setEntryCount(<a class="code" href="classllvm_1_1Function_1_1ProfileCount.html">Function::ProfileCount</a>(<a class="code" href="namespacellvm_1_1X86AS.html#aea2591d7d017866934bcf72ee3dc8a31a5b3a782ccae295a254e2794ad30ad07f">FS</a>-&gt;entryCount(),</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;                                                      <a class="code" href="classllvm_1_1Function.html#a438d2f246b76817114ade2a005a6bcaba861521f9793383de9ba626e189b4b5b6">Function::PCT_Synthetic</a>));</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;              <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;            }</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;          }</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;        }</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;      }</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    }</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;  }</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160; </div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;  <span class="comment">// We should always have a ValueInfo (i.e. GV in index) for definitions when</span></div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;  <span class="comment">// we are exporting, and also when importing that value.</span></div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a97bce951e4585a39601c04d86bb14ffd">VI</a> || GV.<a class="code" href="classllvm_1_1GlobalValue.html#a32e606ac4c88f71f14212e42b808e7f4">isDeclaration</a>() ||</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;         (isPerformingImport() &amp;&amp; !doImportAsDefinition(&amp;GV)));</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160; </div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;  <span class="comment">// Mark read/write-only variables which can be imported with specific</span></div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;  <span class="comment">// attribute. We can&#39;t internalize them now because IRMover will fail</span></div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;  <span class="comment">// to link variable definitions to their external declarations during</span></div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;  <span class="comment">// ThinLTO import. We&#39;ll internalize read-only variables later, after</span></div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;  <span class="comment">// import is finished. See internalizeGVsAfterImport.</span></div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;  <span class="comment">// If global value dead stripping is not enabled in summary then</span></div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;  <span class="comment">// propagateConstants hasn&#39;t been run. We can&#39;t internalize GV</span></div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;  <span class="comment">// in such case.</span></div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;  <span class="keywordflow">if</span> (!GV.<a class="code" href="classllvm_1_1GlobalValue.html#a32e606ac4c88f71f14212e42b808e7f4">isDeclaration</a>() &amp;&amp; <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a97bce951e4585a39601c04d86bb14ffd">VI</a> &amp;&amp; ImportIndex.<a class="code" href="classllvm_1_1ModuleSummaryIndex.html#a02cea51223cff60f08feeb8e5f0ecb6a">withAttributePropagation</a>()) {</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1GlobalVariable.html">GlobalVariable</a> *V = dyn_cast&lt;GlobalVariable&gt;(&amp;GV)) {</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;      <span class="comment">// We can have more than one local with the same GUID, in the case of</span></div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;      <span class="comment">// same-named locals in different but same-named source files that were</span></div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;      <span class="comment">// compiled in their respective directories (so the source file name</span></div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;      <span class="comment">// and resulting GUID is the same). Find the one in this module.</span></div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;      <span class="comment">// Handle the case where there is no summary found in this module. That</span></div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;      <span class="comment">// can happen in the distributed ThinLTO backend, because the index only</span></div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;      <span class="comment">// contains summaries from the source modules if they are being imported.</span></div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;      <span class="comment">// We might have a non-null VI and get here even in that case if the name</span></div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;      <span class="comment">// matches one in this module (e.g. weak or appending linkage).</span></div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;      <span class="keyword">auto</span> *GVS = dyn_cast_or_null&lt;GlobalVarSummary&gt;(</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;          ImportIndex.<a class="code" href="classllvm_1_1ModuleSummaryIndex.html#a630485ed965c70ea8e34338f2283404c">findSummaryInModule</a>(<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a97bce951e4585a39601c04d86bb14ffd">VI</a>, M.<a class="code" href="classllvm_1_1Module.html#a168fb8190f7a201fd0c85b276cac268f">getModuleIdentifier</a>()));</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;      <span class="keywordflow">if</span> (GVS &amp;&amp;</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;          (ImportIndex.<a class="code" href="classllvm_1_1ModuleSummaryIndex.html#a40741dda73ba329a76acafc97fb8aa02">isReadOnly</a>(GVS) || ImportIndex.<a class="code" href="classllvm_1_1ModuleSummaryIndex.html#a48709f746528161bb2687bba7e1e6927">isWriteOnly</a>(GVS))) {</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;        V-&gt;addAttribute(<span class="stringliteral">&quot;thinlto-internalize&quot;</span>);</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;        <span class="comment">// Objects referenced by writeonly GV initializer should not be</span></div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;        <span class="comment">// promoted, because there is no any kind of read access to them</span></div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;        <span class="comment">// on behalf of this writeonly GV. To avoid promotion we convert</span></div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;        <span class="comment">// GV initializer to &#39;zeroinitializer&#39;. This effectively drops</span></div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;        <span class="comment">// references in IR module (not in combined index), so we can</span></div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;        <span class="comment">// ignore them when computing import. We do not export references</span></div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;        <span class="comment">// of writeonly object. See computeImportForReferencedGlobals</span></div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;        <span class="keywordflow">if</span> (ImportIndex.<a class="code" href="classllvm_1_1ModuleSummaryIndex.html#a48709f746528161bb2687bba7e1e6927">isWriteOnly</a>(GVS))</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;          V-&gt;setInitializer(<a class="code" href="classllvm_1_1Constant.html#aa6574d526b3e38a28f688a7bb4325c2c">Constant::getNullValue</a>(V-&gt;getValueType()));</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;      }</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    }</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;  }</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160; </div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;  <span class="keywordflow">if</span> (GV.<a class="code" href="classllvm_1_1GlobalValue.html#a3ba1af4b9d9faa4a33729bbbecee83d1">hasLocalLinkage</a>() &amp;&amp; shouldPromoteLocalToGlobal(&amp;GV, <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a97bce951e4585a39601c04d86bb14ffd">VI</a>)) {</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    <span class="comment">// Save the original name string before we rename GV below.</span></div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    <span class="keyword">auto</span> <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> = GV.<a class="code" href="classllvm_1_1Value.html#adb5c319f5905c1d3ca9eb5df546388c5">getName</a>().<a class="code" href="classllvm_1_1StringRef.html#a223dd14e7d12bc5cea01889b972a98b2">str</a>();</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    GV.<a class="code" href="classllvm_1_1Value.html#a35ee267850af7c235474a8c46c7ac5af">setName</a>(getPromotedName(&amp;GV));</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    GV.<a class="code" href="classllvm_1_1GlobalValue.html#a687973de03d041e04b50a76d19d4fd36">setLinkage</a>(getLinkage(&amp;GV, <span class="comment">/* DoPromote */</span> <span class="keyword">true</span>));</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!GV.<a class="code" href="classllvm_1_1GlobalValue.html#a3ba1af4b9d9faa4a33729bbbecee83d1">hasLocalLinkage</a>());</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    GV.<a class="code" href="classllvm_1_1GlobalValue.html#aa242d8ab89216c14beab812e07009b2a">setVisibility</a>(<a class="code" href="classllvm_1_1GlobalValue.html#a9141f967188383108a69cc1b8ed3c195a7eade123587a08e674f2ca72e2443771">GlobalValue::HiddenVisibility</a>);</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160; </div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    <span class="comment">// If we are renaming a COMDAT leader, ensure that we record the COMDAT</span></div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    <span class="comment">// for later renaming as well. This is required for COFF.</span></div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = GV.<a class="code" href="classllvm_1_1GlobalValue.html#a43721e1e88567116e8fca545125d86bf">getComdat</a>())</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;getName() == Name)</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;        RenamedComdats.try_emplace(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>, M.<a class="code" href="classllvm_1_1Module.html#ab83085f68d866564c5dd63143c8cac2e">getOrInsertComdat</a>(GV.<a class="code" href="classllvm_1_1Value.html#adb5c319f5905c1d3ca9eb5df546388c5">getName</a>()));</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;  } <span class="keywordflow">else</span></div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    GV.<a class="code" href="classllvm_1_1GlobalValue.html#a687973de03d041e04b50a76d19d4fd36">setLinkage</a>(getLinkage(&amp;GV, <span class="comment">/* DoPromote */</span> <span class="keyword">false</span>));</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160; </div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;  <span class="comment">// When ClearDSOLocalOnDeclarations is true, clear dso_local if GV is</span></div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;  <span class="comment">// converted to a declaration, to disable direct access. Don&#39;t do this if GV</span></div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;  <span class="comment">// is implicitly dso_local due to a non-default visibility.</span></div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;  <span class="keywordflow">if</span> (ClearDSOLocalOnDeclarations &amp;&amp;</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;      (GV.<a class="code" href="classllvm_1_1GlobalValue.html#a6b66f492cbea5f4b4f434d7178477116">isDeclarationForLinker</a>() ||</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;       (isPerformingImport() &amp;&amp; !doImportAsDefinition(&amp;GV))) &amp;&amp;</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;      !GV.<a class="code" href="classllvm_1_1GlobalValue.html#a2df2f2e94b5493e9434dbf1c483dbc72">isImplicitDSOLocal</a>()) {</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    GV.<a class="code" href="classllvm_1_1GlobalValue.html#a78c4d0538c7dbffa955486abae2b61bb">setDSOLocal</a>(<span class="keyword">false</span>);</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a97bce951e4585a39601c04d86bb14ffd">VI</a> &amp;&amp; <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a97bce951e4585a39601c04d86bb14ffd">VI</a>.isDSOLocal(ImportIndex.<a class="code" href="classllvm_1_1ModuleSummaryIndex.html#ab9c3dd71a2715d674636b433bfba3966">withDSOLocalPropagation</a>())) {</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    <span class="comment">// If all summaries are dso_local, symbol gets resolved to a known local</span></div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    <span class="comment">// definition.</span></div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    GV.<a class="code" href="classllvm_1_1GlobalValue.html#a78c4d0538c7dbffa955486abae2b61bb">setDSOLocal</a>(<span class="keyword">true</span>);</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    <span class="keywordflow">if</span> (GV.<a class="code" href="classllvm_1_1GlobalValue.html#a66501d6d43642a526ab769458d700aa4">hasDLLImportStorageClass</a>())</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;      GV.<a class="code" href="classllvm_1_1GlobalValue.html#a40c699aba3d6b469357ef0b4e1aa2580">setDLLStorageClass</a>(<a class="code" href="classllvm_1_1GlobalValue.html#a6948096330886cc831391c75adbadaf8a5354f0f932438b7ec4d5d82d4ec1ae22">GlobalValue::DefaultStorageClass</a>);</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;  }</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160; </div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;  <span class="comment">// Remove functions imported as available externally defs from comdats,</span></div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;  <span class="comment">// as this is a declaration for the linker, and will be dropped eventually.</span></div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;  <span class="comment">// It is illegal for comdats to contain declarations.</span></div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;  <span class="keyword">auto</span> *GO = dyn_cast&lt;GlobalObject&gt;(&amp;GV);</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;  <span class="keywordflow">if</span> (GO &amp;&amp; GO-&gt;isDeclarationForLinker() &amp;&amp; GO-&gt;hasComdat()) {</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    <span class="comment">// The IRMover should not have placed any imported declarations in</span></div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    <span class="comment">// a comdat, so the only declaration that should be in a comdat</span></div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    <span class="comment">// at this point would be a definition imported as available_externally.</span></div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(GO-&gt;hasAvailableExternallyLinkage() &amp;&amp;</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;           <span class="stringliteral">&quot;Expected comdat on definition (possibly available external)&quot;</span>);</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    GO-&gt;setComdat(<span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;  }</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;}</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160; </div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;<span class="keywordtype">void</span> FunctionImportGlobalProcessing::processGlobalsForThinLTO() {</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1GlobalVariable.html">GlobalVariable</a> &amp;GV : M.<a class="code" href="classllvm_1_1Module.html#a5ac6567830d23e78dd0f83deaa6ccac1">globals</a>())</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    processGlobalForThinLTO(GV);</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Function.html">Function</a> &amp;SF : M)</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    processGlobalForThinLTO(SF);</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1GlobalAlias.html">GlobalAlias</a> &amp;GA : <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.aliases())</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    processGlobalForThinLTO(GA);</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160; </div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;  <span class="comment">// Replace any COMDATS that required renaming (because the COMDAT leader was</span></div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;  <span class="comment">// promoted and renamed).</span></div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;  <span class="keywordflow">if</span> (!RenamedComdats.empty())</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;GO : <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.global_objects())</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">auto</span> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = GO.getComdat()) {</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;        <span class="keyword">auto</span> Replacement = RenamedComdats.find(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>);</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;        <span class="keywordflow">if</span> (Replacement != RenamedComdats.end())</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;          GO.setComdat(Replacement-&gt;second);</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;      }</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;}</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160; </div>
<div class="line"><a name="l00350"></a><span class="lineno"><a class="line" href="classllvm_1_1FunctionImportGlobalProcessing.html#a85ccc8c1722712b3fc48a166ccf99872">  350</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1FunctionImportGlobalProcessing.html#a85ccc8c1722712b3fc48a166ccf99872">FunctionImportGlobalProcessing::run</a>() {</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;  processGlobalsForThinLTO();</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;}</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160; </div>
<div class="line"><a name="l00355"></a><span class="lineno"><a class="line" href="namespacellvm.html#a5bc0113ff10282702b2cd6d275f47beb">  355</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="namespacellvm.html#a5bc0113ff10282702b2cd6d275f47beb">llvm::renameModuleForThinLTO</a>(<a class="code" href="classllvm_1_1Module.html">Module</a> &amp;M, <span class="keyword">const</span> <a class="code" href="classllvm_1_1ModuleSummaryIndex.html">ModuleSummaryIndex</a> &amp;<a class="code" href="namespacellvm_1_1dwarf.html#a5d3c920b66ea797d6adb243862fdf47a">Index</a>,</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;                                  <span class="keywordtype">bool</span> ClearDSOLocalOnDeclarations,</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;                                  <a class="code" href="classllvm_1_1SetVector.html">SetVector&lt;GlobalValue *&gt;</a> *GlobalsToImport) {</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;  <a class="code" href="classllvm_1_1FunctionImportGlobalProcessing.html">FunctionImportGlobalProcessing</a> ThinLTOProcessing(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>, <a class="code" href="namespacellvm_1_1dwarf.html#a5d3c920b66ea797d6adb243862fdf47a">Index</a>, GlobalsToImport,</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;                                                   ClearDSOLocalOnDeclarations);</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;  <span class="keywordflow">return</span> ThinLTOProcessing.<a class="code" href="classllvm_1_1FunctionImportGlobalProcessing.html#a85ccc8c1722712b3fc48a166ccf99872">run</a>();</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;}</div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="aclassllvm_1_1FunctionImportGlobalProcessing_html_a85ccc8c1722712b3fc48a166ccf99872"><div class="ttname"><a href="classllvm_1_1FunctionImportGlobalProcessing.html#a85ccc8c1722712b3fc48a166ccf99872">llvm::FunctionImportGlobalProcessing::run</a></div><div class="ttdeci">bool run()</div><div class="ttdef"><b>Definition:</b> <a href="FunctionImportUtils_8cpp_source.html#l00350">FunctionImportUtils.cpp:350</a></div></div>
<div class="ttc" id="aclassllvm_1_1ModuleSummaryIndex_html_a76dd6d671e6d1bc776a6b3923b0a97ed"><div class="ttname"><a href="classllvm_1_1ModuleSummaryIndex.html#a76dd6d671e6d1bc776a6b3923b0a97ed">llvm::ModuleSummaryIndex::hasSyntheticEntryCounts</a></div><div class="ttdeci">bool hasSyntheticEntryCounts() const</div><div class="ttdef"><b>Definition:</b> <a href="ModuleSummaryIndex_8h_source.html#l01443">ModuleSummaryIndex.h:1443</a></div></div>
<div class="ttc" id="aFunctionImportUtils_8h_html"><div class="ttname"><a href="FunctionImportUtils_8h.html">FunctionImportUtils.h</a></div></div>
<div class="ttc" id="anamespacellvm_html"><div class="ttname"><a href="namespacellvm.html">llvm</a></div><div class="ttdoc">This is an optimization pass for GlobalISel generic memory operations.</div><div class="ttdef"><b>Definition:</b> <a href="AddressRanges_8h_source.html#l00018">AddressRanges.h:18</a></div></div>
<div class="ttc" id="alib_2Target_2X86_2README_8txt_html_ac88fe1d3a61b056a4f64fbbb156a62ff"><div class="ttname"><a href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a></div><div class="ttdeci">We currently emits eax Perhaps this is what we really should generate is Is imull three or four cycles eax eax The current instruction priority is based on pattern complexity The former is more complex because it folds a load so the latter will not be emitted Perhaps we should use AddedComplexity to give LEA32r a higher priority We should always try to match LEA first since the LEA matching code does some estimate to determine whether the match is profitable if we care more about code then imull is better It s two bytes shorter than movl leal On a Pentium M</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2X86_2README_8txt_source.html#l00252">README.txt:252</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html_aedfa75f0c85c4aa85b257f066fbea57ca5ebf288ceb5bbeb7025564727db6d705"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#aedfa75f0c85c4aa85b257f066fbea57ca5ebf288ceb5bbeb7025564727db6d705">llvm::GlobalValue::LinkOnceAnyLinkage</a></div><div class="ttdeci">@ LinkOnceAnyLinkage</div><div class="ttdoc">Keep one copy of function when linking (inline)</div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00050">GlobalValue.h:50</a></div></div>
<div class="ttc" id="aclassllvm_1_1ModuleSummaryIndex_html_a40741dda73ba329a76acafc97fb8aa02"><div class="ttname"><a href="classllvm_1_1ModuleSummaryIndex.html#a40741dda73ba329a76acafc97fb8aa02">llvm::ModuleSummaryIndex::isReadOnly</a></div><div class="ttdeci">bool isReadOnly(const GlobalVarSummary *GVS) const</div><div class="ttdef"><b>Definition:</b> <a href="ModuleSummaryIndex_8h_source.html#l01436">ModuleSummaryIndex.h:1436</a></div></div>
<div class="ttc" id="aclassllvm_1_1ModuleSummaryIndex_html_af8be100904c0e077cd3075ebb53b4abe"><div class="ttname"><a href="classllvm_1_1ModuleSummaryIndex.html#af8be100904c0e077cd3075ebb53b4abe">llvm::ModuleSummaryIndex::getModuleHash</a></div><div class="ttdeci">const ModuleHash &amp; getModuleHash(const StringRef ModPath) const</div><div class="ttdoc">Get the module SHA1 hash recorded for the given module path.</div><div class="ttdef"><b>Definition:</b> <a href="ModuleSummaryIndex_8h_source.html#l01606">ModuleSummaryIndex.h:1606</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html_a3547d58a060ee2e4a29cbea85bef91af"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#a3547d58a060ee2e4a29cbea85bef91af">llvm::GlobalValue::getLinkage</a></div><div class="ttdeci">LinkageTypes getLinkage() const</div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00541">GlobalValue.h:541</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html_a9141f967188383108a69cc1b8ed3c195a7eade123587a08e674f2ca72e2443771"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#a9141f967188383108a69cc1b8ed3c195a7eade123587a08e674f2ca72e2443771">llvm::GlobalValue::HiddenVisibility</a></div><div class="ttdeci">@ HiddenVisibility</div><div class="ttdoc">The GV is hidden.</div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00064">GlobalValue.h:64</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html_a2df2f2e94b5493e9434dbf1c483dbc72"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#a2df2f2e94b5493e9434dbf1c483dbc72">llvm::GlobalValue::isImplicitDSOLocal</a></div><div class="ttdeci">bool isImplicitDSOLocal() const</div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00294">GlobalValue.h:294</a></div></div>
<div class="ttc" id="aclassllvm_1_1Function_html"><div class="ttname"><a href="classllvm_1_1Function.html">llvm::Function</a></div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00059">Function.h:59</a></div></div>
<div class="ttc" id="anamespacellvm_html_a5bc0113ff10282702b2cd6d275f47beb"><div class="ttname"><a href="namespacellvm.html#a5bc0113ff10282702b2cd6d275f47beb">llvm::renameModuleForThinLTO</a></div><div class="ttdeci">bool renameModuleForThinLTO(Module &amp;M, const ModuleSummaryIndex &amp;Index, bool ClearDSOLocalOnDeclarations, SetVector&lt; GlobalValue * &gt; *GlobalsToImport=nullptr)</div><div class="ttdoc">Perform in-place global value handling on the given Module for exported local functions renamed and p...</div><div class="ttdef"><b>Definition:</b> <a href="FunctionImportUtils_8cpp_source.html#l00355">FunctionImportUtils.cpp:355</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html_a308b65a044b4f53e31a2026a81c991d2"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#a308b65a044b4f53e31a2026a81c991d2">llvm::GlobalValue::isLocalLinkage</a></div><div class="ttdeci">static bool isLocalLinkage(LinkageTypes Linkage)</div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00404">GlobalValue.h:404</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_ad9d88ae321b98d8a3b7f394977ae6d7f"><div class="ttname"><a href="classllvm_1_1Value.html#ad9d88ae321b98d8a3b7f394977ae6d7f">llvm::Value::hasName</a></div><div class="ttdeci">bool hasName() const</div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00261">Value.h:261</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalVariable_html"><div class="ttname"><a href="classllvm_1_1GlobalVariable.html">llvm::GlobalVariable</a></div><div class="ttdef"><b>Definition:</b> <a href="GlobalVariable_8h_source.html#l00039">GlobalVariable.h:39</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalAlias_html"><div class="ttname"><a href="classllvm_1_1GlobalAlias.html">llvm::GlobalAlias</a></div><div class="ttdef"><b>Definition:</b> <a href="GlobalAlias_8h_source.html#l00028">GlobalAlias.h:28</a></div></div>
<div class="ttc" id="anamespacellvm_1_1cl_html_a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6"><div class="ttname"><a href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">llvm::cl::Hidden</a></div><div class="ttdeci">@ Hidden</div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00138">CommandLine.h:138</a></div></div>
<div class="ttc" id="anamespacellvm_1_1sys_1_1path_html_a214ec2f04ffd92636ed4bd2717607a1d"><div class="ttname"><a href="namespacellvm_1_1sys_1_1path.html#a214ec2f04ffd92636ed4bd2717607a1d">llvm::sys::path::end</a></div><div class="ttdeci">const_iterator end(StringRef path)</div><div class="ttdoc">Get end iterator over path.</div><div class="ttdef"><b>Definition:</b> <a href="Path_8cpp_source.html#l00235">Path.cpp:235</a></div></div>
<div class="ttc" id="anamespacellvm_1_1sys_1_1path_html_a00a76a729b319dc47beffbe07325565f"><div class="ttname"><a href="namespacellvm_1_1sys_1_1path.html#a00a76a729b319dc47beffbe07325565f">llvm::sys::path::begin</a></div><div class="ttdeci">const_iterator begin(StringRef path, Style style=Style::native)</div><div class="ttdoc">Get begin iterator over path.</div><div class="ttdef"><b>Definition:</b> <a href="Path_8cpp_source.html#l00226">Path.cpp:226</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html_a9f52d196211845d0d605733e2f699055"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#a9f52d196211845d0d605733e2f699055">llvm::GlobalValue::hasSection</a></div><div class="ttdeci">bool hasSection() const</div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00286">GlobalValue.h:286</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html_a6948096330886cc831391c75adbadaf8a5354f0f932438b7ec4d5d82d4ec1ae22"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#a6948096330886cc831391c75adbadaf8a5354f0f932438b7ec4d5d82d4ec1ae22">llvm::GlobalValue::DefaultStorageClass</a></div><div class="ttdeci">@ DefaultStorageClass</div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00070">GlobalValue.h:70</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html_aedfa75f0c85c4aa85b257f066fbea57c"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#aedfa75f0c85c4aa85b257f066fbea57c">llvm::GlobalValue::LinkageTypes</a></div><div class="ttdeci">LinkageTypes</div><div class="ttdoc">An enumeration for the kinds of linkage for global values.</div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00047">GlobalValue.h:47</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html_a78c4d0538c7dbffa955486abae2b61bb"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#a78c4d0538c7dbffa955486abae2b61bb">llvm::GlobalValue::setDSOLocal</a></div><div class="ttdeci">void setDSOLocal(bool Local)</div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00299">GlobalValue.h:299</a></div></div>
<div class="ttc" id="aMD5_8cpp_html_a96d73bbd7af15cb1fc38c3f4a3bd82e9"><div class="ttname"><a href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a></div><div class="ttdeci">#define F(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00055">MD5.cpp:55</a></div></div>
<div class="ttc" id="aclassllvm_1_1ModuleSummaryIndex_html_ab9c3dd71a2715d674636b433bfba3966"><div class="ttname"><a href="classllvm_1_1ModuleSummaryIndex.html#ab9c3dd71a2715d674636b433bfba3966">llvm::ModuleSummaryIndex::withDSOLocalPropagation</a></div><div class="ttdeci">bool withDSOLocalPropagation() const</div><div class="ttdef"><b>Definition:</b> <a href="ModuleSummaryIndex_8h_source.html#l01430">ModuleSummaryIndex.h:1430</a></div></div>
<div class="ttc" id="aCommandLine_8h_html"><div class="ttname"><a href="CommandLine_8h.html">CommandLine.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1Function_html_a438d2f246b76817114ade2a005a6bcaba861521f9793383de9ba626e189b4b5b6"><div class="ttname"><a href="classllvm_1_1Function.html#a438d2f246b76817114ade2a005a6bcaba861521f9793383de9ba626e189b4b5b6">llvm::Function::PCT_Synthetic</a></div><div class="ttdeci">@ PCT_Synthetic</div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00247">Function.h:247</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html_a32e606ac4c88f71f14212e42b808e7f4"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#a32e606ac4c88f71f14212e42b808e7f4">llvm::GlobalValue::isDeclaration</a></div><div class="ttdeci">bool isDeclaration() const</div><div class="ttdoc">Return true if the primary definition of this global value is outside of the current translation unit...</div><div class="ttdef"><b>Definition:</b> <a href="Globals_8cpp_source.html#l00275">Globals.cpp:275</a></div></div>
<div class="ttc" id="aclassllvm_1_1Module_html_a5ac6567830d23e78dd0f83deaa6ccac1"><div class="ttname"><a href="classllvm_1_1Module.html#a5ac6567830d23e78dd0f83deaa6ccac1">llvm::Module::globals</a></div><div class="ttdeci">iterator_range&lt; global_iterator &gt; globals()</div><div class="ttdef"><b>Definition:</b> <a href="Module_8h_source.html#l00667">Module.h:667</a></div></div>
<div class="ttc" id="aREADME__ALTIVEC_8txt_html_a9aacd9146afe44bf656cd664e2a88c8c"><div class="ttname"><a href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a></div><div class="ttdeci">(vector float) vec_cmpeq(*A, *B) C</div><div class="ttdef"><b>Definition:</b> <a href="README__ALTIVEC_8txt_source.html#l00086">README_ALTIVEC.txt:86</a></div></div>
<div class="ttc" id="anamespacellvm_1_1dwarf_html_a5d3c920b66ea797d6adb243862fdf47a"><div class="ttname"><a href="namespacellvm_1_1dwarf.html#a5d3c920b66ea797d6adb243862fdf47a">llvm::dwarf::Index</a></div><div class="ttdeci">Index</div><div class="ttdef"><b>Definition:</b> <a href="Dwarf_8h_source.html#l00550">Dwarf.h:550</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_a35ee267850af7c235474a8c46c7ac5af"><div class="ttname"><a href="classllvm_1_1Value.html#a35ee267850af7c235474a8c46c7ac5af">llvm::Value::setName</a></div><div class="ttdeci">void setName(const Twine &amp;Name)</div><div class="ttdoc">Change the name of the value.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8cpp_source.html#l00375">Value.cpp:375</a></div></div>
<div class="ttc" id="aclassllvm_1_1ModuleSummaryIndex_html_a630485ed965c70ea8e34338f2283404c"><div class="ttname"><a href="classllvm_1_1ModuleSummaryIndex.html#a630485ed965c70ea8e34338f2283404c">llvm::ModuleSummaryIndex::findSummaryInModule</a></div><div class="ttdeci">GlobalValueSummary * findSummaryInModule(ValueInfo VI, StringRef ModuleId) const</div><div class="ttdoc">Find the summary for ValueInfo VI in module ModuleId, or nullptr if not found.</div><div class="ttdef"><b>Definition:</b> <a href="ModuleSummaryIndex_8h_source.html#l01554">ModuleSummaryIndex.h:1554</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html_aedfa75f0c85c4aa85b257f066fbea57ca1511edd03e02d1f3dd277a3c6abf6ad5"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#aedfa75f0c85c4aa85b257f066fbea57ca1511edd03e02d1f3dd277a3c6abf6ad5">llvm::GlobalValue::InternalLinkage</a></div><div class="ttdeci">@ InternalLinkage</div><div class="ttdoc">Rename collisions when linking (static functions).</div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00055">GlobalValue.h:55</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html_a97918d8b2f03a703571385ca2d0fe5cd"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#a97918d8b2f03a703571385ca2d0fe5cd">llvm::GlobalValue::getGUID</a></div><div class="ttdeci">static GUID getGUID(StringRef GlobalName)</div><div class="ttdoc">Return a 64-bit global unique ID constructed from global value name (i.e.</div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00587">GlobalValue.h:587</a></div></div>
<div class="ttc" id="astructllvm_1_1ValueInfo_html"><div class="ttname"><a href="structllvm_1_1ValueInfo.html">llvm::ValueInfo</a></div><div class="ttdoc">Struct that holds a reference to a particular GUID in a global value summary.</div><div class="ttdef"><b>Definition:</b> <a href="ModuleSummaryIndex_8h_source.html#l00169">ModuleSummaryIndex.h:169</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallString_html"><div class="ttname"><a href="classllvm_1_1SmallString.html">llvm::SmallString&lt; 256 &gt;</a></div></div>
<div class="ttc" id="aclassllvm_1_1cl_1_1opt_html"><div class="ttname"><a href="classllvm_1_1cl_1_1opt.html">llvm::cl::opt&lt; bool &gt;</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html"><div class="ttname"><a href="classllvm_1_1GlobalValue.html">llvm::GlobalValue</a></div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00044">GlobalValue.h:44</a></div></div>
<div class="ttc" id="aSIInstrInfo_8cpp_html_a0dfd55eaf0bcb495f09ecf8c55b256b2a97bce951e4585a39601c04d86bb14ffd"><div class="ttname"><a href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a97bce951e4585a39601c04d86bb14ffd">VI</a></div><div class="ttdeci">@ VI</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l07994">SIInstrInfo.cpp:7994</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html_a9e1fc23a17e97d2d1732e753ae9251ac"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#a9e1fc23a17e97d2d1732e753ae9251ac">llvm::GlobalValue::getParent</a></div><div class="ttdeci">Module * getParent()</div><div class="ttdoc">Get the module that this global value is contained inside of...</div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00652">GlobalValue.h:652</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html_aedfa75f0c85c4aa85b257f066fbea57ca8d13a9bcecfac72febceb1103afa048f"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#aedfa75f0c85c4aa85b257f066fbea57ca8d13a9bcecfac72febceb1103afa048f">llvm::GlobalValue::WeakAnyLinkage</a></div><div class="ttdeci">@ WeakAnyLinkage</div><div class="ttdoc">Keep one copy of named function when linking (weak)</div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00052">GlobalValue.h:52</a></div></div>
<div class="ttc" id="aclassllvm_1_1ModuleSummaryIndex_html_a62fac0638e2f98e3a85a13fd8deefdc5"><div class="ttname"><a href="classllvm_1_1ModuleSummaryIndex.html#a62fac0638e2f98e3a85a13fd8deefdc5">llvm::ModuleSummaryIndex::getValueInfo</a></div><div class="ttdeci">ValueInfo getValueInfo(const GlobalValueSummaryMapTy::value_type &amp;R) const</div><div class="ttdoc">Return a ValueInfo for the index value_type (convenient when iterating index).</div><div class="ttdef"><b>Definition:</b> <a href="ModuleSummaryIndex_8h_source.html#l01468">ModuleSummaryIndex.h:1468</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html_a687973de03d041e04b50a76d19d4fd36"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#a687973de03d041e04b50a76d19d4fd36">llvm::GlobalValue::setLinkage</a></div><div class="ttdeci">void setLinkage(LinkageTypes LT)</div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00532">GlobalValue.h:532</a></div></div>
<div class="ttc" id="aclassllvm_1_1Module_html_ab83085f68d866564c5dd63143c8cac2e"><div class="ttname"><a href="classllvm_1_1Module.html#ab83085f68d866564c5dd63143c8cac2e">llvm::Module::getOrInsertComdat</a></div><div class="ttdeci">Comdat * getOrInsertComdat(StringRef Name)</div><div class="ttdoc">Return the Comdat in the module with the specified name.</div><div class="ttdef"><b>Definition:</b> <a href="Module_8cpp_source.html#l00582">Module.cpp:582</a></div></div>
<div class="ttc" id="anamespacellvm_1_1logicalview_html_a8d87e69e124542d3338b631934cdbea9a290612199861c31d1036b185b4e69b75"><div class="ttname"><a href="namespacellvm_1_1logicalview.html#a8d87e69e124542d3338b631934cdbea9a290612199861c31d1036b185b4e69b75">llvm::logicalview::LVPrintKind::Summary</a></div><div class="ttdeci">@ Summary</div></div>
<div class="ttc" id="aSILowerControlFlow_8cpp_html_a4868c5d81c5ccc98c47aeab6244346a0"><div class="ttname"><a href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a></div><div class="ttdeci">assert(ImpDefSCC.getReg()==AMDGPU::SCC &amp;&amp;ImpDefSCC.isDef())</div></div>
<div class="ttc" id="anamespacellvm_1_1X86AS_html_aea2591d7d017866934bcf72ee3dc8a31a5b3a782ccae295a254e2794ad30ad07f"><div class="ttname"><a href="namespacellvm_1_1X86AS.html#aea2591d7d017866934bcf72ee3dc8a31a5b3a782ccae295a254e2794ad30ad07f">llvm::X86AS::FS</a></div><div class="ttdeci">@ FS</div><div class="ttdef"><b>Definition:</b> <a href="X86_8h_source.html#l00201">X86.h:201</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html_a3ba1af4b9d9faa4a33729bbbecee83d1"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#a3ba1af4b9d9faa4a33729bbbecee83d1">llvm::GlobalValue::hasLocalLinkage</a></div><div class="ttdeci">bool hasLocalLinkage() const</div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00523">GlobalValue.h:523</a></div></div>
<div class="ttc" id="aclassllvm_1_1Module_html_a168fb8190f7a201fd0c85b276cac268f"><div class="ttname"><a href="classllvm_1_1Module.html#a168fb8190f7a201fd0c85b276cac268f">llvm::Module::getModuleIdentifier</a></div><div class="ttdeci">const std::string &amp; getModuleIdentifier() const</div><div class="ttdoc">Get the module identifier which is, essentially, the name of the module.</div><div class="ttdef"><b>Definition:</b> <a href="Module_8h_source.html#l00228">Module.h:228</a></div></div>
<div class="ttc" id="aclassllvm_1_1Module_html"><div class="ttname"><a href="classllvm_1_1Module.html">llvm::Module</a></div><div class="ttdoc">A Module instance is used to store all the information related to an LLVM module.</div><div class="ttdef"><b>Definition:</b> <a href="Module_8h_source.html#l00065">Module.h:65</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html_aedfa75f0c85c4aa85b257f066fbea57ca96ad6314ba9210b223b93dc3e15baf99"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#aedfa75f0c85c4aa85b257f066fbea57ca96ad6314ba9210b223b93dc3e15baf99">llvm::GlobalValue::AppendingLinkage</a></div><div class="ttdeci">@ AppendingLinkage</div><div class="ttdoc">Special purpose, only applies to global arrays.</div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00054">GlobalValue.h:54</a></div></div>
<div class="ttc" id="aSupport_2ErrorHandling_8h_html_ace243f5c25697a1107cce46626b3dc94"><div class="ttname"><a href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a></div><div class="ttdeci">#define llvm_unreachable(msg)</div><div class="ttdoc">Marks that the current location is not supposed to be reachable.</div><div class="ttdef"><b>Definition:</b> <a href="Support_2ErrorHandling_8h_source.html#l00143">ErrorHandling.h:143</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html_aedfa75f0c85c4aa85b257f066fbea57ca696bb1c9b0b0e76bb70c61f68866452a"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#aedfa75f0c85c4aa85b257f066fbea57ca696bb1c9b0b0e76bb70c61f68866452a">llvm::GlobalValue::WeakODRLinkage</a></div><div class="ttdeci">@ WeakODRLinkage</div><div class="ttdoc">Same, but only replaced by something equivalent.</div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00053">GlobalValue.h:53</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html_a40c699aba3d6b469357ef0b4e1aa2580"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#a40c699aba3d6b469357ef0b4e1aa2580">llvm::GlobalValue::setDLLStorageClass</a></div><div class="ttdeci">void setDLLStorageClass(DLLStorageClassTypes C)</div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00280">GlobalValue.h:280</a></div></div>
<div class="ttc" id="alib_2Target_2ARM_2README_8txt_html_a1b45f45820a60c09244a87eb59824aec"><div class="ttname"><a href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a></div><div class="ttdeci">add sub stmia L5 ldr r0 bl L_printf $stub Instead of a and a wouldn t it be better to do three moves *Return an aggregate type is even return S</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2ARM_2README_8txt_source.html#l00210">README.txt:210</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html_aedfa75f0c85c4aa85b257f066fbea57caa67f293befacbbf974525116ccf2ff42"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#aedfa75f0c85c4aa85b257f066fbea57caa67f293befacbbf974525116ccf2ff42">llvm::GlobalValue::AvailableExternallyLinkage</a></div><div class="ttdeci">@ AvailableExternallyLinkage</div><div class="ttdoc">Available for inspection, not emission.</div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00049">GlobalValue.h:49</a></div></div>
<div class="ttc" id="anamespacellvm_1_1jitlink_html_abee99c9c75d23a0304e5e58e3128a55f"><div class="ttname"><a href="namespacellvm_1_1jitlink.html#abee99c9c75d23a0304e5e58e3128a55f">llvm::jitlink::Linkage</a></div><div class="ttdeci">Linkage</div><div class="ttdoc">Describes symbol linkage.</div><div class="ttdef"><b>Definition:</b> <a href="JITLink_8h_source.html#l00372">JITLink.h:372</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_adb5c319f5905c1d3ca9eb5df546388c5"><div class="ttname"><a href="classllvm_1_1Value.html#adb5c319f5905c1d3ca9eb5df546388c5">llvm::Value::getName</a></div><div class="ttdeci">StringRef getName() const</div><div class="ttdoc">Return a constant reference to the value's name.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8cpp_source.html#l00308">Value.cpp:308</a></div></div>
<div class="ttc" id="aclassllvm_1_1Module_html_a506a727316531d896d2f5e2095eff2b6"><div class="ttname"><a href="classllvm_1_1Module.html#a506a727316531d896d2f5e2095eff2b6">llvm::Module::getSourceFileName</a></div><div class="ttdeci">const std::string &amp; getSourceFileName() const</div><div class="ttdoc">Get the module's original source file name.</div><div class="ttdef"><b>Definition:</b> <a href="Module_8h_source.html#l00239">Module.h:239</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html_aedfa75f0c85c4aa85b257f066fbea57ca08c6a63ca3d9cdb39fb584655bf5c501"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#aedfa75f0c85c4aa85b257f066fbea57ca08c6a63ca3d9cdb39fb584655bf5c501">llvm::GlobalValue::CommonLinkage</a></div><div class="ttdeci">@ CommonLinkage</div><div class="ttdoc">Tentative definitions.</div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00058">GlobalValue.h:58</a></div></div>
<div class="ttc" id="anamespacellvm_1_1GraphProgram_html_a0ad4685976f8c4d4a697a53fbe05d10b"><div class="ttname"><a href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">llvm::GraphProgram::Name</a></div><div class="ttdeci">Name</div><div class="ttdef"><b>Definition:</b> <a href="GraphWriter_8h_source.html#l00050">GraphWriter.h:50</a></div></div>
<div class="ttc" id="aclassllvm_1_1Constant_html_aa6574d526b3e38a28f688a7bb4325c2c"><div class="ttname"><a href="classllvm_1_1Constant.html#aa6574d526b3e38a28f688a7bb4325c2c">llvm::Constant::getNullValue</a></div><div class="ttdeci">static Constant * getNullValue(Type *Ty)</div><div class="ttdoc">Constructor to create a '0' constant of arbitrary type.</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l00356">Constants.cpp:356</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html_a43721e1e88567116e8fca545125d86bf"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#a43721e1e88567116e8fca545125d86bf">llvm::GlobalValue::getComdat</a></div><div class="ttdeci">const Comdat * getComdat() const</div><div class="ttdef"><b>Definition:</b> <a href="Globals_8cpp_source.html#l00185">Globals.cpp:185</a></div></div>
<div class="ttc" id="aFunctionImportUtils_8cpp_html_adcc5a59c0fbf7dda9fface688f9d9a19"><div class="ttname"><a href="FunctionImportUtils_8cpp.html#adcc5a59c0fbf7dda9fface688f9d9a19">UseSourceFilenameForPromotedLocals</a></div><div class="ttdeci">static cl::opt&lt; bool &gt; UseSourceFilenameForPromotedLocals(&quot;use-source-filename-for-promoted-locals&quot;, cl::Hidden, cl::desc(&quot;Uses the source file name instead of the Module hash. &quot; &quot;This requires that the source filename has a unique name / &quot; &quot;path to avoid name collisions.&quot;))</div><div class="ttdoc">Uses the &quot;source_filename&quot; instead of a Module hash ID for the suffix of promoted locals during LTO.</div></div>
<div class="ttc" id="aclassllvm_1_1FunctionImportGlobalProcessing_html"><div class="ttname"><a href="classllvm_1_1FunctionImportGlobalProcessing.html">llvm::FunctionImportGlobalProcessing</a></div><div class="ttdoc">Class to handle necessary GlobalValue changes required by ThinLTO function importing,...</div><div class="ttdef"><b>Definition:</b> <a href="FunctionImportUtils_8h_source.html#l00025">FunctionImportUtils.h:25</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html_aedfa75f0c85c4aa85b257f066fbea57ca6c93794d7b99cd433e96c53eadb15a6e"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#aedfa75f0c85c4aa85b257f066fbea57ca6c93794d7b99cd433e96c53eadb15a6e">llvm::GlobalValue::ExternalLinkage</a></div><div class="ttdeci">@ ExternalLinkage</div><div class="ttdoc">Externally visible function.</div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00048">GlobalValue.h:48</a></div></div>
<div class="ttc" id="aclassllvm_1_1ModuleSummaryIndex_html_a48709f746528161bb2687bba7e1e6927"><div class="ttname"><a href="classllvm_1_1ModuleSummaryIndex.html#a48709f746528161bb2687bba7e1e6927">llvm::ModuleSummaryIndex::isWriteOnly</a></div><div class="ttdeci">bool isWriteOnly(const GlobalVarSummary *GVS) const</div><div class="ttdef"><b>Definition:</b> <a href="ModuleSummaryIndex_8h_source.html#l01439">ModuleSummaryIndex.h:1439</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html_aedfa75f0c85c4aa85b257f066fbea57ca04ed141708c0fd16723d212502b046ae"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#aedfa75f0c85c4aa85b257f066fbea57ca04ed141708c0fd16723d212502b046ae">llvm::GlobalValue::PrivateLinkage</a></div><div class="ttdeci">@ PrivateLinkage</div><div class="ttdoc">Like Internal, but omit from symbol table.</div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00056">GlobalValue.h:56</a></div></div>
<div class="ttc" id="aclassllvm_1_1ModuleSummaryIndex_html"><div class="ttname"><a href="classllvm_1_1ModuleSummaryIndex.html">llvm::ModuleSummaryIndex</a></div><div class="ttdoc">Class to hold module path string table and global value map, and encapsulate methods for operating on...</div><div class="ttdef"><b>Definition:</b> <a href="ModuleSummaryIndex_8h_source.html#l01199">ModuleSummaryIndex.h:1199</a></div></div>
<div class="ttc" id="aclassllvm_1_1ModuleSummaryIndex_html_ab2a95e6bf06c717c20fc64f6c1e5a2fa"><div class="ttname"><a href="classllvm_1_1ModuleSummaryIndex.html#ab2a95e6bf06c717c20fc64f6c1e5a2fa">llvm::ModuleSummaryIndex::getGlobalNameForLocal</a></div><div class="ttdeci">static std::string getGlobalNameForLocal(StringRef Name, ModuleHash ModHash)</div><div class="ttdoc">Convenience method for creating a promoted global name for the given value name of a local,...</div><div class="ttdef"><b>Definition:</b> <a href="ModuleSummaryIndex_8h_source.html#l01614">ModuleSummaryIndex.h:1614</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html_a6b66f492cbea5f4b4f434d7178477116"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#a6b66f492cbea5f4b4f434d7178477116">llvm::GlobalValue::isDeclarationForLinker</a></div><div class="ttdeci">bool isDeclarationForLinker() const</div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00614">GlobalValue.h:614</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html_a66501d6d43642a526ab769458d700aa4"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#a66501d6d43642a526ab769458d700aa4">llvm::GlobalValue::hasDLLImportStorageClass</a></div><div class="ttdeci">bool hasDLLImportStorageClass() const</div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00274">GlobalValue.h:274</a></div></div>
<div class="ttc" id="aclassllvm_1_1StringRef_html_a223dd14e7d12bc5cea01889b972a98b2"><div class="ttname"><a href="classllvm_1_1StringRef.html#a223dd14e7d12bc5cea01889b972a98b2">llvm::StringRef::str</a></div><div class="ttdeci">std::string str() const</div><div class="ttdoc">str - Get the contents as an std::string.</div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00222">StringRef.h:222</a></div></div>
<div class="ttc" id="aclassllvm_1_1ModuleSummaryIndex_html_a02cea51223cff60f08feeb8e5f0ecb6a"><div class="ttname"><a href="classllvm_1_1ModuleSummaryIndex.html#a02cea51223cff60f08feeb8e5f0ecb6a">llvm::ModuleSummaryIndex::withAttributePropagation</a></div><div class="ttdeci">bool withAttributePropagation() const</div><div class="ttdef"><b>Definition:</b> <a href="ModuleSummaryIndex_8h_source.html#l01425">ModuleSummaryIndex.h:1425</a></div></div>
<div class="ttc" id="aclassllvm_1_1Function_1_1ProfileCount_html"><div class="ttname"><a href="classllvm_1_1Function_1_1ProfileCount.html">llvm::Function::ProfileCount</a></div><div class="ttdoc">Class to represent profile counts.</div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00252">Function.h:252</a></div></div>
<div class="ttc" id="astructllvm_1_1cl_1_1desc_html"><div class="ttname"><a href="structllvm_1_1cl_1_1desc.html">llvm::cl::desc</a></div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00411">CommandLine.h:411</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html_aedfa75f0c85c4aa85b257f066fbea57caa81fc8db28ac4af45766fbab2e79d466"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#aedfa75f0c85c4aa85b257f066fbea57caa81fc8db28ac4af45766fbab2e79d466">llvm::GlobalValue::ExternalWeakLinkage</a></div><div class="ttdeci">@ ExternalWeakLinkage</div><div class="ttdoc">ExternalWeak linkage description.</div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00057">GlobalValue.h:57</a></div></div>
<div class="ttc" id="aclassllvm_1_1SetVector_html"><div class="ttname"><a href="classllvm_1_1SetVector.html">llvm::SetVector</a></div><div class="ttdoc">A vector that has set insertion semantics.</div><div class="ttdef"><b>Definition:</b> <a href="SetVector_8h_source.html#l00040">SetVector.h:40</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html_aedfa75f0c85c4aa85b257f066fbea57caf2b592edf18170e7aff4e8f3bae3360c"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#aedfa75f0c85c4aa85b257f066fbea57caf2b592edf18170e7aff4e8f3bae3360c">llvm::GlobalValue::LinkOnceODRLinkage</a></div><div class="ttdeci">@ LinkOnceODRLinkage</div><div class="ttdoc">Same, but only replaced by something equivalent.</div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00051">GlobalValue.h:51</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html_aa242d8ab89216c14beab812e07009b2a"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#aa242d8ab89216c14beab812e07009b2a">llvm::GlobalValue::setVisibility</a></div><div class="ttdeci">void setVisibility(VisibilityTypes V)</div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00250">GlobalValue.h:250</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Aug 7 2023 10:35:55 for LLVM by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
