<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LLVM: include/llvm/Transforms/Utils/SampleProfileLoaderBaseImpl.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LLVM
   &#160;<span id="projectnumber">17.0.0git</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="dir_dcde91663b8816e1e2311938ccd8f690.html">llvm</a></li><li class="navelem"><a class="el" href="dir_5625ec55672b6ae9c183a884d9f7b761.html">Transforms</a></li><li class="navelem"><a class="el" href="dir_b9426ba341d3aa182dc36932de89e798.html">Utils</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">SampleProfileLoaderBaseImpl.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="SampleProfileLoaderBaseImpl_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">////===- SampleProfileLoadBaseImpl.h - Profile loader base impl --*- C++-*-===//</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"></span><span class="comment">//</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// Part of the LLVM Project, under the Apache License v2.0 with LLVM Exceptions.</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">// See https://llvm.org/LICENSE.txt for license information.</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// SPDX-License-Identifier: Apache-2.0 WITH LLVM-exception</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">//</span><span class="comment"></span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">/// \file</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">/// This file provides the interface for the sampled PGO profile loader base</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">/// implementation.</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"></span><span class="comment">//</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160; </div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#ifndef LLVM_TRANSFORMS_UTILS_SAMPLEPROFILELOADERBASEIMPL_H</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#define LLVM_TRANSFORMS_UTILS_SAMPLEPROFILELOADERBASEIMPL_H</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160; </div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ArrayRef_8h.html">llvm/ADT/ArrayRef.h</a>&quot;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DenseMap_8h.html">llvm/ADT/DenseMap.h</a>&quot;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DenseSet_8h.html">llvm/ADT/DenseSet.h</a>&quot;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="IntrusiveRefCntPtr_8h.html">llvm/ADT/IntrusiveRefCntPtr.h</a>&quot;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SmallPtrSet_8h.html">llvm/ADT/SmallPtrSet.h</a>&quot;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SmallSet_8h.html">llvm/ADT/SmallSet.h</a>&quot;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SmallVector_8h.html">llvm/ADT/SmallVector.h</a>&quot;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="LoopInfo_8h.html">llvm/Analysis/LoopInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="OptimizationRemarkEmitter_8h.html">llvm/Analysis/OptimizationRemarkEmitter.h</a>&quot;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="PostDominators_8h.html">llvm/Analysis/PostDominators.h</a>&quot;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="BasicBlock_8h.html">llvm/IR/BasicBlock.h</a>&quot;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="IR_2CFG_8h.html">llvm/IR/CFG.h</a>&quot;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DebugInfoMetadata_8h.html">llvm/IR/DebugInfoMetadata.h</a>&quot;</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DebugLoc_8h.html">llvm/IR/DebugLoc.h</a>&quot;</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Dominators_8h.html">llvm/IR/Dominators.h</a>&quot;</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Function_8h.html">llvm/IR/Function.h</a>&quot;</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="IR_2Instruction_8h.html">llvm/IR/Instruction.h</a>&quot;</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Instructions_8h.html">llvm/IR/Instructions.h</a>&quot;</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Module_8h.html">llvm/IR/Module.h</a>&quot;</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SampleProf_8h.html">llvm/ProfileData/SampleProf.h</a>&quot;</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SampleProfReader_8h.html">llvm/ProfileData/SampleProfReader.h</a>&quot;</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="CommandLine_8h.html">llvm/Support/CommandLine.h</a>&quot;</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="GenericDomTree_8h.html">llvm/Support/GenericDomTree.h</a>&quot;</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="raw__ostream_8h.html">llvm/Support/raw_ostream.h</a>&quot;</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SampleProfileInference_8h.html">llvm/Transforms/Utils/SampleProfileInference.h</a>&quot;</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SampleProfileLoaderBaseUtil_8h.html">llvm/Transforms/Utils/SampleProfileLoaderBaseUtil.h</a>&quot;</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160; </div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacellvm.html">llvm</a> {</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="keyword">using namespace </span>sampleprof;</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="keyword">using namespace </span>sampleprofutil;</div>
<div class="line"><a name="l00048"></a><span class="lineno"><a class="line" href="namespacellvm.html#a23d4c211faf80b8789923262b5b5ae77">   48</a></span>&#160;<span class="keyword">using</span> <a class="code" href="classllvm_1_1Function_1_1ProfileCount.html">ProfileCount</a> = <a class="code" href="namespacellvm.html#a23d4c211faf80b8789923262b5b5ae77">Function::ProfileCount</a>;</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160; </div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="keyword">namespace </span>vfs {</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="keyword">class </span>FileSystem;</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;} <span class="comment">// namespace vfs</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160; </div>
<div class="line"><a name="l00054"></a><span class="lineno"><a class="line" href="SampleProfileLoaderBaseImpl_8h.html#ad78e062f62e0d6e453941fb4ca843e4d">   54</a></span>&#160;<span class="preprocessor">#define DEBUG_TYPE &quot;sample-profile-impl&quot;</span></div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160; </div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="keyword">namespace </span>afdo_detail {</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160; </div>
<div class="line"><a name="l00058"></a><span class="lineno"><a class="line" href="structllvm_1_1afdo__detail_1_1IRTraits.html">   58</a></span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> BlockT&gt; <span class="keyword">struct </span><a class="code" href="structllvm_1_1afdo__detail_1_1IRTraits.html">IRTraits</a>;</div>
<div class="line"><a name="l00059"></a><span class="lineno"><a class="line" href="structllvm_1_1afdo__detail_1_1IRTraits_3_01BasicBlock_01_4.html">   59</a></span>&#160;<span class="keyword">template</span> &lt;&gt; <span class="keyword">struct </span><a class="code" href="structllvm_1_1afdo__detail_1_1IRTraits.html">IRTraits</a>&lt;<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a>&gt; {</div>
<div class="line"><a name="l00060"></a><span class="lineno"><a class="line" href="structllvm_1_1afdo__detail_1_1IRTraits_3_01BasicBlock_01_4.html#abda1a298b66f2ffc0532741fb4a94c52">   60</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="classllvm_1_1Instruction.html">InstructionT</a> = <a class="code" href="classllvm_1_1Instruction.html">Instruction</a>;</div>
<div class="line"><a name="l00061"></a><span class="lineno"><a class="line" href="structllvm_1_1afdo__detail_1_1IRTraits_3_01BasicBlock_01_4.html#a0825b8199b4114ab049ba3e7054c9359">   61</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlockT</a> = <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a8472e46f9e4db168c5610ecdfb05dbaf">BasicBlock</a>;</div>
<div class="line"><a name="l00062"></a><span class="lineno"><a class="line" href="structllvm_1_1afdo__detail_1_1IRTraits_3_01BasicBlock_01_4.html#a01d0f37ff38d3995b767b7cb241bf0e8">   62</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="classllvm_1_1Function.html">FunctionT</a> = <a class="code" href="classllvm_1_1Function.html">Function</a>;</div>
<div class="line"><a name="l00063"></a><span class="lineno"><a class="line" href="structllvm_1_1afdo__detail_1_1IRTraits_3_01BasicBlock_01_4.html#aa470189f56caf4e8dc14edc8ff49d071">   63</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="classllvm_1_1BlockFrequencyInfo.html">BlockFrequencyInfoT</a> = <a class="code" href="classllvm_1_1BlockFrequencyInfo.html">BlockFrequencyInfo</a>;</div>
<div class="line"><a name="l00064"></a><span class="lineno"><a class="line" href="structllvm_1_1afdo__detail_1_1IRTraits_3_01BasicBlock_01_4.html#a240cd5c388627793493e694b9a56a477">   64</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="classllvm_1_1Loop.html">LoopT</a> = <a class="code" href="classllvm_1_1Loop.html">Loop</a>;</div>
<div class="line"><a name="l00065"></a><span class="lineno"><a class="line" href="structllvm_1_1afdo__detail_1_1IRTraits_3_01BasicBlock_01_4.html#a3e60a80fbcf1fbb8c5d3f63ee25aff1e">   65</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="structllvm_1_1afdo__detail_1_1IRTraits_3_01BasicBlock_01_4.html#a3e60a80fbcf1fbb8c5d3f63ee25aff1e">LoopInfoPtrT</a> = std::unique_ptr&lt;LoopInfo&gt;;</div>
<div class="line"><a name="l00066"></a><span class="lineno"><a class="line" href="structllvm_1_1afdo__detail_1_1IRTraits_3_01BasicBlock_01_4.html#ab805cfa6b45a4188429a17a52b7ceffa">   66</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="structllvm_1_1afdo__detail_1_1IRTraits_3_01BasicBlock_01_4.html#ab805cfa6b45a4188429a17a52b7ceffa">DominatorTreePtrT</a> = std::unique_ptr&lt;DominatorTree&gt;;</div>
<div class="line"><a name="l00067"></a><span class="lineno"><a class="line" href="structllvm_1_1afdo__detail_1_1IRTraits_3_01BasicBlock_01_4.html#a8b22299ce39865b9c752dd0852b8ffea">   67</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="classllvm_1_1PostDominatorTree.html">PostDominatorTreeT</a> = <a class="code" href="classllvm_1_1PostDominatorTree.html">PostDominatorTree</a>;</div>
<div class="line"><a name="l00068"></a><span class="lineno"><a class="line" href="structllvm_1_1afdo__detail_1_1IRTraits_3_01BasicBlock_01_4.html#a5dff514081d1085ecb2dbd21fe670896">   68</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="structllvm_1_1afdo__detail_1_1IRTraits_3_01BasicBlock_01_4.html#a5dff514081d1085ecb2dbd21fe670896">PostDominatorTreePtrT</a> = std::unique_ptr&lt;PostDominatorTree&gt;;</div>
<div class="line"><a name="l00069"></a><span class="lineno"><a class="line" href="structllvm_1_1afdo__detail_1_1IRTraits_3_01BasicBlock_01_4.html#a0b3e94a28a0777ca4672d847d251cdad">   69</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="classllvm_1_1OptimizationRemarkEmitter.html">OptRemarkEmitterT</a> = <a class="code" href="classllvm_1_1OptimizationRemarkEmitter.html">OptimizationRemarkEmitter</a>;</div>
<div class="line"><a name="l00070"></a><span class="lineno"><a class="line" href="structllvm_1_1afdo__detail_1_1IRTraits_3_01BasicBlock_01_4.html#ab6b94e44e5a9bc093267e7c6b9c5deac">   70</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="classllvm_1_1OptimizationRemarkAnalysis.html">OptRemarkAnalysisT</a> = <a class="code" href="classllvm_1_1OptimizationRemarkAnalysis.html">OptimizationRemarkAnalysis</a>;</div>
<div class="line"><a name="l00071"></a><span class="lineno"><a class="line" href="structllvm_1_1afdo__detail_1_1IRTraits_3_01BasicBlock_01_4.html#a114ec077305e1aa70587d73fb6e0be7c">   71</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="classllvm_1_1iterator__range.html">PredRangeT</a> = <a class="code" href="namespacellvm.html#a968cc9cbd9f84ee95c72d312364cc8fa">pred_range</a>;</div>
<div class="line"><a name="l00072"></a><span class="lineno"><a class="line" href="structllvm_1_1afdo__detail_1_1IRTraits_3_01BasicBlock_01_4.html#a69f17f976243c9a95248b53dd1962896">   72</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="classllvm_1_1iterator__range.html">SuccRangeT</a> = <a class="code" href="namespacellvm.html#a7e637b8149fb68c1b42113d784746f8d">succ_range</a>;</div>
<div class="line"><a name="l00073"></a><span class="lineno"><a class="line" href="structllvm_1_1afdo__detail_1_1IRTraits_3_01BasicBlock_01_4.html#a48d095e099b66b239f18be0b7a820192">   73</a></span>&#160;  <span class="keyword">static</span> <a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="structllvm_1_1afdo__detail_1_1IRTraits_3_01BasicBlock_01_4.html#a48d095e099b66b239f18be0b7a820192">getFunction</a>(<a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>) { <span class="keywordflow">return</span> <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>; }</div>
<div class="line"><a name="l00074"></a><span class="lineno"><a class="line" href="structllvm_1_1afdo__detail_1_1IRTraits_3_01BasicBlock_01_4.html#adcdceac36222fa231c07e889021767b3">   74</a></span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="structllvm_1_1afdo__detail_1_1IRTraits_3_01BasicBlock_01_4.html#adcdceac36222fa231c07e889021767b3">getEntryBB</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>) {</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    <span class="keywordflow">return</span> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getEntryBlock();</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;  }</div>
<div class="line"><a name="l00077"></a><span class="lineno"><a class="line" href="structllvm_1_1afdo__detail_1_1IRTraits_3_01BasicBlock_01_4.html#a7817f663e285a2803b8123092855ed04">   77</a></span>&#160;  <span class="keyword">static</span> <a class="code" href="classllvm_1_1iterator__range.html">pred_range</a> <a class="code" href="structllvm_1_1afdo__detail_1_1IRTraits_3_01BasicBlock_01_4.html#a7817f663e285a2803b8123092855ed04">getPredecessors</a>(<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>) { <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#acb22fb04083152eee862457e42e8dc31">predecessors</a>(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>); }</div>
<div class="line"><a name="l00078"></a><span class="lineno"><a class="line" href="structllvm_1_1afdo__detail_1_1IRTraits_3_01BasicBlock_01_4.html#a834028e4bacd9dbc8a83de255a786c1e">   78</a></span>&#160;  <span class="keyword">static</span> <a class="code" href="classllvm_1_1iterator__range.html">succ_range</a> <a class="code" href="structllvm_1_1afdo__detail_1_1IRTraits_3_01BasicBlock_01_4.html#a834028e4bacd9dbc8a83de255a786c1e">getSuccessors</a>(<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>) { <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a26e2a938b431eaa6eca2beaa96410c9d">successors</a>(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>); }</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;};</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160; </div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;} <span class="comment">// end namespace afdo_detail</span></div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160; </div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="keyword">extern</span> cl::opt&lt;bool&gt; <a class="code" href="namespacellvm.html#a765b03312883ea5c9c220bb9908cd66a">SampleProfileUseProfi</a>;</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160; </div>
<div class="line"><a name="l00085"></a><span class="lineno"><a class="line" href="classllvm_1_1SampleProfileLoaderBaseImpl.html">   85</a></span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> BT&gt; <span class="keyword">class </span><a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html">SampleProfileLoaderBaseImpl</a> {</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00087"></a><span class="lineno"><a class="line" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#afb7ae9f9cd956e3c328fad642b5e438a">   87</a></span>&#160;  <a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#afb7ae9f9cd956e3c328fad642b5e438a">SampleProfileLoaderBaseImpl</a>(std::string Name, std::string RemapName,</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;                              <a class="code" href="classllvm_1_1IntrusiveRefCntPtr.html">IntrusiveRefCntPtr&lt;vfs::FileSystem&gt;</a> <a class="code" href="namespacellvm_1_1X86AS.html#aea2591d7d017866934bcf72ee3dc8a31a5b3a782ccae295a254e2794ad30ad07f">FS</a>)</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;      : Filename(Name), RemappingFilename(RemapName), <a class="code" href="namespacellvm_1_1X86AS.html#aea2591d7d017866934bcf72ee3dc8a31a5b3a782ccae295a254e2794ad30ad07f">FS</a>(<a class="code" href="namespacestd.html">std</a>::<a class="code" href="namespacellvm.html#abfc9c7ecf70f66901e439f7c04ef3dbb">move</a>(<a class="code" href="namespacellvm_1_1X86AS.html#aea2591d7d017866934bcf72ee3dc8a31a5b3a782ccae295a254e2794ad30ad07f">FS</a>)) {}</div>
<div class="line"><a name="l00090"></a><span class="lineno"><a class="line" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#acbb9f0630f7cc7ce07d70bba9e4b2372">   90</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#acbb9f0630f7cc7ce07d70bba9e4b2372">dump</a>() { Reader-&gt;dump(); }</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160; </div>
<div class="line"><a name="l00092"></a><span class="lineno"><a class="line" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#ab5fb974f1a307a6d0561b35a9b565242">   92</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#ab5fb974f1a307a6d0561b35a9b565242">InstructionT</a> = <span class="keyword">typename</span> <a class="code" href="structllvm_1_1afdo__detail_1_1IRTraits.html">afdo_detail::IRTraits&lt;BT&gt;::InstructionT</a>;</div>
<div class="line"><a name="l00093"></a><span class="lineno"><a class="line" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#aed3dd8935ffb4061231a133783763be5">   93</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#aed3dd8935ffb4061231a133783763be5">BasicBlockT</a> = <span class="keyword">typename</span> <a class="code" href="structllvm_1_1afdo__detail_1_1IRTraits.html">afdo_detail::IRTraits&lt;BT&gt;::BasicBlockT</a>;</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;  <span class="keyword">using</span> <a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#a0c964287954595c597f7e227abd698e6">BlockFrequencyInfoT</a> =</div>
<div class="line"><a name="l00095"></a><span class="lineno"><a class="line" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#a0c964287954595c597f7e227abd698e6">   95</a></span>&#160;      <span class="keyword">typename</span> <a class="code" href="structllvm_1_1afdo__detail_1_1IRTraits.html">afdo_detail::IRTraits&lt;BT&gt;::BlockFrequencyInfoT</a>;</div>
<div class="line"><a name="l00096"></a><span class="lineno"><a class="line" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#aaf038272d638dde2d908254d5d4b68c1">   96</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#aaf038272d638dde2d908254d5d4b68c1">FunctionT</a> = <span class="keyword">typename</span> <a class="code" href="structllvm_1_1afdo__detail_1_1IRTraits.html">afdo_detail::IRTraits&lt;BT&gt;::FunctionT</a>;</div>
<div class="line"><a name="l00097"></a><span class="lineno"><a class="line" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#adaa46f83f7e4631c12dd3892d0452444">   97</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#adaa46f83f7e4631c12dd3892d0452444">LoopT</a> = <span class="keyword">typename</span> <a class="code" href="structllvm_1_1afdo__detail_1_1IRTraits.html">afdo_detail::IRTraits&lt;BT&gt;::LoopT</a>;</div>
<div class="line"><a name="l00098"></a><span class="lineno"><a class="line" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#af944336c9694e8b13a23f957adb5e241">   98</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#af944336c9694e8b13a23f957adb5e241">LoopInfoPtrT</a> = <span class="keyword">typename</span> <a class="code" href="structllvm_1_1afdo__detail_1_1IRTraits.html">afdo_detail::IRTraits&lt;BT&gt;::LoopInfoPtrT</a>;</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;  <span class="keyword">using</span> <a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#a53dd05b642933569edd2a0075ffcb234">DominatorTreePtrT</a> =</div>
<div class="line"><a name="l00100"></a><span class="lineno"><a class="line" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#a53dd05b642933569edd2a0075ffcb234">  100</a></span>&#160;      <span class="keyword">typename</span> <a class="code" href="structllvm_1_1afdo__detail_1_1IRTraits.html">afdo_detail::IRTraits&lt;BT&gt;::DominatorTreePtrT</a>;</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;  <span class="keyword">using</span> <a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#a6ba9df1b0db2c702bc32631d2c4b6292">PostDominatorTreePtrT</a> =</div>
<div class="line"><a name="l00102"></a><span class="lineno"><a class="line" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#a6ba9df1b0db2c702bc32631d2c4b6292">  102</a></span>&#160;      <span class="keyword">typename</span> <a class="code" href="structllvm_1_1afdo__detail_1_1IRTraits.html">afdo_detail::IRTraits&lt;BT&gt;::PostDominatorTreePtrT</a>;</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;  <span class="keyword">using</span> <a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#a3b79d6f4a03285d7146a23eeecdc6c25">PostDominatorTreeT</a> =</div>
<div class="line"><a name="l00104"></a><span class="lineno"><a class="line" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#a3b79d6f4a03285d7146a23eeecdc6c25">  104</a></span>&#160;      <span class="keyword">typename</span> <a class="code" href="structllvm_1_1afdo__detail_1_1IRTraits.html">afdo_detail::IRTraits&lt;BT&gt;::PostDominatorTreeT</a>;</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;  <span class="keyword">using</span> <a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#a281c5ec3208c0b92191ec02c5a134623">OptRemarkEmitterT</a> =</div>
<div class="line"><a name="l00106"></a><span class="lineno"><a class="line" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#a281c5ec3208c0b92191ec02c5a134623">  106</a></span>&#160;      <span class="keyword">typename</span> <a class="code" href="structllvm_1_1afdo__detail_1_1IRTraits.html">afdo_detail::IRTraits&lt;BT&gt;::OptRemarkEmitterT</a>;</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;  <span class="keyword">using</span> <a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#ac0ee0942424477755913381e81155202">OptRemarkAnalysisT</a> =</div>
<div class="line"><a name="l00108"></a><span class="lineno"><a class="line" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#ac0ee0942424477755913381e81155202">  108</a></span>&#160;      <span class="keyword">typename</span> <a class="code" href="structllvm_1_1afdo__detail_1_1IRTraits.html">afdo_detail::IRTraits&lt;BT&gt;::OptRemarkAnalysisT</a>;</div>
<div class="line"><a name="l00109"></a><span class="lineno"><a class="line" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#a68ce35a47318dfcf69ffe53b9ef0149c">  109</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#a68ce35a47318dfcf69ffe53b9ef0149c">PredRangeT</a> = <span class="keyword">typename</span> <a class="code" href="structllvm_1_1afdo__detail_1_1IRTraits.html">afdo_detail::IRTraits&lt;BT&gt;::PredRangeT</a>;</div>
<div class="line"><a name="l00110"></a><span class="lineno"><a class="line" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#abf412576e93da9ce04d19ab7b15fcafe">  110</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#abf412576e93da9ce04d19ab7b15fcafe">SuccRangeT</a> = <span class="keyword">typename</span> <a class="code" href="structllvm_1_1afdo__detail_1_1IRTraits.html">afdo_detail::IRTraits&lt;BT&gt;::SuccRangeT</a>;</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160; </div>
<div class="line"><a name="l00112"></a><span class="lineno"><a class="line" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#a20b8d3884185614bb240ef7e7d820438">  112</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="classllvm_1_1DenseMap.html">BlockWeightMap</a> = <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;const BasicBlockT *, uint64_t&gt;</a>;</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;  <span class="keyword">using</span> <a class="code" href="classllvm_1_1DenseMap.html">EquivalenceClassMap</a> =</div>
<div class="line"><a name="l00114"></a><span class="lineno"><a class="line" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#a58a3b1364c6438efed70dcd33a829897">  114</a></span>&#160;      <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;const BasicBlockT *, const BasicBlockT *&gt;</a>;</div>
<div class="line"><a name="l00115"></a><span class="lineno"><a class="line" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#aff4cd6b62f6834e4ab6d194a6cd10a26">  115</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#aff4cd6b62f6834e4ab6d194a6cd10a26">Edge</a> = std::pair&lt;const BasicBlockT *, const BasicBlockT *&gt;;</div>
<div class="line"><a name="l00116"></a><span class="lineno"><a class="line" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#aac6b36963e1942a9d509343c7b21debc">  116</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="classllvm_1_1DenseMap.html">EdgeWeightMap</a> = <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;Edge, uint64_t&gt;</a>;</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;  <span class="keyword">using</span> <a class="code" href="classllvm_1_1DenseMap.html">BlockEdgeMap</a> =</div>
<div class="line"><a name="l00118"></a><span class="lineno"><a class="line" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#ac754d4ef1b6a988be8739d0af73df7ad">  118</a></span>&#160;      <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;const BasicBlockT *, SmallVector&lt;const BasicBlockT *, 8&gt;</a>&gt;;</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160; </div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;<span class="keyword">protected</span>:</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;  ~<a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html">SampleProfileLoaderBaseImpl</a>() = <span class="keywordflow">default</span>;</div>
<div class="line"><a name="l00122"></a><span class="lineno"><a class="line" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#ac7b0d41f41bd4959483f76524e705bc7">  122</a></span>&#160;  <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classllvm_1_1sampleprofutil_1_1SampleCoverageTracker.html">SampleCoverageTracker</a>;</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160; </div>
<div class="line"><a name="l00124"></a><span class="lineno"><a class="line" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#ac13c44ba5a3daadea234ea734c12d119">  124</a></span>&#160;  <a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#ac13c44ba5a3daadea234ea734c12d119">getFunction</a>(<a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#aaf038272d638dde2d908254d5d4b68c1">FunctionT</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>) {</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="Evaluator_8cpp.html#a0b9941c7c78b50f1f303fa0c6403b199">afdo_detail::IRTraits&lt;BT&gt;::getFunction</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;  }</div>
<div class="line"><a name="l00127"></a><span class="lineno"><a class="line" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#a152139d98825b29fbd420875ffad635a">  127</a></span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#aed3dd8935ffb4061231a133783763be5">BasicBlockT</a> *<a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#a152139d98825b29fbd420875ffad635a">getEntryBB</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#aaf038272d638dde2d908254d5d4b68c1">FunctionT</a> *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>) {</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="structllvm_1_1afdo__detail_1_1IRTraits.html">afdo_detail::IRTraits&lt;BT&gt;::getEntryBB</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;  }</div>
<div class="line"><a name="l00130"></a><span class="lineno"><a class="line" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#acf85432405f186c119ac571547c934b5">  130</a></span>&#160;  <a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#a68ce35a47318dfcf69ffe53b9ef0149c">PredRangeT</a> <a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#acf85432405f186c119ac571547c934b5">getPredecessors</a>(<a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#aed3dd8935ffb4061231a133783763be5">BasicBlockT</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>) {</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="structllvm_1_1afdo__detail_1_1IRTraits.html">afdo_detail::IRTraits&lt;BT&gt;::getPredecessors</a>(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>);</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;  }</div>
<div class="line"><a name="l00133"></a><span class="lineno"><a class="line" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#a3cdac7dd3485c1b3d98e5d01af4f7e8c">  133</a></span>&#160;  <a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#abf412576e93da9ce04d19ab7b15fcafe">SuccRangeT</a> <a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#a3cdac7dd3485c1b3d98e5d01af4f7e8c">getSuccessors</a>(<a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#aed3dd8935ffb4061231a133783763be5">BasicBlockT</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>) {</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="structllvm_1_1afdo__detail_1_1IRTraits.html">afdo_detail::IRTraits&lt;BT&gt;::getSuccessors</a>(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>);</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;  }</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160; </div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;  <span class="keywordtype">unsigned</span> getFunctionLoc(FunctionT &amp;Func);</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;  <span class="keyword">virtual</span> <a class="code" href="classllvm_1_1ErrorOr.html">ErrorOr&lt;uint64_t&gt;</a> getInstWeight(<span class="keyword">const</span> InstructionT &amp;Inst);</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;  <a class="code" href="classllvm_1_1ErrorOr.html">ErrorOr&lt;uint64_t&gt;</a> getInstWeightImpl(<span class="keyword">const</span> InstructionT &amp;Inst);</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;  <a class="code" href="classllvm_1_1ErrorOr.html">ErrorOr&lt;uint64_t&gt;</a> getBlockWeight(<span class="keyword">const</span> BasicBlockT *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>);</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;  <span class="keyword">mutable</span> <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;const DILocation *, const FunctionSamples *&gt;</a></div>
<div class="line"><a name="l00142"></a><span class="lineno"><a class="line" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#af6870481475cc38c5ab35c09f8145d16">  142</a></span>&#160;      <a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#af6870481475cc38c5ab35c09f8145d16">DILocation2SampleMap</a>;</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;  <span class="keyword">virtual</span> <span class="keyword">const</span> <a class="code" href="classllvm_1_1sampleprof_1_1FunctionSamples.html">FunctionSamples</a> *</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;  findFunctionSamples(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#ab5fb974f1a307a6d0561b35a9b565242">InstructionT</a> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;  <span class="keywordtype">void</span> printEdgeWeight(<a class="code" href="classllvm_1_1raw__ostream.html">raw_ostream</a> &amp;<a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>, <a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#aff4cd6b62f6834e4ab6d194a6cd10a26">Edge</a> <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>);</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;  <span class="keywordtype">void</span> printBlockWeight(<a class="code" href="classllvm_1_1raw__ostream.html">raw_ostream</a> &amp;<a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#aed3dd8935ffb4061231a133783763be5">BasicBlockT</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;  <span class="keywordtype">void</span> printBlockEquivalence(<a class="code" href="classllvm_1_1raw__ostream.html">raw_ostream</a> &amp;<a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#aed3dd8935ffb4061231a133783763be5">BasicBlockT</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>);</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;  <span class="keywordtype">bool</span> computeBlockWeights(<a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#aaf038272d638dde2d908254d5d4b68c1">FunctionT</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;  <span class="keywordtype">void</span> findEquivalenceClasses(<a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#aaf038272d638dde2d908254d5d4b68c1">FunctionT</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;  <span class="keywordtype">void</span> findEquivalencesFor(<a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#aed3dd8935ffb4061231a133783763be5">BasicBlockT</a> *BB1,</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;                           <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;BasicBlockT *&gt;</a> Descendants,</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;                           <a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#a3b79d6f4a03285d7146a23eeecdc6c25">PostDominatorTreeT</a> *DomTree);</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;  <span class="keywordtype">void</span> propagateWeights(<a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#aaf038272d638dde2d908254d5d4b68c1">FunctionT</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;  <span class="keywordtype">void</span> applyProfi(<a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#aaf038272d638dde2d908254d5d4b68c1">FunctionT</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, <a class="code" href="classllvm_1_1DenseMap.html">BlockEdgeMap</a> &amp;Successors,</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;                  <a class="code" href="classllvm_1_1DenseMap.html">BlockWeightMap</a> &amp;SampleBlockWeights,</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;                  <a class="code" href="classllvm_1_1DenseMap.html">BlockWeightMap</a> &amp;BlockWeights, <a class="code" href="classllvm_1_1DenseMap.html">EdgeWeightMap</a> &amp;EdgeWeights);</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;  <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> <a class="code" href="namespacellvm_1_1jitlink.html#ae57d1f75b7744618ab2b951f59809506">visitEdge</a>(<a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#aff4cd6b62f6834e4ab6d194a6cd10a26">Edge</a> <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>, <span class="keywordtype">unsigned</span> *NumUnknownEdges, <a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#aff4cd6b62f6834e4ab6d194a6cd10a26">Edge</a> *UnknownEdge);</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;  <span class="keywordtype">void</span> buildEdges(<a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#aaf038272d638dde2d908254d5d4b68c1">FunctionT</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;  <span class="keywordtype">bool</span> propagateThroughEdges(<a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#aaf038272d638dde2d908254d5d4b68c1">FunctionT</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, <span class="keywordtype">bool</span> UpdateBlockCount);</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;  <span class="keywordtype">void</span> clearFunctionData(<span class="keywordtype">bool</span> ResetDT = <span class="keyword">true</span>);</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;  <span class="keywordtype">void</span> computeDominanceAndLoopInfo(<a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#aaf038272d638dde2d908254d5d4b68c1">FunctionT</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;  <span class="keywordtype">bool</span></div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;  computeAndPropagateWeights(<a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#aaf038272d638dde2d908254d5d4b68c1">FunctionT</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>,</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;                             <span class="keyword">const</span> <a class="code" href="classllvm_1_1DenseSet.html">DenseSet&lt;GlobalValue::GUID&gt;</a> &amp;InlinedGUIDs);</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;  <span class="keywordtype">void</span> initWeightPropagation(<a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#aaf038272d638dde2d908254d5d4b68c1">FunctionT</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>,</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;                             <span class="keyword">const</span> <a class="code" href="classllvm_1_1DenseSet.html">DenseSet&lt;GlobalValue::GUID&gt;</a> &amp;InlinedGUIDs);</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;  <span class="keywordtype">void</span></div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;  finalizeWeightPropagation(<a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#aaf038272d638dde2d908254d5d4b68c1">FunctionT</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>,</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;                            <span class="keyword">const</span> <a class="code" href="classllvm_1_1DenseSet.html">DenseSet&lt;GlobalValue::GUID&gt;</a> &amp;InlinedGUIDs);</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;  <span class="keywordtype">void</span> emitCoverageRemarks(<a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#aaf038272d638dde2d908254d5d4b68c1">FunctionT</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;<span class="comment">  /// Map basic blocks to their computed weights.</span></div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;<span class="comment">  /// The weight of a basic block is defined to be the maximum</span></div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;<span class="comment">  /// of all the instruction weights in that block.</span></div>
<div class="line"><a name="l00176"></a><span class="lineno"><a class="line" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#ad9c3b23baf4dd3a323374a1ac01f4bc1">  176</a></span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1DenseMap.html">BlockWeightMap</a> <a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#ad9c3b23baf4dd3a323374a1ac01f4bc1">BlockWeights</a>;</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;<span class="comment">  /// Map edges to their computed weights.</span></div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;<span class="comment">  /// Edge weights are computed by propagating basic block weights in</span></div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;<span class="comment">  /// SampleProfile::propagateWeights.</span></div>
<div class="line"><a name="l00182"></a><span class="lineno"><a class="line" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#aa050c66f6348d1745290d30a312e793a">  182</a></span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1DenseMap.html">EdgeWeightMap</a> <a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#aa050c66f6348d1745290d30a312e793a">EdgeWeights</a>;</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;<span class="comment">  /// Set of visited blocks during propagation.</span></div>
<div class="line"><a name="l00185"></a><span class="lineno"><a class="line" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#a566c71309c8500b26837ddfb834d3fc9">  185</a></span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;const BasicBlockT *, 32&gt;</a> <a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#a566c71309c8500b26837ddfb834d3fc9">VisitedBlocks</a>;</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;<span class="comment">  /// Set of visited edges during propagation.</span></div>
<div class="line"><a name="l00188"></a><span class="lineno"><a class="line" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#a9205ca85a329e9c429f913a3beec1302">  188</a></span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1SmallSet.html">SmallSet&lt;Edge, 32&gt;</a> <a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#a9205ca85a329e9c429f913a3beec1302">VisitedEdges</a>;</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;<span class="comment">  /// Equivalence classes for block weights.</span></div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;<span class="comment">  /// Two blocks BB1 and BB2 are in the same equivalence class if they</span></div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;<span class="comment">  /// dominate and post-dominate each other, and they are in the same loop</span></div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;<span class="comment">  /// nest. When this happens, the two blocks are guaranteed to execute</span></div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;<span class="comment">  /// the same number of times.</span></div>
<div class="line"><a name="l00196"></a><span class="lineno"><a class="line" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#a206e471ead5e20c8189a53e52a89a2b0">  196</a></span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1DenseMap.html">EquivalenceClassMap</a> <a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#a206e471ead5e20c8189a53e52a89a2b0">EquivalenceClass</a>;</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;<span class="comment">  /// Dominance, post-dominance and loop information.</span></div>
<div class="line"><a name="l00199"></a><span class="lineno"><a class="line" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#af620717c7bad2a784671101517c93585">  199</a></span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#a53dd05b642933569edd2a0075ffcb234">DominatorTreePtrT</a> <a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#af620717c7bad2a784671101517c93585">DT</a>;</div>
<div class="line"><a name="l00200"></a><span class="lineno"><a class="line" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#aba709fe852b7f4dc0f337176437c4489">  200</a></span>&#160;  <a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#a6ba9df1b0db2c702bc32631d2c4b6292">PostDominatorTreePtrT</a> <a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#aba709fe852b7f4dc0f337176437c4489">PDT</a>;</div>
<div class="line"><a name="l00201"></a><span class="lineno"><a class="line" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#ad229a859c7b57041b9da4397b0da4fdb">  201</a></span>&#160;  <a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#af944336c9694e8b13a23f957adb5e241">LoopInfoPtrT</a> <a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#ad229a859c7b57041b9da4397b0da4fdb">LI</a>;</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;<span class="comment">  /// Predecessors for each basic block in the CFG.</span></div>
<div class="line"><a name="l00204"></a><span class="lineno"><a class="line" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#a928d2bc4f59f164841f8039acf208834">  204</a></span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1DenseMap.html">BlockEdgeMap</a> <a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#a928d2bc4f59f164841f8039acf208834">Predecessors</a>;</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;<span class="comment">  /// Successors for each basic block in the CFG.</span></div>
<div class="line"><a name="l00207"></a><span class="lineno"><a class="line" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#aba559a6a1bcbfb0ea587c32a9352ceec">  207</a></span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1DenseMap.html">BlockEdgeMap</a> <a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#aba559a6a1bcbfb0ea587c32a9352ceec">Successors</a>;</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;<span class="comment">  /// Profile coverage tracker.</span></div>
<div class="line"><a name="l00210"></a><span class="lineno"><a class="line" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#a895ddc6f326ed16642a1eb5899fdb9cc">  210</a></span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1sampleprofutil_1_1SampleCoverageTracker.html">SampleCoverageTracker</a> <a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#a895ddc6f326ed16642a1eb5899fdb9cc">CoverageTracker</a>;</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;<span class="comment">  /// Profile reader object.</span></div>
<div class="line"><a name="l00213"></a><span class="lineno"><a class="line" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#affaf719e8830364fa7bf44739d3d9152">  213</a></span>&#160;<span class="comment"></span>  std::unique_ptr&lt;SampleProfileReader&gt; <a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#affaf719e8830364fa7bf44739d3d9152">Reader</a>;</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;<span class="comment">  /// Samples collected for the body of this function.</span></div>
<div class="line"><a name="l00216"></a><span class="lineno"><a class="line" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#acb135ec5a575d603275c09f5a064a927">  216</a></span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1sampleprof_1_1FunctionSamples.html">FunctionSamples</a> *Samples = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;<span class="comment">  /// Name of the profile file to load.</span></div>
<div class="line"><a name="l00219"></a><span class="lineno"><a class="line" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#a12401e9f809f3fd6a64c0da1c195733f">  219</a></span>&#160;<span class="comment"></span>  std::string <a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#a12401e9f809f3fd6a64c0da1c195733f">Filename</a>;</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;<span class="comment">  /// Name of the profile remapping file to load.</span></div>
<div class="line"><a name="l00222"></a><span class="lineno"><a class="line" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#a7d4750617c831cd0286436db80f629b7">  222</a></span>&#160;<span class="comment"></span>  std::string <a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#a7d4750617c831cd0286436db80f629b7">RemappingFilename</a>;</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;<span class="comment">  /// VirtualFileSystem to load profile files from.</span></div>
<div class="line"><a name="l00225"></a><span class="lineno"><a class="line" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#a4918c62a66c1409bd63aae4e7ab7d5e4">  225</a></span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1IntrusiveRefCntPtr.html">IntrusiveRefCntPtr&lt;vfs::FileSystem&gt;</a> <a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#a4918c62a66c1409bd63aae4e7ab7d5e4">FS</a>;</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;<span class="comment">  /// Profile Summary Info computed from sample profile.</span></div>
<div class="line"><a name="l00228"></a><span class="lineno"><a class="line" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#a372e81fd821d31613175c0f49aab0f54">  228</a></span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1ProfileSummaryInfo.html">ProfileSummaryInfo</a> *PSI = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;<span class="comment">  /// Optimization Remark Emitter used to emit diagnostic remarks.</span></div>
<div class="line"><a name="l00231"></a><span class="lineno"><a class="line" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#ae44471d67117d34556932e287c380285">  231</a></span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#a281c5ec3208c0b92191ec02c5a134623">OptRemarkEmitterT</a> *ORE = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;};</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;<span class="comment">/// Clear all the per-function data used to load samples and propagate weights.</span></div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;<span class="comment"></span><span class="keyword">template</span> &lt;<span class="keyword">typename</span> BT&gt;</div>
<div class="line"><a name="l00236"></a><span class="lineno"><a class="line" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#ae9bae46af4ef474d7f244e4f9b67e188">  236</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#ae9bae46af4ef474d7f244e4f9b67e188">SampleProfileLoaderBaseImpl&lt;BT&gt;::clearFunctionData</a>(<span class="keywordtype">bool</span> ResetDT) {</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;  BlockWeights.clear();</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;  EdgeWeights.clear();</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;  VisitedBlocks.clear();</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;  VisitedEdges.clear();</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;  EquivalenceClass.clear();</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;  <span class="keywordflow">if</span> (ResetDT) {</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    DT = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    PDT = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    LI = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;  }</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;  Predecessors.clear();</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;  Successors.clear();</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;  CoverageTracker.clear();</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;}</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160; </div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;<span class="preprocessor">#ifndef NDEBUG</span></div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;<span class="comment">/// Print the weight of edge \p E on stream \p OS.</span></div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;<span class="comment"></span><span class="comment">///</span></div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;<span class="comment"></span><span class="comment">/// \param OS  Stream to emit the output to.</span></div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;<span class="comment"></span><span class="comment">/// \param E  Edge to print.</span></div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;<span class="comment"></span><span class="keyword">template</span> &lt;<span class="keyword">typename</span> BT&gt;</div>
<div class="line"><a name="l00258"></a><span class="lineno"><a class="line" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#af80c8905cce458376f69ac1282a07bc3">  258</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#af80c8905cce458376f69ac1282a07bc3">SampleProfileLoaderBaseImpl&lt;BT&gt;::printEdgeWeight</a>(<a class="code" href="classllvm_1_1raw__ostream.html">raw_ostream</a> &amp;<a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>, <a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#aff4cd6b62f6834e4ab6d194a6cd10a26">Edge</a> <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>) {</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;  <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="stringliteral">&quot;weight[&quot;</span> &lt;&lt; <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>.first-&gt;getName() &lt;&lt; <span class="stringliteral">&quot;-&gt;&quot;</span> &lt;&lt; <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>.second-&gt;getName()</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;     &lt;&lt; <span class="stringliteral">&quot;]: &quot;</span> &lt;&lt; EdgeWeights[<a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>] &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;}</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;<span class="comment">/// Print the equivalence class of block \p BB on stream \p OS.</span></div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;<span class="comment">/// \param OS  Stream to emit the output to.</span></div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;<span class="comment">/// \param BB  Block to print.</span></div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;<span class="comment"></span><span class="keyword">template</span> &lt;<span class="keyword">typename</span> BT&gt;</div>
<div class="line"><a name="l00268"></a><span class="lineno"><a class="line" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#a75839e382274534379a37deb48fb80dc">  268</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#a75839e382274534379a37deb48fb80dc">SampleProfileLoaderBaseImpl&lt;BT&gt;::printBlockEquivalence</a>(</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    <a class="code" href="classllvm_1_1raw__ostream.html">raw_ostream</a> &amp;<a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#aed3dd8935ffb4061231a133783763be5">BasicBlockT</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>) {</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#aed3dd8935ffb4061231a133783763be5">BasicBlockT</a> *Equiv = EquivalenceClass[<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>];</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;  <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="stringliteral">&quot;equivalence[&quot;</span> &lt;&lt; <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>-&gt;getName()</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;     &lt;&lt; <span class="stringliteral">&quot;]: &quot;</span> &lt;&lt; ((Equiv) ? EquivalenceClass[<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>]-&gt;<a class="code" href="ProvenanceAnalysisEvaluator_8cpp.html#a2ee79648e8bce3ddbb26358ff10e3e82">getName</a>() : <span class="stringliteral">&quot;NONE&quot;</span>) &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;}</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;<span class="comment">/// Print the weight of block \p BB on stream \p OS.</span></div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;<span class="comment">/// \param OS  Stream to emit the output to.</span></div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;<span class="comment">/// \param BB  Block to print.</span></div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;<span class="comment"></span><span class="keyword">template</span> &lt;<span class="keyword">typename</span> BT&gt;</div>
<div class="line"><a name="l00280"></a><span class="lineno"><a class="line" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#a7222989331e6d8e7845bad3d2d385486">  280</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#a7222989331e6d8e7845bad3d2d385486">SampleProfileLoaderBaseImpl&lt;BT&gt;::printBlockWeight</a>(</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    <a class="code" href="classllvm_1_1raw__ostream.html">raw_ostream</a> &amp;<a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#aed3dd8935ffb4061231a133783763be5">BasicBlockT</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = BlockWeights.find(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>);</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;  <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a> = (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> == BlockWeights.end() ? 0 : <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;second);</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;  <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="stringliteral">&quot;weight[&quot;</span> &lt;&lt; <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>-&gt;getName() &lt;&lt; <span class="stringliteral">&quot;]: &quot;</span> &lt;&lt; <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a> &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;}</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;<span class="comment">/// Get the weight for an instruction.</span></div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;<span class="comment">/// The &quot;weight&quot; of an instruction \p Inst is the number of samples</span></div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;<span class="comment">/// collected on that instruction at runtime. To retrieve it, we</span></div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;<span class="comment">/// need to compute the line number of \p Inst relative to the start of its</span></div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;<span class="comment">/// function. We use HeaderLineno to compute the offset. We then</span></div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;<span class="comment">/// look up the samples collected for \p Inst using BodySamples.</span></div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;<span class="comment">/// \param Inst Instruction to query.</span></div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;<span class="comment">/// \returns the weight of \p Inst.</span></div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;<span class="comment"></span><span class="keyword">template</span> &lt;<span class="keyword">typename</span> BT&gt;</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;<a class="code" href="classllvm_1_1ErrorOr.html">ErrorOr&lt;uint64_t&gt;</a></div>
<div class="line"><a name="l00301"></a><span class="lineno"><a class="line" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#a4242a2c35893bbf85211387709d6a3d1">  301</a></span>&#160;<a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#a4242a2c35893bbf85211387709d6a3d1">SampleProfileLoaderBaseImpl&lt;BT&gt;::getInstWeight</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#ab5fb974f1a307a6d0561b35a9b565242">InstructionT</a> &amp;Inst) {</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;  <span class="keywordflow">return</span> getInstWeightImpl(Inst);</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;}</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160; </div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> BT&gt;</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;<a class="code" href="classllvm_1_1ErrorOr.html">ErrorOr&lt;uint64_t&gt;</a></div>
<div class="line"><a name="l00307"></a><span class="lineno"><a class="line" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#a3fd239026aba79e9aaf5b81578f4198c">  307</a></span>&#160;<a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#a3fd239026aba79e9aaf5b81578f4198c">SampleProfileLoaderBaseImpl&lt;BT&gt;::getInstWeightImpl</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#ab5fb974f1a307a6d0561b35a9b565242">InstructionT</a> &amp;Inst) {</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1sampleprof_1_1FunctionSamples.html">FunctionSamples</a> *<a class="code" href="namespacellvm_1_1X86AS.html#aea2591d7d017866934bcf72ee3dc8a31a5b3a782ccae295a254e2794ad30ad07f">FS</a> = findFunctionSamples(Inst);</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1X86AS.html#aea2591d7d017866934bcf72ee3dc8a31a5b3a782ccae295a254e2794ad30ad07f">FS</a>)</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    <span class="keywordflow">return</span> std::error_code();</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160; </div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> &amp;DLoc = Inst.getDebugLoc();</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;  <span class="keywordflow">if</span> (!DLoc)</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;    <span class="keywordflow">return</span> std::error_code();</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160; </div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1DILocation.html">DILocation</a> *DIL = DLoc;</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;  <a class="code" href="classuint32__t.html">uint32_t</a> LineOffset = <a class="code" href="classllvm_1_1sampleprof_1_1FunctionSamples.html#ab6f00f222e6f6d30bc6a0fc7bf8396de">FunctionSamples::getOffset</a>(DIL);</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;  <a class="code" href="classuint32__t.html">uint32_t</a> Discriminator;</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a61cf315897c96016607a2b8d5916a64d">EnableFSDiscriminator</a>)</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    Discriminator = DIL-&gt;getDiscriminator();</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    Discriminator = DIL-&gt;<a class="code" href="classllvm_1_1DILocation.html#a959d7d5282de6f6f459425591e7482d7">getBaseDiscriminator</a>();</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160; </div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;  <a class="code" href="classllvm_1_1ErrorOr.html">ErrorOr&lt;uint64_t&gt;</a> <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731">R</a> = <a class="code" href="namespacellvm_1_1X86AS.html#aea2591d7d017866934bcf72ee3dc8a31a5b3a782ccae295a254e2794ad30ad07f">FS</a>-&gt;findSamplesAt(LineOffset, Discriminator);</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731">R</a>) {</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    <span class="keywordtype">bool</span> FirstMark =</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;        CoverageTracker.markSamplesUsed(<a class="code" href="namespacellvm_1_1X86AS.html#aea2591d7d017866934bcf72ee3dc8a31a5b3a782ccae295a254e2794ad30ad07f">FS</a>, LineOffset, Discriminator, <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731">R</a>.get());</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    <span class="keywordflow">if</span> (FirstMark) {</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;      ORE-&gt;emit([&amp;]() {</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;        <a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#ac0ee0942424477755913381e81155202">OptRemarkAnalysisT</a> <a class="code" href="namespacellvm.html#ac226f3d2b9ca090171a8e0a8cb92c343a91921ada405fd6ba65dff028df047cb6">Remark</a>(<a class="code" href="SampleProfileLoaderBaseImpl_8h.html#ad78e062f62e0d6e453941fb4ca843e4d">DEBUG_TYPE</a>, <span class="stringliteral">&quot;AppliedSamples&quot;</span>, &amp;Inst);</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;        <a class="code" href="namespacellvm.html#ac226f3d2b9ca090171a8e0a8cb92c343a91921ada405fd6ba65dff028df047cb6">Remark</a> &lt;&lt; <span class="stringliteral">&quot;Applied &quot;</span> &lt;&lt; <a class="code" href="namespacellvm_1_1ore.html#a8f5533240c6722d987a2443cba42019d">ore::NV</a>(<span class="stringliteral">&quot;NumSamples&quot;</span>, *<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731">R</a>);</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;        <a class="code" href="namespacellvm.html#ac226f3d2b9ca090171a8e0a8cb92c343a91921ada405fd6ba65dff028df047cb6">Remark</a> &lt;&lt; <span class="stringliteral">&quot; samples from profile (offset: &quot;</span>;</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;        <a class="code" href="namespacellvm.html#ac226f3d2b9ca090171a8e0a8cb92c343a91921ada405fd6ba65dff028df047cb6">Remark</a> &lt;&lt; <a class="code" href="namespacellvm_1_1ore.html#a8f5533240c6722d987a2443cba42019d">ore::NV</a>(<span class="stringliteral">&quot;LineOffset&quot;</span>, LineOffset);</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;        <span class="keywordflow">if</span> (Discriminator) {</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;          <a class="code" href="namespacellvm.html#ac226f3d2b9ca090171a8e0a8cb92c343a91921ada405fd6ba65dff028df047cb6">Remark</a> &lt;&lt; <span class="stringliteral">&quot;.&quot;</span>;</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;          <a class="code" href="namespacellvm.html#ac226f3d2b9ca090171a8e0a8cb92c343a91921ada405fd6ba65dff028df047cb6">Remark</a> &lt;&lt; <a class="code" href="namespacellvm_1_1ore.html#a8f5533240c6722d987a2443cba42019d">ore::NV</a>(<span class="stringliteral">&quot;Discriminator&quot;</span>, Discriminator);</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;        }</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;        <a class="code" href="namespacellvm.html#ac226f3d2b9ca090171a8e0a8cb92c343a91921ada405fd6ba65dff028df047cb6">Remark</a> &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>;</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#ac226f3d2b9ca090171a8e0a8cb92c343a91921ada405fd6ba65dff028df047cb6">Remark</a>;</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;      });</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    }</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;    &quot;</span> &lt;&lt; DLoc.<a class="code" href="classllvm_1_1DebugLoc.html#a427c256af834975c7869ad28fac00563">getLine</a>() &lt;&lt; <span class="stringliteral">&quot;.&quot;</span> &lt;&lt; Discriminator &lt;&lt; <span class="stringliteral">&quot;:&quot;</span></div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;                      &lt;&lt; Inst &lt;&lt; <span class="stringliteral">&quot; (line offset: &quot;</span> &lt;&lt; LineOffset &lt;&lt; <span class="stringliteral">&quot;.&quot;</span></div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;                      &lt;&lt; Discriminator &lt;&lt; <span class="stringliteral">&quot; - weight: &quot;</span> &lt;&lt; <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731">R</a>.get() &lt;&lt; <span class="stringliteral">&quot;)\n&quot;</span>);</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;  }</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731">R</a>;</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;}</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;<span class="comment">/// Compute the weight of a basic block.</span></div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;<span class="comment">/// The weight of basic block \p BB is the maximum weight of all the</span></div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;<span class="comment">/// instructions in BB.</span></div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;<span class="comment">/// \param BB The basic block to query.</span></div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;<span class="comment">/// \returns the weight for \p BB.</span></div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;<span class="comment"></span><span class="keyword">template</span> &lt;<span class="keyword">typename</span> BT&gt;</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;<a class="code" href="classllvm_1_1ErrorOr.html">ErrorOr&lt;uint64_t&gt;</a></div>
<div class="line"><a name="l00359"></a><span class="lineno"><a class="line" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#a366f5bc39f00b9b44f1f39adca8b414c">  359</a></span>&#160;<a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#a366f5bc39f00b9b44f1f39adca8b414c">SampleProfileLoaderBaseImpl&lt;BT&gt;::getBlockWeight</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#aed3dd8935ffb4061231a133783763be5">BasicBlockT</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>) {</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;  <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> Max = 0;</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;  <span class="keywordtype">bool</span> HasWeight = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> : *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>) {</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1ErrorOr.html">ErrorOr&lt;uint64_t&gt;</a> &amp;<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731">R</a> = getInstWeight(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731">R</a>) {</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;      Max = <a class="code" href="namespacellvm.html#ab4d4bc901fedd8857f647dcc2c0d71de">std::max</a>(Max, <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731">R</a>.get());</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;      HasWeight = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;    }</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;  }</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;  <span class="keywordflow">return</span> HasWeight ? <a class="code" href="classllvm_1_1ErrorOr.html">ErrorOr&lt;uint64_t&gt;</a>(Max) : std::error_code();</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;}</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;<span class="comment">/// Compute and store the weights of every basic block.</span></div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;<span class="comment">/// This populates the BlockWeights map by computing</span></div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;<span class="comment">/// the weights of every basic block in the CFG.</span></div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;<span class="comment">/// \param F The function to query.</span></div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;<span class="comment"></span><span class="keyword">template</span> &lt;<span class="keyword">typename</span> BT&gt;</div>
<div class="line"><a name="l00379"></a><span class="lineno"><a class="line" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#abfedd5d05290a01e9b21cde734588620">  379</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#abfedd5d05290a01e9b21cde734588620">SampleProfileLoaderBaseImpl&lt;BT&gt;::computeBlockWeights</a>(<a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#aaf038272d638dde2d908254d5d4b68c1">FunctionT</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>) {</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;  <span class="keywordtype">bool</span> Changed = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Block weights\n&quot;</span>);</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a> : <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>) {</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    <a class="code" href="classllvm_1_1ErrorOr.html">ErrorOr&lt;uint64_t&gt;</a> Weight = getBlockWeight(&amp;<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>);</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    <span class="keywordflow">if</span> (Weight) {</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;      BlockWeights[&amp;<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>] = Weight.<a class="code" href="classllvm_1_1ErrorOr.html#a7903f14c3b4fb5b4f9f9fa8b4ee0b4eb">get</a>();</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;      VisitedBlocks.insert(&amp;<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>);</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;      Changed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    }</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(printBlockWeight(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>(), &amp;<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>));</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;  }</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160; </div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;  <span class="keywordflow">return</span> Changed;</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;}</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;<span class="comment">/// Get the FunctionSamples for an instruction.</span></div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;<span class="comment">/// The FunctionSamples of an instruction \p Inst is the inlined instance</span></div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;<span class="comment">/// in which that instruction is coming from. We traverse the inline stack</span></div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;<span class="comment">/// of that instruction, and match it with the tree nodes in the profile.</span></div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;<span class="comment">/// \param Inst Instruction to query.</span></div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;<span class="comment">/// \returns the FunctionSamples pointer to the inlined instance.</span></div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;<span class="comment"></span><span class="keyword">template</span> &lt;<span class="keyword">typename</span> BT&gt;</div>
<div class="line"><a name="l00405"></a><span class="lineno"><a class="line" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#ac129a5f56604167d730262a05cb1fd02">  405</a></span>&#160;<span class="keyword">const</span> <a class="code" href="classllvm_1_1sampleprof_1_1FunctionSamples.html">FunctionSamples</a> *<a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#ac129a5f56604167d730262a05cb1fd02">SampleProfileLoaderBaseImpl&lt;BT&gt;::findFunctionSamples</a>(</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#ab5fb974f1a307a6d0561b35a9b565242">InstructionT</a> &amp;Inst)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1DILocation.html">DILocation</a> *DIL = Inst.getDebugLoc();</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;  <span class="keywordflow">if</span> (!DIL)</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;    <span class="keywordflow">return</span> Samples;</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160; </div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;  <span class="keyword">auto</span> <a class="code" href="README-SSE_8txt.html#abb4ce3bc3096a12d4b93460bf78bcf95">it</a> = DILocation2SampleMap.try_emplace(DIL, <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="README-SSE_8txt.html#abb4ce3bc3096a12d4b93460bf78bcf95">it</a>.second) {</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    <a class="code" href="README-SSE_8txt.html#abb4ce3bc3096a12d4b93460bf78bcf95">it</a>.first-&gt;second = Samples-&gt;findFunctionSamples(DIL, Reader-&gt;getRemapper());</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;  }</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="README-SSE_8txt.html#abb4ce3bc3096a12d4b93460bf78bcf95">it</a>.first-&gt;second;</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;}</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;<span class="comment">/// Find equivalence classes for the given block.</span></div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;<span class="comment">/// This finds all the blocks that are guaranteed to execute the same</span></div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;<span class="comment">/// number of times as \p BB1. To do this, it traverses all the</span></div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;<span class="comment">/// descendants of \p BB1 in the dominator or post-dominator tree.</span></div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;<span class="comment">/// A block BB2 will be in the same equivalence class as \p BB1 if</span></div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;<span class="comment">/// the following holds:</span></div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;<span class="comment">/// 1- \p BB1 is a descendant of BB2 in the opposite tree. So, if BB2</span></div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;<span class="comment">///    is a descendant of \p BB1 in the dominator tree, then BB2 should</span></div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;<span class="comment">///    dominate BB1 in the post-dominator tree.</span></div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;<span class="comment">/// 2- Both BB2 and \p BB1 must be in the same loop.</span></div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;<span class="comment">/// For every block BB2 that meets those two requirements, we set BB2&#39;s</span></div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;<span class="comment">/// equivalence class to \p BB1.</span></div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;<span class="comment">/// \param BB1  Block to check.</span></div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;<span class="comment">/// \param Descendants  Descendants of \p BB1 in either the dom or pdom tree.</span></div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;<span class="comment">/// \param DomTree  Opposite dominator tree. If \p Descendants is filled</span></div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;<span class="comment">///                 with blocks from \p BB1&#39;s dominator tree, then</span></div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;<span class="comment">///                 this is the post-dominator tree, and vice versa.</span></div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;<span class="comment"></span><span class="keyword">template</span> &lt;<span class="keyword">typename</span> BT&gt;</div>
<div class="line"><a name="l00442"></a><span class="lineno"><a class="line" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#aee060f872d48fa04e7ec34df784ce088">  442</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#aee060f872d48fa04e7ec34df784ce088">SampleProfileLoaderBaseImpl&lt;BT&gt;::findEquivalencesFor</a>(</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    <a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#aed3dd8935ffb4061231a133783763be5">BasicBlockT</a> *BB1, <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;BasicBlockT *&gt;</a> Descendants,</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;    <a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#a3b79d6f4a03285d7146a23eeecdc6c25">PostDominatorTreeT</a> *DomTree) {</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#aed3dd8935ffb4061231a133783763be5">BasicBlockT</a> *EC = EquivalenceClass[BB1];</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;  <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> Weight = BlockWeights[EC];</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *BB2 : Descendants) {</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;    <span class="keywordtype">bool</span> IsDomParent = DomTree-&gt;dominates(BB2, BB1);</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;    <span class="keywordtype">bool</span> IsInSameLoop = LI-&gt;getLoopFor(BB1) == LI-&gt;getLoopFor(BB2);</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;    <span class="keywordflow">if</span> (BB1 != BB2 &amp;&amp; IsDomParent &amp;&amp; IsInSameLoop) {</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;      EquivalenceClass[BB2] = EC;</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;      <span class="comment">// If BB2 is visited, then the entire EC should be marked as visited.</span></div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;      <span class="keywordflow">if</span> (VisitedBlocks.count(BB2)) {</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;        VisitedBlocks.insert(EC);</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;      }</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160; </div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;      <span class="comment">// If BB2 is heavier than BB1, make BB2 have the same weight</span></div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;      <span class="comment">// as BB1.</span></div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;      <span class="comment">//</span></div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;      <span class="comment">// Note that we don&#39;t worry about the opposite situation here</span></div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;      <span class="comment">// (when BB2 is lighter than BB1). We will deal with this</span></div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;      <span class="comment">// during the propagation phase. Right now, we just want to</span></div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;      <span class="comment">// make sure that BB1 has the largest weight of all the</span></div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;      <span class="comment">// members of its equivalence set.</span></div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;      Weight = <a class="code" href="namespacellvm.html#ab4d4bc901fedd8857f647dcc2c0d71de">std::max</a>(Weight, BlockWeights[BB2]);</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;    }</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;  }</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#aed3dd8935ffb4061231a133783763be5">BasicBlockT</a> *EntryBB = getEntryBB(EC-&gt;getParent());</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;  <span class="keywordflow">if</span> (EC == EntryBB) {</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;    BlockWeights[EC] = Samples-&gt;getHeadSamples() + 1;</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;    BlockWeights[EC] = Weight;</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;  }</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;}</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;<span class="comment">/// Find equivalence classes.</span></div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;<span class="comment">/// Since samples may be missing from blocks, we can fill in the gaps by setting</span></div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;<span class="comment">/// the weights of all the blocks in the same equivalence class to the same</span></div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;<span class="comment">/// weight. To compute the concept of equivalence, we use dominance and loop</span></div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;<span class="comment">/// information. Two blocks B1 and B2 are in the same equivalence class if B1</span></div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;<span class="comment">/// dominates B2, B2 post-dominates B1 and both are in the same loop.</span></div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;<span class="comment">/// \param F The function to query.</span></div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;<span class="comment"></span><span class="keyword">template</span> &lt;<span class="keyword">typename</span> BT&gt;</div>
<div class="line"><a name="l00486"></a><span class="lineno"><a class="line" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#adad5302e31acac871db7fe5c38940377">  486</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#adad5302e31acac871db7fe5c38940377">SampleProfileLoaderBaseImpl&lt;BT&gt;::findEquivalenceClasses</a>(<a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#aaf038272d638dde2d908254d5d4b68c1">FunctionT</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>) {</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;BasicBlockT *, 8&gt;</a> DominatedBBs;</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;\nBlock equivalence classes\n&quot;</span>);</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;  <span class="comment">// Find equivalence sets based on dominance and post-dominance information.</span></div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a> : <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>) {</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;    <a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#aed3dd8935ffb4061231a133783763be5">BasicBlockT</a> *BB1 = &amp;<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>;</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160; </div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;    <span class="comment">// Compute BB1&#39;s equivalence class once.</span></div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;    <span class="keywordflow">if</span> (EquivalenceClass.count(BB1)) {</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;      <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(printBlockEquivalence(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>(), BB1));</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;    }</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160; </div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;    <span class="comment">// By default, blocks are in their own equivalence class.</span></div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;    EquivalenceClass[BB1] = BB1;</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160; </div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;    <span class="comment">// Traverse all the blocks dominated by BB1. We are looking for</span></div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;    <span class="comment">// every basic block BB2 such that:</span></div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;    <span class="comment">// 1- BB1 dominates BB2.</span></div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;    <span class="comment">// 2- BB2 post-dominates BB1.</span></div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;    <span class="comment">// 3- BB1 and BB2 are in the same loop nest.</span></div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;    <span class="comment">// If all those conditions hold, it means that BB2 is executed</span></div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;    <span class="comment">// as many times as BB1, so they are placed in the same equivalence</span></div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;    <span class="comment">// class by making BB2&#39;s equivalence class be BB1.</span></div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;    DominatedBBs.<a class="code" href="classllvm_1_1SmallVectorImpl.html#aac0ea55010b7b1a301e65a0baea057aa">clear</a>();</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;    DT-&gt;getDescendants(BB1, DominatedBBs);</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;    findEquivalencesFor(BB1, DominatedBBs, &amp;*PDT);</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160; </div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(printBlockEquivalence(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>(), BB1));</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;  }</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160; </div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;  <span class="comment">// Assign weights to equivalence classes.</span></div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;  <span class="comment">// All the basic blocks in the same equivalence class will execute</span></div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;  <span class="comment">// the same number of times. Since we know that the head block in</span></div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;  <span class="comment">// each equivalence class has the largest weight, assign that weight</span></div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;  <span class="comment">// to all the blocks in that equivalence class.</span></div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;      <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;\nAssign the same weight to all blocks in the same class\n&quot;</span>);</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;BI : <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>) {</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#aed3dd8935ffb4061231a133783763be5">BasicBlockT</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a> = &amp;BI;</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#aed3dd8935ffb4061231a133783763be5">BasicBlockT</a> *EquivBB = EquivalenceClass[<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>];</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a> != EquivBB)</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;      BlockWeights[<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>] = BlockWeights[EquivBB];</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(printBlockWeight(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>(), <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>));</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;  }</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;}</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;<span class="comment">/// Visit the given edge to decide if it has a valid weight.</span></div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;<span class="comment">/// If \p E has not been visited before, we copy to \p UnknownEdge</span></div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;<span class="comment">/// and increment the count of unknown edges.</span></div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;<span class="comment">/// \param E  Edge to visit.</span></div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;<span class="comment">/// \param NumUnknownEdges  Current number of unknown edges.</span></div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;<span class="comment">/// \param UnknownEdge  Set if E has not been visited before.</span></div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;<span class="comment">/// \returns E&#39;s weight, if known. Otherwise, return 0.</span></div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;<span class="comment"></span><span class="keyword">template</span> &lt;<span class="keyword">typename</span> BT&gt;</div>
<div class="line"><a name="l00547"></a><span class="lineno"><a class="line" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#ab32be71f5ab339400be1f2eba700b290">  547</a></span>&#160;<a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> <a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#ab32be71f5ab339400be1f2eba700b290">SampleProfileLoaderBaseImpl&lt;BT&gt;::visitEdge</a>(<a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#aff4cd6b62f6834e4ab6d194a6cd10a26">Edge</a> <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>,</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;                                                    <span class="keywordtype">unsigned</span> *NumUnknownEdges,</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;                                                    <a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#aff4cd6b62f6834e4ab6d194a6cd10a26">Edge</a> *UnknownEdge) {</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;  <span class="keywordflow">if</span> (!VisitedEdges.count(<a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>)) {</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;    (*NumUnknownEdges)++;</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;    *UnknownEdge = <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>;</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;  }</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160; </div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;  <span class="keywordflow">return</span> EdgeWeights[<a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>];</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;}</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;<span class="comment">/// Propagate weights through incoming/outgoing edges.</span></div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;<span class="comment">/// If the weight of a basic block is known, and there is only one edge</span></div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;<span class="comment">/// with an unknown weight, we can calculate the weight of that edge.</span></div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;<span class="comment">/// Similarly, if all the edges have a known count, we can calculate the</span></div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;<span class="comment">/// count of the basic block, if needed.</span></div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;<span class="comment">/// \param F  Function to process.</span></div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;<span class="comment">/// \param UpdateBlockCount  Whether we should update basic block counts that</span></div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;<span class="comment">///                          has already been annotated.</span></div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;<span class="comment">/// \returns  True if new weights were assigned to edges or blocks.</span></div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;<span class="comment"></span><span class="keyword">template</span> &lt;<span class="keyword">typename</span> BT&gt;</div>
<div class="line"><a name="l00573"></a><span class="lineno"><a class="line" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#aa435e55eb50c7ecc8e69e636eb1fe345">  573</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#aa435e55eb50c7ecc8e69e636eb1fe345">SampleProfileLoaderBaseImpl&lt;BT&gt;::propagateThroughEdges</a>(</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;    <a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#aaf038272d638dde2d908254d5d4b68c1">FunctionT</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, <span class="keywordtype">bool</span> UpdateBlockCount) {</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;  <span class="keywordtype">bool</span> Changed = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;\nPropagation through edges\n&quot;</span>);</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;BI : <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>) {</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#aed3dd8935ffb4061231a133783763be5">BasicBlockT</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a> = &amp;BI;</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#aed3dd8935ffb4061231a133783763be5">BasicBlockT</a> *EC = EquivalenceClass[<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>];</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160; </div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;    <span class="comment">// Visit all the predecessor and successor edges to determine</span></div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;    <span class="comment">// which ones have a weight assigned already. Note that it doesn&#39;t</span></div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;    <span class="comment">// matter that we only keep track of a single unknown edge. The</span></div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;    <span class="comment">// only case we are interested in handling is when only a single</span></div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;    <span class="comment">// edge is unknown (see setEdgeOrBlockWeight).</span></div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 2; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;      <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> TotalWeight = 0;</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;      <span class="keywordtype">unsigned</span> NumUnknownEdges = 0, NumTotalEdges = 0;</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;      <a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#aff4cd6b62f6834e4ab6d194a6cd10a26">Edge</a> UnknownEdge, SelfReferentialEdge, SingleEdge;</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160; </div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> == 0) {</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;        <span class="comment">// First, visit all predecessor edges.</span></div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;        NumTotalEdges = Predecessors[<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>].size();</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">auto</span> *Pred : Predecessors[<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>]) {</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;          <a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#aff4cd6b62f6834e4ab6d194a6cd10a26">Edge</a> <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = std::make_pair(Pred, <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>);</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;          TotalWeight += <a class="code" href="namespacellvm_1_1jitlink.html#ae57d1f75b7744618ab2b951f59809506">visitEdge</a>(<a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>, &amp;NumUnknownEdges, &amp;UnknownEdge);</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>.first == <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>.second)</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;            SelfReferentialEdge = <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>;</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;        }</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;        <span class="keywordflow">if</span> (NumTotalEdges == 1) {</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;          SingleEdge = std::make_pair(Predecessors[<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>][0], <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>);</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;        }</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;        <span class="comment">// On the second round, visit all successor edges.</span></div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;        NumTotalEdges = Successors[<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>].size();</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">auto</span> *Succ : Successors[<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>]) {</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;          <a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#aff4cd6b62f6834e4ab6d194a6cd10a26">Edge</a> <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = std::make_pair(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>, Succ);</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;          TotalWeight += <a class="code" href="namespacellvm_1_1jitlink.html#ae57d1f75b7744618ab2b951f59809506">visitEdge</a>(<a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>, &amp;NumUnknownEdges, &amp;UnknownEdge);</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;        }</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;        <span class="keywordflow">if</span> (NumTotalEdges == 1) {</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;          SingleEdge = std::make_pair(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>, Successors[<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>][0]);</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;        }</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;      }</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160; </div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;      <span class="comment">// After visiting all the edges, there are three cases that we</span></div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;      <span class="comment">// can handle immediately:</span></div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;      <span class="comment">//</span></div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;      <span class="comment">// - All the edge weights are known (i.e., NumUnknownEdges == 0).</span></div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;      <span class="comment">//   In this case, we simply check that the sum of all the edges</span></div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;      <span class="comment">//   is the same as BB&#39;s weight. If not, we change BB&#39;s weight</span></div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;      <span class="comment">//   to match. Additionally, if BB had not been visited before,</span></div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;      <span class="comment">//   we mark it visited.</span></div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;      <span class="comment">//</span></div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;      <span class="comment">// - Only one edge is unknown and BB has already been visited.</span></div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;      <span class="comment">//   In this case, we can compute the weight of the edge by</span></div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;      <span class="comment">//   subtracting the total block weight from all the known</span></div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;      <span class="comment">//   edge weights. If the edges weight more than BB, then the</span></div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;      <span class="comment">//   edge of the last remaining edge is set to zero.</span></div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;      <span class="comment">//</span></div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;      <span class="comment">// - There exists a self-referential edge and the weight of BB is</span></div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;      <span class="comment">//   known. In this case, this edge can be based on BB&#39;s weight.</span></div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;      <span class="comment">//   We add up all the other known edges and set the weight on</span></div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;      <span class="comment">//   the self-referential edge as we did in the previous case.</span></div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;      <span class="comment">//</span></div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;      <span class="comment">// In any other case, we must continue iterating. Eventually,</span></div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;      <span class="comment">// all edges will get a weight, or iteration will stop when</span></div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;      <span class="comment">// it reaches SampleProfileMaxPropagateIterations.</span></div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;      <span class="keywordflow">if</span> (NumUnknownEdges &lt;= 1) {</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;        <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> &amp;BBWeight = BlockWeights[EC];</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;        <span class="keywordflow">if</span> (NumUnknownEdges == 0) {</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;          <span class="keywordflow">if</span> (!VisitedBlocks.count(EC)) {</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;            <span class="comment">// If we already know the weight of all edges, the weight of the</span></div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;            <span class="comment">// basic block can be computed. It should be no larger than the sum</span></div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;            <span class="comment">// of all edge weights.</span></div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;            <span class="keywordflow">if</span> (TotalWeight &gt; BBWeight) {</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;              BBWeight = TotalWeight;</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;              Changed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;              <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;All edge weights for &quot;</span> &lt;&lt; <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>-&gt;getName()</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;                                &lt;&lt; <span class="stringliteral">&quot; known. Set weight for block: &quot;</span>;</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;                         printBlockWeight(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>(), <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>););</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;            }</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;          } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (NumTotalEdges == 1 &amp;&amp;</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;                     EdgeWeights[SingleEdge] &lt; BlockWeights[EC]) {</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;            <span class="comment">// If there is only one edge for the visited basic block, use the</span></div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;            <span class="comment">// block weight to adjust edge weight if edge weight is smaller.</span></div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;            EdgeWeights[SingleEdge] = BlockWeights[EC];</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;            Changed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;          }</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (NumUnknownEdges == 1 &amp;&amp; VisitedBlocks.count(EC)) {</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;          <span class="comment">// If there is a single unknown edge and the block has been</span></div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;          <span class="comment">// visited, then we can compute E&#39;s weight.</span></div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;          <span class="keywordflow">if</span> (BBWeight &gt;= TotalWeight)</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;            EdgeWeights[UnknownEdge] = BBWeight - TotalWeight;</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;          <span class="keywordflow">else</span></div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;            EdgeWeights[UnknownEdge] = 0;</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;          <span class="keyword">const</span> <a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#aed3dd8935ffb4061231a133783763be5">BasicBlockT</a> *OtherEC;</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> == 0)</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;            OtherEC = EquivalenceClass[UnknownEdge.first];</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;          <span class="keywordflow">else</span></div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;            OtherEC = EquivalenceClass[UnknownEdge.second];</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;          <span class="comment">// Edge weights should never exceed the BB weights it connects.</span></div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;          <span class="keywordflow">if</span> (VisitedBlocks.count(OtherEC) &amp;&amp;</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;              EdgeWeights[UnknownEdge] &gt; BlockWeights[OtherEC])</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;            EdgeWeights[UnknownEdge] = BlockWeights[OtherEC];</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;          VisitedEdges.insert(UnknownEdge);</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;          Changed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;          <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Set weight for edge: &quot;</span>;</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;                     printEdgeWeight(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>(), UnknownEdge));</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;        }</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (VisitedBlocks.count(EC) &amp;&amp; BlockWeights[EC] == 0) {</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;        <span class="comment">// If a block Weights 0, all its in/out edges should weight 0.</span></div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> == 0) {</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;          <span class="keywordflow">for</span> (<span class="keyword">auto</span> *Pred : Predecessors[<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>]) {</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;            <a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#aff4cd6b62f6834e4ab6d194a6cd10a26">Edge</a> <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = std::make_pair(Pred, <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>);</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;            EdgeWeights[<a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>] = 0;</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;            VisitedEdges.insert(<a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>);</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;          }</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;          <span class="keywordflow">for</span> (<span class="keyword">auto</span> *Succ : Successors[<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>]) {</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;            <a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#aff4cd6b62f6834e4ab6d194a6cd10a26">Edge</a> <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = std::make_pair(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>, Succ);</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;            EdgeWeights[<a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>] = 0;</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;            VisitedEdges.insert(<a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>);</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;          }</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;        }</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (SelfReferentialEdge.first &amp;&amp; VisitedBlocks.count(EC)) {</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;        <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> &amp;BBWeight = BlockWeights[<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>];</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;        <span class="comment">// We have a self-referential edge and the weight of BB is known.</span></div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;        <span class="keywordflow">if</span> (BBWeight &gt;= TotalWeight)</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;          EdgeWeights[SelfReferentialEdge] = BBWeight - TotalWeight;</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;          EdgeWeights[SelfReferentialEdge] = 0;</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;        VisitedEdges.insert(SelfReferentialEdge);</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;        Changed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;        <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Set self-referential edge weight to: &quot;</span>;</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;                   printEdgeWeight(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>(), SelfReferentialEdge));</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;      }</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;      <span class="keywordflow">if</span> (UpdateBlockCount &amp;&amp; !VisitedBlocks.count(EC) &amp;&amp; TotalWeight &gt; 0) {</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;        BlockWeights[EC] = TotalWeight;</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;        VisitedBlocks.insert(EC);</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;        Changed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;      }</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;    }</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;  }</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160; </div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;  <span class="keywordflow">return</span> Changed;</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;}</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;<span class="comment">/// Build in/out edge lists for each basic block in the CFG.</span></div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;<span class="comment">/// We are interested in unique edges. If a block B1 has multiple</span></div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;<span class="comment">/// edges to another block B2, we only add a single B1-&gt;B2 edge.</span></div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;<span class="comment"></span><span class="keyword">template</span> &lt;<span class="keyword">typename</span> BT&gt;</div>
<div class="line"><a name="l00723"></a><span class="lineno"><a class="line" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#aedaa834891e933cab48185f1bd32354c">  723</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#aedaa834891e933cab48185f1bd32354c">SampleProfileLoaderBaseImpl&lt;BT&gt;::buildEdges</a>(<a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#aaf038272d638dde2d908254d5d4b68c1">FunctionT</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>) {</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;BI : <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>) {</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;    <a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#aed3dd8935ffb4061231a133783763be5">BasicBlockT</a> *B1 = &amp;BI;</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160; </div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;    <span class="comment">// Add predecessors for B1.</span></div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;    <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;BasicBlockT *, 16&gt;</a> Visited;</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;    <span class="keywordflow">if</span> (!Predecessors[B1].empty())</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;      <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Found a stale predecessors list in a basic block.&quot;</span>);</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> *B2 : getPredecessors(B1))</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;      <span class="keywordflow">if</span> (Visited.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">insert</a>(B2).second)</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;        Predecessors[B1].push_back(B2);</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160; </div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;    <span class="comment">// Add successors for B1.</span></div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;    Visited.<a class="code" href="classllvm_1_1SmallPtrSetImplBase.html#a16413f1a88d8baca228d0a1b4cc0bfc6">clear</a>();</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;    <span class="keywordflow">if</span> (!Successors[B1].empty())</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;      <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Found a stale successors list in a basic block.&quot;</span>);</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> *B2 : getSuccessors(B1))</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;      <span class="keywordflow">if</span> (Visited.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">insert</a>(B2).second)</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;        Successors[B1].push_back(B2);</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;  }</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;}</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;<span class="comment">/// Propagate weights into edges</span></div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;<span class="comment">/// The following rules are applied to every block BB in the CFG:</span></div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;<span class="comment">/// - If BB has a single predecessor/successor, then the weight</span></div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;<span class="comment">///   of that edge is the weight of the block.</span></div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;<span class="comment">/// - If all incoming or outgoing edges are known except one, and the</span></div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;<span class="comment">///   weight of the block is already known, the weight of the unknown</span></div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;<span class="comment">///   edge will be the weight of the block minus the sum of all the known</span></div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;<span class="comment">///   edges. If the sum of all the known edges is larger than BB&#39;s weight,</span></div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;<span class="comment">///   we set the unknown edge weight to zero.</span></div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;<span class="comment">/// - If there is a self-referential edge, and the weight of the block is</span></div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;<span class="comment">///   known, the weight for that edge is set to the weight of the block</span></div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;<span class="comment">///   minus the weight of the other incoming edges to that block (if</span></div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;<span class="comment">///   known).</span></div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;<span class="comment"></span><span class="keyword">template</span> &lt;<span class="keyword">typename</span> BT&gt;</div>
<div class="line"><a name="l00763"></a><span class="lineno"><a class="line" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#afeab810a0b4abc92f2650348428220a2">  763</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#afeab810a0b4abc92f2650348428220a2">SampleProfileLoaderBaseImpl&lt;BT&gt;::propagateWeights</a>(<a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#aaf038272d638dde2d908254d5d4b68c1">FunctionT</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>) {</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;  <span class="comment">// Flow-based profile inference is only usable with BasicBlock instantiation</span></div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;  <span class="comment">// of SampleProfileLoaderBaseImpl.</span></div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a765b03312883ea5c9c220bb9908cd66a">SampleProfileUseProfi</a>) {</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;    <span class="comment">// Prepare block sample counts for inference.</span></div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;    <a class="code" href="classllvm_1_1DenseMap.html">BlockWeightMap</a> SampleBlockWeights;</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;BI : <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>) {</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;      <a class="code" href="classllvm_1_1ErrorOr.html">ErrorOr&lt;uint64_t&gt;</a> Weight = getBlockWeight(&amp;BI);</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;      <span class="keywordflow">if</span> (Weight)</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;        SampleBlockWeights[&amp;BI] = Weight.<a class="code" href="classllvm_1_1ErrorOr.html#a7903f14c3b4fb5b4f9f9fa8b4ee0b4eb">get</a>();</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;    }</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;    <span class="comment">// Fill in BlockWeights and EdgeWeights using an inference algorithm.</span></div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;    applyProfi(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, Successors, SampleBlockWeights, BlockWeights, EdgeWeights);</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;    <span class="keywordtype">bool</span> Changed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 0;</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160; </div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;    <span class="comment">// If BB weight is larger than its corresponding loop&#39;s header BB weight,</span></div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;    <span class="comment">// use the BB weight to replace the loop header BB weight.</span></div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;BI : <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>) {</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;      <a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#aed3dd8935ffb4061231a133783763be5">BasicBlockT</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a> = &amp;BI;</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;      <a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#adaa46f83f7e4631c12dd3892d0452444">LoopT</a> *L = LI-&gt;getLoopFor(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>);</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;      <span class="keywordflow">if</span> (!L) {</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;      }</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;      <a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#aed3dd8935ffb4061231a133783763be5">BasicBlockT</a> *Header = L-&gt;getHeader();</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;      <span class="keywordflow">if</span> (Header &amp;&amp; BlockWeights[<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>] &gt; BlockWeights[Header]) {</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;        BlockWeights[Header] = BlockWeights[<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>];</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;      }</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;    }</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160; </div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;    <span class="comment">// Propagate until we converge or we go past the iteration limit.</span></div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;    <span class="keywordflow">while</span> (Changed &amp;&amp; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>++ &lt; <a class="code" href="namespacellvm.html#a5d0168711b41f5dfcb8cc9bc38adabbf">SampleProfileMaxPropagateIterations</a>) {</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;      Changed = propagateThroughEdges(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;    }</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160; </div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;    <span class="comment">// The first propagation propagates BB counts from annotated BBs to unknown</span></div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;    <span class="comment">// BBs. The 2nd propagation pass resets edges weights, and use all BB</span></div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;    <span class="comment">// weights to propagate edge weights.</span></div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;    VisitedEdges.clear();</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;    Changed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;    <span class="keywordflow">while</span> (Changed &amp;&amp; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>++ &lt; <a class="code" href="namespacellvm.html#a5d0168711b41f5dfcb8cc9bc38adabbf">SampleProfileMaxPropagateIterations</a>) {</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;      Changed = propagateThroughEdges(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;    }</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160; </div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;    <span class="comment">// The 3rd propagation pass allows adjust annotated BB weights that are</span></div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;    <span class="comment">// obviously wrong.</span></div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;    Changed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;    <span class="keywordflow">while</span> (Changed &amp;&amp; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>++ &lt; <a class="code" href="namespacellvm.html#a5d0168711b41f5dfcb8cc9bc38adabbf">SampleProfileMaxPropagateIterations</a>) {</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;      Changed = propagateThroughEdges(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;    }</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;  }</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;}</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160; </div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> BT&gt;</div>
<div class="line"><a name="l00818"></a><span class="lineno"><a class="line" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#a6943c253d39ad890238a8e8aa9b9610c">  818</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#a6943c253d39ad890238a8e8aa9b9610c">SampleProfileLoaderBaseImpl&lt;BT&gt;::applyProfi</a>(</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;    <a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#aaf038272d638dde2d908254d5d4b68c1">FunctionT</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, <a class="code" href="classllvm_1_1DenseMap.html">BlockEdgeMap</a> &amp;Successors, <a class="code" href="classllvm_1_1DenseMap.html">BlockWeightMap</a> &amp;SampleBlockWeights,</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;    <a class="code" href="classllvm_1_1DenseMap.html">BlockWeightMap</a> &amp;BlockWeights, <a class="code" href="classllvm_1_1DenseMap.html">EdgeWeightMap</a> &amp;EdgeWeights) {</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;  <span class="keyword">auto</span> Infer = <a class="code" href="classllvm_1_1SampleProfileInference.html">SampleProfileInference&lt;BT&gt;</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, Successors, SampleBlockWeights);</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;  Infer.apply(BlockWeights, EdgeWeights);</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;}</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;<span class="comment">/// Generate branch weight metadata for all branches in \p F.</span></div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;<span class="comment">/// Branch weights are computed out of instruction samples using a</span></div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;<span class="comment">/// propagation heuristic. Propagation proceeds in 3 phases:</span></div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;<span class="comment">/// 1- Assignment of block weights. All the basic blocks in the function</span></div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;<span class="comment">///    are initial assigned the same weight as their most frequently</span></div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;<span class="comment">///    executed instruction.</span></div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;<span class="comment">/// 2- Creation of equivalence classes. Since samples may be missing from</span></div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;<span class="comment">///    blocks, we can fill in the gaps by setting the weights of all the</span></div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;<span class="comment">///    blocks in the same equivalence class to the same weight. To compute</span></div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;<span class="comment">///    the concept of equivalence, we use dominance and loop information.</span></div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;<span class="comment">///    Two blocks B1 and B2 are in the same equivalence class if B1</span></div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;<span class="comment">///    dominates B2, B2 post-dominates B1 and both are in the same loop.</span></div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;<span class="comment">/// 3- Propagation of block weights into edges. This uses a simple</span></div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;<span class="comment">///    propagation heuristic. The following rules are applied to every</span></div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;<span class="comment">///    block BB in the CFG:</span></div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;<span class="comment">///    - If BB has a single predecessor/successor, then the weight</span></div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;<span class="comment">///      of that edge is the weight of the block.</span></div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;<span class="comment">///    - If all the edges are known except one, and the weight of the</span></div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;<span class="comment">///      block is already known, the weight of the unknown edge will</span></div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;<span class="comment">///      be the weight of the block minus the sum of all the known</span></div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;<span class="comment">///      edges. If the sum of all the known edges is larger than BB&#39;s weight,</span></div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;<span class="comment">///      we set the unknown edge weight to zero.</span></div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;<span class="comment">///    - If there is a self-referential edge, and the weight of the block is</span></div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;<span class="comment">///      known, the weight for that edge is set to the weight of the block</span></div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;<span class="comment">///      minus the weight of the other incoming edges to that block (if</span></div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;<span class="comment">///      known).</span></div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;<span class="comment">/// Since this propagation is not guaranteed to finalize for every CFG, we</span></div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;<span class="comment">/// only allow it to proceed for a limited number of iterations (controlled</span></div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;<span class="comment">/// by -sample-profile-max-propagate-iterations).</span></div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;<span class="comment">/// FIXME: Try to replace this propagation heuristic with a scheme</span></div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;<span class="comment">/// that is guaranteed to finalize. A work-list approach similar to</span></div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;<span class="comment">/// the standard value propagation algorithm used by SSA-CCP might</span></div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;<span class="comment">/// work here.</span></div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;<span class="comment">/// \param F The function to query.</span></div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;<span class="comment">/// \returns true if \p F was modified. Returns false, otherwise.</span></div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;<span class="comment"></span><span class="keyword">template</span> &lt;<span class="keyword">typename</span> BT&gt;</div>
<div class="line"><a name="l00872"></a><span class="lineno"><a class="line" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#a040b98a945772423eab83d2ce02f984a">  872</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#a040b98a945772423eab83d2ce02f984a">SampleProfileLoaderBaseImpl&lt;BT&gt;::computeAndPropagateWeights</a>(</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;    <a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#aaf038272d638dde2d908254d5d4b68c1">FunctionT</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1DenseSet.html">DenseSet&lt;GlobalValue::GUID&gt;</a> &amp;InlinedGUIDs) {</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;  <span class="keywordtype">bool</span> Changed = (InlinedGUIDs.<a class="code" href="classllvm_1_1detail_1_1DenseSetImpl.html#a9a025cb106832026cd05c2b4648a699f">size</a>() != 0);</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160; </div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;  <span class="comment">// Compute basic block weights.</span></div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;  Changed |= computeBlockWeights(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160; </div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;  <span class="keywordflow">if</span> (Changed) {</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;    <span class="comment">// Initialize propagation.</span></div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;    initWeightPropagation(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, InlinedGUIDs);</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160; </div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;    <span class="comment">// Propagate weights to all edges.</span></div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;    propagateWeights(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160; </div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;    <span class="comment">// Post-process propagated weights.</span></div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;    finalizeWeightPropagation(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, InlinedGUIDs);</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;  }</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160; </div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;  <span class="keywordflow">return</span> Changed;</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;}</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160; </div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> BT&gt;</div>
<div class="line"><a name="l00894"></a><span class="lineno"><a class="line" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#ab399a6466f9c56febc239c000eee5406">  894</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#ab399a6466f9c56febc239c000eee5406">SampleProfileLoaderBaseImpl&lt;BT&gt;::initWeightPropagation</a>(</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;    <a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#aaf038272d638dde2d908254d5d4b68c1">FunctionT</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1DenseSet.html">DenseSet&lt;GlobalValue::GUID&gt;</a> &amp;InlinedGUIDs) {</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;  <span class="comment">// Add an entry count to the function using the samples gathered at the</span></div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;  <span class="comment">// function entry.</span></div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;  <span class="comment">// Sets the GUIDs that are inlined in the profiled binary. This is used</span></div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;  <span class="comment">// for ThinLink to make correct liveness analysis, and also make the IR</span></div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;  <span class="comment">// match the profiled binary before annotation.</span></div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;  <a class="code" href="Evaluator_8cpp.html#a0b9941c7c78b50f1f303fa0c6403b199">getFunction</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>).setEntryCount(</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;      <a class="code" href="namespacellvm.html#a23d4c211faf80b8789923262b5b5ae77">ProfileCount</a>(Samples-&gt;getHeadSamples() + 1, <a class="code" href="classllvm_1_1Function.html#a438d2f246b76817114ade2a005a6bcabac7dbc704eba08842e6acdde9cf6379ba">Function::PCT_Real</a>),</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;      &amp;InlinedGUIDs);</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160; </div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm.html#a765b03312883ea5c9c220bb9908cd66a">SampleProfileUseProfi</a>) {</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;    <span class="comment">// Compute dominance and loop info needed for propagation.</span></div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;    computeDominanceAndLoopInfo(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160; </div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;    <span class="comment">// Find equivalence classes.</span></div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;    findEquivalenceClasses(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;  }</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160; </div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;  <span class="comment">// Before propagation starts, build, for each block, a list of</span></div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;  <span class="comment">// unique predecessors and successors. This is necessary to handle</span></div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;  <span class="comment">// identical edges in multiway branches. Since we visit all blocks and all</span></div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;  <span class="comment">// edges of the CFG, it is cleaner to build these lists once at the start</span></div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;  <span class="comment">// of the pass.</span></div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;  buildEdges(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;}</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160; </div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> BT&gt;</div>
<div class="line"><a name="l00922"></a><span class="lineno"><a class="line" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#abdc4c98f065999f51c3871a59e5c1de2">  922</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#abdc4c98f065999f51c3871a59e5c1de2">SampleProfileLoaderBaseImpl&lt;BT&gt;::finalizeWeightPropagation</a>(</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;    <a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#aaf038272d638dde2d908254d5d4b68c1">FunctionT</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1DenseSet.html">DenseSet&lt;GlobalValue::GUID&gt;</a> &amp;InlinedGUIDs) {</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;  <span class="comment">// If we utilize a flow-based count inference, then we trust the computed</span></div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;  <span class="comment">// counts and set the entry count as computed by the algorithm. This is</span></div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;  <span class="comment">// primarily done to sync the counts produced by profi and BFI inference,</span></div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;  <span class="comment">// which uses the entry count for mass propagation.</span></div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;  <span class="comment">// If profi produces a zero-value for the entry count, we fallback to</span></div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;  <span class="comment">// Samples-&gt;getHeadSamples() + 1 to avoid functions with zero count.</span></div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a765b03312883ea5c9c220bb9908cd66a">SampleProfileUseProfi</a>) {</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#aed3dd8935ffb4061231a133783763be5">BasicBlockT</a> *EntryBB = getEntryBB(&amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;    <a class="code" href="classllvm_1_1ErrorOr.html">ErrorOr&lt;uint64_t&gt;</a> EntryWeight = getBlockWeight(EntryBB);</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;    <span class="keywordflow">if</span> (BlockWeights[EntryBB] &gt; 0) {</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;      <a class="code" href="Evaluator_8cpp.html#a0b9941c7c78b50f1f303fa0c6403b199">getFunction</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>).setEntryCount(</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;          <a class="code" href="namespacellvm.html#a23d4c211faf80b8789923262b5b5ae77">ProfileCount</a>(BlockWeights[EntryBB], <a class="code" href="classllvm_1_1Function.html#a438d2f246b76817114ade2a005a6bcabac7dbc704eba08842e6acdde9cf6379ba">Function::PCT_Real</a>),</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;          &amp;InlinedGUIDs);</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;    }</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;  }</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;}</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160; </div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> BT&gt;</div>
<div class="line"><a name="l00942"></a><span class="lineno"><a class="line" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#a9da04aa71aaa9243bb7efe549f1dd758">  942</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#a9da04aa71aaa9243bb7efe549f1dd758">SampleProfileLoaderBaseImpl&lt;BT&gt;::emitCoverageRemarks</a>(<a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#aaf038272d638dde2d908254d5d4b68c1">FunctionT</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>) {</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;  <span class="comment">// If coverage checking was requested, compute it now.</span></div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1Function.html">Function</a> &amp;Func = <a class="code" href="Evaluator_8cpp.html#a0b9941c7c78b50f1f303fa0c6403b199">getFunction</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#ac3bb2a12fc3a0f3e6a4a7b33e5ede867">SampleProfileRecordCoverage</a>) {</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;    <span class="keywordtype">unsigned</span> Used = CoverageTracker.countUsedRecords(Samples, PSI);</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm.html#af5ab7a47bc553dfc3ee92daf969d0d7ca96b0141273eabab320119c467cdcaf17">Total</a> = CoverageTracker.countBodyRecords(Samples, PSI);</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;    <span class="keywordtype">unsigned</span> Coverage = CoverageTracker.computeCoverage(Used, <a class="code" href="namespacellvm.html#af5ab7a47bc553dfc3ee92daf969d0d7ca96b0141273eabab320119c467cdcaf17">Total</a>);</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;    <span class="keywordflow">if</span> (Coverage &lt; <a class="code" href="namespacellvm.html#ac3bb2a12fc3a0f3e6a4a7b33e5ede867">SampleProfileRecordCoverage</a>) {</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;      Func.getContext().diagnose(<a class="code" href="classllvm_1_1DiagnosticInfoSampleProfile.html">DiagnosticInfoSampleProfile</a>(</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;          Func.getSubprogram()-&gt;getFilename(), getFunctionLoc(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>),</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;          <a class="code" href="classllvm_1_1Twine.html">Twine</a>(Used) + <span class="stringliteral">&quot; of &quot;</span> + <a class="code" href="classllvm_1_1Twine.html">Twine</a>(<a class="code" href="namespacellvm.html#af5ab7a47bc553dfc3ee92daf969d0d7ca96b0141273eabab320119c467cdcaf17">Total</a>) + <span class="stringliteral">&quot; available profile records (&quot;</span> +</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;              <a class="code" href="classllvm_1_1Twine.html">Twine</a>(Coverage) + <span class="stringliteral">&quot;%) were applied&quot;</span>,</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;          <a class="code" href="namespacellvm.html#abfcab32516704f11d146c757f402ad5ca1cde8c8828756cdaf2a93260e247ae31">DS_Warning</a>));</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;    }</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;  }</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160; </div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a529ab845125f6506d97dfa38d5aafddb">SampleProfileSampleCoverage</a>) {</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;    <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> Used = CoverageTracker.getTotalUsedSamples();</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;    <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> <a class="code" href="namespacellvm.html#af5ab7a47bc553dfc3ee92daf969d0d7ca96b0141273eabab320119c467cdcaf17">Total</a> = CoverageTracker.countBodySamples(Samples, PSI);</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;    <span class="keywordtype">unsigned</span> Coverage = CoverageTracker.computeCoverage(Used, <a class="code" href="namespacellvm.html#af5ab7a47bc553dfc3ee92daf969d0d7ca96b0141273eabab320119c467cdcaf17">Total</a>);</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;    <span class="keywordflow">if</span> (Coverage &lt; <a class="code" href="namespacellvm.html#a529ab845125f6506d97dfa38d5aafddb">SampleProfileSampleCoverage</a>) {</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;      Func.getContext().diagnose(<a class="code" href="classllvm_1_1DiagnosticInfoSampleProfile.html">DiagnosticInfoSampleProfile</a>(</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;          Func.getSubprogram()-&gt;getFilename(), getFunctionLoc(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>),</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;          <a class="code" href="classllvm_1_1Twine.html">Twine</a>(Used) + <span class="stringliteral">&quot; of &quot;</span> + <a class="code" href="classllvm_1_1Twine.html">Twine</a>(<a class="code" href="namespacellvm.html#af5ab7a47bc553dfc3ee92daf969d0d7ca96b0141273eabab320119c467cdcaf17">Total</a>) + <span class="stringliteral">&quot; available profile samples (&quot;</span> +</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;              <a class="code" href="classllvm_1_1Twine.html">Twine</a>(Coverage) + <span class="stringliteral">&quot;%) were applied&quot;</span>,</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;          <a class="code" href="namespacellvm.html#abfcab32516704f11d146c757f402ad5ca1cde8c8828756cdaf2a93260e247ae31">DS_Warning</a>));</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;    }</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;  }</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;}</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;<span class="comment">/// Get the line number for the function header.</span></div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;<span class="comment">/// This looks up function \p F in the current compilation unit and</span></div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;<span class="comment">/// retrieves the line number where the function is defined. This is</span></div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;<span class="comment">/// line 0 for all the samples read from the profile file. Every line</span></div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;<span class="comment">/// number is relative to this line.</span></div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;<span class="comment">/// \param F  Function object to query.</span></div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;<span class="comment">/// \returns the line number where \p F is defined. If it returns 0,</span></div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;<span class="comment">///          it means that there is no debug information available for \p F.</span></div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;<span class="comment"></span><span class="keyword">template</span> &lt;<span class="keyword">typename</span> BT&gt;</div>
<div class="line"><a name="l00984"></a><span class="lineno"><a class="line" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#a3bb6939c9a307a2d7a2bc20363b5433c">  984</a></span>&#160;<span class="keywordtype">unsigned</span> <a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#a3bb6939c9a307a2d7a2bc20363b5433c">SampleProfileLoaderBaseImpl&lt;BT&gt;::getFunctionLoc</a>(<a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#aaf038272d638dde2d908254d5d4b68c1">FunctionT</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>) {</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1Function.html">Function</a> &amp;Func = <a class="code" href="Evaluator_8cpp.html#a0b9941c7c78b50f1f303fa0c6403b199">getFunction</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1DISubprogram.html">DISubprogram</a> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> = Func.getSubprogram())</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>-&gt;getLine();</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160; </div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a057d4a17b9d5b14c1cba62e390c5bf3e">NoWarnSampleUnused</a>)</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160; </div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;  <span class="comment">// If the start of \p F is missing, emit a diagnostic to inform the user</span></div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;  <span class="comment">// about the missed opportunity.</span></div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;  Func.getContext().diagnose(<a class="code" href="classllvm_1_1DiagnosticInfoSampleProfile.html">DiagnosticInfoSampleProfile</a>(</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;      <span class="stringliteral">&quot;No debug information found in function &quot;</span> + Func.getName() +</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;          <span class="stringliteral">&quot;: Function profile not used&quot;</span>,</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;      <a class="code" href="namespacellvm.html#abfcab32516704f11d146c757f402ad5ca1cde8c8828756cdaf2a93260e247ae31">DS_Warning</a>));</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;  <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;}</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160; </div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> BT&gt;</div>
<div class="line"><a name="l01002"></a><span class="lineno"><a class="line" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#aa32a5093f08dd911b5ecc74e59df0c21"> 1002</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#aa32a5093f08dd911b5ecc74e59df0c21">SampleProfileLoaderBaseImpl&lt;BT&gt;::computeDominanceAndLoopInfo</a>(</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;    <a class="code" href="classllvm_1_1SampleProfileLoaderBaseImpl.html#aaf038272d638dde2d908254d5d4b68c1">FunctionT</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>) {</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;  DT.reset(<span class="keyword">new</span> <a class="code" href="classllvm_1_1DominatorTree.html">DominatorTree</a>);</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;  DT-&gt;recalculate(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160; </div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;  PDT.reset(<span class="keyword">new</span> <a class="code" href="classllvm_1_1PostDominatorTree.html">PostDominatorTree</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>));</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160; </div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;  LI.reset(<span class="keyword">new</span> <a class="code" href="classllvm_1_1LoopInfo.html">LoopInfo</a>);</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;  LI-&gt;analyze(*DT);</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;}</div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160; </div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;<span class="preprocessor">#undef DEBUG_TYPE</span></div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160; </div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;} <span class="comment">// namespace llvm</span></div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;<span class="preprocessor">#endif // LLVM_TRANSFORMS_UTILS_SAMPLEPROFILELOADERBASEIMPL_H</span></div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="aclassllvm_1_1SampleProfileLoaderBaseImpl_html_a152139d98825b29fbd420875ffad635a"><div class="ttname"><a href="classllvm_1_1SampleProfileLoaderBaseImpl.html#a152139d98825b29fbd420875ffad635a">llvm::SampleProfileLoaderBaseImpl::getEntryBB</a></div><div class="ttdeci">const BasicBlockT * getEntryBB(const FunctionT *F)</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfileLoaderBaseImpl_8h_source.html#l00127">SampleProfileLoaderBaseImpl.h:127</a></div></div>
<div class="ttc" id="alib_2Target_2README_8txt_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">i</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2README_8txt_source.html#l00029">README.txt:29</a></div></div>
<div class="ttc" id="aProvenanceAnalysisEvaluator_8cpp_html_a2ee79648e8bce3ddbb26358ff10e3e82"><div class="ttname"><a href="ProvenanceAnalysisEvaluator_8cpp.html#a2ee79648e8bce3ddbb26358ff10e3e82">getName</a></div><div class="ttdeci">static StringRef getName(Value *V)</div><div class="ttdef"><b>Definition:</b> <a href="ProvenanceAnalysisEvaluator_8cpp_source.html#l00020">ProvenanceAnalysisEvaluator.cpp:20</a></div></div>
<div class="ttc" id="anamespacellvm_html"><div class="ttname"><a href="namespacellvm.html">llvm</a></div><div class="ttdoc">This is an optimization pass for GlobalISel generic memory operations.</div><div class="ttdef"><b>Definition:</b> <a href="AddressRanges_8h_source.html#l00018">AddressRanges.h:18</a></div></div>
<div class="ttc" id="aclassllvm_1_1SampleProfileLoaderBaseImpl_html_ac0ee0942424477755913381e81155202"><div class="ttname"><a href="classllvm_1_1SampleProfileLoaderBaseImpl.html#ac0ee0942424477755913381e81155202">llvm::SampleProfileLoaderBaseImpl&lt; MachineBasicBlock &gt;::OptRemarkAnalysisT</a></div><div class="ttdeci">typename afdo_detail::IRTraits&lt; MachineBasicBlock &gt;::OptRemarkAnalysisT OptRemarkAnalysisT</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfileLoaderBaseImpl_8h_source.html#l00108">SampleProfileLoaderBaseImpl.h:108</a></div></div>
<div class="ttc" id="aREADME-SSE_8txt_html_abb4ce3bc3096a12d4b93460bf78bcf95"><div class="ttname"><a href="README-SSE_8txt.html#abb4ce3bc3096a12d4b93460bf78bcf95">it</a></div><div class="ttdeci">into xmm2 addss xmm2 xmm1 xmm3 addss xmm3 movaps xmm0 unpcklps xmm0 ret seems silly when it could just be one addps Expand libm rounding functions main should enable SSE DAZ mode and other fast SSE modes Think about doing i64 math in SSE regs on x86 This testcase should have no SSE instructions in it</div><div class="ttdef"><b>Definition:</b> <a href="README-SSE_8txt_source.html#l00081">README-SSE.txt:81</a></div></div>
<div class="ttc" id="aclassllvm_1_1SampleProfileLoaderBaseImpl_html_ac13c44ba5a3daadea234ea734c12d119"><div class="ttname"><a href="classllvm_1_1SampleProfileLoaderBaseImpl.html#ac13c44ba5a3daadea234ea734c12d119">llvm::SampleProfileLoaderBaseImpl::getFunction</a></div><div class="ttdeci">Function &amp; getFunction(FunctionT &amp;F)</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfileLoaderBaseImpl_8h_source.html#l00124">SampleProfileLoaderBaseImpl.h:124</a></div></div>
<div class="ttc" id="aDebugInfoMetadata_8h_html"><div class="ttname"><a href="DebugInfoMetadata_8h.html">DebugInfoMetadata.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1SampleProfileLoaderBaseImpl_html_ab32be71f5ab339400be1f2eba700b290"><div class="ttname"><a href="classllvm_1_1SampleProfileLoaderBaseImpl.html#ab32be71f5ab339400be1f2eba700b290">llvm::SampleProfileLoaderBaseImpl::visitEdge</a></div><div class="ttdeci">uint64_t visitEdge(Edge E, unsigned *NumUnknownEdges, Edge *UnknownEdge)</div><div class="ttdoc">Visit the given edge to decide if it has a valid weight.</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfileLoaderBaseImpl_8h_source.html#l00547">SampleProfileLoaderBaseImpl.h:547</a></div></div>
<div class="ttc" id="aclassllvm_1_1Function_html"><div class="ttname"><a href="classllvm_1_1Function.html">llvm::Function</a></div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00059">Function.h:59</a></div></div>
<div class="ttc" id="aEvaluator_8cpp_html_a0b9941c7c78b50f1f303fa0c6403b199"><div class="ttname"><a href="Evaluator_8cpp.html#a0b9941c7c78b50f1f303fa0c6403b199">getFunction</a></div><div class="ttdeci">static Function * getFunction(Constant *C)</div><div class="ttdef"><b>Definition:</b> <a href="Evaluator_8cpp_source.html#l00236">Evaluator.cpp:236</a></div></div>
<div class="ttc" id="aclassllvm_1_1Loop_html"><div class="ttname"><a href="classllvm_1_1Loop.html">llvm::Loop</a></div><div class="ttdoc">Represents a single loop in the control flow graph.</div><div class="ttdef"><b>Definition:</b> <a href="LoopInfo_8h_source.html#l00547">LoopInfo.h:547</a></div></div>
<div class="ttc" id="aclassllvm_1_1SampleProfileLoaderBaseImpl_html_afb7ae9f9cd956e3c328fad642b5e438a"><div class="ttname"><a href="classllvm_1_1SampleProfileLoaderBaseImpl.html#afb7ae9f9cd956e3c328fad642b5e438a">llvm::SampleProfileLoaderBaseImpl::SampleProfileLoaderBaseImpl</a></div><div class="ttdeci">SampleProfileLoaderBaseImpl(std::string Name, std::string RemapName, IntrusiveRefCntPtr&lt; vfs::FileSystem &gt; FS)</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfileLoaderBaseImpl_8h_source.html#l00087">SampleProfileLoaderBaseImpl.h:87</a></div></div>
<div class="ttc" id="aclassllvm_1_1SampleProfileLoaderBaseImpl_html_abf412576e93da9ce04d19ab7b15fcafe"><div class="ttname"><a href="classllvm_1_1SampleProfileLoaderBaseImpl.html#abf412576e93da9ce04d19ab7b15fcafe">llvm::SampleProfileLoaderBaseImpl&lt; MachineBasicBlock &gt;::SuccRangeT</a></div><div class="ttdeci">typename afdo_detail::IRTraits&lt; MachineBasicBlock &gt;::SuccRangeT SuccRangeT</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfileLoaderBaseImpl_8h_source.html#l00110">SampleProfileLoaderBaseImpl.h:110</a></div></div>
<div class="ttc" id="astructllvm_1_1afdo__detail_1_1IRTraits_3_01BasicBlock_01_4_html_a5dff514081d1085ecb2dbd21fe670896"><div class="ttname"><a href="structllvm_1_1afdo__detail_1_1IRTraits_3_01BasicBlock_01_4.html#a5dff514081d1085ecb2dbd21fe670896">llvm::afdo_detail::IRTraits&lt; BasicBlock &gt;::PostDominatorTreePtrT</a></div><div class="ttdeci">std::unique_ptr&lt; PostDominatorTree &gt; PostDominatorTreePtrT</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfileLoaderBaseImpl_8h_source.html#l00068">SampleProfileLoaderBaseImpl.h:68</a></div></div>
<div class="ttc" id="anamespacellvm_html_a26e2a938b431eaa6eca2beaa96410c9d"><div class="ttname"><a href="namespacellvm.html#a26e2a938b431eaa6eca2beaa96410c9d">llvm::successors</a></div><div class="ttdeci">auto successors(const MachineBasicBlock *BB)</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l01265">MachineBasicBlock.h:1265</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVector_html"><div class="ttname"><a href="classllvm_1_1SmallVector.html">llvm::SmallVector</a></div><div class="ttdoc">This is a 'vector' (really, a variable-sized array), optimized for the case when the array is small.</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l01199">SmallVector.h:1199</a></div></div>
<div class="ttc" id="anamespacellvm_1_1RISCVFenceField_html_a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf"><div class="ttname"><a href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">llvm::RISCVFenceField::W</a></div><div class="ttdeci">@ W</div><div class="ttdef"><b>Definition:</b> <a href="RISCVBaseInfo_8h_source.html#l00279">RISCVBaseInfo.h:279</a></div></div>
<div class="ttc" id="aclassllvm_1_1SampleProfileLoaderBaseImpl_html"><div class="ttname"><a href="classllvm_1_1SampleProfileLoaderBaseImpl.html">llvm::SampleProfileLoaderBaseImpl</a></div><div class="ttdef"><b>Definition:</b> <a href="SampleProfileLoaderBaseImpl_8h_source.html#l00085">SampleProfileLoaderBaseImpl.h:85</a></div></div>
<div class="ttc" id="aclassllvm_1_1SampleProfileLoaderBaseImpl_html_a928d2bc4f59f164841f8039acf208834"><div class="ttname"><a href="classllvm_1_1SampleProfileLoaderBaseImpl.html#a928d2bc4f59f164841f8039acf208834">llvm::SampleProfileLoaderBaseImpl::Predecessors</a></div><div class="ttdeci">BlockEdgeMap Predecessors</div><div class="ttdoc">Predecessors for each basic block in the CFG.</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfileLoaderBaseImpl_8h_source.html#l00204">SampleProfileLoaderBaseImpl.h:204</a></div></div>
<div class="ttc" id="aOptimizationRemarkEmitter_8h_html"><div class="ttname"><a href="OptimizationRemarkEmitter_8h.html">OptimizationRemarkEmitter.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1DominatorTree_html"><div class="ttname"><a href="classllvm_1_1DominatorTree.html">llvm::DominatorTree</a></div><div class="ttdoc">Concrete subclass of DominatorTreeBase that is used to compute a normal dominator tree.</div><div class="ttdef"><b>Definition:</b> <a href="Dominators_8h_source.html#l00166">Dominators.h:166</a></div></div>
<div class="ttc" id="aclassllvm_1_1SampleProfileLoaderBaseImpl_html_aba559a6a1bcbfb0ea587c32a9352ceec"><div class="ttname"><a href="classllvm_1_1SampleProfileLoaderBaseImpl.html#aba559a6a1bcbfb0ea587c32a9352ceec">llvm::SampleProfileLoaderBaseImpl::Successors</a></div><div class="ttdeci">BlockEdgeMap Successors</div><div class="ttdoc">Successors for each basic block in the CFG.</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfileLoaderBaseImpl_8h_source.html#l00207">SampleProfileLoaderBaseImpl.h:207</a></div></div>
<div class="ttc" id="anamespacellvm_html_a61cf315897c96016607a2b8d5916a64d"><div class="ttname"><a href="namespacellvm.html#a61cf315897c96016607a2b8d5916a64d">llvm::EnableFSDiscriminator</a></div><div class="ttdeci">cl::opt&lt; bool &gt; EnableFSDiscriminator</div><div class="ttdef"><b>Definition:</b> <a href="TargetPassConfig_8cpp_source.html#l00378">TargetPassConfig.cpp:378</a></div></div>
<div class="ttc" id="aclassllvm_1_1DILocation_html"><div class="ttname"><a href="classllvm_1_1DILocation.html">llvm::DILocation</a></div><div class="ttdoc">Debug location.</div><div class="ttdef"><b>Definition:</b> <a href="DebugInfoMetadata_8h_source.html#l01605">DebugInfoMetadata.h:1605</a></div></div>
<div class="ttc" id="anamespacellvm_html_af5ab7a47bc553dfc3ee92daf969d0d7ca96b0141273eabab320119c467cdcaf17"><div class="ttname"><a href="namespacellvm.html#af5ab7a47bc553dfc3ee92daf969d0d7ca96b0141273eabab320119c467cdcaf17">llvm::TensorType::Total</a></div><div class="ttdeci">@ Total</div></div>
<div class="ttc" id="aDenseMap_8h_html"><div class="ttname"><a href="DenseMap_8h.html">DenseMap.h</a></div></div>
<div class="ttc" id="aModule_8h_html"><div class="ttname"><a href="Module_8h.html">Module.h</a></div></div>
<div class="ttc" id="astructllvm_1_1afdo__detail_1_1IRTraits_3_01BasicBlock_01_4_html_a834028e4bacd9dbc8a83de255a786c1e"><div class="ttname"><a href="structllvm_1_1afdo__detail_1_1IRTraits_3_01BasicBlock_01_4.html#a834028e4bacd9dbc8a83de255a786c1e">llvm::afdo_detail::IRTraits&lt; BasicBlock &gt;::getSuccessors</a></div><div class="ttdeci">static succ_range getSuccessors(BasicBlock *BB)</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfileLoaderBaseImpl_8h_source.html#l00078">SampleProfileLoaderBaseImpl.h:78</a></div></div>
<div class="ttc" id="aclassllvm_1_1SampleProfileLoaderBaseImpl_html_ad229a859c7b57041b9da4397b0da4fdb"><div class="ttname"><a href="classllvm_1_1SampleProfileLoaderBaseImpl.html#ad229a859c7b57041b9da4397b0da4fdb">llvm::SampleProfileLoaderBaseImpl::LI</a></div><div class="ttdeci">LoopInfoPtrT LI</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfileLoaderBaseImpl_8h_source.html#l00201">SampleProfileLoaderBaseImpl.h:201</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallSet_html"><div class="ttname"><a href="classllvm_1_1SmallSet.html">llvm::SmallSet&lt; Edge, 32 &gt;</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallPtrSet_html"><div class="ttname"><a href="classllvm_1_1SmallPtrSet.html">llvm::SmallPtrSet&lt; const BasicBlockT *, 32 &gt;</a></div></div>
<div class="ttc" id="aclassllvm_1_1SampleProfileLoaderBaseImpl_html_af620717c7bad2a784671101517c93585"><div class="ttname"><a href="classllvm_1_1SampleProfileLoaderBaseImpl.html#af620717c7bad2a784671101517c93585">llvm::SampleProfileLoaderBaseImpl::DT</a></div><div class="ttdeci">DominatorTreePtrT DT</div><div class="ttdoc">Dominance, post-dominance and loop information.</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfileLoaderBaseImpl_8h_source.html#l00199">SampleProfileLoaderBaseImpl.h:199</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ore_html_a8f5533240c6722d987a2443cba42019d"><div class="ttname"><a href="namespacellvm_1_1ore.html#a8f5533240c6722d987a2443cba42019d">llvm::ore::NV</a></div><div class="ttdeci">DiagnosticInfoOptimizationBase::Argument NV</div><div class="ttdef"><b>Definition:</b> <a href="OptimizationRemarkEmitter_8h_source.html#l00136">OptimizationRemarkEmitter.h:136</a></div></div>
<div class="ttc" id="anamespacellvm_html_ab4d4bc901fedd8857f647dcc2c0d71de"><div class="ttname"><a href="namespacellvm.html#ab4d4bc901fedd8857f647dcc2c0d71de">llvm::max</a></div><div class="ttdeci">Expected&lt; ExpressionValue &gt; max(const ExpressionValue &amp;Lhs, const ExpressionValue &amp;Rhs)</div><div class="ttdef"><b>Definition:</b> <a href="FileCheck_8cpp_source.html#l00337">FileCheck.cpp:337</a></div></div>
<div class="ttc" id="aSampleProfileInference_8h_html"><div class="ttname"><a href="SampleProfileInference_8h.html">SampleProfileInference.h</a></div></div>
<div class="ttc" id="aIntrusiveRefCntPtr_8h_html"><div class="ttname"><a href="IntrusiveRefCntPtr_8h.html">IntrusiveRefCntPtr.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1SampleProfileLoaderBaseImpl_html_a0c964287954595c597f7e227abd698e6"><div class="ttname"><a href="classllvm_1_1SampleProfileLoaderBaseImpl.html#a0c964287954595c597f7e227abd698e6">llvm::SampleProfileLoaderBaseImpl&lt; MachineBasicBlock &gt;::BlockFrequencyInfoT</a></div><div class="ttdeci">typename afdo_detail::IRTraits&lt; MachineBasicBlock &gt;::BlockFrequencyInfoT BlockFrequencyInfoT</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfileLoaderBaseImpl_8h_source.html#l00095">SampleProfileLoaderBaseImpl.h:95</a></div></div>
<div class="ttc" id="aDebug_8h_html_a08efc68d15935eb8889400a46c3749ba"><div class="ttname"><a href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a></div><div class="ttdeci">#define LLVM_DEBUG(X)</div><div class="ttdef"><b>Definition:</b> <a href="Debug_8h_source.html#l00101">Debug.h:101</a></div></div>
<div class="ttc" id="aMD5_8cpp_html_a96d73bbd7af15cb1fc38c3f4a3bd82e9"><div class="ttname"><a href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a></div><div class="ttdeci">#define F(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00055">MD5.cpp:55</a></div></div>
<div class="ttc" id="anamespacellvm_1_1RISCVFenceField_html_a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731"><div class="ttname"><a href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731">llvm::RISCVFenceField::R</a></div><div class="ttdeci">@ R</div><div class="ttdef"><b>Definition:</b> <a href="RISCVBaseInfo_8h_source.html#l00278">RISCVBaseInfo.h:278</a></div></div>
<div class="ttc" id="astructllvm_1_1afdo__detail_1_1IRTraits_3_01BasicBlock_01_4_html_a48d095e099b66b239f18be0b7a820192"><div class="ttname"><a href="structllvm_1_1afdo__detail_1_1IRTraits_3_01BasicBlock_01_4.html#a48d095e099b66b239f18be0b7a820192">llvm::afdo_detail::IRTraits&lt; BasicBlock &gt;::getFunction</a></div><div class="ttdeci">static Function &amp; getFunction(Function &amp;F)</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfileLoaderBaseImpl_8h_source.html#l00073">SampleProfileLoaderBaseImpl.h:73</a></div></div>
<div class="ttc" id="aclassllvm_1_1BasicBlock_html"><div class="ttname"><a href="classllvm_1_1BasicBlock.html">llvm::BasicBlock</a></div><div class="ttdoc">LLVM Basic Block Representation.</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8h_source.html#l00055">BasicBlock.h:55</a></div></div>
<div class="ttc" id="aclassllvm_1_1SampleProfileLoaderBaseImpl_html_ab399a6466f9c56febc239c000eee5406"><div class="ttname"><a href="classllvm_1_1SampleProfileLoaderBaseImpl.html#ab399a6466f9c56febc239c000eee5406">llvm::SampleProfileLoaderBaseImpl::initWeightPropagation</a></div><div class="ttdeci">void initWeightPropagation(FunctionT &amp;F, const DenseSet&lt; GlobalValue::GUID &gt; &amp;InlinedGUIDs)</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfileLoaderBaseImpl_8h_source.html#l00894">SampleProfileLoaderBaseImpl.h:894</a></div></div>
<div class="ttc" id="anamespacellvm_html_a7c46c742c31be54870e2038048e6b391"><div class="ttname"><a href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">llvm::dbgs</a></div><div class="ttdeci">raw_ostream &amp; dbgs()</div><div class="ttdoc">dbgs() - This returns a reference to a raw_ostream for debugging messages.</div><div class="ttdef"><b>Definition:</b> <a href="Debug_8cpp_source.html#l00163">Debug.cpp:163</a></div></div>
<div class="ttc" id="aIR_2Instruction_8h_html"><div class="ttname"><a href="IR_2Instruction_8h.html">Instruction.h</a></div></div>
<div class="ttc" id="aCommandLine_8h_html"><div class="ttname"><a href="CommandLine_8h.html">CommandLine.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1SampleProfileLoaderBaseImpl_html_a366f5bc39f00b9b44f1f39adca8b414c"><div class="ttname"><a href="classllvm_1_1SampleProfileLoaderBaseImpl.html#a366f5bc39f00b9b44f1f39adca8b414c">llvm::SampleProfileLoaderBaseImpl::getBlockWeight</a></div><div class="ttdeci">ErrorOr&lt; uint64_t &gt; getBlockWeight(const BasicBlockT *BB)</div><div class="ttdoc">Compute the weight of a basic block.</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfileLoaderBaseImpl_8h_source.html#l00359">SampleProfileLoaderBaseImpl.h:359</a></div></div>
<div class="ttc" id="aclassllvm_1_1BlockFrequencyInfo_html"><div class="ttname"><a href="classllvm_1_1BlockFrequencyInfo.html">llvm::BlockFrequencyInfo</a></div><div class="ttdoc">BlockFrequencyInfo pass uses BlockFrequencyInfoImpl implementation to estimate IR basic block frequen...</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfo_8h_source.html#l00037">BlockFrequencyInfo.h:37</a></div></div>
<div class="ttc" id="aclassllvm_1_1SampleProfileLoaderBaseImpl_html_aa435e55eb50c7ecc8e69e636eb1fe345"><div class="ttname"><a href="classllvm_1_1SampleProfileLoaderBaseImpl.html#aa435e55eb50c7ecc8e69e636eb1fe345">llvm::SampleProfileLoaderBaseImpl::propagateThroughEdges</a></div><div class="ttdeci">bool propagateThroughEdges(FunctionT &amp;F, bool UpdateBlockCount)</div><div class="ttdoc">Propagate weights through incoming/outgoing edges.</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfileLoaderBaseImpl_8h_source.html#l00573">SampleProfileLoaderBaseImpl.h:573</a></div></div>
<div class="ttc" id="aclassllvm_1_1SampleProfileLoaderBaseImpl_html_a75839e382274534379a37deb48fb80dc"><div class="ttname"><a href="classllvm_1_1SampleProfileLoaderBaseImpl.html#a75839e382274534379a37deb48fb80dc">llvm::SampleProfileLoaderBaseImpl::printBlockEquivalence</a></div><div class="ttdeci">void printBlockEquivalence(raw_ostream &amp;OS, const BasicBlockT *BB)</div><div class="ttdoc">Print the equivalence class of block BB on stream OS.</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfileLoaderBaseImpl_8h_source.html#l00268">SampleProfileLoaderBaseImpl.h:268</a></div></div>
<div class="ttc" id="aPostDominators_8h_html"><div class="ttname"><a href="PostDominators_8h.html">PostDominators.h</a></div></div>
<div class="ttc" id="aBuiltinGCs_8cpp_html_a6742d2e0a668baf1196ec69e158d5f15"><div class="ttname"><a href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a></div><div class="ttdeci">static GCRegistry::Add&lt; CoreCLRGC &gt; E(&quot;coreclr&quot;, &quot;CoreCLR-compatible GC&quot;)</div></div>
<div class="ttc" id="anamespacellvm_html_abfcab32516704f11d146c757f402ad5ca1cde8c8828756cdaf2a93260e247ae31"><div class="ttname"><a href="namespacellvm.html#abfcab32516704f11d146c757f402ad5ca1cde8c8828756cdaf2a93260e247ae31">llvm::DS_Warning</a></div><div class="ttdeci">@ DS_Warning</div><div class="ttdef"><b>Definition:</b> <a href="DiagnosticInfo_8h_source.html#l00051">DiagnosticInfo.h:51</a></div></div>
<div class="ttc" id="astructllvm_1_1afdo__detail_1_1IRTraits_3_01BasicBlock_01_4_html_adcdceac36222fa231c07e889021767b3"><div class="ttname"><a href="structllvm_1_1afdo__detail_1_1IRTraits_3_01BasicBlock_01_4.html#adcdceac36222fa231c07e889021767b3">llvm::afdo_detail::IRTraits&lt; BasicBlock &gt;::getEntryBB</a></div><div class="ttdeci">static const BasicBlock * getEntryBB(const Function *F)</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfileLoaderBaseImpl_8h_source.html#l00074">SampleProfileLoaderBaseImpl.h:74</a></div></div>
<div class="ttc" id="aclassllvm_1_1SampleProfileLoaderBaseImpl_html_ad9c3b23baf4dd3a323374a1ac01f4bc1"><div class="ttname"><a href="classllvm_1_1SampleProfileLoaderBaseImpl.html#ad9c3b23baf4dd3a323374a1ac01f4bc1">llvm::SampleProfileLoaderBaseImpl::BlockWeights</a></div><div class="ttdeci">BlockWeightMap BlockWeights</div><div class="ttdoc">Map basic blocks to their computed weights.</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfileLoaderBaseImpl_8h_source.html#l00176">SampleProfileLoaderBaseImpl.h:176</a></div></div>
<div class="ttc" id="aDenseSet_8h_html"><div class="ttname"><a href="DenseSet_8h.html">DenseSet.h</a></div></div>
<div class="ttc" id="aSampleProf_8h_html"><div class="ttname"><a href="SampleProf_8h.html">SampleProf.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1detail_1_1DenseSetImpl_html_a9a025cb106832026cd05c2b4648a699f"><div class="ttname"><a href="classllvm_1_1detail_1_1DenseSetImpl.html#a9a025cb106832026cd05c2b4648a699f">llvm::detail::DenseSetImpl::size</a></div><div class="ttdeci">size_type size() const</div><div class="ttdef"><b>Definition:</b> <a href="DenseSet_8h_source.html#l00081">DenseSet.h:81</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html"><div class="ttname"><a href="classllvm_1_1Instruction.html">llvm::Instruction</a></div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8h_source.html#l00041">Instruction.h:41</a></div></div>
<div class="ttc" id="aclassllvm_1_1SampleProfileLoaderBaseImpl_html_a12401e9f809f3fd6a64c0da1c195733f"><div class="ttname"><a href="classllvm_1_1SampleProfileLoaderBaseImpl.html#a12401e9f809f3fd6a64c0da1c195733f">llvm::SampleProfileLoaderBaseImpl::Filename</a></div><div class="ttdeci">std::string Filename</div><div class="ttdoc">Name of the profile file to load.</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfileLoaderBaseImpl_8h_source.html#l00219">SampleProfileLoaderBaseImpl.h:219</a></div></div>
<div class="ttc" id="aclassllvm_1_1SampleProfileLoaderBaseImpl_html_aa32a5093f08dd911b5ecc74e59df0c21"><div class="ttname"><a href="classllvm_1_1SampleProfileLoaderBaseImpl.html#aa32a5093f08dd911b5ecc74e59df0c21">llvm::SampleProfileLoaderBaseImpl::computeDominanceAndLoopInfo</a></div><div class="ttdeci">void computeDominanceAndLoopInfo(FunctionT &amp;F)</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfileLoaderBaseImpl_8h_source.html#l01002">SampleProfileLoaderBaseImpl.h:1002</a></div></div>
<div class="ttc" id="aclassllvm_1_1raw__ostream_html"><div class="ttname"><a href="classllvm_1_1raw__ostream.html">llvm::raw_ostream</a></div><div class="ttdoc">This class implements an extremely fast bulk output stream that can only output to a stream.</div><div class="ttdef"><b>Definition:</b> <a href="raw__ostream_8h_source.html#l00052">raw_ostream.h:52</a></div></div>
<div class="ttc" id="aclassllvm_1_1SampleProfileLoaderBaseImpl_html_af80c8905cce458376f69ac1282a07bc3"><div class="ttname"><a href="classllvm_1_1SampleProfileLoaderBaseImpl.html#af80c8905cce458376f69ac1282a07bc3">llvm::SampleProfileLoaderBaseImpl::printEdgeWeight</a></div><div class="ttdeci">void printEdgeWeight(raw_ostream &amp;OS, Edge E)</div><div class="ttdoc">Print the weight of edge E on stream OS.</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfileLoaderBaseImpl_8h_source.html#l00258">SampleProfileLoaderBaseImpl.h:258</a></div></div>
<div class="ttc" id="aDebugLoc_8h_html"><div class="ttname"><a href="DebugLoc_8h.html">DebugLoc.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1SampleProfileLoaderBaseImpl_html_af944336c9694e8b13a23f957adb5e241"><div class="ttname"><a href="classllvm_1_1SampleProfileLoaderBaseImpl.html#af944336c9694e8b13a23f957adb5e241">llvm::SampleProfileLoaderBaseImpl&lt; MachineBasicBlock &gt;::LoopInfoPtrT</a></div><div class="ttdeci">typename afdo_detail::IRTraits&lt; MachineBasicBlock &gt;::LoopInfoPtrT LoopInfoPtrT</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfileLoaderBaseImpl_8h_source.html#l00098">SampleProfileLoaderBaseImpl.h:98</a></div></div>
<div class="ttc" id="aSmallPtrSet_8h_html"><div class="ttname"><a href="SmallPtrSet_8h.html">SmallPtrSet.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1Function_html_a438d2f246b76817114ade2a005a6bcabac7dbc704eba08842e6acdde9cf6379ba"><div class="ttname"><a href="classllvm_1_1Function.html#a438d2f246b76817114ade2a005a6bcabac7dbc704eba08842e6acdde9cf6379ba">llvm::Function::PCT_Real</a></div><div class="ttdeci">@ PCT_Real</div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00247">Function.h:247</a></div></div>
<div class="ttc" id="aSampleProfileLoaderBaseUtil_8h_html"><div class="ttname"><a href="SampleProfileLoaderBaseUtil_8h.html">SampleProfileLoaderBaseUtil.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1SampleProfileLoaderBaseImpl_html_a3b79d6f4a03285d7146a23eeecdc6c25"><div class="ttname"><a href="classllvm_1_1SampleProfileLoaderBaseImpl.html#a3b79d6f4a03285d7146a23eeecdc6c25">llvm::SampleProfileLoaderBaseImpl&lt; MachineBasicBlock &gt;::PostDominatorTreeT</a></div><div class="ttdeci">typename afdo_detail::IRTraits&lt; MachineBasicBlock &gt;::PostDominatorTreeT PostDominatorTreeT</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfileLoaderBaseImpl_8h_source.html#l00104">SampleProfileLoaderBaseImpl.h:104</a></div></div>
<div class="ttc" id="aclassllvm_1_1SampleProfileLoaderBaseImpl_html_ac129a5f56604167d730262a05cb1fd02"><div class="ttname"><a href="classllvm_1_1SampleProfileLoaderBaseImpl.html#ac129a5f56604167d730262a05cb1fd02">llvm::SampleProfileLoaderBaseImpl::findFunctionSamples</a></div><div class="ttdeci">virtual const FunctionSamples * findFunctionSamples(const InstructionT &amp;I) const</div><div class="ttdoc">Get the FunctionSamples for an instruction.</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfileLoaderBaseImpl_8h_source.html#l00405">SampleProfileLoaderBaseImpl.h:405</a></div></div>
<div class="ttc" id="aclassllvm_1_1SampleProfileLoaderBaseImpl_html_a4242a2c35893bbf85211387709d6a3d1"><div class="ttname"><a href="classllvm_1_1SampleProfileLoaderBaseImpl.html#a4242a2c35893bbf85211387709d6a3d1">llvm::SampleProfileLoaderBaseImpl::getInstWeight</a></div><div class="ttdeci">virtual ErrorOr&lt; uint64_t &gt; getInstWeight(const InstructionT &amp;Inst)</div><div class="ttdoc">Get the weight for an instruction.</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfileLoaderBaseImpl_8h_source.html#l00301">SampleProfileLoaderBaseImpl.h:301</a></div></div>
<div class="ttc" id="aclassllvm_1_1SampleProfileLoaderBaseImpl_html_affaf719e8830364fa7bf44739d3d9152"><div class="ttname"><a href="classllvm_1_1SampleProfileLoaderBaseImpl.html#affaf719e8830364fa7bf44739d3d9152">llvm::SampleProfileLoaderBaseImpl::Reader</a></div><div class="ttdeci">std::unique_ptr&lt; SampleProfileReader &gt; Reader</div><div class="ttdoc">Profile reader object.</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfileLoaderBaseImpl_8h_source.html#l00213">SampleProfileLoaderBaseImpl.h:213</a></div></div>
<div class="ttc" id="aIR_2CFG_8h_html"><div class="ttname"><a href="IR_2CFG_8h.html">CFG.h</a></div></div>
<div class="ttc" id="aLoopInfo_8h_html"><div class="ttname"><a href="LoopInfo_8h.html">LoopInfo.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1SampleProfileLoaderBaseImpl_html_a9da04aa71aaa9243bb7efe549f1dd758"><div class="ttname"><a href="classllvm_1_1SampleProfileLoaderBaseImpl.html#a9da04aa71aaa9243bb7efe549f1dd758">llvm::SampleProfileLoaderBaseImpl::emitCoverageRemarks</a></div><div class="ttdeci">void emitCoverageRemarks(FunctionT &amp;F)</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfileLoaderBaseImpl_8h_source.html#l00942">SampleProfileLoaderBaseImpl.h:942</a></div></div>
<div class="ttc" id="aclassllvm_1_1SampleProfileLoaderBaseImpl_html_ae9bae46af4ef474d7f244e4f9b67e188"><div class="ttname"><a href="classllvm_1_1SampleProfileLoaderBaseImpl.html#ae9bae46af4ef474d7f244e4f9b67e188">llvm::SampleProfileLoaderBaseImpl::clearFunctionData</a></div><div class="ttdeci">void clearFunctionData(bool ResetDT=true)</div><div class="ttdoc">Clear all the per-function data used to load samples and propagate weights.</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfileLoaderBaseImpl_8h_source.html#l00236">SampleProfileLoaderBaseImpl.h:236</a></div></div>
<div class="ttc" id="aclassllvm_1_1ProfileSummaryInfo_html"><div class="ttname"><a href="classllvm_1_1ProfileSummaryInfo.html">llvm::ProfileSummaryInfo</a></div><div class="ttdoc">Analysis providing profile information.</div><div class="ttdef"><b>Definition:</b> <a href="ProfileSummaryInfo_8h_source.html#l00040">ProfileSummaryInfo.h:40</a></div></div>
<div class="ttc" id="aADT_2tmp_8txt_html_a07ed0bfaa124c15897944fe3eaa971ab"><div class="ttname"><a href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a></div><div class="ttdeci">Class for arbitrary precision integers APInt is a functional replacement for common case unsigned integer type like unsigned long or uint64_t</div><div class="ttdef"><b>Definition:</b> <a href="ADT_2tmp_8txt_source.html#l00001">tmp.txt:1</a></div></div>
<div class="ttc" id="anamespacellvm_html_acb22fb04083152eee862457e42e8dc31"><div class="ttname"><a href="namespacellvm.html#acb22fb04083152eee862457e42e8dc31">llvm::predecessors</a></div><div class="ttdeci">auto predecessors(const MachineBasicBlock *BB)</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l01266">MachineBasicBlock.h:1266</a></div></div>
<div class="ttc" id="aclassllvm_1_1SampleProfileLoaderBaseImpl_html_a68ce35a47318dfcf69ffe53b9ef0149c"><div class="ttname"><a href="classllvm_1_1SampleProfileLoaderBaseImpl.html#a68ce35a47318dfcf69ffe53b9ef0149c">llvm::SampleProfileLoaderBaseImpl&lt; MachineBasicBlock &gt;::PredRangeT</a></div><div class="ttdeci">typename afdo_detail::IRTraits&lt; MachineBasicBlock &gt;::PredRangeT PredRangeT</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfileLoaderBaseImpl_8h_source.html#l00109">SampleProfileLoaderBaseImpl.h:109</a></div></div>
<div class="ttc" id="aclassllvm_1_1SampleProfileLoaderBaseImpl_html_a3bb6939c9a307a2d7a2bc20363b5433c"><div class="ttname"><a href="classllvm_1_1SampleProfileLoaderBaseImpl.html#a3bb6939c9a307a2d7a2bc20363b5433c">llvm::SampleProfileLoaderBaseImpl::getFunctionLoc</a></div><div class="ttdeci">unsigned getFunctionLoc(FunctionT &amp;Func)</div><div class="ttdoc">Get the line number for the function header.</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfileLoaderBaseImpl_8h_source.html#l00984">SampleProfileLoaderBaseImpl.h:984</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseSet_html"><div class="ttname"><a href="classllvm_1_1DenseSet.html">llvm::DenseSet&lt; GlobalValue::GUID &gt;</a></div></div>
<div class="ttc" id="anamespacellvm_html_ac226f3d2b9ca090171a8e0a8cb92c343a91921ada405fd6ba65dff028df047cb6"><div class="ttname"><a href="namespacellvm.html#ac226f3d2b9ca090171a8e0a8cb92c343a91921ada405fd6ba65dff028df047cb6">llvm::HighlightColor::Remark</a></div><div class="ttdeci">@ Remark</div></div>
<div class="ttc" id="aBasicBlock_8h_html"><div class="ttname"><a href="BasicBlock_8h.html">BasicBlock.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1SampleProfileLoaderBaseImpl_html_a040b98a945772423eab83d2ce02f984a"><div class="ttname"><a href="classllvm_1_1SampleProfileLoaderBaseImpl.html#a040b98a945772423eab83d2ce02f984a">llvm::SampleProfileLoaderBaseImpl::computeAndPropagateWeights</a></div><div class="ttdeci">bool computeAndPropagateWeights(FunctionT &amp;F, const DenseSet&lt; GlobalValue::GUID &gt; &amp;InlinedGUIDs)</div><div class="ttdoc">Generate branch weight metadata for all branches in F.</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfileLoaderBaseImpl_8h_source.html#l00872">SampleProfileLoaderBaseImpl.h:872</a></div></div>
<div class="ttc" id="anamespacellvm_html_a23d4c211faf80b8789923262b5b5ae77"><div class="ttname"><a href="namespacellvm.html#a23d4c211faf80b8789923262b5b5ae77">llvm::ProfileCount</a></div><div class="ttdeci">Function::ProfileCount ProfileCount</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfileLoaderBaseImpl_8h_source.html#l00048">SampleProfileLoaderBaseImpl.h:48</a></div></div>
<div class="ttc" id="aclassllvm_1_1SampleProfileLoaderBaseImpl_html_abfedd5d05290a01e9b21cde734588620"><div class="ttname"><a href="classllvm_1_1SampleProfileLoaderBaseImpl.html#abfedd5d05290a01e9b21cde734588620">llvm::SampleProfileLoaderBaseImpl::computeBlockWeights</a></div><div class="ttdeci">bool computeBlockWeights(FunctionT &amp;F)</div><div class="ttdoc">Compute and store the weights of every basic block.</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfileLoaderBaseImpl_8h_source.html#l00379">SampleProfileLoaderBaseImpl.h:379</a></div></div>
<div class="ttc" id="aclassllvm_1_1SampleProfileLoaderBaseImpl_html_a53dd05b642933569edd2a0075ffcb234"><div class="ttname"><a href="classllvm_1_1SampleProfileLoaderBaseImpl.html#a53dd05b642933569edd2a0075ffcb234">llvm::SampleProfileLoaderBaseImpl&lt; MachineBasicBlock &gt;::DominatorTreePtrT</a></div><div class="ttdeci">typename afdo_detail::IRTraits&lt; MachineBasicBlock &gt;::DominatorTreePtrT DominatorTreePtrT</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfileLoaderBaseImpl_8h_source.html#l00100">SampleProfileLoaderBaseImpl.h:100</a></div></div>
<div class="ttc" id="anamespacellvm_html_a7e637b8149fb68c1b42113d784746f8d"><div class="ttname"><a href="namespacellvm.html#a7e637b8149fb68c1b42113d784746f8d">llvm::succ_range</a></div><div class="ttdeci">iterator_range&lt; succ_iterator &gt; succ_range</div><div class="ttdef"><b>Definition:</b> <a href="IR_2CFG_8h_source.html#l00244">CFG.h:244</a></div></div>
<div class="ttc" id="aclassllvm_1_1SampleProfileLoaderBaseImpl_html_aba709fe852b7f4dc0f337176437c4489"><div class="ttname"><a href="classllvm_1_1SampleProfileLoaderBaseImpl.html#aba709fe852b7f4dc0f337176437c4489">llvm::SampleProfileLoaderBaseImpl::PDT</a></div><div class="ttdeci">PostDominatorTreePtrT PDT</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfileLoaderBaseImpl_8h_source.html#l00200">SampleProfileLoaderBaseImpl.h:200</a></div></div>
<div class="ttc" id="aclassllvm_1_1sampleprof_1_1FunctionSamples_html"><div class="ttname"><a href="classllvm_1_1sampleprof_1_1FunctionSamples.html">llvm::sampleprof::FunctionSamples</a></div><div class="ttdoc">Representation of the samples collected for a function.</div><div class="ttdef"><b>Definition:</b> <a href="SampleProf_8h_source.html#l00726">SampleProf.h:726</a></div></div>
<div class="ttc" id="aclassllvm_1_1SampleProfileLoaderBaseImpl_html_ab5fb974f1a307a6d0561b35a9b565242"><div class="ttname"><a href="classllvm_1_1SampleProfileLoaderBaseImpl.html#ab5fb974f1a307a6d0561b35a9b565242">llvm::SampleProfileLoaderBaseImpl&lt; MachineBasicBlock &gt;::InstructionT</a></div><div class="ttdeci">typename afdo_detail::IRTraits&lt; MachineBasicBlock &gt;::InstructionT InstructionT</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfileLoaderBaseImpl_8h_source.html#l00092">SampleProfileLoaderBaseImpl.h:92</a></div></div>
<div class="ttc" id="aclassllvm_1_1SampleProfileLoaderBaseImpl_html_a895ddc6f326ed16642a1eb5899fdb9cc"><div class="ttname"><a href="classllvm_1_1SampleProfileLoaderBaseImpl.html#a895ddc6f326ed16642a1eb5899fdb9cc">llvm::SampleProfileLoaderBaseImpl::CoverageTracker</a></div><div class="ttdeci">SampleCoverageTracker CoverageTracker</div><div class="ttdoc">Profile coverage tracker.</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfileLoaderBaseImpl_8h_source.html#l00210">SampleProfileLoaderBaseImpl.h:210</a></div></div>
<div class="ttc" id="aclassllvm_1_1SampleProfileLoaderBaseImpl_html_a3fd239026aba79e9aaf5b81578f4198c"><div class="ttname"><a href="classllvm_1_1SampleProfileLoaderBaseImpl.html#a3fd239026aba79e9aaf5b81578f4198c">llvm::SampleProfileLoaderBaseImpl::getInstWeightImpl</a></div><div class="ttdeci">ErrorOr&lt; uint64_t &gt; getInstWeightImpl(const InstructionT &amp;Inst)</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfileLoaderBaseImpl_8h_source.html#l00307">SampleProfileLoaderBaseImpl.h:307</a></div></div>
<div class="ttc" id="astructllvm_1_1afdo__detail_1_1IRTraits_3_01BasicBlock_01_4_html_a7817f663e285a2803b8123092855ed04"><div class="ttname"><a href="structllvm_1_1afdo__detail_1_1IRTraits_3_01BasicBlock_01_4.html#a7817f663e285a2803b8123092855ed04">llvm::afdo_detail::IRTraits&lt; BasicBlock &gt;::getPredecessors</a></div><div class="ttdeci">static pred_range getPredecessors(BasicBlock *BB)</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfileLoaderBaseImpl_8h_source.html#l00077">SampleProfileLoaderBaseImpl.h:77</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMap_html"><div class="ttname"><a href="classllvm_1_1DenseMap.html">llvm::DenseMap&lt; const BasicBlockT *, uint64_t &gt;</a></div></div>
<div class="ttc" id="aMD5_8cpp_html_ac0eafdc9ee161b71e7af98af736952fd"><div class="ttname"><a href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a></div><div class="ttdeci">#define I(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00058">MD5.cpp:58</a></div></div>
<div class="ttc" id="anamespacellvm_html_a765b03312883ea5c9c220bb9908cd66a"><div class="ttname"><a href="namespacellvm.html#a765b03312883ea5c9c220bb9908cd66a">llvm::SampleProfileUseProfi</a></div><div class="ttdeci">cl::opt&lt; bool &gt; SampleProfileUseProfi</div></div>
<div class="ttc" id="aSampleProfReader_8h_html"><div class="ttname"><a href="SampleProfReader_8h.html">SampleProfReader.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1SampleProfileLoaderBaseImpl_html_adad5302e31acac871db7fe5c38940377"><div class="ttname"><a href="classllvm_1_1SampleProfileLoaderBaseImpl.html#adad5302e31acac871db7fe5c38940377">llvm::SampleProfileLoaderBaseImpl::findEquivalenceClasses</a></div><div class="ttdeci">void findEquivalenceClasses(FunctionT &amp;F)</div><div class="ttdoc">Find equivalence classes.</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfileLoaderBaseImpl_8h_source.html#l00486">SampleProfileLoaderBaseImpl.h:486</a></div></div>
<div class="ttc" id="aArrayRef_8h_html"><div class="ttname"><a href="ArrayRef_8h.html">ArrayRef.h</a></div></div>
<div class="ttc" id="aSampleProfileLoaderBaseImpl_8h_html_ad78e062f62e0d6e453941fb4ca843e4d"><div class="ttname"><a href="SampleProfileLoaderBaseImpl_8h.html#ad78e062f62e0d6e453941fb4ca843e4d">DEBUG_TYPE</a></div><div class="ttdeci">#define DEBUG_TYPE</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfileLoaderBaseImpl_8h_source.html#l00054">SampleProfileLoaderBaseImpl.h:54</a></div></div>
<div class="ttc" id="anamespacellvm_html_abfc9c7ecf70f66901e439f7c04ef3dbb"><div class="ttname"><a href="namespacellvm.html#abfc9c7ecf70f66901e439f7c04ef3dbb">llvm::move</a></div><div class="ttdeci">OutputIt move(R &amp;&amp;Range, OutputIt Out)</div><div class="ttdoc">Provide wrappers to std::move which take ranges instead of having to pass begin/end explicitly.</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l01862">STLExtras.h:1862</a></div></div>
<div class="ttc" id="aclassllvm_1_1SampleProfileLoaderBaseImpl_html_a206e471ead5e20c8189a53e52a89a2b0"><div class="ttname"><a href="classllvm_1_1SampleProfileLoaderBaseImpl.html#a206e471ead5e20c8189a53e52a89a2b0">llvm::SampleProfileLoaderBaseImpl::EquivalenceClass</a></div><div class="ttdeci">EquivalenceClassMap EquivalenceClass</div><div class="ttdoc">Equivalence classes for block weights.</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfileLoaderBaseImpl_8h_source.html#l00196">SampleProfileLoaderBaseImpl.h:196</a></div></div>
<div class="ttc" id="anamespacellvm_1_1X86AS_html_aea2591d7d017866934bcf72ee3dc8a31a5b3a782ccae295a254e2794ad30ad07f"><div class="ttname"><a href="namespacellvm_1_1X86AS.html#aea2591d7d017866934bcf72ee3dc8a31a5b3a782ccae295a254e2794ad30ad07f">llvm::X86AS::FS</a></div><div class="ttdeci">@ FS</div><div class="ttdef"><b>Definition:</b> <a href="X86_8h_source.html#l00201">X86.h:201</a></div></div>
<div class="ttc" id="aclassllvm_1_1SampleProfileLoaderBaseImpl_html_a566c71309c8500b26837ddfb834d3fc9"><div class="ttname"><a href="classllvm_1_1SampleProfileLoaderBaseImpl.html#a566c71309c8500b26837ddfb834d3fc9">llvm::SampleProfileLoaderBaseImpl::VisitedBlocks</a></div><div class="ttdeci">SmallPtrSet&lt; const BasicBlockT *, 32 &gt; VisitedBlocks</div><div class="ttdoc">Set of visited blocks during propagation.</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfileLoaderBaseImpl_8h_source.html#l00185">SampleProfileLoaderBaseImpl.h:185</a></div></div>
<div class="ttc" id="anamespacellvm_1_1jitlink_html_ae57d1f75b7744618ab2b951f59809506"><div class="ttname"><a href="namespacellvm_1_1jitlink.html#ae57d1f75b7744618ab2b951f59809506">llvm::jitlink::visitEdge</a></div><div class="ttdeci">void visitEdge(LinkGraph &amp;G, Block *B, Edge &amp;E)</div><div class="ttdoc">Base case for edge-visitors where the visitor-list is empty.</div><div class="ttdef"><b>Definition:</b> <a href="JITLink_8h_source.html#l01807">JITLink.h:1807</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a8472e46f9e4db168c5610ecdfb05dbaf"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a8472e46f9e4db168c5610ecdfb05dbaf">llvm::ISD::BasicBlock</a></div><div class="ttdeci">@ BasicBlock</div><div class="ttdoc">Various leaf nodes.</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00071">ISDOpcodes.h:71</a></div></div>
<div class="ttc" id="aclassllvm_1_1SampleProfileLoaderBaseImpl_html_a6ba9df1b0db2c702bc32631d2c4b6292"><div class="ttname"><a href="classllvm_1_1SampleProfileLoaderBaseImpl.html#a6ba9df1b0db2c702bc32631d2c4b6292">llvm::SampleProfileLoaderBaseImpl&lt; MachineBasicBlock &gt;::PostDominatorTreePtrT</a></div><div class="ttdeci">typename afdo_detail::IRTraits&lt; MachineBasicBlock &gt;::PostDominatorTreePtrT PostDominatorTreePtrT</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfileLoaderBaseImpl_8h_source.html#l00102">SampleProfileLoaderBaseImpl.h:102</a></div></div>
<div class="ttc" id="aclassllvm_1_1SampleProfileLoaderBaseImpl_html_aedaa834891e933cab48185f1bd32354c"><div class="ttname"><a href="classllvm_1_1SampleProfileLoaderBaseImpl.html#aedaa834891e933cab48185f1bd32354c">llvm::SampleProfileLoaderBaseImpl::buildEdges</a></div><div class="ttdeci">void buildEdges(FunctionT &amp;F)</div><div class="ttdoc">Build in/out edge lists for each basic block in the CFG.</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfileLoaderBaseImpl_8h_source.html#l00723">SampleProfileLoaderBaseImpl.h:723</a></div></div>
<div class="ttc" id="aclassllvm_1_1sampleprof_1_1FunctionSamples_html_ab6f00f222e6f6d30bc6a0fc7bf8396de"><div class="ttname"><a href="classllvm_1_1sampleprof_1_1FunctionSamples.html#ab6f00f222e6f6d30bc6a0fc7bf8396de">llvm::sampleprof::FunctionSamples::getOffset</a></div><div class="ttdeci">static unsigned getOffset(const DILocation *DIL)</div><div class="ttdoc">Returns the line offset to the start line of the subprogram.</div><div class="ttdef"><b>Definition:</b> <a href="SampleProf_8cpp_source.html#l00216">SampleProf.cpp:216</a></div></div>
<div class="ttc" id="aclassllvm_1_1DiagnosticInfoSampleProfile_html"><div class="ttname"><a href="classllvm_1_1DiagnosticInfoSampleProfile.html">llvm::DiagnosticInfoSampleProfile</a></div><div class="ttdoc">Diagnostic information for the sample profiler.</div><div class="ttdef"><b>Definition:</b> <a href="DiagnosticInfo_8h_source.html#l00235">DiagnosticInfo.h:235</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallPtrSetImplBase_html_a16413f1a88d8baca228d0a1b4cc0bfc6"><div class="ttname"><a href="classllvm_1_1SmallPtrSetImplBase.html#a16413f1a88d8baca228d0a1b4cc0bfc6">llvm::SmallPtrSetImplBase::clear</a></div><div class="ttdeci">void clear()</div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00095">SmallPtrSet.h:95</a></div></div>
<div class="ttc" id="aclassllvm_1_1ArrayRef_html"><div class="ttname"><a href="classllvm_1_1ArrayRef.html">llvm::ArrayRef</a></div><div class="ttdoc">ArrayRef - Represent a constant reference to an array (0 or more elements consecutively in memory),...</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00033">APInt.h:33</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopInfo_html"><div class="ttname"><a href="classllvm_1_1LoopInfo.html">llvm::LoopInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="LoopInfo_8h_source.html#l01108">LoopInfo.h:1108</a></div></div>
<div class="ttc" id="anamespacellvm_html_a529ab845125f6506d97dfa38d5aafddb"><div class="ttname"><a href="namespacellvm.html#a529ab845125f6506d97dfa38d5aafddb">llvm::SampleProfileSampleCoverage</a></div><div class="ttdeci">cl::opt&lt; unsigned &gt; SampleProfileSampleCoverage</div></div>
<div class="ttc" id="aclassllvm_1_1OptimizationRemarkEmitter_html"><div class="ttname"><a href="classllvm_1_1OptimizationRemarkEmitter.html">llvm::OptimizationRemarkEmitter</a></div><div class="ttdoc">The optimization diagnostic interface.</div><div class="ttdef"><b>Definition:</b> <a href="OptimizationRemarkEmitter_8h_source.html#l00033">OptimizationRemarkEmitter.h:33</a></div></div>
<div class="ttc" id="aclassllvm_1_1SampleProfileLoaderBaseImpl_html_adaa46f83f7e4631c12dd3892d0452444"><div class="ttname"><a href="classllvm_1_1SampleProfileLoaderBaseImpl.html#adaa46f83f7e4631c12dd3892d0452444">llvm::SampleProfileLoaderBaseImpl&lt; MachineBasicBlock &gt;::LoopT</a></div><div class="ttdeci">typename afdo_detail::IRTraits&lt; MachineBasicBlock &gt;::LoopT LoopT</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfileLoaderBaseImpl_8h_source.html#l00097">SampleProfileLoaderBaseImpl.h:97</a></div></div>
<div class="ttc" id="aclassllvm_1_1SampleProfileLoaderBaseImpl_html_a7d4750617c831cd0286436db80f629b7"><div class="ttname"><a href="classllvm_1_1SampleProfileLoaderBaseImpl.html#a7d4750617c831cd0286436db80f629b7">llvm::SampleProfileLoaderBaseImpl::RemappingFilename</a></div><div class="ttdeci">std::string RemappingFilename</div><div class="ttdoc">Name of the profile remapping file to load.</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfileLoaderBaseImpl_8h_source.html#l00222">SampleProfileLoaderBaseImpl.h:222</a></div></div>
<div class="ttc" id="aclassllvm_1_1PostDominatorTree_html"><div class="ttname"><a href="classllvm_1_1PostDominatorTree.html">llvm::PostDominatorTree</a></div><div class="ttdoc">PostDominatorTree Class - Concrete subclass of DominatorTree that is used to compute the post-dominat...</div><div class="ttdef"><b>Definition:</b> <a href="PostDominators_8h_source.html#l00028">PostDominators.h:28</a></div></div>
<div class="ttc" id="aSupport_2ErrorHandling_8h_html_ace243f5c25697a1107cce46626b3dc94"><div class="ttname"><a href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a></div><div class="ttdeci">#define llvm_unreachable(msg)</div><div class="ttdoc">Marks that the current location is not supposed to be reachable.</div><div class="ttdef"><b>Definition:</b> <a href="Support_2ErrorHandling_8h_source.html#l00143">ErrorHandling.h:143</a></div></div>
<div class="ttc" id="aclassllvm_1_1SampleProfileLoaderBaseImpl_html_aed3dd8935ffb4061231a133783763be5"><div class="ttname"><a href="classllvm_1_1SampleProfileLoaderBaseImpl.html#aed3dd8935ffb4061231a133783763be5">llvm::SampleProfileLoaderBaseImpl&lt; MachineBasicBlock &gt;::BasicBlockT</a></div><div class="ttdeci">typename afdo_detail::IRTraits&lt; MachineBasicBlock &gt;::BasicBlockT BasicBlockT</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfileLoaderBaseImpl_8h_source.html#l00093">SampleProfileLoaderBaseImpl.h:93</a></div></div>
<div class="ttc" id="aclassuint32__t_html"><div class="ttname"><a href="classuint32__t.html">uint32_t</a></div></div>
<div class="ttc" id="alib_2Target_2ARM_2README_8txt_html_a1b45f45820a60c09244a87eb59824aec"><div class="ttname"><a href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a></div><div class="ttdeci">add sub stmia L5 ldr r0 bl L_printf $stub Instead of a and a wouldn t it be better to do three moves *Return an aggregate type is even return S</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2ARM_2README_8txt_source.html#l00210">README.txt:210</a></div></div>
<div class="ttc" id="aclassllvm_1_1SampleProfileLoaderBaseImpl_html_a6943c253d39ad890238a8e8aa9b9610c"><div class="ttname"><a href="classllvm_1_1SampleProfileLoaderBaseImpl.html#a6943c253d39ad890238a8e8aa9b9610c">llvm::SampleProfileLoaderBaseImpl::applyProfi</a></div><div class="ttdeci">void applyProfi(FunctionT &amp;F, BlockEdgeMap &amp;Successors, BlockWeightMap &amp;SampleBlockWeights, BlockWeightMap &amp;BlockWeights, EdgeWeightMap &amp;EdgeWeights)</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfileLoaderBaseImpl_8h_source.html#l00818">SampleProfileLoaderBaseImpl.h:818</a></div></div>
<div class="ttc" id="aclassllvm_1_1SampleProfileLoaderBaseImpl_html_afeab810a0b4abc92f2650348428220a2"><div class="ttname"><a href="classllvm_1_1SampleProfileLoaderBaseImpl.html#afeab810a0b4abc92f2650348428220a2">llvm::SampleProfileLoaderBaseImpl::propagateWeights</a></div><div class="ttdeci">void propagateWeights(FunctionT &amp;F)</div><div class="ttdoc">Propagate weights into edges.</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfileLoaderBaseImpl_8h_source.html#l00763">SampleProfileLoaderBaseImpl.h:763</a></div></div>
<div class="ttc" id="aclassllvm_1_1OptimizationRemarkAnalysis_html"><div class="ttname"><a href="classllvm_1_1OptimizationRemarkAnalysis.html">llvm::OptimizationRemarkAnalysis</a></div><div class="ttdoc">Diagnostic information for optimization analysis remarks.</div><div class="ttdef"><b>Definition:</b> <a href="DiagnosticInfo_8h_source.html#l00780">DiagnosticInfo.h:780</a></div></div>
<div class="ttc" id="aSampleProfWriter_8cpp_html_ac5f3689931c7238da06ba00cf1002c62"><div class="ttname"><a href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a></div><div class="ttdeci">raw_pwrite_stream &amp; OS</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfWriter_8cpp_source.html#l00053">SampleProfWriter.cpp:53</a></div></div>
<div class="ttc" id="aclassllvm_1_1SampleProfileLoaderBaseImpl_html_a7222989331e6d8e7845bad3d2d385486"><div class="ttname"><a href="classllvm_1_1SampleProfileLoaderBaseImpl.html#a7222989331e6d8e7845bad3d2d385486">llvm::SampleProfileLoaderBaseImpl::printBlockWeight</a></div><div class="ttdeci">void printBlockWeight(raw_ostream &amp;OS, const BasicBlockT *BB) const</div><div class="ttdoc">Print the weight of block BB on stream OS.</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfileLoaderBaseImpl_8h_source.html#l00280">SampleProfileLoaderBaseImpl.h:280</a></div></div>
<div class="ttc" id="aclassllvm_1_1SampleProfileLoaderBaseImpl_html_aee060f872d48fa04e7ec34df784ce088"><div class="ttname"><a href="classllvm_1_1SampleProfileLoaderBaseImpl.html#aee060f872d48fa04e7ec34df784ce088">llvm::SampleProfileLoaderBaseImpl::findEquivalencesFor</a></div><div class="ttdeci">void findEquivalencesFor(BasicBlockT *BB1, ArrayRef&lt; BasicBlockT * &gt; Descendants, PostDominatorTreeT *DomTree)</div><div class="ttdoc">Find equivalence classes for the given block.</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfileLoaderBaseImpl_8h_source.html#l00442">SampleProfileLoaderBaseImpl.h:442</a></div></div>
<div class="ttc" id="aclassllvm_1_1SampleProfileLoaderBaseImpl_html_acbb9f0630f7cc7ce07d70bba9e4b2372"><div class="ttname"><a href="classllvm_1_1SampleProfileLoaderBaseImpl.html#acbb9f0630f7cc7ce07d70bba9e4b2372">llvm::SampleProfileLoaderBaseImpl::dump</a></div><div class="ttdeci">void dump()</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfileLoaderBaseImpl_8h_source.html#l00090">SampleProfileLoaderBaseImpl.h:90</a></div></div>
<div class="ttc" id="aclassllvm_1_1Twine_html"><div class="ttname"><a href="classllvm_1_1Twine.html">llvm::Twine</a></div><div class="ttdoc">Twine - A lightweight data structure for efficiently representing the concatenation of temporary valu...</div><div class="ttdef"><b>Definition:</b> <a href="Twine_8h_source.html#l00081">Twine.h:81</a></div></div>
<div class="ttc" id="anamespacestd_html"><div class="ttname"><a href="namespacestd.html">std</a></div><div class="ttdef"><b>Definition:</b> <a href="BitVector_8h_source.html#l00851">BitVector.h:851</a></div></div>
<div class="ttc" id="aGenericDomTree_8h_html"><div class="ttname"><a href="GenericDomTree_8h.html">GenericDomTree.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1SampleProfileLoaderBaseImpl_html_a9205ca85a329e9c429f913a3beec1302"><div class="ttname"><a href="classllvm_1_1SampleProfileLoaderBaseImpl.html#a9205ca85a329e9c429f913a3beec1302">llvm::SampleProfileLoaderBaseImpl::VisitedEdges</a></div><div class="ttdeci">SmallSet&lt; Edge, 32 &gt; VisitedEdges</div><div class="ttdoc">Set of visited edges during propagation.</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfileLoaderBaseImpl_8h_source.html#l00188">SampleProfileLoaderBaseImpl.h:188</a></div></div>
<div class="ttc" id="aFunction_8h_html"><div class="ttname"><a href="Function_8h.html">Function.h</a></div></div>
<div class="ttc" id="astructllvm_1_1afdo__detail_1_1IRTraits_3_01BasicBlock_01_4_html_ab805cfa6b45a4188429a17a52b7ceffa"><div class="ttname"><a href="structllvm_1_1afdo__detail_1_1IRTraits_3_01BasicBlock_01_4.html#ab805cfa6b45a4188429a17a52b7ceffa">llvm::afdo_detail::IRTraits&lt; BasicBlock &gt;::DominatorTreePtrT</a></div><div class="ttdeci">std::unique_ptr&lt; DominatorTree &gt; DominatorTreePtrT</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfileLoaderBaseImpl_8h_source.html#l00066">SampleProfileLoaderBaseImpl.h:66</a></div></div>
<div class="ttc" id="aclassllvm_1_1sampleprofutil_1_1SampleCoverageTracker_html"><div class="ttname"><a href="classllvm_1_1sampleprofutil_1_1SampleCoverageTracker.html">llvm::sampleprofutil::SampleCoverageTracker</a></div><div class="ttdef"><b>Definition:</b> <a href="SampleProfileLoaderBaseUtil_8h_source.html#l00035">SampleProfileLoaderBaseUtil.h:35</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVectorImpl_html_aac0ea55010b7b1a301e65a0baea057aa"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html#aac0ea55010b7b1a301e65a0baea057aa">llvm::SmallVectorImpl::clear</a></div><div class="ttdeci">void clear()</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00614">SmallVector.h:614</a></div></div>
<div class="ttc" id="aclassllvm_1_1SampleProfileLoaderBaseImpl_html_abdc4c98f065999f51c3871a59e5c1de2"><div class="ttname"><a href="classllvm_1_1SampleProfileLoaderBaseImpl.html#abdc4c98f065999f51c3871a59e5c1de2">llvm::SampleProfileLoaderBaseImpl::finalizeWeightPropagation</a></div><div class="ttdeci">void finalizeWeightPropagation(FunctionT &amp;F, const DenseSet&lt; GlobalValue::GUID &gt; &amp;InlinedGUIDs)</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfileLoaderBaseImpl_8h_source.html#l00922">SampleProfileLoaderBaseImpl.h:922</a></div></div>
<div class="ttc" id="aclassllvm_1_1DebugLoc_html_a427c256af834975c7869ad28fac00563"><div class="ttname"><a href="classllvm_1_1DebugLoc.html#a427c256af834975c7869ad28fac00563">llvm::DebugLoc::getLine</a></div><div class="ttdeci">unsigned getLine() const</div><div class="ttdef"><b>Definition:</b> <a href="DebugLoc_8cpp_source.html#l00024">DebugLoc.cpp:24</a></div></div>
<div class="ttc" id="aclassllvm_1_1SampleProfileLoaderBaseImpl_html_acf85432405f186c119ac571547c934b5"><div class="ttname"><a href="classllvm_1_1SampleProfileLoaderBaseImpl.html#acf85432405f186c119ac571547c934b5">llvm::SampleProfileLoaderBaseImpl::getPredecessors</a></div><div class="ttdeci">PredRangeT getPredecessors(BasicBlockT *BB)</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfileLoaderBaseImpl_8h_source.html#l00130">SampleProfileLoaderBaseImpl.h:130</a></div></div>
<div class="ttc" id="aclassllvm_1_1DILocation_html_a959d7d5282de6f6f459425591e7482d7"><div class="ttname"><a href="classllvm_1_1DILocation.html#a959d7d5282de6f6f459425591e7482d7">llvm::DILocation::getBaseDiscriminator</a></div><div class="ttdeci">unsigned getBaseDiscriminator() const</div><div class="ttdoc">Returns the base discriminator stored in the discriminator.</div><div class="ttdef"><b>Definition:</b> <a href="DebugInfoMetadata_8h_source.html#l02264">DebugInfoMetadata.h:2264</a></div></div>
<div class="ttc" id="aInstructions_8h_html"><div class="ttname"><a href="Instructions_8h.html">Instructions.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1SampleProfileLoaderBaseImpl_html_aff4cd6b62f6834e4ab6d194a6cd10a26"><div class="ttname"><a href="classllvm_1_1SampleProfileLoaderBaseImpl.html#aff4cd6b62f6834e4ab6d194a6cd10a26">llvm::SampleProfileLoaderBaseImpl&lt; MachineBasicBlock &gt;::Edge</a></div><div class="ttdeci">std::pair&lt; const BasicBlockT *, const BasicBlockT * &gt; Edge</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfileLoaderBaseImpl_8h_source.html#l00115">SampleProfileLoaderBaseImpl.h:115</a></div></div>
<div class="ttc" id="aclassllvm_1_1SampleProfileInference_html"><div class="ttname"><a href="classllvm_1_1SampleProfileInference.html">llvm::SampleProfileInference</a></div><div class="ttdoc">Sample profile inference pass.</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfileInference_8h_source.html#l00141">SampleProfileInference.h:141</a></div></div>
<div class="ttc" id="aSmallVector_8h_html"><div class="ttname"><a href="SmallVector_8h.html">SmallVector.h</a></div></div>
<div class="ttc" id="anamespacellvm_html_a968cc9cbd9f84ee95c72d312364cc8fa"><div class="ttname"><a href="namespacellvm.html#a968cc9cbd9f84ee95c72d312364cc8fa">llvm::pred_range</a></div><div class="ttdeci">iterator_range&lt; pred_iterator &gt; pred_range</div><div class="ttdef"><b>Definition:</b> <a href="IR_2CFG_8h_source.html#l00107">CFG.h:107</a></div></div>
<div class="ttc" id="aclassllvm_1_1SampleProfileLoaderBaseImpl_html_a3cdac7dd3485c1b3d98e5d01af4f7e8c"><div class="ttname"><a href="classllvm_1_1SampleProfileLoaderBaseImpl.html#a3cdac7dd3485c1b3d98e5d01af4f7e8c">llvm::SampleProfileLoaderBaseImpl::getSuccessors</a></div><div class="ttdeci">SuccRangeT getSuccessors(BasicBlockT *BB)</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfileLoaderBaseImpl_8h_source.html#l00133">SampleProfileLoaderBaseImpl.h:133</a></div></div>
<div class="ttc" id="aclassllvm_1_1ErrorOr_html_a7903f14c3b4fb5b4f9f9fa8b4ee0b4eb"><div class="ttname"><a href="classllvm_1_1ErrorOr.html#a7903f14c3b4fb5b4f9f9fa8b4ee0b4eb">llvm::ErrorOr::get</a></div><div class="ttdeci">reference get()</div><div class="ttdef"><b>Definition:</b> <a href="ErrorOr_8h_source.html#l00150">ErrorOr.h:150</a></div></div>
<div class="ttc" id="aDominators_8h_html"><div class="ttname"><a href="Dominators_8h.html">Dominators.h</a></div></div>
<div class="ttc" id="astructllvm_1_1afdo__detail_1_1IRTraits_html"><div class="ttname"><a href="structllvm_1_1afdo__detail_1_1IRTraits.html">llvm::afdo_detail::IRTraits</a></div><div class="ttdef"><b>Definition:</b> <a href="SampleProfileLoaderBaseImpl_8h_source.html#l00058">SampleProfileLoaderBaseImpl.h:58</a></div></div>
<div class="ttc" id="aclassllvm_1_1ErrorOr_html"><div class="ttname"><a href="classllvm_1_1ErrorOr.html">llvm::ErrorOr</a></div><div class="ttdoc">Represents either an error or a value T.</div><div class="ttdef"><b>Definition:</b> <a href="ErrorOr_8h_source.html#l00056">ErrorOr.h:56</a></div></div>
<div class="ttc" id="anamespacellvm_html_ac3bb2a12fc3a0f3e6a4a7b33e5ede867"><div class="ttname"><a href="namespacellvm.html#ac3bb2a12fc3a0f3e6a4a7b33e5ede867">llvm::SampleProfileRecordCoverage</a></div><div class="ttdeci">cl::opt&lt; unsigned &gt; SampleProfileRecordCoverage</div></div>
<div class="ttc" id="anamespacellvm_html_a5d0168711b41f5dfcb8cc9bc38adabbf"><div class="ttname"><a href="namespacellvm.html#a5d0168711b41f5dfcb8cc9bc38adabbf">llvm::SampleProfileMaxPropagateIterations</a></div><div class="ttdeci">cl::opt&lt; unsigned &gt; SampleProfileMaxPropagateIterations</div></div>
<div class="ttc" id="aclassllvm_1_1iterator__range_html"><div class="ttname"><a href="classllvm_1_1iterator__range.html">llvm::iterator_range</a></div><div class="ttdoc">A range adaptor for a pair of iterators.</div><div class="ttdef"><b>Definition:</b> <a href="iterator__range_8h_source.html#l00030">iterator_range.h:30</a></div></div>
<div class="ttc" id="aclassllvm_1_1SampleProfileLoaderBaseImpl_html_aa050c66f6348d1745290d30a312e793a"><div class="ttname"><a href="classllvm_1_1SampleProfileLoaderBaseImpl.html#aa050c66f6348d1745290d30a312e793a">llvm::SampleProfileLoaderBaseImpl::EdgeWeights</a></div><div class="ttdeci">EdgeWeightMap EdgeWeights</div><div class="ttdoc">Map edges to their computed weights.</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfileLoaderBaseImpl_8h_source.html#l00182">SampleProfileLoaderBaseImpl.h:182</a></div></div>
<div class="ttc" id="aclassllvm_1_1SampleProfileLoaderBaseImpl_html_a4918c62a66c1409bd63aae4e7ab7d5e4"><div class="ttname"><a href="classllvm_1_1SampleProfileLoaderBaseImpl.html#a4918c62a66c1409bd63aae4e7ab7d5e4">llvm::SampleProfileLoaderBaseImpl::FS</a></div><div class="ttdeci">IntrusiveRefCntPtr&lt; vfs::FileSystem &gt; FS</div><div class="ttdoc">VirtualFileSystem to load profile files from.</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfileLoaderBaseImpl_8h_source.html#l00225">SampleProfileLoaderBaseImpl.h:225</a></div></div>
<div class="ttc" id="aclassllvm_1_1SampleProfileLoaderBaseImpl_html_aaf038272d638dde2d908254d5d4b68c1"><div class="ttname"><a href="classllvm_1_1SampleProfileLoaderBaseImpl.html#aaf038272d638dde2d908254d5d4b68c1">llvm::SampleProfileLoaderBaseImpl&lt; MachineBasicBlock &gt;::FunctionT</a></div><div class="ttdeci">typename afdo_detail::IRTraits&lt; MachineBasicBlock &gt;::FunctionT FunctionT</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfileLoaderBaseImpl_8h_source.html#l00096">SampleProfileLoaderBaseImpl.h:96</a></div></div>
<div class="ttc" id="aclassllvm_1_1DISubprogram_html"><div class="ttname"><a href="classllvm_1_1DISubprogram.html">llvm::DISubprogram</a></div><div class="ttdoc">Subprogram description.</div><div class="ttdef"><b>Definition:</b> <a href="DebugInfoMetadata_8h_source.html#l01851">DebugInfoMetadata.h:1851</a></div></div>
<div class="ttc" id="alib_2CodeGen_2README_8txt_html_a09776db24cf586ec9f1e18f3bae14099"><div class="ttname"><a href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a></div><div class="ttdeci">Common register allocation spilling lr str ldr sxth r3 ldr mla r4 can lr mov lr str ldr sxth r3 mla r4 and then merge mul and lr str ldr sxth r3 mla r4 It also increase the likelihood the store may become dead bb27 Successors according to LLVM BB</div><div class="ttdef"><b>Definition:</b> <a href="lib_2CodeGen_2README_8txt_source.html#l00039">README.txt:39</a></div></div>
<div class="ttc" id="aclassllvm_1_1DebugLoc_html"><div class="ttname"><a href="classllvm_1_1DebugLoc.html">llvm::DebugLoc</a></div><div class="ttdoc">A debug info location.</div><div class="ttdef"><b>Definition:</b> <a href="DebugLoc_8h_source.html#l00033">DebugLoc.h:33</a></div></div>
<div class="ttc" id="aclassllvm_1_1Function_1_1ProfileCount_html"><div class="ttname"><a href="classllvm_1_1Function_1_1ProfileCount.html">llvm::Function::ProfileCount</a></div><div class="ttdoc">Class to represent profile counts.</div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00252">Function.h:252</a></div></div>
<div class="ttc" id="aclassllvm_1_1SampleProfileLoaderBaseImpl_html_a281c5ec3208c0b92191ec02c5a134623"><div class="ttname"><a href="classllvm_1_1SampleProfileLoaderBaseImpl.html#a281c5ec3208c0b92191ec02c5a134623">llvm::SampleProfileLoaderBaseImpl&lt; MachineBasicBlock &gt;::OptRemarkEmitterT</a></div><div class="ttdeci">typename afdo_detail::IRTraits&lt; MachineBasicBlock &gt;::OptRemarkEmitterT OptRemarkEmitterT</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfileLoaderBaseImpl_8h_source.html#l00106">SampleProfileLoaderBaseImpl.h:106</a></div></div>
<div class="ttc" id="araw__ostream_8h_html"><div class="ttname"><a href="raw__ostream_8h.html">raw_ostream.h</a></div></div>
<div class="ttc" id="astructllvm_1_1afdo__detail_1_1IRTraits_3_01BasicBlock_01_4_html_a3e60a80fbcf1fbb8c5d3f63ee25aff1e"><div class="ttname"><a href="structllvm_1_1afdo__detail_1_1IRTraits_3_01BasicBlock_01_4.html#a3e60a80fbcf1fbb8c5d3f63ee25aff1e">llvm::afdo_detail::IRTraits&lt; BasicBlock &gt;::LoopInfoPtrT</a></div><div class="ttdeci">std::unique_ptr&lt; LoopInfo &gt; LoopInfoPtrT</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfileLoaderBaseImpl_8h_source.html#l00065">SampleProfileLoaderBaseImpl.h:65</a></div></div>
<div class="ttc" id="aclassllvm_1_1SampleProfileLoaderBaseImpl_html_af6870481475cc38c5ab35c09f8145d16"><div class="ttname"><a href="classllvm_1_1SampleProfileLoaderBaseImpl.html#af6870481475cc38c5ab35c09f8145d16">llvm::SampleProfileLoaderBaseImpl::DILocation2SampleMap</a></div><div class="ttdeci">DenseMap&lt; const DILocation *, const FunctionSamples * &gt; DILocation2SampleMap</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfileLoaderBaseImpl_8h_source.html#l00142">SampleProfileLoaderBaseImpl.h:142</a></div></div>
<div class="ttc" id="aclassllvm_1_1IntrusiveRefCntPtr_html"><div class="ttname"><a href="classllvm_1_1IntrusiveRefCntPtr.html">llvm::IntrusiveRefCntPtr</a></div><div class="ttdoc">A smart pointer to a reference-counted object that inherits from RefCountedBase or ThreadSafeRefCount...</div><div class="ttdef"><b>Definition:</b> <a href="IntrusiveRefCntPtr_8h_source.html#l00168">IntrusiveRefCntPtr.h:168</a></div></div>
<div class="ttc" id="aSmallSet_8h_html"><div class="ttname"><a href="SmallSet_8h.html">SmallSet.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallPtrSetImpl_html_a6bc6fb89fe2e91c25559a8631f56e27e"><div class="ttname"><a href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">llvm::SmallPtrSetImpl::insert</a></div><div class="ttdeci">std::pair&lt; iterator, bool &gt; insert(PtrType Ptr)</div><div class="ttdoc">Inserts Ptr if and only if there is no element in the container equal to Ptr.</div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00365">SmallPtrSet.h:365</a></div></div>
<div class="ttc" id="anamespacellvm_html_a057d4a17b9d5b14c1cba62e390c5bf3e"><div class="ttname"><a href="namespacellvm.html#a057d4a17b9d5b14c1cba62e390c5bf3e">llvm::NoWarnSampleUnused</a></div><div class="ttdeci">cl::opt&lt; bool &gt; NoWarnSampleUnused</div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Aug 7 2023 09:48:11 for LLVM by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
