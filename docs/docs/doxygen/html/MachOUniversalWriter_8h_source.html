<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LLVM: include/llvm/Object/MachOUniversalWriter.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LLVM
   &#160;<span id="projectnumber">17.0.0git</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="dir_dcde91663b8816e1e2311938ccd8f690.html">llvm</a></li><li class="navelem"><a class="el" href="dir_b21276aa901501839874154d4047f901.html">Object</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">MachOUniversalWriter.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="MachOUniversalWriter_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//===- MachOUniversalWriter.h - MachO universal binary writer----*- C++ -*-===//</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// Part of the LLVM Project, under the Apache License v2.0 with LLVM Exceptions.</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">// See https://llvm.org/LICENSE.txt for license information.</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// SPDX-License-Identifier: Apache-2.0 WITH LLVM-exception</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">// Declares the Slice class and writeUniversalBinary function for writing a</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">// MachO universal binary file.</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160; </div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#ifndef LLVM_OBJECT_MACHOUNIVERSALWRITER_H</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#define LLVM_OBJECT_MACHOUNIVERSALWRITER_H</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160; </div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ArrayRef_8h.html">llvm/ADT/ArrayRef.h</a>&quot;</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="StringRef_8h.html">llvm/ADT/StringRef.h</a>&quot;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Twine_8h.html">llvm/ADT/Twine.h</a>&quot;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="BinaryFormat_2MachO_8h.html">llvm/BinaryFormat/MachO.h</a>&quot;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Support_2Error_8h.html">llvm/Support/Error.h</a>&quot;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &lt;cstdint&gt;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &lt;string&gt;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160; </div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacellvm.html">llvm</a> {</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="keyword">class </span>LLVMContext;</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160; </div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="keyword">namespace </span><a class="code" href="lib_2Target_2X86_2README_8txt.html#a1562fc446f77d508d88246f2da381a16">object</a> {</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="keyword">class </span>Archive;</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="keyword">class </span><a class="code" href="namespacellvm_1_1msgpack.html#afdae9da66bac09f4b2bfc0fd9f0559e6a6ce976e8f061b2b5cfe4d0c50c3405dd">Binary</a>;</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="keyword">class </span>IRObjectFile;</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="keyword">class </span>MachOObjectFile;</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160; </div>
<div class="line"><a name="l00034"></a><span class="lineno"><a class="line" href="classllvm_1_1object_1_1Slice.html">   34</a></span>&#160;<span class="keyword">class </span><a class="code" href="classllvm_1_1object_1_1Slice.html">Slice</a> {</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1object_1_1Binary.html">Binary</a> *B;</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;  <a class="code" href="classuint32__t.html">uint32_t</a> CPUType;</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;  <a class="code" href="classuint32__t.html">uint32_t</a> CPUSubType;</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;  std::string ArchName;</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160; </div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;  <span class="comment">// P2Alignment field stores slice alignment values from universal</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;  <span class="comment">// binaries. This is also needed to order the slices so the total</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;  <span class="comment">// file size can be calculated before creating the output buffer.</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;  <a class="code" href="classuint32__t.html">uint32_t</a> P2Alignment;</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160; </div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;  <a class="code" href="classllvm_1_1object_1_1Slice.html">Slice</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1object_1_1IRObjectFile.html">IRObjectFile</a> &amp;IRO, <a class="code" href="classuint32__t.html">uint32_t</a> CPUType, <a class="code" href="classuint32__t.html">uint32_t</a> CPUSubType,</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;        std::string ArchName, <a class="code" href="classuint32__t.html">uint32_t</a> <a class="code" href="structllvm_1_1Align.html">Align</a>);</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160; </div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;  <span class="keyword">explicit</span> <a class="code" href="classllvm_1_1object_1_1Slice.html">Slice</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1object_1_1MachOObjectFile.html">MachOObjectFile</a> &amp;<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1a33f1d911a725a1f81234a908d03edb">O</a>);</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160; </div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;  <a class="code" href="classllvm_1_1object_1_1Slice.html">Slice</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1object_1_1MachOObjectFile.html">MachOObjectFile</a> &amp;<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1a33f1d911a725a1f81234a908d03edb">O</a>, <a class="code" href="classuint32__t.html">uint32_t</a> <a class="code" href="structllvm_1_1Align.html">Align</a>);</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="comment">  /// This constructor takes pre-specified \param CPUType , \param CPUSubType ,</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="comment">  /// \param ArchName , \param Align instead of inferring them from the archive</span></div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="comment">  /// members.</span></div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1object_1_1Slice.html">Slice</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1object_1_1Archive.html">Archive</a> &amp;A, <a class="code" href="classuint32__t.html">uint32_t</a> CPUType, <a class="code" href="classuint32__t.html">uint32_t</a> CPUSubType,</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;        std::string ArchName, <a class="code" href="classuint32__t.html">uint32_t</a> <a class="code" href="structllvm_1_1Align.html">Align</a>);</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160; </div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;  <span class="keyword">static</span> <a class="code" href="classllvm_1_1Expected.html">Expected&lt;Slice&gt;</a> <a class="code" href="classllvm_1_1object_1_1Slice.html#a3779e25ea5cf73ef56236c678bf648e8">create</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1object_1_1Archive.html">Archive</a> &amp;A,</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;                                <a class="code" href="classllvm_1_1LLVMContext.html">LLVMContext</a> *LLVMCtx = <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160; </div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;  <span class="keyword">static</span> <a class="code" href="classllvm_1_1Expected.html">Expected&lt;Slice&gt;</a> <a class="code" href="classllvm_1_1object_1_1Slice.html#a3779e25ea5cf73ef56236c678bf648e8">create</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1object_1_1IRObjectFile.html">IRObjectFile</a> &amp;IRO, <a class="code" href="classuint32__t.html">uint32_t</a> <a class="code" href="structllvm_1_1Align.html">Align</a>);</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160; </div>
<div class="line"><a name="l00064"></a><span class="lineno"><a class="line" href="classllvm_1_1object_1_1Slice.html#a9e261eb1e1b49d7eab4202d8791ebed9">   64</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classllvm_1_1object_1_1Slice.html#a9e261eb1e1b49d7eab4202d8791ebed9">setP2Alignment</a>(<a class="code" href="classuint32__t.html">uint32_t</a> <a class="code" href="structllvm_1_1Align.html">Align</a>) { P2Alignment = <a class="code" href="ELFObjHandler_8cpp.html#a043cdaf7b89aaeeb127be5d93411637f">Align</a>; }</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160; </div>
<div class="line"><a name="l00066"></a><span class="lineno"><a class="line" href="classllvm_1_1object_1_1Slice.html#aa22da5f6d77bd420b33ea14ea8eb944e">   66</a></span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1object_1_1Binary.html">Binary</a> *<a class="code" href="classllvm_1_1object_1_1Slice.html#aa22da5f6d77bd420b33ea14ea8eb944e">getBinary</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a90cca76dd78688687e0d697679dbc799">B</a>; }</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160; </div>
<div class="line"><a name="l00068"></a><span class="lineno"><a class="line" href="classllvm_1_1object_1_1Slice.html#a719649852c4e3f93c4c2e6ee7d471c10">   68</a></span>&#160;  <a class="code" href="classuint32__t.html">uint32_t</a> <a class="code" href="classllvm_1_1object_1_1Slice.html#a719649852c4e3f93c4c2e6ee7d471c10">getCPUType</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> CPUType; }</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160; </div>
<div class="line"><a name="l00070"></a><span class="lineno"><a class="line" href="classllvm_1_1object_1_1Slice.html#ac06862509ab6322a92d3befcf3dffa45">   70</a></span>&#160;  <a class="code" href="classuint32__t.html">uint32_t</a> <a class="code" href="classllvm_1_1object_1_1Slice.html#ac06862509ab6322a92d3befcf3dffa45">getCPUSubType</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> CPUSubType; }</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160; </div>
<div class="line"><a name="l00072"></a><span class="lineno"><a class="line" href="classllvm_1_1object_1_1Slice.html#a0bd5295141b2f2d5152636fe20704cc3">   72</a></span>&#160;  <a class="code" href="classuint32__t.html">uint32_t</a> <a class="code" href="classllvm_1_1object_1_1Slice.html#a0bd5295141b2f2d5152636fe20704cc3">getP2Alignment</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> P2Alignment; }</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160; </div>
<div class="line"><a name="l00074"></a><span class="lineno"><a class="line" href="classllvm_1_1object_1_1Slice.html#af6079fdaadaa2bd7b132dfb946e74e65">   74</a></span>&#160;  <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> <a class="code" href="classllvm_1_1object_1_1Slice.html#af6079fdaadaa2bd7b132dfb946e74e65">getCPUID</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a><span class="keyword">&gt;</span>(CPUType) &lt;&lt; 32 | CPUSubType;</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;  }</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160; </div>
<div class="line"><a name="l00078"></a><span class="lineno"><a class="line" href="classllvm_1_1object_1_1Slice.html#a82af3af6273906e602a7e1a384124eef">   78</a></span>&#160;  std::string <a class="code" href="classllvm_1_1object_1_1Slice.html#a82af3af6273906e602a7e1a384124eef">getArchString</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    <span class="keywordflow">if</span> (!ArchName.empty())</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;      <span class="keywordflow">return</span> ArchName;</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    <span class="keywordflow">return</span> (<span class="stringliteral">&quot;unknown(&quot;</span> + <a class="code" href="classllvm_1_1Twine.html">Twine</a>(CPUType) + <span class="stringliteral">&quot;,&quot;</span> +</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;            <a class="code" href="classllvm_1_1Twine.html">Twine</a>(CPUSubType &amp; ~<a class="code" href="namespacellvm_1_1MachO.html#a3c9d7d0981a98b652b2ff602a8cfcf9aaf6e05a7fc658dcb0b82b70cb66497529">MachO::CPU_SUBTYPE_MASK</a>) + <span class="stringliteral">&quot;)&quot;</span>)</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;        .str();</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;  }</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160; </div>
<div class="line"><a name="l00086"></a><span class="lineno"><a class="line" href="classllvm_1_1object_1_1Slice.html#afb1fd739da32b1e6cf27dccf6e91d5ba">   86</a></span>&#160;  <span class="keyword">friend</span> <span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1object_1_1Slice.html#afb1fd739da32b1e6cf27dccf6e91d5ba">operator&lt;</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1object_1_1Slice.html">Slice</a> &amp;Lhs, <span class="keyword">const</span> <a class="code" href="classllvm_1_1object_1_1Slice.html">Slice</a> &amp;Rhs) {</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    <span class="keywordflow">if</span> (Lhs.CPUType == Rhs.CPUType)</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;      <span class="keywordflow">return</span> Lhs.CPUSubType &lt; Rhs.CPUSubType;</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    <span class="comment">// force arm64-family to follow after all other slices for</span></div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    <span class="comment">// compatibility with cctools lipo</span></div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    <span class="keywordflow">if</span> (Lhs.CPUType == <a class="code" href="namespacellvm_1_1MachO.html#af2acbc063e449084ba33f738a700ce47a33fddb0190d728c25e266a22d64bd7ad">MachO::CPU_TYPE_ARM64</a>)</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    <span class="keywordflow">if</span> (Rhs.CPUType == <a class="code" href="namespacellvm_1_1MachO.html#af2acbc063e449084ba33f738a700ce47a33fddb0190d728c25e266a22d64bd7ad">MachO::CPU_TYPE_ARM64</a>)</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    <span class="comment">// Sort by alignment to minimize file size</span></div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    <span class="keywordflow">return</span> Lhs.P2Alignment &lt; Rhs.P2Alignment;</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;  }</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;};</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160; </div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;<a class="code" href="classllvm_1_1Error.html">Error</a> <a class="code" href="namespacellvm_1_1object.html#a879a48b8a90845944e33a31ade3aff54">writeUniversalBinary</a>(<a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;Slice&gt;</a> Slices, <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> OutputFileName);</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160; </div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;<a class="code" href="classllvm_1_1Error.html">Error</a> <a class="code" href="namespacellvm_1_1object.html#af09c82390c3b97ce4290439dc551aa0b">writeUniversalBinaryToStream</a>(<a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;Slice&gt;</a> Slices, <a class="code" href="classllvm_1_1raw__ostream.html">raw_ostream</a> &amp;Out);</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160; </div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;} <span class="comment">// end namespace object</span></div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160; </div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;} <span class="comment">// end namespace llvm</span></div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160; </div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;<span class="preprocessor">#endif // LLVM_OBJECT_MACHOUNIVERSALWRITER_H</span></div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="anamespacellvm_html"><div class="ttname"><a href="namespacellvm.html">llvm</a></div><div class="ttdoc">This is an optimization pass for GlobalISel generic memory operations.</div><div class="ttdef"><b>Definition:</b> <a href="AddressRanges_8h_source.html#l00018">AddressRanges.h:18</a></div></div>
<div class="ttc" id="anamespacellvm_1_1MachO_html_a3c9d7d0981a98b652b2ff602a8cfcf9aaf6e05a7fc658dcb0b82b70cb66497529"><div class="ttname"><a href="namespacellvm_1_1MachO.html#a3c9d7d0981a98b652b2ff602a8cfcf9aaf6e05a7fc658dcb0b82b70cb66497529">llvm::MachO::CPU_SUBTYPE_MASK</a></div><div class="ttdeci">@ CPU_SUBTYPE_MASK</div><div class="ttdef"><b>Definition:</b> <a href="BinaryFormat_2MachO_8h_source.html#l01577">MachO.h:1577</a></div></div>
<div class="ttc" id="aclassllvm_1_1object_1_1Slice_html_a0bd5295141b2f2d5152636fe20704cc3"><div class="ttname"><a href="classllvm_1_1object_1_1Slice.html#a0bd5295141b2f2d5152636fe20704cc3">llvm::object::Slice::getP2Alignment</a></div><div class="ttdeci">uint32_t getP2Alignment() const</div><div class="ttdef"><b>Definition:</b> <a href="MachOUniversalWriter_8h_source.html#l00072">MachOUniversalWriter.h:72</a></div></div>
<div class="ttc" id="aStringRef_8h_html"><div class="ttname"><a href="StringRef_8h.html">StringRef.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1object_1_1Slice_html_af6079fdaadaa2bd7b132dfb946e74e65"><div class="ttname"><a href="classllvm_1_1object_1_1Slice.html#af6079fdaadaa2bd7b132dfb946e74e65">llvm::object::Slice::getCPUID</a></div><div class="ttdeci">uint64_t getCPUID() const</div><div class="ttdef"><b>Definition:</b> <a href="MachOUniversalWriter_8h_source.html#l00074">MachOUniversalWriter.h:74</a></div></div>
<div class="ttc" id="aSupport_2Error_8h_html"><div class="ttname"><a href="Support_2Error_8h.html">Error.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1object_1_1Slice_html_a3779e25ea5cf73ef56236c678bf648e8"><div class="ttname"><a href="classllvm_1_1object_1_1Slice.html#a3779e25ea5cf73ef56236c678bf648e8">llvm::object::Slice::create</a></div><div class="ttdeci">static Expected&lt; Slice &gt; create(const Archive &amp;A, LLVMContext *LLVMCtx=nullptr)</div></div>
<div class="ttc" id="aclassllvm_1_1object_1_1Slice_html_a9e261eb1e1b49d7eab4202d8791ebed9"><div class="ttname"><a href="classllvm_1_1object_1_1Slice.html#a9e261eb1e1b49d7eab4202d8791ebed9">llvm::object::Slice::setP2Alignment</a></div><div class="ttdeci">void setP2Alignment(uint32_t Align)</div><div class="ttdef"><b>Definition:</b> <a href="MachOUniversalWriter_8h_source.html#l00064">MachOUniversalWriter.h:64</a></div></div>
<div class="ttc" id="aclassllvm_1_1Expected_html"><div class="ttname"><a href="classllvm_1_1Expected.html">llvm::Expected</a></div><div class="ttdoc">Tagged union holding either a T or a Error.</div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8h_source.html#l00041">APFloat.h:41</a></div></div>
<div class="ttc" id="anamespacellvm_1_1msgpack_html_afdae9da66bac09f4b2bfc0fd9f0559e6a6ce976e8f061b2b5cfe4d0c50c3405dd"><div class="ttname"><a href="namespacellvm_1_1msgpack.html#afdae9da66bac09f4b2bfc0fd9f0559e6a6ce976e8f061b2b5cfe4d0c50c3405dd">llvm::msgpack::Type::Binary</a></div><div class="ttdeci">@ Binary</div></div>
<div class="ttc" id="aclassllvm_1_1object_1_1Archive_html"><div class="ttname"><a href="classllvm_1_1object_1_1Archive.html">llvm::object::Archive</a></div><div class="ttdef"><b>Definition:</b> <a href="include_2llvm_2Object_2Archive_8h_source.html#l00156">Archive.h:156</a></div></div>
<div class="ttc" id="aTwine_8h_html"><div class="ttname"><a href="Twine_8h.html">Twine.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1object_1_1Slice_html_ac06862509ab6322a92d3befcf3dffa45"><div class="ttname"><a href="classllvm_1_1object_1_1Slice.html#ac06862509ab6322a92d3befcf3dffa45">llvm::object::Slice::getCPUSubType</a></div><div class="ttdeci">uint32_t getCPUSubType() const</div><div class="ttdef"><b>Definition:</b> <a href="MachOUniversalWriter_8h_source.html#l00070">MachOUniversalWriter.h:70</a></div></div>
<div class="ttc" id="aclassllvm_1_1raw__ostream_html"><div class="ttname"><a href="classllvm_1_1raw__ostream.html">llvm::raw_ostream</a></div><div class="ttdoc">This class implements an extremely fast bulk output stream that can only output to a stream.</div><div class="ttdef"><b>Definition:</b> <a href="raw__ostream_8h_source.html#l00052">raw_ostream.h:52</a></div></div>
<div class="ttc" id="aclassllvm_1_1object_1_1Slice_html_aa22da5f6d77bd420b33ea14ea8eb944e"><div class="ttname"><a href="classllvm_1_1object_1_1Slice.html#aa22da5f6d77bd420b33ea14ea8eb944e">llvm::object::Slice::getBinary</a></div><div class="ttdeci">const Binary * getBinary() const</div><div class="ttdef"><b>Definition:</b> <a href="MachOUniversalWriter_8h_source.html#l00066">MachOUniversalWriter.h:66</a></div></div>
<div class="ttc" id="aELFObjHandler_8cpp_html_a043cdaf7b89aaeeb127be5d93411637f"><div class="ttname"><a href="ELFObjHandler_8cpp.html#a043cdaf7b89aaeeb127be5d93411637f">Align</a></div><div class="ttdeci">uint64_t Align</div><div class="ttdef"><b>Definition:</b> <a href="ELFObjHandler_8cpp_source.html#l00082">ELFObjHandler.cpp:82</a></div></div>
<div class="ttc" id="astructllvm_1_1Align_html"><div class="ttname"><a href="structllvm_1_1Align.html">llvm::Align</a></div><div class="ttdoc">This struct is a compact representation of a valid (non-zero power of two) alignment.</div><div class="ttdef"><b>Definition:</b> <a href="Alignment_8h_source.html#l00039">Alignment.h:39</a></div></div>
<div class="ttc" id="aADT_2tmp_8txt_html_a07ed0bfaa124c15897944fe3eaa971ab"><div class="ttname"><a href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a></div><div class="ttdeci">Class for arbitrary precision integers APInt is a functional replacement for common case unsigned integer type like unsigned long or uint64_t</div><div class="ttdef"><b>Definition:</b> <a href="ADT_2tmp_8txt_source.html#l00001">tmp.txt:1</a></div></div>
<div class="ttc" id="aclassllvm_1_1object_1_1MachOObjectFile_html"><div class="ttname"><a href="classllvm_1_1object_1_1MachOObjectFile.html">llvm::object::MachOObjectFile</a></div><div class="ttdef"><b>Definition:</b> <a href="Object_2MachO_8h_source.html#l00406">MachO.h:406</a></div></div>
<div class="ttc" id="anamespacellvm_1_1RISCVFenceField_html_a147be9e9780c1e33363ea572d4c7b25fa1a33f1d911a725a1f81234a908d03edb"><div class="ttname"><a href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1a33f1d911a725a1f81234a908d03edb">llvm::RISCVFenceField::O</a></div><div class="ttdeci">@ O</div><div class="ttdef"><b>Definition:</b> <a href="RISCVBaseInfo_8h_source.html#l00277">RISCVBaseInfo.h:277</a></div></div>
<div class="ttc" id="alib_2Target_2X86_2README_8txt_html_a1562fc446f77d508d88246f2da381a16"><div class="ttname"><a href="lib_2Target_2X86_2README_8txt.html#a1562fc446f77d508d88246f2da381a16">object</a></div><div class="ttdeci">bar al al movzbl eax ret Missed when stored in a memory object</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2X86_2README_8txt_source.html#l01411">README.txt:1411</a></div></div>
<div class="ttc" id="aclassllvm_1_1LLVMContext_html"><div class="ttname"><a href="classllvm_1_1LLVMContext.html">llvm::LLVMContext</a></div><div class="ttdoc">This is an important class for using LLVM in a threaded context.</div><div class="ttdef"><b>Definition:</b> <a href="LLVMContext_8h_source.html#l00067">LLVMContext.h:67</a></div></div>
<div class="ttc" id="anamespacellvm_1_1MachO_html_af2acbc063e449084ba33f738a700ce47a33fddb0190d728c25e266a22d64bd7ad"><div class="ttname"><a href="namespacellvm_1_1MachO.html#af2acbc063e449084ba33f738a700ce47a33fddb0190d728c25e266a22d64bd7ad">llvm::MachO::CPU_TYPE_ARM64</a></div><div class="ttdeci">@ CPU_TYPE_ARM64</div><div class="ttdef"><b>Definition:</b> <a href="BinaryFormat_2MachO_8h_source.html#l01568">MachO.h:1568</a></div></div>
<div class="ttc" id="aclassllvm_1_1object_1_1Slice_html"><div class="ttname"><a href="classllvm_1_1object_1_1Slice.html">llvm::object::Slice</a></div><div class="ttdef"><b>Definition:</b> <a href="MachOUniversalWriter_8h_source.html#l00034">MachOUniversalWriter.h:34</a></div></div>
<div class="ttc" id="aArrayRef_8h_html"><div class="ttname"><a href="ArrayRef_8h.html">ArrayRef.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1object_1_1Slice_html_a82af3af6273906e602a7e1a384124eef"><div class="ttname"><a href="classllvm_1_1object_1_1Slice.html#a82af3af6273906e602a7e1a384124eef">llvm::object::Slice::getArchString</a></div><div class="ttdeci">std::string getArchString() const</div><div class="ttdef"><b>Definition:</b> <a href="MachOUniversalWriter_8h_source.html#l00078">MachOUniversalWriter.h:78</a></div></div>
<div class="ttc" id="aclassllvm_1_1object_1_1IRObjectFile_html"><div class="ttname"><a href="classllvm_1_1object_1_1IRObjectFile.html">llvm::object::IRObjectFile</a></div><div class="ttdef"><b>Definition:</b> <a href="IRObjectFile_8h_source.html#l00027">IRObjectFile.h:27</a></div></div>
<div class="ttc" id="alib_2Target_2ARM_2README_8txt_html_a90cca76dd78688687e0d697679dbc799"><div class="ttname"><a href="lib_2Target_2ARM_2README_8txt.html#a90cca76dd78688687e0d697679dbc799">B</a></div><div class="ttdeci">compiles ldr LCPI1_0 ldr ldr mov lsr tst moveq r1 ldr LCPI1_1 and r0 bx lr It would be better to do something like to fold the shift into the conditional ldr LCPI1_0 ldr ldr tst movne lsr ldr LCPI1_1 and r0 bx lr it saves an instruction and a register It might be profitable to cse MOVi16 if there are lots of bit immediates with the same bottom half Robert Muth started working on an alternate jump table implementation that does not put the tables in line in the text This is more like the llvm default jump table implementation This might be useful sometime Several revisions of patches are on the mailing beginning while CMP sets them like a subtract Therefore to be able to use CMN for comparisons other than the Z we ll need additional logic to reverse the conditionals associated with the comparison Perhaps a pseudo instruction for the with a post codegen pass to clean up and handle the condition codes See PR5694 for testcase Given the following on int B</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2ARM_2README_8txt_source.html#l00592">README.txt:592</a></div></div>
<div class="ttc" id="aclassllvm_1_1ArrayRef_html"><div class="ttname"><a href="classllvm_1_1ArrayRef.html">llvm::ArrayRef</a></div><div class="ttdoc">ArrayRef - Represent a constant reference to an array (0 or more elements consecutively in memory),...</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00033">APInt.h:33</a></div></div>
<div class="ttc" id="aclassllvm_1_1StringRef_html"><div class="ttname"><a href="classllvm_1_1StringRef.html">llvm::StringRef</a></div><div class="ttdoc">StringRef - Represent a constant reference to a string, i.e.</div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00050">StringRef.h:50</a></div></div>
<div class="ttc" id="aclassllvm_1_1object_1_1Binary_html"><div class="ttname"><a href="classllvm_1_1object_1_1Binary.html">llvm::object::Binary</a></div><div class="ttdef"><b>Definition:</b> <a href="Binary_8h_source.html#l00032">Binary.h:32</a></div></div>
<div class="ttc" id="aclassuint32__t_html"><div class="ttname"><a href="classuint32__t.html">uint32_t</a></div></div>
<div class="ttc" id="aclassllvm_1_1Twine_html"><div class="ttname"><a href="classllvm_1_1Twine.html">llvm::Twine</a></div><div class="ttdoc">Twine - A lightweight data structure for efficiently representing the concatenation of temporary valu...</div><div class="ttdef"><b>Definition:</b> <a href="Twine_8h_source.html#l00081">Twine.h:81</a></div></div>
<div class="ttc" id="anamespacellvm_1_1object_html_af09c82390c3b97ce4290439dc551aa0b"><div class="ttname"><a href="namespacellvm_1_1object.html#af09c82390c3b97ce4290439dc551aa0b">llvm::object::writeUniversalBinaryToStream</a></div><div class="ttdeci">Error writeUniversalBinaryToStream(ArrayRef&lt; Slice &gt; Slices, raw_ostream &amp;Out)</div><div class="ttdef"><b>Definition:</b> <a href="MachOUniversalWriter_8cpp_source.html#l00273">MachOUniversalWriter.cpp:273</a></div></div>
<div class="ttc" id="aclassllvm_1_1Error_html"><div class="ttname"><a href="classllvm_1_1Error.html">llvm::Error</a></div><div class="ttdoc">Lightweight error class with error context and mandatory checking.</div><div class="ttdef"><b>Definition:</b> <a href="Support_2Error_8h_source.html#l00156">Error.h:156</a></div></div>
<div class="ttc" id="aclassllvm_1_1object_1_1Slice_html_afb1fd739da32b1e6cf27dccf6e91d5ba"><div class="ttname"><a href="classllvm_1_1object_1_1Slice.html#afb1fd739da32b1e6cf27dccf6e91d5ba">llvm::object::Slice::operator&lt;</a></div><div class="ttdeci">friend bool operator&lt;(const Slice &amp;Lhs, const Slice &amp;Rhs)</div><div class="ttdef"><b>Definition:</b> <a href="MachOUniversalWriter_8h_source.html#l00086">MachOUniversalWriter.h:86</a></div></div>
<div class="ttc" id="aBinaryFormat_2MachO_8h_html"><div class="ttname"><a href="BinaryFormat_2MachO_8h.html">MachO.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1object_html_a879a48b8a90845944e33a31ade3aff54"><div class="ttname"><a href="namespacellvm_1_1object.html#a879a48b8a90845944e33a31ade3aff54">llvm::object::writeUniversalBinary</a></div><div class="ttdeci">Error writeUniversalBinary(ArrayRef&lt; Slice &gt; Slices, StringRef OutputFileName)</div><div class="ttdef"><b>Definition:</b> <a href="MachOUniversalWriter_8cpp_source.html#l00314">MachOUniversalWriter.cpp:314</a></div></div>
<div class="ttc" id="aclassllvm_1_1object_1_1Slice_html_a719649852c4e3f93c4c2e6ee7d471c10"><div class="ttname"><a href="classllvm_1_1object_1_1Slice.html#a719649852c4e3f93c4c2e6ee7d471c10">llvm::object::Slice::getCPUType</a></div><div class="ttdeci">uint32_t getCPUType() const</div><div class="ttdef"><b>Definition:</b> <a href="MachOUniversalWriter_8h_source.html#l00068">MachOUniversalWriter.h:68</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Aug 7 2023 09:45:57 for LLVM by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
