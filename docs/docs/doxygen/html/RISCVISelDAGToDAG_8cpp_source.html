<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LLVM: lib/Target/RISCV/RISCVISelDAGToDAG.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LLVM
   &#160;<span id="projectnumber">17.0.0git</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_794e483eb1cc7921d35fd149d9cc325b.html">Target</a></li><li class="navelem"><a class="el" href="dir_fc62c913e8b7bfce256a9466d87d79c7.html">RISCV</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">RISCVISelDAGToDAG.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="RISCVISelDAGToDAG_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//===-- RISCVISelDAGToDAG.cpp - A dag to dag inst selector for RISCV ------===//</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// Part of the LLVM Project, under the Apache License v2.0 with LLVM Exceptions.</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">// See https://llvm.org/LICENSE.txt for license information.</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// SPDX-License-Identifier: Apache-2.0 WITH LLVM-exception</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">// This file defines an instruction selector for the RISCV target.</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160; </div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="RISCVISelDAGToDAG_8h.html">RISCVISelDAGToDAG.h</a>&quot;</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="RISCVMCTargetDesc_8h.html">MCTargetDesc/RISCVMCTargetDesc.h</a>&quot;</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="RISCVMatInt_8h.html">MCTargetDesc/RISCVMatInt.h</a>&quot;</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="RISCVISelLowering_8h.html">RISCVISelLowering.h</a>&quot;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="RISCVMachineFunctionInfo_8h.html">RISCVMachineFunctionInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineFrameInfo_8h.html">llvm/CodeGen/MachineFrameInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;llvm/IR/IntrinsicsRISCV.h&quot;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Alignment_8h.html">llvm/Support/Alignment.h</a>&quot;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Debug_8h.html">llvm/Support/Debug.h</a>&quot;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MathExtras_8h.html">llvm/Support/MathExtras.h</a>&quot;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="raw__ostream_8h.html">llvm/Support/raw_ostream.h</a>&quot;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &lt;optional&gt;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160; </div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacellvm.html">llvm</a>;</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160; </div>
<div class="line"><a name="l00028"></a><span class="lineno"><a class="line" href="RISCVISelDAGToDAG_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">   28</a></span>&#160;<span class="preprocessor">#define DEBUG_TYPE &quot;riscv-isel&quot;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno"><a class="line" href="RISCVISelDAGToDAG_8cpp.html#acf9235cddac26ff3f81e8c56849bcaac">   29</a></span>&#160;<span class="preprocessor">#define PASS_NAME &quot;RISCV DAG-&gt;DAG Pattern Instruction Selection&quot;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160; </div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacellvm_1_1RISCV.html">llvm::RISCV</a> {</div>
<div class="line"><a name="l00032"></a><span class="lineno"><a class="line" href="RISCVISelDAGToDAG_8cpp.html#a22dd03b1793fef85cb99659939dacf2c">   32</a></span>&#160;<span class="preprocessor">#define GET_RISCVVSSEGTable_IMPL</span></div>
<div class="line"><a name="l00033"></a><span class="lineno"><a class="line" href="RISCVISelDAGToDAG_8cpp.html#a4bc5bff4a079dc48cdb99912faaf2bf7">   33</a></span>&#160;<span class="preprocessor">#define GET_RISCVVLSEGTable_IMPL</span></div>
<div class="line"><a name="l00034"></a><span class="lineno"><a class="line" href="RISCVISelDAGToDAG_8cpp.html#a4f238a60203ccf856cacbd832a854c89">   34</a></span>&#160;<span class="preprocessor">#define GET_RISCVVLXSEGTable_IMPL</span></div>
<div class="line"><a name="l00035"></a><span class="lineno"><a class="line" href="RISCVISelDAGToDAG_8cpp.html#a30339dfff5cc759aa4e235a18b666e42">   35</a></span>&#160;<span class="preprocessor">#define GET_RISCVVSXSEGTable_IMPL</span></div>
<div class="line"><a name="l00036"></a><span class="lineno"><a class="line" href="RISCVISelDAGToDAG_8cpp.html#a73840dfa43f7480d4da2e6bb859ee039">   36</a></span>&#160;<span class="preprocessor">#define GET_RISCVVLETable_IMPL</span></div>
<div class="line"><a name="l00037"></a><span class="lineno"><a class="line" href="RISCVISelDAGToDAG_8cpp.html#aa04676ee749a6606c9accce8627a85bd">   37</a></span>&#160;<span class="preprocessor">#define GET_RISCVVSETable_IMPL</span></div>
<div class="line"><a name="l00038"></a><span class="lineno"><a class="line" href="RISCVISelDAGToDAG_8cpp.html#ad54187d3429611e00f5b95d067fe4df8">   38</a></span>&#160;<span class="preprocessor">#define GET_RISCVVLXTable_IMPL</span></div>
<div class="line"><a name="l00039"></a><span class="lineno"><a class="line" href="RISCVISelDAGToDAG_8cpp.html#a7123b12df93e95532ae6dd395b2be5b3">   39</a></span>&#160;<span class="preprocessor">#define GET_RISCVVSXTable_IMPL</span></div>
<div class="line"><a name="l00040"></a><span class="lineno"><a class="line" href="RISCVISelDAGToDAG_8cpp.html#a1328aafab0ba8132134ae839043e1ed8">   40</a></span>&#160;<span class="preprocessor">#define GET_RISCVMaskedPseudosTable_IMPL</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">#include &quot;RISCVGenSearchableTables.inc&quot;</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;} <span class="comment">// namespace llvm::RISCV</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160; </div>
<div class="line"><a name="l00044"></a><span class="lineno"><a class="line" href="RISCVISelDAGToDAG_8cpp.html#a65de6a0211fe43724926daf85c835e25">   44</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">unsigned</span> <a class="code" href="RISCVISelDAGToDAG_8cpp.html#a65de6a0211fe43724926daf85c835e25">getLastNonGlueOrChainOpIdx</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *Node) {</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Node-&gt;getNumOperands() &gt; 0 &amp;&amp; <span class="stringliteral">&quot;Node with no operands&quot;</span>);</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;  <span class="keywordtype">unsigned</span> LastOpIdx = Node-&gt;getNumOperands() - 1;</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;  <span class="keywordflow">if</span> (Node-&gt;getOperand(LastOpIdx).getValueType() == <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a59a1908cf136662bcfdc11ed49515ca9">MVT::Glue</a>)</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    --LastOpIdx;</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;  <span class="keywordflow">if</span> (Node-&gt;getOperand(LastOpIdx).getValueType() == <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a62a222acce6360abd2726719fabc2797">MVT::Other</a>)</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    --LastOpIdx;</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;  <span class="keywordflow">return</span> LastOpIdx;</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;}</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160; </div>
<div class="line"><a name="l00054"></a><span class="lineno"><a class="line" href="RISCVISelDAGToDAG_8cpp.html#a7670193ca11bbf716635a5d98ce13e1c">   54</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">unsigned</span> <a class="code" href="RISCVISelDAGToDAG_8cpp.html#a7670193ca11bbf716635a5d98ce13e1c">getVecPolicyOpIdx</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *Node, <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCInstrDesc.html">MCInstrDesc</a> &amp;MCID) {</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="namespacellvm_1_1RISCVII.html#ad330ee2b7583cf1bf0a79f69c23ce6fe">RISCVII::hasVecPolicyOp</a>(MCID.<a class="code" href="classllvm_1_1MCInstrDesc.html#a46e0fcca2366f30d5e35b3d7dcb9c65f">TSFlags</a>));</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;  (void)MCID;</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="RISCVISelDAGToDAG_8cpp.html#a65de6a0211fe43724926daf85c835e25">getLastNonGlueOrChainOpIdx</a>(Node);</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;}</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160; </div>
<div class="line"><a name="l00060"></a><span class="lineno"><a class="line" href="classllvm_1_1RISCVDAGToDAGISel.html#a6aa2c4df9fd69696ef41afd841661bb7">   60</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1RISCVDAGToDAGISel.html#a6aa2c4df9fd69696ef41afd841661bb7">RISCVDAGToDAGISel::PreprocessISelDAG</a>() {</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;  <a class="code" href="classllvm_1_1ilist__iterator.html">SelectionDAG::allnodes_iterator</a> Position = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a5f23bcf1a7515069da5231b94ff16c79">allnodes_end</a>();</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160; </div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;  <span class="keywordtype">bool</span> MadeChange = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;  <span class="keywordflow">while</span> (Position != <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a5afbc8267a0ca49e65d97cb3fde65801">allnodes_begin</a>()) {</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    <a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> = &amp;*--Position;</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;use_empty())</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160; </div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Result;</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOpcode()) {</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7f864031b6fb691b1525cbea92542ef1">ISD::SPLAT_VECTOR</a>: {</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;      <span class="comment">// Convert integer SPLAT_VECTOR to VMV_V_X_VL and floating-point</span></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;      <span class="comment">// SPLAT_VECTOR to VFMV_V_F_VL to reduce isel burden.</span></div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;      <a class="code" href="classllvm_1_1MVT.html">MVT</a> VT = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getSimpleValueType(0);</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;      <span class="keywordtype">unsigned</span> Opc =</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;          VT.<a class="code" href="classllvm_1_1MVT.html#a437cf7bc875369cbe0ea62f949626f0b">isInteger</a>() ? <a class="code" href="namespacellvm_1_1RISCVISD.html#ab68e2d65ea9915ffaac8334a3b8bf882a127afe58529ef366a343a51786dcc3d4">RISCVISD::VMV_V_X_VL</a> : <a class="code" href="namespacellvm_1_1RISCVISD.html#ab68e2d65ea9915ffaac8334a3b8bf882a3d046b0b663cacd2116c6d35498ab5ab">RISCVISD::VFMV_V_F_VL</a>;</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;      <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> VL = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a9268086dd9d1ba4e60cfe872dde5c173">getRegister</a>(RISCV::X0, Subtarget-&gt;<a class="code" href="classllvm_1_1RISCVSubtarget.html#a657dd2086f68037531f461853480fcf7">getXLenVT</a>());</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;      Result = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(Opc, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a5b0e59823444a55c295af279611a9d24">getUNDEF</a>(VT),</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;                               <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(0), VL);</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    }</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1RISCVISD.html#ab68e2d65ea9915ffaac8334a3b8bf882aa282e2548f435b7fdd280b478a3623aa">RISCVISD::SPLAT_VECTOR_SPLIT_I64_VL</a>: {</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;      <span class="comment">// Lower SPLAT_VECTOR_SPLIT_I64 to two scalar stores and a stride 0 vector</span></div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;      <span class="comment">// load. Done after lowering and combining so that we have a chance to</span></div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;      <span class="comment">// optimize this to VMV_V_X_VL when the upper bits aren&#39;t needed.</span></div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getNumOperands() == 4 &amp;&amp; <span class="stringliteral">&quot;Unexpected number of operands&quot;</span>);</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;      <a class="code" href="classllvm_1_1MVT.html">MVT</a> VT = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getSimpleValueType(0);</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Passthru = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(0);</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Lo = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(1);</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Hi = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(2);</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> VL = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(3);</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(VT.<a class="code" href="classllvm_1_1MVT.html#ad3ff408f213bef998f49952c6c3711fb">getVectorElementType</a>() == <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a97f56253625b3fe7b371ce76722de4b8">MVT::i64</a> &amp;&amp; VT.<a class="code" href="classllvm_1_1MVT.html#a447ebcc5de7a1d9bc163862bf2c78e41">isScalableVector</a>() &amp;&amp;</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;             Lo.getValueType() == <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a> &amp;&amp; Hi.getValueType() == <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a> &amp;&amp;</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;             <span class="stringliteral">&quot;Unexpected VTs!&quot;</span>);</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;      <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;<a class="code" href="classllvm_1_1SelectionDAGISel.html#a23107e32342f5488a5edfa71aff54700">MF</a> = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#aaa0193582f1fc99e3e6a3fc5abcb37bf">getMachineFunction</a>();</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;      <a class="code" href="classllvm_1_1RISCVMachineFunctionInfo.html">RISCVMachineFunctionInfo</a> *<a class="code" href="classllvm_1_1SelectionDAGISel.html#a024d81db0692653f69a019d1c973ebd0">FuncInfo</a> =</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;          <a class="code" href="classllvm_1_1SelectionDAGISel.html#a23107e32342f5488a5edfa71aff54700">MF</a>.<a class="code" href="classllvm_1_1MachineFunction.html#ac2dc0fa143c9f2127f0501734577a0a0">getInfo</a>&lt;<a class="code" href="classllvm_1_1RISCVMachineFunctionInfo.html">RISCVMachineFunctionInfo</a>&gt;();</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;      <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160; </div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;      <span class="comment">// We use the same frame index we use for moving two i32s into 64-bit FPR.</span></div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;      <span class="comment">// This is an analogous operation.</span></div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;      <span class="keywordtype">int</span> FI = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a024d81db0692653f69a019d1c973ebd0">FuncInfo</a>-&gt;getMoveF64FrameIndex(<a class="code" href="classllvm_1_1SelectionDAGISel.html#a23107e32342f5488a5edfa71aff54700">MF</a>);</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;      <a class="code" href="structllvm_1_1MachinePointerInfo.html">MachinePointerInfo</a> MPI = <a class="code" href="structllvm_1_1MachinePointerInfo.html#ad8ce1aee13dbdcc05d20284a30e83170">MachinePointerInfo::getFixedStack</a>(<a class="code" href="classllvm_1_1SelectionDAGISel.html#a23107e32342f5488a5edfa71aff54700">MF</a>, FI);</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetLowering.html">TargetLowering</a> &amp;<a class="code" href="classllvm_1_1SelectionDAGISel.html#a1ed864be04c93653277b0f5112a4f305">TLI</a> = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#ab3d30ee06423d6edfa492077321c6cd2">getTargetLoweringInfo</a>();</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> StackSlot =</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;          <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#acb59cbd8f4a8c1cf820b2b540aebdac1">getFrameIndex</a>(FI, <a class="code" href="classllvm_1_1SelectionDAGISel.html#a1ed864be04c93653277b0f5112a4f305">TLI</a>.<a class="code" href="classllvm_1_1TargetLoweringBase.html#a8aabf5d0aa80038973255ff2d1e1a9fc">getPointerTy</a>(<a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#aa8fca8c414a664c8d1cd44da876b8b3b">getDataLayout</a>()));</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160; </div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Chain = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#af0f68c9c0e4a38aebd5773f80dd5b716">getEntryNode</a>();</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;      Lo = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a89ed6b26ee4f62aec32468329f828a2f">getStore</a>(Chain, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, Lo, StackSlot, MPI, <a class="code" href="ELFObjHandler_8cpp.html#a043cdaf7b89aaeeb127be5d93411637f">Align</a>(8));</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160; </div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> OffsetSlot =</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;          <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a7ec0665296f2e3099a8f4d083e77f425">getMemBasePlusOffset</a>(StackSlot, <a class="code" href="classllvm_1_1TypeSize.html#a06e32f822cc82701a5652331bccab467">TypeSize::Fixed</a>(4), <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>);</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;      Hi = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a89ed6b26ee4f62aec32468329f828a2f">getStore</a>(Chain, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, Hi, OffsetSlot, MPI.<a class="code" href="structllvm_1_1MachinePointerInfo.html#a9459055a98e20980521289e8d20fcc7e">getWithOffset</a>(4),</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;                            <a class="code" href="structllvm_1_1Align.html">Align</a>(8));</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160; </div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;      Chain = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad469508535ce2082a1ab1f0e429187b8">ISD::TokenFactor</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a62a222acce6360abd2726719fabc2797">MVT::Other</a>, Lo, Hi);</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160; </div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;      <a class="code" href="structllvm_1_1SDVTList.html">SDVTList</a> VTs = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a196c23d6cb4d768d037970f1f35bbf66">getVTList</a>({VT, <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a62a222acce6360abd2726719fabc2797">MVT::Other</a>});</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> IntID =</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;          <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(Intrinsic::riscv_vlse, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>);</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Ops[] = {Chain,</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;                       IntID,</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;                       Passthru,</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;                       StackSlot,</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;                       <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a9268086dd9d1ba4e60cfe872dde5c173">getRegister</a>(RISCV::X0, <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>),</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;                       VL};</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160; </div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;      Result = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#ab661cadb0d978a6f220c025bb9cebae7">getMemIntrinsicNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110afc09e0bddd693dcf9923e4df42473bd9">ISD::INTRINSIC_W_CHAIN</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VTs, Ops,</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;                                           <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>, MPI, <a class="code" href="ELFObjHandler_8cpp.html#a043cdaf7b89aaeeb127be5d93411637f">Align</a>(8),</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;                                           <a class="code" href="classllvm_1_1MachineMemOperand.html#aaa2020e47e35179234b9ea27d555b2dda7d12be6206e5b0026c71bbcd5cb76494">MachineMemOperand::MOLoad</a>);</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    }</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    }</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160; </div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    <span class="keywordflow">if</span> (Result) {</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;      <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;RISCV DAG preprocessing replacing:\nOld:    &quot;</span>);</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;      <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;dump(<a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>));</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;      <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;\nNew: &quot;</span>);</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;      <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(Result-&gt;dump(<a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>));</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;      <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160; </div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;      <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#ac630ccda26fea2f45afa3fb89bc1a8f4">ReplaceAllUsesOfValueWith</a>(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, 0), Result);</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;      MadeChange = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    }</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;  }</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160; </div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;  <span class="keywordflow">if</span> (MadeChange)</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a92c8c043c2a2d8db5b6cf9767394b747">RemoveDeadNodes</a>();</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;}</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160; </div>
<div class="line"><a name="l00152"></a><span class="lineno"><a class="line" href="classllvm_1_1RISCVDAGToDAGISel.html#a838f903d98be09e801b17c933b89fe27">  152</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1RISCVDAGToDAGISel.html#a838f903d98be09e801b17c933b89fe27">RISCVDAGToDAGISel::PostprocessISelDAG</a>() {</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;  <a class="code" href="classllvm_1_1HandleSDNode.html">HandleSDNode</a> <a class="code" href="namespacellvm_1_1NVPTXISD.html#ab995b6d422b079c863075e073b2eb96ba7cff9cc4a40fe2b19129ee8e9b0ec645">Dummy</a>(<a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#acdd1bd39894c2341271948c7e559fe8e">getRoot</a>());</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;  <a class="code" href="classllvm_1_1ilist__iterator.html">SelectionDAG::allnodes_iterator</a> Position = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a5f23bcf1a7515069da5231b94ff16c79">allnodes_end</a>();</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160; </div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;  <span class="keywordtype">bool</span> MadeChange = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;  <span class="keywordflow">while</span> (Position != <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a5afbc8267a0ca49e65d97cb3fde65801">allnodes_begin</a>()) {</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    <a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> = &amp;*--Position;</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    <span class="comment">// Skip dead nodes and any non-machine opcodes.</span></div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;use_empty() || !<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;isMachineOpcode())</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160; </div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    MadeChange |= doPeepholeSExtW(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    MadeChange |= doPeepholeMaskedRVV(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;  }</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160; </div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;  <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a3d2e079387a6e69ce2c8bb27bf7c2f32">setRoot</a>(<a class="code" href="namespacellvm_1_1NVPTXISD.html#ab995b6d422b079c863075e073b2eb96ba7cff9cc4a40fe2b19129ee8e9b0ec645">Dummy</a>.getValue());</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160; </div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;  MadeChange |= doPeepholeMergeVVMFold();</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160; </div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;  <span class="keywordflow">if</span> (MadeChange)</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a92c8c043c2a2d8db5b6cf9767394b747">RemoveDeadNodes</a>();</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;}</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160; </div>
<div class="line"><a name="l00175"></a><span class="lineno"><a class="line" href="RISCVISelDAGToDAG_8cpp.html#a6a41924e51804fff4d3c8394d3643541">  175</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="RISCVISelDAGToDAG_8cpp.html#a6a41924e51804fff4d3c8394d3643541">selectImmSeq</a>(<a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> *CurDAG, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1MVT.html">MVT</a> VT,</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;                            <a class="code" href="classllvm_1_1SmallVector.html">RISCVMatInt::InstSeq</a> &amp;Seq) {</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> SrcReg = CurDAG-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a9268086dd9d1ba4e60cfe872dde5c173">getRegister</a>(RISCV::X0, VT);</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1RISCVMatInt_1_1Inst.html">RISCVMatInt::Inst</a> &amp;Inst : Seq) {</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> SDImm = CurDAG-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(Inst.getImm(), <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT);</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    <a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *Result = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    <span class="keywordflow">switch</span> (Inst.getOpndKind()) {</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">RISCVMatInt::Imm</a>:</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;      Result = CurDAG-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1c04c72abd24de2572a03ef686a36dd6">getMachineNode</a>(Inst.getOpcode(), <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, SDImm);</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972ac5bc33378acb23e672b1eaf99faa99a0">RISCVMatInt::RegX0</a>:</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;      Result = CurDAG-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1c04c72abd24de2572a03ef686a36dd6">getMachineNode</a>(Inst.getOpcode(), <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, SrcReg,</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;                                      CurDAG-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a9268086dd9d1ba4e60cfe872dde5c173">getRegister</a>(RISCV::X0, VT));</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972ae68f4b6898bb293ac94508474ccd7265">RISCVMatInt::RegReg</a>:</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;      Result = CurDAG-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1c04c72abd24de2572a03ef686a36dd6">getMachineNode</a>(Inst.getOpcode(), <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, SrcReg, SrcReg);</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972affd2828f91e95f9731181bb5b8e4f9ac">RISCVMatInt::RegImm</a>:</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;      Result = CurDAG-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1c04c72abd24de2572a03ef686a36dd6">getMachineNode</a>(Inst.getOpcode(), <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, SrcReg, SDImm);</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    }</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160; </div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    <span class="comment">// Only the first instruction has X0 as its source.</span></div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    SrcReg = <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(Result, 0);</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;  }</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160; </div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;  <span class="keywordflow">return</span> SrcReg;</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;}</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160; </div>
<div class="line"><a name="l00204"></a><span class="lineno"><a class="line" href="RISCVISelDAGToDAG_8cpp.html#a2b20fa727cb3be2d7338de943bc81490">  204</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="RISCVISelDAGToDAG_8cpp.html#a2b20fa727cb3be2d7338de943bc81490">selectImm</a>(<a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> *CurDAG, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1MVT.html">MVT</a> VT,</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;                         int64_t <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1RISCVSubtarget.html">RISCVSubtarget</a> &amp;Subtarget) {</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">RISCVMatInt::InstSeq</a> Seq =</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;      <a class="code" href="namespacellvm_1_1RISCVMatInt.html#ac381b141cc5f412d297c97afce5d3b6e">RISCVMatInt::generateInstSeq</a>(<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>, Subtarget.getFeatureBits());</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160; </div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="RISCVISelDAGToDAG_8cpp.html#a6a41924e51804fff4d3c8394d3643541">selectImmSeq</a>(CurDAG, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, Seq);</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;}</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160; </div>
<div class="line"><a name="l00212"></a><span class="lineno"><a class="line" href="RISCVISelDAGToDAG_8cpp.html#a501ce60200ec0ef72373607cbed78d00">  212</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="RISCVISelDAGToDAG_8cpp.html#a501ce60200ec0ef72373607cbed78d00">createTuple</a>(<a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;CurDAG, <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;SDValue&gt;</a> Regs,</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;                           <span class="keywordtype">unsigned</span> NF, <a class="code" href="namespacellvm_1_1RISCVII.html#ab335a6694bd42d4d2f807ec281af1e1c">RISCVII::VLMUL</a> <a class="code" href="namespacellvm_1_1XCoreISD.html#a34e7964aa899176244e03cb7b1fc5985a5f16d1c5f09829a27d169eeda4d60a5f">LMUL</a>) {</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">unsigned</span> M1TupleRegClassIDs[] = {</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;      RISCV::VRN2M1RegClassID, RISCV::VRN3M1RegClassID, RISCV::VRN4M1RegClassID,</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;      RISCV::VRN5M1RegClassID, RISCV::VRN6M1RegClassID, RISCV::VRN7M1RegClassID,</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;      RISCV::VRN8M1RegClassID};</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">unsigned</span> M2TupleRegClassIDs[] = {RISCV::VRN2M2RegClassID,</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;                                                RISCV::VRN3M2RegClassID,</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;                                                RISCV::VRN4M2RegClassID};</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160; </div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Regs.<a class="code" href="classllvm_1_1ArrayRef.html#a85ffb6531d4cda988ea81f18d4e56fb7">size</a>() &gt;= 2 &amp;&amp; Regs.<a class="code" href="classllvm_1_1ArrayRef.html#a85ffb6531d4cda988ea81f18d4e56fb7">size</a>() &lt;= 8);</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160; </div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;  <span class="keywordtype">unsigned</span> RegClassID;</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;  <span class="keywordtype">unsigned</span> SubReg0;</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;  <span class="keywordflow">switch</span> (<a class="code" href="namespacellvm_1_1XCoreISD.html#a34e7964aa899176244e03cb7b1fc5985a5f16d1c5f09829a27d169eeda4d60a5f">LMUL</a>) {</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Invalid LMUL.&quot;</span>);</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1RISCVII.html#ab335a6694bd42d4d2f807ec281af1e1ca61d90764106d2ac6346f4bc1ae1bd3fd">RISCVII::VLMUL::LMUL_F8</a>:</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1RISCVII.html#ab335a6694bd42d4d2f807ec281af1e1caea5ed9248acd465f986c64e15db529e5">RISCVII::VLMUL::LMUL_F4</a>:</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1RISCVII.html#ab335a6694bd42d4d2f807ec281af1e1caf5395daef0a34ae8d78919a587eee448">RISCVII::VLMUL::LMUL_F2</a>:</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1RISCVII.html#ab335a6694bd42d4d2f807ec281af1e1ca1fc4732c22ad534f1cec77512aa4c451">RISCVII::VLMUL::LMUL_1</a>:</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    static_assert(RISCV::sub_vrm1_7 == RISCV::sub_vrm1_0 + 7,</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;                  <span class="stringliteral">&quot;Unexpected subreg numbering&quot;</span>);</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    SubReg0 = RISCV::sub_vrm1_0;</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    RegClassID = M1TupleRegClassIDs[NF - 2];</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1RISCVII.html#ab335a6694bd42d4d2f807ec281af1e1cafc3cf026a9a458e993d77f9d723cffe7">RISCVII::VLMUL::LMUL_2</a>:</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    static_assert(RISCV::sub_vrm2_3 == RISCV::sub_vrm2_0 + 3,</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;                  <span class="stringliteral">&quot;Unexpected subreg numbering&quot;</span>);</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    SubReg0 = RISCV::sub_vrm2_0;</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    RegClassID = M2TupleRegClassIDs[NF - 2];</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1RISCVII.html#ab335a6694bd42d4d2f807ec281af1e1ca81b84a0b11f1c29695dbf7765f8ceaa7">RISCVII::VLMUL::LMUL_4</a>:</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    static_assert(RISCV::sub_vrm4_1 == RISCV::sub_vrm4_0 + 1,</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;                  <span class="stringliteral">&quot;Unexpected subreg numbering&quot;</span>);</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    SubReg0 = RISCV::sub_vrm4_0;</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    RegClassID = RISCV::VRN2M4RegClassID;</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;  }</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160; </div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>(Regs[0]);</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;SDValue, 8&gt;</a> Ops;</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160; </div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;  Ops.push_back(CurDAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(RegClassID, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>));</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160; </div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 0; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> &lt; Regs.<a class="code" href="classllvm_1_1ArrayRef.html#a85ffb6531d4cda988ea81f18d4e56fb7">size</a>(); ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    Ops.push_back(Regs[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>]);</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    Ops.push_back(CurDAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(SubReg0 + <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>));</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;  }</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;  <a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> =</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;      CurDAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a1c04c72abd24de2572a03ef686a36dd6">getMachineNode</a>(TargetOpcode::REG_SEQUENCE, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a707dc1fd6a4179316ffa6ca2516e18dc">MVT::Untyped</a>, Ops);</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, 0);</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;}</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160; </div>
<div class="line"><a name="l00266"></a><span class="lineno"><a class="line" href="classllvm_1_1RISCVDAGToDAGISel.html#a824579538728c6e67cf9a6191e5894e3">  266</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1RISCVDAGToDAGISel.html#a824579538728c6e67cf9a6191e5894e3">RISCVDAGToDAGISel::addVectorLoadStoreOperands</a>(</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    <a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *Node, <span class="keywordtype">unsigned</span> <a class="code" href="RISCVInsertVSETVLI_8cpp.html#aa74e26e879c8e27e2fda48270367f4ea">Log2SEW</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <span class="keywordtype">unsigned</span> CurOp,</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    <span class="keywordtype">bool</span> IsMasked, <span class="keywordtype">bool</span> IsStridedOrIndexed, <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;SDValue&gt;</a> &amp;<a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>,</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    <span class="keywordtype">bool</span> IsLoad, <a class="code" href="classllvm_1_1MVT.html">MVT</a> *IndexVT) {</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Chain = Node-&gt;getOperand(0);</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Glue;</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160; </div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;  <a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>.push_back(Node-&gt;getOperand(CurOp++)); <span class="comment">// Base pointer.</span></div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160; </div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;  <span class="keywordflow">if</span> (IsStridedOrIndexed) {</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    <a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>.push_back(Node-&gt;getOperand(CurOp++)); <span class="comment">// Index.</span></div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    <span class="keywordflow">if</span> (IndexVT)</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;      *IndexVT = <a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>.back()-&gt;getSimpleValueType(0);</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;  }</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160; </div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;  <span class="keywordflow">if</span> (IsMasked) {</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    <span class="comment">// Mask needs to be copied to V0.</span></div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a> = Node-&gt;getOperand(CurOp++);</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    Chain = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#aaf07395614bda08ad0b4d3d1d401ca7e">getCopyToReg</a>(Chain, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, RISCV::V0, <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>());</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    Glue = Chain.<a class="code" href="classllvm_1_1SDValue.html#a64932427432abeb61241e98bea167580">getValue</a>(1);</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    <a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>.push_back(<a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a9268086dd9d1ba4e60cfe872dde5c173">getRegister</a>(RISCV::V0, <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>.getValueType()));</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;  }</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> VL;</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;  <a class="code" href="classllvm_1_1RISCVDAGToDAGISel.html#a9dd913520cec32052ff63c8735efad5c">selectVLOp</a>(Node-&gt;getOperand(CurOp++), VL);</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;  <a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>.push_back(VL);</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160; </div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;  <a class="code" href="classllvm_1_1MVT.html">MVT</a> XLenVT = Subtarget-&gt;<a class="code" href="classllvm_1_1RISCVSubtarget.html#a657dd2086f68037531f461853480fcf7">getXLenVT</a>();</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> SEWOp = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(<a class="code" href="RISCVInsertVSETVLI_8cpp.html#aa74e26e879c8e27e2fda48270367f4ea">Log2SEW</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, XLenVT);</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;  <a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>.push_back(SEWOp);</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160; </div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;  <span class="comment">// Masked load has the tail policy argument.</span></div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;  <span class="keywordflow">if</span> (IsMasked &amp;&amp; IsLoad) {</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    <span class="comment">// Policy must be a constant.</span></div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> Policy = Node-&gt;getConstantOperandVal(CurOp++);</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> PolicyOp = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(Policy, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, XLenVT);</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    <a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>.push_back(PolicyOp);</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;  }</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160; </div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;  <a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>.push_back(Chain); <span class="comment">// Chain.</span></div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;  <span class="keywordflow">if</span> (Glue)</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    <a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>.push_back(Glue);</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;}</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160; </div>
<div class="line"><a name="l00309"></a><span class="lineno"><a class="line" href="RISCVISelDAGToDAG_8cpp.html#a5daa9551ef02289813a85753ebec03ef">  309</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="RISCVISelDAGToDAG_8cpp.html#a5daa9551ef02289813a85753ebec03ef">isAllUndef</a>(<a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;SDValue&gt;</a> Values) {</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a0d10fe510ced2849a8074fe81e5d04ce">llvm::all_of</a>(Values, [](<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> V) { <span class="keywordflow">return</span> V-&gt;<a class="code" href="classllvm_1_1SDNode.html#ad29680b0f3d0427cab5a32e727f9f11a">isUndef</a>(); });</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;}</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160; </div>
<div class="line"><a name="l00313"></a><span class="lineno"><a class="line" href="classllvm_1_1RISCVDAGToDAGISel.html#aee8bb1da0fa7db8032f5e53f49a73a4b">  313</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1RISCVDAGToDAGISel.html#aee8bb1da0fa7db8032f5e53f49a73a4b">RISCVDAGToDAGISel::selectVLSEG</a>(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *Node, <span class="keywordtype">bool</span> IsMasked,</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;                                    <span class="keywordtype">bool</span> IsStrided) {</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>(Node);</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;  <span class="keywordtype">unsigned</span> NF = Node-&gt;getNumValues() - 1;</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;  <a class="code" href="classllvm_1_1MVT.html">MVT</a> VT = Node-&gt;getSimpleValueType(0);</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="RISCVInsertVSETVLI_8cpp.html#aa74e26e879c8e27e2fda48270367f4ea">Log2SEW</a> = <a class="code" href="namespacellvm.html#a646986783f35e0fef8988f0f28d2589f">Log2_32</a>(VT.<a class="code" href="classllvm_1_1MVT.html#a2e101ce5736aa0643639fd3adae18088">getScalarSizeInBits</a>());</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;  <a class="code" href="namespacellvm_1_1RISCVII.html#ab335a6694bd42d4d2f807ec281af1e1c">RISCVII::VLMUL</a> <a class="code" href="namespacellvm_1_1XCoreISD.html#a34e7964aa899176244e03cb7b1fc5985a5f16d1c5f09829a27d169eeda4d60a5f">LMUL</a> = <a class="code" href="classllvm_1_1RISCVTargetLowering.html#ac27709ca33b27034fb25d6fb83cb5fb1">RISCVTargetLowering::getLMUL</a>(VT);</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160; </div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;  <span class="keywordtype">unsigned</span> CurOp = 2;</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;SDValue, 8&gt;</a> <a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>;</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160; </div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;SDValue, 8&gt;</a> Regs(Node-&gt;op_begin() + CurOp,</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;                               Node-&gt;op_begin() + CurOp + NF);</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;  <span class="keywordtype">bool</span> IsTU = IsMasked || !<a class="code" href="RISCVISelDAGToDAG_8cpp.html#a5daa9551ef02289813a85753ebec03ef">isAllUndef</a>(Regs);</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;  <span class="keywordflow">if</span> (IsTU) {</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="R600ClauseMergePass_8cpp.html#aba99928790de45fa7aa12b47fbd828ff">Merge</a> = <a class="code" href="RISCVISelDAGToDAG_8cpp.html#a501ce60200ec0ef72373607cbed78d00">createTuple</a>(*<a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>, Regs, NF, <a class="code" href="namespacellvm_1_1XCoreISD.html#a34e7964aa899176244e03cb7b1fc5985a5f16d1c5f09829a27d169eeda4d60a5f">LMUL</a>);</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    <a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>.push_back(<a class="code" href="R600ClauseMergePass_8cpp.html#aba99928790de45fa7aa12b47fbd828ff">Merge</a>);</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;  }</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;  CurOp += NF;</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160; </div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;  <a class="code" href="classllvm_1_1RISCVDAGToDAGISel.html#a824579538728c6e67cf9a6191e5894e3">addVectorLoadStoreOperands</a>(Node, <a class="code" href="RISCVInsertVSETVLI_8cpp.html#aa74e26e879c8e27e2fda48270367f4ea">Log2SEW</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, CurOp, IsMasked, IsStrided,</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;                             <a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>, <span class="comment">/*IsLoad=*/</span><span class="keyword">true</span>);</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160; </div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;  <span class="keyword">const</span> <a class="code" href="structllvm_1_1RISCV_1_1VLSEGPseudo.html">RISCV::VLSEGPseudo</a> *<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> =</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;      RISCV::getVLSEGPseudo(NF, IsMasked, IsTU, IsStrided, <span class="comment">/*FF*/</span> <span class="keyword">false</span>, <a class="code" href="RISCVInsertVSETVLI_8cpp.html#aa74e26e879c8e27e2fda48270367f4ea">Log2SEW</a>,</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;                            <span class="keyword">static_cast&lt;</span><span class="keywordtype">unsigned</span><span class="keyword">&gt;</span>(<a class="code" href="namespacellvm_1_1XCoreISD.html#a34e7964aa899176244e03cb7b1fc5985a5f16d1c5f09829a27d169eeda4d60a5f">LMUL</a>));</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;  <a class="code" href="classllvm_1_1MachineSDNode.html">MachineSDNode</a> *<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a> =</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;      <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1c04c72abd24de2572a03ef686a36dd6">getMachineNode</a>(<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>-&gt;Pseudo, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a707dc1fd6a4179316ffa6ca2516e18dc">MVT::Untyped</a>, <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a62a222acce6360abd2726719fabc2797">MVT::Other</a>, <a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>);</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160; </div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *<a class="code" href="structllvm_1_1MemOp.html">MemOp</a> = dyn_cast&lt;MemSDNode&gt;(Node))</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a66ebc3ec1c8816b16a5f239a8631c780">setNodeMemRefs</a>(<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>, {<a class="code" href="structllvm_1_1MemOp.html">MemOp</a>-&gt;getMemOperand()});</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160; </div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> SuperReg = <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>, 0);</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 0; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> &lt; NF; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    <span class="keywordtype">unsigned</span> SubRegIdx = <a class="code" href="classllvm_1_1RISCVTargetLowering.html#a098a8c811988d099304cefe6b99485f3">RISCVTargetLowering::getSubregIndexByMVT</a>(VT, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    <a class="code" href="classllvm_1_1SelectionDAGISel.html#a84e771c0f56c984d8ee4a85c0cb46ed3">ReplaceUses</a>(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(Node, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>),</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;                <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a9bc12259f8156d068dfb2e91f04f6a06">getTargetExtractSubreg</a>(SubRegIdx, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, SuperReg));</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;  }</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160; </div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;  <a class="code" href="classllvm_1_1SelectionDAGISel.html#a84e771c0f56c984d8ee4a85c0cb46ed3">ReplaceUses</a>(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(Node, NF), <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>, 1));</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;  <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a935ace76cef67c6da10cf0633371efe1">RemoveDeadNode</a>(Node);</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;}</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160; </div>
<div class="line"><a name="l00356"></a><span class="lineno"><a class="line" href="classllvm_1_1RISCVDAGToDAGISel.html#a33d6cba07cd8a3dbff7ae0356c401e47">  356</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1RISCVDAGToDAGISel.html#a33d6cba07cd8a3dbff7ae0356c401e47">RISCVDAGToDAGISel::selectVLSEGFF</a>(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *Node, <span class="keywordtype">bool</span> IsMasked) {</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>(Node);</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;  <span class="keywordtype">unsigned</span> NF = Node-&gt;getNumValues() - 2; <span class="comment">// Do not count VL and Chain.</span></div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;  <a class="code" href="classllvm_1_1MVT.html">MVT</a> VT = Node-&gt;getSimpleValueType(0);</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;  <a class="code" href="classllvm_1_1MVT.html">MVT</a> XLenVT = Subtarget-&gt;<a class="code" href="classllvm_1_1RISCVSubtarget.html#a657dd2086f68037531f461853480fcf7">getXLenVT</a>();</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="RISCVInsertVSETVLI_8cpp.html#aa74e26e879c8e27e2fda48270367f4ea">Log2SEW</a> = <a class="code" href="namespacellvm.html#a646986783f35e0fef8988f0f28d2589f">Log2_32</a>(VT.<a class="code" href="classllvm_1_1MVT.html#a2e101ce5736aa0643639fd3adae18088">getScalarSizeInBits</a>());</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;  <a class="code" href="namespacellvm_1_1RISCVII.html#ab335a6694bd42d4d2f807ec281af1e1c">RISCVII::VLMUL</a> <a class="code" href="namespacellvm_1_1XCoreISD.html#a34e7964aa899176244e03cb7b1fc5985a5f16d1c5f09829a27d169eeda4d60a5f">LMUL</a> = <a class="code" href="classllvm_1_1RISCVTargetLowering.html#ac27709ca33b27034fb25d6fb83cb5fb1">RISCVTargetLowering::getLMUL</a>(VT);</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160; </div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;  <span class="keywordtype">unsigned</span> CurOp = 2;</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;SDValue, 7&gt;</a> <a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>;</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160; </div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;SDValue, 8&gt;</a> Regs(Node-&gt;op_begin() + CurOp,</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;                               Node-&gt;op_begin() + CurOp + NF);</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;  <span class="keywordtype">bool</span> IsTU = IsMasked || !<a class="code" href="RISCVISelDAGToDAG_8cpp.html#a5daa9551ef02289813a85753ebec03ef">isAllUndef</a>(Regs);</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;  <span class="keywordflow">if</span> (IsTU) {</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> MaskedOff = <a class="code" href="RISCVISelDAGToDAG_8cpp.html#a501ce60200ec0ef72373607cbed78d00">createTuple</a>(*<a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>, Regs, NF, <a class="code" href="namespacellvm_1_1XCoreISD.html#a34e7964aa899176244e03cb7b1fc5985a5f16d1c5f09829a27d169eeda4d60a5f">LMUL</a>);</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    <a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>.push_back(MaskedOff);</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;  }</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;  CurOp += NF;</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160; </div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;  <a class="code" href="classllvm_1_1RISCVDAGToDAGISel.html#a824579538728c6e67cf9a6191e5894e3">addVectorLoadStoreOperands</a>(Node, <a class="code" href="RISCVInsertVSETVLI_8cpp.html#aa74e26e879c8e27e2fda48270367f4ea">Log2SEW</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, CurOp, IsMasked,</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;                             <span class="comment">/*IsStridedOrIndexed*/</span> <span class="keyword">false</span>, <a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>,</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;                             <span class="comment">/*IsLoad=*/</span><span class="keyword">true</span>);</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160; </div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;  <span class="keyword">const</span> <a class="code" href="structllvm_1_1RISCV_1_1VLSEGPseudo.html">RISCV::VLSEGPseudo</a> *<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> =</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;      RISCV::getVLSEGPseudo(NF, IsMasked, IsTU, <span class="comment">/*Strided*/</span> <span class="keyword">false</span>, <span class="comment">/*FF*/</span> <span class="keyword">true</span>,</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;                            <a class="code" href="RISCVInsertVSETVLI_8cpp.html#aa74e26e879c8e27e2fda48270367f4ea">Log2SEW</a>, <span class="keyword">static_cast&lt;</span><span class="keywordtype">unsigned</span><span class="keyword">&gt;</span>(<a class="code" href="namespacellvm_1_1XCoreISD.html#a34e7964aa899176244e03cb7b1fc5985a5f16d1c5f09829a27d169eeda4d60a5f">LMUL</a>));</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;  <a class="code" href="classllvm_1_1MachineSDNode.html">MachineSDNode</a> *<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a> = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1c04c72abd24de2572a03ef686a36dd6">getMachineNode</a>(<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>-&gt;Pseudo, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a707dc1fd6a4179316ffa6ca2516e18dc">MVT::Untyped</a>,</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;                                               XLenVT, <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a62a222acce6360abd2726719fabc2797">MVT::Other</a>, <a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>);</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160; </div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *<a class="code" href="structllvm_1_1MemOp.html">MemOp</a> = dyn_cast&lt;MemSDNode&gt;(Node))</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;    <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a66ebc3ec1c8816b16a5f239a8631c780">setNodeMemRefs</a>(<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>, {<a class="code" href="structllvm_1_1MemOp.html">MemOp</a>-&gt;getMemOperand()});</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160; </div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> SuperReg = <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>, 0);</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 0; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> &lt; NF; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    <span class="keywordtype">unsigned</span> SubRegIdx = <a class="code" href="classllvm_1_1RISCVTargetLowering.html#a098a8c811988d099304cefe6b99485f3">RISCVTargetLowering::getSubregIndexByMVT</a>(VT, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    <a class="code" href="classllvm_1_1SelectionDAGISel.html#a84e771c0f56c984d8ee4a85c0cb46ed3">ReplaceUses</a>(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(Node, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>),</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;                <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a9bc12259f8156d068dfb2e91f04f6a06">getTargetExtractSubreg</a>(SubRegIdx, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, SuperReg));</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;  }</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160; </div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;  <a class="code" href="classllvm_1_1SelectionDAGISel.html#a84e771c0f56c984d8ee4a85c0cb46ed3">ReplaceUses</a>(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(Node, NF), <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>, 1));     <span class="comment">// VL</span></div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;  <a class="code" href="classllvm_1_1SelectionDAGISel.html#a84e771c0f56c984d8ee4a85c0cb46ed3">ReplaceUses</a>(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(Node, NF + 1), <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>, 2)); <span class="comment">// Chain</span></div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;  <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a935ace76cef67c6da10cf0633371efe1">RemoveDeadNode</a>(Node);</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;}</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160; </div>
<div class="line"><a name="l00401"></a><span class="lineno"><a class="line" href="classllvm_1_1RISCVDAGToDAGISel.html#a8eaccccf1e694d9729d3abdce383bd49">  401</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1RISCVDAGToDAGISel.html#a8eaccccf1e694d9729d3abdce383bd49">RISCVDAGToDAGISel::selectVLXSEG</a>(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *Node, <span class="keywordtype">bool</span> IsMasked,</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;                                     <span class="keywordtype">bool</span> IsOrdered) {</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>(Node);</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;  <span class="keywordtype">unsigned</span> NF = Node-&gt;getNumValues() - 1;</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;  <a class="code" href="classllvm_1_1MVT.html">MVT</a> VT = Node-&gt;getSimpleValueType(0);</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="RISCVInsertVSETVLI_8cpp.html#aa74e26e879c8e27e2fda48270367f4ea">Log2SEW</a> = <a class="code" href="namespacellvm.html#a646986783f35e0fef8988f0f28d2589f">Log2_32</a>(VT.<a class="code" href="classllvm_1_1MVT.html#a2e101ce5736aa0643639fd3adae18088">getScalarSizeInBits</a>());</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;  <a class="code" href="namespacellvm_1_1RISCVII.html#ab335a6694bd42d4d2f807ec281af1e1c">RISCVII::VLMUL</a> <a class="code" href="namespacellvm_1_1XCoreISD.html#a34e7964aa899176244e03cb7b1fc5985a5f16d1c5f09829a27d169eeda4d60a5f">LMUL</a> = <a class="code" href="classllvm_1_1RISCVTargetLowering.html#ac27709ca33b27034fb25d6fb83cb5fb1">RISCVTargetLowering::getLMUL</a>(VT);</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160; </div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;  <span class="keywordtype">unsigned</span> CurOp = 2;</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;SDValue, 8&gt;</a> <a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>;</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160; </div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;SDValue, 8&gt;</a> Regs(Node-&gt;op_begin() + CurOp,</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;                               Node-&gt;op_begin() + CurOp + NF);</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;  <span class="keywordtype">bool</span> IsTU = IsMasked || !<a class="code" href="RISCVISelDAGToDAG_8cpp.html#a5daa9551ef02289813a85753ebec03ef">isAllUndef</a>(Regs);</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;  <span class="keywordflow">if</span> (IsTU) {</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> MaskedOff = <a class="code" href="RISCVISelDAGToDAG_8cpp.html#a501ce60200ec0ef72373607cbed78d00">createTuple</a>(*<a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>, Regs, NF, <a class="code" href="namespacellvm_1_1XCoreISD.html#a34e7964aa899176244e03cb7b1fc5985a5f16d1c5f09829a27d169eeda4d60a5f">LMUL</a>);</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;    <a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>.push_back(MaskedOff);</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;  }</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;  CurOp += NF;</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160; </div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;  <a class="code" href="classllvm_1_1MVT.html">MVT</a> IndexVT;</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;  <a class="code" href="classllvm_1_1RISCVDAGToDAGISel.html#a824579538728c6e67cf9a6191e5894e3">addVectorLoadStoreOperands</a>(Node, <a class="code" href="RISCVInsertVSETVLI_8cpp.html#aa74e26e879c8e27e2fda48270367f4ea">Log2SEW</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, CurOp, IsMasked,</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;                             <span class="comment">/*IsStridedOrIndexed*/</span> <span class="keyword">true</span>, <a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>,</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;                             <span class="comment">/*IsLoad=*/</span><span class="keyword">true</span>, &amp;IndexVT);</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160; </div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(VT.<a class="code" href="classllvm_1_1MVT.html#aa1abe2e0d36a43d780ce54ea3b197217">getVectorElementCount</a>() == IndexVT.<a class="code" href="classllvm_1_1MVT.html#aa1abe2e0d36a43d780ce54ea3b197217">getVectorElementCount</a>() &amp;&amp;</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;         <span class="stringliteral">&quot;Element count mismatch&quot;</span>);</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160; </div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;  <a class="code" href="namespacellvm_1_1RISCVII.html#ab335a6694bd42d4d2f807ec281af1e1c">RISCVII::VLMUL</a> IndexLMUL = <a class="code" href="classllvm_1_1RISCVTargetLowering.html#ac27709ca33b27034fb25d6fb83cb5fb1">RISCVTargetLowering::getLMUL</a>(IndexVT);</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;  <span class="keywordtype">unsigned</span> IndexLog2EEW = <a class="code" href="namespacellvm.html#a646986783f35e0fef8988f0f28d2589f">Log2_32</a>(IndexVT.<a class="code" href="classllvm_1_1MVT.html#a2e101ce5736aa0643639fd3adae18088">getScalarSizeInBits</a>());</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;  <span class="keywordflow">if</span> (IndexLog2EEW == 6 &amp;&amp; !Subtarget-&gt;<a class="code" href="classllvm_1_1RISCVSubtarget.html#afd9fbb2a5a666589b2843c496f3ae479">is64Bit</a>()) {</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;    <a class="code" href="namespacellvm.html#a7f2a3d4dcfee70225988aec53ff1e173">report_fatal_error</a>(<span class="stringliteral">&quot;The V extension does not support EEW=64 for index &quot;</span></div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;                       <span class="stringliteral">&quot;values when XLEN=32&quot;</span>);</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;  }</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;  <span class="keyword">const</span> <a class="code" href="structllvm_1_1RISCV_1_1VLXSEGPseudo.html">RISCV::VLXSEGPseudo</a> *<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> = RISCV::getVLXSEGPseudo(</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;      NF, IsMasked, IsTU, IsOrdered, IndexLog2EEW, <span class="keyword">static_cast&lt;</span><span class="keywordtype">unsigned</span><span class="keyword">&gt;</span>(<a class="code" href="namespacellvm_1_1XCoreISD.html#a34e7964aa899176244e03cb7b1fc5985a5f16d1c5f09829a27d169eeda4d60a5f">LMUL</a>),</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;      <span class="keyword">static_cast&lt;</span><span class="keywordtype">unsigned</span><span class="keyword">&gt;</span>(IndexLMUL));</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;  <a class="code" href="classllvm_1_1MachineSDNode.html">MachineSDNode</a> *<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a> =</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;      <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1c04c72abd24de2572a03ef686a36dd6">getMachineNode</a>(<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>-&gt;Pseudo, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a707dc1fd6a4179316ffa6ca2516e18dc">MVT::Untyped</a>, <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a62a222acce6360abd2726719fabc2797">MVT::Other</a>, <a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>);</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160; </div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *<a class="code" href="structllvm_1_1MemOp.html">MemOp</a> = dyn_cast&lt;MemSDNode&gt;(Node))</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;    <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a66ebc3ec1c8816b16a5f239a8631c780">setNodeMemRefs</a>(<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>, {<a class="code" href="structllvm_1_1MemOp.html">MemOp</a>-&gt;getMemOperand()});</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160; </div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> SuperReg = <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>, 0);</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 0; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> &lt; NF; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;    <span class="keywordtype">unsigned</span> SubRegIdx = <a class="code" href="classllvm_1_1RISCVTargetLowering.html#a098a8c811988d099304cefe6b99485f3">RISCVTargetLowering::getSubregIndexByMVT</a>(VT, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;    <a class="code" href="classllvm_1_1SelectionDAGISel.html#a84e771c0f56c984d8ee4a85c0cb46ed3">ReplaceUses</a>(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(Node, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>),</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;                <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a9bc12259f8156d068dfb2e91f04f6a06">getTargetExtractSubreg</a>(SubRegIdx, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, SuperReg));</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;  }</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160; </div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;  <a class="code" href="classllvm_1_1SelectionDAGISel.html#a84e771c0f56c984d8ee4a85c0cb46ed3">ReplaceUses</a>(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(Node, NF), <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>, 1));</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;  <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a935ace76cef67c6da10cf0633371efe1">RemoveDeadNode</a>(Node);</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;}</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160; </div>
<div class="line"><a name="l00455"></a><span class="lineno"><a class="line" href="classllvm_1_1RISCVDAGToDAGISel.html#a1155466966a339220d6f15cbf3752d5d">  455</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1RISCVDAGToDAGISel.html#a1155466966a339220d6f15cbf3752d5d">RISCVDAGToDAGISel::selectVSSEG</a>(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *Node, <span class="keywordtype">bool</span> IsMasked,</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;                                    <span class="keywordtype">bool</span> IsStrided) {</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>(Node);</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;  <span class="keywordtype">unsigned</span> NF = Node-&gt;getNumOperands() - 4;</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;  <span class="keywordflow">if</span> (IsStrided)</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;    NF--;</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;  <span class="keywordflow">if</span> (IsMasked)</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;    NF--;</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;  <a class="code" href="classllvm_1_1MVT.html">MVT</a> VT = Node-&gt;getOperand(2)-&gt;getSimpleValueType(0);</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="RISCVInsertVSETVLI_8cpp.html#aa74e26e879c8e27e2fda48270367f4ea">Log2SEW</a> = <a class="code" href="namespacellvm.html#a646986783f35e0fef8988f0f28d2589f">Log2_32</a>(VT.<a class="code" href="classllvm_1_1MVT.html#a2e101ce5736aa0643639fd3adae18088">getScalarSizeInBits</a>());</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;  <a class="code" href="namespacellvm_1_1RISCVII.html#ab335a6694bd42d4d2f807ec281af1e1c">RISCVII::VLMUL</a> <a class="code" href="namespacellvm_1_1XCoreISD.html#a34e7964aa899176244e03cb7b1fc5985a5f16d1c5f09829a27d169eeda4d60a5f">LMUL</a> = <a class="code" href="classllvm_1_1RISCVTargetLowering.html#ac27709ca33b27034fb25d6fb83cb5fb1">RISCVTargetLowering::getLMUL</a>(VT);</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;SDValue, 8&gt;</a> Regs(Node-&gt;op_begin() + 2, Node-&gt;op_begin() + 2 + NF);</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> StoreVal = <a class="code" href="RISCVISelDAGToDAG_8cpp.html#a501ce60200ec0ef72373607cbed78d00">createTuple</a>(*<a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>, Regs, NF, <a class="code" href="namespacellvm_1_1XCoreISD.html#a34e7964aa899176244e03cb7b1fc5985a5f16d1c5f09829a27d169eeda4d60a5f">LMUL</a>);</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160; </div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;SDValue, 8&gt;</a> <a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>;</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;  <a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>.push_back(StoreVal);</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;  <span class="keywordtype">unsigned</span> CurOp = 2 + NF;</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160; </div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;  <a class="code" href="classllvm_1_1RISCVDAGToDAGISel.html#a824579538728c6e67cf9a6191e5894e3">addVectorLoadStoreOperands</a>(Node, <a class="code" href="RISCVInsertVSETVLI_8cpp.html#aa74e26e879c8e27e2fda48270367f4ea">Log2SEW</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, CurOp, IsMasked, IsStrided,</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;                             <a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>);</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160; </div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;  <span class="keyword">const</span> <a class="code" href="structllvm_1_1RISCV_1_1VSSEGPseudo.html">RISCV::VSSEGPseudo</a> *<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> = RISCV::getVSSEGPseudo(</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;      NF, IsMasked, IsStrided, <a class="code" href="RISCVInsertVSETVLI_8cpp.html#aa74e26e879c8e27e2fda48270367f4ea">Log2SEW</a>, <span class="keyword">static_cast&lt;</span><span class="keywordtype">unsigned</span><span class="keyword">&gt;</span>(<a class="code" href="namespacellvm_1_1XCoreISD.html#a34e7964aa899176244e03cb7b1fc5985a5f16d1c5f09829a27d169eeda4d60a5f">LMUL</a>));</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;  <a class="code" href="classllvm_1_1MachineSDNode.html">MachineSDNode</a> *<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa36b3dd3b84fde3f8494a9b18af131856">Store</a> =</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;      <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1c04c72abd24de2572a03ef686a36dd6">getMachineNode</a>(<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>-&gt;Pseudo, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, Node-&gt;getValueType(0), <a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>);</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160; </div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *<a class="code" href="structllvm_1_1MemOp.html">MemOp</a> = dyn_cast&lt;MemSDNode&gt;(Node))</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;    <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a66ebc3ec1c8816b16a5f239a8631c780">setNodeMemRefs</a>(<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa36b3dd3b84fde3f8494a9b18af131856">Store</a>, {<a class="code" href="structllvm_1_1MemOp.html">MemOp</a>-&gt;getMemOperand()});</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160; </div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;  <a class="code" href="classllvm_1_1SelectionDAGISel.html#acd1bcf7bcbb18b94234b2bf5a505e925">ReplaceNode</a>(Node, <a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa36b3dd3b84fde3f8494a9b18af131856">Store</a>);</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;}</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160; </div>
<div class="line"><a name="l00487"></a><span class="lineno"><a class="line" href="classllvm_1_1RISCVDAGToDAGISel.html#aa48cfa380a213e2be4b3c9647e55a102">  487</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1RISCVDAGToDAGISel.html#aa48cfa380a213e2be4b3c9647e55a102">RISCVDAGToDAGISel::selectVSXSEG</a>(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *Node, <span class="keywordtype">bool</span> IsMasked,</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;                                     <span class="keywordtype">bool</span> IsOrdered) {</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>(Node);</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;  <span class="keywordtype">unsigned</span> NF = Node-&gt;getNumOperands() - 5;</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;  <span class="keywordflow">if</span> (IsMasked)</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;    --NF;</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;  <a class="code" href="classllvm_1_1MVT.html">MVT</a> VT = Node-&gt;getOperand(2)-&gt;getSimpleValueType(0);</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="RISCVInsertVSETVLI_8cpp.html#aa74e26e879c8e27e2fda48270367f4ea">Log2SEW</a> = <a class="code" href="namespacellvm.html#a646986783f35e0fef8988f0f28d2589f">Log2_32</a>(VT.<a class="code" href="classllvm_1_1MVT.html#a2e101ce5736aa0643639fd3adae18088">getScalarSizeInBits</a>());</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;  <a class="code" href="namespacellvm_1_1RISCVII.html#ab335a6694bd42d4d2f807ec281af1e1c">RISCVII::VLMUL</a> <a class="code" href="namespacellvm_1_1XCoreISD.html#a34e7964aa899176244e03cb7b1fc5985a5f16d1c5f09829a27d169eeda4d60a5f">LMUL</a> = <a class="code" href="classllvm_1_1RISCVTargetLowering.html#ac27709ca33b27034fb25d6fb83cb5fb1">RISCVTargetLowering::getLMUL</a>(VT);</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;SDValue, 8&gt;</a> Regs(Node-&gt;op_begin() + 2, Node-&gt;op_begin() + 2 + NF);</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> StoreVal = <a class="code" href="RISCVISelDAGToDAG_8cpp.html#a501ce60200ec0ef72373607cbed78d00">createTuple</a>(*<a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>, Regs, NF, <a class="code" href="namespacellvm_1_1XCoreISD.html#a34e7964aa899176244e03cb7b1fc5985a5f16d1c5f09829a27d169eeda4d60a5f">LMUL</a>);</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160; </div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;SDValue, 8&gt;</a> <a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>;</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;  <a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>.push_back(StoreVal);</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;  <span class="keywordtype">unsigned</span> CurOp = 2 + NF;</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160; </div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;  <a class="code" href="classllvm_1_1MVT.html">MVT</a> IndexVT;</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;  <a class="code" href="classllvm_1_1RISCVDAGToDAGISel.html#a824579538728c6e67cf9a6191e5894e3">addVectorLoadStoreOperands</a>(Node, <a class="code" href="RISCVInsertVSETVLI_8cpp.html#aa74e26e879c8e27e2fda48270367f4ea">Log2SEW</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, CurOp, IsMasked,</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;                             <span class="comment">/*IsStridedOrIndexed*/</span> <span class="keyword">true</span>, <a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>,</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;                             <span class="comment">/*IsLoad=*/</span><span class="keyword">false</span>, &amp;IndexVT);</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160; </div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(VT.<a class="code" href="classllvm_1_1MVT.html#aa1abe2e0d36a43d780ce54ea3b197217">getVectorElementCount</a>() == IndexVT.<a class="code" href="classllvm_1_1MVT.html#aa1abe2e0d36a43d780ce54ea3b197217">getVectorElementCount</a>() &amp;&amp;</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;         <span class="stringliteral">&quot;Element count mismatch&quot;</span>);</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160; </div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;  <a class="code" href="namespacellvm_1_1RISCVII.html#ab335a6694bd42d4d2f807ec281af1e1c">RISCVII::VLMUL</a> IndexLMUL = <a class="code" href="classllvm_1_1RISCVTargetLowering.html#ac27709ca33b27034fb25d6fb83cb5fb1">RISCVTargetLowering::getLMUL</a>(IndexVT);</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;  <span class="keywordtype">unsigned</span> IndexLog2EEW = <a class="code" href="namespacellvm.html#a646986783f35e0fef8988f0f28d2589f">Log2_32</a>(IndexVT.<a class="code" href="classllvm_1_1MVT.html#a2e101ce5736aa0643639fd3adae18088">getScalarSizeInBits</a>());</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;  <span class="keywordflow">if</span> (IndexLog2EEW == 6 &amp;&amp; !Subtarget-&gt;<a class="code" href="classllvm_1_1RISCVSubtarget.html#afd9fbb2a5a666589b2843c496f3ae479">is64Bit</a>()) {</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;    <a class="code" href="namespacellvm.html#a7f2a3d4dcfee70225988aec53ff1e173">report_fatal_error</a>(<span class="stringliteral">&quot;The V extension does not support EEW=64 for index &quot;</span></div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;                       <span class="stringliteral">&quot;values when XLEN=32&quot;</span>);</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;  }</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;  <span class="keyword">const</span> <a class="code" href="structllvm_1_1RISCV_1_1VSXSEGPseudo.html">RISCV::VSXSEGPseudo</a> *<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> = RISCV::getVSXSEGPseudo(</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;      NF, IsMasked, IsOrdered, IndexLog2EEW, <span class="keyword">static_cast&lt;</span><span class="keywordtype">unsigned</span><span class="keyword">&gt;</span>(<a class="code" href="namespacellvm_1_1XCoreISD.html#a34e7964aa899176244e03cb7b1fc5985a5f16d1c5f09829a27d169eeda4d60a5f">LMUL</a>),</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;      <span class="keyword">static_cast&lt;</span><span class="keywordtype">unsigned</span><span class="keyword">&gt;</span>(IndexLMUL));</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;  <a class="code" href="classllvm_1_1MachineSDNode.html">MachineSDNode</a> *<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa36b3dd3b84fde3f8494a9b18af131856">Store</a> =</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;      <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1c04c72abd24de2572a03ef686a36dd6">getMachineNode</a>(<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>-&gt;Pseudo, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, Node-&gt;getValueType(0), <a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>);</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160; </div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *<a class="code" href="structllvm_1_1MemOp.html">MemOp</a> = dyn_cast&lt;MemSDNode&gt;(Node))</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;    <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a66ebc3ec1c8816b16a5f239a8631c780">setNodeMemRefs</a>(<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa36b3dd3b84fde3f8494a9b18af131856">Store</a>, {<a class="code" href="structllvm_1_1MemOp.html">MemOp</a>-&gt;getMemOperand()});</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160; </div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;  <a class="code" href="classllvm_1_1SelectionDAGISel.html#acd1bcf7bcbb18b94234b2bf5a505e925">ReplaceNode</a>(Node, <a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa36b3dd3b84fde3f8494a9b18af131856">Store</a>);</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;}</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160; </div>
<div class="line"><a name="l00529"></a><span class="lineno"><a class="line" href="classllvm_1_1RISCVDAGToDAGISel.html#a97a91b8b1f7d203b918218d0db9cec5d">  529</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1RISCVDAGToDAGISel.html#a97a91b8b1f7d203b918218d0db9cec5d">RISCVDAGToDAGISel::selectVSETVLI</a>(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *Node) {</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;  <span class="keywordflow">if</span> (!Subtarget-&gt;<a class="code" href="classllvm_1_1RISCVSubtarget.html#a9227d5dccc1baf1834e4b98c5b9502e5">hasVInstructions</a>())</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160; </div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Node-&gt;getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac771b9cda3b889242d457cc4d9b2159c">ISD::INTRINSIC_WO_CHAIN</a> &amp;&amp; <span class="stringliteral">&quot;Unexpected opcode&quot;</span>);</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160; </div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>(Node);</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;  <a class="code" href="classllvm_1_1MVT.html">MVT</a> XLenVT = Subtarget-&gt;<a class="code" href="classllvm_1_1RISCVSubtarget.html#a657dd2086f68037531f461853480fcf7">getXLenVT</a>();</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160; </div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;  <span class="keywordtype">unsigned</span> IntNo = Node-&gt;getConstantOperandVal(0);</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160; </div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((IntNo == Intrinsic::riscv_vsetvli ||</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;          IntNo == Intrinsic::riscv_vsetvlimax) &amp;&amp;</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;         <span class="stringliteral">&quot;Unexpected vsetvli intrinsic&quot;</span>);</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160; </div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;  <span class="keywordtype">bool</span> VLMax = IntNo == Intrinsic::riscv_vsetvlimax;</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> = (VLMax ? 1 : 2);</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160; </div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Node-&gt;getNumOperands() == <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> + 2 &amp;&amp;</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;         <span class="stringliteral">&quot;Unexpected number of operands&quot;</span>);</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160; </div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="RISCVInsertVSETVLI_8cpp.html#ac4786fefd4d527c4c601f237a6d67919">SEW</a> =</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;      <a class="code" href="namespacellvm_1_1RISCVVType.html#a291f15cffaa5063b9056d0160413bc82">RISCVVType::decodeVSEW</a>(Node-&gt;getConstantOperandVal(<a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>) &amp; 0x7);</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;  <a class="code" href="namespacellvm_1_1RISCVII.html#ab335a6694bd42d4d2f807ec281af1e1c">RISCVII::VLMUL</a> <a class="code" href="RISCVInsertVSETVLI_8cpp.html#aae7423532c298de53bc19b1d8118418c">VLMul</a> = <span class="keyword">static_cast&lt;</span><a class="code" href="namespacellvm_1_1RISCVII.html#ab335a6694bd42d4d2f807ec281af1e1c">RISCVII::VLMUL</a><span class="keyword">&gt;</span>(</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;      Node-&gt;getConstantOperandVal(<a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> + 1) &amp; 0x7);</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160; </div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;  <span class="keywordtype">unsigned</span> VTypeI = <a class="code" href="namespacellvm_1_1RISCVVType.html#ad3636219b4d0045029530c6a16c160dc">RISCVVType::encodeVTYPE</a>(<a class="code" href="RISCVInsertVSETVLI_8cpp.html#aae7423532c298de53bc19b1d8118418c">VLMul</a>, <a class="code" href="RISCVInsertVSETVLI_8cpp.html#ac4786fefd4d527c4c601f237a6d67919">SEW</a>, <span class="comment">/*TailAgnostic*/</span> <span class="keyword">true</span>,</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;                                            <span class="comment">/*MaskAgnostic*/</span> <span class="keyword">true</span>);</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> VTypeIOp = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(VTypeI, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, XLenVT);</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160; </div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;EVT, 2&gt;</a> VTs = {XLenVT};</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160; </div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> VLOperand;</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;  <span class="keywordtype">unsigned</span> Opcode = RISCV::PseudoVSETVLI;</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;  <span class="keywordflow">if</span> (VLMax) {</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;    VLOperand = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a9268086dd9d1ba4e60cfe872dde5c173">getRegister</a>(RISCV::X0, XLenVT);</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;    Opcode = RISCV::PseudoVSETVLIX0;</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;    VLOperand = Node-&gt;getOperand(1);</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160; </div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = dyn_cast&lt;ConstantSDNode&gt;(VLOperand)) {</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;      <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> AVL = <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;<a class="code" href="classllvm_1_1APInt.html#a217e0207d9cc8e046c2dccbf0e4bb198">getZExtValue</a>();</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;      <span class="keywordflow">if</span> (isUInt&lt;5&gt;(AVL)) {</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;        <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> VLImm = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(AVL, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, XLenVT);</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;        <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;SDValue, 3&gt;</a> Ops = {VLImm, VTypeIOp};</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;        <a class="code" href="classllvm_1_1SelectionDAGISel.html#acd1bcf7bcbb18b94234b2bf5a505e925">ReplaceNode</a>(</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;            Node, <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1c04c72abd24de2572a03ef686a36dd6">getMachineNode</a>(RISCV::PseudoVSETIVLI, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VTs, Ops));</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;      }</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;    }</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;  }</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160; </div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;SDValue, 3&gt;</a> Ops = {VLOperand, VTypeIOp};</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160; </div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;  <a class="code" href="classllvm_1_1SelectionDAGISel.html#acd1bcf7bcbb18b94234b2bf5a505e925">ReplaceNode</a>(Node, <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1c04c72abd24de2572a03ef686a36dd6">getMachineNode</a>(Opcode, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VTs, Ops));</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;}</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160; </div>
<div class="line"><a name="l00586"></a><span class="lineno"><a class="line" href="classllvm_1_1RISCVDAGToDAGISel.html#a92a75fbae3b487187668a2099271d1a0">  586</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1RISCVDAGToDAGISel.html#a92a75fbae3b487187668a2099271d1a0">RISCVDAGToDAGISel::tryShrinkShlLogicImm</a>(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *Node) {</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;  <a class="code" href="classllvm_1_1MVT.html">MVT</a> VT = Node-&gt;getSimpleValueType(0);</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;  <span class="keywordtype">unsigned</span> Opcode = Node-&gt;getOpcode();</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((Opcode == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a> || Opcode == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7415ab9f2172c59a2ee7c7a02afa56a4">ISD::OR</a> || Opcode == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a92febb83e6ba116eb7aae8e7e3f70cc1">ISD::XOR</a>) &amp;&amp;</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;         <span class="stringliteral">&quot;Unexpected opcode&quot;</span>);</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>(Node);</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160; </div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;  <span class="comment">// For operations of the form (x &lt;&lt; C1) op C2, check if we can use</span></div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;  <span class="comment">// ANDI/ORI/XORI by transforming it into (x op (C2&gt;&gt;C1)) &lt;&lt; C1.</span></div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> N0 = Node-&gt;getOperand(0);</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> N1 = Node-&gt;getOperand(1);</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160; </div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;  <a class="code" href="classllvm_1_1ConstantSDNode.html">ConstantSDNode</a> *Cst = dyn_cast&lt;ConstantSDNode&gt;(N1);</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;  <span class="keywordflow">if</span> (!Cst)</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160; </div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;  int64_t Val = Cst-&gt;<a class="code" href="classllvm_1_1ConstantSDNode.html#a75d113cb1b8cc3c14b601d928dccee40">getSExtValue</a>();</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160; </div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;  <span class="comment">// Check if immediate can already use ANDI/ORI/XORI.</span></div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;  <span class="keywordflow">if</span> (isInt&lt;12&gt;(Val))</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160; </div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="lib_2Target_2README_8txt.html#a8db36c82f32d6f6a4d35a00e55be03a8">Shift</a> = N0;</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160; </div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;  <span class="comment">// If Val is simm32 and we have a sext_inreg from i32, then the binop</span></div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;  <span class="comment">// produces at least 33 sign bits. We can peek through the sext_inreg and use</span></div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;  <span class="comment">// a SLLIW at the end.</span></div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;  <span class="keywordtype">bool</span> SignExt = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;  <span class="keywordflow">if</span> (isInt&lt;32&gt;(Val) &amp;&amp; N0.<a class="code" href="classllvm_1_1SDValue.html#ae779a9d142e6318d8fb0e4f0da32af0f">getOpcode</a>() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aaa59dd5ec37f21905436b354c0292d9e">ISD::SIGN_EXTEND_INREG</a> &amp;&amp;</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;      N0.<a class="code" href="classllvm_1_1SDValue.html#a342c0d4e8e59b30daefe9a05bc2098bd">hasOneUse</a>() &amp;&amp; cast&lt;VTSDNode&gt;(N0.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(1))-&gt;getVT() == <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>) {</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;    SignExt = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;    <a class="code" href="lib_2Target_2README_8txt.html#a8db36c82f32d6f6a4d35a00e55be03a8">Shift</a> = N0.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(0);</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;  }</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160; </div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="lib_2Target_2README_8txt.html#a8db36c82f32d6f6a4d35a00e55be03a8">Shift</a>.getOpcode() != <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a8cc94e03dea594863073a02f5bb94997">ISD::SHL</a> || !<a class="code" href="lib_2Target_2README_8txt.html#a8db36c82f32d6f6a4d35a00e55be03a8">Shift</a>.hasOneUse())</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160; </div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;  <a class="code" href="classllvm_1_1ConstantSDNode.html">ConstantSDNode</a> *ShlCst = dyn_cast&lt;ConstantSDNode&gt;(<a class="code" href="lib_2Target_2README_8txt.html#a8db36c82f32d6f6a4d35a00e55be03a8">Shift</a>.getOperand(1));</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;  <span class="keywordflow">if</span> (!ShlCst)</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160; </div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;  <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> ShAmt = ShlCst-&gt;<a class="code" href="classllvm_1_1ConstantSDNode.html#a5cb49674ec65724b4d9aecb48588a13a">getZExtValue</a>();</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160; </div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;  <span class="comment">// Make sure that we don&#39;t change the operation by removing bits.</span></div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;  <span class="comment">// This only matters for OR and XOR, AND is unaffected.</span></div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;  <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> RemovedBitsMask = maskTrailingOnes&lt;uint64_t&gt;(ShAmt);</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;  <span class="keywordflow">if</span> (Opcode != <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a> &amp;&amp; (Val &amp; RemovedBitsMask) != 0)</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160; </div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;  int64_t ShiftedVal = Val &gt;&gt; ShAmt;</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;  <span class="keywordflow">if</span> (!isInt&lt;12&gt;(ShiftedVal))</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160; </div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;  <span class="comment">// If we peeked through a sext_inreg, make sure the shift is valid for SLLIW.</span></div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;  <span class="keywordflow">if</span> (SignExt &amp;&amp; ShAmt &gt;= 32)</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160; </div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;  <span class="comment">// Ok, we can reorder to get a smaller immediate.</span></div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;  <span class="keywordtype">unsigned</span> BinOpc;</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;  <span class="keywordflow">switch</span> (Opcode) {</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;  <span class="keywordflow">default</span>: <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unexpected opcode&quot;</span>);</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a>: BinOpc = RISCV::ANDI; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7415ab9f2172c59a2ee7c7a02afa56a4">ISD::OR</a>:  BinOpc = RISCV::ORI;  <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a92febb83e6ba116eb7aae8e7e3f70cc1">ISD::XOR</a>: BinOpc = RISCV::XORI; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;  }</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160; </div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;  <span class="keywordtype">unsigned</span> ShOpc = SignExt ? RISCV::SLLIW : RISCV::SLLI;</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160; </div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;  <a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *BinOp =</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;      <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1c04c72abd24de2572a03ef686a36dd6">getMachineNode</a>(BinOpc, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, <a class="code" href="lib_2Target_2README_8txt.html#a8db36c82f32d6f6a4d35a00e55be03a8">Shift</a>.getOperand(0),</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;                             <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(ShiftedVal, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT));</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;  <a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *SLLI =</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;      <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1c04c72abd24de2572a03ef686a36dd6">getMachineNode</a>(ShOpc, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(BinOp, 0),</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;                             <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(ShAmt, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT));</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;  <a class="code" href="classllvm_1_1SelectionDAGISel.html#acd1bcf7bcbb18b94234b2bf5a505e925">ReplaceNode</a>(Node, SLLI);</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;}</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160; </div>
<div class="line"><a name="l00664"></a><span class="lineno"><a class="line" href="classllvm_1_1RISCVDAGToDAGISel.html#a7d60a41c0d5e450f770042d3427928d0">  664</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1RISCVDAGToDAGISel.html#a7d60a41c0d5e450f770042d3427928d0">RISCVDAGToDAGISel::Select</a>(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *Node) {</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;  <span class="comment">// If we have a custom node, we have already selected.</span></div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;  <span class="keywordflow">if</span> (Node-&gt;isMachineOpcode()) {</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;== &quot;</span>; Node-&gt;dump(<a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>); <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;    Node-&gt;setNodeId(-1);</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;  }</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160; </div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;  <span class="comment">// Instruction Selection not handled by the auto-generated tablegen selection</span></div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;  <span class="comment">// should be handled here.</span></div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;  <span class="keywordtype">unsigned</span> Opcode = Node-&gt;getOpcode();</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;  <a class="code" href="classllvm_1_1MVT.html">MVT</a> XLenVT = Subtarget-&gt;<a class="code" href="classllvm_1_1RISCVSubtarget.html#a657dd2086f68037531f461853480fcf7">getXLenVT</a>();</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>(Node);</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;  <a class="code" href="classllvm_1_1MVT.html">MVT</a> VT = Node-&gt;getSimpleValueType(0);</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160; </div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;  <span class="keywordtype">bool</span> HasBitTest = Subtarget-&gt;hasStdExtZbs() || Subtarget-&gt;hasVendorXTHeadBs();</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160; </div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;  <span class="keywordflow">switch</span> (Opcode) {</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aac2f0a84dd2aa5ee4c3f1385e9565f5e">ISD::Constant</a>: {</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(VT == Subtarget-&gt;<a class="code" href="classllvm_1_1RISCVSubtarget.html#a657dd2086f68037531f461853480fcf7">getXLenVT</a>() &amp;&amp; <span class="stringliteral">&quot;Unexpected VT&quot;</span>);</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;    <span class="keyword">auto</span> *ConstNode = cast&lt;ConstantSDNode&gt;(Node);</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;    <span class="keywordflow">if</span> (ConstNode-&gt;isZero()) {</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> New =</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;          <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#ac6cdd6e10185124f84da0c7b4878d495">getCopyFromReg</a>(<a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#af0f68c9c0e4a38aebd5773f80dd5b716">getEntryNode</a>(), <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, RISCV::X0, VT);</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;      <a class="code" href="classllvm_1_1SelectionDAGISel.html#acd1bcf7bcbb18b94234b2bf5a505e925">ReplaceNode</a>(Node, New.getNode());</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;    }</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;    int64_t <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> = ConstNode-&gt;getSExtValue();</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;    <span class="comment">// If the upper XLen-16 bits are not used, try to convert this to a simm12</span></div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;    <span class="comment">// by sign extending bit 15.</span></div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;    <span class="keywordflow">if</span> (isUInt&lt;16&gt;(<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>) &amp;&amp; isInt&lt;12&gt;(SignExtend64&lt;16&gt;(<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>)) &amp;&amp;</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;        <a class="code" href="classllvm_1_1RISCVDAGToDAGISel.html#a5bd868d175a4cfe28c31e8bd58380090">hasAllHUsers</a>(Node))</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;      <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> = SignExtend64&lt;16&gt;(<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>);</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;    <span class="comment">// If the upper 32-bits are not used try to convert this into a simm32 by</span></div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;    <span class="comment">// sign extending bit 32.</span></div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;    <span class="keywordflow">if</span> (!isInt&lt;32&gt;(<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>) &amp;&amp; isUInt&lt;32&gt;(<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>) &amp;&amp; <a class="code" href="classllvm_1_1RISCVDAGToDAGISel.html#a68fe5706b6c5ab0df6fc48ecf12dec30">hasAllWUsers</a>(Node))</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;      <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> = SignExtend64&lt;32&gt;(<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>);</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160; </div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;    <a class="code" href="classllvm_1_1SelectionDAGISel.html#acd1bcf7bcbb18b94234b2bf5a505e925">ReplaceNode</a>(Node, <a class="code" href="RISCVISelDAGToDAG_8cpp.html#a2b20fa727cb3be2d7338de943bc81490">selectImm</a>(<a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>, *Subtarget).getNode());</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;  }</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a1be4c8da7c68a4c683de1a98b5cc5b9d">ISD::ConstantFP</a>: {</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1APFloat.html">APFloat</a> &amp;APF = cast&lt;ConstantFPSDNode&gt;(Node)-&gt;getValueAPF();</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;    <span class="keywordtype">bool</span> NegZeroF64 = APF.<a class="code" href="classllvm_1_1APFloat.html#ad57f69ac4fa1d889dc657d52e8a51ef1">isNegZero</a>() &amp;&amp; VT == <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346ac661c912350e3095c85ba75b8dbc17b1">MVT::f64</a>;</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>;</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;    <span class="comment">// For +0.0 or f64 -0.0 we need to start from X0. For all others, we will</span></div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;    <span class="comment">// create an integer immediate.</span></div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;    <span class="keywordflow">if</span> (APF.<a class="code" href="classllvm_1_1APFloat.html#ac37cd93f2c41a818a278e99de784ba1d">isPosZero</a>() || NegZeroF64)</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;      <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a9268086dd9d1ba4e60cfe872dde5c173">getRegister</a>(RISCV::X0, XLenVT);</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;      <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> = <a class="code" href="RISCVISelDAGToDAG_8cpp.html#a2b20fa727cb3be2d7338de943bc81490">selectImm</a>(<a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, XLenVT, APF.<a class="code" href="classllvm_1_1APFloat.html#a9c5a2112c559ffbe2c7bbf5698b6482f">bitcastToAPInt</a>().<a class="code" href="classllvm_1_1APInt.html#af2daa0ee117afefed4c82eee55bf97b7">getSExtValue</a>(),</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;                      *Subtarget);</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160; </div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;    <span class="keywordtype">unsigned</span> Opc;</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;    <span class="keywordflow">switch</span> (VT.<a class="code" href="classllvm_1_1MVT.html#a27bda7d8e8e4f0337650a892f3c9b46a">SimpleTy</a>) {</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;      <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unexpected size&quot;</span>);</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a1e0cfc795f0b068229dcec6eecb69499">MVT::f16</a>:</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;      Opc = <a class="code" href="namespacellvm_1_1RISCVISD.html#ab68e2d65ea9915ffaac8334a3b8bf882a8133bf609ca1e40ecb0622ed5e559fcc">RISCV::FMV_H_X</a>;</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a586bae91020e6d8cccfe0995f527606f">MVT::f32</a>:</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;      Opc = RISCV::FMV_W_X;</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346ac661c912350e3095c85ba75b8dbc17b1">MVT::f64</a>:</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;      <span class="comment">// For RV32, we can&#39;t move from a GPR, we need to convert instead. This</span></div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;      <span class="comment">// should only happen for +0.0 and -0.0.</span></div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((Subtarget-&gt;<a class="code" href="classllvm_1_1RISCVSubtarget.html#afd9fbb2a5a666589b2843c496f3ae479">is64Bit</a>() || APF.<a class="code" href="classllvm_1_1APFloat.html#a9aaed17970b55e9e1bfa906822ea7b71">isZero</a>()) &amp;&amp; <span class="stringliteral">&quot;Unexpected constant&quot;</span>);</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;      Opc = Subtarget-&gt;<a class="code" href="classllvm_1_1RISCVSubtarget.html#afd9fbb2a5a666589b2843c496f3ae479">is64Bit</a>() ? RISCV::FMV_D_X : RISCV::FCVT_D_W;</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;    }</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160; </div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;    <a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *Res = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1c04c72abd24de2572a03ef686a36dd6">getMachineNode</a>(Opc, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>);</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160; </div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;    <span class="comment">// For f64 -0.0, we need to insert a fneg.d idiom.</span></div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;    <span class="keywordflow">if</span> (NegZeroF64)</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;      Res = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1c04c72abd24de2572a03ef686a36dd6">getMachineNode</a>(RISCV::FSGNJN_D, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(Res, 0),</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;                                   <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(Res, 0));</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160; </div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;    <a class="code" href="classllvm_1_1SelectionDAGISel.html#acd1bcf7bcbb18b94234b2bf5a505e925">ReplaceNode</a>(Node, Res);</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;  }</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a8cc94e03dea594863073a02f5bb94997">ISD::SHL</a>: {</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;    <span class="keyword">auto</span> *N1C = dyn_cast&lt;ConstantSDNode&gt;(Node-&gt;getOperand(1));</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;    <span class="keywordflow">if</span> (!N1C)</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> N0 = Node-&gt;getOperand(0);</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;    <span class="keywordflow">if</span> (N0.<a class="code" href="classllvm_1_1SDValue.html#ae779a9d142e6318d8fb0e4f0da32af0f">getOpcode</a>() != <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a> || !N0.<a class="code" href="classllvm_1_1SDValue.html#a342c0d4e8e59b30daefe9a05bc2098bd">hasOneUse</a>() ||</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;        !isa&lt;ConstantSDNode&gt;(N0.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(1)))</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;    <span class="keywordtype">unsigned</span> ShAmt = N1C-&gt;getZExtValue();</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;    <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a> = N0.<a class="code" href="classllvm_1_1SDValue.html#ac969b6c833cfa44c1b4fcd5790268340">getConstantOperandVal</a>(1);</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160; </div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;    <span class="comment">// Optimize (shl (and X, C2), C) -&gt; (slli (srliw X, C3), C3+C) where C2 has</span></div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;    <span class="comment">// 32 leading zeros and C3 trailing zeros.</span></div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;    <span class="keywordflow">if</span> (ShAmt &lt;= 32 &amp;&amp; <a class="code" href="namespacellvm.html#a582e08755c7a8d1b0bf6c5dcb765aaa8">isShiftedMask_64</a>(<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>)) {</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;      <span class="keywordtype">unsigned</span> XLen = Subtarget-&gt;<a class="code" href="classllvm_1_1RISCVSubtarget.html#a6bc41e12851a645259c839ba8974bbe7">getXLen</a>();</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;      <span class="keywordtype">unsigned</span> LeadingZeros = XLen - <a class="code" href="namespacellvm.html#a37c1fdede126353d80c3753dfe06f3c7">llvm::bit_width</a>(<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>);</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;      <span class="keywordtype">unsigned</span> TrailingZeros = <a class="code" href="namespacellvm.html#a57d2f9ee99e9e68cff564d0d579c8163">llvm::countr_zero</a>(<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>);</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;      <span class="keywordflow">if</span> (TrailingZeros &gt; 0 &amp;&amp; LeadingZeros == 32) {</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;        <a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *SRLIW = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1c04c72abd24de2572a03ef686a36dd6">getMachineNode</a>(</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;            RISCV::SRLIW, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, N0-&gt;<a class="code" href="classllvm_1_1SDNode.html#aa167dab8c514d863ec44909befac3050">getOperand</a>(0),</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;            <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(TrailingZeros, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT));</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;        <a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *SLLI = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1c04c72abd24de2572a03ef686a36dd6">getMachineNode</a>(</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;            RISCV::SLLI, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(SRLIW, 0),</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;            <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(TrailingZeros + ShAmt, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT));</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;        <a class="code" href="classllvm_1_1SelectionDAGISel.html#acd1bcf7bcbb18b94234b2bf5a505e925">ReplaceNode</a>(Node, SLLI);</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;      }</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;    }</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;  }</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a3c6553c8acebe1b57c211ee45e2d8f98">ISD::SRL</a>: {</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;    <span class="keyword">auto</span> *N1C = dyn_cast&lt;ConstantSDNode&gt;(Node-&gt;getOperand(1));</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;    <span class="keywordflow">if</span> (!N1C)</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> N0 = Node-&gt;getOperand(0);</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;    <span class="keywordflow">if</span> (N0.<a class="code" href="classllvm_1_1SDValue.html#ae779a9d142e6318d8fb0e4f0da32af0f">getOpcode</a>() != <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a> || !isa&lt;ConstantSDNode&gt;(N0.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(1)))</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;    <span class="keywordtype">unsigned</span> ShAmt = N1C-&gt;getZExtValue();</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;    <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a> = N0.<a class="code" href="classllvm_1_1SDValue.html#ac969b6c833cfa44c1b4fcd5790268340">getConstantOperandVal</a>(1);</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160; </div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;    <span class="comment">// Optimize (srl (and X, C2), C) -&gt; (slli (srliw X, C3), C3-C) where C2 has</span></div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;    <span class="comment">// 32 leading zeros and C3 trailing zeros.</span></div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a582e08755c7a8d1b0bf6c5dcb765aaa8">isShiftedMask_64</a>(<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>) &amp;&amp; N0.<a class="code" href="classllvm_1_1SDValue.html#a342c0d4e8e59b30daefe9a05bc2098bd">hasOneUse</a>()) {</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;      <span class="keywordtype">unsigned</span> XLen = Subtarget-&gt;<a class="code" href="classllvm_1_1RISCVSubtarget.html#a6bc41e12851a645259c839ba8974bbe7">getXLen</a>();</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;      <span class="keywordtype">unsigned</span> LeadingZeros = XLen - <a class="code" href="namespacellvm.html#a37c1fdede126353d80c3753dfe06f3c7">llvm::bit_width</a>(<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>);</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;      <span class="keywordtype">unsigned</span> TrailingZeros = <a class="code" href="namespacellvm.html#a57d2f9ee99e9e68cff564d0d579c8163">llvm::countr_zero</a>(<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>);</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;      <span class="keywordflow">if</span> (LeadingZeros == 32 &amp;&amp; TrailingZeros &gt; ShAmt) {</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;        <a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *SRLIW = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1c04c72abd24de2572a03ef686a36dd6">getMachineNode</a>(</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;            RISCV::SRLIW, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, N0-&gt;<a class="code" href="classllvm_1_1SDNode.html#aa167dab8c514d863ec44909befac3050">getOperand</a>(0),</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;            <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(TrailingZeros, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT));</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;        <a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *SLLI = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1c04c72abd24de2572a03ef686a36dd6">getMachineNode</a>(</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;            RISCV::SLLI, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(SRLIW, 0),</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;            <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(TrailingZeros - ShAmt, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT));</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;        <a class="code" href="classllvm_1_1SelectionDAGISel.html#acd1bcf7bcbb18b94234b2bf5a505e925">ReplaceNode</a>(Node, SLLI);</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;      }</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;    }</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160; </div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;    <span class="comment">// Optimize (srl (and X, C2), C) -&gt;</span></div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;    <span class="comment">//          (srli (slli X, (XLen-C3), (XLen-C3) + C)</span></div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;    <span class="comment">// Where C2 is a mask with C3 trailing ones.</span></div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;    <span class="comment">// Taking into account that the C2 may have had lower bits unset by</span></div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;    <span class="comment">// SimplifyDemandedBits. This avoids materializing the C2 immediate.</span></div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;    <span class="comment">// This pattern occurs when type legalizing right shifts for types with</span></div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;    <span class="comment">// less than XLen bits.</span></div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;    <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a> |= maskTrailingOnes&lt;uint64_t&gt;(ShAmt);</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm.html#a82a9558b6319303ae62f59dab9669685">isMask_64</a>(<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>))</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;    <span class="keywordtype">unsigned</span> TrailingOnes = <a class="code" href="namespacellvm.html#a239abca11deebf2731206dd41cf43c0e">llvm::countr_one</a>(<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>);</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;    <span class="keywordflow">if</span> (ShAmt &gt;= TrailingOnes)</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;    <span class="comment">// If the mask has 32 trailing ones, use SRLIW.</span></div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;    <span class="keywordflow">if</span> (TrailingOnes == 32) {</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;      <a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *SRLIW =</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;          <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1c04c72abd24de2572a03ef686a36dd6">getMachineNode</a>(RISCV::SRLIW, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, N0-&gt;<a class="code" href="classllvm_1_1SDNode.html#aa167dab8c514d863ec44909befac3050">getOperand</a>(0),</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;                                 <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(ShAmt, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT));</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;      <a class="code" href="classllvm_1_1SelectionDAGISel.html#acd1bcf7bcbb18b94234b2bf5a505e925">ReplaceNode</a>(Node, SRLIW);</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;    }</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160; </div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;    <span class="comment">// Only do the remaining transforms if the AND has one use.</span></div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;    <span class="keywordflow">if</span> (!N0.<a class="code" href="classllvm_1_1SDValue.html#a342c0d4e8e59b30daefe9a05bc2098bd">hasOneUse</a>())</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160; </div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;    <span class="comment">// If C2 is (1 &lt;&lt; ShAmt) use bexti or th.tst if possible.</span></div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;    <span class="keywordflow">if</span> (HasBitTest &amp;&amp; ShAmt + 1 == TrailingOnes) {</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;      <a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *BEXTI = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1c04c72abd24de2572a03ef686a36dd6">getMachineNode</a>(</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;          Subtarget-&gt;hasStdExtZbs() ? RISCV::BEXTI : RISCV::TH_TST, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT,</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;          N0-&gt;<a class="code" href="classllvm_1_1SDNode.html#aa167dab8c514d863ec44909befac3050">getOperand</a>(0), <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(ShAmt, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT));</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;      <a class="code" href="classllvm_1_1SelectionDAGISel.html#acd1bcf7bcbb18b94234b2bf5a505e925">ReplaceNode</a>(Node, BEXTI);</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;    }</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160; </div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;    <span class="keywordtype">unsigned</span> LShAmt = Subtarget-&gt;<a class="code" href="classllvm_1_1RISCVSubtarget.html#a6bc41e12851a645259c839ba8974bbe7">getXLen</a>() - TrailingOnes;</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;    <a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *SLLI =</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;        <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1c04c72abd24de2572a03ef686a36dd6">getMachineNode</a>(RISCV::SLLI, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, N0-&gt;<a class="code" href="classllvm_1_1SDNode.html#aa167dab8c514d863ec44909befac3050">getOperand</a>(0),</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;                               <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(LShAmt, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT));</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;    <a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *SRLI = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1c04c72abd24de2572a03ef686a36dd6">getMachineNode</a>(</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;        RISCV::SRLI, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(SLLI, 0),</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;        <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(LShAmt + ShAmt, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT));</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;    <a class="code" href="classllvm_1_1SelectionDAGISel.html#acd1bcf7bcbb18b94234b2bf5a505e925">ReplaceNode</a>(Node, SRLI);</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;  }</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4a055321c361a0f6ee77ed764730ffc1">ISD::SRA</a>: {</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;    <span class="comment">// Optimize (sra (sext_inreg X, i16), C) -&gt;</span></div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;    <span class="comment">//          (srai (slli X, (XLen-16), (XLen-16) + C)</span></div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;    <span class="comment">// And      (sra (sext_inreg X, i8), C) -&gt;</span></div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;    <span class="comment">//          (srai (slli X, (XLen-8), (XLen-8) + C)</span></div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;    <span class="comment">// This can occur when Zbb is enabled, which makes sext_inreg i16/i8 legal.</span></div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;    <span class="comment">// This transform matches the code we get without Zbb. The shifts are more</span></div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;    <span class="comment">// compressible, and this can help expose CSE opportunities in the sdiv by</span></div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;    <span class="comment">// constant optimization.</span></div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;    <span class="keyword">auto</span> *N1C = dyn_cast&lt;ConstantSDNode&gt;(Node-&gt;getOperand(1));</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;    <span class="keywordflow">if</span> (!N1C)</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> N0 = Node-&gt;getOperand(0);</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;    <span class="keywordflow">if</span> (N0.<a class="code" href="classllvm_1_1SDValue.html#ae779a9d142e6318d8fb0e4f0da32af0f">getOpcode</a>() != <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aaa59dd5ec37f21905436b354c0292d9e">ISD::SIGN_EXTEND_INREG</a> || !N0.<a class="code" href="classllvm_1_1SDValue.html#a342c0d4e8e59b30daefe9a05bc2098bd">hasOneUse</a>())</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;    <span class="keywordtype">unsigned</span> ShAmt = N1C-&gt;getZExtValue();</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;    <span class="keywordtype">unsigned</span> ExtSize =</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;        cast&lt;VTSDNode&gt;(N0.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(1))-&gt;getVT().getSizeInBits();</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;    <span class="comment">// ExtSize of 32 should use sraiw via tablegen pattern.</span></div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;    <span class="keywordflow">if</span> (ExtSize &gt;= 32 || ShAmt &gt;= ExtSize)</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;    <span class="keywordtype">unsigned</span> LShAmt = Subtarget-&gt;<a class="code" href="classllvm_1_1RISCVSubtarget.html#a6bc41e12851a645259c839ba8974bbe7">getXLen</a>() - ExtSize;</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;    <a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *SLLI =</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;        <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1c04c72abd24de2572a03ef686a36dd6">getMachineNode</a>(RISCV::SLLI, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, N0-&gt;<a class="code" href="classllvm_1_1SDNode.html#aa167dab8c514d863ec44909befac3050">getOperand</a>(0),</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;                               <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(LShAmt, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT));</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;    <a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *SRAI = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1c04c72abd24de2572a03ef686a36dd6">getMachineNode</a>(</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;        RISCV::SRAI, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(SLLI, 0),</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;        <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(LShAmt + ShAmt, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT));</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;    <a class="code" href="classllvm_1_1SelectionDAGISel.html#acd1bcf7bcbb18b94234b2bf5a505e925">ReplaceNode</a>(Node, SRAI);</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;  }</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7415ab9f2172c59a2ee7c7a02afa56a4">ISD::OR</a>:</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a92febb83e6ba116eb7aae8e7e3f70cc1">ISD::XOR</a>:</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1RISCVDAGToDAGISel.html#a92a75fbae3b487187668a2099271d1a0">tryShrinkShlLogicImm</a>(Node))</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160; </div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a>: {</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;    <span class="keyword">auto</span> *N1C = dyn_cast&lt;ConstantSDNode&gt;(Node-&gt;getOperand(1));</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;    <span class="keywordflow">if</span> (!N1C)</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160; </div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> N0 = Node-&gt;getOperand(0);</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160; </div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;    <span class="keywordtype">bool</span> LeftShift = N0.<a class="code" href="classllvm_1_1SDValue.html#ae779a9d142e6318d8fb0e4f0da32af0f">getOpcode</a>() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a8cc94e03dea594863073a02f5bb94997">ISD::SHL</a>;</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;    <span class="keywordflow">if</span> (LeftShift || N0.<a class="code" href="classllvm_1_1SDValue.html#ae779a9d142e6318d8fb0e4f0da32af0f">getOpcode</a>() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a3c6553c8acebe1b57c211ee45e2d8f98">ISD::SRL</a>) {</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;      <span class="keyword">auto</span> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = dyn_cast&lt;ConstantSDNode&gt;(N0.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(1));</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>)</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;      <span class="keywordtype">unsigned</span> C2 = <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;getZExtValue();</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;      <span class="keywordtype">unsigned</span> XLen = Subtarget-&gt;<a class="code" href="classllvm_1_1RISCVSubtarget.html#a6bc41e12851a645259c839ba8974bbe7">getXLen</a>();</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((C2 &gt; 0 &amp;&amp; C2 &lt; XLen) &amp;&amp; <span class="stringliteral">&quot;Unexpected shift amount!&quot;</span>);</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160; </div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;      <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> <a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a> = N1C-&gt;getZExtValue();</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160; </div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;      <span class="comment">// Keep track of whether this is a c.andi. If we can&#39;t use c.andi, the</span></div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;      <span class="comment">// shift pair might offer more compression opportunities.</span></div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;      <span class="comment">// TODO: We could check for C extension here, but we don&#39;t have many lit</span></div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;      <span class="comment">// tests with the C extension enabled so not checking gets better</span></div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;      <span class="comment">// coverage.</span></div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;      <span class="comment">// TODO: What if ANDI faster than shift?</span></div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;      <span class="keywordtype">bool</span> IsCANDI = isInt&lt;6&gt;(N1C-&gt;getSExtValue());</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160; </div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;      <span class="comment">// Clear irrelevant bits in the mask.</span></div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;      <span class="keywordflow">if</span> (LeftShift)</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;        <a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a> &amp;= maskTrailingZeros&lt;uint64_t&gt;(C2);</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;        <a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a> &amp;= maskTrailingOnes&lt;uint64_t&gt;(XLen - C2);</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160; </div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;      <span class="comment">// Some transforms should only be done if the shift has a single use or</span></div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;      <span class="comment">// the AND would become (srli (slli X, 32), 32)</span></div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;      <span class="keywordtype">bool</span> OneUseOrZExtW = N0.<a class="code" href="classllvm_1_1SDValue.html#a342c0d4e8e59b30daefe9a05bc2098bd">hasOneUse</a>() || <a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a> == UINT64_C(0xFFFFFFFF);</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160; </div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a> = N0.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(0);</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160; </div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;      <span class="comment">// Turn (and (srl x, c2) c1) -&gt; (srli (slli x, c3-c2), c3) if c1 is a mask</span></div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;      <span class="comment">// with c3 leading zeros.</span></div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;      <span class="keywordflow">if</span> (!LeftShift &amp;&amp; <a class="code" href="namespacellvm.html#a82a9558b6319303ae62f59dab9669685">isMask_64</a>(<a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>)) {</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;        <span class="keywordtype">unsigned</span> Leading = XLen - <a class="code" href="namespacellvm.html#a37c1fdede126353d80c3753dfe06f3c7">llvm::bit_width</a>(<a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>);</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;        <span class="keywordflow">if</span> (C2 &lt; Leading) {</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;          <span class="comment">// If the number of leading zeros is C2+32 this can be SRLIW.</span></div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;          <span class="keywordflow">if</span> (C2 + 32 == Leading) {</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;            <a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *SRLIW = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1c04c72abd24de2572a03ef686a36dd6">getMachineNode</a>(</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;                RISCV::SRLIW, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(C2, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT));</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;            <a class="code" href="classllvm_1_1SelectionDAGISel.html#acd1bcf7bcbb18b94234b2bf5a505e925">ReplaceNode</a>(Node, SRLIW);</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;          }</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160; </div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;          <span class="comment">// (and (srl (sexti32 Y), c2), c1) -&gt; (srliw (sraiw Y, 31), c3 - 32)</span></div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;          <span class="comment">// if c1 is a mask with c3 leading zeros and c2 &gt;= 32 and c3-c2==1.</span></div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;          <span class="comment">//</span></div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;          <span class="comment">// This pattern occurs when (i32 (srl (sra 31), c3 - 32)) is type</span></div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;          <span class="comment">// legalized and goes through DAG combine.</span></div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;          <span class="keywordflow">if</span> (C2 &gt;= 32 &amp;&amp; (Leading - C2) == 1 &amp;&amp; N0.<a class="code" href="classllvm_1_1SDValue.html#a342c0d4e8e59b30daefe9a05bc2098bd">hasOneUse</a>() &amp;&amp;</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;              <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>.getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aaa59dd5ec37f21905436b354c0292d9e">ISD::SIGN_EXTEND_INREG</a> &amp;&amp;</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;              cast&lt;VTSDNode&gt;(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>.getOperand(1))-&gt;getVT() == <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>) {</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;            <a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *SRAIW =</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;                <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1c04c72abd24de2572a03ef686a36dd6">getMachineNode</a>(RISCV::SRAIW, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>.getOperand(0),</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;                                       <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(31, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT));</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;            <a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *SRLIW = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1c04c72abd24de2572a03ef686a36dd6">getMachineNode</a>(</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;                RISCV::SRLIW, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(SRAIW, 0),</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;                <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(Leading - 32, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT));</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;            <a class="code" href="classllvm_1_1SelectionDAGISel.html#acd1bcf7bcbb18b94234b2bf5a505e925">ReplaceNode</a>(Node, SRLIW);</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;          }</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160; </div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;          <span class="comment">// (srli (slli x, c3-c2), c3).</span></div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;          <span class="comment">// Skip if we could use (zext.w (sraiw X, C2)).</span></div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;          <span class="keywordtype">bool</span> Skip = Subtarget-&gt;hasStdExtZba() &amp;&amp; Leading == 32 &amp;&amp;</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;                      <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>.getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aaa59dd5ec37f21905436b354c0292d9e">ISD::SIGN_EXTEND_INREG</a> &amp;&amp;</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;                      cast&lt;VTSDNode&gt;(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>.getOperand(1))-&gt;getVT() == <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>;</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;          <span class="comment">// Also Skip if we can use bexti or th.tst.</span></div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;          Skip |= HasBitTest &amp;&amp; Leading == XLen - 1;</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;          <span class="keywordflow">if</span> (OneUseOrZExtW &amp;&amp; !Skip) {</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;            <a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *SLLI = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1c04c72abd24de2572a03ef686a36dd6">getMachineNode</a>(</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;                RISCV::SLLI, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>,</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;                <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(Leading - C2, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT));</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;            <a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *SRLI = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1c04c72abd24de2572a03ef686a36dd6">getMachineNode</a>(</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;                RISCV::SRLI, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(SLLI, 0),</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;                <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(Leading, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT));</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;            <a class="code" href="classllvm_1_1SelectionDAGISel.html#acd1bcf7bcbb18b94234b2bf5a505e925">ReplaceNode</a>(Node, SRLI);</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;          }</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;        }</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;      }</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160; </div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;      <span class="comment">// Turn (and (shl x, c2), c1) -&gt; (srli (slli c2+c3), c3) if c1 is a mask</span></div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;      <span class="comment">// shifted by c2 bits with c3 leading zeros.</span></div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;      <span class="keywordflow">if</span> (LeftShift &amp;&amp; <a class="code" href="namespacellvm.html#a582e08755c7a8d1b0bf6c5dcb765aaa8">isShiftedMask_64</a>(<a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>)) {</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;        <span class="keywordtype">unsigned</span> Leading = XLen - <a class="code" href="namespacellvm.html#a37c1fdede126353d80c3753dfe06f3c7">llvm::bit_width</a>(<a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>);</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160; </div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;        <span class="keywordflow">if</span> (C2 + Leading &lt; XLen &amp;&amp;</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;            <a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a> == (maskTrailingOnes&lt;uint64_t&gt;(XLen - (C2 + Leading)) &lt;&lt; C2)) {</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;          <span class="comment">// Use slli.uw when possible.</span></div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;          <span class="keywordflow">if</span> ((XLen - (C2 + Leading)) == 32 &amp;&amp; Subtarget-&gt;hasStdExtZba()) {</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;            <a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *SLLI_UW =</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;                <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1c04c72abd24de2572a03ef686a36dd6">getMachineNode</a>(RISCV::SLLI_UW, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>,</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;                                       <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(C2, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT));</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;            <a class="code" href="classllvm_1_1SelectionDAGISel.html#acd1bcf7bcbb18b94234b2bf5a505e925">ReplaceNode</a>(Node, SLLI_UW);</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;          }</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160; </div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;          <span class="comment">// (srli (slli c2+c3), c3)</span></div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;          <span class="keywordflow">if</span> (OneUseOrZExtW &amp;&amp; !IsCANDI) {</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;            <a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *SLLI = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1c04c72abd24de2572a03ef686a36dd6">getMachineNode</a>(</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;                RISCV::SLLI, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>,</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;                <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(C2 + Leading, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT));</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;            <a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *SRLI = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1c04c72abd24de2572a03ef686a36dd6">getMachineNode</a>(</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;                RISCV::SRLI, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(SLLI, 0),</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;                <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(Leading, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT));</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;            <a class="code" href="classllvm_1_1SelectionDAGISel.html#acd1bcf7bcbb18b94234b2bf5a505e925">ReplaceNode</a>(Node, SRLI);</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;          }</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;        }</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;      }</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160; </div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;      <span class="comment">// Turn (and (shr x, c2), c1) -&gt; (slli (srli x, c2+c3), c3) if c1 is a</span></div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;      <span class="comment">// shifted mask with c2 leading zeros and c3 trailing zeros.</span></div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;      <span class="keywordflow">if</span> (!LeftShift &amp;&amp; <a class="code" href="namespacellvm.html#a582e08755c7a8d1b0bf6c5dcb765aaa8">isShiftedMask_64</a>(<a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>)) {</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;        <span class="keywordtype">unsigned</span> Leading = XLen - <a class="code" href="namespacellvm.html#a37c1fdede126353d80c3753dfe06f3c7">llvm::bit_width</a>(<a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>);</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;        <span class="keywordtype">unsigned</span> Trailing = <a class="code" href="namespacellvm.html#a57d2f9ee99e9e68cff564d0d579c8163">llvm::countr_zero</a>(<a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>);</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;        <span class="keywordflow">if</span> (Leading == C2 &amp;&amp; C2 + Trailing &lt; XLen &amp;&amp; OneUseOrZExtW &amp;&amp;</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;            !IsCANDI) {</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;          <span class="keywordtype">unsigned</span> SrliOpc = RISCV::SRLI;</div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;          <span class="comment">// If the input is zexti32 we should use SRLIW.</span></div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>.getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a> &amp;&amp;</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;              isa&lt;ConstantSDNode&gt;(<a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>.getOperand(1)) &amp;&amp;</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;              <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>.getConstantOperandVal(1) == UINT64_C(0xFFFFFFFF)) {</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;            SrliOpc = RISCV::SRLIW;</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;            <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a> = <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>.getOperand(0);</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;          }</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;          <a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *SRLI = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1c04c72abd24de2572a03ef686a36dd6">getMachineNode</a>(</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;              SrliOpc, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>,</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;              <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(C2 + Trailing, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT));</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;          <a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *SLLI = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1c04c72abd24de2572a03ef686a36dd6">getMachineNode</a>(</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;              RISCV::SLLI, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(SRLI, 0),</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;              <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(Trailing, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT));</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;          <a class="code" href="classllvm_1_1SelectionDAGISel.html#acd1bcf7bcbb18b94234b2bf5a505e925">ReplaceNode</a>(Node, SLLI);</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;          <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;        }</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;        <span class="comment">// If the leading zero count is C2+32, we can use SRLIW instead of SRLI.</span></div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;        <span class="keywordflow">if</span> (Leading &gt; 32 &amp;&amp; (Leading - 32) == C2 &amp;&amp; C2 + Trailing &lt; 32 &amp;&amp;</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;            OneUseOrZExtW &amp;&amp; !IsCANDI) {</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;          <a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *SRLIW = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1c04c72abd24de2572a03ef686a36dd6">getMachineNode</a>(</div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;              RISCV::SRLIW, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>,</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;              <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(C2 + Trailing, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT));</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;          <a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *SLLI = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1c04c72abd24de2572a03ef686a36dd6">getMachineNode</a>(</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;              RISCV::SLLI, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(SRLIW, 0),</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;              <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(Trailing, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT));</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;          <a class="code" href="classllvm_1_1SelectionDAGISel.html#acd1bcf7bcbb18b94234b2bf5a505e925">ReplaceNode</a>(Node, SLLI);</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;          <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;        }</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;      }</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160; </div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;      <span class="comment">// Turn (and (shl x, c2), c1) -&gt; (slli (srli x, c3-c2), c3) if c1 is a</span></div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;      <span class="comment">// shifted mask with no leading zeros and c3 trailing zeros.</span></div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;      <span class="keywordflow">if</span> (LeftShift &amp;&amp; <a class="code" href="namespacellvm.html#a582e08755c7a8d1b0bf6c5dcb765aaa8">isShiftedMask_64</a>(<a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>)) {</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;        <span class="keywordtype">unsigned</span> Leading = XLen - <a class="code" href="namespacellvm.html#a37c1fdede126353d80c3753dfe06f3c7">llvm::bit_width</a>(<a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>);</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;        <span class="keywordtype">unsigned</span> Trailing = <a class="code" href="namespacellvm.html#a57d2f9ee99e9e68cff564d0d579c8163">llvm::countr_zero</a>(<a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>);</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;        <span class="keywordflow">if</span> (Leading == 0 &amp;&amp; C2 &lt; Trailing &amp;&amp; OneUseOrZExtW &amp;&amp; !IsCANDI) {</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;          <a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *SRLI = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1c04c72abd24de2572a03ef686a36dd6">getMachineNode</a>(</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;              RISCV::SRLI, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>,</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;              <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(Trailing - C2, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT));</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;          <a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *SLLI = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1c04c72abd24de2572a03ef686a36dd6">getMachineNode</a>(</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;              RISCV::SLLI, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(SRLI, 0),</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;              <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(Trailing, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT));</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;          <a class="code" href="classllvm_1_1SelectionDAGISel.html#acd1bcf7bcbb18b94234b2bf5a505e925">ReplaceNode</a>(Node, SLLI);</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;          <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;        }</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;        <span class="comment">// If we have (32-C2) leading zeros, we can use SRLIW instead of SRLI.</span></div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;        <span class="keywordflow">if</span> (C2 &lt; Trailing &amp;&amp; Leading + C2 == 32 &amp;&amp; OneUseOrZExtW &amp;&amp; !IsCANDI) {</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;          <a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *SRLIW = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1c04c72abd24de2572a03ef686a36dd6">getMachineNode</a>(</div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;              RISCV::SRLIW, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, <a class="code" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>,</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;              <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(Trailing - C2, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT));</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;          <a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *SLLI = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1c04c72abd24de2572a03ef686a36dd6">getMachineNode</a>(</div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;              RISCV::SLLI, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(SRLIW, 0),</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;              <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(Trailing, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT));</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;          <a class="code" href="classllvm_1_1SelectionDAGISel.html#acd1bcf7bcbb18b94234b2bf5a505e925">ReplaceNode</a>(Node, SLLI);</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;          <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;        }</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;      }</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;    }</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160; </div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1RISCVDAGToDAGISel.html#a92a75fbae3b487187668a2099271d1a0">tryShrinkShlLogicImm</a>(Node))</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160; </div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;  }</div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">ISD::MUL</a>: {</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;    <span class="comment">// Special case for calculating (mul (and X, C2), C1) where the full product</span></div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;    <span class="comment">// fits in XLen bits. We can shift X left by the number of leading zeros in</span></div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;    <span class="comment">// C2 and shift C1 left by XLen-lzcnt(C2). This will ensure the final</span></div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;    <span class="comment">// product has XLen trailing zeros, putting it in the output of MULHU. This</span></div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;    <span class="comment">// can avoid materializing a constant in a register for C2.</span></div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160; </div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;    <span class="comment">// RHS should be a constant.</span></div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;    <span class="keyword">auto</span> *N1C = dyn_cast&lt;ConstantSDNode&gt;(Node-&gt;getOperand(1));</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;    <span class="keywordflow">if</span> (!N1C || !N1C-&gt;hasOneUse())</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160; </div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;    <span class="comment">// LHS should be an AND with constant.</span></div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> N0 = Node-&gt;getOperand(0);</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;    <span class="keywordflow">if</span> (N0.<a class="code" href="classllvm_1_1SDValue.html#ae779a9d142e6318d8fb0e4f0da32af0f">getOpcode</a>() != <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a> || !isa&lt;ConstantSDNode&gt;(N0.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(1)))</div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160; </div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;    <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> C2 = cast&lt;ConstantSDNode&gt;(N0.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(1))-&gt;<a class="code" href="classllvm_1_1APInt.html#a217e0207d9cc8e046c2dccbf0e4bb198">getZExtValue</a>();</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160; </div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;    <span class="comment">// Constant should be a mask.</span></div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm.html#a82a9558b6319303ae62f59dab9669685">isMask_64</a>(C2))</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160; </div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;    <span class="comment">// If this can be an ANDI or ZEXT.H, don&#39;t do this if the ANDI/ZEXT has</span></div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;    <span class="comment">// multiple users or the constant is a simm12. This prevents inserting a</span></div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;    <span class="comment">// shift and still have uses of the AND/ZEXT. Shifting a simm12 will likely</span></div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;    <span class="comment">// make it more costly to materialize. Otherwise, using a SLLI might allow</span></div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;    <span class="comment">// it to be compressed.</span></div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;    <span class="keywordtype">bool</span> IsANDIOrZExt =</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;        isInt&lt;12&gt;(C2) ||</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;        (C2 == UINT64_C(0xFFFF) &amp;&amp; Subtarget-&gt;hasStdExtZbb());</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;    <span class="comment">// With XTHeadBb, we can use TH.EXTU.</span></div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;    IsANDIOrZExt |= C2 == UINT64_C(0xFFFF) &amp;&amp; Subtarget-&gt;hasVendorXTHeadBb();</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;    <span class="keywordflow">if</span> (IsANDIOrZExt &amp;&amp; (isInt&lt;12&gt;(N1C-&gt;getSExtValue()) || !N0.<a class="code" href="classllvm_1_1SDValue.html#a342c0d4e8e59b30daefe9a05bc2098bd">hasOneUse</a>()))</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;    <span class="comment">// If this can be a ZEXT.w, don&#39;t do this if the ZEXT has multiple users or</span></div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;    <span class="comment">// the constant is a simm32.</span></div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;    <span class="keywordtype">bool</span> IsZExtW = C2 == UINT64_C(0xFFFFFFFF) &amp;&amp; Subtarget-&gt;hasStdExtZba();</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;    <span class="comment">// With XTHeadBb, we can use TH.EXTU.</span></div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;    IsZExtW |= C2 == UINT64_C(0xFFFFFFFF) &amp;&amp; Subtarget-&gt;hasVendorXTHeadBb();</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;    <span class="keywordflow">if</span> (IsZExtW &amp;&amp; (isInt&lt;32&gt;(N1C-&gt;getSExtValue()) || !N0.<a class="code" href="classllvm_1_1SDValue.html#a342c0d4e8e59b30daefe9a05bc2098bd">hasOneUse</a>()))</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160; </div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;    <span class="comment">// We need to shift left the AND input and C1 by a total of XLen bits.</span></div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160; </div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;    <span class="comment">// How far left do we need to shift the AND input?</span></div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;    <span class="keywordtype">unsigned</span> XLen = Subtarget-&gt;<a class="code" href="classllvm_1_1RISCVSubtarget.html#a6bc41e12851a645259c839ba8974bbe7">getXLen</a>();</div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;    <span class="keywordtype">unsigned</span> LeadingZeros = XLen - <a class="code" href="namespacellvm.html#a37c1fdede126353d80c3753dfe06f3c7">llvm::bit_width</a>(C2);</div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160; </div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;    <span class="comment">// The constant gets shifted by the remaining amount unless that would</span></div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;    <span class="comment">// shift bits out.</span></div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;    <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> <a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a> = N1C-&gt;getZExtValue();</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;    <span class="keywordtype">unsigned</span> ConstantShift = XLen - LeadingZeros;</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;    <span class="keywordflow">if</span> (ConstantShift &gt; (XLen - <a class="code" href="namespacellvm.html#a37c1fdede126353d80c3753dfe06f3c7">llvm::bit_width</a>(<a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>)))</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160; </div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;    <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> ShiftedC1 = <a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a> &lt;&lt; ConstantShift;</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;    <span class="comment">// If this RV32, we need to sign extend the constant.</span></div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;    <span class="keywordflow">if</span> (XLen == 32)</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;      ShiftedC1 = SignExtend64&lt;32&gt;(ShiftedC1);</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160; </div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;    <span class="comment">// Create (mulhu (slli X, lzcnt(C2)), C1 &lt;&lt; (XLen - lzcnt(C2))).</span></div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;    <a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> = <a class="code" href="RISCVISelDAGToDAG_8cpp.html#a2b20fa727cb3be2d7338de943bc81490">selectImm</a>(<a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, ShiftedC1, *Subtarget).<a class="code" href="classllvm_1_1SDValue.html#a10d54e1c6c9563724ce01d3a999757b2">getNode</a>();</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;    <a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *SLLI =</div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;        <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1c04c72abd24de2572a03ef686a36dd6">getMachineNode</a>(RISCV::SLLI, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, N0.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(0),</div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;                               <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(LeadingZeros, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT));</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;    <a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a8a80d3b085af08f0dce1724207ef99b5">MULHU</a> = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1c04c72abd24de2572a03ef686a36dd6">getMachineNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a8a80d3b085af08f0dce1724207ef99b5">RISCV::MULHU</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT,</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;                                           <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(SLLI, 0), <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>, 0));</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;    <a class="code" href="classllvm_1_1SelectionDAGISel.html#acd1bcf7bcbb18b94234b2bf5a505e925">ReplaceNode</a>(Node, <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a8a80d3b085af08f0dce1724207ef99b5">MULHU</a>);</div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;  }</div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac771b9cda3b889242d457cc4d9b2159c">ISD::INTRINSIC_WO_CHAIN</a>: {</div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;    <span class="keywordtype">unsigned</span> IntNo = Node-&gt;getConstantOperandVal(0);</div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;    <span class="keywordflow">switch</span> (IntNo) {</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;      <span class="comment">// By default we do not custom select any intrinsic.</span></div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vmsgeu:</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vmsge: {</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Src1 = Node-&gt;getOperand(1);</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Src2 = Node-&gt;getOperand(2);</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;      <span class="keywordtype">bool</span> IsUnsigned = IntNo == Intrinsic::riscv_vmsgeu;</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;      <span class="keywordtype">bool</span> IsCmpUnsignedZero = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;      <span class="comment">// Only custom select scalar second operand.</span></div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;      <span class="keywordflow">if</span> (Src2.<a class="code" href="classllvm_1_1SDValue.html#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>() != XLenVT)</div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;      <span class="comment">// Small constants are handled with patterns.</span></div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">auto</span> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = dyn_cast&lt;ConstantSDNode&gt;(Src2)) {</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;        int64_t CVal = <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;getSExtValue();</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;        <span class="keywordflow">if</span> (CVal &gt;= -15 &amp;&amp; CVal &lt;= 16) {</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;          <span class="keywordflow">if</span> (!IsUnsigned || CVal != 0)</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;          IsCmpUnsignedZero = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;        }</div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;      }</div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;      <a class="code" href="classllvm_1_1MVT.html">MVT</a> Src1VT = Src1.<a class="code" href="classllvm_1_1SDValue.html#acbcc973a299b6f8733774668210b5227">getSimpleValueType</a>();</div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;      <span class="keywordtype">unsigned</span> VMSLTOpcode, VMNANDOpcode, VMSetOpcode;</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;      <span class="keywordflow">switch</span> (<a class="code" href="classllvm_1_1RISCVTargetLowering.html#ac27709ca33b27034fb25d6fb83cb5fb1">RISCVTargetLowering::getLMUL</a>(Src1VT)) {</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;      <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;        <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unexpected LMUL!&quot;</span>);</div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;<span class="preprocessor">#define CASE_VMSLT_VMNAND_VMSET_OPCODES(lmulenum, suffix, suffix_b)            \</span></div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;<span class="preprocessor">  case RISCVII::VLMUL::lmulenum:                                               \</span></div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;<span class="preprocessor">    VMSLTOpcode = IsUnsigned ? RISCV::PseudoVMSLTU_VX_##suffix                 \</span></div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;<span class="preprocessor">                             : RISCV::PseudoVMSLT_VX_##suffix;                 \</span></div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;<span class="preprocessor">    VMNANDOpcode = RISCV::PseudoVMNAND_MM_##suffix;                            \</span></div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;<span class="preprocessor">    VMSetOpcode = RISCV::PseudoVMSET_M_##suffix_b;                             \</span></div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;<span class="preprocessor">    break;</span></div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;        <a class="code" href="RISCVISelDAGToDAG_8cpp.html#ae09533837e3c28fa2a357a1592e6cd74">CASE_VMSLT_VMNAND_VMSET_OPCODES</a>(<a class="code" href="namespacellvm_1_1RISCVII.html#ab335a6694bd42d4d2f807ec281af1e1ca61d90764106d2ac6346f4bc1ae1bd3fd">LMUL_F8</a>, MF8, B1)</div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;        <a class="code" href="RISCVISelDAGToDAG_8cpp.html#ae09533837e3c28fa2a357a1592e6cd74">CASE_VMSLT_VMNAND_VMSET_OPCODES</a>(<a class="code" href="namespacellvm_1_1RISCVII.html#ab335a6694bd42d4d2f807ec281af1e1caea5ed9248acd465f986c64e15db529e5">LMUL_F4</a>, MF4, B2)</div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;        <a class="code" href="RISCVISelDAGToDAG_8cpp.html#ae09533837e3c28fa2a357a1592e6cd74">CASE_VMSLT_VMNAND_VMSET_OPCODES</a>(<a class="code" href="namespacellvm_1_1RISCVII.html#ab335a6694bd42d4d2f807ec281af1e1caf5395daef0a34ae8d78919a587eee448">LMUL_F2</a>, MF2, B4)</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;        <a class="code" href="RISCVISelDAGToDAG_8cpp.html#ae09533837e3c28fa2a357a1592e6cd74">CASE_VMSLT_VMNAND_VMSET_OPCODES</a>(<a class="code" href="namespacellvm_1_1RISCVII.html#ab335a6694bd42d4d2f807ec281af1e1ca1fc4732c22ad534f1cec77512aa4c451">LMUL_1</a>, <a class="code" href="namespacellvm.html#a58328e0582aabaf012bf9bc6f36c9e04">M1</a>, B8)</div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;        <a class="code" href="RISCVISelDAGToDAG_8cpp.html#ae09533837e3c28fa2a357a1592e6cd74">CASE_VMSLT_VMNAND_VMSET_OPCODES</a>(<a class="code" href="namespacellvm_1_1RISCVII.html#ab335a6694bd42d4d2f807ec281af1e1cafc3cf026a9a458e993d77f9d723cffe7">LMUL_2</a>, M2, B16)</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;        <a class="code" href="RISCVISelDAGToDAG_8cpp.html#ae09533837e3c28fa2a357a1592e6cd74">CASE_VMSLT_VMNAND_VMSET_OPCODES</a>(<a class="code" href="namespacellvm_1_1RISCVII.html#ab335a6694bd42d4d2f807ec281af1e1ca81b84a0b11f1c29695dbf7765f8ceaa7">LMUL_4</a>, M4, B32)</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;        <a class="code" href="RISCVISelDAGToDAG_8cpp.html#ae09533837e3c28fa2a357a1592e6cd74">CASE_VMSLT_VMNAND_VMSET_OPCODES</a>(<a class="code" href="namespacellvm_1_1RISCVII.html#ab335a6694bd42d4d2f807ec281af1e1cae7fe853f54d8e8aaf63568ed61da11e0">LMUL_8</a>, M8, B64)</div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;<span class="preprocessor">#undef CASE_VMSLT_VMNAND_VMSET_OPCODES</span></div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;      }</div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="RISCVInsertVSETVLI_8cpp.html#ac4786fefd4d527c4c601f237a6d67919">SEW</a> = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(</div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;          <a class="code" href="namespacellvm.html#a646986783f35e0fef8988f0f28d2589f">Log2_32</a>(Src1VT.<a class="code" href="classllvm_1_1MVT.html#a2e101ce5736aa0643639fd3adae18088">getScalarSizeInBits</a>()), <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, XLenVT);</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> VL;</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;      <a class="code" href="classllvm_1_1RISCVDAGToDAGISel.html#a9dd913520cec32052ff63c8735efad5c">selectVLOp</a>(Node-&gt;getOperand(3), VL);</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160; </div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;      <span class="comment">// If vmsgeu with 0 immediate, expand it to vmset.</span></div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;      <span class="keywordflow">if</span> (IsCmpUnsignedZero) {</div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;        <a class="code" href="classllvm_1_1SelectionDAGISel.html#acd1bcf7bcbb18b94234b2bf5a505e925">ReplaceNode</a>(Node, <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1c04c72abd24de2572a03ef686a36dd6">getMachineNode</a>(VMSetOpcode, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, VL, <a class="code" href="RISCVInsertVSETVLI_8cpp.html#ac4786fefd4d527c4c601f237a6d67919">SEW</a>));</div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;      }</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160; </div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;      <span class="comment">// Expand to</span></div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;      <span class="comment">// vmslt{u}.vx vd, va, x; vmnand.mm vd, vd, vd</span></div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Cmp = <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(</div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;          <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1c04c72abd24de2572a03ef686a36dd6">getMachineNode</a>(VMSLTOpcode, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, {Src1, Src2, VL, SEW}),</div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;          0);</div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;      <a class="code" href="classllvm_1_1SelectionDAGISel.html#acd1bcf7bcbb18b94234b2bf5a505e925">ReplaceNode</a>(Node, <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1c04c72abd24de2572a03ef686a36dd6">getMachineNode</a>(VMNANDOpcode, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT,</div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;                                               {Cmp, Cmp, VL, SEW}));</div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;    }</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vmsgeu_mask:</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vmsge_mask: {</div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Src1 = Node-&gt;getOperand(2);</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Src2 = Node-&gt;getOperand(3);</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;      <span class="keywordtype">bool</span> IsUnsigned = IntNo == Intrinsic::riscv_vmsgeu_mask;</div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;      <span class="keywordtype">bool</span> IsCmpUnsignedZero = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;      <span class="comment">// Only custom select scalar second operand.</span></div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;      <span class="keywordflow">if</span> (Src2.<a class="code" href="classllvm_1_1SDValue.html#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>() != XLenVT)</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;      <span class="comment">// Small constants are handled with patterns.</span></div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">auto</span> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = dyn_cast&lt;ConstantSDNode&gt;(Src2)) {</div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;        int64_t CVal = <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;getSExtValue();</div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;        <span class="keywordflow">if</span> (CVal &gt;= -15 &amp;&amp; CVal &lt;= 16) {</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;          <span class="keywordflow">if</span> (!IsUnsigned || CVal != 0)</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;          IsCmpUnsignedZero = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;        }</div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;      }</div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;      <a class="code" href="classllvm_1_1MVT.html">MVT</a> Src1VT = Src1.<a class="code" href="classllvm_1_1SDValue.html#acbcc973a299b6f8733774668210b5227">getSimpleValueType</a>();</div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;      <span class="keywordtype">unsigned</span> VMSLTOpcode, VMSLTMaskOpcode, VMXOROpcode, VMANDNOpcode,</div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;          VMOROpcode;</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;      <span class="keywordflow">switch</span> (<a class="code" href="classllvm_1_1RISCVTargetLowering.html#ac27709ca33b27034fb25d6fb83cb5fb1">RISCVTargetLowering::getLMUL</a>(Src1VT)) {</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;      <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;        <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unexpected LMUL!&quot;</span>);</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;<span class="preprocessor">#define CASE_VMSLT_OPCODES(lmulenum, suffix, suffix_b)                         \</span></div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;<span class="preprocessor">  case RISCVII::VLMUL::lmulenum:                                               \</span></div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;<span class="preprocessor">    VMSLTOpcode = IsUnsigned ? RISCV::PseudoVMSLTU_VX_##suffix                 \</span></div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;<span class="preprocessor">                             : RISCV::PseudoVMSLT_VX_##suffix;                 \</span></div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;<span class="preprocessor">    VMSLTMaskOpcode = IsUnsigned ? RISCV::PseudoVMSLTU_VX_##suffix##_MASK      \</span></div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;<span class="preprocessor">                                 : RISCV::PseudoVMSLT_VX_##suffix##_MASK;      \</span></div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;<span class="preprocessor">    break;</span></div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;        <a class="code" href="RISCVISelDAGToDAG_8cpp.html#a41204b798c4382287343e20fee9d97a6">CASE_VMSLT_OPCODES</a>(<a class="code" href="namespacellvm_1_1RISCVII.html#ab335a6694bd42d4d2f807ec281af1e1ca61d90764106d2ac6346f4bc1ae1bd3fd">LMUL_F8</a>, MF8, B1)</div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;        <a class="code" href="RISCVISelDAGToDAG_8cpp.html#a41204b798c4382287343e20fee9d97a6">CASE_VMSLT_OPCODES</a>(<a class="code" href="namespacellvm_1_1RISCVII.html#ab335a6694bd42d4d2f807ec281af1e1caea5ed9248acd465f986c64e15db529e5">LMUL_F4</a>, MF4, B2)</div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;        <a class="code" href="RISCVISelDAGToDAG_8cpp.html#a41204b798c4382287343e20fee9d97a6">CASE_VMSLT_OPCODES</a>(<a class="code" href="namespacellvm_1_1RISCVII.html#ab335a6694bd42d4d2f807ec281af1e1caf5395daef0a34ae8d78919a587eee448">LMUL_F2</a>, MF2, B4)</div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;        <a class="code" href="RISCVISelDAGToDAG_8cpp.html#a41204b798c4382287343e20fee9d97a6">CASE_VMSLT_OPCODES</a>(<a class="code" href="namespacellvm_1_1RISCVII.html#ab335a6694bd42d4d2f807ec281af1e1ca1fc4732c22ad534f1cec77512aa4c451">LMUL_1</a>, <a class="code" href="namespacellvm.html#a58328e0582aabaf012bf9bc6f36c9e04">M1</a>, B8)</div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;        <a class="code" href="RISCVISelDAGToDAG_8cpp.html#a41204b798c4382287343e20fee9d97a6">CASE_VMSLT_OPCODES</a>(<a class="code" href="namespacellvm_1_1RISCVII.html#ab335a6694bd42d4d2f807ec281af1e1cafc3cf026a9a458e993d77f9d723cffe7">LMUL_2</a>, M2, B16)</div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;        <a class="code" href="RISCVISelDAGToDAG_8cpp.html#a41204b798c4382287343e20fee9d97a6">CASE_VMSLT_OPCODES</a>(<a class="code" href="namespacellvm_1_1RISCVII.html#ab335a6694bd42d4d2f807ec281af1e1ca81b84a0b11f1c29695dbf7765f8ceaa7">LMUL_4</a>, M4, B32)</div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;        <a class="code" href="RISCVISelDAGToDAG_8cpp.html#a41204b798c4382287343e20fee9d97a6">CASE_VMSLT_OPCODES</a>(<a class="code" href="namespacellvm_1_1RISCVII.html#ab335a6694bd42d4d2f807ec281af1e1cae7fe853f54d8e8aaf63568ed61da11e0">LMUL_8</a>, M8, B64)</div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;<span class="preprocessor">#undef CASE_VMSLT_OPCODES</span></div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;      }</div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;      <span class="comment">// Mask operations use the LMUL from the mask type.</span></div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;      <span class="keywordflow">switch</span> (<a class="code" href="classllvm_1_1RISCVTargetLowering.html#ac27709ca33b27034fb25d6fb83cb5fb1">RISCVTargetLowering::getLMUL</a>(VT)) {</div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;      <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;        <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unexpected LMUL!&quot;</span>);</div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;<span class="preprocessor">#define CASE_VMXOR_VMANDN_VMOR_OPCODES(lmulenum, suffix)                       \</span></div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;<span class="preprocessor">  case RISCVII::VLMUL::lmulenum:                                               \</span></div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;<span class="preprocessor">    VMXOROpcode = RISCV::PseudoVMXOR_MM_##suffix;                              \</span></div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;<span class="preprocessor">    VMANDNOpcode = RISCV::PseudoVMANDN_MM_##suffix;                            \</span></div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;<span class="preprocessor">    VMOROpcode = RISCV::PseudoVMOR_MM_##suffix;                                \</span></div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;<span class="preprocessor">    break;</span></div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;        <a class="code" href="RISCVISelDAGToDAG_8cpp.html#a8ba64312e06ecc1161e8da80e17fc4f5">CASE_VMXOR_VMANDN_VMOR_OPCODES</a>(<a class="code" href="namespacellvm_1_1RISCVII.html#ab335a6694bd42d4d2f807ec281af1e1ca61d90764106d2ac6346f4bc1ae1bd3fd">LMUL_F8</a>, MF8)</div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;        <a class="code" href="RISCVISelDAGToDAG_8cpp.html#a8ba64312e06ecc1161e8da80e17fc4f5">CASE_VMXOR_VMANDN_VMOR_OPCODES</a>(<a class="code" href="namespacellvm_1_1RISCVII.html#ab335a6694bd42d4d2f807ec281af1e1caea5ed9248acd465f986c64e15db529e5">LMUL_F4</a>, MF4)</div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;        <a class="code" href="RISCVISelDAGToDAG_8cpp.html#a8ba64312e06ecc1161e8da80e17fc4f5">CASE_VMXOR_VMANDN_VMOR_OPCODES</a>(<a class="code" href="namespacellvm_1_1RISCVII.html#ab335a6694bd42d4d2f807ec281af1e1caf5395daef0a34ae8d78919a587eee448">LMUL_F2</a>, MF2)</div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;        <a class="code" href="RISCVISelDAGToDAG_8cpp.html#a8ba64312e06ecc1161e8da80e17fc4f5">CASE_VMXOR_VMANDN_VMOR_OPCODES</a>(<a class="code" href="namespacellvm_1_1RISCVII.html#ab335a6694bd42d4d2f807ec281af1e1ca1fc4732c22ad534f1cec77512aa4c451">LMUL_1</a>, <a class="code" href="namespacellvm.html#a58328e0582aabaf012bf9bc6f36c9e04">M1</a>)</div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;        <a class="code" href="RISCVISelDAGToDAG_8cpp.html#a8ba64312e06ecc1161e8da80e17fc4f5">CASE_VMXOR_VMANDN_VMOR_OPCODES</a>(<a class="code" href="namespacellvm_1_1RISCVII.html#ab335a6694bd42d4d2f807ec281af1e1cafc3cf026a9a458e993d77f9d723cffe7">LMUL_2</a>, M2)</div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;        <a class="code" href="RISCVISelDAGToDAG_8cpp.html#a8ba64312e06ecc1161e8da80e17fc4f5">CASE_VMXOR_VMANDN_VMOR_OPCODES</a>(<a class="code" href="namespacellvm_1_1RISCVII.html#ab335a6694bd42d4d2f807ec281af1e1ca81b84a0b11f1c29695dbf7765f8ceaa7">LMUL_4</a>, M4)</div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;        <a class="code" href="RISCVISelDAGToDAG_8cpp.html#a8ba64312e06ecc1161e8da80e17fc4f5">CASE_VMXOR_VMANDN_VMOR_OPCODES</a>(<a class="code" href="namespacellvm_1_1RISCVII.html#ab335a6694bd42d4d2f807ec281af1e1cae7fe853f54d8e8aaf63568ed61da11e0">LMUL_8</a>, M8)</div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;<span class="preprocessor">#undef CASE_VMXOR_VMANDN_VMOR_OPCODES</span></div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;      }</div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="RISCVInsertVSETVLI_8cpp.html#ac4786fefd4d527c4c601f237a6d67919">SEW</a> = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(</div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;          <a class="code" href="namespacellvm.html#a646986783f35e0fef8988f0f28d2589f">Log2_32</a>(Src1VT.<a class="code" href="classllvm_1_1MVT.html#a2e101ce5736aa0643639fd3adae18088">getScalarSizeInBits</a>()), <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, XLenVT);</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> MaskSEW = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(0, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, XLenVT);</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> VL;</div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;      <a class="code" href="classllvm_1_1RISCVDAGToDAGISel.html#a9dd913520cec32052ff63c8735efad5c">selectVLOp</a>(Node-&gt;getOperand(5), VL);</div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> MaskedOff = Node-&gt;getOperand(1);</div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a> = Node-&gt;getOperand(4);</div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160; </div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;      <span class="comment">// If vmsgeu_mask with 0 immediate, expand it to vmor mask, maskedoff.</span></div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;      <span class="keywordflow">if</span> (IsCmpUnsignedZero) {</div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;        <span class="comment">// We don&#39;t need vmor if the MaskedOff and the Mask are the same</span></div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;        <span class="comment">// value.</span></div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a> == MaskedOff) {</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;          <a class="code" href="classllvm_1_1SelectionDAGISel.html#a84e771c0f56c984d8ee4a85c0cb46ed3">ReplaceUses</a>(Node, <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>.getNode());</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;          <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;        }</div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;        <a class="code" href="classllvm_1_1SelectionDAGISel.html#acd1bcf7bcbb18b94234b2bf5a505e925">ReplaceNode</a>(Node,</div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;                    <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1c04c72abd24de2572a03ef686a36dd6">getMachineNode</a>(VMOROpcode, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT,</div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;                                           {Mask, MaskedOff, VL, MaskSEW}));</div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;      }</div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160; </div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;      <span class="comment">// If the MaskedOff value and the Mask are the same value use</span></div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;      <span class="comment">// vmslt{u}.vx vt, va, x;  vmandn.mm vd, vd, vt</span></div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;      <span class="comment">// This avoids needing to copy v0 to vd before starting the next sequence.</span></div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a> == MaskedOff) {</div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;        <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Cmp = <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(</div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;            <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1c04c72abd24de2572a03ef686a36dd6">getMachineNode</a>(VMSLTOpcode, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, {Src1, Src2, VL, SEW}),</div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;            0);</div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;        <a class="code" href="classllvm_1_1SelectionDAGISel.html#acd1bcf7bcbb18b94234b2bf5a505e925">ReplaceNode</a>(Node, <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1c04c72abd24de2572a03ef686a36dd6">getMachineNode</a>(VMANDNOpcode, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT,</div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;                                                 {Mask, Cmp, VL, MaskSEW}));</div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;      }</div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160; </div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;      <span class="comment">// Mask needs to be copied to V0.</span></div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Chain = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#aaf07395614bda08ad0b4d3d1d401ca7e">getCopyToReg</a>(<a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#af0f68c9c0e4a38aebd5773f80dd5b716">getEntryNode</a>(), <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>,</div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;                                           RISCV::V0, <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>());</div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Glue = Chain.<a class="code" href="classllvm_1_1SDValue.html#a64932427432abeb61241e98bea167580">getValue</a>(1);</div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> V0 = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a9268086dd9d1ba4e60cfe872dde5c173">getRegister</a>(RISCV::V0, VT);</div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160; </div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;      <span class="comment">// Otherwise use</span></div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;      <span class="comment">// vmslt{u}.vx vd, va, x, v0.t; vmxor.mm vd, vd, v0</span></div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;      <span class="comment">// The result is mask undisturbed.</span></div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;      <span class="comment">// We use the same instructions to emulate mask agnostic behavior, because</span></div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;      <span class="comment">// the agnostic result can be either undisturbed or all 1.</span></div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Cmp = <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(</div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;          <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1c04c72abd24de2572a03ef686a36dd6">getMachineNode</a>(VMSLTMaskOpcode, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT,</div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;                                 {MaskedOff, Src1, Src2, V0, VL, SEW, Glue}),</div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;          0);</div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;      <span class="comment">// vmxor.mm vd, vd, v0 is used to update active value.</span></div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;      <a class="code" href="classllvm_1_1SelectionDAGISel.html#acd1bcf7bcbb18b94234b2bf5a505e925">ReplaceNode</a>(Node, <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1c04c72abd24de2572a03ef686a36dd6">getMachineNode</a>(VMXOROpcode, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT,</div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;                                               {Cmp, Mask, VL, MaskSEW}));</div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;    }</div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vsetvli:</div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vsetvlimax:</div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1RISCVDAGToDAGISel.html#a97a91b8b1f7d203b918218d0db9cec5d">selectVSETVLI</a>(Node);</div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;    }</div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;  }</div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110afc09e0bddd693dcf9923e4df42473bd9">ISD::INTRINSIC_W_CHAIN</a>: {</div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;    <span class="keywordtype">unsigned</span> IntNo = cast&lt;ConstantSDNode&gt;(Node-&gt;getOperand(1))-&gt;getZExtValue();</div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;    <span class="keywordflow">switch</span> (IntNo) {</div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;      <span class="comment">// By default we do not custom select any intrinsic.</span></div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vlseg2:</div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vlseg3:</div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vlseg4:</div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vlseg5:</div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vlseg6:</div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vlseg7:</div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vlseg8: {</div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;      <a class="code" href="classllvm_1_1RISCVDAGToDAGISel.html#aee8bb1da0fa7db8032f5e53f49a73a4b">selectVLSEG</a>(Node, <span class="comment">/*IsMasked*/</span> <span class="keyword">false</span>, <span class="comment">/*IsStrided*/</span> <span class="keyword">false</span>);</div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;    }</div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vlseg2_mask:</div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vlseg3_mask:</div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vlseg4_mask:</div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vlseg5_mask:</div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vlseg6_mask:</div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vlseg7_mask:</div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vlseg8_mask: {</div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;      <a class="code" href="classllvm_1_1RISCVDAGToDAGISel.html#aee8bb1da0fa7db8032f5e53f49a73a4b">selectVLSEG</a>(Node, <span class="comment">/*IsMasked*/</span> <span class="keyword">true</span>, <span class="comment">/*IsStrided*/</span> <span class="keyword">false</span>);</div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;    }</div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vlsseg2:</div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vlsseg3:</div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vlsseg4:</div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vlsseg5:</div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vlsseg6:</div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vlsseg7:</div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vlsseg8: {</div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;      <a class="code" href="classllvm_1_1RISCVDAGToDAGISel.html#aee8bb1da0fa7db8032f5e53f49a73a4b">selectVLSEG</a>(Node, <span class="comment">/*IsMasked*/</span> <span class="keyword">false</span>, <span class="comment">/*IsStrided*/</span> <span class="keyword">true</span>);</div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;    }</div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vlsseg2_mask:</div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vlsseg3_mask:</div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vlsseg4_mask:</div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vlsseg5_mask:</div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vlsseg6_mask:</div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vlsseg7_mask:</div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vlsseg8_mask: {</div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;      <a class="code" href="classllvm_1_1RISCVDAGToDAGISel.html#aee8bb1da0fa7db8032f5e53f49a73a4b">selectVLSEG</a>(Node, <span class="comment">/*IsMasked*/</span> <span class="keyword">true</span>, <span class="comment">/*IsStrided*/</span> <span class="keyword">true</span>);</div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;    }</div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vloxseg2:</div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vloxseg3:</div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vloxseg4:</div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vloxseg5:</div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vloxseg6:</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vloxseg7:</div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vloxseg8:</div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;      <a class="code" href="classllvm_1_1RISCVDAGToDAGISel.html#a8eaccccf1e694d9729d3abdce383bd49">selectVLXSEG</a>(Node, <span class="comment">/*IsMasked*/</span> <span class="keyword">false</span>, <span class="comment">/*IsOrdered*/</span> <span class="keyword">true</span>);</div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vluxseg2:</div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vluxseg3:</div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vluxseg4:</div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vluxseg5:</div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vluxseg6:</div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vluxseg7:</div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vluxseg8:</div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;      <a class="code" href="classllvm_1_1RISCVDAGToDAGISel.html#a8eaccccf1e694d9729d3abdce383bd49">selectVLXSEG</a>(Node, <span class="comment">/*IsMasked*/</span> <span class="keyword">false</span>, <span class="comment">/*IsOrdered*/</span> <span class="keyword">false</span>);</div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vloxseg2_mask:</div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vloxseg3_mask:</div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vloxseg4_mask:</div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vloxseg5_mask:</div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vloxseg6_mask:</div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vloxseg7_mask:</div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vloxseg8_mask:</div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;      <a class="code" href="classllvm_1_1RISCVDAGToDAGISel.html#a8eaccccf1e694d9729d3abdce383bd49">selectVLXSEG</a>(Node, <span class="comment">/*IsMasked*/</span> <span class="keyword">true</span>, <span class="comment">/*IsOrdered*/</span> <span class="keyword">true</span>);</div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vluxseg2_mask:</div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vluxseg3_mask:</div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vluxseg4_mask:</div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vluxseg5_mask:</div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vluxseg6_mask:</div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vluxseg7_mask:</div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vluxseg8_mask:</div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;      <a class="code" href="classllvm_1_1RISCVDAGToDAGISel.html#a8eaccccf1e694d9729d3abdce383bd49">selectVLXSEG</a>(Node, <span class="comment">/*IsMasked*/</span> <span class="keyword">true</span>, <span class="comment">/*IsOrdered*/</span> <span class="keyword">false</span>);</div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vlseg8ff:</div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vlseg7ff:</div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vlseg6ff:</div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vlseg5ff:</div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vlseg4ff:</div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vlseg3ff:</div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vlseg2ff: {</div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;      <a class="code" href="classllvm_1_1RISCVDAGToDAGISel.html#a33d6cba07cd8a3dbff7ae0356c401e47">selectVLSEGFF</a>(Node, <span class="comment">/*IsMasked*/</span> <span class="keyword">false</span>);</div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;    }</div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vlseg8ff_mask:</div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vlseg7ff_mask:</div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vlseg6ff_mask:</div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vlseg5ff_mask:</div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vlseg4ff_mask:</div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vlseg3ff_mask:</div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vlseg2ff_mask: {</div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;      <a class="code" href="classllvm_1_1RISCVDAGToDAGISel.html#a33d6cba07cd8a3dbff7ae0356c401e47">selectVLSEGFF</a>(Node, <span class="comment">/*IsMasked*/</span> <span class="keyword">true</span>);</div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;    }</div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vloxei:</div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vloxei_mask:</div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vluxei:</div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vluxei_mask: {</div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;      <span class="keywordtype">bool</span> IsMasked = IntNo == Intrinsic::riscv_vloxei_mask ||</div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;                      IntNo == Intrinsic::riscv_vluxei_mask;</div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;      <span class="keywordtype">bool</span> IsOrdered = IntNo == Intrinsic::riscv_vloxei ||</div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;                       IntNo == Intrinsic::riscv_vloxei_mask;</div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160; </div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;      <a class="code" href="classllvm_1_1MVT.html">MVT</a> VT = Node-&gt;getSimpleValueType(0);</div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;      <span class="keywordtype">unsigned</span> <a class="code" href="RISCVInsertVSETVLI_8cpp.html#aa74e26e879c8e27e2fda48270367f4ea">Log2SEW</a> = <a class="code" href="namespacellvm.html#a646986783f35e0fef8988f0f28d2589f">Log2_32</a>(VT.<a class="code" href="classllvm_1_1MVT.html#a2e101ce5736aa0643639fd3adae18088">getScalarSizeInBits</a>());</div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160; </div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;      <span class="keywordtype">unsigned</span> CurOp = 2;</div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;      <span class="comment">// Masked intrinsic only have TU version pseduo instructions.</span></div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;      <span class="keywordtype">bool</span> IsTU = IsMasked || !Node-&gt;getOperand(CurOp).isUndef();</div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;      <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;SDValue, 8&gt;</a> <a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>;</div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;      <span class="keywordflow">if</span> (IsTU)</div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;        <a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>.push_back(Node-&gt;getOperand(CurOp++));</div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;        <span class="comment">// Skip the undef passthru operand for nomask TA version pseudo</span></div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;        CurOp++;</div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160; </div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;      <a class="code" href="classllvm_1_1MVT.html">MVT</a> IndexVT;</div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;      <a class="code" href="classllvm_1_1RISCVDAGToDAGISel.html#a824579538728c6e67cf9a6191e5894e3">addVectorLoadStoreOperands</a>(Node, <a class="code" href="RISCVInsertVSETVLI_8cpp.html#aa74e26e879c8e27e2fda48270367f4ea">Log2SEW</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, CurOp, IsMasked,</div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;                                 <span class="comment">/*IsStridedOrIndexed*/</span> <span class="keyword">true</span>, <a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>,</div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;                                 <span class="comment">/*IsLoad=*/</span><span class="keyword">true</span>, &amp;IndexVT);</div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160; </div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(VT.<a class="code" href="classllvm_1_1MVT.html#aa1abe2e0d36a43d780ce54ea3b197217">getVectorElementCount</a>() == IndexVT.<a class="code" href="classllvm_1_1MVT.html#aa1abe2e0d36a43d780ce54ea3b197217">getVectorElementCount</a>() &amp;&amp;</div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;             <span class="stringliteral">&quot;Element count mismatch&quot;</span>);</div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160; </div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;      <a class="code" href="namespacellvm_1_1RISCVII.html#ab335a6694bd42d4d2f807ec281af1e1c">RISCVII::VLMUL</a> <a class="code" href="namespacellvm_1_1XCoreISD.html#a34e7964aa899176244e03cb7b1fc5985a5f16d1c5f09829a27d169eeda4d60a5f">LMUL</a> = <a class="code" href="classllvm_1_1RISCVTargetLowering.html#ac27709ca33b27034fb25d6fb83cb5fb1">RISCVTargetLowering::getLMUL</a>(VT);</div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;      <a class="code" href="namespacellvm_1_1RISCVII.html#ab335a6694bd42d4d2f807ec281af1e1c">RISCVII::VLMUL</a> IndexLMUL = <a class="code" href="classllvm_1_1RISCVTargetLowering.html#ac27709ca33b27034fb25d6fb83cb5fb1">RISCVTargetLowering::getLMUL</a>(IndexVT);</div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;      <span class="keywordtype">unsigned</span> IndexLog2EEW = <a class="code" href="namespacellvm.html#a646986783f35e0fef8988f0f28d2589f">Log2_32</a>(IndexVT.<a class="code" href="classllvm_1_1MVT.html#a2e101ce5736aa0643639fd3adae18088">getScalarSizeInBits</a>());</div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;      <span class="keywordflow">if</span> (IndexLog2EEW == 6 &amp;&amp; !Subtarget-&gt;<a class="code" href="classllvm_1_1RISCVSubtarget.html#afd9fbb2a5a666589b2843c496f3ae479">is64Bit</a>()) {</div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;        <a class="code" href="namespacellvm.html#a7f2a3d4dcfee70225988aec53ff1e173">report_fatal_error</a>(<span class="stringliteral">&quot;The V extension does not support EEW=64 for index &quot;</span></div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;                           <span class="stringliteral">&quot;values when XLEN=32&quot;</span>);</div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;      }</div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;      <span class="keyword">const</span> <a class="code" href="structllvm_1_1RISCV_1_1VLX__VSXPseudo.html">RISCV::VLX_VSXPseudo</a> *<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> = RISCV::getVLXPseudo(</div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;          IsMasked, IsTU, IsOrdered, IndexLog2EEW, <span class="keyword">static_cast&lt;</span><span class="keywordtype">unsigned</span><span class="keyword">&gt;</span>(<a class="code" href="namespacellvm_1_1XCoreISD.html#a34e7964aa899176244e03cb7b1fc5985a5f16d1c5f09829a27d169eeda4d60a5f">LMUL</a>),</div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;          <span class="keyword">static_cast&lt;</span><span class="keywordtype">unsigned</span><span class="keyword">&gt;</span>(IndexLMUL));</div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;      <a class="code" href="classllvm_1_1MachineSDNode.html">MachineSDNode</a> *<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a> =</div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;          <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1c04c72abd24de2572a03ef686a36dd6">getMachineNode</a>(<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>-&gt;Pseudo, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, Node-&gt;getVTList(), <a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>);</div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160; </div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">auto</span> *<a class="code" href="structllvm_1_1MemOp.html">MemOp</a> = dyn_cast&lt;MemSDNode&gt;(Node))</div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;        <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a66ebc3ec1c8816b16a5f239a8631c780">setNodeMemRefs</a>(<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>, {<a class="code" href="structllvm_1_1MemOp.html">MemOp</a>-&gt;getMemOperand()});</div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160; </div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;      <a class="code" href="classllvm_1_1SelectionDAGISel.html#acd1bcf7bcbb18b94234b2bf5a505e925">ReplaceNode</a>(Node, <a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>);</div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;    }</div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vlm:</div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vle:</div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vle_mask:</div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vlse:</div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vlse_mask: {</div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;      <span class="keywordtype">bool</span> IsMasked = IntNo == Intrinsic::riscv_vle_mask ||</div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;                      IntNo == Intrinsic::riscv_vlse_mask;</div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;      <span class="keywordtype">bool</span> IsStrided =</div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;          IntNo == Intrinsic::riscv_vlse || IntNo == Intrinsic::riscv_vlse_mask;</div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160; </div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;      <a class="code" href="classllvm_1_1MVT.html">MVT</a> VT = Node-&gt;getSimpleValueType(0);</div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;      <span class="keywordtype">unsigned</span> <a class="code" href="RISCVInsertVSETVLI_8cpp.html#aa74e26e879c8e27e2fda48270367f4ea">Log2SEW</a> = <a class="code" href="namespacellvm.html#a646986783f35e0fef8988f0f28d2589f">Log2_32</a>(VT.<a class="code" href="classllvm_1_1MVT.html#a2e101ce5736aa0643639fd3adae18088">getScalarSizeInBits</a>());</div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160; </div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;      <span class="keywordtype">unsigned</span> CurOp = 2;</div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;      <span class="comment">// The riscv_vlm intrinsic are always tail agnostic and no passthru operand.</span></div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;      <span class="keywordtype">bool</span> HasPassthruOperand = IntNo != Intrinsic::riscv_vlm;</div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;      <span class="comment">// Masked intrinsic only have TU version pseduo instructions.</span></div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;      <span class="keywordtype">bool</span> IsTU = HasPassthruOperand &amp;&amp;</div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;                  (IsMasked || !Node-&gt;getOperand(CurOp).isUndef());</div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;      <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;SDValue, 8&gt;</a> <a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>;</div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;      <span class="keywordflow">if</span> (IsTU)</div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;        <a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>.push_back(Node-&gt;getOperand(CurOp++));</div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (HasPassthruOperand)</div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;        <span class="comment">// Skip the undef passthru operand for nomask TA version pseudo</span></div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;        CurOp++;</div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160; </div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;      <a class="code" href="classllvm_1_1RISCVDAGToDAGISel.html#a824579538728c6e67cf9a6191e5894e3">addVectorLoadStoreOperands</a>(Node, <a class="code" href="RISCVInsertVSETVLI_8cpp.html#aa74e26e879c8e27e2fda48270367f4ea">Log2SEW</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, CurOp, IsMasked, IsStrided,</div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;                                 <a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>, <span class="comment">/*IsLoad=*/</span><span class="keyword">true</span>);</div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160; </div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;      <a class="code" href="namespacellvm_1_1RISCVII.html#ab335a6694bd42d4d2f807ec281af1e1c">RISCVII::VLMUL</a> <a class="code" href="namespacellvm_1_1XCoreISD.html#a34e7964aa899176244e03cb7b1fc5985a5f16d1c5f09829a27d169eeda4d60a5f">LMUL</a> = <a class="code" href="classllvm_1_1RISCVTargetLowering.html#ac27709ca33b27034fb25d6fb83cb5fb1">RISCVTargetLowering::getLMUL</a>(VT);</div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;      <span class="keyword">const</span> <a class="code" href="structllvm_1_1RISCV_1_1VLEPseudo.html">RISCV::VLEPseudo</a> *<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> =</div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;          RISCV::getVLEPseudo(IsMasked, IsTU, IsStrided, <span class="comment">/*FF*/</span> <span class="keyword">false</span>, <a class="code" href="RISCVInsertVSETVLI_8cpp.html#aa74e26e879c8e27e2fda48270367f4ea">Log2SEW</a>,</div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;                              <span class="keyword">static_cast&lt;</span><span class="keywordtype">unsigned</span><span class="keyword">&gt;</span>(<a class="code" href="namespacellvm_1_1XCoreISD.html#a34e7964aa899176244e03cb7b1fc5985a5f16d1c5f09829a27d169eeda4d60a5f">LMUL</a>));</div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;      <a class="code" href="classllvm_1_1MachineSDNode.html">MachineSDNode</a> *<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a> =</div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;          <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1c04c72abd24de2572a03ef686a36dd6">getMachineNode</a>(<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>-&gt;Pseudo, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, Node-&gt;getVTList(), <a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>);</div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160; </div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">auto</span> *<a class="code" href="structllvm_1_1MemOp.html">MemOp</a> = dyn_cast&lt;MemSDNode&gt;(Node))</div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;        <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a66ebc3ec1c8816b16a5f239a8631c780">setNodeMemRefs</a>(<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>, {<a class="code" href="structllvm_1_1MemOp.html">MemOp</a>-&gt;getMemOperand()});</div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160; </div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;      <a class="code" href="classllvm_1_1SelectionDAGISel.html#acd1bcf7bcbb18b94234b2bf5a505e925">ReplaceNode</a>(Node, <a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>);</div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;    }</div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vleff:</div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vleff_mask: {</div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;      <span class="keywordtype">bool</span> IsMasked = IntNo == Intrinsic::riscv_vleff_mask;</div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160; </div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;      <a class="code" href="classllvm_1_1MVT.html">MVT</a> VT = Node-&gt;getSimpleValueType(0);</div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;      <span class="keywordtype">unsigned</span> <a class="code" href="RISCVInsertVSETVLI_8cpp.html#aa74e26e879c8e27e2fda48270367f4ea">Log2SEW</a> = <a class="code" href="namespacellvm.html#a646986783f35e0fef8988f0f28d2589f">Log2_32</a>(VT.<a class="code" href="classllvm_1_1MVT.html#a2e101ce5736aa0643639fd3adae18088">getScalarSizeInBits</a>());</div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160; </div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;      <span class="keywordtype">unsigned</span> CurOp = 2;</div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;      <span class="comment">// Masked intrinsic only have TU version pseduo instructions.</span></div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;      <span class="keywordtype">bool</span> IsTU = IsMasked || !Node-&gt;getOperand(CurOp).isUndef();</div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;      <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;SDValue, 7&gt;</a> <a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>;</div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;      <span class="keywordflow">if</span> (IsTU)</div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;        <a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>.push_back(Node-&gt;getOperand(CurOp++));</div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;        <span class="comment">// Skip the undef passthru operand for nomask TA version pseudo</span></div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;        CurOp++;</div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160; </div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;      <a class="code" href="classllvm_1_1RISCVDAGToDAGISel.html#a824579538728c6e67cf9a6191e5894e3">addVectorLoadStoreOperands</a>(Node, <a class="code" href="RISCVInsertVSETVLI_8cpp.html#aa74e26e879c8e27e2fda48270367f4ea">Log2SEW</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, CurOp, IsMasked,</div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;                                 <span class="comment">/*IsStridedOrIndexed*/</span> <span class="keyword">false</span>, <a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>,</div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;                                 <span class="comment">/*IsLoad=*/</span><span class="keyword">true</span>);</div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160; </div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;      <a class="code" href="namespacellvm_1_1RISCVII.html#ab335a6694bd42d4d2f807ec281af1e1c">RISCVII::VLMUL</a> <a class="code" href="namespacellvm_1_1XCoreISD.html#a34e7964aa899176244e03cb7b1fc5985a5f16d1c5f09829a27d169eeda4d60a5f">LMUL</a> = <a class="code" href="classllvm_1_1RISCVTargetLowering.html#ac27709ca33b27034fb25d6fb83cb5fb1">RISCVTargetLowering::getLMUL</a>(VT);</div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;      <span class="keyword">const</span> <a class="code" href="structllvm_1_1RISCV_1_1VLEPseudo.html">RISCV::VLEPseudo</a> *<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> =</div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;          RISCV::getVLEPseudo(IsMasked, IsTU, <span class="comment">/*Strided*/</span> <span class="keyword">false</span>, <span class="comment">/*FF*/</span> <span class="keyword">true</span>,</div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;                              <a class="code" href="RISCVInsertVSETVLI_8cpp.html#aa74e26e879c8e27e2fda48270367f4ea">Log2SEW</a>, <span class="keyword">static_cast&lt;</span><span class="keywordtype">unsigned</span><span class="keyword">&gt;</span>(<a class="code" href="namespacellvm_1_1XCoreISD.html#a34e7964aa899176244e03cb7b1fc5985a5f16d1c5f09829a27d169eeda4d60a5f">LMUL</a>));</div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;      <a class="code" href="classllvm_1_1MachineSDNode.html">MachineSDNode</a> *<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a> = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1c04c72abd24de2572a03ef686a36dd6">getMachineNode</a>(</div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;          <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>-&gt;Pseudo, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, Node-&gt;getVTList(), <a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>);</div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">auto</span> *<a class="code" href="structllvm_1_1MemOp.html">MemOp</a> = dyn_cast&lt;MemSDNode&gt;(Node))</div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;        <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a66ebc3ec1c8816b16a5f239a8631c780">setNodeMemRefs</a>(<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>, {<a class="code" href="structllvm_1_1MemOp.html">MemOp</a>-&gt;getMemOperand()});</div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160; </div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;      <a class="code" href="classllvm_1_1SelectionDAGISel.html#acd1bcf7bcbb18b94234b2bf5a505e925">ReplaceNode</a>(Node, <a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>);</div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;    }</div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;    }</div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;  }</div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a2df96794a99f5d3b4415c4a84e616140">ISD::INTRINSIC_VOID</a>: {</div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;    <span class="keywordtype">unsigned</span> IntNo = cast&lt;ConstantSDNode&gt;(Node-&gt;getOperand(1))-&gt;getZExtValue();</div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;    <span class="keywordflow">switch</span> (IntNo) {</div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vsseg2:</div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vsseg3:</div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vsseg4:</div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vsseg5:</div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vsseg6:</div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vsseg7:</div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vsseg8: {</div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;      <a class="code" href="classllvm_1_1RISCVDAGToDAGISel.html#a1155466966a339220d6f15cbf3752d5d">selectVSSEG</a>(Node, <span class="comment">/*IsMasked*/</span> <span class="keyword">false</span>, <span class="comment">/*IsStrided*/</span> <span class="keyword">false</span>);</div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;    }</div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vsseg2_mask:</div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vsseg3_mask:</div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vsseg4_mask:</div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vsseg5_mask:</div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vsseg6_mask:</div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vsseg7_mask:</div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vsseg8_mask: {</div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;      <a class="code" href="classllvm_1_1RISCVDAGToDAGISel.html#a1155466966a339220d6f15cbf3752d5d">selectVSSEG</a>(Node, <span class="comment">/*IsMasked*/</span> <span class="keyword">true</span>, <span class="comment">/*IsStrided*/</span> <span class="keyword">false</span>);</div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;    }</div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vssseg2:</div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vssseg3:</div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vssseg4:</div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vssseg5:</div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vssseg6:</div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vssseg7:</div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vssseg8: {</div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;      <a class="code" href="classllvm_1_1RISCVDAGToDAGISel.html#a1155466966a339220d6f15cbf3752d5d">selectVSSEG</a>(Node, <span class="comment">/*IsMasked*/</span> <span class="keyword">false</span>, <span class="comment">/*IsStrided*/</span> <span class="keyword">true</span>);</div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;    }</div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vssseg2_mask:</div>
<div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vssseg3_mask:</div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vssseg4_mask:</div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vssseg5_mask:</div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vssseg6_mask:</div>
<div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vssseg7_mask:</div>
<div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vssseg8_mask: {</div>
<div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;      <a class="code" href="classllvm_1_1RISCVDAGToDAGISel.html#a1155466966a339220d6f15cbf3752d5d">selectVSSEG</a>(Node, <span class="comment">/*IsMasked*/</span> <span class="keyword">true</span>, <span class="comment">/*IsStrided*/</span> <span class="keyword">true</span>);</div>
<div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;    }</div>
<div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vsoxseg2:</div>
<div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vsoxseg3:</div>
<div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vsoxseg4:</div>
<div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vsoxseg5:</div>
<div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vsoxseg6:</div>
<div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vsoxseg7:</div>
<div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vsoxseg8:</div>
<div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;      <a class="code" href="classllvm_1_1RISCVDAGToDAGISel.html#aa48cfa380a213e2be4b3c9647e55a102">selectVSXSEG</a>(Node, <span class="comment">/*IsMasked*/</span> <span class="keyword">false</span>, <span class="comment">/*IsOrdered*/</span> <span class="keyword">true</span>);</div>
<div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vsuxseg2:</div>
<div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vsuxseg3:</div>
<div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vsuxseg4:</div>
<div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vsuxseg5:</div>
<div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vsuxseg6:</div>
<div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vsuxseg7:</div>
<div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vsuxseg8:</div>
<div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;      <a class="code" href="classllvm_1_1RISCVDAGToDAGISel.html#aa48cfa380a213e2be4b3c9647e55a102">selectVSXSEG</a>(Node, <span class="comment">/*IsMasked*/</span> <span class="keyword">false</span>, <span class="comment">/*IsOrdered*/</span> <span class="keyword">false</span>);</div>
<div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vsoxseg2_mask:</div>
<div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vsoxseg3_mask:</div>
<div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vsoxseg4_mask:</div>
<div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vsoxseg5_mask:</div>
<div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vsoxseg6_mask:</div>
<div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vsoxseg7_mask:</div>
<div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vsoxseg8_mask:</div>
<div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;      <a class="code" href="classllvm_1_1RISCVDAGToDAGISel.html#aa48cfa380a213e2be4b3c9647e55a102">selectVSXSEG</a>(Node, <span class="comment">/*IsMasked*/</span> <span class="keyword">true</span>, <span class="comment">/*IsOrdered*/</span> <span class="keyword">true</span>);</div>
<div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vsuxseg2_mask:</div>
<div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vsuxseg3_mask:</div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vsuxseg4_mask:</div>
<div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vsuxseg5_mask:</div>
<div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vsuxseg6_mask:</div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vsuxseg7_mask:</div>
<div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vsuxseg8_mask:</div>
<div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;      <a class="code" href="classllvm_1_1RISCVDAGToDAGISel.html#aa48cfa380a213e2be4b3c9647e55a102">selectVSXSEG</a>(Node, <span class="comment">/*IsMasked*/</span> <span class="keyword">true</span>, <span class="comment">/*IsOrdered*/</span> <span class="keyword">false</span>);</div>
<div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vsoxei:</div>
<div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vsoxei_mask:</div>
<div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vsuxei:</div>
<div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vsuxei_mask: {</div>
<div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;      <span class="keywordtype">bool</span> IsMasked = IntNo == Intrinsic::riscv_vsoxei_mask ||</div>
<div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;                      IntNo == Intrinsic::riscv_vsuxei_mask;</div>
<div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;      <span class="keywordtype">bool</span> IsOrdered = IntNo == Intrinsic::riscv_vsoxei ||</div>
<div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;                       IntNo == Intrinsic::riscv_vsoxei_mask;</div>
<div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160; </div>
<div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;      <a class="code" href="classllvm_1_1MVT.html">MVT</a> VT = Node-&gt;getOperand(2)-&gt;getSimpleValueType(0);</div>
<div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;      <span class="keywordtype">unsigned</span> <a class="code" href="RISCVInsertVSETVLI_8cpp.html#aa74e26e879c8e27e2fda48270367f4ea">Log2SEW</a> = <a class="code" href="namespacellvm.html#a646986783f35e0fef8988f0f28d2589f">Log2_32</a>(VT.<a class="code" href="classllvm_1_1MVT.html#a2e101ce5736aa0643639fd3adae18088">getScalarSizeInBits</a>());</div>
<div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160; </div>
<div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;      <span class="keywordtype">unsigned</span> CurOp = 2;</div>
<div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;      <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;SDValue, 8&gt;</a> <a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>;</div>
<div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;      <a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>.push_back(Node-&gt;getOperand(CurOp++)); <span class="comment">// Store value.</span></div>
<div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160; </div>
<div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;      <a class="code" href="classllvm_1_1MVT.html">MVT</a> IndexVT;</div>
<div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;      <a class="code" href="classllvm_1_1RISCVDAGToDAGISel.html#a824579538728c6e67cf9a6191e5894e3">addVectorLoadStoreOperands</a>(Node, <a class="code" href="RISCVInsertVSETVLI_8cpp.html#aa74e26e879c8e27e2fda48270367f4ea">Log2SEW</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, CurOp, IsMasked,</div>
<div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;                                 <span class="comment">/*IsStridedOrIndexed*/</span> <span class="keyword">true</span>, <a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>,</div>
<div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;                                 <span class="comment">/*IsLoad=*/</span><span class="keyword">false</span>, &amp;IndexVT);</div>
<div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160; </div>
<div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(VT.<a class="code" href="classllvm_1_1MVT.html#aa1abe2e0d36a43d780ce54ea3b197217">getVectorElementCount</a>() == IndexVT.<a class="code" href="classllvm_1_1MVT.html#aa1abe2e0d36a43d780ce54ea3b197217">getVectorElementCount</a>() &amp;&amp;</div>
<div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;             <span class="stringliteral">&quot;Element count mismatch&quot;</span>);</div>
<div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160; </div>
<div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;      <a class="code" href="namespacellvm_1_1RISCVII.html#ab335a6694bd42d4d2f807ec281af1e1c">RISCVII::VLMUL</a> <a class="code" href="namespacellvm_1_1XCoreISD.html#a34e7964aa899176244e03cb7b1fc5985a5f16d1c5f09829a27d169eeda4d60a5f">LMUL</a> = <a class="code" href="classllvm_1_1RISCVTargetLowering.html#ac27709ca33b27034fb25d6fb83cb5fb1">RISCVTargetLowering::getLMUL</a>(VT);</div>
<div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;      <a class="code" href="namespacellvm_1_1RISCVII.html#ab335a6694bd42d4d2f807ec281af1e1c">RISCVII::VLMUL</a> IndexLMUL = <a class="code" href="classllvm_1_1RISCVTargetLowering.html#ac27709ca33b27034fb25d6fb83cb5fb1">RISCVTargetLowering::getLMUL</a>(IndexVT);</div>
<div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;      <span class="keywordtype">unsigned</span> IndexLog2EEW = <a class="code" href="namespacellvm.html#a646986783f35e0fef8988f0f28d2589f">Log2_32</a>(IndexVT.<a class="code" href="classllvm_1_1MVT.html#a2e101ce5736aa0643639fd3adae18088">getScalarSizeInBits</a>());</div>
<div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;      <span class="keywordflow">if</span> (IndexLog2EEW == 6 &amp;&amp; !Subtarget-&gt;<a class="code" href="classllvm_1_1RISCVSubtarget.html#afd9fbb2a5a666589b2843c496f3ae479">is64Bit</a>()) {</div>
<div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;        <a class="code" href="namespacellvm.html#a7f2a3d4dcfee70225988aec53ff1e173">report_fatal_error</a>(<span class="stringliteral">&quot;The V extension does not support EEW=64 for index &quot;</span></div>
<div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;                           <span class="stringliteral">&quot;values when XLEN=32&quot;</span>);</div>
<div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;      }</div>
<div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;      <span class="keyword">const</span> <a class="code" href="structllvm_1_1RISCV_1_1VLX__VSXPseudo.html">RISCV::VLX_VSXPseudo</a> *<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> = RISCV::getVSXPseudo(</div>
<div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;          IsMasked, <span class="comment">/*TU*/</span> <span class="keyword">false</span>, IsOrdered, IndexLog2EEW,</div>
<div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;          <span class="keyword">static_cast&lt;</span><span class="keywordtype">unsigned</span><span class="keyword">&gt;</span>(<a class="code" href="namespacellvm_1_1XCoreISD.html#a34e7964aa899176244e03cb7b1fc5985a5f16d1c5f09829a27d169eeda4d60a5f">LMUL</a>), <span class="keyword">static_cast&lt;</span><span class="keywordtype">unsigned</span><span class="keyword">&gt;</span>(IndexLMUL));</div>
<div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;      <a class="code" href="classllvm_1_1MachineSDNode.html">MachineSDNode</a> *<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa36b3dd3b84fde3f8494a9b18af131856">Store</a> =</div>
<div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;          <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1c04c72abd24de2572a03ef686a36dd6">getMachineNode</a>(<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>-&gt;Pseudo, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, Node-&gt;getVTList(), <a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>);</div>
<div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160; </div>
<div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">auto</span> *<a class="code" href="structllvm_1_1MemOp.html">MemOp</a> = dyn_cast&lt;MemSDNode&gt;(Node))</div>
<div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;        <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a66ebc3ec1c8816b16a5f239a8631c780">setNodeMemRefs</a>(<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa36b3dd3b84fde3f8494a9b18af131856">Store</a>, {<a class="code" href="structllvm_1_1MemOp.html">MemOp</a>-&gt;getMemOperand()});</div>
<div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160; </div>
<div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;      <a class="code" href="classllvm_1_1SelectionDAGISel.html#acd1bcf7bcbb18b94234b2bf5a505e925">ReplaceNode</a>(Node, <a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa36b3dd3b84fde3f8494a9b18af131856">Store</a>);</div>
<div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;    }</div>
<div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vsm:</div>
<div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vse:</div>
<div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vse_mask:</div>
<div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vsse:</div>
<div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;    <span class="keywordflow">case</span> Intrinsic::riscv_vsse_mask: {</div>
<div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;      <span class="keywordtype">bool</span> IsMasked = IntNo == Intrinsic::riscv_vse_mask ||</div>
<div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;                      IntNo == Intrinsic::riscv_vsse_mask;</div>
<div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;      <span class="keywordtype">bool</span> IsStrided =</div>
<div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;          IntNo == Intrinsic::riscv_vsse || IntNo == Intrinsic::riscv_vsse_mask;</div>
<div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160; </div>
<div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;      <a class="code" href="classllvm_1_1MVT.html">MVT</a> VT = Node-&gt;getOperand(2)-&gt;getSimpleValueType(0);</div>
<div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;      <span class="keywordtype">unsigned</span> <a class="code" href="RISCVInsertVSETVLI_8cpp.html#aa74e26e879c8e27e2fda48270367f4ea">Log2SEW</a> = <a class="code" href="namespacellvm.html#a646986783f35e0fef8988f0f28d2589f">Log2_32</a>(VT.<a class="code" href="classllvm_1_1MVT.html#a2e101ce5736aa0643639fd3adae18088">getScalarSizeInBits</a>());</div>
<div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160; </div>
<div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;      <span class="keywordtype">unsigned</span> CurOp = 2;</div>
<div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;      <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;SDValue, 8&gt;</a> <a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>;</div>
<div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;      <a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>.push_back(Node-&gt;getOperand(CurOp++)); <span class="comment">// Store value.</span></div>
<div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160; </div>
<div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;      <a class="code" href="classllvm_1_1RISCVDAGToDAGISel.html#a824579538728c6e67cf9a6191e5894e3">addVectorLoadStoreOperands</a>(Node, <a class="code" href="RISCVInsertVSETVLI_8cpp.html#aa74e26e879c8e27e2fda48270367f4ea">Log2SEW</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, CurOp, IsMasked, IsStrided,</div>
<div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;                                 <a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>);</div>
<div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160; </div>
<div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;      <a class="code" href="namespacellvm_1_1RISCVII.html#ab335a6694bd42d4d2f807ec281af1e1c">RISCVII::VLMUL</a> <a class="code" href="namespacellvm_1_1XCoreISD.html#a34e7964aa899176244e03cb7b1fc5985a5f16d1c5f09829a27d169eeda4d60a5f">LMUL</a> = <a class="code" href="classllvm_1_1RISCVTargetLowering.html#ac27709ca33b27034fb25d6fb83cb5fb1">RISCVTargetLowering::getLMUL</a>(VT);</div>
<div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;      <span class="keyword">const</span> <a class="code" href="structllvm_1_1RISCV_1_1VSEPseudo.html">RISCV::VSEPseudo</a> *<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> = RISCV::getVSEPseudo(</div>
<div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;          IsMasked, IsStrided, <a class="code" href="RISCVInsertVSETVLI_8cpp.html#aa74e26e879c8e27e2fda48270367f4ea">Log2SEW</a>, <span class="keyword">static_cast&lt;</span><span class="keywordtype">unsigned</span><span class="keyword">&gt;</span>(<a class="code" href="namespacellvm_1_1XCoreISD.html#a34e7964aa899176244e03cb7b1fc5985a5f16d1c5f09829a27d169eeda4d60a5f">LMUL</a>));</div>
<div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;      <a class="code" href="classllvm_1_1MachineSDNode.html">MachineSDNode</a> *<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa36b3dd3b84fde3f8494a9b18af131856">Store</a> =</div>
<div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;          <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1c04c72abd24de2572a03ef686a36dd6">getMachineNode</a>(<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>-&gt;Pseudo, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, Node-&gt;getVTList(), <a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>);</div>
<div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">auto</span> *<a class="code" href="structllvm_1_1MemOp.html">MemOp</a> = dyn_cast&lt;MemSDNode&gt;(Node))</div>
<div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;        <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a66ebc3ec1c8816b16a5f239a8631c780">setNodeMemRefs</a>(<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa36b3dd3b84fde3f8494a9b18af131856">Store</a>, {<a class="code" href="structllvm_1_1MemOp.html">MemOp</a>-&gt;getMemOperand()});</div>
<div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160; </div>
<div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;      <a class="code" href="classllvm_1_1SelectionDAGISel.html#acd1bcf7bcbb18b94234b2bf5a505e925">ReplaceNode</a>(Node, <a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa36b3dd3b84fde3f8494a9b18af131856">Store</a>);</div>
<div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;    }</div>
<div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;    }</div>
<div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;  }</div>
<div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a412ddf522b53f07690a86bffba1278e7">ISD::BITCAST</a>: {</div>
<div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;    <a class="code" href="classllvm_1_1MVT.html">MVT</a> SrcVT = Node-&gt;getOperand(0).getSimpleValueType();</div>
<div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;    <span class="comment">// Just drop bitcasts between vectors if both are fixed or both are</span></div>
<div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;    <span class="comment">// scalable.</span></div>
<div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;    <span class="keywordflow">if</span> ((VT.<a class="code" href="classllvm_1_1MVT.html#a447ebcc5de7a1d9bc163862bf2c78e41">isScalableVector</a>() &amp;&amp; SrcVT.<a class="code" href="classllvm_1_1MVT.html#a447ebcc5de7a1d9bc163862bf2c78e41">isScalableVector</a>()) ||</div>
<div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;        (VT.<a class="code" href="classllvm_1_1MVT.html#a98049e07856ff1288295bc58e232518b">isFixedLengthVector</a>() &amp;&amp; SrcVT.<a class="code" href="classllvm_1_1MVT.html#a98049e07856ff1288295bc58e232518b">isFixedLengthVector</a>())) {</div>
<div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;      <a class="code" href="classllvm_1_1SelectionDAGISel.html#a84e771c0f56c984d8ee4a85c0cb46ed3">ReplaceUses</a>(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(Node, 0), Node-&gt;getOperand(0));</div>
<div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;      <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a935ace76cef67c6da10cf0633371efe1">RemoveDeadNode</a>(Node);</div>
<div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;    }</div>
<div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;  }</div>
<div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a1617abaedbb1d902bb3a5b3136684f9c">ISD::INSERT_SUBVECTOR</a>: {</div>
<div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> V = Node-&gt;getOperand(0);</div>
<div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> SubV = Node-&gt;getOperand(1);</div>
<div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;    <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>(SubV);</div>
<div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;    <span class="keyword">auto</span> Idx = Node-&gt;getConstantOperandVal(2);</div>
<div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;    <a class="code" href="classllvm_1_1MVT.html">MVT</a> SubVecVT = SubV.<a class="code" href="classllvm_1_1SDValue.html#acbcc973a299b6f8733774668210b5227">getSimpleValueType</a>();</div>
<div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160; </div>
<div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1RISCVTargetLowering.html">RISCVTargetLowering</a> &amp;<a class="code" href="classllvm_1_1SelectionDAGISel.html#a1ed864be04c93653277b0f5112a4f305">TLI</a> = *Subtarget-&gt;<a class="code" href="classllvm_1_1RISCVSubtarget.html#a4deda7cfdd850ff23870541a5991f0fc">getTargetLowering</a>();</div>
<div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;    <a class="code" href="classllvm_1_1MVT.html">MVT</a> SubVecContainerVT = SubVecVT;</div>
<div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;    <span class="comment">// Establish the correct scalable-vector types for any fixed-length type.</span></div>
<div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;    <span class="keywordflow">if</span> (SubVecVT.<a class="code" href="classllvm_1_1MVT.html#a98049e07856ff1288295bc58e232518b">isFixedLengthVector</a>())</div>
<div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;      SubVecContainerVT = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a1ed864be04c93653277b0f5112a4f305">TLI</a>.getContainerForFixedLengthVector(SubVecVT);</div>
<div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;    <span class="keywordflow">if</span> (VT.<a class="code" href="classllvm_1_1MVT.html#a98049e07856ff1288295bc58e232518b">isFixedLengthVector</a>())</div>
<div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;      VT = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a1ed864be04c93653277b0f5112a4f305">TLI</a>.getContainerForFixedLengthVector(VT);</div>
<div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160; </div>
<div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> *<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a> = Subtarget-&gt;<a class="code" href="classllvm_1_1RISCVSubtarget.html#ae6a9afeb2cb6f09a2b3ae38beda73695">getRegisterInfo</a>();</div>
<div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;    <span class="keywordtype">unsigned</span> SubRegIdx;</div>
<div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;    std::tie(SubRegIdx, Idx) =</div>
<div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;        <a class="code" href="classllvm_1_1RISCVTargetLowering.html#a01ee44fd979fc25e2afe3d23a2079494">RISCVTargetLowering::decomposeSubvectorInsertExtractToSubRegs</a>(</div>
<div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;            VT, SubVecContainerVT, Idx, <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>);</div>
<div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160; </div>
<div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;    <span class="comment">// If the Idx hasn&#39;t been completely eliminated then this is a subvector</span></div>
<div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;    <span class="comment">// insert which doesn&#39;t naturally align to a vector register. These must</span></div>
<div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;    <span class="comment">// be handled using instructions to manipulate the vector registers.</span></div>
<div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;    <span class="keywordflow">if</span> (Idx != 0)</div>
<div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160; </div>
<div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;    <a class="code" href="namespacellvm_1_1RISCVII.html#ab335a6694bd42d4d2f807ec281af1e1c">RISCVII::VLMUL</a> SubVecLMUL = <a class="code" href="classllvm_1_1RISCVTargetLowering.html#ac27709ca33b27034fb25d6fb83cb5fb1">RISCVTargetLowering::getLMUL</a>(SubVecContainerVT);</div>
<div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;    <span class="keywordtype">bool</span> IsSubVecPartReg = SubVecLMUL == <a class="code" href="namespacellvm_1_1RISCVII.html#ab335a6694bd42d4d2f807ec281af1e1caf5395daef0a34ae8d78919a587eee448">RISCVII::VLMUL::LMUL_F2</a> ||</div>
<div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;                           SubVecLMUL == <a class="code" href="namespacellvm_1_1RISCVII.html#ab335a6694bd42d4d2f807ec281af1e1caea5ed9248acd465f986c64e15db529e5">RISCVII::VLMUL::LMUL_F4</a> ||</div>
<div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;                           SubVecLMUL == <a class="code" href="namespacellvm_1_1RISCVII.html#ab335a6694bd42d4d2f807ec281af1e1ca61d90764106d2ac6346f4bc1ae1bd3fd">RISCVII::VLMUL::LMUL_F8</a>;</div>
<div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;    (void)IsSubVecPartReg; <span class="comment">// Silence unused variable warning without asserts.</span></div>
<div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((!IsSubVecPartReg || V.<a class="code" href="classllvm_1_1SDValue.html#a1c861a21f795c3108ab690f3a45c881a">isUndef</a>()) &amp;&amp;</div>
<div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;           <span class="stringliteral">&quot;Expecting lowering to have created legal INSERT_SUBVECTORs when &quot;</span></div>
<div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;           <span class="stringliteral">&quot;the subvector is smaller than a full-sized register&quot;</span>);</div>
<div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160; </div>
<div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;    <span class="comment">// If we haven&#39;t set a SubRegIdx, then we must be going between</span></div>
<div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;    <span class="comment">// equally-sized LMUL groups (e.g. VR -&gt; VR). This can be done as a copy.</span></div>
<div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;    <span class="keywordflow">if</span> (SubRegIdx == RISCV::NoSubRegister) {</div>
<div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;      <span class="keywordtype">unsigned</span> InRegClassID = <a class="code" href="classllvm_1_1RISCVTargetLowering.html#a78d9c499deb0a2aadbf8e7ed5e717a8e">RISCVTargetLowering::getRegClassIDForVecVT</a>(VT);</div>
<div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="classllvm_1_1RISCVTargetLowering.html#a78d9c499deb0a2aadbf8e7ed5e717a8e">RISCVTargetLowering::getRegClassIDForVecVT</a>(SubVecContainerVT) ==</div>
<div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;                 InRegClassID &amp;&amp;</div>
<div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;             <span class="stringliteral">&quot;Unexpected subvector extraction&quot;</span>);</div>
<div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> RC = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(InRegClassID, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, XLenVT);</div>
<div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;      <a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *NewNode = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1c04c72abd24de2572a03ef686a36dd6">getMachineNode</a>(TargetOpcode::COPY_TO_REGCLASS,</div>
<div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;                                               <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, SubV, RC);</div>
<div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;      <a class="code" href="classllvm_1_1SelectionDAGISel.html#acd1bcf7bcbb18b94234b2bf5a505e925">ReplaceNode</a>(Node, NewNode);</div>
<div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;    }</div>
<div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160; </div>
<div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="README__P9_8txt.html#aa793083a95c48c23abfa352d4335685a">Insert</a> = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#af08c66bed13b63f7b506b1aa9c3433af">getTargetInsertSubreg</a>(SubRegIdx, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, V, SubV);</div>
<div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;    <a class="code" href="classllvm_1_1SelectionDAGISel.html#acd1bcf7bcbb18b94234b2bf5a505e925">ReplaceNode</a>(Node, <a class="code" href="README__P9_8txt.html#aa793083a95c48c23abfa352d4335685a">Insert</a>.getNode());</div>
<div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;  }</div>
<div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9070de8a5c5b71851732c4c54e2ffedf">ISD::EXTRACT_SUBVECTOR</a>: {</div>
<div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> V = Node-&gt;getOperand(0);</div>
<div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;    <span class="keyword">auto</span> Idx = Node-&gt;getConstantOperandVal(1);</div>
<div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;    <a class="code" href="classllvm_1_1MVT.html">MVT</a> InVT = V.<a class="code" href="classllvm_1_1SDValue.html#acbcc973a299b6f8733774668210b5227">getSimpleValueType</a>();</div>
<div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;    <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>(V);</div>
<div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160; </div>
<div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1RISCVTargetLowering.html">RISCVTargetLowering</a> &amp;<a class="code" href="classllvm_1_1SelectionDAGISel.html#a1ed864be04c93653277b0f5112a4f305">TLI</a> = *Subtarget-&gt;<a class="code" href="classllvm_1_1RISCVSubtarget.html#a4deda7cfdd850ff23870541a5991f0fc">getTargetLowering</a>();</div>
<div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;    <a class="code" href="classllvm_1_1MVT.html">MVT</a> SubVecContainerVT = VT;</div>
<div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;    <span class="comment">// Establish the correct scalable-vector types for any fixed-length type.</span></div>
<div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;    <span class="keywordflow">if</span> (VT.<a class="code" href="classllvm_1_1MVT.html#a98049e07856ff1288295bc58e232518b">isFixedLengthVector</a>())</div>
<div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;      SubVecContainerVT = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a1ed864be04c93653277b0f5112a4f305">TLI</a>.getContainerForFixedLengthVector(VT);</div>
<div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;    <span class="keywordflow">if</span> (InVT.<a class="code" href="classllvm_1_1MVT.html#a98049e07856ff1288295bc58e232518b">isFixedLengthVector</a>())</div>
<div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;      InVT = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a1ed864be04c93653277b0f5112a4f305">TLI</a>.getContainerForFixedLengthVector(InVT);</div>
<div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160; </div>
<div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> *<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a> = Subtarget-&gt;<a class="code" href="classllvm_1_1RISCVSubtarget.html#ae6a9afeb2cb6f09a2b3ae38beda73695">getRegisterInfo</a>();</div>
<div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;    <span class="keywordtype">unsigned</span> SubRegIdx;</div>
<div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;    std::tie(SubRegIdx, Idx) =</div>
<div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;        <a class="code" href="classllvm_1_1RISCVTargetLowering.html#a01ee44fd979fc25e2afe3d23a2079494">RISCVTargetLowering::decomposeSubvectorInsertExtractToSubRegs</a>(</div>
<div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;            InVT, SubVecContainerVT, Idx, <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>);</div>
<div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160; </div>
<div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;    <span class="comment">// If the Idx hasn&#39;t been completely eliminated then this is a subvector</span></div>
<div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;    <span class="comment">// extract which doesn&#39;t naturally align to a vector register. These must</span></div>
<div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;    <span class="comment">// be handled using instructions to manipulate the vector registers.</span></div>
<div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;    <span class="keywordflow">if</span> (Idx != 0)</div>
<div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160; </div>
<div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;    <span class="comment">// If we haven&#39;t set a SubRegIdx, then we must be going between</span></div>
<div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;    <span class="comment">// equally-sized LMUL types (e.g. VR -&gt; VR). This can be done as a copy.</span></div>
<div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;    <span class="keywordflow">if</span> (SubRegIdx == RISCV::NoSubRegister) {</div>
<div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;      <span class="keywordtype">unsigned</span> InRegClassID = <a class="code" href="classllvm_1_1RISCVTargetLowering.html#a78d9c499deb0a2aadbf8e7ed5e717a8e">RISCVTargetLowering::getRegClassIDForVecVT</a>(InVT);</div>
<div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="classllvm_1_1RISCVTargetLowering.html#a78d9c499deb0a2aadbf8e7ed5e717a8e">RISCVTargetLowering::getRegClassIDForVecVT</a>(SubVecContainerVT) ==</div>
<div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;                 InRegClassID &amp;&amp;</div>
<div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;             <span class="stringliteral">&quot;Unexpected subvector extraction&quot;</span>);</div>
<div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> RC = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(InRegClassID, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, XLenVT);</div>
<div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;      <a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *NewNode =</div>
<div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;          <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1c04c72abd24de2572a03ef686a36dd6">getMachineNode</a>(TargetOpcode::COPY_TO_REGCLASS, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, V, RC);</div>
<div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;      <a class="code" href="classllvm_1_1SelectionDAGISel.html#acd1bcf7bcbb18b94234b2bf5a505e925">ReplaceNode</a>(Node, NewNode);</div>
<div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;    }</div>
<div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160; </div>
<div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Extract = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a9bc12259f8156d068dfb2e91f04f6a06">getTargetExtractSubreg</a>(SubRegIdx, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, V);</div>
<div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;    <a class="code" href="classllvm_1_1SelectionDAGISel.html#acd1bcf7bcbb18b94234b2bf5a505e925">ReplaceNode</a>(Node, Extract.<a class="code" href="classllvm_1_1SDValue.html#a10d54e1c6c9563724ce01d3a999757b2">getNode</a>());</div>
<div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;  }</div>
<div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1RISCVISD.html#ab68e2d65ea9915ffaac8334a3b8bf882a55a5f5a5eb10f4ca81928a4cee11ab52">RISCVISD::VMV_S_X_VL</a>:</div>
<div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1RISCVISD.html#ab68e2d65ea9915ffaac8334a3b8bf882a41320aaa5a0fc5f6704fba144635bcab">RISCVISD::VFMV_S_F_VL</a>:</div>
<div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1RISCVISD.html#ab68e2d65ea9915ffaac8334a3b8bf882a127afe58529ef366a343a51786dcc3d4">RISCVISD::VMV_V_X_VL</a>:</div>
<div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1RISCVISD.html#ab68e2d65ea9915ffaac8334a3b8bf882a3d046b0b663cacd2116c6d35498ab5ab">RISCVISD::VFMV_V_F_VL</a>: {</div>
<div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;    <span class="comment">// Only if we have optimized zero-stride vector load.</span></div>
<div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;    <span class="keywordflow">if</span> (!Subtarget-&gt;hasOptimizedZeroStrideLoad())</div>
<div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160; </div>
<div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;    <span class="comment">// Try to match splat of a scalar load to a strided load with stride of x0.</span></div>
<div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;    <span class="keywordtype">bool</span> IsScalarMove = Node-&gt;getOpcode() == <a class="code" href="namespacellvm_1_1RISCVISD.html#ab68e2d65ea9915ffaac8334a3b8bf882a55a5f5a5eb10f4ca81928a4cee11ab52">RISCVISD::VMV_S_X_VL</a> ||</div>
<div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;                        Node-&gt;getOpcode() == <a class="code" href="namespacellvm_1_1RISCVISD.html#ab68e2d65ea9915ffaac8334a3b8bf882a41320aaa5a0fc5f6704fba144635bcab">RISCVISD::VFMV_S_F_VL</a>;</div>
<div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;    <span class="keywordflow">if</span> (!Node-&gt;getOperand(0).isUndef())</div>
<div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Src = Node-&gt;getOperand(1);</div>
<div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;    <span class="keyword">auto</span> *Ld = dyn_cast&lt;LoadSDNode&gt;(Src);</div>
<div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;    <span class="keywordflow">if</span> (!Ld)</div>
<div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;    <a class="code" href="structllvm_1_1EVT.html">EVT</a> MemVT = Ld-&gt;getMemoryVT();</div>
<div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;    <span class="comment">// The memory VT should be the same size as the element type.</span></div>
<div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;    <span class="keywordflow">if</span> (MemVT.<a class="code" href="structllvm_1_1EVT.html#a1572b31fadbd0d758314b8d35a050410">getStoreSize</a>() != VT.<a class="code" href="classllvm_1_1MVT.html#ad3ff408f213bef998f49952c6c3711fb">getVectorElementType</a>().<a class="code" href="classllvm_1_1MVT.html#ab8e1af73424a59a00656c9ffd505c03f">getStoreSize</a>())</div>
<div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1SelectionDAGISel.html#a877a33bf451c611191b8f8dcbbaed4ca">IsProfitableToFold</a>(Src, Node, Node) ||</div>
<div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;        !<a class="code" href="classllvm_1_1SelectionDAGISel.html#afde899bbadc9622ad6108694d44d7f36">IsLegalToFold</a>(Src, Node, Node, <a class="code" href="classllvm_1_1SelectionDAGISel.html#a0ead78650333eefc4d5591ca3db9ed4b">TM</a>.<a class="code" href="classllvm_1_1TargetMachine.html#a3f36b7c907385d9b367f7b22a9fcc797">getOptLevel</a>()))</div>
<div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160; </div>
<div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> VL;</div>
<div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;    <span class="keywordflow">if</span> (IsScalarMove) {</div>
<div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;      <span class="comment">// We could deal with more VL if we update the VSETVLI insert pass to</span></div>
<div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;      <span class="comment">// avoid introducing more VSETVLI.</span></div>
<div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm.html#ac926ae0b6871c2207db3e787f6dbcb80">isOneConstant</a>(Node-&gt;getOperand(2)))</div>
<div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;      <a class="code" href="classllvm_1_1RISCVDAGToDAGISel.html#a9dd913520cec32052ff63c8735efad5c">selectVLOp</a>(Node-&gt;getOperand(2), VL);</div>
<div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;    } <span class="keywordflow">else</span></div>
<div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;      <a class="code" href="classllvm_1_1RISCVDAGToDAGISel.html#a9dd913520cec32052ff63c8735efad5c">selectVLOp</a>(Node-&gt;getOperand(2), VL);</div>
<div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160; </div>
<div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="RISCVInsertVSETVLI_8cpp.html#aa74e26e879c8e27e2fda48270367f4ea">Log2SEW</a> = <a class="code" href="namespacellvm.html#a646986783f35e0fef8988f0f28d2589f">Log2_32</a>(VT.<a class="code" href="classllvm_1_1MVT.html#a2e101ce5736aa0643639fd3adae18088">getScalarSizeInBits</a>());</div>
<div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="RISCVInsertVSETVLI_8cpp.html#ac4786fefd4d527c4c601f237a6d67919">SEW</a> = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(<a class="code" href="RISCVInsertVSETVLI_8cpp.html#aa74e26e879c8e27e2fda48270367f4ea">Log2SEW</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, XLenVT);</div>
<div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160; </div>
<div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>[] = {Ld-&gt;getBasePtr(),</div>
<div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;                          <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a9268086dd9d1ba4e60cfe872dde5c173">getRegister</a>(RISCV::X0, XLenVT), VL, <a class="code" href="RISCVInsertVSETVLI_8cpp.html#ac4786fefd4d527c4c601f237a6d67919">SEW</a>,</div>
<div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;                          Ld-&gt;getChain()};</div>
<div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160; </div>
<div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;    <a class="code" href="namespacellvm_1_1RISCVII.html#ab335a6694bd42d4d2f807ec281af1e1c">RISCVII::VLMUL</a> <a class="code" href="namespacellvm_1_1XCoreISD.html#a34e7964aa899176244e03cb7b1fc5985a5f16d1c5f09829a27d169eeda4d60a5f">LMUL</a> = <a class="code" href="classllvm_1_1RISCVTargetLowering.html#ac27709ca33b27034fb25d6fb83cb5fb1">RISCVTargetLowering::getLMUL</a>(VT);</div>
<div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;    <span class="keyword">const</span> <a class="code" href="structllvm_1_1RISCV_1_1VLEPseudo.html">RISCV::VLEPseudo</a> *<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> = RISCV::getVLEPseudo(</div>
<div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;        <span class="comment">/*IsMasked*/</span> <span class="keyword">false</span>, <span class="comment">/*IsTU*/</span> <span class="keyword">false</span>, <span class="comment">/*IsStrided*/</span> <span class="keyword">true</span>, <span class="comment">/*FF*/</span> <span class="keyword">false</span>,</div>
<div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;        <a class="code" href="RISCVInsertVSETVLI_8cpp.html#aa74e26e879c8e27e2fda48270367f4ea">Log2SEW</a>, <span class="keyword">static_cast&lt;</span><span class="keywordtype">unsigned</span><span class="keyword">&gt;</span>(<a class="code" href="namespacellvm_1_1XCoreISD.html#a34e7964aa899176244e03cb7b1fc5985a5f16d1c5f09829a27d169eeda4d60a5f">LMUL</a>));</div>
<div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;    <a class="code" href="classllvm_1_1MachineSDNode.html">MachineSDNode</a> *<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a> =</div>
<div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;        <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1c04c72abd24de2572a03ef686a36dd6">getMachineNode</a>(<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>-&gt;Pseudo, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, {VT, MVT::Other}, <a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>);</div>
<div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;    <span class="comment">// Update the chain.</span></div>
<div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;    <a class="code" href="classllvm_1_1SelectionDAGISel.html#a84e771c0f56c984d8ee4a85c0cb46ed3">ReplaceUses</a>(Src.getValue(1), <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>, 1));</div>
<div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;    <span class="comment">// Record the mem-refs</span></div>
<div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;    <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a66ebc3ec1c8816b16a5f239a8631c780">setNodeMemRefs</a>(<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>, {Ld-&gt;getMemOperand()});</div>
<div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;    <span class="comment">// Replace the splat with the vlse.</span></div>
<div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;    <a class="code" href="classllvm_1_1SelectionDAGISel.html#acd1bcf7bcbb18b94234b2bf5a505e925">ReplaceNode</a>(Node, <a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>);</div>
<div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;  }</div>
<div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;  }</div>
<div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160; </div>
<div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;  <span class="comment">// Select the default instruction.</span></div>
<div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;  SelectCode(Node);</div>
<div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;}</div>
<div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160; </div>
<div class="line"><a name="l01888"></a><span class="lineno"><a class="line" href="classllvm_1_1RISCVDAGToDAGISel.html#a9d90c2c2505deb6a29d705a5cd951ce7"> 1888</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1RISCVDAGToDAGISel.html#a9d90c2c2505deb6a29d705a5cd951ce7">RISCVDAGToDAGISel::SelectInlineAsmMemoryOperand</a>(</div>
<div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, <span class="keywordtype">unsigned</span> ConstraintID, std::vector&lt;SDValue&gt; &amp;OutOps) {</div>
<div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;  <span class="keywordflow">switch</span> (ConstraintID) {</div>
<div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1InlineAsm.html#a9e020cbab32f9a2ec3f777d603dd34baa63f9eb7f82b63667dcebcc51b1dea178">InlineAsm::Constraint_m</a>:</div>
<div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;    <span class="comment">// We just support simple memory operands that have a single address</span></div>
<div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;    <span class="comment">// operand and need no special handling.</span></div>
<div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;    OutOps.push_back(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>);</div>
<div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1InlineAsm.html#a9e020cbab32f9a2ec3f777d603dd34baa4b21e4cc2aba45d2736406378f0c59ac">InlineAsm::Constraint_A</a>:</div>
<div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;    OutOps.push_back(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>);</div>
<div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;  }</div>
<div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160; </div>
<div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;}</div>
<div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160; </div>
<div class="line"><a name="l01906"></a><span class="lineno"><a class="line" href="classllvm_1_1RISCVDAGToDAGISel.html#a6717d53904bf236f07c08d32f3caeab3"> 1906</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1RISCVDAGToDAGISel.html#a6717d53904bf236f07c08d32f3caeab3">RISCVDAGToDAGISel::SelectAddrFrameIndex</a>(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;Base,</div>
<div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;                                             <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;<a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>) {</div>
<div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *FIN = dyn_cast&lt;FrameIndexSDNode&gt;(<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>)) {</div>
<div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;    <a class="code" href="namespacellvm_1_1sampleprof.html#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a> = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a6ececde40ed933c2dfb5af16cb002529">getTargetFrameIndex</a>(FIN-&gt;getIndex(), Subtarget-&gt;<a class="code" href="classllvm_1_1RISCVSubtarget.html#a657dd2086f68037531f461853480fcf7">getXLenVT</a>());</div>
<div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;    <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(0, <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a>(<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>), Subtarget-&gt;<a class="code" href="classllvm_1_1RISCVSubtarget.html#a657dd2086f68037531f461853480fcf7">getXLenVT</a>());</div>
<div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;  }</div>
<div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160; </div>
<div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;}</div>
<div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160; </div>
<div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;<span class="comment">// Select a frame index and an optional immediate offset from an ADD or OR.</span></div>
<div class="line"><a name="l01918"></a><span class="lineno"><a class="line" href="classllvm_1_1RISCVDAGToDAGISel.html#a317f181573e1518f2f011bc01448db04"> 1918</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1RISCVDAGToDAGISel.html#a317f181573e1518f2f011bc01448db04">RISCVDAGToDAGISel::SelectFrameAddrRegImm</a>(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;Base,</div>
<div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;                                              <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;<a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>) {</div>
<div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1RISCVDAGToDAGISel.html#a6717d53904bf236f07c08d32f3caeab3">SelectAddrFrameIndex</a>(<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>, <a class="code" href="namespacellvm_1_1sampleprof.html#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a>, <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>))</div>
<div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160; </div>
<div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#ac520c40bfb7047936bcc2709c2153ebf">isBaseWithConstantOffset</a>(<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>))</div>
<div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160; </div>
<div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *FIN = dyn_cast&lt;FrameIndexSDNode&gt;(<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>.getOperand(0))) {</div>
<div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;    int64_t CVal = cast&lt;ConstantSDNode&gt;(<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>.getOperand(1))-&gt;getSExtValue();</div>
<div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;    <span class="keywordflow">if</span> (isInt&lt;12&gt;(CVal)) {</div>
<div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;      <a class="code" href="namespacellvm_1_1sampleprof.html#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a> = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a6ececde40ed933c2dfb5af16cb002529">getTargetFrameIndex</a>(FIN-&gt;getIndex(),</div>
<div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;                                         Subtarget-&gt;<a class="code" href="classllvm_1_1RISCVSubtarget.html#a657dd2086f68037531f461853480fcf7">getXLenVT</a>());</div>
<div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160;      <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(CVal, <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a>(<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>),</div>
<div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;                                         Subtarget-&gt;<a class="code" href="classllvm_1_1RISCVSubtarget.html#a657dd2086f68037531f461853480fcf7">getXLenVT</a>());</div>
<div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;    }</div>
<div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;  }</div>
<div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160; </div>
<div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;}</div>
<div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160; </div>
<div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;<span class="comment">// Fold constant addresses.</span></div>
<div class="line"><a name="l01941"></a><span class="lineno"><a class="line" href="RISCVISelDAGToDAG_8cpp.html#aa8fec4f2e81732a2262fc2a280b007c1"> 1941</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="RISCVISelDAGToDAG_8cpp.html#aa8fec4f2e81732a2262fc2a280b007c1">selectConstantAddr</a>(<a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> *CurDAG, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>,</div>
<div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;                               <span class="keyword">const</span> <a class="code" href="classllvm_1_1MVT.html">MVT</a> VT, <span class="keyword">const</span> <a class="code" href="classllvm_1_1RISCVSubtarget.html">RISCVSubtarget</a> *Subtarget,</div>
<div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160;                               <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;Base, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;<a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>) {</div>
<div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;  <span class="keywordflow">if</span> (!isa&lt;ConstantSDNode&gt;(<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>))</div>
<div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160; </div>
<div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;  int64_t CVal = cast&lt;ConstantSDNode&gt;(<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>)-&gt;getSExtValue();</div>
<div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160; </div>
<div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;  <span class="comment">// If the constant is a simm12, we can fold the whole constant and use X0 as</span></div>
<div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;  <span class="comment">// the base. If the constant can be materialized with LUI+simm12, use LUI as</span></div>
<div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;  <span class="comment">// the base. We can&#39;t use generateInstSeq because it favors LUI+ADDIW.</span></div>
<div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160;  int64_t Lo12 = SignExtend64&lt;12&gt;(CVal);</div>
<div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160;  int64_t Hi = (<a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a>)CVal - (<a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a>)Lo12;</div>
<div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160;  <span class="keywordflow">if</span> (!Subtarget-&gt;<a class="code" href="classllvm_1_1RISCVSubtarget.html#afd9fbb2a5a666589b2843c496f3ae479">is64Bit</a>() || isInt&lt;32&gt;(Hi)) {</div>
<div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160;    <span class="keywordflow">if</span> (Hi) {</div>
<div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160;      int64_t Hi20 = (Hi &gt;&gt; 12) &amp; 0xfffff;</div>
<div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160;      <a class="code" href="namespacellvm_1_1sampleprof.html#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a> = <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(</div>
<div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160;          CurDAG-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1c04c72abd24de2572a03ef686a36dd6">getMachineNode</a>(RISCV::LUI, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT,</div>
<div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;                                 CurDAG-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(Hi20, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT)),</div>
<div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;          0);</div>
<div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160;      <a class="code" href="namespacellvm_1_1sampleprof.html#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a> = CurDAG-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a9268086dd9d1ba4e60cfe872dde5c173">getRegister</a>(RISCV::X0, VT);</div>
<div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160;    }</div>
<div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160;    <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> = CurDAG-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(Lo12, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT);</div>
<div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160;  }</div>
<div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160; </div>
<div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;  <span class="comment">// Ask how constant materialization would handle this constant.</span></div>
<div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">RISCVMatInt::InstSeq</a> Seq =</div>
<div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;      <a class="code" href="namespacellvm_1_1RISCVMatInt.html#ac381b141cc5f412d297c97afce5d3b6e">RISCVMatInt::generateInstSeq</a>(CVal, Subtarget-&gt;getFeatureBits());</div>
<div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160; </div>
<div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160;  <span class="comment">// If the last instruction would be an ADDI, we can fold its immediate and</span></div>
<div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160;  <span class="comment">// emit the rest of the sequence as the base.</span></div>
<div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160;  <span class="keywordflow">if</span> (Seq.back().getOpcode() != RISCV::ADDI)</div>
<div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;  Lo12 = Seq.back().getImm();</div>
<div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160; </div>
<div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;  <span class="comment">// Drop the last instruction.</span></div>
<div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;  Seq.pop_back();</div>
<div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!Seq.empty() &amp;&amp; <span class="stringliteral">&quot;Expected more instructions in sequence&quot;</span>);</div>
<div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160; </div>
<div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;  <a class="code" href="namespacellvm_1_1sampleprof.html#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a> = <a class="code" href="RISCVISelDAGToDAG_8cpp.html#a6a41924e51804fff4d3c8394d3643541">selectImmSeq</a>(CurDAG, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, Seq);</div>
<div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160;  <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> = CurDAG-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(Lo12, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT);</div>
<div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;}</div>
<div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160; </div>
<div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;<span class="comment">// Is this ADD instruction only used as the base pointer of scalar loads and</span></div>
<div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;<span class="comment">// stores?</span></div>
<div class="line"><a name="l01989"></a><span class="lineno"><a class="line" href="RISCVISelDAGToDAG_8cpp.html#a641563566f08db6108848bf61de2f323"> 1989</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="RISCVISelDAGToDAG_8cpp.html#a641563566f08db6108848bf61de2f323">isWorthFoldingAdd</a>(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Add) {</div>
<div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> *<a class="code" href="classllvm_1_1Use.html">Use</a> : Add-&gt;uses()) {</div>
<div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Use.html">Use</a>-&gt;getOpcode() != <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269b81f007000306e3e69d0d290c2159">ISD::LOAD</a> &amp;&amp; <a class="code" href="classllvm_1_1Use.html">Use</a>-&gt;getOpcode() != <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a047178c3b2c6a5df40ae22a407b8aca9">ISD::STORE</a> &amp;&amp;</div>
<div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;        <a class="code" href="classllvm_1_1Use.html">Use</a>-&gt;getOpcode() != <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7c47226f266248f4b8c155b83601b109">ISD::ATOMIC_LOAD</a> &amp;&amp;</div>
<div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;        <a class="code" href="classllvm_1_1Use.html">Use</a>-&gt;getOpcode() != <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a1db943abc1bf78a911daeb7b03d81de8">ISD::ATOMIC_STORE</a>)</div>
<div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;    <a class="code" href="structllvm_1_1EVT.html">EVT</a> VT = cast&lt;MemSDNode&gt;(<a class="code" href="classllvm_1_1Use.html">Use</a>)-&gt;getMemoryVT();</div>
<div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;    <span class="keywordflow">if</span> (!VT.<a class="code" href="structllvm_1_1EVT.html#ad958859a7af278dd5ea2b593c2b25050">isScalarInteger</a>() &amp;&amp; VT != <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a1e0cfc795f0b068229dcec6eecb69499">MVT::f16</a> &amp;&amp; VT != <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a586bae91020e6d8cccfe0995f527606f">MVT::f32</a> &amp;&amp;</div>
<div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;        VT != <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346ac661c912350e3095c85ba75b8dbc17b1">MVT::f64</a>)</div>
<div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;    <span class="comment">// Don&#39;t allow stores of the value. It must be used as the address.</span></div>
<div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Use.html">Use</a>-&gt;getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a047178c3b2c6a5df40ae22a407b8aca9">ISD::STORE</a> &amp;&amp;</div>
<div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;        cast&lt;StoreSDNode&gt;(<a class="code" href="classllvm_1_1Use.html">Use</a>)-&gt;getValue() == Add)</div>
<div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Use.html">Use</a>-&gt;getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a1db943abc1bf78a911daeb7b03d81de8">ISD::ATOMIC_STORE</a> &amp;&amp;</div>
<div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;        cast&lt;AtomicSDNode&gt;(<a class="code" href="classllvm_1_1Use.html">Use</a>)-&gt;getVal() == Add)</div>
<div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;  }</div>
<div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160; </div>
<div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;}</div>
<div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160; </div>
<div class="line"><a name="l02011"></a><span class="lineno"><a class="line" href="classllvm_1_1RISCVDAGToDAGISel.html#a7189b052d3d47dd4f936604abb891a7a"> 2011</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1RISCVDAGToDAGISel.html#a7189b052d3d47dd4f936604abb891a7a">RISCVDAGToDAGISel::SelectAddrRegImm</a>(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;Base,</div>
<div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;                                         <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;<a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>) {</div>
<div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1RISCVDAGToDAGISel.html#a6717d53904bf236f07c08d32f3caeab3">SelectAddrFrameIndex</a>(<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>, <a class="code" href="namespacellvm_1_1sampleprof.html#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a>, <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>))</div>
<div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160; </div>
<div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>(<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>);</div>
<div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;  <a class="code" href="classllvm_1_1MVT.html">MVT</a> VT = <a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>.getSimpleValueType();</div>
<div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160; </div>
<div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>.getOpcode() == <a class="code" href="namespacellvm_1_1RISCVISD.html#ab68e2d65ea9915ffaac8334a3b8bf882af67faecb539beaa37dfcfff1252c9c60">RISCVISD::ADD_LO</a>) {</div>
<div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;    <a class="code" href="namespacellvm_1_1sampleprof.html#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a> = <a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>.getOperand(0);</div>
<div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;    <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> = <a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>.getOperand(1);</div>
<div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160;  }</div>
<div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160; </div>
<div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#ac520c40bfb7047936bcc2709c2153ebf">isBaseWithConstantOffset</a>(<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>)) {</div>
<div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160;    int64_t CVal = cast&lt;ConstantSDNode&gt;(<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>.getOperand(1))-&gt;getSExtValue();</div>
<div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;    <span class="keywordflow">if</span> (isInt&lt;12&gt;(CVal)) {</div>
<div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160;      <a class="code" href="namespacellvm_1_1sampleprof.html#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a> = <a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>.getOperand(0);</div>
<div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1sampleprof.html#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a>.getOpcode() == <a class="code" href="namespacellvm_1_1RISCVISD.html#ab68e2d65ea9915ffaac8334a3b8bf882af67faecb539beaa37dfcfff1252c9c60">RISCVISD::ADD_LO</a>) {</div>
<div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160;        <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> LoOperand = <a class="code" href="namespacellvm_1_1sampleprof.html#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a>.getOperand(1);</div>
<div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160;        <span class="keywordflow">if</span> (<span class="keyword">auto</span> *GA = dyn_cast&lt;GlobalAddressSDNode&gt;(LoOperand)) {</div>
<div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;          <span class="comment">// If the Lo in (ADD_LO hi, lo) is a global variable&#39;s address</span></div>
<div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160;          <span class="comment">// (its low part, really), then we can rely on the alignment of that</span></div>
<div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;          <span class="comment">// variable to provide a margin of safety before low part can overflow</span></div>
<div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;          <span class="comment">// the 12 bits of the load/store offset. Check if CVal falls within</span></div>
<div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160;          <span class="comment">// that margin; if so (low part + CVal) can&#39;t overflow.</span></div>
<div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160;          <span class="keyword">const</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a> = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#aa8fca8c414a664c8d1cd44da876b8b3b">getDataLayout</a>();</div>
<div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160;          <a class="code" href="structllvm_1_1Align.html">Align</a> Alignment = <a class="code" href="namespacellvm.html#acd6aa057934751aaac54e5c18bcc18eb">commonAlignment</a>(</div>
<div class="line"><a name="l02039"></a><span class="lineno"> 2039</span>&#160;              GA-&gt;getGlobal()-&gt;getPointerAlignment(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>), GA-&gt;getOffset());</div>
<div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160;          <span class="keywordflow">if</span> (CVal == 0 || Alignment &gt; CVal) {</div>
<div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160;            int64_t CombinedOffset = CVal + GA-&gt;getOffset();</div>
<div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160;            <a class="code" href="namespacellvm_1_1sampleprof.html#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a> = <a class="code" href="namespacellvm_1_1sampleprof.html#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a>.getOperand(0);</div>
<div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160;            <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a05c0ae3eb411a8c53a6ce48b66c0d3f8">getTargetGlobalAddress</a>(</div>
<div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160;                GA-&gt;getGlobal(), <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a>(LoOperand), LoOperand.<a class="code" href="classllvm_1_1SDValue.html#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>(),</div>
<div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160;                CombinedOffset, GA-&gt;getTargetFlags());</div>
<div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160;          }</div>
<div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160;        }</div>
<div class="line"><a name="l02049"></a><span class="lineno"> 2049</span>&#160;      }</div>
<div class="line"><a name="l02050"></a><span class="lineno"> 2050</span>&#160; </div>
<div class="line"><a name="l02051"></a><span class="lineno"> 2051</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">auto</span> *FIN = dyn_cast&lt;FrameIndexSDNode&gt;(<a class="code" href="namespacellvm_1_1sampleprof.html#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a>))</div>
<div class="line"><a name="l02052"></a><span class="lineno"> 2052</span>&#160;        <a class="code" href="namespacellvm_1_1sampleprof.html#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a> = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a6ececde40ed933c2dfb5af16cb002529">getTargetFrameIndex</a>(FIN-&gt;getIndex(), VT);</div>
<div class="line"><a name="l02053"></a><span class="lineno"> 2053</span>&#160;      <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(CVal, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT);</div>
<div class="line"><a name="l02054"></a><span class="lineno"> 2054</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02055"></a><span class="lineno"> 2055</span>&#160;    }</div>
<div class="line"><a name="l02056"></a><span class="lineno"> 2056</span>&#160;  }</div>
<div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160; </div>
<div class="line"><a name="l02058"></a><span class="lineno"> 2058</span>&#160;  <span class="comment">// Handle ADD with large immediates.</span></div>
<div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>.getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">ISD::ADD</a> &amp;&amp; isa&lt;ConstantSDNode&gt;(<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>.getOperand(1))) {</div>
<div class="line"><a name="l02060"></a><span class="lineno"> 2060</span>&#160;    int64_t CVal = cast&lt;ConstantSDNode&gt;(<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>.getOperand(1))-&gt;getSExtValue();</div>
<div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!isInt&lt;12&gt;(CVal) &amp;&amp; <span class="stringliteral">&quot;simm12 not already handled?&quot;</span>);</div>
<div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160; </div>
<div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160;    <span class="comment">// Handle immediates in the range [-4096,-2049] or [2048, 4094]. We can use</span></div>
<div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160;    <span class="comment">// an ADDI for part of the offset and fold the rest into the load/store.</span></div>
<div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160;    <span class="comment">// This mirrors the AddiPair PatFrag in RISCVInstrInfo.td.</span></div>
<div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160;    <span class="keywordflow">if</span> (isInt&lt;12&gt;(CVal / 2) &amp;&amp; isInt&lt;12&gt;(CVal - CVal / 2)) {</div>
<div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160;      int64_t Adj = CVal &lt; 0 ? -2048 : 2047;</div>
<div class="line"><a name="l02068"></a><span class="lineno"> 2068</span>&#160;      <a class="code" href="namespacellvm_1_1sampleprof.html#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a> = <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(</div>
<div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160;          <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1c04c72abd24de2572a03ef686a36dd6">getMachineNode</a>(RISCV::ADDI, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, <a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>.getOperand(0),</div>
<div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160;                                 <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(Adj, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT)),</div>
<div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160;          0);</div>
<div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160;      <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(CVal - Adj, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT);</div>
<div class="line"><a name="l02073"></a><span class="lineno"> 2073</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160;    }</div>
<div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160; </div>
<div class="line"><a name="l02076"></a><span class="lineno"> 2076</span>&#160;    <span class="comment">// For larger immediates, we might be able to save one instruction from</span></div>
<div class="line"><a name="l02077"></a><span class="lineno"> 2077</span>&#160;    <span class="comment">// constant materialization by folding the Lo12 bits of the immediate into</span></div>
<div class="line"><a name="l02078"></a><span class="lineno"> 2078</span>&#160;    <span class="comment">// the address. We should only do this if the ADD is only used by loads and</span></div>
<div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160;    <span class="comment">// stores that can fold the lo12 bits. Otherwise, the ADD will get iseled</span></div>
<div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160;    <span class="comment">// separately with the full materialized immediate creating extra</span></div>
<div class="line"><a name="l02081"></a><span class="lineno"> 2081</span>&#160;    <span class="comment">// instructions.</span></div>
<div class="line"><a name="l02082"></a><span class="lineno"> 2082</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="RISCVISelDAGToDAG_8cpp.html#a641563566f08db6108848bf61de2f323">isWorthFoldingAdd</a>(<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>) &amp;&amp;</div>
<div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160;        <a class="code" href="RISCVISelDAGToDAG_8cpp.html#aa8fec4f2e81732a2262fc2a280b007c1">selectConstantAddr</a>(<a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, Subtarget, <a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>.getOperand(1), <a class="code" href="namespacellvm_1_1sampleprof.html#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a>,</div>
<div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160;                           <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>)) {</div>
<div class="line"><a name="l02085"></a><span class="lineno"> 2085</span>&#160;      <span class="comment">// Insert an ADD instruction with the materialized Hi52 bits.</span></div>
<div class="line"><a name="l02086"></a><span class="lineno"> 2086</span>&#160;      <a class="code" href="namespacellvm_1_1sampleprof.html#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a> = <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(</div>
<div class="line"><a name="l02087"></a><span class="lineno"> 2087</span>&#160;          <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1c04c72abd24de2572a03ef686a36dd6">getMachineNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">RISCV::ADD</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, <a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>.getOperand(0), <a class="code" href="namespacellvm_1_1sampleprof.html#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a>),</div>
<div class="line"><a name="l02088"></a><span class="lineno"> 2088</span>&#160;          0);</div>
<div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160;    }</div>
<div class="line"><a name="l02091"></a><span class="lineno"> 2091</span>&#160;  }</div>
<div class="line"><a name="l02092"></a><span class="lineno"> 2092</span>&#160; </div>
<div class="line"><a name="l02093"></a><span class="lineno"> 2093</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="RISCVISelDAGToDAG_8cpp.html#aa8fec4f2e81732a2262fc2a280b007c1">selectConstantAddr</a>(<a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, Subtarget, <a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>, <a class="code" href="namespacellvm_1_1sampleprof.html#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a>, <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>))</div>
<div class="line"><a name="l02094"></a><span class="lineno"> 2094</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02095"></a><span class="lineno"> 2095</span>&#160; </div>
<div class="line"><a name="l02096"></a><span class="lineno"> 2096</span>&#160;  <a class="code" href="namespacellvm_1_1sampleprof.html#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a> = <a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>;</div>
<div class="line"><a name="l02097"></a><span class="lineno"> 2097</span>&#160;  <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(0, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT);</div>
<div class="line"><a name="l02098"></a><span class="lineno"> 2098</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02099"></a><span class="lineno"> 2099</span>&#160;}</div>
<div class="line"><a name="l02100"></a><span class="lineno"> 2100</span>&#160; </div>
<div class="line"><a name="l02101"></a><span class="lineno"><a class="line" href="classllvm_1_1RISCVDAGToDAGISel.html#af619c526b5e90968d76fbd4fe4c861cb"> 2101</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1RISCVDAGToDAGISel.html#af619c526b5e90968d76fbd4fe4c861cb">RISCVDAGToDAGISel::selectShiftMask</a>(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, <span class="keywordtype">unsigned</span> ShiftWidth,</div>
<div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160;                                        <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;ShAmt) {</div>
<div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160;  ShAmt = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>;</div>
<div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160; </div>
<div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160;  <span class="comment">// Shift instructions on RISCV only read the lower 5 or 6 bits of the shift</span></div>
<div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160;  <span class="comment">// amount. If there is an AND on the shift amount, we can bypass it if it</span></div>
<div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160;  <span class="comment">// doesn&#39;t affect any of those bits.</span></div>
<div class="line"><a name="l02108"></a><span class="lineno"> 2108</span>&#160;  <span class="keywordflow">if</span> (ShAmt.<a class="code" href="classllvm_1_1SDValue.html#ae779a9d142e6318d8fb0e4f0da32af0f">getOpcode</a>() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a> &amp;&amp; isa&lt;ConstantSDNode&gt;(ShAmt.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(1))) {</div>
<div class="line"><a name="l02109"></a><span class="lineno"> 2109</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;AndMask = ShAmt.<a class="code" href="classllvm_1_1SDValue.html#abb7cd0abf43d415da943eb8e4fe4f01b">getConstantOperandAPInt</a>(1);</div>
<div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160; </div>
<div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160;    <span class="comment">// Since the max shift amount is a power of 2 we can subtract 1 to make a</span></div>
<div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160;    <span class="comment">// mask that covers the bits needed to represent all shift amounts.</span></div>
<div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="namespacellvm.html#a6dec2b5d3e04b47adf4d918d678e81c9">isPowerOf2_32</a>(ShiftWidth) &amp;&amp; <span class="stringliteral">&quot;Unexpected max shift amount!&quot;</span>);</div>
<div class="line"><a name="l02114"></a><span class="lineno"> 2114</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> ShMask(AndMask.<a class="code" href="classllvm_1_1APInt.html#a512fe2c15ea651294688eeec1341644c">getBitWidth</a>(), ShiftWidth - 1);</div>
<div class="line"><a name="l02115"></a><span class="lineno"> 2115</span>&#160; </div>
<div class="line"><a name="l02116"></a><span class="lineno"> 2116</span>&#160;    <span class="keywordflow">if</span> (ShMask.<a class="code" href="classllvm_1_1APInt.html#acfae9bdee6027ffa8ffe244cc22e3a76">isSubsetOf</a>(AndMask)) {</div>
<div class="line"><a name="l02117"></a><span class="lineno"> 2117</span>&#160;      ShAmt = ShAmt.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(0);</div>
<div class="line"><a name="l02118"></a><span class="lineno"> 2118</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02119"></a><span class="lineno"> 2119</span>&#160;      <span class="comment">// SimplifyDemandedBits may have optimized the mask so try restoring any</span></div>
<div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160;      <span class="comment">// bits that are known zero.</span></div>
<div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160;      <a class="code" href="structllvm_1_1KnownBits.html">KnownBits</a> Known = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#acf82847f1e6fae251ba4183cffd4a3d5">computeKnownBits</a>(ShAmt.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(0));</div>
<div class="line"><a name="l02122"></a><span class="lineno"> 2122</span>&#160;      <span class="keywordflow">if</span> (!ShMask.<a class="code" href="classllvm_1_1APInt.html#acfae9bdee6027ffa8ffe244cc22e3a76">isSubsetOf</a>(AndMask | Known.<a class="code" href="structllvm_1_1KnownBits.html#ac67bca6c764da76f5e152330d92ed916">Zero</a>))</div>
<div class="line"><a name="l02123"></a><span class="lineno"> 2123</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02124"></a><span class="lineno"> 2124</span>&#160;      ShAmt = ShAmt.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(0);</div>
<div class="line"><a name="l02125"></a><span class="lineno"> 2125</span>&#160;    }</div>
<div class="line"><a name="l02126"></a><span class="lineno"> 2126</span>&#160;  }</div>
<div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160; </div>
<div class="line"><a name="l02128"></a><span class="lineno"> 2128</span>&#160;  <span class="keywordflow">if</span> (ShAmt.<a class="code" href="classllvm_1_1SDValue.html#ae779a9d142e6318d8fb0e4f0da32af0f">getOpcode</a>() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">ISD::ADD</a> &amp;&amp;</div>
<div class="line"><a name="l02129"></a><span class="lineno"> 2129</span>&#160;      isa&lt;ConstantSDNode&gt;(ShAmt.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(1))) {</div>
<div class="line"><a name="l02130"></a><span class="lineno"> 2130</span>&#160;    <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> = ShAmt.<a class="code" href="classllvm_1_1SDValue.html#ac969b6c833cfa44c1b4fcd5790268340">getConstantOperandVal</a>(1);</div>
<div class="line"><a name="l02131"></a><span class="lineno"> 2131</span>&#160;    <span class="comment">// If we are shifting by X+N where N == 0 mod Size, then just shift by X</span></div>
<div class="line"><a name="l02132"></a><span class="lineno"> 2132</span>&#160;    <span class="comment">// to avoid the ADD.</span></div>
<div class="line"><a name="l02133"></a><span class="lineno"> 2133</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> != 0 &amp;&amp; <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> % ShiftWidth == 0) {</div>
<div class="line"><a name="l02134"></a><span class="lineno"> 2134</span>&#160;      ShAmt = ShAmt.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(0);</div>
<div class="line"><a name="l02135"></a><span class="lineno"> 2135</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02136"></a><span class="lineno"> 2136</span>&#160;    }</div>
<div class="line"><a name="l02137"></a><span class="lineno"> 2137</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ShAmt.<a class="code" href="classllvm_1_1SDValue.html#ae779a9d142e6318d8fb0e4f0da32af0f">getOpcode</a>() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9fa617e5567c3c2638938f7b9ddc3f1c">ISD::SUB</a> &amp;&amp;</div>
<div class="line"><a name="l02138"></a><span class="lineno"> 2138</span>&#160;             isa&lt;ConstantSDNode&gt;(ShAmt.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(0))) {</div>
<div class="line"><a name="l02139"></a><span class="lineno"> 2139</span>&#160;    <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> = ShAmt.<a class="code" href="classllvm_1_1SDValue.html#ac969b6c833cfa44c1b4fcd5790268340">getConstantOperandVal</a>(0);</div>
<div class="line"><a name="l02140"></a><span class="lineno"> 2140</span>&#160;    <span class="comment">// If we are shifting by N-X where N == 0 mod Size, then just shift by -X to</span></div>
<div class="line"><a name="l02141"></a><span class="lineno"> 2141</span>&#160;    <span class="comment">// generate a NEG instead of a SUB of a constant.</span></div>
<div class="line"><a name="l02142"></a><span class="lineno"> 2142</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> != 0 &amp;&amp; <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> % ShiftWidth == 0) {</div>
<div class="line"><a name="l02143"></a><span class="lineno"> 2143</span>&#160;      <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>(ShAmt);</div>
<div class="line"><a name="l02144"></a><span class="lineno"> 2144</span>&#160;      <a class="code" href="structllvm_1_1EVT.html">EVT</a> VT = ShAmt.<a class="code" href="classllvm_1_1SDValue.html#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>();</div>
<div class="line"><a name="l02145"></a><span class="lineno"> 2145</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Zero = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a9268086dd9d1ba4e60cfe872dde5c173">getRegister</a>(RISCV::X0, VT);</div>
<div class="line"><a name="l02146"></a><span class="lineno"> 2146</span>&#160;      <span class="keywordtype">unsigned</span> NegOpc = VT == <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a97f56253625b3fe7b371ce76722de4b8">MVT::i64</a> ? RISCV::SUBW : <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9fa617e5567c3c2638938f7b9ddc3f1c">RISCV::SUB</a>;</div>
<div class="line"><a name="l02147"></a><span class="lineno"> 2147</span>&#160;      <a class="code" href="classllvm_1_1MachineSDNode.html">MachineSDNode</a> *Neg = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1c04c72abd24de2572a03ef686a36dd6">getMachineNode</a>(NegOpc, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, Zero,</div>
<div class="line"><a name="l02148"></a><span class="lineno"> 2148</span>&#160;                                                  ShAmt.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(1));</div>
<div class="line"><a name="l02149"></a><span class="lineno"> 2149</span>&#160;      ShAmt = <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(Neg, 0);</div>
<div class="line"><a name="l02150"></a><span class="lineno"> 2150</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02151"></a><span class="lineno"> 2151</span>&#160;    }</div>
<div class="line"><a name="l02152"></a><span class="lineno"> 2152</span>&#160;    <span class="comment">// If we are shifting by N-X where N == -1 mod Size, then just shift by ~X</span></div>
<div class="line"><a name="l02153"></a><span class="lineno"> 2153</span>&#160;    <span class="comment">// to generate a NOT instead of a SUB of a constant.</span></div>
<div class="line"><a name="l02154"></a><span class="lineno"> 2154</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> % ShiftWidth == ShiftWidth - 1) {</div>
<div class="line"><a name="l02155"></a><span class="lineno"> 2155</span>&#160;      <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>(ShAmt);</div>
<div class="line"><a name="l02156"></a><span class="lineno"> 2156</span>&#160;      <a class="code" href="structllvm_1_1EVT.html">EVT</a> VT = ShAmt.<a class="code" href="classllvm_1_1SDValue.html#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>();</div>
<div class="line"><a name="l02157"></a><span class="lineno"> 2157</span>&#160;      <a class="code" href="classllvm_1_1MachineSDNode.html">MachineSDNode</a> *Not =</div>
<div class="line"><a name="l02158"></a><span class="lineno"> 2158</span>&#160;          <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1c04c72abd24de2572a03ef686a36dd6">getMachineNode</a>(RISCV::XORI, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, ShAmt.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(1),</div>
<div class="line"><a name="l02159"></a><span class="lineno"> 2159</span>&#160;                                 <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(-1, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT));</div>
<div class="line"><a name="l02160"></a><span class="lineno"> 2160</span>&#160;      ShAmt = <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(Not, 0);</div>
<div class="line"><a name="l02161"></a><span class="lineno"> 2161</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02162"></a><span class="lineno"> 2162</span>&#160;    }</div>
<div class="line"><a name="l02163"></a><span class="lineno"> 2163</span>&#160;  }</div>
<div class="line"><a name="l02164"></a><span class="lineno"> 2164</span>&#160; </div>
<div class="line"><a name="l02165"></a><span class="lineno"> 2165</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02166"></a><span class="lineno"> 2166</span>&#160;}</div>
<div class="line"><a name="l02167"></a><span class="lineno"> 2167</span>&#160; </div>
<div class="line"><a name="l02168"></a><span class="lineno"><a class="line" href="classllvm_1_1RISCVDAGToDAGISel.html#a015f92412cbdc26fe3f1f398afb3575b"> 2168</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1RISCVDAGToDAGISel.html#a015f92412cbdc26fe3f1f398afb3575b">RISCVDAGToDAGISel::selectSExtBits</a>(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a3c0710aa6b054662f67b480712fa2b95">Bits</a>, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;Val) {</div>
<div class="line"><a name="l02169"></a><span class="lineno"> 2169</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>.getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aaa59dd5ec37f21905436b354c0292d9e">ISD::SIGN_EXTEND_INREG</a> &amp;&amp;</div>
<div class="line"><a name="l02170"></a><span class="lineno"> 2170</span>&#160;      cast&lt;VTSDNode&gt;(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>.getOperand(1))-&gt;getVT().getSizeInBits() == <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a3c0710aa6b054662f67b480712fa2b95">Bits</a>) {</div>
<div class="line"><a name="l02171"></a><span class="lineno"> 2171</span>&#160;    Val = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>.getOperand(0);</div>
<div class="line"><a name="l02172"></a><span class="lineno"> 2172</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02173"></a><span class="lineno"> 2173</span>&#160;  }</div>
<div class="line"><a name="l02174"></a><span class="lineno"> 2174</span>&#160; </div>
<div class="line"><a name="l02175"></a><span class="lineno"> 2175</span>&#160;  <span class="keyword">auto</span> UnwrapShlSra = [](<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, <span class="keywordtype">unsigned</span> ShiftAmt) {</div>
<div class="line"><a name="l02176"></a><span class="lineno"> 2176</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>.getOpcode() != <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4a055321c361a0f6ee77ed764730ffc1">ISD::SRA</a> || !isa&lt;ConstantSDNode&gt;(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>.getOperand(1)))</div>
<div class="line"><a name="l02177"></a><span class="lineno"> 2177</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>;</div>
<div class="line"><a name="l02178"></a><span class="lineno"> 2178</span>&#160; </div>
<div class="line"><a name="l02179"></a><span class="lineno"> 2179</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> N0 = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>.getOperand(0);</div>
<div class="line"><a name="l02180"></a><span class="lineno"> 2180</span>&#160;    <span class="keywordflow">if</span> (N0.<a class="code" href="classllvm_1_1SDValue.html#ae779a9d142e6318d8fb0e4f0da32af0f">getOpcode</a>() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a8cc94e03dea594863073a02f5bb94997">ISD::SHL</a> &amp;&amp; isa&lt;ConstantSDNode&gt;(N0.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(1)) &amp;&amp;</div>
<div class="line"><a name="l02181"></a><span class="lineno"> 2181</span>&#160;        <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>.getConstantOperandVal(1) == ShiftAmt &amp;&amp;</div>
<div class="line"><a name="l02182"></a><span class="lineno"> 2182</span>&#160;        N0.<a class="code" href="classllvm_1_1SDValue.html#ac969b6c833cfa44c1b4fcd5790268340">getConstantOperandVal</a>(1) == ShiftAmt)</div>
<div class="line"><a name="l02183"></a><span class="lineno"> 2183</span>&#160;      <span class="keywordflow">return</span> N0.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(0);</div>
<div class="line"><a name="l02184"></a><span class="lineno"> 2184</span>&#160; </div>
<div class="line"><a name="l02185"></a><span class="lineno"> 2185</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>;</div>
<div class="line"><a name="l02186"></a><span class="lineno"> 2186</span>&#160;  };</div>
<div class="line"><a name="l02187"></a><span class="lineno"> 2187</span>&#160; </div>
<div class="line"><a name="l02188"></a><span class="lineno"> 2188</span>&#160;  <a class="code" href="classllvm_1_1MVT.html">MVT</a> VT = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>.getSimpleValueType();</div>
<div class="line"><a name="l02189"></a><span class="lineno"> 2189</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#ac01c66c983bfbac05a0cf903f08417df">ComputeNumSignBits</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>) &gt; (VT.<a class="code" href="classllvm_1_1MVT.html#a7be7c6dd92efc0d6f866d4a3b433eed0">getSizeInBits</a>() - <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a3c0710aa6b054662f67b480712fa2b95">Bits</a>)) {</div>
<div class="line"><a name="l02190"></a><span class="lineno"> 2190</span>&#160;    Val = UnwrapShlSra(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, VT.<a class="code" href="classllvm_1_1MVT.html#a7be7c6dd92efc0d6f866d4a3b433eed0">getSizeInBits</a>() - <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a3c0710aa6b054662f67b480712fa2b95">Bits</a>);</div>
<div class="line"><a name="l02191"></a><span class="lineno"> 2191</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02192"></a><span class="lineno"> 2192</span>&#160;  }</div>
<div class="line"><a name="l02193"></a><span class="lineno"> 2193</span>&#160; </div>
<div class="line"><a name="l02194"></a><span class="lineno"> 2194</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02195"></a><span class="lineno"> 2195</span>&#160;}</div>
<div class="line"><a name="l02196"></a><span class="lineno"> 2196</span>&#160; </div>
<div class="line"><a name="l02197"></a><span class="lineno"><a class="line" href="classllvm_1_1RISCVDAGToDAGISel.html#a05b5cba8cfdcec8f2d1dafb06fb63ab5"> 2197</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1RISCVDAGToDAGISel.html#a05b5cba8cfdcec8f2d1dafb06fb63ab5">RISCVDAGToDAGISel::selectZExtBits</a>(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a3c0710aa6b054662f67b480712fa2b95">Bits</a>, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;Val) {</div>
<div class="line"><a name="l02198"></a><span class="lineno"> 2198</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>.getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a>) {</div>
<div class="line"><a name="l02199"></a><span class="lineno"> 2199</span>&#160;    <span class="keyword">auto</span> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = dyn_cast&lt;ConstantSDNode&gt;(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>.getOperand(1));</div>
<div class="line"><a name="l02200"></a><span class="lineno"> 2200</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> &amp;&amp; <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;getZExtValue() == maskTrailingOnes&lt;uint64_t&gt;(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a3c0710aa6b054662f67b480712fa2b95">Bits</a>)) {</div>
<div class="line"><a name="l02201"></a><span class="lineno"> 2201</span>&#160;      Val = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>.getOperand(0);</div>
<div class="line"><a name="l02202"></a><span class="lineno"> 2202</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02203"></a><span class="lineno"> 2203</span>&#160;    }</div>
<div class="line"><a name="l02204"></a><span class="lineno"> 2204</span>&#160;  }</div>
<div class="line"><a name="l02205"></a><span class="lineno"> 2205</span>&#160;  <a class="code" href="classllvm_1_1MVT.html">MVT</a> VT = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>.getSimpleValueType();</div>
<div class="line"><a name="l02206"></a><span class="lineno"> 2206</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a> = <a class="code" href="classllvm_1_1APInt.html#aeaf22e8d92fd978a5eca9ab031994399">APInt::getBitsSetFrom</a>(VT.<a class="code" href="classllvm_1_1MVT.html#a7be7c6dd92efc0d6f866d4a3b433eed0">getSizeInBits</a>(), <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a3c0710aa6b054662f67b480712fa2b95">Bits</a>);</div>
<div class="line"><a name="l02207"></a><span class="lineno"> 2207</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#ad5386f4196a9eab5701c451469f2e20e">MaskedValueIsZero</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>)) {</div>
<div class="line"><a name="l02208"></a><span class="lineno"> 2208</span>&#160;    Val = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>;</div>
<div class="line"><a name="l02209"></a><span class="lineno"> 2209</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02210"></a><span class="lineno"> 2210</span>&#160;  }</div>
<div class="line"><a name="l02211"></a><span class="lineno"> 2211</span>&#160; </div>
<div class="line"><a name="l02212"></a><span class="lineno"> 2212</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02213"></a><span class="lineno"> 2213</span>&#160;}</div>
<div class="line"><a name="l02214"></a><span class="lineno"> 2214</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l02215"></a><span class="lineno"> 2215</span>&#160;<span class="comment">/// Look for various patterns that can be done with a SHL that can be folded</span></div>
<div class="line"><a name="l02216"></a><span class="lineno"> 2216</span>&#160;<span class="comment">/// into a SHXADD. \p ShAmt contains 1, 2, or 3 and is set based on which</span></div>
<div class="line"><a name="l02217"></a><span class="lineno"> 2217</span>&#160;<span class="comment">/// SHXADD we are trying to match.</span></div>
<div class="line"><a name="l02218"></a><span class="lineno"><a class="line" href="classllvm_1_1RISCVDAGToDAGISel.html#af9a2bb077674a4de01b665b694b7f77f"> 2218</a></span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1RISCVDAGToDAGISel.html#af9a2bb077674a4de01b665b694b7f77f">RISCVDAGToDAGISel::selectSHXADDOp</a>(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, <span class="keywordtype">unsigned</span> ShAmt,</div>
<div class="line"><a name="l02219"></a><span class="lineno"> 2219</span>&#160;                                       <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;Val) {</div>
<div class="line"><a name="l02220"></a><span class="lineno"> 2220</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>.getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a> &amp;&amp; isa&lt;ConstantSDNode&gt;(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>.getOperand(1))) {</div>
<div class="line"><a name="l02221"></a><span class="lineno"> 2221</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> N0 = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>.getOperand(0);</div>
<div class="line"><a name="l02222"></a><span class="lineno"> 2222</span>&#160; </div>
<div class="line"><a name="l02223"></a><span class="lineno"> 2223</span>&#160;    <span class="keywordtype">bool</span> LeftShift = N0.<a class="code" href="classllvm_1_1SDValue.html#ae779a9d142e6318d8fb0e4f0da32af0f">getOpcode</a>() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a8cc94e03dea594863073a02f5bb94997">ISD::SHL</a>;</div>
<div class="line"><a name="l02224"></a><span class="lineno"> 2224</span>&#160;    <span class="keywordflow">if</span> ((LeftShift || N0.<a class="code" href="classllvm_1_1SDValue.html#ae779a9d142e6318d8fb0e4f0da32af0f">getOpcode</a>() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a3c6553c8acebe1b57c211ee45e2d8f98">ISD::SRL</a>) &amp;&amp;</div>
<div class="line"><a name="l02225"></a><span class="lineno"> 2225</span>&#160;        isa&lt;ConstantSDNode&gt;(N0.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(1))) {</div>
<div class="line"><a name="l02226"></a><span class="lineno"> 2226</span>&#160;      <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a> = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>.getConstantOperandVal(1);</div>
<div class="line"><a name="l02227"></a><span class="lineno"> 2227</span>&#160;      <span class="keywordtype">unsigned</span> C2 = N0.<a class="code" href="classllvm_1_1SDValue.html#ac969b6c833cfa44c1b4fcd5790268340">getConstantOperandVal</a>(1);</div>
<div class="line"><a name="l02228"></a><span class="lineno"> 2228</span>&#160; </div>
<div class="line"><a name="l02229"></a><span class="lineno"> 2229</span>&#160;      <span class="keywordtype">unsigned</span> XLen = Subtarget-&gt;<a class="code" href="classllvm_1_1RISCVSubtarget.html#a6bc41e12851a645259c839ba8974bbe7">getXLen</a>();</div>
<div class="line"><a name="l02230"></a><span class="lineno"> 2230</span>&#160;      <span class="keywordflow">if</span> (LeftShift)</div>
<div class="line"><a name="l02231"></a><span class="lineno"> 2231</span>&#160;        <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a> &amp;= maskTrailingZeros&lt;uint64_t&gt;(C2);</div>
<div class="line"><a name="l02232"></a><span class="lineno"> 2232</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l02233"></a><span class="lineno"> 2233</span>&#160;        <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a> &amp;= maskTrailingOnes&lt;uint64_t&gt;(XLen - C2);</div>
<div class="line"><a name="l02234"></a><span class="lineno"> 2234</span>&#160; </div>
<div class="line"><a name="l02235"></a><span class="lineno"> 2235</span>&#160;      <span class="comment">// Look for (and (shl y, c2), c1) where c1 is a shifted mask with no</span></div>
<div class="line"><a name="l02236"></a><span class="lineno"> 2236</span>&#160;      <span class="comment">// leading zeros and c3 trailing zeros. We can use an SRLI by c2+c3</span></div>
<div class="line"><a name="l02237"></a><span class="lineno"> 2237</span>&#160;      <span class="comment">// followed by a SHXADD with c3 for the X amount.</span></div>
<div class="line"><a name="l02238"></a><span class="lineno"> 2238</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a582e08755c7a8d1b0bf6c5dcb765aaa8">isShiftedMask_64</a>(<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>)) {</div>
<div class="line"><a name="l02239"></a><span class="lineno"> 2239</span>&#160;        <span class="keywordtype">unsigned</span> Leading = XLen - <a class="code" href="namespacellvm.html#a37c1fdede126353d80c3753dfe06f3c7">llvm::bit_width</a>(<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>);</div>
<div class="line"><a name="l02240"></a><span class="lineno"> 2240</span>&#160;        <span class="keywordtype">unsigned</span> Trailing = <a class="code" href="namespacellvm.html#a57d2f9ee99e9e68cff564d0d579c8163">llvm::countr_zero</a>(<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>);</div>
<div class="line"><a name="l02241"></a><span class="lineno"> 2241</span>&#160;        <span class="keywordflow">if</span> (LeftShift &amp;&amp; Leading == 0 &amp;&amp; C2 &lt; Trailing &amp;&amp; Trailing == ShAmt) {</div>
<div class="line"><a name="l02242"></a><span class="lineno"> 2242</span>&#160;          <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l02243"></a><span class="lineno"> 2243</span>&#160;          <a class="code" href="structllvm_1_1EVT.html">EVT</a> VT = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>.getValueType();</div>
<div class="line"><a name="l02244"></a><span class="lineno"> 2244</span>&#160;          Val = <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(<a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1c04c72abd24de2572a03ef686a36dd6">getMachineNode</a>(</div>
<div class="line"><a name="l02245"></a><span class="lineno"> 2245</span>&#160;                            RISCV::SRLI, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, N0.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(0),</div>
<div class="line"><a name="l02246"></a><span class="lineno"> 2246</span>&#160;                            <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(Trailing - C2, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT)),</div>
<div class="line"><a name="l02247"></a><span class="lineno"> 2247</span>&#160;                        0);</div>
<div class="line"><a name="l02248"></a><span class="lineno"> 2248</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02249"></a><span class="lineno"> 2249</span>&#160;        }</div>
<div class="line"><a name="l02250"></a><span class="lineno"> 2250</span>&#160;        <span class="comment">// Look for (and (shr y, c2), c1) where c1 is a shifted mask with c2</span></div>
<div class="line"><a name="l02251"></a><span class="lineno"> 2251</span>&#160;        <span class="comment">// leading zeros and c3 trailing zeros. We can use an SRLI by C3</span></div>
<div class="line"><a name="l02252"></a><span class="lineno"> 2252</span>&#160;        <span class="comment">// followed by a SHXADD using c3 for the X amount.</span></div>
<div class="line"><a name="l02253"></a><span class="lineno"> 2253</span>&#160;        <span class="keywordflow">if</span> (!LeftShift &amp;&amp; Leading == C2 &amp;&amp; Trailing == ShAmt) {</div>
<div class="line"><a name="l02254"></a><span class="lineno"> 2254</span>&#160;          <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l02255"></a><span class="lineno"> 2255</span>&#160;          <a class="code" href="structllvm_1_1EVT.html">EVT</a> VT = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>.getValueType();</div>
<div class="line"><a name="l02256"></a><span class="lineno"> 2256</span>&#160;          Val = <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(</div>
<div class="line"><a name="l02257"></a><span class="lineno"> 2257</span>&#160;              <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1c04c72abd24de2572a03ef686a36dd6">getMachineNode</a>(</div>
<div class="line"><a name="l02258"></a><span class="lineno"> 2258</span>&#160;                  RISCV::SRLI, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, N0.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(0),</div>
<div class="line"><a name="l02259"></a><span class="lineno"> 2259</span>&#160;                  <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(Leading + Trailing, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT)),</div>
<div class="line"><a name="l02260"></a><span class="lineno"> 2260</span>&#160;              0);</div>
<div class="line"><a name="l02261"></a><span class="lineno"> 2261</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02262"></a><span class="lineno"> 2262</span>&#160;        }</div>
<div class="line"><a name="l02263"></a><span class="lineno"> 2263</span>&#160;      }</div>
<div class="line"><a name="l02264"></a><span class="lineno"> 2264</span>&#160;    }</div>
<div class="line"><a name="l02265"></a><span class="lineno"> 2265</span>&#160;  }</div>
<div class="line"><a name="l02266"></a><span class="lineno"> 2266</span>&#160; </div>
<div class="line"><a name="l02267"></a><span class="lineno"> 2267</span>&#160;  <span class="keywordtype">bool</span> LeftShift = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>.getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a8cc94e03dea594863073a02f5bb94997">ISD::SHL</a>;</div>
<div class="line"><a name="l02268"></a><span class="lineno"> 2268</span>&#160;  <span class="keywordflow">if</span> ((LeftShift || <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>.getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a3c6553c8acebe1b57c211ee45e2d8f98">ISD::SRL</a>) &amp;&amp;</div>
<div class="line"><a name="l02269"></a><span class="lineno"> 2269</span>&#160;      isa&lt;ConstantSDNode&gt;(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>.getOperand(1))) {</div>
<div class="line"><a name="l02270"></a><span class="lineno"> 2270</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> N0 = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>.getOperand(0);</div>
<div class="line"><a name="l02271"></a><span class="lineno"> 2271</span>&#160;    <span class="keywordflow">if</span> (N0.<a class="code" href="classllvm_1_1SDValue.html#ae779a9d142e6318d8fb0e4f0da32af0f">getOpcode</a>() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a> &amp;&amp; N0.<a class="code" href="classllvm_1_1SDValue.html#a342c0d4e8e59b30daefe9a05bc2098bd">hasOneUse</a>() &amp;&amp;</div>
<div class="line"><a name="l02272"></a><span class="lineno"> 2272</span>&#160;        isa&lt;ConstantSDNode&gt;(N0.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(1))) {</div>
<div class="line"><a name="l02273"></a><span class="lineno"> 2273</span>&#160;      <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a> = N0.<a class="code" href="classllvm_1_1SDValue.html#ac969b6c833cfa44c1b4fcd5790268340">getConstantOperandVal</a>(1);</div>
<div class="line"><a name="l02274"></a><span class="lineno"> 2274</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a582e08755c7a8d1b0bf6c5dcb765aaa8">isShiftedMask_64</a>(<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>)) {</div>
<div class="line"><a name="l02275"></a><span class="lineno"> 2275</span>&#160;        <span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a> = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>.getConstantOperandVal(1);</div>
<div class="line"><a name="l02276"></a><span class="lineno"> 2276</span>&#160;        <span class="keywordtype">unsigned</span> XLen = Subtarget-&gt;<a class="code" href="classllvm_1_1RISCVSubtarget.html#a6bc41e12851a645259c839ba8974bbe7">getXLen</a>();</div>
<div class="line"><a name="l02277"></a><span class="lineno"> 2277</span>&#160;        <span class="keywordtype">unsigned</span> Leading = XLen - <a class="code" href="namespacellvm.html#a37c1fdede126353d80c3753dfe06f3c7">llvm::bit_width</a>(<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>);</div>
<div class="line"><a name="l02278"></a><span class="lineno"> 2278</span>&#160;        <span class="keywordtype">unsigned</span> Trailing = <a class="code" href="namespacellvm.html#a57d2f9ee99e9e68cff564d0d579c8163">llvm::countr_zero</a>(<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>);</div>
<div class="line"><a name="l02279"></a><span class="lineno"> 2279</span>&#160;        <span class="comment">// Look for (shl (and X, Mask), C1) where Mask has 32 leading zeros and</span></div>
<div class="line"><a name="l02280"></a><span class="lineno"> 2280</span>&#160;        <span class="comment">// C3 trailing zeros. If C1+C3==ShAmt we can use SRLIW+SHXADD.</span></div>
<div class="line"><a name="l02281"></a><span class="lineno"> 2281</span>&#160;        <span class="keywordflow">if</span> (LeftShift &amp;&amp; Leading == 32 &amp;&amp; Trailing &gt; 0 &amp;&amp;</div>
<div class="line"><a name="l02282"></a><span class="lineno"> 2282</span>&#160;            (Trailing + <a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>) == ShAmt) {</div>
<div class="line"><a name="l02283"></a><span class="lineno"> 2283</span>&#160;          <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l02284"></a><span class="lineno"> 2284</span>&#160;          <a class="code" href="structllvm_1_1EVT.html">EVT</a> VT = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>.getValueType();</div>
<div class="line"><a name="l02285"></a><span class="lineno"> 2285</span>&#160;          Val = <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(<a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1c04c72abd24de2572a03ef686a36dd6">getMachineNode</a>(</div>
<div class="line"><a name="l02286"></a><span class="lineno"> 2286</span>&#160;                            RISCV::SRLIW, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, N0.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(0),</div>
<div class="line"><a name="l02287"></a><span class="lineno"> 2287</span>&#160;                            <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(Trailing, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT)),</div>
<div class="line"><a name="l02288"></a><span class="lineno"> 2288</span>&#160;                        0);</div>
<div class="line"><a name="l02289"></a><span class="lineno"> 2289</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02290"></a><span class="lineno"> 2290</span>&#160;        }</div>
<div class="line"><a name="l02291"></a><span class="lineno"> 2291</span>&#160;        <span class="comment">// Look for (srl (and X, Mask), C1) where Mask has 32 leading zeros and</span></div>
<div class="line"><a name="l02292"></a><span class="lineno"> 2292</span>&#160;        <span class="comment">// C3 trailing zeros. If C3-C1==ShAmt we can use SRLIW+SHXADD.</span></div>
<div class="line"><a name="l02293"></a><span class="lineno"> 2293</span>&#160;        <span class="keywordflow">if</span> (!LeftShift &amp;&amp; Leading == 32 &amp;&amp; Trailing &gt; <a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a> &amp;&amp;</div>
<div class="line"><a name="l02294"></a><span class="lineno"> 2294</span>&#160;            (Trailing - <a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>) == ShAmt) {</div>
<div class="line"><a name="l02295"></a><span class="lineno"> 2295</span>&#160;          <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l02296"></a><span class="lineno"> 2296</span>&#160;          <a class="code" href="structllvm_1_1EVT.html">EVT</a> VT = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>.getValueType();</div>
<div class="line"><a name="l02297"></a><span class="lineno"> 2297</span>&#160;          Val = <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(<a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1c04c72abd24de2572a03ef686a36dd6">getMachineNode</a>(</div>
<div class="line"><a name="l02298"></a><span class="lineno"> 2298</span>&#160;                            RISCV::SRLIW, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, N0.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(0),</div>
<div class="line"><a name="l02299"></a><span class="lineno"> 2299</span>&#160;                            <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(Trailing, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT)),</div>
<div class="line"><a name="l02300"></a><span class="lineno"> 2300</span>&#160;                        0);</div>
<div class="line"><a name="l02301"></a><span class="lineno"> 2301</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02302"></a><span class="lineno"> 2302</span>&#160;        }</div>
<div class="line"><a name="l02303"></a><span class="lineno"> 2303</span>&#160;      }</div>
<div class="line"><a name="l02304"></a><span class="lineno"> 2304</span>&#160;    }</div>
<div class="line"><a name="l02305"></a><span class="lineno"> 2305</span>&#160;  }</div>
<div class="line"><a name="l02306"></a><span class="lineno"> 2306</span>&#160; </div>
<div class="line"><a name="l02307"></a><span class="lineno"> 2307</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02308"></a><span class="lineno"> 2308</span>&#160;}</div>
<div class="line"><a name="l02309"></a><span class="lineno"> 2309</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l02310"></a><span class="lineno"> 2310</span>&#160;<span class="comment">/// Look for various patterns that can be done with a SHL that can be folded</span></div>
<div class="line"><a name="l02311"></a><span class="lineno"> 2311</span>&#160;<span class="comment">/// into a SHXADD_UW. \p ShAmt contains 1, 2, or 3 and is set based on which</span></div>
<div class="line"><a name="l02312"></a><span class="lineno"> 2312</span>&#160;<span class="comment">/// SHXADD_UW we are trying to match.</span></div>
<div class="line"><a name="l02313"></a><span class="lineno"><a class="line" href="classllvm_1_1RISCVDAGToDAGISel.html#a06a0bdd0c07878ba4d61fa3b1b0453b1"> 2313</a></span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1RISCVDAGToDAGISel.html#a06a0bdd0c07878ba4d61fa3b1b0453b1">RISCVDAGToDAGISel::selectSHXADD_UWOp</a>(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, <span class="keywordtype">unsigned</span> ShAmt,</div>
<div class="line"><a name="l02314"></a><span class="lineno"> 2314</span>&#160;                                          <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;Val) {</div>
<div class="line"><a name="l02315"></a><span class="lineno"> 2315</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>.getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a> &amp;&amp; isa&lt;ConstantSDNode&gt;(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>.getOperand(1)) &amp;&amp;</div>
<div class="line"><a name="l02316"></a><span class="lineno"> 2316</span>&#160;      <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>.hasOneUse()) {</div>
<div class="line"><a name="l02317"></a><span class="lineno"> 2317</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> N0 = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>.getOperand(0);</div>
<div class="line"><a name="l02318"></a><span class="lineno"> 2318</span>&#160;    <span class="keywordflow">if</span> (N0.<a class="code" href="classllvm_1_1SDValue.html#ae779a9d142e6318d8fb0e4f0da32af0f">getOpcode</a>() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a8cc94e03dea594863073a02f5bb94997">ISD::SHL</a> &amp;&amp; isa&lt;ConstantSDNode&gt;(N0.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(1)) &amp;&amp;</div>
<div class="line"><a name="l02319"></a><span class="lineno"> 2319</span>&#160;        N0.<a class="code" href="classllvm_1_1SDValue.html#a342c0d4e8e59b30daefe9a05bc2098bd">hasOneUse</a>()) {</div>
<div class="line"><a name="l02320"></a><span class="lineno"> 2320</span>&#160;      <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a> = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>.getConstantOperandVal(1);</div>
<div class="line"><a name="l02321"></a><span class="lineno"> 2321</span>&#160;      <span class="keywordtype">unsigned</span> C2 = N0.<a class="code" href="classllvm_1_1SDValue.html#ac969b6c833cfa44c1b4fcd5790268340">getConstantOperandVal</a>(1);</div>
<div class="line"><a name="l02322"></a><span class="lineno"> 2322</span>&#160; </div>
<div class="line"><a name="l02323"></a><span class="lineno"> 2323</span>&#160;      <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a> &amp;= maskTrailingZeros&lt;uint64_t&gt;(C2);</div>
<div class="line"><a name="l02324"></a><span class="lineno"> 2324</span>&#160; </div>
<div class="line"><a name="l02325"></a><span class="lineno"> 2325</span>&#160;      <span class="comment">// Look for (and (shl y, c2), c1) where c1 is a shifted mask with</span></div>
<div class="line"><a name="l02326"></a><span class="lineno"> 2326</span>&#160;      <span class="comment">// 32-ShAmt leading zeros and c2 trailing zeros. We can use SLLI by</span></div>
<div class="line"><a name="l02327"></a><span class="lineno"> 2327</span>&#160;      <span class="comment">// c2-ShAmt followed by SHXADD_UW with ShAmt for the X amount.</span></div>
<div class="line"><a name="l02328"></a><span class="lineno"> 2328</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a582e08755c7a8d1b0bf6c5dcb765aaa8">isShiftedMask_64</a>(<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>)) {</div>
<div class="line"><a name="l02329"></a><span class="lineno"> 2329</span>&#160;        <span class="keywordtype">unsigned</span> Leading = <a class="code" href="namespacellvm.html#a66191f0bcc8c62b784819e9e96ceeba2">llvm::countl_zero</a>(<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>);</div>
<div class="line"><a name="l02330"></a><span class="lineno"> 2330</span>&#160;        <span class="keywordtype">unsigned</span> Trailing = <a class="code" href="namespacellvm.html#a57d2f9ee99e9e68cff564d0d579c8163">llvm::countr_zero</a>(<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>);</div>
<div class="line"><a name="l02331"></a><span class="lineno"> 2331</span>&#160;        <span class="keywordflow">if</span> (Leading == 32 - ShAmt &amp;&amp; Trailing == C2 &amp;&amp; Trailing &gt; ShAmt) {</div>
<div class="line"><a name="l02332"></a><span class="lineno"> 2332</span>&#160;          <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l02333"></a><span class="lineno"> 2333</span>&#160;          <a class="code" href="structllvm_1_1EVT.html">EVT</a> VT = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>.getValueType();</div>
<div class="line"><a name="l02334"></a><span class="lineno"> 2334</span>&#160;          Val = <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(<a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1c04c72abd24de2572a03ef686a36dd6">getMachineNode</a>(</div>
<div class="line"><a name="l02335"></a><span class="lineno"> 2335</span>&#160;                            RISCV::SLLI, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, N0.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(0),</div>
<div class="line"><a name="l02336"></a><span class="lineno"> 2336</span>&#160;                            <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(C2 - ShAmt, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT)),</div>
<div class="line"><a name="l02337"></a><span class="lineno"> 2337</span>&#160;                        0);</div>
<div class="line"><a name="l02338"></a><span class="lineno"> 2338</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02339"></a><span class="lineno"> 2339</span>&#160;        }</div>
<div class="line"><a name="l02340"></a><span class="lineno"> 2340</span>&#160;      }</div>
<div class="line"><a name="l02341"></a><span class="lineno"> 2341</span>&#160;    }</div>
<div class="line"><a name="l02342"></a><span class="lineno"> 2342</span>&#160;  }</div>
<div class="line"><a name="l02343"></a><span class="lineno"> 2343</span>&#160; </div>
<div class="line"><a name="l02344"></a><span class="lineno"> 2344</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02345"></a><span class="lineno"> 2345</span>&#160;}</div>
<div class="line"><a name="l02346"></a><span class="lineno"> 2346</span>&#160; </div>
<div class="line"><a name="l02347"></a><span class="lineno"> 2347</span>&#160;<span class="comment">// Return true if all users of this SDNode* only consume the lower \p Bits.</span></div>
<div class="line"><a name="l02348"></a><span class="lineno"> 2348</span>&#160;<span class="comment">// This can be used to form W instructions for add/sub/mul/shl even when the</span></div>
<div class="line"><a name="l02349"></a><span class="lineno"> 2349</span>&#160;<span class="comment">// root isn&#39;t a sext_inreg. This can allow the ADDW/SUBW/MULW/SLLIW to CSE if</span></div>
<div class="line"><a name="l02350"></a><span class="lineno"> 2350</span>&#160;<span class="comment">// SimplifyDemandedBits has made it so some users see a sext_inreg and some</span></div>
<div class="line"><a name="l02351"></a><span class="lineno"> 2351</span>&#160;<span class="comment">// don&#39;t. The sext_inreg+add/sub/mul/shl will get selected, but still leave</span></div>
<div class="line"><a name="l02352"></a><span class="lineno"> 2352</span>&#160;<span class="comment">// the add/sub/mul/shl to become non-W instructions. By checking the users we</span></div>
<div class="line"><a name="l02353"></a><span class="lineno"> 2353</span>&#160;<span class="comment">// may be able to use a W instruction and CSE with the other instruction if</span></div>
<div class="line"><a name="l02354"></a><span class="lineno"> 2354</span>&#160;<span class="comment">// this has happened. We could try to detect that the CSE opportunity exists</span></div>
<div class="line"><a name="l02355"></a><span class="lineno"> 2355</span>&#160;<span class="comment">// before doing this, but that would be more complicated.</span></div>
<div class="line"><a name="l02356"></a><span class="lineno"><a class="line" href="classllvm_1_1RISCVDAGToDAGISel.html#a0c47c47ebffcc56ccf426575cc7688f1"> 2356</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1RISCVDAGToDAGISel.html#a0c47c47ebffcc56ccf426575cc7688f1">RISCVDAGToDAGISel::hasAllNBitUsers</a>(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *Node, <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a3c0710aa6b054662f67b480712fa2b95">Bits</a>,</div>
<div class="line"><a name="l02357"></a><span class="lineno"> 2357</span>&#160;                                        <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l02358"></a><span class="lineno"> 2358</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((Node-&gt;getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">ISD::ADD</a> || Node-&gt;getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9fa617e5567c3c2638938f7b9ddc3f1c">ISD::SUB</a> ||</div>
<div class="line"><a name="l02359"></a><span class="lineno"> 2359</span>&#160;          Node-&gt;getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">ISD::MUL</a> || Node-&gt;getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a8cc94e03dea594863073a02f5bb94997">ISD::SHL</a> ||</div>
<div class="line"><a name="l02360"></a><span class="lineno"> 2360</span>&#160;          Node-&gt;getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a3c6553c8acebe1b57c211ee45e2d8f98">ISD::SRL</a> || Node-&gt;getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a> ||</div>
<div class="line"><a name="l02361"></a><span class="lineno"> 2361</span>&#160;          Node-&gt;getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7415ab9f2172c59a2ee7c7a02afa56a4">ISD::OR</a> || Node-&gt;getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a92febb83e6ba116eb7aae8e7e3f70cc1">ISD::XOR</a> ||</div>
<div class="line"><a name="l02362"></a><span class="lineno"> 2362</span>&#160;          Node-&gt;getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aaa59dd5ec37f21905436b354c0292d9e">ISD::SIGN_EXTEND_INREG</a> ||</div>
<div class="line"><a name="l02363"></a><span class="lineno"> 2363</span>&#160;          isa&lt;ConstantSDNode&gt;(Node) || <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> != 0) &amp;&amp;</div>
<div class="line"><a name="l02364"></a><span class="lineno"> 2364</span>&#160;         <span class="stringliteral">&quot;Unexpected opcode&quot;</span>);</div>
<div class="line"><a name="l02365"></a><span class="lineno"> 2365</span>&#160; </div>
<div class="line"><a name="l02366"></a><span class="lineno"> 2366</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> &gt;= <a class="code" href="classllvm_1_1SelectionDAG.html#a4d5e16cbde22f5e6f007940d57a428fd">SelectionDAG::MaxRecursionDepth</a>)</div>
<div class="line"><a name="l02367"></a><span class="lineno"> 2367</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02368"></a><span class="lineno"> 2368</span>&#160; </div>
<div class="line"><a name="l02369"></a><span class="lineno"> 2369</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> UI = Node-&gt;use_begin(), UE = Node-&gt;use_end(); UI != UE; ++UI) {</div>
<div class="line"><a name="l02370"></a><span class="lineno"> 2370</span>&#160;    <a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *<a class="code" href="classllvm_1_1User.html">User</a> = *UI;</div>
<div class="line"><a name="l02371"></a><span class="lineno"> 2371</span>&#160;    <span class="comment">// Users of this node should have already been instruction selected</span></div>
<div class="line"><a name="l02372"></a><span class="lineno"> 2372</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1User.html">User</a>-&gt;isMachineOpcode())</div>
<div class="line"><a name="l02373"></a><span class="lineno"> 2373</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02374"></a><span class="lineno"> 2374</span>&#160; </div>
<div class="line"><a name="l02375"></a><span class="lineno"> 2375</span>&#160;    <span class="comment">// TODO: Add more opcodes?</span></div>
<div class="line"><a name="l02376"></a><span class="lineno"> 2376</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="classllvm_1_1User.html">User</a>-&gt;getMachineOpcode()) {</div>
<div class="line"><a name="l02377"></a><span class="lineno"> 2377</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l02378"></a><span class="lineno"> 2378</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02379"></a><span class="lineno"> 2379</span>&#160;    <span class="keywordflow">case</span> RISCV::ADDW:</div>
<div class="line"><a name="l02380"></a><span class="lineno"> 2380</span>&#160;    <span class="keywordflow">case</span> RISCV::ADDIW:</div>
<div class="line"><a name="l02381"></a><span class="lineno"> 2381</span>&#160;    <span class="keywordflow">case</span> RISCV::SUBW:</div>
<div class="line"><a name="l02382"></a><span class="lineno"> 2382</span>&#160;    <span class="keywordflow">case</span> RISCV::MULW:</div>
<div class="line"><a name="l02383"></a><span class="lineno"> 2383</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1RISCVISD.html#ab68e2d65ea9915ffaac8334a3b8bf882a0eddf77c4e0287a09acf158c434faf45">RISCV::SLLW</a>:</div>
<div class="line"><a name="l02384"></a><span class="lineno"> 2384</span>&#160;    <span class="keywordflow">case</span> RISCV::SLLIW:</div>
<div class="line"><a name="l02385"></a><span class="lineno"> 2385</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1RISCVISD.html#ab68e2d65ea9915ffaac8334a3b8bf882a64927d70afbf447d7c36fa86496df0a3">RISCV::SRAW</a>:</div>
<div class="line"><a name="l02386"></a><span class="lineno"> 2386</span>&#160;    <span class="keywordflow">case</span> RISCV::SRAIW:</div>
<div class="line"><a name="l02387"></a><span class="lineno"> 2387</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1RISCVISD.html#ab68e2d65ea9915ffaac8334a3b8bf882a0151fd91dfddcfc99bb01b041c128e5e">RISCV::SRLW</a>:</div>
<div class="line"><a name="l02388"></a><span class="lineno"> 2388</span>&#160;    <span class="keywordflow">case</span> RISCV::SRLIW:</div>
<div class="line"><a name="l02389"></a><span class="lineno"> 2389</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1RISCVISD.html#ab68e2d65ea9915ffaac8334a3b8bf882a02a655131d3e2e27d889e16c8af5de89">RISCV::DIVW</a>:</div>
<div class="line"><a name="l02390"></a><span class="lineno"> 2390</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1RISCVISD.html#ab68e2d65ea9915ffaac8334a3b8bf882ad1e822148613208ad3454a5846320c3b">RISCV::DIVUW</a>:</div>
<div class="line"><a name="l02391"></a><span class="lineno"> 2391</span>&#160;    <span class="keywordflow">case</span> RISCV::REMW:</div>
<div class="line"><a name="l02392"></a><span class="lineno"> 2392</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1RISCVISD.html#ab68e2d65ea9915ffaac8334a3b8bf882adcdd29ca8504487f10692af6034cb64f">RISCV::REMUW</a>:</div>
<div class="line"><a name="l02393"></a><span class="lineno"> 2393</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1RISCVISD.html#ab68e2d65ea9915ffaac8334a3b8bf882a2b2dd2bf0e3e0bdfa3ee4ea3fb024cf5">RISCV::ROLW</a>:</div>
<div class="line"><a name="l02394"></a><span class="lineno"> 2394</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1RISCVISD.html#ab68e2d65ea9915ffaac8334a3b8bf882a3f464ec6c3904381aa268a2d3ac5d41c">RISCV::RORW</a>:</div>
<div class="line"><a name="l02395"></a><span class="lineno"> 2395</span>&#160;    <span class="keywordflow">case</span> RISCV::RORIW:</div>
<div class="line"><a name="l02396"></a><span class="lineno"> 2396</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1RISCVISD.html#ab68e2d65ea9915ffaac8334a3b8bf882a58cde65efe901151c99aec10d2171178">RISCV::CLZW</a>:</div>
<div class="line"><a name="l02397"></a><span class="lineno"> 2397</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1RISCVISD.html#ab68e2d65ea9915ffaac8334a3b8bf882a25f265364fd27551b74630b7c3e0cac4">RISCV::CTZW</a>:</div>
<div class="line"><a name="l02398"></a><span class="lineno"> 2398</span>&#160;    <span class="keywordflow">case</span> RISCV::CPOPW:</div>
<div class="line"><a name="l02399"></a><span class="lineno"> 2399</span>&#160;    <span class="keywordflow">case</span> RISCV::SLLI_UW:</div>
<div class="line"><a name="l02400"></a><span class="lineno"> 2400</span>&#160;    <span class="keywordflow">case</span> RISCV::FMV_W_X:</div>
<div class="line"><a name="l02401"></a><span class="lineno"> 2401</span>&#160;    <span class="keywordflow">case</span> RISCV::FCVT_H_W:</div>
<div class="line"><a name="l02402"></a><span class="lineno"> 2402</span>&#160;    <span class="keywordflow">case</span> RISCV::FCVT_H_WU:</div>
<div class="line"><a name="l02403"></a><span class="lineno"> 2403</span>&#160;    <span class="keywordflow">case</span> RISCV::FCVT_S_W:</div>
<div class="line"><a name="l02404"></a><span class="lineno"> 2404</span>&#160;    <span class="keywordflow">case</span> RISCV::FCVT_S_WU:</div>
<div class="line"><a name="l02405"></a><span class="lineno"> 2405</span>&#160;    <span class="keywordflow">case</span> RISCV::FCVT_D_W:</div>
<div class="line"><a name="l02406"></a><span class="lineno"> 2406</span>&#160;    <span class="keywordflow">case</span> RISCV::FCVT_D_WU:</div>
<div class="line"><a name="l02407"></a><span class="lineno"> 2407</span>&#160;    <span class="keywordflow">case</span> RISCV::TH_REVW:</div>
<div class="line"><a name="l02408"></a><span class="lineno"> 2408</span>&#160;    <span class="keywordflow">case</span> RISCV::TH_SRRIW:</div>
<div class="line"><a name="l02409"></a><span class="lineno"> 2409</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a3c0710aa6b054662f67b480712fa2b95">Bits</a> &lt; 32)</div>
<div class="line"><a name="l02410"></a><span class="lineno"> 2410</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02411"></a><span class="lineno"> 2411</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02412"></a><span class="lineno"> 2412</span>&#160;    <span class="keywordflow">case</span> RISCV::SLL:</div>
<div class="line"><a name="l02413"></a><span class="lineno"> 2413</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4a055321c361a0f6ee77ed764730ffc1">RISCV::SRA</a>:</div>
<div class="line"><a name="l02414"></a><span class="lineno"> 2414</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a3c6553c8acebe1b57c211ee45e2d8f98">RISCV::SRL</a>:</div>
<div class="line"><a name="l02415"></a><span class="lineno"> 2415</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1AVRISD.html#a074d5b8568a8b970d7cea9d14451303ba5c414e366af8994716bbd800f722df1a">RISCV::ROL</a>:</div>
<div class="line"><a name="l02416"></a><span class="lineno"> 2416</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1AArch64__AM.html#a7e75394a33f6a5897d7a14c0ba5d44f1abb1fa5a6016bfee1580a7b989a454c9a">RISCV::ROR</a>:</div>
<div class="line"><a name="l02417"></a><span class="lineno"> 2417</span>&#160;    <span class="keywordflow">case</span> RISCV::BSET:</div>
<div class="line"><a name="l02418"></a><span class="lineno"> 2418</span>&#160;    <span class="keywordflow">case</span> RISCV::BCLR:</div>
<div class="line"><a name="l02419"></a><span class="lineno"> 2419</span>&#160;    <span class="keywordflow">case</span> RISCV::BINV:</div>
<div class="line"><a name="l02420"></a><span class="lineno"> 2420</span>&#160;      <span class="comment">// Shift amount operands only use log2(Xlen) bits.</span></div>
<div class="line"><a name="l02421"></a><span class="lineno"> 2421</span>&#160;      <span class="keywordflow">if</span> (UI.getOperandNo() != 1 || <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a3c0710aa6b054662f67b480712fa2b95">Bits</a> &lt; <a class="code" href="namespacellvm.html#a646986783f35e0fef8988f0f28d2589f">Log2_32</a>(Subtarget-&gt;<a class="code" href="classllvm_1_1RISCVSubtarget.html#a6bc41e12851a645259c839ba8974bbe7">getXLen</a>()))</div>
<div class="line"><a name="l02422"></a><span class="lineno"> 2422</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02423"></a><span class="lineno"> 2423</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02424"></a><span class="lineno"> 2424</span>&#160;    <span class="keywordflow">case</span> RISCV::SLLI:</div>
<div class="line"><a name="l02425"></a><span class="lineno"> 2425</span>&#160;      <span class="comment">// SLLI only uses the lower (XLen - ShAmt) bits.</span></div>
<div class="line"><a name="l02426"></a><span class="lineno"> 2426</span>&#160;      <span class="keywordflow">if</span> (Bits &lt; Subtarget-&gt;getXLen() - <a class="code" href="classllvm_1_1User.html">User</a>-&gt;getConstantOperandVal(1))</div>
<div class="line"><a name="l02427"></a><span class="lineno"> 2427</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02428"></a><span class="lineno"> 2428</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02429"></a><span class="lineno"> 2429</span>&#160;    <span class="keywordflow">case</span> RISCV::ANDI:</div>
<div class="line"><a name="l02430"></a><span class="lineno"> 2430</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a3c0710aa6b054662f67b480712fa2b95">Bits</a> &gt;= (<span class="keywordtype">unsigned</span>)<a class="code" href="namespacellvm.html#a37c1fdede126353d80c3753dfe06f3c7">llvm::bit_width</a>(<a class="code" href="classllvm_1_1User.html">User</a>-&gt;getConstantOperandVal(1)))</div>
<div class="line"><a name="l02431"></a><span class="lineno"> 2431</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02432"></a><span class="lineno"> 2432</span>&#160;      <span class="keywordflow">goto</span> RecCheck;</div>
<div class="line"><a name="l02433"></a><span class="lineno"> 2433</span>&#160;    <span class="keywordflow">case</span> RISCV::ORI: {</div>
<div class="line"><a name="l02434"></a><span class="lineno"> 2434</span>&#160;      <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> = cast&lt;ConstantSDNode&gt;(<a class="code" href="classllvm_1_1User.html">User</a>-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(1))-&gt;getSExtValue();</div>
<div class="line"><a name="l02435"></a><span class="lineno"> 2435</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a3c0710aa6b054662f67b480712fa2b95">Bits</a> &gt;= (<span class="keywordtype">unsigned</span>)llvm::bit_width&lt;uint64_t&gt;(~<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>))</div>
<div class="line"><a name="l02436"></a><span class="lineno"> 2436</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02437"></a><span class="lineno"> 2437</span>&#160;      [[fallthrough]];</div>
<div class="line"><a name="l02438"></a><span class="lineno"> 2438</span>&#160;    }</div>
<div class="line"><a name="l02439"></a><span class="lineno"> 2439</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">RISCV::AND</a>:</div>
<div class="line"><a name="l02440"></a><span class="lineno"> 2440</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7415ab9f2172c59a2ee7c7a02afa56a4">RISCV::OR</a>:</div>
<div class="line"><a name="l02441"></a><span class="lineno"> 2441</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a92febb83e6ba116eb7aae8e7e3f70cc1">RISCV::XOR</a>:</div>
<div class="line"><a name="l02442"></a><span class="lineno"> 2442</span>&#160;    <span class="keywordflow">case</span> RISCV::XORI:</div>
<div class="line"><a name="l02443"></a><span class="lineno"> 2443</span>&#160;    <span class="keywordflow">case</span> RISCV::ANDN:</div>
<div class="line"><a name="l02444"></a><span class="lineno"> 2444</span>&#160;    <span class="keywordflow">case</span> RISCV::ORN:</div>
<div class="line"><a name="l02445"></a><span class="lineno"> 2445</span>&#160;    <span class="keywordflow">case</span> RISCV::XNOR:</div>
<div class="line"><a name="l02446"></a><span class="lineno"> 2446</span>&#160;    <span class="keywordflow">case</span> RISCV::SH1ADD:</div>
<div class="line"><a name="l02447"></a><span class="lineno"> 2447</span>&#160;    <span class="keywordflow">case</span> RISCV::SH2ADD:</div>
<div class="line"><a name="l02448"></a><span class="lineno"> 2448</span>&#160;    <span class="keywordflow">case</span> RISCV::SH3ADD:</div>
<div class="line"><a name="l02449"></a><span class="lineno"> 2449</span>&#160;    RecCheck:</div>
<div class="line"><a name="l02450"></a><span class="lineno"> 2450</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1RISCVDAGToDAGISel.html#a0c47c47ebffcc56ccf426575cc7688f1">hasAllNBitUsers</a>(<a class="code" href="classllvm_1_1User.html">User</a>, <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a3c0710aa6b054662f67b480712fa2b95">Bits</a>, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1))</div>
<div class="line"><a name="l02451"></a><span class="lineno"> 2451</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02452"></a><span class="lineno"> 2452</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02453"></a><span class="lineno"> 2453</span>&#160;    <span class="keywordflow">case</span> RISCV::SRLI: {</div>
<div class="line"><a name="l02454"></a><span class="lineno"> 2454</span>&#160;      <span class="keywordtype">unsigned</span> ShAmt = <a class="code" href="classllvm_1_1User.html">User</a>-&gt;getConstantOperandVal(1);</div>
<div class="line"><a name="l02455"></a><span class="lineno"> 2455</span>&#160;      <span class="comment">// If we are shifting right by less than Bits, and users don&#39;t demand any</span></div>
<div class="line"><a name="l02456"></a><span class="lineno"> 2456</span>&#160;      <span class="comment">// bits that were shifted into [Bits-1:0], then we can consider this as an</span></div>
<div class="line"><a name="l02457"></a><span class="lineno"> 2457</span>&#160;      <span class="comment">// N-Bit user.</span></div>
<div class="line"><a name="l02458"></a><span class="lineno"> 2458</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a3c0710aa6b054662f67b480712fa2b95">Bits</a> &gt; ShAmt &amp;&amp; <a class="code" href="classllvm_1_1RISCVDAGToDAGISel.html#a0c47c47ebffcc56ccf426575cc7688f1">hasAllNBitUsers</a>(<a class="code" href="classllvm_1_1User.html">User</a>, <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a3c0710aa6b054662f67b480712fa2b95">Bits</a> - ShAmt, <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1))</div>
<div class="line"><a name="l02459"></a><span class="lineno"> 2459</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02460"></a><span class="lineno"> 2460</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02461"></a><span class="lineno"> 2461</span>&#160;    }</div>
<div class="line"><a name="l02462"></a><span class="lineno"> 2462</span>&#160;    <span class="keywordflow">case</span> RISCV::SEXT_B:</div>
<div class="line"><a name="l02463"></a><span class="lineno"> 2463</span>&#160;    <span class="keywordflow">case</span> RISCV::PACKH:</div>
<div class="line"><a name="l02464"></a><span class="lineno"> 2464</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a3c0710aa6b054662f67b480712fa2b95">Bits</a> &lt; 8)</div>
<div class="line"><a name="l02465"></a><span class="lineno"> 2465</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02466"></a><span class="lineno"> 2466</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02467"></a><span class="lineno"> 2467</span>&#160;    <span class="keywordflow">case</span> RISCV::SEXT_H:</div>
<div class="line"><a name="l02468"></a><span class="lineno"> 2468</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1RISCVISD.html#ab68e2d65ea9915ffaac8334a3b8bf882a8133bf609ca1e40ecb0622ed5e559fcc">RISCV::FMV_H_X</a>:</div>
<div class="line"><a name="l02469"></a><span class="lineno"> 2469</span>&#160;    <span class="keywordflow">case</span> RISCV::ZEXT_H_RV32:</div>
<div class="line"><a name="l02470"></a><span class="lineno"> 2470</span>&#160;    <span class="keywordflow">case</span> RISCV::ZEXT_H_RV64:</div>
<div class="line"><a name="l02471"></a><span class="lineno"> 2471</span>&#160;    <span class="keywordflow">case</span> RISCV::PACKW:</div>
<div class="line"><a name="l02472"></a><span class="lineno"> 2472</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a3c0710aa6b054662f67b480712fa2b95">Bits</a> &lt; 16)</div>
<div class="line"><a name="l02473"></a><span class="lineno"> 2473</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02474"></a><span class="lineno"> 2474</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02475"></a><span class="lineno"> 2475</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1SystemZISD.html#a24fe7decb4ebdd8b4c7a774d65fcaa7ea2de796f751ab625e6fb313aca2375e98">RISCV::PACK</a>:</div>
<div class="line"><a name="l02476"></a><span class="lineno"> 2476</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a3c0710aa6b054662f67b480712fa2b95">Bits</a> &lt; (Subtarget-&gt;<a class="code" href="classllvm_1_1RISCVSubtarget.html#a6bc41e12851a645259c839ba8974bbe7">getXLen</a>() / 2))</div>
<div class="line"><a name="l02477"></a><span class="lineno"> 2477</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02478"></a><span class="lineno"> 2478</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02479"></a><span class="lineno"> 2479</span>&#160;    <span class="keywordflow">case</span> RISCV::ADD_UW:</div>
<div class="line"><a name="l02480"></a><span class="lineno"> 2480</span>&#160;    <span class="keywordflow">case</span> RISCV::SH1ADD_UW:</div>
<div class="line"><a name="l02481"></a><span class="lineno"> 2481</span>&#160;    <span class="keywordflow">case</span> RISCV::SH2ADD_UW:</div>
<div class="line"><a name="l02482"></a><span class="lineno"> 2482</span>&#160;    <span class="keywordflow">case</span> RISCV::SH3ADD_UW:</div>
<div class="line"><a name="l02483"></a><span class="lineno"> 2483</span>&#160;      <span class="comment">// The first operand to add.uw/shXadd.uw is implicitly zero extended from</span></div>
<div class="line"><a name="l02484"></a><span class="lineno"> 2484</span>&#160;      <span class="comment">// 32 bits.</span></div>
<div class="line"><a name="l02485"></a><span class="lineno"> 2485</span>&#160;      <span class="keywordflow">if</span> (UI.getOperandNo() != 0 || <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a3c0710aa6b054662f67b480712fa2b95">Bits</a> &lt; 32)</div>
<div class="line"><a name="l02486"></a><span class="lineno"> 2486</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02487"></a><span class="lineno"> 2487</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02488"></a><span class="lineno"> 2488</span>&#160;    <span class="keywordflow">case</span> RISCV::SB:</div>
<div class="line"><a name="l02489"></a><span class="lineno"> 2489</span>&#160;      <span class="keywordflow">if</span> (UI.getOperandNo() != 0 || <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a3c0710aa6b054662f67b480712fa2b95">Bits</a> &lt; 8)</div>
<div class="line"><a name="l02490"></a><span class="lineno"> 2490</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02491"></a><span class="lineno"> 2491</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02492"></a><span class="lineno"> 2492</span>&#160;    <span class="keywordflow">case</span> RISCV::SH:</div>
<div class="line"><a name="l02493"></a><span class="lineno"> 2493</span>&#160;      <span class="keywordflow">if</span> (UI.getOperandNo() != 0 || <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a3c0710aa6b054662f67b480712fa2b95">Bits</a> &lt; 16)</div>
<div class="line"><a name="l02494"></a><span class="lineno"> 2494</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02495"></a><span class="lineno"> 2495</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02496"></a><span class="lineno"> 2496</span>&#160;    <span class="keywordflow">case</span> RISCV::SW:</div>
<div class="line"><a name="l02497"></a><span class="lineno"> 2497</span>&#160;      <span class="keywordflow">if</span> (UI.getOperandNo() != 0 || <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a3c0710aa6b054662f67b480712fa2b95">Bits</a> &lt; 32)</div>
<div class="line"><a name="l02498"></a><span class="lineno"> 2498</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02499"></a><span class="lineno"> 2499</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02500"></a><span class="lineno"> 2500</span>&#160;    }</div>
<div class="line"><a name="l02501"></a><span class="lineno"> 2501</span>&#160;  }</div>
<div class="line"><a name="l02502"></a><span class="lineno"> 2502</span>&#160; </div>
<div class="line"><a name="l02503"></a><span class="lineno"> 2503</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02504"></a><span class="lineno"> 2504</span>&#160;}</div>
<div class="line"><a name="l02505"></a><span class="lineno"> 2505</span>&#160; </div>
<div class="line"><a name="l02506"></a><span class="lineno"> 2506</span>&#160;<span class="comment">// Select VL as a 5 bit immediate or a value that will become a register. This</span></div>
<div class="line"><a name="l02507"></a><span class="lineno"> 2507</span>&#160;<span class="comment">// allows us to choose betwen VSETIVLI or VSETVLI later.</span></div>
<div class="line"><a name="l02508"></a><span class="lineno"><a class="line" href="classllvm_1_1RISCVDAGToDAGISel.html#a9dd913520cec32052ff63c8735efad5c"> 2508</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1RISCVDAGToDAGISel.html#a9dd913520cec32052ff63c8735efad5c">RISCVDAGToDAGISel::selectVLOp</a>(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;VL) {</div>
<div class="line"><a name="l02509"></a><span class="lineno"> 2509</span>&#160;  <span class="keyword">auto</span> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = dyn_cast&lt;ConstantSDNode&gt;(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l02510"></a><span class="lineno"> 2510</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> &amp;&amp; isUInt&lt;5&gt;(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;getZExtValue())) {</div>
<div class="line"><a name="l02511"></a><span class="lineno"> 2511</span>&#160;    VL = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;getZExtValue(), <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>),</div>
<div class="line"><a name="l02512"></a><span class="lineno"> 2512</span>&#160;                                   <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getValueType(0));</div>
<div class="line"><a name="l02513"></a><span class="lineno"> 2513</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> &amp;&amp; <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;isAllOnesValue()) {</div>
<div class="line"><a name="l02514"></a><span class="lineno"> 2514</span>&#160;    <span class="comment">// Treat all ones as VLMax.</span></div>
<div class="line"><a name="l02515"></a><span class="lineno"> 2515</span>&#160;    VL = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(<a class="code" href="namespacellvm_1_1RISCV.html#ae746649c43bf0f652d04addefd39a55e">RISCV::VLMaxSentinel</a>, <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>),</div>
<div class="line"><a name="l02516"></a><span class="lineno"> 2516</span>&#160;                                   <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getValueType(0));</div>
<div class="line"><a name="l02517"></a><span class="lineno"> 2517</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (isa&lt;RegisterSDNode&gt;(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>) &amp;&amp;</div>
<div class="line"><a name="l02518"></a><span class="lineno"> 2518</span>&#160;             cast&lt;RegisterSDNode&gt;(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>)-&gt;<a class="code" href="MipsDisassembler_8cpp.html#a15b5b86944f6df97d2c3659d77f51f91">getReg</a>() == RISCV::X0) {</div>
<div class="line"><a name="l02519"></a><span class="lineno"> 2519</span>&#160;    <span class="comment">// All our VL operands use an operand that allows GPRNoX0 or an immediate</span></div>
<div class="line"><a name="l02520"></a><span class="lineno"> 2520</span>&#160;    <span class="comment">// as the register class. Convert X0 to a special immediate to pass the</span></div>
<div class="line"><a name="l02521"></a><span class="lineno"> 2521</span>&#160;    <span class="comment">// MachineVerifier. This is recognized specially by the vsetvli insertion</span></div>
<div class="line"><a name="l02522"></a><span class="lineno"> 2522</span>&#160;    <span class="comment">// pass.</span></div>
<div class="line"><a name="l02523"></a><span class="lineno"> 2523</span>&#160;    VL = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(<a class="code" href="namespacellvm_1_1RISCV.html#ae746649c43bf0f652d04addefd39a55e">RISCV::VLMaxSentinel</a>, <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>),</div>
<div class="line"><a name="l02524"></a><span class="lineno"> 2524</span>&#160;                                   <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getValueType(0));</div>
<div class="line"><a name="l02525"></a><span class="lineno"> 2525</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02526"></a><span class="lineno"> 2526</span>&#160;    VL = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>;</div>
<div class="line"><a name="l02527"></a><span class="lineno"> 2527</span>&#160;  }</div>
<div class="line"><a name="l02528"></a><span class="lineno"> 2528</span>&#160; </div>
<div class="line"><a name="l02529"></a><span class="lineno"> 2529</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02530"></a><span class="lineno"> 2530</span>&#160;}</div>
<div class="line"><a name="l02531"></a><span class="lineno"> 2531</span>&#160; </div>
<div class="line"><a name="l02532"></a><span class="lineno"><a class="line" href="classllvm_1_1RISCVDAGToDAGISel.html#a81db6a638b456bb26ffa634a27e52798"> 2532</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1RISCVDAGToDAGISel.html#a81db6a638b456bb26ffa634a27e52798">RISCVDAGToDAGISel::selectVSplat</a>(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;SplatVal) {</div>
<div class="line"><a name="l02533"></a><span class="lineno"> 2533</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>.getOpcode() != <a class="code" href="namespacellvm_1_1RISCVISD.html#ab68e2d65ea9915ffaac8334a3b8bf882a127afe58529ef366a343a51786dcc3d4">RISCVISD::VMV_V_X_VL</a> || !<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>.getOperand(0).isUndef())</div>
<div class="line"><a name="l02534"></a><span class="lineno"> 2534</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02535"></a><span class="lineno"> 2535</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>.getNumOperands() == 3 &amp;&amp; <span class="stringliteral">&quot;Unexpected number of operands&quot;</span>);</div>
<div class="line"><a name="l02536"></a><span class="lineno"> 2536</span>&#160;  SplatVal = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>.getOperand(1);</div>
<div class="line"><a name="l02537"></a><span class="lineno"> 2537</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02538"></a><span class="lineno"> 2538</span>&#160;}</div>
<div class="line"><a name="l02539"></a><span class="lineno"> 2539</span>&#160; </div>
<div class="line"><a name="l02540"></a><span class="lineno"><a class="line" href="RISCVISelDAGToDAG_8cpp.html#ac56435fa9036dc9fd2c1af7f56d1d31c"> 2540</a></span>&#160;<span class="keyword">using</span> <a class="code" href="RISCVISelDAGToDAG_8cpp.html#ac56435fa9036dc9fd2c1af7f56d1d31c">ValidateFn</a> = bool (*)(int64_t);</div>
<div class="line"><a name="l02541"></a><span class="lineno"> 2541</span>&#160; </div>
<div class="line"><a name="l02542"></a><span class="lineno"><a class="line" href="RISCVISelDAGToDAG_8cpp.html#a94db23ca15834c0dee46271b805c546a"> 2542</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="RISCVISelDAGToDAG_8cpp.html#a94db23ca15834c0dee46271b805c546a">selectVSplatSimmHelper</a>(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;SplatVal,</div>
<div class="line"><a name="l02543"></a><span class="lineno"> 2543</span>&#160;                                   <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG,</div>
<div class="line"><a name="l02544"></a><span class="lineno"> 2544</span>&#160;                                   <span class="keyword">const</span> <a class="code" href="classllvm_1_1RISCVSubtarget.html">RISCVSubtarget</a> &amp;Subtarget,</div>
<div class="line"><a name="l02545"></a><span class="lineno"> 2545</span>&#160;                                   <a class="code" href="RISCVISelDAGToDAG_8cpp.html#ac56435fa9036dc9fd2c1af7f56d1d31c">ValidateFn</a> ValidateImm) {</div>
<div class="line"><a name="l02546"></a><span class="lineno"> 2546</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>.getOpcode() != <a class="code" href="namespacellvm_1_1RISCVISD.html#ab68e2d65ea9915ffaac8334a3b8bf882a127afe58529ef366a343a51786dcc3d4">RISCVISD::VMV_V_X_VL</a> || !<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>.getOperand(0).isUndef() ||</div>
<div class="line"><a name="l02547"></a><span class="lineno"> 2547</span>&#160;      !isa&lt;ConstantSDNode&gt;(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>.getOperand(1)))</div>
<div class="line"><a name="l02548"></a><span class="lineno"> 2548</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02549"></a><span class="lineno"> 2549</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>.getNumOperands() == 3 &amp;&amp; <span class="stringliteral">&quot;Unexpected number of operands&quot;</span>);</div>
<div class="line"><a name="l02550"></a><span class="lineno"> 2550</span>&#160; </div>
<div class="line"><a name="l02551"></a><span class="lineno"> 2551</span>&#160;  int64_t SplatImm =</div>
<div class="line"><a name="l02552"></a><span class="lineno"> 2552</span>&#160;      cast&lt;ConstantSDNode&gt;(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>.getOperand(1))-&gt;getSExtValue();</div>
<div class="line"><a name="l02553"></a><span class="lineno"> 2553</span>&#160; </div>
<div class="line"><a name="l02554"></a><span class="lineno"> 2554</span>&#160;  <span class="comment">// The semantics of RISCVISD::VMV_V_X_VL is that when the operand</span></div>
<div class="line"><a name="l02555"></a><span class="lineno"> 2555</span>&#160;  <span class="comment">// type is wider than the resulting vector element type: an implicit</span></div>
<div class="line"><a name="l02556"></a><span class="lineno"> 2556</span>&#160;  <span class="comment">// truncation first takes place. Therefore, perform a manual</span></div>
<div class="line"><a name="l02557"></a><span class="lineno"> 2557</span>&#160;  <span class="comment">// truncation/sign-extension in order to ignore any truncated bits and catch</span></div>
<div class="line"><a name="l02558"></a><span class="lineno"> 2558</span>&#160;  <span class="comment">// any zero-extended immediate.</span></div>
<div class="line"><a name="l02559"></a><span class="lineno"> 2559</span>&#160;  <span class="comment">// For example, we wish to match (i8 -1) -&gt; (XLenVT 255) as a simm5 by first</span></div>
<div class="line"><a name="l02560"></a><span class="lineno"> 2560</span>&#160;  <span class="comment">// sign-extending to (XLenVT -1).</span></div>
<div class="line"><a name="l02561"></a><span class="lineno"> 2561</span>&#160;  <a class="code" href="classllvm_1_1MVT.html">MVT</a> XLenVT = Subtarget.<a class="code" href="classllvm_1_1RISCVSubtarget.html#a657dd2086f68037531f461853480fcf7">getXLenVT</a>();</div>
<div class="line"><a name="l02562"></a><span class="lineno"> 2562</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(XLenVT == <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>.getOperand(1).getSimpleValueType() &amp;&amp;</div>
<div class="line"><a name="l02563"></a><span class="lineno"> 2563</span>&#160;         <span class="stringliteral">&quot;Unexpected splat operand type&quot;</span>);</div>
<div class="line"><a name="l02564"></a><span class="lineno"> 2564</span>&#160;  <a class="code" href="classllvm_1_1MVT.html">MVT</a> EltVT = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>.getSimpleValueType().getVectorElementType();</div>
<div class="line"><a name="l02565"></a><span class="lineno"> 2565</span>&#160;  <span class="keywordflow">if</span> (EltVT.<a class="code" href="classllvm_1_1MVT.html#a6147c486cb64804c872318b6b8fc52ab">bitsLT</a>(XLenVT))</div>
<div class="line"><a name="l02566"></a><span class="lineno"> 2566</span>&#160;    SplatImm = <a class="code" href="namespacellvm.html#ad12a58d7f81a304e0c568ad2210bc4fe">SignExtend64</a>(SplatImm, EltVT.<a class="code" href="classllvm_1_1MVT.html#a7be7c6dd92efc0d6f866d4a3b433eed0">getSizeInBits</a>());</div>
<div class="line"><a name="l02567"></a><span class="lineno"> 2567</span>&#160; </div>
<div class="line"><a name="l02568"></a><span class="lineno"> 2568</span>&#160;  <span class="keywordflow">if</span> (!ValidateImm(SplatImm))</div>
<div class="line"><a name="l02569"></a><span class="lineno"> 2569</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02570"></a><span class="lineno"> 2570</span>&#160; </div>
<div class="line"><a name="l02571"></a><span class="lineno"> 2571</span>&#160;  SplatVal = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(SplatImm, <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>), XLenVT);</div>
<div class="line"><a name="l02572"></a><span class="lineno"> 2572</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02573"></a><span class="lineno"> 2573</span>&#160;}</div>
<div class="line"><a name="l02574"></a><span class="lineno"> 2574</span>&#160; </div>
<div class="line"><a name="l02575"></a><span class="lineno"><a class="line" href="classllvm_1_1RISCVDAGToDAGISel.html#a60c150f4b46cf5dc8dd1af9653ddde43"> 2575</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1RISCVDAGToDAGISel.html#a60c150f4b46cf5dc8dd1af9653ddde43">RISCVDAGToDAGISel::selectVSplatSimm5</a>(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;SplatVal) {</div>
<div class="line"><a name="l02576"></a><span class="lineno"> 2576</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="RISCVISelDAGToDAG_8cpp.html#a94db23ca15834c0dee46271b805c546a">selectVSplatSimmHelper</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, SplatVal, *<a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>, *Subtarget,</div>
<div class="line"><a name="l02577"></a><span class="lineno"> 2577</span>&#160;                                [](int64_t <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>) { <span class="keywordflow">return</span> isInt&lt;5&gt;(<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>); });</div>
<div class="line"><a name="l02578"></a><span class="lineno"> 2578</span>&#160;}</div>
<div class="line"><a name="l02579"></a><span class="lineno"> 2579</span>&#160; </div>
<div class="line"><a name="l02580"></a><span class="lineno"><a class="line" href="classllvm_1_1RISCVDAGToDAGISel.html#ab1135c7a8ff766bc0ec72c55e1049d87"> 2580</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1RISCVDAGToDAGISel.html#ab1135c7a8ff766bc0ec72c55e1049d87">RISCVDAGToDAGISel::selectVSplatSimm5Plus1</a>(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;SplatVal) {</div>
<div class="line"><a name="l02581"></a><span class="lineno"> 2581</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="RISCVISelDAGToDAG_8cpp.html#a94db23ca15834c0dee46271b805c546a">selectVSplatSimmHelper</a>(</div>
<div class="line"><a name="l02582"></a><span class="lineno"> 2582</span>&#160;      <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, SplatVal, *<a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>, *Subtarget,</div>
<div class="line"><a name="l02583"></a><span class="lineno"> 2583</span>&#160;      [](int64_t <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>) { <span class="keywordflow">return</span> (isInt&lt;5&gt;(<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>) &amp;&amp; <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> != -16) || <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> == 16; });</div>
<div class="line"><a name="l02584"></a><span class="lineno"> 2584</span>&#160;}</div>
<div class="line"><a name="l02585"></a><span class="lineno"> 2585</span>&#160; </div>
<div class="line"><a name="l02586"></a><span class="lineno"><a class="line" href="classllvm_1_1RISCVDAGToDAGISel.html#abfe913dce113bf8f5d20f5e1fe1966b2"> 2586</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1RISCVDAGToDAGISel.html#abfe913dce113bf8f5d20f5e1fe1966b2">RISCVDAGToDAGISel::selectVSplatSimm5Plus1NonZero</a>(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>,</div>
<div class="line"><a name="l02587"></a><span class="lineno"> 2587</span>&#160;                                                      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;SplatVal) {</div>
<div class="line"><a name="l02588"></a><span class="lineno"> 2588</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="RISCVISelDAGToDAG_8cpp.html#a94db23ca15834c0dee46271b805c546a">selectVSplatSimmHelper</a>(</div>
<div class="line"><a name="l02589"></a><span class="lineno"> 2589</span>&#160;      <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, SplatVal, *<a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>, *Subtarget, [](int64_t <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>) {</div>
<div class="line"><a name="l02590"></a><span class="lineno"> 2590</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> != 0 &amp;&amp; ((isInt&lt;5&gt;(<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>) &amp;&amp; <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> != -16) || <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> == 16);</div>
<div class="line"><a name="l02591"></a><span class="lineno"> 2591</span>&#160;      });</div>
<div class="line"><a name="l02592"></a><span class="lineno"> 2592</span>&#160;}</div>
<div class="line"><a name="l02593"></a><span class="lineno"> 2593</span>&#160; </div>
<div class="line"><a name="l02594"></a><span class="lineno"><a class="line" href="classllvm_1_1RISCVDAGToDAGISel.html#a0750c8c88c7f1b646580e86f63f6e2b8"> 2594</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1RISCVDAGToDAGISel.html#a0750c8c88c7f1b646580e86f63f6e2b8">RISCVDAGToDAGISel::selectVSplatUimm5</a>(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;SplatVal) {</div>
<div class="line"><a name="l02595"></a><span class="lineno"> 2595</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>.getOpcode() != <a class="code" href="namespacellvm_1_1RISCVISD.html#ab68e2d65ea9915ffaac8334a3b8bf882a127afe58529ef366a343a51786dcc3d4">RISCVISD::VMV_V_X_VL</a> || !<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>.getOperand(0).isUndef() ||</div>
<div class="line"><a name="l02596"></a><span class="lineno"> 2596</span>&#160;      !isa&lt;ConstantSDNode&gt;(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>.getOperand(1)))</div>
<div class="line"><a name="l02597"></a><span class="lineno"> 2597</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02598"></a><span class="lineno"> 2598</span>&#160; </div>
<div class="line"><a name="l02599"></a><span class="lineno"> 2599</span>&#160;  int64_t SplatImm =</div>
<div class="line"><a name="l02600"></a><span class="lineno"> 2600</span>&#160;      cast&lt;ConstantSDNode&gt;(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>.getOperand(1))-&gt;getSExtValue();</div>
<div class="line"><a name="l02601"></a><span class="lineno"> 2601</span>&#160; </div>
<div class="line"><a name="l02602"></a><span class="lineno"> 2602</span>&#160;  <span class="keywordflow">if</span> (!isUInt&lt;5&gt;(SplatImm))</div>
<div class="line"><a name="l02603"></a><span class="lineno"> 2603</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02604"></a><span class="lineno"> 2604</span>&#160; </div>
<div class="line"><a name="l02605"></a><span class="lineno"> 2605</span>&#160;  SplatVal =</div>
<div class="line"><a name="l02606"></a><span class="lineno"> 2606</span>&#160;      <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(SplatImm, <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>), Subtarget-&gt;<a class="code" href="classllvm_1_1RISCVSubtarget.html#a657dd2086f68037531f461853480fcf7">getXLenVT</a>());</div>
<div class="line"><a name="l02607"></a><span class="lineno"> 2607</span>&#160; </div>
<div class="line"><a name="l02608"></a><span class="lineno"> 2608</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02609"></a><span class="lineno"> 2609</span>&#160;}</div>
<div class="line"><a name="l02610"></a><span class="lineno"> 2610</span>&#160; </div>
<div class="line"><a name="l02611"></a><span class="lineno"><a class="line" href="classllvm_1_1RISCVDAGToDAGISel.html#a3cac1941ab70864b2e5d4f5ba6a684a5"> 2611</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1RISCVDAGToDAGISel.html#a3cac1941ab70864b2e5d4f5ba6a684a5">RISCVDAGToDAGISel::selectFPImm</a>(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>) {</div>
<div class="line"><a name="l02612"></a><span class="lineno"> 2612</span>&#160;  <a class="code" href="classllvm_1_1ConstantFPSDNode.html">ConstantFPSDNode</a> *CFP = dyn_cast&lt;ConstantFPSDNode&gt;(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>.getNode());</div>
<div class="line"><a name="l02613"></a><span class="lineno"> 2613</span>&#160;  <span class="keywordflow">if</span> (!CFP)</div>
<div class="line"><a name="l02614"></a><span class="lineno"> 2614</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02615"></a><span class="lineno"> 2615</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1APFloat.html">APFloat</a> &amp;APF = CFP-&gt;<a class="code" href="classllvm_1_1ConstantFPSDNode.html#ae7c1495127814fa2191507b92191446d">getValueAPF</a>();</div>
<div class="line"><a name="l02616"></a><span class="lineno"> 2616</span>&#160;  <span class="comment">// td can handle +0.0 already.</span></div>
<div class="line"><a name="l02617"></a><span class="lineno"> 2617</span>&#160;  <span class="keywordflow">if</span> (APF.<a class="code" href="classllvm_1_1APFloat.html#ac37cd93f2c41a818a278e99de784ba1d">isPosZero</a>())</div>
<div class="line"><a name="l02618"></a><span class="lineno"> 2618</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02619"></a><span class="lineno"> 2619</span>&#160;  <a class="code" href="classllvm_1_1MVT.html">MVT</a> XLenVT = Subtarget-&gt;<a class="code" href="classllvm_1_1RISCVSubtarget.html#a657dd2086f68037531f461853480fcf7">getXLenVT</a>();</div>
<div class="line"><a name="l02620"></a><span class="lineno"> 2620</span>&#160;  <span class="keywordflow">if</span> (CFP-&gt;<a class="code" href="classllvm_1_1SDNode.html#ac0a534d63ac5c5b87f36acdade953fbe">getValueType</a>(0) == <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346ac661c912350e3095c85ba75b8dbc17b1">MVT::f64</a> &amp;&amp; !Subtarget-&gt;<a class="code" href="classllvm_1_1RISCVSubtarget.html#afd9fbb2a5a666589b2843c496f3ae479">is64Bit</a>()) {</div>
<div class="line"><a name="l02621"></a><span class="lineno"> 2621</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(APF.<a class="code" href="classllvm_1_1APFloat.html#ad57f69ac4fa1d889dc657d52e8a51ef1">isNegZero</a>() &amp;&amp; <span class="stringliteral">&quot;Unexpected constant.&quot;</span>);</div>
<div class="line"><a name="l02622"></a><span class="lineno"> 2622</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02623"></a><span class="lineno"> 2623</span>&#160;  }</div>
<div class="line"><a name="l02624"></a><span class="lineno"> 2624</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l02625"></a><span class="lineno"> 2625</span>&#160;  <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> = <a class="code" href="RISCVISelDAGToDAG_8cpp.html#a2b20fa727cb3be2d7338de943bc81490">selectImm</a>(<a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, XLenVT, APF.<a class="code" href="classllvm_1_1APFloat.html#a9c5a2112c559ffbe2c7bbf5698b6482f">bitcastToAPInt</a>().<a class="code" href="classllvm_1_1APInt.html#af2daa0ee117afefed4c82eee55bf97b7">getSExtValue</a>(),</div>
<div class="line"><a name="l02626"></a><span class="lineno"> 2626</span>&#160;                  *Subtarget);</div>
<div class="line"><a name="l02627"></a><span class="lineno"> 2627</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02628"></a><span class="lineno"> 2628</span>&#160;}</div>
<div class="line"><a name="l02629"></a><span class="lineno"> 2629</span>&#160; </div>
<div class="line"><a name="l02630"></a><span class="lineno"><a class="line" href="classllvm_1_1RISCVDAGToDAGISel.html#a656b650a40d5acec00fc5a95ed5c71af"> 2630</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1RISCVDAGToDAGISel.html#a656b650a40d5acec00fc5a95ed5c71af">RISCVDAGToDAGISel::selectRVVSimm5</a>(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1AMDGPU_1_1Hwreg.html#a6467ebe1e09a75203dd5f14bdfe21d11">Width</a>,</div>
<div class="line"><a name="l02631"></a><span class="lineno"> 2631</span>&#160;                                       <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>) {</div>
<div class="line"><a name="l02632"></a><span class="lineno"> 2632</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = dyn_cast&lt;ConstantSDNode&gt;(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>)) {</div>
<div class="line"><a name="l02633"></a><span class="lineno"> 2633</span>&#160;    int64_t ImmVal = <a class="code" href="namespacellvm.html#ad12a58d7f81a304e0c568ad2210bc4fe">SignExtend64</a>(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;getSExtValue(), <a class="code" href="namespacellvm_1_1AMDGPU_1_1Hwreg.html#a6467ebe1e09a75203dd5f14bdfe21d11">Width</a>);</div>
<div class="line"><a name="l02634"></a><span class="lineno"> 2634</span>&#160; </div>
<div class="line"><a name="l02635"></a><span class="lineno"> 2635</span>&#160;    <span class="keywordflow">if</span> (!isInt&lt;5&gt;(ImmVal))</div>
<div class="line"><a name="l02636"></a><span class="lineno"> 2636</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02637"></a><span class="lineno"> 2637</span>&#160; </div>
<div class="line"><a name="l02638"></a><span class="lineno"> 2638</span>&#160;    <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(ImmVal, <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>), Subtarget-&gt;<a class="code" href="classllvm_1_1RISCVSubtarget.html#a657dd2086f68037531f461853480fcf7">getXLenVT</a>());</div>
<div class="line"><a name="l02639"></a><span class="lineno"> 2639</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02640"></a><span class="lineno"> 2640</span>&#160;  }</div>
<div class="line"><a name="l02641"></a><span class="lineno"> 2641</span>&#160; </div>
<div class="line"><a name="l02642"></a><span class="lineno"> 2642</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02643"></a><span class="lineno"> 2643</span>&#160;}</div>
<div class="line"><a name="l02644"></a><span class="lineno"> 2644</span>&#160; </div>
<div class="line"><a name="l02645"></a><span class="lineno"> 2645</span>&#160;<span class="comment">// Try to remove sext.w if the input is a W instruction or can be made into</span></div>
<div class="line"><a name="l02646"></a><span class="lineno"> 2646</span>&#160;<span class="comment">// a W instruction cheaply.</span></div>
<div class="line"><a name="l02647"></a><span class="lineno"> 2647</span>&#160;<span class="keywordtype">bool</span> RISCVDAGToDAGISel::doPeepholeSExtW(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>) {</div>
<div class="line"><a name="l02648"></a><span class="lineno"> 2648</span>&#160;  <span class="comment">// Look for the sext.w pattern, addiw rd, rs1, 0.</span></div>
<div class="line"><a name="l02649"></a><span class="lineno"> 2649</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getMachineOpcode() != RISCV::ADDIW ||</div>
<div class="line"><a name="l02650"></a><span class="lineno"> 2650</span>&#160;      !<a class="code" href="namespacellvm.html#a1a86775f3d85d98a31b2751e1eb348ea">isNullConstant</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(1)))</div>
<div class="line"><a name="l02651"></a><span class="lineno"> 2651</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02652"></a><span class="lineno"> 2652</span>&#160; </div>
<div class="line"><a name="l02653"></a><span class="lineno"> 2653</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> N0 = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(0);</div>
<div class="line"><a name="l02654"></a><span class="lineno"> 2654</span>&#160;  <span class="keywordflow">if</span> (!N0.<a class="code" href="classllvm_1_1SDValue.html#a75627d4da511ed986e105457709de4ae">isMachineOpcode</a>())</div>
<div class="line"><a name="l02655"></a><span class="lineno"> 2655</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02656"></a><span class="lineno"> 2656</span>&#160; </div>
<div class="line"><a name="l02657"></a><span class="lineno"> 2657</span>&#160;  <span class="keywordflow">switch</span> (N0.<a class="code" href="classllvm_1_1SDValue.html#adef073885c881f48920ff6a8b4b36163">getMachineOpcode</a>()) {</div>
<div class="line"><a name="l02658"></a><span class="lineno"> 2658</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l02659"></a><span class="lineno"> 2659</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02660"></a><span class="lineno"> 2660</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">RISCV::ADD</a>:</div>
<div class="line"><a name="l02661"></a><span class="lineno"> 2661</span>&#160;  <span class="keywordflow">case</span> RISCV::ADDI:</div>
<div class="line"><a name="l02662"></a><span class="lineno"> 2662</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9fa617e5567c3c2638938f7b9ddc3f1c">RISCV::SUB</a>:</div>
<div class="line"><a name="l02663"></a><span class="lineno"> 2663</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">RISCV::MUL</a>:</div>
<div class="line"><a name="l02664"></a><span class="lineno"> 2664</span>&#160;  <span class="keywordflow">case</span> RISCV::SLLI: {</div>
<div class="line"><a name="l02665"></a><span class="lineno"> 2665</span>&#160;    <span class="comment">// Convert sext.w+add/sub/mul to their W instructions. This will create</span></div>
<div class="line"><a name="l02666"></a><span class="lineno"> 2666</span>&#160;    <span class="comment">// a new independent instruction. This improves latency.</span></div>
<div class="line"><a name="l02667"></a><span class="lineno"> 2667</span>&#160;    <span class="keywordtype">unsigned</span> Opc;</div>
<div class="line"><a name="l02668"></a><span class="lineno"> 2668</span>&#160;    <span class="keywordflow">switch</span> (N0.<a class="code" href="classllvm_1_1SDValue.html#adef073885c881f48920ff6a8b4b36163">getMachineOpcode</a>()) {</div>
<div class="line"><a name="l02669"></a><span class="lineno"> 2669</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l02670"></a><span class="lineno"> 2670</span>&#160;      <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unexpected opcode!&quot;</span>);</div>
<div class="line"><a name="l02671"></a><span class="lineno"> 2671</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">RISCV::ADD</a>:  Opc = RISCV::ADDW;  <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02672"></a><span class="lineno"> 2672</span>&#160;    <span class="keywordflow">case</span> RISCV::ADDI: Opc = RISCV::ADDIW; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02673"></a><span class="lineno"> 2673</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9fa617e5567c3c2638938f7b9ddc3f1c">RISCV::SUB</a>:  Opc = RISCV::SUBW;  <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02674"></a><span class="lineno"> 2674</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">RISCV::MUL</a>:  Opc = RISCV::MULW;  <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02675"></a><span class="lineno"> 2675</span>&#160;    <span class="keywordflow">case</span> RISCV::SLLI: Opc = RISCV::SLLIW; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02676"></a><span class="lineno"> 2676</span>&#160;    }</div>
<div class="line"><a name="l02677"></a><span class="lineno"> 2677</span>&#160; </div>
<div class="line"><a name="l02678"></a><span class="lineno"> 2678</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> N00 = N0.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(0);</div>
<div class="line"><a name="l02679"></a><span class="lineno"> 2679</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> N01 = N0.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(1);</div>
<div class="line"><a name="l02680"></a><span class="lineno"> 2680</span>&#160; </div>
<div class="line"><a name="l02681"></a><span class="lineno"> 2681</span>&#160;    <span class="comment">// Shift amount needs to be uimm5.</span></div>
<div class="line"><a name="l02682"></a><span class="lineno"> 2682</span>&#160;    <span class="keywordflow">if</span> (N0.<a class="code" href="classllvm_1_1SDValue.html#adef073885c881f48920ff6a8b4b36163">getMachineOpcode</a>() == RISCV::SLLI &amp;&amp;</div>
<div class="line"><a name="l02683"></a><span class="lineno"> 2683</span>&#160;        !isUInt&lt;5&gt;(cast&lt;ConstantSDNode&gt;(N01)-&gt;getSExtValue()))</div>
<div class="line"><a name="l02684"></a><span class="lineno"> 2684</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02685"></a><span class="lineno"> 2685</span>&#160; </div>
<div class="line"><a name="l02686"></a><span class="lineno"> 2686</span>&#160;    <a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *Result =</div>
<div class="line"><a name="l02687"></a><span class="lineno"> 2687</span>&#160;        <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1c04c72abd24de2572a03ef686a36dd6">getMachineNode</a>(Opc, <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>), <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getValueType(0),</div>
<div class="line"><a name="l02688"></a><span class="lineno"> 2688</span>&#160;                               N00, N01);</div>
<div class="line"><a name="l02689"></a><span class="lineno"> 2689</span>&#160;    <a class="code" href="classllvm_1_1SelectionDAGISel.html#a84e771c0f56c984d8ee4a85c0cb46ed3">ReplaceUses</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, Result);</div>
<div class="line"><a name="l02690"></a><span class="lineno"> 2690</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02691"></a><span class="lineno"> 2691</span>&#160;  }</div>
<div class="line"><a name="l02692"></a><span class="lineno"> 2692</span>&#160;  <span class="keywordflow">case</span> RISCV::ADDW:</div>
<div class="line"><a name="l02693"></a><span class="lineno"> 2693</span>&#160;  <span class="keywordflow">case</span> RISCV::ADDIW:</div>
<div class="line"><a name="l02694"></a><span class="lineno"> 2694</span>&#160;  <span class="keywordflow">case</span> RISCV::SUBW:</div>
<div class="line"><a name="l02695"></a><span class="lineno"> 2695</span>&#160;  <span class="keywordflow">case</span> RISCV::MULW:</div>
<div class="line"><a name="l02696"></a><span class="lineno"> 2696</span>&#160;  <span class="keywordflow">case</span> RISCV::SLLIW:</div>
<div class="line"><a name="l02697"></a><span class="lineno"> 2697</span>&#160;  <span class="keywordflow">case</span> RISCV::PACKW:</div>
<div class="line"><a name="l02698"></a><span class="lineno"> 2698</span>&#160;  <span class="keywordflow">case</span> RISCV::TH_MULAW:</div>
<div class="line"><a name="l02699"></a><span class="lineno"> 2699</span>&#160;  <span class="keywordflow">case</span> RISCV::TH_MULAH:</div>
<div class="line"><a name="l02700"></a><span class="lineno"> 2700</span>&#160;  <span class="keywordflow">case</span> RISCV::TH_MULSW:</div>
<div class="line"><a name="l02701"></a><span class="lineno"> 2701</span>&#160;  <span class="keywordflow">case</span> RISCV::TH_MULSH:</div>
<div class="line"><a name="l02702"></a><span class="lineno"> 2702</span>&#160;    <span class="comment">// Result is already sign extended just remove the sext.w.</span></div>
<div class="line"><a name="l02703"></a><span class="lineno"> 2703</span>&#160;    <span class="comment">// NOTE: We only handle the nodes that are selected with hasAllWUsers.</span></div>
<div class="line"><a name="l02704"></a><span class="lineno"> 2704</span>&#160;    <a class="code" href="classllvm_1_1SelectionDAGISel.html#a84e771c0f56c984d8ee4a85c0cb46ed3">ReplaceUses</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, N0.<a class="code" href="classllvm_1_1SDValue.html#a10d54e1c6c9563724ce01d3a999757b2">getNode</a>());</div>
<div class="line"><a name="l02705"></a><span class="lineno"> 2705</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02706"></a><span class="lineno"> 2706</span>&#160;  }</div>
<div class="line"><a name="l02707"></a><span class="lineno"> 2707</span>&#160; </div>
<div class="line"><a name="l02708"></a><span class="lineno"> 2708</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02709"></a><span class="lineno"> 2709</span>&#160;}</div>
<div class="line"><a name="l02710"></a><span class="lineno"> 2710</span>&#160; </div>
<div class="line"><a name="l02711"></a><span class="lineno"> 2711</span>&#160;<span class="comment">// Return true if we can make sure mask of N is all-ones mask.</span></div>
<div class="line"><a name="l02712"></a><span class="lineno"><a class="line" href="RISCVISelDAGToDAG_8cpp.html#a31ec69d2a56ad55ca97695260fd53ad7"> 2712</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="RISCVISelDAGToDAG_8cpp.html#a31ec69d2a56ad55ca97695260fd53ad7">usesAllOnesMask</a>(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, <span class="keywordtype">unsigned</span> MaskOpIdx) {</div>
<div class="line"><a name="l02713"></a><span class="lineno"> 2713</span>&#160;  <span class="comment">// Check that we&#39;re using V0 as a mask register.</span></div>
<div class="line"><a name="l02714"></a><span class="lineno"> 2714</span>&#160;  <span class="keywordflow">if</span> (!isa&lt;RegisterSDNode&gt;(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(MaskOpIdx)) ||</div>
<div class="line"><a name="l02715"></a><span class="lineno"> 2715</span>&#160;      cast&lt;RegisterSDNode&gt;(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(MaskOpIdx))-&gt;getReg() != RISCV::V0)</div>
<div class="line"><a name="l02716"></a><span class="lineno"> 2716</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02717"></a><span class="lineno"> 2717</span>&#160; </div>
<div class="line"><a name="l02718"></a><span class="lineno"> 2718</span>&#160;  <span class="comment">// The glued user defines V0.</span></div>
<div class="line"><a name="l02719"></a><span class="lineno"> 2719</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> *Glued = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getGluedNode();</div>
<div class="line"><a name="l02720"></a><span class="lineno"> 2720</span>&#160; </div>
<div class="line"><a name="l02721"></a><span class="lineno"> 2721</span>&#160;  <span class="keywordflow">if</span> (!Glued || Glued-&gt;getOpcode() != <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a93bc27ca4d9e211c54b0d9efb660f080">ISD::CopyToReg</a>)</div>
<div class="line"><a name="l02722"></a><span class="lineno"> 2722</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02723"></a><span class="lineno"> 2723</span>&#160; </div>
<div class="line"><a name="l02724"></a><span class="lineno"> 2724</span>&#160;  <span class="comment">// Check that we&#39;re defining V0 as a mask register.</span></div>
<div class="line"><a name="l02725"></a><span class="lineno"> 2725</span>&#160;  <span class="keywordflow">if</span> (!isa&lt;RegisterSDNode&gt;(Glued-&gt;getOperand(1)) ||</div>
<div class="line"><a name="l02726"></a><span class="lineno"> 2726</span>&#160;      cast&lt;RegisterSDNode&gt;(Glued-&gt;getOperand(1))-&gt;getReg() != RISCV::V0)</div>
<div class="line"><a name="l02727"></a><span class="lineno"> 2727</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02728"></a><span class="lineno"> 2728</span>&#160; </div>
<div class="line"><a name="l02729"></a><span class="lineno"> 2729</span>&#160;  <span class="comment">// Check the instruction defining V0; it needs to be a VMSET pseudo.</span></div>
<div class="line"><a name="l02730"></a><span class="lineno"> 2730</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> MaskSetter = Glued-&gt;<a class="code" href="classllvm_1_1SDNode.html#aa167dab8c514d863ec44909befac3050">getOperand</a>(2);</div>
<div class="line"><a name="l02731"></a><span class="lineno"> 2731</span>&#160; </div>
<div class="line"><a name="l02732"></a><span class="lineno"> 2732</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> IsVMSet = [](<span class="keywordtype">unsigned</span> Opc) {</div>
<div class="line"><a name="l02733"></a><span class="lineno"> 2733</span>&#160;    <span class="keywordflow">return</span> Opc == RISCV::PseudoVMSET_M_B1 || Opc == RISCV::PseudoVMSET_M_B16 ||</div>
<div class="line"><a name="l02734"></a><span class="lineno"> 2734</span>&#160;           Opc == RISCV::PseudoVMSET_M_B2 || Opc == RISCV::PseudoVMSET_M_B32 ||</div>
<div class="line"><a name="l02735"></a><span class="lineno"> 2735</span>&#160;           Opc == RISCV::PseudoVMSET_M_B4 || Opc == RISCV::PseudoVMSET_M_B64 ||</div>
<div class="line"><a name="l02736"></a><span class="lineno"> 2736</span>&#160;           Opc == RISCV::PseudoVMSET_M_B8;</div>
<div class="line"><a name="l02737"></a><span class="lineno"> 2737</span>&#160;  };</div>
<div class="line"><a name="l02738"></a><span class="lineno"> 2738</span>&#160; </div>
<div class="line"><a name="l02739"></a><span class="lineno"> 2739</span>&#160;  <span class="comment">// TODO: Check that the VMSET is the expected bitwidth? The pseudo has</span></div>
<div class="line"><a name="l02740"></a><span class="lineno"> 2740</span>&#160;  <span class="comment">// undefined behaviour if it&#39;s the wrong bitwidth, so we could choose to</span></div>
<div class="line"><a name="l02741"></a><span class="lineno"> 2741</span>&#160;  <span class="comment">// assume that it&#39;s all-ones? Same applies to its VL.</span></div>
<div class="line"><a name="l02742"></a><span class="lineno"> 2742</span>&#160;  <span class="keywordflow">return</span> MaskSetter-&gt;<a class="code" href="classllvm_1_1SDNode.html#a1223d6e9a7dfb6e51299b894beccc679">isMachineOpcode</a>() &amp;&amp;</div>
<div class="line"><a name="l02743"></a><span class="lineno"> 2743</span>&#160;         IsVMSet(MaskSetter.<a class="code" href="classllvm_1_1SDValue.html#adef073885c881f48920ff6a8b4b36163">getMachineOpcode</a>());</div>
<div class="line"><a name="l02744"></a><span class="lineno"> 2744</span>&#160;}</div>
<div class="line"><a name="l02745"></a><span class="lineno"> 2745</span>&#160; </div>
<div class="line"><a name="l02746"></a><span class="lineno"> 2746</span>&#160;<span class="comment">// Optimize masked RVV pseudo instructions with a known all-ones mask to their</span></div>
<div class="line"><a name="l02747"></a><span class="lineno"> 2747</span>&#160;<span class="comment">// corresponding &quot;unmasked&quot; pseudo versions. The mask we&#39;re interested in will</span></div>
<div class="line"><a name="l02748"></a><span class="lineno"> 2748</span>&#160;<span class="comment">// take the form of a V0 physical register operand, with a glued</span></div>
<div class="line"><a name="l02749"></a><span class="lineno"> 2749</span>&#160;<span class="comment">// register-setting instruction.</span></div>
<div class="line"><a name="l02750"></a><span class="lineno"> 2750</span>&#160;<span class="keywordtype">bool</span> RISCVDAGToDAGISel::doPeepholeMaskedRVV(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>) {</div>
<div class="line"><a name="l02751"></a><span class="lineno"> 2751</span>&#160;  <span class="keyword">const</span> <a class="code" href="structllvm_1_1RISCV_1_1RISCVMaskedPseudoInfo.html">RISCV::RISCVMaskedPseudoInfo</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> =</div>
<div class="line"><a name="l02752"></a><span class="lineno"> 2752</span>&#160;      RISCV::getMaskedPseudoInfo(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getMachineOpcode());</div>
<div class="line"><a name="l02753"></a><span class="lineno"> 2753</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</div>
<div class="line"><a name="l02754"></a><span class="lineno"> 2754</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02755"></a><span class="lineno"> 2755</span>&#160; </div>
<div class="line"><a name="l02756"></a><span class="lineno"> 2756</span>&#160;  <span class="keywordtype">unsigned</span> MaskOpIdx = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;MaskOpIdx;</div>
<div class="line"><a name="l02757"></a><span class="lineno"> 2757</span>&#160; </div>
<div class="line"><a name="l02758"></a><span class="lineno"> 2758</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="RISCVISelDAGToDAG_8cpp.html#a31ec69d2a56ad55ca97695260fd53ad7">usesAllOnesMask</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, MaskOpIdx))</div>
<div class="line"><a name="l02759"></a><span class="lineno"> 2759</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02760"></a><span class="lineno"> 2760</span>&#160; </div>
<div class="line"><a name="l02761"></a><span class="lineno"> 2761</span>&#160;  <span class="comment">// Retrieve the tail policy operand index, if any.</span></div>
<div class="line"><a name="l02762"></a><span class="lineno"> 2762</span>&#160;  std::optional&lt;unsigned&gt; TailPolicyOpIdx;</div>
<div class="line"><a name="l02763"></a><span class="lineno"> 2763</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1RISCVInstrInfo.html">RISCVInstrInfo</a> &amp;<a class="code" href="classllvm_1_1SelectionDAGISel.html#a530363b25d555de667bf4f23bc6349a6">TII</a> = *Subtarget-&gt;<a class="code" href="classllvm_1_1RISCVSubtarget.html#a88a69c325ca25efc3d93dc23f564ec44">getInstrInfo</a>();</div>
<div class="line"><a name="l02764"></a><span class="lineno"> 2764</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCInstrDesc.html">MCInstrDesc</a> &amp;MaskedMCID = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a530363b25d555de667bf4f23bc6349a6">TII</a>.<a class="code" href="classllvm_1_1MCInstrInfo.html#a0587abbded61717d8a153b7e5bfdbfed">get</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getMachineOpcode());</div>
<div class="line"><a name="l02765"></a><span class="lineno"> 2765</span>&#160; </div>
<div class="line"><a name="l02766"></a><span class="lineno"> 2766</span>&#160;  <span class="keywordtype">bool</span> IsTA = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02767"></a><span class="lineno"> 2767</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1RISCVII.html#ad330ee2b7583cf1bf0a79f69c23ce6fe">RISCVII::hasVecPolicyOp</a>(MaskedMCID.<a class="code" href="classllvm_1_1MCInstrDesc.html#a46e0fcca2366f30d5e35b3d7dcb9c65f">TSFlags</a>)) {</div>
<div class="line"><a name="l02768"></a><span class="lineno"> 2768</span>&#160;    TailPolicyOpIdx = <a class="code" href="RISCVISelDAGToDAG_8cpp.html#a7670193ca11bbf716635a5d98ce13e1c">getVecPolicyOpIdx</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, MaskedMCID);</div>
<div class="line"><a name="l02769"></a><span class="lineno"> 2769</span>&#160;    <span class="keywordflow">if</span> (!(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getConstantOperandVal(*TailPolicyOpIdx) &amp;</div>
<div class="line"><a name="l02770"></a><span class="lineno"> 2770</span>&#160;          <a class="code" href="namespacellvm_1_1RISCVII.html#a9773946e3c7f55a1aba9c6f92205b3afabdc0a80d5e4b58676f861ffaa296bd1b">RISCVII::TAIL_AGNOSTIC</a>)) {</div>
<div class="line"><a name="l02771"></a><span class="lineno"> 2771</span>&#160;      <span class="comment">// Keep the true-masked instruction when there is no unmasked TU</span></div>
<div class="line"><a name="l02772"></a><span class="lineno"> 2772</span>&#160;      <span class="comment">// instruction</span></div>
<div class="line"><a name="l02773"></a><span class="lineno"> 2773</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;UnmaskedTUPseudo == <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;MaskedPseudo &amp;&amp; !<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(0).isUndef())</div>
<div class="line"><a name="l02774"></a><span class="lineno"> 2774</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02775"></a><span class="lineno"> 2775</span>&#160;      <span class="comment">// We can&#39;t use TA if the tie-operand is not IMPLICIT_DEF</span></div>
<div class="line"><a name="l02776"></a><span class="lineno"> 2776</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(0).isUndef())</div>
<div class="line"><a name="l02777"></a><span class="lineno"> 2777</span>&#160;        IsTA = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02778"></a><span class="lineno"> 2778</span>&#160;    }</div>
<div class="line"><a name="l02779"></a><span class="lineno"> 2779</span>&#160;  }</div>
<div class="line"><a name="l02780"></a><span class="lineno"> 2780</span>&#160; </div>
<div class="line"><a name="l02781"></a><span class="lineno"> 2781</span>&#160;  <span class="keywordtype">unsigned</span> Opc = IsTA ? <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;UnmaskedPseudo : <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;UnmaskedTUPseudo;</div>
<div class="line"><a name="l02782"></a><span class="lineno"> 2782</span>&#160; </div>
<div class="line"><a name="l02783"></a><span class="lineno"> 2783</span>&#160;  <span class="comment">// Check that we&#39;re dropping the mask operand and any policy operand</span></div>
<div class="line"><a name="l02784"></a><span class="lineno"> 2784</span>&#160;  <span class="comment">// when we transform to this unmasked pseudo. Additionally, if this insturtion</span></div>
<div class="line"><a name="l02785"></a><span class="lineno"> 2785</span>&#160;  <span class="comment">// is tail agnostic, the unmasked instruction should not have a merge op.</span></div>
<div class="line"><a name="l02786"></a><span class="lineno"> 2786</span>&#160;  <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> <a class="code" href="RISCVInsertVSETVLI_8cpp.html#ad4e26a8fdece2198ba75eff89753cd22">TSFlags</a> = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a530363b25d555de667bf4f23bc6349a6">TII</a>.<a class="code" href="classllvm_1_1MCInstrInfo.html#a0587abbded61717d8a153b7e5bfdbfed">get</a>(Opc).<a class="code" href="classllvm_1_1MCInstrDesc.html#a46e0fcca2366f30d5e35b3d7dcb9c65f">TSFlags</a>;</div>
<div class="line"><a name="l02787"></a><span class="lineno"> 2787</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((IsTA != <a class="code" href="namespacellvm_1_1RISCVII.html#a5027876e3adc5cd3f3c19a08e20a0f09">RISCVII::hasMergeOp</a>(<a class="code" href="RISCVInsertVSETVLI_8cpp.html#ad4e26a8fdece2198ba75eff89753cd22">TSFlags</a>)) &amp;&amp;</div>
<div class="line"><a name="l02788"></a><span class="lineno"> 2788</span>&#160;         <a class="code" href="namespacellvm_1_1RISCVII.html#a37a1bcf13a6c2eabcd36153b3abb5800">RISCVII::hasDummyMaskOp</a>(<a class="code" href="RISCVInsertVSETVLI_8cpp.html#ad4e26a8fdece2198ba75eff89753cd22">TSFlags</a>) &amp;&amp;</div>
<div class="line"><a name="l02789"></a><span class="lineno"> 2789</span>&#160;         !<a class="code" href="namespacellvm_1_1RISCVII.html#ad330ee2b7583cf1bf0a79f69c23ce6fe">RISCVII::hasVecPolicyOp</a>(<a class="code" href="RISCVInsertVSETVLI_8cpp.html#ad4e26a8fdece2198ba75eff89753cd22">TSFlags</a>) &amp;&amp;</div>
<div class="line"><a name="l02790"></a><span class="lineno"> 2790</span>&#160;         <span class="stringliteral">&quot;Unexpected pseudo to transform to&quot;</span>);</div>
<div class="line"><a name="l02791"></a><span class="lineno"> 2791</span>&#160;  (void)<a class="code" href="RISCVInsertVSETVLI_8cpp.html#ad4e26a8fdece2198ba75eff89753cd22">TSFlags</a>;</div>
<div class="line"><a name="l02792"></a><span class="lineno"> 2792</span>&#160; </div>
<div class="line"><a name="l02793"></a><span class="lineno"> 2793</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;SDValue, 8&gt;</a> Ops;</div>
<div class="line"><a name="l02794"></a><span class="lineno"> 2794</span>&#160;  <span class="comment">// Skip the merge operand at index 0 if IsTA</span></div>
<div class="line"><a name="l02795"></a><span class="lineno"> 2795</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = IsTA, <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getNumOperands(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>++) {</div>
<div class="line"><a name="l02796"></a><span class="lineno"> 2796</span>&#160;    <span class="comment">// Skip the mask, the policy, and the Glue.</span></div>
<div class="line"><a name="l02797"></a><span class="lineno"> 2797</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l02798"></a><span class="lineno"> 2798</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> == MaskOpIdx || <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> == TailPolicyOpIdx ||</div>
<div class="line"><a name="l02799"></a><span class="lineno"> 2799</span>&#160;        <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getValueType() == <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a59a1908cf136662bcfdc11ed49515ca9">MVT::Glue</a>)</div>
<div class="line"><a name="l02800"></a><span class="lineno"> 2800</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02801"></a><span class="lineno"> 2801</span>&#160;    Ops.push_back(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>);</div>
<div class="line"><a name="l02802"></a><span class="lineno"> 2802</span>&#160;  }</div>
<div class="line"><a name="l02803"></a><span class="lineno"> 2803</span>&#160; </div>
<div class="line"><a name="l02804"></a><span class="lineno"> 2804</span>&#160;  <span class="comment">// Transitively apply any node glued to our new node.</span></div>
<div class="line"><a name="l02805"></a><span class="lineno"> 2805</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> *Glued = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getGluedNode();</div>
<div class="line"><a name="l02806"></a><span class="lineno"> 2806</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *TGlued = Glued-&gt;getGluedNode())</div>
<div class="line"><a name="l02807"></a><span class="lineno"> 2807</span>&#160;    Ops.push_back(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(TGlued, TGlued-&gt;getNumValues() - 1));</div>
<div class="line"><a name="l02808"></a><span class="lineno"> 2808</span>&#160; </div>
<div class="line"><a name="l02809"></a><span class="lineno"> 2809</span>&#160;  <a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *<a class="code" href="namespacellvm_1_1ms__demangle.html#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">Result</a> = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1c04c72abd24de2572a03ef686a36dd6">getMachineNode</a>(Opc, <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>), <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getVTList(), Ops);</div>
<div class="line"><a name="l02810"></a><span class="lineno"> 2810</span>&#160;  <a class="code" href="namespacellvm_1_1ms__demangle.html#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">Result</a>-&gt;setFlags(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getFlags());</div>
<div class="line"><a name="l02811"></a><span class="lineno"> 2811</span>&#160;  <a class="code" href="classllvm_1_1SelectionDAGISel.html#a84e771c0f56c984d8ee4a85c0cb46ed3">ReplaceUses</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, Result);</div>
<div class="line"><a name="l02812"></a><span class="lineno"> 2812</span>&#160; </div>
<div class="line"><a name="l02813"></a><span class="lineno"> 2813</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02814"></a><span class="lineno"> 2814</span>&#160;}</div>
<div class="line"><a name="l02815"></a><span class="lineno"> 2815</span>&#160; </div>
<div class="line"><a name="l02816"></a><span class="lineno"> 2816</span>&#160;<span class="comment">// Try to fold VMERGE_VVM with unmasked intrinsic to masked intrinsic. The</span></div>
<div class="line"><a name="l02817"></a><span class="lineno"> 2817</span>&#160;<span class="comment">// peephole only deals with VMERGE_VVM which is TU and has false operand same as</span></div>
<div class="line"><a name="l02818"></a><span class="lineno"> 2818</span>&#160;<span class="comment">// its true operand now. E.g. (VMERGE_VVM_M1_TU False, False, (VADD_M1 ...),</span></div>
<div class="line"><a name="l02819"></a><span class="lineno"> 2819</span>&#160;<span class="comment">// ...) -&gt; (VADD_VV_M1_MASK)</span></div>
<div class="line"><a name="l02820"></a><span class="lineno"> 2820</span>&#160;<span class="keywordtype">bool</span> RISCVDAGToDAGISel::performCombineVMergeAndVOps(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, <span class="keywordtype">bool</span> IsTA) {</div>
<div class="line"><a name="l02821"></a><span class="lineno"> 2821</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> = IsTA ? 0 : 1;</div>
<div class="line"><a name="l02822"></a><span class="lineno"> 2822</span>&#160;  <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> Policy = IsTA ? <a class="code" href="namespacellvm_1_1RISCVII.html#a9773946e3c7f55a1aba9c6f92205b3afabdc0a80d5e4b58676f861ffaa296bd1b">RISCVII::TAIL_AGNOSTIC</a> : <span class="comment">/*TUMU*/</span> 0;</div>
<div class="line"><a name="l02823"></a><span class="lineno"> 2823</span>&#160; </div>
<div class="line"><a name="l02824"></a><span class="lineno"> 2824</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> False = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(0 + <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>);</div>
<div class="line"><a name="l02825"></a><span class="lineno"> 2825</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> True = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(1 + <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>);</div>
<div class="line"><a name="l02826"></a><span class="lineno"> 2826</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a> = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(2 + <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>);</div>
<div class="line"><a name="l02827"></a><span class="lineno"> 2827</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> VL = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(3 + <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>);</div>
<div class="line"><a name="l02828"></a><span class="lineno"> 2828</span>&#160; </div>
<div class="line"><a name="l02829"></a><span class="lineno"> 2829</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(True.<a class="code" href="classllvm_1_1SDValue.html#ac476ca9c302b9ba8d47ea7b02f6149f5">getResNo</a>() == 0 &amp;&amp;</div>
<div class="line"><a name="l02830"></a><span class="lineno"> 2830</span>&#160;         <span class="stringliteral">&quot;Expect True is the first output of an instruction.&quot;</span>);</div>
<div class="line"><a name="l02831"></a><span class="lineno"> 2831</span>&#160; </div>
<div class="line"><a name="l02832"></a><span class="lineno"> 2832</span>&#160;  <span class="comment">// Need N is the exactly one using True.</span></div>
<div class="line"><a name="l02833"></a><span class="lineno"> 2833</span>&#160;  <span class="keywordflow">if</span> (!True.<a class="code" href="classllvm_1_1SDValue.html#a342c0d4e8e59b30daefe9a05bc2098bd">hasOneUse</a>())</div>
<div class="line"><a name="l02834"></a><span class="lineno"> 2834</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02835"></a><span class="lineno"> 2835</span>&#160; </div>
<div class="line"><a name="l02836"></a><span class="lineno"> 2836</span>&#160;  <span class="keywordflow">if</span> (!True.<a class="code" href="classllvm_1_1SDValue.html#a75627d4da511ed986e105457709de4ae">isMachineOpcode</a>())</div>
<div class="line"><a name="l02837"></a><span class="lineno"> 2837</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02838"></a><span class="lineno"> 2838</span>&#160; </div>
<div class="line"><a name="l02839"></a><span class="lineno"> 2839</span>&#160;  <span class="keywordtype">unsigned</span> TrueOpc = True.<a class="code" href="classllvm_1_1SDValue.html#adef073885c881f48920ff6a8b4b36163">getMachineOpcode</a>();</div>
<div class="line"><a name="l02840"></a><span class="lineno"> 2840</span>&#160; </div>
<div class="line"><a name="l02841"></a><span class="lineno"> 2841</span>&#160;  <span class="comment">// Skip if True has merge operand.</span></div>
<div class="line"><a name="l02842"></a><span class="lineno"> 2842</span>&#160;  <span class="comment">// TODO: Deal with True having same merge operand with N.</span></div>
<div class="line"><a name="l02843"></a><span class="lineno"> 2843</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1RISCVII.html#a5027876e3adc5cd3f3c19a08e20a0f09">RISCVII::hasMergeOp</a>(<a class="code" href="classllvm_1_1SelectionDAGISel.html#a530363b25d555de667bf4f23bc6349a6">TII</a>-&gt;<a class="code" href="classllvm_1_1MCInstrInfo.html#a0587abbded61717d8a153b7e5bfdbfed">get</a>(TrueOpc).<a class="code" href="classllvm_1_1MCInstrDesc.html#a46e0fcca2366f30d5e35b3d7dcb9c65f">TSFlags</a>))</div>
<div class="line"><a name="l02844"></a><span class="lineno"> 2844</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02845"></a><span class="lineno"> 2845</span>&#160; </div>
<div class="line"><a name="l02846"></a><span class="lineno"> 2846</span>&#160;  <span class="comment">// Skip if True has side effect.</span></div>
<div class="line"><a name="l02847"></a><span class="lineno"> 2847</span>&#160;  <span class="comment">// TODO: Support velff and vlsegff.</span></div>
<div class="line"><a name="l02848"></a><span class="lineno"> 2848</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SelectionDAGISel.html#a530363b25d555de667bf4f23bc6349a6">TII</a>-&gt;<a class="code" href="classllvm_1_1MCInstrInfo.html#a0587abbded61717d8a153b7e5bfdbfed">get</a>(TrueOpc).<a class="code" href="classllvm_1_1MCInstrDesc.html#a927b12dc654f2d95fbaf6a2d2ef67e68">hasUnmodeledSideEffects</a>())</div>
<div class="line"><a name="l02849"></a><span class="lineno"> 2849</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02850"></a><span class="lineno"> 2850</span>&#160; </div>
<div class="line"><a name="l02851"></a><span class="lineno"> 2851</span>&#160;  <span class="comment">// Only deal with True when True is unmasked intrinsic now.</span></div>
<div class="line"><a name="l02852"></a><span class="lineno"> 2852</span>&#160;  <span class="keyword">const</span> <a class="code" href="structllvm_1_1RISCV_1_1RISCVMaskedPseudoInfo.html">RISCV::RISCVMaskedPseudoInfo</a> *<a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a> =</div>
<div class="line"><a name="l02853"></a><span class="lineno"> 2853</span>&#160;      RISCV::lookupMaskedIntrinsicByUnmaskedTA(TrueOpc);</div>
<div class="line"><a name="l02854"></a><span class="lineno"> 2854</span>&#160; </div>
<div class="line"><a name="l02855"></a><span class="lineno"> 2855</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>)</div>
<div class="line"><a name="l02856"></a><span class="lineno"> 2856</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02857"></a><span class="lineno"> 2857</span>&#160; </div>
<div class="line"><a name="l02858"></a><span class="lineno"> 2858</span>&#160;  <span class="comment">// The last operand of unmasked intrinsic should be sew or chain.</span></div>
<div class="line"><a name="l02859"></a><span class="lineno"> 2859</span>&#160;  <span class="keywordtype">bool</span> HasChainOp =</div>
<div class="line"><a name="l02860"></a><span class="lineno"> 2860</span>&#160;      True.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(True.<a class="code" href="classllvm_1_1SDValue.html#af6fe41bd1c6914242c20b4917de0d3f4">getNumOperands</a>() - 1).<a class="code" href="classllvm_1_1SDValue.html#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>() == <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a62a222acce6360abd2726719fabc2797">MVT::Other</a>;</div>
<div class="line"><a name="l02861"></a><span class="lineno"> 2861</span>&#160; </div>
<div class="line"><a name="l02862"></a><span class="lineno"> 2862</span>&#160;  <span class="keywordflow">if</span> (HasChainOp) {</div>
<div class="line"><a name="l02863"></a><span class="lineno"> 2863</span>&#160;    <span class="comment">// Avoid creating cycles in the DAG. We must ensure that none of the other</span></div>
<div class="line"><a name="l02864"></a><span class="lineno"> 2864</span>&#160;    <span class="comment">// operands depend on True through it&#39;s Chain.</span></div>
<div class="line"><a name="l02865"></a><span class="lineno"> 2865</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const SDNode *, 4&gt;</a> LoopWorklist;</div>
<div class="line"><a name="l02866"></a><span class="lineno"> 2866</span>&#160;    <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;const SDNode *, 16&gt;</a> Visited;</div>
<div class="line"><a name="l02867"></a><span class="lineno"> 2867</span>&#160;    LoopWorklist.push_back(False.<a class="code" href="classllvm_1_1SDValue.html#a10d54e1c6c9563724ce01d3a999757b2">getNode</a>());</div>
<div class="line"><a name="l02868"></a><span class="lineno"> 2868</span>&#160;    LoopWorklist.push_back(<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>.getNode());</div>
<div class="line"><a name="l02869"></a><span class="lineno"> 2869</span>&#160;    LoopWorklist.push_back(VL.<a class="code" href="classllvm_1_1SDValue.html#a10d54e1c6c9563724ce01d3a999757b2">getNode</a>());</div>
<div class="line"><a name="l02870"></a><span class="lineno"> 2870</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *Glued = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getGluedNode())</div>
<div class="line"><a name="l02871"></a><span class="lineno"> 2871</span>&#160;      LoopWorklist.push_back(Glued);</div>
<div class="line"><a name="l02872"></a><span class="lineno"> 2872</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SDNode.html#a7c6beebf86835d6582b0550cd7731ee9">SDNode::hasPredecessorHelper</a>(True.<a class="code" href="classllvm_1_1SDValue.html#a10d54e1c6c9563724ce01d3a999757b2">getNode</a>(), Visited, LoopWorklist))</div>
<div class="line"><a name="l02873"></a><span class="lineno"> 2873</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02874"></a><span class="lineno"> 2874</span>&#160;  }</div>
<div class="line"><a name="l02875"></a><span class="lineno"> 2875</span>&#160; </div>
<div class="line"><a name="l02876"></a><span class="lineno"> 2876</span>&#160;  <span class="comment">// Need True has same VL with N.</span></div>
<div class="line"><a name="l02877"></a><span class="lineno"> 2877</span>&#160;  <span class="keywordtype">unsigned</span> TrueVLIndex = True.<a class="code" href="classllvm_1_1SDValue.html#af6fe41bd1c6914242c20b4917de0d3f4">getNumOperands</a>() - HasChainOp - 2;</div>
<div class="line"><a name="l02878"></a><span class="lineno"> 2878</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> TrueVL = True.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(TrueVLIndex);</div>
<div class="line"><a name="l02879"></a><span class="lineno"> 2879</span>&#160; </div>
<div class="line"><a name="l02880"></a><span class="lineno"> 2880</span>&#160;  <span class="keyword">auto</span> IsNoFPExcept = [<span class="keyword">this</span>](<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>) {</div>
<div class="line"><a name="l02881"></a><span class="lineno"> 2881</span>&#160;    <span class="keywordflow">return</span> !this-&gt;<a class="code" href="classllvm_1_1SelectionDAGISel.html#abfec92a647d46864521a5f9bbc9e2138">mayRaiseFPException</a>(N.getNode()) ||</div>
<div class="line"><a name="l02882"></a><span class="lineno"> 2882</span>&#160;           <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getFlags().hasNoFPExcept();</div>
<div class="line"><a name="l02883"></a><span class="lineno"> 2883</span>&#160;  };</div>
<div class="line"><a name="l02884"></a><span class="lineno"> 2884</span>&#160; </div>
<div class="line"><a name="l02885"></a><span class="lineno"> 2885</span>&#160;  <span class="comment">// Allow the peephole for non-exception True with VLMAX vector length, since</span></div>
<div class="line"><a name="l02886"></a><span class="lineno"> 2886</span>&#160;  <span class="comment">// all the values after VL of N are dependent on Merge. VLMAX should be</span></div>
<div class="line"><a name="l02887"></a><span class="lineno"> 2887</span>&#160;  <span class="comment">// lowered to (XLenVT -1).</span></div>
<div class="line"><a name="l02888"></a><span class="lineno"> 2888</span>&#160;  <span class="keywordflow">if</span> (TrueVL != VL &amp;&amp; !(IsNoFPExcept(True) &amp;&amp; <a class="code" href="namespacellvm.html#af8b512107b41f4ccaf001e31218135c3">isAllOnesConstant</a>(TrueVL)))</div>
<div class="line"><a name="l02889"></a><span class="lineno"> 2889</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02890"></a><span class="lineno"> 2890</span>&#160; </div>
<div class="line"><a name="l02891"></a><span class="lineno"> 2891</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l02892"></a><span class="lineno"> 2892</span>&#160;  <span class="keywordtype">unsigned</span> MaskedOpc = <a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>-&gt;MaskedPseudo;</div>
<div class="line"><a name="l02893"></a><span class="lineno"> 2893</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="namespacellvm_1_1RISCVII.html#ad330ee2b7583cf1bf0a79f69c23ce6fe">RISCVII::hasVecPolicyOp</a>(<a class="code" href="classllvm_1_1SelectionDAGISel.html#a530363b25d555de667bf4f23bc6349a6">TII</a>-&gt;<a class="code" href="classllvm_1_1MCInstrInfo.html#a0587abbded61717d8a153b7e5bfdbfed">get</a>(MaskedOpc).<a class="code" href="classllvm_1_1MCInstrDesc.html#a46e0fcca2366f30d5e35b3d7dcb9c65f">TSFlags</a>) &amp;&amp;</div>
<div class="line"><a name="l02894"></a><span class="lineno"> 2894</span>&#160;         <span class="stringliteral">&quot;Expected instructions with mask have policy operand.&quot;</span>);</div>
<div class="line"><a name="l02895"></a><span class="lineno"> 2895</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="namespacellvm_1_1RISCVII.html#a5027876e3adc5cd3f3c19a08e20a0f09">RISCVII::hasMergeOp</a>(<a class="code" href="classllvm_1_1SelectionDAGISel.html#a530363b25d555de667bf4f23bc6349a6">TII</a>-&gt;<a class="code" href="classllvm_1_1MCInstrInfo.html#a0587abbded61717d8a153b7e5bfdbfed">get</a>(MaskedOpc).<a class="code" href="classllvm_1_1MCInstrDesc.html#a46e0fcca2366f30d5e35b3d7dcb9c65f">TSFlags</a>) &amp;&amp;</div>
<div class="line"><a name="l02896"></a><span class="lineno"> 2896</span>&#160;         <span class="stringliteral">&quot;Expected instructions with mask have merge operand.&quot;</span>);</div>
<div class="line"><a name="l02897"></a><span class="lineno"> 2897</span>&#160; </div>
<div class="line"><a name="l02898"></a><span class="lineno"> 2898</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;SDValue, 8&gt;</a> Ops;</div>
<div class="line"><a name="l02899"></a><span class="lineno"> 2899</span>&#160;  Ops.push_back(False);</div>
<div class="line"><a name="l02900"></a><span class="lineno"> 2900</span>&#160;  Ops.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a7efd1f0c1206d95e4fe01a9b49a57b82">append</a>(True-&gt;<a class="code" href="classllvm_1_1SDNode.html#aee6bd1fd282469b3476efce4b707f09a">op_begin</a>(), True-&gt;<a class="code" href="classllvm_1_1SDNode.html#aee6bd1fd282469b3476efce4b707f09a">op_begin</a>() + TrueVLIndex);</div>
<div class="line"><a name="l02901"></a><span class="lineno"> 2901</span>&#160;  Ops.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a7efd1f0c1206d95e4fe01a9b49a57b82">append</a>({<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>, VL, <span class="comment">/* SEW */</span> True.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(TrueVLIndex + 1)});</div>
<div class="line"><a name="l02902"></a><span class="lineno"> 2902</span>&#160;  Ops.push_back(<a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(Policy, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, Subtarget-&gt;<a class="code" href="classllvm_1_1RISCVSubtarget.html#a657dd2086f68037531f461853480fcf7">getXLenVT</a>()));</div>
<div class="line"><a name="l02903"></a><span class="lineno"> 2903</span>&#160; </div>
<div class="line"><a name="l02904"></a><span class="lineno"> 2904</span>&#160;  <span class="comment">// Result node should have chain operand of True.</span></div>
<div class="line"><a name="l02905"></a><span class="lineno"> 2905</span>&#160;  <span class="keywordflow">if</span> (HasChainOp)</div>
<div class="line"><a name="l02906"></a><span class="lineno"> 2906</span>&#160;    Ops.push_back(True.<a class="code" href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(True.<a class="code" href="classllvm_1_1SDValue.html#af6fe41bd1c6914242c20b4917de0d3f4">getNumOperands</a>() - 1));</div>
<div class="line"><a name="l02907"></a><span class="lineno"> 2907</span>&#160; </div>
<div class="line"><a name="l02908"></a><span class="lineno"> 2908</span>&#160;  <span class="comment">// Result node should take over glued node of N.</span></div>
<div class="line"><a name="l02909"></a><span class="lineno"> 2909</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getGluedNode())</div>
<div class="line"><a name="l02910"></a><span class="lineno"> 2910</span>&#160;    Ops.push_back(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getNumOperands() - 1));</div>
<div class="line"><a name="l02911"></a><span class="lineno"> 2911</span>&#160; </div>
<div class="line"><a name="l02912"></a><span class="lineno"> 2912</span>&#160;  <a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *<a class="code" href="namespacellvm_1_1ms__demangle.html#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">Result</a> =</div>
<div class="line"><a name="l02913"></a><span class="lineno"> 2913</span>&#160;      <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1c04c72abd24de2572a03ef686a36dd6">getMachineNode</a>(MaskedOpc, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, True-&gt;<a class="code" href="classllvm_1_1SDNode.html#a8353d97eb11578ab1ecb797200ca85c7">getVTList</a>(), Ops);</div>
<div class="line"><a name="l02914"></a><span class="lineno"> 2914</span>&#160;  <a class="code" href="namespacellvm_1_1ms__demangle.html#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">Result</a>-&gt;setFlags(True-&gt;<a class="code" href="classllvm_1_1SDNode.html#a5023bb0687db0b35d3b2d19327217ce5">getFlags</a>());</div>
<div class="line"><a name="l02915"></a><span class="lineno"> 2915</span>&#160; </div>
<div class="line"><a name="l02916"></a><span class="lineno"> 2916</span>&#160;  <span class="comment">// Replace vmerge.vvm node by Result.</span></div>
<div class="line"><a name="l02917"></a><span class="lineno"> 2917</span>&#160;  <a class="code" href="classllvm_1_1SelectionDAGISel.html#a84e771c0f56c984d8ee4a85c0cb46ed3">ReplaceUses</a>(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, 0), <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(Result, 0));</div>
<div class="line"><a name="l02918"></a><span class="lineno"> 2918</span>&#160; </div>
<div class="line"><a name="l02919"></a><span class="lineno"> 2919</span>&#160;  <span class="comment">// Replace another value of True. E.g. chain and VL.</span></div>
<div class="line"><a name="l02920"></a><span class="lineno"> 2920</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> Idx = 1; Idx &lt; True-&gt;<a class="code" href="classllvm_1_1SDNode.html#a7f06dbaee5fa2b239de548d0a775b25b">getNumValues</a>(); ++Idx)</div>
<div class="line"><a name="l02921"></a><span class="lineno"> 2921</span>&#160;    <a class="code" href="classllvm_1_1SelectionDAGISel.html#a84e771c0f56c984d8ee4a85c0cb46ed3">ReplaceUses</a>(True.<a class="code" href="classllvm_1_1SDValue.html#a64932427432abeb61241e98bea167580">getValue</a>(Idx), <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(Result, Idx));</div>
<div class="line"><a name="l02922"></a><span class="lineno"> 2922</span>&#160; </div>
<div class="line"><a name="l02923"></a><span class="lineno"> 2923</span>&#160;  <span class="comment">// Try to transform Result to unmasked intrinsic.</span></div>
<div class="line"><a name="l02924"></a><span class="lineno"> 2924</span>&#160;  doPeepholeMaskedRVV(Result);</div>
<div class="line"><a name="l02925"></a><span class="lineno"> 2925</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02926"></a><span class="lineno"> 2926</span>&#160;}</div>
<div class="line"><a name="l02927"></a><span class="lineno"> 2927</span>&#160; </div>
<div class="line"><a name="l02928"></a><span class="lineno"> 2928</span>&#160;<span class="comment">// Transform (VMERGE_VVM_&lt;LMUL&gt;_TU false, false, true, allones, vl, sew) to</span></div>
<div class="line"><a name="l02929"></a><span class="lineno"> 2929</span>&#160;<span class="comment">// (VADD_VI_&lt;LMUL&gt;_TU false, true, 0, vl, sew). It may decrease uses of VMSET.</span></div>
<div class="line"><a name="l02930"></a><span class="lineno"> 2930</span>&#160;<span class="keywordtype">bool</span> RISCVDAGToDAGISel::performVMergeToVAdd(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>) {</div>
<div class="line"><a name="l02931"></a><span class="lineno"> 2931</span>&#160;  <span class="keywordtype">unsigned</span> NewOpc;</div>
<div class="line"><a name="l02932"></a><span class="lineno"> 2932</span>&#160;  <span class="keywordflow">switch</span> (<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getMachineOpcode()) {</div>
<div class="line"><a name="l02933"></a><span class="lineno"> 2933</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l02934"></a><span class="lineno"> 2934</span>&#160;    <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Expected VMERGE_VVM_&lt;LMUL&gt;_TU instruction.&quot;</span>);</div>
<div class="line"><a name="l02935"></a><span class="lineno"> 2935</span>&#160;  <span class="keywordflow">case</span> RISCV::PseudoVMERGE_VVM_MF8_TU:</div>
<div class="line"><a name="l02936"></a><span class="lineno"> 2936</span>&#160;    NewOpc = RISCV::PseudoVADD_VI_MF8_TU;</div>
<div class="line"><a name="l02937"></a><span class="lineno"> 2937</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02938"></a><span class="lineno"> 2938</span>&#160;  <span class="keywordflow">case</span> RISCV::PseudoVMERGE_VVM_MF4_TU:</div>
<div class="line"><a name="l02939"></a><span class="lineno"> 2939</span>&#160;    NewOpc = RISCV::PseudoVADD_VI_MF4_TU;</div>
<div class="line"><a name="l02940"></a><span class="lineno"> 2940</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02941"></a><span class="lineno"> 2941</span>&#160;  <span class="keywordflow">case</span> RISCV::PseudoVMERGE_VVM_MF2_TU:</div>
<div class="line"><a name="l02942"></a><span class="lineno"> 2942</span>&#160;    NewOpc = RISCV::PseudoVADD_VI_MF2_TU;</div>
<div class="line"><a name="l02943"></a><span class="lineno"> 2943</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02944"></a><span class="lineno"> 2944</span>&#160;  <span class="keywordflow">case</span> RISCV::PseudoVMERGE_VVM_M1_TU:</div>
<div class="line"><a name="l02945"></a><span class="lineno"> 2945</span>&#160;    NewOpc = RISCV::PseudoVADD_VI_M1_TU;</div>
<div class="line"><a name="l02946"></a><span class="lineno"> 2946</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02947"></a><span class="lineno"> 2947</span>&#160;  <span class="keywordflow">case</span> RISCV::PseudoVMERGE_VVM_M2_TU:</div>
<div class="line"><a name="l02948"></a><span class="lineno"> 2948</span>&#160;    NewOpc = RISCV::PseudoVADD_VI_M2_TU;</div>
<div class="line"><a name="l02949"></a><span class="lineno"> 2949</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02950"></a><span class="lineno"> 2950</span>&#160;  <span class="keywordflow">case</span> RISCV::PseudoVMERGE_VVM_M4_TU:</div>
<div class="line"><a name="l02951"></a><span class="lineno"> 2951</span>&#160;    NewOpc = RISCV::PseudoVADD_VI_M4_TU;</div>
<div class="line"><a name="l02952"></a><span class="lineno"> 2952</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02953"></a><span class="lineno"> 2953</span>&#160;  <span class="keywordflow">case</span> RISCV::PseudoVMERGE_VVM_M8_TU:</div>
<div class="line"><a name="l02954"></a><span class="lineno"> 2954</span>&#160;    NewOpc = RISCV::PseudoVADD_VI_M8_TU;</div>
<div class="line"><a name="l02955"></a><span class="lineno"> 2955</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02956"></a><span class="lineno"> 2956</span>&#160;  }</div>
<div class="line"><a name="l02957"></a><span class="lineno"> 2957</span>&#160; </div>
<div class="line"><a name="l02958"></a><span class="lineno"> 2958</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="RISCVISelDAGToDAG_8cpp.html#a31ec69d2a56ad55ca97695260fd53ad7">usesAllOnesMask</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, <span class="comment">/* MaskOpIdx */</span> 3))</div>
<div class="line"><a name="l02959"></a><span class="lineno"> 2959</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02960"></a><span class="lineno"> 2960</span>&#160; </div>
<div class="line"><a name="l02961"></a><span class="lineno"> 2961</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l02962"></a><span class="lineno"> 2962</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> VT = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getValueType(0);</div>
<div class="line"><a name="l02963"></a><span class="lineno"> 2963</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Ops[] = {<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(1), <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(2),</div>
<div class="line"><a name="l02964"></a><span class="lineno"> 2964</span>&#160;                   <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(0, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, Subtarget-&gt;<a class="code" href="classllvm_1_1RISCVSubtarget.html#a657dd2086f68037531f461853480fcf7">getXLenVT</a>()),</div>
<div class="line"><a name="l02965"></a><span class="lineno"> 2965</span>&#160;                   <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(4), <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(5)};</div>
<div class="line"><a name="l02966"></a><span class="lineno"> 2966</span>&#160;  <a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *<a class="code" href="namespacellvm_1_1ms__demangle.html#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">Result</a> = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a1c04c72abd24de2572a03ef686a36dd6">getMachineNode</a>(NewOpc, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, Ops);</div>
<div class="line"><a name="l02967"></a><span class="lineno"> 2967</span>&#160;  <a class="code" href="classllvm_1_1SelectionDAGISel.html#a84e771c0f56c984d8ee4a85c0cb46ed3">ReplaceUses</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, Result);</div>
<div class="line"><a name="l02968"></a><span class="lineno"> 2968</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02969"></a><span class="lineno"> 2969</span>&#160;}</div>
<div class="line"><a name="l02970"></a><span class="lineno"> 2970</span>&#160; </div>
<div class="line"><a name="l02971"></a><span class="lineno"> 2971</span>&#160;<span class="keywordtype">bool</span> RISCVDAGToDAGISel::doPeepholeMergeVVMFold() {</div>
<div class="line"><a name="l02972"></a><span class="lineno"> 2972</span>&#160;  <span class="keywordtype">bool</span> MadeChange = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02973"></a><span class="lineno"> 2973</span>&#160;  <a class="code" href="classllvm_1_1ilist__iterator.html">SelectionDAG::allnodes_iterator</a> Position = <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a5f23bcf1a7515069da5231b94ff16c79">allnodes_end</a>();</div>
<div class="line"><a name="l02974"></a><span class="lineno"> 2974</span>&#160; </div>
<div class="line"><a name="l02975"></a><span class="lineno"> 2975</span>&#160;  <span class="keywordflow">while</span> (Position != <a class="code" href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;<a class="code" href="classllvm_1_1SelectionDAG.html#a5afbc8267a0ca49e65d97cb3fde65801">allnodes_begin</a>()) {</div>
<div class="line"><a name="l02976"></a><span class="lineno"> 2976</span>&#160;    <a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> = &amp;*--Position;</div>
<div class="line"><a name="l02977"></a><span class="lineno"> 2977</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;use_empty() || !<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;isMachineOpcode())</div>
<div class="line"><a name="l02978"></a><span class="lineno"> 2978</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02979"></a><span class="lineno"> 2979</span>&#160; </div>
<div class="line"><a name="l02980"></a><span class="lineno"> 2980</span>&#160;    <span class="keyword">auto</span> IsVMergeTU = [](<span class="keywordtype">unsigned</span> Opcode) {</div>
<div class="line"><a name="l02981"></a><span class="lineno"> 2981</span>&#160;      <span class="keywordflow">return</span> Opcode == RISCV::PseudoVMERGE_VVM_MF8_TU ||</div>
<div class="line"><a name="l02982"></a><span class="lineno"> 2982</span>&#160;             Opcode == RISCV::PseudoVMERGE_VVM_MF4_TU ||</div>
<div class="line"><a name="l02983"></a><span class="lineno"> 2983</span>&#160;             Opcode == RISCV::PseudoVMERGE_VVM_MF2_TU ||</div>
<div class="line"><a name="l02984"></a><span class="lineno"> 2984</span>&#160;             Opcode == RISCV::PseudoVMERGE_VVM_M1_TU ||</div>
<div class="line"><a name="l02985"></a><span class="lineno"> 2985</span>&#160;             Opcode == RISCV::PseudoVMERGE_VVM_M2_TU ||</div>
<div class="line"><a name="l02986"></a><span class="lineno"> 2986</span>&#160;             Opcode == RISCV::PseudoVMERGE_VVM_M4_TU ||</div>
<div class="line"><a name="l02987"></a><span class="lineno"> 2987</span>&#160;             Opcode == RISCV::PseudoVMERGE_VVM_M8_TU;</div>
<div class="line"><a name="l02988"></a><span class="lineno"> 2988</span>&#160;    };</div>
<div class="line"><a name="l02989"></a><span class="lineno"> 2989</span>&#160; </div>
<div class="line"><a name="l02990"></a><span class="lineno"> 2990</span>&#160;    <span class="keyword">auto</span> IsVMergeTA = [](<span class="keywordtype">unsigned</span> Opcode) {</div>
<div class="line"><a name="l02991"></a><span class="lineno"> 2991</span>&#160;      <span class="keywordflow">return</span> Opcode == RISCV::PseudoVMERGE_VVM_MF8 ||</div>
<div class="line"><a name="l02992"></a><span class="lineno"> 2992</span>&#160;             Opcode == RISCV::PseudoVMERGE_VVM_MF4 ||</div>
<div class="line"><a name="l02993"></a><span class="lineno"> 2993</span>&#160;             Opcode == RISCV::PseudoVMERGE_VVM_MF2 ||</div>
<div class="line"><a name="l02994"></a><span class="lineno"> 2994</span>&#160;             Opcode == RISCV::PseudoVMERGE_VVM_M1 ||</div>
<div class="line"><a name="l02995"></a><span class="lineno"> 2995</span>&#160;             Opcode == RISCV::PseudoVMERGE_VVM_M2 ||</div>
<div class="line"><a name="l02996"></a><span class="lineno"> 2996</span>&#160;             Opcode == RISCV::PseudoVMERGE_VVM_M4 ||</div>
<div class="line"><a name="l02997"></a><span class="lineno"> 2997</span>&#160;             Opcode == RISCV::PseudoVMERGE_VVM_M8;</div>
<div class="line"><a name="l02998"></a><span class="lineno"> 2998</span>&#160;    };</div>
<div class="line"><a name="l02999"></a><span class="lineno"> 2999</span>&#160; </div>
<div class="line"><a name="l03000"></a><span class="lineno"> 3000</span>&#160;    <span class="keywordtype">unsigned</span> Opc = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getMachineOpcode();</div>
<div class="line"><a name="l03001"></a><span class="lineno"> 3001</span>&#160;    <span class="comment">// The following optimizations require that the merge operand of N is same</span></div>
<div class="line"><a name="l03002"></a><span class="lineno"> 3002</span>&#160;    <span class="comment">// as the false operand of N.</span></div>
<div class="line"><a name="l03003"></a><span class="lineno"> 3003</span>&#160;    <span class="keywordflow">if</span> ((IsVMergeTU(Opc) &amp;&amp; <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(0) == <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(1)) ||</div>
<div class="line"><a name="l03004"></a><span class="lineno"> 3004</span>&#160;        IsVMergeTA(Opc))</div>
<div class="line"><a name="l03005"></a><span class="lineno"> 3005</span>&#160;      MadeChange |= performCombineVMergeAndVOps(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, IsVMergeTA(Opc));</div>
<div class="line"><a name="l03006"></a><span class="lineno"> 3006</span>&#160;    <span class="keywordflow">if</span> (IsVMergeTU(Opc) &amp;&amp; <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(0) == <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(1))</div>
<div class="line"><a name="l03007"></a><span class="lineno"> 3007</span>&#160;      MadeChange |= performVMergeToVAdd(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l03008"></a><span class="lineno"> 3008</span>&#160;  }</div>
<div class="line"><a name="l03009"></a><span class="lineno"> 3009</span>&#160;  <span class="keywordflow">return</span> MadeChange;</div>
<div class="line"><a name="l03010"></a><span class="lineno"> 3010</span>&#160;}</div>
<div class="line"><a name="l03011"></a><span class="lineno"> 3011</span>&#160; </div>
<div class="line"><a name="l03012"></a><span class="lineno"> 3012</span>&#160;<span class="comment">// This pass converts a legalized DAG into a RISCV-specific DAG, ready</span></div>
<div class="line"><a name="l03013"></a><span class="lineno"> 3013</span>&#160;<span class="comment">// for instruction scheduling.</span></div>
<div class="line"><a name="l03014"></a><span class="lineno"><a class="line" href="namespacellvm.html#a8ddab22e15c5fd147de94fbde3549d1b"> 3014</a></span>&#160;<a class="code" href="classllvm_1_1FunctionPass.html">FunctionPass</a> *<a class="code" href="namespacellvm.html#a8ddab22e15c5fd147de94fbde3549d1b">llvm::createRISCVISelDag</a>(<a class="code" href="classllvm_1_1RISCVTargetMachine.html">RISCVTargetMachine</a> &amp;<a class="code" href="PassBuilderBindings_8cpp.html#ab76052bb166c65901edb603a3e1f03ab">TM</a>,</div>
<div class="line"><a name="l03015"></a><span class="lineno"> 3015</span>&#160;                                       <a class="code" href="namespacellvm_1_1CodeGenOpt.html#ad7e52174abb1cfb84238ad1ac475ee36">CodeGenOpt::Level</a> OptLevel) {</div>
<div class="line"><a name="l03016"></a><span class="lineno"> 3016</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="classllvm_1_1RISCVDAGToDAGISel.html">RISCVDAGToDAGISel</a>(<a class="code" href="PassBuilderBindings_8cpp.html#ab76052bb166c65901edb603a3e1f03ab">TM</a>, OptLevel);</div>
<div class="line"><a name="l03017"></a><span class="lineno"> 3017</span>&#160;}</div>
<div class="line"><a name="l03018"></a><span class="lineno"> 3018</span>&#160; </div>
<div class="line"><a name="l03019"></a><span class="lineno"> 3019</span>&#160;<span class="keywordtype">char</span> <a class="code" href="classllvm_1_1RISCVDAGToDAGISel.html#a01c8e2a184c56010855dff1bec3cb48e">RISCVDAGToDAGISel::ID</a> = 0;</div>
<div class="line"><a name="l03020"></a><span class="lineno"> 3020</span>&#160; </div>
<div class="line"><a name="l03021"></a><span class="lineno"> 3021</span>&#160;<a class="code" href="PassSupport_8h.html#af807c9595d50b45c0008924c4679c85c">INITIALIZE_PASS</a>(<a class="code" href="classllvm_1_1RISCVDAGToDAGISel.html">RISCVDAGToDAGISel</a>, <a class="code" href="RISCVISelDAGToDAG_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">DEBUG_TYPE</a>, <a class="code" href="RISCVISelDAGToDAG_8cpp.html#acf9235cddac26ff3f81e8c56849bcaac">PASS_NAME</a>, <span class="keyword">false</span>, <span class="keyword">false</span>)</div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a9fa617e5567c3c2638938f7b9ddc3f1c"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9fa617e5567c3c2638938f7b9ddc3f1c">llvm::ISD::SUB</a></div><div class="ttdeci">@ SUB</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00240">ISDOpcodes.h:240</a></div></div>
<div class="ttc" id="anamespacellvm_1_1RISCVII_html_ab335a6694bd42d4d2f807ec281af1e1ca1fc4732c22ad534f1cec77512aa4c451"><div class="ttname"><a href="namespacellvm_1_1RISCVII.html#ab335a6694bd42d4d2f807ec281af1e1ca1fc4732c22ad534f1cec77512aa4c451">llvm::RISCVII::LMUL_1</a></div><div class="ttdeci">@ LMUL_1</div><div class="ttdef"><b>Definition:</b> <a href="RISCVBaseInfo_8h_source.html#l00121">RISCVBaseInfo.h:121</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetMachine_html_a3f36b7c907385d9b367f7b22a9fcc797"><div class="ttname"><a href="classllvm_1_1TargetMachine.html#a3f36b7c907385d9b367f7b22a9fcc797">llvm::TargetMachine::getOptLevel</a></div><div class="ttdeci">CodeGenOpt::Level getOptLevel() const</div><div class="ttdoc">Returns the optimization level: None, Less, Default, or Aggressive.</div><div class="ttdef"><b>Definition:</b> <a href="TargetMachine_8cpp_source.html#l00182">TargetMachine.cpp:182</a></div></div>
<div class="ttc" id="anamespacellvm_1_1RISCVISD_html_ab68e2d65ea9915ffaac8334a3b8bf882a41320aaa5a0fc5f6704fba144635bcab"><div class="ttname"><a href="namespacellvm_1_1RISCVISD.html#ab68e2d65ea9915ffaac8334a3b8bf882a41320aaa5a0fc5f6704fba144635bcab">llvm::RISCVISD::VFMV_S_F_VL</a></div><div class="ttdeci">@ VFMV_S_F_VL</div><div class="ttdef"><b>Definition:</b> <a href="RISCVISelLowering_8h_source.html#l00146">RISCVISelLowering.h:146</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantSDNode_html"><div class="ttname"><a href="classllvm_1_1ConstantSDNode.html">llvm::ConstantSDNode</a></div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l01586">SelectionDAGNodes.h:1586</a></div></div>
<div class="ttc" id="aclassllvm_1_1MVT_html_ad3ff408f213bef998f49952c6c3711fb"><div class="ttname"><a href="classllvm_1_1MVT.html#ad3ff408f213bef998f49952c6c3711fb">llvm::MVT::getVectorElementType</a></div><div class="ttdeci">MVT getVectorElementType() const</div><div class="ttdef"><b>Definition:</b> <a href="MachineValueType_8h_source.html#l00548">MachineValueType.h:548</a></div></div>
<div class="ttc" id="aclassllvm_1_1MVT_html_ab8e1af73424a59a00656c9ffd505c03f"><div class="ttname"><a href="classllvm_1_1MVT.html#ab8e1af73424a59a00656c9ffd505c03f">llvm::MVT::getStoreSize</a></div><div class="ttdeci">TypeSize getStoreSize() const</div><div class="ttdoc">Return the number of bytes overwritten by a store of the specified value type.</div><div class="ttdef"><b>Definition:</b> <a href="MachineValueType_8h_source.html#l01154">MachineValueType.h:1154</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a2df96794a99f5d3b4415c4a84e616140"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a2df96794a99f5d3b4415c4a84e616140">llvm::ISD::INTRINSIC_VOID</a></div><div class="ttdeci">@ INTRINSIC_VOID</div><div class="ttdoc">OUTCHAIN = INTRINSIC_VOID(INCHAIN, INTRINSICID, arg1, arg2, ...) This node represents a target intrin...</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00199">ISDOpcodes.h:199</a></div></div>
<div class="ttc" id="aclassllvm_1_1RISCVDAGToDAGISel_html_a8eaccccf1e694d9729d3abdce383bd49"><div class="ttname"><a href="classllvm_1_1RISCVDAGToDAGISel.html#a8eaccccf1e694d9729d3abdce383bd49">llvm::RISCVDAGToDAGISel::selectVLXSEG</a></div><div class="ttdeci">void selectVLXSEG(SDNode *Node, bool IsMasked, bool IsOrdered)</div><div class="ttdef"><b>Definition:</b> <a href="RISCVISelDAGToDAG_8cpp_source.html#l00401">RISCVISelDAGToDAG.cpp:401</a></div></div>
<div class="ttc" id="aclassllvm_1_1RISCVDAGToDAGISel_html_a3cac1941ab70864b2e5d4f5ba6a684a5"><div class="ttname"><a href="classllvm_1_1RISCVDAGToDAGISel.html#a3cac1941ab70864b2e5d4f5ba6a684a5">llvm::RISCVDAGToDAGISel::selectFPImm</a></div><div class="ttdeci">bool selectFPImm(SDValue N, SDValue &amp;Imm)</div><div class="ttdef"><b>Definition:</b> <a href="RISCVISelDAGToDAG_8cpp_source.html#l02611">RISCVISelDAGToDAG.cpp:2611</a></div></div>
<div class="ttc" id="aMathExtras_8h_html"><div class="ttname"><a href="MathExtras_8h.html">MathExtras.h</a></div></div>
<div class="ttc" id="aR600ClauseMergePass_8cpp_html_aba99928790de45fa7aa12b47fbd828ff"><div class="ttname"><a href="R600ClauseMergePass_8cpp.html#aba99928790de45fa7aa12b47fbd828ff">Merge</a></div><div class="ttdeci">R600 Clause Merge</div><div class="ttdef"><b>Definition:</b> <a href="R600ClauseMergePass_8cpp_source.html#l00070">R600ClauseMergePass.cpp:70</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAGISel_html_a1ed864be04c93653277b0f5112a4f305"><div class="ttname"><a href="classllvm_1_1SelectionDAGISel.html#a1ed864be04c93653277b0f5112a4f305">llvm::SelectionDAGISel::TLI</a></div><div class="ttdeci">const TargetLowering * TLI</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGISel_8h_source.html#l00056">SelectionDAGISel.h:56</a></div></div>
<div class="ttc" id="anamespacellvm_html_a37c1fdede126353d80c3753dfe06f3c7"><div class="ttname"><a href="namespacellvm.html#a37c1fdede126353d80c3753dfe06f3c7">llvm::bit_width</a></div><div class="ttdeci">int bit_width(T Value)</div><div class="ttdoc">Returns the number of bits needed to represent Value if Value is nonzero.</div><div class="ttdef"><b>Definition:</b> <a href="bit_8h_source.html#l00281">bit.h:281</a></div></div>
<div class="ttc" id="anamespacellvm_html"><div class="ttname"><a href="namespacellvm.html">llvm</a></div><div class="ttdoc">This is an optimization pass for GlobalISel generic memory operations.</div><div class="ttdef"><b>Definition:</b> <a href="AddressRanges_8h_source.html#l00018">AddressRanges.h:18</a></div></div>
<div class="ttc" id="anamespacellvm_1_1RISCVISD_html_ab68e2d65ea9915ffaac8334a3b8bf882a0eddf77c4e0287a09acf158c434faf45"><div class="ttname"><a href="namespacellvm_1_1RISCVISD.html#ab68e2d65ea9915ffaac8334a3b8bf882a0eddf77c4e0287a09acf158c434faf45">llvm::RISCVISD::SLLW</a></div><div class="ttdeci">@ SLLW</div><div class="ttdef"><b>Definition:</b> <a href="RISCVISelLowering_8h_source.html#l00065">RISCVISelLowering.h:65</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAGISel_html_a0ead78650333eefc4d5591ca3db9ed4b"><div class="ttname"><a href="classllvm_1_1SelectionDAGISel.html#a0ead78650333eefc4d5591ca3db9ed4b">llvm::SelectionDAGISel::TM</a></div><div class="ttdeci">TargetMachine &amp; TM</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGISel_8h_source.html#l00043">SelectionDAGISel.h:43</a></div></div>
<div class="ttc" id="aclassllvm_1_1SDNode_html_ac0a534d63ac5c5b87f36acdade953fbe"><div class="ttname"><a href="classllvm_1_1SDNode.html#ac0a534d63ac5c5b87f36acdade953fbe">llvm::SDNode::getValueType</a></div><div class="ttdeci">EVT getValueType(unsigned ResNo) const</div><div class="ttdoc">Return the type of a specified result.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l00986">SelectionDAGNodes.h:986</a></div></div>
<div class="ttc" id="astructllvm_1_1EVT_html_ad958859a7af278dd5ea2b593c2b25050"><div class="ttname"><a href="structllvm_1_1EVT.html#ad958859a7af278dd5ea2b593c2b25050">llvm::EVT::isScalarInteger</a></div><div class="ttdeci">bool isScalarInteger() const</div><div class="ttdoc">Return true if this is an integer, but not a vector.</div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00149">ValueTypes.h:149</a></div></div>
<div class="ttc" id="astructllvm_1_1RISCV_1_1VLSEGPseudo_html"><div class="ttname"><a href="structllvm_1_1RISCV_1_1VLSEGPseudo.html">llvm::RISCV::VLSEGPseudo</a></div><div class="ttdef"><b>Definition:</b> <a href="RISCVISelDAGToDAG_8h_source.html#l00149">RISCVISelDAGToDAG.h:149</a></div></div>
<div class="ttc" id="aclassllvm_1_1SDLoc_html"><div class="ttname"><a href="classllvm_1_1SDLoc.html">llvm::SDLoc</a></div><div class="ttdoc">Wrapper class for IR location info (IR ordering and DebugLoc) to be passed into SDNode creation funct...</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l01106">SelectionDAGNodes.h:1106</a></div></div>
<div class="ttc" id="aclassllvm_1_1MVT_html_a98049e07856ff1288295bc58e232518b"><div class="ttname"><a href="classllvm_1_1MVT.html#a98049e07856ff1288295bc58e232518b">llvm::MVT::isFixedLengthVector</a></div><div class="ttdeci">bool isFixedLengthVector() const</div><div class="ttdef"><b>Definition:</b> <a href="MachineValueType_8h_source.html#l00404">MachineValueType.h:404</a></div></div>
<div class="ttc" id="aclassllvm_1_1RISCVDAGToDAGISel_html_ab1135c7a8ff766bc0ec72c55e1049d87"><div class="ttname"><a href="classllvm_1_1RISCVDAGToDAGISel.html#ab1135c7a8ff766bc0ec72c55e1049d87">llvm::RISCVDAGToDAGISel::selectVSplatSimm5Plus1</a></div><div class="ttdeci">bool selectVSplatSimm5Plus1(SDValue N, SDValue &amp;SplatVal)</div><div class="ttdef"><b>Definition:</b> <a href="RISCVISelDAGToDAG_8cpp_source.html#l02580">RISCVISelDAGToDAG.cpp:2580</a></div></div>
<div class="ttc" id="aclassllvm_1_1DataLayout_html"><div class="ttname"><a href="classllvm_1_1DataLayout.html">llvm::DataLayout</a></div><div class="ttdoc">A parsed version of the target data layout string in and methods for querying it.</div><div class="ttdef"><b>Definition:</b> <a href="DataLayout_8h_source.html#l00110">DataLayout.h:110</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a7415ab9f2172c59a2ee7c7a02afa56a4"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7415ab9f2172c59a2ee7c7a02afa56a4">llvm::ISD::OR</a></div><div class="ttdeci">@ OR</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00667">ISDOpcodes.h:667</a></div></div>
<div class="ttc" id="aclassllvm_1_1MVT_html_a437cf7bc875369cbe0ea62f949626f0b"><div class="ttname"><a href="classllvm_1_1MVT.html#a437cf7bc875369cbe0ea62f949626f0b">llvm::MVT::isInteger</a></div><div class="ttdeci">bool isInteger() const</div><div class="ttdoc">Return true if this is an integer or a vector integer type.</div><div class="ttdef"><b>Definition:</b> <a href="MachineValueType_8h_source.html#l00376">MachineValueType.h:376</a></div></div>
<div class="ttc" id="aclassllvm_1_1RISCVDAGToDAGISel_html_a6aa2c4df9fd69696ef41afd841661bb7"><div class="ttname"><a href="classllvm_1_1RISCVDAGToDAGISel.html#a6aa2c4df9fd69696ef41afd841661bb7">llvm::RISCVDAGToDAGISel::PreprocessISelDAG</a></div><div class="ttdeci">void PreprocessISelDAG() override</div><div class="ttdoc">PreprocessISelDAG - This hook allows targets to hack on the graph before instruction selection starts...</div><div class="ttdef"><b>Definition:</b> <a href="RISCVISelDAGToDAG_8cpp_source.html#l00060">RISCVISelDAGToDAG.cpp:60</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a412ddf522b53f07690a86bffba1278e7"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a412ddf522b53f07690a86bffba1278e7">llvm::ISD::BITCAST</a></div><div class="ttdeci">@ BITCAST</div><div class="ttdoc">BITCAST - This operator converts between integer, vector and FP values, as if the value was stored to...</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00885">ISDOpcodes.h:885</a></div></div>
<div class="ttc" id="aREADME__P9_8txt_html_aa793083a95c48c23abfa352d4335685a"><div class="ttname"><a href="README__P9_8txt.html#aa793083a95c48c23abfa352d4335685a">Insert</a></div><div class="ttdeci">Vector Rotate Left Mask Mask Insert</div><div class="ttdef"><b>Definition:</b> <a href="README__P9_8txt_source.html#l00112">README_P9.txt:112</a></div></div>
<div class="ttc" id="aclassllvm_1_1RISCVSubtarget_html_a4deda7cfdd850ff23870541a5991f0fc"><div class="ttname"><a href="classllvm_1_1RISCVSubtarget.html#a4deda7cfdd850ff23870541a5991f0fc">llvm::RISCVSubtarget::getTargetLowering</a></div><div class="ttdeci">const RISCVTargetLowering * getTargetLowering() const override</div><div class="ttdef"><b>Definition:</b> <a href="RISCVSubtarget_8h_source.html#l00090">RISCVSubtarget.h:90</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAG_html_aaf07395614bda08ad0b4d3d1d401ca7e"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#aaf07395614bda08ad0b4d3d1d401ca7e">llvm::SelectionDAG::getCopyToReg</a></div><div class="ttdeci">SDValue getCopyToReg(SDValue Chain, const SDLoc &amp;dl, unsigned Reg, SDValue N)</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8h_source.html#l00769">SelectionDAG.h:769</a></div></div>
<div class="ttc" id="astructllvm_1_1RISCV_1_1VLXSEGPseudo_html"><div class="ttname"><a href="structllvm_1_1RISCV_1_1VLXSEGPseudo.html">llvm::RISCV::VLXSEGPseudo</a></div><div class="ttdef"><b>Definition:</b> <a href="RISCVISelDAGToDAG_8h_source.html#l00160">RISCVISelDAGToDAG.h:160</a></div></div>
<div class="ttc" id="aclassllvm_1_1SDValue_html_a10d54e1c6c9563724ce01d3a999757b2"><div class="ttname"><a href="classllvm_1_1SDValue.html#a10d54e1c6c9563724ce01d3a999757b2">llvm::SDValue::getNode</a></div><div class="ttdeci">SDNode * getNode() const</div><div class="ttdoc">get the SDNode which holds the desired result</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l00159">SelectionDAGNodes.h:159</a></div></div>
<div class="ttc" id="anamespacellvm_html_ac926ae0b6871c2207db3e787f6dbcb80"><div class="ttname"><a href="namespacellvm.html#ac926ae0b6871c2207db3e787f6dbcb80">llvm::isOneConstant</a></div><div class="ttdeci">bool isOneConstant(SDValue V)</div><div class="ttdoc">Returns true if V is a constant integer one.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l10932">SelectionDAG.cpp:10932</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a1be4c8da7c68a4c683de1a98b5cc5b9d"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a1be4c8da7c68a4c683de1a98b5cc5b9d">llvm::ISD::ConstantFP</a></div><div class="ttdeci">@ ConstantFP</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00077">ISDOpcodes.h:77</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAG_html_a5f23bcf1a7515069da5231b94ff16c79"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#a5f23bcf1a7515069da5231b94ff16c79">llvm::SelectionDAG::allnodes_end</a></div><div class="ttdeci">allnodes_const_iterator allnodes_end() const</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8h_source.html#l00528">SelectionDAG.h:528</a></div></div>
<div class="ttc" id="aREADME-SSE_8txt_html_a63d206a063eefcdf8c318ded97b65020"><div class="ttname"><a href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a></div><div class="ttdeci">This currently compiles esp xmm0 movsd esp eax eax esp ret We should use not the dag combiner This is because dagcombine2 needs to be able to see through the X86ISD::Wrapper which DAGCombine can t really do The code for turning x load into a single vector load is target independent and should be moved to the dag combiner The code for turning x load into a vector load can only handle a direct load from a global or a direct load from the stack It should be generalized to handle any load from P</div><div class="ttdef"><b>Definition:</b> <a href="README-SSE_8txt_source.html#l00411">README-SSE.txt:411</a></div></div>
<div class="ttc" id="anamespacellvm_1_1RISCVISD_html_ab68e2d65ea9915ffaac8334a3b8bf882a8133bf609ca1e40ecb0622ed5e559fcc"><div class="ttname"><a href="namespacellvm_1_1RISCVISD.html#ab68e2d65ea9915ffaac8334a3b8bf882a8133bf609ca1e40ecb0622ed5e559fcc">llvm::RISCVISD::FMV_H_X</a></div><div class="ttdeci">@ FMV_H_X</div><div class="ttdef"><b>Definition:</b> <a href="RISCVISelLowering_8h_source.html#l00097">RISCVISelLowering.h:97</a></div></div>
<div class="ttc" id="aclassllvm_1_1SDNode_html_ad29680b0f3d0427cab5a32e727f9f11a"><div class="ttname"><a href="classllvm_1_1SDNode.html#ad29680b0f3d0427cab5a32e727f9f11a">llvm::SDNode::isUndef</a></div><div class="ttdeci">bool isUndef() const</div><div class="ttdoc">Return true if the type of the node type undefined.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l00667">SelectionDAGNodes.h:667</a></div></div>
<div class="ttc" id="astructllvm_1_1KnownBits_html_ac67bca6c764da76f5e152330d92ed916"><div class="ttname"><a href="structllvm_1_1KnownBits.html#ac67bca6c764da76f5e152330d92ed916">llvm::KnownBits::Zero</a></div><div class="ttdeci">APInt Zero</div><div class="ttdef"><b>Definition:</b> <a href="KnownBits_8h_source.html#l00024">KnownBits.h:24</a></div></div>
<div class="ttc" id="alib_2Target_2README_8txt_html_a2a2df5a25b9c703e74e82b48a75d0c3d"><div class="ttname"><a href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a></div><div class="ttdeci">instcombine should handle this C2 when C1</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2README_8txt_source.html#l00263">README.txt:263</a></div></div>
<div class="ttc" id="anamespacellvm_1_1RISCVISD_html_ab68e2d65ea9915ffaac8334a3b8bf882ad1e822148613208ad3454a5846320c3b"><div class="ttname"><a href="namespacellvm_1_1RISCVISD.html#ab68e2d65ea9915ffaac8334a3b8bf882ad1e822148613208ad3454a5846320c3b">llvm::RISCVISD::DIVUW</a></div><div class="ttdeci">@ DIVUW</div><div class="ttdef"><b>Definition:</b> <a href="RISCVISelLowering_8h_source.html#l00072">RISCVISelLowering.h:72</a></div></div>
<div class="ttc" id="aclassllvm_1_1MVT_html_a6147c486cb64804c872318b6b8fc52ab"><div class="ttname"><a href="classllvm_1_1MVT.html#a6147c486cb64804c872318b6b8fc52ab">llvm::MVT::bitsLT</a></div><div class="ttdeci">bool bitsLT(MVT VT) const</div><div class="ttdoc">Return true if this has less bits than VT.</div><div class="ttdef"><b>Definition:</b> <a href="MachineValueType_8h_source.html#l01216">MachineValueType.h:1216</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAG_html_acb59cbd8f4a8c1cf820b2b540aebdac1"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#acb59cbd8f4a8c1cf820b2b540aebdac1">llvm::SelectionDAG::getFrameIndex</a></div><div class="ttdeci">SDValue getFrameIndex(int FI, EVT VT, bool isTarget=false)</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l01765">SelectionDAG.cpp:1765</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVector_html"><div class="ttname"><a href="classllvm_1_1SmallVector.html">llvm::SmallVector</a></div><div class="ttdoc">This is a 'vector' (really, a variable-sized array), optimized for the case when the array is small.</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l01199">SmallVector.h:1199</a></div></div>
<div class="ttc" id="aclassllvm_1_1RISCVDAGToDAGISel_html_a97a91b8b1f7d203b918218d0db9cec5d"><div class="ttname"><a href="classllvm_1_1RISCVDAGToDAGISel.html#a97a91b8b1f7d203b918218d0db9cec5d">llvm::RISCVDAGToDAGISel::selectVSETVLI</a></div><div class="ttdeci">void selectVSETVLI(SDNode *Node)</div><div class="ttdef"><b>Definition:</b> <a href="RISCVISelDAGToDAG_8cpp_source.html#l00529">RISCVISelDAGToDAG.cpp:529</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAG_html_a196c23d6cb4d768d037970f1f35bbf66"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#a196c23d6cb4d768d037970f1f35bbf66">llvm::SelectionDAG::getVTList</a></div><div class="ttdeci">SDVTList getVTList(EVT VT)</div><div class="ttdoc">Return an SDVTList that represents the list of values specified.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l09508">SelectionDAG.cpp:9508</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_af2daa0ee117afefed4c82eee55bf97b7"><div class="ttname"><a href="classllvm_1_1APInt.html#af2daa0ee117afefed4c82eee55bf97b7">llvm::APInt::getSExtValue</a></div><div class="ttdeci">int64_t getSExtValue() const</div><div class="ttdoc">Get sign extended value.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l01516">APInt.h:1516</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineSDNode_html"><div class="ttname"><a href="classllvm_1_1MachineSDNode.html">llvm::MachineSDNode</a></div><div class="ttdoc">An SDNode that represents everything that will be needed to construct a MachineInstr.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l02901">SelectionDAGNodes.h:2901</a></div></div>
<div class="ttc" id="aclassllvm_1_1RISCVSubtarget_html_a9227d5dccc1baf1834e4b98c5b9502e5"><div class="ttname"><a href="classllvm_1_1RISCVSubtarget.html#a9227d5dccc1baf1834e4b98c5b9502e5">llvm::RISCVSubtarget::hasVInstructions</a></div><div class="ttdeci">bool hasVInstructions() const</div><div class="ttdef"><b>Definition:</b> <a href="RISCVSubtarget_8h_source.html#l00144">RISCVSubtarget.h:144</a></div></div>
<div class="ttc" id="aclassllvm_1_1RISCVDAGToDAGISel_html_a317f181573e1518f2f011bc01448db04"><div class="ttname"><a href="classllvm_1_1RISCVDAGToDAGISel.html#a317f181573e1518f2f011bc01448db04">llvm::RISCVDAGToDAGISel::SelectFrameAddrRegImm</a></div><div class="ttdeci">bool SelectFrameAddrRegImm(SDValue Addr, SDValue &amp;Base, SDValue &amp;Offset)</div><div class="ttdef"><b>Definition:</b> <a href="RISCVISelDAGToDAG_8cpp_source.html#l01918">RISCVISelDAGToDAG.cpp:1918</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAG_html_a5afbc8267a0ca49e65d97cb3fde65801"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#a5afbc8267a0ca49e65d97cb3fde65801">llvm::SelectionDAG::allnodes_begin</a></div><div class="ttdeci">allnodes_const_iterator allnodes_begin() const</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8h_source.html#l00527">SelectionDAG.h:527</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAG_html_acdd1bd39894c2341271948c7e559fe8e"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#acdd1bd39894c2341271948c7e559fe8e">llvm::SelectionDAG::getRoot</a></div><div class="ttdeci">const SDValue &amp; getRoot() const</div><div class="ttdoc">Return the root tag of the SelectionDAG.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8h_source.html#l00547">SelectionDAG.h:547</a></div></div>
<div class="ttc" id="aclassllvm_1_1RISCVDAGToDAGISel_html_a06a0bdd0c07878ba4d61fa3b1b0453b1"><div class="ttname"><a href="classllvm_1_1RISCVDAGToDAGISel.html#a06a0bdd0c07878ba4d61fa3b1b0453b1">llvm::RISCVDAGToDAGISel::selectSHXADD_UWOp</a></div><div class="ttdeci">bool selectSHXADD_UWOp(SDValue N, unsigned ShAmt, SDValue &amp;Val)</div><div class="ttdoc">Look for various patterns that can be done with a SHL that can be folded into a SHXADD_UW.</div><div class="ttdef"><b>Definition:</b> <a href="RISCVISelDAGToDAG_8cpp_source.html#l02313">RISCVISelDAGToDAG.cpp:2313</a></div></div>
<div class="ttc" id="aclassllvm_1_1HandleSDNode_html"><div class="ttname"><a href="classllvm_1_1HandleSDNode.html">llvm::HandleSDNode</a></div><div class="ttdoc">This class is used to form a handle around another node that is persistent and is updated across invo...</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l01233">SelectionDAGNodes.h:1233</a></div></div>
<div class="ttc" id="anamespacellvm_1_1RISCVMatInt_html_ac381b141cc5f412d297c97afce5d3b6e"><div class="ttname"><a href="namespacellvm_1_1RISCVMatInt.html#ac381b141cc5f412d297c97afce5d3b6e">llvm::RISCVMatInt::generateInstSeq</a></div><div class="ttdeci">InstSeq generateInstSeq(int64_t Val, const FeatureBitset &amp;ActiveFeatures)</div><div class="ttdef"><b>Definition:</b> <a href="RISCVMatInt_8cpp_source.html#l00175">RISCVMatInt.cpp:175</a></div></div>
<div class="ttc" id="aclassllvm_1_1SDNode_html"><div class="ttname"><a href="classllvm_1_1SDNode.html">llvm::SDNode</a></div><div class="ttdoc">Represents one node in the SelectionDAG.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l00463">SelectionDAGNodes.h:463</a></div></div>
<div class="ttc" id="aclassllvm_1_1RISCVTargetMachine_html"><div class="ttname"><a href="classllvm_1_1RISCVTargetMachine.html">llvm::RISCVTargetMachine</a></div><div class="ttdef"><b>Definition:</b> <a href="RISCVTargetMachine_8h_source.html#l00024">RISCVTargetMachine.h:24</a></div></div>
<div class="ttc" id="aclassllvm_1_1APFloat_html_a9aaed17970b55e9e1bfa906822ea7b71"><div class="ttname"><a href="classllvm_1_1APFloat.html#a9aaed17970b55e9e1bfa906822ea7b71">llvm::APFloat::isZero</a></div><div class="ttdeci">bool isZero() const</div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8h_source.html#l01255">APFloat.h:1255</a></div></div>
<div class="ttc" id="aclassllvm_1_1RISCVDAGToDAGISel_html_a81db6a638b456bb26ffa634a27e52798"><div class="ttname"><a href="classllvm_1_1RISCVDAGToDAGISel.html#a81db6a638b456bb26ffa634a27e52798">llvm::RISCVDAGToDAGISel::selectVSplat</a></div><div class="ttdeci">bool selectVSplat(SDValue N, SDValue &amp;SplatVal)</div><div class="ttdef"><b>Definition:</b> <a href="RISCVISelDAGToDAG_8cpp_source.html#l02532">RISCVISelDAGToDAG.cpp:2532</a></div></div>
<div class="ttc" id="anamespacellvm_1_1RISCVII_html_ab335a6694bd42d4d2f807ec281af1e1cae7fe853f54d8e8aaf63568ed61da11e0"><div class="ttname"><a href="namespacellvm_1_1RISCVII.html#ab335a6694bd42d4d2f807ec281af1e1cae7fe853f54d8e8aaf63568ed61da11e0">llvm::RISCVII::LMUL_8</a></div><div class="ttdeci">@ LMUL_8</div><div class="ttdef"><b>Definition:</b> <a href="RISCVBaseInfo_8h_source.html#l00124">RISCVBaseInfo.h:124</a></div></div>
<div class="ttc" id="aclassllvm_1_1MVT_html_a330aea6151cae3adaf5e179dcfe87346a59a1908cf136662bcfdc11ed49515ca9"><div class="ttname"><a href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a59a1908cf136662bcfdc11ed49515ca9">llvm::MVT::Glue</a></div><div class="ttdeci">@ Glue</div><div class="ttdef"><b>Definition:</b> <a href="MachineValueType_8h_source.html#l00282">MachineValueType.h:282</a></div></div>
<div class="ttc" id="astructllvm_1_1MemOp_html"><div class="ttname"><a href="structllvm_1_1MemOp.html">llvm::MemOp</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l00112">TargetLowering.h:112</a></div></div>
<div class="ttc" id="aclassllvm_1_1RISCVDAGToDAGISel_html"><div class="ttname"><a href="classllvm_1_1RISCVDAGToDAGISel.html">llvm::RISCVDAGToDAGISel</a></div><div class="ttdef"><b>Definition:</b> <a href="RISCVISelDAGToDAG_8h_source.html#l00024">RISCVISelDAGToDAG.h:24</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAG_html_a7ec0665296f2e3099a8f4d083e77f425"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#a7ec0665296f2e3099a8f4d083e77f425">llvm::SelectionDAG::getMemBasePlusOffset</a></div><div class="ttdeci">SDValue getMemBasePlusOffset(SDValue Base, TypeSize Offset, const SDLoc &amp;DL, const SDNodeFlags Flags=SDNodeFlags())</div><div class="ttdoc">Returns sum of the base pointer and offset.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l06941">SelectionDAG.cpp:6941</a></div></div>
<div class="ttc" id="anamespacellvm_html_a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639"><div class="ttname"><a href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">llvm::Depth</a></div><div class="ttdeci">@ Depth</div><div class="ttdef"><b>Definition:</b> <a href="SIMachineScheduler_8h_source.html#l00036">SIMachineScheduler.h:36</a></div></div>
<div class="ttc" id="aclassllvm_1_1RISCVDAGToDAGISel_html_a05b5cba8cfdcec8f2d1dafb06fb63ab5"><div class="ttname"><a href="classllvm_1_1RISCVDAGToDAGISel.html#a05b5cba8cfdcec8f2d1dafb06fb63ab5">llvm::RISCVDAGToDAGISel::selectZExtBits</a></div><div class="ttdeci">bool selectZExtBits(SDValue N, unsigned Bits, SDValue &amp;Val)</div><div class="ttdef"><b>Definition:</b> <a href="RISCVISelDAGToDAG_8cpp_source.html#l02197">RISCVISelDAGToDAG.cpp:2197</a></div></div>
<div class="ttc" id="alib_2Target_2README_8txt_html_a8db36c82f32d6f6a4d35a00e55be03a8"><div class="ttname"><a href="lib_2Target_2README_8txt.html#a8db36c82f32d6f6a4d35a00e55be03a8">Shift</a></div><div class="ttdeci">bool Shift</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2README_8txt_source.html#l00468">README.txt:468</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_a512fe2c15ea651294688eeec1341644c"><div class="ttname"><a href="classllvm_1_1APInt.html#a512fe2c15ea651294688eeec1341644c">llvm::APInt::getBitWidth</a></div><div class="ttdeci">unsigned getBitWidth() const</div><div class="ttdoc">Return the number of bits in the APInt.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l01439">APInt.h:1439</a></div></div>
<div class="ttc" id="anamespacellvm_1_1tgtok_html_abbc5259d649363016626e2529fabe0c5a3c0710aa6b054662f67b480712fa2b95"><div class="ttname"><a href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a3c0710aa6b054662f67b480712fa2b95">llvm::tgtok::Bits</a></div><div class="ttdeci">@ Bits</div><div class="ttdef"><b>Definition:</b> <a href="TGLexer_8h_source.html#l00050">TGLexer.h:50</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAG_html_a89ed6b26ee4f62aec32468329f828a2f"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#a89ed6b26ee4f62aec32468329f828a2f">llvm::SelectionDAG::getStore</a></div><div class="ttdeci">SDValue getStore(SDValue Chain, const SDLoc &amp;dl, SDValue Val, SDValue Ptr, MachinePointerInfo PtrInfo, Align Alignment, MachineMemOperand::Flags MMOFlags=MachineMemOperand::MONone, const AAMDNodes &amp;AAInfo=AAMDNodes())</div><div class="ttdoc">Helper function to build ISD::STORE nodes.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l08168">SelectionDAG.cpp:8168</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAG_html_ac520c40bfb7047936bcc2709c2153ebf"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#ac520c40bfb7047936bcc2709c2153ebf">llvm::SelectionDAG::isBaseWithConstantOffset</a></div><div class="ttdeci">bool isBaseWithConstantOffset(SDValue Op) const</div><div class="ttdoc">Return true if the specified operand is an ISD::ADD with a ConstantSDNode on the right-hand side,...</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l04814">SelectionDAG.cpp:4814</a></div></div>
<div class="ttc" id="astructllvm_1_1RISCV_1_1VLX__VSXPseudo_html"><div class="ttname"><a href="structllvm_1_1RISCV_1_1VLX__VSXPseudo.html">llvm::RISCV::VLX_VSXPseudo</a></div><div class="ttdef"><b>Definition:</b> <a href="RISCVISelDAGToDAG_8h_source.html#l00208">RISCVISelDAGToDAG.h:208</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallPtrSet_html"><div class="ttname"><a href="classllvm_1_1SmallPtrSet.html">llvm::SmallPtrSet</a></div><div class="ttdoc">SmallPtrSet - This class implements a set which is optimized for holding SmallSize or less elements.</div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00450">SmallPtrSet.h:450</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAG_html_a92c8c043c2a2d8db5b6cf9767394b747"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#a92c8c043c2a2d8db5b6cf9767394b747">llvm::SelectionDAG::RemoveDeadNodes</a></div><div class="ttdeci">void RemoveDeadNodes()</div><div class="ttdoc">This method deletes all unreachable nodes in the SelectionDAG.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l00968">SelectionDAG.cpp:968</a></div></div>
<div class="ttc" id="aclassllvm_1_1RISCVTargetLowering_html_a78d9c499deb0a2aadbf8e7ed5e717a8e"><div class="ttname"><a href="classllvm_1_1RISCVTargetLowering.html#a78d9c499deb0a2aadbf8e7ed5e717a8e">llvm::RISCVTargetLowering::getRegClassIDForVecVT</a></div><div class="ttdeci">static unsigned getRegClassIDForVecVT(MVT VT)</div><div class="ttdef"><b>Definition:</b> <a href="RISCVISelLowering_8cpp_source.html#l01685">RISCVISelLowering.cpp:1685</a></div></div>
<div class="ttc" id="anamespacellvm_1_1RISCV_html_ae746649c43bf0f652d04addefd39a55e"><div class="ttname"><a href="namespacellvm_1_1RISCV.html#ae746649c43bf0f652d04addefd39a55e">llvm::RISCV::VLMaxSentinel</a></div><div class="ttdeci">static constexpr int64_t VLMaxSentinel</div><div class="ttdef"><b>Definition:</b> <a href="RISCVInstrInfo_8h_source.html#l00263">RISCVInstrInfo.h:263</a></div></div>
<div class="ttc" id="aRISCVInsertVSETVLI_8cpp_html_aa74e26e879c8e27e2fda48270367f4ea"><div class="ttname"><a href="RISCVInsertVSETVLI_8cpp.html#aa74e26e879c8e27e2fda48270367f4ea">Log2SEW</a></div><div class="ttdeci">unsigned Log2SEW</div><div class="ttdef"><b>Definition:</b> <a href="RISCVInsertVSETVLI_8cpp_source.html#l00681">RISCVInsertVSETVLI.cpp:681</a></div></div>
<div class="ttc" id="anamespacellvm_html_a6dec2b5d3e04b47adf4d918d678e81c9"><div class="ttname"><a href="namespacellvm.html#a6dec2b5d3e04b47adf4d918d678e81c9">llvm::isPowerOf2_32</a></div><div class="ttdeci">constexpr bool isPowerOf2_32(uint32_t Value)</div><div class="ttdoc">Return true if the argument is a power of two &gt; 0.</div><div class="ttdef"><b>Definition:</b> <a href="MathExtras_8h_source.html#l00292">MathExtras.h:292</a></div></div>
<div class="ttc" id="aclassllvm_1_1RISCVDAGToDAGISel_html_a1155466966a339220d6f15cbf3752d5d"><div class="ttname"><a href="classllvm_1_1RISCVDAGToDAGISel.html#a1155466966a339220d6f15cbf3752d5d">llvm::RISCVDAGToDAGISel::selectVSSEG</a></div><div class="ttdeci">void selectVSSEG(SDNode *Node, bool IsMasked, bool IsStrided)</div><div class="ttdef"><b>Definition:</b> <a href="RISCVISelDAGToDAG_8cpp_source.html#l00455">RISCVISelDAGToDAG.cpp:455</a></div></div>
<div class="ttc" id="anamespacellvm_1_1RISCVII_html_ad330ee2b7583cf1bf0a79f69c23ce6fe"><div class="ttname"><a href="namespacellvm_1_1RISCVII.html#ad330ee2b7583cf1bf0a79f69c23ce6fe">llvm::RISCVII::hasVecPolicyOp</a></div><div class="ttdeci">static bool hasVecPolicyOp(uint64_t TSFlags)</div><div class="ttdef"><b>Definition:</b> <a href="RISCVBaseInfo_8h_source.html#l00172">RISCVBaseInfo.h:172</a></div></div>
<div class="ttc" id="aRISCVMatInt_8h_html"><div class="ttname"><a href="RISCVMatInt_8h.html">RISCVMatInt.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1SPII_html_a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f"><div class="ttname"><a href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">llvm::SPII::Load</a></div><div class="ttdeci">@ Load</div><div class="ttdef"><b>Definition:</b> <a href="SparcInstrInfo_8h_source.html#l00032">SparcInstrInfo.h:32</a></div></div>
<div class="ttc" id="aMachineSink_8cpp_html_a0f36ed1bc17fc1aa97fe291c439a0698"><div class="ttname"><a href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a></div><div class="ttdeci">unsigned const TargetRegisterInfo * TRI</div><div class="ttdef"><b>Definition:</b> <a href="MachineSink_8cpp_source.html#l01628">MachineSink.cpp:1628</a></div></div>
<div class="ttc" id="aclassllvm_1_1TypeSize_html_a06e32f822cc82701a5652331bccab467"><div class="ttname"><a href="classllvm_1_1TypeSize.html#a06e32f822cc82701a5652331bccab467">llvm::TypeSize::Fixed</a></div><div class="ttdeci">static constexpr TypeSize Fixed(ScalarTy ExactSize)</div><div class="ttdef"><b>Definition:</b> <a href="TypeSize_8h_source.html#l00331">TypeSize.h:331</a></div></div>
<div class="ttc" id="aDebug_8h_html_a08efc68d15935eb8889400a46c3749ba"><div class="ttname"><a href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a></div><div class="ttdeci">#define LLVM_DEBUG(X)</div><div class="ttdef"><b>Definition:</b> <a href="Debug_8h_source.html#l00101">Debug.h:101</a></div></div>
<div class="ttc" id="anamespacellvm_html_acd6aa057934751aaac54e5c18bcc18eb"><div class="ttname"><a href="namespacellvm.html#acd6aa057934751aaac54e5c18bcc18eb">llvm::commonAlignment</a></div><div class="ttdeci">Align commonAlignment(Align A, uint64_t Offset)</div><div class="ttdoc">Returns the alignment that satisfies both alignments.</div><div class="ttdef"><b>Definition:</b> <a href="Alignment_8h_source.html#l00212">Alignment.h:212</a></div></div>
<div class="ttc" id="aclassllvm_1_1RISCVDAGToDAGISel_html_abfe913dce113bf8f5d20f5e1fe1966b2"><div class="ttname"><a href="classllvm_1_1RISCVDAGToDAGISel.html#abfe913dce113bf8f5d20f5e1fe1966b2">llvm::RISCVDAGToDAGISel::selectVSplatSimm5Plus1NonZero</a></div><div class="ttdeci">bool selectVSplatSimm5Plus1NonZero(SDValue N, SDValue &amp;SplatVal)</div><div class="ttdef"><b>Definition:</b> <a href="RISCVISelDAGToDAG_8cpp_source.html#l02586">RISCVISelDAGToDAG.cpp:2586</a></div></div>
<div class="ttc" id="aclassllvm_1_1SDNode_html_a8353d97eb11578ab1ecb797200ca85c7"><div class="ttname"><a href="classllvm_1_1SDNode.html#a8353d97eb11578ab1ecb797200ca85c7">llvm::SDNode::getVTList</a></div><div class="ttdeci">SDVTList getVTList() const</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l00949">SelectionDAGNodes.h:949</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCInstrDesc_html_a927b12dc654f2d95fbaf6a2d2ef67e68"><div class="ttname"><a href="classllvm_1_1MCInstrDesc.html#a927b12dc654f2d95fbaf6a2d2ef67e68">llvm::MCInstrDesc::hasUnmodeledSideEffects</a></div><div class="ttdeci">bool hasUnmodeledSideEffects() const</div><div class="ttdoc">Return true if this instruction has side effects that are not modeled by other flags.</div><div class="ttdef"><b>Definition:</b> <a href="MCInstrDesc_8h_source.html#l00462">MCInstrDesc.h:462</a></div></div>
<div class="ttc" id="aclassllvm_1_1InlineAsm_html_a9e020cbab32f9a2ec3f777d603dd34baa4b21e4cc2aba45d2736406378f0c59ac"><div class="ttname"><a href="classllvm_1_1InlineAsm.html#a9e020cbab32f9a2ec3f777d603dd34baa4b21e4cc2aba45d2736406378f0c59ac">llvm::InlineAsm::Constraint_A</a></div><div class="ttdeci">@ Constraint_A</div><div class="ttdef"><b>Definition:</b> <a href="InlineAsm_8h_source.html#l00262">InlineAsm.h:262</a></div></div>
<div class="ttc" id="aclassllvm_1_1MVT_html_a447ebcc5de7a1d9bc163862bf2c78e41"><div class="ttname"><a href="classllvm_1_1MVT.html#a447ebcc5de7a1d9bc163862bf2c78e41">llvm::MVT::isScalableVector</a></div><div class="ttdeci">bool isScalableVector() const</div><div class="ttdoc">Return true if this is a vector value type where the runtime length is machine dependent.</div><div class="ttdef"><b>Definition:</b> <a href="MachineValueType_8h_source.html#l00399">MachineValueType.h:399</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAG_html_a9268086dd9d1ba4e60cfe872dde5c173"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#a9268086dd9d1ba4e60cfe872dde5c173">llvm::SelectionDAG::getRegister</a></div><div class="ttdeci">SDValue getRegister(unsigned Reg, EVT VT)</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l02147">SelectionDAG.cpp:2147</a></div></div>
<div class="ttc" id="aclassllvm_1_1RISCVDAGToDAGISel_html_a6717d53904bf236f07c08d32f3caeab3"><div class="ttname"><a href="classllvm_1_1RISCVDAGToDAGISel.html#a6717d53904bf236f07c08d32f3caeab3">llvm::RISCVDAGToDAGISel::SelectAddrFrameIndex</a></div><div class="ttdeci">bool SelectAddrFrameIndex(SDValue Addr, SDValue &amp;Base, SDValue &amp;Offset)</div><div class="ttdef"><b>Definition:</b> <a href="RISCVISelDAGToDAG_8cpp_source.html#l01906">RISCVISelDAGToDAG.cpp:1906</a></div></div>
<div class="ttc" id="anamespacellvm_html_a7c46c742c31be54870e2038048e6b391"><div class="ttname"><a href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">llvm::dbgs</a></div><div class="ttdeci">raw_ostream &amp; dbgs()</div><div class="ttdoc">dbgs() - This returns a reference to a raw_ostream for debugging messages.</div><div class="ttdef"><b>Definition:</b> <a href="Debug_8cpp_source.html#l00163">Debug.cpp:163</a></div></div>
<div class="ttc" id="aRISCVISelDAGToDAG_8cpp_html_a31ec69d2a56ad55ca97695260fd53ad7"><div class="ttname"><a href="RISCVISelDAGToDAG_8cpp.html#a31ec69d2a56ad55ca97695260fd53ad7">usesAllOnesMask</a></div><div class="ttdeci">static bool usesAllOnesMask(SDNode *N, unsigned MaskOpIdx)</div><div class="ttdef"><b>Definition:</b> <a href="RISCVISelDAGToDAG_8cpp_source.html#l02712">RISCVISelDAGToDAG.cpp:2712</a></div></div>
<div class="ttc" id="aclassllvm_1_1RISCVSubtarget_html_afd9fbb2a5a666589b2843c496f3ae479"><div class="ttname"><a href="classllvm_1_1RISCVSubtarget.html#afd9fbb2a5a666589b2843c496f3ae479">llvm::RISCVSubtarget::is64Bit</a></div><div class="ttdeci">bool is64Bit() const</div><div class="ttdef"><b>Definition:</b> <a href="RISCVSubtarget_8h_source.html#l00111">RISCVSubtarget.h:111</a></div></div>
<div class="ttc" id="astructllvm_1_1RISCV_1_1VSSEGPseudo_html"><div class="ttname"><a href="structllvm_1_1RISCV_1_1VSSEGPseudo.html">llvm::RISCV::VSSEGPseudo</a></div><div class="ttdef"><b>Definition:</b> <a href="RISCVISelDAGToDAG_8h_source.html#l00171">RISCVISelDAGToDAG.h:171</a></div></div>
<div class="ttc" id="anamespacellvm_1_1BitmaskEnumDetail_html_a91efa71de05b0c2d00730a0279f58658"><div class="ttname"><a href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">llvm::BitmaskEnumDetail::Mask</a></div><div class="ttdeci">constexpr std::underlying_type_t&lt; E &gt; Mask()</div><div class="ttdoc">Get a bitmask with 1s in all places up to the high-order bit of E's largest value.</div><div class="ttdef"><b>Definition:</b> <a href="BitmaskEnum_8h_source.html#l00080">BitmaskEnum.h:80</a></div></div>
<div class="ttc" id="anamespacellvm_1_1RISCVII_html_ab335a6694bd42d4d2f807ec281af1e1ca81b84a0b11f1c29695dbf7765f8ceaa7"><div class="ttname"><a href="namespacellvm_1_1RISCVII.html#ab335a6694bd42d4d2f807ec281af1e1ca81b84a0b11f1c29695dbf7765f8ceaa7">llvm::RISCVII::LMUL_4</a></div><div class="ttdeci">@ LMUL_4</div><div class="ttdef"><b>Definition:</b> <a href="RISCVBaseInfo_8h_source.html#l00123">RISCVBaseInfo.h:123</a></div></div>
<div class="ttc" id="astructllvm_1_1RISCV_1_1RISCVMaskedPseudoInfo_html"><div class="ttname"><a href="structllvm_1_1RISCV_1_1RISCVMaskedPseudoInfo.html">llvm::RISCV::RISCVMaskedPseudoInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="RISCVISelDAGToDAG_8h_source.html#l00218">RISCVISelDAGToDAG.h:218</a></div></div>
<div class="ttc" id="aclassllvm_1_1RISCVDAGToDAGISel_html_a015f92412cbdc26fe3f1f398afb3575b"><div class="ttname"><a href="classllvm_1_1RISCVDAGToDAGISel.html#a015f92412cbdc26fe3f1f398afb3575b">llvm::RISCVDAGToDAGISel::selectSExtBits</a></div><div class="ttdeci">bool selectSExtBits(SDValue N, unsigned Bits, SDValue &amp;Val)</div><div class="ttdef"><b>Definition:</b> <a href="RISCVISelDAGToDAG_8cpp_source.html#l02168">RISCVISelDAGToDAG.cpp:2168</a></div></div>
<div class="ttc" id="anamespacellvm_html_a0d10fe510ced2849a8074fe81e5d04ce"><div class="ttname"><a href="namespacellvm.html#a0d10fe510ced2849a8074fe81e5d04ce">llvm::all_of</a></div><div class="ttdeci">bool all_of(R &amp;&amp;range, UnaryPredicate P)</div><div class="ttdoc">Provide wrappers to std::all_of which take ranges instead of having to pass begin/end explicitly.</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l01735">STLExtras.h:1735</a></div></div>
<div class="ttc" id="astructllvm_1_1EVT_html_a1572b31fadbd0d758314b8d35a050410"><div class="ttname"><a href="structllvm_1_1EVT.html#a1572b31fadbd0d758314b8d35a050410">llvm::EVT::getStoreSize</a></div><div class="ttdeci">TypeSize getStoreSize() const</div><div class="ttdoc">Return the number of bytes overwritten by a store of the specified value type.</div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00362">ValueTypes.h:362</a></div></div>
<div class="ttc" id="anamespacellvm_1_1RISCVII_html_a9773946e3c7f55a1aba9c6f92205b3afabdc0a80d5e4b58676f861ffaa296bd1b"><div class="ttname"><a href="namespacellvm_1_1RISCVII.html#a9773946e3c7f55a1aba9c6f92205b3afabdc0a80d5e4b58676f861ffaa296bd1b">llvm::RISCVII::TAIL_AGNOSTIC</a></div><div class="ttdeci">@ TAIL_AGNOSTIC</div><div class="ttdef"><b>Definition:</b> <a href="RISCVBaseInfo_8h_source.html#l00133">RISCVBaseInfo.h:133</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCInstrDesc_html_a46e0fcca2366f30d5e35b3d7dcb9c65f"><div class="ttname"><a href="classllvm_1_1MCInstrDesc.html#a46e0fcca2366f30d5e35b3d7dcb9c65f">llvm::MCInstrDesc::TSFlags</a></div><div class="ttdeci">uint64_t TSFlags</div><div class="ttdef"><b>Definition:</b> <a href="MCInstrDesc_8h_source.html#l00213">MCInstrDesc.h:213</a></div></div>
<div class="ttc" id="aclassllvm_1_1RISCVDAGToDAGISel_html_af619c526b5e90968d76fbd4fe4c861cb"><div class="ttname"><a href="classllvm_1_1RISCVDAGToDAGISel.html#af619c526b5e90968d76fbd4fe4c861cb">llvm::RISCVDAGToDAGISel::selectShiftMask</a></div><div class="ttdeci">bool selectShiftMask(SDValue N, unsigned ShiftWidth, SDValue &amp;ShAmt)</div><div class="ttdef"><b>Definition:</b> <a href="RISCVISelDAGToDAG_8cpp_source.html#l02101">RISCVISelDAGToDAG.cpp:2101</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAG_html_a6ececde40ed933c2dfb5af16cb002529"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#a6ececde40ed933c2dfb5af16cb002529">llvm::SelectionDAG::getTargetFrameIndex</a></div><div class="ttdeci">SDValue getTargetFrameIndex(int FI, EVT VT)</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8h_source.html#l00722">SelectionDAG.h:722</a></div></div>
<div class="ttc" id="aclassllvm_1_1SDValue_html_a6b2b8ca5b0fdf6484247d5ae74deb9ff"><div class="ttname"><a href="classllvm_1_1SDValue.html#a6b2b8ca5b0fdf6484247d5ae74deb9ff">llvm::SDValue::getValueType</a></div><div class="ttdeci">EVT getValueType() const</div><div class="ttdoc">Return the ValueType of the referenced return value.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l01141">SelectionDAGNodes.h:1141</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAG_html"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html">llvm::SelectionDAG</a></div><div class="ttdoc">This is used to represent a portion of an LLVM function in a low-level Data Dependence DAG representa...</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8h_source.html#l00221">SelectionDAG.h:221</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110aac2f0a84dd2aa5ee4c3f1385e9565f5e"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aac2f0a84dd2aa5ee4c3f1385e9565f5e">llvm::ISD::Constant</a></div><div class="ttdeci">@ Constant</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00076">ISDOpcodes.h:76</a></div></div>
<div class="ttc" id="aMipsDisassembler_8cpp_html_a15b5b86944f6df97d2c3659d77f51f91"><div class="ttname"><a href="MipsDisassembler_8cpp.html#a15b5b86944f6df97d2c3659d77f51f91">getReg</a></div><div class="ttdeci">static unsigned getReg(const MCDisassembler *D, unsigned RC, unsigned RegNo)</div><div class="ttdef"><b>Definition:</b> <a href="MipsDisassembler_8cpp_source.html#l00521">MipsDisassembler.cpp:521</a></div></div>
<div class="ttc" id="aBuiltinGCs_8cpp_html_a6742d2e0a668baf1196ec69e158d5f15"><div class="ttname"><a href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a></div><div class="ttdeci">static GCRegistry::Add&lt; CoreCLRGC &gt; E(&quot;coreclr&quot;, &quot;CoreCLR-compatible GC&quot;)</div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html_ac2dc0fa143c9f2127f0501734577a0a0"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#ac2dc0fa143c9f2127f0501734577a0a0">llvm::MachineFunction::getInfo</a></div><div class="ttdeci">Ty * getInfo()</div><div class="ttdoc">getInfo - Keep track of various per-function pieces of information for backends that would like to do...</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00770">MachineFunction.h:770</a></div></div>
<div class="ttc" id="aclassllvm_1_1User_html"><div class="ttname"><a href="classllvm_1_1User.html">llvm::User</a></div><div class="ttdef"><b>Definition:</b> <a href="User_8h_source.html#l00044">User.h:44</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAG_html_a5b0e59823444a55c295af279611a9d24"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#a5b0e59823444a55c295af279611a9d24">llvm::SelectionDAG::getUNDEF</a></div><div class="ttdeci">SDValue getUNDEF(EVT VT)</div><div class="ttdoc">Return an UNDEF node. UNDEF does not have a useful SDLoc.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8h_source.html#l01057">SelectionDAG.h:1057</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a93bc27ca4d9e211c54b0d9efb660f080"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a93bc27ca4d9e211c54b0d9efb660f080">llvm::ISD::CopyToReg</a></div><div class="ttdeci">@ CopyToReg</div><div class="ttdoc">CopyToReg - This node has three operands: a chain, a register number to set to this value,...</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00203">ISDOpcodes.h:203</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110aaa59dd5ec37f21905436b354c0292d9e"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aaa59dd5ec37f21905436b354c0292d9e">llvm::ISD::SIGN_EXTEND_INREG</a></div><div class="ttdeci">@ SIGN_EXTEND_INREG</div><div class="ttdoc">SIGN_EXTEND_INREG - This operator atomically performs a SHL/SRA pair to sign extend a small value in ...</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00781">ISDOpcodes.h:781</a></div></div>
<div class="ttc" id="aRISCVISelDAGToDAG_8cpp_html_a501ce60200ec0ef72373607cbed78d00"><div class="ttname"><a href="RISCVISelDAGToDAG_8cpp.html#a501ce60200ec0ef72373607cbed78d00">createTuple</a></div><div class="ttdeci">static SDValue createTuple(SelectionDAG &amp;CurDAG, ArrayRef&lt; SDValue &gt; Regs, unsigned NF, RISCVII::VLMUL LMUL)</div><div class="ttdef"><b>Definition:</b> <a href="RISCVISelDAGToDAG_8cpp_source.html#l00212">RISCVISelDAGToDAG.cpp:212</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAG_html_ab3d30ee06423d6edfa492077321c6cd2"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#ab3d30ee06423d6edfa492077321c6cd2">llvm::SelectionDAG::getTargetLoweringInfo</a></div><div class="ttdeci">const TargetLowering &amp; getTargetLoweringInfo() const</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8h_source.html#l00474">SelectionDAG.h:474</a></div></div>
<div class="ttc" id="astructllvm_1_1EVT_html"><div class="ttname"><a href="structllvm_1_1EVT.html">llvm::EVT</a></div><div class="ttdoc">Extended Value Type.</div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00034">ValueTypes.h:34</a></div></div>
<div class="ttc" id="aREADME__ALTIVEC_8txt_html_a9aacd9146afe44bf656cd664e2a88c8c"><div class="ttname"><a href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a></div><div class="ttdeci">(vector float) vec_cmpeq(*A, *B) C</div><div class="ttdef"><b>Definition:</b> <a href="README__ALTIVEC_8txt_source.html#l00086">README_ALTIVEC.txt:86</a></div></div>
<div class="ttc" id="aclassllvm_1_1MVT_html_a330aea6151cae3adaf5e179dcfe87346ac661c912350e3095c85ba75b8dbc17b1"><div class="ttname"><a href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346ac661c912350e3095c85ba75b8dbc17b1">llvm::MVT::f64</a></div><div class="ttdeci">@ f64</div><div class="ttdef"><b>Definition:</b> <a href="MachineValueType_8h_source.html#l00058">MachineValueType.h:58</a></div></div>
<div class="ttc" id="anamespacellvm_html_a582e08755c7a8d1b0bf6c5dcb765aaa8"><div class="ttname"><a href="namespacellvm.html#a582e08755c7a8d1b0bf6c5dcb765aaa8">llvm::isShiftedMask_64</a></div><div class="ttdeci">constexpr bool isShiftedMask_64(uint64_t Value)</div><div class="ttdoc">Return true if the argument contains a non-empty sequence of ones with the remainder zero (64 bit ver...</div><div class="ttdef"><b>Definition:</b> <a href="MathExtras_8h_source.html#l00286">MathExtras.h:286</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLowering_html"><div class="ttname"><a href="classllvm_1_1TargetLowering.html">llvm::TargetLowering</a></div><div class="ttdoc">This class defines information used to lower LLVM code to legal SelectionDAG operators that the targe...</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l03515">TargetLowering.h:3515</a></div></div>
<div class="ttc" id="aclassllvm_1_1MVT_html_a2e101ce5736aa0643639fd3adae18088"><div class="ttname"><a href="classllvm_1_1MVT.html#a2e101ce5736aa0643639fd3adae18088">llvm::MVT::getScalarSizeInBits</a></div><div class="ttdeci">uint64_t getScalarSizeInBits() const</div><div class="ttdef"><b>Definition:</b> <a href="MachineValueType_8h_source.html#l01144">MachineValueType.h:1144</a></div></div>
<div class="ttc" id="aPassSupport_8h_html_af807c9595d50b45c0008924c4679c85c"><div class="ttname"><a href="PassSupport_8h.html#af807c9595d50b45c0008924c4679c85c">INITIALIZE_PASS</a></div><div class="ttdeci">#define INITIALIZE_PASS(passName, arg, name, cfg, analysis)</div><div class="ttdef"><b>Definition:</b> <a href="PassSupport_8h_source.html#l00038">PassSupport.h:38</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAG_html_ad5386f4196a9eab5701c451469f2e20e"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#ad5386f4196a9eab5701c451469f2e20e">llvm::SelectionDAG::MaskedValueIsZero</a></div><div class="ttdeci">bool MaskedValueIsZero(SDValue Op, const APInt &amp;Mask, unsigned Depth=0) const</div><div class="ttdoc">Return true if 'Op &amp; Mask' is known to be zero.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l02559">SelectionDAG.cpp:2559</a></div></div>
<div class="ttc" id="aclassllvm_1_1RISCVTargetLowering_html_a098a8c811988d099304cefe6b99485f3"><div class="ttname"><a href="classllvm_1_1RISCVTargetLowering.html#a098a8c811988d099304cefe6b99485f3">llvm::RISCVTargetLowering::getSubregIndexByMVT</a></div><div class="ttdeci">static unsigned getSubregIndexByMVT(MVT VT, unsigned Index)</div><div class="ttdef"><b>Definition:</b> <a href="RISCVISelLowering_8cpp_source.html#l01662">RISCVISelLowering.cpp:1662</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ms__demangle_html_afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e"><div class="ttname"><a href="namespacellvm_1_1ms__demangle.html#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">llvm::ms_demangle::QualifierMangleMode::Result</a></div><div class="ttdeci">@ Result</div></div>
<div class="ttc" id="aclassllvm_1_1MVT_html_a27bda7d8e8e4f0337650a892f3c9b46a"><div class="ttname"><a href="classllvm_1_1MVT.html#a27bda7d8e8e4f0337650a892f3c9b46a">llvm::MVT::SimpleTy</a></div><div class="ttdeci">SimpleValueType SimpleTy</div><div class="ttdef"><b>Definition:</b> <a href="MachineValueType_8h_source.html#l00341">MachineValueType.h:341</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a4a055321c361a0f6ee77ed764730ffc1"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4a055321c361a0f6ee77ed764730ffc1">llvm::ISD::SRA</a></div><div class="ttdeci">@ SRA</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00692">ISDOpcodes.h:692</a></div></div>
<div class="ttc" id="aclassllvm_1_1RISCVSubtarget_html_a657dd2086f68037531f461853480fcf7"><div class="ttname"><a href="classllvm_1_1RISCVSubtarget.html#a657dd2086f68037531f461853480fcf7">llvm::RISCVSubtarget::getXLenVT</a></div><div class="ttdeci">MVT getXLenVT() const</div><div class="ttdef"><b>Definition:</b> <a href="RISCVSubtarget_8h_source.html#l00112">RISCVSubtarget.h:112</a></div></div>
<div class="ttc" id="aRISCVISelDAGToDAG_8h_html"><div class="ttname"><a href="RISCVISelDAGToDAG_8h.html">RISCVISelDAGToDAG.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1SPII_html_a1c7202c6054fef862bbed45957747cdfa36b3dd3b84fde3f8494a9b18af131856"><div class="ttname"><a href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa36b3dd3b84fde3f8494a9b18af131856">llvm::SPII::Store</a></div><div class="ttdeci">@ Store</div><div class="ttdef"><b>Definition:</b> <a href="SparcInstrInfo_8h_source.html#l00033">SparcInstrInfo.h:33</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAGISel_html_acd1bcf7bcbb18b94234b2bf5a505e925"><div class="ttname"><a href="classllvm_1_1SelectionDAGISel.html#acd1bcf7bcbb18b94234b2bf5a505e925">llvm::SelectionDAGISel::ReplaceNode</a></div><div class="ttdeci">void ReplaceNode(SDNode *F, SDNode *T)</div><div class="ttdoc">Replace all uses of F with T, then remove F from the DAG.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGISel_8h_source.html#l00228">SelectionDAGISel.h:228</a></div></div>
<div class="ttc" id="anamespacellvm_html_a646986783f35e0fef8988f0f28d2589f"><div class="ttname"><a href="namespacellvm.html#a646986783f35e0fef8988f0f28d2589f">llvm::Log2_32</a></div><div class="ttdeci">unsigned Log2_32(uint32_t Value)</div><div class="ttdoc">Return the floor log base 2 of the specified value, -1 if the value is zero.</div><div class="ttdef"><b>Definition:</b> <a href="MathExtras_8h_source.html#l00382">MathExtras.h:382</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCInstrDesc_html"><div class="ttname"><a href="classllvm_1_1MCInstrDesc.html">llvm::MCInstrDesc</a></div><div class="ttdoc">Describe properties that are true of each instruction in the target description file.</div><div class="ttdef"><b>Definition:</b> <a href="MCInstrDesc_8h_source.html#l00198">MCInstrDesc.h:198</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAG_html_a3d2e079387a6e69ce2c8bb27bf7c2f32"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#a3d2e079387a6e69ce2c8bb27bf7c2f32">llvm::SelectionDAG::setRoot</a></div><div class="ttdeci">const SDValue &amp; setRoot(SDValue N)</div><div class="ttdoc">Set the current root tag of the SelectionDAG.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8h_source.html#l00556">SelectionDAG.h:556</a></div></div>
<div class="ttc" id="anamespacellvm_1_1RISCVVType_html_a291f15cffaa5063b9056d0160413bc82"><div class="ttname"><a href="namespacellvm_1_1RISCVVType.html#a291f15cffaa5063b9056d0160413bc82">llvm::RISCVVType::decodeVSEW</a></div><div class="ttdeci">static unsigned decodeVSEW(unsigned VSEW)</div><div class="ttdef"><b>Definition:</b> <a href="RISCVBaseInfo_8h_source.html#l00450">RISCVBaseInfo.h:450</a></div></div>
<div class="ttc" id="aRISCVMCTargetDesc_8h_html"><div class="ttname"><a href="RISCVMCTargetDesc_8h.html">RISCVMCTargetDesc.h</a></div></div>
<div class="ttc" id="anamespacellvm_html_a7f2a3d4dcfee70225988aec53ff1e173"><div class="ttname"><a href="namespacellvm.html#a7f2a3d4dcfee70225988aec53ff1e173">llvm::report_fatal_error</a></div><div class="ttdeci">void report_fatal_error(Error Err, bool gen_crash_diag=true)</div><div class="ttdoc">Report a serious error, calling any installed error handler.</div><div class="ttdef"><b>Definition:</b> <a href="Testing_2Support_2Error_8cpp_source.html#l00145">Error.cpp:145</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_a217e0207d9cc8e046c2dccbf0e4bb198"><div class="ttname"><a href="classllvm_1_1APInt.html#a217e0207d9cc8e046c2dccbf0e4bb198">llvm::APInt::getZExtValue</a></div><div class="ttdeci">uint64_t getZExtValue() const</div><div class="ttdoc">Get zero extended value.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l01494">APInt.h:1494</a></div></div>
<div class="ttc" id="aclassllvm_1_1RISCVDAGToDAGISel_html_a01c8e2a184c56010855dff1bec3cb48e"><div class="ttname"><a href="classllvm_1_1RISCVDAGToDAGISel.html#a01c8e2a184c56010855dff1bec3cb48e">llvm::RISCVDAGToDAGISel::ID</a></div><div class="ttdeci">static char ID</div><div class="ttdef"><b>Definition:</b> <a href="RISCVISelDAGToDAG_8h_source.html#l00028">RISCVISelDAGToDAG.h:28</a></div></div>
<div class="ttc" id="aRISCVISelDAGToDAG_8cpp_html_ad78e062f62e0d6e453941fb4ca843e4d"><div class="ttname"><a href="RISCVISelDAGToDAG_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">DEBUG_TYPE</a></div><div class="ttdeci">#define DEBUG_TYPE</div><div class="ttdef"><b>Definition:</b> <a href="RISCVISelDAGToDAG_8cpp_source.html#l00028">RISCVISelDAGToDAG.cpp:28</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a1db943abc1bf78a911daeb7b03d81de8"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a1db943abc1bf78a911daeb7b03d81de8">llvm::ISD::ATOMIC_STORE</a></div><div class="ttdeci">@ ATOMIC_STORE</div><div class="ttdoc">OUTCHAIN = ATOMIC_STORE(INCHAIN, ptr, val) This corresponds to &quot;store atomic&quot; instruction.</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l01165">ISDOpcodes.h:1165</a></div></div>
<div class="ttc" id="aclassllvm_1_1RISCVDAGToDAGISel_html_a9d90c2c2505deb6a29d705a5cd951ce7"><div class="ttname"><a href="classllvm_1_1RISCVDAGToDAGISel.html#a9d90c2c2505deb6a29d705a5cd951ce7">llvm::RISCVDAGToDAGISel::SelectInlineAsmMemoryOperand</a></div><div class="ttdeci">bool SelectInlineAsmMemoryOperand(const SDValue &amp;Op, unsigned ConstraintID, std::vector&lt; SDValue &gt; &amp;OutOps) override</div><div class="ttdoc">SelectInlineAsmMemoryOperand - Select the specified address as a target addressing mode,...</div><div class="ttdef"><b>Definition:</b> <a href="RISCVISelDAGToDAG_8cpp_source.html#l01888">RISCVISelDAGToDAG.cpp:1888</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAG_html_ab661cadb0d978a6f220c025bb9cebae7"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#ab661cadb0d978a6f220c025bb9cebae7">llvm::SelectionDAG::getMemIntrinsicNode</a></div><div class="ttdeci">SDValue getMemIntrinsicNode(unsigned Opcode, const SDLoc &amp;dl, SDVTList VTList, ArrayRef&lt; SDValue &gt; Ops, EVT MemVT, MachinePointerInfo PtrInfo, Align Alignment, MachineMemOperand::Flags Flags=MachineMemOperand::MOLoad|MachineMemOperand::MOStore, uint64_t Size=0, const AAMDNodes &amp;AAInfo=AAMDNodes())</div><div class="ttdoc">Creates a MemIntrinsicNode that may produce a result and takes a list of operands.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l07893">SelectionDAG.cpp:7893</a></div></div>
<div class="ttc" id="aCSEInfo_8cpp_html_a75f8a8519c2c9b30e7c06dc5e256fffa"><div class="ttname"><a href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a></div><div class="ttdeci">Analysis containing CSE Info</div><div class="ttdef"><b>Definition:</b> <a href="CSEInfo_8cpp_source.html#l00027">CSEInfo.cpp:27</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">llvm::ISD::AND</a></div><div class="ttdeci">@ AND</div><div class="ttdoc">Bitwise operators - logical and, logical or, logical xor.</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00666">ISDOpcodes.h:666</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVectorImpl_html_a7efd1f0c1206d95e4fe01a9b49a57b82"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html#a7efd1f0c1206d95e4fe01a9b49a57b82">llvm::SmallVectorImpl::append</a></div><div class="ttdeci">void append(ItTy in_start, ItTy in_end)</div><div class="ttdoc">Add the specified range to the end of the SmallVector.</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00687">SmallVector.h:687</a></div></div>
<div class="ttc" id="aclassllvm_1_1RISCVSubtarget_html_a88a69c325ca25efc3d93dc23f564ec44"><div class="ttname"><a href="classllvm_1_1RISCVSubtarget.html#a88a69c325ca25efc3d93dc23f564ec44">llvm::RISCVSubtarget::getInstrInfo</a></div><div class="ttdeci">const RISCVInstrInfo * getInstrInfo() const override</div><div class="ttdef"><b>Definition:</b> <a href="RISCVSubtarget_8h_source.html#l00086">RISCVSubtarget.h:86</a></div></div>
<div class="ttc" id="aRISCVISelDAGToDAG_8cpp_html_a41204b798c4382287343e20fee9d97a6"><div class="ttname"><a href="RISCVISelDAGToDAG_8cpp.html#a41204b798c4382287343e20fee9d97a6">CASE_VMSLT_OPCODES</a></div><div class="ttdeci">#define CASE_VMSLT_OPCODES(lmulenum, suffix, suffix_b)</div></div>
<div class="ttc" id="aELFObjHandler_8cpp_html_a043cdaf7b89aaeeb127be5d93411637f"><div class="ttname"><a href="ELFObjHandler_8cpp.html#a043cdaf7b89aaeeb127be5d93411637f">Align</a></div><div class="ttdeci">uint64_t Align</div><div class="ttdef"><b>Definition:</b> <a href="ELFObjHandler_8cpp_source.html#l00082">ELFObjHandler.cpp:82</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a7f864031b6fb691b1525cbea92542ef1"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7f864031b6fb691b1525cbea92542ef1">llvm::ISD::SPLAT_VECTOR</a></div><div class="ttdeci">@ SPLAT_VECTOR</div><div class="ttdoc">SPLAT_VECTOR(VAL) - Returns a vector with the scalar value VAL duplicated in all lanes.</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00613">ISDOpcodes.h:613</a></div></div>
<div class="ttc" id="aclassllvm_1_1APFloat_html_a9c5a2112c559ffbe2c7bbf5698b6482f"><div class="ttname"><a href="classllvm_1_1APFloat.html#a9c5a2112c559ffbe2c7bbf5698b6482f">llvm::APFloat::bitcastToAPInt</a></div><div class="ttdeci">APInt bitcastToAPInt() const</div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8h_source.html#l01174">APFloat.h:1174</a></div></div>
<div class="ttc" id="astructllvm_1_1Align_html"><div class="ttname"><a href="structllvm_1_1Align.html">llvm::Align</a></div><div class="ttdoc">This struct is a compact representation of a valid (non-zero power of two) alignment.</div><div class="ttdef"><b>Definition:</b> <a href="Alignment_8h_source.html#l00039">Alignment.h:39</a></div></div>
<div class="ttc" id="aclassllvm_1_1SDValue_html_ac969b6c833cfa44c1b4fcd5790268340"><div class="ttname"><a href="classllvm_1_1SDValue.html#ac969b6c833cfa44c1b4fcd5790268340">llvm::SDValue::getConstantOperandVal</a></div><div class="ttdeci">uint64_t getConstantOperandVal(unsigned i) const</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l01153">SelectionDAGNodes.h:1153</a></div></div>
<div class="ttc" id="aRISCVISelDAGToDAG_8cpp_html_a641563566f08db6108848bf61de2f323"><div class="ttname"><a href="RISCVISelDAGToDAG_8cpp.html#a641563566f08db6108848bf61de2f323">isWorthFoldingAdd</a></div><div class="ttdeci">static bool isWorthFoldingAdd(SDValue Add)</div><div class="ttdef"><b>Definition:</b> <a href="RISCVISelDAGToDAG_8cpp_source.html#l01989">RISCVISelDAGToDAG.cpp:1989</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AArch64__AM_html_a7e75394a33f6a5897d7a14c0ba5d44f1abb1fa5a6016bfee1580a7b989a454c9a"><div class="ttname"><a href="namespacellvm_1_1AArch64__AM.html#a7e75394a33f6a5897d7a14c0ba5d44f1abb1fa5a6016bfee1580a7b989a454c9a">llvm::AArch64_AM::ROR</a></div><div class="ttdeci">@ ROR</div><div class="ttdef"><b>Definition:</b> <a href="AArch64AddressingModes_8h_source.html#l00038">AArch64AddressingModes.h:38</a></div></div>
<div class="ttc" id="anamespacellvm_1_1RISCVISD_html_ab68e2d65ea9915ffaac8334a3b8bf882a02a655131d3e2e27d889e16c8af5de89"><div class="ttname"><a href="namespacellvm_1_1RISCVISD.html#ab68e2d65ea9915ffaac8334a3b8bf882a02a655131d3e2e27d889e16c8af5de89">llvm::RISCVISD::DIVW</a></div><div class="ttdeci">@ DIVW</div><div class="ttdef"><b>Definition:</b> <a href="RISCVISelLowering_8h_source.html#l00071">RISCVISelLowering.h:71</a></div></div>
<div class="ttc" id="aErlangGCPrinter_8cpp_html_a74b474c0616ab55c1d9487f11fd31d26"><div class="ttname"><a href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a></div><div class="ttdeci">static GCMetadataPrinterRegistry::Add&lt; ErlangGCPrinter &gt; X(&quot;erlang&quot;, &quot;erlang-compatible garbage collector&quot;)</div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAG_html_a05c0ae3eb411a8c53a6ce48b66c0d3f8"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#a05c0ae3eb411a8c53a6ce48b66c0d3f8">llvm::SelectionDAG::getTargetGlobalAddress</a></div><div class="ttdeci">SDValue getTargetGlobalAddress(const GlobalValue *GV, const SDLoc &amp;DL, EVT VT, int64_t offset=0, unsigned TargetFlags=0)</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8h_source.html#l00717">SelectionDAG.h:717</a></div></div>
<div class="ttc" id="anamespacellvm_1_1RISCVISD_html_ab68e2d65ea9915ffaac8334a3b8bf882a58cde65efe901151c99aec10d2171178"><div class="ttname"><a href="namespacellvm_1_1RISCVISD.html#ab68e2d65ea9915ffaac8334a3b8bf882a58cde65efe901151c99aec10d2171178">llvm::RISCVISD::CLZW</a></div><div class="ttdeci">@ CLZW</div><div class="ttdef"><b>Definition:</b> <a href="RISCVISelLowering_8h_source.html#l00080">RISCVISelLowering.h:80</a></div></div>
<div class="ttc" id="aclassllvm_1_1RISCVDAGToDAGISel_html_a7189b052d3d47dd4f936604abb891a7a"><div class="ttname"><a href="classllvm_1_1RISCVDAGToDAGISel.html#a7189b052d3d47dd4f936604abb891a7a">llvm::RISCVDAGToDAGISel::SelectAddrRegImm</a></div><div class="ttdeci">bool SelectAddrRegImm(SDValue Addr, SDValue &amp;Base, SDValue &amp;Offset)</div><div class="ttdef"><b>Definition:</b> <a href="RISCVISelDAGToDAG_8cpp_source.html#l02011">RISCVISelDAGToDAG.cpp:2011</a></div></div>
<div class="ttc" id="aMIRNamerPass_8cpp_html_a05e4be4ec3e2c3587dda0e376bb6822c"><div class="ttname"><a href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a></div><div class="ttdeci">mir Rename Register Operands</div><div class="ttdef"><b>Definition:</b> <a href="MIRNamerPass_8cpp_source.html#l00074">MIRNamerPass.cpp:74</a></div></div>
<div class="ttc" id="aADT_2tmp_8txt_html_a07ed0bfaa124c15897944fe3eaa971ab"><div class="ttname"><a href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a></div><div class="ttdeci">Class for arbitrary precision integers APInt is a functional replacement for common case unsigned integer type like unsigned long or uint64_t</div><div class="ttdef"><b>Definition:</b> <a href="ADT_2tmp_8txt_source.html#l00001">tmp.txt:1</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_acfae9bdee6027ffa8ffe244cc22e3a76"><div class="ttname"><a href="classllvm_1_1APInt.html#acfae9bdee6027ffa8ffe244cc22e3a76">llvm::APInt::isSubsetOf</a></div><div class="ttdeci">bool isSubsetOf(const APInt &amp;RHS) const</div><div class="ttdoc">This operation checks that all bits set in this APInt are also set in RHS.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l01235">APInt.h:1235</a></div></div>
<div class="ttc" id="aRISCVInsertVSETVLI_8cpp_html_ad4e26a8fdece2198ba75eff89753cd22"><div class="ttname"><a href="RISCVInsertVSETVLI_8cpp.html#ad4e26a8fdece2198ba75eff89753cd22">TSFlags</a></div><div class="ttdeci">uint64_t TSFlags</div><div class="ttdef"><b>Definition:</b> <a href="RISCVInsertVSETVLI_8cpp_source.html#l00635">RISCVInsertVSETVLI.cpp:635</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8ddab22e15c5fd147de94fbde3549d1b"><div class="ttname"><a href="namespacellvm.html#a8ddab22e15c5fd147de94fbde3549d1b">llvm::createRISCVISelDag</a></div><div class="ttdeci">FunctionPass * createRISCVISelDag(RISCVTargetMachine &amp;TM, CodeGenOpt::Level OptLevel)</div><div class="ttdef"><b>Definition:</b> <a href="RISCVISelDAGToDAG_8cpp_source.html#l03014">RISCVISelDAGToDAG.cpp:3014</a></div></div>
<div class="ttc" id="aclassllvm_1_1APFloat_html"><div class="ttname"><a href="classllvm_1_1APFloat.html">llvm::APFloat</a></div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8h_source.html#l00744">APFloat.h:744</a></div></div>
<div class="ttc" id="anamespacellvm_1_1RISCVISD_html_ab68e2d65ea9915ffaac8334a3b8bf882a55a5f5a5eb10f4ca81928a4cee11ab52"><div class="ttname"><a href="namespacellvm_1_1RISCVISD.html#ab68e2d65ea9915ffaac8334a3b8bf882a55a5f5a5eb10f4ca81928a4cee11ab52">llvm::RISCVISD::VMV_S_X_VL</a></div><div class="ttdeci">@ VMV_S_X_VL</div><div class="ttdef"><b>Definition:</b> <a href="RISCVISelLowering_8h_source.html#l00144">RISCVISelLowering.h:144</a></div></div>
<div class="ttc" id="aclassllvm_1_1SDValue_html_af6fe41bd1c6914242c20b4917de0d3f4"><div class="ttname"><a href="classllvm_1_1SDValue.html#af6fe41bd1c6914242c20b4917de0d3f4">llvm::SDValue::getNumOperands</a></div><div class="ttdeci">unsigned getNumOperands() const</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l01145">SelectionDAGNodes.h:1145</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAG_html_a935ace76cef67c6da10cf0633371efe1"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#a935ace76cef67c6da10cf0633371efe1">llvm::SelectionDAG::RemoveDeadNode</a></div><div class="ttdeci">void RemoveDeadNode(SDNode *N)</div><div class="ttdoc">Remove the specified node from the system.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l01022">SelectionDAG.cpp:1022</a></div></div>
<div class="ttc" id="astructllvm_1_1RISCV_1_1VSEPseudo_html"><div class="ttname"><a href="structllvm_1_1RISCV_1_1VSEPseudo.html">llvm::RISCV::VSEPseudo</a></div><div class="ttdef"><b>Definition:</b> <a href="RISCVISelDAGToDAG_8h_source.html#l00200">RISCVISelDAGToDAG.h:200</a></div></div>
<div class="ttc" id="aclassllvm_1_1RISCVDAGToDAGISel_html_a9dd913520cec32052ff63c8735efad5c"><div class="ttname"><a href="classllvm_1_1RISCVDAGToDAGISel.html#a9dd913520cec32052ff63c8735efad5c">llvm::RISCVDAGToDAGISel::selectVLOp</a></div><div class="ttdeci">bool selectVLOp(SDValue N, SDValue &amp;VL)</div><div class="ttdef"><b>Definition:</b> <a href="RISCVISelDAGToDAG_8cpp_source.html#l02508">RISCVISelDAGToDAG.cpp:2508</a></div></div>
<div class="ttc" id="aRISCVISelDAGToDAG_8cpp_html_a6a41924e51804fff4d3c8394d3643541"><div class="ttname"><a href="RISCVISelDAGToDAG_8cpp.html#a6a41924e51804fff4d3c8394d3643541">selectImmSeq</a></div><div class="ttdeci">static SDValue selectImmSeq(SelectionDAG *CurDAG, const SDLoc &amp;DL, const MVT VT, RISCVMatInt::InstSeq &amp;Seq)</div><div class="ttdef"><b>Definition:</b> <a href="RISCVISelDAGToDAG_8cpp_source.html#l00175">RISCVISelDAGToDAG.cpp:175</a></div></div>
<div class="ttc" id="aclassllvm_1_1RISCVDAGToDAGISel_html_aa48cfa380a213e2be4b3c9647e55a102"><div class="ttname"><a href="classllvm_1_1RISCVDAGToDAGISel.html#aa48cfa380a213e2be4b3c9647e55a102">llvm::RISCVDAGToDAGISel::selectVSXSEG</a></div><div class="ttdeci">void selectVSXSEG(SDNode *Node, bool IsMasked, bool IsOrdered)</div><div class="ttdef"><b>Definition:</b> <a href="RISCVISelDAGToDAG_8cpp_source.html#l00487">RISCVISelDAGToDAG.cpp:487</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAGISel_html_a877a33bf451c611191b8f8dcbbaed4ca"><div class="ttname"><a href="classllvm_1_1SelectionDAGISel.html#a877a33bf451c611191b8f8dcbbaed4ca">llvm::SelectionDAGISel::IsProfitableToFold</a></div><div class="ttdeci">virtual bool IsProfitableToFold(SDValue N, SDNode *U, SDNode *Root) const</div><div class="ttdoc">IsProfitableToFold - Returns true if it's profitable to fold the specific operand node N of U during ...</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGISel_8cpp_source.html#l02106">SelectionDAGISel.cpp:2106</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAG_html_a4d5e16cbde22f5e6f007940d57a428fd"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#a4d5e16cbde22f5e6f007940d57a428fd">llvm::SelectionDAG::MaxRecursionDepth</a></div><div class="ttdeci">static constexpr unsigned MaxRecursionDepth</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8h_source.html#l00444">SelectionDAG.h:444</a></div></div>
<div class="ttc" id="aRISCVISelDAGToDAG_8cpp_html_a94db23ca15834c0dee46271b805c546a"><div class="ttname"><a href="RISCVISelDAGToDAG_8cpp.html#a94db23ca15834c0dee46271b805c546a">selectVSplatSimmHelper</a></div><div class="ttdeci">static bool selectVSplatSimmHelper(SDValue N, SDValue &amp;SplatVal, SelectionDAG &amp;DAG, const RISCVSubtarget &amp;Subtarget, ValidateFn ValidateImm)</div><div class="ttdef"><b>Definition:</b> <a href="RISCVISelDAGToDAG_8cpp_source.html#l02542">RISCVISelDAGToDAG.cpp:2542</a></div></div>
<div class="ttc" id="aclassllvm_1_1RISCVDAGToDAGISel_html_a0750c8c88c7f1b646580e86f63f6e2b8"><div class="ttname"><a href="classllvm_1_1RISCVDAGToDAGISel.html#a0750c8c88c7f1b646580e86f63f6e2b8">llvm::RISCVDAGToDAGISel::selectVSplatUimm5</a></div><div class="ttdeci">bool selectVSplatUimm5(SDValue N, SDValue &amp;SplatVal)</div><div class="ttdef"><b>Definition:</b> <a href="RISCVISelDAGToDAG_8cpp_source.html#l02594">RISCVISelDAGToDAG.cpp:2594</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantFPSDNode_html"><div class="ttname"><a href="classllvm_1_1ConstantFPSDNode.html">llvm::ConstantFPSDNode</a></div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l01635">SelectionDAGNodes.h:1635</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAGISel_html_a530363b25d555de667bf4f23bc6349a6"><div class="ttname"><a href="classllvm_1_1SelectionDAGISel.html#a530363b25d555de667bf4f23bc6349a6">llvm::SelectionDAGISel::TII</a></div><div class="ttdeci">const TargetInstrInfo * TII</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGISel_8h_source.html#l00055">SelectionDAGISel.h:55</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a269b81f007000306e3e69d0d290c2159"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269b81f007000306e3e69d0d290c2159">llvm::ISD::LOAD</a></div><div class="ttdeci">@ LOAD</div><div class="ttdoc">LOAD and STORE have token chains as their first operand, then the same operands as an LLVM load/store...</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00965">ISDOpcodes.h:965</a></div></div>
<div class="ttc" id="aELFObjHandler_8cpp_html_a9df82a8be2f17e80535a8937bf23e022"><div class="ttname"><a href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a></div><div class="ttdeci">uint64_t Addr</div><div class="ttdef"><b>Definition:</b> <a href="ELFObjHandler_8cpp_source.html#l00079">ELFObjHandler.cpp:79</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAGISel_html_a024d81db0692653f69a019d1c973ebd0"><div class="ttname"><a href="classllvm_1_1SelectionDAGISel.html#a024d81db0692653f69a019d1c973ebd0">llvm::SelectionDAGISel::FuncInfo</a></div><div class="ttdeci">std::unique_ptr&lt; FunctionLoweringInfo &gt; FuncInfo</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGISel_8h_source.html#l00045">SelectionDAGISel.h:45</a></div></div>
<div class="ttc" id="astructllvm_1_1MachinePointerInfo_html"><div class="ttname"><a href="structllvm_1_1MachinePointerInfo.html">llvm::MachinePointerInfo</a></div><div class="ttdoc">This class contains a discriminated union of information about pointers in memory operands,...</div><div class="ttdef"><b>Definition:</b> <a href="MachineMemOperand_8h_source.html#l00039">MachineMemOperand.h:39</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAG_html_ac6cdd6e10185124f84da0c7b4878d495"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#ac6cdd6e10185124f84da0c7b4878d495">llvm::SelectionDAG::getCopyFromReg</a></div><div class="ttdeci">SDValue getCopyFromReg(SDValue Chain, const SDLoc &amp;dl, unsigned Reg, EVT VT)</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8h_source.html#l00795">SelectionDAG.h:795</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAGISel_html_afde899bbadc9622ad6108694d44d7f36"><div class="ttname"><a href="classllvm_1_1SelectionDAGISel.html#afde899bbadc9622ad6108694d44d7f36">llvm::SelectionDAGISel::IsLegalToFold</a></div><div class="ttdeci">static bool IsLegalToFold(SDValue N, SDNode *U, SDNode *Root, CodeGenOpt::Level OptLevel, bool IgnoreChains=false)</div><div class="ttdoc">IsLegalToFold - Returns true if the specific operand node N of U can be folded during instruction sel...</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGISel_8cpp_source.html#l02114">SelectionDAGISel.cpp:2114</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAGISel_html_abfec92a647d46864521a5f9bbc9e2138"><div class="ttname"><a href="classllvm_1_1SelectionDAGISel.html#abfec92a647d46864521a5f9bbc9e2138">llvm::SelectionDAGISel::mayRaiseFPException</a></div><div class="ttdeci">bool mayRaiseFPException(SDNode *Node) const</div><div class="ttdoc">Return whether the node may raise an FP exception.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGISel_8cpp_source.html#l03769">SelectionDAGISel.cpp:3769</a></div></div>
<div class="ttc" id="aRISCVISelDAGToDAG_8cpp_html_acf9235cddac26ff3f81e8c56849bcaac"><div class="ttname"><a href="RISCVISelDAGToDAG_8cpp.html#acf9235cddac26ff3f81e8c56849bcaac">PASS_NAME</a></div><div class="ttdeci">#define PASS_NAME</div><div class="ttdef"><b>Definition:</b> <a href="RISCVISelDAGToDAG_8cpp_source.html#l00029">RISCVISelDAGToDAG.cpp:29</a></div></div>
<div class="ttc" id="aclassllvm_1_1SDNode_html_aa167dab8c514d863ec44909befac3050"><div class="ttname"><a href="classllvm_1_1SDNode.html#aa167dab8c514d863ec44909befac3050">llvm::SDNode::getOperand</a></div><div class="ttdeci">const SDValue &amp; getOperand(unsigned Num) const</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l00921">SelectionDAGNodes.h:921</a></div></div>
<div class="ttc" id="aMD5_8cpp_html_ac0eafdc9ee161b71e7af98af736952fd"><div class="ttname"><a href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a></div><div class="ttdeci">#define I(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00058">MD5.cpp:58</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAG_html_abad5b17501ce8972fb04a149611e7177"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#abad5b17501ce8972fb04a149611e7177">llvm::SelectionDAG::getNode</a></div><div class="ttdeci">SDValue getNode(unsigned Opcode, const SDLoc &amp;DL, EVT VT, ArrayRef&lt; SDUse &gt; Ops)</div><div class="ttdoc">Gets or creates the specified node.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l09202">SelectionDAG.cpp:9202</a></div></div>
<div class="ttc" id="anamespacellvm_1_1RISCVISD_html_ab68e2d65ea9915ffaac8334a3b8bf882a2b2dd2bf0e3e0bdfa3ee4ea3fb024cf5"><div class="ttname"><a href="namespacellvm_1_1RISCVISD.html#ab68e2d65ea9915ffaac8334a3b8bf882a2b2dd2bf0e3e0bdfa3ee4ea3fb024cf5">llvm::RISCVISD::ROLW</a></div><div class="ttdeci">@ ROLW</div><div class="ttdef"><b>Definition:</b> <a href="RISCVISelLowering_8h_source.html#l00076">RISCVISelLowering.h:76</a></div></div>
<div class="ttc" id="aclassllvm_1_1RISCVMachineFunctionInfo_html"><div class="ttname"><a href="classllvm_1_1RISCVMachineFunctionInfo.html">llvm::RISCVMachineFunctionInfo</a></div><div class="ttdoc">RISCVMachineFunctionInfo - This class is derived from MachineFunctionInfo and contains private RISCV-...</div><div class="ttdef"><b>Definition:</b> <a href="RISCVMachineFunctionInfo_8h_source.html#l00047">RISCVMachineFunctionInfo.h:47</a></div></div>
<div class="ttc" id="aclassllvm_1_1RISCVSubtarget_html"><div class="ttname"><a href="classllvm_1_1RISCVSubtarget.html">llvm::RISCVSubtarget</a></div><div class="ttdef"><b>Definition:</b> <a href="RISCVSubtarget_8h_source.html#l00035">RISCVSubtarget.h:35</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AVRISD_html_a074d5b8568a8b970d7cea9d14451303ba5c414e366af8994716bbd800f722df1a"><div class="ttname"><a href="namespacellvm_1_1AVRISD.html#a074d5b8568a8b970d7cea9d14451303ba5c414e366af8994716bbd800f722df1a">llvm::AVRISD::ROL</a></div><div class="ttdeci">@ ROL</div><div class="ttdoc">Bit rotate left.</div><div class="ttdef"><b>Definition:</b> <a href="AVRISelLowering_8h_source.html#l00054">AVRISelLowering.h:54</a></div></div>
<div class="ttc" id="aclassllvm_1_1SDValue_html_a64932427432abeb61241e98bea167580"><div class="ttname"><a href="classllvm_1_1SDValue.html#a64932427432abeb61241e98bea167580">llvm::SDValue::getValue</a></div><div class="ttdeci">SDValue getValue(unsigned R) const</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l00179">SelectionDAGNodes.h:179</a></div></div>
<div class="ttc" id="aclassllvm_1_1RISCVDAGToDAGISel_html_aee8bb1da0fa7db8032f5e53f49a73a4b"><div class="ttname"><a href="classllvm_1_1RISCVDAGToDAGISel.html#aee8bb1da0fa7db8032f5e53f49a73a4b">llvm::RISCVDAGToDAGISel::selectVLSEG</a></div><div class="ttdeci">void selectVLSEG(SDNode *Node, bool IsMasked, bool IsStrided)</div><div class="ttdef"><b>Definition:</b> <a href="RISCVISelDAGToDAG_8cpp_source.html#l00313">RISCVISelDAGToDAG.cpp:313</a></div></div>
<div class="ttc" id="anamespacellvm_1_1RISCVISD_html_ab68e2d65ea9915ffaac8334a3b8bf882af67faecb539beaa37dfcfff1252c9c60"><div class="ttname"><a href="namespacellvm_1_1RISCVISD.html#ab68e2d65ea9915ffaac8334a3b8bf882af67faecb539beaa37dfcfff1252c9c60">llvm::RISCVISD::ADD_LO</a></div><div class="ttdeci">@ ADD_LO</div><div class="ttdef"><b>Definition:</b> <a href="RISCVISelLowering_8h_source.html#l00048">RISCVISelLowering.h:48</a></div></div>
<div class="ttc" id="aSILowerControlFlow_8cpp_html_a4868c5d81c5ccc98c47aeab6244346a0"><div class="ttname"><a href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a></div><div class="ttdeci">assert(ImpDefSCC.getReg()==AMDGPU::SCC &amp;&amp;ImpDefSCC.isDef())</div></div>
<div class="ttc" id="aclassllvm_1_1MVT_html_a330aea6151cae3adaf5e179dcfe87346a62a222acce6360abd2726719fabc2797"><div class="ttname"><a href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a62a222acce6360abd2726719fabc2797">llvm::MVT::Other</a></div><div class="ttdeci">@ Other</div><div class="ttdef"><b>Definition:</b> <a href="MachineValueType_8h_source.html#l00042">MachineValueType.h:42</a></div></div>
<div class="ttc" id="aclassllvm_1_1MVT_html_a7be7c6dd92efc0d6f866d4a3b433eed0"><div class="ttname"><a href="classllvm_1_1MVT.html#a7be7c6dd92efc0d6f866d4a3b433eed0">llvm::MVT::getSizeInBits</a></div><div class="ttdeci">TypeSize getSizeInBits() const</div><div class="ttdoc">Returns the size of the specified MVT in bits.</div><div class="ttdef"><b>Definition:</b> <a href="MachineValueType_8h_source.html#l00925">MachineValueType.h:925</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantSDNode_html_a5cb49674ec65724b4d9aecb48588a13a"><div class="ttname"><a href="classllvm_1_1ConstantSDNode.html#a5cb49674ec65724b4d9aecb48588a13a">llvm::ConstantSDNode::getZExtValue</a></div><div class="ttdeci">uint64_t getZExtValue() const</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l01601">SelectionDAGNodes.h:1601</a></div></div>
<div class="ttc" id="aclassllvm_1_1SDValue_html_ac476ca9c302b9ba8d47ea7b02f6149f5"><div class="ttname"><a href="classllvm_1_1SDValue.html#ac476ca9c302b9ba8d47ea7b02f6149f5">llvm::SDValue::getResNo</a></div><div class="ttdeci">unsigned getResNo() const</div><div class="ttdoc">get the index which selects a specific result in the SDNode</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l00156">SelectionDAGNodes.h:156</a></div></div>
<div class="ttc" id="anamespacellvm_1_1RISCVMatInt_html_a3c9bceaea514f7c01e87dcb184d3c972ac5bc33378acb23e672b1eaf99faa99a0"><div class="ttname"><a href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972ac5bc33378acb23e672b1eaf99faa99a0">llvm::RISCVMatInt::RegX0</a></div><div class="ttdeci">@ RegX0</div><div class="ttdef"><b>Definition:</b> <a href="RISCVMatInt_8h_source.html#l00025">RISCVMatInt.h:25</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAGISel_html_a2b37615f95f3e2fdd5564188c0965132"><div class="ttname"><a href="classllvm_1_1SelectionDAGISel.html#a2b37615f95f3e2fdd5564188c0965132">llvm::SelectionDAGISel::CurDAG</a></div><div class="ttdeci">SelectionDAG * CurDAG</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGISel_8h_source.html#l00049">SelectionDAGISel.h:49</a></div></div>
<div class="ttc" id="aclassllvm_1_1RISCVDAGToDAGISel_html_a68fe5706b6c5ab0df6fc48ecf12dec30"><div class="ttname"><a href="classllvm_1_1RISCVDAGToDAGISel.html#a68fe5706b6c5ab0df6fc48ecf12dec30">llvm::RISCVDAGToDAGISel::hasAllWUsers</a></div><div class="ttdeci">bool hasAllWUsers(SDNode *Node) const</div><div class="ttdef"><b>Definition:</b> <a href="RISCVISelDAGToDAG_8h_source.html#l00085">RISCVISelDAGToDAG.h:85</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAG_html_a1c04c72abd24de2572a03ef686a36dd6"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#a1c04c72abd24de2572a03ef686a36dd6">llvm::SelectionDAG::getMachineNode</a></div><div class="ttdeci">MachineSDNode * getMachineNode(unsigned Opcode, const SDLoc &amp;dl, EVT VT)</div><div class="ttdoc">These are used for target selectors to create a new node with specified return type(s),...</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l09946">SelectionDAG.cpp:9946</a></div></div>
<div class="ttc" id="aclassllvm_1_1MVT_html"><div class="ttname"><a href="classllvm_1_1MVT.html">llvm::MVT</a></div><div class="ttdoc">Machine Value Type.</div><div class="ttdef"><b>Definition:</b> <a href="MachineValueType_8h_source.html#l00031">MachineValueType.h:31</a></div></div>
<div class="ttc" id="anamespacellvm_1_1RISCVISD_html_ab68e2d65ea9915ffaac8334a3b8bf882a64927d70afbf447d7c36fa86496df0a3"><div class="ttname"><a href="namespacellvm_1_1RISCVISD.html#ab68e2d65ea9915ffaac8334a3b8bf882a64927d70afbf447d7c36fa86496df0a3">llvm::RISCVISD::SRAW</a></div><div class="ttdeci">@ SRAW</div><div class="ttdef"><b>Definition:</b> <a href="RISCVISelLowering_8h_source.html#l00066">RISCVISelLowering.h:66</a></div></div>
<div class="ttc" id="aclassllvm_1_1RISCVDAGToDAGISel_html_a60c150f4b46cf5dc8dd1af9653ddde43"><div class="ttname"><a href="classllvm_1_1RISCVDAGToDAGISel.html#a60c150f4b46cf5dc8dd1af9653ddde43">llvm::RISCVDAGToDAGISel::selectVSplatSimm5</a></div><div class="ttdeci">bool selectVSplatSimm5(SDValue N, SDValue &amp;SplatVal)</div><div class="ttdef"><b>Definition:</b> <a href="RISCVISelDAGToDAG_8cpp_source.html#l02575">RISCVISelDAGToDAG.cpp:2575</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAG_html_a66ebc3ec1c8816b16a5f239a8631c780"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#a66ebc3ec1c8816b16a5f239a8631c780">llvm::SelectionDAG::setNodeMemRefs</a></div><div class="ttdeci">void setNodeMemRefs(MachineSDNode *N, ArrayRef&lt; MachineMemOperand * &gt; NewMemRefs)</div><div class="ttdoc">Mutate the specified machine node's memory references to the provided list.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l09714">SelectionDAG.cpp:9714</a></div></div>
<div class="ttc" id="astructllvm_1_1MachinePointerInfo_html_a9459055a98e20980521289e8d20fcc7e"><div class="ttname"><a href="structllvm_1_1MachinePointerInfo.html#a9459055a98e20980521289e8d20fcc7e">llvm::MachinePointerInfo::getWithOffset</a></div><div class="ttdeci">MachinePointerInfo getWithOffset(int64_t O) const</div><div class="ttdef"><b>Definition:</b> <a href="MachineMemOperand_8h_source.html#l00079">MachineMemOperand.h:79</a></div></div>
<div class="ttc" id="aclassllvm_1_1SDNode_html_a1223d6e9a7dfb6e51299b894beccc679"><div class="ttname"><a href="classllvm_1_1SDNode.html#a1223d6e9a7dfb6e51299b894beccc679">llvm::SDNode::isMachineOpcode</a></div><div class="ttdeci">bool isMachineOpcode() const</div><div class="ttdoc">Test if this node has a post-isel opcode, directly corresponding to a MachineInstr opcode.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l00699">SelectionDAGNodes.h:699</a></div></div>
<div class="ttc" id="anamespacellvm_1_1RISCVII_html_a5027876e3adc5cd3f3c19a08e20a0f09"><div class="ttname"><a href="namespacellvm_1_1RISCVII.html#a5027876e3adc5cd3f3c19a08e20a0f09">llvm::RISCVII::hasMergeOp</a></div><div class="ttdeci">static bool hasMergeOp(uint64_t TSFlags)</div><div class="ttdef"><b>Definition:</b> <a href="RISCVBaseInfo_8h_source.html#l00160">RISCVBaseInfo.h:160</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html"><div class="ttname"><a href="classllvm_1_1APInt.html">llvm::APInt</a></div><div class="ttdoc">Class for arbitrary precision integers.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00075">APInt.h:75</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html"><div class="ttname"><a href="classllvm_1_1MachineFunction.html">llvm::MachineFunction</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00258">MachineFunction.h:258</a></div></div>
<div class="ttc" id="aclassllvm_1_1RISCVTargetLowering_html_a01ee44fd979fc25e2afe3d23a2079494"><div class="ttname"><a href="classllvm_1_1RISCVTargetLowering.html#a01ee44fd979fc25e2afe3d23a2079494">llvm::RISCVTargetLowering::decomposeSubvectorInsertExtractToSubRegs</a></div><div class="ttdeci">static std::pair&lt; unsigned, unsigned &gt; decomposeSubvectorInsertExtractToSubRegs(MVT VecVT, MVT SubVecVT, unsigned InsertExtractIdx, const RISCVRegisterInfo *TRI)</div><div class="ttdef"><b>Definition:</b> <a href="RISCVISelLowering_8cpp_source.html#l01697">RISCVISelLowering.cpp:1697</a></div></div>
<div class="ttc" id="anamespacellvm_1_1RISCVISD_html_ab68e2d65ea9915ffaac8334a3b8bf882adcdd29ca8504487f10692af6034cb64f"><div class="ttname"><a href="namespacellvm_1_1RISCVISD.html#ab68e2d65ea9915ffaac8334a3b8bf882adcdd29ca8504487f10692af6034cb64f">llvm::RISCVISD::REMUW</a></div><div class="ttdeci">@ REMUW</div><div class="ttdef"><b>Definition:</b> <a href="RISCVISelLowering_8h_source.html#l00073">RISCVISelLowering.h:73</a></div></div>
<div class="ttc" id="anamespacellvm_1_1NVPTXISD_html_ab995b6d422b079c863075e073b2eb96ba7cff9cc4a40fe2b19129ee8e9b0ec645"><div class="ttname"><a href="namespacellvm_1_1NVPTXISD.html#ab995b6d422b079c863075e073b2eb96ba7cff9cc4a40fe2b19129ee8e9b0ec645">llvm::NVPTXISD::Dummy</a></div><div class="ttdeci">@ Dummy</div><div class="ttdef"><b>Definition:</b> <a href="NVPTXISelLowering_8h_source.html#l00060">NVPTXISelLowering.h:60</a></div></div>
<div class="ttc" id="aclassllvm_1_1ArrayRef_html"><div class="ttname"><a href="classllvm_1_1ArrayRef.html">llvm::ArrayRef</a></div><div class="ttdoc">ArrayRef - Represent a constant reference to an array (0 or more elements consecutively in memory),...</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00033">APInt.h:33</a></div></div>
<div class="ttc" id="aclassllvm_1_1RISCVInstrInfo_html"><div class="ttname"><a href="classllvm_1_1RISCVInstrInfo.html">llvm::RISCVInstrInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="RISCVInstrInfo_8h_source.html#l00044">RISCVInstrInfo.h:44</a></div></div>
<div class="ttc" id="aclassllvm_1_1MVT_html_a330aea6151cae3adaf5e179dcfe87346a97f56253625b3fe7b371ce76722de4b8"><div class="ttname"><a href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a97f56253625b3fe7b371ce76722de4b8">llvm::MVT::i64</a></div><div class="ttdeci">@ i64</div><div class="ttdef"><b>Definition:</b> <a href="MachineValueType_8h_source.html#l00049">MachineValueType.h:49</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAG_html_af08c66bed13b63f7b506b1aa9c3433af"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#af08c66bed13b63f7b506b1aa9c3433af">llvm::SelectionDAG::getTargetInsertSubreg</a></div><div class="ttdeci">SDValue getTargetInsertSubreg(int SRIdx, const SDLoc &amp;DL, EVT VT, SDValue Operand, SDValue Subreg)</div><div class="ttdoc">A convenience function for creating TargetInstrInfo::INSERT_SUBREG nodes.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l10074">SelectionDAG.cpp:10074</a></div></div>
<div class="ttc" id="anamespacellvm_1_1RISCVISD_html_ab68e2d65ea9915ffaac8334a3b8bf882a127afe58529ef366a343a51786dcc3d4"><div class="ttname"><a href="namespacellvm_1_1RISCVISD.html#ab68e2d65ea9915ffaac8334a3b8bf882a127afe58529ef366a343a51786dcc3d4">llvm::RISCVISD::VMV_V_X_VL</a></div><div class="ttdeci">@ VMV_V_X_VL</div><div class="ttdef"><b>Definition:</b> <a href="RISCVISelLowering_8h_source.html#l00135">RISCVISelLowering.h:135</a></div></div>
<div class="ttc" id="aclassllvm_1_1APFloat_html_ac37cd93f2c41a818a278e99de784ba1d"><div class="ttname"><a href="classllvm_1_1APFloat.html#ac37cd93f2c41a818a278e99de784ba1d">llvm::APFloat::isPosZero</a></div><div class="ttdeci">bool isPosZero() const</div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8h_source.html#l01270">APFloat.h:1270</a></div></div>
<div class="ttc" id="aclassllvm_1_1RISCVSubtarget_html_ae6a9afeb2cb6f09a2b3ae38beda73695"><div class="ttname"><a href="classllvm_1_1RISCVSubtarget.html#ae6a9afeb2cb6f09a2b3ae38beda73695">llvm::RISCVSubtarget::getRegisterInfo</a></div><div class="ttdeci">const RISCVRegisterInfo * getRegisterInfo() const override</div><div class="ttdef"><b>Definition:</b> <a href="RISCVSubtarget_8h_source.html#l00087">RISCVSubtarget.h:87</a></div></div>
<div class="ttc" id="anamespacellvm_html_a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4"><div class="ttname"><a href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">llvm::Offset</a></div><div class="ttdeci">@ Offset</div><div class="ttdef"><b>Definition:</b> <a href="DWP_8cpp_source.html#l00406">DWP.cpp:406</a></div></div>
<div class="ttc" id="aclassllvm_1_1SDValue_html_adef073885c881f48920ff6a8b4b36163"><div class="ttname"><a href="classllvm_1_1SDValue.html#adef073885c881f48920ff6a8b4b36163">llvm::SDValue::getMachineOpcode</a></div><div class="ttdeci">unsigned getMachineOpcode() const</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l01173">SelectionDAGNodes.h:1173</a></div></div>
<div class="ttc" id="aSupport_2ErrorHandling_8h_html_ace243f5c25697a1107cce46626b3dc94"><div class="ttname"><a href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a></div><div class="ttdeci">#define llvm_unreachable(msg)</div><div class="ttdoc">Marks that the current location is not supposed to be reachable.</div><div class="ttdef"><b>Definition:</b> <a href="Support_2ErrorHandling_8h_source.html#l00143">ErrorHandling.h:143</a></div></div>
<div class="ttc" id="anamespacellvm_1_1RISCVII_html_ab335a6694bd42d4d2f807ec281af1e1cafc3cf026a9a458e993d77f9d723cffe7"><div class="ttname"><a href="namespacellvm_1_1RISCVII.html#ab335a6694bd42d4d2f807ec281af1e1cafc3cf026a9a458e993d77f9d723cffe7">llvm::RISCVII::LMUL_2</a></div><div class="ttdeci">@ LMUL_2</div><div class="ttdef"><b>Definition:</b> <a href="RISCVBaseInfo_8h_source.html#l00122">RISCVBaseInfo.h:122</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAG_html_ac630ccda26fea2f45afa3fb89bc1a8f4"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#ac630ccda26fea2f45afa3fb89bc1a8f4">llvm::SelectionDAG::ReplaceAllUsesOfValueWith</a></div><div class="ttdeci">void ReplaceAllUsesOfValueWith(SDValue From, SDValue To)</div><div class="ttdoc">Replace any uses of From with To, leaving uses of other values produced by From.getNode() alone.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l10541">SelectionDAG.cpp:10541</a></div></div>
<div class="ttc" id="aclassllvm_1_1SDValue_html_a977e54da724d62e7b08e2ad69723731e"><div class="ttname"><a href="classllvm_1_1SDValue.html#a977e54da724d62e7b08e2ad69723731e">llvm::SDValue::getOperand</a></div><div class="ttdeci">const SDValue &amp; getOperand(unsigned i) const</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l01149">SelectionDAGNodes.h:1149</a></div></div>
<div class="ttc" id="aAArch64SLSHardening_8cpp_html_ad467c4ab9119043f9b7750ab986be61a"><div class="ttname"><a href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a></div><div class="ttdeci">MachineBasicBlock MachineBasicBlock::iterator DebugLoc DL</div><div class="ttdef"><b>Definition:</b> <a href="AArch64SLSHardening_8cpp_source.html#l00076">AArch64SLSHardening.cpp:76</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantSDNode_html_a75d113cb1b8cc3c14b601d928dccee40"><div class="ttname"><a href="classllvm_1_1ConstantSDNode.html#a75d113cb1b8cc3c14b601d928dccee40">llvm::ConstantSDNode::getSExtValue</a></div><div class="ttdeci">int64_t getSExtValue() const</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l01602">SelectionDAGNodes.h:1602</a></div></div>
<div class="ttc" id="aclassllvm_1_1SDValue_html_a342c0d4e8e59b30daefe9a05bc2098bd"><div class="ttname"><a href="classllvm_1_1SDValue.html#a342c0d4e8e59b30daefe9a05bc2098bd">llvm::SDValue::hasOneUse</a></div><div class="ttdeci">bool hasOneUse() const</div><div class="ttdoc">Return true if there is exactly one node using value ResNo of Node.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l01185">SelectionDAGNodes.h:1185</a></div></div>
<div class="ttc" id="aclassllvm_1_1SDValue_html_acbcc973a299b6f8733774668210b5227"><div class="ttname"><a href="classllvm_1_1SDValue.html#acbcc973a299b6f8733774668210b5227">llvm::SDValue::getSimpleValueType</a></div><div class="ttdeci">MVT getSimpleValueType() const</div><div class="ttdoc">Return the simple ValueType of the referenced return value.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l00190">SelectionDAGNodes.h:190</a></div></div>
<div class="ttc" id="astructllvm_1_1SDVTList_html"><div class="ttname"><a href="structllvm_1_1SDVTList.html">llvm::SDVTList</a></div><div class="ttdoc">This represents a list of ValueType's that has been intern'd by a SelectionDAG.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l00079">SelectionDAGNodes.h:79</a></div></div>
<div class="ttc" id="anamespacellvm_html_ad12a58d7f81a304e0c568ad2210bc4fe"><div class="ttname"><a href="namespacellvm.html#ad12a58d7f81a304e0c568ad2210bc4fe">llvm::SignExtend64</a></div><div class="ttdeci">constexpr int64_t SignExtend64(uint64_t x)</div><div class="ttdoc">Sign-extend the number in the bottom B bits of X to a 64-bit integer.</div><div class="ttdef"><b>Definition:</b> <a href="MathExtras_8h_source.html#l00557">MathExtras.h:557</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineMemOperand_html_aaa2020e47e35179234b9ea27d555b2dda7d12be6206e5b0026c71bbcd5cb76494"><div class="ttname"><a href="classllvm_1_1MachineMemOperand.html#aaa2020e47e35179234b9ea27d555b2dda7d12be6206e5b0026c71bbcd5cb76494">llvm::MachineMemOperand::MOLoad</a></div><div class="ttdeci">@ MOLoad</div><div class="ttdoc">The memory access reads data.</div><div class="ttdef"><b>Definition:</b> <a href="MachineMemOperand_8h_source.html#l00134">MachineMemOperand.h:134</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110ac771b9cda3b889242d457cc4d9b2159c"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac771b9cda3b889242d457cc4d9b2159c">llvm::ISD::INTRINSIC_WO_CHAIN</a></div><div class="ttdeci">@ INTRINSIC_WO_CHAIN</div><div class="ttdoc">RESULT = INTRINSIC_WO_CHAIN(INTRINSICID, arg1, arg2, ...) This node represents a target intrinsic fun...</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00184">ISDOpcodes.h:184</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a92febb83e6ba116eb7aae8e7e3f70cc1"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a92febb83e6ba116eb7aae8e7e3f70cc1">llvm::ISD::XOR</a></div><div class="ttdeci">@ XOR</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00668">ISDOpcodes.h:668</a></div></div>
<div class="ttc" id="aclassllvm_1_1MVT_html_aa1abe2e0d36a43d780ce54ea3b197217"><div class="ttname"><a href="classllvm_1_1MVT.html#aa1abe2e0d36a43d780ce54ea3b197217">llvm::MVT::getVectorElementCount</a></div><div class="ttdeci">ElementCount getVectorElementCount() const</div><div class="ttdef"><b>Definition:</b> <a href="MachineValueType_8h_source.html#l00907">MachineValueType.h:907</a></div></div>
<div class="ttc" id="anamespacellvm_1_1RISCVISD_html_ab68e2d65ea9915ffaac8334a3b8bf882a3f464ec6c3904381aa268a2d3ac5d41c"><div class="ttname"><a href="namespacellvm_1_1RISCVISD.html#ab68e2d65ea9915ffaac8334a3b8bf882a3f464ec6c3904381aa268a2d3ac5d41c">llvm::RISCVISD::RORW</a></div><div class="ttdeci">@ RORW</div><div class="ttdef"><b>Definition:</b> <a href="RISCVISelLowering_8h_source.html#l00077">RISCVISelLowering.h:77</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a1617abaedbb1d902bb3a5b3136684f9c"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a1617abaedbb1d902bb3a5b3136684f9c">llvm::ISD::INSERT_SUBVECTOR</a></div><div class="ttdeci">@ INSERT_SUBVECTOR</div><div class="ttdoc">INSERT_SUBVECTOR(VECTOR1, VECTOR2, IDX) - Returns a vector with VECTOR2 inserted into VECTOR1.</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00558">ISDOpcodes.h:558</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAGISel_html_a23107e32342f5488a5edfa71aff54700"><div class="ttname"><a href="classllvm_1_1SelectionDAGISel.html#a23107e32342f5488a5edfa71aff54700">llvm::SelectionDAGISel::MF</a></div><div class="ttdeci">MachineFunction * MF</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGISel_8h_source.html#l00047">SelectionDAGISel.h:47</a></div></div>
<div class="ttc" id="anamespacellvm_1_1RISCV_html"><div class="ttname"><a href="namespacellvm_1_1RISCV.html">llvm::RISCV</a></div><div class="ttdef"><b>Definition:</b> <a href="RISCVTargetParser_8h_source.html#l00024">RISCVTargetParser.h:24</a></div></div>
<div class="ttc" id="anamespacellvm_html_af8b512107b41f4ccaf001e31218135c3"><div class="ttname"><a href="namespacellvm.html#af8b512107b41f4ccaf001e31218135c3">llvm::isAllOnesConstant</a></div><div class="ttdeci">bool isAllOnesConstant(SDValue V)</div><div class="ttdoc">Returns true if V is an integer constant with all bits set.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l10927">SelectionDAG.cpp:10927</a></div></div>
<div class="ttc" id="aRISCVISelDAGToDAG_8cpp_html_ae09533837e3c28fa2a357a1592e6cd74"><div class="ttname"><a href="RISCVISelDAGToDAG_8cpp.html#ae09533837e3c28fa2a357a1592e6cd74">CASE_VMSLT_VMNAND_VMSET_OPCODES</a></div><div class="ttdeci">#define CASE_VMSLT_VMNAND_VMSET_OPCODES(lmulenum, suffix, suffix_b)</div></div>
<div class="ttc" id="aAlignment_8h_html"><div class="ttname"><a href="Alignment_8h.html">Alignment.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1RISCVDAGToDAGISel_html_a0c47c47ebffcc56ccf426575cc7688f1"><div class="ttname"><a href="classllvm_1_1RISCVDAGToDAGISel.html#a0c47c47ebffcc56ccf426575cc7688f1">llvm::RISCVDAGToDAGISel::hasAllNBitUsers</a></div><div class="ttdeci">bool hasAllNBitUsers(SDNode *Node, unsigned Bits, const unsigned Depth=0) const</div><div class="ttdef"><b>Definition:</b> <a href="RISCVISelDAGToDAG_8cpp_source.html#l02356">RISCVISelDAGToDAG.cpp:2356</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAG_html_acf82847f1e6fae251ba4183cffd4a3d5"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#acf82847f1e6fae251ba4183cffd4a3d5">llvm::SelectionDAG::computeKnownBits</a></div><div class="ttdeci">KnownBits computeKnownBits(SDValue Op, unsigned Depth=0) const</div><div class="ttdoc">Determine which bits of Op are known to be either zero or one and return them in Known.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l02958">SelectionDAG.cpp:2958</a></div></div>
<div class="ttc" id="astructllvm_1_1KnownBits_html"><div class="ttname"><a href="structllvm_1_1KnownBits.html">llvm::KnownBits</a></div><div class="ttdef"><b>Definition:</b> <a href="KnownBits_8h_source.html#l00023">KnownBits.h:23</a></div></div>
<div class="ttc" id="anamespacellvm_1_1RISCVISD_html_ab68e2d65ea9915ffaac8334a3b8bf882a0151fd91dfddcfc99bb01b041c128e5e"><div class="ttname"><a href="namespacellvm_1_1RISCVISD.html#ab68e2d65ea9915ffaac8334a3b8bf882a0151fd91dfddcfc99bb01b041c128e5e">llvm::RISCVISD::SRLW</a></div><div class="ttdeci">@ SRLW</div><div class="ttdef"><b>Definition:</b> <a href="RISCVISelLowering_8h_source.html#l00067">RISCVISelLowering.h:67</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a9070de8a5c5b71851732c4c54e2ffedf"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9070de8a5c5b71851732c4c54e2ffedf">llvm::ISD::EXTRACT_SUBVECTOR</a></div><div class="ttdeci">@ EXTRACT_SUBVECTOR</div><div class="ttdoc">EXTRACT_SUBVECTOR(VECTOR, IDX) - Returns a subvector from VECTOR.</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00572">ISDOpcodes.h:572</a></div></div>
<div class="ttc" id="anamespacellvm_html_a1a86775f3d85d98a31b2751e1eb348ea"><div class="ttname"><a href="namespacellvm.html#a1a86775f3d85d98a31b2751e1eb348ea">llvm::isNullConstant</a></div><div class="ttdeci">bool isNullConstant(SDValue V)</div><div class="ttdoc">Returns true if V is a constant integer zero.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l10917">SelectionDAG.cpp:10917</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1SendMsg_html_a8594419a4ddfad2c9a79279c490e466d"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">llvm::AMDGPU::SendMsg::Op</a></div><div class="ttdeci">Op</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00357">SIDefines.h:357</a></div></div>
<div class="ttc" id="astructllvm_1_1RISCV_1_1VSXSEGPseudo_html"><div class="ttname"><a href="structllvm_1_1RISCV_1_1VSXSEGPseudo.html">llvm::RISCV::VSXSEGPseudo</a></div><div class="ttdef"><b>Definition:</b> <a href="RISCVISelDAGToDAG_8h_source.html#l00180">RISCVISelDAGToDAG.h:180</a></div></div>
<div class="ttc" id="aRISCVISelLowering_8h_html"><div class="ttname"><a href="RISCVISelLowering_8h.html">RISCVISelLowering.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1RISCVDAGToDAGISel_html_a838f903d98be09e801b17c933b89fe27"><div class="ttname"><a href="classllvm_1_1RISCVDAGToDAGISel.html#a838f903d98be09e801b17c933b89fe27">llvm::RISCVDAGToDAGISel::PostprocessISelDAG</a></div><div class="ttdeci">void PostprocessISelDAG() override</div><div class="ttdoc">PostprocessISelDAG() - This hook allows the target to hack on the graph right after selection.</div><div class="ttdef"><b>Definition:</b> <a href="RISCVISelDAGToDAG_8cpp_source.html#l00152">RISCVISelDAGToDAG.cpp:152</a></div></div>
<div class="ttc" id="aclassllvm_1_1ilist__iterator_html"><div class="ttname"><a href="classllvm_1_1ilist__iterator.html">llvm::ilist_iterator</a></div><div class="ttdoc">Iterator for intrusive lists based on ilist_node.</div><div class="ttdef"><b>Definition:</b> <a href="ilist__iterator_8h_source.html#l00057">ilist_iterator.h:57</a></div></div>
<div class="ttc" id="aMachineFrameInfo_8h_html"><div class="ttname"><a href="MachineFrameInfo_8h.html">MachineFrameInfo.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAG_html_af0f68c9c0e4a38aebd5773f80dd5b716"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#af0f68c9c0e4a38aebd5773f80dd5b716">llvm::SelectionDAG::getEntryNode</a></div><div class="ttdeci">SDValue getEntryNode() const</div><div class="ttdoc">Return the token chain corresponding to the entry of the function.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8h_source.html#l00550">SelectionDAG.h:550</a></div></div>
<div class="ttc" id="anamespacellvm_1_1RISCVVType_html_ad3636219b4d0045029530c6a16c160dc"><div class="ttname"><a href="namespacellvm_1_1RISCVVType.html#ad3636219b4d0045029530c6a16c160dc">llvm::RISCVVType::encodeVTYPE</a></div><div class="ttdeci">unsigned encodeVTYPE(RISCVII::VLMUL VLMUL, unsigned SEW, bool TailAgnostic, bool MaskAgnostic)</div><div class="ttdef"><b>Definition:</b> <a href="RISCVBaseInfo_8cpp_source.html#l00135">RISCVBaseInfo.cpp:135</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAG_html_aa8fca8c414a664c8d1cd44da876b8b3b"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#aa8fca8c414a664c8d1cd44da876b8b3b">llvm::SelectionDAG::getDataLayout</a></div><div class="ttdeci">const DataLayout &amp; getDataLayout() const</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8h_source.html#l00468">SelectionDAG.h:468</a></div></div>
<div class="ttc" id="aclassllvm_1_1RISCVDAGToDAGISel_html_a33d6cba07cd8a3dbff7ae0356c401e47"><div class="ttname"><a href="classllvm_1_1RISCVDAGToDAGISel.html#a33d6cba07cd8a3dbff7ae0356c401e47">llvm::RISCVDAGToDAGISel::selectVLSEGFF</a></div><div class="ttdeci">void selectVLSEGFF(SDNode *Node, bool IsMasked)</div><div class="ttdef"><b>Definition:</b> <a href="RISCVISelDAGToDAG_8cpp_source.html#l00356">RISCVISelDAGToDAG.cpp:356</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAG_html_a9bc12259f8156d068dfb2e91f04f6a06"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#a9bc12259f8156d068dfb2e91f04f6a06">llvm::SelectionDAG::getTargetExtractSubreg</a></div><div class="ttdeci">SDValue getTargetExtractSubreg(int SRIdx, const SDLoc &amp;DL, EVT VT, SDValue Operand)</div><div class="ttdoc">A convenience function for creating TargetInstrInfo::EXTRACT_SUBREG nodes.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l10064">SelectionDAG.cpp:10064</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAGISel_html_a84e771c0f56c984d8ee4a85c0cb46ed3"><div class="ttname"><a href="classllvm_1_1SelectionDAGISel.html#a84e771c0f56c984d8ee4a85c0cb46ed3">llvm::SelectionDAGISel::ReplaceUses</a></div><div class="ttdeci">void ReplaceUses(SDValue F, SDValue T)</div><div class="ttdoc">ReplaceUses - replace all uses of the old node F with the use of the new node T.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGISel_8h_source.html#l00207">SelectionDAGISel.h:207</a></div></div>
<div class="ttc" id="aRISCVISelDAGToDAG_8cpp_html_aa8fec4f2e81732a2262fc2a280b007c1"><div class="ttname"><a href="RISCVISelDAGToDAG_8cpp.html#aa8fec4f2e81732a2262fc2a280b007c1">selectConstantAddr</a></div><div class="ttdeci">static bool selectConstantAddr(SelectionDAG *CurDAG, const SDLoc &amp;DL, const MVT VT, const RISCVSubtarget *Subtarget, SDValue Addr, SDValue &amp;Base, SDValue &amp;Offset)</div><div class="ttdef"><b>Definition:</b> <a href="RISCVISelDAGToDAG_8cpp_source.html#l01941">RISCVISelDAGToDAG.cpp:1941</a></div></div>
<div class="ttc" id="aclassllvm_1_1MVT_html_a330aea6151cae3adaf5e179dcfe87346a04cca8bc12888d0a7238f55a6c550ad0"><div class="ttname"><a href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a04cca8bc12888d0a7238f55a6c550ad0">llvm::MVT::i32</a></div><div class="ttdeci">@ i32</div><div class="ttdef"><b>Definition:</b> <a href="MachineValueType_8h_source.html#l00048">MachineValueType.h:48</a></div></div>
<div class="ttc" id="anamespacellvm_1_1SystemZISD_html_a24fe7decb4ebdd8b4c7a774d65fcaa7ea2de796f751ab625e6fb313aca2375e98"><div class="ttname"><a href="namespacellvm_1_1SystemZISD.html#a24fe7decb4ebdd8b4c7a774d65fcaa7ea2de796f751ab625e6fb313aca2375e98">llvm::SystemZISD::PACK</a></div><div class="ttdeci">@ PACK</div><div class="ttdef"><b>Definition:</b> <a href="SystemZISelLowering_8h_source.html#l00203">SystemZISelLowering.h:203</a></div></div>
<div class="ttc" id="aclassllvm_1_1RISCVSubtarget_html_a6bc41e12851a645259c839ba8974bbe7"><div class="ttname"><a href="classllvm_1_1RISCVSubtarget.html#a6bc41e12851a645259c839ba8974bbe7">llvm::RISCVSubtarget::getXLen</a></div><div class="ttdeci">unsigned getXLen() const</div><div class="ttdef"><b>Definition:</b> <a href="RISCVSubtarget_8h_source.html#l00113">RISCVSubtarget.h:113</a></div></div>
<div class="ttc" id="aclassllvm_1_1SDValue_html"><div class="ttname"><a href="classllvm_1_1SDValue.html">llvm::SDValue</a></div><div class="ttdoc">Unlike LLVM values, Selection DAG nodes may return multiple values as the result of a computation.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l00145">SelectionDAGNodes.h:145</a></div></div>
<div class="ttc" id="aclassllvm_1_1InlineAsm_html_a9e020cbab32f9a2ec3f777d603dd34baa63f9eb7f82b63667dcebcc51b1dea178"><div class="ttname"><a href="classllvm_1_1InlineAsm.html#a9e020cbab32f9a2ec3f777d603dd34baa63f9eb7f82b63667dcebcc51b1dea178">llvm::InlineAsm::Constraint_m</a></div><div class="ttdeci">@ Constraint_m</div><div class="ttdef"><b>Definition:</b> <a href="InlineAsm_8h_source.html#l00259">InlineAsm.h:259</a></div></div>
<div class="ttc" id="aclassllvm_1_1SDNode_html_a7f06dbaee5fa2b239de548d0a775b25b"><div class="ttname"><a href="classllvm_1_1SDNode.html#a7f06dbaee5fa2b239de548d0a775b25b">llvm::SDNode::getNumValues</a></div><div class="ttdeci">unsigned getNumValues() const</div><div class="ttdoc">Return the number of values defined/returned by this operator.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l00983">SelectionDAGNodes.h:983</a></div></div>
<div class="ttc" id="aclassllvm_1_1RISCVTargetLowering_html"><div class="ttname"><a href="classllvm_1_1RISCVTargetLowering.html">llvm::RISCVTargetLowering</a></div><div class="ttdef"><b>Definition:</b> <a href="RISCVISelLowering_8h_source.html#l00342">RISCVISelLowering.h:342</a></div></div>
<div class="ttc" id="anamespacellvm_html_a239abca11deebf2731206dd41cf43c0e"><div class="ttname"><a href="namespacellvm.html#a239abca11deebf2731206dd41cf43c0e">llvm::countr_one</a></div><div class="ttdeci">int countr_one(T Value)</div><div class="ttdoc">Count the number of ones from the least significant bit to the first zero bit.</div><div class="ttdef"><b>Definition:</b> <a href="bit_8h_source.html#l00271">bit.h:271</a></div></div>
<div class="ttc" id="anamespacellvm_html_a66191f0bcc8c62b784819e9e96ceeba2"><div class="ttname"><a href="namespacellvm.html#a66191f0bcc8c62b784819e9e96ceeba2">llvm::countl_zero</a></div><div class="ttdeci">int countl_zero(T Val)</div><div class="ttdoc">Count number of 0's from the most significant bit to the least stopping at the first 1.</div><div class="ttdef"><b>Definition:</b> <a href="bit_8h_source.html#l00245">bit.h:245</a></div></div>
<div class="ttc" id="anamespacellvm_1_1RISCVMatInt_html_a3c9bceaea514f7c01e87dcb184d3c972ae68f4b6898bb293ac94508474ccd7265"><div class="ttname"><a href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972ae68f4b6898bb293ac94508474ccd7265">llvm::RISCVMatInt::RegReg</a></div><div class="ttdeci">@ RegReg</div><div class="ttdef"><b>Definition:</b> <a href="RISCVMatInt_8h_source.html#l00024">RISCVMatInt.h:24</a></div></div>
<div class="ttc" id="anamespacellvm_1_1XCoreISD_html_a34e7964aa899176244e03cb7b1fc5985a5f16d1c5f09829a27d169eeda4d60a5f"><div class="ttname"><a href="namespacellvm_1_1XCoreISD.html#a34e7964aa899176244e03cb7b1fc5985a5f16d1c5f09829a27d169eeda4d60a5f">llvm::XCoreISD::LMUL</a></div><div class="ttdeci">@ LMUL</div><div class="ttdef"><b>Definition:</b> <a href="XCoreISelLowering_8h_source.html#l00059">XCoreISelLowering.h:59</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a047178c3b2c6a5df40ae22a407b8aca9"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a047178c3b2c6a5df40ae22a407b8aca9">llvm::ISD::STORE</a></div><div class="ttdeci">@ STORE</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00966">ISDOpcodes.h:966</a></div></div>
<div class="ttc" id="aclassllvm_1_1RISCVTargetLowering_html_ac27709ca33b27034fb25d6fb83cb5fb1"><div class="ttname"><a href="classllvm_1_1RISCVTargetLowering.html#ac27709ca33b27034fb25d6fb83cb5fb1">llvm::RISCVTargetLowering::getLMUL</a></div><div class="ttdeci">static RISCVII::VLMUL getLMUL(MVT VT)</div><div class="ttdef"><b>Definition:</b> <a href="RISCVISelLowering_8cpp_source.html#l01618">RISCVISelLowering.cpp:1618</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1Hwreg_html_a6467ebe1e09a75203dd5f14bdfe21d11"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1Hwreg.html#a6467ebe1e09a75203dd5f14bdfe21d11">llvm::AMDGPU::Hwreg::Width</a></div><div class="ttdeci">Width</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00449">SIDefines.h:449</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">llvm::ISD::ADD</a></div><div class="ttdeci">@ ADD</div><div class="ttdoc">Simple integer binary arithmetic operators.</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00239">ISDOpcodes.h:239</a></div></div>
<div class="ttc" id="anamespacellvm_1_1RISCVISD_html_ab68e2d65ea9915ffaac8334a3b8bf882a3d046b0b663cacd2116c6d35498ab5ab"><div class="ttname"><a href="namespacellvm_1_1RISCVISD.html#ab68e2d65ea9915ffaac8334a3b8bf882a3d046b0b663cacd2116c6d35498ab5ab">llvm::RISCVISD::VFMV_V_F_VL</a></div><div class="ttdeci">@ VFMV_V_F_VL</div><div class="ttdef"><b>Definition:</b> <a href="RISCVISelLowering_8h_source.html#l00139">RISCVISelLowering.h:139</a></div></div>
<div class="ttc" id="aclassllvm_1_1SDValue_html_a1c861a21f795c3108ab690f3a45c881a"><div class="ttname"><a href="classllvm_1_1SDValue.html#a1c861a21f795c3108ab690f3a45c881a">llvm::SDValue::isUndef</a></div><div class="ttdeci">bool isUndef() const</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l01177">SelectionDAGNodes.h:1177</a></div></div>
<div class="ttc" id="aRISCVInsertVSETVLI_8cpp_html_aae7423532c298de53bc19b1d8118418c"><div class="ttname"><a href="RISCVInsertVSETVLI_8cpp.html#aae7423532c298de53bc19b1d8118418c">VLMul</a></div><div class="ttdeci">RISCVII::VLMUL VLMul</div><div class="ttdef"><b>Definition:</b> <a href="RISCVInsertVSETVLI_8cpp_source.html#l00679">RISCVInsertVSETVLI.cpp:679</a></div></div>
<div class="ttc" id="anamespacellvm_1_1RISCVMatInt_html_a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c"><div class="ttname"><a href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">llvm::RISCVMatInt::Imm</a></div><div class="ttdeci">@ Imm</div><div class="ttdef"><b>Definition:</b> <a href="RISCVMatInt_8h_source.html#l00023">RISCVMatInt.h:23</a></div></div>
<div class="ttc" id="aclassllvm_1_1RISCVDAGToDAGISel_html_a92a75fbae3b487187668a2099271d1a0"><div class="ttname"><a href="classllvm_1_1RISCVDAGToDAGISel.html#a92a75fbae3b487187668a2099271d1a0">llvm::RISCVDAGToDAGISel::tryShrinkShlLogicImm</a></div><div class="ttdeci">bool tryShrinkShlLogicImm(SDNode *Node)</div><div class="ttdef"><b>Definition:</b> <a href="RISCVISelDAGToDAG_8cpp_source.html#l00586">RISCVISelDAGToDAG.cpp:586</a></div></div>
<div class="ttc" id="aclassllvm_1_1SDNode_html_aee6bd1fd282469b3476efce4b707f09a"><div class="ttname"><a href="classllvm_1_1SDNode.html#aee6bd1fd282469b3476efce4b707f09a">llvm::SDNode::op_begin</a></div><div class="ttdeci">op_iterator op_begin() const</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l00928">SelectionDAGNodes.h:928</a></div></div>
<div class="ttc" id="anamespacellvm_html_a57d2f9ee99e9e68cff564d0d579c8163"><div class="ttname"><a href="namespacellvm.html#a57d2f9ee99e9e68cff564d0d579c8163">llvm::countr_zero</a></div><div class="ttdeci">int countr_zero(T Val)</div><div class="ttdoc">Count number of 0's from the least significant bit to the most stopping at the first 1.</div><div class="ttdef"><b>Definition:</b> <a href="bit_8h_source.html#l00179">bit.h:179</a></div></div>
<div class="ttc" id="aRISCVInsertVSETVLI_8cpp_html_ac4786fefd4d527c4c601f237a6d67919"><div class="ttname"><a href="RISCVInsertVSETVLI_8cpp.html#ac4786fefd4d527c4c601f237a6d67919">SEW</a></div><div class="ttdeci">unsigned SEW</div><div class="ttdef"><b>Definition:</b> <a href="RISCVInsertVSETVLI_8cpp_source.html#l00683">RISCVInsertVSETVLI.cpp:683</a></div></div>
<div class="ttc" id="anamespacellvm_1_1RISCVII_html_ab335a6694bd42d4d2f807ec281af1e1ca61d90764106d2ac6346f4bc1ae1bd3fd"><div class="ttname"><a href="namespacellvm_1_1RISCVII.html#ab335a6694bd42d4d2f807ec281af1e1ca61d90764106d2ac6346f4bc1ae1bd3fd">llvm::RISCVII::LMUL_F8</a></div><div class="ttdeci">@ LMUL_F8</div><div class="ttdef"><b>Definition:</b> <a href="RISCVBaseInfo_8h_source.html#l00126">RISCVBaseInfo.h:126</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a8cc94e03dea594863073a02f5bb94997"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a8cc94e03dea594863073a02f5bb94997">llvm::ISD::SHL</a></div><div class="ttdeci">@ SHL</div><div class="ttdoc">Shift and rotation operations.</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00691">ISDOpcodes.h:691</a></div></div>
<div class="ttc" id="astructllvm_1_1MachinePointerInfo_html_ad8ce1aee13dbdcc05d20284a30e83170"><div class="ttname"><a href="structllvm_1_1MachinePointerInfo.html#ad8ce1aee13dbdcc05d20284a30e83170">llvm::MachinePointerInfo::getFixedStack</a></div><div class="ttdeci">static MachinePointerInfo getFixedStack(MachineFunction &amp;MF, int FI, int64_t Offset=0)</div><div class="ttdoc">Return a MachinePointerInfo record that refers to the specified FrameIndex.</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8cpp_source.html#l01049">MachineOperand.cpp:1049</a></div></div>
<div class="ttc" id="aclassllvm_1_1RISCVMatInt_1_1Inst_html"><div class="ttname"><a href="classllvm_1_1RISCVMatInt_1_1Inst.html">llvm::RISCVMatInt::Inst</a></div><div class="ttdef"><b>Definition:</b> <a href="RISCVMatInt_8h_source.html#l00028">RISCVMatInt.h:28</a></div></div>
<div class="ttc" id="anamespacellvm_1_1RISCVMatInt_html_a3c9bceaea514f7c01e87dcb184d3c972affd2828f91e95f9731181bb5b8e4f9ac"><div class="ttname"><a href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972affd2828f91e95f9731181bb5b8e4f9ac">llvm::RISCVMatInt::RegImm</a></div><div class="ttdeci">@ RegImm</div><div class="ttdef"><b>Definition:</b> <a href="RISCVMatInt_8h_source.html#l00022">RISCVMatInt.h:22</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">llvm::ISD::MUL</a></div><div class="ttdeci">@ MUL</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00241">ISDOpcodes.h:241</a></div></div>
<div class="ttc" id="aclassllvm_1_1SDValue_html_abb7cd0abf43d415da943eb8e4fe4f01b"><div class="ttname"><a href="classllvm_1_1SDValue.html#abb7cd0abf43d415da943eb8e4fe4f01b">llvm::SDValue::getConstantOperandAPInt</a></div><div class="ttdeci">const APInt &amp; getConstantOperandAPInt(unsigned i) const</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l01157">SelectionDAGNodes.h:1157</a></div></div>
<div class="ttc" id="aclassllvm_1_1MVT_html_a330aea6151cae3adaf5e179dcfe87346a1e0cfc795f0b068229dcec6eecb69499"><div class="ttname"><a href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a1e0cfc795f0b068229dcec6eecb69499">llvm::MVT::f16</a></div><div class="ttdeci">@ f16</div><div class="ttdef"><b>Definition:</b> <a href="MachineValueType_8h_source.html#l00056">MachineValueType.h:56</a></div></div>
<div class="ttc" id="aclassllvm_1_1SDNode_html_a7c6beebf86835d6582b0550cd7731ee9"><div class="ttname"><a href="classllvm_1_1SDNode.html#a7c6beebf86835d6582b0550cd7731ee9">llvm::SDNode::hasPredecessorHelper</a></div><div class="ttdeci">static bool hasPredecessorHelper(const SDNode *N, SmallPtrSetImpl&lt; const SDNode * &gt; &amp;Visited, SmallVectorImpl&lt; const SDNode * &gt; &amp;Worklist, unsigned int MaxSteps=0, bool TopologicalPrune=false)</div><div class="ttdoc">Returns true if N is a predecessor of any node in Worklist.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l00849">SelectionDAGNodes.h:849</a></div></div>
<div class="ttc" id="aregcomp_8c_html_a0240ac851181b84ac374872dc5434ee4"><div class="ttname"><a href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a></div><div class="ttdeci">#define N</div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a3c6553c8acebe1b57c211ee45e2d8f98"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a3c6553c8acebe1b57c211ee45e2d8f98">llvm::ISD::SRL</a></div><div class="ttdeci">@ SRL</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00693">ISDOpcodes.h:693</a></div></div>
<div class="ttc" id="aRISCVMachineFunctionInfo_8h_html"><div class="ttname"><a href="RISCVMachineFunctionInfo_8h.html">RISCVMachineFunctionInfo.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1RISCVDAGToDAGISel_html_a656b650a40d5acec00fc5a95ed5c71af"><div class="ttname"><a href="classllvm_1_1RISCVDAGToDAGISel.html#a656b650a40d5acec00fc5a95ed5c71af">llvm::RISCVDAGToDAGISel::selectRVVSimm5</a></div><div class="ttdeci">bool selectRVVSimm5(SDValue N, unsigned Width, SDValue &amp;Imm)</div><div class="ttdef"><b>Definition:</b> <a href="RISCVISelDAGToDAG_8cpp_source.html#l02630">RISCVISelDAGToDAG.cpp:2630</a></div></div>
<div class="ttc" id="aclassllvm_1_1ArrayRef_html_a85ffb6531d4cda988ea81f18d4e56fb7"><div class="ttname"><a href="classllvm_1_1ArrayRef.html#a85ffb6531d4cda988ea81f18d4e56fb7">llvm::ArrayRef::size</a></div><div class="ttdeci">size_t size() const</div><div class="ttdoc">size - Get the array size.</div><div class="ttdef"><b>Definition:</b> <a href="ArrayRef_8h_source.html#l00163">ArrayRef.h:163</a></div></div>
<div class="ttc" id="anamespacellvm_1_1RISCVII_html_ab335a6694bd42d4d2f807ec281af1e1caea5ed9248acd465f986c64e15db529e5"><div class="ttname"><a href="namespacellvm_1_1RISCVII.html#ab335a6694bd42d4d2f807ec281af1e1caea5ed9248acd465f986c64e15db529e5">llvm::RISCVII::LMUL_F4</a></div><div class="ttdeci">@ LMUL_F4</div><div class="ttdef"><b>Definition:</b> <a href="RISCVBaseInfo_8h_source.html#l00127">RISCVBaseInfo.h:127</a></div></div>
<div class="ttc" id="aclassllvm_1_1RISCVDAGToDAGISel_html_a7d60a41c0d5e450f770042d3427928d0"><div class="ttname"><a href="classllvm_1_1RISCVDAGToDAGISel.html#a7d60a41c0d5e450f770042d3427928d0">llvm::RISCVDAGToDAGISel::Select</a></div><div class="ttdeci">void Select(SDNode *Node) override</div><div class="ttdoc">Main hook for targets to transform nodes into machine nodes.</div><div class="ttdef"><b>Definition:</b> <a href="RISCVISelDAGToDAG_8cpp_source.html#l00664">RISCVISelDAGToDAG.cpp:664</a></div></div>
<div class="ttc" id="anamespacellvm_1_1RISCVII_html_ab335a6694bd42d4d2f807ec281af1e1c"><div class="ttname"><a href="namespacellvm_1_1RISCVII.html#ab335a6694bd42d4d2f807ec281af1e1c">llvm::RISCVII::VLMUL</a></div><div class="ttdeci">VLMUL</div><div class="ttdef"><b>Definition:</b> <a href="RISCVBaseInfo_8h_source.html#l00120">RISCVBaseInfo.h:120</a></div></div>
<div class="ttc" id="aclassllvm_1_1MVT_html_a330aea6151cae3adaf5e179dcfe87346a707dc1fd6a4179316ffa6ca2516e18dc"><div class="ttname"><a href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a707dc1fd6a4179316ffa6ca2516e18dc">llvm::MVT::Untyped</a></div><div class="ttdeci">@ Untyped</div><div class="ttdef"><b>Definition:</b> <a href="MachineValueType_8h_source.html#l00286">MachineValueType.h:286</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVectorImpl_html"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html">llvm::SmallVectorImpl</a></div><div class="ttdoc">This class consists of common code factored out of the SmallVector class to reduce code duplication b...</div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8h_source.html#l00042">APFloat.h:42</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a8a80d3b085af08f0dce1724207ef99b5"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a8a80d3b085af08f0dce1724207ef99b5">llvm::ISD::MULHU</a></div><div class="ttdeci">@ MULHU</div><div class="ttdoc">MULHU/MULHS - Multiply high - Multiply two integers of type iN, producing an unsigned/signed value of...</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00637">ISDOpcodes.h:637</a></div></div>
<div class="ttc" id="aclassllvm_1_1SDValue_html_ae779a9d142e6318d8fb0e4f0da32af0f"><div class="ttname"><a href="classllvm_1_1SDValue.html#ae779a9d142e6318d8fb0e4f0da32af0f">llvm::SDValue::getOpcode</a></div><div class="ttdeci">unsigned getOpcode() const</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l01137">SelectionDAGNodes.h:1137</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAG_html_abf892d1e00a3d79026c5ab518c187c45"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#abf892d1e00a3d79026c5ab518c187c45">llvm::SelectionDAG::getTargetConstant</a></div><div class="ttdeci">SDValue getTargetConstant(uint64_t Val, const SDLoc &amp;DL, EVT VT, bool isOpaque=false)</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8h_source.html#l00671">SelectionDAG.h:671</a></div></div>
<div class="ttc" id="aRISCVISelDAGToDAG_8cpp_html_a2b20fa727cb3be2d7338de943bc81490"><div class="ttname"><a href="RISCVISelDAGToDAG_8cpp.html#a2b20fa727cb3be2d7338de943bc81490">selectImm</a></div><div class="ttdeci">static SDValue selectImm(SelectionDAG *CurDAG, const SDLoc &amp;DL, const MVT VT, int64_t Imm, const RISCVSubtarget &amp;Subtarget)</div><div class="ttdef"><b>Definition:</b> <a href="RISCVISelDAGToDAG_8cpp_source.html#l00204">RISCVISelDAGToDAG.cpp:204</a></div></div>
<div class="ttc" id="aPassBuilderBindings_8cpp_html_ab76052bb166c65901edb603a3e1f03ab"><div class="ttname"><a href="PassBuilderBindings_8cpp.html#ab76052bb166c65901edb603a3e1f03ab">TM</a></div><div class="ttdeci">const char LLVMTargetMachineRef TM</div><div class="ttdef"><b>Definition:</b> <a href="PassBuilderBindings_8cpp_source.html#l00047">PassBuilderBindings.cpp:47</a></div></div>
<div class="ttc" id="aRISCVISelDAGToDAG_8cpp_html_a65de6a0211fe43724926daf85c835e25"><div class="ttname"><a href="RISCVISelDAGToDAG_8cpp.html#a65de6a0211fe43724926daf85c835e25">getLastNonGlueOrChainOpIdx</a></div><div class="ttdeci">static unsigned getLastNonGlueOrChainOpIdx(const SDNode *Node)</div><div class="ttdef"><b>Definition:</b> <a href="RISCVISelDAGToDAG_8cpp_source.html#l00044">RISCVISelDAGToDAG.cpp:44</a></div></div>
<div class="ttc" id="aclassllvm_1_1FunctionPass_html"><div class="ttname"><a href="classllvm_1_1FunctionPass.html">llvm::FunctionPass</a></div><div class="ttdoc">FunctionPass class - This class is used to implement most global optimizations.</div><div class="ttdef"><b>Definition:</b> <a href="Pass_8h_source.html#l00308">Pass.h:308</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110afc09e0bddd693dcf9923e4df42473bd9"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110afc09e0bddd693dcf9923e4df42473bd9">llvm::ISD::INTRINSIC_W_CHAIN</a></div><div class="ttdeci">@ INTRINSIC_W_CHAIN</div><div class="ttdoc">RESULT,OUTCHAIN = INTRINSIC_W_CHAIN(INCHAIN, INTRINSICID, arg1, ...) This node represents a target in...</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00192">ISDOpcodes.h:192</a></div></div>
<div class="ttc" id="aRISCVISelDAGToDAG_8cpp_html_a8ba64312e06ecc1161e8da80e17fc4f5"><div class="ttname"><a href="RISCVISelDAGToDAG_8cpp.html#a8ba64312e06ecc1161e8da80e17fc4f5">CASE_VMXOR_VMANDN_VMOR_OPCODES</a></div><div class="ttdeci">#define CASE_VMXOR_VMANDN_VMOR_OPCODES(lmulenum, suffix)</div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAG_html_aaa0193582f1fc99e3e6a3fc5abcb37bf"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#aaa0193582f1fc99e3e6a3fc5abcb37bf">llvm::SelectionDAG::getMachineFunction</a></div><div class="ttdeci">MachineFunction &amp; getMachineFunction() const</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8h_source.html#l00465">SelectionDAG.h:465</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAG_html_ac01c66c983bfbac05a0cf903f08417df"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#ac01c66c983bfbac05a0cf903f08417df">llvm::SelectionDAG::ComputeNumSignBits</a></div><div class="ttdeci">unsigned ComputeNumSignBits(SDValue Op, unsigned Depth=0) const</div><div class="ttdoc">Return the number of times the sign bit of the register is replicated into the other bits.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l04009">SelectionDAG.cpp:4009</a></div></div>
<div class="ttc" id="anamespacellvm_1_1RISCVII_html_a37a1bcf13a6c2eabcd36153b3abb5800"><div class="ttname"><a href="namespacellvm_1_1RISCVII.html#a37a1bcf13a6c2eabcd36153b3abb5800">llvm::RISCVII::hasDummyMaskOp</a></div><div class="ttdeci">static bool hasDummyMaskOp(uint64_t TSFlags)</div><div class="ttdef"><b>Definition:</b> <a href="RISCVBaseInfo_8h_source.html#l00152">RISCVBaseInfo.h:152</a></div></div>
<div class="ttc" id="anamespacellvm_1_1CodeGenOpt_html_ad7e52174abb1cfb84238ad1ac475ee36"><div class="ttname"><a href="namespacellvm_1_1CodeGenOpt.html#ad7e52174abb1cfb84238ad1ac475ee36">llvm::CodeGenOpt::Level</a></div><div class="ttdeci">Level</div><div class="ttdoc">Code generation optimization level.</div><div class="ttdef"><b>Definition:</b> <a href="CodeGen_8h_source.html#l00057">CodeGen.h:57</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCInstrInfo_html_a0587abbded61717d8a153b7e5bfdbfed"><div class="ttname"><a href="classllvm_1_1MCInstrInfo.html#a0587abbded61717d8a153b7e5bfdbfed">llvm::MCInstrInfo::get</a></div><div class="ttdeci">const MCInstrDesc &amp; get(unsigned Opcode) const</div><div class="ttdoc">Return the machine instruction descriptor that corresponds to the specified instruction opcode.</div><div class="ttdef"><b>Definition:</b> <a href="MCInstrInfo_8h_source.html#l00063">MCInstrInfo.h:63</a></div></div>
<div class="ttc" id="anamespacellvm_html_a82a9558b6319303ae62f59dab9669685"><div class="ttname"><a href="namespacellvm.html#a82a9558b6319303ae62f59dab9669685">llvm::isMask_64</a></div><div class="ttdeci">constexpr bool isMask_64(uint64_t Value)</div><div class="ttdoc">Return true if the argument is a non-empty sequence of ones starting at the least significant bit wit...</div><div class="ttdef"><b>Definition:</b> <a href="MathExtras_8h_source.html#l00274">MathExtras.h:274</a></div></div>
<div class="ttc" id="anamespacellvm_1_1RISCVISD_html_ab68e2d65ea9915ffaac8334a3b8bf882aa282e2548f435b7fdd280b478a3623aa"><div class="ttname"><a href="namespacellvm_1_1RISCVISD.html#ab68e2d65ea9915ffaac8334a3b8bf882aa282e2548f435b7fdd280b478a3623aa">llvm::RISCVISD::SPLAT_VECTOR_SPLIT_I64_VL</a></div><div class="ttdeci">@ SPLAT_VECTOR_SPLIT_I64_VL</div><div class="ttdef"><b>Definition:</b> <a href="RISCVISelLowering_8h_source.html#l00150">RISCVISelLowering.h:150</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_aeaf22e8d92fd978a5eca9ab031994399"><div class="ttname"><a href="classllvm_1_1APInt.html#aeaf22e8d92fd978a5eca9ab031994399">llvm::APInt::getBitsSetFrom</a></div><div class="ttdeci">static APInt getBitsSetFrom(unsigned numBits, unsigned loBit)</div><div class="ttdoc">Constructs an APInt value that has a contiguous range of bits set.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00269">APInt.h:269</a></div></div>
<div class="ttc" id="aclassllvm_1_1User_html_abe1de1520a21f77ac57cc210bf0fb0b4"><div class="ttname"><a href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">llvm::User::getOperand</a></div><div class="ttdeci">Value * getOperand(unsigned i) const</div><div class="ttdef"><b>Definition:</b> <a href="User_8h_source.html#l00169">User.h:169</a></div></div>
<div class="ttc" id="anamespacellvm_html_a58328e0582aabaf012bf9bc6f36c9e04"><div class="ttname"><a href="namespacellvm.html#a58328e0582aabaf012bf9bc6f36c9e04">llvm::M1</a></div><div class="ttdeci">unsigned M1(unsigned Val)</div><div class="ttdef"><b>Definition:</b> <a href="VE_8h_source.html#l00468">VE.h:468</a></div></div>
<div class="ttc" id="araw__ostream_8h_html"><div class="ttname"><a href="raw__ostream_8h.html">raw_ostream.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1SDValue_html_a75627d4da511ed986e105457709de4ae"><div class="ttname"><a href="classllvm_1_1SDValue.html#a75627d4da511ed986e105457709de4ae">llvm::SDValue::isMachineOpcode</a></div><div class="ttdeci">bool isMachineOpcode() const</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l01169">SelectionDAGNodes.h:1169</a></div></div>
<div class="ttc" id="aclassllvm_1_1APFloat_html_ad57f69ac4fa1d889dc657d52e8a51ef1"><div class="ttname"><a href="classllvm_1_1APFloat.html#ad57f69ac4fa1d889dc657d52e8a51ef1">llvm::APFloat::isNegZero</a></div><div class="ttdeci">bool isNegZero() const</div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8h_source.html#l01271">APFloat.h:1271</a></div></div>
<div class="ttc" id="aclassllvm_1_1RISCVDAGToDAGISel_html_af9a2bb077674a4de01b665b694b7f77f"><div class="ttname"><a href="classllvm_1_1RISCVDAGToDAGISel.html#af9a2bb077674a4de01b665b694b7f77f">llvm::RISCVDAGToDAGISel::selectSHXADDOp</a></div><div class="ttdeci">bool selectSHXADDOp(SDValue N, unsigned ShAmt, SDValue &amp;Val)</div><div class="ttdoc">Look for various patterns that can be done with a SHL that can be folded into a SHXADD.</div><div class="ttdef"><b>Definition:</b> <a href="RISCVISelDAGToDAG_8cpp_source.html#l02218">RISCVISelDAGToDAG.cpp:2218</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantFPSDNode_html_ae7c1495127814fa2191507b92191446d"><div class="ttname"><a href="classllvm_1_1ConstantFPSDNode.html#ae7c1495127814fa2191507b92191446d">llvm::ConstantFPSDNode::getValueAPF</a></div><div class="ttdeci">const APFloat &amp; getValueAPF() const</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l01646">SelectionDAGNodes.h:1646</a></div></div>
<div class="ttc" id="aclassllvm_1_1SDNode_html_a5023bb0687db0b35d3b2d19327217ce5"><div class="ttname"><a href="classllvm_1_1SDNode.html#a5023bb0687db0b35d3b2d19327217ce5">llvm::SDNode::getFlags</a></div><div class="ttdeci">SDNodeFlags getFlags() const</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l00972">SelectionDAGNodes.h:972</a></div></div>
<div class="ttc" id="astructllvm_1_1RISCV_1_1VLEPseudo_html"><div class="ttname"><a href="structllvm_1_1RISCV_1_1VLEPseudo.html">llvm::RISCV::VLEPseudo</a></div><div class="ttdef"><b>Definition:</b> <a href="RISCVISelDAGToDAG_8h_source.html#l00190">RISCVISelDAGToDAG.h:190</a></div></div>
<div class="ttc" id="aclassllvm_1_1MVT_html_a330aea6151cae3adaf5e179dcfe87346a586bae91020e6d8cccfe0995f527606f"><div class="ttname"><a href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a586bae91020e6d8cccfe0995f527606f">llvm::MVT::f32</a></div><div class="ttdeci">@ f32</div><div class="ttdef"><b>Definition:</b> <a href="MachineValueType_8h_source.html#l00057">MachineValueType.h:57</a></div></div>
<div class="ttc" id="aclassllvm_1_1RISCVDAGToDAGISel_html_a5bd868d175a4cfe28c31e8bd58380090"><div class="ttname"><a href="classllvm_1_1RISCVDAGToDAGISel.html#a5bd868d175a4cfe28c31e8bd58380090">llvm::RISCVDAGToDAGISel::hasAllHUsers</a></div><div class="ttdeci">bool hasAllHUsers(SDNode *Node) const</div><div class="ttdef"><b>Definition:</b> <a href="RISCVISelDAGToDAG_8h_source.html#l00084">RISCVISelDAGToDAG.h:84</a></div></div>
<div class="ttc" id="aRISCVISelDAGToDAG_8cpp_html_ac56435fa9036dc9fd2c1af7f56d1d31c"><div class="ttname"><a href="RISCVISelDAGToDAG_8cpp.html#ac56435fa9036dc9fd2c1af7f56d1d31c">ValidateFn</a></div><div class="ttdeci">bool(*)(int64_t) ValidateFn</div><div class="ttdef"><b>Definition:</b> <a href="RISCVISelDAGToDAG_8cpp_source.html#l02540">RISCVISelDAGToDAG.cpp:2540</a></div></div>
<div class="ttc" id="anamespacellvm_1_1RISCVISD_html_ab68e2d65ea9915ffaac8334a3b8bf882a25f265364fd27551b74630b7c3e0cac4"><div class="ttname"><a href="namespacellvm_1_1RISCVISD.html#ab68e2d65ea9915ffaac8334a3b8bf882a25f265364fd27551b74630b7c3e0cac4">llvm::RISCVISD::CTZW</a></div><div class="ttdeci">@ CTZW</div><div class="ttdef"><b>Definition:</b> <a href="RISCVISelLowering_8h_source.html#l00081">RISCVISelLowering.h:81</a></div></div>
<div class="ttc" id="aDebug_8h_html"><div class="ttname"><a href="Debug_8h.html">Debug.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a7c47226f266248f4b8c155b83601b109"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7c47226f266248f4b8c155b83601b109">llvm::ISD::ATOMIC_LOAD</a></div><div class="ttdeci">@ ATOMIC_LOAD</div><div class="ttdoc">Val, OUTCHAIN = ATOMIC_LOAD(INCHAIN, ptr) This corresponds to &quot;load atomic&quot; instruction.</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l01161">ISDOpcodes.h:1161</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLoweringBase_html_a8aabf5d0aa80038973255ff2d1e1a9fc"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase.html#a8aabf5d0aa80038973255ff2d1e1a9fc">llvm::TargetLoweringBase::getPointerTy</a></div><div class="ttdeci">virtual MVT getPointerTy(const DataLayout &amp;DL, uint32_t AS=0) const</div><div class="ttdoc">Return the pointer type for the given address space, defaults to the pointer type from the data layou...</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l00365">TargetLowering.h:365</a></div></div>
<div class="ttc" id="aRISCVISelDAGToDAG_8cpp_html_a7670193ca11bbf716635a5d98ce13e1c"><div class="ttname"><a href="RISCVISelDAGToDAG_8cpp.html#a7670193ca11bbf716635a5d98ce13e1c">getVecPolicyOpIdx</a></div><div class="ttdeci">static unsigned getVecPolicyOpIdx(const SDNode *Node, const MCInstrDesc &amp;MCID)</div><div class="ttdef"><b>Definition:</b> <a href="RISCVISelDAGToDAG_8cpp_source.html#l00054">RISCVISelDAGToDAG.cpp:54</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110ad469508535ce2082a1ab1f0e429187b8"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad469508535ce2082a1ab1f0e429187b8">llvm::ISD::TokenFactor</a></div><div class="ttdeci">@ TokenFactor</div><div class="ttdoc">TokenFactor - This node takes multiple tokens as input and produces a single token result.</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00052">ISDOpcodes.h:52</a></div></div>
<div class="ttc" id="anamespacellvm_1_1RISCVII_html_ab335a6694bd42d4d2f807ec281af1e1caf5395daef0a34ae8d78919a587eee448"><div class="ttname"><a href="namespacellvm_1_1RISCVII.html#ab335a6694bd42d4d2f807ec281af1e1caf5395daef0a34ae8d78919a587eee448">llvm::RISCVII::LMUL_F2</a></div><div class="ttdeci">@ LMUL_F2</div><div class="ttdef"><b>Definition:</b> <a href="RISCVBaseInfo_8h_source.html#l00128">RISCVBaseInfo.h:128</a></div></div>
<div class="ttc" id="anamespacellvm_1_1sampleprof_html_a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41"><div class="ttname"><a href="namespacellvm_1_1sampleprof.html#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">llvm::sampleprof::Base</a></div><div class="ttdeci">@ Base</div><div class="ttdef"><b>Definition:</b> <a href="Discriminator_8h_source.html#l00058">Discriminator.h:58</a></div></div>
<div class="ttc" id="aclassllvm_1_1Use_html"><div class="ttname"><a href="classllvm_1_1Use.html">llvm::Use</a></div><div class="ttdoc">A Use represents the edge between a Value definition and its users.</div><div class="ttdef"><b>Definition:</b> <a href="Use_8h_source.html#l00043">Use.h:43</a></div></div>
<div class="ttc" id="aclassllvm_1_1RISCVDAGToDAGISel_html_a824579538728c6e67cf9a6191e5894e3"><div class="ttname"><a href="classllvm_1_1RISCVDAGToDAGISel.html#a824579538728c6e67cf9a6191e5894e3">llvm::RISCVDAGToDAGISel::addVectorLoadStoreOperands</a></div><div class="ttdeci">void addVectorLoadStoreOperands(SDNode *Node, unsigned SEWImm, const SDLoc &amp;DL, unsigned CurOp, bool IsMasked, bool IsStridedOrIndexed, SmallVectorImpl&lt; SDValue &gt; &amp;Operands, bool IsLoad=false, MVT *IndexVT=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="RISCVISelDAGToDAG_8cpp_source.html#l00266">RISCVISelDAGToDAG.cpp:266</a></div></div>
<div class="ttc" id="aRISCVISelDAGToDAG_8cpp_html_a5daa9551ef02289813a85753ebec03ef"><div class="ttname"><a href="RISCVISelDAGToDAG_8cpp.html#a5daa9551ef02289813a85753ebec03ef">isAllUndef</a></div><div class="ttdeci">static bool isAllUndef(ArrayRef&lt; SDValue &gt; Values)</div><div class="ttdef"><b>Definition:</b> <a href="RISCVISelDAGToDAG_8cpp_source.html#l00309">RISCVISelDAGToDAG.cpp:309</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Aug 7 2023 10:16:46 for LLVM by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
