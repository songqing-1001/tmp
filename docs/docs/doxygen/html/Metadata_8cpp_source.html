<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LLVM: lib/IR/Metadata.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LLVM
   &#160;<span id="projectnumber">17.0.0git</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_bfcfa2223a05221bedc89835a6573260.html">IR</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Metadata.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="Metadata_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//===- Metadata.cpp - Implement Metadata classes --------------------------===//</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// Part of the LLVM Project, under the Apache License v2.0 with LLVM Exceptions.</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">// See https://llvm.org/LICENSE.txt for license information.</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// SPDX-License-Identifier: Apache-2.0 WITH LLVM-exception</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">// This file implements the Metadata classes.</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160; </div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Metadata_8h.html">llvm/IR/Metadata.h</a>&quot;</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="LLVMContextImpl_8h.html">LLVMContextImpl.h</a>&quot;</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MetadataImpl_8h.html">MetadataImpl.h</a>&quot;</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="APFloat_8h.html">llvm/ADT/APFloat.h</a>&quot;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="APInt_8h.html">llvm/ADT/APInt.h</a>&quot;</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ArrayRef_8h.html">llvm/ADT/ArrayRef.h</a>&quot;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DenseSet_8h.html">llvm/ADT/DenseSet.h</a>&quot;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="STLExtras_8h.html">llvm/ADT/STLExtras.h</a>&quot;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SetVector_8h.html">llvm/ADT/SetVector.h</a>&quot;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SmallPtrSet_8h.html">llvm/ADT/SmallPtrSet.h</a>&quot;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SmallSet_8h.html">llvm/ADT/SmallSet.h</a>&quot;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SmallVector_8h.html">llvm/ADT/SmallVector.h</a>&quot;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ADT_2StringMap_8h.html">llvm/ADT/StringMap.h</a>&quot;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="StringRef_8h.html">llvm/ADT/StringRef.h</a>&quot;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Twine_8h.html">llvm/ADT/Twine.h</a>&quot;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Argument_8h.html">llvm/IR/Argument.h</a>&quot;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="BasicBlock_8h.html">llvm/IR/BasicBlock.h</a>&quot;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Constant_8h.html">llvm/IR/Constant.h</a>&quot;</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ConstantRange_8h.html">llvm/IR/ConstantRange.h</a>&quot;</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Constants_8h.html">llvm/IR/Constants.h</a>&quot;</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DebugInfoMetadata_8h.html">llvm/IR/DebugInfoMetadata.h</a>&quot;</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DebugLoc_8h.html">llvm/IR/DebugLoc.h</a>&quot;</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Function_8h.html">llvm/IR/Function.h</a>&quot;</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="GlobalObject_8h.html">llvm/IR/GlobalObject.h</a>&quot;</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="GlobalVariable_8h.html">llvm/IR/GlobalVariable.h</a>&quot;</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="IR_2Instruction_8h.html">llvm/IR/Instruction.h</a>&quot;</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="LLVMContext_8h.html">llvm/IR/LLVMContext.h</a>&quot;</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MDBuilder_8h.html">llvm/IR/MDBuilder.h</a>&quot;</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Module_8h.html">llvm/IR/Module.h</a>&quot;</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ProfDataUtils_8h.html">llvm/IR/ProfDataUtils.h</a>&quot;</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TrackingMDRef_8h.html">llvm/IR/TrackingMDRef.h</a>&quot;</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Type_8h.html">llvm/IR/Type.h</a>&quot;</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Value_8h.html">llvm/IR/Value.h</a>&quot;</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Casting_8h.html">llvm/Support/Casting.h</a>&quot;</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Support_2ErrorHandling_8h.html">llvm/Support/ErrorHandling.h</a>&quot;</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MathExtras_8h.html">llvm/Support/MathExtras.h</a>&quot;</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="preprocessor">#include &lt;algorithm&gt;</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="preprocessor">#include &lt;cassert&gt;</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="preprocessor">#include &lt;cstddef&gt;</span></div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="preprocessor">#include &lt;cstdint&gt;</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="preprocessor">#include &lt;type_traits&gt;</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="preprocessor">#include &lt;utility&gt;</span></div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="preprocessor">#include &lt;vector&gt;</span></div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160; </div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacellvm.html">llvm</a>;</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160; </div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;MetadataAsValue::MetadataAsValue(<a class="code" href="classllvm_1_1Type.html">Type</a> *Ty, <a class="code" href="classllvm_1_1Metadata.html">Metadata</a> *MD)</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    : <a class="code" href="classllvm_1_1Value.html">Value</a>(Ty, MetadataAsValueVal), MD(MD) {</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;  track();</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;}</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160; </div>
<div class="line"><a name="l00064"></a><span class="lineno"><a class="line" href="classllvm_1_1MetadataAsValue.html#aa8f5b66c1e3e1c2f0740764818920442">   64</a></span>&#160;<a class="code" href="classllvm_1_1MetadataAsValue.html#aa8f5b66c1e3e1c2f0740764818920442">MetadataAsValue::~MetadataAsValue</a>() {</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;  <a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a0566221f10834bfcea70965379745a20">getContext</a>().<a class="code" href="classllvm_1_1LLVMContext.html#aa142c8c536b95dd8e8a243cb67b57a80">pImpl</a>-&gt;<a class="code" href="classllvm_1_1LLVMContextImpl.html#a0f84a0b5ee0bc1f89540f7dac8cf80a0">MetadataAsValues</a>.erase(MD);</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;  untrack();</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;}</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="comment">/// Canonicalize metadata arguments to intrinsics.</span></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="comment">/// To support bitcode upgrades (and assembly semantic sugar) for \a</span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="comment">/// MetadataAsValue, we need to canonicalize certain metadata.</span></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="comment">///   - nullptr is replaced by an empty MDNode.</span></div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="comment">///   - An MDNode with a single null operand is replaced by an empty MDNode.</span></div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="comment">///   - An MDNode whose only operand is a \a ConstantAsMetadata gets skipped.</span></div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="comment">/// This maintains readability of bitcode from when metadata was a type of</span></div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="comment">/// value, and these bridges were unnecessary.</span></div>
<div class="line"><a name="l00080"></a><span class="lineno"><a class="line" href="Metadata_8cpp.html#a3b814c4630061d7c868d33d78aa68d32">   80</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1Metadata.html">Metadata</a> *<a class="code" href="Metadata_8cpp.html#a3b814c4630061d7c868d33d78aa68d32">canonicalizeMetadataForValue</a>(<a class="code" href="classllvm_1_1LLVMContext.html">LLVMContext</a> &amp;<a class="code" href="NVVMIntrRange_8cpp.html#afad351d7bf10ac0446b64e7827634e94">Context</a>,</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;                                              <a class="code" href="classllvm_1_1Metadata.html">Metadata</a> *MD) {</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;  <span class="keywordflow">if</span> (!MD)</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <span class="comment">// !{}</span></div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1MDNode.html#a7d10a7b9b7f40b04d27ed97c38ea1950">MDNode::get</a>(<a class="code" href="NVVMIntrRange_8cpp.html#afad351d7bf10ac0446b64e7827634e94">Context</a>, std::nullopt);</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160; </div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;  <span class="comment">// Return early if this isn&#39;t a single-operand MDNode.</span></div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;  <span class="keyword">auto</span> *<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> = dyn_cast&lt;MDNode&gt;(MD);</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> || <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getNumOperands() != 1)</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    <span class="keywordflow">return</span> MD;</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160; </div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(0))</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    <span class="comment">// !{}</span></div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1MDNode.html#a7d10a7b9b7f40b04d27ed97c38ea1950">MDNode::get</a>(<a class="code" href="NVVMIntrRange_8cpp.html#afad351d7bf10ac0446b64e7827634e94">Context</a>, std::nullopt);</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160; </div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = dyn_cast&lt;ConstantAsMetadata&gt;(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(0)))</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    <span class="comment">// Look through the MDNode.</span></div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>;</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160; </div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;  <span class="keywordflow">return</span> MD;</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;}</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160; </div>
<div class="line"><a name="l00102"></a><span class="lineno"><a class="line" href="classllvm_1_1MetadataAsValue.html#a3188a1aa0df768d8f254cd8d8fdeface">  102</a></span>&#160;<a class="code" href="classllvm_1_1MetadataAsValue.html">MetadataAsValue</a> *<a class="code" href="classllvm_1_1MetadataAsValue.html#a3188a1aa0df768d8f254cd8d8fdeface">MetadataAsValue::get</a>(<a class="code" href="classllvm_1_1LLVMContext.html">LLVMContext</a> &amp;<a class="code" href="NVVMIntrRange_8cpp.html#afad351d7bf10ac0446b64e7827634e94">Context</a>, <a class="code" href="classllvm_1_1Metadata.html">Metadata</a> *MD) {</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;  MD = <a class="code" href="Metadata_8cpp.html#a3b814c4630061d7c868d33d78aa68d32">canonicalizeMetadataForValue</a>(<a class="code" href="NVVMIntrRange_8cpp.html#afad351d7bf10ac0446b64e7827634e94">Context</a>, MD);</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;  <span class="keyword">auto</span> *&amp;Entry = <a class="code" href="NVVMIntrRange_8cpp.html#afad351d7bf10ac0446b64e7827634e94">Context</a>.<a class="code" href="classllvm_1_1LLVMContext.html#aa142c8c536b95dd8e8a243cb67b57a80">pImpl</a>-&gt;<a class="code" href="classllvm_1_1LLVMContextImpl.html#a0f84a0b5ee0bc1f89540f7dac8cf80a0">MetadataAsValues</a>[MD];</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;  <span class="keywordflow">if</span> (!Entry)</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    Entry = <span class="keyword">new</span> <a class="code" href="classllvm_1_1MetadataAsValue.html">MetadataAsValue</a>(<a class="code" href="classllvm_1_1Type.html#a28fdf240b8220065bc60d6d1b1a2f174">Type::getMetadataTy</a>(<a class="code" href="NVVMIntrRange_8cpp.html#afad351d7bf10ac0446b64e7827634e94">Context</a>), MD);</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;  <span class="keywordflow">return</span> Entry;</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;}</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160; </div>
<div class="line"><a name="l00110"></a><span class="lineno"><a class="line" href="classllvm_1_1MetadataAsValue.html#a43da96a342731ffba21f83523a9c787a">  110</a></span>&#160;<a class="code" href="classllvm_1_1MetadataAsValue.html">MetadataAsValue</a> *<a class="code" href="classllvm_1_1MetadataAsValue.html#a43da96a342731ffba21f83523a9c787a">MetadataAsValue::getIfExists</a>(<a class="code" href="classllvm_1_1LLVMContext.html">LLVMContext</a> &amp;<a class="code" href="NVVMIntrRange_8cpp.html#afad351d7bf10ac0446b64e7827634e94">Context</a>,</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;                                              <a class="code" href="classllvm_1_1Metadata.html">Metadata</a> *MD) {</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;  MD = <a class="code" href="Metadata_8cpp.html#a3b814c4630061d7c868d33d78aa68d32">canonicalizeMetadataForValue</a>(<a class="code" href="NVVMIntrRange_8cpp.html#afad351d7bf10ac0446b64e7827634e94">Context</a>, MD);</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;  <span class="keyword">auto</span> &amp;<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa36b3dd3b84fde3f8494a9b18af131856">Store</a> = <a class="code" href="NVVMIntrRange_8cpp.html#afad351d7bf10ac0446b64e7827634e94">Context</a>.<a class="code" href="classllvm_1_1LLVMContext.html#aa142c8c536b95dd8e8a243cb67b57a80">pImpl</a>-&gt;<a class="code" href="classllvm_1_1LLVMContextImpl.html#a0f84a0b5ee0bc1f89540f7dac8cf80a0">MetadataAsValues</a>;</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa36b3dd3b84fde3f8494a9b18af131856">Store</a>.lookup(MD);</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;}</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160; </div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;<span class="keywordtype">void</span> MetadataAsValue::handleChangedMetadata(<a class="code" href="classllvm_1_1Metadata.html">Metadata</a> *MD) {</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;  <a class="code" href="classllvm_1_1LLVMContext.html">LLVMContext</a> &amp;<a class="code" href="NVVMIntrRange_8cpp.html#afad351d7bf10ac0446b64e7827634e94">Context</a> = <a class="code" href="classllvm_1_1Value.html#ab3fc0225d8aaf8434026c3573f961f2c">getContext</a>();</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;  MD = <a class="code" href="Metadata_8cpp.html#a3b814c4630061d7c868d33d78aa68d32">canonicalizeMetadataForValue</a>(<a class="code" href="NVVMIntrRange_8cpp.html#afad351d7bf10ac0446b64e7827634e94">Context</a>, MD);</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;  <span class="keyword">auto</span> &amp;<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa36b3dd3b84fde3f8494a9b18af131856">Store</a> = <a class="code" href="NVVMIntrRange_8cpp.html#afad351d7bf10ac0446b64e7827634e94">Context</a>.<a class="code" href="classllvm_1_1LLVMContext.html#aa142c8c536b95dd8e8a243cb67b57a80">pImpl</a>-&gt;<a class="code" href="classllvm_1_1LLVMContextImpl.html#a0f84a0b5ee0bc1f89540f7dac8cf80a0">MetadataAsValues</a>;</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160; </div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;  <span class="comment">// Stop tracking the old metadata.</span></div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;  <a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa36b3dd3b84fde3f8494a9b18af131856">Store</a>.erase(this-&gt;MD);</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;  untrack();</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;  this-&gt;MD = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160; </div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;  <span class="comment">// Start tracking MD, or RAUW if necessary.</span></div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;  <span class="keyword">auto</span> *&amp;Entry = <a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa36b3dd3b84fde3f8494a9b18af131856">Store</a>[MD];</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;  <span class="keywordflow">if</span> (Entry) {</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    <a class="code" href="classllvm_1_1Value.html#a3ab5fc45117b450e8bb04e564cb6e5f2">replaceAllUsesWith</a>(Entry);</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    <span class="keyword">delete</span> <span class="keyword">this</span>;</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;  }</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160; </div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;  this-&gt;MD = MD;</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;  track();</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;  Entry = <span class="keyword">this</span>;</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;}</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160; </div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;<span class="keywordtype">void</span> MetadataAsValue::track() {</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;  <span class="keywordflow">if</span> (MD)</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    <a class="code" href="classllvm_1_1MetadataTracking.html#ac8d18d3d41665a4f2747c2da7195055a">MetadataTracking::track</a>(&amp;MD, *MD, *<span class="keyword">this</span>);</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;}</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160; </div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;<span class="keywordtype">void</span> MetadataAsValue::untrack() {</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;  <span class="keywordflow">if</span> (MD)</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    <a class="code" href="classllvm_1_1MetadataTracking.html#a7349c5af03206b0b24d096f5c50378af">MetadataTracking::untrack</a>(MD);</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;}</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160; </div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1MetadataTracking.html#ac8d18d3d41665a4f2747c2da7195055a">MetadataTracking::track</a>(<span class="keywordtype">void</span> *Ref, <a class="code" href="classllvm_1_1Metadata.html">Metadata</a> &amp;MD, OwnerTy Owner) {</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Ref &amp;&amp; <span class="stringliteral">&quot;Expected live reference&quot;</span>);</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((Owner || *<span class="keyword">static_cast&lt;</span><a class="code" href="classllvm_1_1Metadata.html">Metadata</a> **<span class="keyword">&gt;</span>(Ref) == &amp;MD) &amp;&amp;</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;         <span class="stringliteral">&quot;Reference without owner must be direct&quot;</span>);</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *R = ReplaceableMetadataImpl::getOrCreate(MD)) {</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731">R</a>-&gt;addRef(Ref, Owner);</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;  }</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *PH = dyn_cast&lt;DistinctMDOperandPlaceholder&gt;(&amp;MD)) {</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!PH-&gt;Use &amp;&amp; <span class="stringliteral">&quot;Placeholders can only be used once&quot;</span>);</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!Owner &amp;&amp; <span class="stringliteral">&quot;Unexpected callback to owner&quot;</span>);</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    PH-&gt;Use = <span class="keyword">static_cast&lt;</span><a class="code" href="classllvm_1_1Metadata.html">Metadata</a> **<span class="keyword">&gt;</span>(<a class="code" href="namespacellvm.html#a9db8c44b250b90e3ab7e4d144e7c9c2ea60baadb22e80b147e4885ad16760e569">Ref</a>);</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;  }</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;}</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160; </div>
<div class="line"><a name="l00167"></a><span class="lineno"><a class="line" href="classllvm_1_1MetadataTracking.html#ac7da9d2f2d53d9197acf5abc73d7aeb0">  167</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1MetadataTracking.html#a7349c5af03206b0b24d096f5c50378af">MetadataTracking::untrack</a>(<span class="keywordtype">void</span> *Ref, <a class="code" href="classllvm_1_1Metadata.html">Metadata</a> &amp;MD) {</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="namespacellvm.html#a9db8c44b250b90e3ab7e4d144e7c9c2ea60baadb22e80b147e4885ad16760e569">Ref</a> &amp;&amp; <span class="stringliteral">&quot;Expected live reference&quot;</span>);</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *R = ReplaceableMetadataImpl::getIfExists(MD))</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    R-&gt;dropRef(<a class="code" href="namespacellvm.html#a9db8c44b250b90e3ab7e4d144e7c9c2ea60baadb22e80b147e4885ad16760e569">Ref</a>);</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="keyword">auto</span> *PH = dyn_cast&lt;DistinctMDOperandPlaceholder&gt;(&amp;MD))</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    PH-&gt;Use = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;}</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160; </div>
<div class="line"><a name="l00175"></a><span class="lineno"><a class="line" href="classllvm_1_1MetadataTracking.html#a168c95e63d349b2b34821da321f20bb8">  175</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1MetadataTracking.html#a80df62c7fe69bd81d3f2ecd843d0db92">MetadataTracking::retrack</a>(<span class="keywordtype">void</span> *Ref, <a class="code" href="classllvm_1_1Metadata.html">Metadata</a> &amp;MD, <span class="keywordtype">void</span> *New) {</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="namespacellvm.html#a9db8c44b250b90e3ab7e4d144e7c9c2ea60baadb22e80b147e4885ad16760e569">Ref</a> &amp;&amp; <span class="stringliteral">&quot;Expected live reference&quot;</span>);</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(New &amp;&amp; <span class="stringliteral">&quot;Expected live reference&quot;</span>);</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="namespacellvm.html#a9db8c44b250b90e3ab7e4d144e7c9c2ea60baadb22e80b147e4885ad16760e569">Ref</a> != New &amp;&amp; <span class="stringliteral">&quot;Expected change&quot;</span>);</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *R = ReplaceableMetadataImpl::getIfExists(MD)) {</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    R-&gt;moveRef(<a class="code" href="namespacellvm.html#a9db8c44b250b90e3ab7e4d144e7c9c2ea60baadb22e80b147e4885ad16760e569">Ref</a>, New, MD);</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;  }</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!isa&lt;DistinctMDOperandPlaceholder&gt;(MD) &amp;&amp;</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;         <span class="stringliteral">&quot;Unexpected move of an MDOperand&quot;</span>);</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!<a class="code" href="classllvm_1_1MetadataTracking.html#a45da08f68cfc27dc2e0dfc6b0057e1c3">isReplaceable</a>(MD) &amp;&amp;</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;         <span class="stringliteral">&quot;Expected un-replaceable metadata, since we didn&#39;t move a reference&quot;</span>);</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;}</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160; </div>
<div class="line"><a name="l00190"></a><span class="lineno"><a class="line" href="classllvm_1_1MetadataTracking.html#a45da08f68cfc27dc2e0dfc6b0057e1c3">  190</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1MetadataTracking.html#a45da08f68cfc27dc2e0dfc6b0057e1c3">MetadataTracking::isReplaceable</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Metadata.html">Metadata</a> &amp;MD) {</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;  <span class="keywordflow">return</span> ReplaceableMetadataImpl::isReplaceable(MD);</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;}</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160; </div>
<div class="line"><a name="l00194"></a><span class="lineno"><a class="line" href="classllvm_1_1ReplaceableMetadataImpl.html#a97f281369b9902c19df7f1f55975065d">  194</a></span>&#160;<a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Metadata *&gt;</a> <a class="code" href="classllvm_1_1ReplaceableMetadataImpl.html#a97f281369b9902c19df7f1f55975065d">ReplaceableMetadataImpl::getAllArgListUsers</a>() {</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;std::pair&lt;OwnerTy, uint64_t&gt;</a> *&gt; MDUsersWithID;</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> Pair : UseMap) {</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    <a class="code" href="classllvm_1_1PointerUnion.html">OwnerTy</a> Owner = Pair.second.first;</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    <span class="keywordflow">if</span> (!Owner.<a class="code" href="classllvm_1_1PointerUnion.html#aa2b5d50bce283a11bd0dc04c13dca0fc">is</a>&lt;<a class="code" href="classllvm_1_1Metadata.html">Metadata</a> *&gt;())</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    <a class="code" href="classllvm_1_1Metadata.html">Metadata</a> *OwnerMD = Owner.<a class="code" href="classllvm_1_1PointerUnion.html#a47a37d4a29c6d015b0ec9b0e722110fe">get</a>&lt;<a class="code" href="classllvm_1_1Metadata.html">Metadata</a> *&gt;();</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    <span class="keywordflow">if</span> (OwnerMD-&gt;<a class="code" href="classllvm_1_1Metadata.html#a91c7b9c7cf6694f41b9030429b582d26">getMetadataID</a>() == Metadata::DIArgListKind)</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;      MDUsersWithID.push_back(&amp;UseMap[Pair.first]);</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;  }</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;  <a class="code" href="namespacellvm.html#a74cdbd1e4f731e7d7cd83461b8b1de0b">llvm::sort</a>(MDUsersWithID, [](<span class="keyword">auto</span> UserA, <span class="keyword">auto</span> UserB) {</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    <span class="keywordflow">return</span> UserA-&gt;second &lt; UserB-&gt;second;</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;  });</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Metadata *&gt;</a> MDUsers;</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> *UserWithID : MDUsersWithID)</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    MDUsers.push_back(UserWithID-&gt;first.get&lt;<a class="code" href="classllvm_1_1Metadata.html">Metadata</a> *&gt;());</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;  <span class="keywordflow">return</span> MDUsers;</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;}</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160; </div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;<span class="keywordtype">void</span> ReplaceableMetadataImpl::addRef(<span class="keywordtype">void</span> *Ref, OwnerTy Owner) {</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;  <span class="keywordtype">bool</span> WasInserted =</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;      UseMap.insert(std::make_pair(Ref, std::make_pair(Owner, NextIndex)))</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;          .second;</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;  (void)WasInserted;</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(WasInserted &amp;&amp; <span class="stringliteral">&quot;Expected to add a reference&quot;</span>);</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160; </div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;  ++NextIndex;</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(NextIndex != 0 &amp;&amp; <span class="stringliteral">&quot;Unexpected overflow&quot;</span>);</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;}</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160; </div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;<span class="keywordtype">void</span> ReplaceableMetadataImpl::dropRef(<span class="keywordtype">void</span> *Ref) {</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;  <span class="keywordtype">bool</span> WasErased = UseMap.erase(Ref);</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;  (void)WasErased;</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(WasErased &amp;&amp; <span class="stringliteral">&quot;Expected to drop a reference&quot;</span>);</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;}</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160; </div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;<span class="keywordtype">void</span> ReplaceableMetadataImpl::moveRef(<span class="keywordtype">void</span> *Ref, <span class="keywordtype">void</span> *New,</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;                                      <span class="keyword">const</span> <a class="code" href="classllvm_1_1Metadata.html">Metadata</a> &amp;MD) {</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;  <span class="keyword">auto</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = UseMap.find(Ref);</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != UseMap.end() &amp;&amp; <span class="stringliteral">&quot;Expected to move a reference&quot;</span>);</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;  <span class="keyword">auto</span> OwnerAndIndex = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;second;</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;  UseMap.erase(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;  <span class="keywordtype">bool</span> WasInserted = UseMap.insert(std::make_pair(New, OwnerAndIndex)).second;</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;  (void)WasInserted;</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(WasInserted &amp;&amp; <span class="stringliteral">&quot;Expected to add a reference&quot;</span>);</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160; </div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;  <span class="comment">// Check that the references are direct if there&#39;s no owner.</span></div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;  (void)MD;</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((OwnerAndIndex.first || *<span class="keyword">static_cast&lt;</span><a class="code" href="classllvm_1_1Metadata.html">Metadata</a> **<span class="keyword">&gt;</span>(Ref) == &amp;MD) &amp;&amp;</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;         <span class="stringliteral">&quot;Reference without owner must be direct&quot;</span>);</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((OwnerAndIndex.first || *<span class="keyword">static_cast&lt;</span><a class="code" href="classllvm_1_1Metadata.html">Metadata</a> **<span class="keyword">&gt;</span>(New) == &amp;MD) &amp;&amp;</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;         <span class="stringliteral">&quot;Reference without owner must be direct&quot;</span>);</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;}</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160; </div>
<div class="line"><a name="l00248"></a><span class="lineno"><a class="line" href="classllvm_1_1ReplaceableMetadataImpl.html#a26887fb6f8b3127e6b28c2075dacbc11">  248</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1ReplaceableMetadataImpl.html#a26887fb6f8b3127e6b28c2075dacbc11">ReplaceableMetadataImpl::SalvageDebugInfo</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Constant.html">Constant</a> &amp;<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>) {</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>.isUsedByMetadata()) {</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;  }</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160; </div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;  <a class="code" href="classllvm_1_1LLVMContext.html">LLVMContext</a> &amp;<a class="code" href="NVVMIntrRange_8cpp.html#afad351d7bf10ac0446b64e7827634e94">Context</a> = <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>.getType()-&gt;getContext();</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;  <span class="keyword">auto</span> &amp;<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa36b3dd3b84fde3f8494a9b18af131856">Store</a> = <a class="code" href="NVVMIntrRange_8cpp.html#afad351d7bf10ac0446b64e7827634e94">Context</a>.<a class="code" href="classllvm_1_1LLVMContext.html#aa142c8c536b95dd8e8a243cb67b57a80">pImpl</a>-&gt;<a class="code" href="classllvm_1_1LLVMContextImpl.html#ab9825bb3a01150a90106e731b9fe23df">ValuesAsMetadata</a>;</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;  <span class="keyword">auto</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = <a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa36b3dd3b84fde3f8494a9b18af131856">Store</a>.find(&amp;<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>);</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;  <a class="code" href="classllvm_1_1ValueAsMetadata.html">ValueAsMetadata</a> *MD = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;second;</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;  <span class="keyword">using</span> UseTy =</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;      std::pair&lt;void *, std::pair&lt;MetadataTracking::OwnerTy, uint64_t&gt;&gt;;</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;  <span class="comment">// Copy out uses and update value of Constant used by debug info metadata with undef below</span></div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;UseTy, 8&gt;</a> <a class="code" href="ARMLowOverheadLoops_8cpp.html#a0a0971d62011c35b29ff4a2325d45e93">Uses</a>(MD-&gt;UseMap.begin(), MD-&gt;UseMap.end());</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160; </div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;Pair : <a class="code" href="ARMLowOverheadLoops_8cpp.html#a0a0971d62011c35b29ff4a2325d45e93">Uses</a>) {</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    <a class="code" href="classllvm_1_1PointerUnion.html">MetadataTracking::OwnerTy</a> Owner = Pair.second.first;</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    <span class="keywordflow">if</span> (!Owner)</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    <span class="keywordflow">if</span> (!Owner.<a class="code" href="classllvm_1_1PointerUnion.html#aa2b5d50bce283a11bd0dc04c13dca0fc">is</a>&lt;<a class="code" href="classllvm_1_1Metadata.html">Metadata</a> *&gt;())</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    <span class="keyword">auto</span> *OwnerMD = dyn_cast&lt;MDNode&gt;(Owner.<a class="code" href="classllvm_1_1PointerUnion.html#a47a37d4a29c6d015b0ec9b0e722110fe">get</a>&lt;<a class="code" href="classllvm_1_1Metadata.html">Metadata</a> *&gt;());</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    <span class="keywordflow">if</span> (!OwnerMD)</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    <span class="keywordflow">if</span> (isa&lt;DINode&gt;(OwnerMD)) {</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;      OwnerMD-&gt;handleChangedOperand(</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;          Pair.first, <a class="code" href="classllvm_1_1ValueAsMetadata.html#a53fc78b63202142110d0e86dd1a71fbe">ValueAsMetadata::get</a>(<a class="code" href="classllvm_1_1UndefValue.html#a4ae5ff22b700a42bcc5d889233721335">UndefValue::get</a>(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>.getType())));</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    }</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;  }</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;}</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160; </div>
<div class="line"><a name="l00278"></a><span class="lineno"><a class="line" href="classllvm_1_1ReplaceableMetadataImpl.html#a2b9c0ec6595f7f4b7d737415a8cb0aaf">  278</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1ReplaceableMetadataImpl.html#a2b9c0ec6595f7f4b7d737415a8cb0aaf">ReplaceableMetadataImpl::replaceAllUsesWith</a>(<a class="code" href="classllvm_1_1Metadata.html">Metadata</a> *MD) {</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;  <span class="keywordflow">if</span> (UseMap.empty())</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160; </div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;  <span class="comment">// Copy out uses since UseMap will get touched below.</span></div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;  <span class="keyword">using</span> UseTy = std::pair&lt;void *, std::pair&lt;OwnerTy, uint64_t&gt;&gt;;</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;UseTy, 8&gt;</a> <a class="code" href="ARMLowOverheadLoops_8cpp.html#a0a0971d62011c35b29ff4a2325d45e93">Uses</a>(UseMap.begin(), UseMap.end());</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;  <a class="code" href="namespacellvm.html#a74cdbd1e4f731e7d7cd83461b8b1de0b">llvm::sort</a>(<a class="code" href="ARMLowOverheadLoops_8cpp.html#a0a0971d62011c35b29ff4a2325d45e93">Uses</a>, <a class="code" href="structllvm_1_1less__second.html">llvm::less_second</a>());</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;Pair : <a class="code" href="ARMLowOverheadLoops_8cpp.html#a0a0971d62011c35b29ff4a2325d45e93">Uses</a>) {</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    <span class="comment">// Check that this Ref hasn&#39;t disappeared after RAUW (when updating a</span></div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    <span class="comment">// previous Ref).</span></div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    <span class="keywordflow">if</span> (!UseMap.count(Pair.first))</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160; </div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    <a class="code" href="classllvm_1_1PointerUnion.html">OwnerTy</a> Owner = Pair.second.first;</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    <span class="keywordflow">if</span> (!Owner) {</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;      <span class="comment">// Update unowned tracking references directly.</span></div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;      <a class="code" href="classllvm_1_1Metadata.html">Metadata</a> *&amp;<a class="code" href="namespacellvm.html#a9db8c44b250b90e3ab7e4d144e7c9c2ea60baadb22e80b147e4885ad16760e569">Ref</a> = *<span class="keyword">static_cast&lt;</span><a class="code" href="classllvm_1_1Metadata.html">Metadata</a> **<span class="keyword">&gt;</span>(Pair.first);</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;      <a class="code" href="namespacellvm.html#a9db8c44b250b90e3ab7e4d144e7c9c2ea60baadb22e80b147e4885ad16760e569">Ref</a> = MD;</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;      <span class="keywordflow">if</span> (MD)</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;        <a class="code" href="classllvm_1_1MetadataTracking.html#ac8d18d3d41665a4f2747c2da7195055a">MetadataTracking::track</a>(<a class="code" href="namespacellvm.html#a9db8c44b250b90e3ab7e4d144e7c9c2ea60baadb22e80b147e4885ad16760e569">Ref</a>);</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;      UseMap.erase(Pair.first);</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    }</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160; </div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    <span class="comment">// Check for MetadataAsValue.</span></div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    <span class="keywordflow">if</span> (Owner.<a class="code" href="classllvm_1_1PointerUnion.html#aa2b5d50bce283a11bd0dc04c13dca0fc">is</a>&lt;<a class="code" href="classllvm_1_1MetadataAsValue.html">MetadataAsValue</a> *&gt;()) {</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;      Owner.<a class="code" href="classllvm_1_1PointerUnion.html#a47a37d4a29c6d015b0ec9b0e722110fe">get</a>&lt;<a class="code" href="classllvm_1_1MetadataAsValue.html">MetadataAsValue</a> *&gt;()-&gt;handleChangedMetadata(MD);</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    }</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160; </div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    <span class="comment">// There&#39;s a Metadata owner -- dispatch.</span></div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    <a class="code" href="classllvm_1_1Metadata.html">Metadata</a> *OwnerMD = Owner.<a class="code" href="classllvm_1_1PointerUnion.html#a47a37d4a29c6d015b0ec9b0e722110fe">get</a>&lt;<a class="code" href="classllvm_1_1Metadata.html">Metadata</a> *&gt;();</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    <span class="keywordflow">switch</span> (OwnerMD-&gt;<a class="code" href="classllvm_1_1Metadata.html#a91c7b9c7cf6694f41b9030429b582d26">getMetadataID</a>()) {</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;<span class="preprocessor">#define HANDLE_METADATA_LEAF(CLASS)                                            \</span></div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;<span class="preprocessor">  case Metadata::CLASS##Kind:                                                  \</span></div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;<span class="preprocessor">    cast&lt;CLASS&gt;(OwnerMD)-&gt;handleChangedOperand(Pair.first, MD);                \</span></div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;<span class="preprocessor">    continue;</span></div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;<span class="preprocessor">#include &quot;llvm/IR/Metadata.def&quot;</span></div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;      <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Invalid metadata subclass&quot;</span>);</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    }</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;  }</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(UseMap.empty() &amp;&amp; <span class="stringliteral">&quot;Expected all uses to be replaced&quot;</span>);</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;}</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160; </div>
<div class="line"><a name="l00324"></a><span class="lineno"><a class="line" href="classllvm_1_1ReplaceableMetadataImpl.html#a8adfe0bbfa83dcbab95c4bcea9705e9d">  324</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1ReplaceableMetadataImpl.html#a8adfe0bbfa83dcbab95c4bcea9705e9d">ReplaceableMetadataImpl::resolveAllUses</a>(<span class="keywordtype">bool</span> ResolveUsers) {</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;  <span class="keywordflow">if</span> (UseMap.empty())</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160; </div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;  <span class="keywordflow">if</span> (!ResolveUsers) {</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    UseMap.clear();</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;  }</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160; </div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;  <span class="comment">// Copy out uses since UseMap could get touched below.</span></div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;  <span class="keyword">using</span> UseTy = std::pair&lt;void *, std::pair&lt;OwnerTy, uint64_t&gt;&gt;;</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;UseTy, 8&gt;</a> <a class="code" href="ARMLowOverheadLoops_8cpp.html#a0a0971d62011c35b29ff4a2325d45e93">Uses</a>(UseMap.begin(), UseMap.end());</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;  <a class="code" href="namespacellvm.html#a74cdbd1e4f731e7d7cd83461b8b1de0b">llvm::sort</a>(<a class="code" href="ARMLowOverheadLoops_8cpp.html#a0a0971d62011c35b29ff4a2325d45e93">Uses</a>, [](<span class="keyword">const</span> UseTy &amp;L, <span class="keyword">const</span> UseTy &amp;R) {</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    <span class="keywordflow">return</span> L.second.second &lt; R.second.second;</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;  });</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;  UseMap.clear();</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;Pair : <a class="code" href="ARMLowOverheadLoops_8cpp.html#a0a0971d62011c35b29ff4a2325d45e93">Uses</a>) {</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    <span class="keyword">auto</span> Owner = Pair.second.first;</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    <span class="keywordflow">if</span> (!Owner)</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    <span class="keywordflow">if</span> (Owner.is&lt;<a class="code" href="classllvm_1_1MetadataAsValue.html">MetadataAsValue</a> *&gt;())</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160; </div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    <span class="comment">// Resolve MDNodes that point at this.</span></div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    <span class="keyword">auto</span> *OwnerMD = dyn_cast&lt;MDNode&gt;(Owner.get&lt;<a class="code" href="classllvm_1_1Metadata.html">Metadata</a> *&gt;());</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    <span class="keywordflow">if</span> (!OwnerMD)</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    <span class="keywordflow">if</span> (OwnerMD-&gt;isResolved())</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;    OwnerMD-&gt;decrementUnresolvedOperandCount();</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;  }</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;}</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160; </div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;<a class="code" href="classllvm_1_1ReplaceableMetadataImpl.html">ReplaceableMetadataImpl</a> *ReplaceableMetadataImpl::getOrCreate(<a class="code" href="classllvm_1_1Metadata.html">Metadata</a> &amp;MD) {</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> = dyn_cast&lt;MDNode&gt;(&amp;MD))</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;isResolved() ? nullptr : <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;Context.getOrCreateReplaceableUses();</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;  <span class="keywordflow">return</span> dyn_cast&lt;ValueAsMetadata&gt;(&amp;MD);</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;}</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160; </div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;<a class="code" href="classllvm_1_1ReplaceableMetadataImpl.html">ReplaceableMetadataImpl</a> *ReplaceableMetadataImpl::getIfExists(<a class="code" href="classllvm_1_1Metadata.html">Metadata</a> &amp;MD) {</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> = dyn_cast&lt;MDNode&gt;(&amp;MD))</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;isResolved() ? nullptr : <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;Context.getReplaceableUses();</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;  <span class="keywordflow">return</span> dyn_cast&lt;ValueAsMetadata&gt;(&amp;MD);</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;}</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160; </div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;<span class="keywordtype">bool</span> ReplaceableMetadataImpl::isReplaceable(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Metadata.html">Metadata</a> &amp;MD) {</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> = dyn_cast&lt;MDNode&gt;(&amp;MD))</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;    <span class="keywordflow">return</span> !<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;isResolved();</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;  <span class="keywordflow">return</span> isa&lt;ValueAsMetadata&gt;(&amp;MD);</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;}</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160; </div>
<div class="line"><a name="l00375"></a><span class="lineno"><a class="line" href="Metadata_8cpp.html#aa683b86eef1bb61284da320a5f1d6549">  375</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1DISubprogram.html">DISubprogram</a> *<a class="code" href="Metadata_8cpp.html#aa683b86eef1bb61284da320a5f1d6549">getLocalFunctionMetadata</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *V) {</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(V &amp;&amp; <span class="stringliteral">&quot;Expected value&quot;</span>);</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *A = dyn_cast&lt;Argument&gt;(V)) {</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> *Fn = A-&gt;getParent())</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;      <span class="keywordflow">return</span> Fn-&gt;getSubprogram();</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;  }</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160; </div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a> = cast&lt;Instruction&gt;(V)-&gt;<a class="code" href="BasicAliasAnalysis_8cpp.html#a2675de1d8479c7b00387979714da43f7">getParent</a>()) {</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> *Fn = <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>-&gt;getParent())</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;      <span class="keywordflow">return</span> Fn-&gt;getSubprogram();</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;  }</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160; </div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;}</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160; </div>
<div class="line"><a name="l00392"></a><span class="lineno"><a class="line" href="classllvm_1_1ValueAsMetadata.html#a53fc78b63202142110d0e86dd1a71fbe">  392</a></span>&#160;<a class="code" href="classllvm_1_1ValueAsMetadata.html">ValueAsMetadata</a> *<a class="code" href="classllvm_1_1ValueAsMetadata.html#a53fc78b63202142110d0e86dd1a71fbe">ValueAsMetadata::get</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *V) {</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(V &amp;&amp; <span class="stringliteral">&quot;Unexpected null Value&quot;</span>);</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160; </div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;  <span class="keyword">auto</span> &amp;<a class="code" href="NVVMIntrRange_8cpp.html#afad351d7bf10ac0446b64e7827634e94">Context</a> = V-&gt;<a class="code" href="classllvm_1_1Value.html#ab3fc0225d8aaf8434026c3573f961f2c">getContext</a>();</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;  <span class="keyword">auto</span> *&amp;Entry = <a class="code" href="NVVMIntrRange_8cpp.html#afad351d7bf10ac0446b64e7827634e94">Context</a>.<a class="code" href="classllvm_1_1LLVMContext.html#aa142c8c536b95dd8e8a243cb67b57a80">pImpl</a>-&gt;<a class="code" href="classllvm_1_1LLVMContextImpl.html#ab9825bb3a01150a90106e731b9fe23df">ValuesAsMetadata</a>[V];</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;  <span class="keywordflow">if</span> (!Entry) {</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((isa&lt;Constant&gt;(V) || isa&lt;Argument&gt;(V) || isa&lt;Instruction&gt;(V)) &amp;&amp;</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;           <span class="stringliteral">&quot;Expected constant or function-local value&quot;</span>);</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!V-&gt;<a class="code" href="classllvm_1_1Value.html#a0e7ed12d09bbe90b2061208177e2a3ba">IsUsedByMD</a> &amp;&amp; <span class="stringliteral">&quot;Expected this to be the only metadata use&quot;</span>);</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    V-&gt;<a class="code" href="classllvm_1_1Value.html#a0e7ed12d09bbe90b2061208177e2a3ba">IsUsedByMD</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = dyn_cast&lt;Constant&gt;(V))</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;      Entry = <span class="keyword">new</span> <a class="code" href="classllvm_1_1ConstantAsMetadata.html">ConstantAsMetadata</a>(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>);</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;      Entry = <span class="keyword">new</span> <a class="code" href="classllvm_1_1LocalAsMetadata.html">LocalAsMetadata</a>(V);</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;  }</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160; </div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;  <span class="keywordflow">return</span> Entry;</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;}</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160; </div>
<div class="line"><a name="l00411"></a><span class="lineno"><a class="line" href="classllvm_1_1ValueAsMetadata.html#a7ae4ad78fc06181d316ffae9b6bdf70c">  411</a></span>&#160;<a class="code" href="classllvm_1_1ValueAsMetadata.html">ValueAsMetadata</a> *<a class="code" href="classllvm_1_1ValueAsMetadata.html#a7ae4ad78fc06181d316ffae9b6bdf70c">ValueAsMetadata::getIfExists</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *V) {</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(V &amp;&amp; <span class="stringliteral">&quot;Unexpected null Value&quot;</span>);</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;  <span class="keywordflow">return</span> V-&gt;<a class="code" href="classllvm_1_1Value.html#ab3fc0225d8aaf8434026c3573f961f2c">getContext</a>().<a class="code" href="classllvm_1_1LLVMContext.html#aa142c8c536b95dd8e8a243cb67b57a80">pImpl</a>-&gt;<a class="code" href="classllvm_1_1LLVMContextImpl.html#ab9825bb3a01150a90106e731b9fe23df">ValuesAsMetadata</a>.lookup(V);</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;}</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160; </div>
<div class="line"><a name="l00416"></a><span class="lineno"><a class="line" href="classllvm_1_1ValueAsMetadata.html#a3f5d7f69dfca5dc7437a1044a87cdb2d">  416</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1ValueAsMetadata.html#a3f5d7f69dfca5dc7437a1044a87cdb2d">ValueAsMetadata::handleDeletion</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *V) {</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(V &amp;&amp; <span class="stringliteral">&quot;Expected valid value&quot;</span>);</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160; </div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;  <span class="keyword">auto</span> &amp;<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa36b3dd3b84fde3f8494a9b18af131856">Store</a> = V-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a0566221f10834bfcea70965379745a20">getContext</a>().<a class="code" href="classllvm_1_1LLVMContext.html#aa142c8c536b95dd8e8a243cb67b57a80">pImpl</a>-&gt;<a class="code" href="classllvm_1_1LLVMContextImpl.html#ab9825bb3a01150a90106e731b9fe23df">ValuesAsMetadata</a>;</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;  <span class="keyword">auto</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = <a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa36b3dd3b84fde3f8494a9b18af131856">Store</a>.find(V);</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> == <a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa36b3dd3b84fde3f8494a9b18af131856">Store</a>.end())</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160; </div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;  <span class="comment">// Remove old entry from the map.</span></div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;  <a class="code" href="classllvm_1_1ValueAsMetadata.html">ValueAsMetadata</a> *MD = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;second;</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(MD &amp;&amp; <span class="stringliteral">&quot;Expected valid metadata&quot;</span>);</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(MD-&gt;<a class="code" href="classllvm_1_1ValueAsMetadata.html#abb1fed177add0142f52d7369619a2871">getValue</a>() == V &amp;&amp; <span class="stringliteral">&quot;Expected valid mapping&quot;</span>);</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;  <a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa36b3dd3b84fde3f8494a9b18af131856">Store</a>.erase(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160; </div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;  <span class="comment">// Delete the metadata.</span></div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;  MD-&gt;<a class="code" href="classllvm_1_1ValueAsMetadata.html#a3011a4758b31e15d77951d24386c68bf">replaceAllUsesWith</a>(<span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;  <span class="keyword">delete</span> MD;</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;}</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160; </div>
<div class="line"><a name="l00435"></a><span class="lineno"><a class="line" href="classllvm_1_1ValueAsMetadata.html#a7f7861a70cfa57999c2b47e570be2127">  435</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1ValueAsMetadata.html#a7f7861a70cfa57999c2b47e570be2127">ValueAsMetadata::handleRAUW</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="BlockVerifier_8cpp.html#ae45c7d73c0ff5d177b59153ffae77f84">From</a>, <a class="code" href="classllvm_1_1Value.html">Value</a> *To) {</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="BlockVerifier_8cpp.html#ae45c7d73c0ff5d177b59153ffae77f84">From</a> &amp;&amp; <span class="stringliteral">&quot;Expected valid value&quot;</span>);</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(To &amp;&amp; <span class="stringliteral">&quot;Expected valid value&quot;</span>);</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="BlockVerifier_8cpp.html#ae45c7d73c0ff5d177b59153ffae77f84">From</a> != To &amp;&amp; <span class="stringliteral">&quot;Expected changed value&quot;</span>);</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="BlockVerifier_8cpp.html#ae45c7d73c0ff5d177b59153ffae77f84">From</a>-&gt;getType() == To-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>() &amp;&amp; <span class="stringliteral">&quot;Unexpected type change&quot;</span>);</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160; </div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;  <a class="code" href="classllvm_1_1LLVMContext.html">LLVMContext</a> &amp;<a class="code" href="NVVMIntrRange_8cpp.html#afad351d7bf10ac0446b64e7827634e94">Context</a> = <a class="code" href="BlockVerifier_8cpp.html#ae45c7d73c0ff5d177b59153ffae77f84">From</a>-&gt;getType()-&gt;getContext();</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;  <span class="keyword">auto</span> &amp;<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa36b3dd3b84fde3f8494a9b18af131856">Store</a> = <a class="code" href="NVVMIntrRange_8cpp.html#afad351d7bf10ac0446b64e7827634e94">Context</a>.<a class="code" href="classllvm_1_1LLVMContext.html#aa142c8c536b95dd8e8a243cb67b57a80">pImpl</a>-&gt;<a class="code" href="classllvm_1_1LLVMContextImpl.html#ab9825bb3a01150a90106e731b9fe23df">ValuesAsMetadata</a>;</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;  <span class="keyword">auto</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = <a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa36b3dd3b84fde3f8494a9b18af131856">Store</a>.find(<a class="code" href="BlockVerifier_8cpp.html#ae45c7d73c0ff5d177b59153ffae77f84">From</a>);</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> == <a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa36b3dd3b84fde3f8494a9b18af131856">Store</a>.end()) {</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!<a class="code" href="BlockVerifier_8cpp.html#ae45c7d73c0ff5d177b59153ffae77f84">From</a>-&gt;IsUsedByMD &amp;&amp; <span class="stringliteral">&quot;Expected From not to be used by metadata&quot;</span>);</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;  }</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160; </div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;  <span class="comment">// Remove old entry from the map.</span></div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="BlockVerifier_8cpp.html#ae45c7d73c0ff5d177b59153ffae77f84">From</a>-&gt;IsUsedByMD &amp;&amp; <span class="stringliteral">&quot;Expected From to be used by metadata&quot;</span>);</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;  <a class="code" href="BlockVerifier_8cpp.html#ae45c7d73c0ff5d177b59153ffae77f84">From</a>-&gt;IsUsedByMD = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;  <a class="code" href="classllvm_1_1ValueAsMetadata.html">ValueAsMetadata</a> *MD = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;second;</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(MD &amp;&amp; <span class="stringliteral">&quot;Expected valid metadata&quot;</span>);</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(MD-&gt;<a class="code" href="classllvm_1_1ValueAsMetadata.html#abb1fed177add0142f52d7369619a2871">getValue</a>() == <a class="code" href="BlockVerifier_8cpp.html#ae45c7d73c0ff5d177b59153ffae77f84">From</a> &amp;&amp; <span class="stringliteral">&quot;Expected valid mapping&quot;</span>);</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;  <a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa36b3dd3b84fde3f8494a9b18af131856">Store</a>.erase(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160; </div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;  <span class="keywordflow">if</span> (isa&lt;LocalAsMetadata&gt;(MD)) {</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = dyn_cast&lt;Constant&gt;(To)) {</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;      <span class="comment">// Local became a constant.</span></div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;      MD-&gt;<a class="code" href="classllvm_1_1ValueAsMetadata.html#a3011a4758b31e15d77951d24386c68bf">replaceAllUsesWith</a>(<a class="code" href="classllvm_1_1ConstantAsMetadata.html#a703ab6c3e14ff7565866468d731f537a">ConstantAsMetadata::get</a>(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>));</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;      <span class="keyword">delete</span> MD;</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;    }</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="Metadata_8cpp.html#aa683b86eef1bb61284da320a5f1d6549">getLocalFunctionMetadata</a>(<a class="code" href="BlockVerifier_8cpp.html#ae45c7d73c0ff5d177b59153ffae77f84">From</a>) &amp;&amp; <a class="code" href="Metadata_8cpp.html#aa683b86eef1bb61284da320a5f1d6549">getLocalFunctionMetadata</a>(To) &amp;&amp;</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;        <a class="code" href="Metadata_8cpp.html#aa683b86eef1bb61284da320a5f1d6549">getLocalFunctionMetadata</a>(<a class="code" href="BlockVerifier_8cpp.html#ae45c7d73c0ff5d177b59153ffae77f84">From</a>) != <a class="code" href="Metadata_8cpp.html#aa683b86eef1bb61284da320a5f1d6549">getLocalFunctionMetadata</a>(To)) {</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;      <span class="comment">// DISubprogram changed.</span></div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;      MD-&gt;<a class="code" href="classllvm_1_1ValueAsMetadata.html#a3011a4758b31e15d77951d24386c68bf">replaceAllUsesWith</a>(<span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;      <span class="keyword">delete</span> MD;</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;    }</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!isa&lt;Constant&gt;(To)) {</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;    <span class="comment">// Changed to function-local value.</span></div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;    MD-&gt;<a class="code" href="classllvm_1_1ValueAsMetadata.html#a3011a4758b31e15d77951d24386c68bf">replaceAllUsesWith</a>(<span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;    <span class="keyword">delete</span> MD;</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;  }</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160; </div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;  <span class="keyword">auto</span> *&amp;Entry = <a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa36b3dd3b84fde3f8494a9b18af131856">Store</a>[To];</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;  <span class="keywordflow">if</span> (Entry) {</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;    <span class="comment">// The target already exists.</span></div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;    MD-&gt;<a class="code" href="classllvm_1_1ValueAsMetadata.html#a3011a4758b31e15d77951d24386c68bf">replaceAllUsesWith</a>(Entry);</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;    <span class="keyword">delete</span> MD;</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;  }</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160; </div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;  <span class="comment">// Update MD in place (and update the map entry).</span></div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!To-&gt;<a class="code" href="classllvm_1_1Value.html#a0e7ed12d09bbe90b2061208177e2a3ba">IsUsedByMD</a> &amp;&amp; <span class="stringliteral">&quot;Expected this to be the only metadata use&quot;</span>);</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;  To-&gt;<a class="code" href="classllvm_1_1Value.html#a0e7ed12d09bbe90b2061208177e2a3ba">IsUsedByMD</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;  MD-&gt;V = To;</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;  Entry = MD;</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;}</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160; </div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;<span class="comment">// MDString implementation.</span></div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160; </div>
<div class="line"><a name="l00497"></a><span class="lineno"><a class="line" href="classllvm_1_1MDString.html#affbb7e2e9ad8d18114816f2443d672b9">  497</a></span>&#160;<a class="code" href="classllvm_1_1MDString.html">MDString</a> *<a class="code" href="classllvm_1_1MDString.html#affbb7e2e9ad8d18114816f2443d672b9">MDString::get</a>(<a class="code" href="classllvm_1_1LLVMContext.html">LLVMContext</a> &amp;<a class="code" href="NVVMIntrRange_8cpp.html#afad351d7bf10ac0446b64e7827634e94">Context</a>, <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> Str) {</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;  <span class="keyword">auto</span> &amp;<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa36b3dd3b84fde3f8494a9b18af131856">Store</a> = <a class="code" href="NVVMIntrRange_8cpp.html#afad351d7bf10ac0446b64e7827634e94">Context</a>.<a class="code" href="classllvm_1_1LLVMContext.html#aa142c8c536b95dd8e8a243cb67b57a80">pImpl</a>-&gt;<a class="code" href="classllvm_1_1LLVMContextImpl.html#a2757063573b80cb1423828875aee939f">MDStringCache</a>;</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;  <span class="keyword">auto</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = <a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa36b3dd3b84fde3f8494a9b18af131856">Store</a>.try_emplace(Str);</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;  <span class="keyword">auto</span> &amp;MapEntry = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.first-&gt;getValue();</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.second)</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;    <span class="keywordflow">return</span> &amp;MapEntry;</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;  MapEntry.Entry = &amp;*<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.first;</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;  <span class="keywordflow">return</span> &amp;MapEntry;</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;}</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160; </div>
<div class="line"><a name="l00507"></a><span class="lineno"><a class="line" href="classllvm_1_1MDString.html#ae44259d9edd71181ea8b89d18f27a967">  507</a></span>&#160;<a class="code" href="classllvm_1_1StringRef.html">StringRef</a> <a class="code" href="classllvm_1_1MDString.html#ae44259d9edd71181ea8b89d18f27a967">MDString::getString</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Entry &amp;&amp; <span class="stringliteral">&quot;Expected to find string map entry&quot;</span>);</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;  <span class="keywordflow">return</span> Entry-&gt;first();</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;}</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160; </div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;<span class="comment">// MDNode implementation.</span></div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160; </div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;<span class="comment">// Assert that the MDNode types will not be unaligned by the objects</span></div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;<span class="comment">// prepended to them.</span></div>
<div class="line"><a name="l00518"></a><span class="lineno"><a class="line" href="Metadata_8cpp.html#a4060cc153ca27a61adf713615161fba3">  518</a></span>&#160;<span class="preprocessor">#define HANDLE_MDNODE_LEAF(CLASS)                                              \</span></div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;<span class="preprocessor">  static_assert(                                                               \</span></div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;<span class="preprocessor">      alignof(uint64_t) &gt;= alignof(CLASS),                                     \</span></div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;<span class="preprocessor">      &quot;Alignment is insufficient after objects prepended to &quot; #CLASS);</span></div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;<span class="preprocessor">#include &quot;llvm/IR/Metadata.def&quot;</span></div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160; </div>
<div class="line"><a name="l00524"></a><span class="lineno"><a class="line" href="classllvm_1_1MDNode.html#abd7afd5fab5f5b746a194e87d1a606fc">  524</a></span>&#160;<span class="keywordtype">void</span> *MDNode::operator <span class="keyword">new</span>(<span class="keywordtype">size_t</span> Size, <span class="keywordtype">size_t</span> NumOps, <a class="code" href="classllvm_1_1Metadata.html#a3f931bc86bd57cd5ea0f53528ae88f80">StorageType</a> Storage) {</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;  <span class="comment">// uint64_t is the most aligned type we need support (ensured by static_assert</span></div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;  <span class="comment">// above)</span></div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;  <span class="keywordtype">size_t</span> AllocSize =</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;      <a class="code" href="namespacellvm.html#ab102f0f12dd38aeea5906b1d80c792ff">alignTo</a>(<a class="code" href="namespacellvm.html#acdec81ddbe2a44db51de1226fa1ff5f0">Header::getAllocSize</a>(Storage, NumOps), <span class="keyword">alignof</span>(<a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a>));</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;  <span class="keywordtype">char</span> *Mem = <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">char</span> *<span class="keyword">&gt;</span>(::operator <span class="keyword">new</span>(AllocSize + Size));</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;  Header *<a class="code" href="MD5_8cpp.html#ae42219072d798876e6b08e6b78614ff6">H</a> = <span class="keyword">new</span> (Mem + AllocSize - <span class="keyword">sizeof</span>(Header)) Header(NumOps, Storage);</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">void</span> *<span class="keyword">&gt;</span>(<a class="code" href="MD5_8cpp.html#ae42219072d798876e6b08e6b78614ff6">H</a> + 1);</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;}</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160; </div>
<div class="line"><a name="l00534"></a><span class="lineno"><a class="line" href="classllvm_1_1MDNode.html#a0796ce4aa726251e0930239aeacd02b4">  534</a></span>&#160;<span class="keywordtype">void</span> MDNode::operator <span class="keyword">delete</span>(<span class="keywordtype">void</span> *<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>) {</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;  Header *<a class="code" href="MD5_8cpp.html#ae42219072d798876e6b08e6b78614ff6">H</a> = <span class="keyword">reinterpret_cast&lt;</span>Header *<span class="keyword">&gt;</span>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>) - 1;</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;  <span class="keywordtype">void</span> *Mem = <a class="code" href="MD5_8cpp.html#ae42219072d798876e6b08e6b78614ff6">H</a>-&gt;getAllocation();</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;  <a class="code" href="MD5_8cpp.html#ae42219072d798876e6b08e6b78614ff6">H</a>-&gt;~Header();</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;  ::operator <span class="keyword">delete</span>(Mem);</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;}</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160; </div>
<div class="line"><a name="l00541"></a><span class="lineno"><a class="line" href="classllvm_1_1MDNode.html#ac63a248c346be4c4aad7487e179102ac">  541</a></span>&#160;<a class="code" href="classllvm_1_1MDNode.html#ac63a248c346be4c4aad7487e179102ac">MDNode::MDNode</a>(<a class="code" href="classllvm_1_1LLVMContext.html">LLVMContext</a> &amp;<a class="code" href="NVVMIntrRange_8cpp.html#afad351d7bf10ac0446b64e7827634e94">Context</a>, <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>, <a class="code" href="classllvm_1_1Metadata.html#a3f931bc86bd57cd5ea0f53528ae88f80">StorageType</a> Storage,</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;               <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;Metadata *&gt;</a> Ops1, <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;Metadata *&gt;</a> Ops2)</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;    : <a class="code" href="classllvm_1_1Metadata.html">Metadata</a>(<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>, Storage), <a class="code" href="NVVMIntrRange_8cpp.html#afad351d7bf10ac0446b64e7827634e94">Context</a>(<a class="code" href="NVVMIntrRange_8cpp.html#afad351d7bf10ac0446b64e7827634e94">Context</a>) {</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> = 0;</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Metadata.html">Metadata</a> *MD : Ops1)</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;    <a class="code" href="classllvm_1_1MDNode.html#abfa8b6d71b4325aa92a1f18cc566cfeb">setOperand</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>++, MD);</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Metadata.html">Metadata</a> *MD : Ops2)</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;    <a class="code" href="classllvm_1_1MDNode.html#abfa8b6d71b4325aa92a1f18cc566cfeb">setOperand</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>++, MD);</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160; </div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1MDNode.html#a92fd2fda0d83920749a3b0ef851b4580">isUniqued</a>())</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160; </div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;  <span class="comment">// Count the unresolved operands.  If there are any, RAUW support will be</span></div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;  <span class="comment">// added lazily on first reference.</span></div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;  countUnresolvedOperands();</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;}</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160; </div>
<div class="line"><a name="l00558"></a><span class="lineno"><a class="line" href="classllvm_1_1MDNode.html#aab52b512e1b50fff8d9f117c5e8a6bef">  558</a></span>&#160;TempMDNode <a class="code" href="classllvm_1_1MDNode.html#aab52b512e1b50fff8d9f117c5e8a6bef">MDNode::clone</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;  <span class="keywordflow">switch</span> (<a class="code" href="classllvm_1_1Metadata.html#a91c7b9c7cf6694f41b9030429b582d26">getMetadataID</a>()) {</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;    <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Invalid MDNode subclass&quot;</span>);</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;<span class="preprocessor">#define HANDLE_MDNODE_LEAF(CLASS)                                              \</span></div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;<span class="preprocessor">  case CLASS##Kind:                                                            \</span></div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;<span class="preprocessor">    return cast&lt;CLASS&gt;(this)-&gt;cloneImpl();</span></div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;<span class="preprocessor">#include &quot;llvm/IR/Metadata.def&quot;</span></div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;  }</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;}</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160; </div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;MDNode::Header::Header(<span class="keywordtype">size_t</span> NumOps, StorageType Storage) {</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;  IsLarge = isLarge(NumOps);</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;  IsResizable = isResizable(Storage);</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;  SmallSize = getSmallSize(NumOps, IsResizable, IsLarge);</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;  <span class="keywordflow">if</span> (IsLarge) {</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;    SmallNumOps = 0;</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;    <span class="keyword">new</span> (getLargePtr()) LargeStorageVector();</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;    getLarge().resize(NumOps);</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;  }</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;  SmallNumOps = NumOps;</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;  <a class="code" href="classllvm_1_1MDOperand.html">MDOperand</a> *<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1a33f1d911a725a1f81234a908d03edb">O</a> = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classllvm_1_1MDOperand.html">MDOperand</a> *<span class="keyword">&gt;</span>(<span class="keyword">this</span>) - SmallSize;</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MDOperand.html">MDOperand</a> *<a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1a33f1d911a725a1f81234a908d03edb">O</a> + SmallSize; <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1a33f1d911a725a1f81234a908d03edb">O</a> != <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>;)</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;    (<span class="keywordtype">void</span>)<span class="keyword">new</span> (<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1a33f1d911a725a1f81234a908d03edb">O</a>++) <a class="code" href="classllvm_1_1MDOperand.html">MDOperand</a>();</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;}</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160; </div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;MDNode::Header::~Header() {</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;  <span class="keywordflow">if</span> (IsLarge) {</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;    getLarge().~LargeStorageVector();</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;  }</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;  <a class="code" href="classllvm_1_1MDOperand.html">MDOperand</a> *<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1a33f1d911a725a1f81234a908d03edb">O</a> = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classllvm_1_1MDOperand.html">MDOperand</a> *<span class="keyword">&gt;</span>(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MDOperand.html">MDOperand</a> *<a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1a33f1d911a725a1f81234a908d03edb">O</a> - SmallSize; <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1a33f1d911a725a1f81234a908d03edb">O</a> != <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>; --<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1a33f1d911a725a1f81234a908d03edb">O</a>)</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;    (<span class="keywordtype">void</span>)(<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1a33f1d911a725a1f81234a908d03edb">O</a> - 1)-&gt;~<a class="code" href="classllvm_1_1MDOperand.html">MDOperand</a>();</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;}</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160; </div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;<span class="keywordtype">void</span> *MDNode::Header::getSmallPtr() {</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;  static_assert(<span class="keyword">alignof</span>(<a class="code" href="classllvm_1_1MDOperand.html">MDOperand</a>) &lt;= <span class="keyword">alignof</span>(Header),</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;                <span class="stringliteral">&quot;MDOperand too strongly aligned&quot;</span>);</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">char</span> *<span class="keyword">&gt;</span>(<span class="keyword">const_cast&lt;</span>Header *<span class="keyword">&gt;</span>(<span class="keyword">this</span>)) -</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;         <span class="keyword">sizeof</span>(<a class="code" href="classllvm_1_1MDOperand.html">MDOperand</a>) * SmallSize;</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;}</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160; </div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;<span class="keywordtype">void</span> MDNode::Header::resize(<span class="keywordtype">size_t</span> NumOps) {</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(IsResizable &amp;&amp; <span class="stringliteral">&quot;Node is not resizable&quot;</span>);</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;  <span class="keywordflow">if</span> (operands().<a class="code" href="namespacellvm.html#a10f3d955592ae2bc745f57e5b48ae115">size</a>() == NumOps)</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160; </div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;  <span class="keywordflow">if</span> (IsLarge)</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;    getLarge().resize(NumOps);</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (NumOps &lt;= SmallSize)</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;    resizeSmall(NumOps);</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;    resizeSmallToLarge(NumOps);</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;}</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160; </div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;<span class="keywordtype">void</span> MDNode::Header::resizeSmall(<span class="keywordtype">size_t</span> NumOps) {</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!IsLarge &amp;&amp; <span class="stringliteral">&quot;Expected a small MDNode&quot;</span>);</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(NumOps &lt;= SmallSize &amp;&amp; <span class="stringliteral">&quot;NumOps too large for small resize&quot;</span>);</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160; </div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;  <a class="code" href="classllvm_1_1MutableArrayRef.html">MutableArrayRef&lt;MDOperand&gt;</a> ExistingOps = operands();</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(NumOps != ExistingOps.size() &amp;&amp; <span class="stringliteral">&quot;Expected a different size&quot;</span>);</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160; </div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;  <span class="keywordtype">int</span> NumNew = (<a class="code" href="lib_2Target_2README_8txt.html#a3217063f680fa8e35dea3c59b6e52b18">int</a>)NumOps - (<span class="keywordtype">int</span>)ExistingOps.size();</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;  <a class="code" href="classllvm_1_1MDOperand.html">MDOperand</a> *<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1a33f1d911a725a1f81234a908d03edb">O</a> = ExistingOps.<a class="code" href="classllvm_1_1MutableArrayRef.html#a9d959094f4544749c129c46034cbed67">end</a>();</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 0, <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = NumNew; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> &lt; <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;    (<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1a33f1d911a725a1f81234a908d03edb">O</a>++)-&gt;reset();</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 0, <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = NumNew; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> &gt; <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>; --<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;    (--<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1a33f1d911a725a1f81234a908d03edb">O</a>)-&gt;reset();</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;  SmallNumOps = NumOps;</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1a33f1d911a725a1f81234a908d03edb">O</a> == operands().<a class="code" href="namespacellvm_1_1sys_1_1path.html#a214ec2f04ffd92636ed4bd2717607a1d">end</a>() &amp;&amp; <span class="stringliteral">&quot;Operands not (un)initialized until the end&quot;</span>);</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;}</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160; </div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;<span class="keywordtype">void</span> MDNode::Header::resizeSmallToLarge(<span class="keywordtype">size_t</span> NumOps) {</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!IsLarge &amp;&amp; <span class="stringliteral">&quot;Expected a small MDNode&quot;</span>);</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(NumOps &gt; SmallSize &amp;&amp; <span class="stringliteral">&quot;Expected NumOps to be larger than allocation&quot;</span>);</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;  LargeStorageVector NewOps;</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;  NewOps.resize(NumOps);</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;  <a class="code" href="namespacellvm.html#abfc9c7ecf70f66901e439f7c04ef3dbb">llvm::move</a>(operands(), NewOps.begin());</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;  resizeSmall(0);</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;  <span class="keyword">new</span> (getLargePtr()) LargeStorageVector(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(NewOps));</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;  IsLarge = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;}</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160; </div>
<div class="line"><a name="l00643"></a><span class="lineno"><a class="line" href="Metadata_8cpp.html#a30dd6d0a8bb26b2562332856caa54203">  643</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="Metadata_8cpp.html#a30dd6d0a8bb26b2562332856caa54203">isOperandUnresolved</a>(<a class="code" href="classllvm_1_1Metadata.html">Metadata</a> *<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>) {</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> = dyn_cast_or_null&lt;MDNode&gt;(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>))</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;    <span class="keywordflow">return</span> !<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;isResolved();</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;}</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160; </div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;<span class="keywordtype">void</span> MDNode::countUnresolvedOperands() {</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="classllvm_1_1MDNode.html#afaa888eea64d3619550d172aa7caa19e">getNumUnresolved</a>() == 0 &amp;&amp; <span class="stringliteral">&quot;Expected unresolved ops to be uncounted&quot;</span>);</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="classllvm_1_1MDNode.html#a92fd2fda0d83920749a3b0ef851b4580">isUniqued</a>() &amp;&amp; <span class="stringliteral">&quot;Expected this to be uniqued&quot;</span>);</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;  <a class="code" href="classllvm_1_1MDNode.html#a9db501ee1cf923b2031b1b924802fe55">setNumUnresolved</a>(<a class="code" href="namespacellvm.html#ac214df91cdc242f4710ea5a93939c678">count_if</a>(<a class="code" href="classllvm_1_1MDNode.html#a2ff0e0e87a2d1056a7b6d7d4b878c4ec">operands</a>(), <a class="code" href="Metadata_8cpp.html#a30dd6d0a8bb26b2562332856caa54203">isOperandUnresolved</a>));</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;}</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160; </div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;<span class="keywordtype">void</span> MDNode::makeUniqued() {</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="classllvm_1_1MDNode.html#a4a3aafff3f29eba4c6d639e6648c330c">isTemporary</a>() &amp;&amp; <span class="stringliteral">&quot;Expected this to be temporary&quot;</span>);</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!<a class="code" href="classllvm_1_1MDNode.html#ac8c31a76a81b27c7307d65575b62084f">isResolved</a>() &amp;&amp; <span class="stringliteral">&quot;Expected this to be unresolved&quot;</span>);</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160; </div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;  <span class="comment">// Enable uniquing callbacks.</span></div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> : <a class="code" href="classllvm_1_1MDNode.html#a2a4c38914845e8b9def01a483f0a2497">mutable_operands</a>())</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;    <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.reset(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.get(), <span class="keyword">this</span>);</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160; </div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;  <span class="comment">// Make this &#39;uniqued&#39;.</span></div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;  <a class="code" href="classllvm_1_1Metadata.html#a8265bf29997e9e49d47a38a762d4bb0f">Storage</a> = <a class="code" href="classllvm_1_1Metadata.html#a3f931bc86bd57cd5ea0f53528ae88f80a61241884137094280e36b31589c2b6ba">Uniqued</a>;</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;  countUnresolvedOperands();</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1MDNode.html#afaa888eea64d3619550d172aa7caa19e">getNumUnresolved</a>()) {</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;    dropReplaceableUses();</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="classllvm_1_1MDNode.html#ac8c31a76a81b27c7307d65575b62084f">isResolved</a>() &amp;&amp; <span class="stringliteral">&quot;Expected this to be resolved&quot;</span>);</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;  }</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160; </div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="classllvm_1_1MDNode.html#a92fd2fda0d83920749a3b0ef851b4580">isUniqued</a>() &amp;&amp; <span class="stringliteral">&quot;Expected this to be uniqued&quot;</span>);</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;}</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160; </div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;<span class="keywordtype">void</span> MDNode::makeDistinct() {</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="classllvm_1_1MDNode.html#a4a3aafff3f29eba4c6d639e6648c330c">isTemporary</a>() &amp;&amp; <span class="stringliteral">&quot;Expected this to be temporary&quot;</span>);</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!<a class="code" href="classllvm_1_1MDNode.html#ac8c31a76a81b27c7307d65575b62084f">isResolved</a>() &amp;&amp; <span class="stringliteral">&quot;Expected this to be unresolved&quot;</span>);</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160; </div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;  <span class="comment">// Drop RAUW support and store as a distinct node.</span></div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;  dropReplaceableUses();</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;  <a class="code" href="classllvm_1_1MDNode.html#a478c26e31b9b99fab1ba3036f966f5c9">storeDistinctInContext</a>();</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160; </div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="classllvm_1_1MDNode.html#ab04c4c3fbcec8ecc3fa493fa3bcff8e3">isDistinct</a>() &amp;&amp; <span class="stringliteral">&quot;Expected this to be distinct&quot;</span>);</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="classllvm_1_1MDNode.html#ac8c31a76a81b27c7307d65575b62084f">isResolved</a>() &amp;&amp; <span class="stringliteral">&quot;Expected this to be resolved&quot;</span>);</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;}</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160; </div>
<div class="line"><a name="l00686"></a><span class="lineno"><a class="line" href="classllvm_1_1MDNode.html#a36436cf39711f9bf40066439ccfdcced">  686</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1MDNode.html#a36436cf39711f9bf40066439ccfdcced">MDNode::resolve</a>() {</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="classllvm_1_1MDNode.html#a92fd2fda0d83920749a3b0ef851b4580">isUniqued</a>() &amp;&amp; <span class="stringliteral">&quot;Expected this to be uniqued&quot;</span>);</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!<a class="code" href="classllvm_1_1MDNode.html#ac8c31a76a81b27c7307d65575b62084f">isResolved</a>() &amp;&amp; <span class="stringliteral">&quot;Expected this to be unresolved&quot;</span>);</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160; </div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;  <a class="code" href="classllvm_1_1MDNode.html#a9db501ee1cf923b2031b1b924802fe55">setNumUnresolved</a>(0);</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;  dropReplaceableUses();</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160; </div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="classllvm_1_1MDNode.html#ac8c31a76a81b27c7307d65575b62084f">isResolved</a>() &amp;&amp; <span class="stringliteral">&quot;Expected this to be resolved&quot;</span>);</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;}</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160; </div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;<span class="keywordtype">void</span> MDNode::dropReplaceableUses() {</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!<a class="code" href="classllvm_1_1MDNode.html#afaa888eea64d3619550d172aa7caa19e">getNumUnresolved</a>() &amp;&amp; <span class="stringliteral">&quot;Unexpected unresolved operand&quot;</span>);</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160; </div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;  <span class="comment">// Drop any RAUW support.</span></div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="NVVMIntrRange_8cpp.html#afad351d7bf10ac0446b64e7827634e94">Context</a>.hasReplaceableUses())</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;    <a class="code" href="NVVMIntrRange_8cpp.html#afad351d7bf10ac0446b64e7827634e94">Context</a>.takeReplaceableUses()-&gt;resolveAllUses();</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;}</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160; </div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;<span class="keywordtype">void</span> MDNode::resolveAfterOperandChange(<a class="code" href="classllvm_1_1Metadata.html">Metadata</a> *Old, <a class="code" href="classllvm_1_1Metadata.html">Metadata</a> *New) {</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="classllvm_1_1MDNode.html#a92fd2fda0d83920749a3b0ef851b4580">isUniqued</a>() &amp;&amp; <span class="stringliteral">&quot;Expected this to be uniqued&quot;</span>);</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="classllvm_1_1MDNode.html#afaa888eea64d3619550d172aa7caa19e">getNumUnresolved</a>() != 0 &amp;&amp; <span class="stringliteral">&quot;Expected unresolved operands&quot;</span>);</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160; </div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;  <span class="comment">// Check if an operand was resolved.</span></div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="Metadata_8cpp.html#a30dd6d0a8bb26b2562332856caa54203">isOperandUnresolved</a>(Old)) {</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="Metadata_8cpp.html#a30dd6d0a8bb26b2562332856caa54203">isOperandUnresolved</a>(New))</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;      <span class="comment">// An operand was un-resolved!</span></div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;      <a class="code" href="classllvm_1_1MDNode.html#a9db501ee1cf923b2031b1b924802fe55">setNumUnresolved</a>(<a class="code" href="classllvm_1_1MDNode.html#afaa888eea64d3619550d172aa7caa19e">getNumUnresolved</a>() + 1);</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code" href="Metadata_8cpp.html#a30dd6d0a8bb26b2562332856caa54203">isOperandUnresolved</a>(New))</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;    decrementUnresolvedOperandCount();</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;}</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160; </div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;<span class="keywordtype">void</span> MDNode::decrementUnresolvedOperandCount() {</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!<a class="code" href="classllvm_1_1MDNode.html#ac8c31a76a81b27c7307d65575b62084f">isResolved</a>() &amp;&amp; <span class="stringliteral">&quot;Expected this to be unresolved&quot;</span>);</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1MDNode.html#a4a3aafff3f29eba4c6d639e6648c330c">isTemporary</a>())</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160; </div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="classllvm_1_1MDNode.html#a92fd2fda0d83920749a3b0ef851b4580">isUniqued</a>() &amp;&amp; <span class="stringliteral">&quot;Expected this to be uniqued&quot;</span>);</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;  <a class="code" href="classllvm_1_1MDNode.html#a9db501ee1cf923b2031b1b924802fe55">setNumUnresolved</a>(<a class="code" href="classllvm_1_1MDNode.html#afaa888eea64d3619550d172aa7caa19e">getNumUnresolved</a>() - 1);</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1MDNode.html#afaa888eea64d3619550d172aa7caa19e">getNumUnresolved</a>())</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160; </div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;  <span class="comment">// Last unresolved operand has just been resolved.</span></div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;  dropReplaceableUses();</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="classllvm_1_1MDNode.html#ac8c31a76a81b27c7307d65575b62084f">isResolved</a>() &amp;&amp; <span class="stringliteral">&quot;Expected this to become resolved&quot;</span>);</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;}</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160; </div>
<div class="line"><a name="l00732"></a><span class="lineno"><a class="line" href="classllvm_1_1MDNode.html#a1e374f158a4fbdac4f74797096ced49a">  732</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1MDNode.html#a1e374f158a4fbdac4f74797096ced49a">MDNode::resolveCycles</a>() {</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1MDNode.html#ac8c31a76a81b27c7307d65575b62084f">isResolved</a>())</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160; </div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;  <span class="comment">// Resolve this node immediately.</span></div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;  <a class="code" href="classllvm_1_1MDNode.html#a36436cf39711f9bf40066439ccfdcced">resolve</a>();</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160; </div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;  <span class="comment">// Resolve all operands.</span></div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> : <a class="code" href="classllvm_1_1MDNode.html#a2ff0e0e87a2d1056a7b6d7d4b878c4ec">operands</a>()) {</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;    <span class="keyword">auto</span> *<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> = dyn_cast_or_null&lt;MDNode&gt;(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>);</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>)</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160; </div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;isTemporary() &amp;&amp;</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;           <span class="stringliteral">&quot;Expected all forward declarations to be resolved&quot;</span>);</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;isResolved())</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;      <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;resolveCycles();</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;  }</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;}</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160; </div>
<div class="line"><a name="l00752"></a><span class="lineno"><a class="line" href="Metadata_8cpp.html#a49da541b1e4cbb56f6ffaf92a684a697">  752</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="Metadata_8cpp.html#a49da541b1e4cbb56f6ffaf92a684a697">hasSelfReference</a>(<a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>) {</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#acd1cd968cb420c82d70926920fcdc7d7">llvm::is_contained</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;operands(), <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;}</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160; </div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;<a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *MDNode::replaceWithPermanentImpl() {</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;  <span class="keywordflow">switch</span> (<a class="code" href="classllvm_1_1Metadata.html#a91c7b9c7cf6694f41b9030429b582d26">getMetadataID</a>()) {</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;    <span class="comment">// If this type isn&#39;t uniquable, replace with a distinct node.</span></div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;    <span class="keywordflow">return</span> replaceWithDistinctImpl();</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160; </div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;<span class="preprocessor">#define HANDLE_MDNODE_LEAF_UNIQUABLE(CLASS)                                    \</span></div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;<span class="preprocessor">  case CLASS##Kind:                                                            \</span></div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;<span class="preprocessor">    break;</span></div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;<span class="preprocessor">#include &quot;llvm/IR/Metadata.def&quot;</span></div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;  }</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160; </div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;  <span class="comment">// Even if this type is uniquable, self-references have to be distinct.</span></div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="Metadata_8cpp.html#a49da541b1e4cbb56f6ffaf92a684a697">hasSelfReference</a>(<span class="keyword">this</span>))</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;    <span class="keywordflow">return</span> replaceWithDistinctImpl();</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;  <span class="keywordflow">return</span> replaceWithUniquedImpl();</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;}</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160; </div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;<a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *MDNode::replaceWithUniquedImpl() {</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;  <span class="comment">// Try to uniquify in place.</span></div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;  <a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *UniquedNode = uniquify();</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160; </div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;  <span class="keywordflow">if</span> (UniquedNode == <span class="keyword">this</span>) {</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;    makeUniqued();</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">this</span>;</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;  }</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160; </div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;  <span class="comment">// Collision, so RAUW instead.</span></div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;  <a class="code" href="classllvm_1_1MDNode.html#a2e9fe39301fbac7276c8d9f3e1884dc2">replaceAllUsesWith</a>(UniquedNode);</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;  deleteAsSubclass();</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;  <span class="keywordflow">return</span> UniquedNode;</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;}</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160; </div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;<a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *MDNode::replaceWithDistinctImpl() {</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;  makeDistinct();</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">this</span>;</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;}</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160; </div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;<span class="keywordtype">void</span> MDTuple::recalculateHash() {</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;  setHash(MDTupleInfo::KeyTy::calculateHash(<span class="keyword">this</span>));</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;}</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160; </div>
<div class="line"><a name="l00798"></a><span class="lineno"><a class="line" href="classllvm_1_1MDNode.html#aee5630d2f87361a6652ded2c474efe41">  798</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1MDNode.html#aee5630d2f87361a6652ded2c474efe41">MDNode::dropAllReferences</a>() {</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 0, <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = <a class="code" href="classllvm_1_1MDNode.html#aa4068e37ec583962685e3567dc102ae5">getNumOperands</a>(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;    <a class="code" href="classllvm_1_1MDNode.html#abfa8b6d71b4325aa92a1f18cc566cfeb">setOperand</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="NVVMIntrRange_8cpp.html#afad351d7bf10ac0446b64e7827634e94">Context</a>.hasReplaceableUses()) {</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;    <a class="code" href="NVVMIntrRange_8cpp.html#afad351d7bf10ac0446b64e7827634e94">Context</a>.getReplaceableUses()-&gt;resolveAllUses(<span class="comment">/* ResolveUsers */</span> <span class="keyword">false</span>);</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;    (void)<a class="code" href="NVVMIntrRange_8cpp.html#afad351d7bf10ac0446b64e7827634e94">Context</a>.takeReplaceableUses();</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;  }</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;}</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160; </div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;<span class="keywordtype">void</span> MDNode::handleChangedOperand(<span class="keywordtype">void</span> *Ref, <a class="code" href="classllvm_1_1Metadata.html">Metadata</a> *New) {</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> = <span class="keyword">static_cast&lt;</span><a class="code" href="classllvm_1_1MDOperand.html">MDOperand</a> *<span class="keyword">&gt;</span>(<a class="code" href="namespacellvm.html#a9db8c44b250b90e3ab7e4d144e7c9c2ea60baadb22e80b147e4885ad16760e569">Ref</a>) - <a class="code" href="classllvm_1_1MDNode.html#ac9a44b78ebdc1a9be01a96cc5e3bbb59">op_begin</a>();</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> &lt; <a class="code" href="classllvm_1_1MDNode.html#aa4068e37ec583962685e3567dc102ae5">getNumOperands</a>() &amp;&amp; <span class="stringliteral">&quot;Expected valid operand&quot;</span>);</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160; </div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1MDNode.html#a92fd2fda0d83920749a3b0ef851b4580">isUniqued</a>()) {</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;    <span class="comment">// This node is not uniqued.  Just set the operand and be done with it.</span></div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;    <a class="code" href="classllvm_1_1MDNode.html#abfa8b6d71b4325aa92a1f18cc566cfeb">setOperand</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, New);</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;  }</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160; </div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;  <span class="comment">// This node is uniqued.</span></div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;  eraseFromStore();</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160; </div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;  <a class="code" href="classllvm_1_1Metadata.html">Metadata</a> *Old = <a class="code" href="classllvm_1_1MDNode.html#a6cbc0453586a25c057a32161b38b8ce4">getOperand</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>);</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;  <a class="code" href="classllvm_1_1MDNode.html#abfa8b6d71b4325aa92a1f18cc566cfeb">setOperand</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, New);</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160; </div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;  <span class="comment">// Drop uniquing for self-reference cycles and deleted constants.</span></div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;  <span class="keywordflow">if</span> (New == <span class="keyword">this</span> || (!New &amp;&amp; Old &amp;&amp; isa&lt;ConstantAsMetadata&gt;(Old))) {</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1MDNode.html#ac8c31a76a81b27c7307d65575b62084f">isResolved</a>())</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;      <a class="code" href="classllvm_1_1MDNode.html#a36436cf39711f9bf40066439ccfdcced">resolve</a>();</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;    <a class="code" href="classllvm_1_1MDNode.html#a478c26e31b9b99fab1ba3036f966f5c9">storeDistinctInContext</a>();</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;  }</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160; </div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;  <span class="comment">// Re-unique the node.</span></div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;  <span class="keyword">auto</span> *<a class="code" href="classllvm_1_1Metadata.html#a3f931bc86bd57cd5ea0f53528ae88f80a61241884137094280e36b31589c2b6ba">Uniqued</a> = uniquify();</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Metadata.html#a3f931bc86bd57cd5ea0f53528ae88f80a61241884137094280e36b31589c2b6ba">Uniqued</a> == <span class="keyword">this</span>) {</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1MDNode.html#ac8c31a76a81b27c7307d65575b62084f">isResolved</a>())</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;      resolveAfterOperandChange(Old, New);</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;  }</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160; </div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;  <span class="comment">// Collision.</span></div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1MDNode.html#ac8c31a76a81b27c7307d65575b62084f">isResolved</a>()) {</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;    <span class="comment">// Still unresolved, so RAUW.</span></div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;    <span class="comment">// First, clear out all operands to prevent any recursion (similar to</span></div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;    <span class="comment">// dropAllReferences(), but we still need the use-list).</span></div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1a33f1d911a725a1f81234a908d03edb">O</a> = 0, <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = <a class="code" href="classllvm_1_1MDNode.html#aa4068e37ec583962685e3567dc102ae5">getNumOperands</a>(); <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1a33f1d911a725a1f81234a908d03edb">O</a> != <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>; ++<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1a33f1d911a725a1f81234a908d03edb">O</a>)</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;      <a class="code" href="classllvm_1_1MDNode.html#abfa8b6d71b4325aa92a1f18cc566cfeb">setOperand</a>(<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1a33f1d911a725a1f81234a908d03edb">O</a>, <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="NVVMIntrRange_8cpp.html#afad351d7bf10ac0446b64e7827634e94">Context</a>.hasReplaceableUses())</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;      <a class="code" href="NVVMIntrRange_8cpp.html#afad351d7bf10ac0446b64e7827634e94">Context</a>.getReplaceableUses()-&gt;replaceAllUsesWith(<a class="code" href="classllvm_1_1Metadata.html#a3f931bc86bd57cd5ea0f53528ae88f80a61241884137094280e36b31589c2b6ba">Uniqued</a>);</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;    deleteAsSubclass();</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;  }</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160; </div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;  <span class="comment">// Store in non-uniqued form if RAUW isn&#39;t possible.</span></div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;  <a class="code" href="classllvm_1_1MDNode.html#a478c26e31b9b99fab1ba3036f966f5c9">storeDistinctInContext</a>();</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;}</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160; </div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;<span class="keywordtype">void</span> MDNode::deleteAsSubclass() {</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;  <span class="keywordflow">switch</span> (<a class="code" href="classllvm_1_1Metadata.html#a91c7b9c7cf6694f41b9030429b582d26">getMetadataID</a>()) {</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;    <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Invalid subclass of MDNode&quot;</span>);</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;<span class="preprocessor">#define HANDLE_MDNODE_LEAF(CLASS)                                              \</span></div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;<span class="preprocessor">  case CLASS##Kind:                                                            \</span></div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;<span class="preprocessor">    delete cast&lt;CLASS&gt;(this);                                                  \</span></div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;<span class="preprocessor">    break;</span></div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;<span class="preprocessor">#include &quot;llvm/IR/Metadata.def&quot;</span></div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;  }</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;}</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160; </div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keyword">class</span> InfoT&gt;</div>
<div class="line"><a name="l00870"></a><span class="lineno"><a class="line" href="Metadata_8cpp.html#ab398ef03cd8d00eab45483bb716cdcf4">  870</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classT.html">T</a> *<a class="code" href="Metadata_8cpp.html#ab398ef03cd8d00eab45483bb716cdcf4">uniquifyImpl</a>(<a class="code" href="classT.html">T</a> *<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, <a class="code" href="classllvm_1_1DenseSet.html">DenseSet&lt;T *, InfoT&gt;</a> &amp;<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa36b3dd3b84fde3f8494a9b18af131856">Store</a>) {</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classT.html">T</a> *U = <a class="code" href="namespacellvm.html#af21b4642091ba7f9791cc0a0dee67633">getUniqued</a>(<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa36b3dd3b84fde3f8494a9b18af131856">Store</a>, <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>))</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;    <span class="keywordflow">return</span> U;</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160; </div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;  <a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa36b3dd3b84fde3f8494a9b18af131856">Store</a>.insert(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>;</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;}</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160; </div>
<div class="line"><a name="l00878"></a><span class="lineno"><a class="line" href="structMDNode_1_1HasCachedHash.html">  878</a></span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> NodeTy&gt; <span class="keyword">struct </span>MDNode::HasCachedHash {</div>
<div class="line"><a name="l00879"></a><span class="lineno"><a class="line" href="structMDNode_1_1HasCachedHash.html#ad557d5341f1dfffad09e53d470db1c64">  879</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="structMDNode_1_1HasCachedHash.html#ad557d5341f1dfffad09e53d470db1c64">Yes</a> = <span class="keywordtype">char</span>[1];</div>
<div class="line"><a name="l00880"></a><span class="lineno"><a class="line" href="structMDNode_1_1HasCachedHash.html#aa1db4315883ca18b9b685acd3fe26520">  880</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="structMDNode_1_1HasCachedHash.html#aa1db4315883ca18b9b685acd3fe26520">No</a> = <span class="keywordtype">char</span>[2];</div>
<div class="line"><a name="l00881"></a><span class="lineno"><a class="line" href="structMDNode_1_1HasCachedHash_1_1SFINAE.html">  881</a></span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">class</span> U, U Val&gt; <span class="keyword">struct </span><a class="code" href="structMDNode_1_1HasCachedHash_1_1SFINAE.html">SFINAE</a> {};</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160; </div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">class</span> U&gt;</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;  <span class="keyword">static</span> <a class="code" href="structMDNode_1_1HasCachedHash.html#ad557d5341f1dfffad09e53d470db1c64">Yes</a> &amp;<a class="code" href="GenericCycleImpl_8h.html#a9b7ee5bbb263671ca310a70e0d1526e9">check</a>(<a class="code" href="structMDNode_1_1HasCachedHash_1_1SFINAE.html">SFINAE</a>&lt;<span class="keywordtype">void</span> (U::*)(<span class="keywordtype">unsigned</span>), &amp;U::setHash&gt; *);</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">class</span> U&gt; <span class="keyword">static</span> <a class="code" href="structMDNode_1_1HasCachedHash.html#aa1db4315883ca18b9b685acd3fe26520">No</a> &amp;<a class="code" href="GenericCycleImpl_8h.html#a9b7ee5bbb263671ca310a70e0d1526e9">check</a>(...);</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160; </div>
<div class="line"><a name="l00887"></a><span class="lineno"><a class="line" href="structMDNode_1_1HasCachedHash.html#ad9f8c50f6036ccdb55778800dae74f56">  887</a></span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">bool</span> value = <span class="keyword">sizeof</span>(check&lt;NodeTy&gt;(<span class="keyword">nullptr</span>)) == <span class="keyword">sizeof</span>(<a class="code" href="structMDNode_1_1HasCachedHash.html#ad557d5341f1dfffad09e53d470db1c64">Yes</a>);</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;};</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160; </div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;<a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *MDNode::uniquify() {</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!<a class="code" href="Metadata_8cpp.html#a49da541b1e4cbb56f6ffaf92a684a697">hasSelfReference</a>(<span class="keyword">this</span>) &amp;&amp; <span class="stringliteral">&quot;Cannot uniquify a self-referencing node&quot;</span>);</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160; </div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;  <span class="comment">// Try to insert into uniquing store.</span></div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;  <span class="keywordflow">switch</span> (<a class="code" href="classllvm_1_1Metadata.html#a91c7b9c7cf6694f41b9030429b582d26">getMetadataID</a>()) {</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;    <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Invalid or non-uniquable subclass of MDNode&quot;</span>);</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;<span class="preprocessor">#define HANDLE_MDNODE_LEAF_UNIQUABLE(CLASS)                                    \</span></div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;<span class="preprocessor">  case CLASS##Kind: {                                                          \</span></div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;<span class="preprocessor">    CLASS *SubclassThis = cast&lt;CLASS&gt;(this);                                   \</span></div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;<span class="preprocessor">    std::integral_constant&lt;bool, HasCachedHash&lt;CLASS&gt;::value&gt;                  \</span></div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;<span class="preprocessor">        ShouldRecalculateHash;                                                 \</span></div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;<span class="preprocessor">    dispatchRecalculateHash(SubclassThis, ShouldRecalculateHash);              \</span></div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;<span class="preprocessor">    return uniquifyImpl(SubclassThis, getContext().pImpl-&gt;CLASS##s);           \</span></div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;<span class="preprocessor">  }</span></div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;<span class="preprocessor">#include &quot;llvm/IR/Metadata.def&quot;</span></div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;  }</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;}</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160; </div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;<span class="keywordtype">void</span> MDNode::eraseFromStore() {</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;  <span class="keywordflow">switch</span> (<a class="code" href="classllvm_1_1Metadata.html#a91c7b9c7cf6694f41b9030429b582d26">getMetadataID</a>()) {</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;    <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Invalid or non-uniquable subclass of MDNode&quot;</span>);</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;<span class="preprocessor">#define HANDLE_MDNODE_LEAF_UNIQUABLE(CLASS)                                    \</span></div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;<span class="preprocessor">  case CLASS##Kind:                                                            \</span></div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;<span class="preprocessor">    getContext().pImpl-&gt;CLASS##s.erase(cast&lt;CLASS&gt;(this));                     \</span></div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;<span class="preprocessor">    break;</span></div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;<span class="preprocessor">#include &quot;llvm/IR/Metadata.def&quot;</span></div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;  }</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;}</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160; </div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;<a class="code" href="classllvm_1_1MDTuple.html">MDTuple</a> *MDTuple::getImpl(<a class="code" href="classllvm_1_1LLVMContext.html">LLVMContext</a> &amp;<a class="code" href="NVVMIntrRange_8cpp.html#afad351d7bf10ac0446b64e7827634e94">Context</a>, <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;Metadata *&gt;</a> MDs,</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;                          StorageType Storage, <span class="keywordtype">bool</span> ShouldCreate) {</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;  <span class="keywordtype">unsigned</span> Hash = 0;</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Metadata.html#a8265bf29997e9e49d47a38a762d4bb0f">Storage</a> == <a class="code" href="classllvm_1_1Metadata.html#a3f931bc86bd57cd5ea0f53528ae88f80a61241884137094280e36b31589c2b6ba">Uniqued</a>) {</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;    MDTupleInfo::KeyTy <a class="code" href="namespacellvm_1_1AMDGPU_1_1PALMD.html#af892c75285b0f64d58ca76cb73059adf">Key</a>(MDs);</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> *<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> = <a class="code" href="namespacellvm.html#af21b4642091ba7f9791cc0a0dee67633">getUniqued</a>(<a class="code" href="NVVMIntrRange_8cpp.html#afad351d7bf10ac0446b64e7827634e94">Context</a>.<a class="code" href="classllvm_1_1LLVMContext.html#aa142c8c536b95dd8e8a243cb67b57a80">pImpl</a>-&gt;MDTuples, <a class="code" href="namespacellvm_1_1AMDGPU_1_1PALMD.html#af892c75285b0f64d58ca76cb73059adf">Key</a>))</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>;</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;    <span class="keywordflow">if</span> (!ShouldCreate)</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;    Hash = <a class="code" href="namespacellvm_1_1AMDGPU_1_1PALMD.html#af892c75285b0f64d58ca76cb73059adf">Key</a>.getHash();</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(ShouldCreate &amp;&amp; <span class="stringliteral">&quot;Expected non-uniqued nodes to always be created&quot;</span>);</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;  }</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160; </div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1MDNode.html#ad0c6e5f8501b6685c39f35bd56cf0fd2">storeImpl</a>(<span class="keyword">new</span> (MDs.<a class="code" href="classllvm_1_1ArrayRef.html#a85ffb6531d4cda988ea81f18d4e56fb7">size</a>(), <a class="code" href="classllvm_1_1Metadata.html#a8265bf29997e9e49d47a38a762d4bb0f">Storage</a>)</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;                       <a class="code" href="classllvm_1_1MDTuple.html">MDTuple</a>(Context, <a class="code" href="classllvm_1_1Metadata.html#a8265bf29997e9e49d47a38a762d4bb0f">Storage</a>, Hash, MDs),</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;                   <a class="code" href="classllvm_1_1Metadata.html#a8265bf29997e9e49d47a38a762d4bb0f">Storage</a>, <a class="code" href="NVVMIntrRange_8cpp.html#afad351d7bf10ac0446b64e7827634e94">Context</a>.<a class="code" href="classllvm_1_1LLVMContext.html#aa142c8c536b95dd8e8a243cb67b57a80">pImpl</a>-&gt;MDTuples);</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;}</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160; </div>
<div class="line"><a name="l00940"></a><span class="lineno"><a class="line" href="classllvm_1_1MDNode.html#a35e99dcd42831a0c100d6eed535eae23">  940</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1MDNode.html#a35e99dcd42831a0c100d6eed535eae23">MDNode::deleteTemporary</a>(<a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>) {</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;isTemporary() &amp;&amp; <span class="stringliteral">&quot;Expected temporary node&quot;</span>);</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;  <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;replaceAllUsesWith(<span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;  <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;deleteAsSubclass();</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;}</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160; </div>
<div class="line"><a name="l00946"></a><span class="lineno"><a class="line" href="classllvm_1_1MDNode.html#a478c26e31b9b99fab1ba3036f966f5c9">  946</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1MDNode.html#a478c26e31b9b99fab1ba3036f966f5c9">MDNode::storeDistinctInContext</a>() {</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!<a class="code" href="NVVMIntrRange_8cpp.html#afad351d7bf10ac0446b64e7827634e94">Context</a>.hasReplaceableUses() &amp;&amp; <span class="stringliteral">&quot;Unexpected replaceable uses&quot;</span>);</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!<a class="code" href="classllvm_1_1MDNode.html#afaa888eea64d3619550d172aa7caa19e">getNumUnresolved</a>() &amp;&amp; <span class="stringliteral">&quot;Unexpected unresolved nodes&quot;</span>);</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;  <a class="code" href="classllvm_1_1Metadata.html#a8265bf29997e9e49d47a38a762d4bb0f">Storage</a> = <a class="code" href="classllvm_1_1Metadata.html#a3f931bc86bd57cd5ea0f53528ae88f80a371ec05b3e6903fb1dcad8a46bae5d38">Distinct</a>;</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="classllvm_1_1MDNode.html#ac8c31a76a81b27c7307d65575b62084f">isResolved</a>() &amp;&amp; <span class="stringliteral">&quot;Expected this to be resolved&quot;</span>);</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160; </div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;  <span class="comment">// Reset the hash.</span></div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;  <span class="keywordflow">switch</span> (<a class="code" href="classllvm_1_1Metadata.html#a91c7b9c7cf6694f41b9030429b582d26">getMetadataID</a>()) {</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;    <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Invalid subclass of MDNode&quot;</span>);</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;<span class="preprocessor">#define HANDLE_MDNODE_LEAF(CLASS)                                              \</span></div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;<span class="preprocessor">  case CLASS##Kind: {                                                          \</span></div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;<span class="preprocessor">    std::integral_constant&lt;bool, HasCachedHash&lt;CLASS&gt;::value&gt; ShouldResetHash; \</span></div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;<span class="preprocessor">    dispatchResetHash(cast&lt;CLASS&gt;(this), ShouldResetHash);                     \</span></div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;<span class="preprocessor">    break;                                                                     \</span></div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;<span class="preprocessor">  }</span></div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;<span class="preprocessor">#include &quot;llvm/IR/Metadata.def&quot;</span></div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;  }</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160; </div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;  <a class="code" href="classllvm_1_1MDNode.html#a936739514bcdb01ddd2826fa70cf15a5">getContext</a>().<a class="code" href="classllvm_1_1LLVMContext.html#aa142c8c536b95dd8e8a243cb67b57a80">pImpl</a>-&gt;<a class="code" href="classllvm_1_1LLVMContextImpl.html#a486a6a1f8fa108a74b851328dca40143">DistinctMDNodes</a>.push_back(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;}</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160; </div>
<div class="line"><a name="l00968"></a><span class="lineno"><a class="line" href="classllvm_1_1MDNode.html#a160e9e1a4fd597f83034c8b2ba316984">  968</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1MDNode.html#a160e9e1a4fd597f83034c8b2ba316984">MDNode::replaceOperandWith</a>(<span class="keywordtype">unsigned</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="classllvm_1_1Metadata.html">Metadata</a> *New) {</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1MDNode.html#a6cbc0453586a25c057a32161b38b8ce4">getOperand</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) == New)</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160; </div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1MDNode.html#a92fd2fda0d83920749a3b0ef851b4580">isUniqued</a>()) {</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;    <a class="code" href="classllvm_1_1MDNode.html#abfa8b6d71b4325aa92a1f18cc566cfeb">setOperand</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, New);</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;  }</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160; </div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;  handleChangedOperand(<a class="code" href="classllvm_1_1MDNode.html#a44b68e8d9b3efbac171194130619ccf6">mutable_begin</a>() + <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, New);</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;}</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160; </div>
<div class="line"><a name="l00980"></a><span class="lineno"><a class="line" href="classllvm_1_1MDNode.html#abfa8b6d71b4325aa92a1f18cc566cfeb">  980</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1MDNode.html#abfa8b6d71b4325aa92a1f18cc566cfeb">MDNode::setOperand</a>(<span class="keywordtype">unsigned</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="classllvm_1_1Metadata.html">Metadata</a> *New) {</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> &lt; <a class="code" href="classllvm_1_1MDNode.html#aa4068e37ec583962685e3567dc102ae5">getNumOperands</a>());</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;  <a class="code" href="classllvm_1_1MDNode.html#a44b68e8d9b3efbac171194130619ccf6">mutable_begin</a>()[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>].<a class="code" href="classllvm_1_1MDOperand.html#adbf1e0362caee7340d321f61332c91ca">reset</a>(New, <a class="code" href="classllvm_1_1MDNode.html#a92fd2fda0d83920749a3b0ef851b4580">isUniqued</a>() ? <span class="keyword">this</span> : <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;}</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;<span class="comment">/// Get a node or a self-reference that looks like it.</span></div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;<span class="comment">/// Special handling for finding self-references, for use by \a</span></div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;<span class="comment">/// MDNode::concatenate() and \a MDNode::intersect() to maintain behaviour from</span></div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;<span class="comment">/// when self-referencing nodes were still uniqued.  If the first operand has</span></div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;<span class="comment">/// the same operands as \c Ops, return the first operand instead.</span></div>
<div class="line"><a name="l00991"></a><span class="lineno"><a class="line" href="Metadata_8cpp.html#a491a08b74112dc7758c6aa341e219baf">  991</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *<a class="code" href="Metadata_8cpp.html#a491a08b74112dc7758c6aa341e219baf">getOrSelfReference</a>(<a class="code" href="classllvm_1_1LLVMContext.html">LLVMContext</a> &amp;<a class="code" href="NVVMIntrRange_8cpp.html#afad351d7bf10ac0446b64e7827634e94">Context</a>,</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;                                  <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;Metadata *&gt;</a> Ops) {</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;  <span class="keywordflow">if</span> (!Ops.<a class="code" href="classllvm_1_1ArrayRef.html#ac835b8735b1b2faec0efdca236e37d94">empty</a>())</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> = dyn_cast_or_null&lt;MDNode&gt;(Ops[0]))</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getNumOperands() == Ops.<a class="code" href="classllvm_1_1ArrayRef.html#a85ffb6531d4cda988ea81f18d4e56fb7">size</a>() &amp;&amp; <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> == <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(0)) {</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 1, <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = Ops.<a class="code" href="classllvm_1_1ArrayRef.html#a85ffb6531d4cda988ea81f18d4e56fb7">size</a>(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;          <span class="keywordflow">if</span> (Ops[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>] != <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>))</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1MDNode.html#a7d10a7b9b7f40b04d27ed97c38ea1950">MDNode::get</a>(<a class="code" href="NVVMIntrRange_8cpp.html#afad351d7bf10ac0446b64e7827634e94">Context</a>, Ops);</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>;</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;      }</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160; </div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1MDNode.html#a7d10a7b9b7f40b04d27ed97c38ea1950">MDNode::get</a>(<a class="code" href="NVVMIntrRange_8cpp.html#afad351d7bf10ac0446b64e7827634e94">Context</a>, Ops);</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;}</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160; </div>
<div class="line"><a name="l01005"></a><span class="lineno"><a class="line" href="classllvm_1_1MDNode.html#a3279d6d110c594673e692308fce00fab"> 1005</a></span>&#160;<a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *<a class="code" href="classllvm_1_1MDNode.html#a3279d6d110c594673e692308fce00fab">MDNode::concatenate</a>(<a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *A, <a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>) {</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;  <span class="keywordflow">if</span> (!A)</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>;</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>)</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;    <span class="keywordflow">return</span> A;</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160; </div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;  <a class="code" href="classllvm_1_1SmallSetVector.html">SmallSetVector&lt;Metadata *, 4&gt;</a> MDs(A-&gt;op_begin(), A-&gt;op_end());</div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;  MDs.<a class="code" href="classllvm_1_1SetVector.html#a72d928b7fc2c5f2d56c6ac0265fd9c6e">insert</a>(<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>-&gt;op_begin(), <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>-&gt;op_end());</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160; </div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;  <span class="comment">// FIXME: This preserves long-standing behaviour, but is it really the right</span></div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;  <span class="comment">// behaviour?  Or was that an unintended side-effect of node uniquing?</span></div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="Metadata_8cpp.html#a491a08b74112dc7758c6aa341e219baf">getOrSelfReference</a>(A-&gt;getContext(), MDs.<a class="code" href="classllvm_1_1SetVector.html#a55ffacfbd9b6de5eb90a9f443001e3a6">getArrayRef</a>());</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;}</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160; </div>
<div class="line"><a name="l01019"></a><span class="lineno"><a class="line" href="classllvm_1_1MDNode.html#acdbfda46c9837123ef7143244fc1f904"> 1019</a></span>&#160;<a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *<a class="code" href="classllvm_1_1MDNode.html#acdbfda46c9837123ef7143244fc1f904">MDNode::intersect</a>(<a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *A, <a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>) {</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;  <span class="keywordflow">if</span> (!A || !<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>)</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160; </div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;  <a class="code" href="classllvm_1_1SmallSetVector.html">SmallSetVector&lt;Metadata *, 4&gt;</a> MDs(A-&gt;op_begin(), A-&gt;op_end());</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;  <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;Metadata *, 4&gt;</a> BSet(<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>-&gt;op_begin(), <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>-&gt;op_end());</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;  MDs.<a class="code" href="classllvm_1_1SetVector.html#a5779c9e110b51323b5f8a8216499634d">remove_if</a>([&amp;](<a class="code" href="classllvm_1_1Metadata.html">Metadata</a> *MD) { <span class="keywordflow">return</span> !BSet.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a1f475b0df44ebd7169e720fa1bf9169e">count</a>(MD); });</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160; </div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;  <span class="comment">// FIXME: This preserves long-standing behaviour, but is it really the right</span></div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;  <span class="comment">// behaviour?  Or was that an unintended side-effect of node uniquing?</span></div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="Metadata_8cpp.html#a491a08b74112dc7758c6aa341e219baf">getOrSelfReference</a>(A-&gt;getContext(), MDs.<a class="code" href="classllvm_1_1SetVector.html#a55ffacfbd9b6de5eb90a9f443001e3a6">getArrayRef</a>());</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;}</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160; </div>
<div class="line"><a name="l01032"></a><span class="lineno"><a class="line" href="classllvm_1_1MDNode.html#a088247f165cc7e2ca9a3917adc0e75df"> 1032</a></span>&#160;<a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *<a class="code" href="classllvm_1_1MDNode.html#a088247f165cc7e2ca9a3917adc0e75df">MDNode::getMostGenericAliasScope</a>(<a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *A, <a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>) {</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;  <span class="keywordflow">if</span> (!A || !<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>)</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160; </div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;  <span class="comment">// Take the intersection of domains then union the scopes</span></div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;  <span class="comment">// within those domains</span></div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;  <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;const MDNode *, 16&gt;</a> ADomains;</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;  <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;const MDNode *, 16&gt;</a> IntersectDomains;</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;  <a class="code" href="classllvm_1_1SmallSetVector.html">SmallSetVector&lt;Metadata *, 4&gt;</a> MDs;</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1MDOperand.html">MDOperand</a> &amp;MDOp : A-&gt;operands())</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *NAMD = dyn_cast&lt;MDNode&gt;(MDOp))</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *<a class="code" href="CorrelatedValuePropagation_8cpp.html#aad75d6f4f14a7b791076c6785aa59be4">Domain</a> = <a class="code" href="classllvm_1_1AliasScopeNode.html">AliasScopeNode</a>(NAMD).<a class="code" href="CorrelatedValuePropagation_8cpp.html#a8c825d8718637fb081db2cf8fbade190">getDomain</a>())</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;        ADomains.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">insert</a>(<a class="code" href="CorrelatedValuePropagation_8cpp.html#aad75d6f4f14a7b791076c6785aa59be4">Domain</a>);</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160; </div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1MDOperand.html">MDOperand</a> &amp;MDOp : <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>-&gt;operands())</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *NAMD = dyn_cast&lt;MDNode&gt;(MDOp))</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *<a class="code" href="CorrelatedValuePropagation_8cpp.html#aad75d6f4f14a7b791076c6785aa59be4">Domain</a> = <a class="code" href="classllvm_1_1AliasScopeNode.html">AliasScopeNode</a>(NAMD).<a class="code" href="CorrelatedValuePropagation_8cpp.html#a8c825d8718637fb081db2cf8fbade190">getDomain</a>())</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;        <span class="keywordflow">if</span> (ADomains.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#af74676a3c7447be34bd2c1da76ec0c48">contains</a>(<a class="code" href="CorrelatedValuePropagation_8cpp.html#aad75d6f4f14a7b791076c6785aa59be4">Domain</a>)) {</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;          IntersectDomains.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">insert</a>(<a class="code" href="CorrelatedValuePropagation_8cpp.html#aad75d6f4f14a7b791076c6785aa59be4">Domain</a>);</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;          MDs.<a class="code" href="classllvm_1_1SetVector.html#a72d928b7fc2c5f2d56c6ac0265fd9c6e">insert</a>(MDOp);</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;        }</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160; </div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1MDOperand.html">MDOperand</a> &amp;MDOp : A-&gt;operands())</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *NAMD = dyn_cast&lt;MDNode&gt;(MDOp))</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *<a class="code" href="CorrelatedValuePropagation_8cpp.html#aad75d6f4f14a7b791076c6785aa59be4">Domain</a> = <a class="code" href="classllvm_1_1AliasScopeNode.html">AliasScopeNode</a>(NAMD).<a class="code" href="CorrelatedValuePropagation_8cpp.html#a8c825d8718637fb081db2cf8fbade190">getDomain</a>())</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;        <span class="keywordflow">if</span> (IntersectDomains.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#af74676a3c7447be34bd2c1da76ec0c48">contains</a>(<a class="code" href="CorrelatedValuePropagation_8cpp.html#aad75d6f4f14a7b791076c6785aa59be4">Domain</a>))</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;          MDs.<a class="code" href="classllvm_1_1SetVector.html#a72d928b7fc2c5f2d56c6ac0265fd9c6e">insert</a>(MDOp);</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160; </div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;  <span class="keywordflow">return</span> MDs.<a class="code" href="classllvm_1_1SetVector.html#aaf9ee38b9973681c1720aaf03af3a069">empty</a>() ? nullptr</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;                     : <a class="code" href="Metadata_8cpp.html#a491a08b74112dc7758c6aa341e219baf">getOrSelfReference</a>(A-&gt;getContext(), MDs.<a class="code" href="classllvm_1_1SetVector.html#a55ffacfbd9b6de5eb90a9f443001e3a6">getArrayRef</a>());</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;}</div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160; </div>
<div class="line"><a name="l01064"></a><span class="lineno"><a class="line" href="classllvm_1_1MDNode.html#a9d9f2d817781a31c771406d1f0acc9fb"> 1064</a></span>&#160;<a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *<a class="code" href="classllvm_1_1MDNode.html#a9d9f2d817781a31c771406d1f0acc9fb">MDNode::getMostGenericFPMath</a>(<a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *A, <a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>) {</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;  <span class="keywordflow">if</span> (!A || !<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>)</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160; </div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;  <a class="code" href="classllvm_1_1APFloat.html">APFloat</a> AVal = mdconst::extract&lt;ConstantFP&gt;(A-&gt;getOperand(0))-&gt;getValueAPF();</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;  <a class="code" href="classllvm_1_1APFloat.html">APFloat</a> BVal = mdconst::extract&lt;ConstantFP&gt;(<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>-&gt;getOperand(0))-&gt;getValueAPF();</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;  <span class="keywordflow">if</span> (AVal &lt; BVal)</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;    <span class="keywordflow">return</span> A;</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>;</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;}</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160; </div>
<div class="line"><a name="l01075"></a><span class="lineno"><a class="line" href="Metadata_8cpp.html#abfdeb164ba655887934d5e0a9fc70b30"> 1075</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="Metadata_8cpp.html#abfdeb164ba655887934d5e0a9fc70b30">isContiguous</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a> &amp;A, <span class="keyword">const</span> <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a> &amp;<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>) {</div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;  <span class="keywordflow">return</span> A.getUpper() == <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>.getLower() || A.getLower() == <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>.getUpper();</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;}</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160; </div>
<div class="line"><a name="l01079"></a><span class="lineno"><a class="line" href="Metadata_8cpp.html#a8979827a67778520a30a51f14d1a0a1a"> 1079</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="Metadata_8cpp.html#a8979827a67778520a30a51f14d1a0a1a">canBeMerged</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a> &amp;A, <span class="keyword">const</span> <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a> &amp;<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>) {</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;  <span class="keywordflow">return</span> !A.intersectWith(<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>).isEmptySet() || <a class="code" href="Metadata_8cpp.html#abfdeb164ba655887934d5e0a9fc70b30">isContiguous</a>(A, <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>);</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;}</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160; </div>
<div class="line"><a name="l01083"></a><span class="lineno"><a class="line" href="Metadata_8cpp.html#ac485f1a06d95a982f897655933212766"> 1083</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="Metadata_8cpp.html#ac485f1a06d95a982f897655933212766">tryMergeRange</a>(<a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;ConstantInt *&gt;</a> &amp;EndPoints,</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;                          <a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *Low, <a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *<a class="code" href="NVVMIntrRange_8cpp.html#a7df34dbf636f2fbbb00f2b86eccdb1eb">High</a>) {</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;  <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a> NewRange(<a class="code" href="namespacellvm.html#a05609d049bfe3c5c2f64711566131a86a28d0edd045e05cf5af64e35ae0c4c6ef">Low</a>-&gt;getValue(), <a class="code" href="NVVMIntrRange_8cpp.html#a7df34dbf636f2fbbb00f2b86eccdb1eb">High</a>-&gt;getValue());</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;  <span class="keywordtype">unsigned</span> Size = EndPoints.size();</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> LB = EndPoints[Size - 2]-&gt;getValue();</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28aeb67eda6b42e3237bc28fb457347a1cb">LE</a> = EndPoints[Size - 1]-&gt;getValue();</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;  <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a> LastRange(LB, <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28aeb67eda6b42e3237bc28fb457347a1cb">LE</a>);</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="Metadata_8cpp.html#a8979827a67778520a30a51f14d1a0a1a">canBeMerged</a>(NewRange, LastRange)) {</div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;    <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a> Union = LastRange.<a class="code" href="classllvm_1_1ConstantRange.html#aa81521f99442a5c30f9061b8c6ce795e">unionWith</a>(NewRange);</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;    <a class="code" href="classllvm_1_1Type.html">Type</a> *Ty = <a class="code" href="NVVMIntrRange_8cpp.html#a7df34dbf636f2fbbb00f2b86eccdb1eb">High</a>-&gt;getType();</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;    EndPoints[Size - 2] =</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;        cast&lt;ConstantInt&gt;(<a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(Ty, Union.getLower()));</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;    EndPoints[Size - 1] =</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;        cast&lt;ConstantInt&gt;(<a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(Ty, Union.getUpper()));</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;  }</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;}</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160; </div>
<div class="line"><a name="l01102"></a><span class="lineno"><a class="line" href="Metadata_8cpp.html#a538047e21679cd2bf4cfd1e73fe022aa"> 1102</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="Metadata_8cpp.html#a538047e21679cd2bf4cfd1e73fe022aa">addRange</a>(<a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;ConstantInt *&gt;</a> &amp;EndPoints,</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;                     <a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *Low, <a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *<a class="code" href="NVVMIntrRange_8cpp.html#a7df34dbf636f2fbbb00f2b86eccdb1eb">High</a>) {</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;  <span class="keywordflow">if</span> (!EndPoints.empty())</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="Metadata_8cpp.html#ac485f1a06d95a982f897655933212766">tryMergeRange</a>(EndPoints, <a class="code" href="namespacellvm.html#a05609d049bfe3c5c2f64711566131a86a28d0edd045e05cf5af64e35ae0c4c6ef">Low</a>, <a class="code" href="NVVMIntrRange_8cpp.html#a7df34dbf636f2fbbb00f2b86eccdb1eb">High</a>))</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160; </div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;  EndPoints.push_back(<a class="code" href="namespacellvm.html#a05609d049bfe3c5c2f64711566131a86a28d0edd045e05cf5af64e35ae0c4c6ef">Low</a>);</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;  EndPoints.push_back(<a class="code" href="NVVMIntrRange_8cpp.html#a7df34dbf636f2fbbb00f2b86eccdb1eb">High</a>);</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;}</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160; </div>
<div class="line"><a name="l01112"></a><span class="lineno"><a class="line" href="classllvm_1_1MDNode.html#aac6e3a0dec40a6721857cbbd4330039f"> 1112</a></span>&#160;<a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *<a class="code" href="classllvm_1_1MDNode.html#aac6e3a0dec40a6721857cbbd4330039f">MDNode::getMostGenericRange</a>(<a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *A, <a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>) {</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;  <span class="comment">// Given two ranges, we want to compute the union of the ranges. This</span></div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;  <span class="comment">// is slightly complicated by having to combine the intervals and merge</span></div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;  <span class="comment">// the ones that overlap.</span></div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160; </div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;  <span class="keywordflow">if</span> (!A || !<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>)</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160; </div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;  <span class="keywordflow">if</span> (A == <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>)</div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;    <span class="keywordflow">return</span> A;</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160; </div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;  <span class="comment">// First, walk both lists in order of the lower boundary of each interval.</span></div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;  <span class="comment">// At each step, try to merge the new interval to the last one we adedd.</span></div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;ConstantInt *, 4&gt;</a> EndPoints;</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;  <span class="keywordtype">int</span> AI = 0;</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;  <span class="keywordtype">int</span> BI = 0;</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;  <span class="keywordtype">int</span> AN = A-&gt;getNumOperands() / 2;</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;  <span class="keywordtype">int</span> BN = <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>-&gt;getNumOperands() / 2;</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;  <span class="keywordflow">while</span> (AI &lt; AN &amp;&amp; BI &lt; BN) {</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;    <a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *ALow = mdconst::extract&lt;ConstantInt&gt;(A-&gt;getOperand(2 * AI));</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;    <a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *BLow = mdconst::extract&lt;ConstantInt&gt;(<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>-&gt;getOperand(2 * BI));</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160; </div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;    <span class="keywordflow">if</span> (ALow-&gt;<a class="code" href="classllvm_1_1ConstantInt.html#a4b001d9b458035fbbfc154d52d354ee9">getValue</a>().<a class="code" href="classllvm_1_1APInt.html#adafa9575780f9246d1df0b7e2a619356">slt</a>(BLow-&gt;<a class="code" href="classllvm_1_1ConstantInt.html#a4b001d9b458035fbbfc154d52d354ee9">getValue</a>())) {</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;      <a class="code" href="Metadata_8cpp.html#a538047e21679cd2bf4cfd1e73fe022aa">addRange</a>(EndPoints, ALow,</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;               mdconst::extract&lt;ConstantInt&gt;(A-&gt;getOperand(2 * AI + 1)));</div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;      ++AI;</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;      <a class="code" href="Metadata_8cpp.html#a538047e21679cd2bf4cfd1e73fe022aa">addRange</a>(EndPoints, BLow,</div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;               mdconst::extract&lt;ConstantInt&gt;(<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>-&gt;getOperand(2 * BI + 1)));</div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;      ++BI;</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;    }</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;  }</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;  <span class="keywordflow">while</span> (AI &lt; AN) {</div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;    <a class="code" href="Metadata_8cpp.html#a538047e21679cd2bf4cfd1e73fe022aa">addRange</a>(EndPoints, mdconst::extract&lt;ConstantInt&gt;(A-&gt;getOperand(2 * AI)),</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;             mdconst::extract&lt;ConstantInt&gt;(A-&gt;getOperand(2 * AI + 1)));</div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;    ++AI;</div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;  }</div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;  <span class="keywordflow">while</span> (BI &lt; BN) {</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;    <a class="code" href="Metadata_8cpp.html#a538047e21679cd2bf4cfd1e73fe022aa">addRange</a>(EndPoints, mdconst::extract&lt;ConstantInt&gt;(<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>-&gt;getOperand(2 * BI)),</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;             mdconst::extract&lt;ConstantInt&gt;(<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>-&gt;getOperand(2 * BI + 1)));</div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;    ++BI;</div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;  }</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160; </div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;  <span class="comment">// If we have more than 2 ranges (4 endpoints) we have to try to merge</span></div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;  <span class="comment">// the last and first ones.</span></div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;  <span class="keywordtype">unsigned</span> Size = EndPoints.size();</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;  <span class="keywordflow">if</span> (Size &gt; 4) {</div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;    <a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *FB = EndPoints[0];</div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;    <a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *FE = EndPoints[1];</div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="Metadata_8cpp.html#ac485f1a06d95a982f897655933212766">tryMergeRange</a>(EndPoints, FB, FE)) {</div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; Size - 2; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;        EndPoints[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>] = EndPoints[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> + 2];</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;      }</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;      EndPoints.<a class="code" href="classllvm_1_1SmallVectorImpl.html#ad0b3d8447f88377b62d9c019f3c4e118">resize</a>(Size - 2);</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;    }</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;  }</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160; </div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;  <span class="comment">// If in the end we have a single range, it is possible that it is now the</span></div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;  <span class="comment">// full range. Just drop the metadata in that case.</span></div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;  <span class="keywordflow">if</span> (EndPoints.size() == 2) {</div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;    <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a> Range(EndPoints[0]-&gt;getValue(), EndPoints[1]-&gt;getValue());</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;    <span class="keywordflow">if</span> (Range.isFullSet())</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;  }</div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160; </div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Metadata *, 4&gt;</a> MDs;</div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;  MDs.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a499ea32ca1b8d16cedfe01d1e5b08f29">reserve</a>(EndPoints.size());</div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> : EndPoints)</div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;    MDs.push_back(<a class="code" href="classllvm_1_1ConstantAsMetadata.html#a703ab6c3e14ff7565866468d731f537a">ConstantAsMetadata::get</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>));</div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1MDNode.html#a7d10a7b9b7f40b04d27ed97c38ea1950">MDNode::get</a>(A-&gt;getContext(), MDs);</div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;}</div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160; </div>
<div class="line"><a name="l01184"></a><span class="lineno"><a class="line" href="classllvm_1_1MDNode.html#af9b9a04442e0f04f60751aca1783ff3b"> 1184</a></span>&#160;<a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *<a class="code" href="classllvm_1_1MDNode.html#af9b9a04442e0f04f60751aca1783ff3b">MDNode::getMostGenericAlignmentOrDereferenceable</a>(<a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *A, <a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>) {</div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;  <span class="keywordflow">if</span> (!A || !<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>)</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160; </div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;  <a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *AVal = mdconst::extract&lt;ConstantInt&gt;(A-&gt;getOperand(0));</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;  <a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *BVal = mdconst::extract&lt;ConstantInt&gt;(<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>-&gt;getOperand(0));</div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;  <span class="keywordflow">if</span> (AVal-&gt;<a class="code" href="classllvm_1_1ConstantInt.html#ac09a21c371a9c535cbc13e8f82503aec">getZExtValue</a>() &lt; BVal-&gt;<a class="code" href="classllvm_1_1ConstantInt.html#ac09a21c371a9c535cbc13e8f82503aec">getZExtValue</a>())</div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;    <span class="keywordflow">return</span> A;</div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>;</div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;}</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160; </div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;<span class="comment">// NamedMDNode implementation.</span></div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160; </div>
<div class="line"><a name="l01199"></a><span class="lineno"><a class="line" href="Metadata_8cpp.html#ac11640f75681ce282e12aa57ca134b3b"> 1199</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;TrackingMDRef, 4&gt;</a> &amp;<a class="code" href="Metadata_8cpp.html#ac11640f75681ce282e12aa57ca134b3b">getNMDOps</a>(<span class="keywordtype">void</span> *<a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>) {</div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;  <span class="keywordflow">return</span> *(<a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;TrackingMDRef, 4&gt;</a> *)<a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>;</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;}</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160; </div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;NamedMDNode::NamedMDNode(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Twine.html">Twine</a> &amp;<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>)</div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;    : <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>.str()), <a class="code" href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a>(<a class="code" href="lib_2CodeGen_2README_8txt.html#a3f8966a44f193849a18c573b402472b8">new</a> <a class="code" href="classllvm_1_1SmallVector.html">SmallVector</a>&lt;<a class="code" href="classllvm_1_1TrackingMDRef.html">TrackingMDRef</a>, 4&gt;()) {}</div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160; </div>
<div class="line"><a name="l01206"></a><span class="lineno"><a class="line" href="classllvm_1_1NamedMDNode.html#a5787be1b8684e08792726bcd23d9831d"> 1206</a></span>&#160;NamedMDNode::~NamedMDNode() {</div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;  <a class="code" href="classllvm_1_1NamedMDNode.html#a65b7697fe1d38e9c8884d9a08b8be88e">dropAllReferences</a>();</div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;  <span class="keyword">delete</span> &amp;<a class="code" href="Metadata_8cpp.html#ac11640f75681ce282e12aa57ca134b3b">getNMDOps</a>(Operands);</div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;}</div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160; </div>
<div class="line"><a name="l01211"></a><span class="lineno"><a class="line" href="classllvm_1_1NamedMDNode.html#acde8007e0e69969423e2de52343b702f"> 1211</a></span>&#160;<span class="keywordtype">unsigned</span> <a class="code" href="classllvm_1_1NamedMDNode.html#acde8007e0e69969423e2de52343b702f">NamedMDNode::getNumOperands</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;  <span class="keywordflow">return</span> (<span class="keywordtype">unsigned</span>)<a class="code" href="Metadata_8cpp.html#ac11640f75681ce282e12aa57ca134b3b">getNMDOps</a>(Operands).size();</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;}</div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160; </div>
<div class="line"><a name="l01215"></a><span class="lineno"><a class="line" href="classllvm_1_1NamedMDNode.html#aa24b566603d206b0e74bf63daf521078"> 1215</a></span>&#160;<a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *<a class="code" href="classllvm_1_1NamedMDNode.html#aa24b566603d206b0e74bf63daf521078">NamedMDNode::getOperand</a>(<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="classllvm_1_1NamedMDNode.html#acde8007e0e69969423e2de52343b702f">getNumOperands</a>() &amp;&amp; <span class="stringliteral">&quot;Invalid Operand number!&quot;</span>);</div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;  <span class="keyword">auto</span> *<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> = <a class="code" href="Metadata_8cpp.html#ac11640f75681ce282e12aa57ca134b3b">getNMDOps</a>(Operands)[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>].get();</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;  <span class="keywordflow">return</span> cast_or_null&lt;MDNode&gt;(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;}</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160; </div>
<div class="line"><a name="l01221"></a><span class="lineno"><a class="line" href="classllvm_1_1NamedMDNode.html#ae917c72e5b8e15491cd0dbdd44d818f2"> 1221</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1NamedMDNode.html#ae917c72e5b8e15491cd0dbdd44d818f2">NamedMDNode::addOperand</a>(<a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *M) { <a class="code" href="Metadata_8cpp.html#ac11640f75681ce282e12aa57ca134b3b">getNMDOps</a>(Operands).emplace_back(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>); }</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160; </div>
<div class="line"><a name="l01223"></a><span class="lineno"><a class="line" href="classllvm_1_1NamedMDNode.html#a543df3cb1eda9d491a7822ef4216e3b1"> 1223</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1NamedMDNode.html#a543df3cb1eda9d491a7822ef4216e3b1">NamedMDNode::setOperand</a>(<span class="keywordtype">unsigned</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *New) {</div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> &lt; <a class="code" href="classllvm_1_1NamedMDNode.html#acde8007e0e69969423e2de52343b702f">getNumOperands</a>() &amp;&amp; <span class="stringliteral">&quot;Invalid operand number&quot;</span>);</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;  <a class="code" href="Metadata_8cpp.html#ac11640f75681ce282e12aa57ca134b3b">getNMDOps</a>(Operands)[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>].reset(New);</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;}</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160; </div>
<div class="line"><a name="l01228"></a><span class="lineno"><a class="line" href="classllvm_1_1NamedMDNode.html#a7b8c6e263c8047823d8869cc27dd8008"> 1228</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1NamedMDNode.html#a7b8c6e263c8047823d8869cc27dd8008">NamedMDNode::eraseFromParent</a>() { <a class="code" href="classllvm_1_1NamedMDNode.html#a9680116b6b0c02d895e3f39180eb9e05">getParent</a>()-&gt;<a class="code" href="classllvm_1_1Module.html#a46d5a31c86f52f5b535586397efa5a21">eraseNamedMetadata</a>(<span class="keyword">this</span>); }</div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160; </div>
<div class="line"><a name="l01230"></a><span class="lineno"><a class="line" href="classllvm_1_1NamedMDNode.html#ad2c0af191fb0d4aff661994b0d234e40"> 1230</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1NamedMDNode.html#ad2c0af191fb0d4aff661994b0d234e40">NamedMDNode::clearOperands</a>() { <a class="code" href="Metadata_8cpp.html#ac11640f75681ce282e12aa57ca134b3b">getNMDOps</a>(Operands).clear(); }</div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160; </div>
<div class="line"><a name="l01232"></a><span class="lineno"><a class="line" href="classllvm_1_1NamedMDNode.html#a5e90645e97cbfe08194f0db4d0bdec88"> 1232</a></span>&#160;<a class="code" href="classllvm_1_1StringRef.html">StringRef</a> <a class="code" href="classllvm_1_1NamedMDNode.html#a5e90645e97cbfe08194f0db4d0bdec88">NamedMDNode::getName</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1StringRef.html">StringRef</a>(Name); }</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160; </div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;<span class="comment">// Instruction Metadata method implementations.</span></div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160; </div>
<div class="line"><a name="l01238"></a><span class="lineno"><a class="line" href="classllvm_1_1MDAttachments.html#af61dae2e0490d044c27c19855884c95f"> 1238</a></span>&#160;<a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *<a class="code" href="classllvm_1_1MDAttachments.html#af61dae2e0490d044c27c19855884c95f">MDAttachments::lookup</a>(<span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;A : Attachments)</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;    <span class="keywordflow">if</span> (A.MDKind == <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>)</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;      <span class="keywordflow">return</span> A.Node;</div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;}</div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160; </div>
<div class="line"><a name="l01245"></a><span class="lineno"><a class="line" href="classllvm_1_1MDAttachments.html#a60c01a156a538f029c3f1935e642c726"> 1245</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1MDAttachments.html#a60c01a156a538f029c3f1935e642c726">MDAttachments::get</a>(<span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>, <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;MDNode *&gt;</a> &amp;Result)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;A : Attachments)</div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;    <span class="keywordflow">if</span> (A.MDKind == <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>)</div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;      Result.push_back(A.Node);</div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;}</div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160; </div>
<div class="line"><a name="l01251"></a><span class="lineno"><a class="line" href="classllvm_1_1MDAttachments.html#a8ee70a09cae9bc5b7d9976c03246ce1c"> 1251</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1MDAttachments.html#a8ee70a09cae9bc5b7d9976c03246ce1c">MDAttachments::getAll</a>(</div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;    <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl</a>&lt;std::pair&lt;unsigned, MDNode *&gt;&gt; &amp;Result)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;A : Attachments)</div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;    Result.emplace_back(A.MDKind, A.Node);</div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160; </div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;  <span class="comment">// Sort the resulting array so it is stable with respect to metadata IDs. We</span></div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;  <span class="comment">// need to preserve the original insertion order though.</span></div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;  <span class="keywordflow">if</span> (Result.size() &gt; 1)</div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;    <a class="code" href="namespacellvm.html#a076f93c387f454f0db13d4bc7d4e7f9c">llvm::stable_sort</a>(Result, <a class="code" href="structllvm_1_1less__first.html">less_first</a>());</div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;}</div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160; </div>
<div class="line"><a name="l01262"></a><span class="lineno"><a class="line" href="classllvm_1_1MDAttachments.html#ac65bce5d26f30d69a6fae10df90fc510"> 1262</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1MDAttachments.html#ac65bce5d26f30d69a6fae10df90fc510">MDAttachments::set</a>(<span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>, <a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *MD) {</div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;  <a class="code" href="classllvm_1_1MDAttachments.html#aff77859f559a172e1da80d22d2e57896">erase</a>(<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>);</div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;  <span class="keywordflow">if</span> (MD)</div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;    <a class="code" href="classllvm_1_1MDAttachments.html#a0d4d74b417eb20d7ab720be2e0a9ddcd">insert</a>(<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>, *MD);</div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;}</div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160; </div>
<div class="line"><a name="l01268"></a><span class="lineno"><a class="line" href="classllvm_1_1MDAttachments.html#a0d4d74b417eb20d7ab720be2e0a9ddcd"> 1268</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1MDAttachments.html#a0d4d74b417eb20d7ab720be2e0a9ddcd">MDAttachments::insert</a>(<span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>, <a class="code" href="classllvm_1_1MDNode.html">MDNode</a> &amp;MD) {</div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;  Attachments.push_back({<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>, <a class="code" href="namespacellvm.html#a48fcefb82ced0006a4c7a6c48708cf3e">TrackingMDNodeRef</a>(&amp;MD)});</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;}</div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160; </div>
<div class="line"><a name="l01272"></a><span class="lineno"><a class="line" href="classllvm_1_1MDAttachments.html#aff77859f559a172e1da80d22d2e57896"> 1272</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1MDAttachments.html#aff77859f559a172e1da80d22d2e57896">MDAttachments::erase</a>(<span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>) {</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1MDAttachments.html#af60cd19cea15f241358dc553f5530043">empty</a>())</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160; </div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;  <span class="comment">// Common case is one value.</span></div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;  <span class="keywordflow">if</span> (Attachments.size() == 1 &amp;&amp; Attachments.back().MDKind == <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>) {</div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;    Attachments.pop_back();</div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;  }</div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160; </div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;  <span class="keyword">auto</span> OldSize = Attachments.size();</div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;  <a class="code" href="namespacellvm.html#ac9a7de5a04920954ac964059cfc428ad">llvm::erase_if</a>(Attachments,</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;                 [<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>](<span class="keyword">const</span> <a class="code" href="structllvm_1_1MDAttachments_1_1Attachment.html">Attachment</a> &amp;A) { <span class="keywordflow">return</span> A.MDKind == <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>; });</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;  <span class="keywordflow">return</span> OldSize != Attachments.size();</div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;}</div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160; </div>
<div class="line"><a name="l01288"></a><span class="lineno"><a class="line" href="classllvm_1_1Value.html#a61a186a60c64a2a5225db9944eaf7df8"> 1288</a></span>&#160;<a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *<a class="code" href="classllvm_1_1Value.html#a61a186a60c64a2a5225db9944eaf7df8">Value::getMetadata</a>(<span class="keywordtype">unsigned</span> KindID)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1Value.html#a1f496e54accb2cbe919fb456cb703f1a">hasMetadata</a>())</div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> &amp;<a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a> = <a class="code" href="classllvm_1_1Value.html#ab3fc0225d8aaf8434026c3573f961f2c">getContext</a>().<a class="code" href="classllvm_1_1LLVMContext.html#aa142c8c536b95dd8e8a243cb67b57a80">pImpl</a>-&gt;<a class="code" href="classllvm_1_1LLVMContextImpl.html#a6577bf24ddcb2a2cd401ee3e4704527a">ValueMetadata</a>[<span class="keyword">this</span>];</div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!<a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>.empty() &amp;&amp; <span class="stringliteral">&quot;bit out of sync with hash table&quot;</span>);</div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>.lookup(KindID);</div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;}</div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160; </div>
<div class="line"><a name="l01296"></a><span class="lineno"><a class="line" href="classllvm_1_1Value.html#a8c4c0580bdb7ccc8210222c7b22522b7"> 1296</a></span>&#160;<a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *<a class="code" href="classllvm_1_1Value.html#a61a186a60c64a2a5225db9944eaf7df8">Value::getMetadata</a>(<a class="code" href="classllvm_1_1StringRef.html">StringRef</a> Kind)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1Value.html#a1f496e54accb2cbe919fb456cb703f1a">hasMetadata</a>())</div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> &amp;<a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a> = <a class="code" href="classllvm_1_1Value.html#ab3fc0225d8aaf8434026c3573f961f2c">getContext</a>().<a class="code" href="classllvm_1_1LLVMContext.html#aa142c8c536b95dd8e8a243cb67b57a80">pImpl</a>-&gt;<a class="code" href="classllvm_1_1LLVMContextImpl.html#a6577bf24ddcb2a2cd401ee3e4704527a">ValueMetadata</a>[<span class="keyword">this</span>];</div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!<a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>.empty() &amp;&amp; <span class="stringliteral">&quot;bit out of sync with hash table&quot;</span>);</div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>.lookup(<a class="code" href="classllvm_1_1Value.html#ab3fc0225d8aaf8434026c3573f961f2c">getContext</a>().getMDKindID(Kind));</div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;}</div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160; </div>
<div class="line"><a name="l01304"></a><span class="lineno"><a class="line" href="classllvm_1_1Value.html#aa8b1bc6f9347dade1932d5e0a0be7904"> 1304</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1Value.html#a61a186a60c64a2a5225db9944eaf7df8">Value::getMetadata</a>(<span class="keywordtype">unsigned</span> KindID, <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;MDNode *&gt;</a> &amp;MDs)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html#a1f496e54accb2cbe919fb456cb703f1a">hasMetadata</a>())</div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;    <a class="code" href="classllvm_1_1Value.html#ab3fc0225d8aaf8434026c3573f961f2c">getContext</a>().<a class="code" href="classllvm_1_1LLVMContext.html#aa142c8c536b95dd8e8a243cb67b57a80">pImpl</a>-&gt;<a class="code" href="classllvm_1_1LLVMContextImpl.html#a6577bf24ddcb2a2cd401ee3e4704527a">ValueMetadata</a>[<span class="keyword">this</span>].get(KindID, MDs);</div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;}</div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160; </div>
<div class="line"><a name="l01309"></a><span class="lineno"><a class="line" href="classllvm_1_1Value.html#af580f3203cd4b561487e08bb1fd1d1ae"> 1309</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1Value.html#a61a186a60c64a2a5225db9944eaf7df8">Value::getMetadata</a>(<a class="code" href="classllvm_1_1StringRef.html">StringRef</a> Kind, <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;MDNode *&gt;</a> &amp;MDs)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html#a1f496e54accb2cbe919fb456cb703f1a">hasMetadata</a>())</div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;    <a class="code" href="classllvm_1_1Value.html#a61a186a60c64a2a5225db9944eaf7df8">getMetadata</a>(<a class="code" href="classllvm_1_1Value.html#ab3fc0225d8aaf8434026c3573f961f2c">getContext</a>().getMDKindID(Kind), MDs);</div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;}</div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160; </div>
<div class="line"><a name="l01314"></a><span class="lineno"><a class="line" href="classllvm_1_1Value.html#acf3b36c833784bc1c80f2ad2a56ec859"> 1314</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1Value.html#acf3b36c833784bc1c80f2ad2a56ec859">Value::getAllMetadata</a>(</div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;    <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl</a>&lt;std::pair&lt;unsigned, MDNode *&gt;&gt; &amp;MDs)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html#a1f496e54accb2cbe919fb456cb703f1a">hasMetadata</a>()) {</div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="classllvm_1_1Value.html#ab3fc0225d8aaf8434026c3573f961f2c">getContext</a>().pImpl-&gt;ValueMetadata.count(<span class="keyword">this</span>) &amp;&amp;</div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;           <span class="stringliteral">&quot;bit out of sync with hash table&quot;</span>);</div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> &amp;<a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a> = <a class="code" href="classllvm_1_1Value.html#ab3fc0225d8aaf8434026c3573f961f2c">getContext</a>().<a class="code" href="classllvm_1_1LLVMContext.html#aa142c8c536b95dd8e8a243cb67b57a80">pImpl</a>-&gt;<a class="code" href="classllvm_1_1LLVMContextImpl.html#a6577bf24ddcb2a2cd401ee3e4704527a">ValueMetadata</a>.find(<span class="keyword">this</span>)-&gt;second;</div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!<a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>.empty() &amp;&amp; <span class="stringliteral">&quot;Shouldn&#39;t have called this&quot;</span>);</div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;    <a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>.getAll(MDs);</div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;  }</div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;}</div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160; </div>
<div class="line"><a name="l01325"></a><span class="lineno"><a class="line" href="classllvm_1_1Value.html#a338590123630c357df6340c38d066572"> 1325</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1Value.html#a338590123630c357df6340c38d066572">Value::setMetadata</a>(<span class="keywordtype">unsigned</span> KindID, <a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *Node) {</div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(isa&lt;Instruction&gt;(<span class="keyword">this</span>) || isa&lt;GlobalObject&gt;(<span class="keyword">this</span>));</div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160; </div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;  <span class="comment">// Handle the case when we&#39;re adding/updating metadata on a value.</span></div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;  <span class="keywordflow">if</span> (Node) {</div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;    <span class="keyword">auto</span> &amp;<a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a> = <a class="code" href="classllvm_1_1Value.html#ab3fc0225d8aaf8434026c3573f961f2c">getContext</a>().<a class="code" href="classllvm_1_1LLVMContext.html#aa142c8c536b95dd8e8a243cb67b57a80">pImpl</a>-&gt;<a class="code" href="classllvm_1_1LLVMContextImpl.html#a6577bf24ddcb2a2cd401ee3e4704527a">ValueMetadata</a>[<span class="keyword">this</span>];</div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!<a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>.empty() == <a class="code" href="classllvm_1_1Value.html#a9eb4a52a4675976293ae4f77c982667b">HasMetadata</a> &amp;&amp; <span class="stringliteral">&quot;bit out of sync with hash table&quot;</span>);</div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>.empty())</div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;      <a class="code" href="classllvm_1_1Value.html#a9eb4a52a4675976293ae4f77c982667b">HasMetadata</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;    <a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>.set(KindID, Node);</div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;  }</div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160; </div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;  <span class="comment">// Otherwise, we&#39;re removing metadata from an instruction.</span></div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((<a class="code" href="classllvm_1_1Value.html#a9eb4a52a4675976293ae4f77c982667b">HasMetadata</a> == (<a class="code" href="classllvm_1_1Value.html#ab3fc0225d8aaf8434026c3573f961f2c">getContext</a>().pImpl-&gt;ValueMetadata.count(<span class="keyword">this</span>) &gt; 0)) &amp;&amp;</div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;         <span class="stringliteral">&quot;bit out of sync with hash table&quot;</span>);</div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1Value.html#a9eb4a52a4675976293ae4f77c982667b">HasMetadata</a>)</div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;    <span class="keywordflow">return</span>; <span class="comment">// Nothing to remove!</span></div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;  <span class="keyword">auto</span> &amp;<a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a> = <a class="code" href="classllvm_1_1Value.html#ab3fc0225d8aaf8434026c3573f961f2c">getContext</a>().<a class="code" href="classllvm_1_1LLVMContext.html#aa142c8c536b95dd8e8a243cb67b57a80">pImpl</a>-&gt;<a class="code" href="classllvm_1_1LLVMContextImpl.html#a6577bf24ddcb2a2cd401ee3e4704527a">ValueMetadata</a>[<span class="keyword">this</span>];</div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160; </div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;  <span class="comment">// Handle removal of an existing value.</span></div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;  <a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>.erase(KindID);</div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>.empty())</div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;  <a class="code" href="classllvm_1_1Value.html#ab3fc0225d8aaf8434026c3573f961f2c">getContext</a>().<a class="code" href="classllvm_1_1LLVMContext.html#aa142c8c536b95dd8e8a243cb67b57a80">pImpl</a>-&gt;<a class="code" href="classllvm_1_1LLVMContextImpl.html#a6577bf24ddcb2a2cd401ee3e4704527a">ValueMetadata</a>.erase(<span class="keyword">this</span>);</div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;  <a class="code" href="classllvm_1_1Value.html#a9eb4a52a4675976293ae4f77c982667b">HasMetadata</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;}</div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160; </div>
<div class="line"><a name="l01353"></a><span class="lineno"><a class="line" href="classllvm_1_1Value.html#a9542c54e3e3ac516ab7437ae1b98bea8"> 1353</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1Value.html#a338590123630c357df6340c38d066572">Value::setMetadata</a>(<a class="code" href="classllvm_1_1StringRef.html">StringRef</a> Kind, <a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *Node) {</div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;  <span class="keywordflow">if</span> (!Node &amp;&amp; !<a class="code" href="classllvm_1_1Value.html#a9eb4a52a4675976293ae4f77c982667b">HasMetadata</a>)</div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;  <a class="code" href="classllvm_1_1Value.html#a338590123630c357df6340c38d066572">setMetadata</a>(<a class="code" href="classllvm_1_1Value.html#ab3fc0225d8aaf8434026c3573f961f2c">getContext</a>().getMDKindID(Kind), Node);</div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;}</div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160; </div>
<div class="line"><a name="l01359"></a><span class="lineno"><a class="line" href="classllvm_1_1Value.html#aa1b0638c63ba711320b3bb9c69367ed6"> 1359</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1Value.html#aa1b0638c63ba711320b3bb9c69367ed6">Value::addMetadata</a>(<span class="keywordtype">unsigned</span> KindID, <a class="code" href="classllvm_1_1MDNode.html">MDNode</a> &amp;MD) {</div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(isa&lt;Instruction&gt;(<span class="keyword">this</span>) || isa&lt;GlobalObject&gt;(<span class="keyword">this</span>));</div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1Value.html#a9eb4a52a4675976293ae4f77c982667b">HasMetadata</a>)</div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;    <a class="code" href="classllvm_1_1Value.html#a9eb4a52a4675976293ae4f77c982667b">HasMetadata</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;  <a class="code" href="classllvm_1_1Value.html#ab3fc0225d8aaf8434026c3573f961f2c">getContext</a>().<a class="code" href="classllvm_1_1LLVMContext.html#aa142c8c536b95dd8e8a243cb67b57a80">pImpl</a>-&gt;<a class="code" href="classllvm_1_1LLVMContextImpl.html#a6577bf24ddcb2a2cd401ee3e4704527a">ValueMetadata</a>[<span class="keyword">this</span>].insert(KindID, MD);</div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;}</div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160; </div>
<div class="line"><a name="l01366"></a><span class="lineno"><a class="line" href="classllvm_1_1Value.html#a97df41793a6441c58ab81b883ef106fa"> 1366</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1Value.html#aa1b0638c63ba711320b3bb9c69367ed6">Value::addMetadata</a>(<a class="code" href="classllvm_1_1StringRef.html">StringRef</a> Kind, <a class="code" href="classllvm_1_1MDNode.html">MDNode</a> &amp;MD) {</div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;  <a class="code" href="classllvm_1_1Value.html#aa1b0638c63ba711320b3bb9c69367ed6">addMetadata</a>(<a class="code" href="classllvm_1_1Value.html#ab3fc0225d8aaf8434026c3573f961f2c">getContext</a>().getMDKindID(Kind), MD);</div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;}</div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160; </div>
<div class="line"><a name="l01370"></a><span class="lineno"><a class="line" href="classllvm_1_1Value.html#a9d88e21e9caa53945e903fd8c8700b4f"> 1370</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1Value.html#a9d88e21e9caa53945e903fd8c8700b4f">Value::eraseMetadata</a>(<span class="keywordtype">unsigned</span> KindID) {</div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;  <span class="comment">// Nothing to unset.</span></div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1Value.html#a9eb4a52a4675976293ae4f77c982667b">HasMetadata</a>)</div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160; </div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;  <span class="keyword">auto</span> &amp;<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa36b3dd3b84fde3f8494a9b18af131856">Store</a> = <a class="code" href="classllvm_1_1Value.html#ab3fc0225d8aaf8434026c3573f961f2c">getContext</a>().<a class="code" href="classllvm_1_1LLVMContext.html#aa142c8c536b95dd8e8a243cb67b57a80">pImpl</a>-&gt;<a class="code" href="classllvm_1_1LLVMContextImpl.html#a6577bf24ddcb2a2cd401ee3e4704527a">ValueMetadata</a>[<span class="keyword">this</span>];</div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;  <span class="keywordtype">bool</span> Changed = <a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa36b3dd3b84fde3f8494a9b18af131856">Store</a>.erase(KindID);</div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa36b3dd3b84fde3f8494a9b18af131856">Store</a>.empty())</div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;    <a class="code" href="classllvm_1_1Value.html#ad151fceb9a0e77a8a8017d4f68791811">clearMetadata</a>();</div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;  <span class="keywordflow">return</span> Changed;</div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;}</div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160; </div>
<div class="line"><a name="l01382"></a><span class="lineno"><a class="line" href="classllvm_1_1Value.html#ad151fceb9a0e77a8a8017d4f68791811"> 1382</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1Value.html#ad151fceb9a0e77a8a8017d4f68791811">Value::clearMetadata</a>() {</div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1Value.html#a9eb4a52a4675976293ae4f77c982667b">HasMetadata</a>)</div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="classllvm_1_1Value.html#ab3fc0225d8aaf8434026c3573f961f2c">getContext</a>().pImpl-&gt;ValueMetadata.count(<span class="keyword">this</span>) &amp;&amp;</div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;         <span class="stringliteral">&quot;bit out of sync with hash table&quot;</span>);</div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;  <a class="code" href="classllvm_1_1Value.html#ab3fc0225d8aaf8434026c3573f961f2c">getContext</a>().<a class="code" href="classllvm_1_1LLVMContext.html#aa142c8c536b95dd8e8a243cb67b57a80">pImpl</a>-&gt;<a class="code" href="classllvm_1_1LLVMContextImpl.html#a6577bf24ddcb2a2cd401ee3e4704527a">ValueMetadata</a>.erase(<span class="keyword">this</span>);</div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;  <a class="code" href="classllvm_1_1Value.html#a9eb4a52a4675976293ae4f77c982667b">HasMetadata</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;}</div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160; </div>
<div class="line"><a name="l01391"></a><span class="lineno"><a class="line" href="classllvm_1_1Instruction.html#a695a53ce0b9f537880373b4ea1824a6b"> 1391</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1Instruction.html#a9247a212ea89acc9573fa7e7f557eaba">Instruction::setMetadata</a>(<a class="code" href="classllvm_1_1StringRef.html">StringRef</a> Kind, <a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *Node) {</div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;  <span class="keywordflow">if</span> (!Node &amp;&amp; !<a class="code" href="classllvm_1_1Instruction.html#a565f546ad95bd3a9bbe9a1e5040803f0">hasMetadata</a>())</div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;  <a class="code" href="classllvm_1_1Instruction.html#a9247a212ea89acc9573fa7e7f557eaba">setMetadata</a>(<a class="code" href="classllvm_1_1Value.html#ab3fc0225d8aaf8434026c3573f961f2c">getContext</a>().getMDKindID(Kind), Node);</div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;}</div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160; </div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;<a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *Instruction::getMetadataImpl(<a class="code" href="classllvm_1_1StringRef.html">StringRef</a> Kind)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;  <span class="keywordflow">return</span> getMetadataImpl(<a class="code" href="classllvm_1_1Value.html#ab3fc0225d8aaf8434026c3573f961f2c">getContext</a>().getMDKindID(Kind));</div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;}</div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160; </div>
<div class="line"><a name="l01401"></a><span class="lineno"><a class="line" href="classllvm_1_1Instruction.html#afe61be671b7569dcff028bb1d0303c3d"> 1401</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1Instruction.html#abf99137658d60be8c83c08be17b2e265">Instruction::dropUnknownNonDebugMetadata</a>(<a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;unsigned&gt;</a> KnownIDs) {</div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1Value.html#a1f496e54accb2cbe919fb456cb703f1a">Value::hasMetadata</a>())</div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;    <span class="keywordflow">return</span>; <span class="comment">// Nothing to remove!</span></div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160; </div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;  <a class="code" href="classllvm_1_1SmallSet.html">SmallSet&lt;unsigned, 4&gt;</a> KnownSet;</div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;  KnownSet.<a class="code" href="classllvm_1_1SmallSet.html#a1679469af9bb8ccfbe98441fb8228c79">insert</a>(KnownIDs.<a class="code" href="classllvm_1_1ArrayRef.html#aab36927882fbfdcbb860d87fd9c30da8">begin</a>(), KnownIDs.<a class="code" href="classllvm_1_1ArrayRef.html#a7ca5197533a9c1fb8a2bd30587fcec6b">end</a>());</div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160; </div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;  <span class="comment">// A DIAssignID attachment is debug metadata, don&#39;t drop it.</span></div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;  KnownSet.<a class="code" href="classllvm_1_1SmallSet.html#a1679469af9bb8ccfbe98441fb8228c79">insert</a>(LLVMContext::MD_DIAssignID);</div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160; </div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;  <span class="keyword">auto</span> &amp;MetadataStore = <a class="code" href="classllvm_1_1Value.html#ab3fc0225d8aaf8434026c3573f961f2c">getContext</a>().<a class="code" href="classllvm_1_1LLVMContext.html#aa142c8c536b95dd8e8a243cb67b57a80">pImpl</a>-&gt;<a class="code" href="classllvm_1_1LLVMContextImpl.html#a6577bf24ddcb2a2cd401ee3e4704527a">ValueMetadata</a>;</div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;  <span class="keyword">auto</span> &amp;<a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a> = MetadataStore[<span class="keyword">this</span>];</div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!<a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>.empty() &amp;&amp; <span class="stringliteral">&quot;bit out of sync with hash table&quot;</span>);</div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;  <a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>.remove_if([&amp;KnownSet](<span class="keyword">const</span> <a class="code" href="structllvm_1_1MDAttachments_1_1Attachment.html">MDAttachments::Attachment</a> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;    <span class="keywordflow">return</span> !KnownSet.<a class="code" href="classllvm_1_1SmallSet.html#a2a98f19750ba941ce791b75ca6d77e48">count</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.MDKind);</div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;  });</div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160; </div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>.empty()) {</div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;    <span class="comment">// Drop our entry at the store.</span></div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;    <a class="code" href="classllvm_1_1Value.html#ad151fceb9a0e77a8a8017d4f68791811">clearMetadata</a>();</div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;  }</div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;}</div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160; </div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;<span class="keywordtype">void</span> Instruction::updateDIAssignIDMapping(<a class="code" href="classllvm_1_1DIAssignID.html">DIAssignID</a> *<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>) {</div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;  <span class="keyword">auto</span> &amp;IDToInstrs = <a class="code" href="classllvm_1_1Value.html#ab3fc0225d8aaf8434026c3573f961f2c">getContext</a>().<a class="code" href="classllvm_1_1LLVMContext.html#aa142c8c536b95dd8e8a243cb67b57a80">pImpl</a>-&gt;<a class="code" href="classllvm_1_1LLVMContextImpl.html#a382cf610134589ebfa0040f2af7b7066">AssignmentIDToInstrs</a>;</div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1DIAssignID.html">DIAssignID</a> *CurrentID =</div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;          cast_or_null&lt;DIAssignID&gt;(<a class="code" href="classllvm_1_1Instruction.html#ae22f493ba8327ce92e87d3b96bce7017">getMetadata</a>(LLVMContext::MD_DIAssignID))) {</div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;    <span class="comment">// Nothing to do if the ID isn&#39;t changing.</span></div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a> == CurrentID)</div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160; </div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;    <span class="comment">// Unmap this instruction from its current ID.</span></div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;    <span class="keyword">auto</span> InstrsIt = IDToInstrs.find(CurrentID);</div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(InstrsIt != IDToInstrs.end() &amp;&amp;</div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;           <span class="stringliteral">&quot;Expect existing attachment to be mapped&quot;</span>);</div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160; </div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;    <span class="keyword">auto</span> &amp;InstVec = InstrsIt-&gt;second;</div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;    <span class="keyword">auto</span> *InstIt = <a class="code" href="namespacellvm.html#a086e9fbdb06276db7753101a08a63adf">std::find</a>(InstVec.begin(), InstVec.end(), <span class="keyword">this</span>);</div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(InstIt != InstVec.end() &amp;&amp;</div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;           <span class="stringliteral">&quot;Expect instruction to be mapped to attachment&quot;</span>);</div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;    <span class="comment">// The vector contains a ptr to this. If this is the only element in the</span></div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;    <span class="comment">// vector, remove the ID:vector entry, otherwise just remove the</span></div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;    <span class="comment">// instruction from the vector.</span></div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;    <span class="keywordflow">if</span> (InstVec.size() == 1)</div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;      IDToInstrs.erase(InstrsIt);</div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;      InstVec.erase(InstIt);</div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;  }</div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160; </div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;  <span class="comment">// Map this instruction to the new ID.</span></div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>)</div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;    IDToInstrs[<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>].push_back(<span class="keyword">this</span>);</div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;}</div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160; </div>
<div class="line"><a name="l01455"></a><span class="lineno"><a class="line" href="classllvm_1_1Instruction.html#a9247a212ea89acc9573fa7e7f557eaba"> 1455</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1Instruction.html#a9247a212ea89acc9573fa7e7f557eaba">Instruction::setMetadata</a>(<span class="keywordtype">unsigned</span> KindID, <a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *Node) {</div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;  <span class="keywordflow">if</span> (!Node &amp;&amp; !<a class="code" href="classllvm_1_1Instruction.html#a565f546ad95bd3a9bbe9a1e5040803f0">hasMetadata</a>())</div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160; </div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;  <span class="comment">// Handle &#39;dbg&#39; as a special case since it is not stored in the hash table.</span></div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;  <span class="keywordflow">if</span> (KindID == LLVMContext::MD_dbg) {</div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;    DbgLoc = <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a>(Node);</div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;  }</div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160; </div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;  <span class="comment">// Update DIAssignID to Instruction(s) mapping.</span></div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;  <span class="keywordflow">if</span> (KindID == LLVMContext::MD_DIAssignID) {</div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;    <span class="comment">// The DIAssignID tracking infrastructure doesn&#39;t support RAUWing temporary</span></div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;    <span class="comment">// nodes with DIAssignIDs. The cast_or_null below would also catch this, but</span></div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;    <span class="comment">// having a dedicated assert helps make this obvious.</span></div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((!Node || !Node-&gt;isTemporary()) &amp;&amp;</div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;           <span class="stringliteral">&quot;Temporary DIAssignIDs are invalid&quot;</span>);</div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;    updateDIAssignIDMapping(cast_or_null&lt;DIAssignID&gt;(Node));</div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;  }</div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160; </div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;  <a class="code" href="classllvm_1_1Value.html#a338590123630c357df6340c38d066572">Value::setMetadata</a>(KindID, Node);</div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;}</div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160; </div>
<div class="line"><a name="l01478"></a><span class="lineno"><a class="line" href="classllvm_1_1Instruction.html#a6762e9e611c29b13a5c94bf8488fe798"> 1478</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1Instruction.html#a6762e9e611c29b13a5c94bf8488fe798">Instruction::addAnnotationMetadata</a>(<a class="code" href="classllvm_1_1StringRef.html">StringRef</a> Name) {</div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;  <a class="code" href="classllvm_1_1MDBuilder.html">MDBuilder</a> MDB(<a class="code" href="classllvm_1_1Value.html#ab3fc0225d8aaf8434026c3573f961f2c">getContext</a>());</div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160; </div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;  <span class="keyword">auto</span> *Existing = <a class="code" href="classllvm_1_1Instruction.html#ae22f493ba8327ce92e87d3b96bce7017">getMetadata</a>(LLVMContext::MD_annotation);</div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Metadata *, 4&gt;</a> Names;</div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;  <span class="keywordtype">bool</span> AppendName = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;  <span class="keywordflow">if</span> (Existing) {</div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;    <span class="keyword">auto</span> *Tuple = cast&lt;MDTuple&gt;(Existing);</div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> : Tuple-&gt;operands()) {</div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;      <span class="keywordflow">if</span> (cast&lt;MDString&gt;(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>.get())-&gt;getString() == Name)</div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;        AppendName = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;      Names.push_back(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>.get());</div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;    }</div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;  }</div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;  <span class="keywordflow">if</span> (AppendName)</div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;    Names.push_back(MDB.<a class="code" href="classllvm_1_1MDBuilder.html#a7939b917f71d9664707d8ec51da88418">createString</a>(Name));</div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160; </div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;  <a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *MD = <a class="code" href="classllvm_1_1MDTuple.html#aa905dc9d35b8732a290b468b0aee549d">MDTuple::get</a>(<a class="code" href="classllvm_1_1Value.html#ab3fc0225d8aaf8434026c3573f961f2c">getContext</a>(), Names);</div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;  <a class="code" href="classllvm_1_1Instruction.html#a9247a212ea89acc9573fa7e7f557eaba">setMetadata</a>(LLVMContext::MD_annotation, MD);</div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;}</div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160; </div>
<div class="line"><a name="l01499"></a><span class="lineno"><a class="line" href="classllvm_1_1Instruction.html#aade703948f2fdabdc65868bdf42d3141"> 1499</a></span>&#160;<a class="code" href="structllvm_1_1AAMDNodes.html">AAMDNodes</a> <a class="code" href="classllvm_1_1Instruction.html#aade703948f2fdabdc65868bdf42d3141">Instruction::getAAMetadata</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;  <a class="code" href="structllvm_1_1AAMDNodes.html">AAMDNodes</a> Result;</div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;  <span class="comment">// Not using Instruction::hasMetadata() because we&#39;re not interested in</span></div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;  <span class="comment">// DebugInfoMetadata.</span></div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html#a1f496e54accb2cbe919fb456cb703f1a">Value::hasMetadata</a>()) {</div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> &amp;<a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a> = <a class="code" href="classllvm_1_1Value.html#ab3fc0225d8aaf8434026c3573f961f2c">getContext</a>().<a class="code" href="classllvm_1_1LLVMContext.html#aa142c8c536b95dd8e8a243cb67b57a80">pImpl</a>-&gt;<a class="code" href="classllvm_1_1LLVMContextImpl.html#a6577bf24ddcb2a2cd401ee3e4704527a">ValueMetadata</a>[<span class="keyword">this</span>];</div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;    Result.TBAA = <a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>.lookup(LLVMContext::MD_tbaa);</div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;    Result.TBAAStruct = <a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>.lookup(LLVMContext::MD_tbaa_struct);</div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;    Result.Scope = <a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>.lookup(LLVMContext::MD_alias_scope);</div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;    Result.NoAlias = <a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>.lookup(LLVMContext::MD_noalias);</div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;  }</div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;  <span class="keywordflow">return</span> Result;</div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;}</div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160; </div>
<div class="line"><a name="l01513"></a><span class="lineno"><a class="line" href="classllvm_1_1Instruction.html#a4dd9b6c5bb93e01393c47dbe60f8b23f"> 1513</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1Instruction.html#a4dd9b6c5bb93e01393c47dbe60f8b23f">Instruction::setAAMetadata</a>(<span class="keyword">const</span> <a class="code" href="structllvm_1_1AAMDNodes.html">AAMDNodes</a> &amp;<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>) {</div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;  <a class="code" href="classllvm_1_1Instruction.html#a9247a212ea89acc9573fa7e7f557eaba">setMetadata</a>(LLVMContext::MD_tbaa, <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>.TBAA);</div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;  <a class="code" href="classllvm_1_1Instruction.html#a9247a212ea89acc9573fa7e7f557eaba">setMetadata</a>(LLVMContext::MD_tbaa_struct, <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>.TBAAStruct);</div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;  <a class="code" href="classllvm_1_1Instruction.html#a9247a212ea89acc9573fa7e7f557eaba">setMetadata</a>(LLVMContext::MD_alias_scope, <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>.Scope);</div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;  <a class="code" href="classllvm_1_1Instruction.html#a9247a212ea89acc9573fa7e7f557eaba">setMetadata</a>(LLVMContext::MD_noalias, <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>.NoAlias);</div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;}</div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160; </div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;<a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *Instruction::getMetadataImpl(<span class="keywordtype">unsigned</span> KindID)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;  <span class="comment">// Handle &#39;dbg&#39; as a special case since it is not stored in the hash table.</span></div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;  <span class="keywordflow">if</span> (KindID == LLVMContext::MD_dbg)</div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;    <span class="keywordflow">return</span> DbgLoc.<a class="code" href="classllvm_1_1DebugLoc.html#a0f74888bb81633373654800e2dafcb60">getAsMDNode</a>();</div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Value.html#a61a186a60c64a2a5225db9944eaf7df8">Value::getMetadata</a>(KindID);</div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;}</div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160; </div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;<span class="keywordtype">void</span> Instruction::getAllMetadataImpl(</div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;    <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl</a>&lt;std::pair&lt;unsigned, MDNode *&gt;&gt; &amp;Result)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;  Result.clear();</div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160; </div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;  <span class="comment">// Handle &#39;dbg&#39; as a special case since it is not stored in the hash table.</span></div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;  <span class="keywordflow">if</span> (DbgLoc) {</div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;    Result.push_back(</div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;        std::make_pair((<span class="keywordtype">unsigned</span>)LLVMContext::MD_dbg, DbgLoc.<a class="code" href="classllvm_1_1DebugLoc.html#a0f74888bb81633373654800e2dafcb60">getAsMDNode</a>()));</div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;  }</div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;  <a class="code" href="classllvm_1_1Value.html#acf3b36c833784bc1c80f2ad2a56ec859">Value::getAllMetadata</a>(Result);</div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;}</div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160; </div>
<div class="line"><a name="l01539"></a><span class="lineno"><a class="line" href="classllvm_1_1Instruction.html#a51d5735829e1f043630dd403f01d4219"> 1539</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1Instruction.html#a51d5735829e1f043630dd403f01d4219">Instruction::extractProfTotalWeight</a>(<a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> &amp;TotalVal)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(</div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;      (<a class="code" href="classllvm_1_1Instruction.html#ab4e05d690df389b8b1477c90387b575f">getOpcode</a>() == Instruction::Br || <a class="code" href="classllvm_1_1Instruction.html#ab4e05d690df389b8b1477c90387b575f">getOpcode</a>() == <a class="code" href="AMDGPURegBankSelect_8cpp.html#a14e0c000ed52e5fc187d4a885914cc1a">Instruction::Select</a> ||</div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;       <a class="code" href="classllvm_1_1Instruction.html#ab4e05d690df389b8b1477c90387b575f">getOpcode</a>() == <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Instruction::Call</a> || <a class="code" href="classllvm_1_1Instruction.html#ab4e05d690df389b8b1477c90387b575f">getOpcode</a>() == Instruction::Invoke ||</div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;       <a class="code" href="classllvm_1_1Instruction.html#ab4e05d690df389b8b1477c90387b575f">getOpcode</a>() == Instruction::IndirectBr ||</div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;       <a class="code" href="classllvm_1_1Instruction.html#ab4e05d690df389b8b1477c90387b575f">getOpcode</a>() == Instruction::Switch) &amp;&amp;</div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;      <span class="stringliteral">&quot;Looking for branch weights on something besides branch&quot;</span>);</div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160; </div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;  <a class="code" href="namespacellvm.html#a17c107232f5b1b3c9b7da7402b873562">return ::extractProfTotalWeight</a>(*<span class="keyword">this</span>, TotalVal);</div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;}</div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160; </div>
<div class="line"><a name="l01550"></a><span class="lineno"><a class="line" href="classllvm_1_1GlobalObject.html#a6aa0afd1200f5f282ca02a9ebcf87ca7"> 1550</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1GlobalObject.html#a6aa0afd1200f5f282ca02a9ebcf87ca7">GlobalObject::copyMetadata</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1GlobalObject.html">GlobalObject</a> *Other, <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>) {</div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;std::pair&lt;unsigned, MDNode *&gt;</a>, 8&gt; MDs;</div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;  <a class="code" href="ELFYAML_8cpp.html#a941c34da9850676ce3380813c636cff2">Other</a>-&gt;getAllMetadata(MDs);</div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;MD : MDs) {</div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;    <span class="comment">// We need to adjust the type metadata offset.</span></div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> != 0 &amp;&amp; MD.first == LLVMContext::MD_type) {</div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;      <span class="keyword">auto</span> *OffsetConst = cast&lt;ConstantInt&gt;(</div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;          cast&lt;ConstantAsMetadata&gt;(MD.second-&gt;getOperand(0))-&gt;getValue());</div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;      <a class="code" href="classllvm_1_1Metadata.html">Metadata</a> *TypeId = MD.second-&gt;getOperand(1);</div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;      <span class="keyword">auto</span> *NewOffsetMD = <a class="code" href="classllvm_1_1ConstantAsMetadata.html#a703ab6c3e14ff7565866468d731f537a">ConstantAsMetadata::get</a>(<a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(</div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;          OffsetConst-&gt;getType(), OffsetConst-&gt;getValue() + <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>));</div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;      <a class="code" href="classllvm_1_1Value.html#aa1b0638c63ba711320b3bb9c69367ed6">addMetadata</a>(LLVMContext::MD_type,</div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;                  *<a class="code" href="classllvm_1_1MDNode.html#a7d10a7b9b7f40b04d27ed97c38ea1950">MDNode::get</a>(<a class="code" href="classllvm_1_1Value.html#ab3fc0225d8aaf8434026c3573f961f2c">getContext</a>(), {NewOffsetMD, TypeId}));</div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;    }</div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;    <span class="comment">// If an offset adjustment was specified we need to modify the DIExpression</span></div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;    <span class="comment">// to prepend the adjustment:</span></div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;    <span class="comment">// !DIExpression(DW_OP_plus, Offset, [original expr])</span></div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;    <span class="keyword">auto</span> *Attachment = MD.second;</div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> != 0 &amp;&amp; MD.first == LLVMContext::MD_dbg) {</div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;      <a class="code" href="classllvm_1_1DIGlobalVariable.html">DIGlobalVariable</a> *GV = dyn_cast&lt;DIGlobalVariable&gt;(Attachment);</div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;      <a class="code" href="classllvm_1_1DIExpression.html">DIExpression</a> *<a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;      <span class="keywordflow">if</span> (!GV) {</div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;        <span class="keyword">auto</span> *GVE = cast&lt;DIGlobalVariableExpression&gt;(Attachment);</div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;        GV = GVE-&gt;getVariable();</div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;        <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = GVE-&gt;getExpression();</div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;      }</div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;      <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;uint64_t&gt;</a> OrigElements;</div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>)</div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;        OrigElements = <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>-&gt;getElements();</div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;      std::vector&lt;uint64_t&gt; Elements(OrigElements.<a class="code" href="classllvm_1_1ArrayRef.html#a85ffb6531d4cda988ea81f18d4e56fb7">size</a>() + 2);</div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;      Elements[0] = dwarf::DW_OP_plus_uconst;</div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;      Elements[1] = <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>;</div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;      <a class="code" href="namespacellvm.html#abb650e853db0ddbb60411b885c499737">llvm::copy</a>(OrigElements, Elements.begin() + 2);</div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;      <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = <a class="code" href="classllvm_1_1MDNode.html#a7d10a7b9b7f40b04d27ed97c38ea1950">DIExpression::get</a>(<a class="code" href="classllvm_1_1Value.html#ab3fc0225d8aaf8434026c3573f961f2c">getContext</a>(), Elements);</div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;      Attachment = <a class="code" href="classllvm_1_1MDNode.html#a7d10a7b9b7f40b04d27ed97c38ea1950">DIGlobalVariableExpression::get</a>(<a class="code" href="classllvm_1_1Value.html#ab3fc0225d8aaf8434026c3573f961f2c">getContext</a>(), GV, <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>);</div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;    }</div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;    <a class="code" href="classllvm_1_1Value.html#aa1b0638c63ba711320b3bb9c69367ed6">addMetadata</a>(MD.first, *Attachment);</div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;  }</div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;}</div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160; </div>
<div class="line"><a name="l01591"></a><span class="lineno"><a class="line" href="classllvm_1_1GlobalObject.html#a0b7601463f25d7904fa9d060ba629a5a"> 1591</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1GlobalObject.html#a0b7601463f25d7904fa9d060ba629a5a">GlobalObject::addTypeMetadata</a>(<span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>, <a class="code" href="classllvm_1_1Metadata.html">Metadata</a> *<a class="code" href="classllvm_1_1Type.html#a5e9e1c0dd93557be1b4ad72860f3cbda">TypeID</a>) {</div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;  <a class="code" href="classllvm_1_1Value.html#aa1b0638c63ba711320b3bb9c69367ed6">addMetadata</a>(</div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;      LLVMContext::MD_type,</div>
<div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;      *<a class="code" href="classllvm_1_1MDTuple.html#aa905dc9d35b8732a290b468b0aee549d">MDTuple::get</a>(<a class="code" href="classllvm_1_1Value.html#ab3fc0225d8aaf8434026c3573f961f2c">getContext</a>(),</div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;                    {<a class="code" href="classllvm_1_1ConstantAsMetadata.html#a703ab6c3e14ff7565866468d731f537a">ConstantAsMetadata::get</a>(<a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(</div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;                         <a class="code" href="classllvm_1_1Type.html#a05186fa23e4d11b9855a9599ba87a4b7">Type::getInt64Ty</a>(<a class="code" href="classllvm_1_1Value.html#ab3fc0225d8aaf8434026c3573f961f2c">getContext</a>()), <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>)),</div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;                     <a class="code" href="classllvm_1_1Type.html#a5e9e1c0dd93557be1b4ad72860f3cbda">TypeID</a>}));</div>
<div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;}</div>
<div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160; </div>
<div class="line"><a name="l01600"></a><span class="lineno"><a class="line" href="classllvm_1_1GlobalObject.html#afc31bb8f3573226060a5c31480fa650e"> 1600</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1GlobalObject.html#afc31bb8f3573226060a5c31480fa650e">GlobalObject::setVCallVisibilityMetadata</a>(<a class="code" href="classllvm_1_1GlobalObject.html#ab0fc6ae566ff5de33790f565a2abe49a">VCallVisibility</a> Visibility) {</div>
<div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;  <span class="comment">// Remove any existing vcall visibility metadata first in case we are</span></div>
<div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;  <span class="comment">// updating.</span></div>
<div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;  <a class="code" href="classllvm_1_1Value.html#a9d88e21e9caa53945e903fd8c8700b4f">eraseMetadata</a>(LLVMContext::MD_vcall_visibility);</div>
<div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;  <a class="code" href="classllvm_1_1Value.html#aa1b0638c63ba711320b3bb9c69367ed6">addMetadata</a>(LLVMContext::MD_vcall_visibility,</div>
<div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;              *<a class="code" href="classllvm_1_1MDNode.html#a7d10a7b9b7f40b04d27ed97c38ea1950">MDNode::get</a>(<a class="code" href="classllvm_1_1Value.html#ab3fc0225d8aaf8434026c3573f961f2c">getContext</a>(),</div>
<div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;                           {<a class="code" href="classllvm_1_1ConstantAsMetadata.html#a703ab6c3e14ff7565866468d731f537a">ConstantAsMetadata::get</a>(<a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(</div>
<div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;                               <a class="code" href="classllvm_1_1Type.html#a05186fa23e4d11b9855a9599ba87a4b7">Type::getInt64Ty</a>(<a class="code" href="classllvm_1_1Value.html#ab3fc0225d8aaf8434026c3573f961f2c">getContext</a>()), <a class="code" href="classllvm_1_1GlobalValue.html#a4b20bb41f6274a04399a83a821869ad1">Visibility</a>))}));</div>
<div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;}</div>
<div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160; </div>
<div class="line"><a name="l01610"></a><span class="lineno"><a class="line" href="classllvm_1_1GlobalObject.html#a8eed548b25235cac65c22832aeb628fc"> 1610</a></span>&#160;<a class="code" href="classllvm_1_1GlobalObject.html#ab0fc6ae566ff5de33790f565a2abe49a">GlobalObject::VCallVisibility</a> <a class="code" href="classllvm_1_1GlobalObject.html#a8eed548b25235cac65c22832aeb628fc">GlobalObject::getVCallVisibility</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *MD = <a class="code" href="classllvm_1_1Value.html#a61a186a60c64a2a5225db9944eaf7df8">getMetadata</a>(LLVMContext::MD_vcall_visibility)) {</div>
<div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;    <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> Val = cast&lt;ConstantInt&gt;(</div>
<div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;                       cast&lt;ConstantAsMetadata&gt;(MD-&gt;getOperand(0))-&gt;getValue())</div>
<div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;                       -&gt;<a class="code" href="classllvm_1_1APInt.html#a217e0207d9cc8e046c2dccbf0e4bb198">getZExtValue</a>();</div>
<div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Val &lt;= 2 &amp;&amp; <span class="stringliteral">&quot;unknown vcall visibility!&quot;</span>);</div>
<div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;    <span class="keywordflow">return</span> (<a class="code" href="classllvm_1_1GlobalObject.html#ab0fc6ae566ff5de33790f565a2abe49a">VCallVisibility</a>)Val;</div>
<div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;  }</div>
<div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;  <span class="keywordflow">return</span> VCallVisibility::VCallVisibilityPublic;</div>
<div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;}</div>
<div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160; </div>
<div class="line"><a name="l01621"></a><span class="lineno"><a class="line" href="classllvm_1_1Function.html#a05a19abc8ee11d5909275d980efa1670"> 1621</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1Function.html#a05a19abc8ee11d5909275d980efa1670">Function::setSubprogram</a>(<a class="code" href="classllvm_1_1DISubprogram.html">DISubprogram</a> *SP) {</div>
<div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;  <a class="code" href="classllvm_1_1Value.html#a338590123630c357df6340c38d066572">setMetadata</a>(LLVMContext::MD_dbg, SP);</div>
<div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;}</div>
<div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160; </div>
<div class="line"><a name="l01625"></a><span class="lineno"><a class="line" href="classllvm_1_1Function.html#a4d834f9897d15e3a6349063b5d637cd8"> 1625</a></span>&#160;<a class="code" href="classllvm_1_1DISubprogram.html">DISubprogram</a> *<a class="code" href="classllvm_1_1Function.html#a4d834f9897d15e3a6349063b5d637cd8">Function::getSubprogram</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;  <span class="keywordflow">return</span> cast_or_null&lt;DISubprogram&gt;(<a class="code" href="classllvm_1_1Value.html#a61a186a60c64a2a5225db9944eaf7df8">getMetadata</a>(LLVMContext::MD_dbg));</div>
<div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;}</div>
<div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160; </div>
<div class="line"><a name="l01629"></a><span class="lineno"><a class="line" href="classllvm_1_1Function.html#a7345f1a973f5084e01c183cad89399d5"> 1629</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1Function.html#a7345f1a973f5084e01c183cad89399d5">Function::shouldEmitDebugInfoForProfiling</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1DISubprogram.html">DISubprogram</a> *SP = <a class="code" href="classllvm_1_1Function.html#a4d834f9897d15e3a6349063b5d637cd8">getSubprogram</a>()) {</div>
<div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1DICompileUnit.html">DICompileUnit</a> *<a class="code" href="namespaceCU.html">CU</a> = SP-&gt;getUnit()) {</div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespaceCU.html">CU</a>-&gt;getDebugInfoForProfiling();</div>
<div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;    }</div>
<div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;  }</div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;}</div>
<div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160; </div>
<div class="line"><a name="l01638"></a><span class="lineno"><a class="line" href="classllvm_1_1GlobalVariable.html#aebcc339b418cae92442b394b33359705"> 1638</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1GlobalVariable.html#aebcc339b418cae92442b394b33359705">GlobalVariable::addDebugInfo</a>(<a class="code" href="classllvm_1_1DIGlobalVariableExpression.html">DIGlobalVariableExpression</a> *GV) {</div>
<div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;  <a class="code" href="classllvm_1_1Value.html#aa1b0638c63ba711320b3bb9c69367ed6">addMetadata</a>(LLVMContext::MD_dbg, *GV);</div>
<div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;}</div>
<div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160; </div>
<div class="line"><a name="l01642"></a><span class="lineno"><a class="line" href="classllvm_1_1GlobalVariable.html#a7bd3c333fa06c8fae17d52a78db3fde2"> 1642</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1GlobalVariable.html#a7bd3c333fa06c8fae17d52a78db3fde2">GlobalVariable::getDebugInfo</a>(</div>
<div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;    <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;DIGlobalVariableExpression *&gt;</a> &amp;GVs)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;MDNode *, 1&gt;</a> MDs;</div>
<div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;  <a class="code" href="classllvm_1_1Value.html#a61a186a60c64a2a5225db9944eaf7df8">getMetadata</a>(LLVMContext::MD_dbg, MDs);</div>
<div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *MD : MDs)</div>
<div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;    GVs.push_back(cast&lt;DIGlobalVariableExpression&gt;(MD));</div>
<div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;}</div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="alib_2Target_2README_8txt_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">i</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2README_8txt_source.html#l00029">README.txt:29</a></div></div>
<div class="ttc" id="aclassllvm_1_1ReplaceableMetadataImpl_html_a97f281369b9902c19df7f1f55975065d"><div class="ttname"><a href="classllvm_1_1ReplaceableMetadataImpl.html#a97f281369b9902c19df7f1f55975065d">llvm::ReplaceableMetadataImpl::getAllArgListUsers</a></div><div class="ttdeci">SmallVector&lt; Metadata * &gt; getAllArgListUsers()</div><div class="ttdoc">Returns the list of all DIArgList users of this.</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8cpp_source.html#l00194">Metadata.cpp:194</a></div></div>
<div class="ttc" id="anamespacellvm_html_ab102f0f12dd38aeea5906b1d80c792ff"><div class="ttname"><a href="namespacellvm.html#ab102f0f12dd38aeea5906b1d80c792ff">llvm::alignTo</a></div><div class="ttdeci">uint64_t alignTo(uint64_t Size, Align A)</div><div class="ttdoc">Returns a multiple of A needed to store Size bytes.</div><div class="ttdef"><b>Definition:</b> <a href="Alignment_8h_source.html#l00155">Alignment.h:155</a></div></div>
<div class="ttc" id="aclassllvm_1_1LLVMContext_html_aa142c8c536b95dd8e8a243cb67b57a80"><div class="ttname"><a href="classllvm_1_1LLVMContext.html#aa142c8c536b95dd8e8a243cb67b57a80">llvm::LLVMContext::pImpl</a></div><div class="ttdeci">LLVMContextImpl *const pImpl</div><div class="ttdef"><b>Definition:</b> <a href="LLVMContext_8h_source.html#l00069">LLVMContext.h:69</a></div></div>
<div class="ttc" id="aMetadata_8cpp_html_a3b814c4630061d7c868d33d78aa68d32"><div class="ttname"><a href="Metadata_8cpp.html#a3b814c4630061d7c868d33d78aa68d32">canonicalizeMetadataForValue</a></div><div class="ttdeci">static Metadata * canonicalizeMetadataForValue(LLVMContext &amp;Context, Metadata *MD)</div><div class="ttdoc">Canonicalize metadata arguments to intrinsics.</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8cpp_source.html#l00080">Metadata.cpp:80</a></div></div>
<div class="ttc" id="astructllvm_1_1less__second_html"><div class="ttname"><a href="structllvm_1_1less__second.html">llvm::less_second</a></div><div class="ttdoc">Function object to check whether the second component of a std::pair compares less than the second co...</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l01485">STLExtras.h:1485</a></div></div>
<div class="ttc" id="aMetadata_8cpp_html_ac11640f75681ce282e12aa57ca134b3b"><div class="ttname"><a href="Metadata_8cpp.html#ac11640f75681ce282e12aa57ca134b3b">getNMDOps</a></div><div class="ttdeci">static SmallVector&lt; TrackingMDRef, 4 &gt; &amp; getNMDOps(void *Operands)</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8cpp_source.html#l01199">Metadata.cpp:1199</a></div></div>
<div class="ttc" id="aMathExtras_8h_html"><div class="ttname"><a href="MathExtras_8h.html">MathExtras.h</a></div></div>
<div class="ttc" id="anamespacellvm_html"><div class="ttname"><a href="namespacellvm.html">llvm</a></div><div class="ttdoc">This is an optimization pass for GlobalISel generic memory operations.</div><div class="ttdef"><b>Definition:</b> <a href="AddressRanges_8h_source.html#l00018">AddressRanges.h:18</a></div></div>
<div class="ttc" id="aclassllvm_1_1MDNode_html_ad0c6e5f8501b6685c39f35bd56cf0fd2"><div class="ttname"><a href="classllvm_1_1MDNode.html#ad0c6e5f8501b6685c39f35bd56cf0fd2">llvm::MDNode::storeImpl</a></div><div class="ttdeci">static T * storeImpl(T *N, StorageType Storage, StoreT &amp;Store)</div><div class="ttdef"><b>Definition:</b> <a href="MetadataImpl_8h_source.html#l00042">MetadataImpl.h:42</a></div></div>
<div class="ttc" id="alib_2Target_2X86_2README_8txt_html_ac88fe1d3a61b056a4f64fbbb156a62ff"><div class="ttname"><a href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a></div><div class="ttdeci">We currently emits eax Perhaps this is what we really should generate is Is imull three or four cycles eax eax The current instruction priority is based on pattern complexity The former is more complex because it folds a load so the latter will not be emitted Perhaps we should use AddedComplexity to give LEA32r a higher priority We should always try to match LEA first since the LEA matching code does some estimate to determine whether the match is profitable if we care more about code then imull is better It s two bytes shorter than movl leal On a Pentium M</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2X86_2README_8txt_source.html#l00252">README.txt:252</a></div></div>
<div class="ttc" id="aclassllvm_1_1MetadataTracking_html_a7349c5af03206b0b24d096f5c50378af"><div class="ttname"><a href="classllvm_1_1MetadataTracking.html#a7349c5af03206b0b24d096f5c50378af">llvm::MetadataTracking::untrack</a></div><div class="ttdeci">static void untrack(Metadata *&amp;MD)</div><div class="ttdoc">Stop tracking a reference to metadata.</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l00247">Metadata.h:247</a></div></div>
<div class="ttc" id="anamespacellvm_html_acdec81ddbe2a44db51de1226fa1ff5f0"><div class="ttname"><a href="namespacellvm.html#acdec81ddbe2a44db51de1226fa1ff5f0">llvm::getAllocSize</a></div><div class="ttdeci">std::optional&lt; APInt &gt; getAllocSize(const CallBase *CB, const TargetLibraryInfo *TLI, function_ref&lt; const Value *(const Value *)&gt; Mapper=[](const Value *V) { return V;})</div><div class="ttdoc">Return the size of the requested allocation.</div><div class="ttdef"><b>Definition:</b> <a href="MemoryBuiltins_8cpp_source.html#l00367">MemoryBuiltins.cpp:367</a></div></div>
<div class="ttc" id="aclassllvm_1_1MetadataTracking_html_a45da08f68cfc27dc2e0dfc6b0057e1c3"><div class="ttname"><a href="classllvm_1_1MetadataTracking.html#a45da08f68cfc27dc2e0dfc6b0057e1c3">llvm::MetadataTracking::isReplaceable</a></div><div class="ttdeci">static bool isReplaceable(const Metadata &amp;MD)</div><div class="ttdoc">Check whether metadata is replaceable.</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8cpp_source.html#l00190">Metadata.cpp:190</a></div></div>
<div class="ttc" id="aclassllvm_1_1Metadata_html_a3f931bc86bd57cd5ea0f53528ae88f80a371ec05b3e6903fb1dcad8a46bae5d38"><div class="ttname"><a href="classllvm_1_1Metadata.html#a3f931bc86bd57cd5ea0f53528ae88f80a371ec05b3e6903fb1dcad8a46bae5d38">llvm::Metadata::Distinct</a></div><div class="ttdeci">@ Distinct</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l00069">Metadata.h:69</a></div></div>
<div class="ttc" id="aMetadataImpl_8h_html"><div class="ttname"><a href="MetadataImpl_8h.html">MetadataImpl.h</a></div></div>
<div class="ttc" id="aMetadata_8h_html"><div class="ttname"><a href="Metadata_8h.html">Metadata.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1NamedMDNode_html_acde8007e0e69969423e2de52343b702f"><div class="ttname"><a href="classllvm_1_1NamedMDNode.html#acde8007e0e69969423e2de52343b702f">llvm::NamedMDNode::getNumOperands</a></div><div class="ttdeci">unsigned getNumOperands() const</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8cpp_source.html#l01211">Metadata.cpp:1211</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalVariable_html_a7bd3c333fa06c8fae17d52a78db3fde2"><div class="ttname"><a href="classllvm_1_1GlobalVariable.html#a7bd3c333fa06c8fae17d52a78db3fde2">llvm::GlobalVariable::getDebugInfo</a></div><div class="ttdeci">void getDebugInfo(SmallVectorImpl&lt; DIGlobalVariableExpression * &gt; &amp;GVs) const</div><div class="ttdoc">Fill the vector with all debug info attachements.</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8cpp_source.html#l01642">Metadata.cpp:1642</a></div></div>
<div class="ttc" id="aDebugInfoMetadata_8h_html"><div class="ttname"><a href="DebugInfoMetadata_8h.html">DebugInfoMetadata.h</a></div></div>
<div class="ttc" id="aCorrelatedValuePropagation_8cpp_html_a8c825d8718637fb081db2cf8fbade190"><div class="ttname"><a href="CorrelatedValuePropagation_8cpp.html#a8c825d8718637fb081db2cf8fbade190">getDomain</a></div><div class="ttdeci">static Domain getDomain(const ConstantRange &amp;CR)</div><div class="ttdef"><b>Definition:</b> <a href="CorrelatedValuePropagation_8cpp_source.html#l00698">CorrelatedValuePropagation.cpp:698</a></div></div>
<div class="ttc" id="aclassT_html"><div class="ttname"><a href="classT.html">T</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html_a4b20bb41f6274a04399a83a821869ad1"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#a4b20bb41f6274a04399a83a821869ad1">llvm::GlobalValue::Visibility</a></div><div class="ttdeci">unsigned Visibility</div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00095">GlobalValue.h:95</a></div></div>
<div class="ttc" id="aStringRef_8h_html"><div class="ttname"><a href="StringRef_8h.html">StringRef.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MetadataTracking_html_ac8d18d3d41665a4f2747c2da7195055a"><div class="ttname"><a href="classllvm_1_1MetadataTracking.html#ac8d18d3d41665a4f2747c2da7195055a">llvm::MetadataTracking::track</a></div><div class="ttdeci">static bool track(Metadata *&amp;MD)</div><div class="ttdoc">Track the reference to metadata.</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l00222">Metadata.h:222</a></div></div>
<div class="ttc" id="aclassllvm_1_1MDNode_html_abfa8b6d71b4325aa92a1f18cc566cfeb"><div class="ttname"><a href="classllvm_1_1MDNode.html#abfa8b6d71b4325aa92a1f18cc566cfeb">llvm::MDNode::setOperand</a></div><div class="ttdeci">void setOperand(unsigned I, Metadata *New)</div><div class="ttdoc">Set an operand.</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8cpp_source.html#l00980">Metadata.cpp:980</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantInt_html_a4b001d9b458035fbbfc154d52d354ee9"><div class="ttname"><a href="classllvm_1_1ConstantInt.html#a4b001d9b458035fbbfc154d52d354ee9">llvm::ConstantInt::getValue</a></div><div class="ttdeci">const APInt &amp; getValue() const</div><div class="ttdoc">Return the constant as an APInt value reference.</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8h_source.html#l00132">Constants.h:132</a></div></div>
<div class="ttc" id="aNVVMIntrRange_8cpp_html_a7df34dbf636f2fbbb00f2b86eccdb1eb"><div class="ttname"><a href="NVVMIntrRange_8cpp.html#a7df34dbf636f2fbbb00f2b86eccdb1eb">High</a></div><div class="ttdeci">uint64_t High</div><div class="ttdef"><b>Definition:</b> <a href="NVVMIntrRange_8cpp_source.html#l00061">NVVMIntrRange.cpp:61</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVector_html"><div class="ttname"><a href="classllvm_1_1SmallVector.html">llvm::SmallVector</a></div><div class="ttdoc">This is a 'vector' (really, a variable-sized array), optimized for the case when the array is small.</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l01199">SmallVector.h:1199</a></div></div>
<div class="ttc" id="anamespacellvm_html_af21b4642091ba7f9791cc0a0dee67633"><div class="ttname"><a href="namespacellvm.html#af21b4642091ba7f9791cc0a0dee67633">llvm::getUniqued</a></div><div class="ttdeci">static T * getUniqued(DenseSet&lt; T *, InfoT &gt; &amp;Store, const typename InfoT::KeyTy &amp;Key)</div><div class="ttdef"><b>Definition:</b> <a href="MetadataImpl_8h_source.html#l00022">MetadataImpl.h:22</a></div></div>
<div class="ttc" id="aclassllvm_1_1MDAttachments_html_ac65bce5d26f30d69a6fae10df90fc510"><div class="ttname"><a href="classllvm_1_1MDAttachments.html#ac65bce5d26f30d69a6fae10df90fc510">llvm::MDAttachments::set</a></div><div class="ttdeci">void set(unsigned ID, MDNode *MD)</div><div class="ttdoc">Set an attachment to a particular node.</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8cpp_source.html#l01262">Metadata.cpp:1262</a></div></div>
<div class="ttc" id="astructMDNode_1_1HasCachedHash_1_1SFINAE_html"><div class="ttname"><a href="structMDNode_1_1HasCachedHash_1_1SFINAE.html">llvm::MDNode::HasCachedHash::SFINAE</a></div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8cpp_source.html#l00881">Metadata.cpp:881</a></div></div>
<div class="ttc" id="aclassllvm_1_1Function_html_a4d834f9897d15e3a6349063b5d637cd8"><div class="ttname"><a href="classllvm_1_1Function.html#a4d834f9897d15e3a6349063b5d637cd8">llvm::Function::getSubprogram</a></div><div class="ttdeci">DISubprogram * getSubprogram() const</div><div class="ttdoc">Get the attached subprogram.</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8cpp_source.html#l01625">Metadata.cpp:1625</a></div></div>
<div class="ttc" id="aSupport_2ErrorHandling_8h_html"><div class="ttname"><a href="Support_2ErrorHandling_8h.html">ErrorHandling.h</a></div></div>
<div class="ttc" id="anamespacellvm_html_ac9a7de5a04920954ac964059cfc428ad"><div class="ttname"><a href="namespacellvm.html#ac9a7de5a04920954ac964059cfc428ad">llvm::erase_if</a></div><div class="ttdeci">void erase_if(Container &amp;C, UnaryPredicate P)</div><div class="ttdoc">Provide a container algorithm similar to C++ Library Fundamentals v2's erase_if which is equivalent t...</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l01998">STLExtras.h:1998</a></div></div>
<div class="ttc" id="aclassllvm_1_1DebugLoc_html_a0f74888bb81633373654800e2dafcb60"><div class="ttname"><a href="classllvm_1_1DebugLoc.html#a0f74888bb81633373654800e2dafcb60">llvm::DebugLoc::getAsMDNode</a></div><div class="ttdeci">MDNode * getAsMDNode() const</div><div class="ttdoc">Return this as a bar MDNode.</div><div class="ttdef"><b>Definition:</b> <a href="DebugLoc_8h_source.html#l00106">DebugLoc.h:106</a></div></div>
<div class="ttc" id="aclassllvm_1_1ValueAsMetadata_html_a3f5d7f69dfca5dc7437a1044a87cdb2d"><div class="ttname"><a href="classllvm_1_1ValueAsMetadata.html#a3f5d7f69dfca5dc7437a1044a87cdb2d">llvm::ValueAsMetadata::handleDeletion</a></div><div class="ttdeci">static void handleDeletion(Value *V)</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8cpp_source.html#l00416">Metadata.cpp:416</a></div></div>
<div class="ttc" id="aMetadata_8cpp_html_ac485f1a06d95a982f897655933212766"><div class="ttname"><a href="Metadata_8cpp.html#ac485f1a06d95a982f897655933212766">tryMergeRange</a></div><div class="ttdeci">static bool tryMergeRange(SmallVectorImpl&lt; ConstantInt * &gt; &amp;EndPoints, ConstantInt *Low, ConstantInt *High)</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8cpp_source.html#l01083">Metadata.cpp:1083</a></div></div>
<div class="ttc" id="aclassllvm_1_1MDAttachments_html_aff77859f559a172e1da80d22d2e57896"><div class="ttname"><a href="classllvm_1_1MDAttachments.html#aff77859f559a172e1da80d22d2e57896">llvm::MDAttachments::erase</a></div><div class="ttdeci">bool erase(unsigned ID)</div><div class="ttdoc">Remove attachments with the given ID.</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8cpp_source.html#l01272">Metadata.cpp:1272</a></div></div>
<div class="ttc" id="aAPInt_8h_html"><div class="ttname"><a href="APInt_8h.html">APInt.h</a></div></div>
<div class="ttc" id="astructllvm_1_1AAMDNodes_html"><div class="ttname"><a href="structllvm_1_1AAMDNodes.html">llvm::AAMDNodes</a></div><div class="ttdoc">A collection of metadata nodes that might be associated with a memory access used by the alias-analys...</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l00651">Metadata.h:651</a></div></div>
<div class="ttc" id="aclassllvm_1_1NamedMDNode_html_a543df3cb1eda9d491a7822ef4216e3b1"><div class="ttname"><a href="classllvm_1_1NamedMDNode.html#a543df3cb1eda9d491a7822ef4216e3b1">llvm::NamedMDNode::setOperand</a></div><div class="ttdeci">void setOperand(unsigned I, MDNode *New)</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8cpp_source.html#l01223">Metadata.cpp:1223</a></div></div>
<div class="ttc" id="aclassllvm_1_1SetVector_html_a55ffacfbd9b6de5eb90a9f443001e3a6"><div class="ttname"><a href="classllvm_1_1SetVector.html#a55ffacfbd9b6de5eb90a9f443001e3a6">llvm::SetVector&lt; T, SmallVector&lt; T, N &gt;, SmallDenseSet&lt; T, N &gt; &gt;::getArrayRef</a></div><div class="ttdeci">ArrayRef&lt; T &gt; getArrayRef() const</div><div class="ttdef"><b>Definition:</b> <a href="SetVector_8h_source.html#l00063">SetVector.h:63</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html"><div class="ttname"><a href="classllvm_1_1Type.html">llvm::Type</a></div><div class="ttdoc">The instances of the Type class are immutable: once they are created, they are never changed.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00045">Type.h:45</a></div></div>
<div class="ttc" id="aModule_8h_html"><div class="ttname"><a href="Module_8h.html">Module.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1sys_1_1path_html_a214ec2f04ffd92636ed4bd2717607a1d"><div class="ttname"><a href="namespacellvm_1_1sys_1_1path.html#a214ec2f04ffd92636ed4bd2717607a1d">llvm::sys::path::end</a></div><div class="ttdeci">const_iterator end(StringRef path)</div><div class="ttdoc">Get end iterator over path.</div><div class="ttdef"><b>Definition:</b> <a href="Path_8cpp_source.html#l00235">Path.cpp:235</a></div></div>
<div class="ttc" id="anamespacellvm_html_abb650e853db0ddbb60411b885c499737"><div class="ttname"><a href="namespacellvm.html#abb650e853db0ddbb60411b885c499737">llvm::copy</a></div><div class="ttdeci">OutputIt copy(R &amp;&amp;Range, OutputIt Out)</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l01837">STLExtras.h:1837</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallSet_html"><div class="ttname"><a href="classllvm_1_1SmallSet.html">llvm::SmallSet</a></div><div class="ttdoc">SmallSet - This maintains a set of unique values, optimizing for the case when the set is small (less...</div><div class="ttdef"><b>Definition:</b> <a href="SmallSet_8h_source.html#l00135">SmallSet.h:135</a></div></div>
<div class="ttc" id="aMetadata_8cpp_html_aa683b86eef1bb61284da320a5f1d6549"><div class="ttname"><a href="Metadata_8cpp.html#aa683b86eef1bb61284da320a5f1d6549">getLocalFunctionMetadata</a></div><div class="ttdeci">static DISubprogram * getLocalFunctionMetadata(Value *V)</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8cpp_source.html#l00375">Metadata.cpp:375</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantAsMetadata_html_a703ab6c3e14ff7565866468d731f537a"><div class="ttname"><a href="classllvm_1_1ConstantAsMetadata.html#a703ab6c3e14ff7565866468d731f537a">llvm::ConstantAsMetadata::get</a></div><div class="ttdeci">static ConstantAsMetadata * get(Constant *C)</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l00419">Metadata.h:419</a></div></div>
<div class="ttc" id="aGlobalObject_8h_html"><div class="ttname"><a href="GlobalObject_8h.html">GlobalObject.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallPtrSet_html"><div class="ttname"><a href="classllvm_1_1SmallPtrSet.html">llvm::SmallPtrSet</a></div><div class="ttdoc">SmallPtrSet - This class implements a set which is optimized for holding SmallSize or less elements.</div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00450">SmallPtrSet.h:450</a></div></div>
<div class="ttc" id="aclassllvm_1_1MetadataTracking_html_a80df62c7fe69bd81d3f2ecd843d0db92"><div class="ttname"><a href="classllvm_1_1MetadataTracking.html#a80df62c7fe69bd81d3f2ecd843d0db92">llvm::MetadataTracking::retrack</a></div><div class="ttdeci">static bool retrack(Metadata *&amp;MD, Metadata *&amp;New)</div><div class="ttdoc">Move tracking from one reference to another.</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l00258">Metadata.h:258</a></div></div>
<div class="ttc" id="aclassllvm_1_1NamedMDNode_html_a65b7697fe1d38e9c8884d9a08b8be88e"><div class="ttname"><a href="classllvm_1_1NamedMDNode.html#a65b7697fe1d38e9c8884d9a08b8be88e">llvm::NamedMDNode::dropAllReferences</a></div><div class="ttdeci">void dropAllReferences()</div><div class="ttdoc">Remove all uses and clear node vector.</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l01652">Metadata.h:1652</a></div></div>
<div class="ttc" id="aclassllvm_1_1ValueAsMetadata_html_a53fc78b63202142110d0e86dd1a71fbe"><div class="ttname"><a href="classllvm_1_1ValueAsMetadata.html#a53fc78b63202142110d0e86dd1a71fbe">llvm::ValueAsMetadata::get</a></div><div class="ttdeci">static ValueAsMetadata * get(Value *V)</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8cpp_source.html#l00392">Metadata.cpp:392</a></div></div>
<div class="ttc" id="aclassllvm_1_1LocalAsMetadata_html"><div class="ttname"><a href="classllvm_1_1LocalAsMetadata.html">llvm::LocalAsMetadata</a></div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l00436">Metadata.h:436</a></div></div>
<div class="ttc" id="aAMDGPURegBankSelect_8cpp_html_a14e0c000ed52e5fc187d4a885914cc1a"><div class="ttname"><a href="AMDGPURegBankSelect_8cpp.html#a14e0c000ed52e5fc187d4a885914cc1a">Select</a></div><div class="ttdeci">amdgpu AMDGPU Register Bank Select</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPURegBankSelect_8cpp_source.html#l00045">AMDGPURegBankSelect.cpp:45</a></div></div>
<div class="ttc" id="aSTLExtras_8h_html"><div class="ttname"><a href="STLExtras_8h.html">STLExtras.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1LLVMContextImpl_html_ab9825bb3a01150a90106e731b9fe23df"><div class="ttname"><a href="classllvm_1_1LLVMContextImpl.html#ab9825bb3a01150a90106e731b9fe23df">llvm::LLVMContextImpl::ValuesAsMetadata</a></div><div class="ttdeci">DenseMap&lt; Value *, ValueAsMetadata * &gt; ValuesAsMetadata</div><div class="ttdef"><b>Definition:</b> <a href="LLVMContextImpl_8h_source.html#l01462">LLVMContextImpl.h:1462</a></div></div>
<div class="ttc" id="aclassllvm_1_1DIExpression_html"><div class="ttname"><a href="classllvm_1_1DIExpression.html">llvm::DIExpression</a></div><div class="ttdoc">DWARF expression.</div><div class="ttdef"><b>Definition:</b> <a href="DebugInfoMetadata_8h_source.html#l02611">DebugInfoMetadata.h:2611</a></div></div>
<div class="ttc" id="aclassllvm_1_1MetadataAsValue_html"><div class="ttname"><a href="classllvm_1_1MetadataAsValue.html">llvm::MetadataAsValue</a></div><div class="ttdoc">Metadata wrapper in the Value hierarchy.</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l00175">Metadata.h:175</a></div></div>
<div class="ttc" id="anamespacellvm_html_ac214df91cdc242f4710ea5a93939c678"><div class="ttname"><a href="namespacellvm.html#ac214df91cdc242f4710ea5a93939c678">llvm::count_if</a></div><div class="ttdeci">auto count_if(R &amp;&amp;Range, UnaryPredicate P)</div><div class="ttdoc">Wrapper function around std::count_if to count the number of times an element satisfying a given pred...</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l01903">STLExtras.h:1903</a></div></div>
<div class="ttc" id="aclassllvm_1_1SetVector_html_a5779c9e110b51323b5f8a8216499634d"><div class="ttname"><a href="classllvm_1_1SetVector.html#a5779c9e110b51323b5f8a8216499634d">llvm::SetVector&lt; T, SmallVector&lt; T, N &gt;, SmallDenseSet&lt; T, N &gt; &gt;::remove_if</a></div><div class="ttdeci">bool remove_if(UnaryPredicate P)</div><div class="ttdoc">Remove items from the set vector based on a predicate function.</div><div class="ttdef"><b>Definition:</b> <a href="SetVector_8h_source.html#l00192">SetVector.h:192</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html_abf99137658d60be8c83c08be17b2e265"><div class="ttname"><a href="classllvm_1_1Instruction.html#abf99137658d60be8c83c08be17b2e265">llvm::Instruction::dropUnknownNonDebugMetadata</a></div><div class="ttdeci">void dropUnknownNonDebugMetadata()</div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8h_source.html#l00326">Instruction.h:326</a></div></div>
<div class="ttc" id="aclassllvm_1_1PointerUnion_html_a47a37d4a29c6d015b0ec9b0e722110fe"><div class="ttname"><a href="classllvm_1_1PointerUnion.html#a47a37d4a29c6d015b0ec9b0e722110fe">llvm::PointerUnion::get</a></div><div class="ttdeci">T get() const</div><div class="ttdoc">Returns the value of the specified pointer type.</div><div class="ttdef"><b>Definition:</b> <a href="PointerUnion_8h_source.html#l00155">PointerUnion.h:155</a></div></div>
<div class="ttc" id="aclassllvm_1_1ArrayRef_html_ac835b8735b1b2faec0efdca236e37d94"><div class="ttname"><a href="classllvm_1_1ArrayRef.html#ac835b8735b1b2faec0efdca236e37d94">llvm::ArrayRef::empty</a></div><div class="ttdeci">bool empty() const</div><div class="ttdoc">empty - Check if the array is empty.</div><div class="ttdef"><b>Definition:</b> <a href="ArrayRef_8h_source.html#l00158">ArrayRef.h:158</a></div></div>
<div class="ttc" id="alib_2CodeGen_2README_8txt_html_a3f8966a44f193849a18c573b402472b8"><div class="ttname"><a href="lib_2CodeGen_2README_8txt.html#a3f8966a44f193849a18c573b402472b8">new</a></div><div class="ttdeci">Common register allocation spilling lr str ldr sxth r3 ldr mla r4 can lr mov lr str ldr sxth r3 mla r4 and then merge mul and lr str ldr sxth r3 mla r4 It also increase the likelihood the store may become dead bb27 Successors according to LLVM ID Predecessors according to mbb&lt; bb27, 0x8b0a7c0 &gt; Note ADDri is not a two address instruction its result reg1037 is an operand of the PHI node in bb76 and its operand reg1039 is the result of the PHI node We should treat it as a two address code and make sure the ADDri is scheduled after any node that reads reg1039 Use info(i.e. register scavenger) to assign it a free register to allow reuse the collector could move the objects and invalidate the derived pointer This is bad enough in the first but safe points can crop up unpredictably **array_addr i32 n y store obj * new</div><div class="ttdef"><b>Definition:</b> <a href="lib_2CodeGen_2README_8txt_source.html#l00125">README.txt:125</a></div></div>
<div class="ttc" id="aclassllvm_1_1MDNode_html_a7d10a7b9b7f40b04d27ed97c38ea1950"><div class="ttname"><a href="classllvm_1_1MDNode.html#a7d10a7b9b7f40b04d27ed97c38ea1950">llvm::MDNode::get</a></div><div class="ttdeci">static MDTuple * get(LLVMContext &amp;Context, ArrayRef&lt; Metadata * &gt; MDs)</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l01399">Metadata.h:1399</a></div></div>
<div class="ttc" id="anamespacellvm_1_1RISCVFenceField_html_a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731"><div class="ttname"><a href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731">llvm::RISCVFenceField::R</a></div><div class="ttdeci">@ R</div><div class="ttdef"><b>Definition:</b> <a href="RISCVBaseInfo_8h_source.html#l00278">RISCVBaseInfo.h:278</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html_a9247a212ea89acc9573fa7e7f557eaba"><div class="ttname"><a href="classllvm_1_1Instruction.html#a9247a212ea89acc9573fa7e7f557eaba">llvm::Instruction::setMetadata</a></div><div class="ttdeci">void setMetadata(unsigned KindID, MDNode *Node)</div><div class="ttdoc">Set the metadata of the specified kind to the specified node.</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8cpp_source.html#l01455">Metadata.cpp:1455</a></div></div>
<div class="ttc" id="aARMLowOverheadLoops_8cpp_html_a0a0971d62011c35b29ff4a2325d45e93"><div class="ttname"><a href="ARMLowOverheadLoops_8cpp.html#a0a0971d62011c35b29ff4a2325d45e93">Uses</a></div><div class="ttdeci">SmallPtrSet&lt; MachineInstr *, 2 &gt; Uses</div><div class="ttdef"><b>Definition:</b> <a href="ARMLowOverheadLoops_8cpp_source.html#l00590">ARMLowOverheadLoops.cpp:590</a></div></div>
<div class="ttc" id="aclassllvm_1_1BasicBlock_html"><div class="ttname"><a href="classllvm_1_1BasicBlock.html">llvm::BasicBlock</a></div><div class="ttdoc">LLVM Basic Block Representation.</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8h_source.html#l00055">BasicBlock.h:55</a></div></div>
<div class="ttc" id="aclassllvm_1_1PointerUnion_html_aa2b5d50bce283a11bd0dc04c13dca0fc"><div class="ttname"><a href="classllvm_1_1PointerUnion.html#aa2b5d50bce283a11bd0dc04c13dca0fc">llvm::PointerUnion::is</a></div><div class="ttdeci">bool is() const</div><div class="ttdoc">Test if the Union currently holds the type matching T.</div><div class="ttdef"><b>Definition:</b> <a href="PointerUnion_8h_source.html#l00150">PointerUnion.h:150</a></div></div>
<div class="ttc" id="aclassllvm_1_1MDNode_html_a478c26e31b9b99fab1ba3036f966f5c9"><div class="ttname"><a href="classllvm_1_1MDNode.html#a478c26e31b9b99fab1ba3036f966f5c9">llvm::MDNode::storeDistinctInContext</a></div><div class="ttdeci">void storeDistinctInContext()</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8cpp_source.html#l00946">Metadata.cpp:946</a></div></div>
<div class="ttc" id="aclassllvm_1_1MDNode_html_aa4068e37ec583962685e3567dc102ae5"><div class="ttname"><a href="classllvm_1_1MDNode.html#aa4068e37ec583962685e3567dc102ae5">llvm::MDNode::getNumOperands</a></div><div class="ttdeci">unsigned getNumOperands() const</div><div class="ttdoc">Return number of MDNode operands.</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l01297">Metadata.h:1297</a></div></div>
<div class="ttc" id="aclassllvm_1_1MDOperand_html_adbf1e0362caee7340d321f61332c91ca"><div class="ttname"><a href="classllvm_1_1MDOperand.html#adbf1e0362caee7340d321f61332c91ca">llvm::MDOperand::reset</a></div><div class="ttdeci">void reset()</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l00799">Metadata.h:799</a></div></div>
<div class="ttc" id="aNVVMIntrRange_8cpp_html_afad351d7bf10ac0446b64e7827634e94"><div class="ttname"><a href="NVVMIntrRange_8cpp.html#afad351d7bf10ac0446b64e7827634e94">Context</a></div><div class="ttdeci">LLVMContext &amp; Context</div><div class="ttdef"><b>Definition:</b> <a href="NVVMIntrRange_8cpp_source.html#l00066">NVVMIntrRange.cpp:66</a></div></div>
<div class="ttc" id="astructllvm_1_1MDAttachments_1_1Attachment_html"><div class="ttname"><a href="structllvm_1_1MDAttachments_1_1Attachment.html">llvm::MDAttachments::Attachment</a></div><div class="ttdef"><b>Definition:</b> <a href="LLVMContextImpl_8h_source.html#l01354">LLVMContextImpl.h:1354</a></div></div>
<div class="ttc" id="aIR_2Instruction_8h_html"><div class="ttname"><a href="IR_2Instruction_8h.html">Instruction.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1NamedMDNode_html_ae917c72e5b8e15491cd0dbdd44d818f2"><div class="ttname"><a href="classllvm_1_1NamedMDNode.html#ae917c72e5b8e15491cd0dbdd44d818f2">llvm::NamedMDNode::addOperand</a></div><div class="ttdeci">void addOperand(MDNode *M)</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8cpp_source.html#l01221">Metadata.cpp:1221</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantInt_html"><div class="ttname"><a href="classllvm_1_1ConstantInt.html">llvm::ConstantInt</a></div><div class="ttdoc">This is the shared class of boolean and integer constants.</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8h_source.html#l00078">Constants.h:78</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_a28fdf240b8220065bc60d6d1b1a2f174"><div class="ttname"><a href="classllvm_1_1Type.html#a28fdf240b8220065bc60d6d1b1a2f174">llvm::Type::getMetadataTy</a></div><div class="ttdeci">static Type * getMetadataTy(LLVMContext &amp;C)</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00230">Type.cpp:230</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html_ab4e05d690df389b8b1477c90387b575f"><div class="ttname"><a href="classllvm_1_1Instruction.html#ab4e05d690df389b8b1477c90387b575f">llvm::Instruction::getOpcode</a></div><div class="ttdeci">unsigned getOpcode() const</div><div class="ttdoc">Returns a member of one of the enums like Instruction::Add.</div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8h_source.html#l00168">Instruction.h:168</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html_a51d5735829e1f043630dd403f01d4219"><div class="ttname"><a href="classllvm_1_1Instruction.html#a51d5735829e1f043630dd403f01d4219">llvm::Instruction::extractProfTotalWeight</a></div><div class="ttdeci">bool extractProfTotalWeight(uint64_t &amp;TotalVal) const</div><div class="ttdoc">Retrieve total raw weight values of a branch.</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8cpp_source.html#l01539">Metadata.cpp:1539</a></div></div>
<div class="ttc" id="aclassllvm_1_1MutableArrayRef_html_a9d959094f4544749c129c46034cbed67"><div class="ttname"><a href="classllvm_1_1MutableArrayRef.html#a9d959094f4544749c129c46034cbed67">llvm::MutableArrayRef::end</a></div><div class="ttdeci">iterator end() const</div><div class="ttdef"><b>Definition:</b> <a href="ArrayRef_8h_source.html#l00355">ArrayRef.h:355</a></div></div>
<div class="ttc" id="aclassllvm_1_1MutableArrayRef_html"><div class="ttname"><a href="classllvm_1_1MutableArrayRef.html">llvm::MutableArrayRef</a></div><div class="ttdoc">MutableArrayRef - Represent a mutable reference to an array (0 or more elements consecutively in memo...</div><div class="ttdef"><b>Definition:</b> <a href="ArrayRef_8h_source.html#l00027">ArrayRef.h:27</a></div></div>
<div class="ttc" id="anamespacellvm_html_a9db8c44b250b90e3ab7e4d144e7c9c2ea60baadb22e80b147e4885ad16760e569"><div class="ttname"><a href="namespacellvm.html#a9db8c44b250b90e3ab7e4d144e7c9c2ea60baadb22e80b147e4885ad16760e569">llvm::ModRefInfo::Ref</a></div><div class="ttdeci">@ Ref</div><div class="ttdoc">The access may reference the value stored in memory.</div></div>
<div class="ttc" id="aConstants_8h_html"><div class="ttname"><a href="Constants_8h.html">Constants.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1ValueAsMetadata_html_a3011a4758b31e15d77951d24386c68bf"><div class="ttname"><a href="classllvm_1_1ValueAsMetadata.html#a3011a4758b31e15d77951d24386c68bf">llvm::ValueAsMetadata::replaceAllUsesWith</a></div><div class="ttdeci">void replaceAllUsesWith(Metadata *MD)</div><div class="ttdoc">Handle collisions after Value::replaceAllUsesWith().</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l00401">Metadata.h:401</a></div></div>
<div class="ttc" id="aBuiltinGCs_8cpp_html_a6742d2e0a668baf1196ec69e158d5f15"><div class="ttname"><a href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a></div><div class="ttdeci">static GCRegistry::Add&lt; CoreCLRGC &gt; E(&quot;coreclr&quot;, &quot;CoreCLR-compatible GC&quot;)</div></div>
<div class="ttc" id="astructllvm_1_1less__first_html"><div class="ttname"><a href="structllvm_1_1less__first.html">llvm::less_first</a></div><div class="ttdoc">Function object to check whether the first component of a std::pair compares less than the first comp...</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l01477">STLExtras.h:1477</a></div></div>
<div class="ttc" id="aREADME__ALTIVEC_8txt_html_a9aacd9146afe44bf656cd664e2a88c8c"><div class="ttname"><a href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a></div><div class="ttdeci">(vector float) vec_cmpeq(*A, *B) C</div><div class="ttdef"><b>Definition:</b> <a href="README__ALTIVEC_8txt_source.html#l00086">README_ALTIVEC.txt:86</a></div></div>
<div class="ttc" id="aTwine_8h_html"><div class="ttname"><a href="Twine_8h.html">Twine.h</a></div></div>
<div class="ttc" id="alib_2Target_2README_8txt_html_a3217063f680fa8e35dea3c59b6e52b18"><div class="ttname"><a href="lib_2Target_2README_8txt.html#a3217063f680fa8e35dea3c59b6e52b18">int</a></div><div class="ttdeci">Clang compiles this i1 i64 store i64 i64 store i64 i64 store i64 i64 store i64 align Which gets codegen d xmm0 movaps rbp movaps rbp movaps rbp movaps rbp rbp rbp rbp rbp It would be better to have movq s of instead of the movaps s LLVM produces ret int</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2README_8txt_source.html#l00536">README.txt:536</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalObject_html"><div class="ttname"><a href="classllvm_1_1GlobalObject.html">llvm::GlobalObject</a></div><div class="ttdef"><b>Definition:</b> <a href="GlobalObject_8h_source.html#l00027">GlobalObject.h:27</a></div></div>
<div class="ttc" id="aclassllvm_1_1NamedMDNode_html_a5e90645e97cbfe08194f0db4d0bdec88"><div class="ttname"><a href="classllvm_1_1NamedMDNode.html#a5e90645e97cbfe08194f0db4d0bdec88">llvm::NamedMDNode::getName</a></div><div class="ttdeci">StringRef getName() const</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8cpp_source.html#l01232">Metadata.cpp:1232</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalObject_html_afc31bb8f3573226060a5c31480fa650e"><div class="ttname"><a href="classllvm_1_1GlobalObject.html#afc31bb8f3573226060a5c31480fa650e">llvm::GlobalObject::setVCallVisibilityMetadata</a></div><div class="ttdeci">void setVCallVisibilityMetadata(VCallVisibility Visibility)</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8cpp_source.html#l01600">Metadata.cpp:1600</a></div></div>
<div class="ttc" id="aclassllvm_1_1MDNode_html_a2a4c38914845e8b9def01a483f0a2497"><div class="ttname"><a href="classllvm_1_1MDNode.html#a2a4c38914845e8b9def01a483f0a2497">llvm::MDNode::mutable_operands</a></div><div class="ttdeci">mutable_op_range mutable_operands()</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l01081">Metadata.h:1081</a></div></div>
<div class="ttc" id="aclassllvm_1_1MDNode_html_a2ff0e0e87a2d1056a7b6d7d4b878c4ec"><div class="ttname"><a href="classllvm_1_1MDNode.html#a2ff0e0e87a2d1056a7b6d7d4b878c4ec">llvm::MDNode::operands</a></div><div class="ttdeci">ArrayRef&lt; MDOperand &gt; operands() const</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l01289">Metadata.h:1289</a></div></div>
<div class="ttc" id="aclassllvm_1_1MDTuple_html"><div class="ttname"><a href="classllvm_1_1MDTuple.html">llvm::MDTuple</a></div><div class="ttdoc">Tuple of metadata.</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l01328">Metadata.h:1328</a></div></div>
<div class="ttc" id="aCorrelatedValuePropagation_8cpp_html_aad75d6f4f14a7b791076c6785aa59be4"><div class="ttname"><a href="CorrelatedValuePropagation_8cpp.html#aad75d6f4f14a7b791076c6785aa59be4">Domain</a></div><div class="ttdeci">Domain</div><div class="ttdef"><b>Definition:</b> <a href="CorrelatedValuePropagation_8cpp_source.html#l00696">CorrelatedValuePropagation.cpp:696</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1PALMD_html_af892c75285b0f64d58ca76cb73059adf"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1PALMD.html#af892c75285b0f64d58ca76cb73059adf">llvm::AMDGPU::PALMD::Key</a></div><div class="ttdeci">Key</div><div class="ttdoc">PAL metadata keys.</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUMetadata_8h_source.html#l00486">AMDGPUMetadata.h:486</a></div></div>
<div class="ttc" id="astructMDNode_1_1HasCachedHash_html_ad557d5341f1dfffad09e53d470db1c64"><div class="ttname"><a href="structMDNode_1_1HasCachedHash.html#ad557d5341f1dfffad09e53d470db1c64">llvm::MDNode::HasCachedHash::Yes</a></div><div class="ttdeci">char[1] Yes</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8cpp_source.html#l00879">Metadata.cpp:879</a></div></div>
<div class="ttc" id="anamespacellvm_1_1SPII_html_a1c7202c6054fef862bbed45957747cdfa36b3dd3b84fde3f8494a9b18af131856"><div class="ttname"><a href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa36b3dd3b84fde3f8494a9b18af131856">llvm::SPII::Store</a></div><div class="ttdeci">@ Store</div><div class="ttdef"><b>Definition:</b> <a href="SparcInstrInfo_8h_source.html#l00033">SparcInstrInfo.h:33</a></div></div>
<div class="ttc" id="aDenseSet_8h_html"><div class="ttname"><a href="DenseSet_8h.html">DenseSet.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1Metadata_html_a3f931bc86bd57cd5ea0f53528ae88f80"><div class="ttname"><a href="classllvm_1_1Metadata.html#a3f931bc86bd57cd5ea0f53528ae88f80">llvm::Metadata::StorageType</a></div><div class="ttdeci">StorageType</div><div class="ttdoc">Active type of storage.</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l00069">Metadata.h:69</a></div></div>
<div class="ttc" id="aGenericCycleImpl_8h_html_a9b7ee5bbb263671ca310a70e0d1526e9"><div class="ttname"><a href="GenericCycleImpl_8h.html#a9b7ee5bbb263671ca310a70e0d1526e9">check</a></div><div class="ttdeci">#define check(cond)</div></div>
<div class="ttc" id="aclassllvm_1_1MDAttachments_html_af61dae2e0490d044c27c19855884c95f"><div class="ttname"><a href="classllvm_1_1MDAttachments.html#af61dae2e0490d044c27c19855884c95f">llvm::MDAttachments::lookup</a></div><div class="ttdeci">MDNode * lookup(unsigned ID) const</div><div class="ttdoc">Returns the first attachment with the given ID or nullptr if no such attachment exists.</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8cpp_source.html#l01238">Metadata.cpp:1238</a></div></div>
<div class="ttc" id="aBuiltinGCs_8cpp_html_a7abf5fb4071cb25dbce06dfb5ee3c937"><div class="ttname"><a href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a></div><div class="ttdeci">static GCRegistry::Add&lt; OcamlGC &gt; B(&quot;ocaml&quot;, &quot;ocaml 3.10-compatible GC&quot;)</div></div>
<div class="ttc" id="aclassllvm_1_1Metadata_html_a91c7b9c7cf6694f41b9030429b582d26"><div class="ttname"><a href="classllvm_1_1Metadata.html#a91c7b9c7cf6694f41b9030429b582d26">llvm::Metadata::getMetadataID</a></div><div class="ttdeci">unsigned getMetadataID() const</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l00101">Metadata.h:101</a></div></div>
<div class="ttc" id="aclassllvm_1_1MDNode_html_a44b68e8d9b3efbac171194130619ccf6"><div class="ttname"><a href="classllvm_1_1MDNode.html#a44b68e8d9b3efbac171194130619ccf6">llvm::MDNode::mutable_begin</a></div><div class="ttdeci">MDOperand * mutable_begin()</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l01076">Metadata.h:1076</a></div></div>
<div class="ttc" id="aclassllvm_1_1NamedMDNode_html_a7b8c6e263c8047823d8869cc27dd8008"><div class="ttname"><a href="classllvm_1_1NamedMDNode.html#a7b8c6e263c8047823d8869cc27dd8008">llvm::NamedMDNode::eraseFromParent</a></div><div class="ttdeci">void eraseFromParent()</div><div class="ttdoc">Drop all references and remove the node from parent module.</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8cpp_source.html#l01228">Metadata.cpp:1228</a></div></div>
<div class="ttc" id="aLLVMContextImpl_8h_html"><div class="ttname"><a href="LLVMContextImpl_8h.html">LLVMContextImpl.h</a></div></div>
<div class="ttc" id="aMDBuilder_8h_html"><div class="ttname"><a href="MDBuilder_8h.html">MDBuilder.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_a217e0207d9cc8e046c2dccbf0e4bb198"><div class="ttname"><a href="classllvm_1_1APInt.html#a217e0207d9cc8e046c2dccbf0e4bb198">llvm::APInt::getZExtValue</a></div><div class="ttdeci">uint64_t getZExtValue() const</div><div class="ttdoc">Get zero extended value.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l01494">APInt.h:1494</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantRange_html_aa81521f99442a5c30f9061b8c6ce795e"><div class="ttname"><a href="classllvm_1_1ConstantRange.html#aa81521f99442a5c30f9061b8c6ce795e">llvm::ConstantRange::unionWith</a></div><div class="ttdeci">ConstantRange unionWith(const ConstantRange &amp;CR, PreferredRangeType Type=Smallest) const</div><div class="ttdoc">Return the range that results from the union of this range with another range.</div><div class="ttdef"><b>Definition:</b> <a href="ConstantRange_8cpp_source.html#l00626">ConstantRange.cpp:626</a></div></div>
<div class="ttc" id="aAPFloat_8h_html"><div class="ttname"><a href="APFloat_8h.html">APFloat.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVectorImpl_html_ad0b3d8447f88377b62d9c019f3c4e118"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html#ad0b3d8447f88377b62d9c019f3c4e118">llvm::SmallVectorImpl::resize</a></div><div class="ttdeci">void resize(size_type N)</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00642">SmallVector.h:642</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AArch64CC_html_abfa1f7dce576430da99eed57807c7f28aeb67eda6b42e3237bc28fb457347a1cb"><div class="ttname"><a href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28aeb67eda6b42e3237bc28fb457347a1cb">llvm::AArch64CC::LE</a></div><div class="ttdeci">@ LE</div><div class="ttdef"><b>Definition:</b> <a href="AArch64BaseInfo_8h_source.html#l00268">AArch64BaseInfo.h:268</a></div></div>
<div class="ttc" id="aclassllvm_1_1UndefValue_html_a4ae5ff22b700a42bcc5d889233721335"><div class="ttname"><a href="classllvm_1_1UndefValue.html#a4ae5ff22b700a42bcc5d889233721335">llvm::UndefValue::get</a></div><div class="ttdeci">static UndefValue * get(Type *T)</div><div class="ttdoc">Static factory methods - Return an 'undef' object of the specified type.</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l01740">Constants.cpp:1740</a></div></div>
<div class="ttc" id="anamespacellvm_html_a05609d049bfe3c5c2f64711566131a86a28d0edd045e05cf5af64e35ae0c4c6ef"><div class="ttname"><a href="namespacellvm.html#a05609d049bfe3c5c2f64711566131a86a28d0edd045e05cf5af64e35ae0c4c6ef">llvm::ThreadPriority::Low</a></div><div class="ttdeci">@ Low</div><div class="ttdoc">Lower the current thread's priority such that it does not affect foreground tasks significantly.</div></div>
<div class="ttc" id="aclassllvm_1_1ConstantInt_html_a969709dd49c28865a482d8b870f87c46"><div class="ttname"><a href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">llvm::ConstantInt::get</a></div><div class="ttdeci">static Constant * get(Type *Ty, uint64_t V, bool IsSigned=false)</div><div class="ttdoc">If Ty is a vector type, return a Constant with a splat of the given value.</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l00887">Constants.cpp:887</a></div></div>
<div class="ttc" id="aDebugLoc_8h_html"><div class="ttname"><a href="DebugLoc_8h.html">DebugLoc.h</a></div></div>
<div class="ttc" id="aSmallPtrSet_8h_html"><div class="ttname"><a href="SmallPtrSet_8h.html">SmallPtrSet.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html_aade703948f2fdabdc65868bdf42d3141"><div class="ttname"><a href="classllvm_1_1Instruction.html#aade703948f2fdabdc65868bdf42d3141">llvm::Instruction::getAAMetadata</a></div><div class="ttdeci">AAMDNodes getAAMetadata() const</div><div class="ttdoc">Returns the AA metadata for this instruction.</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8cpp_source.html#l01499">Metadata.cpp:1499</a></div></div>
<div class="ttc" id="aCSEInfo_8cpp_html_a75f8a8519c2c9b30e7c06dc5e256fffa"><div class="ttname"><a href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a></div><div class="ttdeci">Analysis containing CSE Info</div><div class="ttdef"><b>Definition:</b> <a href="CSEInfo_8cpp_source.html#l00027">CSEInfo.cpp:27</a></div></div>
<div class="ttc" id="anamespacellvm_1_1MCID_html_ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f"><div class="ttname"><a href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">llvm::MCID::Call</a></div><div class="ttdeci">@ Call</div><div class="ttdef"><b>Definition:</b> <a href="MCInstrDesc_8h_source.html#l00156">MCInstrDesc.h:156</a></div></div>
<div class="ttc" id="aclassllvm_1_1Metadata_html"><div class="ttname"><a href="classllvm_1_1Metadata.html">llvm::Metadata</a></div><div class="ttdoc">Root of the metadata hierarchy.</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l00061">Metadata.h:61</a></div></div>
<div class="ttc" id="astructMDNode_1_1HasCachedHash_html_aa1db4315883ca18b9b685acd3fe26520"><div class="ttname"><a href="structMDNode_1_1HasCachedHash.html#aa1db4315883ca18b9b685acd3fe26520">llvm::MDNode::HasCachedHash::No</a></div><div class="ttdeci">char[2] No</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8cpp_source.html#l00880">Metadata.cpp:880</a></div></div>
<div class="ttc" id="aclassllvm_1_1SetVector_html_aaf9ee38b9973681c1720aaf03af3a069"><div class="ttname"><a href="classllvm_1_1SetVector.html#aaf9ee38b9973681c1720aaf03af3a069">llvm::SetVector&lt; T, SmallVector&lt; T, N &gt;, SmallDenseSet&lt; T, N &gt; &gt;::empty</a></div><div class="ttdeci">bool empty() const</div><div class="ttdoc">Determine if the SetVector is empty or not.</div><div class="ttdef"><b>Definition:</b> <a href="SetVector_8h_source.html#l00072">SetVector.h:72</a></div></div>
<div class="ttc" id="anamespacellvm_1_1CallingConv_html_a188c0836f8c3528401f1c236fd93b977"><div class="ttname"><a href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">llvm::CallingConv::ID</a></div><div class="ttdeci">unsigned ID</div><div class="ttdoc">LLVM IR allows to use arbitrary numbers as calling convention identifiers.</div><div class="ttdef"><b>Definition:</b> <a href="CallingConv_8h_source.html#l00024">CallingConv.h:24</a></div></div>
<div class="ttc" id="aType_8h_html"><div class="ttname"><a href="Type_8h.html">Type.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html_ae22f493ba8327ce92e87d3b96bce7017"><div class="ttname"><a href="classllvm_1_1Instruction.html#ae22f493ba8327ce92e87d3b96bce7017">llvm::Instruction::getMetadata</a></div><div class="ttdeci">MDNode * getMetadata(unsigned KindID) const</div><div class="ttdoc">Get the metadata of given kind attached to this Instruction.</div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8h_source.html#l00275">Instruction.h:275</a></div></div>
<div class="ttc" id="aMIRNamerPass_8cpp_html_a05e4be4ec3e2c3587dda0e376bb6822c"><div class="ttname"><a href="MIRNamerPass_8cpp.html#a05e4be4ec3e2c3587dda0e376bb6822c">Operands</a></div><div class="ttdeci">mir Rename Register Operands</div><div class="ttdef"><b>Definition:</b> <a href="MIRNamerPass_8cpp_source.html#l00074">MIRNamerPass.cpp:74</a></div></div>
<div class="ttc" id="aADT_2tmp_8txt_html_a07ed0bfaa124c15897944fe3eaa971ab"><div class="ttname"><a href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a></div><div class="ttdeci">Class for arbitrary precision integers APInt is a functional replacement for common case unsigned integer type like unsigned long or uint64_t</div><div class="ttdef"><b>Definition:</b> <a href="ADT_2tmp_8txt_source.html#l00001">tmp.txt:1</a></div></div>
<div class="ttc" id="anamespacellvm_html_a48fcefb82ced0006a4c7a6c48708cf3e"><div class="ttname"><a href="namespacellvm.html#a48fcefb82ced0006a4c7a6c48708cf3e">llvm::TrackingMDNodeRef</a></div><div class="ttdeci">TypedTrackingMDRef&lt; MDNode &gt; TrackingMDNodeRef</div><div class="ttdef"><b>Definition:</b> <a href="TrackingMDRef_8h_source.html#l00141">TrackingMDRef.h:141</a></div></div>
<div class="ttc" id="anamespacellvm_html_a74cdbd1e4f731e7d7cd83461b8b1de0b"><div class="ttname"><a href="namespacellvm.html#a74cdbd1e4f731e7d7cd83461b8b1de0b">llvm::sort</a></div><div class="ttdeci">void sort(IteratorTy Start, IteratorTy End)</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l01683">STLExtras.h:1683</a></div></div>
<div class="ttc" id="aclassllvm_1_1MDNode_html_a6cbc0453586a25c057a32161b38b8ce4"><div class="ttname"><a href="classllvm_1_1MDNode.html#a6cbc0453586a25c057a32161b38b8ce4">llvm::MDNode::getOperand</a></div><div class="ttdeci">const MDOperand &amp; getOperand(unsigned I) const</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l01291">Metadata.h:1291</a></div></div>
<div class="ttc" id="aclassllvm_1_1MDBuilder_html_a7939b917f71d9664707d8ec51da88418"><div class="ttname"><a href="classllvm_1_1MDBuilder.html#a7939b917f71d9664707d8ec51da88418">llvm::MDBuilder::createString</a></div><div class="ttdeci">MDString * createString(StringRef Str)</div><div class="ttdoc">Return the given string as metadata.</div><div class="ttdef"><b>Definition:</b> <a href="MDBuilder_8cpp_source.html#l00020">MDBuilder.cpp:20</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalVariable_html_aebcc339b418cae92442b394b33359705"><div class="ttname"><a href="classllvm_1_1GlobalVariable.html#aebcc339b418cae92442b394b33359705">llvm::GlobalVariable::addDebugInfo</a></div><div class="ttdeci">void addDebugInfo(DIGlobalVariableExpression *GV)</div><div class="ttdoc">Attach a DIGlobalVariableExpression.</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8cpp_source.html#l01638">Metadata.cpp:1638</a></div></div>
<div class="ttc" id="aclassllvm_1_1MDNode_html_a1e374f158a4fbdac4f74797096ced49a"><div class="ttname"><a href="classllvm_1_1MDNode.html#a1e374f158a4fbdac4f74797096ced49a">llvm::MDNode::resolveCycles</a></div><div class="ttdeci">void resolveCycles()</div><div class="ttdoc">Resolve cycles.</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8cpp_source.html#l00732">Metadata.cpp:732</a></div></div>
<div class="ttc" id="aclassllvm_1_1LLVMContextImpl_html_a6577bf24ddcb2a2cd401ee3e4704527a"><div class="ttname"><a href="classllvm_1_1LLVMContextImpl.html#a6577bf24ddcb2a2cd401ee3e4704527a">llvm::LLVMContextImpl::ValueMetadata</a></div><div class="ttdeci">DenseMap&lt; const Value *, MDAttachments &gt; ValueMetadata</div><div class="ttdoc">Collection of metadata used in this context.</div><div class="ttdef"><b>Definition:</b> <a href="LLVMContextImpl_8h_source.html#l01552">LLVMContextImpl.h:1552</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseSet_html"><div class="ttname"><a href="classllvm_1_1DenseSet.html">llvm::DenseSet</a></div><div class="ttdoc">Implements a dense probed hash-table based set.</div><div class="ttdef"><b>Definition:</b> <a href="DenseSet_8h_source.html#l00268">DenseSet.h:268</a></div></div>
<div class="ttc" id="aBasicBlock_8h_html"><div class="ttname"><a href="BasicBlock_8h.html">BasicBlock.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1ReplaceableMetadataImpl_html_a8adfe0bbfa83dcbab95c4bcea9705e9d"><div class="ttname"><a href="classllvm_1_1ReplaceableMetadataImpl.html#a8adfe0bbfa83dcbab95c4bcea9705e9d">llvm::ReplaceableMetadataImpl::resolveAllUses</a></div><div class="ttdeci">void resolveAllUses(bool ResolveUsers=true)</div><div class="ttdoc">Resolve all uses of this.</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8cpp_source.html#l00324">Metadata.cpp:324</a></div></div>
<div class="ttc" id="aclassllvm_1_1APFloat_html"><div class="ttname"><a href="classllvm_1_1APFloat.html">llvm::APFloat</a></div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8h_source.html#l00744">APFloat.h:744</a></div></div>
<div class="ttc" id="aclassllvm_1_1Function_html_a05a19abc8ee11d5909275d980efa1670"><div class="ttname"><a href="classllvm_1_1Function.html#a05a19abc8ee11d5909275d980efa1670">llvm::Function::setSubprogram</a></div><div class="ttdeci">void setSubprogram(DISubprogram *SP)</div><div class="ttdoc">Set the attached subprogram.</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8cpp_source.html#l01621">Metadata.cpp:1621</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_adafa9575780f9246d1df0b7e2a619356"><div class="ttname"><a href="classllvm_1_1APInt.html#adafa9575780f9246d1df0b7e2a619356">llvm::APInt::slt</a></div><div class="ttdeci">bool slt(const APInt &amp;RHS) const</div><div class="ttdoc">Signed less than comparison.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l01108">APInt.h:1108</a></div></div>
<div class="ttc" id="anamespacellvm_1_1RISCVFenceField_html_a147be9e9780c1e33363ea572d4c7b25fa1a33f1d911a725a1f81234a908d03edb"><div class="ttname"><a href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1a33f1d911a725a1f81234a908d03edb">llvm::RISCVFenceField::O</a></div><div class="ttdeci">@ O</div><div class="ttdef"><b>Definition:</b> <a href="RISCVBaseInfo_8h_source.html#l00277">RISCVBaseInfo.h:277</a></div></div>
<div class="ttc" id="aclassllvm_1_1MDNode_html_a36436cf39711f9bf40066439ccfdcced"><div class="ttname"><a href="classllvm_1_1MDNode.html#a36436cf39711f9bf40066439ccfdcced">llvm::MDNode::resolve</a></div><div class="ttdeci">void resolve()</div><div class="ttdoc">Resolve a unique, unresolved node.</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8cpp_source.html#l00686">Metadata.cpp:686</a></div></div>
<div class="ttc" id="aclassllvm_1_1Constant_html"><div class="ttname"><a href="classllvm_1_1Constant.html">llvm::Constant</a></div><div class="ttdoc">This is an important base class in LLVM.</div><div class="ttdef"><b>Definition:</b> <a href="Constant_8h_source.html#l00041">Constant.h:41</a></div></div>
<div class="ttc" id="aclassllvm_1_1MDNode_html_acdbfda46c9837123ef7143244fc1f904"><div class="ttname"><a href="classllvm_1_1MDNode.html#acdbfda46c9837123ef7143244fc1f904">llvm::MDNode::intersect</a></div><div class="ttdeci">static MDNode * intersect(MDNode *A, MDNode *B)</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8cpp_source.html#l01019">Metadata.cpp:1019</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallSet_html_a2a98f19750ba941ce791b75ca6d77e48"><div class="ttname"><a href="classllvm_1_1SmallSet.html#a2a98f19750ba941ce791b75ca6d77e48">llvm::SmallSet::count</a></div><div class="ttdeci">size_type count(const T &amp;V) const</div><div class="ttdoc">count - Return 1 if the element is in the set, 0 otherwise.</div><div class="ttdef"><b>Definition:</b> <a href="SmallSet_8h_source.html#l00164">SmallSet.h:164</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html_a6762e9e611c29b13a5c94bf8488fe798"><div class="ttname"><a href="classllvm_1_1Instruction.html#a6762e9e611c29b13a5c94bf8488fe798">llvm::Instruction::addAnnotationMetadata</a></div><div class="ttdeci">void addAnnotationMetadata(StringRef Annotation)</div><div class="ttdoc">Adds an !annotation metadata node with Annotation to this instruction.</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8cpp_source.html#l01478">Metadata.cpp:1478</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_a0e7ed12d09bbe90b2061208177e2a3ba"><div class="ttname"><a href="classllvm_1_1Value.html#a0e7ed12d09bbe90b2061208177e2a3ba">llvm::Value::IsUsedByMD</a></div><div class="ttdeci">unsigned IsUsedByMD</div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00117">Value.h:117</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_aa1b0638c63ba711320b3bb9c69367ed6"><div class="ttname"><a href="classllvm_1_1Value.html#aa1b0638c63ba711320b3bb9c69367ed6">llvm::Value::addMetadata</a></div><div class="ttdeci">void addMetadata(unsigned KindID, MDNode &amp;MD)</div><div class="ttdoc">Add a metadata attachment.</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8cpp_source.html#l01359">Metadata.cpp:1359</a></div></div>
<div class="ttc" id="anamespacellvm_html_a086e9fbdb06276db7753101a08a63adf"><div class="ttname"><a href="namespacellvm.html#a086e9fbdb06276db7753101a08a63adf">llvm::find</a></div><div class="ttdeci">auto find(R &amp;&amp;Range, const T &amp;Val)</div><div class="ttdoc">Provide wrappers to std::find which take ranges instead of having to pass begin/end explicitly.</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l01755">STLExtras.h:1755</a></div></div>
<div class="ttc" id="aclassllvm_1_1MDNode_html_ac63a248c346be4c4aad7487e179102ac"><div class="ttname"><a href="classllvm_1_1MDNode.html#ac63a248c346be4c4aad7487e179102ac">llvm::MDNode::MDNode</a></div><div class="ttdeci">MDNode(LLVMContext &amp;Context, unsigned ID, StorageType Storage, ArrayRef&lt; Metadata * &gt; Ops1, ArrayRef&lt; Metadata * &gt; Ops2=std::nullopt)</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8cpp_source.html#l00541">Metadata.cpp:541</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalObject_html_a6aa0afd1200f5f282ca02a9ebcf87ca7"><div class="ttname"><a href="classllvm_1_1GlobalObject.html#a6aa0afd1200f5f282ca02a9ebcf87ca7">llvm::GlobalObject::copyMetadata</a></div><div class="ttdeci">void copyMetadata(const GlobalObject *Src, unsigned Offset)</div><div class="ttdoc">Copy metadata from Src, adjusting offsets by Offset.</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8cpp_source.html#l01550">Metadata.cpp:1550</a></div></div>
<div class="ttc" id="aclassllvm_1_1DIGlobalVariable_html"><div class="ttname"><a href="classllvm_1_1DIGlobalVariable.html">llvm::DIGlobalVariable</a></div><div class="ttdoc">Global variables.</div><div class="ttdef"><b>Definition:</b> <a href="DebugInfoMetadata_8h_source.html#l03026">DebugInfoMetadata.h:3026</a></div></div>
<div class="ttc" id="alib_2Target_2ARM_2README_8txt_html_ad3a99906764c35b2694ae90fa57744a5"><div class="ttname"><a href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">move</a></div><div class="ttdeci">compiles ldr LCPI1_0 ldr ldr mov lsr tst moveq r1 ldr LCPI1_1 and r0 bx lr It would be better to do something like to fold the shift into the conditional move</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2ARM_2README_8txt_source.html#l00546">README.txt:546</a></div></div>
<div class="ttc" id="aProfDataUtils_8h_html"><div class="ttname"><a href="ProfDataUtils_8h.html">ProfDataUtils.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1LLVMContext_html"><div class="ttname"><a href="classllvm_1_1LLVMContext.html">llvm::LLVMContext</a></div><div class="ttdoc">This is an important class for using LLVM in a threaded context.</div><div class="ttdef"><b>Definition:</b> <a href="LLVMContext_8h_source.html#l00067">LLVMContext.h:67</a></div></div>
<div class="ttc" id="aMD5_8cpp_html_ac0eafdc9ee161b71e7af98af736952fd"><div class="ttname"><a href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a></div><div class="ttdeci">#define I(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00058">MD5.cpp:58</a></div></div>
<div class="ttc" id="aclassllvm_1_1MetadataAsValue_html_aa8f5b66c1e3e1c2f0740764818920442"><div class="ttname"><a href="classllvm_1_1MetadataAsValue.html#aa8f5b66c1e3e1c2f0740764818920442">llvm::MetadataAsValue::~MetadataAsValue</a></div><div class="ttdeci">~MetadataAsValue()</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8cpp_source.html#l00064">Metadata.cpp:64</a></div></div>
<div class="ttc" id="aclassllvm_1_1DICompileUnit_html"><div class="ttname"><a href="classllvm_1_1DICompileUnit.html">llvm::DICompileUnit</a></div><div class="ttdoc">Compile unit.</div><div class="ttdef"><b>Definition:</b> <a href="DebugInfoMetadata_8h_source.html#l01363">DebugInfoMetadata.h:1363</a></div></div>
<div class="ttc" id="aclassllvm_1_1MDAttachments_html_af60cd19cea15f241358dc553f5530043"><div class="ttname"><a href="classllvm_1_1MDAttachments.html#af60cd19cea15f241358dc553f5530043">llvm::MDAttachments::empty</a></div><div class="ttdeci">bool empty() const</div><div class="ttdef"><b>Definition:</b> <a href="LLVMContextImpl_8h_source.html#l01363">LLVMContextImpl.h:1363</a></div></div>
<div class="ttc" id="anamespacellvm_html_acd1cd968cb420c82d70926920fcdc7d7"><div class="ttname"><a href="namespacellvm.html#acd1cd968cb420c82d70926920fcdc7d7">llvm::is_contained</a></div><div class="ttdeci">bool is_contained(R &amp;&amp;Range, const E &amp;Element)</div><div class="ttdoc">Wrapper function around std::find to detect if an element exists in a container.</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l01869">STLExtras.h:1869</a></div></div>
<div class="ttc" id="aArrayRef_8h_html"><div class="ttname"><a href="ArrayRef_8h.html">ArrayRef.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MDString_html_affbb7e2e9ad8d18114816f2443d672b9"><div class="ttname"><a href="classllvm_1_1MDString.html#affbb7e2e9ad8d18114816f2443d672b9">llvm::MDString::get</a></div><div class="ttdeci">static MDString * get(LLVMContext &amp;Context, StringRef Str)</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8cpp_source.html#l00497">Metadata.cpp:497</a></div></div>
<div class="ttc" id="aclassllvm_1_1ReplaceableMetadataImpl_html"><div class="ttname"><a href="classllvm_1_1ReplaceableMetadataImpl.html">llvm::ReplaceableMetadataImpl</a></div><div class="ttdoc">Shared implementation of use-lists for replaceable metadata.</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l00280">Metadata.h:280</a></div></div>
<div class="ttc" id="aclassllvm_1_1NamedMDNode_html_aa24b566603d206b0e74bf63daf521078"><div class="ttname"><a href="classllvm_1_1NamedMDNode.html#aa24b566603d206b0e74bf63daf521078">llvm::NamedMDNode::getOperand</a></div><div class="ttdeci">MDNode * getOperand(unsigned i) const</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8cpp_source.html#l01215">Metadata.cpp:1215</a></div></div>
<div class="ttc" id="aclassllvm_1_1MDNode_html_af9b9a04442e0f04f60751aca1783ff3b"><div class="ttname"><a href="classllvm_1_1MDNode.html#af9b9a04442e0f04f60751aca1783ff3b">llvm::MDNode::getMostGenericAlignmentOrDereferenceable</a></div><div class="ttdeci">static MDNode * getMostGenericAlignmentOrDereferenceable(MDNode *A, MDNode *B)</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8cpp_source.html#l01184">Metadata.cpp:1184</a></div></div>
<div class="ttc" id="aSILowerControlFlow_8cpp_html_a4868c5d81c5ccc98c47aeab6244346a0"><div class="ttname"><a href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a></div><div class="ttdeci">assert(ImpDefSCC.getReg()==AMDGPU::SCC &amp;&amp;ImpDefSCC.isDef())</div></div>
<div class="ttc" id="anamespacellvm_html_abfc9c7ecf70f66901e439f7c04ef3dbb"><div class="ttname"><a href="namespacellvm.html#abfc9c7ecf70f66901e439f7c04ef3dbb">llvm::move</a></div><div class="ttdeci">OutputIt move(R &amp;&amp;Range, OutputIt Out)</div><div class="ttdoc">Provide wrappers to std::move which take ranges instead of having to pass begin/end explicitly.</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l01862">STLExtras.h:1862</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html_a565f546ad95bd3a9bbe9a1e5040803f0"><div class="ttname"><a href="classllvm_1_1Instruction.html#a565f546ad95bd3a9bbe9a1e5040803f0">llvm::Instruction::hasMetadata</a></div><div class="ttdeci">bool hasMetadata() const</div><div class="ttdoc">Return true if this instruction has any metadata attached to it.</div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8h_source.html#l00257">Instruction.h:257</a></div></div>
<div class="ttc" id="anamespacellvm_html_a17c107232f5b1b3c9b7da7402b873562"><div class="ttname"><a href="namespacellvm.html#a17c107232f5b1b3c9b7da7402b873562">llvm::extractProfTotalWeight</a></div><div class="ttdeci">bool extractProfTotalWeight(const MDNode *ProfileData, uint64_t &amp;TotalWeights)</div><div class="ttdoc">Retrieve the total of all weights from MD_prof data.</div><div class="ttdef"><b>Definition:</b> <a href="ProfDataUtils_8cpp_source.html#l00155">ProfDataUtils.cpp:155</a></div></div>
<div class="ttc" id="aclassllvm_1_1MDNode_html_aee5630d2f87361a6652ded2c474efe41"><div class="ttname"><a href="classllvm_1_1MDNode.html#aee5630d2f87361a6652ded2c474efe41">llvm::MDNode::dropAllReferences</a></div><div class="ttdeci">void dropAllReferences()</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8cpp_source.html#l00798">Metadata.cpp:798</a></div></div>
<div class="ttc" id="aclassllvm_1_1MDTuple_html_aa905dc9d35b8732a290b468b0aee549d"><div class="ttname"><a href="classllvm_1_1MDTuple.html#aa905dc9d35b8732a290b468b0aee549d">llvm::MDTuple::get</a></div><div class="ttdeci">static MDTuple * get(LLVMContext &amp;Context, ArrayRef&lt; Metadata * &gt; MDs)</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l01356">Metadata.h:1356</a></div></div>
<div class="ttc" id="aclassllvm_1_1MDNode_html_afaa888eea64d3619550d172aa7caa19e"><div class="ttname"><a href="classllvm_1_1MDNode.html#afaa888eea64d3619550d172aa7caa19e">llvm::MDNode::getNumUnresolved</a></div><div class="ttdeci">unsigned getNumUnresolved() const</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l01217">Metadata.h:1217</a></div></div>
<div class="ttc" id="aclassllvm_1_1ValueAsMetadata_html_abb1fed177add0142f52d7369619a2871"><div class="ttname"><a href="classllvm_1_1ValueAsMetadata.html#abb1fed177add0142f52d7369619a2871">llvm::ValueAsMetadata::getValue</a></div><div class="ttdeci">Value * getValue() const</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l00384">Metadata.h:384</a></div></div>
<div class="ttc" id="aclassllvm_1_1MDNode_html"><div class="ttname"><a href="classllvm_1_1MDNode.html">llvm::MDNode</a></div><div class="ttdoc">Metadata node.</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l00943">Metadata.h:943</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_ad151fceb9a0e77a8a8017d4f68791811"><div class="ttname"><a href="classllvm_1_1Value.html#ad151fceb9a0e77a8a8017d4f68791811">llvm::Value::clearMetadata</a></div><div class="ttdeci">void clearMetadata()</div><div class="ttdoc">Erase all metadata attached to this Value.</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8cpp_source.html#l01382">Metadata.cpp:1382</a></div></div>
<div class="ttc" id="aclassllvm_1_1LLVMContextImpl_html_a382cf610134589ebfa0040f2af7b7066"><div class="ttname"><a href="classllvm_1_1LLVMContextImpl.html#a382cf610134589ebfa0040f2af7b7066">llvm::LLVMContextImpl::AssignmentIDToInstrs</a></div><div class="ttdeci">DenseMap&lt; DIAssignID *, SmallVector&lt; Instruction *, 1 &gt; &gt; AssignmentIDToInstrs</div><div class="ttdoc">Map DIAssignID -&gt; Instructions with that attachment.</div><div class="ttdef"><b>Definition:</b> <a href="LLVMContextImpl_8h_source.html#l01557">LLVMContextImpl.h:1557</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallPtrSetImpl_html_a1f475b0df44ebd7169e720fa1bf9169e"><div class="ttname"><a href="classllvm_1_1SmallPtrSetImpl.html#a1f475b0df44ebd7169e720fa1bf9169e">llvm::SmallPtrSetImpl::count</a></div><div class="ttdeci">size_type count(ConstPtrType Ptr) const</div><div class="ttdoc">count - Return 1 if the specified pointer is in the set, 0 otherwise.</div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00383">SmallPtrSet.h:383</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html"><div class="ttname"><a href="classllvm_1_1APInt.html">llvm::APInt</a></div><div class="ttdoc">Class for arbitrary precision integers.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00075">APInt.h:75</a></div></div>
<div class="ttc" id="aclassllvm_1_1SetVector_html_a72d928b7fc2c5f2d56c6ac0265fd9c6e"><div class="ttname"><a href="classllvm_1_1SetVector.html#a72d928b7fc2c5f2d56c6ac0265fd9c6e">llvm::SetVector&lt; T, SmallVector&lt; T, N &gt;, SmallDenseSet&lt; T, N &gt; &gt;::insert</a></div><div class="ttdeci">bool insert(const value_type &amp;X)</div><div class="ttdoc">Insert a new element into the SetVector.</div><div class="ttdef"><b>Definition:</b> <a href="SetVector_8h_source.html#l00141">SetVector.h:141</a></div></div>
<div class="ttc" id="aMetadata_8cpp_html_a538047e21679cd2bf4cfd1e73fe022aa"><div class="ttname"><a href="Metadata_8cpp.html#a538047e21679cd2bf4cfd1e73fe022aa">addRange</a></div><div class="ttdeci">static void addRange(SmallVectorImpl&lt; ConstantInt * &gt; &amp;EndPoints, ConstantInt *Low, ConstantInt *High)</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8cpp_source.html#l01102">Metadata.cpp:1102</a></div></div>
<div class="ttc" id="anamespacellvm_html_a10f3d955592ae2bc745f57e5b48ae115"><div class="ttname"><a href="namespacellvm.html#a10f3d955592ae2bc745f57e5b48ae115">llvm::size</a></div><div class="ttdeci">auto size(R &amp;&amp;Range, std::enable_if_t&lt; std::is_base_of&lt; std::random_access_iterator_tag, typename std::iterator_traits&lt; decltype(Range.begin())&gt;::iterator_category &gt;::value, void &gt; *=nullptr)</div><div class="ttdoc">Get the size of a range.</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l01716">STLExtras.h:1716</a></div></div>
<div class="ttc" id="aclassllvm_1_1MDAttachments_html_a0d4d74b417eb20d7ab720be2e0a9ddcd"><div class="ttname"><a href="classllvm_1_1MDAttachments.html#a0d4d74b417eb20d7ab720be2e0a9ddcd">llvm::MDAttachments::insert</a></div><div class="ttdeci">void insert(unsigned ID, MDNode &amp;MD)</div><div class="ttdoc">Adds an attachment to a particular node.</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8cpp_source.html#l01268">Metadata.cpp:1268</a></div></div>
<div class="ttc" id="aclassllvm_1_1ArrayRef_html"><div class="ttname"><a href="classllvm_1_1ArrayRef.html">llvm::ArrayRef</a></div><div class="ttdoc">ArrayRef - Represent a constant reference to an array (0 or more elements consecutively in memory),...</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00033">APInt.h:33</a></div></div>
<div class="ttc" id="aclassllvm_1_1LLVMContextImpl_html_a2757063573b80cb1423828875aee939f"><div class="ttname"><a href="classllvm_1_1LLVMContextImpl.html#a2757063573b80cb1423828875aee939f">llvm::LLVMContextImpl::MDStringCache</a></div><div class="ttdeci">StringMap&lt; MDString, BumpPtrAllocator &gt; MDStringCache</div><div class="ttdef"><b>Definition:</b> <a href="LLVMContextImpl_8h_source.html#l01461">LLVMContextImpl.h:1461</a></div></div>
<div class="ttc" id="aclassllvm_1_1StringRef_html"><div class="ttname"><a href="classllvm_1_1StringRef.html">llvm::StringRef</a></div><div class="ttdoc">StringRef - Represent a constant reference to a string, i.e.</div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00050">StringRef.h:50</a></div></div>
<div class="ttc" id="anamespacellvm_html_a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4"><div class="ttname"><a href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">llvm::Offset</a></div><div class="ttdeci">@ Offset</div><div class="ttdef"><b>Definition:</b> <a href="DWP_8cpp_source.html#l00406">DWP.cpp:406</a></div></div>
<div class="ttc" id="aSupport_2ErrorHandling_8h_html_ace243f5c25697a1107cce46626b3dc94"><div class="ttname"><a href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a></div><div class="ttdeci">#define llvm_unreachable(msg)</div><div class="ttdoc">Marks that the current location is not supposed to be reachable.</div><div class="ttdef"><b>Definition:</b> <a href="Support_2ErrorHandling_8h_source.html#l00143">ErrorHandling.h:143</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_a6393a2d4fe7e10b28a0dcc35f881567b"><div class="ttname"><a href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">llvm::Value::getType</a></div><div class="ttdeci">Type * getType() const</div><div class="ttdoc">All values are typed, get the type of this value.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00255">Value.h:255</a></div></div>
<div class="ttc" id="aclassllvm_1_1MDNode_html_a3279d6d110c594673e692308fce00fab"><div class="ttname"><a href="classllvm_1_1MDNode.html#a3279d6d110c594673e692308fce00fab">llvm::MDNode::concatenate</a></div><div class="ttdeci">static MDNode * concatenate(MDNode *A, MDNode *B)</div><div class="ttdoc">Methods for metadata merging.</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8cpp_source.html#l01005">Metadata.cpp:1005</a></div></div>
<div class="ttc" id="aclassllvm_1_1MDNode_html_a92fd2fda0d83920749a3b0ef851b4580"><div class="ttname"><a href="classllvm_1_1MDNode.html#a92fd2fda0d83920749a3b0ef851b4580">llvm::MDNode::isUniqued</a></div><div class="ttdeci">bool isUniqued() const</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l01125">Metadata.h:1125</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_a3ab5fc45117b450e8bb04e564cb6e5f2"><div class="ttname"><a href="classllvm_1_1Value.html#a3ab5fc45117b450e8bb04e564cb6e5f2">llvm::Value::replaceAllUsesWith</a></div><div class="ttdeci">void replaceAllUsesWith(Value *V)</div><div class="ttdoc">Change all uses of this to point to a new Value.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8cpp_source.html#l00532">Value.cpp:532</a></div></div>
<div class="ttc" id="aMetadata_8cpp_html_a49da541b1e4cbb56f6ffaf92a684a697"><div class="ttname"><a href="Metadata_8cpp.html#a49da541b1e4cbb56f6ffaf92a684a697">hasSelfReference</a></div><div class="ttdeci">static bool hasSelfReference(MDNode *N)</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8cpp_source.html#l00752">Metadata.cpp:752</a></div></div>
<div class="ttc" id="aBasicAliasAnalysis_8cpp_html_a2675de1d8479c7b00387979714da43f7"><div class="ttname"><a href="BasicAliasAnalysis_8cpp.html#a2675de1d8479c7b00387979714da43f7">getParent</a></div><div class="ttdeci">static const Function * getParent(const Value *V)</div><div class="ttdef"><b>Definition:</b> <a href="BasicAliasAnalysis_8cpp_source.html#l00806">BasicAliasAnalysis.cpp:806</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_ab3fc0225d8aaf8434026c3573f961f2c"><div class="ttname"><a href="classllvm_1_1Value.html#ab3fc0225d8aaf8434026c3573f961f2c">llvm::Value::getContext</a></div><div class="ttdeci">LLVMContext &amp; getContext() const</div><div class="ttdoc">All values hold a context through their type.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8cpp_source.html#l00994">Value.cpp:994</a></div></div>
<div class="ttc" id="aclassllvm_1_1MDNode_html_a088247f165cc7e2ca9a3917adc0e75df"><div class="ttname"><a href="classllvm_1_1MDNode.html#a088247f165cc7e2ca9a3917adc0e75df">llvm::MDNode::getMostGenericAliasScope</a></div><div class="ttdeci">static MDNode * getMostGenericAliasScope(MDNode *A, MDNode *B)</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8cpp_source.html#l01032">Metadata.cpp:1032</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_a61a186a60c64a2a5225db9944eaf7df8"><div class="ttname"><a href="classllvm_1_1Value.html#a61a186a60c64a2a5225db9944eaf7df8">llvm::Value::getMetadata</a></div><div class="ttdeci">MDNode * getMetadata(unsigned KindID) const</div><div class="ttdoc">Get the current metadata attachments for the given kind, if any.</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8cpp_source.html#l01288">Metadata.cpp:1288</a></div></div>
<div class="ttc" id="aclassllvm_1_1ReplaceableMetadataImpl_html_a26887fb6f8b3127e6b28c2075dacbc11"><div class="ttname"><a href="classllvm_1_1ReplaceableMetadataImpl.html#a26887fb6f8b3127e6b28c2075dacbc11">llvm::ReplaceableMetadataImpl::SalvageDebugInfo</a></div><div class="ttdeci">static void SalvageDebugInfo(const Constant &amp;C)</div><div class="ttdoc">Replace all uses of the constant with Undef in debug info metadata.</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8cpp_source.html#l00248">Metadata.cpp:248</a></div></div>
<div class="ttc" id="aConstantRange_8h_html"><div class="ttname"><a href="ConstantRange_8h.html">ConstantRange.h</a></div></div>
<div class="ttc" id="aMetadata_8cpp_html_ab398ef03cd8d00eab45483bb716cdcf4"><div class="ttname"><a href="Metadata_8cpp.html#ab398ef03cd8d00eab45483bb716cdcf4">uniquifyImpl</a></div><div class="ttdeci">static T * uniquifyImpl(T *N, DenseSet&lt; T *, InfoT &gt; &amp;Store)</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8cpp_source.html#l00870">Metadata.cpp:870</a></div></div>
<div class="ttc" id="aMetadata_8cpp_html_abfdeb164ba655887934d5e0a9fc70b30"><div class="ttname"><a href="Metadata_8cpp.html#abfdeb164ba655887934d5e0a9fc70b30">isContiguous</a></div><div class="ttdeci">static bool isContiguous(const ConstantRange &amp;A, const ConstantRange &amp;B)</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8cpp_source.html#l01075">Metadata.cpp:1075</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_a338590123630c357df6340c38d066572"><div class="ttname"><a href="classllvm_1_1Value.html#a338590123630c357df6340c38d066572">llvm::Value::setMetadata</a></div><div class="ttdeci">void setMetadata(unsigned KindID, MDNode *Node)</div><div class="ttdoc">Set a particular kind of metadata attachment.</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8cpp_source.html#l01325">Metadata.cpp:1325</a></div></div>
<div class="ttc" id="aclassllvm_1_1Metadata_html_a8265bf29997e9e49d47a38a762d4bb0f"><div class="ttname"><a href="classllvm_1_1Metadata.html#a8265bf29997e9e49d47a38a762d4bb0f">llvm::Metadata::Storage</a></div><div class="ttdeci">unsigned char Storage</div><div class="ttdoc">Storage flag for non-uniqued, otherwise unowned, metadata.</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l00072">Metadata.h:72</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_a0566221f10834bfcea70965379745a20"><div class="ttname"><a href="classllvm_1_1Type.html#a0566221f10834bfcea70965379745a20">llvm::Type::getContext</a></div><div class="ttdeci">LLVMContext &amp; getContext() const</div><div class="ttdoc">Return the LLVMContext in which this type was uniqued.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00129">Type.h:129</a></div></div>
<div class="ttc" id="aMetadata_8cpp_html_a491a08b74112dc7758c6aa341e219baf"><div class="ttname"><a href="Metadata_8cpp.html#a491a08b74112dc7758c6aa341e219baf">getOrSelfReference</a></div><div class="ttdeci">static MDNode * getOrSelfReference(LLVMContext &amp;Context, ArrayRef&lt; Metadata * &gt; Ops)</div><div class="ttdoc">Get a node or a self-reference that looks like it.</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8cpp_source.html#l00991">Metadata.cpp:991</a></div></div>
<div class="ttc" id="aclassllvm_1_1PointerUnion_html"><div class="ttname"><a href="classllvm_1_1PointerUnion.html">llvm::PointerUnion</a></div><div class="ttdoc">A discriminated union of two or more pointer types, with the discriminator in the low bit of the poin...</div><div class="ttdef"><b>Definition:</b> <a href="PointerUnion_8h_source.html#l00112">PointerUnion.h:112</a></div></div>
<div class="ttc" id="aArgument_8h_html"><div class="ttname"><a href="Argument_8h.html">Argument.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantInt_html_ac09a21c371a9c535cbc13e8f82503aec"><div class="ttname"><a href="classllvm_1_1ConstantInt.html#ac09a21c371a9c535cbc13e8f82503aec">llvm::ConstantInt::getZExtValue</a></div><div class="ttdeci">uint64_t getZExtValue() const</div><div class="ttdoc">Return the constant as a 64-bit unsigned integer value after it has been zero extended as appropriate...</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8h_source.html#l00141">Constants.h:141</a></div></div>
<div class="ttc" id="aclassllvm_1_1MDNode_html_a936739514bcdb01ddd2826fa70cf15a5"><div class="ttname"><a href="classllvm_1_1MDNode.html#a936739514bcdb01ddd2826fa70cf15a5">llvm::MDNode::getContext</a></div><div class="ttdeci">LLVMContext &amp; getContext() const</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l01107">Metadata.h:1107</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_a9eb4a52a4675976293ae4f77c982667b"><div class="ttname"><a href="classllvm_1_1Value.html#a9eb4a52a4675976293ae4f77c982667b">llvm::Value::HasMetadata</a></div><div class="ttdeci">unsigned HasMetadata</div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00119">Value.h:119</a></div></div>
<div class="ttc" id="aclassllvm_1_1MDNode_html_ab04c4c3fbcec8ecc3fa493fa3bcff8e3"><div class="ttname"><a href="classllvm_1_1MDNode.html#ab04c4c3fbcec8ecc3fa493fa3bcff8e3">llvm::MDNode::isDistinct</a></div><div class="ttdeci">bool isDistinct() const</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l01126">Metadata.h:1126</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_a9d88e21e9caa53945e903fd8c8700b4f"><div class="ttname"><a href="classllvm_1_1Value.html#a9d88e21e9caa53945e903fd8c8700b4f">llvm::Value::eraseMetadata</a></div><div class="ttdeci">bool eraseMetadata(unsigned KindID)</div><div class="ttdoc">Erase all metadata attachments with the given kind.</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8cpp_source.html#l01370">Metadata.cpp:1370</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantAsMetadata_html"><div class="ttname"><a href="classllvm_1_1ConstantAsMetadata.html">llvm::ConstantAsMetadata</a></div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l00412">Metadata.h:412</a></div></div>
<div class="ttc" id="aConstant_8h_html"><div class="ttname"><a href="Constant_8h.html">Constant.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1Twine_html"><div class="ttname"><a href="classllvm_1_1Twine.html">llvm::Twine</a></div><div class="ttdoc">Twine - A lightweight data structure for efficiently representing the concatenation of temporary valu...</div><div class="ttdef"><b>Definition:</b> <a href="Twine_8h_source.html#l00081">Twine.h:81</a></div></div>
<div class="ttc" id="aclassllvm_1_1MDNode_html_a2e9fe39301fbac7276c8d9f3e1884dc2"><div class="ttname"><a href="classllvm_1_1MDNode.html#a2e9fe39301fbac7276c8d9f3e1884dc2">llvm::MDNode::replaceAllUsesWith</a></div><div class="ttdeci">void replaceAllUsesWith(Metadata *MD)</div><div class="ttdoc">RAUW a temporary.</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l01132">Metadata.h:1132</a></div></div>
<div class="ttc" id="anamespacellvm_html_a076f93c387f454f0db13d4bc7d4e7f9c"><div class="ttname"><a href="namespacellvm.html#a076f93c387f454f0db13d4bc7d4e7f9c">llvm::stable_sort</a></div><div class="ttdeci">void stable_sort(R &amp;&amp;Range)</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l01948">STLExtras.h:1948</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_a05186fa23e4d11b9855a9599ba87a4b7"><div class="ttname"><a href="classllvm_1_1Type.html#a05186fa23e4d11b9855a9599ba87a4b7">llvm::Type::getInt64Ty</a></div><div class="ttdeci">static IntegerType * getInt64Ty(LLVMContext &amp;C)</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00242">Type.cpp:242</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalObject_html_ab0fc6ae566ff5de33790f565a2abe49a"><div class="ttname"><a href="classllvm_1_1GlobalObject.html#ab0fc6ae566ff5de33790f565a2abe49a">llvm::GlobalObject::VCallVisibility</a></div><div class="ttdeci">VCallVisibility</div><div class="ttdef"><b>Definition:</b> <a href="GlobalObject_8h_source.html#l00032">GlobalObject.h:32</a></div></div>
<div class="ttc" id="anamespacellvm_1_1GraphProgram_html_a0ad4685976f8c4d4a697a53fbe05d10b"><div class="ttname"><a href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">llvm::GraphProgram::Name</a></div><div class="ttdeci">Name</div><div class="ttdef"><b>Definition:</b> <a href="GraphWriter_8h_source.html#l00050">GraphWriter.h:50</a></div></div>
<div class="ttc" id="aMD5_8cpp_html_ae42219072d798876e6b08e6b78614ff6"><div class="ttname"><a href="MD5_8cpp.html#ae42219072d798876e6b08e6b78614ff6">H</a></div><div class="ttdeci">#define H(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00057">MD5.cpp:57</a></div></div>
<div class="ttc" id="aclassllvm_1_1NamedMDNode_html_a9680116b6b0c02d895e3f39180eb9e05"><div class="ttname"><a href="classllvm_1_1NamedMDNode.html#a9680116b6b0c02d895e3f39180eb9e05">llvm::NamedMDNode::getParent</a></div><div class="ttdeci">Module * getParent()</div><div class="ttdoc">Get the module that holds this named metadata collection.</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l01657">Metadata.h:1657</a></div></div>
<div class="ttc" id="aclassllvm_1_1MetadataAsValue_html_a3188a1aa0df768d8f254cd8d8fdeface"><div class="ttname"><a href="classllvm_1_1MetadataAsValue.html#a3188a1aa0df768d8f254cd8d8fdeface">llvm::MetadataAsValue::get</a></div><div class="ttdeci">static MetadataAsValue * get(LLVMContext &amp;Context, Metadata *MD)</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8cpp_source.html#l00102">Metadata.cpp:102</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1SendMsg_html_a8594419a4ddfad2c9a79279c490e466d"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">llvm::AMDGPU::SendMsg::Op</a></div><div class="ttdeci">Op</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00357">SIDefines.h:357</a></div></div>
<div class="ttc" id="aclassllvm_1_1ArrayRef_html_aab36927882fbfdcbb860d87fd9c30da8"><div class="ttname"><a href="classllvm_1_1ArrayRef.html#aab36927882fbfdcbb860d87fd9c30da8">llvm::ArrayRef::begin</a></div><div class="ttdeci">iterator begin() const</div><div class="ttdef"><b>Definition:</b> <a href="ArrayRef_8h_source.html#l00151">ArrayRef.h:151</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalObject_html_a0b7601463f25d7904fa9d060ba629a5a"><div class="ttname"><a href="classllvm_1_1GlobalObject.html#a0b7601463f25d7904fa9d060ba629a5a">llvm::GlobalObject::addTypeMetadata</a></div><div class="ttdeci">void addTypeMetadata(unsigned Offset, Metadata *TypeID)</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8cpp_source.html#l01591">Metadata.cpp:1591</a></div></div>
<div class="ttc" id="aclassllvm_1_1MDNode_html_ac8c31a76a81b27c7307d65575b62084f"><div class="ttname"><a href="classllvm_1_1MDNode.html#ac8c31a76a81b27c7307d65575b62084f">llvm::MDNode::isResolved</a></div><div class="ttdeci">bool isResolved() const</div><div class="ttdoc">Check if node is fully resolved.</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l01123">Metadata.h:1123</a></div></div>
<div class="ttc" id="aGlobalVariable_8h_html"><div class="ttname"><a href="GlobalVariable_8h.html">GlobalVariable.h</a></div></div>
<div class="ttc" id="aCasting_8h_html"><div class="ttname"><a href="Casting_8h.html">Casting.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html_a4dd9b6c5bb93e01393c47dbe60f8b23f"><div class="ttname"><a href="classllvm_1_1Instruction.html#a4dd9b6c5bb93e01393c47dbe60f8b23f">llvm::Instruction::setAAMetadata</a></div><div class="ttdeci">void setAAMetadata(const AAMDNodes &amp;N)</div><div class="ttdoc">Sets the AA metadata on this instruction from the AAMDNodes structure.</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8cpp_source.html#l01513">Metadata.cpp:1513</a></div></div>
<div class="ttc" id="aFunction_8h_html"><div class="ttname"><a href="Function_8h.html">Function.h</a></div></div>
<div class="ttc" id="aTrackingMDRef_8h_html"><div class="ttname"><a href="TrackingMDRef_8h.html">TrackingMDRef.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MDNode_html_a35e99dcd42831a0c100d6eed535eae23"><div class="ttname"><a href="classllvm_1_1MDNode.html#a35e99dcd42831a0c100d6eed535eae23">llvm::MDNode::deleteTemporary</a></div><div class="ttdeci">static void deleteTemporary(MDNode *N)</div><div class="ttdoc">Deallocate a node created by getTemporary.</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8cpp_source.html#l00940">Metadata.cpp:940</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallSet_html_a1679469af9bb8ccfbe98441fb8228c79"><div class="ttname"><a href="classllvm_1_1SmallSet.html#a1679469af9bb8ccfbe98441fb8228c79">llvm::SmallSet::insert</a></div><div class="ttdeci">std::pair&lt; const_iterator, bool &gt; insert(const T &amp;V)</div><div class="ttdoc">insert - Insert an element into the set if it isn't already there.</div><div class="ttdef"><b>Definition:</b> <a href="SmallSet_8h_source.html#l00177">SmallSet.h:177</a></div></div>
<div class="ttc" id="aclassllvm_1_1DIGlobalVariableExpression_html"><div class="ttname"><a href="classllvm_1_1DIGlobalVariableExpression.html">llvm::DIGlobalVariableExpression</a></div><div class="ttdoc">A pair of DIGlobalVariable and DIExpression.</div><div class="ttdef"><b>Definition:</b> <a href="DebugInfoMetadata_8h_source.html#l03470">DebugInfoMetadata.h:3470</a></div></div>
<div class="ttc" id="aclassllvm_1_1ReplaceableMetadataImpl_html_a2b9c0ec6595f7f4b7d737415a8cb0aaf"><div class="ttname"><a href="classllvm_1_1ReplaceableMetadataImpl.html#a2b9c0ec6595f7f4b7d737415a8cb0aaf">llvm::ReplaceableMetadataImpl::replaceAllUsesWith</a></div><div class="ttdeci">void replaceAllUsesWith(Metadata *MD)</div><div class="ttdoc">Replace all uses of this with MD.</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8cpp_source.html#l00278">Metadata.cpp:278</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantRange_html"><div class="ttname"><a href="classllvm_1_1ConstantRange.html">llvm::ConstantRange</a></div><div class="ttdoc">This class represents a range of values.</div><div class="ttdef"><b>Definition:</b> <a href="ConstantRange_8h_source.html#l00047">ConstantRange.h:47</a></div></div>
<div class="ttc" id="aclassllvm_1_1ValueAsMetadata_html_a7f7861a70cfa57999c2b47e570be2127"><div class="ttname"><a href="classllvm_1_1ValueAsMetadata.html#a7f7861a70cfa57999c2b47e570be2127">llvm::ValueAsMetadata::handleRAUW</a></div><div class="ttdeci">static void handleRAUW(Value *From, Value *To)</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8cpp_source.html#l00435">Metadata.cpp:435</a></div></div>
<div class="ttc" id="aclassllvm_1_1MDNode_html_a160e9e1a4fd597f83034c8b2ba316984"><div class="ttname"><a href="classllvm_1_1MDNode.html#a160e9e1a4fd597f83034c8b2ba316984">llvm::MDNode::replaceOperandWith</a></div><div class="ttdeci">void replaceOperandWith(unsigned I, Metadata *New)</div><div class="ttdoc">Replace a specific operand.</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8cpp_source.html#l00968">Metadata.cpp:968</a></div></div>
<div class="ttc" id="aclassllvm_1_1LLVMContextImpl_html_a0f84a0b5ee0bc1f89540f7dac8cf80a0"><div class="ttname"><a href="classllvm_1_1LLVMContextImpl.html#a0f84a0b5ee0bc1f89540f7dac8cf80a0">llvm::LLVMContextImpl::MetadataAsValues</a></div><div class="ttdeci">DenseMap&lt; Metadata *, MetadataAsValue * &gt; MetadataAsValues</div><div class="ttdef"><b>Definition:</b> <a href="LLVMContextImpl_8h_source.html#l01463">LLVMContextImpl.h:1463</a></div></div>
<div class="ttc" id="aclassllvm_1_1MDBuilder_html"><div class="ttname"><a href="classllvm_1_1MDBuilder.html">llvm::MDBuilder</a></div><div class="ttdef"><b>Definition:</b> <a href="MDBuilder_8h_source.html#l00036">MDBuilder.h:36</a></div></div>
<div class="ttc" id="aclassllvm_1_1TrackingMDRef_html"><div class="ttname"><a href="classllvm_1_1TrackingMDRef.html">llvm::TrackingMDRef</a></div><div class="ttdoc">Tracking metadata reference.</div><div class="ttdef"><b>Definition:</b> <a href="TrackingMDRef_8h_source.html#l00025">TrackingMDRef.h:25</a></div></div>
<div class="ttc" id="aclassllvm_1_1ValueAsMetadata_html_a7ae4ad78fc06181d316ffae9b6bdf70c"><div class="ttname"><a href="classllvm_1_1ValueAsMetadata.html#a7ae4ad78fc06181d316ffae9b6bdf70c">llvm::ValueAsMetadata::getIfExists</a></div><div class="ttdeci">static ValueAsMetadata * getIfExists(Value *V)</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8cpp_source.html#l00411">Metadata.cpp:411</a></div></div>
<div class="ttc" id="aclassllvm_1_1MDNode_html_a4a3aafff3f29eba4c6d639e6648c330c"><div class="ttname"><a href="classllvm_1_1MDNode.html#a4a3aafff3f29eba4c6d639e6648c330c">llvm::MDNode::isTemporary</a></div><div class="ttdeci">bool isTemporary() const</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l01127">Metadata.h:1127</a></div></div>
<div class="ttc" id="aclassllvm_1_1MetadataAsValue_html_a43da96a342731ffba21f83523a9c787a"><div class="ttname"><a href="classllvm_1_1MetadataAsValue.html#a43da96a342731ffba21f83523a9c787a">llvm::MetadataAsValue::getIfExists</a></div><div class="ttdeci">static MetadataAsValue * getIfExists(LLVMContext &amp;Context, Metadata *MD)</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8cpp_source.html#l00110">Metadata.cpp:110</a></div></div>
<div class="ttc" id="aclassllvm_1_1MDAttachments_html_a8ee70a09cae9bc5b7d9976c03246ce1c"><div class="ttname"><a href="classllvm_1_1MDAttachments.html#a8ee70a09cae9bc5b7d9976c03246ce1c">llvm::MDAttachments::getAll</a></div><div class="ttdeci">void getAll(SmallVectorImpl&lt; std::pair&lt; unsigned, MDNode * &gt;&gt; &amp;Result) const</div><div class="ttdoc">Appends all attachments for the global to Result, sorting by attachment ID.</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8cpp_source.html#l01251">Metadata.cpp:1251</a></div></div>
<div class="ttc" id="aclassllvm_1_1MDNode_html_aac6e3a0dec40a6721857cbbd4330039f"><div class="ttname"><a href="classllvm_1_1MDNode.html#aac6e3a0dec40a6721857cbbd4330039f">llvm::MDNode::getMostGenericRange</a></div><div class="ttdeci">static MDNode * getMostGenericRange(MDNode *A, MDNode *B)</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8cpp_source.html#l01112">Metadata.cpp:1112</a></div></div>
<div class="ttc" id="aELFYAML_8cpp_html_a941c34da9850676ce3380813c636cff2"><div class="ttname"><a href="ELFYAML_8cpp.html#a941c34da9850676ce3380813c636cff2">Other</a></div><div class="ttdeci">std::optional&lt; std::vector&lt; StOtherPiece &gt; &gt; Other</div><div class="ttdef"><b>Definition:</b> <a href="ELFYAML_8cpp_source.html#l01260">ELFYAML.cpp:1260</a></div></div>
<div class="ttc" id="aSmallVector_8h_html"><div class="ttname"><a href="SmallVector_8h.html">SmallVector.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1Function_html_a7345f1a973f5084e01c183cad89399d5"><div class="ttname"><a href="classllvm_1_1Function.html#a7345f1a973f5084e01c183cad89399d5">llvm::Function::shouldEmitDebugInfoForProfiling</a></div><div class="ttdeci">bool shouldEmitDebugInfoForProfiling() const</div><div class="ttdoc">Returns true if we should emit debug info for profiling.</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8cpp_source.html#l01629">Metadata.cpp:1629</a></div></div>
<div class="ttc" id="aclassllvm_1_1AliasScopeNode_html"><div class="ttname"><a href="classllvm_1_1AliasScopeNode.html">llvm::AliasScopeNode</a></div><div class="ttdoc">This is a simple wrapper around an MDNode which provides a higher-level interface by hiding the detai...</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l01423">Metadata.h:1423</a></div></div>
<div class="ttc" id="aclassllvm_1_1MDNode_html_a9d9f2d817781a31c771406d1f0acc9fb"><div class="ttname"><a href="classllvm_1_1MDNode.html#a9d9f2d817781a31c771406d1f0acc9fb">llvm::MDNode::getMostGenericFPMath</a></div><div class="ttdeci">static MDNode * getMostGenericFPMath(MDNode *A, MDNode *B)</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8cpp_source.html#l01064">Metadata.cpp:1064</a></div></div>
<div class="ttc" id="aclassllvm_1_1DIAssignID_html"><div class="ttname"><a href="classllvm_1_1DIAssignID.html">llvm::DIAssignID</a></div><div class="ttdoc">Assignment ID.</div><div class="ttdef"><b>Definition:</b> <a href="DebugInfoMetadata_8h_source.html#l00302">DebugInfoMetadata.h:302</a></div></div>
<div class="ttc" id="aregcomp_8c_html_a0240ac851181b84ac374872dc5434ee4"><div class="ttname"><a href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a></div><div class="ttdeci">#define N</div></div>
<div class="ttc" id="aclassllvm_1_1GlobalObject_html_a8eed548b25235cac65c22832aeb628fc"><div class="ttname"><a href="classllvm_1_1GlobalObject.html#a8eed548b25235cac65c22832aeb628fc">llvm::GlobalObject::getVCallVisibility</a></div><div class="ttdeci">VCallVisibility getVCallVisibility() const</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8cpp_source.html#l01610">Metadata.cpp:1610</a></div></div>
<div class="ttc" id="aclassllvm_1_1ArrayRef_html_a85ffb6531d4cda988ea81f18d4e56fb7"><div class="ttname"><a href="classllvm_1_1ArrayRef.html#a85ffb6531d4cda988ea81f18d4e56fb7">llvm::ArrayRef::size</a></div><div class="ttdeci">size_t size() const</div><div class="ttdoc">size - Get the array size.</div><div class="ttdef"><b>Definition:</b> <a href="ArrayRef_8h_source.html#l00163">ArrayRef.h:163</a></div></div>
<div class="ttc" id="aclassllvm_1_1DISubprogram_html"><div class="ttname"><a href="classllvm_1_1DISubprogram.html">llvm::DISubprogram</a></div><div class="ttdoc">Subprogram description.</div><div class="ttdef"><b>Definition:</b> <a href="DebugInfoMetadata_8h_source.html#l01851">DebugInfoMetadata.h:1851</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_acf3b36c833784bc1c80f2ad2a56ec859"><div class="ttname"><a href="classllvm_1_1Value.html#acf3b36c833784bc1c80f2ad2a56ec859">llvm::Value::getAllMetadata</a></div><div class="ttdeci">void getAllMetadata(SmallVectorImpl&lt; std::pair&lt; unsigned, MDNode * &gt;&gt; &amp;MDs) const</div><div class="ttdoc">Appends all metadata attached to this value to MDs, sorting by KindID.</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8cpp_source.html#l01314">Metadata.cpp:1314</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVectorImpl_html"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html">llvm::SmallVectorImpl</a></div><div class="ttdoc">This class consists of common code factored out of the SmallVector class to reduce code duplication b...</div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8h_source.html#l00042">APFloat.h:42</a></div></div>
<div class="ttc" id="aclassllvm_1_1ValueAsMetadata_html"><div class="ttname"><a href="classllvm_1_1ValueAsMetadata.html">llvm::ValueAsMetadata</a></div><div class="ttdoc">Value wrapper in the Metadata hierarchy.</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l00344">Metadata.h:344</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallSetVector_html"><div class="ttname"><a href="classllvm_1_1SmallSetVector.html">llvm::SmallSetVector</a></div><div class="ttdoc">A SetVector that performs no allocations if smaller than a certain size.</div><div class="ttdef"><b>Definition:</b> <a href="SetVector_8h_source.html#l00300">SetVector.h:300</a></div></div>
<div class="ttc" id="aclassllvm_1_1MDNode_html_aab52b512e1b50fff8d9f117c5e8a6bef"><div class="ttname"><a href="classllvm_1_1MDNode.html#aab52b512e1b50fff8d9f117c5e8a6bef">llvm::MDNode::clone</a></div><div class="ttdeci">TempMDNode clone() const</div><div class="ttdoc">Create a (temporary) clone of this.</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8cpp_source.html#l00558">Metadata.cpp:558</a></div></div>
<div class="ttc" id="aclassllvm_1_1Module_html_a46d5a31c86f52f5b535586397efa5a21"><div class="ttname"><a href="classllvm_1_1Module.html#a46d5a31c86f52f5b535586397efa5a21">llvm::Module::eraseNamedMetadata</a></div><div class="ttdeci">void eraseNamedMetadata(NamedMDNode *NMD)</div><div class="ttdoc">Remove the given NamedMDNode from this module and delete it.</div><div class="ttdef"><b>Definition:</b> <a href="Module_8cpp_source.html#l00272">Module.cpp:272</a></div></div>
<div class="ttc" id="alib_2CodeGen_2README_8txt_html_a09776db24cf586ec9f1e18f3bae14099"><div class="ttname"><a href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a></div><div class="ttdeci">Common register allocation spilling lr str ldr sxth r3 ldr mla r4 can lr mov lr str ldr sxth r3 mla r4 and then merge mul and lr str ldr sxth r3 mla r4 It also increase the likelihood the store may become dead bb27 Successors according to LLVM BB</div><div class="ttdef"><b>Definition:</b> <a href="lib_2CodeGen_2README_8txt_source.html#l00039">README.txt:39</a></div></div>
<div class="ttc" id="aclassllvm_1_1LLVMContextImpl_html_a486a6a1f8fa108a74b851328dca40143"><div class="ttname"><a href="classllvm_1_1LLVMContextImpl.html#a486a6a1f8fa108a74b851328dca40143">llvm::LLVMContextImpl::DistinctMDNodes</a></div><div class="ttdeci">std::vector&lt; MDNode * &gt; DistinctMDNodes</div><div class="ttdef"><b>Definition:</b> <a href="LLVMContextImpl_8h_source.html#l01476">LLVMContextImpl.h:1476</a></div></div>
<div class="ttc" id="aMetadata_8cpp_html_a30dd6d0a8bb26b2562332856caa54203"><div class="ttname"><a href="Metadata_8cpp.html#a30dd6d0a8bb26b2562332856caa54203">isOperandUnresolved</a></div><div class="ttdeci">static bool isOperandUnresolved(Metadata *Op)</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8cpp_source.html#l00643">Metadata.cpp:643</a></div></div>
<div class="ttc" id="aADT_2StringMap_8h_html"><div class="ttname"><a href="ADT_2StringMap_8h.html">StringMap.h</a></div></div>
<div class="ttc" id="aLLVMContext_8h_html"><div class="ttname"><a href="LLVMContext_8h.html">LLVMContext.h</a></div></div>
<div class="ttc" id="aBlockVerifier_8cpp_html_ae45c7d73c0ff5d177b59153ffae77f84"><div class="ttname"><a href="BlockVerifier_8cpp.html#ae45c7d73c0ff5d177b59153ffae77f84">From</a></div><div class="ttdeci">BlockVerifier::State From</div><div class="ttdef"><b>Definition:</b> <a href="BlockVerifier_8cpp_source.html#l00055">BlockVerifier.cpp:55</a></div></div>
<div class="ttc" id="aclassllvm_1_1DebugLoc_html"><div class="ttname"><a href="classllvm_1_1DebugLoc.html">llvm::DebugLoc</a></div><div class="ttdoc">A debug info location.</div><div class="ttdef"><b>Definition:</b> <a href="DebugLoc_8h_source.html#l00033">DebugLoc.h:33</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_a5e9e1c0dd93557be1b4ad72860f3cbda"><div class="ttname"><a href="classllvm_1_1Type.html#a5e9e1c0dd93557be1b4ad72860f3cbda">llvm::Type::TypeID</a></div><div class="ttdeci">TypeID</div><div class="ttdoc">Definitions of all of the base types for the Type system.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00054">Type.h:54</a></div></div>
<div class="ttc" id="aclassllvm_1_1MDString_html_ae44259d9edd71181ea8b89d18f27a967"><div class="ttname"><a href="classllvm_1_1MDString.html#ae44259d9edd71181ea8b89d18f27a967">llvm::MDString::getString</a></div><div class="ttdeci">StringRef getString() const</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8cpp_source.html#l00507">Metadata.cpp:507</a></div></div>
<div class="ttc" id="aclassllvm_1_1NamedMDNode_html_ad2c0af191fb0d4aff661994b0d234e40"><div class="ttname"><a href="classllvm_1_1NamedMDNode.html#ad2c0af191fb0d4aff661994b0d234e40">llvm::NamedMDNode::clearOperands</a></div><div class="ttdeci">void clearOperands()</div><div class="ttdoc">Drop all references to this node's operands.</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8cpp_source.html#l01230">Metadata.cpp:1230</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallPtrSetImpl_html_af74676a3c7447be34bd2c1da76ec0c48"><div class="ttname"><a href="classllvm_1_1SmallPtrSetImpl.html#af74676a3c7447be34bd2c1da76ec0c48">llvm::SmallPtrSetImpl::contains</a></div><div class="ttdeci">bool contains(ConstPtrType Ptr) const</div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00389">SmallPtrSet.h:389</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVectorImpl_html_a499ea32ca1b8d16cedfe01d1e5b08f29"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html#a499ea32ca1b8d16cedfe01d1e5b08f29">llvm::SmallVectorImpl::reserve</a></div><div class="ttdeci">void reserve(size_type N)</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00667">SmallVector.h:667</a></div></div>
<div class="ttc" id="aclassllvm_1_1MDString_html"><div class="ttname"><a href="classllvm_1_1MDString.html">llvm::MDString</a></div><div class="ttdoc">A single uniqued string.</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l00611">Metadata.h:611</a></div></div>
<div class="ttc" id="aValue_8h_html"><div class="ttname"><a href="Value_8h.html">Value.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_a1f496e54accb2cbe919fb456cb703f1a"><div class="ttname"><a href="classllvm_1_1Value.html#a1f496e54accb2cbe919fb456cb703f1a">llvm::Value::hasMetadata</a></div><div class="ttdeci">bool hasMetadata() const</div><div class="ttdoc">Return true if this value has any metadata attached to it.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00585">Value.h:585</a></div></div>
<div class="ttc" id="anamespaceCU_html"><div class="ttname"><a href="namespaceCU.html">CU</a></div><div class="ttdef"><b>Definition:</b> <a href="AArch64AsmBackend_8cpp_source.html#l00505">AArch64AsmBackend.cpp:505</a></div></div>
<div class="ttc" id="aclassllvm_1_1MDNode_html_ac9a44b78ebdc1a9be01a96cc5e3bbb59"><div class="ttname"><a href="classllvm_1_1MDNode.html#ac9a44b78ebdc1a9be01a96cc5e3bbb59">llvm::MDNode::op_begin</a></div><div class="ttdeci">op_iterator op_begin() const</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l01281">Metadata.h:1281</a></div></div>
<div class="ttc" id="aclassllvm_1_1MDAttachments_html_a60c01a156a538f029c3f1935e642c726"><div class="ttname"><a href="classllvm_1_1MDAttachments.html#a60c01a156a538f029c3f1935e642c726">llvm::MDAttachments::get</a></div><div class="ttdeci">void get(unsigned ID, SmallVectorImpl&lt; MDNode * &gt; &amp;Result) const</div><div class="ttdoc">Appends all attachments with the given ID to Result in insertion order.</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8cpp_source.html#l01245">Metadata.cpp:1245</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html"><div class="ttname"><a href="classllvm_1_1Value.html">llvm::Value</a></div><div class="ttdoc">LLVM Value Representation.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00074">Value.h:74</a></div></div>
<div class="ttc" id="aclassllvm_1_1MDNode_html_a9db501ee1cf923b2031b1b924802fe55"><div class="ttname"><a href="classllvm_1_1MDNode.html#a9db501ee1cf923b2031b1b924802fe55">llvm::MDNode::setNumUnresolved</a></div><div class="ttdeci">void setNumUnresolved(unsigned N)</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l01219">Metadata.h:1219</a></div></div>
<div class="ttc" id="aclassllvm_1_1Metadata_html_a3f931bc86bd57cd5ea0f53528ae88f80a61241884137094280e36b31589c2b6ba"><div class="ttname"><a href="classllvm_1_1Metadata.html#a3f931bc86bd57cd5ea0f53528ae88f80a61241884137094280e36b31589c2b6ba">llvm::Metadata::Uniqued</a></div><div class="ttdeci">@ Uniqued</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l00069">Metadata.h:69</a></div></div>
<div class="ttc" id="aclassllvm_1_1ArrayRef_html_a7ca5197533a9c1fb8a2bd30587fcec6b"><div class="ttname"><a href="classllvm_1_1ArrayRef.html#a7ca5197533a9c1fb8a2bd30587fcec6b">llvm::ArrayRef::end</a></div><div class="ttdeci">iterator end() const</div><div class="ttdef"><b>Definition:</b> <a href="ArrayRef_8h_source.html#l00152">ArrayRef.h:152</a></div></div>
<div class="ttc" id="aclassllvm_1_1MDOperand_html"><div class="ttname"><a href="classllvm_1_1MDOperand.html">llvm::MDOperand</a></div><div class="ttdoc">Tracking metadata reference owned by Metadata.</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l00772">Metadata.h:772</a></div></div>
<div class="ttc" id="aSetVector_8h_html"><div class="ttname"><a href="SetVector_8h.html">SetVector.h</a></div></div>
<div class="ttc" id="aMetadata_8cpp_html_a8979827a67778520a30a51f14d1a0a1a"><div class="ttname"><a href="Metadata_8cpp.html#a8979827a67778520a30a51f14d1a0a1a">canBeMerged</a></div><div class="ttdeci">static bool canBeMerged(const ConstantRange &amp;A, const ConstantRange &amp;B)</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8cpp_source.html#l01079">Metadata.cpp:1079</a></div></div>
<div class="ttc" id="aSmallSet_8h_html"><div class="ttname"><a href="SmallSet_8h.html">SmallSet.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallPtrSetImpl_html_a6bc6fb89fe2e91c25559a8631f56e27e"><div class="ttname"><a href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">llvm::SmallPtrSetImpl::insert</a></div><div class="ttdeci">std::pair&lt; iterator, bool &gt; insert(PtrType Ptr)</div><div class="ttdoc">Inserts Ptr if and only if there is no element in the container equal to Ptr.</div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00365">SmallPtrSet.h:365</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Aug 7 2023 10:05:41 for LLVM by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
