<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LLVM: lib/Transforms/Utils/Debugify.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LLVM
   &#160;<span id="projectnumber">17.0.0git</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_a72932e0778af28115095468f6286ff8.html">Transforms</a></li><li class="navelem"><a class="el" href="dir_f75c00afeb315f44d76556a7c675e6e8.html">Utils</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Debugify.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="Debugify_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//===- Debugify.cpp - Check debug info preservation in optimizations ------===//</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// Part of the LLVM Project, under the Apache License v2.0 with LLVM Exceptions.</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">// See https://llvm.org/LICENSE.txt for license information.</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// SPDX-License-Identifier: Apache-2.0 WITH LLVM-exception</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span><span class="comment"></span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">/// \file In the `synthetic` mode, the `-debugify` attaches synthetic debug info</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">/// to everything. It can be used to create targeted tests for debug info</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">/// preservation. In addition, when using the `original` mode, it can check</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">/// original debug info preservation. The `synthetic` mode is default one.</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"></span><span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160; </div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Debugify_8h.html">llvm/Transforms/Utils/Debugify.h</a>&quot;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="BitVector_8h.html">llvm/ADT/BitVector.h</a>&quot;</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="StringExtras_8h.html">llvm/ADT/StringExtras.h</a>&quot;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DIBuilder_8h.html">llvm/IR/DIBuilder.h</a>&quot;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="IR_2DebugInfo_8h.html">llvm/IR/DebugInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="InstIterator_8h.html">llvm/IR/InstIterator.h</a>&quot;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Instructions_8h.html">llvm/IR/Instructions.h</a>&quot;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="IntrinsicInst_8h.html">llvm/IR/IntrinsicInst.h</a>&quot;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Module_8h.html">llvm/IR/Module.h</a>&quot;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="PassInstrumentation_8h.html">llvm/IR/PassInstrumentation.h</a>&quot;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Pass_8h.html">llvm/Pass.h</a>&quot;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="CommandLine_8h.html">llvm/Support/CommandLine.h</a>&quot;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="FileSystem_8h.html">llvm/Support/FileSystem.h</a>&quot;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="JSON_8h.html">llvm/Support/JSON.h</a>&quot;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &lt;optional&gt;</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160; </div>
<div class="line"><a name="l00032"></a><span class="lineno"><a class="line" href="Debugify_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">   32</a></span>&#160;<span class="preprocessor">#define DEBUG_TYPE &quot;debugify&quot;</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160; </div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacellvm.html">llvm</a>;</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160; </div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160; </div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a> <a class="code" href="namespacellvm.html#a0d9d5328bc7a7ba4906fb7a366cc9a32a098753f8980036f4b936e3d4b6997111">Quiet</a>(<span class="stringliteral">&quot;debugify-quiet&quot;</span>,</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;                    <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Suppress verbose debugify output&quot;</span>));</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160; </div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;uint64_t&gt;</a> DebugifyFunctionsLimit(</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    <span class="stringliteral">&quot;debugify-func-limit&quot;</span>,</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Set max number of processed functions per pass.&quot;</span>),</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(UINT_MAX));</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160; </div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="keyword">enum class</span> <a class="code" href="namespacellvm_1_1PICLevel.html#a66ddbf1bb21f90ddc44260d1ca677b6b">Level</a> {</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;  Locations,</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;  LocationsAndVariables</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;};</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160; </div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;Level&gt;</a> DebugifyLevel(</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    <span class="stringliteral">&quot;debugify-level&quot;</span>, <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Kind of debug info to add&quot;</span>),</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    <a class="code" href="namespacellvm_1_1cl.html#a8fa743aa76b6902028f8a643dfb87171">cl::values</a>(<a class="code" href="CommandLine_8h.html#a187fd767976b311c09dff5e05ac0c1bc">clEnumValN</a>(Level::Locations, <span class="stringliteral">&quot;locations&quot;</span>, <span class="stringliteral">&quot;Locations only&quot;</span>),</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;               <a class="code" href="CommandLine_8h.html#a187fd767976b311c09dff5e05ac0c1bc">clEnumValN</a>(Level::LocationsAndVariables, <span class="stringliteral">&quot;location+variables&quot;</span>,</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;                          <span class="stringliteral">&quot;Locations and Variables&quot;</span>)),</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(Level::LocationsAndVariables));</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160; </div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<a class="code" href="classllvm_1_1raw__ostream.html">raw_ostream</a> &amp;dbg() { <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a0d9d5328bc7a7ba4906fb7a366cc9a32a098753f8980036f4b936e3d4b6997111">Quiet</a> ? <a class="code" href="namespacellvm.html#a8ad4ae565ad87db4c534952e2c88f310">nulls</a>() : <a class="code" href="namespacellvm.html#a9a7b5c68c90f85baaedaa854cc5002cc">errs</a>(); }</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160; </div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> getAllocSizeInBits(<a class="code" href="classllvm_1_1Module.html">Module</a> &amp;<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>, <a class="code" href="classllvm_1_1Type.html">Type</a> *Ty) {</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;  <span class="keywordflow">return</span> Ty-&gt;<a class="code" href="classllvm_1_1Type.html#a8ad67a33bae235fe3cca1c3e5a91ed2d">isSized</a>() ? <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getDataLayout().getTypeAllocSizeInBits(Ty) : 0;</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;}</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160; </div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="keywordtype">bool</span> isFunctionSkipped(<a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>) {</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.isDeclaration() || !<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.hasExactDefinition();</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;}</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="comment">/// Find the basic block&#39;s terminating instruction.</span></div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="comment">/// Special care is needed to handle musttail and deopt calls, as these behave</span></div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="comment">/// like (but are in fact not) terminators.</span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="comment"></span><a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *findTerminatingInstruction(<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> &amp;<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>) {</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>.getTerminatingMustTailCall())</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>.getTerminatingDeoptimizeCall())</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>.getTerminator();</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;}</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;} <span class="comment">// end anonymous namespace</span></div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160; </div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="namespacellvm.html#a27c57b81140fb6e76287d86c509023e7">llvm::applyDebugifyMetadata</a>(</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    <a class="code" href="classllvm_1_1Module.html">Module</a> &amp;M, <a class="code" href="classllvm_1_1iterator__range.html">iterator_range&lt;Module::iterator&gt;</a> Functions, <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> Banner,</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <a class="code" href="MemDepPrinter_8cpp.html#a470d8721ad7c3b718e9daeabdaeb4700">std::function</a>&lt;<span class="keywordtype">bool</span>(<a class="code" href="classllvm_1_1DIBuilder.html">DIBuilder</a> &amp;DIB, <a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>)&gt; ApplyToMF) {</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;  <span class="comment">// Skip modules with debug info.</span></div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getNamedMetadata(<span class="stringliteral">&quot;llvm.dbg.cu&quot;</span>)) {</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    dbg() &lt;&lt; Banner &lt;&lt; <span class="stringliteral">&quot;Skipping module with debug info\n&quot;</span>;</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;  }</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160; </div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;  <a class="code" href="classllvm_1_1DIBuilder.html">DIBuilder</a> DIB(M);</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;  <a class="code" href="classllvm_1_1LLVMContext.html">LLVMContext</a> &amp;Ctx = <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getContext();</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;  <span class="keyword">auto</span> *<a class="code" href="NVVMIntrRange_8cpp.html#abc8aecb5b627f6a91fc2fb09762d2a41">Int32Ty</a> = <a class="code" href="classllvm_1_1Type.html#a30dd396c5b40cd86c1591872e574ccdf">Type::getInt32Ty</a>(Ctx);</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160; </div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;  <span class="comment">// Get a DIType which corresponds to Ty.</span></div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;  <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;uint64_t, DIType *&gt;</a> TypeCache;</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;  <span class="keyword">auto</span> getCachedDIType = [&amp;](<a class="code" href="classllvm_1_1Type.html">Type</a> *Ty) -&gt; <a class="code" href="classllvm_1_1DIType.html">DIType</a> * {</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> <a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a> = getAllocSizeInBits(M, Ty);</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    <a class="code" href="classllvm_1_1DIType.html">DIType</a> *&amp;DTy = TypeCache[<a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a>];</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    <span class="keywordflow">if</span> (!DTy) {</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;      std::string <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> = <span class="stringliteral">&quot;ty&quot;</span> + utostr(Size);</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;      DTy = DIB.<a class="code" href="classllvm_1_1DIBuilder.html#ab76e3275f4ae2b0601c15cf2d4e957af">createBasicType</a>(Name, Size, dwarf::DW_ATE_unsigned);</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    }</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    <span class="keywordflow">return</span> DTy;</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;  };</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160; </div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;  <span class="keywordtype">unsigned</span> NextLine = 1;</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;  <span class="keywordtype">unsigned</span> NextVar = 1;</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;  <span class="keyword">auto</span> <a class="code" href="namespacellvm_1_1ARMBuildAttrs.html#aea10ca6bf098a425d51ac7fe65d30ed6aecf09ba70b320e04fec09afb59d502cd">File</a> = DIB.<a class="code" href="classllvm_1_1DIBuilder.html#af59ae4bb38dfb8fe1be04685920c76a0">createFile</a>(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getName(), <span class="stringliteral">&quot;/&quot;</span>);</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;  <span class="keyword">auto</span> <a class="code" href="namespaceCU.html">CU</a> = DIB.<a class="code" href="classllvm_1_1DIBuilder.html#a36f7af99f64b66e158b210e4433a1aed">createCompileUnit</a>(dwarf::DW_LANG_C, File, <span class="stringliteral">&quot;debugify&quot;</span>,</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;                                  <span class="comment">/*isOptimized=*/</span><span class="keyword">true</span>, <span class="stringliteral">&quot;&quot;</span>, 0);</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160; </div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;  <span class="comment">// Visit each instruction.</span></div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> : Functions) {</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    <span class="keywordflow">if</span> (isFunctionSkipped(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>))</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160; </div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    <span class="keywordtype">bool</span> InsertedDbgVal = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    <span class="keyword">auto</span> SPType =</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;        DIB.<a class="code" href="classllvm_1_1DIBuilder.html#a1930fd092560cf172fb618ba55263ec7">createSubroutineType</a>(DIB.<a class="code" href="classllvm_1_1DIBuilder.html#abf27ce323516bd289ce53d2e241581fc">getOrCreateTypeArray</a>(std::nullopt));</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    <a class="code" href="classllvm_1_1DISubprogram.html#aee46b4d49ad15932fe2706f1d308d4e9">DISubprogram::DISPFlags</a> SPFlags =</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;        DISubprogram::SPFlagDefinition | DISubprogram::SPFlagOptimized;</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.hasPrivateLinkage() || <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.hasInternalLinkage())</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;      SPFlags |= DISubprogram::SPFlagLocalToUnit;</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    <span class="keyword">auto</span> SP = DIB.<a class="code" href="classllvm_1_1DIBuilder.html#a57d91109bab556ea565fe8dd35f1d30c">createFunction</a>(<a class="code" href="namespaceCU.html">CU</a>, <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.getName(), <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.getName(), File, NextLine,</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;                                 SPType, NextLine, DINode::FlagZero, SPFlags);</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.setSubprogram(SP);</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160; </div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    <span class="comment">// Helper that inserts a dbg.value before \p InsertBefore, copying the</span></div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    <span class="comment">// location (and possibly the type, if it&#39;s non-void) from \p TemplateInst.</span></div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    <span class="keyword">auto</span> insertDbgVal = [&amp;](<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> &amp;TemplateInst,</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;                            <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *InsertBefore) {</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;      std::string <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> = utostr(NextVar++);</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *V = &amp;TemplateInst;</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;      <span class="keywordflow">if</span> (TemplateInst.<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#ae8eaa0b4eeac52a2b2282cb1bfd981ae">isVoidTy</a>())</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;        V = <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(<a class="code" href="NVVMIntrRange_8cpp.html#abc8aecb5b627f6a91fc2fb09762d2a41">Int32Ty</a>, 0);</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1DILocation.html">DILocation</a> *Loc = TemplateInst.<a class="code" href="classllvm_1_1Instruction.html#ab4f3bf98b5054831b608852e33427814">getDebugLoc</a>().<a class="code" href="classllvm_1_1DebugLoc.html#a4ff1bb484be62f8dac94fc087f72f524">get</a>();</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;      <span class="keyword">auto</span> <a class="code" href="namespacellvm_1_1lltok.html#af353621f14cb4b4b3af5ffaff84076b1ae36e00240f3d66893bba6244f341872b">LocalVar</a> = DIB.<a class="code" href="classllvm_1_1DIBuilder.html#ae6081972b0560d0f16bd503654924b1b">createAutoVariable</a>(SP, Name, File, Loc-&gt;getLine(),</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;                                             getCachedDIType(V-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()),</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;                                             <span class="comment">/*AlwaysPreserve=*/</span><span class="keyword">true</span>);</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;      DIB.insertDbgValueIntrinsic(V, <a class="code" href="namespacellvm_1_1lltok.html#af353621f14cb4b4b3af5ffaff84076b1ae36e00240f3d66893bba6244f341872b">LocalVar</a>, DIB.<a class="code" href="classllvm_1_1DIBuilder.html#a8f92de2ab37d7999e6fcd53381306586">createExpression</a>(), Loc,</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;                                  InsertBefore);</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    };</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160; </div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> &amp;<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a> : <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>) {</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;      <span class="comment">// Attach debug locations.</span></div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> : <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>)</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;        <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.setDebugLoc(<a class="code" href="classllvm_1_1MDNode.html#a7d10a7b9b7f40b04d27ed97c38ea1950">DILocation::get</a>(Ctx, NextLine++, 1, SP));</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160; </div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;      <span class="keywordflow">if</span> (DebugifyLevel &lt; Level::LocationsAndVariables)</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160; </div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;      <span class="comment">// Inserting debug values into EH pads can break IR invariants.</span></div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>.isEHPad())</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160; </div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;      <span class="comment">// Find the terminating instruction, after which no debug values are</span></div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;      <span class="comment">// attached.</span></div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;      <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *LastInst = findTerminatingInstruction(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>);</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(LastInst &amp;&amp; <span class="stringliteral">&quot;Expected basic block with a terminator&quot;</span>);</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160; </div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;      <span class="comment">// Maintain an insertion point which can&#39;t be invalidated when updates</span></div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;      <span class="comment">// are made.</span></div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;      <a class="code" href="classllvm_1_1BasicBlock.html#a98c0a84a5dfa8bce341c829709f171e5">BasicBlock::iterator</a> InsertPt = <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>.getFirstInsertionPt();</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(InsertPt != <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>.end() &amp;&amp; <span class="stringliteral">&quot;Expected to find an insertion point&quot;</span>);</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;      <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *InsertBefore = &amp;*InsertPt;</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160; </div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;      <span class="comment">// Attach debug values.</span></div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = &amp;*<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>.begin(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != LastInst; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getNextNode()) {</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;        <span class="comment">// Skip void-valued instructions.</span></div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getType()-&gt;isVoidTy())</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;          <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160; </div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;        <span class="comment">// Phis and EH pads must be grouped at the beginning of the block.</span></div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;        <span class="comment">// Only advance the insertion point when we finish visiting these.</span></div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;        <span class="keywordflow">if</span> (!isa&lt;PHINode&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) &amp;&amp; !<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;isEHPad())</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;          InsertBefore = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getNextNode();</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160; </div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;        insertDbgVal(*<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, InsertBefore);</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;        InsertedDbgVal = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;      }</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    }</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    <span class="comment">// Make sure we emit at least one dbg.value, otherwise MachineDebugify may</span></div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <span class="comment">// not have anything to work with as it goes about inserting DBG_VALUEs.</span></div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    <span class="comment">// (It&#39;s common for MIR tests to be written containing skeletal IR with</span></div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    <span class="comment">// empty functions -- we&#39;re still interested in debugifying the MIR within</span></div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    <span class="comment">// those tests, and this helps with that.)</span></div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    <span class="keywordflow">if</span> (DebugifyLevel == Level::LocationsAndVariables &amp;&amp; !InsertedDbgVal) {</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;      <span class="keyword">auto</span> *<a class="code" href="namespacellvm_1_1M68kBeads.html#a7eeab1fe8f39bf89dcd7929b816ebfcca27d0e059322508a76f918503800ef1bd">Term</a> = findTerminatingInstruction(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.getEntryBlock());</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;      insertDbgVal(*<a class="code" href="namespacellvm_1_1M68kBeads.html#a7eeab1fe8f39bf89dcd7929b816ebfcca27d0e059322508a76f918503800ef1bd">Term</a>, <a class="code" href="namespacellvm_1_1M68kBeads.html#a7eeab1fe8f39bf89dcd7929b816ebfcca27d0e059322508a76f918503800ef1bd">Term</a>);</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    }</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    <span class="keywordflow">if</span> (ApplyToMF)</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;      ApplyToMF(DIB, <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    DIB.<a class="code" href="classllvm_1_1DIBuilder.html#a2e5c0418b92861c5387f5f60b60ef614">finalizeSubprogram</a>(SP);</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;  }</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;  DIB.<a class="code" href="classllvm_1_1DIBuilder.html#a138b93205c71960aa94763a1081c50e9">finalize</a>();</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160; </div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;  <span class="comment">// Track the number of distinct lines and variables.</span></div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;  <a class="code" href="classllvm_1_1NamedMDNode.html">NamedMDNode</a> *NMD = <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getOrInsertNamedMetadata(<span class="stringliteral">&quot;llvm.debugify&quot;</span>);</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;  <span class="keyword">auto</span> addDebugifyOperand = [&amp;](<span class="keywordtype">unsigned</span> <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>) {</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    NMD-&gt;<a class="code" href="classllvm_1_1NamedMDNode.html#ae917c72e5b8e15491cd0dbdd44d818f2">addOperand</a>(<a class="code" href="classllvm_1_1MDNode.html#a7d10a7b9b7f40b04d27ed97c38ea1950">MDNode::get</a>(</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;        Ctx, <a class="code" href="classllvm_1_1ValueAsMetadata.html#ac906d4ec2979dd40ae0b86703fac5282">ValueAsMetadata::getConstant</a>(<a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(<a class="code" href="NVVMIntrRange_8cpp.html#abc8aecb5b627f6a91fc2fb09762d2a41">Int32Ty</a>, <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>))));</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;  };</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;  addDebugifyOperand(NextLine - 1); <span class="comment">// Original number of lines.</span></div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;  addDebugifyOperand(NextVar - 1);  <span class="comment">// Original number of variables.</span></div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(NMD-&gt;<a class="code" href="classllvm_1_1NamedMDNode.html#acde8007e0e69969423e2de52343b702f">getNumOperands</a>() == 2 &amp;&amp;</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;         <span class="stringliteral">&quot;llvm.debugify should have exactly 2 operands!&quot;</span>);</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160; </div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;  <span class="comment">// Claim that this synthetic debug info is valid.</span></div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;  <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> DIVersionKey = <span class="stringliteral">&quot;Debug Info Version&quot;</span>;</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getModuleFlag(DIVersionKey))</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.addModuleFlag(<a class="code" href="classllvm_1_1Module.html#a0a5c55e12c97b80021330fe82b642293a355bc901e05417401ee44323a8595131">Module::Warning</a>, DIVersionKey, <a class="code" href="namespacellvm.html#aeff8da57698622ba29e5228d5ffe8bf3a141a51821a2860389357334148e2fd62">DEBUG_METADATA_VERSION</a>);</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160; </div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;}</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160; </div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span></div>
<div class="line"><a name="l00217"></a><span class="lineno"><a class="line" href="Debugify_8cpp.html#a66d4f6a60a7224a7e828e9c2cfc549d6">  217</a></span>&#160;<a class="code" href="Debugify_8cpp.html#a66d4f6a60a7224a7e828e9c2cfc549d6">applyDebugify</a>(<a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>,</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;              <span class="keyword">enum</span> <a class="code" href="Debugify_8h.html#a050aa76ace891cf5971722766fe14b1b">DebugifyMode</a> <a class="code" href="SIWholeQuadMode_8cpp.html#a0c198437833c48138f49e3589bd08773">Mode</a> = <a class="code" href="Debugify_8h.html#a050aa76ace891cf5971722766fe14b1ba190149ba9d0bdf2c7ceac37a3128952b">DebugifyMode::SyntheticDebugInfo</a>,</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;              <a class="code" href="structDebugInfoPerPass.html">DebugInfoPerPass</a> *DebugInfoBeforePass = <span class="keyword">nullptr</span>,</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;              <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> NameOfWrappedPass = <span class="stringliteral">&quot;&quot;</span>) {</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;  <a class="code" href="classllvm_1_1Module.html">Module</a> &amp;<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a> = *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.getParent();</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;  <span class="keyword">auto</span> FuncIt = <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.getIterator();</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="SIWholeQuadMode_8cpp.html#a0c198437833c48138f49e3589bd08773">Mode</a> == <a class="code" href="Debugify_8h.html#a050aa76ace891cf5971722766fe14b1ba190149ba9d0bdf2c7ceac37a3128952b">DebugifyMode::SyntheticDebugInfo</a>)</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a27c57b81140fb6e76287d86c509023e7">applyDebugifyMetadata</a>(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>, <a class="code" href="namespacellvm.html#ad1a91b49e0c092818a0b82f6cc130a1b">make_range</a>(FuncIt, std::next(FuncIt)),</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;                                 <span class="stringliteral">&quot;FunctionDebugify: &quot;</span>, <span class="comment">/*ApplyToMF*/</span> <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(DebugInfoBeforePass);</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a5e556eb90cea56b01be517fbf549fd84">collectDebugInfoMetadata</a>(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>, <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.functions(), *DebugInfoBeforePass,</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;                                  <span class="stringliteral">&quot;FunctionDebugify (original debuginfo)&quot;</span>,</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;                                  NameOfWrappedPass);</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;}</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160; </div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span></div>
<div class="line"><a name="l00233"></a><span class="lineno"><a class="line" href="Debugify_8cpp.html#adbd6553c180df1ec067adf91c8cbc0da">  233</a></span>&#160;<a class="code" href="Debugify_8cpp.html#a66d4f6a60a7224a7e828e9c2cfc549d6">applyDebugify</a>(<a class="code" href="classllvm_1_1Module.html">Module</a> &amp;M,</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;              <span class="keyword">enum</span> <a class="code" href="Debugify_8h.html#a050aa76ace891cf5971722766fe14b1b">DebugifyMode</a> <a class="code" href="SIWholeQuadMode_8cpp.html#a0c198437833c48138f49e3589bd08773">Mode</a> = <a class="code" href="Debugify_8h.html#a050aa76ace891cf5971722766fe14b1ba190149ba9d0bdf2c7ceac37a3128952b">DebugifyMode::SyntheticDebugInfo</a>,</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;              <a class="code" href="structDebugInfoPerPass.html">DebugInfoPerPass</a> *DebugInfoBeforePass = <span class="keyword">nullptr</span>,</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;              <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> NameOfWrappedPass = <span class="stringliteral">&quot;&quot;</span>) {</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="SIWholeQuadMode_8cpp.html#a0c198437833c48138f49e3589bd08773">Mode</a> == <a class="code" href="Debugify_8h.html#a050aa76ace891cf5971722766fe14b1ba190149ba9d0bdf2c7ceac37a3128952b">DebugifyMode::SyntheticDebugInfo</a>)</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a27c57b81140fb6e76287d86c509023e7">applyDebugifyMetadata</a>(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>, <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.functions(),</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;                                 <span class="stringliteral">&quot;ModuleDebugify: &quot;</span>, <span class="comment">/*ApplyToMF*/</span> <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a5e556eb90cea56b01be517fbf549fd84">collectDebugInfoMetadata</a>(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>, <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.functions(), *DebugInfoBeforePass,</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;                                  <span class="stringliteral">&quot;ModuleDebugify (original debuginfo)&quot;</span>,</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;                                  NameOfWrappedPass);</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;}</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160; </div>
<div class="line"><a name="l00245"></a><span class="lineno"><a class="line" href="namespacellvm.html#a484621a748732e2f39e7a2a0058b3b07">  245</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="namespacellvm.html#a484621a748732e2f39e7a2a0058b3b07">llvm::stripDebugifyMetadata</a>(<a class="code" href="classllvm_1_1Module.html">Module</a> &amp;M) {</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;  <span class="keywordtype">bool</span> Changed = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160; </div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;  <span class="comment">// Remove the llvm.debugify and llvm.mir.debugify module-level named metadata.</span></div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;  <a class="code" href="classllvm_1_1NamedMDNode.html">NamedMDNode</a> *DebugifyMD = <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getNamedMetadata(<span class="stringliteral">&quot;llvm.debugify&quot;</span>);</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;  <span class="keywordflow">if</span> (DebugifyMD) {</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.eraseNamedMetadata(DebugifyMD);</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    Changed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;  }</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160; </div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *MIRDebugifyMD = <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getNamedMetadata(<span class="stringliteral">&quot;llvm.mir.debugify&quot;</span>)) {</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.eraseNamedMetadata(MIRDebugifyMD);</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    Changed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;  }</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160; </div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;  <span class="comment">// Strip out all debug intrinsics and supporting metadata (subprograms, types,</span></div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;  <span class="comment">// variables, etc).</span></div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;  Changed |= <a class="code" href="namespacellvm.html#a9b2f025559a0b80366b74285cf25c01e">StripDebugInfo</a>(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>);</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160; </div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;  <span class="comment">// Strip out the dead dbg.value prototype.</span></div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;  <a class="code" href="classllvm_1_1Function.html">Function</a> *DbgValF = <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getFunction(<span class="stringliteral">&quot;llvm.dbg.value&quot;</span>);</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;  <span class="keywordflow">if</span> (DbgValF) {</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(DbgValF-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a32e606ac4c88f71f14212e42b808e7f4">isDeclaration</a>() &amp;&amp; DbgValF-&gt;<a class="code" href="classllvm_1_1Value.html#a9d7de807ebdfe1819df3ff6cb0f16158">use_empty</a>() &amp;&amp;</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;           <span class="stringliteral">&quot;Not all debug info stripped?&quot;</span>);</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    DbgValF-&gt;<a class="code" href="classllvm_1_1Function.html#a8969dec86d24dd579f8ecc963e1dc8b4">eraseFromParent</a>();</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    Changed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;  }</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160; </div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;  <span class="comment">// Strip out the module-level Debug Info Version metadata.</span></div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;  <span class="comment">// FIXME: There must be an easier way to remove an operand from a NamedMDNode.</span></div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;  <a class="code" href="classllvm_1_1NamedMDNode.html">NamedMDNode</a> *NMD = <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getModuleFlagsMetadata();</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;  <span class="keywordflow">if</span> (!NMD)</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    <span class="keywordflow">return</span> Changed;</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;MDNode *, 4&gt;</a> Flags(NMD-&gt;<a class="code" href="classllvm_1_1NamedMDNode.html#acfe76fbea7879969fb26502ea5ffba97">operands</a>());</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;  NMD-&gt;<a class="code" href="classllvm_1_1NamedMDNode.html#ad2c0af191fb0d4aff661994b0d234e40">clearOperands</a>();</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *<a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023">Flag</a> : Flags) {</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    <span class="keyword">auto</span> *<a class="code" href="namespacellvm_1_1AMDGPU_1_1PALMD.html#af892c75285b0f64d58ca76cb73059adf">Key</a> = cast&lt;MDString&gt;(<a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023">Flag</a>-&gt;getOperand(1));</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1AMDGPU_1_1PALMD.html#af892c75285b0f64d58ca76cb73059adf">Key</a>-&gt;getString() == <span class="stringliteral">&quot;Debug Info Version&quot;</span>) {</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;      Changed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    }</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    NMD-&gt;<a class="code" href="classllvm_1_1NamedMDNode.html#ae917c72e5b8e15491cd0dbdd44d818f2">addOperand</a>(<a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023">Flag</a>);</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;  }</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;  <span class="comment">// If we left it empty we might as well remove it.</span></div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;  <span class="keywordflow">if</span> (NMD-&gt;<a class="code" href="classllvm_1_1NamedMDNode.html#acde8007e0e69969423e2de52343b702f">getNumOperands</a>() == 0)</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    NMD-&gt;<a class="code" href="classllvm_1_1NamedMDNode.html#a7b8c6e263c8047823d8869cc27dd8008">eraseFromParent</a>();</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160; </div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;  <span class="keywordflow">return</span> Changed;</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;}</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160; </div>
<div class="line"><a name="l00295"></a><span class="lineno"><a class="line" href="namespacellvm.html#a5e556eb90cea56b01be517fbf549fd84">  295</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="namespacellvm.html#a5e556eb90cea56b01be517fbf549fd84">llvm::collectDebugInfoMetadata</a>(<a class="code" href="classllvm_1_1Module.html">Module</a> &amp;M,</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;                                    <a class="code" href="classllvm_1_1iterator__range.html">iterator_range&lt;Module::iterator&gt;</a> Functions,</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;                                    <a class="code" href="structDebugInfoPerPass.html">DebugInfoPerPass</a> &amp;DebugInfoBeforePass,</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;                                    <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> Banner,</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;                                    <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> NameOfWrappedPass) {</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; Banner &lt;&lt; <span class="stringliteral">&quot;: (before) &quot;</span> &lt;&lt; NameOfWrappedPass &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160; </div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getNamedMetadata(<span class="stringliteral">&quot;llvm.dbg.cu&quot;</span>)) {</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    dbg() &lt;&lt; Banner &lt;&lt; <span class="stringliteral">&quot;: Skipping module without debug info\n&quot;</span>;</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;  }</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160; </div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;  <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> FunctionsCnt = DebugInfoBeforePass.<a class="code" href="structDebugInfoPerPass.html#a5bf923996a54e0206a5fb9e665ed0a17">DIFunctions</a>.<a class="code" href="classllvm_1_1MapVector.html#acf4c09e1f30cdd4e0b5b1b8a236ead34">size</a>();</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;  <span class="comment">// Visit each instruction.</span></div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> : Functions) {</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    <span class="comment">// Use DI collected after previous Pass (when -debugify-each is used).</span></div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    <span class="keywordflow">if</span> (DebugInfoBeforePass.<a class="code" href="structDebugInfoPerPass.html#a5bf923996a54e0206a5fb9e665ed0a17">DIFunctions</a>.<a class="code" href="classllvm_1_1MapVector.html#a041e60c6f5f9841f3dc74921ea87bec2">count</a>(&amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>))</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160; </div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;    <span class="keywordflow">if</span> (isFunctionSkipped(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>))</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160; </div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    <span class="comment">// Stop collecting DI if the Functions number reached the limit.</span></div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;    <span class="keywordflow">if</span> (++FunctionsCnt &gt;= DebugifyFunctionsLimit)</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    <span class="comment">// Collect the DISubprogram.</span></div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;    <span class="keyword">auto</span> *SP = <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.getSubprogram();</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    DebugInfoBeforePass.<a class="code" href="structDebugInfoPerPass.html#a5bf923996a54e0206a5fb9e665ed0a17">DIFunctions</a>.<a class="code" href="classllvm_1_1MapVector.html#a9318649185cfc66ba4b4eb66d5968e00">insert</a>({&amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, SP});</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    <span class="keywordflow">if</span> (SP) {</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;      <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;  Collecting subprogram: &quot;</span> &lt;&lt; *SP &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1DINode.html">DINode</a> *DN : SP-&gt;getRetainedNodes()) {</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;        <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *DV = dyn_cast&lt;DILocalVariable&gt;(DN)) {</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;          DebugInfoBeforePass.<a class="code" href="structDebugInfoPerPass.html#a9e1b06ef29af916f5cefad78589036aa">DIVariables</a>[DV] = 0;</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;        }</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;      }</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    }</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160; </div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> &amp;<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a> : <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>) {</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;      <span class="comment">// Collect debug locations (!dbg) and debug variable intrinsics.</span></div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> : <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>) {</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;        <span class="comment">// Skip PHIs.</span></div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;        <span class="keywordflow">if</span> (isa&lt;PHINode&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>))</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;          <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160; </div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;        <span class="comment">// Cllect dbg.values and dbg.declare.</span></div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;        <span class="keywordflow">if</span> (DebugifyLevel &gt; Level::Locations) {</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;          <span class="keywordflow">if</span> (<span class="keyword">auto</span> *DVI = dyn_cast&lt;DbgVariableIntrinsic&gt;(&amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)) {</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;            <span class="keywordflow">if</span> (!SP)</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;              <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;            <span class="comment">// Skip inlined variables.</span></div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getDebugLoc().getInlinedAt())</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;              <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;            <span class="comment">// Skip undef values.</span></div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;            <span class="keywordflow">if</span> (DVI-&gt;isKillLocation())</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;              <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160; </div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;            <span class="keyword">auto</span> *Var = DVI-&gt;getVariable();</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;            DebugInfoBeforePass.<a class="code" href="structDebugInfoPerPass.html#a9e1b06ef29af916f5cefad78589036aa">DIVariables</a>[Var]++;</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;          }</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;        }</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160; </div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;        <span class="comment">// Skip debug instructions other than dbg.value and dbg.declare.</span></div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;        <span class="keywordflow">if</span> (isa&lt;DbgInfoIntrinsic&gt;(&amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>))</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;          <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160; </div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;        <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;  Collecting info for inst: &quot;</span> &lt;&lt; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;        DebugInfoBeforePass.<a class="code" href="structDebugInfoPerPass.html#af6a233bc305852872d1f2731483f853e">InstToDelete</a>.<a class="code" href="classllvm_1_1MapVector.html#a9318649185cfc66ba4b4eb66d5968e00">insert</a>({&amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>});</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160; </div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1DILocation.html">DILocation</a> *Loc = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getDebugLoc().get();</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;        <span class="keywordtype">bool</span> HasLoc = Loc != <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;        DebugInfoBeforePass.<a class="code" href="structDebugInfoPerPass.html#a4c856759d515a856df4294aa8a60ccc1">DILocations</a>.<a class="code" href="classllvm_1_1MapVector.html#a9318649185cfc66ba4b4eb66d5968e00">insert</a>({&amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, HasLoc});</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;      }</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;    }</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;  }</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160; </div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;}</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160; </div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;<span class="comment">// This checks the preservation of original debug info attached to functions.</span></div>
<div class="line"><a name="l00375"></a><span class="lineno"><a class="line" href="Debugify_8cpp.html#ac398fa604fb57503d55fd556af91e41a">  375</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="Debugify_8cpp.html#ac398fa604fb57503d55fd556af91e41a">checkFunctions</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MapVector.html">DebugFnMap</a> &amp;DIFunctionsBefore,</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;                           <span class="keyword">const</span> <a class="code" href="classllvm_1_1MapVector.html">DebugFnMap</a> &amp;DIFunctionsAfter,</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;                           <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> NameOfWrappedPass,</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;                           <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> FileNameFromCU, <span class="keywordtype">bool</span> ShouldWriteIntoJSON,</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;                           <a class="code" href="classllvm_1_1json_1_1Array.html">llvm::json::Array</a> &amp;Bugs) {</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;  <span class="keywordtype">bool</span> Preserved = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> : DIFunctionsAfter) {</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.second)</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    <span class="keyword">auto</span> SPIt = DIFunctionsBefore.<a class="code" href="classllvm_1_1MapVector.html#a6b0c3e15c351ba9682837c29b0a141b6">find</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.first);</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    <span class="keywordflow">if</span> (SPIt == DIFunctionsBefore.<a class="code" href="classllvm_1_1MapVector.html#a0881334358ff6ff7ff8cea5562c7988e">end</a>()) {</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;      <span class="keywordflow">if</span> (ShouldWriteIntoJSON)</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;        Bugs.<a class="code" href="classllvm_1_1json_1_1Array.html#ad48bca6da17d659a87749a8bf543e35b">push_back</a>(<a class="code" href="classllvm_1_1json_1_1Object.html">llvm::json::Object</a>({{<span class="stringliteral">&quot;metadata&quot;</span>, <span class="stringliteral">&quot;DISubprogram&quot;</span>},</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;                                           {<span class="stringliteral">&quot;name&quot;</span>, <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.first-&gt;getName()},</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;                                           {<span class="stringliteral">&quot;action&quot;</span>, <span class="stringliteral">&quot;not-generate&quot;</span>}}));</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;        dbg() &lt;&lt; <span class="stringliteral">&quot;ERROR: &quot;</span> &lt;&lt; NameOfWrappedPass</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;              &lt;&lt; <span class="stringliteral">&quot; did not generate DISubprogram for &quot;</span> &lt;&lt; <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.first-&gt;getName()</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;              &lt;&lt; <span class="stringliteral">&quot; from &quot;</span> &lt;&lt; FileNameFromCU &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;      Preserved = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;      <span class="keyword">auto</span> SP = SPIt-&gt;second;</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;      <span class="keywordflow">if</span> (!SP)</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;      <span class="comment">// If the function had the SP attached before the pass, consider it as</span></div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;      <span class="comment">// a debug info bug.</span></div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;      <span class="keywordflow">if</span> (ShouldWriteIntoJSON)</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;        Bugs.<a class="code" href="classllvm_1_1json_1_1Array.html#ad48bca6da17d659a87749a8bf543e35b">push_back</a>(<a class="code" href="classllvm_1_1json_1_1Object.html">llvm::json::Object</a>({{<span class="stringliteral">&quot;metadata&quot;</span>, <span class="stringliteral">&quot;DISubprogram&quot;</span>},</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;                                           {<span class="stringliteral">&quot;name&quot;</span>, <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.first-&gt;getName()},</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;                                           {<span class="stringliteral">&quot;action&quot;</span>, <span class="stringliteral">&quot;drop&quot;</span>}}));</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;        dbg() &lt;&lt; <span class="stringliteral">&quot;ERROR: &quot;</span> &lt;&lt; NameOfWrappedPass &lt;&lt; <span class="stringliteral">&quot; dropped DISubprogram of &quot;</span></div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;              &lt;&lt; <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.first-&gt;getName() &lt;&lt; <span class="stringliteral">&quot; from &quot;</span> &lt;&lt; FileNameFromCU &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;      Preserved = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;    }</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;  }</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160; </div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;  <span class="keywordflow">return</span> Preserved;</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;}</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160; </div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;<span class="comment">// This checks the preservation of the original debug info attached to</span></div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;<span class="comment">// instructions.</span></div>
<div class="line"><a name="l00417"></a><span class="lineno"><a class="line" href="Debugify_8cpp.html#af718a7db460e96f14b7c380d841cbcd8">  417</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="Debugify_8cpp.html#af718a7db460e96f14b7c380d841cbcd8">checkInstructions</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MapVector.html">DebugInstMap</a> &amp;DILocsBefore,</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;                              <span class="keyword">const</span> <a class="code" href="classllvm_1_1MapVector.html">DebugInstMap</a> &amp;DILocsAfter,</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;                              <span class="keyword">const</span> <a class="code" href="classllvm_1_1MapVector.html">WeakInstValueMap</a> &amp;InstToDelete,</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;                              <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> NameOfWrappedPass,</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;                              <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> FileNameFromCU,</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;                              <span class="keywordtype">bool</span> ShouldWriteIntoJSON,</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;                              <a class="code" href="classllvm_1_1json_1_1Array.html">llvm::json::Array</a> &amp;Bugs) {</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;  <span class="keywordtype">bool</span> Preserved = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;L : DILocsAfter) {</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;    <span class="keywordflow">if</span> (L.second)</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    <span class="keyword">auto</span> Instr = L.first;</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160; </div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;    <span class="comment">// In order to avoid pointer reuse/recycling, skip the values that might</span></div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;    <span class="comment">// have been deleted during a pass.</span></div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;    <span class="keyword">auto</span> WeakInstrPtr = InstToDelete.<a class="code" href="classllvm_1_1MapVector.html#a6b0c3e15c351ba9682837c29b0a141b6">find</a>(Instr);</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;    <span class="keywordflow">if</span> (WeakInstrPtr != InstToDelete.<a class="code" href="classllvm_1_1MapVector.html#a0881334358ff6ff7ff8cea5562c7988e">end</a>() &amp;&amp; !WeakInstrPtr-&gt;second)</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160; </div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;    <span class="keyword">auto</span> FnName = Instr-&gt;getFunction()-&gt;getName();</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    <span class="keyword">auto</span> <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a> = Instr-&gt;getParent();</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;    <span class="keyword">auto</span> BBName = <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>-&gt;hasName() ? <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>-&gt;getName() : <span class="stringliteral">&quot;no-name&quot;</span>;</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;    <span class="keyword">auto</span> InstName = <a class="code" href="classllvm_1_1Instruction.html#af279f7d85885f932c1e7cdc2b77cb4ad">Instruction::getOpcodeName</a>(Instr-&gt;getOpcode());</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160; </div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;    <span class="keyword">auto</span> InstrIt = DILocsBefore.<a class="code" href="classllvm_1_1MapVector.html#a6b0c3e15c351ba9682837c29b0a141b6">find</a>(Instr);</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;    <span class="keywordflow">if</span> (InstrIt == DILocsBefore.<a class="code" href="classllvm_1_1MapVector.html#a0881334358ff6ff7ff8cea5562c7988e">end</a>()) {</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;      <span class="keywordflow">if</span> (ShouldWriteIntoJSON)</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;        Bugs.<a class="code" href="classllvm_1_1json_1_1Array.html#ad48bca6da17d659a87749a8bf543e35b">push_back</a>(<a class="code" href="classllvm_1_1json_1_1Object.html">llvm::json::Object</a>({{<span class="stringliteral">&quot;metadata&quot;</span>, <span class="stringliteral">&quot;DILocation&quot;</span>},</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;                                           {<span class="stringliteral">&quot;fn-name&quot;</span>, FnName.str()},</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;                                           {<span class="stringliteral">&quot;bb-name&quot;</span>, BBName.str()},</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;                                           {<span class="stringliteral">&quot;instr&quot;</span>, InstName},</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;                                           {<span class="stringliteral">&quot;action&quot;</span>, <span class="stringliteral">&quot;not-generate&quot;</span>}}));</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;        dbg() &lt;&lt; <span class="stringliteral">&quot;WARNING: &quot;</span> &lt;&lt; NameOfWrappedPass</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;              &lt;&lt; <span class="stringliteral">&quot; did not generate DILocation for &quot;</span> &lt;&lt; *Instr</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;              &lt;&lt; <span class="stringliteral">&quot; (BB: &quot;</span> &lt;&lt; BBName &lt;&lt; <span class="stringliteral">&quot;, Fn: &quot;</span> &lt;&lt; FnName</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;              &lt;&lt; <span class="stringliteral">&quot;, File: &quot;</span> &lt;&lt; FileNameFromCU &lt;&lt; <span class="stringliteral">&quot;)\n&quot;</span>;</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;      Preserved = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;      <span class="keywordflow">if</span> (!InstrIt-&gt;second)</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;      <span class="comment">// If the instr had the !dbg attached before the pass, consider it as</span></div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;      <span class="comment">// a debug info issue.</span></div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;      <span class="keywordflow">if</span> (ShouldWriteIntoJSON)</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;        Bugs.<a class="code" href="classllvm_1_1json_1_1Array.html#ad48bca6da17d659a87749a8bf543e35b">push_back</a>(<a class="code" href="classllvm_1_1json_1_1Object.html">llvm::json::Object</a>({{<span class="stringliteral">&quot;metadata&quot;</span>, <span class="stringliteral">&quot;DILocation&quot;</span>},</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;                                           {<span class="stringliteral">&quot;fn-name&quot;</span>, FnName.str()},</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;                                           {<span class="stringliteral">&quot;bb-name&quot;</span>, BBName.str()},</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;                                           {<span class="stringliteral">&quot;instr&quot;</span>, InstName},</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;                                           {<span class="stringliteral">&quot;action&quot;</span>, <span class="stringliteral">&quot;drop&quot;</span>}}));</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;        dbg() &lt;&lt; <span class="stringliteral">&quot;WARNING: &quot;</span> &lt;&lt; NameOfWrappedPass &lt;&lt; <span class="stringliteral">&quot; dropped DILocation of &quot;</span></div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;              &lt;&lt; *Instr &lt;&lt; <span class="stringliteral">&quot; (BB: &quot;</span> &lt;&lt; BBName &lt;&lt; <span class="stringliteral">&quot;, Fn: &quot;</span> &lt;&lt; FnName</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;              &lt;&lt; <span class="stringliteral">&quot;, File: &quot;</span> &lt;&lt; FileNameFromCU &lt;&lt; <span class="stringliteral">&quot;)\n&quot;</span>;</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;      Preserved = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;    }</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;  }</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160; </div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;  <span class="keywordflow">return</span> Preserved;</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;}</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160; </div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;<span class="comment">// This checks the preservation of original debug variable intrinsics.</span></div>
<div class="line"><a name="l00478"></a><span class="lineno"><a class="line" href="Debugify_8cpp.html#ae340f07c3f677f4518e4884b9043f5d8">  478</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="Debugify_8cpp.html#ae340f07c3f677f4518e4884b9043f5d8">checkVars</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MapVector.html">DebugVarMap</a> &amp;DIVarsBefore,</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;                      <span class="keyword">const</span> <a class="code" href="classllvm_1_1MapVector.html">DebugVarMap</a> &amp;DIVarsAfter,</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;                      <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> NameOfWrappedPass, <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> FileNameFromCU,</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;                      <span class="keywordtype">bool</span> ShouldWriteIntoJSON, <a class="code" href="classllvm_1_1json_1_1Array.html">llvm::json::Array</a> &amp;Bugs) {</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;  <span class="keywordtype">bool</span> Preserved = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;V : DIVarsBefore) {</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;    <span class="keyword">auto</span> VarIt = DIVarsAfter.<a class="code" href="classllvm_1_1MapVector.html#a6b0c3e15c351ba9682837c29b0a141b6">find</a>(V.first);</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;    <span class="keywordflow">if</span> (VarIt == DIVarsAfter.<a class="code" href="classllvm_1_1MapVector.html#a0881334358ff6ff7ff8cea5562c7988e">end</a>())</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160; </div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;    <span class="keywordtype">unsigned</span> NumOfDbgValsAfter = VarIt-&gt;second;</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160; </div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;    <span class="keywordflow">if</span> (V.second &gt; NumOfDbgValsAfter) {</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;      <span class="keywordflow">if</span> (ShouldWriteIntoJSON)</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;        Bugs.<a class="code" href="classllvm_1_1json_1_1Array.html#ad48bca6da17d659a87749a8bf543e35b">push_back</a>(<a class="code" href="classllvm_1_1json_1_1Object.html">llvm::json::Object</a>(</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;            {{<span class="stringliteral">&quot;metadata&quot;</span>, <span class="stringliteral">&quot;dbg-var-intrinsic&quot;</span>},</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;             {<span class="stringliteral">&quot;name&quot;</span>, V.first-&gt;<a class="code" href="classllvm_1_1Value.html#adb5c319f5905c1d3ca9eb5df546388c5">getName</a>()},</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;             {<span class="stringliteral">&quot;fn-name&quot;</span>, V.first-&gt;getScope()-&gt;<a class="code" href="DIBuilder_8cpp.html#a351138e9048e98cac0256c0b3bf022b0">getSubprogram</a>()-&gt;<a class="code" href="ProvenanceAnalysisEvaluator_8cpp.html#a2ee79648e8bce3ddbb26358ff10e3e82">getName</a>()},</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;             {<span class="stringliteral">&quot;action&quot;</span>, <span class="stringliteral">&quot;drop&quot;</span>}}));</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;        dbg() &lt;&lt; <span class="stringliteral">&quot;WARNING: &quot;</span> &lt;&lt; NameOfWrappedPass</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;              &lt;&lt; <span class="stringliteral">&quot; drops dbg.value()/dbg.declare() for &quot;</span> &lt;&lt; V.first-&gt;<a class="code" href="classllvm_1_1Value.html#adb5c319f5905c1d3ca9eb5df546388c5">getName</a>()</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;              &lt;&lt; <span class="stringliteral">&quot; from &quot;</span></div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;              &lt;&lt; <span class="stringliteral">&quot;function &quot;</span> &lt;&lt; V.first-&gt;getScope()-&gt;getSubprogram()-&gt;<a class="code" href="classllvm_1_1Value.html#adb5c319f5905c1d3ca9eb5df546388c5">getName</a>()</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;              &lt;&lt; <span class="stringliteral">&quot; (file &quot;</span> &lt;&lt; FileNameFromCU &lt;&lt; <span class="stringliteral">&quot;)\n&quot;</span>;</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;      Preserved = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;    }</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;  }</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160; </div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;  <span class="keywordflow">return</span> Preserved;</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;}</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160; </div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;<span class="comment">// Write the json data into the specifed file.</span></div>
<div class="line"><a name="l00511"></a><span class="lineno"><a class="line" href="Debugify_8cpp.html#a8eb4d536e570cc08e82d91095b892ed2">  511</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="Debugify_8cpp.html#a8eb4d536e570cc08e82d91095b892ed2">writeJSON</a>(<a class="code" href="classllvm_1_1StringRef.html">StringRef</a> OrigDIVerifyBugsReportFilePath,</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;                      <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> FileNameFromCU, <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> NameOfWrappedPass,</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;                      <a class="code" href="classllvm_1_1json_1_1Array.html">llvm::json::Array</a> &amp;Bugs) {</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;  std::error_code EC;</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;  <a class="code" href="classllvm_1_1raw__fd__ostream.html">raw_fd_ostream</a> OS_FILE{OrigDIVerifyBugsReportFilePath, EC,</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;                         <a class="code" href="namespacellvm_1_1sys_1_1fs.html#a662978c0cdf81de0d448032f142a3695ac999fafdcc991e61bbc2df56a4310083">sys::fs::OF_Append</a> | <a class="code" href="namespacellvm_1_1sys_1_1fs.html#a662978c0cdf81de0d448032f142a3695ab505c2c79499fbe180989bffbf108a50">sys::fs::OF_TextWithCRLF</a>};</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;  <span class="keywordflow">if</span> (EC) {</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;    <a class="code" href="namespacellvm.html#a9a7b5c68c90f85baaedaa854cc5002cc">errs</a>() &lt;&lt; <span class="stringliteral">&quot;Could not open file: &quot;</span> &lt;&lt; EC.message() &lt;&lt; <span class="stringliteral">&quot;, &quot;</span></div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;           &lt;&lt; OrigDIVerifyBugsReportFilePath &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;  }</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160; </div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> L = OS_FILE.lock()) {</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;    OS_FILE &lt;&lt; <span class="stringliteral">&quot;{\&quot;file\&quot;:\&quot;&quot;</span> &lt;&lt; FileNameFromCU &lt;&lt; <span class="stringliteral">&quot;\&quot;, &quot;</span>;</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160; </div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;    <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> <a class="code" href="X86LowerAMXIntrinsics_8cpp.html#adb9257105a403ef9d0773b87693f7779">PassName</a> =</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;        NameOfWrappedPass != <span class="stringliteral">&quot;&quot;</span> ? NameOfWrappedPass : <span class="stringliteral">&quot;no-name&quot;</span>;</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;    OS_FILE &lt;&lt; <span class="stringliteral">&quot;\&quot;pass\&quot;:\&quot;&quot;</span> &lt;&lt; <a class="code" href="X86LowerAMXIntrinsics_8cpp.html#adb9257105a403ef9d0773b87693f7779">PassName</a> &lt;&lt; <span class="stringliteral">&quot;\&quot;, &quot;</span>;</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160; </div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;    <a class="code" href="classllvm_1_1json_1_1Value.html">llvm::json::Value</a> BugsToPrint{<a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(Bugs)};</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;    OS_FILE &lt;&lt; <span class="stringliteral">&quot;\&quot;bugs\&quot;: &quot;</span> &lt;&lt; BugsToPrint;</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160; </div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;    OS_FILE &lt;&lt; <span class="stringliteral">&quot;}\n&quot;</span>;</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;  }</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;  OS_FILE.close();</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;}</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160; </div>
<div class="line"><a name="l00538"></a><span class="lineno"><a class="line" href="namespacellvm.html#a6b1daaa72630852c5b859e1410e69a55">  538</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="namespacellvm.html#a6b1daaa72630852c5b859e1410e69a55">llvm::checkDebugInfoMetadata</a>(<a class="code" href="classllvm_1_1Module.html">Module</a> &amp;M,</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;                                  <a class="code" href="classllvm_1_1iterator__range.html">iterator_range&lt;Module::iterator&gt;</a> Functions,</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;                                  <a class="code" href="structDebugInfoPerPass.html">DebugInfoPerPass</a> &amp;DebugInfoBeforePass,</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;                                  <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> Banner, <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> NameOfWrappedPass,</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;                                  <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> OrigDIVerifyBugsReportFilePath) {</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; Banner &lt;&lt; <span class="stringliteral">&quot;: (after) &quot;</span> &lt;&lt; NameOfWrappedPass &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160; </div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getNamedMetadata(<span class="stringliteral">&quot;llvm.dbg.cu&quot;</span>)) {</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;    dbg() &lt;&lt; Banner &lt;&lt; <span class="stringliteral">&quot;: Skipping module without debug info\n&quot;</span>;</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;  }</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160; </div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;  <span class="comment">// Map the debug info holding DIs after a pass.</span></div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;  <a class="code" href="structDebugInfoPerPass.html">DebugInfoPerPass</a> DebugInfoAfterPass;</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160; </div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;  <span class="comment">// Visit each instruction.</span></div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> : Functions) {</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;    <span class="keywordflow">if</span> (isFunctionSkipped(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>))</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160; </div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;    <span class="comment">// Don&#39;t process functions without DI collected before the Pass.</span></div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;    <span class="keywordflow">if</span> (!DebugInfoBeforePass.<a class="code" href="structDebugInfoPerPass.html#a5bf923996a54e0206a5fb9e665ed0a17">DIFunctions</a>.<a class="code" href="classllvm_1_1MapVector.html#a041e60c6f5f9841f3dc74921ea87bec2">count</a>(&amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>))</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;    <span class="comment">// TODO: Collect metadata other than DISubprograms.</span></div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;    <span class="comment">// Collect the DISubprogram.</span></div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;    <span class="keyword">auto</span> *SP = <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.getSubprogram();</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;    DebugInfoAfterPass.<a class="code" href="structDebugInfoPerPass.html#a5bf923996a54e0206a5fb9e665ed0a17">DIFunctions</a>.<a class="code" href="classllvm_1_1MapVector.html#a9318649185cfc66ba4b4eb66d5968e00">insert</a>({&amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, SP});</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160; </div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;    <span class="keywordflow">if</span> (SP) {</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;      <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;  Collecting subprogram: &quot;</span> &lt;&lt; *SP &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1DINode.html">DINode</a> *DN : SP-&gt;getRetainedNodes()) {</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;        <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *DV = dyn_cast&lt;DILocalVariable&gt;(DN)) {</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;          DebugInfoAfterPass.<a class="code" href="structDebugInfoPerPass.html#a9e1b06ef29af916f5cefad78589036aa">DIVariables</a>[DV] = 0;</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;        }</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;      }</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;    }</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160; </div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> &amp;<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a> : <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>) {</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;      <span class="comment">// Collect debug locations (!dbg) and debug variable intrinsics.</span></div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> : <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>) {</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;        <span class="comment">// Skip PHIs.</span></div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;        <span class="keywordflow">if</span> (isa&lt;PHINode&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>))</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;          <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160; </div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;        <span class="comment">// Collect dbg.values and dbg.declares.</span></div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;        <span class="keywordflow">if</span> (DebugifyLevel &gt; Level::Locations) {</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;          <span class="keywordflow">if</span> (<span class="keyword">auto</span> *DVI = dyn_cast&lt;DbgVariableIntrinsic&gt;(&amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)) {</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;            <span class="keywordflow">if</span> (!SP)</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;              <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;            <span class="comment">// Skip inlined variables.</span></div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getDebugLoc().getInlinedAt())</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;              <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;            <span class="comment">// Skip undef values.</span></div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;            <span class="keywordflow">if</span> (DVI-&gt;isKillLocation())</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;              <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160; </div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;            <span class="keyword">auto</span> *Var = DVI-&gt;getVariable();</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;            DebugInfoAfterPass.<a class="code" href="structDebugInfoPerPass.html#a9e1b06ef29af916f5cefad78589036aa">DIVariables</a>[Var]++;</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;          }</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;        }</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160; </div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;        <span class="comment">// Skip debug instructions other than dbg.value and dbg.declare.</span></div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;        <span class="keywordflow">if</span> (isa&lt;DbgInfoIntrinsic&gt;(&amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>))</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;          <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160; </div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;        <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;  Collecting info for inst: &quot;</span> &lt;&lt; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160; </div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1DILocation.html">DILocation</a> *Loc = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getDebugLoc().get();</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;        <span class="keywordtype">bool</span> HasLoc = Loc != <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160; </div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;        DebugInfoAfterPass.<a class="code" href="structDebugInfoPerPass.html#a4c856759d515a856df4294aa8a60ccc1">DILocations</a>.<a class="code" href="classllvm_1_1MapVector.html#a9318649185cfc66ba4b4eb66d5968e00">insert</a>({&amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, HasLoc});</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;      }</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;    }</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;  }</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160; </div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;  <span class="comment">// TODO: The name of the module could be read better?</span></div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;  <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> FileNameFromCU =</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;      (cast&lt;DICompileUnit&gt;(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getNamedMetadata(<span class="stringliteral">&quot;llvm.dbg.cu&quot;</span>)-&gt;getOperand(0)))</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;          -&gt;<a class="code" href="GCOVProfiling_8cpp.html#aa9ba6184a1d2c895daed8491c4d30acc">getFilename</a>();</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160; </div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;  <span class="keyword">auto</span> DIFunctionsBefore = DebugInfoBeforePass.<a class="code" href="structDebugInfoPerPass.html#a5bf923996a54e0206a5fb9e665ed0a17">DIFunctions</a>;</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;  <span class="keyword">auto</span> DIFunctionsAfter = DebugInfoAfterPass.<a class="code" href="structDebugInfoPerPass.html#a5bf923996a54e0206a5fb9e665ed0a17">DIFunctions</a>;</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160; </div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;  <span class="keyword">auto</span> DILocsBefore = DebugInfoBeforePass.<a class="code" href="structDebugInfoPerPass.html#a4c856759d515a856df4294aa8a60ccc1">DILocations</a>;</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;  <span class="keyword">auto</span> DILocsAfter = DebugInfoAfterPass.<a class="code" href="structDebugInfoPerPass.html#a4c856759d515a856df4294aa8a60ccc1">DILocations</a>;</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160; </div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;  <span class="keyword">auto</span> InstToDelete = DebugInfoBeforePass.<a class="code" href="structDebugInfoPerPass.html#af6a233bc305852872d1f2731483f853e">InstToDelete</a>;</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160; </div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;  <span class="keyword">auto</span> DIVarsBefore = DebugInfoBeforePass.<a class="code" href="structDebugInfoPerPass.html#a9e1b06ef29af916f5cefad78589036aa">DIVariables</a>;</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;  <span class="keyword">auto</span> DIVarsAfter = DebugInfoAfterPass.<a class="code" href="structDebugInfoPerPass.html#a9e1b06ef29af916f5cefad78589036aa">DIVariables</a>;</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160; </div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;  <span class="keywordtype">bool</span> ShouldWriteIntoJSON = !OrigDIVerifyBugsReportFilePath.<a class="code" href="classllvm_1_1StringRef.html#a2dc80c585ad5882da8cae7b5968f7e74">empty</a>();</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;  <a class="code" href="classllvm_1_1json_1_1Array.html">llvm::json::Array</a> Bugs;</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160; </div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;  <span class="keywordtype">bool</span> ResultForFunc =</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;      <a class="code" href="Debugify_8cpp.html#ac398fa604fb57503d55fd556af91e41a">checkFunctions</a>(DIFunctionsBefore, DIFunctionsAfter, NameOfWrappedPass,</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;                     FileNameFromCU, ShouldWriteIntoJSON, Bugs);</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;  <span class="keywordtype">bool</span> ResultForInsts = <a class="code" href="Debugify_8cpp.html#af718a7db460e96f14b7c380d841cbcd8">checkInstructions</a>(</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;      DILocsBefore, DILocsAfter, InstToDelete, NameOfWrappedPass,</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;      FileNameFromCU, ShouldWriteIntoJSON, Bugs);</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160; </div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;  <span class="keywordtype">bool</span> ResultForVars = <a class="code" href="Debugify_8cpp.html#ae340f07c3f677f4518e4884b9043f5d8">checkVars</a>(DIVarsBefore, DIVarsAfter, NameOfWrappedPass,</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;                                 FileNameFromCU, ShouldWriteIntoJSON, Bugs);</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160; </div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;  <span class="keywordtype">bool</span> Result = ResultForFunc &amp;&amp; ResultForInsts &amp;&amp; ResultForVars;</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160; </div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;  <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> ResultBanner = NameOfWrappedPass != <span class="stringliteral">&quot;&quot;</span> ? NameOfWrappedPass : Banner;</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;  <span class="keywordflow">if</span> (ShouldWriteIntoJSON &amp;&amp; !Bugs.<a class="code" href="classllvm_1_1json_1_1Array.html#abfba9de6df7929237de250fe012b6cb0">empty</a>())</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;    <a class="code" href="Debugify_8cpp.html#a8eb4d536e570cc08e82d91095b892ed2">writeJSON</a>(OrigDIVerifyBugsReportFilePath, FileNameFromCU, NameOfWrappedPass,</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;              Bugs);</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160; </div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;  <span class="keywordflow">if</span> (Result)</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;    dbg() &lt;&lt; ResultBanner &lt;&lt; <span class="stringliteral">&quot;: PASS\n&quot;</span>;</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;    dbg() &lt;&lt; ResultBanner &lt;&lt; <span class="stringliteral">&quot;: FAIL\n&quot;</span>;</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160; </div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;  <span class="comment">// In the case of the `debugify-each`, no need to go over all the instructions</span></div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;  <span class="comment">// again in the collectDebugInfoMetadata(), since as an input we can use</span></div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;  <span class="comment">// the debugging information from the previous pass.</span></div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;  DebugInfoBeforePass = DebugInfoAfterPass;</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160; </div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;\n\n&quot;</span>);</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;  <span class="keywordflow">return</span> Result;</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;}</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160; </div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;<span class="keyword">namespace </span>{<span class="comment"></span></div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;<span class="comment">/// Return true if a mis-sized diagnostic is issued for \p DVI.</span></div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> diagnoseMisSizedDbgValue(<a class="code" href="classllvm_1_1Module.html">Module</a> &amp;M, <a class="code" href="classllvm_1_1DbgValueInst.html">DbgValueInst</a> *DVI) {</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;  <span class="comment">// The size of a dbg.value&#39;s value operand should match the size of the</span></div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;  <span class="comment">// variable it corresponds to.</span></div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;  <span class="comment">// TODO: This, along with a check for non-null value operands, should be</span></div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;  <span class="comment">// promoted to verifier failures.</span></div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160; </div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;  <span class="comment">// For now, don&#39;t try to interpret anything more complicated than an empty</span></div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;  <span class="comment">// DIExpression. Eventually we should try to handle OP_deref and fragments.</span></div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;  <span class="keywordflow">if</span> (DVI-&gt;<a class="code" href="classllvm_1_1DbgVariableIntrinsic.html#a2d4581b2568be7db21e47f096ffd6df8">getExpression</a>()-&gt;<a class="code" href="classllvm_1_1DIExpression.html#a1b59c8fe81267b338774bf6c542f90ee">getNumElements</a>())</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160; </div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *V = DVI-&gt;<a class="code" href="classllvm_1_1DbgVariableIntrinsic.html#a5702a1d09ac6ee86196a38b3f682a570">getVariableLocationOp</a>(0);</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;  <span class="keywordflow">if</span> (!V)</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160; </div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *Ty = V-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>();</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;  <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> ValueOperandSize = getAllocSizeInBits(M, Ty);</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;  std::optional&lt;uint64_t&gt; DbgVarSize = DVI-&gt;<a class="code" href="classllvm_1_1DbgVariableIntrinsic.html#ad00657bed806e5e3e4f3a55e48c97023">getFragmentSizeInBits</a>();</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;  <span class="keywordflow">if</span> (!ValueOperandSize || !DbgVarSize)</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160; </div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;  <span class="keywordtype">bool</span> HasBadSize = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;  <span class="keywordflow">if</span> (Ty-&gt;<a class="code" href="classllvm_1_1Type.html#ac6d28a9b11139182134a9618028a0d07">isIntegerTy</a>()) {</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;    <span class="keyword">auto</span> Signedness = DVI-&gt;<a class="code" href="classllvm_1_1DbgVariableIntrinsic.html#ac161deb2a31f78c85f94fbe0f3ba97b4">getVariable</a>()-&gt;<a class="code" href="classllvm_1_1DIVariable.html#a04a71a1d084db8fe394121e059f0b774">getSignedness</a>();</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;    <span class="keywordflow">if</span> (Signedness &amp;&amp; *Signedness == <a class="code" href="classllvm_1_1DIBasicType.html#a60f94cc0e71193b01ca24ef37de9845aa71fed0c3428bf1a2e19af257c4bac379">DIBasicType::Signedness::Signed</a>)</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;      HasBadSize = ValueOperandSize &lt; *DbgVarSize;</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;    HasBadSize = ValueOperandSize != *DbgVarSize;</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;  }</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160; </div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;  <span class="keywordflow">if</span> (HasBadSize) {</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;    dbg() &lt;&lt; <span class="stringliteral">&quot;ERROR: dbg.value operand has size &quot;</span> &lt;&lt; ValueOperandSize</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;          &lt;&lt; <span class="stringliteral">&quot;, but its variable has size &quot;</span> &lt;&lt; *DbgVarSize &lt;&lt; <span class="stringliteral">&quot;: &quot;</span>;</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;    DVI-&gt;<a class="code" href="classllvm_1_1Value.html#a1e56c814d11206720cc23059b871128d">print</a>(dbg());</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;    dbg() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;  }</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;  <span class="keywordflow">return</span> HasBadSize;</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;}</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160; </div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;<span class="keywordtype">bool</span> checkDebugifyMetadata(<a class="code" href="classllvm_1_1Module.html">Module</a> &amp;M,</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;                           <a class="code" href="classllvm_1_1iterator__range.html">iterator_range&lt;Module::iterator&gt;</a> Functions,</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;                           <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> NameOfWrappedPass, <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> Banner,</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;                           <span class="keywordtype">bool</span> Strip, <a class="code" href="classllvm_1_1MapVector.html">DebugifyStatsMap</a> *StatsMap) {</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;  <span class="comment">// Skip modules without debugify metadata.</span></div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;  <a class="code" href="classllvm_1_1NamedMDNode.html">NamedMDNode</a> *NMD = <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getNamedMetadata(<span class="stringliteral">&quot;llvm.debugify&quot;</span>);</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;  <span class="keywordflow">if</span> (!NMD) {</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;    dbg() &lt;&lt; Banner &lt;&lt; <span class="stringliteral">&quot;: Skipping module without debugify metadata\n&quot;</span>;</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;  }</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160; </div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;  <span class="keyword">auto</span> getDebugifyOperand = [&amp;](<span class="keywordtype">unsigned</span> Idx) -&gt; <span class="keywordtype">unsigned</span> {</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;    <span class="keywordflow">return</span> mdconst::extract&lt;ConstantInt&gt;(NMD-&gt;<a class="code" href="classllvm_1_1NamedMDNode.html#aa24b566603d206b0e74bf63daf521078">getOperand</a>(Idx)-&gt;<a class="code" href="classllvm_1_1MDNode.html#a6cbc0453586a25c057a32161b38b8ce4">getOperand</a>(0))</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;        -&gt;getZExtValue();</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;  };</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(NMD-&gt;<a class="code" href="classllvm_1_1NamedMDNode.html#acde8007e0e69969423e2de52343b702f">getNumOperands</a>() == 2 &amp;&amp;</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;         <span class="stringliteral">&quot;llvm.debugify should have exactly 2 operands!&quot;</span>);</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;  <span class="keywordtype">unsigned</span> OriginalNumLines = getDebugifyOperand(0);</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;  <span class="keywordtype">unsigned</span> OriginalNumVars = getDebugifyOperand(1);</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;  <span class="keywordtype">bool</span> HasErrors = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160; </div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;  <span class="comment">// Track debug info loss statistics if able.</span></div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;  <a class="code" href="structDebugifyStatistics.html">DebugifyStatistics</a> *<a class="code" href="MachineBlockPlacement_8cpp.html#a086f939e29b718dc5a01e4bcfe6af2a1">Stats</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;  <span class="keywordflow">if</span> (StatsMap &amp;&amp; !NameOfWrappedPass.<a class="code" href="classllvm_1_1StringRef.html#a2dc80c585ad5882da8cae7b5968f7e74">empty</a>())</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;    <a class="code" href="MachineBlockPlacement_8cpp.html#a086f939e29b718dc5a01e4bcfe6af2a1">Stats</a> = &amp;StatsMap-&gt;operator[](NameOfWrappedPass);</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160; </div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;  <a class="code" href="classllvm_1_1BitVector.html">BitVector</a> MissingLines{OriginalNumLines, <span class="keyword">true</span>};</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;  <a class="code" href="classllvm_1_1BitVector.html">BitVector</a> MissingVars{OriginalNumVars, <span class="keyword">true</span>};</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> : Functions) {</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;    <span class="keywordflow">if</span> (isFunctionSkipped(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>))</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160; </div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;    <span class="comment">// Find missing lines.</span></div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> : <a class="code" href="namespacellvm.html#a7e3e687ddfdcbacd404bcf17b917dd88">instructions</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>)) {</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;      <span class="keywordflow">if</span> (isa&lt;DbgValueInst&gt;(&amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>))</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160; </div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;      <span class="keyword">auto</span> <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a> = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getDebugLoc();</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a> &amp;&amp; <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>.getLine() != 0) {</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;        MissingLines.reset(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>.getLine() - 1);</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;      }</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160; </div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;      <span class="keywordflow">if</span> (!isa&lt;PHINode&gt;(&amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) &amp;&amp; !<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>) {</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;        dbg() &lt;&lt; <span class="stringliteral">&quot;WARNING: Instruction with empty DebugLoc in function &quot;</span>;</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;        dbg() &lt;&lt; <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.getName() &lt;&lt; <span class="stringliteral">&quot; --&quot;</span>;</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;        <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.print(dbg());</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;        dbg() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;      }</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;    }</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160; </div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;    <span class="comment">// Find missing variables and mis-sized debug values.</span></div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> : <a class="code" href="namespacellvm.html#a7e3e687ddfdcbacd404bcf17b917dd88">instructions</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>)) {</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;      <span class="keyword">auto</span> *DVI = dyn_cast&lt;DbgValueInst&gt;(&amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;      <span class="keywordflow">if</span> (!DVI)</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160; </div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;      <span class="keywordtype">unsigned</span> Var = ~0U;</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;      (void)to_integer(DVI-&gt;<a class="code" href="classllvm_1_1DbgVariableIntrinsic.html#ac161deb2a31f78c85f94fbe0f3ba97b4">getVariable</a>()-&gt;<a class="code" href="classllvm_1_1DIVariable.html#af44724cae4bcd562972facee1cf035a5">getName</a>(), Var, 10);</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Var &lt;= OriginalNumVars &amp;&amp; <span class="stringliteral">&quot;Unexpected name for DILocalVariable&quot;</span>);</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;      <span class="keywordtype">bool</span> HasBadSize = diagnoseMisSizedDbgValue(M, DVI);</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;      <span class="keywordflow">if</span> (!HasBadSize)</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;        MissingVars.reset(Var - 1);</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;      HasErrors |= HasBadSize;</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;    }</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;  }</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160; </div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;  <span class="comment">// Print the results.</span></div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> Idx : MissingLines.set_bits())</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;    dbg() &lt;&lt; <span class="stringliteral">&quot;WARNING: Missing line &quot;</span> &lt;&lt; Idx + 1 &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160; </div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> Idx : MissingVars.set_bits())</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;    dbg() &lt;&lt; <span class="stringliteral">&quot;WARNING: Missing variable &quot;</span> &lt;&lt; Idx + 1 &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160; </div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;  <span class="comment">// Update DI loss statistics.</span></div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="MachineBlockPlacement_8cpp.html#a086f939e29b718dc5a01e4bcfe6af2a1">Stats</a>) {</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;    <a class="code" href="MachineBlockPlacement_8cpp.html#a086f939e29b718dc5a01e4bcfe6af2a1">Stats</a>-&gt;NumDbgLocsExpected += OriginalNumLines;</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;    <a class="code" href="MachineBlockPlacement_8cpp.html#a086f939e29b718dc5a01e4bcfe6af2a1">Stats</a>-&gt;NumDbgLocsMissing += MissingLines.count();</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;    <a class="code" href="MachineBlockPlacement_8cpp.html#a086f939e29b718dc5a01e4bcfe6af2a1">Stats</a>-&gt;NumDbgValuesExpected += OriginalNumVars;</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;    <a class="code" href="MachineBlockPlacement_8cpp.html#a086f939e29b718dc5a01e4bcfe6af2a1">Stats</a>-&gt;NumDbgValuesMissing += MissingVars.count();</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;  }</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160; </div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;  dbg() &lt;&lt; Banner;</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;  <span class="keywordflow">if</span> (!NameOfWrappedPass.<a class="code" href="classllvm_1_1StringRef.html#a2dc80c585ad5882da8cae7b5968f7e74">empty</a>())</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;    dbg() &lt;&lt; <span class="stringliteral">&quot; [&quot;</span> &lt;&lt; NameOfWrappedPass &lt;&lt; <span class="stringliteral">&quot;]&quot;</span>;</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;  dbg() &lt;&lt; <span class="stringliteral">&quot;: &quot;</span> &lt;&lt; (HasErrors ? <span class="stringliteral">&quot;FAIL&quot;</span> : <span class="stringliteral">&quot;PASS&quot;</span>) &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160; </div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;  <span class="comment">// Strip debugify metadata if required.</span></div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;  <span class="keywordflow">if</span> (Strip)</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a484621a748732e2f39e7a2a0058b3b07">stripDebugifyMetadata</a>(M);</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160; </div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;}</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;<span class="comment">/// ModulePass for attaching synthetic debug info to everything, used with the</span></div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;<span class="comment">/// legacy module pass manager.</span></div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;<span class="comment"></span><span class="keyword">struct </span>DebugifyModulePass : <span class="keyword">public</span> <a class="code" href="classllvm_1_1ModulePass.html">ModulePass</a> {</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;  <span class="keywordtype">bool</span> runOnModule(<a class="code" href="classllvm_1_1Module.html">Module</a> &amp;M)<span class="keyword"> override </span>{</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="Debugify_8cpp.html#a66d4f6a60a7224a7e828e9c2cfc549d6">applyDebugify</a>(M, <a class="code" href="SIWholeQuadMode_8cpp.html#a0c198437833c48138f49e3589bd08773">Mode</a>, DebugInfoBeforePass, NameOfWrappedPass);</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;  }</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160; </div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;  DebugifyModulePass(<span class="keyword">enum</span> <a class="code" href="Debugify_8h.html#a050aa76ace891cf5971722766fe14b1b">DebugifyMode</a> <a class="code" href="SIWholeQuadMode_8cpp.html#a0c198437833c48138f49e3589bd08773">Mode</a> = <a class="code" href="Debugify_8h.html#a050aa76ace891cf5971722766fe14b1ba190149ba9d0bdf2c7ceac37a3128952b">DebugifyMode::SyntheticDebugInfo</a>,</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;                     <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> NameOfWrappedPass = <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;                     <a class="code" href="structDebugInfoPerPass.html">DebugInfoPerPass</a> *DebugInfoBeforePass = <span class="keyword">nullptr</span>)</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;      : <a class="code" href="classllvm_1_1ModulePass.html">ModulePass</a>(<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>), NameOfWrappedPass(NameOfWrappedPass),</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;        DebugInfoBeforePass(DebugInfoBeforePass), <a class="code" href="SIWholeQuadMode_8cpp.html#a0c198437833c48138f49e3589bd08773">Mode</a>(<a class="code" href="SIWholeQuadMode_8cpp.html#a0c198437833c48138f49e3589bd08773">Mode</a>) {}</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160; </div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;  <span class="keywordtype">void</span> getAnalysisUsage(<a class="code" href="classllvm_1_1AnalysisUsage.html">AnalysisUsage</a> &amp;AU)<span class="keyword"> const override </span>{</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;    AU.<a class="code" href="classllvm_1_1AnalysisUsage.html#af22b06a6a4f9df80454071685a0d6a02">setPreservesAll</a>();</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;  }</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160; </div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;  <span class="keyword">static</span> <span class="keywordtype">char</span> <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>; <span class="comment">// Pass identification.</span></div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160; </div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;<span class="keyword">private</span>:</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;  <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> NameOfWrappedPass;</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;  <a class="code" href="structDebugInfoPerPass.html">DebugInfoPerPass</a> *DebugInfoBeforePass;</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;  <span class="keyword">enum</span> <a class="code" href="Debugify_8h.html#a050aa76ace891cf5971722766fe14b1b">DebugifyMode</a> <a class="code" href="SIWholeQuadMode_8cpp.html#a0c198437833c48138f49e3589bd08773">Mode</a>;</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;};</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;<span class="comment">/// FunctionPass for attaching synthetic debug info to instructions within a</span></div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;<span class="comment">/// single function, used with the legacy module pass manager.</span></div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;<span class="comment"></span><span class="keyword">struct </span>DebugifyFunctionPass : <span class="keyword">public</span> <a class="code" href="classllvm_1_1FunctionPass.html">FunctionPass</a> {</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="EntryExitInstrumenter_8cpp.html#a3985f1f39349428d17f0d2b81ebc6349">runOnFunction</a>(<a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>)<span class="keyword"> override </span>{</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="Debugify_8cpp.html#a66d4f6a60a7224a7e828e9c2cfc549d6">applyDebugify</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, <a class="code" href="SIWholeQuadMode_8cpp.html#a0c198437833c48138f49e3589bd08773">Mode</a>, DebugInfoBeforePass, NameOfWrappedPass);</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;  }</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160; </div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;  DebugifyFunctionPass(</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;      <span class="keyword">enum</span> <a class="code" href="Debugify_8h.html#a050aa76ace891cf5971722766fe14b1b">DebugifyMode</a> <a class="code" href="SIWholeQuadMode_8cpp.html#a0c198437833c48138f49e3589bd08773">Mode</a> = <a class="code" href="Debugify_8h.html#a050aa76ace891cf5971722766fe14b1ba190149ba9d0bdf2c7ceac37a3128952b">DebugifyMode::SyntheticDebugInfo</a>,</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;      <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> NameOfWrappedPass = <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;      <a class="code" href="structDebugInfoPerPass.html">DebugInfoPerPass</a> *DebugInfoBeforePass = <span class="keyword">nullptr</span>)</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;      : <a class="code" href="classllvm_1_1FunctionPass.html">FunctionPass</a>(<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>), NameOfWrappedPass(NameOfWrappedPass),</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;        DebugInfoBeforePass(DebugInfoBeforePass), <a class="code" href="SIWholeQuadMode_8cpp.html#a0c198437833c48138f49e3589bd08773">Mode</a>(<a class="code" href="SIWholeQuadMode_8cpp.html#a0c198437833c48138f49e3589bd08773">Mode</a>) {}</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160; </div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;  <span class="keywordtype">void</span> getAnalysisUsage(<a class="code" href="classllvm_1_1AnalysisUsage.html">AnalysisUsage</a> &amp;AU)<span class="keyword"> const override </span>{</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;    AU.<a class="code" href="classllvm_1_1AnalysisUsage.html#af22b06a6a4f9df80454071685a0d6a02">setPreservesAll</a>();</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;  }</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160; </div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;  <span class="keyword">static</span> <span class="keywordtype">char</span> <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>; <span class="comment">// Pass identification.</span></div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160; </div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;<span class="keyword">private</span>:</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;  <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> NameOfWrappedPass;</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;  <a class="code" href="structDebugInfoPerPass.html">DebugInfoPerPass</a> *DebugInfoBeforePass;</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;  <span class="keyword">enum</span> <a class="code" href="Debugify_8h.html#a050aa76ace891cf5971722766fe14b1b">DebugifyMode</a> <a class="code" href="SIWholeQuadMode_8cpp.html#a0c198437833c48138f49e3589bd08773">Mode</a>;</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;};</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;<span class="comment">/// ModulePass for checking debug info inserted by -debugify, used with the</span></div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;<span class="comment">/// legacy module pass manager.</span></div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;<span class="comment"></span><span class="keyword">struct </span>CheckDebugifyModulePass : <span class="keyword">public</span> <a class="code" href="classllvm_1_1ModulePass.html">ModulePass</a> {</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;  <span class="keywordtype">bool</span> runOnModule(<a class="code" href="classllvm_1_1Module.html">Module</a> &amp;M)<span class="keyword"> override </span>{</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="SIWholeQuadMode_8cpp.html#a0c198437833c48138f49e3589bd08773">Mode</a> == <a class="code" href="Debugify_8h.html#a050aa76ace891cf5971722766fe14b1ba190149ba9d0bdf2c7ceac37a3128952b">DebugifyMode::SyntheticDebugInfo</a>)</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;      <span class="keywordflow">return</span> checkDebugifyMetadata(M, <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.functions(), NameOfWrappedPass,</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;                                   <span class="stringliteral">&quot;CheckModuleDebugify&quot;</span>, Strip, StatsMap);</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a6b1daaa72630852c5b859e1410e69a55">checkDebugInfoMetadata</a>(</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;        M, <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.functions(), *DebugInfoBeforePass,</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;        <span class="stringliteral">&quot;CheckModuleDebugify (original debuginfo)&quot;</span>, NameOfWrappedPass,</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;        OrigDIVerifyBugsReportFilePath);</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;  }</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160; </div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;  CheckDebugifyModulePass(</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;      <span class="keywordtype">bool</span> Strip = <span class="keyword">false</span>, <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> NameOfWrappedPass = <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;      <a class="code" href="classllvm_1_1MapVector.html">DebugifyStatsMap</a> *StatsMap = <span class="keyword">nullptr</span>,</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;      <span class="keyword">enum</span> <a class="code" href="Debugify_8h.html#a050aa76ace891cf5971722766fe14b1b">DebugifyMode</a> <a class="code" href="SIWholeQuadMode_8cpp.html#a0c198437833c48138f49e3589bd08773">Mode</a> = <a class="code" href="Debugify_8h.html#a050aa76ace891cf5971722766fe14b1ba190149ba9d0bdf2c7ceac37a3128952b">DebugifyMode::SyntheticDebugInfo</a>,</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;      <a class="code" href="structDebugInfoPerPass.html">DebugInfoPerPass</a> *DebugInfoBeforePass = <span class="keyword">nullptr</span>,</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;      <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> OrigDIVerifyBugsReportFilePath = <span class="stringliteral">&quot;&quot;</span>)</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;      : <a class="code" href="classllvm_1_1ModulePass.html">ModulePass</a>(<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>), NameOfWrappedPass(NameOfWrappedPass),</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;        OrigDIVerifyBugsReportFilePath(OrigDIVerifyBugsReportFilePath),</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;        StatsMap(StatsMap), DebugInfoBeforePass(DebugInfoBeforePass), <a class="code" href="SIWholeQuadMode_8cpp.html#a0c198437833c48138f49e3589bd08773">Mode</a>(<a class="code" href="SIWholeQuadMode_8cpp.html#a0c198437833c48138f49e3589bd08773">Mode</a>),</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;        Strip(Strip) {}</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160; </div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;  <span class="keywordtype">void</span> getAnalysisUsage(<a class="code" href="classllvm_1_1AnalysisUsage.html">AnalysisUsage</a> &amp;AU)<span class="keyword"> const override </span>{</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;    AU.<a class="code" href="classllvm_1_1AnalysisUsage.html#af22b06a6a4f9df80454071685a0d6a02">setPreservesAll</a>();</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;  }</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160; </div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;  <span class="keyword">static</span> <span class="keywordtype">char</span> <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>; <span class="comment">// Pass identification.</span></div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160; </div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;<span class="keyword">private</span>:</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;  <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> NameOfWrappedPass;</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;  <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> OrigDIVerifyBugsReportFilePath;</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;  <a class="code" href="classllvm_1_1MapVector.html">DebugifyStatsMap</a> *StatsMap;</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;  <a class="code" href="structDebugInfoPerPass.html">DebugInfoPerPass</a> *DebugInfoBeforePass;</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;  <span class="keyword">enum</span> <a class="code" href="Debugify_8h.html#a050aa76ace891cf5971722766fe14b1b">DebugifyMode</a> <a class="code" href="SIWholeQuadMode_8cpp.html#a0c198437833c48138f49e3589bd08773">Mode</a>;</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;  <span class="keywordtype">bool</span> Strip;</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;};</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;<span class="comment">/// FunctionPass for checking debug info inserted by -debugify-function, used</span></div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;<span class="comment">/// with the legacy module pass manager.</span></div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;<span class="comment"></span><span class="keyword">struct </span>CheckDebugifyFunctionPass : <span class="keyword">public</span> <a class="code" href="classllvm_1_1FunctionPass.html">FunctionPass</a> {</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="EntryExitInstrumenter_8cpp.html#a3985f1f39349428d17f0d2b81ebc6349">runOnFunction</a>(<a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>)<span class="keyword"> override </span>{</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;    <a class="code" href="classllvm_1_1Module.html">Module</a> &amp;<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a> = *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.getParent();</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;    <span class="keyword">auto</span> FuncIt = <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.getIterator();</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="SIWholeQuadMode_8cpp.html#a0c198437833c48138f49e3589bd08773">Mode</a> == <a class="code" href="Debugify_8h.html#a050aa76ace891cf5971722766fe14b1ba190149ba9d0bdf2c7ceac37a3128952b">DebugifyMode::SyntheticDebugInfo</a>)</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;      <span class="keywordflow">return</span> checkDebugifyMetadata(M, <a class="code" href="namespacellvm.html#ad1a91b49e0c092818a0b82f6cc130a1b">make_range</a>(FuncIt, std::next(FuncIt)),</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;                                   NameOfWrappedPass, <span class="stringliteral">&quot;CheckFunctionDebugify&quot;</span>,</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;                                   Strip, StatsMap);</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a6b1daaa72630852c5b859e1410e69a55">checkDebugInfoMetadata</a>(</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;        M, <a class="code" href="namespacellvm.html#ad1a91b49e0c092818a0b82f6cc130a1b">make_range</a>(FuncIt, std::next(FuncIt)), *DebugInfoBeforePass,</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;        <span class="stringliteral">&quot;CheckFunctionDebugify (original debuginfo)&quot;</span>, NameOfWrappedPass,</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;        OrigDIVerifyBugsReportFilePath);</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;  }</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160; </div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;  CheckDebugifyFunctionPass(</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;      <span class="keywordtype">bool</span> Strip = <span class="keyword">false</span>, <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> NameOfWrappedPass = <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;      <a class="code" href="classllvm_1_1MapVector.html">DebugifyStatsMap</a> *StatsMap = <span class="keyword">nullptr</span>,</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;      <span class="keyword">enum</span> <a class="code" href="Debugify_8h.html#a050aa76ace891cf5971722766fe14b1b">DebugifyMode</a> <a class="code" href="SIWholeQuadMode_8cpp.html#a0c198437833c48138f49e3589bd08773">Mode</a> = <a class="code" href="Debugify_8h.html#a050aa76ace891cf5971722766fe14b1ba190149ba9d0bdf2c7ceac37a3128952b">DebugifyMode::SyntheticDebugInfo</a>,</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;      <a class="code" href="structDebugInfoPerPass.html">DebugInfoPerPass</a> *DebugInfoBeforePass = <span class="keyword">nullptr</span>,</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;      <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> OrigDIVerifyBugsReportFilePath = <span class="stringliteral">&quot;&quot;</span>)</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;      : <a class="code" href="classllvm_1_1FunctionPass.html">FunctionPass</a>(<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>), NameOfWrappedPass(NameOfWrappedPass),</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;        OrigDIVerifyBugsReportFilePath(OrigDIVerifyBugsReportFilePath),</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;        StatsMap(StatsMap), DebugInfoBeforePass(DebugInfoBeforePass), <a class="code" href="SIWholeQuadMode_8cpp.html#a0c198437833c48138f49e3589bd08773">Mode</a>(<a class="code" href="SIWholeQuadMode_8cpp.html#a0c198437833c48138f49e3589bd08773">Mode</a>),</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;        Strip(Strip) {}</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160; </div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;  <span class="keywordtype">void</span> getAnalysisUsage(<a class="code" href="classllvm_1_1AnalysisUsage.html">AnalysisUsage</a> &amp;AU)<span class="keyword"> const override </span>{</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;    AU.<a class="code" href="classllvm_1_1AnalysisUsage.html#af22b06a6a4f9df80454071685a0d6a02">setPreservesAll</a>();</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;  }</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160; </div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;  <span class="keyword">static</span> <span class="keywordtype">char</span> <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>; <span class="comment">// Pass identification.</span></div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160; </div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;<span class="keyword">private</span>:</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;  <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> NameOfWrappedPass;</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;  <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> OrigDIVerifyBugsReportFilePath;</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;  <a class="code" href="classllvm_1_1MapVector.html">DebugifyStatsMap</a> *StatsMap;</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;  <a class="code" href="structDebugInfoPerPass.html">DebugInfoPerPass</a> *DebugInfoBeforePass;</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;  <span class="keyword">enum</span> <a class="code" href="Debugify_8h.html#a050aa76ace891cf5971722766fe14b1b">DebugifyMode</a> <a class="code" href="SIWholeQuadMode_8cpp.html#a0c198437833c48138f49e3589bd08773">Mode</a>;</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;  <span class="keywordtype">bool</span> Strip;</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;};</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160; </div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;} <span class="comment">// end anonymous namespace</span></div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160; </div>
<div class="line"><a name="l00934"></a><span class="lineno"><a class="line" href="namespacellvm.html#a54f0d8daf79208268f6bf031ce65b16a">  934</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacellvm.html#a54f0d8daf79208268f6bf031ce65b16a">llvm::exportDebugifyStats</a>(<a class="code" href="classllvm_1_1StringRef.html">StringRef</a> Path, <span class="keyword">const</span> <a class="code" href="classllvm_1_1MapVector.html">DebugifyStatsMap</a> &amp;Map) {</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;  std::error_code EC;</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;  <a class="code" href="classllvm_1_1raw__fd__ostream.html">raw_fd_ostream</a> <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>{Path, EC};</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;  <span class="keywordflow">if</span> (EC) {</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;    <a class="code" href="namespacellvm.html#a9a7b5c68c90f85baaedaa854cc5002cc">errs</a>() &lt;&lt; <span class="stringliteral">&quot;Could not open file: &quot;</span> &lt;&lt; EC.message() &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; Path &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;  }</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160; </div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;  <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="stringliteral">&quot;Pass Name&quot;</span> &lt;&lt; <span class="charliteral">&#39;,&#39;</span> &lt;&lt; <span class="stringliteral">&quot;# of missing debug values&quot;</span> &lt;&lt; <span class="charliteral">&#39;,&#39;</span></div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;     &lt;&lt; <span class="stringliteral">&quot;# of missing locations&quot;</span> &lt;&lt; <span class="charliteral">&#39;,&#39;</span> &lt;&lt; <span class="stringliteral">&quot;Missing/Expected value ratio&quot;</span> &lt;&lt; <span class="charliteral">&#39;,&#39;</span></div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;     &lt;&lt; <span class="stringliteral">&quot;Missing/Expected location ratio&quot;</span> &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;Entry : Map) {</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;    <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> <a class="code" href="classllvm_1_1Pass.html">Pass</a> = Entry.first;</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;    <a class="code" href="structDebugifyStatistics.html">DebugifyStatistics</a> <a class="code" href="MachineBlockPlacement_8cpp.html#a086f939e29b718dc5a01e4bcfe6af2a1">Stats</a> = Entry.second;</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160; </div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;    <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <a class="code" href="classllvm_1_1Pass.html">Pass</a> &lt;&lt; <span class="charliteral">&#39;,&#39;</span> &lt;&lt; <a class="code" href="MachineBlockPlacement_8cpp.html#a086f939e29b718dc5a01e4bcfe6af2a1">Stats</a>.NumDbgValuesMissing &lt;&lt; <span class="charliteral">&#39;,&#39;</span></div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;       &lt;&lt; <a class="code" href="MachineBlockPlacement_8cpp.html#a086f939e29b718dc5a01e4bcfe6af2a1">Stats</a>.NumDbgLocsMissing &lt;&lt; <span class="charliteral">&#39;,&#39;</span> &lt;&lt; <a class="code" href="MachineBlockPlacement_8cpp.html#a086f939e29b718dc5a01e4bcfe6af2a1">Stats</a>.getMissingValueRatio() &lt;&lt; <span class="charliteral">&#39;,&#39;</span></div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;       &lt;&lt; <a class="code" href="MachineBlockPlacement_8cpp.html#a086f939e29b718dc5a01e4bcfe6af2a1">Stats</a>.getEmptyLocationRatio() &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;  }</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;}</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160; </div>
<div class="line"><a name="l00955"></a><span class="lineno"><a class="line" href="Debugify_8cpp.html#a97dc77d1e117ce57ef2f711502ed8ae4">  955</a></span>&#160;<a class="code" href="classllvm_1_1ModulePass.html">ModulePass</a> *<a class="code" href="Debugify_8cpp.html#a97dc77d1e117ce57ef2f711502ed8ae4">createDebugifyModulePass</a>(<span class="keyword">enum</span> <a class="code" href="Debugify_8h.html#a050aa76ace891cf5971722766fe14b1b">DebugifyMode</a> <a class="code" href="SIWholeQuadMode_8cpp.html#a0c198437833c48138f49e3589bd08773">Mode</a>,</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;                                     <a class="code" href="classllvm_1_1StringRef.html">llvm::StringRef</a> NameOfWrappedPass,</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;                                     <a class="code" href="structDebugInfoPerPass.html">DebugInfoPerPass</a> *DebugInfoBeforePass) {</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="SIWholeQuadMode_8cpp.html#a0c198437833c48138f49e3589bd08773">Mode</a> == <a class="code" href="Debugify_8h.html#a050aa76ace891cf5971722766fe14b1ba190149ba9d0bdf2c7ceac37a3128952b">DebugifyMode::SyntheticDebugInfo</a>)</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">new</span> DebugifyModulePass();</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="SIWholeQuadMode_8cpp.html#a0c198437833c48138f49e3589bd08773">Mode</a> == <a class="code" href="Debugify_8h.html#a050aa76ace891cf5971722766fe14b1ba991e1027ad91114d5c5c28b14ca36637">DebugifyMode::OriginalDebugInfo</a> &amp;&amp; <span class="stringliteral">&quot;Must be original mode&quot;</span>);</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">new</span> DebugifyModulePass(<a class="code" href="SIWholeQuadMode_8cpp.html#a0c198437833c48138f49e3589bd08773">Mode</a>, NameOfWrappedPass, DebugInfoBeforePass);</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;}</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160; </div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;<a class="code" href="classllvm_1_1FunctionPass.html">FunctionPass</a> *</div>
<div class="line"><a name="l00965"></a><span class="lineno"><a class="line" href="Debugify_8cpp.html#af87bb4543ed9efb387c2b3df9298ed3a">  965</a></span>&#160;<a class="code" href="Debugify_8cpp.html#af87bb4543ed9efb387c2b3df9298ed3a">createDebugifyFunctionPass</a>(<span class="keyword">enum</span> <a class="code" href="Debugify_8h.html#a050aa76ace891cf5971722766fe14b1b">DebugifyMode</a> <a class="code" href="SIWholeQuadMode_8cpp.html#a0c198437833c48138f49e3589bd08773">Mode</a>,</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;                           <a class="code" href="classllvm_1_1StringRef.html">llvm::StringRef</a> NameOfWrappedPass,</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;                           <a class="code" href="structDebugInfoPerPass.html">DebugInfoPerPass</a> *DebugInfoBeforePass) {</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="SIWholeQuadMode_8cpp.html#a0c198437833c48138f49e3589bd08773">Mode</a> == <a class="code" href="Debugify_8h.html#a050aa76ace891cf5971722766fe14b1ba190149ba9d0bdf2c7ceac37a3128952b">DebugifyMode::SyntheticDebugInfo</a>)</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">new</span> DebugifyFunctionPass();</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="SIWholeQuadMode_8cpp.html#a0c198437833c48138f49e3589bd08773">Mode</a> == <a class="code" href="Debugify_8h.html#a050aa76ace891cf5971722766fe14b1ba991e1027ad91114d5c5c28b14ca36637">DebugifyMode::OriginalDebugInfo</a> &amp;&amp; <span class="stringliteral">&quot;Must be original mode&quot;</span>);</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">new</span> DebugifyFunctionPass(<a class="code" href="SIWholeQuadMode_8cpp.html#a0c198437833c48138f49e3589bd08773">Mode</a>, NameOfWrappedPass, DebugInfoBeforePass);</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;}</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160; </div>
<div class="line"><a name="l00974"></a><span class="lineno"><a class="line" href="classNewPMDebugifyPass.html#a3467f1430bf7b9dd04778821d779bf96">  974</a></span>&#160;<a class="code" href="classllvm_1_1PreservedAnalyses.html">PreservedAnalyses</a> <a class="code" href="classNewPMDebugifyPass.html#a3467f1430bf7b9dd04778821d779bf96">NewPMDebugifyPass::run</a>(<a class="code" href="classllvm_1_1Module.html">Module</a> &amp;M, <a class="code" href="classllvm_1_1AnalysisManager.html">ModuleAnalysisManager</a> &amp;) {</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="SIWholeQuadMode_8cpp.html#a0c198437833c48138f49e3589bd08773">Mode</a> == <a class="code" href="Debugify_8h.html#a050aa76ace891cf5971722766fe14b1ba190149ba9d0bdf2c7ceac37a3128952b">DebugifyMode::SyntheticDebugInfo</a>)</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;    <a class="code" href="namespacellvm.html#a27c57b81140fb6e76287d86c509023e7">applyDebugifyMetadata</a>(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>, <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.functions(),</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;                          <span class="stringliteral">&quot;ModuleDebugify: &quot;</span>, <span class="comment">/*ApplyToMF*/</span> <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;    <a class="code" href="namespacellvm.html#a5e556eb90cea56b01be517fbf549fd84">collectDebugInfoMetadata</a>(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>, <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.functions(), *DebugInfoBeforePass,</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;                             <span class="stringliteral">&quot;ModuleDebugify (original debuginfo)&quot;</span>,</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;                              NameOfWrappedPass);</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1PreservedAnalyses.html#a1258a1ff55557c27684010ebd7283712">PreservedAnalyses::all</a>();</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;}</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160; </div>
<div class="line"><a name="l00985"></a><span class="lineno"><a class="line" href="Debugify_8cpp.html#ae523e32b9aff5ef8ccdd49c52081c8cc">  985</a></span>&#160;<a class="code" href="classllvm_1_1ModulePass.html">ModulePass</a> *<a class="code" href="Debugify_8cpp.html#ae523e32b9aff5ef8ccdd49c52081c8cc">createCheckDebugifyModulePass</a>(</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;    <span class="keywordtype">bool</span> Strip, <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> NameOfWrappedPass, <a class="code" href="classllvm_1_1MapVector.html">DebugifyStatsMap</a> *StatsMap,</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;    <span class="keyword">enum</span> <a class="code" href="Debugify_8h.html#a050aa76ace891cf5971722766fe14b1b">DebugifyMode</a> <a class="code" href="SIWholeQuadMode_8cpp.html#a0c198437833c48138f49e3589bd08773">Mode</a>, <a class="code" href="structDebugInfoPerPass.html">DebugInfoPerPass</a> *DebugInfoBeforePass,</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;    <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> OrigDIVerifyBugsReportFilePath) {</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="SIWholeQuadMode_8cpp.html#a0c198437833c48138f49e3589bd08773">Mode</a> == <a class="code" href="Debugify_8h.html#a050aa76ace891cf5971722766fe14b1ba190149ba9d0bdf2c7ceac37a3128952b">DebugifyMode::SyntheticDebugInfo</a>)</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">new</span> CheckDebugifyModulePass(Strip, NameOfWrappedPass, StatsMap);</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="SIWholeQuadMode_8cpp.html#a0c198437833c48138f49e3589bd08773">Mode</a> == <a class="code" href="Debugify_8h.html#a050aa76ace891cf5971722766fe14b1ba991e1027ad91114d5c5c28b14ca36637">DebugifyMode::OriginalDebugInfo</a> &amp;&amp; <span class="stringliteral">&quot;Must be original mode&quot;</span>);</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">new</span> CheckDebugifyModulePass(<span class="keyword">false</span>, NameOfWrappedPass, <span class="keyword">nullptr</span>, <a class="code" href="SIWholeQuadMode_8cpp.html#a0c198437833c48138f49e3589bd08773">Mode</a>,</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;                                     DebugInfoBeforePass,</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;                                     OrigDIVerifyBugsReportFilePath);</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;}</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160; </div>
<div class="line"><a name="l00997"></a><span class="lineno"><a class="line" href="Debugify_8cpp.html#a64384a13844163eed0191f8a86326ab0">  997</a></span>&#160;<a class="code" href="classllvm_1_1FunctionPass.html">FunctionPass</a> *<a class="code" href="Debugify_8cpp.html#a64384a13844163eed0191f8a86326ab0">createCheckDebugifyFunctionPass</a>(</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;    <span class="keywordtype">bool</span> Strip, <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> NameOfWrappedPass, <a class="code" href="classllvm_1_1MapVector.html">DebugifyStatsMap</a> *StatsMap,</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;    <span class="keyword">enum</span> <a class="code" href="Debugify_8h.html#a050aa76ace891cf5971722766fe14b1b">DebugifyMode</a> <a class="code" href="SIWholeQuadMode_8cpp.html#a0c198437833c48138f49e3589bd08773">Mode</a>, <a class="code" href="structDebugInfoPerPass.html">DebugInfoPerPass</a> *DebugInfoBeforePass,</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;    <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> OrigDIVerifyBugsReportFilePath) {</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="SIWholeQuadMode_8cpp.html#a0c198437833c48138f49e3589bd08773">Mode</a> == <a class="code" href="Debugify_8h.html#a050aa76ace891cf5971722766fe14b1ba190149ba9d0bdf2c7ceac37a3128952b">DebugifyMode::SyntheticDebugInfo</a>)</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">new</span> CheckDebugifyFunctionPass(Strip, NameOfWrappedPass, StatsMap);</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="SIWholeQuadMode_8cpp.html#a0c198437833c48138f49e3589bd08773">Mode</a> == <a class="code" href="Debugify_8h.html#a050aa76ace891cf5971722766fe14b1ba991e1027ad91114d5c5c28b14ca36637">DebugifyMode::OriginalDebugInfo</a> &amp;&amp; <span class="stringliteral">&quot;Must be original mode&quot;</span>);</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">new</span> CheckDebugifyFunctionPass(<span class="keyword">false</span>, NameOfWrappedPass, <span class="keyword">nullptr</span>, <a class="code" href="SIWholeQuadMode_8cpp.html#a0c198437833c48138f49e3589bd08773">Mode</a>,</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;                                       DebugInfoBeforePass,</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;                                       OrigDIVerifyBugsReportFilePath);</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;}</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160; </div>
<div class="line"><a name="l01009"></a><span class="lineno"><a class="line" href="classNewPMCheckDebugifyPass.html#adb7be1f4b6e4efe53465ff24bc980b5a"> 1009</a></span>&#160;<a class="code" href="classllvm_1_1PreservedAnalyses.html">PreservedAnalyses</a> <a class="code" href="classNewPMCheckDebugifyPass.html#adb7be1f4b6e4efe53465ff24bc980b5a">NewPMCheckDebugifyPass::run</a>(<a class="code" href="classllvm_1_1Module.html">Module</a> &amp;M,</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;                                              <a class="code" href="classllvm_1_1AnalysisManager.html">ModuleAnalysisManager</a> &amp;) {</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="SIWholeQuadMode_8cpp.html#a0c198437833c48138f49e3589bd08773">Mode</a> == <a class="code" href="Debugify_8h.html#a050aa76ace891cf5971722766fe14b1ba190149ba9d0bdf2c7ceac37a3128952b">DebugifyMode::SyntheticDebugInfo</a>)</div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;    checkDebugifyMetadata(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>, <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.functions(), NameOfWrappedPass,</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;                                   <span class="stringliteral">&quot;CheckModuleDebugify&quot;</span>, Strip, StatsMap);</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;    <a class="code" href="namespacellvm.html#a6b1daaa72630852c5b859e1410e69a55">checkDebugInfoMetadata</a>(</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;      <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>, <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.functions(), *DebugInfoBeforePass,</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;      <span class="stringliteral">&quot;CheckModuleDebugify (original debuginfo)&quot;</span>, NameOfWrappedPass,</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;      OrigDIVerifyBugsReportFilePath);</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1PreservedAnalyses.html#a1258a1ff55557c27684010ebd7283712">PreservedAnalyses::all</a>();</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;}</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160; </div>
<div class="line"><a name="l01022"></a><span class="lineno"><a class="line" href="Debugify_8cpp.html#a231878fa1de6982e31d9e18283e70878"> 1022</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="Debugify_8cpp.html#a231878fa1de6982e31d9e18283e70878">isIgnoredPass</a>(<a class="code" href="classllvm_1_1StringRef.html">StringRef</a> PassID) {</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a88d6a2d221777b8376bde5d860a219d1">isSpecialPass</a>(PassID, {<span class="stringliteral">&quot;PassManager&quot;</span>, <span class="stringliteral">&quot;PassAdaptor&quot;</span>,</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;                                <span class="stringliteral">&quot;AnalysisManagerProxy&quot;</span>, <span class="stringliteral">&quot;PrintFunctionPass&quot;</span>,</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;                                <span class="stringliteral">&quot;PrintModulePass&quot;</span>, <span class="stringliteral">&quot;BitcodeWriterPass&quot;</span>,</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;                                <span class="stringliteral">&quot;ThinLTOBitcodeWriterPass&quot;</span>, <span class="stringliteral">&quot;VerifierPass&quot;</span>});</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;}</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160; </div>
<div class="line"><a name="l01029"></a><span class="lineno"><a class="line" href="classllvm_1_1DebugifyEachInstrumentation.html#afe7311f1fb0df8efaae9943f6c59176c"> 1029</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1DebugifyEachInstrumentation.html#afe7311f1fb0df8efaae9943f6c59176c">DebugifyEachInstrumentation::registerCallbacks</a>(</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;    <a class="code" href="classllvm_1_1PassInstrumentationCallbacks.html">PassInstrumentationCallbacks</a> &amp;<a class="code" href="PassBuilderBindings_8cpp.html#ad4d247df65c12507f447383be37d7ccb">PIC</a>) {</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;  <a class="code" href="PassBuilderBindings_8cpp.html#ad4d247df65c12507f447383be37d7ccb">PIC</a>.<a class="code" href="classllvm_1_1PassInstrumentationCallbacks.html#a52cef142a27a5e65bca2c7b38164dcce">registerBeforeNonSkippedPassCallback</a>([<span class="keyword">this</span>](<a class="code" href="classllvm_1_1StringRef.html">StringRef</a> <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>, <a class="code" href="classllvm_1_1Any.html">Any</a> <a class="code" href="Lint_8cpp.html#a7fb3c9caadeb0f7fe4828d380158d0f9">IR</a>) {</div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="Debugify_8cpp.html#a231878fa1de6982e31d9e18283e70878">isIgnoredPass</a>(<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>))</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> **<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> = any_cast&lt;const Function *&gt;(&amp;<a class="code" href="Lint_8cpp.html#a7fb3c9caadeb0f7fe4828d380158d0f9">IR</a>))</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;      <a class="code" href="Debugify_8cpp.html#a66d4f6a60a7224a7e828e9c2cfc549d6">applyDebugify</a>(*<span class="keyword">const_cast&lt;</span><a class="code" href="classllvm_1_1Function.html">Function</a> *<span class="keyword">&gt;</span>(*<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>),</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;                    Mode, DebugInfoBeforePass, <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>);</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> **<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a> = any_cast&lt;const Module *&gt;(&amp;<a class="code" href="Lint_8cpp.html#a7fb3c9caadeb0f7fe4828d380158d0f9">IR</a>))</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;      <a class="code" href="Debugify_8cpp.html#a66d4f6a60a7224a7e828e9c2cfc549d6">applyDebugify</a>(*<span class="keyword">const_cast&lt;</span><a class="code" href="classllvm_1_1Module.html">Module</a> *<span class="keyword">&gt;</span>(*<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>),</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;                    Mode, DebugInfoBeforePass, <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>);</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;  });</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;  <a class="code" href="PassBuilderBindings_8cpp.html#ad4d247df65c12507f447383be37d7ccb">PIC</a>.<a class="code" href="classllvm_1_1PassInstrumentationCallbacks.html#affcb37cf440a3ee656caec2c5333fa9f">registerAfterPassCallback</a>([<span class="keyword">this</span>](<a class="code" href="classllvm_1_1StringRef.html">StringRef</a> <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>, <a class="code" href="classllvm_1_1Any.html">Any</a> <a class="code" href="Lint_8cpp.html#a7fb3c9caadeb0f7fe4828d380158d0f9">IR</a>,</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;                                       <span class="keyword">const</span> <a class="code" href="classllvm_1_1PreservedAnalyses.html">PreservedAnalyses</a> &amp;PassPA) {</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="Debugify_8cpp.html#a231878fa1de6982e31d9e18283e70878">isIgnoredPass</a>(<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>))</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> **CF = any_cast&lt;const Function *&gt;(&amp;<a class="code" href="Lint_8cpp.html#a7fb3c9caadeb0f7fe4828d380158d0f9">IR</a>)) {</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;      <span class="keyword">auto</span> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> = *<span class="keyword">const_cast&lt;</span><a class="code" href="classllvm_1_1Function.html">Function</a> *<span class="keyword">&gt;</span>(*CF);</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;      <a class="code" href="classllvm_1_1Module.html">Module</a> &amp;<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a> = *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.getParent();</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;      <span class="keyword">auto</span> It = <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.getIterator();</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;      <span class="keywordflow">if</span> (Mode == <a class="code" href="Debugify_8h.html#a050aa76ace891cf5971722766fe14b1ba190149ba9d0bdf2c7ceac37a3128952b">DebugifyMode::SyntheticDebugInfo</a>)</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;        checkDebugifyMetadata(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>, <a class="code" href="namespacellvm.html#ad1a91b49e0c092818a0b82f6cc130a1b">make_range</a>(It, std::next(It)), <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>,</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;                              <span class="stringliteral">&quot;CheckFunctionDebugify&quot;</span>, <span class="comment">/*Strip=*/</span><span class="keyword">true</span>, DIStatsMap);</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;        <a class="code" href="namespacellvm.html#a6b1daaa72630852c5b859e1410e69a55">checkDebugInfoMetadata</a>(</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;          <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>, <a class="code" href="namespacellvm.html#ad1a91b49e0c092818a0b82f6cc130a1b">make_range</a>(It, std::next(It)), *DebugInfoBeforePass,</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;          <span class="stringliteral">&quot;CheckModuleDebugify (original debuginfo)&quot;</span>,</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;          <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>, OrigDIVerifyBugsReportFilePath);</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> **CM = any_cast&lt;const Module *&gt;(&amp;<a class="code" href="Lint_8cpp.html#a7fb3c9caadeb0f7fe4828d380158d0f9">IR</a>)) {</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;      <span class="keyword">auto</span> &amp;<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a> = *<span class="keyword">const_cast&lt;</span><a class="code" href="classllvm_1_1Module.html">Module</a> *<span class="keyword">&gt;</span>(*CM);</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;      <span class="keywordflow">if</span> (Mode == <a class="code" href="Debugify_8h.html#a050aa76ace891cf5971722766fe14b1ba190149ba9d0bdf2c7ceac37a3128952b">DebugifyMode::SyntheticDebugInfo</a>)</div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;       checkDebugifyMetadata(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>, <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.functions(), <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>, <span class="stringliteral">&quot;CheckModuleDebugify&quot;</span>,</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;                            <span class="comment">/*Strip=*/</span><span class="keyword">true</span>, DIStatsMap);</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;        <a class="code" href="namespacellvm.html#a6b1daaa72630852c5b859e1410e69a55">checkDebugInfoMetadata</a>(</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;          <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>, <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.functions(), *DebugInfoBeforePass,</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;          <span class="stringliteral">&quot;CheckModuleDebugify (original debuginfo)&quot;</span>,</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;          <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>, OrigDIVerifyBugsReportFilePath);</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;    }</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;  });</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;}</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160; </div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;<span class="keywordtype">char</span> <a class="code" href="namespacellvm_1_1AArch64PACKey.html#abf4394f452bde3f544999858d71e4b46">DebugifyModulePass::ID</a> = 0;</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;<span class="keyword">static</span> <a class="code" href="structllvm_1_1RegisterPass.html">RegisterPass&lt;DebugifyModulePass&gt;</a> <a class="code" href="Debugify_8cpp.html#af9789b2b42dddd5d748886c41d48a17f">DM</a>(<span class="stringliteral">&quot;debugify&quot;</span>,</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;                                           <span class="stringliteral">&quot;Attach debug info to everything&quot;</span>);</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160; </div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;<span class="keywordtype">char</span> <a class="code" href="namespacellvm_1_1AArch64PACKey.html#abf4394f452bde3f544999858d71e4b46">CheckDebugifyModulePass::ID</a> = 0;</div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;<span class="keyword">static</span> <a class="code" href="structllvm_1_1RegisterPass.html">RegisterPass&lt;CheckDebugifyModulePass&gt;</a></div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;    <a class="code" href="Debugify_8cpp.html#a6973678cd5309a008b0bc635ad230115">CDM</a>(<span class="stringliteral">&quot;check-debugify&quot;</span>, <span class="stringliteral">&quot;Check debug info from -debugify&quot;</span>);</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160; </div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;<span class="keywordtype">char</span> <a class="code" href="namespacellvm_1_1AArch64PACKey.html#abf4394f452bde3f544999858d71e4b46">DebugifyFunctionPass::ID</a> = 0;</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;<span class="keyword">static</span> <a class="code" href="structllvm_1_1RegisterPass.html">RegisterPass&lt;DebugifyFunctionPass&gt;</a> <a class="code" href="Debugify_8cpp.html#a993c6c27e31cbf36d079971889f3e015">DF</a>(<span class="stringliteral">&quot;debugify-function&quot;</span>,</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;                                             <span class="stringliteral">&quot;Attach debug info to a function&quot;</span>);</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160; </div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;<span class="keywordtype">char</span> <a class="code" href="namespacellvm_1_1AArch64PACKey.html#abf4394f452bde3f544999858d71e4b46">CheckDebugifyFunctionPass::ID</a> = 0;</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;<span class="keyword">static</span> <a class="code" href="structllvm_1_1RegisterPass.html">RegisterPass&lt;CheckDebugifyFunctionPass&gt;</a></div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;    <a class="code" href="Debugify_8cpp.html#a88d846cfa4a7a5f328cafa19acffc9e4">CDF</a>(<span class="stringliteral">&quot;check-debugify-function&quot;</span>, <span class="stringliteral">&quot;Check debug info from -debugify-function&quot;</span>);</div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="anamespacellvm_1_1Check_html_a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396"><div class="ttname"><a href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">llvm::Check::Size</a></div><div class="ttdeci">@ Size</div><div class="ttdef"><b>Definition:</b> <a href="FileCheck_8h_source.html#l00077">FileCheck.h:77</a></div></div>
<div class="ttc" id="astructllvm_1_1RegisterPass_html"><div class="ttname"><a href="structllvm_1_1RegisterPass.html">llvm::RegisterPass</a></div><div class="ttdoc">RegisterPass&lt;t&gt; template - This template class is used to notify the system that a Pass is available ...</div><div class="ttdef"><b>Definition:</b> <a href="PassSupport_8h_source.html#l00109">PassSupport.h:109</a></div></div>
<div class="ttc" id="aclassllvm_1_1PreservedAnalyses_html"><div class="ttname"><a href="classllvm_1_1PreservedAnalyses.html">llvm::PreservedAnalyses</a></div><div class="ttdoc">A set of analyses that are preserved following a run of a transformation pass.</div><div class="ttdef"><b>Definition:</b> <a href="PassManager_8h_source.html#l00152">PassManager.h:152</a></div></div>
<div class="ttc" id="aNVVMIntrRange_8cpp_html_abc8aecb5b627f6a91fc2fb09762d2a41"><div class="ttname"><a href="NVVMIntrRange_8cpp.html#abc8aecb5b627f6a91fc2fb09762d2a41">Int32Ty</a></div><div class="ttdeci">IntegerType * Int32Ty</div><div class="ttdef"><b>Definition:</b> <a href="NVVMIntrRange_8cpp_source.html#l00067">NVVMIntrRange.cpp:67</a></div></div>
<div class="ttc" id="aclassllvm_1_1DbgVariableIntrinsic_html_a2d4581b2568be7db21e47f096ffd6df8"><div class="ttname"><a href="classllvm_1_1DbgVariableIntrinsic.html#a2d4581b2568be7db21e47f096ffd6df8">llvm::DbgVariableIntrinsic::getExpression</a></div><div class="ttdeci">DIExpression * getExpression() const</div><div class="ttdef"><b>Definition:</b> <a href="IntrinsicInst_8h_source.html#l00292">IntrinsicInst.h:292</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_a8ad67a33bae235fe3cca1c3e5a91ed2d"><div class="ttname"><a href="classllvm_1_1Type.html#a8ad67a33bae235fe3cca1c3e5a91ed2d">llvm::Type::isSized</a></div><div class="ttdeci">bool isSized(SmallPtrSetImpl&lt; Type * &gt; *Visited=nullptr) const</div><div class="ttdoc">Return true if it makes sense to take the size of this type.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00295">Type.h:295</a></div></div>
<div class="ttc" id="aDebugify_8cpp_html_a88d846cfa4a7a5f328cafa19acffc9e4"><div class="ttname"><a href="Debugify_8cpp.html#a88d846cfa4a7a5f328cafa19acffc9e4">CDF</a></div><div class="ttdeci">static RegisterPass&lt; CheckDebugifyFunctionPass &gt; CDF(&quot;check-debugify-function&quot;, &quot;Check debug info from -debugify-function&quot;)</div></div>
<div class="ttc" id="aProvenanceAnalysisEvaluator_8cpp_html_a2ee79648e8bce3ddbb26358ff10e3e82"><div class="ttname"><a href="ProvenanceAnalysisEvaluator_8cpp.html#a2ee79648e8bce3ddbb26358ff10e3e82">getName</a></div><div class="ttdeci">static StringRef getName(Value *V)</div><div class="ttdef"><b>Definition:</b> <a href="ProvenanceAnalysisEvaluator_8cpp_source.html#l00020">ProvenanceAnalysisEvaluator.cpp:20</a></div></div>
<div class="ttc" id="anamespacellvm_html_a9b2f025559a0b80366b74285cf25c01e"><div class="ttname"><a href="namespacellvm.html#a9b2f025559a0b80366b74285cf25c01e">llvm::StripDebugInfo</a></div><div class="ttdeci">bool StripDebugInfo(Module &amp;M)</div><div class="ttdoc">Strip debug info in the module if it exists.</div><div class="ttdef"><b>Definition:</b> <a href="DebugInfo_8cpp_source.html#l00557">DebugInfo.cpp:557</a></div></div>
<div class="ttc" id="aclassllvm_1_1json_1_1Value_html"><div class="ttname"><a href="classllvm_1_1json_1_1Value.html">llvm::json::Value</a></div><div class="ttdoc">A Value is an JSON value of unknown type.</div><div class="ttdef"><b>Definition:</b> <a href="JSON_8h_source.html#l00282">JSON.h:282</a></div></div>
<div class="ttc" id="anamespacellvm_html"><div class="ttname"><a href="namespacellvm.html">llvm</a></div><div class="ttdoc">This is an optimization pass for GlobalISel generic memory operations.</div><div class="ttdef"><b>Definition:</b> <a href="AddressRanges_8h_source.html#l00018">AddressRanges.h:18</a></div></div>
<div class="ttc" id="aclassllvm_1_1DIType_html"><div class="ttname"><a href="classllvm_1_1DIType.html">llvm::DIType</a></div><div class="ttdoc">Base class for types.</div><div class="ttdef"><b>Definition:</b> <a href="DebugInfoMetadata_8h_source.html#l00697">DebugInfoMetadata.h:697</a></div></div>
<div class="ttc" id="alib_2Target_2X86_2README_8txt_html_ac88fe1d3a61b056a4f64fbbb156a62ff"><div class="ttname"><a href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a></div><div class="ttdeci">We currently emits eax Perhaps this is what we really should generate is Is imull three or four cycles eax eax The current instruction priority is based on pattern complexity The former is more complex because it folds a load so the latter will not be emitted Perhaps we should use AddedComplexity to give LEA32r a higher priority We should always try to match LEA first since the LEA matching code does some estimate to determine whether the match is profitable if we care more about code then imull is better It s two bytes shorter than movl leal On a Pentium M</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2X86_2README_8txt_source.html#l00252">README.txt:252</a></div></div>
<div class="ttc" id="aclassllvm_1_1DIBuilder_html_abf27ce323516bd289ce53d2e241581fc"><div class="ttname"><a href="classllvm_1_1DIBuilder.html#abf27ce323516bd289ce53d2e241581fc">llvm::DIBuilder::getOrCreateTypeArray</a></div><div class="ttdeci">DITypeRefArray getOrCreateTypeArray(ArrayRef&lt; Metadata * &gt; Elements)</div><div class="ttdoc">Get a DITypeRefArray, create one if required.</div><div class="ttdef"><b>Definition:</b> <a href="DIBuilder_8cpp_source.html#l00689">DIBuilder.cpp:689</a></div></div>
<div class="ttc" id="anamespacellvm_html_ad1a91b49e0c092818a0b82f6cc130a1b"><div class="ttname"><a href="namespacellvm.html#ad1a91b49e0c092818a0b82f6cc130a1b">llvm::make_range</a></div><div class="ttdeci">iterator_range&lt; T &gt; make_range(T x, T y)</div><div class="ttdoc">Convenience function for iterating over sub-ranges.</div><div class="ttdef"><b>Definition:</b> <a href="iterator__range_8h_source.html#l00053">iterator_range.h:53</a></div></div>
<div class="ttc" id="aclassllvm_1_1NamedMDNode_html"><div class="ttname"><a href="classllvm_1_1NamedMDNode.html">llvm::NamedMDNode</a></div><div class="ttdoc">A tuple of MDNodes.</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l01587">Metadata.h:1587</a></div></div>
<div class="ttc" id="aclassllvm_1_1DIBuilder_html_a138b93205c71960aa94763a1081c50e9"><div class="ttname"><a href="classllvm_1_1DIBuilder.html#a138b93205c71960aa94763a1081c50e9">llvm::DIBuilder::finalize</a></div><div class="ttdeci">void finalize()</div><div class="ttdoc">Construct any deferred debug info descriptors.</div><div class="ttdef"><b>Definition:</b> <a href="DIBuilder_8cpp_source.html#l00079">DIBuilder.cpp:79</a></div></div>
<div class="ttc" id="aDebugify_8h_html_a050aa76ace891cf5971722766fe14b1b"><div class="ttname"><a href="Debugify_8h.html#a050aa76ace891cf5971722766fe14b1b">DebugifyMode</a></div><div class="ttdeci">DebugifyMode</div><div class="ttdoc">Used to check whether we track synthetic or original debug info.</div><div class="ttdef"><b>Definition:</b> <a href="Debugify_8h_source.html#l00093">Debugify.h:93</a></div></div>
<div class="ttc" id="aFileSystem_8h_html"><div class="ttname"><a href="FileSystem_8h.html">FileSystem.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AArch64PACKey_html_abf4394f452bde3f544999858d71e4b46"><div class="ttname"><a href="namespacellvm_1_1AArch64PACKey.html#abf4394f452bde3f544999858d71e4b46">llvm::AArch64PACKey::ID</a></div><div class="ttdeci">ID</div><div class="ttdef"><b>Definition:</b> <a href="AArch64BaseInfo_8h_source.html#l00790">AArch64BaseInfo.h:790</a></div></div>
<div class="ttc" id="aclassllvm_1_1NamedMDNode_html_acde8007e0e69969423e2de52343b702f"><div class="ttname"><a href="classllvm_1_1NamedMDNode.html#acde8007e0e69969423e2de52343b702f">llvm::NamedMDNode::getNumOperands</a></div><div class="ttdeci">unsigned getNumOperands() const</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8cpp_source.html#l01211">Metadata.cpp:1211</a></div></div>
<div class="ttc" id="aclassllvm_1_1BasicBlock_html_a98c0a84a5dfa8bce341c829709f171e5"><div class="ttname"><a href="classllvm_1_1BasicBlock.html#a98c0a84a5dfa8bce341c829709f171e5">llvm::BasicBlock::iterator</a></div><div class="ttdeci">InstListType::iterator iterator</div><div class="ttdoc">Instruction iterators...</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8h_source.html#l00087">BasicBlock.h:87</a></div></div>
<div class="ttc" id="aclassllvm_1_1ModulePass_html"><div class="ttname"><a href="classllvm_1_1ModulePass.html">llvm::ModulePass</a></div><div class="ttdoc">ModulePass class - This class is used to implement unstructured interprocedural optimizations and ana...</div><div class="ttdef"><b>Definition:</b> <a href="Pass_8h_source.html#l00248">Pass.h:248</a></div></div>
<div class="ttc" id="aIntrinsicInst_8h_html"><div class="ttname"><a href="IntrinsicInst_8h.html">IntrinsicInst.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1DIBuilder_html"><div class="ttname"><a href="classllvm_1_1DIBuilder.html">llvm::DIBuilder</a></div><div class="ttdef"><b>Definition:</b> <a href="DIBuilder_8h_source.html#l00042">DIBuilder.h:42</a></div></div>
<div class="ttc" id="aInstIterator_8h_html"><div class="ttname"><a href="InstIterator_8h.html">InstIterator.h</a></div></div>
<div class="ttc" id="aDebugify_8h_html"><div class="ttname"><a href="Debugify_8h.html">Debugify.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1Function_html"><div class="ttname"><a href="classllvm_1_1Function.html">llvm::Function</a></div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00059">Function.h:59</a></div></div>
<div class="ttc" id="aclassllvm_1_1DIBuilder_html_a2e5c0418b92861c5387f5f60b60ef614"><div class="ttname"><a href="classllvm_1_1DIBuilder.html#a2e5c0418b92861c5387f5f60b60ef614">llvm::DIBuilder::finalizeSubprogram</a></div><div class="ttdeci">void finalizeSubprogram(DISubprogram *SP)</div><div class="ttdoc">Finalize a specific subprogram - no new variables may be added to this subprogram afterwards.</div><div class="ttdef"><b>Definition:</b> <a href="DIBuilder_8cpp_source.html#l00059">DIBuilder.cpp:59</a></div></div>
<div class="ttc" id="aclassllvm_1_1json_1_1Array_html_abfba9de6df7929237de250fe012b6cb0"><div class="ttname"><a href="classllvm_1_1json_1_1Array.html#abfba9de6df7929237de250fe012b6cb0">llvm::json::Array::empty</a></div><div class="ttdeci">bool empty() const</div><div class="ttdef"><b>Definition:</b> <a href="JSON_8h_source.html#l00526">JSON.h:526</a></div></div>
<div class="ttc" id="aREADME-SSE_8txt_html_a63d206a063eefcdf8c318ded97b65020"><div class="ttname"><a href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a></div><div class="ttdeci">This currently compiles esp xmm0 movsd esp eax eax esp ret We should use not the dag combiner This is because dagcombine2 needs to be able to see through the X86ISD::Wrapper which DAGCombine can t really do The code for turning x load into a single vector load is target independent and should be moved to the dag combiner The code for turning x load into a vector load can only handle a direct load from a global or a direct load from the stack It should be generalized to handle any load from P</div><div class="ttdef"><b>Definition:</b> <a href="README-SSE_8txt_source.html#l00411">README-SSE.txt:411</a></div></div>
<div class="ttc" id="aPass_8h_html"><div class="ttname"><a href="Pass_8h.html">Pass.h</a></div></div>
<div class="ttc" id="aDebugify_8cpp_html_ac398fa604fb57503d55fd556af91e41a"><div class="ttname"><a href="Debugify_8cpp.html#ac398fa604fb57503d55fd556af91e41a">checkFunctions</a></div><div class="ttdeci">static bool checkFunctions(const DebugFnMap &amp;DIFunctionsBefore, const DebugFnMap &amp;DIFunctionsAfter, StringRef NameOfWrappedPass, StringRef FileNameFromCU, bool ShouldWriteIntoJSON, llvm::json::Array &amp;Bugs)</div><div class="ttdef"><b>Definition:</b> <a href="Debugify_8cpp_source.html#l00375">Debugify.cpp:375</a></div></div>
<div class="ttc" id="aDebugify_8cpp_html_af9789b2b42dddd5d748886c41d48a17f"><div class="ttname"><a href="Debugify_8cpp.html#af9789b2b42dddd5d748886c41d48a17f">DM</a></div><div class="ttdeci">static RegisterPass&lt; DebugifyModulePass &gt; DM(&quot;debugify&quot;, &quot;Attach debug info to everything&quot;)</div></div>
<div class="ttc" id="aclassllvm_1_1PassInstrumentationCallbacks_html_a52cef142a27a5e65bca2c7b38164dcce"><div class="ttname"><a href="classllvm_1_1PassInstrumentationCallbacks.html#a52cef142a27a5e65bca2c7b38164dcce">llvm::PassInstrumentationCallbacks::registerBeforeNonSkippedPassCallback</a></div><div class="ttdeci">void registerBeforeNonSkippedPassCallback(CallableT C)</div><div class="ttdef"><b>Definition:</b> <a href="PassInstrumentation_8h_source.html#l00106">PassInstrumentation.h:106</a></div></div>
<div class="ttc" id="anamespacellvm_html_a0d9d5328bc7a7ba4906fb7a366cc9a32a098753f8980036f4b936e3d4b6997111"><div class="ttname"><a href="namespacellvm.html#a0d9d5328bc7a7ba4906fb7a366cc9a32a098753f8980036f4b936e3d4b6997111">llvm::ChangePrinter::Quiet</a></div><div class="ttdeci">@ Quiet</div></div>
<div class="ttc" id="anamespacellvm_1_1lltok_html_af353621f14cb4b4b3af5ffaff84076b1ae36e00240f3d66893bba6244f341872b"><div class="ttname"><a href="namespacellvm_1_1lltok.html#af353621f14cb4b4b3af5ffaff84076b1ae36e00240f3d66893bba6244f341872b">llvm::lltok::LocalVar</a></div><div class="ttdeci">@ LocalVar</div><div class="ttdef"><b>Definition:</b> <a href="LLToken_8h_source.html#l00442">LLToken.h:442</a></div></div>
<div class="ttc" id="aclassllvm_1_1Function_html_a8969dec86d24dd579f8ecc963e1dc8b4"><div class="ttname"><a href="classllvm_1_1Function.html#a8969dec86d24dd579f8ecc963e1dc8b4">llvm::Function::eraseFromParent</a></div><div class="ttdeci">void eraseFromParent()</div><div class="ttdoc">eraseFromParent - This method unlinks 'this' from the containing module and deletes it.</div><div class="ttdef"><b>Definition:</b> <a href="Function_8cpp_source.html#l00362">Function.cpp:362</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVector_html"><div class="ttname"><a href="classllvm_1_1SmallVector.html">llvm::SmallVector</a></div><div class="ttdoc">This is a 'vector' (really, a variable-sized array), optimized for the case when the array is small.</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l01199">SmallVector.h:1199</a></div></div>
<div class="ttc" id="astructDebugInfoPerPass_html_a9e1b06ef29af916f5cefad78589036aa"><div class="ttname"><a href="structDebugInfoPerPass.html#a9e1b06ef29af916f5cefad78589036aa">DebugInfoPerPass::DIVariables</a></div><div class="ttdeci">DebugVarMap DIVariables</div><div class="ttdef"><b>Definition:</b> <a href="Debugify_8h_source.html#l00043">Debugify.h:43</a></div></div>
<div class="ttc" id="aDebugify_8cpp_html_af87bb4543ed9efb387c2b3df9298ed3a"><div class="ttname"><a href="Debugify_8cpp.html#af87bb4543ed9efb387c2b3df9298ed3a">createDebugifyFunctionPass</a></div><div class="ttdeci">FunctionPass * createDebugifyFunctionPass(enum DebugifyMode Mode, llvm::StringRef NameOfWrappedPass, DebugInfoPerPass *DebugInfoBeforePass)</div><div class="ttdef"><b>Definition:</b> <a href="Debugify_8cpp_source.html#l00965">Debugify.cpp:965</a></div></div>
<div class="ttc" id="aclassNewPMCheckDebugifyPass_html_adb7be1f4b6e4efe53465ff24bc980b5a"><div class="ttname"><a href="classNewPMCheckDebugifyPass.html#adb7be1f4b6e4efe53465ff24bc980b5a">NewPMCheckDebugifyPass::run</a></div><div class="ttdeci">llvm::PreservedAnalyses run(llvm::Module &amp;M, llvm::ModuleAnalysisManager &amp;AM)</div><div class="ttdef"><b>Definition:</b> <a href="Debugify_8cpp_source.html#l01009">Debugify.cpp:1009</a></div></div>
<div class="ttc" id="aclassllvm_1_1DIVariable_html_a04a71a1d084db8fe394121e059f0b774"><div class="ttname"><a href="classllvm_1_1DIVariable.html#a04a71a1d084db8fe394121e059f0b774">llvm::DIVariable::getSignedness</a></div><div class="ttdeci">std::optional&lt; DIBasicType::Signedness &gt; getSignedness() const</div><div class="ttdoc">Return the signedness of this variable's type, or std::nullopt if this type is neither signed nor uns...</div><div class="ttdef"><b>Definition:</b> <a href="DebugInfoMetadata_8h_source.html#l02567">DebugInfoMetadata.h:2567</a></div></div>
<div class="ttc" id="aclassllvm_1_1DILocation_html"><div class="ttname"><a href="classllvm_1_1DILocation.html">llvm::DILocation</a></div><div class="ttdoc">Debug location.</div><div class="ttdef"><b>Definition:</b> <a href="DebugInfoMetadata_8h_source.html#l01605">DebugInfoMetadata.h:1605</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html"><div class="ttname"><a href="classllvm_1_1Type.html">llvm::Type</a></div><div class="ttdoc">The instances of the Type class are immutable: once they are created, they are never changed.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00045">Type.h:45</a></div></div>
<div class="ttc" id="aclassNewPMDebugifyPass_html_a3467f1430bf7b9dd04778821d779bf96"><div class="ttname"><a href="classNewPMDebugifyPass.html#a3467f1430bf7b9dd04778821d779bf96">NewPMDebugifyPass::run</a></div><div class="ttdeci">llvm::PreservedAnalyses run(llvm::Module &amp;M, llvm::ModuleAnalysisManager &amp;AM)</div><div class="ttdef"><b>Definition:</b> <a href="Debugify_8cpp_source.html#l00974">Debugify.cpp:974</a></div></div>
<div class="ttc" id="aModule_8h_html"><div class="ttname"><a href="Module_8h.html">Module.h</a></div></div>
<div class="ttc" id="aDebugify_8cpp_html_a97dc77d1e117ce57ef2f711502ed8ae4"><div class="ttname"><a href="Debugify_8cpp.html#a97dc77d1e117ce57ef2f711502ed8ae4">createDebugifyModulePass</a></div><div class="ttdeci">ModulePass * createDebugifyModulePass(enum DebugifyMode Mode, llvm::StringRef NameOfWrappedPass, DebugInfoPerPass *DebugInfoBeforePass)</div><div class="ttdef"><b>Definition:</b> <a href="Debugify_8cpp_source.html#l00955">Debugify.cpp:955</a></div></div>
<div class="ttc" id="aPassBuilderBindings_8cpp_html_ad4d247df65c12507f447383be37d7ccb"><div class="ttname"><a href="PassBuilderBindings_8cpp.html#ad4d247df65c12507f447383be37d7ccb">PIC</a></div><div class="ttdeci">PassInstrumentationCallbacks PIC</div><div class="ttdef"><b>Definition:</b> <a href="PassBuilderBindings_8cpp_source.html#l00055">PassBuilderBindings.cpp:55</a></div></div>
<div class="ttc" id="aclassllvm_1_1DebugifyEachInstrumentation_html_afe7311f1fb0df8efaae9943f6c59176c"><div class="ttname"><a href="classllvm_1_1DebugifyEachInstrumentation.html#afe7311f1fb0df8efaae9943f6c59176c">llvm::DebugifyEachInstrumentation::registerCallbacks</a></div><div class="ttdeci">void registerCallbacks(PassInstrumentationCallbacks &amp;PIC)</div><div class="ttdef"><b>Definition:</b> <a href="Debugify_8cpp_source.html#l01029">Debugify.cpp:1029</a></div></div>
<div class="ttc" id="aclassllvm_1_1DbgVariableIntrinsic_html_ac161deb2a31f78c85f94fbe0f3ba97b4"><div class="ttname"><a href="classllvm_1_1DbgVariableIntrinsic.html#ac161deb2a31f78c85f94fbe0f3ba97b4">llvm::DbgVariableIntrinsic::getVariable</a></div><div class="ttdeci">DILocalVariable * getVariable() const</div><div class="ttdef"><b>Definition:</b> <a href="IntrinsicInst_8h_source.html#l00288">IntrinsicInst.h:288</a></div></div>
<div class="ttc" id="aclassllvm_1_1MapVector_html"><div class="ttname"><a href="classllvm_1_1MapVector.html">llvm::MapVector&lt; const llvm::Function *, const llvm::DISubprogram * &gt;</a></div></div>
<div class="ttc" id="anamespacellvm_html_a9a7b5c68c90f85baaedaa854cc5002cc"><div class="ttname"><a href="namespacellvm.html#a9a7b5c68c90f85baaedaa854cc5002cc">llvm::errs</a></div><div class="ttdeci">raw_fd_ostream &amp; errs()</div><div class="ttdoc">This returns a reference to a raw_ostream for standard error.</div><div class="ttdef"><b>Definition:</b> <a href="raw__ostream_8cpp_source.html#l00899">raw_ostream.cpp:899</a></div></div>
<div class="ttc" id="anamespacellvm_html_a27c57b81140fb6e76287d86c509023e7"><div class="ttname"><a href="namespacellvm.html#a27c57b81140fb6e76287d86c509023e7">llvm::applyDebugifyMetadata</a></div><div class="ttdeci">bool applyDebugifyMetadata(Module &amp;M, iterator_range&lt; Module::iterator &gt; Functions, StringRef Banner, std::function&lt; bool(DIBuilder &amp;, Function &amp;)&gt; ApplyToMF)</div><div class="ttdoc">Add synthesized debug information to a module.</div></div>
<div class="ttc" id="aclassllvm_1_1DIBuilder_html_a1930fd092560cf172fb618ba55263ec7"><div class="ttname"><a href="classllvm_1_1DIBuilder.html#a1930fd092560cf172fb618ba55263ec7">llvm::DIBuilder::createSubroutineType</a></div><div class="ttdeci">DISubroutineType * createSubroutineType(DITypeRefArray ParameterTypes, DINode::DIFlags Flags=DINode::FlagZero, unsigned CC=0)</div><div class="ttdoc">Create subroutine type.</div><div class="ttdef"><b>Definition:</b> <a href="DIBuilder_8cpp_source.html#l00548">DIBuilder.cpp:548</a></div></div>
<div class="ttc" id="aDebugify_8cpp_html_af718a7db460e96f14b7c380d841cbcd8"><div class="ttname"><a href="Debugify_8cpp.html#af718a7db460e96f14b7c380d841cbcd8">checkInstructions</a></div><div class="ttdeci">static bool checkInstructions(const DebugInstMap &amp;DILocsBefore, const DebugInstMap &amp;DILocsAfter, const WeakInstValueMap &amp;InstToDelete, StringRef NameOfWrappedPass, StringRef FileNameFromCU, bool ShouldWriteIntoJSON, llvm::json::Array &amp;Bugs)</div><div class="ttdef"><b>Definition:</b> <a href="Debugify_8cpp_source.html#l00417">Debugify.cpp:417</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8ad4ae565ad87db4c534952e2c88f310"><div class="ttname"><a href="namespacellvm.html#a8ad4ae565ad87db4c534952e2c88f310">llvm::nulls</a></div><div class="ttdeci">raw_ostream &amp; nulls()</div><div class="ttdoc">This returns a reference to a raw_ostream which simply discards output.</div><div class="ttdef"><b>Definition:</b> <a href="raw__ostream_8cpp_source.html#l00906">raw_ostream.cpp:906</a></div></div>
<div class="ttc" id="aclassllvm_1_1json_1_1Array_html_ad48bca6da17d659a87749a8bf543e35b"><div class="ttname"><a href="classllvm_1_1json_1_1Array.html#ad48bca6da17d659a87749a8bf543e35b">llvm::json::Array::push_back</a></div><div class="ttdeci">void push_back(const Value &amp;E)</div><div class="ttdef"><b>Definition:</b> <a href="JSON_8h_source.html#l00531">JSON.h:531</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_a30dd396c5b40cd86c1591872e574ccdf"><div class="ttname"><a href="classllvm_1_1Type.html#a30dd396c5b40cd86c1591872e574ccdf">llvm::Type::getInt32Ty</a></div><div class="ttdeci">static IntegerType * getInt32Ty(LLVMContext &amp;C)</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00241">Type.cpp:241</a></div></div>
<div class="ttc" id="aclassllvm_1_1DbgVariableIntrinsic_html_a5702a1d09ac6ee86196a38b3f682a570"><div class="ttname"><a href="classllvm_1_1DbgVariableIntrinsic.html#a5702a1d09ac6ee86196a38b3f682a570">llvm::DbgVariableIntrinsic::getVariableLocationOp</a></div><div class="ttdeci">Value * getVariableLocationOp(unsigned OpIdx) const</div><div class="ttdef"><b>Definition:</b> <a href="IntrinsicInst_8cpp_source.html#l00092">IntrinsicInst.cpp:92</a></div></div>
<div class="ttc" id="aDebug_8h_html_a08efc68d15935eb8889400a46c3749ba"><div class="ttname"><a href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a></div><div class="ttdeci">#define LLVM_DEBUG(X)</div><div class="ttdef"><b>Definition:</b> <a href="Debug_8h_source.html#l00101">Debug.h:101</a></div></div>
<div class="ttc" id="aclassllvm_1_1MDNode_html_a7d10a7b9b7f40b04d27ed97c38ea1950"><div class="ttname"><a href="classllvm_1_1MDNode.html#a7d10a7b9b7f40b04d27ed97c38ea1950">llvm::MDNode::get</a></div><div class="ttdeci">static MDTuple * get(LLVMContext &amp;Context, ArrayRef&lt; Metadata * &gt; MDs)</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l01399">Metadata.h:1399</a></div></div>
<div class="ttc" id="aMD5_8cpp_html_a96d73bbd7af15cb1fc38c3f4a3bd82e9"><div class="ttname"><a href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a></div><div class="ttdeci">#define F(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00055">MD5.cpp:55</a></div></div>
<div class="ttc" id="aclassllvm_1_1BasicBlock_html"><div class="ttname"><a href="classllvm_1_1BasicBlock.html">llvm::BasicBlock</a></div><div class="ttdoc">LLVM Basic Block Representation.</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8h_source.html#l00055">BasicBlock.h:55</a></div></div>
<div class="ttc" id="aDebugify_8h_html_a050aa76ace891cf5971722766fe14b1ba190149ba9d0bdf2c7ceac37a3128952b"><div class="ttname"><a href="Debugify_8h.html#a050aa76ace891cf5971722766fe14b1ba190149ba9d0bdf2c7ceac37a3128952b">DebugifyMode::SyntheticDebugInfo</a></div><div class="ttdeci">@ SyntheticDebugInfo</div></div>
<div class="ttc" id="aclassllvm_1_1DIBuilder_html_ae6081972b0560d0f16bd503654924b1b"><div class="ttname"><a href="classllvm_1_1DIBuilder.html#ae6081972b0560d0f16bd503654924b1b">llvm::DIBuilder::createAutoVariable</a></div><div class="ttdeci">DILocalVariable * createAutoVariable(DIScope *Scope, StringRef Name, DIFile *File, unsigned LineNo, DIType *Ty, bool AlwaysPreserve=false, DINode::DIFlags Flags=DINode::FlagZero, uint32_t AlignInBits=0)</div><div class="ttdoc">Create a new descriptor for an auto variable.</div><div class="ttdef"><b>Definition:</b> <a href="DIBuilder_8cpp_source.html#l00799">DIBuilder.cpp:799</a></div></div>
<div class="ttc" id="anamespacellvm_html_a7c46c742c31be54870e2038048e6b391"><div class="ttname"><a href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">llvm::dbgs</a></div><div class="ttdeci">raw_ostream &amp; dbgs()</div><div class="ttdoc">dbgs() - This returns a reference to a raw_ostream for debugging messages.</div><div class="ttdef"><b>Definition:</b> <a href="Debug_8cpp_source.html#l00163">Debug.cpp:163</a></div></div>
<div class="ttc" id="aclassllvm_1_1NamedMDNode_html_ae917c72e5b8e15491cd0dbdd44d818f2"><div class="ttname"><a href="classllvm_1_1NamedMDNode.html#ae917c72e5b8e15491cd0dbdd44d818f2">llvm::NamedMDNode::addOperand</a></div><div class="ttdeci">void addOperand(MDNode *M)</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8cpp_source.html#l01221">Metadata.cpp:1221</a></div></div>
<div class="ttc" id="aCommandLine_8h_html"><div class="ttname"><a href="CommandLine_8h.html">CommandLine.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html_a32e606ac4c88f71f14212e42b808e7f4"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#a32e606ac4c88f71f14212e42b808e7f4">llvm::GlobalValue::isDeclaration</a></div><div class="ttdeci">bool isDeclaration() const</div><div class="ttdoc">Return true if the primary definition of this global value is outside of the current translation unit...</div><div class="ttdef"><b>Definition:</b> <a href="Globals_8cpp_source.html#l00275">Globals.cpp:275</a></div></div>
<div class="ttc" id="aDebugify_8cpp_html_a66d4f6a60a7224a7e828e9c2cfc549d6"><div class="ttname"><a href="Debugify_8cpp.html#a66d4f6a60a7224a7e828e9c2cfc549d6">applyDebugify</a></div><div class="ttdeci">static bool applyDebugify(Function &amp;F, enum DebugifyMode Mode=DebugifyMode::SyntheticDebugInfo, DebugInfoPerPass *DebugInfoBeforePass=nullptr, StringRef NameOfWrappedPass=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="Debugify_8cpp_source.html#l00217">Debugify.cpp:217</a></div></div>
<div class="ttc" id="aDebugify_8cpp_html_a231878fa1de6982e31d9e18283e70878"><div class="ttname"><a href="Debugify_8cpp.html#a231878fa1de6982e31d9e18283e70878">isIgnoredPass</a></div><div class="ttdeci">static bool isIgnoredPass(StringRef PassID)</div><div class="ttdef"><b>Definition:</b> <a href="Debugify_8cpp_source.html#l01022">Debugify.cpp:1022</a></div></div>
<div class="ttc" id="aclassllvm_1_1DbgValueInst_html"><div class="ttname"><a href="classllvm_1_1DbgValueInst.html">llvm::DbgValueInst</a></div><div class="ttdoc">This represents the llvm.dbg.value instruction.</div><div class="ttdef"><b>Definition:</b> <a href="IntrinsicInst_8h_source.html#l00388">IntrinsicInst.h:388</a></div></div>
<div class="ttc" id="anamespacellvm_html_a5e556eb90cea56b01be517fbf549fd84"><div class="ttname"><a href="namespacellvm.html#a5e556eb90cea56b01be517fbf549fd84">llvm::collectDebugInfoMetadata</a></div><div class="ttdeci">bool collectDebugInfoMetadata(Module &amp;M, iterator_range&lt; Module::iterator &gt; Functions, DebugInfoPerPass &amp;DebugInfoBeforePass, StringRef Banner, StringRef NameOfWrappedPass)</div><div class="ttdoc">Collect original debug information before a pass.</div><div class="ttdef"><b>Definition:</b> <a href="Debugify_8cpp_source.html#l00295">Debugify.cpp:295</a></div></div>
<div class="ttc" id="astructDebugInfoPerPass_html_a5bf923996a54e0206a5fb9e665ed0a17"><div class="ttname"><a href="structDebugInfoPerPass.html#a5bf923996a54e0206a5fb9e665ed0a17">DebugInfoPerPass::DIFunctions</a></div><div class="ttdeci">DebugFnMap DIFunctions</div><div class="ttdef"><b>Definition:</b> <a href="Debugify_8h_source.html#l00036">Debugify.h:36</a></div></div>
<div class="ttc" id="aPassInstrumentation_8h_html"><div class="ttname"><a href="PassInstrumentation_8h.html">PassInstrumentation.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1AnalysisUsage_html"><div class="ttname"><a href="classllvm_1_1AnalysisUsage.html">llvm::AnalysisUsage</a></div><div class="ttdoc">Represent the analysis usage information of a pass.</div><div class="ttdef"><b>Definition:</b> <a href="PassAnalysisSupport_8h_source.html#l00047">PassAnalysisSupport.h:47</a></div></div>
<div class="ttc" id="aclassllvm_1_1DISubprogram_html_aee46b4d49ad15932fe2706f1d308d4e9"><div class="ttname"><a href="classllvm_1_1DISubprogram.html#aee46b4d49ad15932fe2706f1d308d4e9">llvm::DISubprogram::DISPFlags</a></div><div class="ttdeci">DISPFlags</div><div class="ttdoc">Debug info subprogram flags.</div><div class="ttdef"><b>Definition:</b> <a href="DebugInfoMetadata_8h_source.html#l01866">DebugInfoMetadata.h:1866</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1PALMD_html_af892c75285b0f64d58ca76cb73059adf"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1PALMD.html#af892c75285b0f64d58ca76cb73059adf">llvm::AMDGPU::PALMD::Key</a></div><div class="ttdeci">Key</div><div class="ttdoc">PAL metadata keys.</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUMetadata_8h_source.html#l00486">AMDGPUMetadata.h:486</a></div></div>
<div class="ttc" id="anamespacellvm_html_a88d6a2d221777b8376bde5d860a219d1"><div class="ttname"><a href="namespacellvm.html#a88d6a2d221777b8376bde5d860a219d1">llvm::isSpecialPass</a></div><div class="ttdeci">bool isSpecialPass(StringRef PassID, const std::vector&lt; StringRef &gt; &amp;Specials)</div><div class="ttdef"><b>Definition:</b> <a href="PassInstrumentation_8cpp_source.html#l00033">PassInstrumentation.cpp:33</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html_af279f7d85885f932c1e7cdc2b77cb4ad"><div class="ttname"><a href="classllvm_1_1Instruction.html#af279f7d85885f932c1e7cdc2b77cb4ad">llvm::Instruction::getOpcodeName</a></div><div class="ttdeci">const char * getOpcodeName() const</div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8h_source.html#l00170">Instruction.h:170</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html"><div class="ttname"><a href="classllvm_1_1Instruction.html">llvm::Instruction</a></div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8h_source.html#l00041">Instruction.h:41</a></div></div>
<div class="ttc" id="anamespacellvm_1_1MCID_html_ab357441fcd1ea1f9b0d27c12700f6023"><div class="ttname"><a href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023">llvm::MCID::Flag</a></div><div class="ttdeci">Flag</div><div class="ttdoc">These should be considered private to the implementation of the MCInstrDesc class.</div><div class="ttdef"><b>Definition:</b> <a href="MCInstrDesc_8h_source.html#l00148">MCInstrDesc.h:148</a></div></div>
<div class="ttc" id="aclassllvm_1_1NamedMDNode_html_a7b8c6e263c8047823d8869cc27dd8008"><div class="ttname"><a href="classllvm_1_1NamedMDNode.html#a7b8c6e263c8047823d8869cc27dd8008">llvm::NamedMDNode::eraseFromParent</a></div><div class="ttdeci">void eraseFromParent()</div><div class="ttdoc">Drop all references and remove the node from parent module.</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8cpp_source.html#l01228">Metadata.cpp:1228</a></div></div>
<div class="ttc" id="aclassllvm_1_1json_1_1Array_html"><div class="ttname"><a href="classllvm_1_1json_1_1Array.html">llvm::json::Array</a></div><div class="ttdoc">An Array is a JSON array, which contains heterogeneous JSON values.</div><div class="ttdef"><b>Definition:</b> <a href="JSON_8h_source.html#l00158">JSON.h:158</a></div></div>
<div class="ttc" id="aclassllvm_1_1raw__ostream_html"><div class="ttname"><a href="classllvm_1_1raw__ostream.html">llvm::raw_ostream</a></div><div class="ttdoc">This class implements an extremely fast bulk output stream that can only output to a stream.</div><div class="ttdef"><b>Definition:</b> <a href="raw__ostream_8h_source.html#l00052">raw_ostream.h:52</a></div></div>
<div class="ttc" id="aBitVector_8h_html"><div class="ttname"><a href="BitVector_8h.html">BitVector.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantInt_html_a969709dd49c28865a482d8b870f87c46"><div class="ttname"><a href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">llvm::ConstantInt::get</a></div><div class="ttdeci">static Constant * get(Type *Ty, uint64_t V, bool IsSigned=false)</div><div class="ttdoc">If Ty is a vector type, return a Constant with a splat of the given value.</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l00887">Constants.cpp:887</a></div></div>
<div class="ttc" id="aLint_8cpp_html_a7fb3c9caadeb0f7fe4828d380158d0f9"><div class="ttname"><a href="Lint_8cpp.html#a7fb3c9caadeb0f7fe4828d380158d0f9">IR</a></div><div class="ttdeci">Statically lint checks LLVM IR</div><div class="ttdef"><b>Definition:</b> <a href="Lint_8cpp_source.html#l00746">Lint.cpp:746</a></div></div>
<div class="ttc" id="aJSON_8h_html"><div class="ttname"><a href="JSON_8h.html">JSON.h</a></div></div>
<div class="ttc" id="anamespacellvm_html_a54f0d8daf79208268f6bf031ce65b16a"><div class="ttname"><a href="namespacellvm.html#a54f0d8daf79208268f6bf031ce65b16a">llvm::exportDebugifyStats</a></div><div class="ttdeci">void exportDebugifyStats(StringRef Path, const DebugifyStatsMap &amp;Map)</div><div class="ttdef"><b>Definition:</b> <a href="Debugify_8cpp_source.html#l00934">Debugify.cpp:934</a></div></div>
<div class="ttc" id="aclassllvm_1_1BitVector_html"><div class="ttname"><a href="classllvm_1_1BitVector.html">llvm::BitVector</a></div><div class="ttdef"><b>Definition:</b> <a href="BitVector_8h_source.html#l00075">BitVector.h:75</a></div></div>
<div class="ttc" id="astructDebugInfoPerPass_html_af6a233bc305852872d1f2731483f853e"><div class="ttname"><a href="structDebugInfoPerPass.html#af6a233bc305852872d1f2731483f853e">DebugInfoPerPass::InstToDelete</a></div><div class="ttdeci">WeakInstValueMap InstToDelete</div><div class="ttdef"><b>Definition:</b> <a href="Debugify_8h_source.html#l00041">Debugify.h:41</a></div></div>
<div class="ttc" id="anamespacellvm_html_a484621a748732e2f39e7a2a0058b3b07"><div class="ttname"><a href="namespacellvm.html#a484621a748732e2f39e7a2a0058b3b07">llvm::stripDebugifyMetadata</a></div><div class="ttdeci">bool stripDebugifyMetadata(Module &amp;M)</div><div class="ttdoc">Strip out all of the metadata and debug info inserted by debugify.</div><div class="ttdef"><b>Definition:</b> <a href="Debugify_8cpp_source.html#l00245">Debugify.cpp:245</a></div></div>
<div class="ttc" id="anamespacellvm_html_aeff8da57698622ba29e5228d5ffe8bf3a141a51821a2860389357334148e2fd62"><div class="ttname"><a href="namespacellvm.html#aeff8da57698622ba29e5228d5ffe8bf3a141a51821a2860389357334148e2fd62">llvm::DEBUG_METADATA_VERSION</a></div><div class="ttdeci">@ DEBUG_METADATA_VERSION</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l00051">Metadata.h:51</a></div></div>
<div class="ttc" id="aGCOVProfiling_8cpp_html_aa9ba6184a1d2c895daed8491c4d30acc"><div class="ttname"><a href="GCOVProfiling_8cpp.html#aa9ba6184a1d2c895daed8491c4d30acc">getFilename</a></div><div class="ttdeci">static SmallString&lt; 128 &gt; getFilename(const DISubprogram *SP)</div><div class="ttdoc">Extract a filename for a DISubprogram.</div><div class="ttdef"><b>Definition:</b> <a href="GCOVProfiling_8cpp_source.html#l00213">GCOVProfiling.cpp:213</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_a9d7de807ebdfe1819df3ff6cb0f16158"><div class="ttname"><a href="classllvm_1_1Value.html#a9d7de807ebdfe1819df3ff6cb0f16158">llvm::Value::use_empty</a></div><div class="ttdeci">bool use_empty() const</div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00344">Value.h:344</a></div></div>
<div class="ttc" id="anamespacellvm_1_1CallingConv_html_a188c0836f8c3528401f1c236fd93b977"><div class="ttname"><a href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">llvm::CallingConv::ID</a></div><div class="ttdeci">unsigned ID</div><div class="ttdoc">LLVM IR allows to use arbitrary numbers as calling convention identifiers.</div><div class="ttdef"><b>Definition:</b> <a href="CallingConv_8h_source.html#l00024">CallingConv.h:24</a></div></div>
<div class="ttc" id="aDebugify_8cpp_html_a993c6c27e31cbf36d079971889f3e015"><div class="ttname"><a href="Debugify_8cpp.html#a993c6c27e31cbf36d079971889f3e015">DF</a></div><div class="ttdeci">static RegisterPass&lt; DebugifyFunctionPass &gt; DF(&quot;debugify-function&quot;, &quot;Attach debug info to a function&quot;)</div></div>
<div class="ttc" id="aclassllvm_1_1DIBasicType_html_a60f94cc0e71193b01ca24ef37de9845aa71fed0c3428bf1a2e19af257c4bac379"><div class="ttname"><a href="classllvm_1_1DIBasicType.html#a60f94cc0e71193b01ca24ef37de9845aa71fed0c3428bf1a2e19af257c4bac379">llvm::DIBasicType::Signedness::Signed</a></div><div class="ttdeci">@ Signed</div></div>
<div class="ttc" id="anamespacellvm_1_1sys_1_1fs_html_a662978c0cdf81de0d448032f142a3695ab505c2c79499fbe180989bffbf108a50"><div class="ttname"><a href="namespacellvm_1_1sys_1_1fs.html#a662978c0cdf81de0d448032f142a3695ab505c2c79499fbe180989bffbf108a50">llvm::sys::fs::OF_TextWithCRLF</a></div><div class="ttdeci">@ OF_TextWithCRLF</div><div class="ttdoc">The file should be opened in text mode and use a carriage linefeed '\r '.</div><div class="ttdef"><b>Definition:</b> <a href="FileSystem_8h_source.html#l00770">FileSystem.h:770</a></div></div>
<div class="ttc" id="aADT_2tmp_8txt_html_a07ed0bfaa124c15897944fe3eaa971ab"><div class="ttname"><a href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a></div><div class="ttdeci">Class for arbitrary precision integers APInt is a functional replacement for common case unsigned integer type like unsigned long or uint64_t</div><div class="ttdef"><b>Definition:</b> <a href="ADT_2tmp_8txt_source.html#l00001">tmp.txt:1</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_ac6d28a9b11139182134a9618028a0d07"><div class="ttname"><a href="classllvm_1_1Type.html#ac6d28a9b11139182134a9618028a0d07">llvm::Type::isIntegerTy</a></div><div class="ttdeci">bool isIntegerTy() const</div><div class="ttdoc">True if this is an instance of IntegerType.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00222">Type.h:222</a></div></div>
<div class="ttc" id="aclassllvm_1_1MDNode_html_a6cbc0453586a25c057a32161b38b8ce4"><div class="ttname"><a href="classllvm_1_1MDNode.html#a6cbc0453586a25c057a32161b38b8ce4">llvm::MDNode::getOperand</a></div><div class="ttdeci">const MDOperand &amp; getOperand(unsigned I) const</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l01291">Metadata.h:1291</a></div></div>
<div class="ttc" id="aclassllvm_1_1StringRef_html_a2dc80c585ad5882da8cae7b5968f7e74"><div class="ttname"><a href="classllvm_1_1StringRef.html#a2dc80c585ad5882da8cae7b5968f7e74">llvm::StringRef::empty</a></div><div class="ttdeci">constexpr bool empty() const</div><div class="ttdoc">empty - Check if the string is empty.</div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00134">StringRef.h:134</a></div></div>
<div class="ttc" id="aDebugify_8cpp_html_a64384a13844163eed0191f8a86326ab0"><div class="ttname"><a href="Debugify_8cpp.html#a64384a13844163eed0191f8a86326ab0">createCheckDebugifyFunctionPass</a></div><div class="ttdeci">FunctionPass * createCheckDebugifyFunctionPass(bool Strip, StringRef NameOfWrappedPass, DebugifyStatsMap *StatsMap, enum DebugifyMode Mode, DebugInfoPerPass *DebugInfoBeforePass, StringRef OrigDIVerifyBugsReportFilePath)</div><div class="ttdef"><b>Definition:</b> <a href="Debugify_8cpp_source.html#l00997">Debugify.cpp:997</a></div></div>
<div class="ttc" id="aclassllvm_1_1cl_1_1opt_html"><div class="ttname"><a href="classllvm_1_1cl_1_1opt.html">llvm::cl::opt&lt; bool &gt;</a></div></div>
<div class="ttc" id="anamespacellvm_html_a7e3e687ddfdcbacd404bcf17b917dd88"><div class="ttname"><a href="namespacellvm.html#a7e3e687ddfdcbacd404bcf17b917dd88">llvm::instructions</a></div><div class="ttdeci">inst_range instructions(Function *F)</div><div class="ttdef"><b>Definition:</b> <a href="InstIterator_8h_source.html#l00133">InstIterator.h:133</a></div></div>
<div class="ttc" id="astructDebugInfoPerPass_html"><div class="ttname"><a href="structDebugInfoPerPass.html">DebugInfoPerPass</a></div><div class="ttdoc">Used to track the Debug Info Metadata information.</div><div class="ttdef"><b>Definition:</b> <a href="Debugify_8h_source.html#l00034">Debugify.h:34</a></div></div>
<div class="ttc" id="anamespacellvm_1_1cl_html_a8fa743aa76b6902028f8a643dfb87171"><div class="ttname"><a href="namespacellvm_1_1cl.html#a8fa743aa76b6902028f8a643dfb87171">llvm::cl::values</a></div><div class="ttdeci">ValuesClass values(OptsTy... Options)</div><div class="ttdoc">Helper to build a ValuesClass by forwarding a variable number of arguments as an initializer list to ...</div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00703">CommandLine.h:703</a></div></div>
<div class="ttc" id="aclassllvm_1_1MapVector_html_a6b0c3e15c351ba9682837c29b0a141b6"><div class="ttname"><a href="classllvm_1_1MapVector.html#a6b0c3e15c351ba9682837c29b0a141b6">llvm::MapVector::find</a></div><div class="ttdeci">iterator find(const KeyT &amp;Key)</div><div class="ttdef"><b>Definition:</b> <a href="MapVector_8h_source.html#l00148">MapVector.h:148</a></div></div>
<div class="ttc" id="aclassllvm_1_1DIBuilder_html_af59ae4bb38dfb8fe1be04685920c76a0"><div class="ttname"><a href="classllvm_1_1DIBuilder.html#af59ae4bb38dfb8fe1be04685920c76a0">llvm::DIBuilder::createFile</a></div><div class="ttdeci">DIFile * createFile(StringRef Filename, StringRef Directory, std::optional&lt; DIFile::ChecksumInfo&lt; StringRef &gt;&gt; Checksum=std::nullopt, std::optional&lt; StringRef &gt; Source=std::nullopt)</div><div class="ttdoc">Create a file descriptor to hold debugging information for a file.</div><div class="ttdef"><b>Definition:</b> <a href="DIBuilder_8cpp_source.html#l00231">DIBuilder.cpp:231</a></div></div>
<div class="ttc" id="alib_2Target_2ARM_2README_8txt_html_ad3a99906764c35b2694ae90fa57744a5"><div class="ttname"><a href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">move</a></div><div class="ttdeci">compiles ldr LCPI1_0 ldr ldr mov lsr tst moveq r1 ldr LCPI1_1 and r0 bx lr It would be better to do something like to fold the shift into the conditional move</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2ARM_2README_8txt_source.html#l00546">README.txt:546</a></div></div>
<div class="ttc" id="aclassllvm_1_1LLVMContext_html"><div class="ttname"><a href="classllvm_1_1LLVMContext.html">llvm::LLVMContext</a></div><div class="ttdoc">This is an important class for using LLVM in a threaded context.</div><div class="ttdef"><b>Definition:</b> <a href="LLVMContext_8h_source.html#l00067">LLVMContext.h:67</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMap_html"><div class="ttname"><a href="classllvm_1_1DenseMap.html">llvm::DenseMap</a></div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00714">DenseMap.h:714</a></div></div>
<div class="ttc" id="aIR_2DebugInfo_8h_html"><div class="ttname"><a href="IR_2DebugInfo_8h.html">DebugInfo.h</a></div></div>
<div class="ttc" id="aMD5_8cpp_html_ac0eafdc9ee161b71e7af98af736952fd"><div class="ttname"><a href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a></div><div class="ttdeci">#define I(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00058">MD5.cpp:58</a></div></div>
<div class="ttc" id="aclassllvm_1_1DebugLoc_html_a4ff1bb484be62f8dac94fc087f72f524"><div class="ttname"><a href="classllvm_1_1DebugLoc.html#a4ff1bb484be62f8dac94fc087f72f524">llvm::DebugLoc::get</a></div><div class="ttdeci">DILocation * get() const</div><div class="ttdoc">Get the underlying DILocation.</div><div class="ttdef"><b>Definition:</b> <a href="DebugLoc_8cpp_source.html#l00020">DebugLoc.cpp:20</a></div></div>
<div class="ttc" id="aStringExtras_8h_html"><div class="ttname"><a href="StringExtras_8h.html">StringExtras.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1cl_html_a10a041239ae1870cfcc064bfaa79fb65"><div class="ttname"><a href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">llvm::cl::init</a></div><div class="ttdeci">initializer&lt; Ty &gt; init(const Ty &amp;Val)</div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00445">CommandLine.h:445</a></div></div>
<div class="ttc" id="aDIBuilder_8h_html"><div class="ttname"><a href="DIBuilder_8h.html">DIBuilder.h</a></div></div>
<div class="ttc" id="aDIBuilder_8cpp_html_a351138e9048e98cac0256c0b3bf022b0"><div class="ttname"><a href="DIBuilder_8cpp.html#a351138e9048e98cac0256c0b3bf022b0">getSubprogram</a></div><div class="ttdeci">static DISubprogram * getSubprogram(bool IsDistinct, Ts &amp;&amp;...Args)</div><div class="ttdef"><b>Definition:</b> <a href="DIBuilder_8cpp_source.html#l00842">DIBuilder.cpp:842</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_a1e56c814d11206720cc23059b871128d"><div class="ttname"><a href="classllvm_1_1Value.html#a1e56c814d11206720cc23059b871128d">llvm::Value::print</a></div><div class="ttdeci">void print(raw_ostream &amp;O, bool IsForDebug=false) const</div><div class="ttdoc">Implement operator&lt;&lt; on Value.</div><div class="ttdef"><b>Definition:</b> <a href="AsmWriter_8cpp_source.html#l04699">AsmWriter.cpp:4699</a></div></div>
<div class="ttc" id="anamespacellvm_html_a6b1daaa72630852c5b859e1410e69a55"><div class="ttname"><a href="namespacellvm.html#a6b1daaa72630852c5b859e1410e69a55">llvm::checkDebugInfoMetadata</a></div><div class="ttdeci">bool checkDebugInfoMetadata(Module &amp;M, iterator_range&lt; Module::iterator &gt; Functions, DebugInfoPerPass &amp;DebugInfoBeforePass, StringRef Banner, StringRef NameOfWrappedPass, StringRef OrigDIVerifyBugsReportFilePath)</div><div class="ttdoc">Check original debug information after a pass.</div><div class="ttdef"><b>Definition:</b> <a href="Debugify_8cpp_source.html#l00538">Debugify.cpp:538</a></div></div>
<div class="ttc" id="aclassllvm_1_1NamedMDNode_html_aa24b566603d206b0e74bf63daf521078"><div class="ttname"><a href="classllvm_1_1NamedMDNode.html#aa24b566603d206b0e74bf63daf521078">llvm::NamedMDNode::getOperand</a></div><div class="ttdeci">MDNode * getOperand(unsigned i) const</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8cpp_source.html#l01215">Metadata.cpp:1215</a></div></div>
<div class="ttc" id="aSILowerControlFlow_8cpp_html_a4868c5d81c5ccc98c47aeab6244346a0"><div class="ttname"><a href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a></div><div class="ttdeci">assert(ImpDefSCC.getReg()==AMDGPU::SCC &amp;&amp;ImpDefSCC.isDef())</div></div>
<div class="ttc" id="astructDebugifyStatistics_html"><div class="ttname"><a href="structDebugifyStatistics.html">DebugifyStatistics</a></div><div class="ttdoc">Track how much debugify information (in the synthetic mode only) has been lost.</div><div class="ttdef"><b>Definition:</b> <a href="Debugify_8h_source.html#l00121">Debugify.h:121</a></div></div>
<div class="ttc" id="aSIWholeQuadMode_8cpp_html_a0c198437833c48138f49e3589bd08773"><div class="ttname"><a href="SIWholeQuadMode_8cpp.html#a0c198437833c48138f49e3589bd08773">Mode</a></div><div class="ttdeci">SI Whole Quad Mode</div><div class="ttdef"><b>Definition:</b> <a href="SIWholeQuadMode_8cpp_source.html#l00262">SIWholeQuadMode.cpp:262</a></div></div>
<div class="ttc" id="aMemDepPrinter_8cpp_html_a470d8721ad7c3b718e9daeabdaeb4700"><div class="ttname"><a href="MemDepPrinter_8cpp.html#a470d8721ad7c3b718e9daeabdaeb4700">function</a></div><div class="ttdeci">print Print MemDeps of function</div><div class="ttdef"><b>Definition:</b> <a href="MemDepPrinter_8cpp_source.html#l00082">MemDepPrinter.cpp:82</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_ae8eaa0b4eeac52a2b2282cb1bfd981ae"><div class="ttname"><a href="classllvm_1_1Type.html#ae8eaa0b4eeac52a2b2282cb1bfd981ae">llvm::Type::isVoidTy</a></div><div class="ttdeci">bool isVoidTy() const</div><div class="ttdoc">Return true if this is 'void'.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00140">Type.h:140</a></div></div>
<div class="ttc" id="aclassllvm_1_1Module_html"><div class="ttname"><a href="classllvm_1_1Module.html">llvm::Module</a></div><div class="ttdoc">A Module instance is used to store all the information related to an LLVM module.</div><div class="ttdef"><b>Definition:</b> <a href="Module_8h_source.html#l00065">Module.h:65</a></div></div>
<div class="ttc" id="aclassllvm_1_1MDNode_html"><div class="ttname"><a href="classllvm_1_1MDNode.html">llvm::MDNode</a></div><div class="ttdoc">Metadata node.</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l00943">Metadata.h:943</a></div></div>
<div class="ttc" id="aDebugify_8h_html_a050aa76ace891cf5971722766fe14b1ba991e1027ad91114d5c5c28b14ca36637"><div class="ttname"><a href="Debugify_8h.html#a050aa76ace891cf5971722766fe14b1ba991e1027ad91114d5c5c28b14ca36637">DebugifyMode::OriginalDebugInfo</a></div><div class="ttdeci">@ OriginalDebugInfo</div></div>
<div class="ttc" id="aclassllvm_1_1DIVariable_html_af44724cae4bcd562972facee1cf035a5"><div class="ttname"><a href="classllvm_1_1DIVariable.html#af44724cae4bcd562972facee1cf035a5">llvm::DIVariable::getName</a></div><div class="ttdeci">StringRef getName() const</div><div class="ttdef"><b>Definition:</b> <a href="DebugInfoMetadata_8h_source.html#l02557">DebugInfoMetadata.h:2557</a></div></div>
<div class="ttc" id="aclassllvm_1_1MapVector_html_a9318649185cfc66ba4b4eb66d5968e00"><div class="ttname"><a href="classllvm_1_1MapVector.html#a9318649185cfc66ba4b4eb66d5968e00">llvm::MapVector::insert</a></div><div class="ttdeci">std::pair&lt; iterator, bool &gt; insert(const std::pair&lt; KeyT, ValueT &gt; &amp;KV)</div><div class="ttdef"><b>Definition:</b> <a href="MapVector_8h_source.html#l00118">MapVector.h:118</a></div></div>
<div class="ttc" id="aclassllvm_1_1Module_html_a0a5c55e12c97b80021330fe82b642293a355bc901e05417401ee44323a8595131"><div class="ttname"><a href="classllvm_1_1Module.html#a0a5c55e12c97b80021330fe82b642293a355bc901e05417401ee44323a8595131">llvm::Module::Warning</a></div><div class="ttdeci">@ Warning</div><div class="ttdoc">Emits a warning if two values disagree.</div><div class="ttdef"><b>Definition:</b> <a href="Module_8h_source.html#l00122">Module.h:122</a></div></div>
<div class="ttc" id="aclassllvm_1_1StringRef_html"><div class="ttname"><a href="classllvm_1_1StringRef.html">llvm::StringRef</a></div><div class="ttdoc">StringRef - Represent a constant reference to a string, i.e.</div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00050">StringRef.h:50</a></div></div>
<div class="ttc" id="aclassllvm_1_1DbgVariableIntrinsic_html_ad00657bed806e5e3e4f3a55e48c97023"><div class="ttname"><a href="classllvm_1_1DbgVariableIntrinsic.html#ad00657bed806e5e3e4f3a55e48c97023">llvm::DbgVariableIntrinsic::getFragmentSizeInBits</a></div><div class="ttdeci">std::optional&lt; uint64_t &gt; getFragmentSizeInBits() const</div><div class="ttdoc">Get the size (in bits) of the variable, or fragment of the variable that is described.</div><div class="ttdef"><b>Definition:</b> <a href="IntrinsicInst_8cpp_source.html#l00188">IntrinsicInst.cpp:188</a></div></div>
<div class="ttc" id="aclassllvm_1_1DINode_html"><div class="ttname"><a href="classllvm_1_1DINode.html">llvm::DINode</a></div><div class="ttdoc">Tagged DWARF-like metadata node.</div><div class="ttdef"><b>Definition:</b> <a href="DebugInfoMetadata_8h_source.html#l00130">DebugInfoMetadata.h:130</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_a6393a2d4fe7e10b28a0dcc35f881567b"><div class="ttname"><a href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">llvm::Value::getType</a></div><div class="ttdeci">Type * getType() const</div><div class="ttdoc">All values are typed, get the type of this value.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00255">Value.h:255</a></div></div>
<div class="ttc" id="aAArch64SLSHardening_8cpp_html_ad467c4ab9119043f9b7750ab986be61a"><div class="ttname"><a href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a></div><div class="ttdeci">MachineBasicBlock MachineBasicBlock::iterator DebugLoc DL</div><div class="ttdef"><b>Definition:</b> <a href="AArch64SLSHardening_8cpp_source.html#l00076">AArch64SLSHardening.cpp:76</a></div></div>
<div class="ttc" id="aCommandLine_8h_html_a187fd767976b311c09dff5e05ac0c1bc"><div class="ttname"><a href="CommandLine_8h.html#a187fd767976b311c09dff5e05ac0c1bc">clEnumValN</a></div><div class="ttdeci">#define clEnumValN(ENUMVAL, FLAGNAME, DESC)</div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00678">CommandLine.h:678</a></div></div>
<div class="ttc" id="aclassllvm_1_1ValueAsMetadata_html_ac906d4ec2979dd40ae0b86703fac5282"><div class="ttname"><a href="classllvm_1_1ValueAsMetadata.html#ac906d4ec2979dd40ae0b86703fac5282">llvm::ValueAsMetadata::getConstant</a></div><div class="ttdeci">static ConstantAsMetadata * getConstant(Value *C)</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l00366">Metadata.h:366</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PICLevel_html_a66ddbf1bb21f90ddc44260d1ca677b6b"><div class="ttname"><a href="namespacellvm_1_1PICLevel.html#a66ddbf1bb21f90ddc44260d1ca677b6b">llvm::PICLevel::Level</a></div><div class="ttdeci">Level</div><div class="ttdef"><b>Definition:</b> <a href="CodeGen_8h_source.html#l00036">CodeGen.h:36</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_adb5c319f5905c1d3ca9eb5df546388c5"><div class="ttname"><a href="classllvm_1_1Value.html#adb5c319f5905c1d3ca9eb5df546388c5">llvm::Value::getName</a></div><div class="ttdeci">StringRef getName() const</div><div class="ttdoc">Return a constant reference to the value's name.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8cpp_source.html#l00308">Value.cpp:308</a></div></div>
<div class="ttc" id="aclassllvm_1_1raw__fd__ostream_html"><div class="ttname"><a href="classllvm_1_1raw__fd__ostream.html">llvm::raw_fd_ostream</a></div><div class="ttdoc">A raw_ostream that writes to a file descriptor.</div><div class="ttdef"><b>Definition:</b> <a href="raw__ostream_8h_source.html#l00454">raw_ostream.h:454</a></div></div>
<div class="ttc" id="aSampleProfWriter_8cpp_html_ac5f3689931c7238da06ba00cf1002c62"><div class="ttname"><a href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a></div><div class="ttdeci">raw_pwrite_stream &amp; OS</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfWriter_8cpp_source.html#l00053">SampleProfWriter.cpp:53</a></div></div>
<div class="ttc" id="aclassllvm_1_1NamedMDNode_html_acfe76fbea7879969fb26502ea5ffba97"><div class="ttname"><a href="classllvm_1_1NamedMDNode.html#acfe76fbea7879969fb26502ea5ffba97">llvm::NamedMDNode::operands</a></div><div class="ttdeci">iterator_range&lt; op_iterator &gt; operands()</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l01683">Metadata.h:1683</a></div></div>
<div class="ttc" id="aclassllvm_1_1MapVector_html_a0881334358ff6ff7ff8cea5562c7988e"><div class="ttname"><a href="classllvm_1_1MapVector.html#a0881334358ff6ff7ff8cea5562c7988e">llvm::MapVector::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="MapVector_8h_source.html#l00072">MapVector.h:72</a></div></div>
<div class="ttc" id="aclassllvm_1_1PassInstrumentationCallbacks_html_affcb37cf440a3ee656caec2c5333fa9f"><div class="ttname"><a href="classllvm_1_1PassInstrumentationCallbacks.html#affcb37cf440a3ee656caec2c5333fa9f">llvm::PassInstrumentationCallbacks::registerAfterPassCallback</a></div><div class="ttdeci">void registerAfterPassCallback(CallableT C, bool ToFront=false)</div><div class="ttdef"><b>Definition:</b> <a href="PassInstrumentation_8h_source.html#l00111">PassInstrumentation.h:111</a></div></div>
<div class="ttc" id="aclassllvm_1_1DIBuilder_html_a36f7af99f64b66e158b210e4433a1aed"><div class="ttname"><a href="classllvm_1_1DIBuilder.html#a36f7af99f64b66e158b210e4433a1aed">llvm::DIBuilder::createCompileUnit</a></div><div class="ttdeci">DICompileUnit * createCompileUnit(unsigned Lang, DIFile *File, StringRef Producer, bool isOptimized, StringRef Flags, unsigned RV, StringRef SplitName=StringRef(), DICompileUnit::DebugEmissionKind Kind=DICompileUnit::DebugEmissionKind::FullDebug, uint64_t DWOId=0, bool SplitDebugInlining=true, bool DebugInfoForProfiling=false, DICompileUnit::DebugNameTableKind NameTableKind=DICompileUnit::DebugNameTableKind::Default, bool RangesBaseAddress=false, StringRef SysRoot={}, StringRef SDK={})</div><div class="ttdoc">A CompileUnit provides an anchor for all debugging information generated during this instance of comp...</div><div class="ttdef"><b>Definition:</b> <a href="DIBuilder_8cpp_source.html#l00151">DIBuilder.cpp:151</a></div></div>
<div class="ttc" id="aclassllvm_1_1DIBuilder_html_a8f92de2ab37d7999e6fcd53381306586"><div class="ttname"><a href="classllvm_1_1DIBuilder.html#a8f92de2ab37d7999e6fcd53381306586">llvm::DIBuilder::createExpression</a></div><div class="ttdeci">DIExpression * createExpression(ArrayRef&lt; uint64_t &gt; Addr=std::nullopt)</div><div class="ttdoc">Create a new descriptor for the specified variable which has a complex address expression for its add...</div><div class="ttdef"><b>Definition:</b> <a href="DIBuilder_8cpp_source.html#l00837">DIBuilder.cpp:837</a></div></div>
<div class="ttc" id="aEntryExitInstrumenter_8cpp_html_a3985f1f39349428d17f0d2b81ebc6349"><div class="ttname"><a href="EntryExitInstrumenter_8cpp.html#a3985f1f39349428d17f0d2b81ebc6349">runOnFunction</a></div><div class="ttdeci">static bool runOnFunction(Function &amp;F, bool PostInlining)</div><div class="ttdef"><b>Definition:</b> <a href="EntryExitInstrumenter_8cpp_source.html#l00085">EntryExitInstrumenter.cpp:85</a></div></div>
<div class="ttc" id="aclassllvm_1_1Any_html"><div class="ttname"><a href="classllvm_1_1Any.html">llvm::Any</a></div><div class="ttdef"><b>Definition:</b> <a href="Any_8h_source.html#l00028">Any.h:28</a></div></div>
<div class="ttc" id="aclassllvm_1_1MapVector_html_a041e60c6f5f9841f3dc74921ea87bec2"><div class="ttname"><a href="classllvm_1_1MapVector.html#a041e60c6f5f9841f3dc74921ea87bec2">llvm::MapVector::count</a></div><div class="ttdeci">size_type count(const KeyT &amp;Key) const</div><div class="ttdef"><b>Definition:</b> <a href="MapVector_8h_source.html#l00143">MapVector.h:143</a></div></div>
<div class="ttc" id="anamespacellvm_1_1GraphProgram_html_a0ad4685976f8c4d4a697a53fbe05d10b"><div class="ttname"><a href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">llvm::GraphProgram::Name</a></div><div class="ttdeci">Name</div><div class="ttdef"><b>Definition:</b> <a href="GraphWriter_8h_source.html#l00050">GraphWriter.h:50</a></div></div>
<div class="ttc" id="aMachineBlockPlacement_8cpp_html_a086f939e29b718dc5a01e4bcfe6af2a1"><div class="ttname"><a href="MachineBlockPlacement_8cpp.html#a086f939e29b718dc5a01e4bcfe6af2a1">Stats</a></div><div class="ttdeci">block placement Basic Block Placement Stats</div><div class="ttdef"><b>Definition:</b> <a href="MachineBlockPlacement_8cpp_source.html#l03669">MachineBlockPlacement.cpp:3669</a></div></div>
<div class="ttc" id="aclassllvm_1_1AnalysisUsage_html_af22b06a6a4f9df80454071685a0d6a02"><div class="ttname"><a href="classllvm_1_1AnalysisUsage.html#af22b06a6a4f9df80454071685a0d6a02">llvm::AnalysisUsage::setPreservesAll</a></div><div class="ttdeci">void setPreservesAll()</div><div class="ttdoc">Set by analyses that do not transform their input at all.</div><div class="ttdef"><b>Definition:</b> <a href="PassAnalysisSupport_8h_source.html#l00130">PassAnalysisSupport.h:130</a></div></div>
<div class="ttc" id="aclassllvm_1_1PreservedAnalyses_html_a1258a1ff55557c27684010ebd7283712"><div class="ttname"><a href="classllvm_1_1PreservedAnalyses.html#a1258a1ff55557c27684010ebd7283712">llvm::PreservedAnalyses::all</a></div><div class="ttdeci">static PreservedAnalyses all()</div><div class="ttdoc">Construct a special preserved set that preserves all passes.</div><div class="ttdef"><b>Definition:</b> <a href="PassManager_8h_source.html#l00158">PassManager.h:158</a></div></div>
<div class="ttc" id="astructDebugInfoPerPass_html_a4c856759d515a856df4294aa8a60ccc1"><div class="ttname"><a href="structDebugInfoPerPass.html#a4c856759d515a856df4294aa8a60ccc1">DebugInfoPerPass::DILocations</a></div><div class="ttdeci">DebugInstMap DILocations</div><div class="ttdef"><b>Definition:</b> <a href="Debugify_8h_source.html#l00038">Debugify.h:38</a></div></div>
<div class="ttc" id="aclassllvm_1_1MapVector_html_acf4c09e1f30cdd4e0b5b1b8a236ead34"><div class="ttname"><a href="classllvm_1_1MapVector.html#acf4c09e1f30cdd4e0b5b1b8a236ead34">llvm::MapVector::size</a></div><div class="ttdeci">size_type size() const</div><div class="ttdef"><b>Definition:</b> <a href="MapVector_8h_source.html#l00061">MapVector.h:61</a></div></div>
<div class="ttc" id="aDebugify_8cpp_html_a6973678cd5309a008b0bc635ad230115"><div class="ttname"><a href="Debugify_8cpp.html#a6973678cd5309a008b0bc635ad230115">CDM</a></div><div class="ttdeci">static RegisterPass&lt; CheckDebugifyModulePass &gt; CDM(&quot;check-debugify&quot;, &quot;Check debug info from -debugify&quot;)</div></div>
<div class="ttc" id="aDebugify_8cpp_html_a8eb4d536e570cc08e82d91095b892ed2"><div class="ttname"><a href="Debugify_8cpp.html#a8eb4d536e570cc08e82d91095b892ed2">writeJSON</a></div><div class="ttdeci">static void writeJSON(StringRef OrigDIVerifyBugsReportFilePath, StringRef FileNameFromCU, StringRef NameOfWrappedPass, llvm::json::Array &amp;Bugs)</div><div class="ttdef"><b>Definition:</b> <a href="Debugify_8cpp_source.html#l00511">Debugify.cpp:511</a></div></div>
<div class="ttc" id="aclassllvm_1_1DIBuilder_html_a57d91109bab556ea565fe8dd35f1d30c"><div class="ttname"><a href="classllvm_1_1DIBuilder.html#a57d91109bab556ea565fe8dd35f1d30c">llvm::DIBuilder::createFunction</a></div><div class="ttdeci">DISubprogram * createFunction(DIScope *Scope, StringRef Name, StringRef LinkageName, DIFile *File, unsigned LineNo, DISubroutineType *Ty, unsigned ScopeLine, DINode::DIFlags Flags=DINode::FlagZero, DISubprogram::DISPFlags SPFlags=DISubprogram::SPFlagZero, DITemplateParameterArray TParams=nullptr, DISubprogram *Decl=nullptr, DITypeArray ThrownTypes=nullptr, DINodeArray Annotations=nullptr, StringRef TargetFuncName=&quot;&quot;)</div><div class="ttdoc">Create a new descriptor for the specified subprogram.</div><div class="ttdef"><b>Definition:</b> <a href="DIBuilder_8cpp_source.html#l00848">DIBuilder.cpp:848</a></div></div>
<div class="ttc" id="aclassllvm_1_1Pass_html"><div class="ttname"><a href="classllvm_1_1Pass.html">llvm::Pass</a></div><div class="ttdoc">Pass interface - Implemented by all 'passes'.</div><div class="ttdef"><b>Definition:</b> <a href="Pass_8h_source.html#l00091">Pass.h:91</a></div></div>
<div class="ttc" id="aInstructions_8h_html"><div class="ttname"><a href="Instructions_8h.html">Instructions.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html_ab4f3bf98b5054831b608852e33427814"><div class="ttname"><a href="classllvm_1_1Instruction.html#ab4f3bf98b5054831b608852e33427814">llvm::Instruction::getDebugLoc</a></div><div class="ttdeci">const DebugLoc &amp; getDebugLoc() const</div><div class="ttdoc">Return the debug location for this node as a DebugLoc.</div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8h_source.html#l00358">Instruction.h:358</a></div></div>
<div class="ttc" id="aclassllvm_1_1PassInstrumentationCallbacks_html"><div class="ttname"><a href="classllvm_1_1PassInstrumentationCallbacks.html">llvm::PassInstrumentationCallbacks</a></div><div class="ttdoc">This class manages callbacks registration, as well as provides a way for PassInstrumentation to pass ...</div><div class="ttdef"><b>Definition:</b> <a href="PassInstrumentation_8h_source.html#l00066">PassInstrumentation.h:66</a></div></div>
<div class="ttc" id="aregcomp_8c_html_a0240ac851181b84ac374872dc5434ee4"><div class="ttname"><a href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a></div><div class="ttdeci">#define N</div></div>
<div class="ttc" id="aDebugify_8cpp_html_ae523e32b9aff5ef8ccdd49c52081c8cc"><div class="ttname"><a href="Debugify_8cpp.html#ae523e32b9aff5ef8ccdd49c52081c8cc">createCheckDebugifyModulePass</a></div><div class="ttdeci">ModulePass * createCheckDebugifyModulePass(bool Strip, StringRef NameOfWrappedPass, DebugifyStatsMap *StatsMap, enum DebugifyMode Mode, DebugInfoPerPass *DebugInfoBeforePass, StringRef OrigDIVerifyBugsReportFilePath)</div><div class="ttdef"><b>Definition:</b> <a href="Debugify_8cpp_source.html#l00985">Debugify.cpp:985</a></div></div>
<div class="ttc" id="anamespacellvm_1_1sys_1_1fs_html_a662978c0cdf81de0d448032f142a3695ac999fafdcc991e61bbc2df56a4310083"><div class="ttname"><a href="namespacellvm_1_1sys_1_1fs.html#a662978c0cdf81de0d448032f142a3695ac999fafdcc991e61bbc2df56a4310083">llvm::sys::fs::OF_Append</a></div><div class="ttdeci">@ OF_Append</div><div class="ttdoc">The file should be opened in append mode.</div><div class="ttdef"><b>Definition:</b> <a href="FileSystem_8h_source.html#l00773">FileSystem.h:773</a></div></div>
<div class="ttc" id="aclassllvm_1_1iterator__range_html"><div class="ttname"><a href="classllvm_1_1iterator__range.html">llvm::iterator_range</a></div><div class="ttdoc">A range adaptor for a pair of iterators.</div><div class="ttdef"><b>Definition:</b> <a href="iterator__range_8h_source.html#l00030">iterator_range.h:30</a></div></div>
<div class="ttc" id="aclassllvm_1_1DIExpression_html_a1b59c8fe81267b338774bf6c542f90ee"><div class="ttname"><a href="classllvm_1_1DIExpression.html#a1b59c8fe81267b338774bf6c542f90ee">llvm::DIExpression::getNumElements</a></div><div class="ttdeci">unsigned getNumElements() const</div><div class="ttdef"><b>Definition:</b> <a href="DebugInfoMetadata_8h_source.html#l02637">DebugInfoMetadata.h:2637</a></div></div>
<div class="ttc" id="aclassllvm_1_1AnalysisManager_html"><div class="ttname"><a href="classllvm_1_1AnalysisManager.html">llvm::AnalysisManager</a></div><div class="ttdoc">A container for analyses that lazily runs them and caches their results.</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8h_source.html#l00042">InstructionSimplify.h:42</a></div></div>
<div class="ttc" id="aclassllvm_1_1FunctionPass_html"><div class="ttname"><a href="classllvm_1_1FunctionPass.html">llvm::FunctionPass</a></div><div class="ttdoc">FunctionPass class - This class is used to implement most global optimizations.</div><div class="ttdef"><b>Definition:</b> <a href="Pass_8h_source.html#l00308">Pass.h:308</a></div></div>
<div class="ttc" id="alib_2CodeGen_2README_8txt_html_a09776db24cf586ec9f1e18f3bae14099"><div class="ttname"><a href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a></div><div class="ttdeci">Common register allocation spilling lr str ldr sxth r3 ldr mla r4 can lr mov lr str ldr sxth r3 mla r4 and then merge mul and lr str ldr sxth r3 mla r4 It also increase the likelihood the store may become dead bb27 Successors according to LLVM BB</div><div class="ttdef"><b>Definition:</b> <a href="lib_2CodeGen_2README_8txt_source.html#l00039">README.txt:39</a></div></div>
<div class="ttc" id="aclassllvm_1_1DIBuilder_html_ab76e3275f4ae2b0601c15cf2d4e957af"><div class="ttname"><a href="classllvm_1_1DIBuilder.html#ab76e3275f4ae2b0601c15cf2d4e957af">llvm::DIBuilder::createBasicType</a></div><div class="ttdeci">DIBasicType * createBasicType(StringRef Name, uint64_t SizeInBits, unsigned Encoding, DINode::DIFlags Flags=DINode::FlagZero)</div><div class="ttdoc">Create debugging information entry for a basic type.</div><div class="ttdef"><b>Definition:</b> <a href="DIBuilder_8cpp_source.html#l00283">DIBuilder.cpp:283</a></div></div>
<div class="ttc" id="astructllvm_1_1cl_1_1desc_html"><div class="ttname"><a href="structllvm_1_1cl_1_1desc.html">llvm::cl::desc</a></div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00411">CommandLine.h:411</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ARMBuildAttrs_html_aea10ca6bf098a425d51ac7fe65d30ed6aecf09ba70b320e04fec09afb59d502cd"><div class="ttname"><a href="namespacellvm_1_1ARMBuildAttrs.html#aea10ca6bf098a425d51ac7fe65d30ed6aecf09ba70b320e04fec09afb59d502cd">llvm::ARMBuildAttrs::File</a></div><div class="ttdeci">@ File</div><div class="ttdef"><b>Definition:</b> <a href="ARMBuildAttributes_8h_source.html#l00036">ARMBuildAttributes.h:36</a></div></div>
<div class="ttc" id="anamespacellvm_1_1M68kBeads_html_a7eeab1fe8f39bf89dcd7929b816ebfcca27d0e059322508a76f918503800ef1bd"><div class="ttname"><a href="namespacellvm_1_1M68kBeads.html#a7eeab1fe8f39bf89dcd7929b816ebfcca27d0e059322508a76f918503800ef1bd">llvm::M68kBeads::Term</a></div><div class="ttdeci">@ Term</div><div class="ttdef"><b>Definition:</b> <a href="M68kBaseInfo_8h_source.html#l00090">M68kBaseInfo.h:90</a></div></div>
<div class="ttc" id="aclassllvm_1_1json_1_1Object_html"><div class="ttname"><a href="classllvm_1_1json_1_1Object.html">llvm::json::Object</a></div><div class="ttdoc">An Object is a JSON object, which maps strings to heterogenous JSON values.</div><div class="ttdef"><b>Definition:</b> <a href="JSON_8h_source.html#l00092">JSON.h:92</a></div></div>
<div class="ttc" id="aclassllvm_1_1NamedMDNode_html_ad2c0af191fb0d4aff661994b0d234e40"><div class="ttname"><a href="classllvm_1_1NamedMDNode.html#ad2c0af191fb0d4aff661994b0d234e40">llvm::NamedMDNode::clearOperands</a></div><div class="ttdeci">void clearOperands()</div><div class="ttdoc">Drop all references to this node's operands.</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8cpp_source.html#l01230">Metadata.cpp:1230</a></div></div>
<div class="ttc" id="anamespaceCU_html"><div class="ttname"><a href="namespaceCU.html">CU</a></div><div class="ttdef"><b>Definition:</b> <a href="AArch64AsmBackend_8cpp_source.html#l00505">AArch64AsmBackend.cpp:505</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html"><div class="ttname"><a href="classllvm_1_1Value.html">llvm::Value</a></div><div class="ttdoc">LLVM Value Representation.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00074">Value.h:74</a></div></div>
<div class="ttc" id="aX86LowerAMXIntrinsics_8cpp_html_adb9257105a403ef9d0773b87693f7779"><div class="ttname"><a href="X86LowerAMXIntrinsics_8cpp.html#adb9257105a403ef9d0773b87693f7779">PassName</a></div><div class="ttdeci">static const char PassName[]</div><div class="ttdef"><b>Definition:</b> <a href="X86LowerAMXIntrinsics_8cpp_source.html#l00671">X86LowerAMXIntrinsics.cpp:671</a></div></div>
<div class="ttc" id="aDebugify_8cpp_html_ae340f07c3f677f4518e4884b9043f5d8"><div class="ttname"><a href="Debugify_8cpp.html#ae340f07c3f677f4518e4884b9043f5d8">checkVars</a></div><div class="ttdeci">static bool checkVars(const DebugVarMap &amp;DIVarsBefore, const DebugVarMap &amp;DIVarsAfter, StringRef NameOfWrappedPass, StringRef FileNameFromCU, bool ShouldWriteIntoJSON, llvm::json::Array &amp;Bugs)</div><div class="ttdef"><b>Definition:</b> <a href="Debugify_8cpp_source.html#l00478">Debugify.cpp:478</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Aug 7 2023 10:35:49 for LLVM by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
