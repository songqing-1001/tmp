<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LLVM: llvm::BranchProbabilityInfo Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LLVM
   &#160;<span id="projectnumber">17.0.0git</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacellvm.html">llvm</a></li><li class="navelem"><a class="el" href="classllvm_1_1BranchProbabilityInfo.html">BranchProbabilityInfo</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="classllvm_1_1BranchProbabilityInfo-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">llvm::BranchProbabilityInfo Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Analysis providing branch probability information.  
 <a href="classllvm_1_1BranchProbabilityInfo.html#details">More...</a></p>

<p><code>#include &quot;<a class="el" href="BranchProbabilityInfo_8h_source.html">llvm/Analysis/BranchProbabilityInfo.h</a>&quot;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classllvm_1_1BranchProbabilityInfo_1_1SccInfo.html">SccInfo</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a771cb111ac312594590e53c1f3699fda"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classllvm_1_1BranchProbabilityInfo.html#a771cb111ac312594590e53c1f3699fda">BranchProbabilityInfo</a> ()=default</td></tr>
<tr class="separator:a771cb111ac312594590e53c1f3699fda"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad18bab54d5bb7925300874713924714b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classllvm_1_1BranchProbabilityInfo.html#ad18bab54d5bb7925300874713924714b">BranchProbabilityInfo</a> (<a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1Function.html">Function</a> &amp;<a class="el" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, <a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1LoopInfo.html">LoopInfo</a> &amp;LI, <a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1TargetLibraryInfo.html">TargetLibraryInfo</a> *TLI=nullptr, <a class="el" href="classllvm_1_1DominatorTree.html">DominatorTree</a> *DT=nullptr, <a class="el" href="classllvm_1_1PostDominatorTree.html">PostDominatorTree</a> *PDT=nullptr)</td></tr>
<tr class="separator:ad18bab54d5bb7925300874713924714b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab030c39bf198b14c4420c1c5e6c16114"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classllvm_1_1BranchProbabilityInfo.html#ab030c39bf198b14c4420c1c5e6c16114">BranchProbabilityInfo</a> (<a class="el" href="classllvm_1_1BranchProbabilityInfo.html">BranchProbabilityInfo</a> &amp;&amp;<a class="el" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>)</td></tr>
<tr class="separator:ab030c39bf198b14c4420c1c5e6c16114"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e4567e9936d8106c79d2323c859f5ba"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classllvm_1_1BranchProbabilityInfo.html#a3e4567e9936d8106c79d2323c859f5ba">BranchProbabilityInfo</a> (<a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1BranchProbabilityInfo.html">BranchProbabilityInfo</a> &amp;)=delete</td></tr>
<tr class="separator:a3e4567e9936d8106c79d2323c859f5ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e0961f9bd7bb01f20c5213e39fa8b08"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classllvm_1_1BranchProbabilityInfo.html">BranchProbabilityInfo</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classllvm_1_1BranchProbabilityInfo.html#a7e0961f9bd7bb01f20c5213e39fa8b08">operator=</a> (<a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1BranchProbabilityInfo.html">BranchProbabilityInfo</a> &amp;)=delete</td></tr>
<tr class="separator:a7e0961f9bd7bb01f20c5213e39fa8b08"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3339cf5c24b9bb9b62ab28592cffbb5c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classllvm_1_1BranchProbabilityInfo.html">BranchProbabilityInfo</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classllvm_1_1BranchProbabilityInfo.html#a3339cf5c24b9bb9b62ab28592cffbb5c">operator=</a> (<a class="el" href="classllvm_1_1BranchProbabilityInfo.html">BranchProbabilityInfo</a> &amp;&amp;<a class="el" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>)</td></tr>
<tr class="separator:a3339cf5c24b9bb9b62ab28592cffbb5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41951a9cbc849c4e0f2930f594c08847"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classllvm_1_1BranchProbabilityInfo.html#a41951a9cbc849c4e0f2930f594c08847">invalidate</a> (<a class="el" href="classllvm_1_1Function.html">Function</a> &amp;, <a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1PreservedAnalyses.html">PreservedAnalyses</a> &amp;PA, <a class="el" href="classllvm_1_1AnalysisManager_1_1Invalidator.html">FunctionAnalysisManager::Invalidator</a> &amp;)</td></tr>
<tr class="separator:a41951a9cbc849c4e0f2930f594c08847"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a884b41d94b6ffea3302b48b3ab14fd58"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classllvm_1_1BranchProbabilityInfo.html#a884b41d94b6ffea3302b48b3ab14fd58">releaseMemory</a> ()</td></tr>
<tr class="separator:a884b41d94b6ffea3302b48b3ab14fd58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acea510110989b4372eae3d2e68fcf04d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classllvm_1_1BranchProbabilityInfo.html#acea510110989b4372eae3d2e68fcf04d">print</a> (<a class="el" href="classllvm_1_1raw__ostream.html">raw_ostream</a> &amp;<a class="el" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>) <a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a></td></tr>
<tr class="separator:acea510110989b4372eae3d2e68fcf04d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46502d648608aa13cb485ed4af447d88"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classllvm_1_1BranchProbability.html">BranchProbability</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classllvm_1_1BranchProbabilityInfo.html#a46502d648608aa13cb485ed4af447d88">getEdgeProbability</a> (<a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *Src, <a class="el" href="ADT_2tmp_8txt.html#aa10ee7493bddf2c751ca6e05451ef410">unsigned</a> IndexInSuccessors) <a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a></td></tr>
<tr class="memdesc:a46502d648608aa13cb485ed4af447d88"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get an edge's probability, relative to other out-edges of the Src.  <a href="classllvm_1_1BranchProbabilityInfo.html#a46502d648608aa13cb485ed4af447d88">More...</a><br /></td></tr>
<tr class="separator:a46502d648608aa13cb485ed4af447d88"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b76388f3768d895c2c1029d3356481a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classllvm_1_1BranchProbability.html">BranchProbability</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classllvm_1_1BranchProbabilityInfo.html#a8b76388f3768d895c2c1029d3356481a">getEdgeProbability</a> (<a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *Src, <a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *Dst) <a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a></td></tr>
<tr class="memdesc:a8b76388f3768d895c2c1029d3356481a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the probability of going from Src to Dst.  <a href="classllvm_1_1BranchProbabilityInfo.html#a8b76388f3768d895c2c1029d3356481a">More...</a><br /></td></tr>
<tr class="separator:a8b76388f3768d895c2c1029d3356481a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c75ce4a52aef066547edde4b012e6e2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classllvm_1_1BranchProbability.html">BranchProbability</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classllvm_1_1BranchProbabilityInfo.html#a4c75ce4a52aef066547edde4b012e6e2">getEdgeProbability</a> (<a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *Src, <a class="el" href="namespacellvm.html#af8f47bdd38873dfc134c383fa01b303a">const_succ_iterator</a> Dst) <a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a></td></tr>
<tr class="separator:a4c75ce4a52aef066547edde4b012e6e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2da8547348736e285afd8af9093a83d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classllvm_1_1BranchProbabilityInfo.html#aa2da8547348736e285afd8af9093a83d">isEdgeHot</a> (<a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *Src, <a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *Dst) <a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a></td></tr>
<tr class="memdesc:aa2da8547348736e285afd8af9093a83d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Test if an edge is hot relative to other out-edges of the Src.  <a href="classllvm_1_1BranchProbabilityInfo.html#aa2da8547348736e285afd8af9093a83d">More...</a><br /></td></tr>
<tr class="separator:aa2da8547348736e285afd8af9093a83d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae13ac2ed5c40e40fff6ace158e7c0cf3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classllvm_1_1raw__ostream.html">raw_ostream</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classllvm_1_1BranchProbabilityInfo.html#ae13ac2ed5c40e40fff6ace158e7c0cf3">printEdgeProbability</a> (<a class="el" href="classllvm_1_1raw__ostream.html">raw_ostream</a> &amp;<a class="el" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>, <a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *Src, <a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *Dst) <a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a></td></tr>
<tr class="memdesc:ae13ac2ed5c40e40fff6ace158e7c0cf3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Print an edge's probability.  <a href="classllvm_1_1BranchProbabilityInfo.html#ae13ac2ed5c40e40fff6ace158e7c0cf3">More...</a><br /></td></tr>
<tr class="separator:ae13ac2ed5c40e40fff6ace158e7c0cf3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a145edc209aa2f628c73c9cf860eeeb5c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classllvm_1_1BranchProbabilityInfo.html#a145edc209aa2f628c73c9cf860eeeb5c">setEdgeProbability</a> (<a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *Src, <a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl</a>&lt; <a class="el" href="classllvm_1_1BranchProbability.html">BranchProbability</a> &gt; &amp;Probs)</td></tr>
<tr class="memdesc:a145edc209aa2f628c73c9cf860eeeb5c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the raw probabilities for all edges from the given block.  <a href="classllvm_1_1BranchProbabilityInfo.html#a145edc209aa2f628c73c9cf860eeeb5c">More...</a><br /></td></tr>
<tr class="separator:a145edc209aa2f628c73c9cf860eeeb5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af095c82360c397be730c08feb78264e9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classllvm_1_1BranchProbabilityInfo.html#af095c82360c397be730c08feb78264e9">copyEdgeProbabilities</a> (<a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *Src, <a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *Dst)</td></tr>
<tr class="memdesc:af095c82360c397be730c08feb78264e9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy outgoing edge probabilities from <code>Src</code> to <code>Dst</code>.  <a href="classllvm_1_1BranchProbabilityInfo.html#af095c82360c397be730c08feb78264e9">More...</a><br /></td></tr>
<tr class="separator:af095c82360c397be730c08feb78264e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54c3911cf4abbcd272fa99a303823942"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classllvm_1_1BranchProbabilityInfo.html#a54c3911cf4abbcd272fa99a303823942">calculate</a> (<a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1Function.html">Function</a> &amp;<a class="el" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, <a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1LoopInfo.html">LoopInfo</a> &amp;LI, <a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1TargetLibraryInfo.html">TargetLibraryInfo</a> *TLI, <a class="el" href="classllvm_1_1DominatorTree.html">DominatorTree</a> *DT, <a class="el" href="classllvm_1_1PostDominatorTree.html">PostDominatorTree</a> *PDT)</td></tr>
<tr class="separator:a54c3911cf4abbcd272fa99a303823942"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0afb8520349ae7dc725ebfbb0532dbb1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classllvm_1_1BranchProbabilityInfo.html#a0afb8520349ae7dc725ebfbb0532dbb1">eraseBlock</a> (<a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="el" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>)</td></tr>
<tr class="memdesc:a0afb8520349ae7dc725ebfbb0532dbb1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Forget analysis results for the given basic block.  <a href="classllvm_1_1BranchProbabilityInfo.html#a0afb8520349ae7dc725ebfbb0532dbb1">More...</a><br /></td></tr>
<tr class="separator:a0afb8520349ae7dc725ebfbb0532dbb1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a4e4a47209688ad8c4359d4bf0f020f14"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classllvm_1_1BranchProbability.html">BranchProbability</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classllvm_1_1BranchProbabilityInfo.html#a4e4a47209688ad8c4359d4bf0f020f14">getBranchProbStackProtector</a> (bool IsLikely)</td></tr>
<tr class="separator:a4e4a47209688ad8c4359d4bf0f020f14"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Analysis providing branch probability information. </p>
<p>This is a function analysis which provides information on the relative probabilities of each "edge" in the function's CFG where such an edge is defined by a pair (PredBlock and an index in the successors). The probability of an edge from one block is always relative to the probabilities of other edges from the block. The probabilites of all edges from a block sum to exactly one (100%). We use a pair (PredBlock and an index in the successors) to uniquely identify an edge, since we can have multiple edges from Src to Dst. As an example, we can have a switch which jumps to Dst with value 0 and value 10.</p>
<p>Process of computing branch probabilities can be logically viewed as three step process:</p>
<p>First, if there is a profile information associated with the branch then it is trivially translated to branch probabilities. There is one exception from this rule though. Probabilities for edges leading to "unreachable" blocks (blocks with the estimated weight not greater than UNREACHABLE_WEIGHT) are evaluated according to static estimation and override profile information. If no branch probabilities were calculated on this step then take the next one.</p>
<p>Second, estimate absolute execution weights for each block based on statically known information. Roots of such information are "cold", "unreachable", "noreturn" and "unwind" blocks. Those blocks get their weights set to <a class="el" href="BranchProbabilityInfo_8cpp.html#a0bab6cbda2c6f1e9dd352004a6b9f393a3f7ff4daa99912d1b0c8c64340edb9fb" title="Weight to a &#39;cold&#39; block.">BlockExecWeight::COLD</a>, <a class="el" href="BranchProbabilityInfo_8cpp.html#a0bab6cbda2c6f1e9dd352004a6b9f393a58fd3b3b1f27606728077423eb21d8d6" title="Weight to an &#39;unreachable&#39; block.">BlockExecWeight::UNREACHABLE</a>, <a class="el" href="BranchProbabilityInfo_8cpp.html#a0bab6cbda2c6f1e9dd352004a6b9f393a25c263e3b7486f9453d37151d62ff7d1" title="Weight to a block containing non returning call.">BlockExecWeight::NORETURN</a> and <a class="el" href="BranchProbabilityInfo_8cpp.html#a0bab6cbda2c6f1e9dd352004a6b9f393a37b88a87188456429fa6e6c31a6d2301" title="Weight to &#39;unwind&#39; block of an invoke instruction.">BlockExecWeight::UNWIND</a> respectively. Then the weights are propagated to the other blocks up the domination line. In addition, if all successors have estimated weights set then maximum of these weights assigned to the block itself (while this is not ideal heuristic in theory it's simple and works reasonably well in most cases) and the process repeats. Once the process of weights propagation converges branch probabilities are set for all such branches that have at least one successor with the weight set. Default execution weight (<a class="el" href="BranchProbabilityInfo_8cpp.html#a0bab6cbda2c6f1e9dd352004a6b9f393a5b39c8b553c821e7cddc6da64b5bd2ee" title="Default weight is used in cases when there is no dedicated execution weight set.">BlockExecWeight::DEFAULT</a>) is used for any successors which doesn't have its weight set. For loop back branches we use their weights scaled by loop trip count equal to 'LBH_TAKEN_WEIGHT/LBH_NOTTAKEN_WEIGHT'.</p>
<p>Here is a simple example demonstrating how the described algorithm works. </p><pre class="fragment">     BB1
    /   \
   v     v
 BB2     BB3
/   \
</pre><p> v v ColdBB UnreachBB</p>
<p>Initially, ColdBB is associated with COLD_WEIGHT and UnreachBB with UNREACHABLE_WEIGHT. COLD_WEIGHT is set to BB2 as maximum between its successors. BB1 and BB3 has no explicit estimated weights and assumed to have DEFAULT_WEIGHT. Based on assigned weights branches will have the following probabilities: P(BB1-&gt;BB2) = COLD_WEIGHT/(COLD_WEIGHT + DEFAULT_WEIGHT) = 0xffff / (0xffff + 0xfffff) = 0.0588(5.9%) P(BB1-&gt;BB3) = DEFAULT_WEIGHT_WEIGHT/(COLD_WEIGHT + DEFAULT_WEIGHT) = 0xfffff / (0xffff + 0xfffff) = 0.941(94.1%) P(BB2-&gt;ColdBB) = COLD_WEIGHT/(COLD_WEIGHT + UNREACHABLE_WEIGHT) = 1(100%) P(BB2-&gt;UnreachBB) = UNREACHABLE_WEIGHT/(COLD_WEIGHT+UNREACHABLE_WEIGHT) = 0(0%)</p>
<p>If no branch probabilities were calculated on this step then take the next one.</p>
<p>Third, apply different kinds of local heuristics for each individual branch until first match. For example probability of a pointer to be null is estimated as PH_TAKEN_WEIGHT/(PH_TAKEN_WEIGHT + PH_NONTAKEN_WEIGHT). If no local heuristic has been matched then branch is left with no explicit probability set and assumed to have default probability. </p>

<p class="definition">Definition at line <a class="el" href="BranchProbabilityInfo_8h_source.html#l00113">113</a> of file <a class="el" href="BranchProbabilityInfo_8h_source.html">BranchProbabilityInfo.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a771cb111ac312594590e53c1f3699fda"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a771cb111ac312594590e53c1f3699fda">&#9670;&nbsp;</a></span>BranchProbabilityInfo() <span class="overload">[1/4]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">llvm::BranchProbabilityInfo::BranchProbabilityInfo </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ad18bab54d5bb7925300874713924714b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad18bab54d5bb7925300874713924714b">&#9670;&nbsp;</a></span>BranchProbabilityInfo() <span class="overload">[2/4]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">llvm::BranchProbabilityInfo::BranchProbabilityInfo </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1Function.html">Function</a> &amp;&#160;</td>
          <td class="paramname"><em>F</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1LoopInfo.html">LoopInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>LI</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1TargetLibraryInfo.html">TargetLibraryInfo</a> *&#160;</td>
          <td class="paramname"><em>TLI</em> = <code>nullptr</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1DominatorTree.html">DominatorTree</a> *&#160;</td>
          <td class="paramname"><em>DT</em> = <code>nullptr</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1PostDominatorTree.html">PostDominatorTree</a> *&#160;</td>
          <td class="paramname"><em>PDT</em> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BranchProbabilityInfo_8h_source.html#l00117">117</a> of file <a class="el" href="BranchProbabilityInfo_8h_source.html">BranchProbabilityInfo.h</a>.</p>

<p class="reference">References <a class="el" href="BranchProbabilityInfo_8cpp_source.html#l01212">calculate()</a>, and <a class="el" href="MD5_8cpp_source.html#l00055">F</a>.</p>

</div>
</div>
<a id="ab030c39bf198b14c4420c1c5e6c16114"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab030c39bf198b14c4420c1c5e6c16114">&#9670;&nbsp;</a></span>BranchProbabilityInfo() <span class="overload">[3/4]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">llvm::BranchProbabilityInfo::BranchProbabilityInfo </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1BranchProbabilityInfo.html">BranchProbabilityInfo</a> &amp;&amp;&#160;</td>
          <td class="paramname"><em>Arg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BranchProbabilityInfo_8h_source.html#l00124">124</a> of file <a class="el" href="BranchProbabilityInfo_8h_source.html">BranchProbabilityInfo.h</a>.</p>

</div>
</div>
<a id="a3e4567e9936d8106c79d2323c859f5ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e4567e9936d8106c79d2323c859f5ba">&#9670;&nbsp;</a></span>BranchProbabilityInfo() <span class="overload">[4/4]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">llvm::BranchProbabilityInfo::BranchProbabilityInfo </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1BranchProbabilityInfo.html">BranchProbabilityInfo</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a54c3911cf4abbcd272fa99a303823942"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a54c3911cf4abbcd272fa99a303823942">&#9670;&nbsp;</a></span>calculate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BranchProbabilityInfo::calculate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1Function.html">Function</a> &amp;&#160;</td>
          <td class="paramname"><em>F</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1LoopInfo.html">LoopInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>LI</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1TargetLibraryInfo.html">TargetLibraryInfo</a> *&#160;</td>
          <td class="paramname"><em>TLI</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1DominatorTree.html">DominatorTree</a> *&#160;</td>
          <td class="paramname"><em>DT</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1PostDominatorTree.html">PostDominatorTree</a> *&#160;</td>
          <td class="paramname"><em>PDT</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BranchProbabilityInfo_8cpp_source.html#l01212">1212</a> of file <a class="el" href="BranchProbabilityInfo_8cpp_source.html">BranchProbabilityInfo.cpp</a>.</p>

<p class="reference">References <a class="el" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert()</a>, <a class="el" href="lib_2CodeGen_2README_8txt_source.html#l00039">BB</a>, <a class="el" href="DenseMap_8h_source.html#l00110">llvm::DenseMapBase&lt; DerivedT, KeyT, ValueT, KeyInfoT, BucketT &gt;::clear()</a>, <a class="el" href="Debug_8cpp_source.html#l00163">llvm::dbgs()</a>, <a class="el" href="DenseMap_8h_source.html#l00098">llvm::DenseMapBase&lt; DerivedT, KeyT, ValueT, KeyInfoT, BucketT &gt;::empty()</a>, <a class="el" href="MD5_8cpp_source.html#l00055">F</a>, <a class="el" href="Debug_8h_source.html#l00101">LLVM_DEBUG</a>, <a class="el" href="PostOrderIterator_8h_source.html#l00191">llvm::post_order()</a>, <a class="el" href="BranchProbabilityInfo_8cpp_source.html#l01072">print()</a>, <a class="el" href="BranchProbabilityInfo_8cpp.html#a0fef69381a3d5f78c54b7c557f92bc2d">PrintBranchProb</a>, and <a class="el" href="BranchProbabilityInfo_8cpp.html#a48dde12ee57ba44efa9bf102782f4c36">PrintBranchProbFuncName</a>.</p>

<p class="reference">Referenced by <a class="el" href="BranchProbabilityInfo_8h_source.html#l00117">BranchProbabilityInfo()</a>, and <a class="el" href="BranchProbabilityInfo_8cpp_source.html#l01305">llvm::BranchProbabilityAnalysis::run()</a>.</p>

</div>
</div>
<a id="af095c82360c397be730c08feb78264e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af095c82360c397be730c08feb78264e9">&#9670;&nbsp;</a></span>copyEdgeProbabilities()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BranchProbabilityInfo::copyEdgeProbabilities </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *&#160;</td>
          <td class="paramname"><em>Src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *&#160;</td>
          <td class="paramname"><em>Dst</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Copy outgoing edge probabilities from <code>Src</code> to <code>Dst</code>. </p>
<p>This allows to keep probabilities unset for the destination if they were unset for source. </p>

<p class="definition">Definition at line <a class="el" href="BranchProbabilityInfo_8cpp_source.html#l01159">1159</a> of file <a class="el" href="BranchProbabilityInfo_8cpp_source.html">BranchProbabilityInfo.cpp</a>.</p>

<p class="reference">References <a class="el" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert()</a>, <a class="el" href="Debug_8cpp_source.html#l00163">llvm::dbgs()</a>, <a class="el" href="BranchProbabilityInfo_8cpp_source.html#l01190">eraseBlock()</a>, <a class="el" href="Debug_8h_source.html#l00101">LLVM_DEBUG</a>, and <a class="el" href="lib_2Analysis_2README_8txt_source.html#l00008">this</a>.</p>

</div>
</div>
<a id="a0afb8520349ae7dc725ebfbb0532dbb1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0afb8520349ae7dc725ebfbb0532dbb1">&#9670;&nbsp;</a></span>eraseBlock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BranchProbabilityInfo::eraseBlock </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *&#160;</td>
          <td class="paramname"><em>BB</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Forget analysis results for the given basic block. </p>

<p class="definition">Definition at line <a class="el" href="BranchProbabilityInfo_8cpp_source.html#l01190">1190</a> of file <a class="el" href="BranchProbabilityInfo_8cpp_source.html">BranchProbabilityInfo.cpp</a>.</p>

<p class="reference">References <a class="el" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert()</a>, <a class="el" href="lib_2CodeGen_2README_8txt_source.html#l00039">BB</a>, <a class="el" href="Debug_8cpp_source.html#l00163">llvm::dbgs()</a>, <a class="el" href="MD5_8cpp_source.html#l00058">I</a>, and <a class="el" href="Debug_8h_source.html#l00101">LLVM_DEBUG</a>.</p>

<p class="reference">Referenced by <a class="el" href="BranchProbabilityInfo_8cpp_source.html#l01159">copyEdgeProbabilities()</a>, <a class="el" href="BranchProbabilityInfo_8cpp_source.html#l01132">setEdgeProbability()</a>, and <a class="el" href="BreakCriticalEdges_8cpp_source.html#l00338">llvm::SplitIndirectBrCriticalEdges()</a>.</p>

</div>
</div>
<a id="a4e4a47209688ad8c4359d4bf0f020f14"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4e4a47209688ad8c4359d4bf0f020f14">&#9670;&nbsp;</a></span>getBranchProbStackProtector()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classllvm_1_1BranchProbability.html">BranchProbability</a> llvm::BranchProbabilityInfo::getBranchProbStackProtector </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>IsLikely</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BranchProbabilityInfo_8h_source.html#l00192">192</a> of file <a class="el" href="BranchProbabilityInfo_8h_source.html">BranchProbabilityInfo.h</a>.</p>

<p class="reference">References <a class="el" href="BranchProbability_8h_source.html#l00069">llvm::BranchProbability::getCompl()</a>.</p>

</div>
</div>
<a id="a8b76388f3768d895c2c1029d3356481a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b76388f3768d895c2c1029d3356481a">&#9670;&nbsp;</a></span>getEdgeProbability() <span class="overload">[1/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classllvm_1_1BranchProbability.html">BranchProbability</a> BranchProbabilityInfo::getEdgeProbability </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *&#160;</td>
          <td class="paramname"><em>Src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *&#160;</td>
          <td class="paramname"><em>Dst</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the probability of going from Src to Dst. </p>
<p>Get the raw edge probability calculated for the block pair.</p>
<p>It returns the sum of all probabilities for edges from Src to Dst.</p>
<p>This returns the sum of all raw edge probabilities from Src to Dst. </p>

<p class="definition">Definition at line <a class="el" href="BranchProbabilityInfo_8cpp_source.html#l01118">1118</a> of file <a class="el" href="BranchProbabilityInfo_8cpp_source.html">BranchProbabilityInfo.cpp</a>.</p>

<p class="reference">References <a class="el" href="STLExtras_8h_source.html#l01896">llvm::count()</a>, <a class="el" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>, <a class="el" href="BranchProbability_8h_source.html#l00049">llvm::BranchProbability::getZero()</a>, <a class="el" href="MD5_8cpp_source.html#l00058">I</a>, <a class="el" href="Interval_8h_source.html#l00099">llvm::succ_begin()</a>, <a class="el" href="Interval_8h_source.html#l00102">llvm::succ_end()</a>, <a class="el" href="MachineSSAContext_8h_source.html#l00029">llvm::succ_size()</a>, and <a class="el" href="MachineBasicBlock_8h_source.html#l01265">llvm::successors()</a>.</p>

</div>
</div>
<a id="a4c75ce4a52aef066547edde4b012e6e2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4c75ce4a52aef066547edde4b012e6e2">&#9670;&nbsp;</a></span>getEdgeProbability() <span class="overload">[2/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classllvm_1_1BranchProbability.html">BranchProbability</a> BranchProbabilityInfo::getEdgeProbability </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *&#160;</td>
          <td class="paramname"><em>Src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacellvm.html#af8f47bdd38873dfc134c383fa01b303a">const_succ_iterator</a>&#160;</td>
          <td class="paramname"><em>Dst</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BranchProbabilityInfo_8cpp_source.html#l01110">1110</a> of file <a class="el" href="BranchProbabilityInfo_8cpp_source.html">BranchProbabilityInfo.cpp</a>.</p>

<p class="reference">References <a class="el" href="BranchProbabilityInfo_8cpp_source.html#l01095">getEdgeProbability()</a>.</p>

</div>
</div>
<a id="a46502d648608aa13cb485ed4af447d88"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a46502d648608aa13cb485ed4af447d88">&#9670;&nbsp;</a></span>getEdgeProbability() <span class="overload">[3/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classllvm_1_1BranchProbability.html">BranchProbability</a> BranchProbabilityInfo::getEdgeProbability </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *&#160;</td>
          <td class="paramname"><em>Src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ADT_2tmp_8txt.html#aa10ee7493bddf2c751ca6e05451ef410">unsigned</a>&#160;</td>
          <td class="paramname"><em>IndexInSuccessors</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get an edge's probability, relative to other out-edges of the Src. </p>
<p>Get the raw edge probability for the edge.</p>
<p>This routine provides access to the fractional probability between zero (0%) and one (100%) of this edge executing, relative to other edges leaving the 'Src' block. The returned probability is never zero, and can only be one if the source block has only one successor.</p>
<p>If can't find it, return a default probability 1/N where N is the number of successors. Here an edge is specified using PredBlock and an index to the successors. </p>

<p class="definition">Definition at line <a class="el" href="BranchProbabilityInfo_8cpp_source.html#l01095">1095</a> of file <a class="el" href="BranchProbabilityInfo_8cpp_source.html">BranchProbabilityInfo.cpp</a>.</p>

<p class="reference">References <a class="el" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert()</a>, <a class="el" href="MD5_8cpp_source.html#l00058">I</a>, and <a class="el" href="MachineSSAContext_8h_source.html#l00029">llvm::succ_size()</a>.</p>

<p class="reference">Referenced by <a class="el" href="CodeExtractor_8cpp_source.html#l01643">llvm::CodeExtractor::extractCodeRegion()</a>, <a class="el" href="SelectionDAGBuilder_8cpp_source.html#l01870">findUnwindDestinations()</a>, <a class="el" href="PPCISelDAGToDAG_8cpp_source.html#l00593">getBranchHint()</a>, <a class="el" href="CFGPrinter_8h_source.html#l00247">llvm::DOTGraphTraits&lt; DOTFuncInfo * &gt;::getEdgeAttributes()</a>, <a class="el" href="BranchProbabilityInfo_8cpp_source.html#l01110">getEdgeProbability()</a>, <a class="el" href="BranchProbabilityInfo_8cpp_source.html#l01084">isEdgeHot()</a>, <a class="el" href="BranchProbabilityInfo_8cpp_source.html#l01179">printEdgeProbability()</a>, and <a class="el" href="BreakCriticalEdges_8cpp_source.html#l00338">llvm::SplitIndirectBrCriticalEdges()</a>.</p>

</div>
</div>
<a id="a41951a9cbc849c4e0f2930f594c08847"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a41951a9cbc849c4e0f2930f594c08847">&#9670;&nbsp;</a></span>invalidate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool BranchProbabilityInfo::invalidate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1Function.html">Function</a> &amp;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1PreservedAnalyses.html">PreservedAnalyses</a> &amp;&#160;</td>
          <td class="paramname"><em>PA</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1AnalysisManager_1_1Invalidator.html">FunctionAnalysisManager::Invalidator</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BranchProbabilityInfo_8cpp_source.html#l01063">1063</a> of file <a class="el" href="BranchProbabilityInfo_8cpp_source.html">BranchProbabilityInfo.cpp</a>.</p>

<p class="reference">References <a class="el" href="PassManager_8h_source.html#l00310">llvm::PreservedAnalyses::getChecker()</a>.</p>

</div>
</div>
<a id="aa2da8547348736e285afd8af9093a83d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa2da8547348736e285afd8af9093a83d">&#9670;&nbsp;</a></span>isEdgeHot()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool BranchProbabilityInfo::isEdgeHot </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *&#160;</td>
          <td class="paramname"><em>Src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *&#160;</td>
          <td class="paramname"><em>Dst</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Test if an edge is hot relative to other out-edges of the Src. </p>
<p><a class="el" href="namespacellvm_1_1Check.html">Check</a> whether this edge out of the source block is 'hot'. We define hot as having a relative probability &gt;= 80%. </p>

<p class="definition">Definition at line <a class="el" href="BranchProbabilityInfo_8cpp_source.html#l01084">1084</a> of file <a class="el" href="BranchProbabilityInfo_8cpp_source.html">BranchProbabilityInfo.cpp</a>.</p>

<p class="reference">References <a class="el" href="BranchProbabilityInfo_8cpp_source.html#l01095">getEdgeProbability()</a>.</p>

<p class="reference">Referenced by <a class="el" href="BranchProbabilityInfo_8cpp_source.html#l01179">printEdgeProbability()</a>.</p>

</div>
</div>
<a id="a3339cf5c24b9bb9b62ab28592cffbb5c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3339cf5c24b9bb9b62ab28592cffbb5c">&#9670;&nbsp;</a></span>operator=() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classllvm_1_1BranchProbabilityInfo.html">BranchProbabilityInfo</a>&amp; llvm::BranchProbabilityInfo::operator= </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1BranchProbabilityInfo.html">BranchProbabilityInfo</a> &amp;&amp;&#160;</td>
          <td class="paramname"><em>RHS</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BranchProbabilityInfo_8h_source.html#l00131">131</a> of file <a class="el" href="BranchProbabilityInfo_8h_source.html">BranchProbabilityInfo.h</a>.</p>

<p class="reference">References <a class="el" href="lib_2Target_2ARM_2README_8txt_source.html#l00546">move</a>, <a class="el" href="BranchProbabilityInfo_8cpp_source.html#l01058">releaseMemory()</a>, and <a class="el" href="X86PartialReduction_8cpp_source.html#l00076">RHS</a>.</p>

</div>
</div>
<a id="a7e0961f9bd7bb01f20c5213e39fa8b08"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7e0961f9bd7bb01f20c5213e39fa8b08">&#9670;&nbsp;</a></span>operator=() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classllvm_1_1BranchProbabilityInfo.html">BranchProbabilityInfo</a>&amp; llvm::BranchProbabilityInfo::operator= </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1BranchProbabilityInfo.html">BranchProbabilityInfo</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="acea510110989b4372eae3d2e68fcf04d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acea510110989b4372eae3d2e68fcf04d">&#9670;&nbsp;</a></span>print()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BranchProbabilityInfo::print </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1raw__ostream.html">raw_ostream</a> &amp;&#160;</td>
          <td class="paramname"><em>OS</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BranchProbabilityInfo_8cpp_source.html#l01072">1072</a> of file <a class="el" href="BranchProbabilityInfo_8cpp_source.html">BranchProbabilityInfo.cpp</a>.</p>

<p class="reference">References <a class="el" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert()</a>, <a class="el" href="SampleProfWriter_8cpp_source.html#l00053">OS</a>, <a class="el" href="BranchProbabilityInfo_8cpp_source.html#l01179">printEdgeProbability()</a>, and <a class="el" href="MachineBasicBlock_8h_source.html#l01265">llvm::successors()</a>.</p>

<p class="reference">Referenced by <a class="el" href="BranchProbabilityInfo_8cpp_source.html#l01212">calculate()</a>, and <a class="el" href="BranchProbabilityInfo_8cpp_source.html#l01315">llvm::BranchProbabilityPrinterPass::run()</a>.</p>

</div>
</div>
<a id="ae13ac2ed5c40e40fff6ace158e7c0cf3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae13ac2ed5c40e40fff6ace158e7c0cf3">&#9670;&nbsp;</a></span>printEdgeProbability()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classllvm_1_1raw__ostream.html">raw_ostream</a> &amp; BranchProbabilityInfo::printEdgeProbability </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1raw__ostream.html">raw_ostream</a> &amp;&#160;</td>
          <td class="paramname"><em>OS</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *&#160;</td>
          <td class="paramname"><em>Src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *&#160;</td>
          <td class="paramname"><em>Dst</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Print an edge's probability. </p>
<p>Retrieves an edge's probability similarly to </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="classllvm_1_1BranchProbabilityInfo.html#a46502d648608aa13cb485ed4af447d88" title="Get an edge&#39;s probability, relative to other out-edges of the Src.">getEdgeProbability</a>, but <a class="el" href="lib_2Target_2README_8txt.html#ab3a565d6137879762c72e84859593753">then</a> prints <a class="el" href="lib_2Target_2WebAssembly_2README_8txt.html#a3828c493031579f0c68587b19619f7e2">that</a> probability <a class="el" href="README-SSE_8txt.html#ae9588f3d15320340263af4bd4ee56416">to</a> the provided stream. That stream <a class="el" href="lib_2Target_2README_8txt.html#a4f99048689bc4c3542fe6cbeac67b6b9">is</a> <a class="el" href="lib_2Target_2README_8txt.html#ab3a565d6137879762c72e84859593753">then</a> returned. </dd></dl>

<p class="definition">Definition at line <a class="el" href="BranchProbabilityInfo_8cpp_source.html#l01179">1179</a> of file <a class="el" href="BranchProbabilityInfo_8cpp_source.html">BranchProbabilityInfo.cpp</a>.</p>

<p class="reference">References <a class="el" href="BranchProbabilityInfo_8cpp_source.html#l01095">getEdgeProbability()</a>, <a class="el" href="BranchProbabilityInfo_8cpp_source.html#l01084">isEdgeHot()</a>, and <a class="el" href="SampleProfWriter_8cpp_source.html#l00053">OS</a>.</p>

<p class="reference">Referenced by <a class="el" href="BranchProbabilityInfo_8cpp_source.html#l01072">print()</a>.</p>

</div>
</div>
<a id="a884b41d94b6ffea3302b48b3ab14fd58"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a884b41d94b6ffea3302b48b3ab14fd58">&#9670;&nbsp;</a></span>releaseMemory()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BranchProbabilityInfo::releaseMemory </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BranchProbabilityInfo_8cpp_source.html#l01058">1058</a> of file <a class="el" href="BranchProbabilityInfo_8cpp_source.html">BranchProbabilityInfo.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="BranchProbabilityInfo_8h_source.html#l00131">operator=()</a>.</p>

</div>
</div>
<a id="a145edc209aa2f628c73c9cf860eeeb5c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a145edc209aa2f628c73c9cf860eeeb5c">&#9670;&nbsp;</a></span>setEdgeProbability()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BranchProbabilityInfo::setEdgeProbability </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *&#160;</td>
          <td class="paramname"><em>Src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl</a>&lt; <a class="el" href="classllvm_1_1BranchProbability.html">BranchProbability</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>Probs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the raw probabilities for all edges from the given block. </p>
<p>Set the edge probability for all edges at once.</p>
<p>This allows a pass to explicitly set edge probabilities for a block. It can be used when updating the CFG to update the branch probability information. </p>

<p class="definition">Definition at line <a class="el" href="BranchProbabilityInfo_8cpp_source.html#l01132">1132</a> of file <a class="el" href="BranchProbabilityInfo_8cpp_source.html">BranchProbabilityInfo.cpp</a>.</p>

<p class="reference">References <a class="el" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert()</a>, <a class="el" href="Debug_8cpp_source.html#l00163">llvm::dbgs()</a>, <a class="el" href="BranchProbabilityInfo_8cpp_source.html#l01190">eraseBlock()</a>, <a class="el" href="BranchProbability_8h_source.html#l00066">llvm::BranchProbability::getDenominator()</a>, <a class="el" href="Debug_8h_source.html#l00101">LLVM_DEBUG</a>, and <a class="el" href="ADT_2tmp_8txt_source.html#l00001">uint64_t</a>.</p>

<p class="reference">Referenced by <a class="el" href="BreakCriticalEdges_8cpp_source.html#l00338">llvm::SplitIndirectBrCriticalEdges()</a>, and <a class="el" href="JumpThreading_8cpp_source.html#l02802">llvm::JumpThreadingPass::unfoldSelectInstr()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>include/llvm/Analysis/<a class="el" href="BranchProbabilityInfo_8h_source.html">BranchProbabilityInfo.h</a></li>
<li>lib/Analysis/<a class="el" href="BranchProbabilityInfo_8cpp_source.html">BranchProbabilityInfo.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Aug 7 2023 10:43:49 for LLVM by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
