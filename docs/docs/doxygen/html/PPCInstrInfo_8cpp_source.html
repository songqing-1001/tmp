<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LLVM: lib/Target/PowerPC/PPCInstrInfo.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LLVM
   &#160;<span id="projectnumber">17.0.0git</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_794e483eb1cc7921d35fd149d9cc325b.html">Target</a></li><li class="navelem"><a class="el" href="dir_1854d513cb8eef295481a59a854f7656.html">PowerPC</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">PPCInstrInfo.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="PPCInstrInfo_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//===-- PPCInstrInfo.cpp - PowerPC Instruction Information ----------------===//</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// Part of the LLVM Project, under the Apache License v2.0 with LLVM Exceptions.</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">// See https://llvm.org/LICENSE.txt for license information.</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// SPDX-License-Identifier: Apache-2.0 WITH LLVM-exception</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">// This file contains the PowerPC implementation of the TargetInstrInfo class.</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160; </div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="PPCInstrInfo_8h.html">PPCInstrInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="PPCPredicates_8h.html">MCTargetDesc/PPCPredicates.h</a>&quot;</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="PPC_8h.html">PPC.h</a>&quot;</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="PPCHazardRecognizers_8h.html">PPCHazardRecognizers.h</a>&quot;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="PPCInstrBuilder_8h.html">PPCInstrBuilder.h</a>&quot;</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="PPCMachineFunctionInfo_8h.html">PPCMachineFunctionInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="PPCTargetMachine_8h.html">PPCTargetMachine.h</a>&quot;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DenseSet_8h.html">llvm/ADT/DenseSet.h</a>&quot;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="STLExtras_8h.html">llvm/ADT/STLExtras.h</a>&quot;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Statistic_8h.html">llvm/ADT/Statistic.h</a>&quot;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="AliasAnalysis_8h.html">llvm/Analysis/AliasAnalysis.h</a>&quot;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="LiveIntervals_8h.html">llvm/CodeGen/LiveIntervals.h</a>&quot;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineCombinerPattern_8h.html">llvm/CodeGen/MachineCombinerPattern.h</a>&quot;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineConstantPool_8h.html">llvm/CodeGen/MachineConstantPool.h</a>&quot;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineFrameInfo_8h.html">llvm/CodeGen/MachineFrameInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineFunctionPass_8h.html">llvm/CodeGen/MachineFunctionPass.h</a>&quot;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineInstrBuilder_8h.html">llvm/CodeGen/MachineInstrBuilder.h</a>&quot;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineMemOperand_8h.html">llvm/CodeGen/MachineMemOperand.h</a>&quot;</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineRegisterInfo_8h.html">llvm/CodeGen/MachineRegisterInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="PseudoSourceValue_8h.html">llvm/CodeGen/PseudoSourceValue.h</a>&quot;</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="RegisterClassInfo_8h.html">llvm/CodeGen/RegisterClassInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="RegisterPressure_8h.html">llvm/CodeGen/RegisterPressure.h</a>&quot;</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ScheduleDAG_8h.html">llvm/CodeGen/ScheduleDAG.h</a>&quot;</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SlotIndexes_8h.html">llvm/CodeGen/SlotIndexes.h</a>&quot;</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="StackMaps_8h.html">llvm/CodeGen/StackMaps.h</a>&quot;</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MCAsmInfo_8h.html">llvm/MC/MCAsmInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MCInst_8h.html">llvm/MC/MCInst.h</a>&quot;</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TargetRegistry_8h.html">llvm/MC/TargetRegistry.h</a>&quot;</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="CommandLine_8h.html">llvm/Support/CommandLine.h</a>&quot;</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Debug_8h.html">llvm/Support/Debug.h</a>&quot;</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Support_2ErrorHandling_8h.html">llvm/Support/ErrorHandling.h</a>&quot;</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="raw__ostream_8h.html">llvm/Support/raw_ostream.h</a>&quot;</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160; </div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacellvm.html">llvm</a>;</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160; </div>
<div class="line"><a name="l00048"></a><span class="lineno"><a class="line" href="PPCInstrInfo_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">   48</a></span>&#160;<span class="preprocessor">#define DEBUG_TYPE &quot;ppc-instr-info&quot;</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160; </div>
<div class="line"><a name="l00050"></a><span class="lineno"><a class="line" href="PPCInstrInfo_8cpp.html#a68cd09032654ae05bb2a11b7c60a1cdd">   50</a></span>&#160;<span class="preprocessor">#define GET_INSTRMAP_INFO</span></div>
<div class="line"><a name="l00051"></a><span class="lineno"><a class="line" href="PPCInstrInfo_8cpp.html#a5d99008fb7e5cdc4774786d0743a2c4f">   51</a></span>&#160;<span class="preprocessor">#define GET_INSTRINFO_CTOR_DTOR</span></div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="preprocessor">#include &quot;PPCGenInstrInfo.inc&quot;</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160; </div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<a class="code" href="namespacellvm.html#a0bf75467957937ad23ad7be19f489934">STATISTIC</a>(NumStoreSPILLVSRRCAsVec,</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;          <span class="stringliteral">&quot;Number of spillvsrrc spilled to stack as vec&quot;</span>);</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<a class="code" href="namespacellvm.html#a0bf75467957937ad23ad7be19f489934">STATISTIC</a>(NumStoreSPILLVSRRCAsGpr,</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;          <span class="stringliteral">&quot;Number of spillvsrrc spilled to stack as gpr&quot;</span>);</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<a class="code" href="namespacellvm.html#a0bf75467957937ad23ad7be19f489934">STATISTIC</a>(NumGPRtoVSRSpill, <span class="stringliteral">&quot;Number of gpr spills to spillvsrrc&quot;</span>);</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<a class="code" href="namespacellvm.html#a0bf75467957937ad23ad7be19f489934">STATISTIC</a>(CmpIselsConverted,</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;          <span class="stringliteral">&quot;Number of ISELs that depend on comparison of constants converted&quot;</span>);</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<a class="code" href="namespacellvm.html#a0bf75467957937ad23ad7be19f489934">STATISTIC</a>(MissedConvertibleImmediateInstrs,</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;          <span class="stringliteral">&quot;Number of compare-immediate instructions fed by constants&quot;</span>);</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<a class="code" href="namespacellvm.html#a0bf75467957937ad23ad7be19f489934">STATISTIC</a>(NumRcRotatesConvertedToRcAnd,</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;          <span class="stringliteral">&quot;Number of record-form rotates converted to record-form andi&quot;</span>);</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160; </div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::</a></div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<a class="code" href="classllvm_1_1cl_1_1opt.html">opt&lt;bool&gt;</a> <a class="code" href="PPCInstrInfo_8cpp.html#a2020155e83c7126b4863de105c09bd45">DisableCTRLoopAnal</a>(<span class="stringliteral">&quot;disable-ppc-ctrloop-analysis&quot;</span>, <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>,</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;            <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Disable analysis for CTR loops&quot;</span>));</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160; </div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a> <a class="code" href="PPCInstrInfo_8cpp.html#a93c546def4cf10e701699eba921b3532">DisableCmpOpt</a>(<span class="stringliteral">&quot;disable-ppc-cmp-opt&quot;</span>,</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Disable compare instruction optimization&quot;</span>), <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>);</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160; </div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a> <a class="code" href="PPCInstrInfo_8cpp.html#a20ff8d783c172c203d8a144fcda853fa">VSXSelfCopyCrash</a>(<span class="stringliteral">&quot;crash-on-ppc-vsx-self-copy&quot;</span>,</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Causes the backend to crash instead of generating a nop VSX copy&quot;</span>),</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>);</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160; </div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a></div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<a class="code" href="PPCInstrInfo_8cpp.html#a58e3d8f1d20226777984b48012c68c2b">UseOldLatencyCalc</a>(<span class="stringliteral">&quot;ppc-old-latency-calc&quot;</span>, <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>,</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;  <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Use the old (incorrect) instruction latency calculation&quot;</span>));</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160; </div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;float&gt;</a></div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    <a class="code" href="PPCInstrInfo_8cpp.html#aa9c13d9e221dc808f03b60abd4e848b2">FMARPFactor</a>(<span class="stringliteral">&quot;ppc-fma-rp-factor&quot;</span>, <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>, <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(1.5),</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;                <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;register pressure factor for the transformations.&quot;</span>));</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160; </div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a> <a class="code" href="PPCInstrInfo_8cpp.html#aa359bc3e76e065f5495cf482d6ff987c">EnableFMARegPressureReduction</a>(</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    <span class="stringliteral">&quot;ppc-fma-rp-reduction&quot;</span>, <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>, <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(<span class="keyword">true</span>),</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;enable register pressure reduce in machine combiner pass.&quot;</span>));</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160; </div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;<span class="comment">// Pin the vtable to this file.</span></div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;<span class="keywordtype">void</span> PPCInstrInfo::anchor() {}</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160; </div>
<div class="line"><a name="l00092"></a><span class="lineno"><a class="line" href="classllvm_1_1PPCInstrInfo.html#a0ddc379f7789e44a2138fa08e92bfe92">   92</a></span>&#160;<a class="code" href="classllvm_1_1PPCInstrInfo.html#a0ddc379f7789e44a2138fa08e92bfe92">PPCInstrInfo::PPCInstrInfo</a>(<a class="code" href="classllvm_1_1PPCSubtarget.html">PPCSubtarget</a> &amp;STI)</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    : <a class="code" href="classPPCGenInstrInfo.html">PPCGenInstrInfo</a>(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a853716015b99747c10b31bfb4241df91">PPC</a>::ADJCALLSTACKDOWN, <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a853716015b99747c10b31bfb4241df91">PPC</a>::ADJCALLSTACKUP,</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;                      <span class="comment">/* CatchRetOpcode */</span> -1,</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;                      STI.isPPC64() ? <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a853716015b99747c10b31bfb4241df91">PPC</a>::BLR8 : <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a853716015b99747c10b31bfb4241df91">PPC</a>::BLR),</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;      Subtarget(STI), RI(STI.getTargetMachine()) {}</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;<span class="comment">/// CreateTargetHazardRecognizer - Return the hazard recognizer to use for</span></div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;<span class="comment">/// this target when scheduling the DAG.</span></div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;<span class="comment"></span><a class="code" href="classllvm_1_1ScheduleHazardRecognizer.html">ScheduleHazardRecognizer</a> *</div>
<div class="line"><a name="l00101"></a><span class="lineno"><a class="line" href="classllvm_1_1PPCInstrInfo.html#a8abe69762bb82834b786c78b35015734">  101</a></span>&#160;<a class="code" href="classllvm_1_1PPCInstrInfo.html#a8abe69762bb82834b786c78b35015734">PPCInstrInfo::CreateTargetHazardRecognizer</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetSubtargetInfo.html">TargetSubtargetInfo</a> *STI,</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;                                           <span class="keyword">const</span> <a class="code" href="classllvm_1_1ScheduleDAG.html">ScheduleDAG</a> *DAG)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="classllvm_1_1Directive.html">Directive</a> =</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;      <span class="keyword">static_cast&lt;</span><span class="keyword">const </span><a class="code" href="classllvm_1_1PPCSubtarget.html">PPCSubtarget</a> *<span class="keyword">&gt;</span>(STI)-&gt;getCPUDirective();</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Directive.html">Directive</a> == <a class="code" href="namespacellvm_1_1PPC.html#a020638ddecc65637bc0282f5ee857d50a7b91cd4044a62473da3166dd0d2b2ddc">PPC::DIR_440</a> || <a class="code" href="classllvm_1_1Directive.html">Directive</a> == <a class="code" href="namespacellvm_1_1PPC.html#a020638ddecc65637bc0282f5ee857d50ab81d0aba13bef5a963bb14709390283e">PPC::DIR_A2</a> ||</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;      <a class="code" href="classllvm_1_1Directive.html">Directive</a> == <a class="code" href="namespacellvm_1_1PPC.html#a020638ddecc65637bc0282f5ee857d50a00d4f7d7f8d110db90749f417fceff3a">PPC::DIR_E500mc</a> || <a class="code" href="classllvm_1_1Directive.html">Directive</a> == <a class="code" href="namespacellvm_1_1PPC.html#a020638ddecc65637bc0282f5ee857d50ac4e6bb06de05f2620850b3fc53a0433e">PPC::DIR_E5500</a>) {</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1InstrItineraryData.html">InstrItineraryData</a> *II =</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;        <span class="keyword">static_cast&lt;</span><span class="keyword">const </span><a class="code" href="classllvm_1_1PPCSubtarget.html">PPCSubtarget</a> *<span class="keyword">&gt;</span>(STI)-&gt;getInstrItineraryData();</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="classllvm_1_1ScoreboardHazardRecognizer.html">ScoreboardHazardRecognizer</a>(II, DAG);</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;  }</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160; </div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1TargetInstrInfo.html#a7242b69b2f705111801d717e2ea243b5">TargetInstrInfo::CreateTargetHazardRecognizer</a>(STI, DAG);</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;}</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;<span class="comment">/// CreateTargetPostRAHazardRecognizer - Return the postRA hazard recognizer</span></div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;<span class="comment">/// to use for this target when scheduling the DAG.</span></div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;<span class="comment"></span><a class="code" href="classllvm_1_1ScheduleHazardRecognizer.html">ScheduleHazardRecognizer</a> *</div>
<div class="line"><a name="l00118"></a><span class="lineno"><a class="line" href="classllvm_1_1PPCInstrInfo.html#a63d1433613d2b51a9c6389a63ccd2cce">  118</a></span>&#160;<a class="code" href="classllvm_1_1PPCInstrInfo.html#a63d1433613d2b51a9c6389a63ccd2cce">PPCInstrInfo::CreateTargetPostRAHazardRecognizer</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1InstrItineraryData.html">InstrItineraryData</a> *II,</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;                                                 <span class="keyword">const</span> <a class="code" href="classllvm_1_1ScheduleDAG.html">ScheduleDAG</a> *DAG)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="classllvm_1_1Directive.html">Directive</a> =</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;      DAG-&gt;<a class="code" href="classllvm_1_1ScheduleDAG.html#a5a3d3d075a208011a24a0918b58d7daa">MF</a>.<a class="code" href="classllvm_1_1MachineFunction.html#a325f6b611ef9ec06798d3b4eb9572093">getSubtarget</a>&lt;<a class="code" href="classllvm_1_1PPCSubtarget.html">PPCSubtarget</a>&gt;().getCPUDirective();</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160; </div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;  <span class="comment">// FIXME: Leaving this as-is until we have POWER9 scheduling info</span></div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Directive.html">Directive</a> == <a class="code" href="namespacellvm_1_1PPC.html#a020638ddecc65637bc0282f5ee857d50a0c8a5dd168df904e8c29520a47502a61">PPC::DIR_PWR7</a> || <a class="code" href="classllvm_1_1Directive.html">Directive</a> == <a class="code" href="namespacellvm_1_1PPC.html#a020638ddecc65637bc0282f5ee857d50aa3de856d909c5b0166919bf6e4bd1a3d">PPC::DIR_PWR8</a>)</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="classllvm_1_1PPCDispatchGroupSBHazardRecognizer.html">PPCDispatchGroupSBHazardRecognizer</a>(II, DAG);</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160; </div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;  <span class="comment">// Most subtargets use a PPC970 recognizer.</span></div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Directive.html">Directive</a> != <a class="code" href="namespacellvm_1_1PPC.html#a020638ddecc65637bc0282f5ee857d50a7b91cd4044a62473da3166dd0d2b2ddc">PPC::DIR_440</a> &amp;&amp; <a class="code" href="classllvm_1_1Directive.html">Directive</a> != <a class="code" href="namespacellvm_1_1PPC.html#a020638ddecc65637bc0282f5ee857d50ab81d0aba13bef5a963bb14709390283e">PPC::DIR_A2</a> &amp;&amp;</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;      <a class="code" href="classllvm_1_1Directive.html">Directive</a> != <a class="code" href="namespacellvm_1_1PPC.html#a020638ddecc65637bc0282f5ee857d50a00d4f7d7f8d110db90749f417fceff3a">PPC::DIR_E500mc</a> &amp;&amp; <a class="code" href="classllvm_1_1Directive.html">Directive</a> != <a class="code" href="namespacellvm_1_1PPC.html#a020638ddecc65637bc0282f5ee857d50ac4e6bb06de05f2620850b3fc53a0433e">PPC::DIR_E5500</a>) {</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(DAG-&gt;<a class="code" href="classllvm_1_1ScheduleDAG.html#a348590624c488b04d0f9e227e6c3960e">TII</a> &amp;&amp; <span class="stringliteral">&quot;No InstrInfo?&quot;</span>);</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160; </div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="classllvm_1_1PPCHazardRecognizer970.html">PPCHazardRecognizer970</a>(*DAG);</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;  }</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160; </div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="classllvm_1_1ScoreboardHazardRecognizer.html">ScoreboardHazardRecognizer</a>(II, DAG);</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;}</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160; </div>
<div class="line"><a name="l00138"></a><span class="lineno"><a class="line" href="classllvm_1_1PPCInstrInfo.html#aa88dfb98a274ef5f8da3ce147c8c45eb">  138</a></span>&#160;<span class="keywordtype">unsigned</span> <a class="code" href="classllvm_1_1PPCInstrInfo.html#aa88dfb98a274ef5f8da3ce147c8c45eb">PPCInstrInfo::getInstrLatency</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1InstrItineraryData.html">InstrItineraryData</a> *ItinData,</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;                                       <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>,</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;                                       <span class="keywordtype">unsigned</span> *PredCost)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;  <span class="keywordflow">if</span> (!ItinData || <a class="code" href="PPCInstrInfo_8cpp.html#a58e3d8f1d20226777984b48012c68c2b">UseOldLatencyCalc</a>)</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    <span class="keywordflow">return</span> PPCGenInstrInfo::getInstrLatency(ItinData, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, PredCost);</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160; </div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;  <span class="comment">// The default implementation of getInstrLatency calls getStageLatency, but</span></div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;  <span class="comment">// getStageLatency does not do the right thing for us. While we have</span></div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;  <span class="comment">// itinerary, most cores are fully pipelined, and so the itineraries only</span></div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;  <span class="comment">// express the first part of the pipeline, not every stage. Instead, we need</span></div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;  <span class="comment">// to use the listed output operand cycle number (using operand 0 here, which</span></div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;  <span class="comment">// is an output).</span></div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160; </div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06a2d68d32ff95cd10b4899c2823ec28e97">Latency</a> = 1;</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;  <span class="keywordtype">unsigned</span> DefClass = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getDesc().getSchedClass();</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a> = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getNumOperands(); <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;MO = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    <span class="keywordflow">if</span> (!MO.<a class="code" href="classllvm_1_1MachineOperand.html#a4c9594c955fec80c73ddd964b5efd554">isReg</a>() || !MO.<a class="code" href="classllvm_1_1MachineOperand.html#a75eb135014670ce946e78739cdc9b51b">isDef</a>() || MO.<a class="code" href="classllvm_1_1MachineOperand.html#a3bf161859e1ad7fd3da485d3cb688d34">isImplicit</a>())</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160; </div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="classllvm_1_1GenericCycle.html">Cycle</a> = ItinData-&gt;<a class="code" href="classllvm_1_1InstrItineraryData.html#a70cf5735a63513dea34475b5812d520a">getOperandCycle</a>(DefClass, <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1GenericCycle.html">Cycle</a> &lt; 0)</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160; </div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06a2d68d32ff95cd10b4899c2823ec28e97">Latency</a> = <a class="code" href="namespacellvm.html#ab4d4bc901fedd8857f647dcc2c0d71de">std::max</a>(<a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06a2d68d32ff95cd10b4899c2823ec28e97">Latency</a>, (<span class="keywordtype">unsigned</span>) <a class="code" href="classllvm_1_1GenericCycle.html">Cycle</a>);</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;  }</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160; </div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06a2d68d32ff95cd10b4899c2823ec28e97">Latency</a>;</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;}</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160; </div>
<div class="line"><a name="l00168"></a><span class="lineno"><a class="line" href="classllvm_1_1PPCInstrInfo.html#af7fcfb5e7294b3fe2d66d3349d5acfb7">  168</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="classllvm_1_1PPCInstrInfo.html#af7fcfb5e7294b3fe2d66d3349d5acfb7">PPCInstrInfo::getOperandLatency</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1InstrItineraryData.html">InstrItineraryData</a> *ItinData,</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;                                    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a>, <span class="keywordtype">unsigned</span> DefIdx,</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;                                    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#a6cf2f8996b1e9aaf2d7a435aaa62382f">UseMI</a>,</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;                                    <span class="keywordtype">unsigned</span> UseIdx)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06a2d68d32ff95cd10b4899c2823ec28e97">Latency</a> = PPCGenInstrInfo::getOperandLatency(ItinData, <a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a>, DefIdx,</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;                                                   <a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#a6cf2f8996b1e9aaf2d7a435aaa62382f">UseMI</a>, UseIdx);</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160; </div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a>.getParent())</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06a2d68d32ff95cd10b4899c2823ec28e97">Latency</a>;</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160; </div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;DefMO = <a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a>.getOperand(DefIdx);</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a> = DefMO.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>();</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160; </div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;  <span class="keywordtype">bool</span> IsRegCR;</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>.isVirtual()) {</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> *<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a> =</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;        &amp;<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a>.getParent()-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a002fd916e7206e01d512eeb06d405cf0">getParent</a>()-&gt;getRegInfo();</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    IsRegCR = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>-&gt;<a class="code" href="classllvm_1_1MachineRegisterInfo.html#aa363afffca4fc13a709673936b47fe33">getRegClass</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>)-&gt;<a class="code" href="classllvm_1_1TargetRegisterClass.html#abee1c3236731101b249f6eeffd8cd7ba">hasSuperClassEq</a>(&amp;PPC::CRRCRegClass) ||</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;              <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>-&gt;<a class="code" href="classllvm_1_1MachineRegisterInfo.html#aa363afffca4fc13a709673936b47fe33">getRegClass</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>)-&gt;<a class="code" href="classllvm_1_1TargetRegisterClass.html#abee1c3236731101b249f6eeffd8cd7ba">hasSuperClassEq</a>(&amp;PPC::CRBITRCRegClass);</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    IsRegCR = PPC::CRRCRegClass.contains(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>) ||</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;              PPC::CRBITRCRegClass.contains(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>);</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;  }</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160; </div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#a6cf2f8996b1e9aaf2d7a435aaa62382f">UseMI</a>.isBranch() &amp;&amp; IsRegCR) {</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06a2d68d32ff95cd10b4899c2823ec28e97">Latency</a> &lt; 0)</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;      <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06a2d68d32ff95cd10b4899c2823ec28e97">Latency</a> = <a class="code" href="classllvm_1_1PPCInstrInfo.html#aa88dfb98a274ef5f8da3ce147c8c45eb">getInstrLatency</a>(ItinData, <a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a>);</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160; </div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    <span class="comment">// On some cores, there is an additional delay between writing to a condition</span></div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    <span class="comment">// register, and using it from a branch.</span></div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="classllvm_1_1Directive.html">Directive</a> = Subtarget.<a class="code" href="classllvm_1_1PPCSubtarget.html#a9fdcf13a56a07a0f207e0b0f66bbdbb6">getCPUDirective</a>();</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="classllvm_1_1Directive.html">Directive</a>) {</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    <span class="keywordflow">default</span>: <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1PPC.html#a020638ddecc65637bc0282f5ee857d50a6cdba3048334fa40e8f46956ffeab0c3">PPC::DIR_7400</a>:</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1PPC.html#a020638ddecc65637bc0282f5ee857d50aa77883b2e65039199cd95b624cab29b2">PPC::DIR_750</a>:</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1PPC.html#a020638ddecc65637bc0282f5ee857d50a56adb1ba4082b00854c8401847ade1a9">PPC::DIR_970</a>:</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1PPC.html#a020638ddecc65637bc0282f5ee857d50ac4e6bb06de05f2620850b3fc53a0433e">PPC::DIR_E5500</a>:</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1PPC.html#a020638ddecc65637bc0282f5ee857d50a1a9618f9addb07ce52555fa524ccf39d">PPC::DIR_PWR4</a>:</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1PPC.html#a020638ddecc65637bc0282f5ee857d50a690b5c342106c270b005123adec2d7e6">PPC::DIR_PWR5</a>:</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1PPC.html#a020638ddecc65637bc0282f5ee857d50a40aa4eed5523516b6f4be5d29307b5cc">PPC::DIR_PWR5X</a>:</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1PPC.html#a020638ddecc65637bc0282f5ee857d50aa2b626cb4809ee8a3b3da9d475eabe05">PPC::DIR_PWR6</a>:</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1PPC.html#a020638ddecc65637bc0282f5ee857d50a664d0abca2c75f8a6f8ce2dcc21cd676">PPC::DIR_PWR6X</a>:</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1PPC.html#a020638ddecc65637bc0282f5ee857d50a0c8a5dd168df904e8c29520a47502a61">PPC::DIR_PWR7</a>:</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1PPC.html#a020638ddecc65637bc0282f5ee857d50aa3de856d909c5b0166919bf6e4bd1a3d">PPC::DIR_PWR8</a>:</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    <span class="comment">// FIXME: Is this needed for POWER9?</span></div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;      <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06a2d68d32ff95cd10b4899c2823ec28e97">Latency</a> += 2;</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    }</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;  }</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160; </div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06a2d68d32ff95cd10b4899c2823ec28e97">Latency</a>;</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;}</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;<span class="comment">/// This is an architecture-specific helper function of reassociateOps.</span></div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;<span class="comment">/// Set special operand attributes for new instructions after reassociation.</span></div>
<div class="line"><a name="l00223"></a><span class="lineno"><a class="line" href="classllvm_1_1PPCInstrInfo.html#a5ccaef728fa7584f286ab605174a0b0b">  223</a></span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classllvm_1_1PPCInstrInfo.html#a5ccaef728fa7584f286ab605174a0b0b">PPCInstrInfo::setSpecialOperandAttr</a>(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;OldMI1,</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;                                         <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;OldMI2,</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;                                         <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;NewMI1,</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;                                         <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;NewMI2)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;  <span class="comment">// Propagate FP flags from the original instructions.</span></div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;  <span class="comment">// But clear poison-generating flags because those may not be valid now.</span></div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;  <a class="code" href="classuint16__t.html">uint16_t</a> IntersectedFlags = OldMI1.<a class="code" href="classllvm_1_1MachineInstr.html#ad2f4d922d52fe33423474951f704b91b">getFlags</a>() &amp; OldMI2.<a class="code" href="classllvm_1_1MachineInstr.html#ad2f4d922d52fe33423474951f704b91b">getFlags</a>();</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;  NewMI1.<a class="code" href="classllvm_1_1MachineInstr.html#a264402282f599b6181b6415278fbf849">setFlags</a>(IntersectedFlags);</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;  NewMI1.<a class="code" href="classllvm_1_1MachineInstr.html#a859897c8a9706acd4c065d857254d58c">clearFlag</a>(MachineInstr::MIFlag::NoSWrap);</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;  NewMI1.<a class="code" href="classllvm_1_1MachineInstr.html#a859897c8a9706acd4c065d857254d58c">clearFlag</a>(MachineInstr::MIFlag::NoUWrap);</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;  NewMI1.<a class="code" href="classllvm_1_1MachineInstr.html#a859897c8a9706acd4c065d857254d58c">clearFlag</a>(MachineInstr::MIFlag::IsExact);</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160; </div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;  NewMI2.<a class="code" href="classllvm_1_1MachineInstr.html#a264402282f599b6181b6415278fbf849">setFlags</a>(IntersectedFlags);</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;  NewMI2.<a class="code" href="classllvm_1_1MachineInstr.html#a859897c8a9706acd4c065d857254d58c">clearFlag</a>(MachineInstr::MIFlag::NoSWrap);</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;  NewMI2.<a class="code" href="classllvm_1_1MachineInstr.html#a859897c8a9706acd4c065d857254d58c">clearFlag</a>(MachineInstr::MIFlag::NoUWrap);</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;  NewMI2.<a class="code" href="classllvm_1_1MachineInstr.html#a859897c8a9706acd4c065d857254d58c">clearFlag</a>(MachineInstr::MIFlag::IsExact);</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;}</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160; </div>
<div class="line"><a name="l00241"></a><span class="lineno"><a class="line" href="classllvm_1_1PPCInstrInfo.html#a5ba3b017daa74f71ed92c7783f1eb3a8">  241</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1PPCInstrInfo.html#a5ccaef728fa7584f286ab605174a0b0b">PPCInstrInfo::setSpecialOperandAttr</a>(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>,</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;                                         <a class="code" href="classuint16__t.html">uint16_t</a> Flags)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;  <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.setFlags(Flags);</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;  <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.clearFlag(MachineInstr::MIFlag::NoSWrap);</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;  <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.clearFlag(MachineInstr::MIFlag::NoUWrap);</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;  <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.clearFlag(MachineInstr::MIFlag::IsExact);</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;}</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160; </div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;<span class="comment">// This function does not list all associative and commutative operations, but</span></div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;<span class="comment">// only those worth feeding through the machine combiner in an attempt to</span></div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;<span class="comment">// reduce the critical path. Mostly, this means floating-point operations,</span></div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;<span class="comment">// because they have high latencies(&gt;=5) (compared to other operations, such as</span></div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;<span class="comment">// and/or, which are also associative and commutative, but have low latencies).</span></div>
<div class="line"><a name="l00254"></a><span class="lineno"><a class="line" href="classllvm_1_1PPCInstrInfo.html#ab8d93b0ff1b64f553c4e86fdebacff56">  254</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1PPCInstrInfo.html#ab8d93b0ff1b64f553c4e86fdebacff56">PPCInstrInfo::isAssociativeAndCommutative</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;Inst,</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;                                               <span class="keywordtype">bool</span> Invert)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;  <span class="keywordflow">if</span> (Invert)</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;  <span class="keywordflow">switch</span> (Inst.<a class="code" href="classllvm_1_1MachineInstr.html#a0363204b5fbab08a46f5a7cd7f376f78">getOpcode</a>()) {</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;  <span class="comment">// Floating point:</span></div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;  <span class="comment">// FP Add:</span></div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a32ec12017722f5b42a295fe5eb0b0bdf">PPC::FADD</a>:</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1X86ISD.html#a9441a4f94d36d0f7c0c34aca42e3f76aa1fb173ccbbe141aa5c819ba36cf87849">PPC::FADDS</a>:</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;  <span class="comment">// FP Multiply:</span></div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9ab5860c97a00c4627a08cab7b0c8178">PPC::FMUL</a>:</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1X86ISD.html#a9441a4f94d36d0f7c0c34aca42e3f76aacc8282228b74b56cc6a53361a5271489">PPC::FMULS</a>:</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;  <span class="comment">// Altivec Add:</span></div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;  <span class="keywordflow">case</span> PPC::VADDFP:</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;  <span class="comment">// VSX Add:</span></div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;  <span class="keywordflow">case</span> PPC::XSADDDP:</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;  <span class="keywordflow">case</span> PPC::XVADDDP:</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;  <span class="keywordflow">case</span> PPC::XVADDSP:</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;  <span class="keywordflow">case</span> PPC::XSADDSP:</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;  <span class="comment">// VSX Multiply:</span></div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;  <span class="keywordflow">case</span> PPC::XSMULDP:</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;  <span class="keywordflow">case</span> PPC::XVMULDP:</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;  <span class="keywordflow">case</span> PPC::XVMULSP:</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;  <span class="keywordflow">case</span> PPC::XSMULSP:</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    <span class="keywordflow">return</span> Inst.<a class="code" href="classllvm_1_1MachineInstr.html#a33365204be9cb132de322e3713253b57">getFlag</a>(MachineInstr::MIFlag::FmReassoc) &amp;&amp;</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;           Inst.<a class="code" href="classllvm_1_1MachineInstr.html#a33365204be9cb132de322e3713253b57">getFlag</a>(MachineInstr::MIFlag::FmNsz);</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;  <span class="comment">// Fixed point:</span></div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;  <span class="comment">// Multiply:</span></div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;  <span class="keywordflow">case</span> PPC::MULHD:</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;  <span class="keywordflow">case</span> PPC::MULLD:</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;  <span class="keywordflow">case</span> PPC::MULHW:</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;  <span class="keywordflow">case</span> PPC::MULLW:</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;  }</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;}</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160; </div>
<div class="line"><a name="l00292"></a><span class="lineno"><a class="line" href="PPCInstrInfo_8cpp.html#a7a5f94868bf6843af2b55629fe15eb17">  292</a></span>&#160;<span class="preprocessor">#define InfoArrayIdxFMAInst 0</span></div>
<div class="line"><a name="l00293"></a><span class="lineno"><a class="line" href="PPCInstrInfo_8cpp.html#addf272780926ebcb0c3a616f6b9f4cf8">  293</a></span>&#160;<span class="preprocessor">#define InfoArrayIdxFAddInst 1</span></div>
<div class="line"><a name="l00294"></a><span class="lineno"><a class="line" href="PPCInstrInfo_8cpp.html#aeb853018a1c21903ee845b0c016142da">  294</a></span>&#160;<span class="preprocessor">#define InfoArrayIdxFMULInst 2</span></div>
<div class="line"><a name="l00295"></a><span class="lineno"><a class="line" href="PPCInstrInfo_8cpp.html#a607c99a73bb0675e29902e00bcdba194">  295</a></span>&#160;<span class="preprocessor">#define InfoArrayIdxAddOpIdx 3</span></div>
<div class="line"><a name="l00296"></a><span class="lineno"><a class="line" href="PPCInstrInfo_8cpp.html#a181355a41a8db50079569dc8ec0f19d4">  296</a></span>&#160;<span class="preprocessor">#define InfoArrayIdxMULOpIdx 4</span></div>
<div class="line"><a name="l00297"></a><span class="lineno"><a class="line" href="PPCInstrInfo_8cpp.html#adb5cfef98fae3198ba07782223965882">  297</a></span>&#160;<span class="preprocessor">#define InfoArrayIdxFSubInst 5</span></div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;<span class="comment">// Array keeps info for FMA instructions:</span></div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;<span class="comment">// Index 0(InfoArrayIdxFMAInst): FMA instruction;</span></div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;<span class="comment">// Index 1(InfoArrayIdxFAddInst): ADD instruction associated with FMA;</span></div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;<span class="comment">// Index 2(InfoArrayIdxFMULInst): MUL instruction associated with FMA;</span></div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;<span class="comment">// Index 3(InfoArrayIdxAddOpIdx): ADD operand index in FMA operands;</span></div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;<span class="comment">// Index 4(InfoArrayIdxMULOpIdx): first MUL operand index in FMA operands;</span></div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;<span class="comment">//                                second MUL operand index is plus 1;</span></div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;<span class="comment">// Index 5(InfoArrayIdxFSubInst): SUB instruction associated with FMA.</span></div>
<div class="line"><a name="l00306"></a><span class="lineno"><a class="line" href="PPCInstrInfo_8cpp.html#a4d4f8117c339d2abc2acbe2213ccc734">  306</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classuint16__t.html">uint16_t</a> <a class="code" href="PPCInstrInfo_8cpp.html#a4d4f8117c339d2abc2acbe2213ccc734">FMAOpIdxInfo</a>[][6] = {</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    <span class="comment">// FIXME: Add more FMA instructions like XSNMADDADP and so on.</span></div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    {PPC::XSMADDADP, PPC::XSADDDP, PPC::XSMULDP, 1, 2, PPC::XSSUBDP},</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    {PPC::XSMADDASP, PPC::XSADDSP, PPC::XSMULSP, 1, 2, PPC::XSSUBSP},</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    {PPC::XVMADDADP, PPC::XVADDDP, PPC::XVMULDP, 1, 2, PPC::XVSUBDP},</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    {PPC::XVMADDASP, PPC::XVADDSP, PPC::XVMULSP, 1, 2, PPC::XVSUBSP},</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    {PPC::FMADD, <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a32ec12017722f5b42a295fe5eb0b0bdf">PPC::FADD</a>, <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9ab5860c97a00c4627a08cab7b0c8178">PPC::FMUL</a>, 3, 1, <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a2852a5b6baa80b1589a46737210a8cad">PPC::FSUB</a>},</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    {PPC::FMADDS, <a class="code" href="namespacellvm_1_1X86ISD.html#a9441a4f94d36d0f7c0c34aca42e3f76aa1fb173ccbbe141aa5c819ba36cf87849">PPC::FADDS</a>, <a class="code" href="namespacellvm_1_1X86ISD.html#a9441a4f94d36d0f7c0c34aca42e3f76aacc8282228b74b56cc6a53361a5271489">PPC::FMULS</a>, 3, 1, <a class="code" href="namespacellvm_1_1X86ISD.html#a9441a4f94d36d0f7c0c34aca42e3f76aaa4a172e5849a0b1f80e5e6d3cf949f3c">PPC::FSUBS</a>}};</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160; </div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;<span class="comment">// Check if an opcode is a FMA instruction. If it is, return the index in array</span></div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;<span class="comment">// FMAOpIdxInfo. Otherwise, return -1.</span></div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;int16_t PPCInstrInfo::getFMAOpIdxInfo(<span class="keywordtype">unsigned</span> Opcode)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 0; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> &lt; <a class="code" href="lib_2Target_2README_8txt.html#a02def7c594e9f19ff247ed0bf33d1c30">std::size</a>(<a class="code" href="PPCInstrInfo_8cpp.html#a4d4f8117c339d2abc2acbe2213ccc734">FMAOpIdxInfo</a>); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>++)</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="PPCInstrInfo_8cpp.html#a4d4f8117c339d2abc2acbe2213ccc734">FMAOpIdxInfo</a>[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>][<a class="code" href="PPCInstrInfo_8cpp.html#a7a5f94868bf6843af2b55629fe15eb17">InfoArrayIdxFMAInst</a>] == Opcode)</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;  <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;}</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160; </div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;<span class="comment">// On PowerPC target, we have two kinds of patterns related to FMA:</span></div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;<span class="comment">// 1: Improve ILP.</span></div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;<span class="comment">// Try to reassociate FMA chains like below:</span></div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;<span class="comment">// Pattern 1:</span></div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;<span class="comment">//   A =  FADD X,  Y          (Leaf)</span></div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;<span class="comment">//   B =  FMA  A,  M21,  M22  (Prev)</span></div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;<span class="comment">//   C =  FMA  B,  M31,  M32  (Root)</span></div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;<span class="comment">// --&gt;</span></div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;<span class="comment">//   A =  FMA  X,  M21,  M22</span></div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;<span class="comment">//   B =  FMA  Y,  M31,  M32</span></div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;<span class="comment">//   C =  FADD A,  B</span></div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;<span class="comment">// Pattern 2:</span></div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;<span class="comment">//   A =  FMA  X,  M11,  M12  (Leaf)</span></div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;<span class="comment">//   B =  FMA  A,  M21,  M22  (Prev)</span></div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;<span class="comment">//   C =  FMA  B,  M31,  M32  (Root)</span></div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;<span class="comment">// --&gt;</span></div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;<span class="comment">//   A =  FMUL M11,  M12</span></div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;<span class="comment">//   B =  FMA  X,  M21,  M22</span></div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;<span class="comment">//   D =  FMA  A,  M31,  M32</span></div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;<span class="comment">//   C =  FADD B,  D</span></div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;<span class="comment">// breaking the dependency between A and B, allowing FMA to be executed in</span></div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;<span class="comment">// parallel (or back-to-back in a pipeline) instead of depending on each other.</span></div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;<span class="comment">// 2: Reduce register pressure.</span></div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;<span class="comment">// Try to reassociate FMA with FSUB and a constant like below:</span></div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;<span class="comment">// C is a floating point const.</span></div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;<span class="comment">// Pattern 1:</span></div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;<span class="comment">//   A = FSUB  X,  Y      (Leaf)</span></div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;<span class="comment">//   D = FMA   B,  C,  A  (Root)</span></div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;<span class="comment">// --&gt;</span></div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;<span class="comment">//   A = FMA   B,  Y,  -C</span></div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;<span class="comment">//   D = FMA   A,  X,  C</span></div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;<span class="comment">// Pattern 2:</span></div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;<span class="comment">//   A = FSUB  X,  Y      (Leaf)</span></div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;<span class="comment">//   D = FMA   B,  A,  C  (Root)</span></div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;<span class="comment">// --&gt;</span></div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;<span class="comment">//   A = FMA   B,  Y,  -C</span></div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;<span class="comment">//   D = FMA   A,  X,  C</span></div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;<span class="comment">//  Before the transformation, A must be assigned with different hardware</span></div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;<span class="comment">//  register with D. After the transformation, A and D must be assigned with</span></div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;<span class="comment">//  same hardware register due to TIE attribute of FMA instructions.</span></div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00372"></a><span class="lineno"><a class="line" href="classllvm_1_1PPCInstrInfo.html#a50c42e50d84476f314b12fc325f97cdf">  372</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1PPCInstrInfo.html#a50c42e50d84476f314b12fc325f97cdf">PPCInstrInfo::getFMAPatterns</a>(</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;Root, <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;MachineCombinerPattern&gt;</a> &amp;Patterns,</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    <span class="keywordtype">bool</span> DoRegPressureReduce)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;  <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a> = Root.<a class="code" href="classllvm_1_1MachineInstr.html#a002fd916e7206e01d512eeb06d405cf0">getParent</a>();</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> *<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a> = &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#a4e21760f681d6f97f95c8414e7b83ea5">getParent</a>()-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>();</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterInfo.html">TargetRegisterInfo</a> *<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a> = &amp;<a class="code" href="classllvm_1_1PPCInstrInfo.html#a7736d6dc0c4303c59d1192988b8919e9">getRegisterInfo</a>();</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160; </div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;  <span class="keyword">auto</span> IsAllOpsVirtualReg = [](<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;Instr) {</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;MO : Instr.explicit_operands())</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;      <span class="keywordflow">if</span> (!(MO.isReg() &amp;&amp; MO.getReg().isVirtual()))</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;  };</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160; </div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;  <span class="keyword">auto</span> IsReassociableAddOrSub = [&amp;](<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;Instr,</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;                                    <span class="keywordtype">unsigned</span> OpType) {</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    <span class="keywordflow">if</span> (Instr.<a class="code" href="classllvm_1_1MachineInstr.html#a0363204b5fbab08a46f5a7cd7f376f78">getOpcode</a>() !=</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;        <a class="code" href="PPCInstrInfo_8cpp.html#a4d4f8117c339d2abc2acbe2213ccc734">FMAOpIdxInfo</a>[getFMAOpIdxInfo(Root.<a class="code" href="classllvm_1_1MachineInstr.html#a0363204b5fbab08a46f5a7cd7f376f78">getOpcode</a>())][OpType])</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160; </div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    <span class="comment">// Instruction can be reassociated.</span></div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    <span class="comment">// fast math flags may prohibit reassociation.</span></div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    <span class="keywordflow">if</span> (!(Instr.<a class="code" href="classllvm_1_1MachineInstr.html#a33365204be9cb132de322e3713253b57">getFlag</a>(MachineInstr::MIFlag::FmReassoc) &amp;&amp;</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;          Instr.<a class="code" href="classllvm_1_1MachineInstr.html#a33365204be9cb132de322e3713253b57">getFlag</a>(MachineInstr::MIFlag::FmNsz)))</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160; </div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;    <span class="comment">// Instruction operands are virtual registers for reassociation.</span></div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;    <span class="keywordflow">if</span> (!IsAllOpsVirtualReg(Instr))</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160; </div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    <span class="comment">// For register pressure reassociation, the FSub must have only one use as</span></div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;    <span class="comment">// we want to delete the sub to save its def.</span></div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    <span class="keywordflow">if</span> (OpType == <a class="code" href="PPCInstrInfo_8cpp.html#adb5cfef98fae3198ba07782223965882">InfoArrayIdxFSubInst</a> &amp;&amp;</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;        !<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>-&gt;<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a01bf72631b0bc836a8c07fe840b13233">hasOneNonDBGUse</a>(Instr.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>()))</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160; </div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;  };</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160; </div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;  <span class="keyword">auto</span> IsReassociableFMA = [&amp;](<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;Instr, int16_t &amp;AddOpIdx,</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;                               int16_t &amp;MulOpIdx, <span class="keywordtype">bool</span> IsLeaf) {</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    int16_t Idx = getFMAOpIdxInfo(Instr.<a class="code" href="classllvm_1_1MachineInstr.html#a0363204b5fbab08a46f5a7cd7f376f78">getOpcode</a>());</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;    <span class="keywordflow">if</span> (Idx &lt; 0)</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160; </div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;    <span class="comment">// Instruction can be reassociated.</span></div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    <span class="comment">// fast math flags may prohibit reassociation.</span></div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;    <span class="keywordflow">if</span> (!(Instr.<a class="code" href="classllvm_1_1MachineInstr.html#a33365204be9cb132de322e3713253b57">getFlag</a>(MachineInstr::MIFlag::FmReassoc) &amp;&amp;</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;          Instr.<a class="code" href="classllvm_1_1MachineInstr.html#a33365204be9cb132de322e3713253b57">getFlag</a>(MachineInstr::MIFlag::FmNsz)))</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160; </div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;    <span class="comment">// Instruction operands are virtual registers for reassociation.</span></div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;    <span class="keywordflow">if</span> (!IsAllOpsVirtualReg(Instr))</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160; </div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    MulOpIdx = <a class="code" href="PPCInstrInfo_8cpp.html#a4d4f8117c339d2abc2acbe2213ccc734">FMAOpIdxInfo</a>[Idx][<a class="code" href="PPCInstrInfo_8cpp.html#a181355a41a8db50079569dc8ec0f19d4">InfoArrayIdxMULOpIdx</a>];</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    <span class="keywordflow">if</span> (IsLeaf)</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160; </div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;    AddOpIdx = <a class="code" href="PPCInstrInfo_8cpp.html#a4d4f8117c339d2abc2acbe2213ccc734">FMAOpIdxInfo</a>[Idx][<a class="code" href="PPCInstrInfo_8cpp.html#a607c99a73bb0675e29902e00bcdba194">InfoArrayIdxAddOpIdx</a>];</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160; </div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;OpAdd = Instr.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(AddOpIdx);</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;    <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *MIAdd = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>-&gt;<a class="code" href="classllvm_1_1MachineRegisterInfo.html#af988c2b4f62506108843a0fdc04b43a2">getUniqueVRegDef</a>(OpAdd.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>());</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;    <span class="comment">// If &#39;add&#39; operand&#39;s def is not in current block, don&#39;t do ILP related opt.</span></div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;    <span class="keywordflow">if</span> (!MIAdd || MIAdd-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a002fd916e7206e01d512eeb06d405cf0">getParent</a>() != <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>)</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160; </div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;    <span class="comment">// If this is not Leaf FMA Instr, its &#39;add&#39; operand should only have one use</span></div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;    <span class="comment">// as this fma will be changed later.</span></div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;    <span class="keywordflow">return</span> IsLeaf ? <a class="code" href="BasicAliasAnalysis_8cpp.html#af6d5cafbdfc5313e65d990120021a3ec">true</a> : <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>-&gt;<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a01bf72631b0bc836a8c07fe840b13233">hasOneNonDBGUse</a>(OpAdd.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>());</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;  };</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160; </div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;  int16_t AddOpIdx = -1;</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;  int16_t MulOpIdx = -1;</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160; </div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;  <span class="keywordtype">bool</span> IsUsedOnceL = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;  <span class="keywordtype">bool</span> IsUsedOnceR = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;  <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *MULInstrL = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;  <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *MULInstrR = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160; </div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;  <span class="keyword">auto</span> IsRPReductionCandidate = [&amp;]() {</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;    <span class="comment">// Currently, we only support float and double.</span></div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;    <span class="comment">// FIXME: add support for other types.</span></div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;    <span class="keywordtype">unsigned</span> Opcode = Root.<a class="code" href="classllvm_1_1MachineInstr.html#a0363204b5fbab08a46f5a7cd7f376f78">getOpcode</a>();</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;    <span class="keywordflow">if</span> (Opcode != PPC::XSMADDASP &amp;&amp; Opcode != PPC::XSMADDADP)</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160; </div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    <span class="comment">// Root must be a valid FMA like instruction.</span></div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;    <span class="comment">// Treat it as leaf as we don&#39;t care its add operand.</span></div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;    <span class="keywordflow">if</span> (IsReassociableFMA(Root, AddOpIdx, MulOpIdx, <span class="keyword">true</span>)) {</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((MulOpIdx &gt;= 0) &amp;&amp; <span class="stringliteral">&quot;mul operand index not right!&quot;</span>);</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;      <a class="code" href="classllvm_1_1Register.html">Register</a> MULRegL = <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>-&gt;<a class="code" href="classllvm_1_1TargetRegisterInfo.html#a56f7f2867c8f943ceb672823c013df28">lookThruSingleUseCopyChain</a>(</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;          Root.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(MulOpIdx).<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>(), <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>);</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;      <a class="code" href="classllvm_1_1Register.html">Register</a> MULRegR = <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>-&gt;<a class="code" href="classllvm_1_1TargetRegisterInfo.html#a56f7f2867c8f943ceb672823c013df28">lookThruSingleUseCopyChain</a>(</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;          Root.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(MulOpIdx + 1).<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>(), <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>);</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;      <span class="keywordflow">if</span> (!MULRegL &amp;&amp; !MULRegR)</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160; </div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;      <span class="keywordflow">if</span> (MULRegL &amp;&amp; !MULRegR) {</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;        MULRegR =</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;            <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>-&gt;<a class="code" href="classllvm_1_1TargetRegisterInfo.html#a965fc42d34bd3c15f23cd8cfd31d6ad6">lookThruCopyLike</a>(Root.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(MulOpIdx + 1).<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>(), <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>);</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;        IsUsedOnceL = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!MULRegL &amp;&amp; MULRegR) {</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;        MULRegL =</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;            <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>-&gt;<a class="code" href="classllvm_1_1TargetRegisterInfo.html#a965fc42d34bd3c15f23cd8cfd31d6ad6">lookThruCopyLike</a>(Root.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(MulOpIdx).<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>(), <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>);</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;        IsUsedOnceR = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;        IsUsedOnceL = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;        IsUsedOnceR = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;      }</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160; </div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;      <span class="keywordflow">if</span> (!MULRegL.<a class="code" href="classllvm_1_1Register.html#aebafd86dde59b5a05b22e8720e808a9d">isVirtual</a>() || !MULRegR.<a class="code" href="classllvm_1_1Register.html#aebafd86dde59b5a05b22e8720e808a9d">isVirtual</a>())</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160; </div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;      MULInstrL = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>-&gt;<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a40d954b9cf9ee8b545a78725f2549cba">getVRegDef</a>(MULRegL);</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;      MULInstrR = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>-&gt;<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a40d954b9cf9ee8b545a78725f2549cba">getVRegDef</a>(MULRegR);</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;    }</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;  };</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160; </div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;  <span class="comment">// Register pressure fma reassociation patterns.</span></div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;  <span class="keywordflow">if</span> (DoRegPressureReduce &amp;&amp; IsRPReductionCandidate()) {</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((MULInstrL &amp;&amp; MULInstrR) &amp;&amp; <span class="stringliteral">&quot;wrong register preduction candidate!&quot;</span>);</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;    <span class="comment">// Register pressure pattern 1</span></div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1PPCInstrInfo.html#a9f4c857aeef82cc00528864a88944fbb">isLoadFromConstantPool</a>(MULInstrL) &amp;&amp; IsUsedOnceR &amp;&amp;</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;        IsReassociableAddOrSub(*MULInstrR, <a class="code" href="PPCInstrInfo_8cpp.html#adb5cfef98fae3198ba07782223965882">InfoArrayIdxFSubInst</a>)) {</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;      <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;add pattern REASSOC_XY_BCA\n&quot;</span>);</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;      Patterns.push_back(<a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a8268c4cada73d2a27ba77100ace8bc7f">MachineCombinerPattern::REASSOC_XY_BCA</a>);</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;    }</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160; </div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;    <span class="comment">// Register pressure pattern 2</span></div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="classllvm_1_1PPCInstrInfo.html#a9f4c857aeef82cc00528864a88944fbb">isLoadFromConstantPool</a>(MULInstrR) &amp;&amp; IsUsedOnceL &amp;&amp;</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;         IsReassociableAddOrSub(*MULInstrL, <a class="code" href="PPCInstrInfo_8cpp.html#adb5cfef98fae3198ba07782223965882">InfoArrayIdxFSubInst</a>))) {</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;      <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;add pattern REASSOC_XY_BAC\n&quot;</span>);</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;      Patterns.push_back(<a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05aa7ba426d2c5be23f07eed089dad2c708">MachineCombinerPattern::REASSOC_XY_BAC</a>);</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;    }</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;  }</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160; </div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;  <span class="comment">// ILP fma reassociation patterns.</span></div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;  <span class="comment">// Root must be a valid FMA like instruction.</span></div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;  AddOpIdx = -1;</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;  <span class="keywordflow">if</span> (!IsReassociableFMA(Root, AddOpIdx, MulOpIdx, <span class="keyword">false</span>))</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160; </div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((AddOpIdx &gt;= 0) &amp;&amp; <span class="stringliteral">&quot;add operand index not right!&quot;</span>);</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160; </div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> RegB = Root.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(AddOpIdx).<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>();</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;  <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *Prev = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>-&gt;<a class="code" href="classllvm_1_1MachineRegisterInfo.html#af988c2b4f62506108843a0fdc04b43a2">getUniqueVRegDef</a>(RegB);</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160; </div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;  <span class="comment">// Prev must be a valid FMA like instruction.</span></div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;  AddOpIdx = -1;</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;  <span class="keywordflow">if</span> (!IsReassociableFMA(*Prev, AddOpIdx, MulOpIdx, <span class="keyword">false</span>))</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160; </div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((AddOpIdx &gt;= 0) &amp;&amp; <span class="stringliteral">&quot;add operand index not right!&quot;</span>);</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160; </div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> RegA = Prev-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(AddOpIdx).<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>();</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;  <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *Leaf = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>-&gt;<a class="code" href="classllvm_1_1MachineRegisterInfo.html#af988c2b4f62506108843a0fdc04b43a2">getUniqueVRegDef</a>(RegA);</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;  AddOpIdx = -1;</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;  <span class="keywordflow">if</span> (IsReassociableFMA(*Leaf, AddOpIdx, MulOpIdx, <span class="keyword">true</span>)) {</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;    Patterns.push_back(<a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05aa2f29f453161dc1c201ed6159ccfa258">MachineCombinerPattern::REASSOC_XMM_AMM_BMM</a>);</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;add pattern REASSOC_XMM_AMM_BMM\n&quot;</span>);</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;  }</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;  <span class="keywordflow">if</span> (IsReassociableAddOrSub(*Leaf, <a class="code" href="PPCInstrInfo_8cpp.html#addf272780926ebcb0c3a616f6b9f4cf8">InfoArrayIdxFAddInst</a>)) {</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;    Patterns.push_back(<a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a470a418a13972e9ccba7702b7a9e6b6e">MachineCombinerPattern::REASSOC_XY_AMM_BMM</a>);</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;add pattern REASSOC_XY_AMM_BMM\n&quot;</span>);</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;  }</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;}</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160; </div>
<div class="line"><a name="l00547"></a><span class="lineno"><a class="line" href="classllvm_1_1PPCInstrInfo.html#a8ba4f8b2e477a32a27b66aa99566eef9">  547</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1PPCInstrInfo.html#a8ba4f8b2e477a32a27b66aa99566eef9">PPCInstrInfo::finalizeInsInstrs</a>(</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;    <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;Root, <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05">MachineCombinerPattern</a> &amp;<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>,</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;    <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;MachineInstr *&gt;</a> &amp;InsInstrs)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!InsInstrs.empty() &amp;&amp; <span class="stringliteral">&quot;Instructions set to be inserted is empty!&quot;</span>);</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160; </div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;  <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> *MF = Root.<a class="code" href="classllvm_1_1MachineInstr.html#ab05719438bdf4b46871e5ecd9730caeb">getMF</a>();</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;  <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> *<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a> = &amp;MF-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>();</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterInfo.html">TargetRegisterInfo</a> *<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a> = &amp;<a class="code" href="classllvm_1_1PPCInstrInfo.html#a7736d6dc0c4303c59d1192988b8919e9">getRegisterInfo</a>();</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;  <a class="code" href="classllvm_1_1MachineConstantPool.html">MachineConstantPool</a> *MCP = MF-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#aa460158a4019a4043faf6ea76344cbd5">getConstantPool</a>();</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160; </div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;  int16_t Idx = getFMAOpIdxInfo(Root.<a class="code" href="classllvm_1_1MachineInstr.html#a0363204b5fbab08a46f5a7cd7f376f78">getOpcode</a>());</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;  <span class="keywordflow">if</span> (Idx &lt; 0)</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160; </div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;  <a class="code" href="classuint16__t.html">uint16_t</a> FirstMulOpIdx = <a class="code" href="PPCInstrInfo_8cpp.html#a4d4f8117c339d2abc2acbe2213ccc734">FMAOpIdxInfo</a>[Idx][<a class="code" href="PPCInstrInfo_8cpp.html#a181355a41a8db50079569dc8ec0f19d4">InfoArrayIdxMULOpIdx</a>];</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160; </div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;  <span class="comment">// For now we only need to fix up placeholder for register pressure reduce</span></div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;  <span class="comment">// patterns.</span></div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> ConstReg = 0;</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;  <span class="keywordflow">switch</span> (<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>) {</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a8268c4cada73d2a27ba77100ace8bc7f">MachineCombinerPattern::REASSOC_XY_BCA</a>:</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;    ConstReg =</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;        <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>-&gt;<a class="code" href="classllvm_1_1TargetRegisterInfo.html#a965fc42d34bd3c15f23cd8cfd31d6ad6">lookThruCopyLike</a>(Root.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(FirstMulOpIdx).<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>(), <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>);</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05aa7ba426d2c5be23f07eed089dad2c708">MachineCombinerPattern::REASSOC_XY_BAC</a>:</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;    ConstReg =</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;        <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>-&gt;<a class="code" href="classllvm_1_1TargetRegisterInfo.html#a965fc42d34bd3c15f23cd8cfd31d6ad6">lookThruCopyLike</a>(Root.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(FirstMulOpIdx + 1).<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>(), <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>);</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;    <span class="comment">// Not register pressure reduce patterns.</span></div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;  }</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160; </div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;  <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *ConstDefInstr = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>-&gt;<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a40d954b9cf9ee8b545a78725f2549cba">getVRegDef</a>(ConstReg);</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;  <span class="comment">// Get const value from const pool.</span></div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = <a class="code" href="classllvm_1_1PPCInstrInfo.html#aedca54ee65b84a32a3bf0c9a595e2fd9">getConstantFromConstantPool</a>(ConstDefInstr);</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(isa&lt;llvm::ConstantFP&gt;(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>) &amp;&amp; <span class="stringliteral">&quot;not a valid constant!&quot;</span>);</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160; </div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;  <span class="comment">// Get negative fp const.</span></div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;  <a class="code" href="classllvm_1_1APFloat.html">APFloat</a> F1((dyn_cast&lt;ConstantFP&gt;(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>))-&gt;getValueAPF());</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;  F1.<a class="code" href="classllvm_1_1APFloat.html#ae7fe7691e456e49addd866aa23896387">changeSign</a>();</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;  <a class="code" href="classllvm_1_1Constant.html">Constant</a> *NegC = <a class="code" href="classllvm_1_1ConstantFP.html#a5eb8f7a5d3cfdd127ad9db2e425e14eb">ConstantFP::get</a>(dyn_cast&lt;ConstantFP&gt;(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>)-&gt;getContext(), F1);</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;  <a class="code" href="structllvm_1_1Align.html">Align</a> Alignment = MF-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#a82dd10b626a629b9bb7d32d53a8e0884">getDataLayout</a>().<a class="code" href="classllvm_1_1DataLayout.html#af9185c7e96873c6d2c13e1f1b6322cf6">getPrefTypeAlign</a>(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;getType());</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160; </div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;  <span class="comment">// Put negative fp const into constant pool.</span></div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;  <span class="keywordtype">unsigned</span> ConstPoolIdx = MCP-&gt;<a class="code" href="classllvm_1_1MachineConstantPool.html#afd6691ddb5d4adf50d744297e18a1c6d">getConstantPoolIndex</a>(NegC, Alignment);</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160; </div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;  <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> *Placeholder = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;  <span class="comment">// Record the placeholder PPC::ZERO8 we add in reassociateFMA.</span></div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> *Inst : InsInstrs) {</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;Operand : Inst-&gt;explicit_operands()) {</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Operand.isReg() &amp;&amp; <span class="stringliteral">&quot;Invalid instruction in InsInstrs!&quot;</span>);</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;      <span class="keywordflow">if</span> (Operand.getReg() == PPC::ZERO8) {</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;        Placeholder = &amp;Operand;</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;      }</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;    }</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;  }</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160; </div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Placeholder &amp;&amp; <span class="stringliteral">&quot;Placeholder does not exist!&quot;</span>);</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160; </div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;  <span class="comment">// Generate instructions to load the const fp from constant pool.</span></div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;  <span class="comment">// We only support PPC64 and medium code model.</span></div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> LoadNewConst =</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;      generateLoadForNewConst(ConstPoolIdx, &amp;Root, <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;getType(), InsInstrs);</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160; </div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;  <span class="comment">// Fill the placeholder with the new load from constant pool.</span></div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;  Placeholder-&gt;setReg(LoadNewConst);</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;}</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160; </div>
<div class="line"><a name="l00617"></a><span class="lineno"><a class="line" href="classllvm_1_1PPCInstrInfo.html#acba682e84de176f762ddc4d774819cae">  617</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1PPCInstrInfo.html#acba682e84de176f762ddc4d774819cae">PPCInstrInfo::shouldReduceRegisterPressure</a>(</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1RegisterClassInfo.html">RegisterClassInfo</a> *RegClassInfo)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160; </div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="PPCInstrInfo_8cpp.html#aa359bc3e76e065f5495cf482d6ff987c">EnableFMARegPressureReduction</a>)</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160; </div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;  <span class="comment">// Currently, we only enable register pressure reducing in machine combiner</span></div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;  <span class="comment">// for: 1: PPC64; 2: Code Model is Medium; 3: Power9 which also has vector</span></div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;  <span class="comment">// support.</span></div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;  <span class="comment">// So we need following instructions to access a TOC entry:</span></div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;  <span class="comment">// %6:g8rc_and_g8rc_nox0 = ADDIStocHA8 $x2, %const.0</span></div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;  <span class="comment">// %7:vssrc = DFLOADf32 target-flags(ppc-toc-lo) %const.0,</span></div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;  <span class="comment">//   killed %6:g8rc_and_g8rc_nox0, implicit $x2 :: (load 4 from constant-pool)</span></div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;  <span class="comment">// FIXME: add more supported targets, like Small and Large code model, PPC32,</span></div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;  <span class="comment">// AIX.</span></div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;  <span class="keywordflow">if</span> (!(Subtarget.<a class="code" href="classllvm_1_1PPCSubtarget.html#a6622b99b3c00a3938d969957312b1b52">isPPC64</a>() &amp;&amp; Subtarget.hasP9Vector() &amp;&amp;</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;        Subtarget.<a class="code" href="classllvm_1_1PPCSubtarget.html#a1e40ab97212e20147852cfd69a885be1">getTargetMachine</a>().<a class="code" href="classllvm_1_1TargetMachine.html#ae106f6c6362377b3016f0d174227e193">getCodeModel</a>() == <a class="code" href="namespacellvm_1_1CodeModel.html#afc59396a9e5809fc92938e203d91a8dfa29275c05d0afdbda643f7a0fbad83832">CodeModel::Medium</a>))</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160; </div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterInfo.html">TargetRegisterInfo</a> *<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a> = &amp;<a class="code" href="classllvm_1_1PPCInstrInfo.html#a7736d6dc0c4303c59d1192988b8919e9">getRegisterInfo</a>();</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> *MF = <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#a4e21760f681d6f97f95c8414e7b83ea5">getParent</a>();</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> *<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a> = &amp;MF-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>();</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160; </div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;  <span class="keyword">auto</span> GetMBBPressure =</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;      [&amp;](<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>) -&gt; std::vector&lt;unsigned&gt; {</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;    <a class="code" href="structllvm_1_1RegionPressure.html">RegionPressure</a> Pressure;</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;    <a class="code" href="classllvm_1_1RegPressureTracker.html">RegPressureTracker</a> RPTracker(Pressure);</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160; </div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;    <span class="comment">// Initialize the register pressure tracker.</span></div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;    RPTracker.<a class="code" href="classllvm_1_1RegPressureTracker.html#a5d044b599a2e3a1007e31a120105c9d7">init</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#a4e21760f681d6f97f95c8414e7b83ea5">getParent</a>(), RegClassInfo, <span class="keyword">nullptr</span>, <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">end</a>(),</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;                   <span class="comment">/*TrackLaneMasks*/</span> <span class="keyword">false</span>, <span class="comment">/*TrackUntiedDefs=*/</span><span class="keyword">true</span>);</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160; </div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a> : <a class="code" href="namespacellvm.html#a6b0ac1fa4f05de76413c5e0ca6334035">reverse</a>(*<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>)) {</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.isDebugValue() || <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.isDebugLabel())</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;      <a class="code" href="classllvm_1_1RegisterOperands.html">RegisterOperands</a> RegOpers;</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;      RegOpers.<a class="code" href="classllvm_1_1RegisterOperands.html#a74e0a918c9705f23a1e5b66f68cc97e9">collect</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, *<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>, *<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <span class="keyword">false</span>, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;      RPTracker.<a class="code" href="classllvm_1_1RegPressureTracker.html#a354c230443b1586633f5697aec0bcd8e">recedeSkipDebugValues</a>();</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(&amp;*RPTracker.<a class="code" href="classllvm_1_1RegPressureTracker.html#a8743b2c5c27035fa002ef69e9df50c72">getPos</a>() == &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a> &amp;&amp; <span class="stringliteral">&quot;RPTracker sync error!&quot;</span>);</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;      RPTracker.<a class="code" href="classllvm_1_1RegPressureTracker.html#a19bc5229b207b9de98ffbd0bbf4c84ab">recede</a>(RegOpers);</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;    }</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160; </div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;    <span class="comment">// Close the RPTracker to finalize live ins.</span></div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;    RPTracker.<a class="code" href="classllvm_1_1RegPressureTracker.html#a1844e0ed5cc8c90d7afaad0bea1e48d7">closeRegion</a>();</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160; </div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;    <span class="keywordflow">return</span> RPTracker.<a class="code" href="classllvm_1_1RegPressureTracker.html#aa4e622c86aaa72cfc6725b7b66c6a068">getPressure</a>().<a class="code" href="structllvm_1_1RegisterPressure.html#af444f3c79d12bb654d6477d629cbe7c0">MaxSetPressure</a>;</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;  };</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160; </div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;  <span class="comment">// For now we only care about float and double type fma.</span></div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;  <span class="keywordtype">unsigned</span> VSSRCLimit = <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>-&gt;<a class="code" href="classllvm_1_1TargetRegisterInfo.html#a8ba26aeb1ab043b5907d811f14f9ccce">getRegPressureSetLimit</a>(</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;      *<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#a4e21760f681d6f97f95c8414e7b83ea5">getParent</a>(), PPC::RegisterPressureSets::VSSRC);</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160; </div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;  <span class="comment">// Only reduce register pressure when pressure is high.</span></div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;  <span class="keywordflow">return</span> GetMBBPressure(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>)[PPC::RegisterPressureSets::VSSRC] &gt;</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;         (float)VSSRCLimit * <a class="code" href="PPCInstrInfo_8cpp.html#aa9c13d9e221dc808f03b60abd4e848b2">FMARPFactor</a>;</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;}</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160; </div>
<div class="line"><a name="l00677"></a><span class="lineno"><a class="line" href="classllvm_1_1PPCInstrInfo.html#a9f4c857aeef82cc00528864a88944fbb">  677</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1PPCInstrInfo.html#a9f4c857aeef82cc00528864a88944fbb">PPCInstrInfo::isLoadFromConstantPool</a>(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;  <span class="comment">// I has only one memory operand which is load from constant pool.</span></div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;hasOneMemOperand())</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160; </div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;  <a class="code" href="classllvm_1_1MachineMemOperand.html">MachineMemOperand</a> *<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;memoperands()[0];</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>-&gt;isLoad() &amp;&amp; <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>-&gt;getPseudoValue() &amp;&amp;</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;         <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>-&gt;getPseudoValue()-&gt;kind() == <a class="code" href="classllvm_1_1PseudoSourceValue.html#a9959ffdc41bc31cf2211b8824f79259eae05129b008395b214fc0ee1bea862f29">PseudoSourceValue::ConstantPool</a>;</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;}</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160; </div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;<a class="code" href="classllvm_1_1Register.html">Register</a> PPCInstrInfo::generateLoadForNewConst(</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;    <span class="keywordtype">unsigned</span> Idx, <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="classllvm_1_1Type.html">Type</a> *Ty,</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;    <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;MachineInstr *&gt;</a> &amp;InsInstrs)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;  <span class="comment">// Now we only support PPC64, Medium code model and P9 with vector.</span></div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;  <span class="comment">// We have immutable pattern to access const pool. See function</span></div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;  <span class="comment">// shouldReduceRegisterPressure.</span></div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((Subtarget.<a class="code" href="classllvm_1_1PPCSubtarget.html#a6622b99b3c00a3938d969957312b1b52">isPPC64</a>() &amp;&amp; Subtarget.hasP9Vector() &amp;&amp;</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;          Subtarget.<a class="code" href="classllvm_1_1PPCSubtarget.html#a1e40ab97212e20147852cfd69a885be1">getTargetMachine</a>().<a class="code" href="classllvm_1_1TargetMachine.html#ae106f6c6362377b3016f0d174227e193">getCodeModel</a>() == <a class="code" href="namespacellvm_1_1CodeModel.html#afc59396a9e5809fc92938e203d91a8dfa29275c05d0afdbda643f7a0fbad83832">CodeModel::Medium</a>) &amp;&amp;</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;         <span class="stringliteral">&quot;Target not supported!\n&quot;</span>);</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160; </div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;  <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> *MF = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getMF();</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;  <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> *<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a> = &amp;MF-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>();</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160; </div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;  <span class="comment">// Generate ADDIStocHA8</span></div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> VReg1 = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>-&gt;<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5c77792a06583e0fe7a0379ad94a2809">createVirtualRegister</a>(&amp;PPC::G8RC_and_G8RC_NOX0RegClass);</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;  <a class="code" href="classllvm_1_1MachineInstrBuilder.html">MachineInstrBuilder</a> TOCOffset =</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;      <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(*MF, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getDebugLoc(), <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(PPC::ADDIStocHA8), VReg1)</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(PPC::X2)</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#acaf4466fb8b9a459c596aa5161423715">addConstantPoolIndex</a>(Idx);</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160; </div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((Ty-&gt;<a class="code" href="classllvm_1_1Type.html#a3ffc75c3a4cb82ba307a3334483eb4ac">isFloatTy</a>() || Ty-&gt;<a class="code" href="classllvm_1_1Type.html#aa0fd6bf3d33236279db7b707bba755f4">isDoubleTy</a>()) &amp;&amp;</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;         <span class="stringliteral">&quot;Only float and double are supported!&quot;</span>);</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160; </div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;  <span class="keywordtype">unsigned</span> LoadOpcode;</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;  <span class="comment">// Should be float type or double type.</span></div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;  <span class="keywordflow">if</span> (Ty-&gt;<a class="code" href="classllvm_1_1Type.html#a3ffc75c3a4cb82ba307a3334483eb4ac">isFloatTy</a>())</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;    LoadOpcode = PPC::DFLOADf32;</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;    LoadOpcode = PPC::DFLOADf64;</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160; </div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *RC = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>-&gt;<a class="code" href="classllvm_1_1MachineRegisterInfo.html#aa363afffca4fc13a709673936b47fe33">getRegClass</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getOperand(0).getReg());</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> VReg2 = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>-&gt;<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5c77792a06583e0fe7a0379ad94a2809">createVirtualRegister</a>(RC);</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;  <a class="code" href="classllvm_1_1MachineMemOperand.html">MachineMemOperand</a> *MMO = MF-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#a0d496cc15e312863869a384532968143">getMachineMemOperand</a>(</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;      <a class="code" href="structllvm_1_1MachinePointerInfo.html#a8b1a64bd0c1be7a99998055c78d1312b">MachinePointerInfo::getConstantPool</a>(*MF), <a class="code" href="classllvm_1_1MachineMemOperand.html#aaa2020e47e35179234b9ea27d555b2dda7d12be6206e5b0026c71bbcd5cb76494">MachineMemOperand::MOLoad</a>,</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;      Ty-&gt;<a class="code" href="classllvm_1_1Type.html#a9f382207d841377156d4c7868b66b9a5">getScalarSizeInBits</a>() / 8, MF-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#a82dd10b626a629b9bb7d32d53a8e0884">getDataLayout</a>().<a class="code" href="classllvm_1_1DataLayout.html#af9185c7e96873c6d2c13e1f1b6322cf6">getPrefTypeAlign</a>(Ty));</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160; </div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;  <span class="comment">// Generate Load from constant pool.</span></div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;  <a class="code" href="classllvm_1_1MachineInstrBuilder.html">MachineInstrBuilder</a> <a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a> =</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;      <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(*MF, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getDebugLoc(), <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(LoadOpcode), VReg2)</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#acaf4466fb8b9a459c596aa5161423715">addConstantPoolIndex</a>(Idx)</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(VReg1, <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(<span class="keyword">true</span>))</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a47760ffd22a82283df0f5da521feca2a">addMemOperand</a>(MMO);</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160; </div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;  <a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>-&gt;getOperand(1).setTargetFlags(<a class="code" href="namespacellvm_1_1PPCII.html#ae73836094d8b0399ba10a6e540a363ffad512bc138c5c6766b7ee4f66e43d47b4">PPCII::MO_TOC_LO</a>);</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160; </div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;  <span class="comment">// Insert the toc load instructions into InsInstrs.</span></div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;  InsInstrs.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a94d23373106467003722f7d6c17b1528">insert</a>(InsInstrs.begin(), <a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>);</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;  InsInstrs.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a94d23373106467003722f7d6c17b1528">insert</a>(InsInstrs.begin(), TOCOffset);</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;  <span class="keywordflow">return</span> VReg2;</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;}</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160; </div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;<span class="comment">// This function returns the const value in constant pool if the \p I is a load</span></div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;<span class="comment">// from constant pool.</span></div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;<span class="keyword">const</span> <a class="code" href="classllvm_1_1Constant.html">Constant</a> *</div>
<div class="line"><a name="l00741"></a><span class="lineno"><a class="line" href="classllvm_1_1PPCInstrInfo.html#aedca54ee65b84a32a3bf0c9a595e2fd9">  741</a></span>&#160;<a class="code" href="classllvm_1_1PPCInstrInfo.html#aedca54ee65b84a32a3bf0c9a595e2fd9">PPCInstrInfo::getConstantFromConstantPool</a>(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;  <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> *MF = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getMF();</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;  <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> *<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a> = &amp;MF-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>();</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;  <a class="code" href="classllvm_1_1MachineConstantPool.html">MachineConstantPool</a> *MCP = MF-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#aa460158a4019a4043faf6ea76344cbd5">getConstantPool</a>();</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;mayLoad() &amp;&amp; <span class="stringliteral">&quot;Should be a load instruction.\n&quot;</span>);</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> MO : <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;uses()) {</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;    <span class="keywordflow">if</span> (!MO.isReg())</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a> = MO.getReg();</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a> == 0 || !<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>.isVirtual())</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;    <span class="comment">// Find the toc address.</span></div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;    <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a> = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>-&gt;<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a40d954b9cf9ee8b545a78725f2549cba">getVRegDef</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>);</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> MO2 : <a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a>-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a3d48d31197f4a45d95605b5ade51ab27">uses</a>())</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;      <span class="keywordflow">if</span> (MO2.isCPI())</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;        <span class="keywordflow">return</span> (MCP-&gt;<a class="code" href="classllvm_1_1MachineConstantPool.html#ab0394f070be811134efcd9a412275097">getConstants</a>())[MO2.getIndex()].Val.ConstVal;</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;  }</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;}</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160; </div>
<div class="line"><a name="l00761"></a><span class="lineno"><a class="line" href="classllvm_1_1PPCInstrInfo.html#a3292a10fddf8b776e21e2b2a39ed0622">  761</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1PPCInstrInfo.html#a3292a10fddf8b776e21e2b2a39ed0622">PPCInstrInfo::getMachineCombinerPatterns</a>(</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;    <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;Root, <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;MachineCombinerPattern&gt;</a> &amp;Patterns,</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;    <span class="keywordtype">bool</span> DoRegPressureReduce)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;  <span class="comment">// Using the machine combiner in this way is potentially expensive, so</span></div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;  <span class="comment">// restrict to when aggressive optimizations are desired.</span></div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;  <span class="keywordflow">if</span> (Subtarget.<a class="code" href="classllvm_1_1PPCSubtarget.html#a1e40ab97212e20147852cfd69a885be1">getTargetMachine</a>().<a class="code" href="classllvm_1_1TargetMachine.html#a3f36b7c907385d9b367f7b22a9fcc797">getOptLevel</a>() != <a class="code" href="namespacellvm_1_1CodeGenOpt.html#ad7e52174abb1cfb84238ad1ac475ee36a71969d8670845bfa9d80ba2197dba678">CodeGenOpt::Aggressive</a>)</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160; </div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1PPCInstrInfo.html#a50c42e50d84476f314b12fc325f97cdf">getFMAPatterns</a>(Root, Patterns, DoRegPressureReduce))</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160; </div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1TargetInstrInfo.html#a46ab782fa8efa2745e4fe000a1cd3d5a">TargetInstrInfo::getMachineCombinerPatterns</a>(Root, Patterns,</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;                                                     DoRegPressureReduce);</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;}</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160; </div>
<div class="line"><a name="l00776"></a><span class="lineno"><a class="line" href="classllvm_1_1PPCInstrInfo.html#a9f02408db99c8acb18352d7398561be4">  776</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1PPCInstrInfo.html#a9f02408db99c8acb18352d7398561be4">PPCInstrInfo::genAlternativeCodeSequence</a>(</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;    <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;Root, <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05">MachineCombinerPattern</a> <a class="code" href="classllvm_1_1Pattern.html">Pattern</a>,</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;    <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;MachineInstr *&gt;</a> &amp;InsInstrs,</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;    <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;MachineInstr *&gt;</a> &amp;DelInstrs,</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;    <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;unsigned, unsigned&gt;</a> &amp;InstrIdxForVirtReg)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;  <span class="keywordflow">switch</span> (<a class="code" href="classllvm_1_1Pattern.html">Pattern</a>) {</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a470a418a13972e9ccba7702b7a9e6b6e">MachineCombinerPattern::REASSOC_XY_AMM_BMM</a>:</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05aa2f29f453161dc1c201ed6159ccfa258">MachineCombinerPattern::REASSOC_XMM_AMM_BMM</a>:</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a8268c4cada73d2a27ba77100ace8bc7f">MachineCombinerPattern::REASSOC_XY_BCA</a>:</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05aa7ba426d2c5be23f07eed089dad2c708">MachineCombinerPattern::REASSOC_XY_BAC</a>:</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;    reassociateFMA(Root, <a class="code" href="classllvm_1_1Pattern.html">Pattern</a>, InsInstrs, DelInstrs, InstrIdxForVirtReg);</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;    <span class="comment">// Reassociate default patterns.</span></div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;    <a class="code" href="classllvm_1_1TargetInstrInfo.html#aa438b91b89d93aa1caed060cfc90d1cd">TargetInstrInfo::genAlternativeCodeSequence</a>(Root, <a class="code" href="classllvm_1_1Pattern.html">Pattern</a>, InsInstrs,</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;                                                DelInstrs, InstrIdxForVirtReg);</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;  }</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;}</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160; </div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;<span class="keywordtype">void</span> PPCInstrInfo::reassociateFMA(</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;    <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;Root, <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05">MachineCombinerPattern</a> <a class="code" href="classllvm_1_1Pattern.html">Pattern</a>,</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;    <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;MachineInstr *&gt;</a> &amp;InsInstrs,</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;    <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;MachineInstr *&gt;</a> &amp;DelInstrs,</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;    <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;unsigned, unsigned&gt;</a> &amp;InstrIdxForVirtReg)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;  <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> *MF = Root.<a class="code" href="classllvm_1_1MachineInstr.html#ab05719438bdf4b46871e5ecd9730caeb">getMF</a>();</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;  <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a> = MF-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>();</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterInfo.html">TargetRegisterInfo</a> *<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a> = &amp;<a class="code" href="classllvm_1_1PPCInstrInfo.html#a7736d6dc0c4303c59d1192988b8919e9">getRegisterInfo</a>();</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;  <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;OpC = Root.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(0);</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> RegC = OpC.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>();</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *RC = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#aa363afffca4fc13a709673936b47fe33">getRegClass</a>(RegC);</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;  <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#ad85285685fc46db3f2b3b0bf90bf9184">constrainRegClass</a>(RegC, RC);</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160; </div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;  <span class="keywordtype">unsigned</span> FmaOp = Root.<a class="code" href="classllvm_1_1MachineInstr.html#a0363204b5fbab08a46f5a7cd7f376f78">getOpcode</a>();</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;  int16_t Idx = getFMAOpIdxInfo(FmaOp);</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Idx &gt;= 0 &amp;&amp; <span class="stringliteral">&quot;Root must be a FMA instruction&quot;</span>);</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160; </div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;  <span class="keywordtype">bool</span> IsILPReassociate =</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;      (<a class="code" href="classllvm_1_1Pattern.html">Pattern</a> == <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a470a418a13972e9ccba7702b7a9e6b6e">MachineCombinerPattern::REASSOC_XY_AMM_BMM</a>) ||</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;      (<a class="code" href="classllvm_1_1Pattern.html">Pattern</a> == <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05aa2f29f453161dc1c201ed6159ccfa258">MachineCombinerPattern::REASSOC_XMM_AMM_BMM</a>);</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160; </div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;  <a class="code" href="classuint16__t.html">uint16_t</a> AddOpIdx = <a class="code" href="PPCInstrInfo_8cpp.html#a4d4f8117c339d2abc2acbe2213ccc734">FMAOpIdxInfo</a>[Idx][<a class="code" href="PPCInstrInfo_8cpp.html#a607c99a73bb0675e29902e00bcdba194">InfoArrayIdxAddOpIdx</a>];</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;  <a class="code" href="classuint16__t.html">uint16_t</a> FirstMulOpIdx = <a class="code" href="PPCInstrInfo_8cpp.html#a4d4f8117c339d2abc2acbe2213ccc734">FMAOpIdxInfo</a>[Idx][<a class="code" href="PPCInstrInfo_8cpp.html#a181355a41a8db50079569dc8ec0f19d4">InfoArrayIdxMULOpIdx</a>];</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160; </div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;  <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *Prev = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;  <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *Leaf = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;  <span class="keywordflow">switch</span> (<a class="code" href="classllvm_1_1Pattern.html">Pattern</a>) {</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;    <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;not recognized pattern!&quot;</span>);</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a470a418a13972e9ccba7702b7a9e6b6e">MachineCombinerPattern::REASSOC_XY_AMM_BMM</a>:</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05aa2f29f453161dc1c201ed6159ccfa258">MachineCombinerPattern::REASSOC_XMM_AMM_BMM</a>:</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;    Prev = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#af988c2b4f62506108843a0fdc04b43a2">getUniqueVRegDef</a>(Root.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(AddOpIdx).<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>());</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;    Leaf = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#af988c2b4f62506108843a0fdc04b43a2">getUniqueVRegDef</a>(Prev-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(AddOpIdx).<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>());</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05aa7ba426d2c5be23f07eed089dad2c708">MachineCombinerPattern::REASSOC_XY_BAC</a>: {</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> MULReg =</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;        <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>-&gt;<a class="code" href="classllvm_1_1TargetRegisterInfo.html#a965fc42d34bd3c15f23cd8cfd31d6ad6">lookThruCopyLike</a>(Root.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(FirstMulOpIdx).<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>(), &amp;<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>);</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;    Leaf = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a40d954b9cf9ee8b545a78725f2549cba">getVRegDef</a>(MULReg);</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;  }</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a8268c4cada73d2a27ba77100ace8bc7f">MachineCombinerPattern::REASSOC_XY_BCA</a>: {</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> MULReg = <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>-&gt;<a class="code" href="classllvm_1_1TargetRegisterInfo.html#a965fc42d34bd3c15f23cd8cfd31d6ad6">lookThruCopyLike</a>(</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;        Root.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(FirstMulOpIdx + 1).<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>(), &amp;<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>);</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;    Leaf = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a40d954b9cf9ee8b545a78725f2549cba">getVRegDef</a>(MULReg);</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;  }</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;  }</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160; </div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;  <a class="code" href="classuint16__t.html">uint16_t</a> IntersectedFlags = 0;</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;  <span class="keywordflow">if</span> (IsILPReassociate)</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;    IntersectedFlags = Root.<a class="code" href="classllvm_1_1MachineInstr.html#ad2f4d922d52fe33423474951f704b91b">getFlags</a>() &amp; Prev-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#ad2f4d922d52fe33423474951f704b91b">getFlags</a>() &amp; Leaf-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#ad2f4d922d52fe33423474951f704b91b">getFlags</a>();</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;    IntersectedFlags = Root.<a class="code" href="classllvm_1_1MachineInstr.html#ad2f4d922d52fe33423474951f704b91b">getFlags</a>() &amp; Leaf-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#ad2f4d922d52fe33423474951f704b91b">getFlags</a>();</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160; </div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;  <span class="keyword">auto</span> GetOperandInfo = [&amp;](<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;Operand, <a class="code" href="classllvm_1_1Register.html">Register</a> &amp;<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>,</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;                            <span class="keywordtype">bool</span> &amp;KillFlag) {</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;    <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a> = Operand.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>();</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;    <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#ad85285685fc46db3f2b3b0bf90bf9184">constrainRegClass</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, RC);</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;    KillFlag = Operand.<a class="code" href="classllvm_1_1MachineOperand.html#a4046212ebc647b17e811837ae4ea3afd">isKill</a>();</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;  };</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160; </div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;  <span class="keyword">auto</span> GetFMAInstrInfo = [&amp;](<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;Instr, <a class="code" href="classllvm_1_1Register.html">Register</a> &amp;MulOp1,</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;                             <a class="code" href="classllvm_1_1Register.html">Register</a> &amp;MulOp2, <a class="code" href="classllvm_1_1Register.html">Register</a> &amp;AddOp,</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;                             <span class="keywordtype">bool</span> &amp;MulOp1KillFlag, <span class="keywordtype">bool</span> &amp;MulOp2KillFlag,</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;                             <span class="keywordtype">bool</span> &amp;AddOpKillFlag) {</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;    GetOperandInfo(Instr.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(FirstMulOpIdx), MulOp1, MulOp1KillFlag);</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;    GetOperandInfo(Instr.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(FirstMulOpIdx + 1), MulOp2, MulOp2KillFlag);</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;    GetOperandInfo(Instr.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(AddOpIdx), AddOp, AddOpKillFlag);</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;  };</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160; </div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> RegM11, RegM12, RegX, RegY, RegM21, RegM22, RegM31, RegM32, RegA11,</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;      RegA21, RegB;</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;  <span class="keywordtype">bool</span> KillX = <span class="keyword">false</span>, KillY = <span class="keyword">false</span>, KillM11 = <span class="keyword">false</span>, KillM12 = <span class="keyword">false</span>,</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;       KillM21 = <span class="keyword">false</span>, KillM22 = <span class="keyword">false</span>, KillM31 = <span class="keyword">false</span>, KillM32 = <span class="keyword">false</span>,</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;       KillA11 = <span class="keyword">false</span>, KillA21 = <span class="keyword">false</span>, KillB = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160; </div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;  GetFMAInstrInfo(Root, RegM31, RegM32, RegB, KillM31, KillM32, KillB);</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160; </div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;  <span class="keywordflow">if</span> (IsILPReassociate)</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;    GetFMAInstrInfo(*Prev, RegM21, RegM22, RegA21, KillM21, KillM22, KillA21);</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160; </div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Pattern.html">Pattern</a> == <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05aa2f29f453161dc1c201ed6159ccfa258">MachineCombinerPattern::REASSOC_XMM_AMM_BMM</a>) {</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;    GetFMAInstrInfo(*Leaf, RegM11, RegM12, RegA11, KillM11, KillM12, KillA11);</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;    GetOperandInfo(Leaf-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(AddOpIdx), RegX, KillX);</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Pattern.html">Pattern</a> == <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a470a418a13972e9ccba7702b7a9e6b6e">MachineCombinerPattern::REASSOC_XY_AMM_BMM</a>) {</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;    GetOperandInfo(Leaf-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(1), RegX, KillX);</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;    GetOperandInfo(Leaf-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(2), RegY, KillY);</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;    <span class="comment">// Get FSUB instruction info.</span></div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;    GetOperandInfo(Leaf-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(1), RegX, KillX);</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;    GetOperandInfo(Leaf-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(2), RegY, KillY);</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;  }</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160; </div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;  <span class="comment">// Create new virtual registers for the new results instead of</span></div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;  <span class="comment">// recycling legacy ones because the MachineCombiner&#39;s computation of the</span></div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;  <span class="comment">// critical path requires a new register definition rather than an existing</span></div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;  <span class="comment">// one.</span></div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;  <span class="comment">// For register pressure reassociation, we only need create one virtual</span></div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;  <span class="comment">// register for the new fma.</span></div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> NewVRA = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5c77792a06583e0fe7a0379ad94a2809">createVirtualRegister</a>(RC);</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;  InstrIdxForVirtReg.<a class="code" href="classllvm_1_1DenseMapBase.html#a99f811d53704275b4158c62a2dd138d9">insert</a>(std::make_pair(NewVRA, 0));</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160; </div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> NewVRB = 0;</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;  <span class="keywordflow">if</span> (IsILPReassociate) {</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;    NewVRB = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5c77792a06583e0fe7a0379ad94a2809">createVirtualRegister</a>(RC);</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;    InstrIdxForVirtReg.<a class="code" href="classllvm_1_1DenseMapBase.html#a99f811d53704275b4158c62a2dd138d9">insert</a>(std::make_pair(NewVRB, 1));</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;  }</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160; </div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> NewVRD = 0;</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Pattern.html">Pattern</a> == <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05aa2f29f453161dc1c201ed6159ccfa258">MachineCombinerPattern::REASSOC_XMM_AMM_BMM</a>) {</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;    NewVRD = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5c77792a06583e0fe7a0379ad94a2809">createVirtualRegister</a>(RC);</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;    InstrIdxForVirtReg.<a class="code" href="classllvm_1_1DenseMapBase.html#a99f811d53704275b4158c62a2dd138d9">insert</a>(std::make_pair(NewVRD, 2));</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;  }</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160; </div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;  <span class="keyword">auto</span> AdjustOperandOrder = [&amp;](<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="classllvm_1_1Register.html">Register</a> RegAdd, <span class="keywordtype">bool</span> KillAdd,</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;                                <a class="code" href="classllvm_1_1Register.html">Register</a> RegMul1, <span class="keywordtype">bool</span> KillRegMul1,</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;                                <a class="code" href="classllvm_1_1Register.html">Register</a> RegMul2, <span class="keywordtype">bool</span> KillRegMul2) {</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;    <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getOperand(AddOpIdx).setReg(RegAdd);</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;    <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getOperand(AddOpIdx).setIsKill(KillAdd);</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;    <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getOperand(FirstMulOpIdx).setReg(RegMul1);</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;    <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getOperand(FirstMulOpIdx).setIsKill(KillRegMul1);</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;    <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getOperand(FirstMulOpIdx + 1).setReg(RegMul2);</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;    <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getOperand(FirstMulOpIdx + 1).setIsKill(KillRegMul2);</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;  };</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160; </div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;  <a class="code" href="classllvm_1_1MachineInstrBuilder.html">MachineInstrBuilder</a> NewARegPressure, NewCRegPressure;</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;  <span class="keywordflow">switch</span> (<a class="code" href="classllvm_1_1Pattern.html">Pattern</a>) {</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;    <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;not recognized pattern!&quot;</span>);</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a470a418a13972e9ccba7702b7a9e6b6e">MachineCombinerPattern::REASSOC_XY_AMM_BMM</a>: {</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;    <span class="comment">// Create new instructions for insertion.</span></div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;    <a class="code" href="classllvm_1_1MachineInstrBuilder.html">MachineInstrBuilder</a> MINewB =</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;        <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(*MF, Prev-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#ae8ff2acea4fe63e48e8fc6cf0620ff78">getDebugLoc</a>(), <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(FmaOp), NewVRB)</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;            .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(RegX, <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(KillX))</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;            .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(RegM21, <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(KillM21))</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;            .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(RegM22, <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(KillM22));</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;    <a class="code" href="classllvm_1_1MachineInstrBuilder.html">MachineInstrBuilder</a> MINewA =</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;        <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(*MF, Root.<a class="code" href="classllvm_1_1MachineInstr.html#ae8ff2acea4fe63e48e8fc6cf0620ff78">getDebugLoc</a>(), <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(FmaOp), NewVRA)</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;            .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(RegY, <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(KillY))</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;            .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(RegM31, <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(KillM31))</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;            .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(RegM32, <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(KillM32));</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;    <span class="comment">// If AddOpIdx is not 1, adjust the order.</span></div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;    <span class="keywordflow">if</span> (AddOpIdx != 1) {</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;      AdjustOperandOrder(MINewB, RegX, KillX, RegM21, KillM21, RegM22, KillM22);</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;      AdjustOperandOrder(MINewA, RegY, KillY, RegM31, KillM31, RegM32, KillM32);</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;    }</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160; </div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;    <a class="code" href="classllvm_1_1MachineInstrBuilder.html">MachineInstrBuilder</a> MINewC =</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;        <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(*MF, Root.<a class="code" href="classllvm_1_1MachineInstr.html#ae8ff2acea4fe63e48e8fc6cf0620ff78">getDebugLoc</a>(),</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;                <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(<a class="code" href="PPCInstrInfo_8cpp.html#a4d4f8117c339d2abc2acbe2213ccc734">FMAOpIdxInfo</a>[Idx][<a class="code" href="PPCInstrInfo_8cpp.html#addf272780926ebcb0c3a616f6b9f4cf8">InfoArrayIdxFAddInst</a>]), RegC)</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;            .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(NewVRB, <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(<span class="keyword">true</span>))</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;            .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(NewVRA, <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(<span class="keyword">true</span>));</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160; </div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;    <span class="comment">// Update flags for newly created instructions.</span></div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;    <a class="code" href="classllvm_1_1PPCInstrInfo.html#a5ccaef728fa7584f286ab605174a0b0b">setSpecialOperandAttr</a>(*MINewA, IntersectedFlags);</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;    <a class="code" href="classllvm_1_1PPCInstrInfo.html#a5ccaef728fa7584f286ab605174a0b0b">setSpecialOperandAttr</a>(*MINewB, IntersectedFlags);</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;    <a class="code" href="classllvm_1_1PPCInstrInfo.html#a5ccaef728fa7584f286ab605174a0b0b">setSpecialOperandAttr</a>(*MINewC, IntersectedFlags);</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160; </div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;    <span class="comment">// Record new instructions for insertion.</span></div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;    InsInstrs.push_back(MINewA);</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;    InsInstrs.push_back(MINewB);</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;    InsInstrs.push_back(MINewC);</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;  }</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05aa2f29f453161dc1c201ed6159ccfa258">MachineCombinerPattern::REASSOC_XMM_AMM_BMM</a>: {</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(NewVRD &amp;&amp; <span class="stringliteral">&quot;new FMA register not created!&quot;</span>);</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;    <span class="comment">// Create new instructions for insertion.</span></div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;    <a class="code" href="classllvm_1_1MachineInstrBuilder.html">MachineInstrBuilder</a> MINewA =</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;        <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(*MF, Leaf-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#ae8ff2acea4fe63e48e8fc6cf0620ff78">getDebugLoc</a>(),</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;                <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(<a class="code" href="PPCInstrInfo_8cpp.html#a4d4f8117c339d2abc2acbe2213ccc734">FMAOpIdxInfo</a>[Idx][<a class="code" href="PPCInstrInfo_8cpp.html#aeb853018a1c21903ee845b0c016142da">InfoArrayIdxFMULInst</a>]), NewVRA)</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;            .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(RegM11, <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(KillM11))</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;            .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(RegM12, <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(KillM12));</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;    <a class="code" href="classllvm_1_1MachineInstrBuilder.html">MachineInstrBuilder</a> MINewB =</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;        <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(*MF, Prev-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#ae8ff2acea4fe63e48e8fc6cf0620ff78">getDebugLoc</a>(), <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(FmaOp), NewVRB)</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;            .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(RegX, <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(KillX))</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;            .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(RegM21, <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(KillM21))</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;            .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(RegM22, <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(KillM22));</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;    <a class="code" href="classllvm_1_1MachineInstrBuilder.html">MachineInstrBuilder</a> MINewD =</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;        <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(*MF, Root.<a class="code" href="classllvm_1_1MachineInstr.html#ae8ff2acea4fe63e48e8fc6cf0620ff78">getDebugLoc</a>(), <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(FmaOp), NewVRD)</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;            .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(NewVRA, <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(<span class="keyword">true</span>))</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;            .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(RegM31, <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(KillM31))</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;            .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(RegM32, <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(KillM32));</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;    <span class="comment">// If AddOpIdx is not 1, adjust the order.</span></div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;    <span class="keywordflow">if</span> (AddOpIdx != 1) {</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;      AdjustOperandOrder(MINewB, RegX, KillX, RegM21, KillM21, RegM22, KillM22);</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;      AdjustOperandOrder(MINewD, NewVRA, <span class="keyword">true</span>, RegM31, KillM31, RegM32,</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;                         KillM32);</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;    }</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160; </div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;    <a class="code" href="classllvm_1_1MachineInstrBuilder.html">MachineInstrBuilder</a> MINewC =</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;        <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(*MF, Root.<a class="code" href="classllvm_1_1MachineInstr.html#ae8ff2acea4fe63e48e8fc6cf0620ff78">getDebugLoc</a>(),</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;                <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(<a class="code" href="PPCInstrInfo_8cpp.html#a4d4f8117c339d2abc2acbe2213ccc734">FMAOpIdxInfo</a>[Idx][<a class="code" href="PPCInstrInfo_8cpp.html#addf272780926ebcb0c3a616f6b9f4cf8">InfoArrayIdxFAddInst</a>]), RegC)</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;            .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(NewVRB, <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(<span class="keyword">true</span>))</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;            .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(NewVRD, <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(<span class="keyword">true</span>));</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160; </div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;    <span class="comment">// Update flags for newly created instructions.</span></div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;    <a class="code" href="classllvm_1_1PPCInstrInfo.html#a5ccaef728fa7584f286ab605174a0b0b">setSpecialOperandAttr</a>(*MINewA, IntersectedFlags);</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;    <a class="code" href="classllvm_1_1PPCInstrInfo.html#a5ccaef728fa7584f286ab605174a0b0b">setSpecialOperandAttr</a>(*MINewB, IntersectedFlags);</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;    <a class="code" href="classllvm_1_1PPCInstrInfo.html#a5ccaef728fa7584f286ab605174a0b0b">setSpecialOperandAttr</a>(*MINewD, IntersectedFlags);</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;    <a class="code" href="classllvm_1_1PPCInstrInfo.html#a5ccaef728fa7584f286ab605174a0b0b">setSpecialOperandAttr</a>(*MINewC, IntersectedFlags);</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160; </div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;    <span class="comment">// Record new instructions for insertion.</span></div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;    InsInstrs.push_back(MINewA);</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;    InsInstrs.push_back(MINewB);</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;    InsInstrs.push_back(MINewD);</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;    InsInstrs.push_back(MINewC);</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;  }</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05aa7ba426d2c5be23f07eed089dad2c708">MachineCombinerPattern::REASSOC_XY_BAC</a>:</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a8268c4cada73d2a27ba77100ace8bc7f">MachineCombinerPattern::REASSOC_XY_BCA</a>: {</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> VarReg;</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;    <span class="keywordtype">bool</span> KillVarReg = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Pattern.html">Pattern</a> == <a class="code" href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a8268c4cada73d2a27ba77100ace8bc7f">MachineCombinerPattern::REASSOC_XY_BCA</a>) {</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;      VarReg = RegM31;</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;      KillVarReg = KillM31;</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;      VarReg = RegM32;</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;      KillVarReg = KillM32;</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;    }</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;    <span class="comment">// We don&#39;t want to get negative const from memory pool too early, as the</span></div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;    <span class="comment">// created entry will not be deleted even if it has no users. Since all</span></div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;    <span class="comment">// operand of Leaf and Root are virtual register, we use zero register</span></div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;    <span class="comment">// here as a placeholder. When the InsInstrs is selected in</span></div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;    <span class="comment">// MachineCombiner, we call finalizeInsInstrs to replace the zero register</span></div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;    <span class="comment">// with a virtual register which is a load from constant pool.</span></div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;    NewARegPressure = <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(*MF, Root.<a class="code" href="classllvm_1_1MachineInstr.html#ae8ff2acea4fe63e48e8fc6cf0620ff78">getDebugLoc</a>(), <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(FmaOp), NewVRA)</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;                          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(RegB, <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(RegB))</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;                          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(RegY, <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(KillY))</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;                          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(PPC::ZERO8);</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;    NewCRegPressure = <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(*MF, Root.<a class="code" href="classllvm_1_1MachineInstr.html#ae8ff2acea4fe63e48e8fc6cf0620ff78">getDebugLoc</a>(), <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(FmaOp), RegC)</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;                          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(NewVRA, <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(<span class="keyword">true</span>))</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;                          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(RegX, <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(KillX))</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;                          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(VarReg, <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(KillVarReg));</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;    <span class="comment">// For now, we only support xsmaddadp/xsmaddasp, their add operand are</span></div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;    <span class="comment">// both at index 1, no need to adjust.</span></div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;    <span class="comment">// FIXME: when add more fma instructions support, like fma/fmas, adjust</span></div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;    <span class="comment">// the operand index here.</span></div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;  }</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;  }</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160; </div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;  <span class="keywordflow">if</span> (!IsILPReassociate) {</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;    <a class="code" href="classllvm_1_1PPCInstrInfo.html#a5ccaef728fa7584f286ab605174a0b0b">setSpecialOperandAttr</a>(*NewARegPressure, IntersectedFlags);</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;    <a class="code" href="classllvm_1_1PPCInstrInfo.html#a5ccaef728fa7584f286ab605174a0b0b">setSpecialOperandAttr</a>(*NewCRegPressure, IntersectedFlags);</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160; </div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;    InsInstrs.push_back(NewARegPressure);</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;    InsInstrs.push_back(NewCRegPressure);</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;  }</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160; </div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!InsInstrs.empty() &amp;&amp;</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;         <span class="stringliteral">&quot;Insertion instructions set should not be empty!&quot;</span>);</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160; </div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;  <span class="comment">// Record old instructions for deletion.</span></div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;  DelInstrs.push_back(Leaf);</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;  <span class="keywordflow">if</span> (IsILPReassociate)</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;    DelInstrs.push_back(Prev);</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;  DelInstrs.push_back(&amp;Root);</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;}</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160; </div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;<span class="comment">// Detect 32 -&gt; 64-bit extensions where we may reuse the low sub-register.</span></div>
<div class="line"><a name="l01056"></a><span class="lineno"><a class="line" href="classllvm_1_1PPCInstrInfo.html#ab666db2c9fa0785e9298602f26d609f6"> 1056</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1PPCInstrInfo.html#ab666db2c9fa0785e9298602f26d609f6">PPCInstrInfo::isCoalescableExtInstr</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>,</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;                                         <a class="code" href="classllvm_1_1Register.html">Register</a> &amp;SrcReg, <a class="code" href="classllvm_1_1Register.html">Register</a> &amp;DstReg,</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;                                         <span class="keywordtype">unsigned</span> &amp;SubIdx)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;  <span class="keywordflow">switch</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode()) {</div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;  <span class="keywordflow">default</span>: <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;  <span class="keywordflow">case</span> PPC::EXTSW:</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;  <span class="keywordflow">case</span> PPC::EXTSW_32:</div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;  <span class="keywordflow">case</span> PPC::EXTSW_32_64:</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;    SrcReg = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(1).getReg();</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;    DstReg = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(0).getReg();</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;    SubIdx = PPC::sub_32;</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;  }</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;}</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160; </div>
<div class="line"><a name="l01071"></a><span class="lineno"><a class="line" href="classllvm_1_1PPCInstrInfo.html#a5d0eb474ed80ff47a9838b71df8cf1f4"> 1071</a></span>&#160;<span class="keywordtype">unsigned</span> <a class="code" href="classllvm_1_1PPCInstrInfo.html#a5d0eb474ed80ff47a9838b71df8cf1f4">PPCInstrInfo::isLoadFromStackSlot</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>,</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;                                           <span class="keywordtype">int</span> &amp;<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4b437632fd9b97dd36010d85eb363efe">FrameIndex</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#acd1cd968cb420c82d70926920fcdc7d7">llvm::is_contained</a>(getLoadOpcodesForSpillArray(), <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode())) {</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;    <span class="comment">// Check for the operands added by addFrameReference (the immediate is the</span></div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;    <span class="comment">// offset which defaults to 0).</span></div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(1).isImm() &amp;&amp; !<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(1).getImm() &amp;&amp;</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;        <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(2).isFI()) {</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;      <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4b437632fd9b97dd36010d85eb363efe">FrameIndex</a> = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(2).getIndex();</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(0).getReg();</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;    }</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;  }</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;  <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;}</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160; </div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;<span class="comment">// For opcodes with the ReMaterializable flag set, this function is called to</span></div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;<span class="comment">// verify the instruction is really rematable.</span></div>
<div class="line"><a name="l01087"></a><span class="lineno"><a class="line" href="classllvm_1_1PPCInstrInfo.html#a0f34e95d290dc051294ec47023d90ca7"> 1087</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1PPCInstrInfo.html#a0f34e95d290dc051294ec47023d90ca7">PPCInstrInfo::isReallyTriviallyReMaterializable</a>(</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;  <span class="keywordflow">switch</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode()) {</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;    <span class="comment">// This function should only be called for opcodes with the ReMaterializable</span></div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;    <span class="comment">// flag set.</span></div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;    <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unknown rematerializable operation!&quot;</span>);</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;  <span class="keywordflow">case</span> PPC::LI:</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;  <span class="keywordflow">case</span> PPC::LI8:</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;  <span class="keywordflow">case</span> PPC::PLI:</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;  <span class="keywordflow">case</span> PPC::PLI8:</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;  <span class="keywordflow">case</span> PPC::LIS:</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;  <span class="keywordflow">case</span> PPC::LIS8:</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;  <span class="keywordflow">case</span> PPC::ADDIStocHA:</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;  <span class="keywordflow">case</span> PPC::ADDIStocHA8:</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;  <span class="keywordflow">case</span> PPC::ADDItocL:</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;  <span class="keywordflow">case</span> PPC::LOAD_STACK_GUARD:</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;  <span class="keywordflow">case</span> PPC::XXLXORz:</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;  <span class="keywordflow">case</span> PPC::XXLXORspz:</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;  <span class="keywordflow">case</span> PPC::XXLXORdpz:</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;  <span class="keywordflow">case</span> PPC::XXLEQVOnes:</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1PPCISD.html#ad1c32e5bb1cb213fb836bc3d221e4f19a31d181189194ec87162affcc5e92b150">PPC::XXSPLTI32DX</a>:</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;  <span class="keywordflow">case</span> PPC::XXSPLTIW:</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;  <span class="keywordflow">case</span> PPC::XXSPLTIDP:</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;  <span class="keywordflow">case</span> PPC::V_SET0B:</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;  <span class="keywordflow">case</span> PPC::V_SET0H:</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;  <span class="keywordflow">case</span> PPC::V_SET0:</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;  <span class="keywordflow">case</span> PPC::V_SETALLONESB:</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;  <span class="keywordflow">case</span> PPC::V_SETALLONESH:</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;  <span class="keywordflow">case</span> PPC::V_SETALLONES:</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;  <span class="keywordflow">case</span> PPC::CRSET:</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;  <span class="keywordflow">case</span> PPC::CRUNSET:</div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;  <span class="keywordflow">case</span> PPC::XXSETACCZ:</div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;  <span class="keywordflow">case</span> PPC::XXSETACCZW:</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;  }</div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;}</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160; </div>
<div class="line"><a name="l01127"></a><span class="lineno"><a class="line" href="classllvm_1_1PPCInstrInfo.html#ae91d2d0672c290bb7ecdc7527d6eb08c"> 1127</a></span>&#160;<span class="keywordtype">unsigned</span> <a class="code" href="classllvm_1_1PPCInstrInfo.html#ae91d2d0672c290bb7ecdc7527d6eb08c">PPCInstrInfo::isStoreToStackSlot</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>,</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;                                          <span class="keywordtype">int</span> &amp;<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4b437632fd9b97dd36010d85eb363efe">FrameIndex</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#acd1cd968cb420c82d70926920fcdc7d7">llvm::is_contained</a>(getStoreOpcodesForSpillArray(), <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode())) {</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(1).isImm() &amp;&amp; !<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(1).getImm() &amp;&amp;</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;        <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(2).isFI()) {</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;      <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4b437632fd9b97dd36010d85eb363efe">FrameIndex</a> = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(2).getIndex();</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(0).getReg();</div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;    }</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;  }</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;  <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;}</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160; </div>
<div class="line"><a name="l01139"></a><span class="lineno"><a class="line" href="classllvm_1_1PPCInstrInfo.html#a3ea2369e6bcfa35889cf566047e3ca3f"> 1139</a></span>&#160;<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="classllvm_1_1PPCInstrInfo.html#a3ea2369e6bcfa35889cf566047e3ca3f">PPCInstrInfo::commuteInstructionImpl</a>(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <span class="keywordtype">bool</span> NewMI,</div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;                                                   <span class="keywordtype">unsigned</span> OpIdx1,</div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;                                                   <span class="keywordtype">unsigned</span> OpIdx2)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;  <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF = *<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getParent()-&gt;getParent();</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160; </div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;  <span class="comment">// Normal instructions can be commuted the obvious way.</span></div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode() != PPC::RLWIMI &amp;&amp; <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode() != PPC::RLWIMI_rec)</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1TargetInstrInfo.html#adf4d05c8ea2fc82ae12300ef5fb48951">TargetInstrInfo::commuteInstructionImpl</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, NewMI, OpIdx1, OpIdx2);</div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;  <span class="comment">// Note that RLWIMI can be commuted as a 32-bit instruction, but not as a</span></div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;  <span class="comment">// 64-bit instruction (so we don&#39;t handle PPC::RLWIMI8 here), because</span></div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;  <span class="comment">// changing the relative order of the mask operands might change what happens</span></div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;  <span class="comment">// to the high-bits of the mask (and, thus, the result).</span></div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160; </div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;  <span class="comment">// Cannot commute if it has a non-zero rotate count.</span></div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(3).getImm() != 0)</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160; </div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;  <span class="comment">// If we have a zero rotate count, we have:</span></div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;  <span class="comment">//   M = mask(MB,ME)</span></div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;  <span class="comment">//   Op0 = (Op1 &amp; ~M) | (Op2 &amp; M)</span></div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;  <span class="comment">// Change this to:</span></div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;  <span class="comment">//   M = mask((ME+1)&amp;31, (MB-1)&amp;31)</span></div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;  <span class="comment">//   Op0 = (Op2 &amp; ~M) | (Op1 &amp; M)</span></div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160; </div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;  <span class="comment">// Swap op1/op2</span></div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(((OpIdx1 == 1 &amp;&amp; OpIdx2 == 2) || (OpIdx1 == 2 &amp;&amp; OpIdx2 == 1)) &amp;&amp;</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;         <span class="stringliteral">&quot;Only the operands 1 and 2 can be swapped in RLSIMI/RLWIMI_rec.&quot;</span>);</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> Reg0 = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(0).getReg();</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> Reg1 = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(1).getReg();</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> Reg2 = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(2).getReg();</div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;  <span class="keywordtype">unsigned</span> SubReg1 = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(1).getSubReg();</div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;  <span class="keywordtype">unsigned</span> SubReg2 = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(2).getSubReg();</div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;  <span class="keywordtype">bool</span> Reg1IsKill = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(1).isKill();</div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;  <span class="keywordtype">bool</span> Reg2IsKill = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(2).isKill();</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;  <span class="keywordtype">bool</span> ChangeReg0 = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;  <span class="comment">// If machine instrs are no longer in two-address forms, update</span></div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;  <span class="comment">// destination register as well.</span></div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;  <span class="keywordflow">if</span> (Reg0 == Reg1) {</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;    <span class="comment">// Must be two address instruction!</span></div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getDesc().getOperandConstraint(0, <a class="code" href="namespacellvm_1_1MCOI.html#aaa8eb58fd1b8466eb64a43df890cb8c1ae01b27a05209c02ca1bdb5a6033731fb">MCOI::TIED_TO</a>) &amp;&amp;</div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;           <span class="stringliteral">&quot;Expecting a two-address instruction!&quot;</span>);</div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(0).getSubReg() == SubReg1 &amp;&amp; <span class="stringliteral">&quot;Tied subreg mismatch&quot;</span>);</div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;    Reg2IsKill = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;    ChangeReg0 = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;  }</div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160; </div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;  <span class="comment">// Masks.</span></div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;  <span class="keywordtype">unsigned</span> MB = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(4).getImm();</div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;  <span class="keywordtype">unsigned</span> ME = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(5).getImm();</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160; </div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;  <span class="comment">// We can&#39;t commute a trivial mask (there is no way to represent an all-zero</span></div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;  <span class="comment">// mask).</span></div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;  <span class="keywordflow">if</span> (MB == 0 &amp;&amp; ME == 31)</div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160; </div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;  <span class="keywordflow">if</span> (NewMI) {</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;    <span class="comment">// Create a new instruction.</span></div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> Reg0 = ChangeReg0 ? Reg2 : <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(0).getReg();</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;    <span class="keywordtype">bool</span> Reg0IsDead = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(0).isDead();</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(MF, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getDebugLoc(), <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getDesc())</div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(Reg0, <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da72c17e2ff2d5af62a30e56ac152aa8d5">RegState::Define</a> | <a class="code" href="namespacellvm.html#a3dd7c56278c84a39f699241bdaade2ee">getDeadRegState</a>(Reg0IsDead))</div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(Reg2, <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(Reg2IsKill))</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(Reg1, <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(Reg1IsKill))</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>((ME + 1) &amp; 31)</div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>((MB - 1) &amp; 31);</div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;  }</div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160; </div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;  <span class="keywordflow">if</span> (ChangeReg0) {</div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;    <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(0).setReg(Reg2);</div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;    <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(0).setSubReg(SubReg2);</div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;  }</div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;  <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(2).setReg(Reg1);</div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;  <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(1).setReg(Reg2);</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;  <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(2).setSubReg(SubReg1);</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;  <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(1).setSubReg(SubReg2);</div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;  <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(2).setIsKill(Reg1IsKill);</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;  <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(1).setIsKill(Reg2IsKill);</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160; </div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;  <span class="comment">// Swap the mask around.</span></div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;  <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(4).setImm((ME + 1) &amp; 31);</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;  <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(5).setImm((MB - 1) &amp; 31);</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;  <span class="keywordflow">return</span> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>;</div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;}</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160; </div>
<div class="line"><a name="l01223"></a><span class="lineno"><a class="line" href="classllvm_1_1PPCInstrInfo.html#afadf8e95969c146a28e22d91218db770"> 1223</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1PPCInstrInfo.html#afadf8e95969c146a28e22d91218db770">PPCInstrInfo::findCommutedOpIndices</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>,</div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;                                         <span class="keywordtype">unsigned</span> &amp;SrcOpIdx1,</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;                                         <span class="keywordtype">unsigned</span> &amp;SrcOpIdx2)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;  <span class="comment">// For VSX A-Type FMA instructions, it is the first two operands that can be</span></div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;  <span class="comment">// commuted, however, because the non-encoded tied input operand is listed</span></div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;  <span class="comment">// first, the operands to swap are actually the second and third.</span></div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160; </div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;  <span class="keywordtype">int</span> AltOpc = <a class="code" href="namespacellvm_1_1PPC.html#a1545caeeda8de7bd87be034c59b2b9fe">PPC::getAltVSXFMAOpcode</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode());</div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;  <span class="keywordflow">if</span> (AltOpc == -1)</div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1TargetInstrInfo.html#a422b844cc7e3db360908c008cb651f96">TargetInstrInfo::findCommutedOpIndices</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, SrcOpIdx1, SrcOpIdx2);</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160; </div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;  <span class="comment">// The commutable operand indices are 2 and 3. Return them in SrcOpIdx1</span></div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;  <span class="comment">// and SrcOpIdx2.</span></div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;  <span class="keywordflow">return</span> fixCommutedOpIndices(SrcOpIdx1, SrcOpIdx2, 2, 3);</div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;}</div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160; </div>
<div class="line"><a name="l01239"></a><span class="lineno"><a class="line" href="classllvm_1_1PPCInstrInfo.html#a7c1001c415a0435743c316d7b941f56f"> 1239</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1PPCInstrInfo.html#a7c1001c415a0435743c316d7b941f56f">PPCInstrInfo::insertNoop</a>(<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>,</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;                              <a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::iterator</a> <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;  <span class="comment">// This function is used for scheduling, and the nop wanted here is the type</span></div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;  <span class="comment">// that terminates dispatch groups on the POWER cores.</span></div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="classllvm_1_1Directive.html">Directive</a> = Subtarget.<a class="code" href="classllvm_1_1PPCSubtarget.html#a9fdcf13a56a07a0f207e0b0f66bbdbb6">getCPUDirective</a>();</div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;  <span class="keywordtype">unsigned</span> Opcode;</div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;  <span class="keywordflow">switch</span> (<a class="code" href="classllvm_1_1Directive.html">Directive</a>) {</div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;  <span class="keywordflow">default</span>:            Opcode = PPC::NOP; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1PPC.html#a020638ddecc65637bc0282f5ee857d50aa2b626cb4809ee8a3b3da9d475eabe05">PPC::DIR_PWR6</a>: Opcode = PPC::NOP_GT_PWR6; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1PPC.html#a020638ddecc65637bc0282f5ee857d50a0c8a5dd168df904e8c29520a47502a61">PPC::DIR_PWR7</a>: Opcode = PPC::NOP_GT_PWR7; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1PPC.html#a020638ddecc65637bc0282f5ee857d50aa3de856d909c5b0166919bf6e4bd1a3d">PPC::DIR_PWR8</a>: Opcode = PPC::NOP_GT_PWR7; <span class="keywordflow">break</span>; <span class="comment">/* FIXME: Update when P8 InstrScheduling model is ready */</span></div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;  <span class="comment">// FIXME: Update when POWER9 scheduling model is ready.</span></div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1PPC.html#a020638ddecc65637bc0282f5ee857d50a0a03bfd83c00f4d1edab975b7bfe7f36">PPC::DIR_PWR9</a>: Opcode = PPC::NOP_GT_PWR7; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;  }</div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160; </div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;  <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>;</div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;  <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(Opcode));</div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;}</div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;<span class="comment">/// Return the noop instruction to use for a noop.</span></div>
<div class="line"><a name="l01259"></a><span class="lineno"><a class="line" href="classllvm_1_1PPCInstrInfo.html#a2f3dc5cc960be4f46fdfc635895535a5"> 1259</a></span>&#160;<span class="comment"></span><a class="code" href="classllvm_1_1MCInst.html">MCInst</a> <a class="code" href="classllvm_1_1PPCInstrInfo.html#a2f3dc5cc960be4f46fdfc635895535a5">PPCInstrInfo::getNop</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;  <a class="code" href="classllvm_1_1MCInst.html">MCInst</a> <a class="code" href="namespacellvm_1_1WebAssembly.html#a8252c3c3e2c889ea98eea628b81d2999">Nop</a>;</div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;  <a class="code" href="namespacellvm_1_1WebAssembly.html#a8252c3c3e2c889ea98eea628b81d2999">Nop</a>.setOpcode(PPC::NOP);</div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1WebAssembly.html#a8252c3c3e2c889ea98eea628b81d2999">Nop</a>;</div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;}</div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160; </div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;<span class="comment">// Branch analysis.</span></div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;<span class="comment">// Note: If the condition register is set to CTR or CTR8 then this is a</span></div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;<span class="comment">// BDNZ (imm == 1) or BDZ (imm == 0) branch.</span></div>
<div class="line"><a name="l01268"></a><span class="lineno"><a class="line" href="classllvm_1_1PPCInstrInfo.html#aedb2f85719d229f0c9bc62ab1d17e918"> 1268</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1PPCInstrInfo.html#aedb2f85719d229f0c9bc62ab1d17e918">PPCInstrInfo::analyzeBranch</a>(<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>,</div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;                                 <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *&amp;<a class="code" href="RISCVRedundantCopyElimination_8cpp.html#a1441f79530bc7f3a89118bb8067eac69">TBB</a>,</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;                                 <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *&amp;FBB,</div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;                                 <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;MachineOperand&gt;</a> &amp;<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>,</div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;                                 <span class="keywordtype">bool</span> AllowModify)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;  <span class="keywordtype">bool</span> isPPC64 = Subtarget.<a class="code" href="classllvm_1_1PPCSubtarget.html#a6622b99b3c00a3938d969957312b1b52">isPPC64</a>();</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160; </div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;  <span class="comment">// If the block has no terminators, it just falls into the block after it.</span></div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;  <a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#ab8d7b8ff6803133d567fd4240e6364ce">getLastNonDebugInstr</a>();</div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> == <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">end</a>())</div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160; </div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;  <span class="keywordflow">if</span> (!isUnpredicatedTerminator(*<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>))</div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160; </div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;  <span class="keywordflow">if</span> (AllowModify) {</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;    <span class="comment">// If the BB ends with an unconditional branch to the fallthrough BB,</span></div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;    <span class="comment">// we eliminate the branch instruction.</span></div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getOpcode() == <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">PPC::B</a> &amp;&amp;</div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;        <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#abd85c9d7c51eb515a550069e9ad9445e">isLayoutSuccessor</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getOperand(0).getMBB())) {</div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;      <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;eraseFromParent();</div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160; </div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;      <span class="comment">// We update iterator after deleting the last branch.</span></div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;      <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#ab8d7b8ff6803133d567fd4240e6364ce">getLastNonDebugInstr</a>();</div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> == <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">end</a>() || !isUnpredicatedTerminator(*<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>))</div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;    }</div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;  }</div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160; </div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;  <span class="comment">// Get the last instruction in the block.</span></div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;  <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;LastInst = *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160; </div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;  <span class="comment">// If there is only one terminator instruction, process it.</span></div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> == <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#ab2d91e7bec944efcbc39d8e30644f111">begin</a>() || !isUnpredicatedTerminator(*--<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)) {</div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;    <span class="keywordflow">if</span> (LastInst.<a class="code" href="classllvm_1_1MachineInstr.html#a0363204b5fbab08a46f5a7cd7f376f78">getOpcode</a>() == <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">PPC::B</a>) {</div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;      <span class="keywordflow">if</span> (!LastInst.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#afe1784e242ce66da6029b3a681896bd2">isMBB</a>())</div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;      <a class="code" href="RISCVRedundantCopyElimination_8cpp.html#a1441f79530bc7f3a89118bb8067eac69">TBB</a> = LastInst.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#a9b48cb80ee1534c2b51d789b673137c1">getMBB</a>();</div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (LastInst.<a class="code" href="classllvm_1_1MachineInstr.html#a0363204b5fbab08a46f5a7cd7f376f78">getOpcode</a>() == PPC::BCC) {</div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;      <span class="keywordflow">if</span> (!LastInst.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(2).<a class="code" href="classllvm_1_1MachineOperand.html#afe1784e242ce66da6029b3a681896bd2">isMBB</a>())</div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;      <span class="comment">// Block ends with fall-through condbranch.</span></div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;      <a class="code" href="RISCVRedundantCopyElimination_8cpp.html#a1441f79530bc7f3a89118bb8067eac69">TBB</a> = LastInst.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(2).<a class="code" href="classllvm_1_1MachineOperand.html#a9b48cb80ee1534c2b51d789b673137c1">getMBB</a>();</div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;      <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>.push_back(LastInst.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(0));</div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;      <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>.push_back(LastInst.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(1));</div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (LastInst.<a class="code" href="classllvm_1_1MachineInstr.html#a0363204b5fbab08a46f5a7cd7f376f78">getOpcode</a>() == PPC::BC) {</div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;      <span class="keywordflow">if</span> (!LastInst.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(1).<a class="code" href="classllvm_1_1MachineOperand.html#afe1784e242ce66da6029b3a681896bd2">isMBB</a>())</div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;      <span class="comment">// Block ends with fall-through condbranch.</span></div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;      <a class="code" href="RISCVRedundantCopyElimination_8cpp.html#a1441f79530bc7f3a89118bb8067eac69">TBB</a> = LastInst.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(1).<a class="code" href="classllvm_1_1MachineOperand.html#a9b48cb80ee1534c2b51d789b673137c1">getMBB</a>();</div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;      <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>.push_back(<a class="code" href="classllvm_1_1MachineOperand.html#ab09679b541a6ba1219b3602569847364">MachineOperand::CreateImm</a>(<a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355a3382a0bee0f471ebce5e57f6cbdc91d6">PPC::PRED_BIT_SET</a>));</div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;      <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>.push_back(LastInst.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(0));</div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (LastInst.<a class="code" href="classllvm_1_1MachineInstr.html#a0363204b5fbab08a46f5a7cd7f376f78">getOpcode</a>() == PPC::BCn) {</div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;      <span class="keywordflow">if</span> (!LastInst.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(1).<a class="code" href="classllvm_1_1MachineOperand.html#afe1784e242ce66da6029b3a681896bd2">isMBB</a>())</div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;      <span class="comment">// Block ends with fall-through condbranch.</span></div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;      <a class="code" href="RISCVRedundantCopyElimination_8cpp.html#a1441f79530bc7f3a89118bb8067eac69">TBB</a> = LastInst.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(1).<a class="code" href="classllvm_1_1MachineOperand.html#a9b48cb80ee1534c2b51d789b673137c1">getMBB</a>();</div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;      <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>.push_back(<a class="code" href="classllvm_1_1MachineOperand.html#ab09679b541a6ba1219b3602569847364">MachineOperand::CreateImm</a>(<a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355aa3aa5d66d33f7c07c2932141ad4c4b67">PPC::PRED_BIT_UNSET</a>));</div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;      <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>.push_back(LastInst.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(0));</div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (LastInst.<a class="code" href="classllvm_1_1MachineInstr.html#a0363204b5fbab08a46f5a7cd7f376f78">getOpcode</a>() == PPC::BDNZ8 ||</div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;               LastInst.<a class="code" href="classllvm_1_1MachineInstr.html#a0363204b5fbab08a46f5a7cd7f376f78">getOpcode</a>() == <a class="code" href="namespacellvm_1_1PPCISD.html#ad1c32e5bb1cb213fb836bc3d221e4f19a160ec67350dc5e964fc0a12a9cde1df8">PPC::BDNZ</a>) {</div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;      <span class="keywordflow">if</span> (!LastInst.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#afe1784e242ce66da6029b3a681896bd2">isMBB</a>())</div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="PPCInstrInfo_8cpp.html#a2020155e83c7126b4863de105c09bd45">DisableCTRLoopAnal</a>)</div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;      <a class="code" href="RISCVRedundantCopyElimination_8cpp.html#a1441f79530bc7f3a89118bb8067eac69">TBB</a> = LastInst.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#a9b48cb80ee1534c2b51d789b673137c1">getMBB</a>();</div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;      <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>.push_back(<a class="code" href="classllvm_1_1MachineOperand.html#ab09679b541a6ba1219b3602569847364">MachineOperand::CreateImm</a>(1));</div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;      <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>.push_back(<a class="code" href="classllvm_1_1MachineOperand.html#af2c351dad09a71aa08e1d85c67ae6e53">MachineOperand::CreateReg</a>(isPPC64 ? PPC::CTR8 : PPC::CTR,</div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;                                               <span class="keyword">true</span>));</div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (LastInst.<a class="code" href="classllvm_1_1MachineInstr.html#a0363204b5fbab08a46f5a7cd7f376f78">getOpcode</a>() == PPC::BDZ8 ||</div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;               LastInst.<a class="code" href="classllvm_1_1MachineInstr.html#a0363204b5fbab08a46f5a7cd7f376f78">getOpcode</a>() == <a class="code" href="namespacellvm_1_1PPCISD.html#ad1c32e5bb1cb213fb836bc3d221e4f19addb9d78754c1f2e6d765a0da913f0800">PPC::BDZ</a>) {</div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;      <span class="keywordflow">if</span> (!LastInst.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#afe1784e242ce66da6029b3a681896bd2">isMBB</a>())</div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="PPCInstrInfo_8cpp.html#a2020155e83c7126b4863de105c09bd45">DisableCTRLoopAnal</a>)</div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;      <a class="code" href="RISCVRedundantCopyElimination_8cpp.html#a1441f79530bc7f3a89118bb8067eac69">TBB</a> = LastInst.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#a9b48cb80ee1534c2b51d789b673137c1">getMBB</a>();</div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;      <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>.push_back(<a class="code" href="classllvm_1_1MachineOperand.html#ab09679b541a6ba1219b3602569847364">MachineOperand::CreateImm</a>(0));</div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;      <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>.push_back(<a class="code" href="classllvm_1_1MachineOperand.html#af2c351dad09a71aa08e1d85c67ae6e53">MachineOperand::CreateReg</a>(isPPC64 ? PPC::CTR8 : PPC::CTR,</div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;                                               <span class="keyword">true</span>));</div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;    }</div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160; </div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;    <span class="comment">// Otherwise, don&#39;t know what this is.</span></div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;  }</div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160; </div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;  <span class="comment">// Get the instruction before it if it&#39;s a terminator.</span></div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;  <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;SecondLastInst = *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160; </div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;  <span class="comment">// If there are three terminators, we don&#39;t know what sort of block this is.</span></div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#ab2d91e7bec944efcbc39d8e30644f111">begin</a>() &amp;&amp; isUnpredicatedTerminator(*--<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>))</div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160; </div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;  <span class="comment">// If the block ends with PPC::B and PPC:BCC, handle it.</span></div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;  <span class="keywordflow">if</span> (SecondLastInst.<a class="code" href="classllvm_1_1MachineInstr.html#a0363204b5fbab08a46f5a7cd7f376f78">getOpcode</a>() == PPC::BCC &amp;&amp;</div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;      LastInst.<a class="code" href="classllvm_1_1MachineInstr.html#a0363204b5fbab08a46f5a7cd7f376f78">getOpcode</a>() == <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">PPC::B</a>) {</div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;    <span class="keywordflow">if</span> (!SecondLastInst.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(2).<a class="code" href="classllvm_1_1MachineOperand.html#afe1784e242ce66da6029b3a681896bd2">isMBB</a>() ||</div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;        !LastInst.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#afe1784e242ce66da6029b3a681896bd2">isMBB</a>())</div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;    <a class="code" href="RISCVRedundantCopyElimination_8cpp.html#a1441f79530bc7f3a89118bb8067eac69">TBB</a> = SecondLastInst.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(2).<a class="code" href="classllvm_1_1MachineOperand.html#a9b48cb80ee1534c2b51d789b673137c1">getMBB</a>();</div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;    <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>.push_back(SecondLastInst.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(0));</div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;    <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>.push_back(SecondLastInst.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(1));</div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;    FBB = LastInst.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#a9b48cb80ee1534c2b51d789b673137c1">getMBB</a>();</div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (SecondLastInst.<a class="code" href="classllvm_1_1MachineInstr.html#a0363204b5fbab08a46f5a7cd7f376f78">getOpcode</a>() == PPC::BC &amp;&amp;</div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;             LastInst.<a class="code" href="classllvm_1_1MachineInstr.html#a0363204b5fbab08a46f5a7cd7f376f78">getOpcode</a>() == <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">PPC::B</a>) {</div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;    <span class="keywordflow">if</span> (!SecondLastInst.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(1).<a class="code" href="classllvm_1_1MachineOperand.html#afe1784e242ce66da6029b3a681896bd2">isMBB</a>() ||</div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;        !LastInst.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#afe1784e242ce66da6029b3a681896bd2">isMBB</a>())</div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;    <a class="code" href="RISCVRedundantCopyElimination_8cpp.html#a1441f79530bc7f3a89118bb8067eac69">TBB</a> = SecondLastInst.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(1).<a class="code" href="classllvm_1_1MachineOperand.html#a9b48cb80ee1534c2b51d789b673137c1">getMBB</a>();</div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;    <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>.push_back(<a class="code" href="classllvm_1_1MachineOperand.html#ab09679b541a6ba1219b3602569847364">MachineOperand::CreateImm</a>(<a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355a3382a0bee0f471ebce5e57f6cbdc91d6">PPC::PRED_BIT_SET</a>));</div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;    <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>.push_back(SecondLastInst.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(0));</div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;    FBB = LastInst.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#a9b48cb80ee1534c2b51d789b673137c1">getMBB</a>();</div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (SecondLastInst.<a class="code" href="classllvm_1_1MachineInstr.html#a0363204b5fbab08a46f5a7cd7f376f78">getOpcode</a>() == PPC::BCn &amp;&amp;</div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;             LastInst.<a class="code" href="classllvm_1_1MachineInstr.html#a0363204b5fbab08a46f5a7cd7f376f78">getOpcode</a>() == <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">PPC::B</a>) {</div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;    <span class="keywordflow">if</span> (!SecondLastInst.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(1).<a class="code" href="classllvm_1_1MachineOperand.html#afe1784e242ce66da6029b3a681896bd2">isMBB</a>() ||</div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;        !LastInst.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#afe1784e242ce66da6029b3a681896bd2">isMBB</a>())</div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;    <a class="code" href="RISCVRedundantCopyElimination_8cpp.html#a1441f79530bc7f3a89118bb8067eac69">TBB</a> = SecondLastInst.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(1).<a class="code" href="classllvm_1_1MachineOperand.html#a9b48cb80ee1534c2b51d789b673137c1">getMBB</a>();</div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;    <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>.push_back(<a class="code" href="classllvm_1_1MachineOperand.html#ab09679b541a6ba1219b3602569847364">MachineOperand::CreateImm</a>(<a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355aa3aa5d66d33f7c07c2932141ad4c4b67">PPC::PRED_BIT_UNSET</a>));</div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;    <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>.push_back(SecondLastInst.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(0));</div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;    FBB = LastInst.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#a9b48cb80ee1534c2b51d789b673137c1">getMBB</a>();</div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((SecondLastInst.<a class="code" href="classllvm_1_1MachineInstr.html#a0363204b5fbab08a46f5a7cd7f376f78">getOpcode</a>() == PPC::BDNZ8 ||</div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;              SecondLastInst.<a class="code" href="classllvm_1_1MachineInstr.html#a0363204b5fbab08a46f5a7cd7f376f78">getOpcode</a>() == <a class="code" href="namespacellvm_1_1PPCISD.html#ad1c32e5bb1cb213fb836bc3d221e4f19a160ec67350dc5e964fc0a12a9cde1df8">PPC::BDNZ</a>) &amp;&amp;</div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;             LastInst.<a class="code" href="classllvm_1_1MachineInstr.html#a0363204b5fbab08a46f5a7cd7f376f78">getOpcode</a>() == <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">PPC::B</a>) {</div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;    <span class="keywordflow">if</span> (!SecondLastInst.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#afe1784e242ce66da6029b3a681896bd2">isMBB</a>() ||</div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;        !LastInst.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#afe1784e242ce66da6029b3a681896bd2">isMBB</a>())</div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="PPCInstrInfo_8cpp.html#a2020155e83c7126b4863de105c09bd45">DisableCTRLoopAnal</a>)</div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;    <a class="code" href="RISCVRedundantCopyElimination_8cpp.html#a1441f79530bc7f3a89118bb8067eac69">TBB</a> = SecondLastInst.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#a9b48cb80ee1534c2b51d789b673137c1">getMBB</a>();</div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;    <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>.push_back(<a class="code" href="classllvm_1_1MachineOperand.html#ab09679b541a6ba1219b3602569847364">MachineOperand::CreateImm</a>(1));</div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;    <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>.push_back(<a class="code" href="classllvm_1_1MachineOperand.html#af2c351dad09a71aa08e1d85c67ae6e53">MachineOperand::CreateReg</a>(isPPC64 ? PPC::CTR8 : PPC::CTR,</div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;                                             <span class="keyword">true</span>));</div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;    FBB = LastInst.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#a9b48cb80ee1534c2b51d789b673137c1">getMBB</a>();</div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((SecondLastInst.<a class="code" href="classllvm_1_1MachineInstr.html#a0363204b5fbab08a46f5a7cd7f376f78">getOpcode</a>() == PPC::BDZ8 ||</div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;              SecondLastInst.<a class="code" href="classllvm_1_1MachineInstr.html#a0363204b5fbab08a46f5a7cd7f376f78">getOpcode</a>() == <a class="code" href="namespacellvm_1_1PPCISD.html#ad1c32e5bb1cb213fb836bc3d221e4f19addb9d78754c1f2e6d765a0da913f0800">PPC::BDZ</a>) &amp;&amp;</div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;             LastInst.<a class="code" href="classllvm_1_1MachineInstr.html#a0363204b5fbab08a46f5a7cd7f376f78">getOpcode</a>() == <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">PPC::B</a>) {</div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;    <span class="keywordflow">if</span> (!SecondLastInst.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#afe1784e242ce66da6029b3a681896bd2">isMBB</a>() ||</div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;        !LastInst.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#afe1784e242ce66da6029b3a681896bd2">isMBB</a>())</div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="PPCInstrInfo_8cpp.html#a2020155e83c7126b4863de105c09bd45">DisableCTRLoopAnal</a>)</div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;    <a class="code" href="RISCVRedundantCopyElimination_8cpp.html#a1441f79530bc7f3a89118bb8067eac69">TBB</a> = SecondLastInst.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#a9b48cb80ee1534c2b51d789b673137c1">getMBB</a>();</div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;    <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>.push_back(<a class="code" href="classllvm_1_1MachineOperand.html#ab09679b541a6ba1219b3602569847364">MachineOperand::CreateImm</a>(0));</div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;    <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>.push_back(<a class="code" href="classllvm_1_1MachineOperand.html#af2c351dad09a71aa08e1d85c67ae6e53">MachineOperand::CreateReg</a>(isPPC64 ? PPC::CTR8 : PPC::CTR,</div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;                                             <span class="keyword">true</span>));</div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;    FBB = LastInst.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#a9b48cb80ee1534c2b51d789b673137c1">getMBB</a>();</div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;  }</div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160; </div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;  <span class="comment">// If the block ends with two PPC:Bs, handle it.  The second one is not</span></div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;  <span class="comment">// executed, so remove it.</span></div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;  <span class="keywordflow">if</span> (SecondLastInst.<a class="code" href="classllvm_1_1MachineInstr.html#a0363204b5fbab08a46f5a7cd7f376f78">getOpcode</a>() == <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">PPC::B</a> &amp;&amp; LastInst.<a class="code" href="classllvm_1_1MachineInstr.html#a0363204b5fbab08a46f5a7cd7f376f78">getOpcode</a>() == <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">PPC::B</a>) {</div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;    <span class="keywordflow">if</span> (!SecondLastInst.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#afe1784e242ce66da6029b3a681896bd2">isMBB</a>())</div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;    <a class="code" href="RISCVRedundantCopyElimination_8cpp.html#a1441f79530bc7f3a89118bb8067eac69">TBB</a> = SecondLastInst.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#a9b48cb80ee1534c2b51d789b673137c1">getMBB</a>();</div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;    <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = LastInst;</div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;    <span class="keywordflow">if</span> (AllowModify)</div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;      <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;eraseFromParent();</div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;  }</div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160; </div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;  <span class="comment">// Otherwise, can&#39;t handle this.</span></div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;}</div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160; </div>
<div class="line"><a name="l01443"></a><span class="lineno"><a class="line" href="classllvm_1_1PPCInstrInfo.html#aa311c9795e28799c06e59252e767c155"> 1443</a></span>&#160;<span class="keywordtype">unsigned</span> <a class="code" href="classllvm_1_1PPCInstrInfo.html#aa311c9795e28799c06e59252e767c155">PPCInstrInfo::removeBranch</a>(<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>,</div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;                                    <span class="keywordtype">int</span> *BytesRemoved)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!BytesRemoved &amp;&amp; <span class="stringliteral">&quot;code size not handled&quot;</span>);</div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160; </div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;  <a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#ab8d7b8ff6803133d567fd4240e6364ce">getLastNonDebugInstr</a>();</div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> == <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">end</a>())</div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160; </div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getOpcode() != <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">PPC::B</a> &amp;&amp; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getOpcode() != PPC::BCC &amp;&amp;</div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;      <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getOpcode() != PPC::BC &amp;&amp; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getOpcode() != PPC::BCn &amp;&amp;</div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;      <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getOpcode() != PPC::BDNZ8 &amp;&amp; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getOpcode() != <a class="code" href="namespacellvm_1_1PPCISD.html#ad1c32e5bb1cb213fb836bc3d221e4f19a160ec67350dc5e964fc0a12a9cde1df8">PPC::BDNZ</a> &amp;&amp;</div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;      <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getOpcode() != PPC::BDZ8  &amp;&amp; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getOpcode() != <a class="code" href="namespacellvm_1_1PPCISD.html#ad1c32e5bb1cb213fb836bc3d221e4f19addb9d78754c1f2e6d765a0da913f0800">PPC::BDZ</a>)</div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160; </div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;  <span class="comment">// Remove the branch.</span></div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;  <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;eraseFromParent();</div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160; </div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;  <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">end</a>();</div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160; </div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> == <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#ab2d91e7bec944efcbc39d8e30644f111">begin</a>()) <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;  --<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getOpcode() != PPC::BCC &amp;&amp;</div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;      <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getOpcode() != PPC::BC &amp;&amp; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getOpcode() != PPC::BCn &amp;&amp;</div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;      <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getOpcode() != PPC::BDNZ8 &amp;&amp; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getOpcode() != <a class="code" href="namespacellvm_1_1PPCISD.html#ad1c32e5bb1cb213fb836bc3d221e4f19a160ec67350dc5e964fc0a12a9cde1df8">PPC::BDNZ</a> &amp;&amp;</div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;      <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getOpcode() != PPC::BDZ8  &amp;&amp; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getOpcode() != <a class="code" href="namespacellvm_1_1PPCISD.html#ad1c32e5bb1cb213fb836bc3d221e4f19addb9d78754c1f2e6d765a0da913f0800">PPC::BDZ</a>)</div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;    <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160; </div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;  <span class="comment">// Remove the branch.</span></div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;  <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;eraseFromParent();</div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;  <span class="keywordflow">return</span> 2;</div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;}</div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160; </div>
<div class="line"><a name="l01475"></a><span class="lineno"><a class="line" href="classllvm_1_1PPCInstrInfo.html#ac73a2a13806418aeb40c26ea794c3dd7"> 1475</a></span>&#160;<span class="keywordtype">unsigned</span> <a class="code" href="classllvm_1_1PPCInstrInfo.html#ac73a2a13806418aeb40c26ea794c3dd7">PPCInstrInfo::insertBranch</a>(<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>,</div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;                                    <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *<a class="code" href="RISCVRedundantCopyElimination_8cpp.html#a1441f79530bc7f3a89118bb8067eac69">TBB</a>,</div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;                                    <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *FBB,</div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;                                    <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;MachineOperand&gt;</a> <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>,</div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;                                    <span class="keyword">const</span> <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>,</div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;                                    <span class="keywordtype">int</span> *BytesAdded)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;  <span class="comment">// Shouldn&#39;t be a fall through.</span></div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="RISCVRedundantCopyElimination_8cpp.html#a1441f79530bc7f3a89118bb8067eac69">TBB</a> &amp;&amp; <span class="stringliteral">&quot;insertBranch must not be told to insert a fallthrough&quot;</span>);</div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>.size() == 2 || <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>.size() == 0) &amp;&amp;</div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;         <span class="stringliteral">&quot;PPC branch conditions have two components!&quot;</span>);</div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!BytesAdded &amp;&amp; <span class="stringliteral">&quot;code size not handled&quot;</span>);</div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160; </div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;  <span class="keywordtype">bool</span> isPPC64 = Subtarget.<a class="code" href="classllvm_1_1PPCSubtarget.html#a6622b99b3c00a3938d969957312b1b52">isPPC64</a>();</div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160; </div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;  <span class="comment">// One-way branch.</span></div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;  <span class="keywordflow">if</span> (!FBB) {</div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>.empty())   <span class="comment">// Unconditional branch</span></div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;      <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(&amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">PPC::B</a>)).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#af8571e8dfb010fd8ae76cc4f87aafaac">addMBB</a>(<a class="code" href="RISCVRedundantCopyElimination_8cpp.html#a1441f79530bc7f3a89118bb8067eac69">TBB</a>);</div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>[1].<a class="code" href="MipsDisassembler_8cpp.html#a15b5b86944f6df97d2c3659d77f51f91">getReg</a>() == PPC::CTR || <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>[1].<a class="code" href="MipsDisassembler_8cpp.html#a15b5b86944f6df97d2c3659d77f51f91">getReg</a>() == PPC::CTR8)</div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;      <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(&amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>[0].getImm() ?</div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;                              (isPPC64 ? PPC::BDNZ8 : <a class="code" href="namespacellvm_1_1PPCISD.html#ad1c32e5bb1cb213fb836bc3d221e4f19a160ec67350dc5e964fc0a12a9cde1df8">PPC::BDNZ</a>) :</div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;                              (isPPC64 ? PPC::BDZ8  : <a class="code" href="namespacellvm_1_1PPCISD.html#ad1c32e5bb1cb213fb836bc3d221e4f19addb9d78754c1f2e6d765a0da913f0800">PPC::BDZ</a>))).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#af8571e8dfb010fd8ae76cc4f87aafaac">addMBB</a>(<a class="code" href="RISCVRedundantCopyElimination_8cpp.html#a1441f79530bc7f3a89118bb8067eac69">TBB</a>);</div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>[0].getImm() == <a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355a3382a0bee0f471ebce5e57f6cbdc91d6">PPC::PRED_BIT_SET</a>)</div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;      <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(&amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(PPC::BC)).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a1ac8d27532cfd1d1f032ecbff2ba3611">add</a>(<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>[1]).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#af8571e8dfb010fd8ae76cc4f87aafaac">addMBB</a>(<a class="code" href="RISCVRedundantCopyElimination_8cpp.html#a1441f79530bc7f3a89118bb8067eac69">TBB</a>);</div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>[0].getImm() == <a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355aa3aa5d66d33f7c07c2932141ad4c4b67">PPC::PRED_BIT_UNSET</a>)</div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;      <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(&amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(PPC::BCn)).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a1ac8d27532cfd1d1f032ecbff2ba3611">add</a>(<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>[1]).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#af8571e8dfb010fd8ae76cc4f87aafaac">addMBB</a>(<a class="code" href="RISCVRedundantCopyElimination_8cpp.html#a1441f79530bc7f3a89118bb8067eac69">TBB</a>);</div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;    <span class="keywordflow">else</span>                <span class="comment">// Conditional branch</span></div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;      <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(&amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(PPC::BCC))</div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>[0].getImm())</div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a1ac8d27532cfd1d1f032ecbff2ba3611">add</a>(<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>[1])</div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#af8571e8dfb010fd8ae76cc4f87aafaac">addMBB</a>(<a class="code" href="RISCVRedundantCopyElimination_8cpp.html#a1441f79530bc7f3a89118bb8067eac69">TBB</a>);</div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;    <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;  }</div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160; </div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;  <span class="comment">// Two-way Conditional Branch.</span></div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>[1].<a class="code" href="MipsDisassembler_8cpp.html#a15b5b86944f6df97d2c3659d77f51f91">getReg</a>() == PPC::CTR || <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>[1].<a class="code" href="MipsDisassembler_8cpp.html#a15b5b86944f6df97d2c3659d77f51f91">getReg</a>() == PPC::CTR8)</div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;    <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(&amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>[0].getImm() ?</div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;                            (isPPC64 ? PPC::BDNZ8 : <a class="code" href="namespacellvm_1_1PPCISD.html#ad1c32e5bb1cb213fb836bc3d221e4f19a160ec67350dc5e964fc0a12a9cde1df8">PPC::BDNZ</a>) :</div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;                            (isPPC64 ? PPC::BDZ8  : <a class="code" href="namespacellvm_1_1PPCISD.html#ad1c32e5bb1cb213fb836bc3d221e4f19addb9d78754c1f2e6d765a0da913f0800">PPC::BDZ</a>))).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#af8571e8dfb010fd8ae76cc4f87aafaac">addMBB</a>(<a class="code" href="RISCVRedundantCopyElimination_8cpp.html#a1441f79530bc7f3a89118bb8067eac69">TBB</a>);</div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>[0].getImm() == <a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355a3382a0bee0f471ebce5e57f6cbdc91d6">PPC::PRED_BIT_SET</a>)</div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;    <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(&amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(PPC::BC)).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a1ac8d27532cfd1d1f032ecbff2ba3611">add</a>(<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>[1]).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#af8571e8dfb010fd8ae76cc4f87aafaac">addMBB</a>(<a class="code" href="RISCVRedundantCopyElimination_8cpp.html#a1441f79530bc7f3a89118bb8067eac69">TBB</a>);</div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>[0].getImm() == <a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355aa3aa5d66d33f7c07c2932141ad4c4b67">PPC::PRED_BIT_UNSET</a>)</div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;    <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(&amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(PPC::BCn)).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a1ac8d27532cfd1d1f032ecbff2ba3611">add</a>(<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>[1]).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#af8571e8dfb010fd8ae76cc4f87aafaac">addMBB</a>(<a class="code" href="RISCVRedundantCopyElimination_8cpp.html#a1441f79530bc7f3a89118bb8067eac69">TBB</a>);</div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;    <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(&amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(PPC::BCC))</div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>[0].getImm())</div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a1ac8d27532cfd1d1f032ecbff2ba3611">add</a>(<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>[1])</div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#af8571e8dfb010fd8ae76cc4f87aafaac">addMBB</a>(<a class="code" href="RISCVRedundantCopyElimination_8cpp.html#a1441f79530bc7f3a89118bb8067eac69">TBB</a>);</div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;  <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(&amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">PPC::B</a>)).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#af8571e8dfb010fd8ae76cc4f87aafaac">addMBB</a>(FBB);</div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;  <span class="keywordflow">return</span> 2;</div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;}</div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160; </div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;<span class="comment">// Select analysis.</span></div>
<div class="line"><a name="l01528"></a><span class="lineno"><a class="line" href="classllvm_1_1PPCInstrInfo.html#a8d257d0fa9886eeb4ee7c842294d4449"> 1528</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1PPCInstrInfo.html#a8d257d0fa9886eeb4ee7c842294d4449">PPCInstrInfo::canInsertSelect</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>,</div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;                                   <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;MachineOperand&gt;</a> <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>,</div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;                                   <a class="code" href="classllvm_1_1Register.html">Register</a> DstReg, <a class="code" href="classllvm_1_1Register.html">Register</a> TrueReg,</div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;                                   <a class="code" href="classllvm_1_1Register.html">Register</a> FalseReg, <span class="keywordtype">int</span> &amp;CondCycles,</div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;                                   <span class="keywordtype">int</span> &amp;TrueCycles, <span class="keywordtype">int</span> &amp;FalseCycles)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>.size() != 2)</div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160; </div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;  <span class="comment">// If this is really a bdnz-like condition, then it cannot be turned into a</span></div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;  <span class="comment">// select.</span></div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>[1].<a class="code" href="MipsDisassembler_8cpp.html#a15b5b86944f6df97d2c3659d77f51f91">getReg</a>() == PPC::CTR || <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>[1].<a class="code" href="MipsDisassembler_8cpp.html#a15b5b86944f6df97d2c3659d77f51f91">getReg</a>() == PPC::CTR8)</div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160; </div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;  <span class="comment">// If the conditional branch uses a physical register, then it cannot be</span></div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;  <span class="comment">// turned into a select.</span></div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>[1].<a class="code" href="MipsDisassembler_8cpp.html#a15b5b86944f6df97d2c3659d77f51f91">getReg</a>().isPhysical())</div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160; </div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;  <span class="comment">// Check register classes.</span></div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a> = <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a4e21760f681d6f97f95c8414e7b83ea5">getParent</a>()-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>();</div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *RC =</div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;    RI.getCommonSubClass(<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#aa363afffca4fc13a709673936b47fe33">getRegClass</a>(TrueReg), <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#aa363afffca4fc13a709673936b47fe33">getRegClass</a>(FalseReg));</div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;  <span class="keywordflow">if</span> (!RC)</div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160; </div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;  <span class="comment">// isel is for regular integer GPRs only.</span></div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;  <span class="keywordflow">if</span> (!PPC::GPRCRegClass.hasSubClassEq(RC) &amp;&amp;</div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;      !PPC::GPRC_NOR0RegClass.hasSubClassEq(RC) &amp;&amp;</div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;      !PPC::G8RCRegClass.hasSubClassEq(RC) &amp;&amp;</div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;      !PPC::G8RC_NOX0RegClass.hasSubClassEq(RC))</div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160; </div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;  <span class="comment">// FIXME: These numbers are for the A2, how well they work for other cores is</span></div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;  <span class="comment">// an open question. On the A2, the isel instruction has a 2-cycle latency</span></div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;  <span class="comment">// but single-cycle throughput. These numbers are used in combination with</span></div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;  <span class="comment">// the MispredictPenalty setting from the active SchedMachineModel.</span></div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;  CondCycles = 1;</div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;  TrueCycles = 1;</div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;  FalseCycles = 1;</div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160; </div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;}</div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160; </div>
<div class="line"><a name="l01571"></a><span class="lineno"><a class="line" href="classllvm_1_1PPCInstrInfo.html#af14abbf5d3082cd072fe85f6f5fe2eea"> 1571</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1PPCInstrInfo.html#af14abbf5d3082cd072fe85f6f5fe2eea">PPCInstrInfo::insertSelect</a>(<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>,</div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;                                <a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::iterator</a> <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>,</div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;                                <span class="keyword">const</span> <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> &amp;dl, <a class="code" href="classllvm_1_1Register.html">Register</a> DestReg,</div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;                                <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;MachineOperand&gt;</a> <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>, <a class="code" href="classllvm_1_1Register.html">Register</a> TrueReg,</div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;                                <a class="code" href="classllvm_1_1Register.html">Register</a> FalseReg)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>.size() == 2 &amp;&amp;</div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;         <span class="stringliteral">&quot;PPC branch conditions have two components!&quot;</span>);</div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160; </div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;  <span class="comment">// Get the register classes.</span></div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;  <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a> = <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a4e21760f681d6f97f95c8414e7b83ea5">getParent</a>()-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>();</div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *RC =</div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;    RI.getCommonSubClass(<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#aa363afffca4fc13a709673936b47fe33">getRegClass</a>(TrueReg), <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#aa363afffca4fc13a709673936b47fe33">getRegClass</a>(FalseReg));</div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(RC &amp;&amp; <span class="stringliteral">&quot;TrueReg and FalseReg must have overlapping register classes&quot;</span>);</div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160; </div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;  <span class="keywordtype">bool</span> Is64Bit = PPC::G8RCRegClass.hasSubClassEq(RC) ||</div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;                 PPC::G8RC_NOX0RegClass.hasSubClassEq(RC);</div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((Is64Bit ||</div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;          PPC::GPRCRegClass.hasSubClassEq(RC) ||</div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;          PPC::GPRC_NOR0RegClass.hasSubClassEq(RC)) &amp;&amp;</div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;         <span class="stringliteral">&quot;isel is for regular integer GPRs only&quot;</span>);</div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160; </div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;  <span class="keywordtype">unsigned</span> OpCode = Is64Bit ? PPC::ISEL8 : <a class="code" href="namespacellvm_1_1HexagonISD.html#ab37bf6c49bc26c43ddd958218f63ba00a0fbe77e798cb4b9c9a3e62f4d2085395">PPC::ISEL</a>;</div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;  <span class="keyword">auto</span> SelectPred = <span class="keyword">static_cast&lt;</span><a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355">PPC::Predicate</a><span class="keyword">&gt;</span>(<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>[0].getImm());</div>
<div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160; </div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;  <span class="keywordtype">unsigned</span> SubIdx = 0;</div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;  <span class="keywordtype">bool</span> SwapOps = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;  <span class="keywordflow">switch</span> (SelectPred) {</div>
<div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355a34be5288a1bb24e5120358395f7f0dc3">PPC::PRED_EQ</a>:</div>
<div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355ada22e0b2b224aa2dc5e2266546424f39">PPC::PRED_EQ_MINUS</a>:</div>
<div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355ae9f2ac70e132d4184268f6ae4d0ffcf6">PPC::PRED_EQ_PLUS</a>:</div>
<div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;      SubIdx = PPC::sub_eq; SwapOps = <span class="keyword">false</span>; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355ad9add708b3d9680d64242cf06f448462">PPC::PRED_NE</a>:</div>
<div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355aaefab7058909f2616746f6d8244a118e">PPC::PRED_NE_MINUS</a>:</div>
<div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355a7141f86ec6aca10eb4cf8329a20149dc">PPC::PRED_NE_PLUS</a>:</div>
<div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;      SubIdx = PPC::sub_eq; SwapOps = <span class="keyword">true</span>; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355a46cd6e935d7b9cc679d9cb0cf025ae91">PPC::PRED_LT</a>:</div>
<div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355a33e681071c4ec83f4c4cc4855fc1ed1e">PPC::PRED_LT_MINUS</a>:</div>
<div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355a5f3291fa021498b6f788f19bf4880b39">PPC::PRED_LT_PLUS</a>:</div>
<div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;      SubIdx = PPC::sub_lt; SwapOps = <span class="keyword">false</span>; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355a44abec85091b571da2189ac4bd139095">PPC::PRED_GE</a>:</div>
<div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355aa0cb1db9aa5842fc89b7590d4a78d22a">PPC::PRED_GE_MINUS</a>:</div>
<div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355a2b0d1201213c898ccbbc475b86c296aa">PPC::PRED_GE_PLUS</a>:</div>
<div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;      SubIdx = PPC::sub_lt; SwapOps = <span class="keyword">true</span>; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355a8cd4d49277068c1eab8d4d7c4835b817">PPC::PRED_GT</a>:</div>
<div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355ab4bb503de9d2ddcb886c924fbcdc9042">PPC::PRED_GT_MINUS</a>:</div>
<div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355a8a796e02eaa344b39a352e03938f0680">PPC::PRED_GT_PLUS</a>:</div>
<div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;      SubIdx = PPC::sub_gt; SwapOps = <span class="keyword">false</span>; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355ac89b6a30c033abb18a7e81f48b0e3593">PPC::PRED_LE</a>:</div>
<div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355aa55740b85ae5278b5e206d20eeef303a">PPC::PRED_LE_MINUS</a>:</div>
<div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355a46b241a630995742d2839a44af358923">PPC::PRED_LE_PLUS</a>:</div>
<div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;      SubIdx = PPC::sub_gt; SwapOps = <span class="keyword">true</span>; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355a89f893823745c8d91bb4d7d83e247cb6">PPC::PRED_UN</a>:</div>
<div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355a76dfc226a98ea8caf3c545fa54889b19">PPC::PRED_UN_MINUS</a>:</div>
<div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355a7023259b1bc446d1de0f1565deb639c0">PPC::PRED_UN_PLUS</a>:</div>
<div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;      SubIdx = PPC::sub_un; SwapOps = <span class="keyword">false</span>; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355a94061699653bc6df4c3809c7a4d44ac9">PPC::PRED_NU</a>:</div>
<div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355ac95bcf15367e2c983dc09a5f6dba10f9">PPC::PRED_NU_MINUS</a>:</div>
<div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355a9867ee23974bb896c049dc26a8b436b2">PPC::PRED_NU_PLUS</a>:</div>
<div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;      SubIdx = PPC::sub_un; SwapOps = <span class="keyword">true</span>; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355a3382a0bee0f471ebce5e57f6cbdc91d6">PPC::PRED_BIT_SET</a>:   SubIdx = 0; SwapOps = <span class="keyword">false</span>; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355aa3aa5d66d33f7c07c2932141ad4c4b67">PPC::PRED_BIT_UNSET</a>: SubIdx = 0; SwapOps = <span class="keyword">true</span>; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;  }</div>
<div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160; </div>
<div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> FirstReg =  SwapOps ? FalseReg : TrueReg,</div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;           SecondReg = SwapOps ? TrueReg  : FalseReg;</div>
<div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160; </div>
<div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;  <span class="comment">// The first input register of isel cannot be r0. If it is a member</span></div>
<div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;  <span class="comment">// of a register class that can be r0, then copy it first (the</span></div>
<div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;  <span class="comment">// register allocator should eliminate the copy).</span></div>
<div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#aa363afffca4fc13a709673936b47fe33">getRegClass</a>(FirstReg)-&gt;<a class="code" href="classllvm_1_1TargetRegisterClass.html#a60b6974966381f08079722f2258a0039">contains</a>(PPC::R0) ||</div>
<div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;      <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#aa363afffca4fc13a709673936b47fe33">getRegClass</a>(FirstReg)-&gt;<a class="code" href="classllvm_1_1TargetRegisterClass.html#a60b6974966381f08079722f2258a0039">contains</a>(PPC::X0)) {</div>
<div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *FirstRC =</div>
<div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;      <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#aa363afffca4fc13a709673936b47fe33">getRegClass</a>(FirstReg)-&gt;<a class="code" href="classllvm_1_1TargetRegisterClass.html#a60b6974966381f08079722f2258a0039">contains</a>(PPC::X0) ?</div>
<div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;        &amp;PPC::G8RC_NOX0RegClass : &amp;PPC::GPRC_NOR0RegClass;</div>
<div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> OldFirstReg = FirstReg;</div>
<div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;    FirstReg = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5c77792a06583e0fe7a0379ad94a2809">createVirtualRegister</a>(FirstRC);</div>
<div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;    <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, dl, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(TargetOpcode::COPY), FirstReg)</div>
<div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(OldFirstReg);</div>
<div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;  }</div>
<div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160; </div>
<div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;  <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, dl, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(OpCode), DestReg)</div>
<div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;    .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(FirstReg).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(SecondReg)</div>
<div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;    .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>[1].<a class="code" href="MipsDisassembler_8cpp.html#a15b5b86944f6df97d2c3659d77f51f91">getReg</a>(), 0, SubIdx);</div>
<div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;}</div>
<div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160; </div>
<div class="line"><a name="l01656"></a><span class="lineno"><a class="line" href="PPCInstrInfo_8cpp.html#a33e79f764c95a364fa5fcb22078d621a"> 1656</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">unsigned</span> <a class="code" href="PPCInstrInfo_8cpp.html#a33e79f764c95a364fa5fcb22078d621a">getCRBitValue</a>(<span class="keywordtype">unsigned</span> CRBit) {</div>
<div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1MipsISD.html#a422daf9aa810935178671306b651d69ba366e1eac31eeb1a1892d62ccfc0c8cf8">Ret</a> = 4;</div>
<div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;  <span class="keywordflow">if</span> (CRBit == PPC::CR0LT || CRBit == PPC::CR1LT ||</div>
<div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;      CRBit == PPC::CR2LT || CRBit == PPC::CR3LT ||</div>
<div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;      CRBit == PPC::CR4LT || CRBit == PPC::CR5LT ||</div>
<div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;      CRBit == PPC::CR6LT || CRBit == PPC::CR7LT)</div>
<div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;    <a class="code" href="namespacellvm_1_1MipsISD.html#a422daf9aa810935178671306b651d69ba366e1eac31eeb1a1892d62ccfc0c8cf8">Ret</a> = 3;</div>
<div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;  <span class="keywordflow">if</span> (CRBit == PPC::CR0GT || CRBit == PPC::CR1GT ||</div>
<div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;      CRBit == PPC::CR2GT || CRBit == PPC::CR3GT ||</div>
<div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;      CRBit == PPC::CR4GT || CRBit == PPC::CR5GT ||</div>
<div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;      CRBit == PPC::CR6GT || CRBit == PPC::CR7GT)</div>
<div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;    <a class="code" href="namespacellvm_1_1MipsISD.html#a422daf9aa810935178671306b651d69ba366e1eac31eeb1a1892d62ccfc0c8cf8">Ret</a> = 2;</div>
<div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;  <span class="keywordflow">if</span> (CRBit == PPC::CR0EQ || CRBit == PPC::CR1EQ ||</div>
<div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;      CRBit == PPC::CR2EQ || CRBit == PPC::CR3EQ ||</div>
<div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;      CRBit == PPC::CR4EQ || CRBit == PPC::CR5EQ ||</div>
<div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;      CRBit == PPC::CR6EQ || CRBit == PPC::CR7EQ)</div>
<div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;    <a class="code" href="namespacellvm_1_1MipsISD.html#a422daf9aa810935178671306b651d69ba366e1eac31eeb1a1892d62ccfc0c8cf8">Ret</a> = 1;</div>
<div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;  <span class="keywordflow">if</span> (CRBit == PPC::CR0UN || CRBit == PPC::CR1UN ||</div>
<div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;      CRBit == PPC::CR2UN || CRBit == PPC::CR3UN ||</div>
<div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;      CRBit == PPC::CR4UN || CRBit == PPC::CR5UN ||</div>
<div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;      CRBit == PPC::CR6UN || CRBit == PPC::CR7UN)</div>
<div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;    <a class="code" href="namespacellvm_1_1MipsISD.html#a422daf9aa810935178671306b651d69ba366e1eac31eeb1a1892d62ccfc0c8cf8">Ret</a> = 0;</div>
<div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160; </div>
<div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="namespacellvm_1_1MipsISD.html#a422daf9aa810935178671306b651d69ba366e1eac31eeb1a1892d62ccfc0c8cf8">Ret</a> != 4 &amp;&amp; <span class="stringliteral">&quot;Invalid CR bit register&quot;</span>);</div>
<div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1MipsISD.html#a422daf9aa810935178671306b651d69ba366e1eac31eeb1a1892d62ccfc0c8cf8">Ret</a>;</div>
<div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;}</div>
<div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160; </div>
<div class="line"><a name="l01683"></a><span class="lineno"><a class="line" href="classllvm_1_1PPCInstrInfo.html#abdb97a58f07f1fae1322c4989cacf4f5"> 1683</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1PPCInstrInfo.html#abdb97a58f07f1fae1322c4989cacf4f5">PPCInstrInfo::copyPhysReg</a>(<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>,</div>
<div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;                               <a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>,</div>
<div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;                               <span class="keyword">const</span> <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="classllvm_1_1MCRegister.html">MCRegister</a> DestReg,</div>
<div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;                               <a class="code" href="classllvm_1_1MCRegister.html">MCRegister</a> SrcReg, <span class="keywordtype">bool</span> KillSrc)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;  <span class="comment">// We can end up with self copies and similar things as a result of VSX copy</span></div>
<div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;  <span class="comment">// legalization. Promote them here.</span></div>
<div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterInfo.html">TargetRegisterInfo</a> *<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a> = &amp;<a class="code" href="classllvm_1_1PPCInstrInfo.html#a7736d6dc0c4303c59d1192988b8919e9">getRegisterInfo</a>();</div>
<div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;  <span class="keywordflow">if</span> (PPC::F8RCRegClass.<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a1112b818386ec01ddfdf3a5d0024eb17">contains</a>(DestReg) &amp;&amp;</div>
<div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;      PPC::VSRCRegClass.<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a1112b818386ec01ddfdf3a5d0024eb17">contains</a>(SrcReg)) {</div>
<div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;    <a class="code" href="classllvm_1_1MCRegister.html">MCRegister</a> SuperReg =</div>
<div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;        <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>-&gt;<a class="code" href="classllvm_1_1TargetRegisterInfo.html#aa5aad3f9195b1fd331f449ce9a709da2">getMatchingSuperReg</a>(DestReg, PPC::sub_64, &amp;PPC::VSRCRegClass);</div>
<div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160; </div>
<div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="PPCInstrInfo_8cpp.html#a20ff8d783c172c203d8a144fcda853fa">VSXSelfCopyCrash</a> &amp;&amp; SrcReg == SuperReg)</div>
<div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;      <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;nop VSX copy&quot;</span>);</div>
<div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160; </div>
<div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;    DestReg = SuperReg;</div>
<div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (PPC::F8RCRegClass.<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a1112b818386ec01ddfdf3a5d0024eb17">contains</a>(SrcReg) &amp;&amp;</div>
<div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;             PPC::VSRCRegClass.<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a1112b818386ec01ddfdf3a5d0024eb17">contains</a>(DestReg)) {</div>
<div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;    <a class="code" href="classllvm_1_1MCRegister.html">MCRegister</a> SuperReg =</div>
<div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;        <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>-&gt;<a class="code" href="classllvm_1_1TargetRegisterInfo.html#aa5aad3f9195b1fd331f449ce9a709da2">getMatchingSuperReg</a>(SrcReg, PPC::sub_64, &amp;PPC::VSRCRegClass);</div>
<div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160; </div>
<div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="PPCInstrInfo_8cpp.html#a20ff8d783c172c203d8a144fcda853fa">VSXSelfCopyCrash</a> &amp;&amp; DestReg == SuperReg)</div>
<div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;      <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;nop VSX copy&quot;</span>);</div>
<div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160; </div>
<div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;    SrcReg = SuperReg;</div>
<div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;  }</div>
<div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160; </div>
<div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;  <span class="comment">// Different class register copy</span></div>
<div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;  <span class="keywordflow">if</span> (PPC::CRBITRCRegClass.<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a1112b818386ec01ddfdf3a5d0024eb17">contains</a>(SrcReg) &amp;&amp;</div>
<div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;      PPC::GPRCRegClass.<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a1112b818386ec01ddfdf3a5d0024eb17">contains</a>(DestReg)) {</div>
<div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;    <a class="code" href="classllvm_1_1MCRegister.html">MCRegister</a> CRReg = <a class="code" href="namespacellvm.html#a42932b5e23d28c3fefca0ab878a56a7c">getCRFromCRBit</a>(SrcReg);</div>
<div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;    <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(<a class="code" href="namespacellvm_1_1PPCISD.html#ad1c32e5bb1cb213fb836bc3d221e4f19a58202903ffe35789bd984f290d83e11f">PPC::MFOCRF</a>), DestReg).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(CRReg);</div>
<div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;    <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(KillSrc);</div>
<div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;    <span class="comment">// Rotate the CR bit in the CR fields to be the least significant bit and</span></div>
<div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;    <span class="comment">// then mask with 0x1 (MB = ME = 31).</span></div>
<div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;    <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(PPC::RLWINM), DestReg)</div>
<div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;       .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(DestReg, <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da9ddde91ef09476d28a088fe57f8e2921">RegState::Kill</a>)</div>
<div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;       .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>-&gt;<a class="code" href="classllvm_1_1MCRegisterInfo.html#a8ce9439c5f364d8b85930e0ee689bbb8">getEncodingValue</a>(CRReg) * 4 + (4 - <a class="code" href="PPCInstrInfo_8cpp.html#a33e79f764c95a364fa5fcb22078d621a">getCRBitValue</a>(SrcReg)))</div>
<div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;       .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(31)</div>
<div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;       .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(31);</div>
<div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (PPC::CRRCRegClass.<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a1112b818386ec01ddfdf3a5d0024eb17">contains</a>(SrcReg) &amp;&amp;</div>
<div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;             (PPC::G8RCRegClass.<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a1112b818386ec01ddfdf3a5d0024eb17">contains</a>(DestReg) ||</div>
<div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;              PPC::GPRCRegClass.<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a1112b818386ec01ddfdf3a5d0024eb17">contains</a>(DestReg))) {</div>
<div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;    <span class="keywordtype">bool</span> Is64Bit = PPC::G8RCRegClass.contains(DestReg);</div>
<div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;    <span class="keywordtype">unsigned</span> MvCode = Is64Bit ? PPC::MFOCRF8 : <a class="code" href="namespacellvm_1_1PPCISD.html#ad1c32e5bb1cb213fb836bc3d221e4f19a58202903ffe35789bd984f290d83e11f">PPC::MFOCRF</a>;</div>
<div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;    <span class="keywordtype">unsigned</span> ShCode = Is64Bit ? PPC::RLWINM8 : PPC::RLWINM;</div>
<div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;    <span class="keywordtype">unsigned</span> CRNum = <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>-&gt;<a class="code" href="classllvm_1_1MCRegisterInfo.html#a8ce9439c5f364d8b85930e0ee689bbb8">getEncodingValue</a>(SrcReg);</div>
<div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;    <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(MvCode), DestReg).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(SrcReg);</div>
<div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;    <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(KillSrc);</div>
<div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;    <span class="keywordflow">if</span> (CRNum == 7)</div>
<div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;    <span class="comment">// Shift the CR bits to make the CR field in the lowest 4 bits of GRC.</span></div>
<div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;    <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(ShCode), DestReg)</div>
<div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(DestReg, <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da9ddde91ef09476d28a088fe57f8e2921">RegState::Kill</a>)</div>
<div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(CRNum * 4 + 4)</div>
<div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(28)</div>
<div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(31);</div>
<div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (PPC::G8RCRegClass.<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a1112b818386ec01ddfdf3a5d0024eb17">contains</a>(SrcReg) &amp;&amp;</div>
<div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;             PPC::VSFRCRegClass.<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a1112b818386ec01ddfdf3a5d0024eb17">contains</a>(DestReg)) {</div>
<div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Subtarget.hasDirectMove() &amp;&amp;</div>
<div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;           <span class="stringliteral">&quot;Subtarget doesn&#39;t support directmove, don&#39;t know how to copy.&quot;</span>);</div>
<div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;    <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(PPC::MTVSRD), DestReg).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(SrcReg);</div>
<div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;    NumGPRtoVSRSpill++;</div>
<div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;    <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(KillSrc);</div>
<div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (PPC::VSFRCRegClass.<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a1112b818386ec01ddfdf3a5d0024eb17">contains</a>(SrcReg) &amp;&amp;</div>
<div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;             PPC::G8RCRegClass.<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a1112b818386ec01ddfdf3a5d0024eb17">contains</a>(DestReg)) {</div>
<div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Subtarget.hasDirectMove() &amp;&amp;</div>
<div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;           <span class="stringliteral">&quot;Subtarget doesn&#39;t support directmove, don&#39;t know how to copy.&quot;</span>);</div>
<div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;    <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(PPC::MFVSRD), DestReg).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(SrcReg);</div>
<div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;    <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(KillSrc);</div>
<div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (PPC::SPERCRegClass.<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a1112b818386ec01ddfdf3a5d0024eb17">contains</a>(SrcReg) &amp;&amp;</div>
<div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;             PPC::GPRCRegClass.<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a1112b818386ec01ddfdf3a5d0024eb17">contains</a>(DestReg)) {</div>
<div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;    <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(PPC::EFSCFD), DestReg).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(SrcReg);</div>
<div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;    <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(KillSrc);</div>
<div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (PPC::GPRCRegClass.<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a1112b818386ec01ddfdf3a5d0024eb17">contains</a>(SrcReg) &amp;&amp;</div>
<div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;             PPC::SPERCRegClass.<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a1112b818386ec01ddfdf3a5d0024eb17">contains</a>(DestReg)) {</div>
<div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;    <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(PPC::EFDCFS), DestReg).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(SrcReg);</div>
<div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;    <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(KillSrc);</div>
<div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;  }</div>
<div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160; </div>
<div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;  <span class="keywordtype">unsigned</span> Opc;</div>
<div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;  <span class="keywordflow">if</span> (PPC::GPRCRegClass.<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a1112b818386ec01ddfdf3a5d0024eb17">contains</a>(DestReg, SrcReg))</div>
<div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;    Opc = <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7415ab9f2172c59a2ee7c7a02afa56a4">PPC::OR</a>;</div>
<div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (PPC::G8RCRegClass.<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a1112b818386ec01ddfdf3a5d0024eb17">contains</a>(DestReg, SrcReg))</div>
<div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;    Opc = PPC::OR8;</div>
<div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (PPC::F4RCRegClass.<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a1112b818386ec01ddfdf3a5d0024eb17">contains</a>(DestReg, SrcReg))</div>
<div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;    Opc = PPC::FMR;</div>
<div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (PPC::CRRCRegClass.<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a1112b818386ec01ddfdf3a5d0024eb17">contains</a>(DestReg, SrcReg))</div>
<div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;    Opc = PPC::MCRF;</div>
<div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (PPC::VRRCRegClass.<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a1112b818386ec01ddfdf3a5d0024eb17">contains</a>(DestReg, SrcReg))</div>
<div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;    Opc = PPC::VOR;</div>
<div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (PPC::VSRCRegClass.<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a1112b818386ec01ddfdf3a5d0024eb17">contains</a>(DestReg, SrcReg))</div>
<div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;    <span class="comment">// There are two different ways this can be done:</span></div>
<div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;    <span class="comment">//   1. xxlor : This has lower latency (on the P7), 2 cycles, but can only</span></div>
<div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;    <span class="comment">//      issue in VSU pipeline 0.</span></div>
<div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;    <span class="comment">//   2. xmovdp/xmovsp: This has higher latency (on the P7), 6 cycles, but</span></div>
<div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;    <span class="comment">//      can go to either pipeline.</span></div>
<div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;    <span class="comment">// We&#39;ll always use xxlor here, because in practically all cases where</span></div>
<div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;    <span class="comment">// copies are generated, they are close enough to some use that the</span></div>
<div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;    <span class="comment">// lower-latency form is preferable.</span></div>
<div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;    Opc = PPC::XXLOR;</div>
<div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (PPC::VSFRCRegClass.<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a1112b818386ec01ddfdf3a5d0024eb17">contains</a>(DestReg, SrcReg) ||</div>
<div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;           PPC::VSSRCRegClass.<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a1112b818386ec01ddfdf3a5d0024eb17">contains</a>(DestReg, SrcReg))</div>
<div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;    Opc = (Subtarget.hasP9Vector()) ? PPC::XSCPSGNDP : PPC::XXLORf;</div>
<div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Subtarget.pairedVectorMemops() &amp;&amp;</div>
<div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;           PPC::VSRpRCRegClass.contains(DestReg, SrcReg)) {</div>
<div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;    <span class="keywordflow">if</span> (SrcReg &gt; PPC::VSRp15)</div>
<div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;      SrcReg = PPC::V0 + (SrcReg - PPC::VSRp16) * 2;</div>
<div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;      SrcReg = PPC::VSL0 + (SrcReg - PPC::VSRp0) * 2;</div>
<div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;    <span class="keywordflow">if</span> (DestReg &gt; PPC::VSRp15)</div>
<div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;      DestReg = PPC::V0 + (DestReg - PPC::VSRp16) * 2;</div>
<div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;      DestReg = PPC::VSL0 + (DestReg - PPC::VSRp0) * 2;</div>
<div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;    <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(PPC::XXLOR), DestReg).</div>
<div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;      addReg(SrcReg).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(SrcReg, <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(KillSrc));</div>
<div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;    <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(PPC::XXLOR), DestReg + 1).</div>
<div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;      addReg(SrcReg + 1).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(SrcReg + 1, <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(KillSrc));</div>
<div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;  }</div>
<div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (PPC::CRBITRCRegClass.<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a1112b818386ec01ddfdf3a5d0024eb17">contains</a>(DestReg, SrcReg))</div>
<div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;    Opc = PPC::CROR;</div>
<div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (PPC::SPERCRegClass.<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a1112b818386ec01ddfdf3a5d0024eb17">contains</a>(DestReg, SrcReg))</div>
<div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;    Opc = PPC::EVOR;</div>
<div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((PPC::ACCRCRegClass.<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a1112b818386ec01ddfdf3a5d0024eb17">contains</a>(DestReg) ||</div>
<div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;            PPC::UACCRCRegClass.<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a1112b818386ec01ddfdf3a5d0024eb17">contains</a>(DestReg)) &amp;&amp;</div>
<div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;           (PPC::ACCRCRegClass.<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a1112b818386ec01ddfdf3a5d0024eb17">contains</a>(SrcReg) ||</div>
<div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;            PPC::UACCRCRegClass.<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a1112b818386ec01ddfdf3a5d0024eb17">contains</a>(SrcReg))) {</div>
<div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;    <span class="comment">// If primed, de-prime the source register, copy the individual registers</span></div>
<div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;    <span class="comment">// and prime the destination if needed. The vector subregisters are</span></div>
<div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;    <span class="comment">// vs[(u)acc * 4] - vs[(u)acc * 4 + 3]. If the copy is not a kill and the</span></div>
<div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;    <span class="comment">// source is primed, we need to re-prime it after the copy as well.</span></div>
<div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;    <a class="code" href="classllvm_1_1PPCRegisterInfo.html#a9abebd09740b00c113c2e70062fbcb82">PPCRegisterInfo::emitAccCopyInfo</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, DestReg, SrcReg);</div>
<div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;    <span class="keywordtype">bool</span> DestPrimed = PPC::ACCRCRegClass.contains(DestReg);</div>
<div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;    <span class="keywordtype">bool</span> SrcPrimed = PPC::ACCRCRegClass.contains(SrcReg);</div>
<div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;    <a class="code" href="classllvm_1_1MCRegister.html">MCRegister</a> VSLSrcReg =</div>
<div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;        PPC::VSL0 + (SrcReg - (SrcPrimed ? PPC::ACC0 : PPC::UACC0)) * 4;</div>
<div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;    <a class="code" href="classllvm_1_1MCRegister.html">MCRegister</a> VSLDestReg =</div>
<div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;        PPC::VSL0 + (DestReg - (DestPrimed ? PPC::ACC0 : PPC::UACC0)) * 4;</div>
<div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;    <span class="keywordflow">if</span> (SrcPrimed)</div>
<div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;      <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(<a class="code" href="namespacellvm_1_1PPCISD.html#ad1c32e5bb1cb213fb836bc3d221e4f19a93f8e78c9b32393c5190960b84dc3a57">PPC::XXMFACC</a>), SrcReg).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(SrcReg);</div>
<div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> Idx = 0; Idx &lt; 4; Idx++)</div>
<div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;      <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(PPC::XXLOR), VSLDestReg + Idx)</div>
<div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(VSLSrcReg + Idx)</div>
<div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(VSLSrcReg + Idx, <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(KillSrc));</div>
<div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;    <span class="keywordflow">if</span> (DestPrimed)</div>
<div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;      <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(PPC::XXMTACC), DestReg).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(DestReg);</div>
<div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;    <span class="keywordflow">if</span> (SrcPrimed &amp;&amp; !KillSrc)</div>
<div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;      <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(PPC::XXMTACC), SrcReg).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(SrcReg);</div>
<div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (PPC::G8pRCRegClass.<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a1112b818386ec01ddfdf3a5d0024eb17">contains</a>(DestReg) &amp;&amp;</div>
<div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;             PPC::G8pRCRegClass.<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a1112b818386ec01ddfdf3a5d0024eb17">contains</a>(SrcReg)) {</div>
<div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;    <span class="comment">// TODO: Handle G8RC to G8pRC (and vice versa) copy.</span></div>
<div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;    <span class="keywordtype">unsigned</span> DestRegIdx = DestReg - PPC::G8p0;</div>
<div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;    <a class="code" href="classllvm_1_1MCRegister.html">MCRegister</a> DestRegSub0 = PPC::X0 + 2 * DestRegIdx;</div>
<div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;    <a class="code" href="classllvm_1_1MCRegister.html">MCRegister</a> DestRegSub1 = PPC::X0 + 2 * DestRegIdx + 1;</div>
<div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;    <span class="keywordtype">unsigned</span> SrcRegIdx = SrcReg - PPC::G8p0;</div>
<div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;    <a class="code" href="classllvm_1_1MCRegister.html">MCRegister</a> SrcRegSub0 = PPC::X0 + 2 * SrcRegIdx;</div>
<div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;    <a class="code" href="classllvm_1_1MCRegister.html">MCRegister</a> SrcRegSub1 = PPC::X0 + 2 * SrcRegIdx + 1;</div>
<div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;    <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(PPC::OR8), DestRegSub0)</div>
<div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(SrcRegSub0)</div>
<div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(SrcRegSub0, <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(KillSrc));</div>
<div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;    <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(PPC::OR8), DestRegSub1)</div>
<div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(SrcRegSub1)</div>
<div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(SrcRegSub1, <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(KillSrc));</div>
<div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;  } <span class="keywordflow">else</span></div>
<div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;    <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Impossible reg-to-reg copy&quot;</span>);</div>
<div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160; </div>
<div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCInstrDesc.html">MCInstrDesc</a> &amp;MCID = <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(Opc);</div>
<div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;  <span class="keywordflow">if</span> (MCID.<a class="code" href="classllvm_1_1MCInstrDesc.html#a0ca904e64ee29c8812ed34e632d3c947">getNumOperands</a>() == 3)</div>
<div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;    <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, MCID, DestReg)</div>
<div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(SrcReg).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(SrcReg, <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(KillSrc));</div>
<div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;    <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, MCID, DestReg).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(SrcReg, <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(KillSrc));</div>
<div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;}</div>
<div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160; </div>
<div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;<span class="keywordtype">unsigned</span> PPCInstrInfo::getSpillIndex(<span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *RC)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="HexagonMCCompound_8cpp.html#aac4e485cee645621dcac1e8a6e56fc9e">OpcodeIndex</a> = 0;</div>
<div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160; </div>
<div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;  <span class="keywordflow">if</span> (PPC::GPRCRegClass.hasSubClassEq(RC) ||</div>
<div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;      PPC::GPRC_NOR0RegClass.hasSubClassEq(RC)) {</div>
<div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;    <a class="code" href="HexagonMCCompound_8cpp.html#aac4e485cee645621dcac1e8a6e56fc9e">OpcodeIndex</a> = <a class="code" href="namespacellvm.html#acbd62c639eb89998b853a9327a42785ca580add5a701eeb4755274b052f930e20">SOK_Int4Spill</a>;</div>
<div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (PPC::G8RCRegClass.hasSubClassEq(RC) ||</div>
<div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;             PPC::G8RC_NOX0RegClass.hasSubClassEq(RC)) {</div>
<div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;    <a class="code" href="HexagonMCCompound_8cpp.html#aac4e485cee645621dcac1e8a6e56fc9e">OpcodeIndex</a> = <a class="code" href="namespacellvm.html#acbd62c639eb89998b853a9327a42785cad695e1d60cbfdbfdbf4f2f49fdae29a4">SOK_Int8Spill</a>;</div>
<div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (PPC::F8RCRegClass.hasSubClassEq(RC)) {</div>
<div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;    <a class="code" href="HexagonMCCompound_8cpp.html#aac4e485cee645621dcac1e8a6e56fc9e">OpcodeIndex</a> = <a class="code" href="namespacellvm.html#acbd62c639eb89998b853a9327a42785ca736992042d4dbfdc9a86d4411a718df8">SOK_Float8Spill</a>;</div>
<div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (PPC::F4RCRegClass.hasSubClassEq(RC)) {</div>
<div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;    <a class="code" href="HexagonMCCompound_8cpp.html#aac4e485cee645621dcac1e8a6e56fc9e">OpcodeIndex</a> = <a class="code" href="namespacellvm.html#acbd62c639eb89998b853a9327a42785ca9a7760fc34bb720e777c2b3a3854e99d">SOK_Float4Spill</a>;</div>
<div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (PPC::SPERCRegClass.hasSubClassEq(RC)) {</div>
<div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;    <a class="code" href="HexagonMCCompound_8cpp.html#aac4e485cee645621dcac1e8a6e56fc9e">OpcodeIndex</a> = <a class="code" href="namespacellvm.html#acbd62c639eb89998b853a9327a42785cab3e5513d06feb9145f3c8b4c1f625616">SOK_SPESpill</a>;</div>
<div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (PPC::CRRCRegClass.hasSubClassEq(RC)) {</div>
<div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;    <a class="code" href="HexagonMCCompound_8cpp.html#aac4e485cee645621dcac1e8a6e56fc9e">OpcodeIndex</a> = <a class="code" href="namespacellvm.html#acbd62c639eb89998b853a9327a42785cab4c1b5f3fe353f772145892831f0a652">SOK_CRSpill</a>;</div>
<div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (PPC::CRBITRCRegClass.hasSubClassEq(RC)) {</div>
<div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;    <a class="code" href="HexagonMCCompound_8cpp.html#aac4e485cee645621dcac1e8a6e56fc9e">OpcodeIndex</a> = <a class="code" href="namespacellvm.html#acbd62c639eb89998b853a9327a42785ca29a342ffb3f32c297a49b95b8d265acc">SOK_CRBitSpill</a>;</div>
<div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (PPC::VRRCRegClass.hasSubClassEq(RC)) {</div>
<div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;    <a class="code" href="HexagonMCCompound_8cpp.html#aac4e485cee645621dcac1e8a6e56fc9e">OpcodeIndex</a> = <a class="code" href="namespacellvm.html#acbd62c639eb89998b853a9327a42785caa1cb45d6cf8359ae1263b96540c68f03">SOK_VRVectorSpill</a>;</div>
<div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (PPC::VSRCRegClass.hasSubClassEq(RC)) {</div>
<div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;    <a class="code" href="HexagonMCCompound_8cpp.html#aac4e485cee645621dcac1e8a6e56fc9e">OpcodeIndex</a> = <a class="code" href="namespacellvm.html#acbd62c639eb89998b853a9327a42785ca369155836eb866e4be003ba3d86c9294">SOK_VSXVectorSpill</a>;</div>
<div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (PPC::VSFRCRegClass.hasSubClassEq(RC)) {</div>
<div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;    <a class="code" href="HexagonMCCompound_8cpp.html#aac4e485cee645621dcac1e8a6e56fc9e">OpcodeIndex</a> = <a class="code" href="namespacellvm.html#acbd62c639eb89998b853a9327a42785ca5ec0d21419045d34ff5207a36bf45f3d">SOK_VectorFloat8Spill</a>;</div>
<div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (PPC::VSSRCRegClass.hasSubClassEq(RC)) {</div>
<div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;    <a class="code" href="HexagonMCCompound_8cpp.html#aac4e485cee645621dcac1e8a6e56fc9e">OpcodeIndex</a> = <a class="code" href="namespacellvm.html#acbd62c639eb89998b853a9327a42785ca67ecccb7d059c0060e61b4bcf9d088f7">SOK_VectorFloat4Spill</a>;</div>
<div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (PPC::SPILLTOVSRRCRegClass.hasSubClassEq(RC)) {</div>
<div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;    <a class="code" href="HexagonMCCompound_8cpp.html#aac4e485cee645621dcac1e8a6e56fc9e">OpcodeIndex</a> = <a class="code" href="namespacellvm.html#acbd62c639eb89998b853a9327a42785ca552472cd4a0e9484b7c8f5d113d357ce">SOK_SpillToVSR</a>;</div>
<div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (PPC::ACCRCRegClass.hasSubClassEq(RC)) {</div>
<div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Subtarget.pairedVectorMemops() &amp;&amp;</div>
<div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;           <span class="stringliteral">&quot;Register unexpected when paired memops are disabled.&quot;</span>);</div>
<div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;    <a class="code" href="HexagonMCCompound_8cpp.html#aac4e485cee645621dcac1e8a6e56fc9e">OpcodeIndex</a> = <a class="code" href="namespacellvm.html#acbd62c639eb89998b853a9327a42785cac13ab3d6d37c4af024472ba9e711fe02">SOK_AccumulatorSpill</a>;</div>
<div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (PPC::UACCRCRegClass.hasSubClassEq(RC)) {</div>
<div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Subtarget.pairedVectorMemops() &amp;&amp;</div>
<div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;           <span class="stringliteral">&quot;Register unexpected when paired memops are disabled.&quot;</span>);</div>
<div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;    <a class="code" href="HexagonMCCompound_8cpp.html#aac4e485cee645621dcac1e8a6e56fc9e">OpcodeIndex</a> = <a class="code" href="namespacellvm.html#acbd62c639eb89998b853a9327a42785ca62869775e4043d1aaaf943221f9f3069">SOK_UAccumulatorSpill</a>;</div>
<div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (PPC::WACCRCRegClass.hasSubClassEq(RC)) {</div>
<div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Subtarget.pairedVectorMemops() &amp;&amp;</div>
<div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;           <span class="stringliteral">&quot;Register unexpected when paired memops are disabled.&quot;</span>);</div>
<div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;    <a class="code" href="HexagonMCCompound_8cpp.html#aac4e485cee645621dcac1e8a6e56fc9e">OpcodeIndex</a> = <a class="code" href="namespacellvm.html#acbd62c639eb89998b853a9327a42785caaca5fdfb3047fe3a193a24053ef69175">SOK_WAccumulatorSpill</a>;</div>
<div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (PPC::VSRpRCRegClass.hasSubClassEq(RC)) {</div>
<div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Subtarget.pairedVectorMemops() &amp;&amp;</div>
<div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;           <span class="stringliteral">&quot;Register unexpected when paired memops are disabled.&quot;</span>);</div>
<div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;    <a class="code" href="HexagonMCCompound_8cpp.html#aac4e485cee645621dcac1e8a6e56fc9e">OpcodeIndex</a> = <a class="code" href="namespacellvm.html#acbd62c639eb89998b853a9327a42785ca5e182f0c1ef3dbb6499c1b6e929146e9">SOK_PairedVecSpill</a>;</div>
<div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (PPC::G8pRCRegClass.hasSubClassEq(RC)) {</div>
<div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;    <a class="code" href="HexagonMCCompound_8cpp.html#aac4e485cee645621dcac1e8a6e56fc9e">OpcodeIndex</a> = <a class="code" href="namespacellvm.html#acbd62c639eb89998b853a9327a42785ca62e8ee8df07d6b527477605bcec74f7f">SOK_PairedG8Spill</a>;</div>
<div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;    <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unknown regclass!&quot;</span>);</div>
<div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;  }</div>
<div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="HexagonMCCompound_8cpp.html#aac4e485cee645621dcac1e8a6e56fc9e">OpcodeIndex</a>;</div>
<div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;}</div>
<div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160; </div>
<div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;<span class="keywordtype">unsigned</span></div>
<div class="line"><a name="l01920"></a><span class="lineno"><a class="line" href="classllvm_1_1PPCInstrInfo.html#a51043d2a1b0696b32dbf2430676658c6"> 1920</a></span>&#160;<a class="code" href="classllvm_1_1PPCInstrInfo.html#a51043d2a1b0696b32dbf2430676658c6">PPCInstrInfo::getStoreOpcodeForSpill</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *RC)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;  <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;unsigned&gt;</a> OpcodesForSpill = getStoreOpcodesForSpillArray();</div>
<div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;  <span class="keywordflow">return</span> OpcodesForSpill[getSpillIndex(RC)];</div>
<div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;}</div>
<div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160; </div>
<div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;<span class="keywordtype">unsigned</span></div>
<div class="line"><a name="l01926"></a><span class="lineno"><a class="line" href="classllvm_1_1PPCInstrInfo.html#a51f8adee69da15bfd10d880d79d8fbec"> 1926</a></span>&#160;<a class="code" href="classllvm_1_1PPCInstrInfo.html#a51f8adee69da15bfd10d880d79d8fbec">PPCInstrInfo::getLoadOpcodeForSpill</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *RC)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;  <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;unsigned&gt;</a> OpcodesForSpill = getLoadOpcodesForSpillArray();</div>
<div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;  <span class="keywordflow">return</span> OpcodesForSpill[getSpillIndex(RC)];</div>
<div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;}</div>
<div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160; </div>
<div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160;<span class="keywordtype">void</span> PPCInstrInfo::StoreRegToStackSlot(</div>
<div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;    <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF, <span class="keywordtype">unsigned</span> SrcReg, <span class="keywordtype">bool</span> isKill, <span class="keywordtype">int</span> FrameIdx,</div>
<div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *RC,</div>
<div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;    <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;MachineInstr *&gt;</a> &amp;NewMIs)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;  <span class="keywordtype">unsigned</span> Opcode = <a class="code" href="classllvm_1_1PPCInstrInfo.html#a51043d2a1b0696b32dbf2430676658c6">getStoreOpcodeForSpill</a>(RC);</div>
<div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;  <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>;</div>
<div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160; </div>
<div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;  <a class="code" href="classllvm_1_1PPCFunctionInfo.html">PPCFunctionInfo</a> *FuncInfo = MF.<a class="code" href="classllvm_1_1MachineFunction.html#ac2dc0fa143c9f2127f0501734577a0a0">getInfo</a>&lt;<a class="code" href="classllvm_1_1PPCFunctionInfo.html">PPCFunctionInfo</a>&gt;();</div>
<div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;  FuncInfo-&gt;<a class="code" href="classllvm_1_1PPCFunctionInfo.html#afa7d92ef59a14f26d941fdacaf49f165">setHasSpills</a>();</div>
<div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160; </div>
<div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;  NewMIs.push_back(<a class="code" href="namespacellvm.html#ad73248c76f67b663abacff7aff17fd2c">addFrameReference</a>(</div>
<div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;      <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(MF, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(Opcode)).addReg(SrcReg, <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(isKill)),</div>
<div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160;      FrameIdx));</div>
<div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160; </div>
<div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;  <span class="keywordflow">if</span> (PPC::CRRCRegClass.hasSubClassEq(RC) ||</div>
<div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;      PPC::CRBITRCRegClass.hasSubClassEq(RC))</div>
<div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;    FuncInfo-&gt;<a class="code" href="classllvm_1_1PPCFunctionInfo.html#ad56d6a4ebccec8c13d1f1e8b982ff0ba">setSpillsCR</a>();</div>
<div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160; </div>
<div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1PPCInstrInfo.html#a463b524077a8bf49aff4cdcdb0a5b107">isXFormMemOp</a>(Opcode))</div>
<div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;    FuncInfo-&gt;<a class="code" href="classllvm_1_1PPCFunctionInfo.html#aef8b8a2cddd6ae0ae42a5711d358d437">setHasNonRISpills</a>();</div>
<div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;}</div>
<div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160; </div>
<div class="line"><a name="l01953"></a><span class="lineno"><a class="line" href="classllvm_1_1PPCInstrInfo.html#a97de15cd29255b90b2ce510e967340bf"> 1953</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1PPCInstrInfo.html#a97de15cd29255b90b2ce510e967340bf">PPCInstrInfo::storeRegToStackSlotNoUpd</a>(</div>
<div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160;    <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::iterator</a> <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <span class="keywordtype">unsigned</span> SrcReg,</div>
<div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160;    <span class="keywordtype">bool</span> isKill, <span class="keywordtype">int</span> FrameIdx, <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *RC,</div>
<div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterInfo.html">TargetRegisterInfo</a> *<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160;  <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF = *<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a4e21760f681d6f97f95c8414e7b83ea5">getParent</a>();</div>
<div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;MachineInstr *, 4&gt;</a> NewMIs;</div>
<div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160; </div>
<div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;  StoreRegToStackSlot(MF, SrcReg, isKill, FrameIdx, RC, NewMIs);</div>
<div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160; </div>
<div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a> = NewMIs.size(); <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160;    <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a3435a2381e60e842e915f85c931b7dde">insert</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, NewMIs[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div>
<div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160; </div>
<div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineFrameInfo.html">MachineFrameInfo</a> &amp;MFI = MF.<a class="code" href="classllvm_1_1MachineFunction.html#a18fcadd076ad53e6df94e0ca7a80a9ef">getFrameInfo</a>();</div>
<div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160;  <a class="code" href="classllvm_1_1MachineMemOperand.html">MachineMemOperand</a> *MMO = MF.<a class="code" href="classllvm_1_1MachineFunction.html#a0d496cc15e312863869a384532968143">getMachineMemOperand</a>(</div>
<div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;      <a class="code" href="structllvm_1_1MachinePointerInfo.html#ad8ce1aee13dbdcc05d20284a30e83170">MachinePointerInfo::getFixedStack</a>(MF, FrameIdx),</div>
<div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;      <a class="code" href="classllvm_1_1MachineMemOperand.html#aaa2020e47e35179234b9ea27d555b2ddaed357b1367bc90a56fefa4d1b0e17374">MachineMemOperand::MOStore</a>, MFI.<a class="code" href="classllvm_1_1MachineFrameInfo.html#a9284fd53296d2a2f8ae654d000971000">getObjectSize</a>(FrameIdx),</div>
<div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160;      MFI.<a class="code" href="classllvm_1_1MachineFrameInfo.html#a8320a54de0a273478de910ac3795058b">getObjectAlign</a>(FrameIdx));</div>
<div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;  NewMIs.back()-&gt;addMemOperand(MF, MMO);</div>
<div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160;}</div>
<div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160; </div>
<div class="line"><a name="l01973"></a><span class="lineno"><a class="line" href="classllvm_1_1PPCInstrInfo.html#a4b960847db9b452e5be6bbc411fbb8f2"> 1973</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1PPCInstrInfo.html#a4b960847db9b452e5be6bbc411fbb8f2">PPCInstrInfo::storeRegToStackSlot</a>(</div>
<div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160;    <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::iterator</a> <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="classllvm_1_1Register.html">Register</a> SrcReg,</div>
<div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;    <span class="keywordtype">bool</span> isKill, <span class="keywordtype">int</span> FrameIdx, <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *RC,</div>
<div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterInfo.html">TargetRegisterInfo</a> *<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>, <a class="code" href="classllvm_1_1Register.html">Register</a> VReg)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;  <span class="comment">// We need to avoid a situation in which the value from a VRRC register is</span></div>
<div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;  <span class="comment">// spilled using an Altivec instruction and reloaded into a VSRC register</span></div>
<div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;  <span class="comment">// using a VSX instruction. The issue with this is that the VSX</span></div>
<div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;  <span class="comment">// load/store instructions swap the doublewords in the vector and the Altivec</span></div>
<div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;  <span class="comment">// ones don&#39;t. The register classes on the spill/reload may be different if</span></div>
<div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;  <span class="comment">// the register is defined using an Altivec instruction and is then used by a</span></div>
<div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160;  <span class="comment">// VSX instruction.</span></div>
<div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160;  RC = <a class="code" href="classllvm_1_1PPCInstrInfo.html#a111dcd9b1325e89d9724d5481ddcd1a9">updatedRC</a>(RC);</div>
<div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;  <a class="code" href="classllvm_1_1PPCInstrInfo.html#a97de15cd29255b90b2ce510e967340bf">storeRegToStackSlotNoUpd</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, SrcReg, isKill, FrameIdx, RC, <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>);</div>
<div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;}</div>
<div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160; </div>
<div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;<span class="keywordtype">void</span> PPCInstrInfo::LoadRegFromStackSlot(<a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF, <span class="keyword">const</span> <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>,</div>
<div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;                                        <span class="keywordtype">unsigned</span> DestReg, <span class="keywordtype">int</span> FrameIdx,</div>
<div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;                                        <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *RC,</div>
<div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;                                        <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;MachineInstr *&gt;</a> &amp;NewMIs)<span class="keyword"></span></div>
<div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;<span class="keyword">                                        const </span>{</div>
<div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;  <span class="keywordtype">unsigned</span> Opcode = <a class="code" href="classllvm_1_1PPCInstrInfo.html#a51f8adee69da15bfd10d880d79d8fbec">getLoadOpcodeForSpill</a>(RC);</div>
<div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;  NewMIs.push_back(<a class="code" href="namespacellvm.html#ad73248c76f67b663abacff7aff17fd2c">addFrameReference</a>(<a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(MF, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(Opcode), DestReg),</div>
<div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;                                     FrameIdx));</div>
<div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;  <a class="code" href="classllvm_1_1PPCFunctionInfo.html">PPCFunctionInfo</a> *FuncInfo = MF.<a class="code" href="classllvm_1_1MachineFunction.html#ac2dc0fa143c9f2127f0501734577a0a0">getInfo</a>&lt;<a class="code" href="classllvm_1_1PPCFunctionInfo.html">PPCFunctionInfo</a>&gt;();</div>
<div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160; </div>
<div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;  <span class="keywordflow">if</span> (PPC::CRRCRegClass.hasSubClassEq(RC) ||</div>
<div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;      PPC::CRBITRCRegClass.hasSubClassEq(RC))</div>
<div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;    FuncInfo-&gt;<a class="code" href="classllvm_1_1PPCFunctionInfo.html#ad56d6a4ebccec8c13d1f1e8b982ff0ba">setSpillsCR</a>();</div>
<div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160; </div>
<div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1PPCInstrInfo.html#a463b524077a8bf49aff4cdcdb0a5b107">isXFormMemOp</a>(Opcode))</div>
<div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;    FuncInfo-&gt;<a class="code" href="classllvm_1_1PPCFunctionInfo.html#aef8b8a2cddd6ae0ae42a5711d358d437">setHasNonRISpills</a>();</div>
<div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;}</div>
<div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160; </div>
<div class="line"><a name="l02006"></a><span class="lineno"><a class="line" href="classllvm_1_1PPCInstrInfo.html#a4f5aa6feffe52b80166f0d252cf354cb"> 2006</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1PPCInstrInfo.html#a4f5aa6feffe52b80166f0d252cf354cb">PPCInstrInfo::loadRegFromStackSlotNoUpd</a>(</div>
<div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;    <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::iterator</a> <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <span class="keywordtype">unsigned</span> DestReg,</div>
<div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;    <span class="keywordtype">int</span> FrameIdx, <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *RC,</div>
<div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterInfo.html">TargetRegisterInfo</a> *<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;  <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF = *<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a4e21760f681d6f97f95c8414e7b83ea5">getParent</a>();</div>
<div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;MachineInstr*, 4&gt;</a> NewMIs;</div>
<div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;  <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>;</div>
<div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a> != <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">end</a>()) <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a> = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getDebugLoc();</div>
<div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160; </div>
<div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;  <a class="code" href="classllvm_1_1PPCFunctionInfo.html">PPCFunctionInfo</a> *FuncInfo = MF.<a class="code" href="classllvm_1_1MachineFunction.html#ac2dc0fa143c9f2127f0501734577a0a0">getInfo</a>&lt;<a class="code" href="classllvm_1_1PPCFunctionInfo.html">PPCFunctionInfo</a>&gt;();</div>
<div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;  FuncInfo-&gt;<a class="code" href="classllvm_1_1PPCFunctionInfo.html#afa7d92ef59a14f26d941fdacaf49f165">setHasSpills</a>();</div>
<div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160; </div>
<div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160;  LoadRegFromStackSlot(MF, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, DestReg, FrameIdx, RC, NewMIs);</div>
<div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160; </div>
<div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a> = NewMIs.size(); <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;    <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a3435a2381e60e842e915f85c931b7dde">insert</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, NewMIs[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div>
<div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160; </div>
<div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineFrameInfo.html">MachineFrameInfo</a> &amp;MFI = MF.<a class="code" href="classllvm_1_1MachineFunction.html#a18fcadd076ad53e6df94e0ca7a80a9ef">getFrameInfo</a>();</div>
<div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160;  <a class="code" href="classllvm_1_1MachineMemOperand.html">MachineMemOperand</a> *MMO = MF.<a class="code" href="classllvm_1_1MachineFunction.html#a0d496cc15e312863869a384532968143">getMachineMemOperand</a>(</div>
<div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160;      <a class="code" href="structllvm_1_1MachinePointerInfo.html#ad8ce1aee13dbdcc05d20284a30e83170">MachinePointerInfo::getFixedStack</a>(MF, FrameIdx),</div>
<div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160;      <a class="code" href="classllvm_1_1MachineMemOperand.html#aaa2020e47e35179234b9ea27d555b2dda7d12be6206e5b0026c71bbcd5cb76494">MachineMemOperand::MOLoad</a>, MFI.<a class="code" href="classllvm_1_1MachineFrameInfo.html#a9284fd53296d2a2f8ae654d000971000">getObjectSize</a>(FrameIdx),</div>
<div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;      MFI.<a class="code" href="classllvm_1_1MachineFrameInfo.html#a8320a54de0a273478de910ac3795058b">getObjectAlign</a>(FrameIdx));</div>
<div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160;  NewMIs.back()-&gt;addMemOperand(MF, MMO);</div>
<div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160;}</div>
<div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160; </div>
<div class="line"><a name="l02031"></a><span class="lineno"><a class="line" href="classllvm_1_1PPCInstrInfo.html#abb74390d58054b92bc0a5373d7cfc61f"> 2031</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1PPCInstrInfo.html#abb74390d58054b92bc0a5373d7cfc61f">PPCInstrInfo::loadRegFromStackSlot</a>(<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>,</div>
<div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;                                        <a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::iterator</a> <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>,</div>
<div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160;                                        <a class="code" href="classllvm_1_1Register.html">Register</a> DestReg, <span class="keywordtype">int</span> FrameIdx,</div>
<div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;                                        <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *RC,</div>
<div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;                                        <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterInfo.html">TargetRegisterInfo</a> *<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>,</div>
<div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160;                                        <a class="code" href="classllvm_1_1Register.html">Register</a> VReg)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160;  <span class="comment">// We need to avoid a situation in which the value from a VRRC register is</span></div>
<div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160;  <span class="comment">// spilled using an Altivec instruction and reloaded into a VSRC register</span></div>
<div class="line"><a name="l02039"></a><span class="lineno"> 2039</span>&#160;  <span class="comment">// using a VSX instruction. The issue with this is that the VSX</span></div>
<div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160;  <span class="comment">// load/store instructions swap the doublewords in the vector and the Altivec</span></div>
<div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160;  <span class="comment">// ones don&#39;t. The register classes on the spill/reload may be different if</span></div>
<div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160;  <span class="comment">// the register is defined using an Altivec instruction and is then used by a</span></div>
<div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160;  <span class="comment">// VSX instruction.</span></div>
<div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160;  RC = <a class="code" href="classllvm_1_1PPCInstrInfo.html#a111dcd9b1325e89d9724d5481ddcd1a9">updatedRC</a>(RC);</div>
<div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160; </div>
<div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160;  <a class="code" href="classllvm_1_1PPCInstrInfo.html#a4f5aa6feffe52b80166f0d252cf354cb">loadRegFromStackSlotNoUpd</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, DestReg, FrameIdx, RC, <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>);</div>
<div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160;}</div>
<div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160; </div>
<div class="line"><a name="l02049"></a><span class="lineno"> 2049</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1PPCInstrInfo.html#a71d26c25426803c700863bc98bc1d4fd">PPCInstrInfo::</a></div>
<div class="line"><a name="l02050"></a><span class="lineno"><a class="line" href="classllvm_1_1PPCInstrInfo.html#a71d26c25426803c700863bc98bc1d4fd"> 2050</a></span>&#160;<a class="code" href="classllvm_1_1PPCInstrInfo.html#a71d26c25426803c700863bc98bc1d4fd">reverseBranchCondition</a>(<a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;MachineOperand&gt;</a> &amp;<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l02051"></a><span class="lineno"> 2051</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>.size() == 2 &amp;&amp; <span class="stringliteral">&quot;Invalid PPC branch opcode!&quot;</span>);</div>
<div class="line"><a name="l02052"></a><span class="lineno"> 2052</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>[1].<a class="code" href="MipsDisassembler_8cpp.html#a15b5b86944f6df97d2c3659d77f51f91">getReg</a>() == PPC::CTR8 || <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>[1].<a class="code" href="MipsDisassembler_8cpp.html#a15b5b86944f6df97d2c3659d77f51f91">getReg</a>() == PPC::CTR)</div>
<div class="line"><a name="l02053"></a><span class="lineno"> 2053</span>&#160;    <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>[0].setImm(<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>[0].getImm() == 0 ? 1 : 0);</div>
<div class="line"><a name="l02054"></a><span class="lineno"> 2054</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l02055"></a><span class="lineno"> 2055</span>&#160;    <span class="comment">// Leave the CR# the same, but invert the condition.</span></div>
<div class="line"><a name="l02056"></a><span class="lineno"> 2056</span>&#160;    <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>[0].setImm(<a class="code" href="namespacellvm_1_1PPC.html#a430fc7aab545fd5d88076b455542dce3">PPC::InvertPredicate</a>((<a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355">PPC::Predicate</a>)<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>[0].getImm()));</div>
<div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02058"></a><span class="lineno"> 2058</span>&#160;}</div>
<div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160; </div>
<div class="line"><a name="l02060"></a><span class="lineno"> 2060</span>&#160;<span class="comment">// For some instructions, it is legal to fold ZERO into the RA register field.</span></div>
<div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160;<span class="comment">// This function performs that fold by replacing the operand with PPC::ZERO,</span></div>
<div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160;<span class="comment">// it does not consider whether the load immediate zero is no longer in use.</span></div>
<div class="line"><a name="l02063"></a><span class="lineno"><a class="line" href="classllvm_1_1PPCInstrInfo.html#a16eb84143cfa149db94e8b4b4b2a8629"> 2063</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1PPCInstrInfo.html#a16eb84143cfa149db94e8b4b4b2a8629">PPCInstrInfo::onlyFoldImmediate</a>(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#a6cf2f8996b1e9aaf2d7a435aaa62382f">UseMI</a>, <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a>,</div>
<div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160;                                     <a class="code" href="classllvm_1_1Register.html">Register</a> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160;  <span class="comment">// A zero immediate should always be loaded with a single li.</span></div>
<div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160;  <span class="keywordtype">unsigned</span> DefOpc = <a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a>.getOpcode();</div>
<div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160;  <span class="keywordflow">if</span> (DefOpc != PPC::LI &amp;&amp; DefOpc != PPC::LI8)</div>
<div class="line"><a name="l02068"></a><span class="lineno"> 2068</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a>.getOperand(1).isImm())</div>
<div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a>.getOperand(1).getImm() != 0)</div>
<div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02073"></a><span class="lineno"> 2073</span>&#160; </div>
<div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160;  <span class="comment">// Note that we cannot here invert the arguments of an isel in order to fold</span></div>
<div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160;  <span class="comment">// a ZERO into what is presented as the second argument. All we have here</span></div>
<div class="line"><a name="l02076"></a><span class="lineno"> 2076</span>&#160;  <span class="comment">// is the condition bit, and that might come from a CR-logical bit operation.</span></div>
<div class="line"><a name="l02077"></a><span class="lineno"> 2077</span>&#160; </div>
<div class="line"><a name="l02078"></a><span class="lineno"> 2078</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCInstrDesc.html">MCInstrDesc</a> &amp;UseMCID = <a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#a6cf2f8996b1e9aaf2d7a435aaa62382f">UseMI</a>.getDesc();</div>
<div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160; </div>
<div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160;  <span class="comment">// Only fold into real machine instructions.</span></div>
<div class="line"><a name="l02081"></a><span class="lineno"> 2081</span>&#160;  <span class="keywordflow">if</span> (UseMCID.<a class="code" href="classllvm_1_1MCInstrDesc.html#afa2cee6d743bcfb8946e6dcc4a6cc443">isPseudo</a>())</div>
<div class="line"><a name="l02082"></a><span class="lineno"> 2082</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160; </div>
<div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160;  <span class="comment">// We need to find which of the User&#39;s operands is to be folded, that will be</span></div>
<div class="line"><a name="l02085"></a><span class="lineno"> 2085</span>&#160;  <span class="comment">// the operand that matches the given register ID.</span></div>
<div class="line"><a name="l02086"></a><span class="lineno"> 2086</span>&#160;  <span class="keywordtype">unsigned</span> UseIdx;</div>
<div class="line"><a name="l02087"></a><span class="lineno"> 2087</span>&#160;  <span class="keywordflow">for</span> (UseIdx = 0; UseIdx &lt; <a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#a6cf2f8996b1e9aaf2d7a435aaa62382f">UseMI</a>.getNumOperands(); ++UseIdx)</div>
<div class="line"><a name="l02088"></a><span class="lineno"> 2088</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#a6cf2f8996b1e9aaf2d7a435aaa62382f">UseMI</a>.getOperand(UseIdx).isReg() &amp;&amp;</div>
<div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160;        <a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#a6cf2f8996b1e9aaf2d7a435aaa62382f">UseMI</a>.getOperand(UseIdx).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a1c5fadb14ff1d77faad0cb58a43252ab">getReg</a>() == <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>)</div>
<div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02091"></a><span class="lineno"> 2091</span>&#160; </div>
<div class="line"><a name="l02092"></a><span class="lineno"> 2092</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(UseIdx &lt; <a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#a6cf2f8996b1e9aaf2d7a435aaa62382f">UseMI</a>.getNumOperands() &amp;&amp; <span class="stringliteral">&quot;Cannot find Reg in UseMI&quot;</span>);</div>
<div class="line"><a name="l02093"></a><span class="lineno"> 2093</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(UseIdx &lt; UseMCID.<a class="code" href="classllvm_1_1MCInstrDesc.html#a0ca904e64ee29c8812ed34e632d3c947">getNumOperands</a>() &amp;&amp; <span class="stringliteral">&quot;No operand description for Reg&quot;</span>);</div>
<div class="line"><a name="l02094"></a><span class="lineno"> 2094</span>&#160; </div>
<div class="line"><a name="l02095"></a><span class="lineno"> 2095</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCOperandInfo.html">MCOperandInfo</a> *UseInfo = &amp;UseMCID.<a class="code" href="classllvm_1_1MCInstrDesc.html#a9491e6e3afc420c33cf508189bb12c3b">operands</a>()[UseIdx];</div>
<div class="line"><a name="l02096"></a><span class="lineno"> 2096</span>&#160; </div>
<div class="line"><a name="l02097"></a><span class="lineno"> 2097</span>&#160;  <span class="comment">// We can fold the zero if this register requires a GPRC_NOR0/G8RC_NOX0</span></div>
<div class="line"><a name="l02098"></a><span class="lineno"> 2098</span>&#160;  <span class="comment">// register (which might also be specified as a pointer class kind).</span></div>
<div class="line"><a name="l02099"></a><span class="lineno"> 2099</span>&#160;  <span class="keywordflow">if</span> (UseInfo-&gt;<a class="code" href="classllvm_1_1MCOperandInfo.html#aa06263df7b83bda632ddd30a94436f36">isLookupPtrRegClass</a>()) {</div>
<div class="line"><a name="l02100"></a><span class="lineno"> 2100</span>&#160;    <span class="keywordflow">if</span> (UseInfo-&gt;<a class="code" href="classllvm_1_1MCOperandInfo.html#ad3abf78805559fecd7642d0c57032c56">RegClass</a> <span class="comment">/* Kind */</span> != 1)</div>
<div class="line"><a name="l02101"></a><span class="lineno"> 2101</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160;    <span class="keywordflow">if</span> (UseInfo-&gt;<a class="code" href="classllvm_1_1MCOperandInfo.html#ad3abf78805559fecd7642d0c57032c56">RegClass</a> != PPC::GPRC_NOR0RegClassID &amp;&amp;</div>
<div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160;        UseInfo-&gt;<a class="code" href="classllvm_1_1MCOperandInfo.html#ad3abf78805559fecd7642d0c57032c56">RegClass</a> != PPC::G8RC_NOX0RegClassID)</div>
<div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160;  }</div>
<div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160; </div>
<div class="line"><a name="l02108"></a><span class="lineno"> 2108</span>&#160;  <span class="comment">// Make sure this is not tied to an output register (or otherwise</span></div>
<div class="line"><a name="l02109"></a><span class="lineno"> 2109</span>&#160;  <span class="comment">// constrained). This is true for ST?UX registers, for example, which</span></div>
<div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160;  <span class="comment">// are tied to their output registers.</span></div>
<div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160;  <span class="keywordflow">if</span> (UseInfo-&gt;<a class="code" href="classllvm_1_1MCOperandInfo.html#a8505d3393e96652f88958b860e42197a">Constraints</a> != 0)</div>
<div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160; </div>
<div class="line"><a name="l02114"></a><span class="lineno"> 2114</span>&#160;  <a class="code" href="classllvm_1_1MCRegister.html">MCRegister</a> ZeroReg;</div>
<div class="line"><a name="l02115"></a><span class="lineno"> 2115</span>&#160;  <span class="keywordflow">if</span> (UseInfo-&gt;<a class="code" href="classllvm_1_1MCOperandInfo.html#aa06263df7b83bda632ddd30a94436f36">isLookupPtrRegClass</a>()) {</div>
<div class="line"><a name="l02116"></a><span class="lineno"> 2116</span>&#160;    <span class="keywordtype">bool</span> isPPC64 = Subtarget.<a class="code" href="classllvm_1_1PPCSubtarget.html#a6622b99b3c00a3938d969957312b1b52">isPPC64</a>();</div>
<div class="line"><a name="l02117"></a><span class="lineno"> 2117</span>&#160;    ZeroReg = isPPC64 ? PPC::ZERO8 : PPC::ZERO;</div>
<div class="line"><a name="l02118"></a><span class="lineno"> 2118</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02119"></a><span class="lineno"> 2119</span>&#160;    ZeroReg = UseInfo-&gt;<a class="code" href="classllvm_1_1MCOperandInfo.html#ad3abf78805559fecd7642d0c57032c56">RegClass</a> == PPC::G8RC_NOX0RegClassID ?</div>
<div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160;              PPC::ZERO8 : PPC::ZERO;</div>
<div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160;  }</div>
<div class="line"><a name="l02122"></a><span class="lineno"> 2122</span>&#160; </div>
<div class="line"><a name="l02123"></a><span class="lineno"> 2123</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Folded immediate zero for: &quot;</span>);</div>
<div class="line"><a name="l02124"></a><span class="lineno"> 2124</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#a6cf2f8996b1e9aaf2d7a435aaa62382f">UseMI</a>.dump());</div>
<div class="line"><a name="l02125"></a><span class="lineno"> 2125</span>&#160;  <a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#a6cf2f8996b1e9aaf2d7a435aaa62382f">UseMI</a>.getOperand(UseIdx).setReg(ZeroReg);</div>
<div class="line"><a name="l02126"></a><span class="lineno"> 2126</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Into: &quot;</span>);</div>
<div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#a6cf2f8996b1e9aaf2d7a435aaa62382f">UseMI</a>.dump());</div>
<div class="line"><a name="l02128"></a><span class="lineno"> 2128</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02129"></a><span class="lineno"> 2129</span>&#160;}</div>
<div class="line"><a name="l02130"></a><span class="lineno"> 2130</span>&#160; </div>
<div class="line"><a name="l02131"></a><span class="lineno"> 2131</span>&#160;<span class="comment">// Folds zero into instructions which have a load immediate zero as an operand</span></div>
<div class="line"><a name="l02132"></a><span class="lineno"> 2132</span>&#160;<span class="comment">// but also recognize zero as immediate zero. If the definition of the load</span></div>
<div class="line"><a name="l02133"></a><span class="lineno"> 2133</span>&#160;<span class="comment">// has no more users it is deleted.</span></div>
<div class="line"><a name="l02134"></a><span class="lineno"><a class="line" href="classllvm_1_1PPCInstrInfo.html#a5ec71405ff522bfe6e20245ede6aaa91"> 2134</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1PPCInstrInfo.html#a5ec71405ff522bfe6e20245ede6aaa91">PPCInstrInfo::FoldImmediate</a>(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#a6cf2f8996b1e9aaf2d7a435aaa62382f">UseMI</a>, <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a>,</div>
<div class="line"><a name="l02135"></a><span class="lineno"> 2135</span>&#160;                                 <a class="code" href="classllvm_1_1Register.html">Register</a> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> *<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l02136"></a><span class="lineno"> 2136</span>&#160;  <span class="keywordtype">bool</span> Changed = <a class="code" href="classllvm_1_1PPCInstrInfo.html#a16eb84143cfa149db94e8b4b4b2a8629">onlyFoldImmediate</a>(<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#a6cf2f8996b1e9aaf2d7a435aaa62382f">UseMI</a>, <a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a>, <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>);</div>
<div class="line"><a name="l02137"></a><span class="lineno"> 2137</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>-&gt;<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a4ea277721b4e63804715a62de87e9a72">use_nodbg_empty</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>))</div>
<div class="line"><a name="l02138"></a><span class="lineno"> 2138</span>&#160;    <a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a>.eraseFromParent();</div>
<div class="line"><a name="l02139"></a><span class="lineno"> 2139</span>&#160;  <span class="keywordflow">return</span> Changed;</div>
<div class="line"><a name="l02140"></a><span class="lineno"> 2140</span>&#160;}</div>
<div class="line"><a name="l02141"></a><span class="lineno"> 2141</span>&#160; </div>
<div class="line"><a name="l02142"></a><span class="lineno"><a class="line" href="PPCInstrInfo_8cpp.html#a0b7ca65c5b5aa6d4c80bcddfdd9e520c"> 2142</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="PPCInstrInfo_8cpp.html#a0b7ca65c5b5aa6d4c80bcddfdd9e520c">MBBDefinesCTR</a>(<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>) {</div>
<div class="line"><a name="l02143"></a><span class="lineno"> 2143</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a> : <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>)</div>
<div class="line"><a name="l02144"></a><span class="lineno"> 2144</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.definesRegister(PPC::CTR) || <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.definesRegister(PPC::CTR8))</div>
<div class="line"><a name="l02145"></a><span class="lineno"> 2145</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02146"></a><span class="lineno"> 2146</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02147"></a><span class="lineno"> 2147</span>&#160;}</div>
<div class="line"><a name="l02148"></a><span class="lineno"> 2148</span>&#160; </div>
<div class="line"><a name="l02149"></a><span class="lineno"> 2149</span>&#160;<span class="comment">// We should make sure that, if we&#39;re going to predicate both sides of a</span></div>
<div class="line"><a name="l02150"></a><span class="lineno"> 2150</span>&#160;<span class="comment">// condition (a diamond), that both sides don&#39;t define the counter register. We</span></div>
<div class="line"><a name="l02151"></a><span class="lineno"> 2151</span>&#160;<span class="comment">// can predicate counter-decrement-based branches, but while that predicates</span></div>
<div class="line"><a name="l02152"></a><span class="lineno"> 2152</span>&#160;<span class="comment">// the branching, it does not predicate the counter decrement. If we tried to</span></div>
<div class="line"><a name="l02153"></a><span class="lineno"> 2153</span>&#160;<span class="comment">// merge the triangle into one predicated block, we&#39;d decrement the counter</span></div>
<div class="line"><a name="l02154"></a><span class="lineno"> 2154</span>&#160;<span class="comment">// twice.</span></div>
<div class="line"><a name="l02155"></a><span class="lineno"><a class="line" href="classllvm_1_1PPCInstrInfo.html#a6332c4b345ad95924b0958ccea46b994"> 2155</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1PPCInstrInfo.html#a7a39ff16bf039402969f41f53763d905">PPCInstrInfo::isProfitableToIfCvt</a>(<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;TMBB,</div>
<div class="line"><a name="l02156"></a><span class="lineno"> 2156</span>&#160;                     <span class="keywordtype">unsigned</span> NumT, <span class="keywordtype">unsigned</span> ExtraT,</div>
<div class="line"><a name="l02157"></a><span class="lineno"> 2157</span>&#160;                     <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;FMBB,</div>
<div class="line"><a name="l02158"></a><span class="lineno"> 2158</span>&#160;                     <span class="keywordtype">unsigned</span> NumF, <span class="keywordtype">unsigned</span> ExtraF,</div>
<div class="line"><a name="l02159"></a><span class="lineno"> 2159</span>&#160;                     <a class="code" href="classllvm_1_1BranchProbability.html">BranchProbability</a> Probability)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l02160"></a><span class="lineno"> 2160</span>&#160;  <span class="keywordflow">return</span> !(<a class="code" href="PPCInstrInfo_8cpp.html#a0b7ca65c5b5aa6d4c80bcddfdd9e520c">MBBDefinesCTR</a>(TMBB) &amp;&amp; <a class="code" href="PPCInstrInfo_8cpp.html#a0b7ca65c5b5aa6d4c80bcddfdd9e520c">MBBDefinesCTR</a>(FMBB));</div>
<div class="line"><a name="l02161"></a><span class="lineno"> 2161</span>&#160;}</div>
<div class="line"><a name="l02162"></a><span class="lineno"> 2162</span>&#160; </div>
<div class="line"><a name="l02163"></a><span class="lineno"> 2163</span>&#160; </div>
<div class="line"><a name="l02164"></a><span class="lineno"><a class="line" href="classllvm_1_1PPCInstrInfo.html#a142a35a3df3a734306ff0a9d751c76bd"> 2164</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1PPCInstrInfo.html#a142a35a3df3a734306ff0a9d751c76bd">PPCInstrInfo::isPredicated</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l02165"></a><span class="lineno"> 2165</span>&#160;  <span class="comment">// The predicated branches are identified by their type, not really by the</span></div>
<div class="line"><a name="l02166"></a><span class="lineno"> 2166</span>&#160;  <span class="comment">// explicit presence of a predicate. Furthermore, some of them can be</span></div>
<div class="line"><a name="l02167"></a><span class="lineno"> 2167</span>&#160;  <span class="comment">// predicated more than once. Because if conversion won&#39;t try to predicate</span></div>
<div class="line"><a name="l02168"></a><span class="lineno"> 2168</span>&#160;  <span class="comment">// any instruction which already claims to be predicated (by returning true</span></div>
<div class="line"><a name="l02169"></a><span class="lineno"> 2169</span>&#160;  <span class="comment">// here), always return false. In doing so, we let isPredicable() be the</span></div>
<div class="line"><a name="l02170"></a><span class="lineno"> 2170</span>&#160;  <span class="comment">// final word on whether not the instruction can be (further) predicated.</span></div>
<div class="line"><a name="l02171"></a><span class="lineno"> 2171</span>&#160; </div>
<div class="line"><a name="l02172"></a><span class="lineno"> 2172</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02173"></a><span class="lineno"> 2173</span>&#160;}</div>
<div class="line"><a name="l02174"></a><span class="lineno"> 2174</span>&#160; </div>
<div class="line"><a name="l02175"></a><span class="lineno"><a class="line" href="classllvm_1_1PPCInstrInfo.html#a082a8593849ab4e2d9d2b0019de167c3"> 2175</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1PPCInstrInfo.html#a082a8593849ab4e2d9d2b0019de167c3">PPCInstrInfo::isSchedulingBoundary</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>,</div>
<div class="line"><a name="l02176"></a><span class="lineno"> 2176</span>&#160;                                        <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>,</div>
<div class="line"><a name="l02177"></a><span class="lineno"> 2177</span>&#160;                                        <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l02178"></a><span class="lineno"> 2178</span>&#160;  <span class="comment">// Set MFFS and MTFSF as scheduling boundary to avoid unexpected code motion</span></div>
<div class="line"><a name="l02179"></a><span class="lineno"> 2179</span>&#160;  <span class="comment">// across them, since some FP operations may change content of FPSCR.</span></div>
<div class="line"><a name="l02180"></a><span class="lineno"> 2180</span>&#160;  <span class="comment">// TODO: Model FPSCR in PPC instruction definitions and remove the workaround</span></div>
<div class="line"><a name="l02181"></a><span class="lineno"> 2181</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode() == <a class="code" href="namespacellvm_1_1PPCISD.html#ad1c32e5bb1cb213fb836bc3d221e4f19aab6a046c536c71121190fefd548d6b25">PPC::MFFS</a> || <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode() == PPC::MTFSF)</div>
<div class="line"><a name="l02182"></a><span class="lineno"> 2182</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02183"></a><span class="lineno"> 2183</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1TargetInstrInfo.html#ad071e937f4986e51fd3fd54b10888894">TargetInstrInfo::isSchedulingBoundary</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, MF);</div>
<div class="line"><a name="l02184"></a><span class="lineno"> 2184</span>&#160;}</div>
<div class="line"><a name="l02185"></a><span class="lineno"> 2185</span>&#160; </div>
<div class="line"><a name="l02186"></a><span class="lineno"><a class="line" href="classllvm_1_1PPCInstrInfo.html#ae5781ad71db6e0e3bf84f10c4490e291"> 2186</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1PPCInstrInfo.html#ae5781ad71db6e0e3bf84f10c4490e291">PPCInstrInfo::PredicateInstruction</a>(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>,</div>
<div class="line"><a name="l02187"></a><span class="lineno"> 2187</span>&#160;                                        <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;MachineOperand&gt;</a> Pred)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l02188"></a><span class="lineno"> 2188</span>&#160;  <span class="keywordtype">unsigned</span> OpC = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode();</div>
<div class="line"><a name="l02189"></a><span class="lineno"> 2189</span>&#160;  <span class="keywordflow">if</span> (OpC == PPC::BLR || OpC == PPC::BLR8) {</div>
<div class="line"><a name="l02190"></a><span class="lineno"> 2190</span>&#160;    <span class="keywordflow">if</span> (Pred[1].<a class="code" href="MipsDisassembler_8cpp.html#a15b5b86944f6df97d2c3659d77f51f91">getReg</a>() == PPC::CTR8 || Pred[1].<a class="code" href="MipsDisassembler_8cpp.html#a15b5b86944f6df97d2c3659d77f51f91">getReg</a>() == PPC::CTR) {</div>
<div class="line"><a name="l02191"></a><span class="lineno"> 2191</span>&#160;      <span class="keywordtype">bool</span> isPPC64 = Subtarget.<a class="code" href="classllvm_1_1PPCSubtarget.html#a6622b99b3c00a3938d969957312b1b52">isPPC64</a>();</div>
<div class="line"><a name="l02192"></a><span class="lineno"> 2192</span>&#160;      <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.setDesc(<a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(Pred[0].getImm() ? (isPPC64 ? PPC::BDNZLR8 : PPC::BDNZLR)</div>
<div class="line"><a name="l02193"></a><span class="lineno"> 2193</span>&#160;                                      : (isPPC64 ? PPC::BDZLR8 : PPC::BDZLR)));</div>
<div class="line"><a name="l02194"></a><span class="lineno"> 2194</span>&#160;      <span class="comment">// Need add Def and Use for CTR implicit operand.</span></div>
<div class="line"><a name="l02195"></a><span class="lineno"> 2195</span>&#160;      <a class="code" href="classllvm_1_1MachineInstrBuilder.html">MachineInstrBuilder</a>(*<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getParent()-&gt;getParent(), <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>)</div>
<div class="line"><a name="l02196"></a><span class="lineno"> 2196</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(Pred[1].<a class="code" href="MipsDisassembler_8cpp.html#a15b5b86944f6df97d2c3659d77f51f91">getReg</a>(), <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da0fec8ba6f4a4dc758b725205985eee99">RegState::Implicit</a>)</div>
<div class="line"><a name="l02197"></a><span class="lineno"> 2197</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(Pred[1].<a class="code" href="MipsDisassembler_8cpp.html#a15b5b86944f6df97d2c3659d77f51f91">getReg</a>(), <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da833922eca2ad0eab70573ba1f5fba9af">RegState::ImplicitDefine</a>);</div>
<div class="line"><a name="l02198"></a><span class="lineno"> 2198</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Pred[0].getImm() == <a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355a3382a0bee0f471ebce5e57f6cbdc91d6">PPC::PRED_BIT_SET</a>) {</div>
<div class="line"><a name="l02199"></a><span class="lineno"> 2199</span>&#160;      <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.setDesc(<a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(PPC::BCLR));</div>
<div class="line"><a name="l02200"></a><span class="lineno"> 2200</span>&#160;      <a class="code" href="classllvm_1_1MachineInstrBuilder.html">MachineInstrBuilder</a>(*<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getParent()-&gt;getParent(), <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a1ac8d27532cfd1d1f032ecbff2ba3611">add</a>(Pred[1]);</div>
<div class="line"><a name="l02201"></a><span class="lineno"> 2201</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Pred[0].getImm() == <a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355aa3aa5d66d33f7c07c2932141ad4c4b67">PPC::PRED_BIT_UNSET</a>) {</div>
<div class="line"><a name="l02202"></a><span class="lineno"> 2202</span>&#160;      <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.setDesc(<a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(PPC::BCLRn));</div>
<div class="line"><a name="l02203"></a><span class="lineno"> 2203</span>&#160;      <a class="code" href="classllvm_1_1MachineInstrBuilder.html">MachineInstrBuilder</a>(*<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getParent()-&gt;getParent(), <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a1ac8d27532cfd1d1f032ecbff2ba3611">add</a>(Pred[1]);</div>
<div class="line"><a name="l02204"></a><span class="lineno"> 2204</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02205"></a><span class="lineno"> 2205</span>&#160;      <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.setDesc(<a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(PPC::BCCLR));</div>
<div class="line"><a name="l02206"></a><span class="lineno"> 2206</span>&#160;      <a class="code" href="classllvm_1_1MachineInstrBuilder.html">MachineInstrBuilder</a>(*<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getParent()-&gt;getParent(), <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>)</div>
<div class="line"><a name="l02207"></a><span class="lineno"> 2207</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(Pred[0].getImm())</div>
<div class="line"><a name="l02208"></a><span class="lineno"> 2208</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a1ac8d27532cfd1d1f032ecbff2ba3611">add</a>(Pred[1]);</div>
<div class="line"><a name="l02209"></a><span class="lineno"> 2209</span>&#160;    }</div>
<div class="line"><a name="l02210"></a><span class="lineno"> 2210</span>&#160; </div>
<div class="line"><a name="l02211"></a><span class="lineno"> 2211</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02212"></a><span class="lineno"> 2212</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (OpC == <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">PPC::B</a>) {</div>
<div class="line"><a name="l02213"></a><span class="lineno"> 2213</span>&#160;    <span class="keywordflow">if</span> (Pred[1].<a class="code" href="MipsDisassembler_8cpp.html#a15b5b86944f6df97d2c3659d77f51f91">getReg</a>() == PPC::CTR8 || Pred[1].<a class="code" href="MipsDisassembler_8cpp.html#a15b5b86944f6df97d2c3659d77f51f91">getReg</a>() == PPC::CTR) {</div>
<div class="line"><a name="l02214"></a><span class="lineno"> 2214</span>&#160;      <span class="keywordtype">bool</span> isPPC64 = Subtarget.<a class="code" href="classllvm_1_1PPCSubtarget.html#a6622b99b3c00a3938d969957312b1b52">isPPC64</a>();</div>
<div class="line"><a name="l02215"></a><span class="lineno"> 2215</span>&#160;      <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.setDesc(<a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(Pred[0].getImm() ? (isPPC64 ? PPC::BDNZ8 : <a class="code" href="namespacellvm_1_1PPCISD.html#ad1c32e5bb1cb213fb836bc3d221e4f19a160ec67350dc5e964fc0a12a9cde1df8">PPC::BDNZ</a>)</div>
<div class="line"><a name="l02216"></a><span class="lineno"> 2216</span>&#160;                                      : (isPPC64 ? PPC::BDZ8 : <a class="code" href="namespacellvm_1_1PPCISD.html#ad1c32e5bb1cb213fb836bc3d221e4f19addb9d78754c1f2e6d765a0da913f0800">PPC::BDZ</a>)));</div>
<div class="line"><a name="l02217"></a><span class="lineno"> 2217</span>&#160;      <span class="comment">// Need add Def and Use for CTR implicit operand.</span></div>
<div class="line"><a name="l02218"></a><span class="lineno"> 2218</span>&#160;      <a class="code" href="classllvm_1_1MachineInstrBuilder.html">MachineInstrBuilder</a>(*<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getParent()-&gt;getParent(), <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>)</div>
<div class="line"><a name="l02219"></a><span class="lineno"> 2219</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(Pred[1].<a class="code" href="MipsDisassembler_8cpp.html#a15b5b86944f6df97d2c3659d77f51f91">getReg</a>(), <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da0fec8ba6f4a4dc758b725205985eee99">RegState::Implicit</a>)</div>
<div class="line"><a name="l02220"></a><span class="lineno"> 2220</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(Pred[1].<a class="code" href="MipsDisassembler_8cpp.html#a15b5b86944f6df97d2c3659d77f51f91">getReg</a>(), <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da833922eca2ad0eab70573ba1f5fba9af">RegState::ImplicitDefine</a>);</div>
<div class="line"><a name="l02221"></a><span class="lineno"> 2221</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Pred[0].getImm() == <a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355a3382a0bee0f471ebce5e57f6cbdc91d6">PPC::PRED_BIT_SET</a>) {</div>
<div class="line"><a name="l02222"></a><span class="lineno"> 2222</span>&#160;      <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a> = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(0).getMBB();</div>
<div class="line"><a name="l02223"></a><span class="lineno"> 2223</span>&#160;      <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.removeOperand(0);</div>
<div class="line"><a name="l02224"></a><span class="lineno"> 2224</span>&#160; </div>
<div class="line"><a name="l02225"></a><span class="lineno"> 2225</span>&#160;      <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.setDesc(<a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(PPC::BC));</div>
<div class="line"><a name="l02226"></a><span class="lineno"> 2226</span>&#160;      <a class="code" href="classllvm_1_1MachineInstrBuilder.html">MachineInstrBuilder</a>(*<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getParent()-&gt;getParent(), <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>)</div>
<div class="line"><a name="l02227"></a><span class="lineno"> 2227</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a1ac8d27532cfd1d1f032ecbff2ba3611">add</a>(Pred[1])</div>
<div class="line"><a name="l02228"></a><span class="lineno"> 2228</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#af8571e8dfb010fd8ae76cc4f87aafaac">addMBB</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>);</div>
<div class="line"><a name="l02229"></a><span class="lineno"> 2229</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Pred[0].getImm() == <a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355aa3aa5d66d33f7c07c2932141ad4c4b67">PPC::PRED_BIT_UNSET</a>) {</div>
<div class="line"><a name="l02230"></a><span class="lineno"> 2230</span>&#160;      <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a> = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(0).getMBB();</div>
<div class="line"><a name="l02231"></a><span class="lineno"> 2231</span>&#160;      <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.removeOperand(0);</div>
<div class="line"><a name="l02232"></a><span class="lineno"> 2232</span>&#160; </div>
<div class="line"><a name="l02233"></a><span class="lineno"> 2233</span>&#160;      <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.setDesc(<a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(PPC::BCn));</div>
<div class="line"><a name="l02234"></a><span class="lineno"> 2234</span>&#160;      <a class="code" href="classllvm_1_1MachineInstrBuilder.html">MachineInstrBuilder</a>(*<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getParent()-&gt;getParent(), <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>)</div>
<div class="line"><a name="l02235"></a><span class="lineno"> 2235</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a1ac8d27532cfd1d1f032ecbff2ba3611">add</a>(Pred[1])</div>
<div class="line"><a name="l02236"></a><span class="lineno"> 2236</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#af8571e8dfb010fd8ae76cc4f87aafaac">addMBB</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>);</div>
<div class="line"><a name="l02237"></a><span class="lineno"> 2237</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02238"></a><span class="lineno"> 2238</span>&#160;      <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a> = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(0).getMBB();</div>
<div class="line"><a name="l02239"></a><span class="lineno"> 2239</span>&#160;      <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.removeOperand(0);</div>
<div class="line"><a name="l02240"></a><span class="lineno"> 2240</span>&#160; </div>
<div class="line"><a name="l02241"></a><span class="lineno"> 2241</span>&#160;      <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.setDesc(<a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(PPC::BCC));</div>
<div class="line"><a name="l02242"></a><span class="lineno"> 2242</span>&#160;      <a class="code" href="classllvm_1_1MachineInstrBuilder.html">MachineInstrBuilder</a>(*<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getParent()-&gt;getParent(), <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>)</div>
<div class="line"><a name="l02243"></a><span class="lineno"> 2243</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(Pred[0].getImm())</div>
<div class="line"><a name="l02244"></a><span class="lineno"> 2244</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a1ac8d27532cfd1d1f032ecbff2ba3611">add</a>(Pred[1])</div>
<div class="line"><a name="l02245"></a><span class="lineno"> 2245</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#af8571e8dfb010fd8ae76cc4f87aafaac">addMBB</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>);</div>
<div class="line"><a name="l02246"></a><span class="lineno"> 2246</span>&#160;    }</div>
<div class="line"><a name="l02247"></a><span class="lineno"> 2247</span>&#160; </div>
<div class="line"><a name="l02248"></a><span class="lineno"> 2248</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02249"></a><span class="lineno"> 2249</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (OpC == <a class="code" href="namespacellvm_1_1object.html#a68be2733a72ac7505cc8b02cebbd0c2fad834862e7fd633b5f3faf5b3c81fb5cd">PPC::BCTR</a> || OpC == PPC::BCTR8 || OpC == <a class="code" href="namespacellvm_1_1PPCISD.html#ad1c32e5bb1cb213fb836bc3d221e4f19a453b3ee2482b8a61bbcf5ce1cd6e395e">PPC::BCTRL</a> ||</div>
<div class="line"><a name="l02250"></a><span class="lineno"> 2250</span>&#160;             OpC == PPC::BCTRL8 || OpC == <a class="code" href="namespacellvm_1_1PPCISD.html#ad1c32e5bb1cb213fb836bc3d221e4f19aa82b0f1a7296f1ae77fe7a79dcd8631c">PPC::BCTRL_RM</a> ||</div>
<div class="line"><a name="l02251"></a><span class="lineno"> 2251</span>&#160;             OpC == PPC::BCTRL8_RM) {</div>
<div class="line"><a name="l02252"></a><span class="lineno"> 2252</span>&#160;    <span class="keywordflow">if</span> (Pred[1].<a class="code" href="MipsDisassembler_8cpp.html#a15b5b86944f6df97d2c3659d77f51f91">getReg</a>() == PPC::CTR8 || Pred[1].<a class="code" href="MipsDisassembler_8cpp.html#a15b5b86944f6df97d2c3659d77f51f91">getReg</a>() == PPC::CTR)</div>
<div class="line"><a name="l02253"></a><span class="lineno"> 2253</span>&#160;      <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Cannot predicate bctr[l] on the ctr register&quot;</span>);</div>
<div class="line"><a name="l02254"></a><span class="lineno"> 2254</span>&#160; </div>
<div class="line"><a name="l02255"></a><span class="lineno"> 2255</span>&#160;    <span class="keywordtype">bool</span> setLR = OpC == <a class="code" href="namespacellvm_1_1PPCISD.html#ad1c32e5bb1cb213fb836bc3d221e4f19a453b3ee2482b8a61bbcf5ce1cd6e395e">PPC::BCTRL</a> || OpC == PPC::BCTRL8 ||</div>
<div class="line"><a name="l02256"></a><span class="lineno"> 2256</span>&#160;                 OpC == <a class="code" href="namespacellvm_1_1PPCISD.html#ad1c32e5bb1cb213fb836bc3d221e4f19aa82b0f1a7296f1ae77fe7a79dcd8631c">PPC::BCTRL_RM</a> || OpC == PPC::BCTRL8_RM;</div>
<div class="line"><a name="l02257"></a><span class="lineno"> 2257</span>&#160;    <span class="keywordtype">bool</span> isPPC64 = Subtarget.<a class="code" href="classllvm_1_1PPCSubtarget.html#a6622b99b3c00a3938d969957312b1b52">isPPC64</a>();</div>
<div class="line"><a name="l02258"></a><span class="lineno"> 2258</span>&#160; </div>
<div class="line"><a name="l02259"></a><span class="lineno"> 2259</span>&#160;    <span class="keywordflow">if</span> (Pred[0].getImm() == <a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355a3382a0bee0f471ebce5e57f6cbdc91d6">PPC::PRED_BIT_SET</a>) {</div>
<div class="line"><a name="l02260"></a><span class="lineno"> 2260</span>&#160;      <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.setDesc(<a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(isPPC64 ? (setLR ? PPC::BCCTRL8 : PPC::BCCTR8)</div>
<div class="line"><a name="l02261"></a><span class="lineno"> 2261</span>&#160;                             : (setLR ? PPC::BCCTRL : PPC::BCCTR)));</div>
<div class="line"><a name="l02262"></a><span class="lineno"> 2262</span>&#160;      <a class="code" href="classllvm_1_1MachineInstrBuilder.html">MachineInstrBuilder</a>(*<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getParent()-&gt;getParent(), <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a1ac8d27532cfd1d1f032ecbff2ba3611">add</a>(Pred[1]);</div>
<div class="line"><a name="l02263"></a><span class="lineno"> 2263</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Pred[0].getImm() == <a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355aa3aa5d66d33f7c07c2932141ad4c4b67">PPC::PRED_BIT_UNSET</a>) {</div>
<div class="line"><a name="l02264"></a><span class="lineno"> 2264</span>&#160;      <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.setDesc(<a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(isPPC64 ? (setLR ? PPC::BCCTRL8n : PPC::BCCTR8n)</div>
<div class="line"><a name="l02265"></a><span class="lineno"> 2265</span>&#160;                             : (setLR ? PPC::BCCTRLn : PPC::BCCTRn)));</div>
<div class="line"><a name="l02266"></a><span class="lineno"> 2266</span>&#160;      <a class="code" href="classllvm_1_1MachineInstrBuilder.html">MachineInstrBuilder</a>(*<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getParent()-&gt;getParent(), <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a1ac8d27532cfd1d1f032ecbff2ba3611">add</a>(Pred[1]);</div>
<div class="line"><a name="l02267"></a><span class="lineno"> 2267</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02268"></a><span class="lineno"> 2268</span>&#160;      <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.setDesc(<a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(isPPC64 ? (setLR ? PPC::BCCCTRL8 : PPC::BCCCTR8)</div>
<div class="line"><a name="l02269"></a><span class="lineno"> 2269</span>&#160;                             : (setLR ? PPC::BCCCTRL : PPC::BCCCTR)));</div>
<div class="line"><a name="l02270"></a><span class="lineno"> 2270</span>&#160;      <a class="code" href="classllvm_1_1MachineInstrBuilder.html">MachineInstrBuilder</a>(*<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getParent()-&gt;getParent(), <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>)</div>
<div class="line"><a name="l02271"></a><span class="lineno"> 2271</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(Pred[0].getImm())</div>
<div class="line"><a name="l02272"></a><span class="lineno"> 2272</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a1ac8d27532cfd1d1f032ecbff2ba3611">add</a>(Pred[1]);</div>
<div class="line"><a name="l02273"></a><span class="lineno"> 2273</span>&#160;    }</div>
<div class="line"><a name="l02274"></a><span class="lineno"> 2274</span>&#160; </div>
<div class="line"><a name="l02275"></a><span class="lineno"> 2275</span>&#160;    <span class="comment">// Need add Def and Use for LR implicit operand.</span></div>
<div class="line"><a name="l02276"></a><span class="lineno"> 2276</span>&#160;    <span class="keywordflow">if</span> (setLR)</div>
<div class="line"><a name="l02277"></a><span class="lineno"> 2277</span>&#160;      <a class="code" href="classllvm_1_1MachineInstrBuilder.html">MachineInstrBuilder</a>(*<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getParent()-&gt;getParent(), <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>)</div>
<div class="line"><a name="l02278"></a><span class="lineno"> 2278</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(isPPC64 ? PPC::LR8 : PPC::LR, <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da0fec8ba6f4a4dc758b725205985eee99">RegState::Implicit</a>)</div>
<div class="line"><a name="l02279"></a><span class="lineno"> 2279</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(isPPC64 ? PPC::LR8 : PPC::LR, <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da833922eca2ad0eab70573ba1f5fba9af">RegState::ImplicitDefine</a>);</div>
<div class="line"><a name="l02280"></a><span class="lineno"> 2280</span>&#160;    <span class="keywordflow">if</span> (OpC == <a class="code" href="namespacellvm_1_1PPCISD.html#ad1c32e5bb1cb213fb836bc3d221e4f19aa82b0f1a7296f1ae77fe7a79dcd8631c">PPC::BCTRL_RM</a> || OpC == PPC::BCTRL8_RM)</div>
<div class="line"><a name="l02281"></a><span class="lineno"> 2281</span>&#160;      <a class="code" href="classllvm_1_1MachineInstrBuilder.html">MachineInstrBuilder</a>(*<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getParent()-&gt;getParent(), <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>)</div>
<div class="line"><a name="l02282"></a><span class="lineno"> 2282</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(<a class="code" href="namespacellvm_1_1AArch64.html#a2a1421dcee7067c8a9c69752bd8ec566ae435ab4c104cb9e9e78f43e41b8c02cb">PPC::RM</a>, <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da833922eca2ad0eab70573ba1f5fba9af">RegState::ImplicitDefine</a>);</div>
<div class="line"><a name="l02283"></a><span class="lineno"> 2283</span>&#160; </div>
<div class="line"><a name="l02284"></a><span class="lineno"> 2284</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02285"></a><span class="lineno"> 2285</span>&#160;  }</div>
<div class="line"><a name="l02286"></a><span class="lineno"> 2286</span>&#160; </div>
<div class="line"><a name="l02287"></a><span class="lineno"> 2287</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02288"></a><span class="lineno"> 2288</span>&#160;}</div>
<div class="line"><a name="l02289"></a><span class="lineno"> 2289</span>&#160; </div>
<div class="line"><a name="l02290"></a><span class="lineno"><a class="line" href="classllvm_1_1PPCInstrInfo.html#a87b39c65c6a9fd9acdc3cd6ea03ed323"> 2290</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1PPCInstrInfo.html#a87b39c65c6a9fd9acdc3cd6ea03ed323">PPCInstrInfo::SubsumesPredicate</a>(<a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;MachineOperand&gt;</a> Pred1,</div>
<div class="line"><a name="l02291"></a><span class="lineno"> 2291</span>&#160;                                     <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;MachineOperand&gt;</a> Pred2)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l02292"></a><span class="lineno"> 2292</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Pred1.<a class="code" href="classllvm_1_1ArrayRef.html#a85ffb6531d4cda988ea81f18d4e56fb7">size</a>() == 2 &amp;&amp; <span class="stringliteral">&quot;Invalid PPC first predicate&quot;</span>);</div>
<div class="line"><a name="l02293"></a><span class="lineno"> 2293</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Pred2.<a class="code" href="classllvm_1_1ArrayRef.html#a85ffb6531d4cda988ea81f18d4e56fb7">size</a>() == 2 &amp;&amp; <span class="stringliteral">&quot;Invalid PPC second predicate&quot;</span>);</div>
<div class="line"><a name="l02294"></a><span class="lineno"> 2294</span>&#160; </div>
<div class="line"><a name="l02295"></a><span class="lineno"> 2295</span>&#160;  <span class="keywordflow">if</span> (Pred1[1].<a class="code" href="MipsDisassembler_8cpp.html#a15b5b86944f6df97d2c3659d77f51f91">getReg</a>() == PPC::CTR8 || Pred1[1].<a class="code" href="MipsDisassembler_8cpp.html#a15b5b86944f6df97d2c3659d77f51f91">getReg</a>() == PPC::CTR)</div>
<div class="line"><a name="l02296"></a><span class="lineno"> 2296</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02297"></a><span class="lineno"> 2297</span>&#160;  <span class="keywordflow">if</span> (Pred2[1].<a class="code" href="MipsDisassembler_8cpp.html#a15b5b86944f6df97d2c3659d77f51f91">getReg</a>() == PPC::CTR8 || Pred2[1].<a class="code" href="MipsDisassembler_8cpp.html#a15b5b86944f6df97d2c3659d77f51f91">getReg</a>() == PPC::CTR)</div>
<div class="line"><a name="l02298"></a><span class="lineno"> 2298</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02299"></a><span class="lineno"> 2299</span>&#160; </div>
<div class="line"><a name="l02300"></a><span class="lineno"> 2300</span>&#160;  <span class="comment">// P1 can only subsume P2 if they test the same condition register.</span></div>
<div class="line"><a name="l02301"></a><span class="lineno"> 2301</span>&#160;  <span class="keywordflow">if</span> (Pred1[1].<a class="code" href="MipsDisassembler_8cpp.html#a15b5b86944f6df97d2c3659d77f51f91">getReg</a>() != Pred2[1].<a class="code" href="MipsDisassembler_8cpp.html#a15b5b86944f6df97d2c3659d77f51f91">getReg</a>())</div>
<div class="line"><a name="l02302"></a><span class="lineno"> 2302</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02303"></a><span class="lineno"> 2303</span>&#160; </div>
<div class="line"><a name="l02304"></a><span class="lineno"> 2304</span>&#160;  <a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355">PPC::Predicate</a> P1 = (<a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355">PPC::Predicate</a>) Pred1[0].getImm();</div>
<div class="line"><a name="l02305"></a><span class="lineno"> 2305</span>&#160;  <a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355">PPC::Predicate</a> <a class="code" href="README-SSE_8txt.html#ae7fc2fb0e2d536219c1193f1a178e7db">P2</a> = (<a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355">PPC::Predicate</a>) Pred2[0].getImm();</div>
<div class="line"><a name="l02306"></a><span class="lineno"> 2306</span>&#160; </div>
<div class="line"><a name="l02307"></a><span class="lineno"> 2307</span>&#160;  <span class="keywordflow">if</span> (P1 == <a class="code" href="README-SSE_8txt.html#ae7fc2fb0e2d536219c1193f1a178e7db">P2</a>)</div>
<div class="line"><a name="l02308"></a><span class="lineno"> 2308</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02309"></a><span class="lineno"> 2309</span>&#160; </div>
<div class="line"><a name="l02310"></a><span class="lineno"> 2310</span>&#160;  <span class="comment">// Does P1 subsume P2, e.g. GE subsumes GT.</span></div>
<div class="line"><a name="l02311"></a><span class="lineno"> 2311</span>&#160;  <span class="keywordflow">if</span> (P1 == <a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355ac89b6a30c033abb18a7e81f48b0e3593">PPC::PRED_LE</a> &amp;&amp;</div>
<div class="line"><a name="l02312"></a><span class="lineno"> 2312</span>&#160;      (<a class="code" href="README-SSE_8txt.html#ae7fc2fb0e2d536219c1193f1a178e7db">P2</a> == <a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355a46cd6e935d7b9cc679d9cb0cf025ae91">PPC::PRED_LT</a> || <a class="code" href="README-SSE_8txt.html#ae7fc2fb0e2d536219c1193f1a178e7db">P2</a> == <a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355a34be5288a1bb24e5120358395f7f0dc3">PPC::PRED_EQ</a>))</div>
<div class="line"><a name="l02313"></a><span class="lineno"> 2313</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02314"></a><span class="lineno"> 2314</span>&#160;  <span class="keywordflow">if</span> (P1 == <a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355a44abec85091b571da2189ac4bd139095">PPC::PRED_GE</a> &amp;&amp;</div>
<div class="line"><a name="l02315"></a><span class="lineno"> 2315</span>&#160;      (<a class="code" href="README-SSE_8txt.html#ae7fc2fb0e2d536219c1193f1a178e7db">P2</a> == <a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355a8cd4d49277068c1eab8d4d7c4835b817">PPC::PRED_GT</a> || <a class="code" href="README-SSE_8txt.html#ae7fc2fb0e2d536219c1193f1a178e7db">P2</a> == <a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355a34be5288a1bb24e5120358395f7f0dc3">PPC::PRED_EQ</a>))</div>
<div class="line"><a name="l02316"></a><span class="lineno"> 2316</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02317"></a><span class="lineno"> 2317</span>&#160; </div>
<div class="line"><a name="l02318"></a><span class="lineno"> 2318</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02319"></a><span class="lineno"> 2319</span>&#160;}</div>
<div class="line"><a name="l02320"></a><span class="lineno"> 2320</span>&#160; </div>
<div class="line"><a name="l02321"></a><span class="lineno"><a class="line" href="classllvm_1_1PPCInstrInfo.html#aedcc57df983cf17bab675fab4233ac7d"> 2321</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1PPCInstrInfo.html#aedcc57df983cf17bab675fab4233ac7d">PPCInstrInfo::ClobbersPredicate</a>(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>,</div>
<div class="line"><a name="l02322"></a><span class="lineno"> 2322</span>&#160;                                     std::vector&lt;MachineOperand&gt; &amp;Pred,</div>
<div class="line"><a name="l02323"></a><span class="lineno"> 2323</span>&#160;                                     <span class="keywordtype">bool</span> SkipDead)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l02324"></a><span class="lineno"> 2324</span>&#160;  <span class="comment">// Note: At the present time, the contents of Pred from this function is</span></div>
<div class="line"><a name="l02325"></a><span class="lineno"> 2325</span>&#160;  <span class="comment">// unused by IfConversion. This implementation follows ARM by pushing the</span></div>
<div class="line"><a name="l02326"></a><span class="lineno"> 2326</span>&#160;  <span class="comment">// CR-defining operand. Because the &#39;DZ&#39; and &#39;DNZ&#39; count as types of</span></div>
<div class="line"><a name="l02327"></a><span class="lineno"> 2327</span>&#160;  <span class="comment">// predicate, instructions defining CTR or CTR8 are also included as</span></div>
<div class="line"><a name="l02328"></a><span class="lineno"> 2328</span>&#160;  <span class="comment">// predicate-defining instructions.</span></div>
<div class="line"><a name="l02329"></a><span class="lineno"> 2329</span>&#160; </div>
<div class="line"><a name="l02330"></a><span class="lineno"> 2330</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *RCs[] =</div>
<div class="line"><a name="l02331"></a><span class="lineno"> 2331</span>&#160;    { &amp;PPC::CRRCRegClass, &amp;PPC::CRBITRCRegClass,</div>
<div class="line"><a name="l02332"></a><span class="lineno"> 2332</span>&#160;      &amp;PPC::CTRRCRegClass, &amp;PPC::CTRRC8RegClass };</div>
<div class="line"><a name="l02333"></a><span class="lineno"> 2333</span>&#160; </div>
<div class="line"><a name="l02334"></a><span class="lineno"> 2334</span>&#160;  <span class="keywordtype">bool</span> Found = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02335"></a><span class="lineno"> 2335</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;MO : <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.operands()) {</div>
<div class="line"><a name="l02336"></a><span class="lineno"> 2336</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2ARM_2README_8txt.html#ae3e84a62e4ae19e7766bde30ee72c040">c</a> = 0; <a class="code" href="lib_2Target_2ARM_2README_8txt.html#ae3e84a62e4ae19e7766bde30ee72c040">c</a> &lt; <a class="code" href="lib_2Target_2README_8txt.html#a02def7c594e9f19ff247ed0bf33d1c30">std::size</a>(RCs) &amp;&amp; !Found; ++<a class="code" href="lib_2Target_2ARM_2README_8txt.html#ae3e84a62e4ae19e7766bde30ee72c040">c</a>) {</div>
<div class="line"><a name="l02337"></a><span class="lineno"> 2337</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *RC = RCs[<a class="code" href="lib_2Target_2ARM_2README_8txt.html#ae3e84a62e4ae19e7766bde30ee72c040">c</a>];</div>
<div class="line"><a name="l02338"></a><span class="lineno"> 2338</span>&#160;      <span class="keywordflow">if</span> (MO.isReg()) {</div>
<div class="line"><a name="l02339"></a><span class="lineno"> 2339</span>&#160;        <span class="keywordflow">if</span> (MO.isDef() &amp;&amp; RC-&gt;<a class="code" href="classllvm_1_1TargetRegisterClass.html#a60b6974966381f08079722f2258a0039">contains</a>(MO.getReg())) {</div>
<div class="line"><a name="l02340"></a><span class="lineno"> 2340</span>&#160;          Pred.push_back(MO);</div>
<div class="line"><a name="l02341"></a><span class="lineno"> 2341</span>&#160;          Found = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02342"></a><span class="lineno"> 2342</span>&#160;        }</div>
<div class="line"><a name="l02343"></a><span class="lineno"> 2343</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (MO.isRegMask()) {</div>
<div class="line"><a name="l02344"></a><span class="lineno"> 2344</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="classuint16__t.html">MCPhysReg</a> R : *RC)</div>
<div class="line"><a name="l02345"></a><span class="lineno"> 2345</span>&#160;          <span class="keywordflow">if</span> (MO.clobbersPhysReg(R)) {</div>
<div class="line"><a name="l02346"></a><span class="lineno"> 2346</span>&#160;            Pred.push_back(MO);</div>
<div class="line"><a name="l02347"></a><span class="lineno"> 2347</span>&#160;            Found = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02348"></a><span class="lineno"> 2348</span>&#160;          }</div>
<div class="line"><a name="l02349"></a><span class="lineno"> 2349</span>&#160;      }</div>
<div class="line"><a name="l02350"></a><span class="lineno"> 2350</span>&#160;    }</div>
<div class="line"><a name="l02351"></a><span class="lineno"> 2351</span>&#160;  }</div>
<div class="line"><a name="l02352"></a><span class="lineno"> 2352</span>&#160; </div>
<div class="line"><a name="l02353"></a><span class="lineno"> 2353</span>&#160;  <span class="keywordflow">return</span> Found;</div>
<div class="line"><a name="l02354"></a><span class="lineno"> 2354</span>&#160;}</div>
<div class="line"><a name="l02355"></a><span class="lineno"> 2355</span>&#160; </div>
<div class="line"><a name="l02356"></a><span class="lineno"><a class="line" href="classllvm_1_1PPCInstrInfo.html#abb7303094f9b99f0ca06a9eb606dcb26"> 2356</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1PPCInstrInfo.html#abb7303094f9b99f0ca06a9eb606dcb26">PPCInstrInfo::analyzeCompare</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="classllvm_1_1Register.html">Register</a> &amp;SrcReg,</div>
<div class="line"><a name="l02357"></a><span class="lineno"> 2357</span>&#160;                                  <a class="code" href="classllvm_1_1Register.html">Register</a> &amp;SrcReg2, int64_t &amp;<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>,</div>
<div class="line"><a name="l02358"></a><span class="lineno"> 2358</span>&#160;                                  int64_t &amp;<a class="code" href="classllvm_1_1Value.html">Value</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l02359"></a><span class="lineno"> 2359</span>&#160;  <span class="keywordtype">unsigned</span> Opc = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode();</div>
<div class="line"><a name="l02360"></a><span class="lineno"> 2360</span>&#160; </div>
<div class="line"><a name="l02361"></a><span class="lineno"> 2361</span>&#160;  <span class="keywordflow">switch</span> (Opc) {</div>
<div class="line"><a name="l02362"></a><span class="lineno"> 2362</span>&#160;  <span class="keywordflow">default</span>: <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02363"></a><span class="lineno"> 2363</span>&#160;  <span class="keywordflow">case</span> PPC::CMPWI:</div>
<div class="line"><a name="l02364"></a><span class="lineno"> 2364</span>&#160;  <span class="keywordflow">case</span> PPC::CMPLWI:</div>
<div class="line"><a name="l02365"></a><span class="lineno"> 2365</span>&#160;  <span class="keywordflow">case</span> PPC::CMPDI:</div>
<div class="line"><a name="l02366"></a><span class="lineno"> 2366</span>&#160;  <span class="keywordflow">case</span> PPC::CMPLDI:</div>
<div class="line"><a name="l02367"></a><span class="lineno"> 2367</span>&#160;    SrcReg = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(1).getReg();</div>
<div class="line"><a name="l02368"></a><span class="lineno"> 2368</span>&#160;    SrcReg2 = 0;</div>
<div class="line"><a name="l02369"></a><span class="lineno"> 2369</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(2).getImm();</div>
<div class="line"><a name="l02370"></a><span class="lineno"> 2370</span>&#160;    <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a> = 0xFFFF;</div>
<div class="line"><a name="l02371"></a><span class="lineno"> 2371</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02372"></a><span class="lineno"> 2372</span>&#160;  <span class="keywordflow">case</span> PPC::CMPW:</div>
<div class="line"><a name="l02373"></a><span class="lineno"> 2373</span>&#160;  <span class="keywordflow">case</span> PPC::CMPLW:</div>
<div class="line"><a name="l02374"></a><span class="lineno"> 2374</span>&#160;  <span class="keywordflow">case</span> PPC::CMPD:</div>
<div class="line"><a name="l02375"></a><span class="lineno"> 2375</span>&#160;  <span class="keywordflow">case</span> PPC::CMPLD:</div>
<div class="line"><a name="l02376"></a><span class="lineno"> 2376</span>&#160;  <span class="keywordflow">case</span> PPC::FCMPUS:</div>
<div class="line"><a name="l02377"></a><span class="lineno"> 2377</span>&#160;  <span class="keywordflow">case</span> PPC::FCMPUD:</div>
<div class="line"><a name="l02378"></a><span class="lineno"> 2378</span>&#160;    SrcReg = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(1).getReg();</div>
<div class="line"><a name="l02379"></a><span class="lineno"> 2379</span>&#160;    SrcReg2 = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(2).getReg();</div>
<div class="line"><a name="l02380"></a><span class="lineno"> 2380</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> = 0;</div>
<div class="line"><a name="l02381"></a><span class="lineno"> 2381</span>&#160;    <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a> = 0;</div>
<div class="line"><a name="l02382"></a><span class="lineno"> 2382</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02383"></a><span class="lineno"> 2383</span>&#160;  }</div>
<div class="line"><a name="l02384"></a><span class="lineno"> 2384</span>&#160;}</div>
<div class="line"><a name="l02385"></a><span class="lineno"> 2385</span>&#160; </div>
<div class="line"><a name="l02386"></a><span class="lineno"><a class="line" href="classllvm_1_1PPCInstrInfo.html#a8118d9f62c345028220579c9d1ca4061"> 2386</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1PPCInstrInfo.html#a8118d9f62c345028220579c9d1ca4061">PPCInstrInfo::optimizeCompareInstr</a>(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;CmpInstr, <a class="code" href="classllvm_1_1Register.html">Register</a> SrcReg,</div>
<div class="line"><a name="l02387"></a><span class="lineno"> 2387</span>&#160;                                        <a class="code" href="classllvm_1_1Register.html">Register</a> SrcReg2, int64_t <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>,</div>
<div class="line"><a name="l02388"></a><span class="lineno"> 2388</span>&#160;                                        int64_t <a class="code" href="classllvm_1_1Value.html">Value</a>,</div>
<div class="line"><a name="l02389"></a><span class="lineno"> 2389</span>&#160;                                        <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> *<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l02390"></a><span class="lineno"> 2390</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="PPCInstrInfo_8cpp.html#a93c546def4cf10e701699eba921b3532">DisableCmpOpt</a>)</div>
<div class="line"><a name="l02391"></a><span class="lineno"> 2391</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02392"></a><span class="lineno"> 2392</span>&#160; </div>
<div class="line"><a name="l02393"></a><span class="lineno"> 2393</span>&#160;  <span class="keywordtype">int</span> OpC = CmpInstr.<a class="code" href="classllvm_1_1MachineInstr.html#a0363204b5fbab08a46f5a7cd7f376f78">getOpcode</a>();</div>
<div class="line"><a name="l02394"></a><span class="lineno"> 2394</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> CRReg = CmpInstr.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>();</div>
<div class="line"><a name="l02395"></a><span class="lineno"> 2395</span>&#160; </div>
<div class="line"><a name="l02396"></a><span class="lineno"> 2396</span>&#160;  <span class="comment">// FP record forms set CR1 based on the exception status bits, not a</span></div>
<div class="line"><a name="l02397"></a><span class="lineno"> 2397</span>&#160;  <span class="comment">// comparison with zero.</span></div>
<div class="line"><a name="l02398"></a><span class="lineno"> 2398</span>&#160;  <span class="keywordflow">if</span> (OpC == PPC::FCMPUS || OpC == PPC::FCMPUD)</div>
<div class="line"><a name="l02399"></a><span class="lineno"> 2399</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02400"></a><span class="lineno"> 2400</span>&#160; </div>
<div class="line"><a name="l02401"></a><span class="lineno"> 2401</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterInfo.html">TargetRegisterInfo</a> *<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a> = &amp;<a class="code" href="classllvm_1_1PPCInstrInfo.html#a7736d6dc0c4303c59d1192988b8919e9">getRegisterInfo</a>();</div>
<div class="line"><a name="l02402"></a><span class="lineno"> 2402</span>&#160;  <span class="comment">// The record forms set the condition register based on a signed comparison</span></div>
<div class="line"><a name="l02403"></a><span class="lineno"> 2403</span>&#160;  <span class="comment">// with zero (so says the ISA manual). This is not as straightforward as it</span></div>
<div class="line"><a name="l02404"></a><span class="lineno"> 2404</span>&#160;  <span class="comment">// seems, however, because this is always a 64-bit comparison on PPC64, even</span></div>
<div class="line"><a name="l02405"></a><span class="lineno"> 2405</span>&#160;  <span class="comment">// for instructions that are 32-bit in nature (like slw for example).</span></div>
<div class="line"><a name="l02406"></a><span class="lineno"> 2406</span>&#160;  <span class="comment">// So, on PPC32, for unsigned comparisons, we can use the record forms only</span></div>
<div class="line"><a name="l02407"></a><span class="lineno"> 2407</span>&#160;  <span class="comment">// for equality checks (as those don&#39;t depend on the sign). On PPC64,</span></div>
<div class="line"><a name="l02408"></a><span class="lineno"> 2408</span>&#160;  <span class="comment">// we are restricted to equality for unsigned 64-bit comparisons and for</span></div>
<div class="line"><a name="l02409"></a><span class="lineno"> 2409</span>&#160;  <span class="comment">// signed 32-bit comparisons the applicability is more restricted.</span></div>
<div class="line"><a name="l02410"></a><span class="lineno"> 2410</span>&#160;  <span class="keywordtype">bool</span> isPPC64 = Subtarget.<a class="code" href="classllvm_1_1PPCSubtarget.html#a6622b99b3c00a3938d969957312b1b52">isPPC64</a>();</div>
<div class="line"><a name="l02411"></a><span class="lineno"> 2411</span>&#160;  <span class="keywordtype">bool</span> is32BitSignedCompare   = OpC ==  PPC::CMPWI || OpC == PPC::CMPW;</div>
<div class="line"><a name="l02412"></a><span class="lineno"> 2412</span>&#160;  <span class="keywordtype">bool</span> is32BitUnsignedCompare = OpC == PPC::CMPLWI || OpC == PPC::CMPLW;</div>
<div class="line"><a name="l02413"></a><span class="lineno"> 2413</span>&#160;  <span class="keywordtype">bool</span> is64BitUnsignedCompare = OpC == PPC::CMPLDI || OpC == PPC::CMPLD;</div>
<div class="line"><a name="l02414"></a><span class="lineno"> 2414</span>&#160; </div>
<div class="line"><a name="l02415"></a><span class="lineno"> 2415</span>&#160;  <span class="comment">// Look through copies unless that gets us to a physical register.</span></div>
<div class="line"><a name="l02416"></a><span class="lineno"> 2416</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> ActualSrc = <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>-&gt;<a class="code" href="classllvm_1_1TargetRegisterInfo.html#a965fc42d34bd3c15f23cd8cfd31d6ad6">lookThruCopyLike</a>(SrcReg, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>);</div>
<div class="line"><a name="l02417"></a><span class="lineno"> 2417</span>&#160;  <span class="keywordflow">if</span> (ActualSrc.<a class="code" href="classllvm_1_1Register.html#aebafd86dde59b5a05b22e8720e808a9d">isVirtual</a>())</div>
<div class="line"><a name="l02418"></a><span class="lineno"> 2418</span>&#160;    SrcReg = ActualSrc;</div>
<div class="line"><a name="l02419"></a><span class="lineno"> 2419</span>&#160; </div>
<div class="line"><a name="l02420"></a><span class="lineno"> 2420</span>&#160;  <span class="comment">// Get the unique definition of SrcReg.</span></div>
<div class="line"><a name="l02421"></a><span class="lineno"> 2421</span>&#160;  <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a> = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>-&gt;<a class="code" href="classllvm_1_1MachineRegisterInfo.html#af988c2b4f62506108843a0fdc04b43a2">getUniqueVRegDef</a>(SrcReg);</div>
<div class="line"><a name="l02422"></a><span class="lineno"> 2422</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02423"></a><span class="lineno"> 2423</span>&#160; </div>
<div class="line"><a name="l02424"></a><span class="lineno"> 2424</span>&#160;  <span class="keywordtype">bool</span> equalityOnly = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02425"></a><span class="lineno"> 2425</span>&#160;  <span class="keywordtype">bool</span> noSub = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02426"></a><span class="lineno"> 2426</span>&#160;  <span class="keywordflow">if</span> (isPPC64) {</div>
<div class="line"><a name="l02427"></a><span class="lineno"> 2427</span>&#160;    <span class="keywordflow">if</span> (is32BitSignedCompare) {</div>
<div class="line"><a name="l02428"></a><span class="lineno"> 2428</span>&#160;      <span class="comment">// We can perform this optimization only if SrcReg is sign-extending.</span></div>
<div class="line"><a name="l02429"></a><span class="lineno"> 2429</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1PPCInstrInfo.html#ad5cc934c55e1ea5f64d3493dcbc3b758">isSignExtended</a>(SrcReg, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>))</div>
<div class="line"><a name="l02430"></a><span class="lineno"> 2430</span>&#160;        noSub = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02431"></a><span class="lineno"> 2431</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l02432"></a><span class="lineno"> 2432</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02433"></a><span class="lineno"> 2433</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (is32BitUnsignedCompare) {</div>
<div class="line"><a name="l02434"></a><span class="lineno"> 2434</span>&#160;      <span class="comment">// We can perform this optimization, equality only, if SrcReg is</span></div>
<div class="line"><a name="l02435"></a><span class="lineno"> 2435</span>&#160;      <span class="comment">// zero-extending.</span></div>
<div class="line"><a name="l02436"></a><span class="lineno"> 2436</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1PPCInstrInfo.html#a7640b7b696150d562dad41bf6dfd8d02">isZeroExtended</a>(SrcReg, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>)) {</div>
<div class="line"><a name="l02437"></a><span class="lineno"> 2437</span>&#160;        noSub = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02438"></a><span class="lineno"> 2438</span>&#160;        equalityOnly = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02439"></a><span class="lineno"> 2439</span>&#160;      } <span class="keywordflow">else</span></div>
<div class="line"><a name="l02440"></a><span class="lineno"> 2440</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02441"></a><span class="lineno"> 2441</span>&#160;    } <span class="keywordflow">else</span></div>
<div class="line"><a name="l02442"></a><span class="lineno"> 2442</span>&#160;      equalityOnly = is64BitUnsignedCompare;</div>
<div class="line"><a name="l02443"></a><span class="lineno"> 2443</span>&#160;  } <span class="keywordflow">else</span></div>
<div class="line"><a name="l02444"></a><span class="lineno"> 2444</span>&#160;    equalityOnly = is32BitUnsignedCompare;</div>
<div class="line"><a name="l02445"></a><span class="lineno"> 2445</span>&#160; </div>
<div class="line"><a name="l02446"></a><span class="lineno"> 2446</span>&#160;  <span class="keywordflow">if</span> (equalityOnly) {</div>
<div class="line"><a name="l02447"></a><span class="lineno"> 2447</span>&#160;    <span class="comment">// We need to check the uses of the condition register in order to reject</span></div>
<div class="line"><a name="l02448"></a><span class="lineno"> 2448</span>&#160;    <span class="comment">// non-equality comparisons.</span></div>
<div class="line"><a name="l02449"></a><span class="lineno"> 2449</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MachineRegisterInfo_1_1defusechain__instr__iterator.html">MachineRegisterInfo::use_instr_iterator</a></div>
<div class="line"><a name="l02450"></a><span class="lineno"> 2450</span>&#160;         <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>-&gt;<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a489d8c4ed3ae8b1ca4f68e580b074bf1">use_instr_begin</a>(CRReg), <a class="code" href="namespacellvm_1_1ARM__PROC.html#a1add7850fad3f66c140ecee871460ea4ae9d798593a4a6b5cc48486a453a59e5e">IE</a> = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>-&gt;<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a7a73104304bf1f9d344ad495283561b5">use_instr_end</a>();</div>
<div class="line"><a name="l02451"></a><span class="lineno"> 2451</span>&#160;         <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != <a class="code" href="namespacellvm_1_1ARM__PROC.html#a1add7850fad3f66c140ecee871460ea4ae9d798593a4a6b5cc48486a453a59e5e">IE</a>; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l02452"></a><span class="lineno"> 2452</span>&#160;      <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#a6cf2f8996b1e9aaf2d7a435aaa62382f">UseMI</a> = &amp;*<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div>
<div class="line"><a name="l02453"></a><span class="lineno"> 2453</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#a6cf2f8996b1e9aaf2d7a435aaa62382f">UseMI</a>-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a0363204b5fbab08a46f5a7cd7f376f78">getOpcode</a>() == PPC::BCC) {</div>
<div class="line"><a name="l02454"></a><span class="lineno"> 2454</span>&#160;        <a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355">PPC::Predicate</a> Pred = (<a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355">PPC::Predicate</a>)<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#a6cf2f8996b1e9aaf2d7a435aaa62382f">UseMI</a>-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#a38b28a85f818b49d8806c150b8a5b4f7">getImm</a>();</div>
<div class="line"><a name="l02455"></a><span class="lineno"> 2455</span>&#160;        <span class="keywordtype">unsigned</span> PredCond = <a class="code" href="namespacellvm_1_1PPC.html#a2624042e885fc1d665e8fc01a0ab390b">PPC::getPredicateCondition</a>(Pred);</div>
<div class="line"><a name="l02456"></a><span class="lineno"> 2456</span>&#160;        <span class="comment">// We ignore hint bits when checking for non-equality comparisons.</span></div>
<div class="line"><a name="l02457"></a><span class="lineno"> 2457</span>&#160;        <span class="keywordflow">if</span> (PredCond != <a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355a34be5288a1bb24e5120358395f7f0dc3">PPC::PRED_EQ</a> &amp;&amp; PredCond != <a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355ad9add708b3d9680d64242cf06f448462">PPC::PRED_NE</a>)</div>
<div class="line"><a name="l02458"></a><span class="lineno"> 2458</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02459"></a><span class="lineno"> 2459</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#a6cf2f8996b1e9aaf2d7a435aaa62382f">UseMI</a>-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a0363204b5fbab08a46f5a7cd7f376f78">getOpcode</a>() == <a class="code" href="namespacellvm_1_1HexagonISD.html#ab37bf6c49bc26c43ddd958218f63ba00a0fbe77e798cb4b9c9a3e62f4d2085395">PPC::ISEL</a> ||</div>
<div class="line"><a name="l02460"></a><span class="lineno"> 2460</span>&#160;                 <a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#a6cf2f8996b1e9aaf2d7a435aaa62382f">UseMI</a>-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a0363204b5fbab08a46f5a7cd7f376f78">getOpcode</a>() == PPC::ISEL8) {</div>
<div class="line"><a name="l02461"></a><span class="lineno"> 2461</span>&#160;        <span class="keywordtype">unsigned</span> SubIdx = <a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#a6cf2f8996b1e9aaf2d7a435aaa62382f">UseMI</a>-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(3).<a class="code" href="classllvm_1_1MachineOperand.html#a028a8c5113d40d8c3f4427053bf36738">getSubReg</a>();</div>
<div class="line"><a name="l02462"></a><span class="lineno"> 2462</span>&#160;        <span class="keywordflow">if</span> (SubIdx != PPC::sub_eq)</div>
<div class="line"><a name="l02463"></a><span class="lineno"> 2463</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02464"></a><span class="lineno"> 2464</span>&#160;      } <span class="keywordflow">else</span></div>
<div class="line"><a name="l02465"></a><span class="lineno"> 2465</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02466"></a><span class="lineno"> 2466</span>&#160;    }</div>
<div class="line"><a name="l02467"></a><span class="lineno"> 2467</span>&#160;  }</div>
<div class="line"><a name="l02468"></a><span class="lineno"> 2468</span>&#160; </div>
<div class="line"><a name="l02469"></a><span class="lineno"> 2469</span>&#160;  <a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = CmpInstr;</div>
<div class="line"><a name="l02470"></a><span class="lineno"> 2470</span>&#160; </div>
<div class="line"><a name="l02471"></a><span class="lineno"> 2471</span>&#160;  <span class="comment">// Scan forward to find the first use of the compare.</span></div>
<div class="line"><a name="l02472"></a><span class="lineno"> 2472</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::iterator</a> EL = CmpInstr.<a class="code" href="classllvm_1_1MachineInstr.html#a002fd916e7206e01d512eeb06d405cf0">getParent</a>()-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">end</a>(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != EL;</div>
<div class="line"><a name="l02473"></a><span class="lineno"> 2473</span>&#160;       ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l02474"></a><span class="lineno"> 2474</span>&#160;    <span class="keywordtype">bool</span> FoundUse = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02475"></a><span class="lineno"> 2475</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MachineRegisterInfo_1_1defusechain__instr__iterator.html">MachineRegisterInfo::use_instr_iterator</a></div>
<div class="line"><a name="l02476"></a><span class="lineno"> 2476</span>&#160;         J = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>-&gt;<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a489d8c4ed3ae8b1ca4f68e580b074bf1">use_instr_begin</a>(CRReg), JE = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>-&gt;<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a7a73104304bf1f9d344ad495283561b5">use_instr_end</a>();</div>
<div class="line"><a name="l02477"></a><span class="lineno"> 2477</span>&#160;         J != JE; ++J)</div>
<div class="line"><a name="l02478"></a><span class="lineno"> 2478</span>&#160;      <span class="keywordflow">if</span> (&amp;*J == &amp;*<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l02479"></a><span class="lineno"> 2479</span>&#160;        FoundUse = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02480"></a><span class="lineno"> 2480</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02481"></a><span class="lineno"> 2481</span>&#160;      }</div>
<div class="line"><a name="l02482"></a><span class="lineno"> 2482</span>&#160; </div>
<div class="line"><a name="l02483"></a><span class="lineno"> 2483</span>&#160;    <span class="keywordflow">if</span> (FoundUse)</div>
<div class="line"><a name="l02484"></a><span class="lineno"> 2484</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02485"></a><span class="lineno"> 2485</span>&#160;  }</div>
<div class="line"><a name="l02486"></a><span class="lineno"> 2486</span>&#160; </div>
<div class="line"><a name="l02487"></a><span class="lineno"> 2487</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;std::pair&lt;MachineOperand*, PPC::Predicate&gt;</a>, 4&gt; PredsToUpdate;</div>
<div class="line"><a name="l02488"></a><span class="lineno"> 2488</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;std::pair&lt;MachineOperand*, unsigned&gt;</a>, 4&gt; SubRegsToUpdate;</div>
<div class="line"><a name="l02489"></a><span class="lineno"> 2489</span>&#160; </div>
<div class="line"><a name="l02490"></a><span class="lineno"> 2490</span>&#160;  <span class="comment">// There are two possible candidates which can be changed to set CR[01].</span></div>
<div class="line"><a name="l02491"></a><span class="lineno"> 2491</span>&#160;  <span class="comment">// One is MI, the other is a SUB instruction.</span></div>
<div class="line"><a name="l02492"></a><span class="lineno"> 2492</span>&#160;  <span class="comment">// For CMPrr(r1,r2), we are looking for SUB(r1,r2) or SUB(r2,r1).</span></div>
<div class="line"><a name="l02493"></a><span class="lineno"> 2493</span>&#160;  <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *Sub = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02494"></a><span class="lineno"> 2494</span>&#160;  <span class="keywordflow">if</span> (SrcReg2 != 0)</div>
<div class="line"><a name="l02495"></a><span class="lineno"> 2495</span>&#160;    <span class="comment">// MI is not a candidate for CMPrr.</span></div>
<div class="line"><a name="l02496"></a><span class="lineno"> 2496</span>&#160;    <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02497"></a><span class="lineno"> 2497</span>&#160;  <span class="comment">// FIXME: Conservatively refuse to convert an instruction which isn&#39;t in the</span></div>
<div class="line"><a name="l02498"></a><span class="lineno"> 2498</span>&#160;  <span class="comment">// same BB as the comparison. This is to allow the check below to avoid calls</span></div>
<div class="line"><a name="l02499"></a><span class="lineno"> 2499</span>&#160;  <span class="comment">// (and other explicit clobbers); instead we should really check for these</span></div>
<div class="line"><a name="l02500"></a><span class="lineno"> 2500</span>&#160;  <span class="comment">// more explicitly (in at least a few predecessors).</span></div>
<div class="line"><a name="l02501"></a><span class="lineno"> 2501</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getParent() != CmpInstr.<a class="code" href="classllvm_1_1MachineInstr.html#a002fd916e7206e01d512eeb06d405cf0">getParent</a>())</div>
<div class="line"><a name="l02502"></a><span class="lineno"> 2502</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02503"></a><span class="lineno"> 2503</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> != 0) {</div>
<div class="line"><a name="l02504"></a><span class="lineno"> 2504</span>&#160;    <span class="comment">// The record-form instructions set CR bit based on signed comparison</span></div>
<div class="line"><a name="l02505"></a><span class="lineno"> 2505</span>&#160;    <span class="comment">// against 0. We try to convert a compare against 1 or -1 into a compare</span></div>
<div class="line"><a name="l02506"></a><span class="lineno"> 2506</span>&#160;    <span class="comment">// against 0 to exploit record-form instructions. For example, we change</span></div>
<div class="line"><a name="l02507"></a><span class="lineno"> 2507</span>&#160;    <span class="comment">// the condition &quot;greater than -1&quot; into &quot;greater than or equal to 0&quot;</span></div>
<div class="line"><a name="l02508"></a><span class="lineno"> 2508</span>&#160;    <span class="comment">// and &quot;less than 1&quot; into &quot;less than or equal to 0&quot;.</span></div>
<div class="line"><a name="l02509"></a><span class="lineno"> 2509</span>&#160; </div>
<div class="line"><a name="l02510"></a><span class="lineno"> 2510</span>&#160;    <span class="comment">// Since we optimize comparison based on a specific branch condition,</span></div>
<div class="line"><a name="l02511"></a><span class="lineno"> 2511</span>&#160;    <span class="comment">// we don&#39;t optimize if condition code is used by more than once.</span></div>
<div class="line"><a name="l02512"></a><span class="lineno"> 2512</span>&#160;    <span class="keywordflow">if</span> (equalityOnly || !<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>-&gt;<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a600a2d410c09a9486e828ea34e5a9566">hasOneUse</a>(CRReg))</div>
<div class="line"><a name="l02513"></a><span class="lineno"> 2513</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02514"></a><span class="lineno"> 2514</span>&#160; </div>
<div class="line"><a name="l02515"></a><span class="lineno"> 2515</span>&#160;    <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#a6cf2f8996b1e9aaf2d7a435aaa62382f">UseMI</a> = &amp;*<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>-&gt;<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a489d8c4ed3ae8b1ca4f68e580b074bf1">use_instr_begin</a>(CRReg);</div>
<div class="line"><a name="l02516"></a><span class="lineno"> 2516</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#a6cf2f8996b1e9aaf2d7a435aaa62382f">UseMI</a>-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a0363204b5fbab08a46f5a7cd7f376f78">getOpcode</a>() != PPC::BCC)</div>
<div class="line"><a name="l02517"></a><span class="lineno"> 2517</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02518"></a><span class="lineno"> 2518</span>&#160; </div>
<div class="line"><a name="l02519"></a><span class="lineno"> 2519</span>&#160;    <a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355">PPC::Predicate</a> Pred = (<a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355">PPC::Predicate</a>)<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#a6cf2f8996b1e9aaf2d7a435aaa62382f">UseMI</a>-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#a38b28a85f818b49d8806c150b8a5b4f7">getImm</a>();</div>
<div class="line"><a name="l02520"></a><span class="lineno"> 2520</span>&#160;    <span class="keywordtype">unsigned</span> PredCond = <a class="code" href="namespacellvm_1_1PPC.html#a2624042e885fc1d665e8fc01a0ab390b">PPC::getPredicateCondition</a>(Pred);</div>
<div class="line"><a name="l02521"></a><span class="lineno"> 2521</span>&#160;    <span class="keywordtype">unsigned</span> PredHint = <a class="code" href="namespacellvm_1_1PPC.html#a5f7348f565ebb68dc08979b2808300c5">PPC::getPredicateHint</a>(Pred);</div>
<div class="line"><a name="l02522"></a><span class="lineno"> 2522</span>&#160;    int16_t Immed = (int16_t)<a class="code" href="classllvm_1_1Value.html">Value</a>;</div>
<div class="line"><a name="l02523"></a><span class="lineno"> 2523</span>&#160; </div>
<div class="line"><a name="l02524"></a><span class="lineno"> 2524</span>&#160;    <span class="comment">// When modifying the condition in the predicate, we propagate hint bits</span></div>
<div class="line"><a name="l02525"></a><span class="lineno"> 2525</span>&#160;    <span class="comment">// from the original predicate to the new one.</span></div>
<div class="line"><a name="l02526"></a><span class="lineno"> 2526</span>&#160;    <span class="keywordflow">if</span> (Immed == -1 &amp;&amp; PredCond == <a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355a8cd4d49277068c1eab8d4d7c4835b817">PPC::PRED_GT</a>)</div>
<div class="line"><a name="l02527"></a><span class="lineno"> 2527</span>&#160;      <span class="comment">// We convert &quot;greater than -1&quot; into &quot;greater than or equal to 0&quot;,</span></div>
<div class="line"><a name="l02528"></a><span class="lineno"> 2528</span>&#160;      <span class="comment">// since we are assuming signed comparison by !equalityOnly</span></div>
<div class="line"><a name="l02529"></a><span class="lineno"> 2529</span>&#160;      Pred = <a class="code" href="namespacellvm_1_1PPC.html#a40c2294c9ecba721df7f29aaf05157d8">PPC::getPredicate</a>(<a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355a44abec85091b571da2189ac4bd139095">PPC::PRED_GE</a>, PredHint);</div>
<div class="line"><a name="l02530"></a><span class="lineno"> 2530</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Immed == -1 &amp;&amp; PredCond == <a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355ac89b6a30c033abb18a7e81f48b0e3593">PPC::PRED_LE</a>)</div>
<div class="line"><a name="l02531"></a><span class="lineno"> 2531</span>&#160;      <span class="comment">// We convert &quot;less than or equal to -1&quot; into &quot;less than 0&quot;.</span></div>
<div class="line"><a name="l02532"></a><span class="lineno"> 2532</span>&#160;      Pred = <a class="code" href="namespacellvm_1_1PPC.html#a40c2294c9ecba721df7f29aaf05157d8">PPC::getPredicate</a>(<a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355a46cd6e935d7b9cc679d9cb0cf025ae91">PPC::PRED_LT</a>, PredHint);</div>
<div class="line"><a name="l02533"></a><span class="lineno"> 2533</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Immed == 1 &amp;&amp; PredCond == <a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355a46cd6e935d7b9cc679d9cb0cf025ae91">PPC::PRED_LT</a>)</div>
<div class="line"><a name="l02534"></a><span class="lineno"> 2534</span>&#160;      <span class="comment">// We convert &quot;less than 1&quot; into &quot;less than or equal to 0&quot;.</span></div>
<div class="line"><a name="l02535"></a><span class="lineno"> 2535</span>&#160;      Pred = <a class="code" href="namespacellvm_1_1PPC.html#a40c2294c9ecba721df7f29aaf05157d8">PPC::getPredicate</a>(<a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355ac89b6a30c033abb18a7e81f48b0e3593">PPC::PRED_LE</a>, PredHint);</div>
<div class="line"><a name="l02536"></a><span class="lineno"> 2536</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Immed == 1 &amp;&amp; PredCond == <a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355a44abec85091b571da2189ac4bd139095">PPC::PRED_GE</a>)</div>
<div class="line"><a name="l02537"></a><span class="lineno"> 2537</span>&#160;      <span class="comment">// We convert &quot;greater than or equal to 1&quot; into &quot;greater than 0&quot;.</span></div>
<div class="line"><a name="l02538"></a><span class="lineno"> 2538</span>&#160;      Pred = <a class="code" href="namespacellvm_1_1PPC.html#a40c2294c9ecba721df7f29aaf05157d8">PPC::getPredicate</a>(<a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355a8cd4d49277068c1eab8d4d7c4835b817">PPC::PRED_GT</a>, PredHint);</div>
<div class="line"><a name="l02539"></a><span class="lineno"> 2539</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l02540"></a><span class="lineno"> 2540</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02541"></a><span class="lineno"> 2541</span>&#160; </div>
<div class="line"><a name="l02542"></a><span class="lineno"> 2542</span>&#160;    <span class="comment">// Convert the comparison and its user to a compare against zero with the</span></div>
<div class="line"><a name="l02543"></a><span class="lineno"> 2543</span>&#160;    <span class="comment">// appropriate predicate on the branch. Zero comparison might provide</span></div>
<div class="line"><a name="l02544"></a><span class="lineno"> 2544</span>&#160;    <span class="comment">// optimization opportunities post-RA (see optimization in</span></div>
<div class="line"><a name="l02545"></a><span class="lineno"> 2545</span>&#160;    <span class="comment">// PPCPreEmitPeephole.cpp).</span></div>
<div class="line"><a name="l02546"></a><span class="lineno"> 2546</span>&#160;    <a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#a6cf2f8996b1e9aaf2d7a435aaa62382f">UseMI</a>-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#a2feaa1c69335c6b9028076cd68c7a5f5">setImm</a>(Pred);</div>
<div class="line"><a name="l02547"></a><span class="lineno"> 2547</span>&#160;    CmpInstr.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(2).<a class="code" href="classllvm_1_1MachineOperand.html#a2feaa1c69335c6b9028076cd68c7a5f5">setImm</a>(0);</div>
<div class="line"><a name="l02548"></a><span class="lineno"> 2548</span>&#160;  }</div>
<div class="line"><a name="l02549"></a><span class="lineno"> 2549</span>&#160; </div>
<div class="line"><a name="l02550"></a><span class="lineno"> 2550</span>&#160;  <span class="comment">// Search for Sub.</span></div>
<div class="line"><a name="l02551"></a><span class="lineno"> 2551</span>&#160;  --<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div>
<div class="line"><a name="l02552"></a><span class="lineno"> 2552</span>&#160; </div>
<div class="line"><a name="l02553"></a><span class="lineno"> 2553</span>&#160;  <span class="comment">// Get ready to iterate backward from CmpInstr.</span></div>
<div class="line"><a name="l02554"></a><span class="lineno"> 2554</span>&#160;  <a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::iterator</a> <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a> = CmpInstr.<a class="code" href="classllvm_1_1MachineInstr.html#a002fd916e7206e01d512eeb06d405cf0">getParent</a>()-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#ab2d91e7bec944efcbc39d8e30644f111">begin</a>();</div>
<div class="line"><a name="l02555"></a><span class="lineno"> 2555</span>&#160; </div>
<div class="line"><a name="l02556"></a><span class="lineno"> 2556</span>&#160;  <span class="keywordflow">for</span> (; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> &amp;&amp; !noSub; --<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l02557"></a><span class="lineno"> 2557</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;Instr = *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div>
<div class="line"><a name="l02558"></a><span class="lineno"> 2558</span>&#160;    <span class="keywordtype">unsigned</span> IOpC = Instr.<a class="code" href="classllvm_1_1MachineInstr.html#a0363204b5fbab08a46f5a7cd7f376f78">getOpcode</a>();</div>
<div class="line"><a name="l02559"></a><span class="lineno"> 2559</span>&#160; </div>
<div class="line"><a name="l02560"></a><span class="lineno"> 2560</span>&#160;    <span class="keywordflow">if</span> (&amp;*<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != &amp;CmpInstr &amp;&amp; (Instr.<a class="code" href="classllvm_1_1MachineInstr.html#a51ce0e26e3104546c097c88c84033198">modifiesRegister</a>(PPC::CR0, <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>) ||</div>
<div class="line"><a name="l02561"></a><span class="lineno"> 2561</span>&#160;                             Instr.<a class="code" href="classllvm_1_1MachineInstr.html#abe04ffc605f0c3a48a581cdb3ded2df4">readsRegister</a>(PPC::CR0, <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>)))</div>
<div class="line"><a name="l02562"></a><span class="lineno"> 2562</span>&#160;      <span class="comment">// This instruction modifies or uses the record condition register after</span></div>
<div class="line"><a name="l02563"></a><span class="lineno"> 2563</span>&#160;      <span class="comment">// the one we want to change. While we could do this transformation, it</span></div>
<div class="line"><a name="l02564"></a><span class="lineno"> 2564</span>&#160;      <span class="comment">// would likely not be profitable. This transformation removes one</span></div>
<div class="line"><a name="l02565"></a><span class="lineno"> 2565</span>&#160;      <span class="comment">// instruction, and so even forcing RA to generate one move probably</span></div>
<div class="line"><a name="l02566"></a><span class="lineno"> 2566</span>&#160;      <span class="comment">// makes it unprofitable.</span></div>
<div class="line"><a name="l02567"></a><span class="lineno"> 2567</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02568"></a><span class="lineno"> 2568</span>&#160; </div>
<div class="line"><a name="l02569"></a><span class="lineno"> 2569</span>&#160;    <span class="comment">// Check whether CmpInstr can be made redundant by the current instruction.</span></div>
<div class="line"><a name="l02570"></a><span class="lineno"> 2570</span>&#160;    <span class="keywordflow">if</span> ((OpC == PPC::CMPW || OpC == PPC::CMPLW ||</div>
<div class="line"><a name="l02571"></a><span class="lineno"> 2571</span>&#160;         OpC == PPC::CMPD || OpC == PPC::CMPLD) &amp;&amp;</div>
<div class="line"><a name="l02572"></a><span class="lineno"> 2572</span>&#160;        (IOpC == PPC::SUBF || IOpC == PPC::SUBF8) &amp;&amp;</div>
<div class="line"><a name="l02573"></a><span class="lineno"> 2573</span>&#160;        ((Instr.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(1).<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>() == SrcReg &amp;&amp;</div>
<div class="line"><a name="l02574"></a><span class="lineno"> 2574</span>&#160;          Instr.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(2).<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>() == SrcReg2) ||</div>
<div class="line"><a name="l02575"></a><span class="lineno"> 2575</span>&#160;        (Instr.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(1).<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>() == SrcReg2 &amp;&amp;</div>
<div class="line"><a name="l02576"></a><span class="lineno"> 2576</span>&#160;         Instr.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(2).<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>() == SrcReg))) {</div>
<div class="line"><a name="l02577"></a><span class="lineno"> 2577</span>&#160;      Sub = &amp;*<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div>
<div class="line"><a name="l02578"></a><span class="lineno"> 2578</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02579"></a><span class="lineno"> 2579</span>&#160;    }</div>
<div class="line"><a name="l02580"></a><span class="lineno"> 2580</span>&#160; </div>
<div class="line"><a name="l02581"></a><span class="lineno"> 2581</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> == <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>)</div>
<div class="line"><a name="l02582"></a><span class="lineno"> 2582</span>&#160;      <span class="comment">// The &#39;and&#39; is below the comparison instruction.</span></div>
<div class="line"><a name="l02583"></a><span class="lineno"> 2583</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02584"></a><span class="lineno"> 2584</span>&#160;  }</div>
<div class="line"><a name="l02585"></a><span class="lineno"> 2585</span>&#160; </div>
<div class="line"><a name="l02586"></a><span class="lineno"> 2586</span>&#160;  <span class="comment">// Return false if no candidates exist.</span></div>
<div class="line"><a name="l02587"></a><span class="lineno"> 2587</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a> &amp;&amp; !Sub)</div>
<div class="line"><a name="l02588"></a><span class="lineno"> 2588</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02589"></a><span class="lineno"> 2589</span>&#160; </div>
<div class="line"><a name="l02590"></a><span class="lineno"> 2590</span>&#160;  <span class="comment">// The single candidate is called MI.</span></div>
<div class="line"><a name="l02591"></a><span class="lineno"> 2591</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>) <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a> = Sub;</div>
<div class="line"><a name="l02592"></a><span class="lineno"> 2592</span>&#160; </div>
<div class="line"><a name="l02593"></a><span class="lineno"> 2593</span>&#160;  <span class="keywordtype">int</span> NewOpC = -1;</div>
<div class="line"><a name="l02594"></a><span class="lineno"> 2594</span>&#160;  <span class="keywordtype">int</span> MIOpC = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getOpcode();</div>
<div class="line"><a name="l02595"></a><span class="lineno"> 2595</span>&#160;  <span class="keywordflow">if</span> (MIOpC == PPC::ANDI_rec || MIOpC == PPC::ANDI8_rec ||</div>
<div class="line"><a name="l02596"></a><span class="lineno"> 2596</span>&#160;      MIOpC == PPC::ANDIS_rec || MIOpC == PPC::ANDIS8_rec)</div>
<div class="line"><a name="l02597"></a><span class="lineno"> 2597</span>&#160;    NewOpC = MIOpC;</div>
<div class="line"><a name="l02598"></a><span class="lineno"> 2598</span>&#160;  <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02599"></a><span class="lineno"> 2599</span>&#160;    NewOpC = PPC::getRecordFormOpcode(MIOpC);</div>
<div class="line"><a name="l02600"></a><span class="lineno"> 2600</span>&#160;    <span class="keywordflow">if</span> (NewOpC == -1 &amp;&amp; <a class="code" href="namespacellvm_1_1PPC.html#a2108c96efd9d9e1b89dd25b89a23ed1a">PPC::getNonRecordFormOpcode</a>(MIOpC) != -1)</div>
<div class="line"><a name="l02601"></a><span class="lineno"> 2601</span>&#160;      NewOpC = MIOpC;</div>
<div class="line"><a name="l02602"></a><span class="lineno"> 2602</span>&#160;  }</div>
<div class="line"><a name="l02603"></a><span class="lineno"> 2603</span>&#160; </div>
<div class="line"><a name="l02604"></a><span class="lineno"> 2604</span>&#160;  <span class="comment">// FIXME: On the non-embedded POWER architectures, only some of the record</span></div>
<div class="line"><a name="l02605"></a><span class="lineno"> 2605</span>&#160;  <span class="comment">// forms are fast, and we should use only the fast ones.</span></div>
<div class="line"><a name="l02606"></a><span class="lineno"> 2606</span>&#160; </div>
<div class="line"><a name="l02607"></a><span class="lineno"> 2607</span>&#160;  <span class="comment">// The defining instruction has a record form (or is already a record</span></div>
<div class="line"><a name="l02608"></a><span class="lineno"> 2608</span>&#160;  <span class="comment">// form). It is possible, however, that we&#39;ll need to reverse the condition</span></div>
<div class="line"><a name="l02609"></a><span class="lineno"> 2609</span>&#160;  <span class="comment">// code of the users.</span></div>
<div class="line"><a name="l02610"></a><span class="lineno"> 2610</span>&#160;  <span class="keywordflow">if</span> (NewOpC == -1)</div>
<div class="line"><a name="l02611"></a><span class="lineno"> 2611</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02612"></a><span class="lineno"> 2612</span>&#160; </div>
<div class="line"><a name="l02613"></a><span class="lineno"> 2613</span>&#160;  <span class="comment">// This transformation should not be performed if `nsw` is missing and is not</span></div>
<div class="line"><a name="l02614"></a><span class="lineno"> 2614</span>&#160;  <span class="comment">// `equalityOnly` comparison. Since if there is overflow, sub_lt, sub_gt in</span></div>
<div class="line"><a name="l02615"></a><span class="lineno"> 2615</span>&#160;  <span class="comment">// CRReg do not reflect correct order. If `equalityOnly` is true, sub_eq in</span></div>
<div class="line"><a name="l02616"></a><span class="lineno"> 2616</span>&#160;  <span class="comment">// CRReg can reflect if compared values are equal, this optz is still valid.</span></div>
<div class="line"><a name="l02617"></a><span class="lineno"> 2617</span>&#160;  <span class="keywordflow">if</span> (!equalityOnly &amp;&amp; (NewOpC == PPC::SUBF_rec || NewOpC == PPC::SUBF8_rec) &amp;&amp;</div>
<div class="line"><a name="l02618"></a><span class="lineno"> 2618</span>&#160;      Sub &amp;&amp; !Sub-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a33365204be9cb132de322e3713253b57">getFlag</a>(<a class="code" href="classllvm_1_1MachineInstr.html#aafacf84de1cb994a92dc045f4aa1d518aefc960a99fa4cefc28a0ea76de0a0535">MachineInstr::NoSWrap</a>))</div>
<div class="line"><a name="l02619"></a><span class="lineno"> 2619</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02620"></a><span class="lineno"> 2620</span>&#160; </div>
<div class="line"><a name="l02621"></a><span class="lineno"> 2621</span>&#160;  <span class="comment">// If we have SUB(r1, r2) and CMP(r2, r1), the condition code based on CMP</span></div>
<div class="line"><a name="l02622"></a><span class="lineno"> 2622</span>&#160;  <span class="comment">// needs to be updated to be based on SUB.  Push the condition code</span></div>
<div class="line"><a name="l02623"></a><span class="lineno"> 2623</span>&#160;  <span class="comment">// operands to OperandsToUpdate.  If it is safe to remove CmpInstr, the</span></div>
<div class="line"><a name="l02624"></a><span class="lineno"> 2624</span>&#160;  <span class="comment">// condition code of these operands will be modified.</span></div>
<div class="line"><a name="l02625"></a><span class="lineno"> 2625</span>&#160;  <span class="comment">// Here, Value == 0 means we haven&#39;t converted comparison against 1 or -1 to</span></div>
<div class="line"><a name="l02626"></a><span class="lineno"> 2626</span>&#160;  <span class="comment">// comparison against 0, which may modify predicate.</span></div>
<div class="line"><a name="l02627"></a><span class="lineno"> 2627</span>&#160;  <span class="keywordtype">bool</span> ShouldSwap = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02628"></a><span class="lineno"> 2628</span>&#160;  <span class="keywordflow">if</span> (Sub &amp;&amp; <a class="code" href="classllvm_1_1Value.html">Value</a> == 0) {</div>
<div class="line"><a name="l02629"></a><span class="lineno"> 2629</span>&#160;    ShouldSwap = SrcReg2 != 0 &amp;&amp; Sub-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(1).<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>() == SrcReg2 &amp;&amp;</div>
<div class="line"><a name="l02630"></a><span class="lineno"> 2630</span>&#160;      Sub-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(2).<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>() == SrcReg;</div>
<div class="line"><a name="l02631"></a><span class="lineno"> 2631</span>&#160; </div>
<div class="line"><a name="l02632"></a><span class="lineno"> 2632</span>&#160;    <span class="comment">// The operands to subf are the opposite of sub, so only in the fixed-point</span></div>
<div class="line"><a name="l02633"></a><span class="lineno"> 2633</span>&#160;    <span class="comment">// case, invert the order.</span></div>
<div class="line"><a name="l02634"></a><span class="lineno"> 2634</span>&#160;    ShouldSwap = !ShouldSwap;</div>
<div class="line"><a name="l02635"></a><span class="lineno"> 2635</span>&#160;  }</div>
<div class="line"><a name="l02636"></a><span class="lineno"> 2636</span>&#160; </div>
<div class="line"><a name="l02637"></a><span class="lineno"> 2637</span>&#160;  <span class="keywordflow">if</span> (ShouldSwap)</div>
<div class="line"><a name="l02638"></a><span class="lineno"> 2638</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MachineRegisterInfo_1_1defusechain__instr__iterator.html">MachineRegisterInfo::use_instr_iterator</a></div>
<div class="line"><a name="l02639"></a><span class="lineno"> 2639</span>&#160;         <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>-&gt;<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a489d8c4ed3ae8b1ca4f68e580b074bf1">use_instr_begin</a>(CRReg), <a class="code" href="namespacellvm_1_1ARM__PROC.html#a1add7850fad3f66c140ecee871460ea4ae9d798593a4a6b5cc48486a453a59e5e">IE</a> = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>-&gt;<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a7a73104304bf1f9d344ad495283561b5">use_instr_end</a>();</div>
<div class="line"><a name="l02640"></a><span class="lineno"> 2640</span>&#160;         <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != <a class="code" href="namespacellvm_1_1ARM__PROC.html#a1add7850fad3f66c140ecee871460ea4ae9d798593a4a6b5cc48486a453a59e5e">IE</a>; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l02641"></a><span class="lineno"> 2641</span>&#160;      <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#a6cf2f8996b1e9aaf2d7a435aaa62382f">UseMI</a> = &amp;*<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div>
<div class="line"><a name="l02642"></a><span class="lineno"> 2642</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#a6cf2f8996b1e9aaf2d7a435aaa62382f">UseMI</a>-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a0363204b5fbab08a46f5a7cd7f376f78">getOpcode</a>() == PPC::BCC) {</div>
<div class="line"><a name="l02643"></a><span class="lineno"> 2643</span>&#160;        <a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355">PPC::Predicate</a> Pred = (<a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355">PPC::Predicate</a>) <a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#a6cf2f8996b1e9aaf2d7a435aaa62382f">UseMI</a>-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#a38b28a85f818b49d8806c150b8a5b4f7">getImm</a>();</div>
<div class="line"><a name="l02644"></a><span class="lineno"> 2644</span>&#160;        <span class="keywordtype">unsigned</span> PredCond = <a class="code" href="namespacellvm_1_1PPC.html#a2624042e885fc1d665e8fc01a0ab390b">PPC::getPredicateCondition</a>(Pred);</div>
<div class="line"><a name="l02645"></a><span class="lineno"> 2645</span>&#160;        <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((!equalityOnly ||</div>
<div class="line"><a name="l02646"></a><span class="lineno"> 2646</span>&#160;                PredCond == <a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355a34be5288a1bb24e5120358395f7f0dc3">PPC::PRED_EQ</a> || PredCond == <a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355ad9add708b3d9680d64242cf06f448462">PPC::PRED_NE</a>) &amp;&amp;</div>
<div class="line"><a name="l02647"></a><span class="lineno"> 2647</span>&#160;               <span class="stringliteral">&quot;Invalid predicate for equality-only optimization&quot;</span>);</div>
<div class="line"><a name="l02648"></a><span class="lineno"> 2648</span>&#160;        (void)PredCond; <span class="comment">// To suppress warning in release build.</span></div>
<div class="line"><a name="l02649"></a><span class="lineno"> 2649</span>&#160;        PredsToUpdate.push_back(std::make_pair(&amp;(<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#a6cf2f8996b1e9aaf2d7a435aaa62382f">UseMI</a>-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(0)),</div>
<div class="line"><a name="l02650"></a><span class="lineno"> 2650</span>&#160;                                <a class="code" href="namespacellvm_1_1PPC.html#a0126350f85e64bcbddb8454a888b0b69">PPC::getSwappedPredicate</a>(Pred)));</div>
<div class="line"><a name="l02651"></a><span class="lineno"> 2651</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#a6cf2f8996b1e9aaf2d7a435aaa62382f">UseMI</a>-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a0363204b5fbab08a46f5a7cd7f376f78">getOpcode</a>() == <a class="code" href="namespacellvm_1_1HexagonISD.html#ab37bf6c49bc26c43ddd958218f63ba00a0fbe77e798cb4b9c9a3e62f4d2085395">PPC::ISEL</a> ||</div>
<div class="line"><a name="l02652"></a><span class="lineno"> 2652</span>&#160;                 <a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#a6cf2f8996b1e9aaf2d7a435aaa62382f">UseMI</a>-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a0363204b5fbab08a46f5a7cd7f376f78">getOpcode</a>() == PPC::ISEL8) {</div>
<div class="line"><a name="l02653"></a><span class="lineno"> 2653</span>&#160;        <span class="keywordtype">unsigned</span> NewSubReg = <a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#a6cf2f8996b1e9aaf2d7a435aaa62382f">UseMI</a>-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(3).<a class="code" href="classllvm_1_1MachineOperand.html#a028a8c5113d40d8c3f4427053bf36738">getSubReg</a>();</div>
<div class="line"><a name="l02654"></a><span class="lineno"> 2654</span>&#160;        <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((!equalityOnly || NewSubReg == PPC::sub_eq) &amp;&amp;</div>
<div class="line"><a name="l02655"></a><span class="lineno"> 2655</span>&#160;               <span class="stringliteral">&quot;Invalid CR bit for equality-only optimization&quot;</span>);</div>
<div class="line"><a name="l02656"></a><span class="lineno"> 2656</span>&#160; </div>
<div class="line"><a name="l02657"></a><span class="lineno"> 2657</span>&#160;        <span class="keywordflow">if</span> (NewSubReg == PPC::sub_lt)</div>
<div class="line"><a name="l02658"></a><span class="lineno"> 2658</span>&#160;          NewSubReg = PPC::sub_gt;</div>
<div class="line"><a name="l02659"></a><span class="lineno"> 2659</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (NewSubReg == PPC::sub_gt)</div>
<div class="line"><a name="l02660"></a><span class="lineno"> 2660</span>&#160;          NewSubReg = PPC::sub_lt;</div>
<div class="line"><a name="l02661"></a><span class="lineno"> 2661</span>&#160; </div>
<div class="line"><a name="l02662"></a><span class="lineno"> 2662</span>&#160;        SubRegsToUpdate.push_back(std::make_pair(&amp;(<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#a6cf2f8996b1e9aaf2d7a435aaa62382f">UseMI</a>-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(3)),</div>
<div class="line"><a name="l02663"></a><span class="lineno"> 2663</span>&#160;                                                 NewSubReg));</div>
<div class="line"><a name="l02664"></a><span class="lineno"> 2664</span>&#160;      } <span class="keywordflow">else</span> <span class="comment">// We need to abort on a user we don&#39;t understand.</span></div>
<div class="line"><a name="l02665"></a><span class="lineno"> 2665</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02666"></a><span class="lineno"> 2666</span>&#160;    }</div>
<div class="line"><a name="l02667"></a><span class="lineno"> 2667</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!(<a class="code" href="classllvm_1_1Value.html">Value</a> != 0 &amp;&amp; ShouldSwap) &amp;&amp;</div>
<div class="line"><a name="l02668"></a><span class="lineno"> 2668</span>&#160;         <span class="stringliteral">&quot;Non-zero immediate support and ShouldSwap&quot;</span></div>
<div class="line"><a name="l02669"></a><span class="lineno"> 2669</span>&#160;         <span class="stringliteral">&quot;may conflict in updating predicate&quot;</span>);</div>
<div class="line"><a name="l02670"></a><span class="lineno"> 2670</span>&#160; </div>
<div class="line"><a name="l02671"></a><span class="lineno"> 2671</span>&#160;  <span class="comment">// Create a new virtual register to hold the value of the CR set by the</span></div>
<div class="line"><a name="l02672"></a><span class="lineno"> 2672</span>&#160;  <span class="comment">// record-form instruction. If the instruction was not previously in</span></div>
<div class="line"><a name="l02673"></a><span class="lineno"> 2673</span>&#160;  <span class="comment">// record form, then set the kill flag on the CR.</span></div>
<div class="line"><a name="l02674"></a><span class="lineno"> 2674</span>&#160;  CmpInstr.<a class="code" href="classllvm_1_1MachineInstr.html#ac2421adbb9996e1b15f03a8abb6c70a8">eraseFromParent</a>();</div>
<div class="line"><a name="l02675"></a><span class="lineno"> 2675</span>&#160; </div>
<div class="line"><a name="l02676"></a><span class="lineno"> 2676</span>&#160;  <a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::iterator</a> MII = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>;</div>
<div class="line"><a name="l02677"></a><span class="lineno"> 2677</span>&#160;  <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(*<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getParent(), std::next(MII), <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getDebugLoc(),</div>
<div class="line"><a name="l02678"></a><span class="lineno"> 2678</span>&#160;          <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(TargetOpcode::COPY), CRReg)</div>
<div class="line"><a name="l02679"></a><span class="lineno"> 2679</span>&#160;    .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(PPC::CR0, MIOpC != NewOpC ? <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da9ddde91ef09476d28a088fe57f8e2921">RegState::Kill</a> : 0);</div>
<div class="line"><a name="l02680"></a><span class="lineno"> 2680</span>&#160; </div>
<div class="line"><a name="l02681"></a><span class="lineno"> 2681</span>&#160;  <span class="comment">// Even if CR0 register were dead before, it is alive now since the</span></div>
<div class="line"><a name="l02682"></a><span class="lineno"> 2682</span>&#160;  <span class="comment">// instruction we just built uses it.</span></div>
<div class="line"><a name="l02683"></a><span class="lineno"> 2683</span>&#160;  <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;clearRegisterDeads(PPC::CR0);</div>
<div class="line"><a name="l02684"></a><span class="lineno"> 2684</span>&#160; </div>
<div class="line"><a name="l02685"></a><span class="lineno"> 2685</span>&#160;  <span class="keywordflow">if</span> (MIOpC != NewOpC) {</div>
<div class="line"><a name="l02686"></a><span class="lineno"> 2686</span>&#160;    <span class="comment">// We need to be careful here: we&#39;re replacing one instruction with</span></div>
<div class="line"><a name="l02687"></a><span class="lineno"> 2687</span>&#160;    <span class="comment">// another, and we need to make sure that we get all of the right</span></div>
<div class="line"><a name="l02688"></a><span class="lineno"> 2688</span>&#160;    <span class="comment">// implicit uses and defs. On the other hand, the caller may be holding</span></div>
<div class="line"><a name="l02689"></a><span class="lineno"> 2689</span>&#160;    <span class="comment">// an iterator to this instruction, and so we can&#39;t delete it (this is</span></div>
<div class="line"><a name="l02690"></a><span class="lineno"> 2690</span>&#160;    <span class="comment">// specifically the case if this is the instruction directly after the</span></div>
<div class="line"><a name="l02691"></a><span class="lineno"> 2691</span>&#160;    <span class="comment">// compare).</span></div>
<div class="line"><a name="l02692"></a><span class="lineno"> 2692</span>&#160; </div>
<div class="line"><a name="l02693"></a><span class="lineno"> 2693</span>&#160;    <span class="comment">// Rotates are expensive instructions. If we&#39;re emitting a record-form</span></div>
<div class="line"><a name="l02694"></a><span class="lineno"> 2694</span>&#160;    <span class="comment">// rotate that can just be an andi/andis, we should just emit that.</span></div>
<div class="line"><a name="l02695"></a><span class="lineno"> 2695</span>&#160;    <span class="keywordflow">if</span> (MIOpC == PPC::RLWINM || MIOpC == PPC::RLWINM8) {</div>
<div class="line"><a name="l02696"></a><span class="lineno"> 2696</span>&#160;      <a class="code" href="classllvm_1_1Register.html">Register</a> GPRRes = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getOperand(0).getReg();</div>
<div class="line"><a name="l02697"></a><span class="lineno"> 2697</span>&#160;      int64_t SH = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getOperand(2).getImm();</div>
<div class="line"><a name="l02698"></a><span class="lineno"> 2698</span>&#160;      int64_t MB = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getOperand(3).getImm();</div>
<div class="line"><a name="l02699"></a><span class="lineno"> 2699</span>&#160;      int64_t ME = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getOperand(4).getImm();</div>
<div class="line"><a name="l02700"></a><span class="lineno"> 2700</span>&#160;      <span class="comment">// We can only do this if both the start and end of the mask are in the</span></div>
<div class="line"><a name="l02701"></a><span class="lineno"> 2701</span>&#160;      <span class="comment">// same halfword.</span></div>
<div class="line"><a name="l02702"></a><span class="lineno"> 2702</span>&#160;      <span class="keywordtype">bool</span> MBInLoHWord = MB &gt;= 16;</div>
<div class="line"><a name="l02703"></a><span class="lineno"> 2703</span>&#160;      <span class="keywordtype">bool</span> MEInLoHWord = ME &gt;= 16;</div>
<div class="line"><a name="l02704"></a><span class="lineno"> 2704</span>&#160;      <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a> = ~0LLU;</div>
<div class="line"><a name="l02705"></a><span class="lineno"> 2705</span>&#160; </div>
<div class="line"><a name="l02706"></a><span class="lineno"> 2706</span>&#160;      <span class="keywordflow">if</span> (MB &lt;= ME &amp;&amp; MBInLoHWord == MEInLoHWord &amp;&amp; SH == 0) {</div>
<div class="line"><a name="l02707"></a><span class="lineno"> 2707</span>&#160;        <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a> = ((1LLU &lt;&lt; (32 - MB)) - 1) &amp; ~((1LLU &lt;&lt; (31 - ME)) - 1);</div>
<div class="line"><a name="l02708"></a><span class="lineno"> 2708</span>&#160;        <span class="comment">// The mask value needs to shift right 16 if we&#39;re emitting andis.</span></div>
<div class="line"><a name="l02709"></a><span class="lineno"> 2709</span>&#160;        <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a> &gt;&gt;= MBInLoHWord ? 0 : 16;</div>
<div class="line"><a name="l02710"></a><span class="lineno"> 2710</span>&#160;        NewOpC = MIOpC == PPC::RLWINM</div>
<div class="line"><a name="l02711"></a><span class="lineno"> 2711</span>&#160;                     ? (MBInLoHWord ? PPC::ANDI_rec : PPC::ANDIS_rec)</div>
<div class="line"><a name="l02712"></a><span class="lineno"> 2712</span>&#160;                     : (MBInLoHWord ? PPC::ANDI8_rec : PPC::ANDIS8_rec);</div>
<div class="line"><a name="l02713"></a><span class="lineno"> 2713</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>-&gt;<a class="code" href="classllvm_1_1MachineRegisterInfo.html#aeae86e9004476412ca754a7de4ee8a0c">use_empty</a>(GPRRes) &amp;&amp; (ME == 31) &amp;&amp;</div>
<div class="line"><a name="l02714"></a><span class="lineno"> 2714</span>&#160;                 (ME - MB + 1 == SH) &amp;&amp; (MB &gt;= 16)) {</div>
<div class="line"><a name="l02715"></a><span class="lineno"> 2715</span>&#160;        <span class="comment">// If we are rotating by the exact number of bits as are in the mask</span></div>
<div class="line"><a name="l02716"></a><span class="lineno"> 2716</span>&#160;        <span class="comment">// and the mask is in the least significant bits of the register,</span></div>
<div class="line"><a name="l02717"></a><span class="lineno"> 2717</span>&#160;        <span class="comment">// that&#39;s just an andis. (as long as the GPR result has no uses).</span></div>
<div class="line"><a name="l02718"></a><span class="lineno"> 2718</span>&#160;        <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a> = ((1LLU &lt;&lt; 32) - 1) &amp; ~((1LLU &lt;&lt; (32 - SH)) - 1);</div>
<div class="line"><a name="l02719"></a><span class="lineno"> 2719</span>&#160;        <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a> &gt;&gt;= 16;</div>
<div class="line"><a name="l02720"></a><span class="lineno"> 2720</span>&#160;        NewOpC = MIOpC == PPC::RLWINM ? PPC::ANDIS_rec : PPC::ANDIS8_rec;</div>
<div class="line"><a name="l02721"></a><span class="lineno"> 2721</span>&#160;      }</div>
<div class="line"><a name="l02722"></a><span class="lineno"> 2722</span>&#160;      <span class="comment">// If we&#39;ve set the mask, we can transform.</span></div>
<div class="line"><a name="l02723"></a><span class="lineno"> 2723</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a> != ~0LLU) {</div>
<div class="line"><a name="l02724"></a><span class="lineno"> 2724</span>&#160;        <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;removeOperand(4);</div>
<div class="line"><a name="l02725"></a><span class="lineno"> 2725</span>&#160;        <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;removeOperand(3);</div>
<div class="line"><a name="l02726"></a><span class="lineno"> 2726</span>&#160;        <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getOperand(2).setImm(<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>);</div>
<div class="line"><a name="l02727"></a><span class="lineno"> 2727</span>&#160;        NumRcRotatesConvertedToRcAnd++;</div>
<div class="line"><a name="l02728"></a><span class="lineno"> 2728</span>&#160;      }</div>
<div class="line"><a name="l02729"></a><span class="lineno"> 2729</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (MIOpC == PPC::RLDICL &amp;&amp; <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getOperand(2).getImm() == 0) {</div>
<div class="line"><a name="l02730"></a><span class="lineno"> 2730</span>&#160;      int64_t MB = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getOperand(3).getImm();</div>
<div class="line"><a name="l02731"></a><span class="lineno"> 2731</span>&#160;      <span class="keywordflow">if</span> (MB &gt;= 48) {</div>
<div class="line"><a name="l02732"></a><span class="lineno"> 2732</span>&#160;        <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a> = (1LLU &lt;&lt; (63 - MB + 1)) - 1;</div>
<div class="line"><a name="l02733"></a><span class="lineno"> 2733</span>&#160;        NewOpC = PPC::ANDI8_rec;</div>
<div class="line"><a name="l02734"></a><span class="lineno"> 2734</span>&#160;        <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;removeOperand(3);</div>
<div class="line"><a name="l02735"></a><span class="lineno"> 2735</span>&#160;        <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getOperand(2).setImm(<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>);</div>
<div class="line"><a name="l02736"></a><span class="lineno"> 2736</span>&#160;        NumRcRotatesConvertedToRcAnd++;</div>
<div class="line"><a name="l02737"></a><span class="lineno"> 2737</span>&#160;      }</div>
<div class="line"><a name="l02738"></a><span class="lineno"> 2738</span>&#160;    }</div>
<div class="line"><a name="l02739"></a><span class="lineno"> 2739</span>&#160; </div>
<div class="line"><a name="l02740"></a><span class="lineno"> 2740</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCInstrDesc.html">MCInstrDesc</a> &amp;NewDesc = <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(NewOpC);</div>
<div class="line"><a name="l02741"></a><span class="lineno"> 2741</span>&#160;    <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;setDesc(NewDesc);</div>
<div class="line"><a name="l02742"></a><span class="lineno"> 2742</span>&#160; </div>
<div class="line"><a name="l02743"></a><span class="lineno"> 2743</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classuint16__t.html">MCPhysReg</a> ImpDef : NewDesc.<a class="code" href="classllvm_1_1MCInstrDesc.html#a24feb40480607c5aa975b5123b3afad1">implicit_defs</a>()) {</div>
<div class="line"><a name="l02744"></a><span class="lineno"> 2744</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;definesRegister(ImpDef)) {</div>
<div class="line"><a name="l02745"></a><span class="lineno"> 2745</span>&#160;        <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;addOperand(*<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getParent()-&gt;getParent(),</div>
<div class="line"><a name="l02746"></a><span class="lineno"> 2746</span>&#160;                       <a class="code" href="classllvm_1_1MachineOperand.html#af2c351dad09a71aa08e1d85c67ae6e53">MachineOperand::CreateReg</a>(ImpDef, <span class="keyword">true</span>, <span class="keyword">true</span>));</div>
<div class="line"><a name="l02747"></a><span class="lineno"> 2747</span>&#160;      }</div>
<div class="line"><a name="l02748"></a><span class="lineno"> 2748</span>&#160;    }</div>
<div class="line"><a name="l02749"></a><span class="lineno"> 2749</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classuint16__t.html">MCPhysReg</a> ImpUse : NewDesc.<a class="code" href="classllvm_1_1MCInstrDesc.html#a47dd718cb7a3b36fd9f7ed6118df04af">implicit_uses</a>()) {</div>
<div class="line"><a name="l02750"></a><span class="lineno"> 2750</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;readsRegister(ImpUse)) {</div>
<div class="line"><a name="l02751"></a><span class="lineno"> 2751</span>&#160;        <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;addOperand(*<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getParent()-&gt;getParent(),</div>
<div class="line"><a name="l02752"></a><span class="lineno"> 2752</span>&#160;                       <a class="code" href="classllvm_1_1MachineOperand.html#af2c351dad09a71aa08e1d85c67ae6e53">MachineOperand::CreateReg</a>(ImpUse, <span class="keyword">false</span>, <span class="keyword">true</span>));</div>
<div class="line"><a name="l02753"></a><span class="lineno"> 2753</span>&#160;      }</div>
<div class="line"><a name="l02754"></a><span class="lineno"> 2754</span>&#160;    }</div>
<div class="line"><a name="l02755"></a><span class="lineno"> 2755</span>&#160;  }</div>
<div class="line"><a name="l02756"></a><span class="lineno"> 2756</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;definesRegister(PPC::CR0) &amp;&amp;</div>
<div class="line"><a name="l02757"></a><span class="lineno"> 2757</span>&#160;         <span class="stringliteral">&quot;Record-form instruction does not define cr0?&quot;</span>);</div>
<div class="line"><a name="l02758"></a><span class="lineno"> 2758</span>&#160; </div>
<div class="line"><a name="l02759"></a><span class="lineno"> 2759</span>&#160;  <span class="comment">// Modify the condition code of operands in OperandsToUpdate.</span></div>
<div class="line"><a name="l02760"></a><span class="lineno"> 2760</span>&#160;  <span class="comment">// Since we have SUB(r1, r2) and CMP(r2, r1), the condition code needs to</span></div>
<div class="line"><a name="l02761"></a><span class="lineno"> 2761</span>&#160;  <span class="comment">// be changed from r2 &gt; r1 to r1 &lt; r2, from r2 &lt; r1 to r1 &gt; r2, etc.</span></div>
<div class="line"><a name="l02762"></a><span class="lineno"> 2762</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a> = PredsToUpdate.size(); <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l02763"></a><span class="lineno"> 2763</span>&#160;    PredsToUpdate[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>].first-&gt;setImm(PredsToUpdate[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>].second);</div>
<div class="line"><a name="l02764"></a><span class="lineno"> 2764</span>&#160; </div>
<div class="line"><a name="l02765"></a><span class="lineno"> 2765</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a> = SubRegsToUpdate.size(); <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l02766"></a><span class="lineno"> 2766</span>&#160;    SubRegsToUpdate[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>].first-&gt;setSubReg(SubRegsToUpdate[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>].second);</div>
<div class="line"><a name="l02767"></a><span class="lineno"> 2767</span>&#160; </div>
<div class="line"><a name="l02768"></a><span class="lineno"> 2768</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02769"></a><span class="lineno"> 2769</span>&#160;}</div>
<div class="line"><a name="l02770"></a><span class="lineno"> 2770</span>&#160; </div>
<div class="line"><a name="l02771"></a><span class="lineno"><a class="line" href="classllvm_1_1PPCInstrInfo.html#aeae69b1baee541f55a44aaf2804dc007"> 2771</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1PPCInstrInfo.html#aeae69b1baee541f55a44aaf2804dc007">PPCInstrInfo::optimizeCmpPostRA</a>(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;CmpMI)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l02772"></a><span class="lineno"> 2772</span>&#160;  <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> *<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a> = &amp;CmpMI.<a class="code" href="classllvm_1_1MachineInstr.html#a002fd916e7206e01d512eeb06d405cf0">getParent</a>()-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#a4e21760f681d6f97f95c8414e7b83ea5">getParent</a>()-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>();</div>
<div class="line"><a name="l02773"></a><span class="lineno"> 2773</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>-&gt;<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a86dd1b4ce6ff2d4a0b4593c5f7b2a3fd">isSSA</a>())</div>
<div class="line"><a name="l02774"></a><span class="lineno"> 2774</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02775"></a><span class="lineno"> 2775</span>&#160; </div>
<div class="line"><a name="l02776"></a><span class="lineno"> 2776</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> SrcReg, SrcReg2;</div>
<div class="line"><a name="l02777"></a><span class="lineno"> 2777</span>&#160;  int64_t CmpMask, CmpValue;</div>
<div class="line"><a name="l02778"></a><span class="lineno"> 2778</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1PPCInstrInfo.html#abb7303094f9b99f0ca06a9eb606dcb26">analyzeCompare</a>(CmpMI, SrcReg, SrcReg2, CmpMask, CmpValue))</div>
<div class="line"><a name="l02779"></a><span class="lineno"> 2779</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02780"></a><span class="lineno"> 2780</span>&#160; </div>
<div class="line"><a name="l02781"></a><span class="lineno"> 2781</span>&#160;  <span class="comment">// Try to optimize the comparison against 0.</span></div>
<div class="line"><a name="l02782"></a><span class="lineno"> 2782</span>&#160;  <span class="keywordflow">if</span> (CmpValue || !CmpMask || SrcReg2)</div>
<div class="line"><a name="l02783"></a><span class="lineno"> 2783</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02784"></a><span class="lineno"> 2784</span>&#160; </div>
<div class="line"><a name="l02785"></a><span class="lineno"> 2785</span>&#160;  <span class="comment">// The record forms set the condition register based on a signed comparison</span></div>
<div class="line"><a name="l02786"></a><span class="lineno"> 2786</span>&#160;  <span class="comment">// with zero (see comments in optimizeCompareInstr). Since we can&#39;t do the</span></div>
<div class="line"><a name="l02787"></a><span class="lineno"> 2787</span>&#160;  <span class="comment">// equality checks in post-RA, we are more restricted on a unsigned</span></div>
<div class="line"><a name="l02788"></a><span class="lineno"> 2788</span>&#160;  <span class="comment">// comparison.</span></div>
<div class="line"><a name="l02789"></a><span class="lineno"> 2789</span>&#160;  <span class="keywordtype">unsigned</span> Opc = CmpMI.<a class="code" href="classllvm_1_1MachineInstr.html#a0363204b5fbab08a46f5a7cd7f376f78">getOpcode</a>();</div>
<div class="line"><a name="l02790"></a><span class="lineno"> 2790</span>&#160;  <span class="keywordflow">if</span> (Opc == PPC::CMPLWI || Opc == PPC::CMPLDI)</div>
<div class="line"><a name="l02791"></a><span class="lineno"> 2791</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02792"></a><span class="lineno"> 2792</span>&#160; </div>
<div class="line"><a name="l02793"></a><span class="lineno"> 2793</span>&#160;  <span class="comment">// The record forms are always based on a 64-bit comparison on PPC64</span></div>
<div class="line"><a name="l02794"></a><span class="lineno"> 2794</span>&#160;  <span class="comment">// (similary, a 32-bit comparison on PPC32), while the CMPWI is a 32-bit</span></div>
<div class="line"><a name="l02795"></a><span class="lineno"> 2795</span>&#160;  <span class="comment">// comparison. Since we can&#39;t do the equality checks in post-RA, we bail out</span></div>
<div class="line"><a name="l02796"></a><span class="lineno"> 2796</span>&#160;  <span class="comment">// the case.</span></div>
<div class="line"><a name="l02797"></a><span class="lineno"> 2797</span>&#160;  <span class="keywordflow">if</span> (Subtarget.<a class="code" href="classllvm_1_1PPCSubtarget.html#a6622b99b3c00a3938d969957312b1b52">isPPC64</a>() &amp;&amp; Opc == PPC::CMPWI)</div>
<div class="line"><a name="l02798"></a><span class="lineno"> 2798</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02799"></a><span class="lineno"> 2799</span>&#160; </div>
<div class="line"><a name="l02800"></a><span class="lineno"> 2800</span>&#160;  <span class="comment">// CmpMI can&#39;t be deleted if it has implicit def.</span></div>
<div class="line"><a name="l02801"></a><span class="lineno"> 2801</span>&#160;  <span class="keywordflow">if</span> (CmpMI.<a class="code" href="classllvm_1_1MachineInstr.html#a5879bc3bd2b8f21ba2d83a1f97a020d9">hasImplicitDef</a>())</div>
<div class="line"><a name="l02802"></a><span class="lineno"> 2802</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02803"></a><span class="lineno"> 2803</span>&#160; </div>
<div class="line"><a name="l02804"></a><span class="lineno"> 2804</span>&#160;  <span class="keywordtype">bool</span> SrcRegHasOtherUse = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02805"></a><span class="lineno"> 2805</span>&#160;  <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *SrcMI = <a class="code" href="classllvm_1_1PPCInstrInfo.html#aff2173f1b09ff7e5b1458b9441bcf10d">getDefMIPostRA</a>(SrcReg, CmpMI, SrcRegHasOtherUse);</div>
<div class="line"><a name="l02806"></a><span class="lineno"> 2806</span>&#160;  <span class="keywordflow">if</span> (!SrcMI || !SrcMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#aabed741772b1be65069d9274446a914d">definesRegister</a>(SrcReg))</div>
<div class="line"><a name="l02807"></a><span class="lineno"> 2807</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02808"></a><span class="lineno"> 2808</span>&#160; </div>
<div class="line"><a name="l02809"></a><span class="lineno"> 2809</span>&#160;  <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> RegMO = CmpMI.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(0);</div>
<div class="line"><a name="l02810"></a><span class="lineno"> 2810</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> CRReg = RegMO.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>();</div>
<div class="line"><a name="l02811"></a><span class="lineno"> 2811</span>&#160;  <span class="keywordflow">if</span> (CRReg != PPC::CR0)</div>
<div class="line"><a name="l02812"></a><span class="lineno"> 2812</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02813"></a><span class="lineno"> 2813</span>&#160; </div>
<div class="line"><a name="l02814"></a><span class="lineno"> 2814</span>&#160;  <span class="comment">// Make sure there is no def/use of CRReg between SrcMI and CmpMI.</span></div>
<div class="line"><a name="l02815"></a><span class="lineno"> 2815</span>&#160;  <span class="keywordtype">bool</span> SeenUseOfCRReg = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02816"></a><span class="lineno"> 2816</span>&#160;  <span class="keywordtype">bool</span> IsCRRegKilled = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02817"></a><span class="lineno"> 2817</span>&#160;  <span class="keywordflow">if</span> (!isRegElgibleForForwarding(RegMO, *SrcMI, CmpMI, <span class="keyword">false</span>, IsCRRegKilled,</div>
<div class="line"><a name="l02818"></a><span class="lineno"> 2818</span>&#160;                                 SeenUseOfCRReg) ||</div>
<div class="line"><a name="l02819"></a><span class="lineno"> 2819</span>&#160;      SrcMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#aabed741772b1be65069d9274446a914d">definesRegister</a>(CRReg) || SeenUseOfCRReg)</div>
<div class="line"><a name="l02820"></a><span class="lineno"> 2820</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02821"></a><span class="lineno"> 2821</span>&#160; </div>
<div class="line"><a name="l02822"></a><span class="lineno"> 2822</span>&#160;  <span class="keywordtype">int</span> SrcMIOpc = SrcMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a0363204b5fbab08a46f5a7cd7f376f78">getOpcode</a>();</div>
<div class="line"><a name="l02823"></a><span class="lineno"> 2823</span>&#160;  <span class="keywordtype">int</span> NewOpC = PPC::getRecordFormOpcode(SrcMIOpc);</div>
<div class="line"><a name="l02824"></a><span class="lineno"> 2824</span>&#160;  <span class="keywordflow">if</span> (NewOpC == -1)</div>
<div class="line"><a name="l02825"></a><span class="lineno"> 2825</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02826"></a><span class="lineno"> 2826</span>&#160; </div>
<div class="line"><a name="l02827"></a><span class="lineno"> 2827</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Replace Instr: &quot;</span>);</div>
<div class="line"><a name="l02828"></a><span class="lineno"> 2828</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(SrcMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#accc60d2019e9dff57bb0918a94422ebb">dump</a>());</div>
<div class="line"><a name="l02829"></a><span class="lineno"> 2829</span>&#160; </div>
<div class="line"><a name="l02830"></a><span class="lineno"> 2830</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCInstrDesc.html">MCInstrDesc</a> &amp;NewDesc = <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(NewOpC);</div>
<div class="line"><a name="l02831"></a><span class="lineno"> 2831</span>&#160;  SrcMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#af11a92503408a812be672ee3efc848d3">setDesc</a>(NewDesc);</div>
<div class="line"><a name="l02832"></a><span class="lineno"> 2832</span>&#160;  <a class="code" href="classllvm_1_1MachineInstrBuilder.html">MachineInstrBuilder</a>(*SrcMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a002fd916e7206e01d512eeb06d405cf0">getParent</a>()-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#a4e21760f681d6f97f95c8414e7b83ea5">getParent</a>(), SrcMI)</div>
<div class="line"><a name="l02833"></a><span class="lineno"> 2833</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(CRReg, <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da833922eca2ad0eab70573ba1f5fba9af">RegState::ImplicitDefine</a>);</div>
<div class="line"><a name="l02834"></a><span class="lineno"> 2834</span>&#160;  SrcMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#ad4a32b52ea36d2c35a9860fe263d0574">clearRegisterDeads</a>(CRReg);</div>
<div class="line"><a name="l02835"></a><span class="lineno"> 2835</span>&#160; </div>
<div class="line"><a name="l02836"></a><span class="lineno"> 2836</span>&#160;  <span class="comment">// Fix up killed/dead flag for SrcReg after transformation.</span></div>
<div class="line"><a name="l02837"></a><span class="lineno"> 2837</span>&#160;  <span class="keywordflow">if</span> (SrcRegHasOtherUse || CmpMI.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(1).<a class="code" href="classllvm_1_1MachineOperand.html#a4046212ebc647b17e811837ae4ea3afd">isKill</a>())</div>
<div class="line"><a name="l02838"></a><span class="lineno"> 2838</span>&#160;    <a class="code" href="classllvm_1_1PPCInstrInfo.html#a360d9458a82cc4a80442ad84450945e1">fixupIsDeadOrKill</a>(SrcMI, &amp;CmpMI, SrcReg);</div>
<div class="line"><a name="l02839"></a><span class="lineno"> 2839</span>&#160; </div>
<div class="line"><a name="l02840"></a><span class="lineno"> 2840</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(SrcMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#aabed741772b1be65069d9274446a914d">definesRegister</a>(PPC::CR0) &amp;&amp;</div>
<div class="line"><a name="l02841"></a><span class="lineno"> 2841</span>&#160;         <span class="stringliteral">&quot;Record-form instruction does not define cr0?&quot;</span>);</div>
<div class="line"><a name="l02842"></a><span class="lineno"> 2842</span>&#160; </div>
<div class="line"><a name="l02843"></a><span class="lineno"> 2843</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;with: &quot;</span>);</div>
<div class="line"><a name="l02844"></a><span class="lineno"> 2844</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(SrcMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#accc60d2019e9dff57bb0918a94422ebb">dump</a>());</div>
<div class="line"><a name="l02845"></a><span class="lineno"> 2845</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Delete dead instruction: &quot;</span>);</div>
<div class="line"><a name="l02846"></a><span class="lineno"> 2846</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(CmpMI.<a class="code" href="classllvm_1_1MachineInstr.html#accc60d2019e9dff57bb0918a94422ebb">dump</a>());</div>
<div class="line"><a name="l02847"></a><span class="lineno"> 2847</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02848"></a><span class="lineno"> 2848</span>&#160;}</div>
<div class="line"><a name="l02849"></a><span class="lineno"> 2849</span>&#160; </div>
<div class="line"><a name="l02850"></a><span class="lineno"><a class="line" href="classllvm_1_1PPCInstrInfo.html#a0d205be357ca598799bdbca4fe40cc70"> 2850</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1PPCInstrInfo.html#a0d205be357ca598799bdbca4fe40cc70">PPCInstrInfo::getMemOperandsWithOffsetWidth</a>(</div>
<div class="line"><a name="l02851"></a><span class="lineno"> 2851</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;LdSt, <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;const MachineOperand *&gt;</a> &amp;BaseOps,</div>
<div class="line"><a name="l02852"></a><span class="lineno"> 2852</span>&#160;    int64_t &amp;<a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>, <span class="keywordtype">bool</span> &amp;OffsetIsScalable, <span class="keywordtype">unsigned</span> &amp;<a class="code" href="namespacellvm_1_1AMDGPU_1_1Hwreg.html#a6467ebe1e09a75203dd5f14bdfe21d11">Width</a>,</div>
<div class="line"><a name="l02853"></a><span class="lineno"> 2853</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterInfo.html">TargetRegisterInfo</a> *<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l02854"></a><span class="lineno"> 2854</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> *BaseOp;</div>
<div class="line"><a name="l02855"></a><span class="lineno"> 2855</span>&#160;  OffsetIsScalable = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02856"></a><span class="lineno"> 2856</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1PPCInstrInfo.html#a7d841f6c4d4a0042484feff56fd25857">getMemOperandWithOffsetWidth</a>(LdSt, BaseOp, <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>, <a class="code" href="namespacellvm_1_1AMDGPU_1_1Hwreg.html#a6467ebe1e09a75203dd5f14bdfe21d11">Width</a>, <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>))</div>
<div class="line"><a name="l02857"></a><span class="lineno"> 2857</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02858"></a><span class="lineno"> 2858</span>&#160;  BaseOps.push_back(BaseOp);</div>
<div class="line"><a name="l02859"></a><span class="lineno"> 2859</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02860"></a><span class="lineno"> 2860</span>&#160;}</div>
<div class="line"><a name="l02861"></a><span class="lineno"> 2861</span>&#160; </div>
<div class="line"><a name="l02862"></a><span class="lineno"><a class="line" href="PPCInstrInfo_8cpp.html#aa5a8087086656299167f931f805778bb"> 2862</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="PPCInstrInfo_8cpp.html#aa5a8087086656299167f931f805778bb">isLdStSafeToCluster</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;LdSt,</div>
<div class="line"><a name="l02863"></a><span class="lineno"> 2863</span>&#160;                                <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterInfo.html">TargetRegisterInfo</a> *<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>) {</div>
<div class="line"><a name="l02864"></a><span class="lineno"> 2864</span>&#160;  <span class="comment">// If this is a volatile load/store, don&#39;t mess with it.</span></div>
<div class="line"><a name="l02865"></a><span class="lineno"> 2865</span>&#160;  <span class="keywordflow">if</span> (LdSt.<a class="code" href="classllvm_1_1MachineInstr.html#aabc3917d917c6247778c88107945d13b">hasOrderedMemoryRef</a>() || LdSt.<a class="code" href="classllvm_1_1MachineInstr.html#a56b7fed94faeb5bc67ee2b71608d2665">getNumExplicitOperands</a>() != 3)</div>
<div class="line"><a name="l02866"></a><span class="lineno"> 2866</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02867"></a><span class="lineno"> 2867</span>&#160; </div>
<div class="line"><a name="l02868"></a><span class="lineno"> 2868</span>&#160;  <span class="keywordflow">if</span> (LdSt.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(2).<a class="code" href="classllvm_1_1MachineOperand.html#ad7213433bd60dc33020246384dc18b9b">isFI</a>())</div>
<div class="line"><a name="l02869"></a><span class="lineno"> 2869</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02870"></a><span class="lineno"> 2870</span>&#160; </div>
<div class="line"><a name="l02871"></a><span class="lineno"> 2871</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(LdSt.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(2).<a class="code" href="classllvm_1_1MachineOperand.html#a4c9594c955fec80c73ddd964b5efd554">isReg</a>() &amp;&amp; <span class="stringliteral">&quot;Expected a reg operand.&quot;</span>);</div>
<div class="line"><a name="l02872"></a><span class="lineno"> 2872</span>&#160;  <span class="comment">// Can&#39;t cluster if the instruction modifies the base register</span></div>
<div class="line"><a name="l02873"></a><span class="lineno"> 2873</span>&#160;  <span class="comment">// or it is update form. e.g. ld r2,3(r2)</span></div>
<div class="line"><a name="l02874"></a><span class="lineno"> 2874</span>&#160;  <span class="keywordflow">if</span> (LdSt.<a class="code" href="classllvm_1_1MachineInstr.html#a51ce0e26e3104546c097c88c84033198">modifiesRegister</a>(LdSt.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(2).<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>(), <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>))</div>
<div class="line"><a name="l02875"></a><span class="lineno"> 2875</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02876"></a><span class="lineno"> 2876</span>&#160; </div>
<div class="line"><a name="l02877"></a><span class="lineno"> 2877</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02878"></a><span class="lineno"> 2878</span>&#160;}</div>
<div class="line"><a name="l02879"></a><span class="lineno"> 2879</span>&#160; </div>
<div class="line"><a name="l02880"></a><span class="lineno"> 2880</span>&#160;<span class="comment">// Only cluster instruction pair that have the same opcode, and they are</span></div>
<div class="line"><a name="l02881"></a><span class="lineno"> 2881</span>&#160;<span class="comment">// clusterable according to PowerPC specification.</span></div>
<div class="line"><a name="l02882"></a><span class="lineno"><a class="line" href="PPCInstrInfo_8cpp.html#a8d09a210107e531ce04d3c0f296142ff"> 2882</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="PPCInstrInfo_8cpp.html#a8d09a210107e531ce04d3c0f296142ff">isClusterableLdStOpcPair</a>(<span class="keywordtype">unsigned</span> FirstOpc, <span class="keywordtype">unsigned</span> SecondOpc,</div>
<div class="line"><a name="l02883"></a><span class="lineno"> 2883</span>&#160;                                     <span class="keyword">const</span> <a class="code" href="classllvm_1_1PPCSubtarget.html">PPCSubtarget</a> &amp;Subtarget) {</div>
<div class="line"><a name="l02884"></a><span class="lineno"> 2884</span>&#160;  <span class="keywordflow">switch</span> (FirstOpc) {</div>
<div class="line"><a name="l02885"></a><span class="lineno"> 2885</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l02886"></a><span class="lineno"> 2886</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02887"></a><span class="lineno"> 2887</span>&#160;  <span class="keywordflow">case</span> PPC::STD:</div>
<div class="line"><a name="l02888"></a><span class="lineno"> 2888</span>&#160;  <span class="keywordflow">case</span> PPC::STFD:</div>
<div class="line"><a name="l02889"></a><span class="lineno"> 2889</span>&#160;  <span class="keywordflow">case</span> PPC::STXSD:</div>
<div class="line"><a name="l02890"></a><span class="lineno"> 2890</span>&#160;  <span class="keywordflow">case</span> PPC::DFSTOREf64:</div>
<div class="line"><a name="l02891"></a><span class="lineno"> 2891</span>&#160;    <span class="keywordflow">return</span> FirstOpc == SecondOpc;</div>
<div class="line"><a name="l02892"></a><span class="lineno"> 2892</span>&#160;  <span class="comment">// PowerPC backend has opcode STW/STW8 for instruction &quot;stw&quot; to deal with</span></div>
<div class="line"><a name="l02893"></a><span class="lineno"> 2893</span>&#160;  <span class="comment">// 32bit and 64bit instruction selection. They are clusterable pair though</span></div>
<div class="line"><a name="l02894"></a><span class="lineno"> 2894</span>&#160;  <span class="comment">// they are different opcode.</span></div>
<div class="line"><a name="l02895"></a><span class="lineno"> 2895</span>&#160;  <span class="keywordflow">case</span> PPC::STW:</div>
<div class="line"><a name="l02896"></a><span class="lineno"> 2896</span>&#160;  <span class="keywordflow">case</span> PPC::STW8:</div>
<div class="line"><a name="l02897"></a><span class="lineno"> 2897</span>&#160;    <span class="keywordflow">return</span> SecondOpc == PPC::STW || SecondOpc == PPC::STW8;</div>
<div class="line"><a name="l02898"></a><span class="lineno"> 2898</span>&#160;  }</div>
<div class="line"><a name="l02899"></a><span class="lineno"> 2899</span>&#160;}</div>
<div class="line"><a name="l02900"></a><span class="lineno"> 2900</span>&#160; </div>
<div class="line"><a name="l02901"></a><span class="lineno"><a class="line" href="classllvm_1_1PPCInstrInfo.html#a4d4ad131135377f00881005a7a0163ba"> 2901</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1PPCInstrInfo.html#a4d4ad131135377f00881005a7a0163ba">PPCInstrInfo::shouldClusterMemOps</a>(</div>
<div class="line"><a name="l02902"></a><span class="lineno"> 2902</span>&#160;    <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;const MachineOperand *&gt;</a> BaseOps1,</div>
<div class="line"><a name="l02903"></a><span class="lineno"> 2903</span>&#160;    <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;const MachineOperand *&gt;</a> BaseOps2, <span class="keywordtype">unsigned</span> NumLoads,</div>
<div class="line"><a name="l02904"></a><span class="lineno"> 2904</span>&#160;    <span class="keywordtype">unsigned</span> NumBytes)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l02905"></a><span class="lineno"> 2905</span>&#160; </div>
<div class="line"><a name="l02906"></a><span class="lineno"> 2906</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(BaseOps1.<a class="code" href="classllvm_1_1ArrayRef.html#a85ffb6531d4cda988ea81f18d4e56fb7">size</a>() == 1 &amp;&amp; BaseOps2.<a class="code" href="classllvm_1_1ArrayRef.html#a85ffb6531d4cda988ea81f18d4e56fb7">size</a>() == 1);</div>
<div class="line"><a name="l02907"></a><span class="lineno"> 2907</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;BaseOp1 = *BaseOps1.<a class="code" href="classllvm_1_1ArrayRef.html#a6bc2b53fce3b1d8975eea027d8a8eb90">front</a>();</div>
<div class="line"><a name="l02908"></a><span class="lineno"> 2908</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;BaseOp2 = *BaseOps2.<a class="code" href="classllvm_1_1ArrayRef.html#a6bc2b53fce3b1d8975eea027d8a8eb90">front</a>();</div>
<div class="line"><a name="l02909"></a><span class="lineno"> 2909</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((BaseOp1.<a class="code" href="classllvm_1_1MachineOperand.html#a4c9594c955fec80c73ddd964b5efd554">isReg</a>() || BaseOp1.<a class="code" href="classllvm_1_1MachineOperand.html#ad7213433bd60dc33020246384dc18b9b">isFI</a>()) &amp;&amp;</div>
<div class="line"><a name="l02910"></a><span class="lineno"> 2910</span>&#160;         <span class="stringliteral">&quot;Only base registers and frame indices are supported.&quot;</span>);</div>
<div class="line"><a name="l02911"></a><span class="lineno"> 2911</span>&#160; </div>
<div class="line"><a name="l02912"></a><span class="lineno"> 2912</span>&#160;  <span class="comment">// The NumLoads means the number of loads that has been clustered.</span></div>
<div class="line"><a name="l02913"></a><span class="lineno"> 2913</span>&#160;  <span class="comment">// Don&#39;t cluster memory op if there are already two ops clustered at least.</span></div>
<div class="line"><a name="l02914"></a><span class="lineno"> 2914</span>&#160;  <span class="keywordflow">if</span> (NumLoads &gt; 2)</div>
<div class="line"><a name="l02915"></a><span class="lineno"> 2915</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02916"></a><span class="lineno"> 2916</span>&#160; </div>
<div class="line"><a name="l02917"></a><span class="lineno"> 2917</span>&#160;  <span class="comment">// Cluster the load/store only when they have the same base</span></div>
<div class="line"><a name="l02918"></a><span class="lineno"> 2918</span>&#160;  <span class="comment">// register or FI.</span></div>
<div class="line"><a name="l02919"></a><span class="lineno"> 2919</span>&#160;  <span class="keywordflow">if</span> ((BaseOp1.<a class="code" href="classllvm_1_1MachineOperand.html#a4c9594c955fec80c73ddd964b5efd554">isReg</a>() != BaseOp2.<a class="code" href="classllvm_1_1MachineOperand.html#a4c9594c955fec80c73ddd964b5efd554">isReg</a>()) ||</div>
<div class="line"><a name="l02920"></a><span class="lineno"> 2920</span>&#160;      (BaseOp1.<a class="code" href="classllvm_1_1MachineOperand.html#a4c9594c955fec80c73ddd964b5efd554">isReg</a>() &amp;&amp; BaseOp1.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>() != BaseOp2.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>()) ||</div>
<div class="line"><a name="l02921"></a><span class="lineno"> 2921</span>&#160;      (BaseOp1.<a class="code" href="classllvm_1_1MachineOperand.html#ad7213433bd60dc33020246384dc18b9b">isFI</a>() &amp;&amp; BaseOp1.<a class="code" href="classllvm_1_1MachineOperand.html#aaa68daaf8d7b773d012887c92c2023ce">getIndex</a>() != BaseOp2.<a class="code" href="classllvm_1_1MachineOperand.html#aaa68daaf8d7b773d012887c92c2023ce">getIndex</a>()))</div>
<div class="line"><a name="l02922"></a><span class="lineno"> 2922</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02923"></a><span class="lineno"> 2923</span>&#160; </div>
<div class="line"><a name="l02924"></a><span class="lineno"> 2924</span>&#160;  <span class="comment">// Check if the load/store are clusterable according to the PowerPC</span></div>
<div class="line"><a name="l02925"></a><span class="lineno"> 2925</span>&#160;  <span class="comment">// specification.</span></div>
<div class="line"><a name="l02926"></a><span class="lineno"> 2926</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;FirstLdSt = *BaseOp1.<a class="code" href="classllvm_1_1MachineOperand.html#acad8fe90886f92eabced0c2f9bd0e6f5">getParent</a>();</div>
<div class="line"><a name="l02927"></a><span class="lineno"> 2927</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;SecondLdSt = *BaseOp2.<a class="code" href="classllvm_1_1MachineOperand.html#acad8fe90886f92eabced0c2f9bd0e6f5">getParent</a>();</div>
<div class="line"><a name="l02928"></a><span class="lineno"> 2928</span>&#160;  <span class="keywordtype">unsigned</span> FirstOpc = FirstLdSt.<a class="code" href="classllvm_1_1MachineInstr.html#a0363204b5fbab08a46f5a7cd7f376f78">getOpcode</a>();</div>
<div class="line"><a name="l02929"></a><span class="lineno"> 2929</span>&#160;  <span class="keywordtype">unsigned</span> SecondOpc = SecondLdSt.<a class="code" href="classllvm_1_1MachineInstr.html#a0363204b5fbab08a46f5a7cd7f376f78">getOpcode</a>();</div>
<div class="line"><a name="l02930"></a><span class="lineno"> 2930</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterInfo.html">TargetRegisterInfo</a> *<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a> = &amp;<a class="code" href="classllvm_1_1PPCInstrInfo.html#a7736d6dc0c4303c59d1192988b8919e9">getRegisterInfo</a>();</div>
<div class="line"><a name="l02931"></a><span class="lineno"> 2931</span>&#160;  <span class="comment">// Cluster the load/store only when they have the same opcode, and they are</span></div>
<div class="line"><a name="l02932"></a><span class="lineno"> 2932</span>&#160;  <span class="comment">// clusterable opcode according to PowerPC specification.</span></div>
<div class="line"><a name="l02933"></a><span class="lineno"> 2933</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="PPCInstrInfo_8cpp.html#a8d09a210107e531ce04d3c0f296142ff">isClusterableLdStOpcPair</a>(FirstOpc, SecondOpc, Subtarget))</div>
<div class="line"><a name="l02934"></a><span class="lineno"> 2934</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02935"></a><span class="lineno"> 2935</span>&#160; </div>
<div class="line"><a name="l02936"></a><span class="lineno"> 2936</span>&#160;  <span class="comment">// Can&#39;t cluster load/store that have ordered or volatile memory reference.</span></div>
<div class="line"><a name="l02937"></a><span class="lineno"> 2937</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="PPCInstrInfo_8cpp.html#aa5a8087086656299167f931f805778bb">isLdStSafeToCluster</a>(FirstLdSt, <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>) ||</div>
<div class="line"><a name="l02938"></a><span class="lineno"> 2938</span>&#160;      !<a class="code" href="PPCInstrInfo_8cpp.html#aa5a8087086656299167f931f805778bb">isLdStSafeToCluster</a>(SecondLdSt, <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>))</div>
<div class="line"><a name="l02939"></a><span class="lineno"> 2939</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02940"></a><span class="lineno"> 2940</span>&#160; </div>
<div class="line"><a name="l02941"></a><span class="lineno"> 2941</span>&#160;  int64_t Offset1 = 0, Offset2 = 0;</div>
<div class="line"><a name="l02942"></a><span class="lineno"> 2942</span>&#160;  <span class="keywordtype">unsigned</span> Width1 = 0, Width2 = 0;</div>
<div class="line"><a name="l02943"></a><span class="lineno"> 2943</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> *Base1 = <span class="keyword">nullptr</span>, *Base2 = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02944"></a><span class="lineno"> 2944</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1PPCInstrInfo.html#a7d841f6c4d4a0042484feff56fd25857">getMemOperandWithOffsetWidth</a>(FirstLdSt, Base1, Offset1, Width1, <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>) ||</div>
<div class="line"><a name="l02945"></a><span class="lineno"> 2945</span>&#160;      !<a class="code" href="classllvm_1_1PPCInstrInfo.html#a7d841f6c4d4a0042484feff56fd25857">getMemOperandWithOffsetWidth</a>(SecondLdSt, Base2, Offset2, Width2, <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>) ||</div>
<div class="line"><a name="l02946"></a><span class="lineno"> 2946</span>&#160;      Width1 != Width2)</div>
<div class="line"><a name="l02947"></a><span class="lineno"> 2947</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02948"></a><span class="lineno"> 2948</span>&#160; </div>
<div class="line"><a name="l02949"></a><span class="lineno"> 2949</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Base1 == &amp;BaseOp1 &amp;&amp; Base2 == &amp;BaseOp2 &amp;&amp;</div>
<div class="line"><a name="l02950"></a><span class="lineno"> 2950</span>&#160;         <span class="stringliteral">&quot;getMemOperandWithOffsetWidth return incorrect base op&quot;</span>);</div>
<div class="line"><a name="l02951"></a><span class="lineno"> 2951</span>&#160;  <span class="comment">// The caller should already have ordered FirstMemOp/SecondMemOp by offset.</span></div>
<div class="line"><a name="l02952"></a><span class="lineno"> 2952</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Offset1 &lt;= Offset2 &amp;&amp; <span class="stringliteral">&quot;Caller should have ordered offsets.&quot;</span>);</div>
<div class="line"><a name="l02953"></a><span class="lineno"> 2953</span>&#160;  <span class="keywordflow">return</span> Offset1 + Width1 == Offset2;</div>
<div class="line"><a name="l02954"></a><span class="lineno"> 2954</span>&#160;}</div>
<div class="line"><a name="l02955"></a><span class="lineno"> 2955</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l02956"></a><span class="lineno"> 2956</span>&#160;<span class="comment">/// GetInstSize - Return the number of bytes of code the specified</span></div>
<div class="line"><a name="l02957"></a><span class="lineno"> 2957</span>&#160;<span class="comment">/// instruction may be.  This returns the maximum number of bytes.</span></div>
<div class="line"><a name="l02958"></a><span class="lineno"> 2958</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l02959"></a><span class="lineno"><a class="line" href="classllvm_1_1PPCInstrInfo.html#adaba46ae7351c9a651fc32fae020cb0d"> 2959</a></span>&#160;<span class="comment"></span><span class="keywordtype">unsigned</span> <a class="code" href="classllvm_1_1PPCInstrInfo.html#adaba46ae7351c9a651fc32fae020cb0d">PPCInstrInfo::getInstSizeInBytes</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l02960"></a><span class="lineno"> 2960</span>&#160;  <span class="keywordtype">unsigned</span> Opcode = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode();</div>
<div class="line"><a name="l02961"></a><span class="lineno"> 2961</span>&#160; </div>
<div class="line"><a name="l02962"></a><span class="lineno"> 2962</span>&#160;  <span class="keywordflow">if</span> (Opcode == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ae35d57f3c020672748fcc95607348986">PPC::INLINEASM</a> || Opcode == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ab969e7d43eb37a0398b5ded23bccc136">PPC::INLINEASM_BR</a>) {</div>
<div class="line"><a name="l02963"></a><span class="lineno"> 2963</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> *MF = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getParent()-&gt;getParent();</div>
<div class="line"><a name="l02964"></a><span class="lineno"> 2964</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *AsmStr = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(0).getSymbolName();</div>
<div class="line"><a name="l02965"></a><span class="lineno"> 2965</span>&#160;    <span class="keywordflow">return</span> getInlineAsmLength(AsmStr, *MF-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#ae68d159179d37dc7969439d842e2644f">getTarget</a>().<a class="code" href="classllvm_1_1TargetMachine.html#a171c7253c2b03171bdf22c1bd910f674">getMCAsmInfo</a>());</div>
<div class="line"><a name="l02966"></a><span class="lineno"> 2966</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Opcode == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad2904b2502547c3f3d390774f8f548c7">TargetOpcode::STACKMAP</a>) {</div>
<div class="line"><a name="l02967"></a><span class="lineno"> 2967</span>&#160;    <a class="code" href="classllvm_1_1StackMapOpers.html">StackMapOpers</a> Opers(&amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l02968"></a><span class="lineno"> 2968</span>&#160;    <span class="keywordflow">return</span> Opers.<a class="code" href="classllvm_1_1StackMapOpers.html#a4330cae153bbaadcf79bb4917a6c3924">getNumPatchBytes</a>();</div>
<div class="line"><a name="l02969"></a><span class="lineno"> 2969</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Opcode == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aa31dda85603496c333a105d53ce62150">TargetOpcode::PATCHPOINT</a>) {</div>
<div class="line"><a name="l02970"></a><span class="lineno"> 2970</span>&#160;    <a class="code" href="classllvm_1_1PatchPointOpers.html">PatchPointOpers</a> Opers(&amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l02971"></a><span class="lineno"> 2971</span>&#160;    <span class="keywordflow">return</span> Opers.<a class="code" href="classllvm_1_1PatchPointOpers.html#aa319bb1da5a106c84bfa9a1fdca084bc">getNumPatchBytes</a>();</div>
<div class="line"><a name="l02972"></a><span class="lineno"> 2972</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02973"></a><span class="lineno"> 2973</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(Opcode).getSize();</div>
<div class="line"><a name="l02974"></a><span class="lineno"> 2974</span>&#160;  }</div>
<div class="line"><a name="l02975"></a><span class="lineno"> 2975</span>&#160;}</div>
<div class="line"><a name="l02976"></a><span class="lineno"> 2976</span>&#160; </div>
<div class="line"><a name="l02977"></a><span class="lineno"> 2977</span>&#160;std::pair&lt;unsigned, unsigned&gt;</div>
<div class="line"><a name="l02978"></a><span class="lineno"><a class="line" href="classllvm_1_1PPCInstrInfo.html#a76f800670cc87a59e8df8f90f74ffc02"> 2978</a></span>&#160;<a class="code" href="classllvm_1_1PPCInstrInfo.html#a76f800670cc87a59e8df8f90f74ffc02">PPCInstrInfo::decomposeMachineOperandsTargetFlags</a>(<span class="keywordtype">unsigned</span> TF)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l02979"></a><span class="lineno"> 2979</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a> = <a class="code" href="namespacellvm_1_1PPCII.html#ae73836094d8b0399ba10a6e540a363ffa473364a1f0cc5c395f582cf7ba1ff468">PPCII::MO_ACCESS_MASK</a>;</div>
<div class="line"><a name="l02980"></a><span class="lineno"> 2980</span>&#160;  <span class="keywordflow">return</span> std::make_pair(TF &amp; <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>, TF &amp; ~<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>);</div>
<div class="line"><a name="l02981"></a><span class="lineno"> 2981</span>&#160;}</div>
<div class="line"><a name="l02982"></a><span class="lineno"> 2982</span>&#160; </div>
<div class="line"><a name="l02983"></a><span class="lineno"> 2983</span>&#160;<a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;std::pair&lt;unsigned, const char *&gt;</a>&gt;</div>
<div class="line"><a name="l02984"></a><span class="lineno"><a class="line" href="classllvm_1_1PPCInstrInfo.html#a830ea3a66d17dde796c0623587a8d701"> 2984</a></span>&#160;<a class="code" href="classllvm_1_1PPCInstrInfo.html#a830ea3a66d17dde796c0623587a8d701">PPCInstrInfo::getSerializableDirectMachineOperandTargetFlags</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l02985"></a><span class="lineno"> 2985</span>&#160;  <span class="keyword">using namespace </span>PPCII;</div>
<div class="line"><a name="l02986"></a><span class="lineno"> 2986</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> std::pair&lt;unsigned, const char *&gt; TargetFlags[] = {</div>
<div class="line"><a name="l02987"></a><span class="lineno"> 2987</span>&#160;      {<a class="code" href="namespacellvm_1_1AVRII.html#af0b01fa3c73b359837f3a7713274269aac78eef6657cad8b6d62131d926614fe8">MO_LO</a>, <span class="stringliteral">&quot;ppc-lo&quot;</span>},</div>
<div class="line"><a name="l02988"></a><span class="lineno"> 2988</span>&#160;      {<a class="code" href="namespacellvm_1_1PPCII.html#ae73836094d8b0399ba10a6e540a363ffaf3ceb6d8d3d044088a869d52777a6ed6">MO_HA</a>, <span class="stringliteral">&quot;ppc-ha&quot;</span>},</div>
<div class="line"><a name="l02989"></a><span class="lineno"> 2989</span>&#160;      {<a class="code" href="namespacellvm_1_1MipsII.html#ab0cf5f5ed4db649fc89a1b41f8b5771fa017c78afd95cb34d547e5b12d7e82cf2">MO_TPREL_LO</a>, <span class="stringliteral">&quot;ppc-tprel-lo&quot;</span>},</div>
<div class="line"><a name="l02990"></a><span class="lineno"> 2990</span>&#160;      {<a class="code" href="namespacellvm_1_1PPCII.html#ae73836094d8b0399ba10a6e540a363ffaa7929b1029f09db9b9b538e0d200fdd8">MO_TPREL_HA</a>, <span class="stringliteral">&quot;ppc-tprel-ha&quot;</span>},</div>
<div class="line"><a name="l02991"></a><span class="lineno"> 2991</span>&#160;      {<a class="code" href="namespacellvm_1_1MipsII.html#ab0cf5f5ed4db649fc89a1b41f8b5771fad15659773f43e297a5f00bc6e74c476b">MO_DTPREL_LO</a>, <span class="stringliteral">&quot;ppc-dtprel-lo&quot;</span>},</div>
<div class="line"><a name="l02992"></a><span class="lineno"> 2992</span>&#160;      {<a class="code" href="namespacellvm_1_1PPCII.html#ae73836094d8b0399ba10a6e540a363ffa0ab30789f6ac6df962adba01f53c2888">MO_TLSLD_LO</a>, <span class="stringliteral">&quot;ppc-tlsld-lo&quot;</span>},</div>
<div class="line"><a name="l02993"></a><span class="lineno"> 2993</span>&#160;      {<a class="code" href="namespacellvm_1_1PPCII.html#ae73836094d8b0399ba10a6e540a363ffad512bc138c5c6766b7ee4f66e43d47b4">MO_TOC_LO</a>, <span class="stringliteral">&quot;ppc-toc-lo&quot;</span>},</div>
<div class="line"><a name="l02994"></a><span class="lineno"> 2994</span>&#160;      {<a class="code" href="namespacellvm_1_1AArch64II.html#ae22a65863fdb02ce99abf9ee08bcbb71add46ede0892fdd429e940eb97c1e6e55">MO_TLS</a>, <span class="stringliteral">&quot;ppc-tls&quot;</span>}};</div>
<div class="line"><a name="l02995"></a><span class="lineno"> 2995</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#ab9c6b351507d3c0730f4290919d43a12">ArrayRef</a>(TargetFlags);</div>
<div class="line"><a name="l02996"></a><span class="lineno"> 2996</span>&#160;}</div>
<div class="line"><a name="l02997"></a><span class="lineno"> 2997</span>&#160; </div>
<div class="line"><a name="l02998"></a><span class="lineno"> 2998</span>&#160;<a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;std::pair&lt;unsigned, const char *&gt;</a>&gt;</div>
<div class="line"><a name="l02999"></a><span class="lineno"><a class="line" href="classllvm_1_1PPCInstrInfo.html#afd94e27d369270a3c80e08cc32646ce9"> 2999</a></span>&#160;<a class="code" href="classllvm_1_1PPCInstrInfo.html#afd94e27d369270a3c80e08cc32646ce9">PPCInstrInfo::getSerializableBitmaskMachineOperandTargetFlags</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l03000"></a><span class="lineno"> 3000</span>&#160;  <span class="keyword">using namespace </span>PPCII;</div>
<div class="line"><a name="l03001"></a><span class="lineno"> 3001</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> std::pair&lt;unsigned, const char *&gt; TargetFlags[] = {</div>
<div class="line"><a name="l03002"></a><span class="lineno"> 3002</span>&#160;      {<a class="code" href="namespacellvm_1_1M68kII.html#adb1ef011f9833415094dce191a23ad88a57e0e9fc5c5f19541861ef8dd3161679">MO_PLT</a>, <span class="stringliteral">&quot;ppc-plt&quot;</span>},</div>
<div class="line"><a name="l03003"></a><span class="lineno"> 3003</span>&#160;      {<a class="code" href="namespacellvm_1_1PPCII.html#ae73836094d8b0399ba10a6e540a363ffaf464d229c08e6d5eb945d7b905a7c9fd">MO_PIC_FLAG</a>, <span class="stringliteral">&quot;ppc-pic&quot;</span>},</div>
<div class="line"><a name="l03004"></a><span class="lineno"> 3004</span>&#160;      {<a class="code" href="namespacellvm_1_1PPCII.html#ae73836094d8b0399ba10a6e540a363ffa777b254f8a19bf466553840f89ecaf31">MO_PCREL_FLAG</a>, <span class="stringliteral">&quot;ppc-pcrel&quot;</span>},</div>
<div class="line"><a name="l03005"></a><span class="lineno"> 3005</span>&#160;      {<a class="code" href="namespacellvm_1_1PPCII.html#ae73836094d8b0399ba10a6e540a363ffa8884a7365b40eb87c9dbc760b641a55a">MO_GOT_FLAG</a>, <span class="stringliteral">&quot;ppc-got&quot;</span>},</div>
<div class="line"><a name="l03006"></a><span class="lineno"> 3006</span>&#160;      {<a class="code" href="namespacellvm_1_1PPCII.html#ae73836094d8b0399ba10a6e540a363ffaf4ba2908fdc36ea179a9e3f8eda40637">MO_PCREL_OPT_FLAG</a>, <span class="stringliteral">&quot;ppc-opt-pcrel&quot;</span>},</div>
<div class="line"><a name="l03007"></a><span class="lineno"> 3007</span>&#160;      {<a class="code" href="namespacellvm_1_1PPCII.html#ae73836094d8b0399ba10a6e540a363ffae65924f7be0d235dfb37b97894d631b6">MO_TLSGD_FLAG</a>, <span class="stringliteral">&quot;ppc-tlsgd&quot;</span>},</div>
<div class="line"><a name="l03008"></a><span class="lineno"> 3008</span>&#160;      {<a class="code" href="namespacellvm_1_1PPCII.html#ae73836094d8b0399ba10a6e540a363ffa77f81a23f8ce498f9ef4bbc5433c116b">MO_TLSLD_FLAG</a>, <span class="stringliteral">&quot;ppc-tlsld&quot;</span>},</div>
<div class="line"><a name="l03009"></a><span class="lineno"> 3009</span>&#160;      {<a class="code" href="namespacellvm_1_1PPCII.html#ae73836094d8b0399ba10a6e540a363ffac09dc26b3c7ea75dfd6da305042926cb">MO_TPREL_FLAG</a>, <span class="stringliteral">&quot;ppc-tprel&quot;</span>},</div>
<div class="line"><a name="l03010"></a><span class="lineno"> 3010</span>&#160;      {<a class="code" href="namespacellvm_1_1PPCII.html#ae73836094d8b0399ba10a6e540a363ffa6003030015cbe98f30d697c9c8a155bf">MO_TLSGDM_FLAG</a>, <span class="stringliteral">&quot;ppc-tlsgdm&quot;</span>},</div>
<div class="line"><a name="l03011"></a><span class="lineno"> 3011</span>&#160;      {<a class="code" href="namespacellvm_1_1PPCII.html#ae73836094d8b0399ba10a6e540a363ffaf045b588ae476aff3ea48b77c042f7b1">MO_GOT_TLSGD_PCREL_FLAG</a>, <span class="stringliteral">&quot;ppc-got-tlsgd-pcrel&quot;</span>},</div>
<div class="line"><a name="l03012"></a><span class="lineno"> 3012</span>&#160;      {<a class="code" href="namespacellvm_1_1PPCII.html#ae73836094d8b0399ba10a6e540a363ffad1af346db81472a462b7f04fa9498ab4">MO_GOT_TLSLD_PCREL_FLAG</a>, <span class="stringliteral">&quot;ppc-got-tlsld-pcrel&quot;</span>},</div>
<div class="line"><a name="l03013"></a><span class="lineno"> 3013</span>&#160;      {<a class="code" href="namespacellvm_1_1PPCII.html#ae73836094d8b0399ba10a6e540a363ffa467b829ca0e160907522584b98b618a0">MO_GOT_TPREL_PCREL_FLAG</a>, <span class="stringliteral">&quot;ppc-got-tprel-pcrel&quot;</span>}};</div>
<div class="line"><a name="l03014"></a><span class="lineno"> 3014</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#ab9c6b351507d3c0730f4290919d43a12">ArrayRef</a>(TargetFlags);</div>
<div class="line"><a name="l03015"></a><span class="lineno"> 3015</span>&#160;}</div>
<div class="line"><a name="l03016"></a><span class="lineno"> 3016</span>&#160; </div>
<div class="line"><a name="l03017"></a><span class="lineno"> 3017</span>&#160;<span class="comment">// Expand VSX Memory Pseudo instruction to either a VSX or a FP instruction.</span></div>
<div class="line"><a name="l03018"></a><span class="lineno"> 3018</span>&#160;<span class="comment">// The VSX versions have the advantage of a full 64-register target whereas</span></div>
<div class="line"><a name="l03019"></a><span class="lineno"> 3019</span>&#160;<span class="comment">// the FP ones have the advantage of lower latency and higher throughput. So</span></div>
<div class="line"><a name="l03020"></a><span class="lineno"> 3020</span>&#160;<span class="comment">// what we are after is using the faster instructions in low register pressure</span></div>
<div class="line"><a name="l03021"></a><span class="lineno"> 3021</span>&#160;<span class="comment">// situations and using the larger register file in high register pressure</span></div>
<div class="line"><a name="l03022"></a><span class="lineno"> 3022</span>&#160;<span class="comment">// situations.</span></div>
<div class="line"><a name="l03023"></a><span class="lineno"><a class="line" href="classllvm_1_1PPCInstrInfo.html#a1517c8d905b7053ac5bdb9582cf49c03"> 3023</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1PPCInstrInfo.html#a1517c8d905b7053ac5bdb9582cf49c03">PPCInstrInfo::expandVSXMemPseudo</a>(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l03024"></a><span class="lineno"> 3024</span>&#160;    <span class="keywordtype">unsigned</span> UpperOpcode, LowerOpcode;</div>
<div class="line"><a name="l03025"></a><span class="lineno"> 3025</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode()) {</div>
<div class="line"><a name="l03026"></a><span class="lineno"> 3026</span>&#160;    <span class="keywordflow">case</span> PPC::DFLOADf32:</div>
<div class="line"><a name="l03027"></a><span class="lineno"> 3027</span>&#160;      UpperOpcode = PPC::LXSSP;</div>
<div class="line"><a name="l03028"></a><span class="lineno"> 3028</span>&#160;      LowerOpcode = PPC::LFS;</div>
<div class="line"><a name="l03029"></a><span class="lineno"> 3029</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03030"></a><span class="lineno"> 3030</span>&#160;    <span class="keywordflow">case</span> PPC::DFLOADf64:</div>
<div class="line"><a name="l03031"></a><span class="lineno"> 3031</span>&#160;      UpperOpcode = PPC::LXSD;</div>
<div class="line"><a name="l03032"></a><span class="lineno"> 3032</span>&#160;      LowerOpcode = PPC::LFD;</div>
<div class="line"><a name="l03033"></a><span class="lineno"> 3033</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03034"></a><span class="lineno"> 3034</span>&#160;    <span class="keywordflow">case</span> PPC::DFSTOREf32:</div>
<div class="line"><a name="l03035"></a><span class="lineno"> 3035</span>&#160;      UpperOpcode = PPC::STXSSP;</div>
<div class="line"><a name="l03036"></a><span class="lineno"> 3036</span>&#160;      LowerOpcode = PPC::STFS;</div>
<div class="line"><a name="l03037"></a><span class="lineno"> 3037</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03038"></a><span class="lineno"> 3038</span>&#160;    <span class="keywordflow">case</span> PPC::DFSTOREf64:</div>
<div class="line"><a name="l03039"></a><span class="lineno"> 3039</span>&#160;      UpperOpcode = PPC::STXSD;</div>
<div class="line"><a name="l03040"></a><span class="lineno"> 3040</span>&#160;      LowerOpcode = PPC::STFD;</div>
<div class="line"><a name="l03041"></a><span class="lineno"> 3041</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03042"></a><span class="lineno"> 3042</span>&#160;    <span class="keywordflow">case</span> PPC::XFLOADf32:</div>
<div class="line"><a name="l03043"></a><span class="lineno"> 3043</span>&#160;      UpperOpcode = PPC::LXSSPX;</div>
<div class="line"><a name="l03044"></a><span class="lineno"> 3044</span>&#160;      LowerOpcode = PPC::LFSX;</div>
<div class="line"><a name="l03045"></a><span class="lineno"> 3045</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03046"></a><span class="lineno"> 3046</span>&#160;    <span class="keywordflow">case</span> PPC::XFLOADf64:</div>
<div class="line"><a name="l03047"></a><span class="lineno"> 3047</span>&#160;      UpperOpcode = PPC::LXSDX;</div>
<div class="line"><a name="l03048"></a><span class="lineno"> 3048</span>&#160;      LowerOpcode = PPC::LFDX;</div>
<div class="line"><a name="l03049"></a><span class="lineno"> 3049</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03050"></a><span class="lineno"> 3050</span>&#160;    <span class="keywordflow">case</span> PPC::XFSTOREf32:</div>
<div class="line"><a name="l03051"></a><span class="lineno"> 3051</span>&#160;      UpperOpcode = PPC::STXSSPX;</div>
<div class="line"><a name="l03052"></a><span class="lineno"> 3052</span>&#160;      LowerOpcode = PPC::STFSX;</div>
<div class="line"><a name="l03053"></a><span class="lineno"> 3053</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03054"></a><span class="lineno"> 3054</span>&#160;    <span class="keywordflow">case</span> PPC::XFSTOREf64:</div>
<div class="line"><a name="l03055"></a><span class="lineno"> 3055</span>&#160;      UpperOpcode = PPC::STXSDX;</div>
<div class="line"><a name="l03056"></a><span class="lineno"> 3056</span>&#160;      LowerOpcode = PPC::STFDX;</div>
<div class="line"><a name="l03057"></a><span class="lineno"> 3057</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03058"></a><span class="lineno"> 3058</span>&#160;    <span class="keywordflow">case</span> PPC::LIWAX:</div>
<div class="line"><a name="l03059"></a><span class="lineno"> 3059</span>&#160;      UpperOpcode = PPC::LXSIWAX;</div>
<div class="line"><a name="l03060"></a><span class="lineno"> 3060</span>&#160;      LowerOpcode = <a class="code" href="namespacellvm_1_1PPCISD.html#ad1c32e5bb1cb213fb836bc3d221e4f19af19177e57893484cb79f34527b5cd7f8">PPC::LFIWAX</a>;</div>
<div class="line"><a name="l03061"></a><span class="lineno"> 3061</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03062"></a><span class="lineno"> 3062</span>&#160;    <span class="keywordflow">case</span> PPC::LIWZX:</div>
<div class="line"><a name="l03063"></a><span class="lineno"> 3063</span>&#160;      UpperOpcode = PPC::LXSIWZX;</div>
<div class="line"><a name="l03064"></a><span class="lineno"> 3064</span>&#160;      LowerOpcode = <a class="code" href="namespacellvm_1_1PPCISD.html#ad1c32e5bb1cb213fb836bc3d221e4f19a480a6977d64df14b9af6821de3f520b9">PPC::LFIWZX</a>;</div>
<div class="line"><a name="l03065"></a><span class="lineno"> 3065</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03066"></a><span class="lineno"> 3066</span>&#160;    <span class="keywordflow">case</span> PPC::STIWX:</div>
<div class="line"><a name="l03067"></a><span class="lineno"> 3067</span>&#160;      UpperOpcode = PPC::STXSIWX;</div>
<div class="line"><a name="l03068"></a><span class="lineno"> 3068</span>&#160;      LowerOpcode = <a class="code" href="namespacellvm_1_1PPCISD.html#ad1c32e5bb1cb213fb836bc3d221e4f19aa71de12afd261e0b3f2e040ce1c10315">PPC::STFIWX</a>;</div>
<div class="line"><a name="l03069"></a><span class="lineno"> 3069</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03070"></a><span class="lineno"> 3070</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l03071"></a><span class="lineno"> 3071</span>&#160;      <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unknown Operation!&quot;</span>);</div>
<div class="line"><a name="l03072"></a><span class="lineno"> 3072</span>&#160;    }</div>
<div class="line"><a name="l03073"></a><span class="lineno"> 3073</span>&#160; </div>
<div class="line"><a name="l03074"></a><span class="lineno"> 3074</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> TargetReg = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(0).getReg();</div>
<div class="line"><a name="l03075"></a><span class="lineno"> 3075</span>&#160;    <span class="keywordtype">unsigned</span> Opcode;</div>
<div class="line"><a name="l03076"></a><span class="lineno"> 3076</span>&#160;    <span class="keywordflow">if</span> ((TargetReg &gt;= PPC::F0 &amp;&amp; TargetReg &lt;= PPC::F31) ||</div>
<div class="line"><a name="l03077"></a><span class="lineno"> 3077</span>&#160;        (TargetReg &gt;= PPC::VSL0 &amp;&amp; TargetReg &lt;= PPC::VSL31))</div>
<div class="line"><a name="l03078"></a><span class="lineno"> 3078</span>&#160;      Opcode = LowerOpcode;</div>
<div class="line"><a name="l03079"></a><span class="lineno"> 3079</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l03080"></a><span class="lineno"> 3080</span>&#160;      Opcode = UpperOpcode;</div>
<div class="line"><a name="l03081"></a><span class="lineno"> 3081</span>&#160;    <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.setDesc(<a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(Opcode));</div>
<div class="line"><a name="l03082"></a><span class="lineno"> 3082</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03083"></a><span class="lineno"> 3083</span>&#160;}</div>
<div class="line"><a name="l03084"></a><span class="lineno"> 3084</span>&#160; </div>
<div class="line"><a name="l03085"></a><span class="lineno"><a class="line" href="PPCInstrInfo_8cpp.html#a3abad49282c799b7daeacb2b1bd5272b"> 3085</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="PPCInstrInfo_8cpp.html#a3abad49282c799b7daeacb2b1bd5272b">isAnImmediateOperand</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;MO) {</div>
<div class="line"><a name="l03086"></a><span class="lineno"> 3086</span>&#160;  <span class="keywordflow">return</span> MO.<a class="code" href="classllvm_1_1MachineOperand.html#a5b401e780c5eed0aca1cfbf44d36a545">isCPI</a>() || MO.<a class="code" href="classllvm_1_1MachineOperand.html#ab0d1155c8c38e84cbe387998fd2e517e">isGlobal</a>() || MO.<a class="code" href="classllvm_1_1MachineOperand.html#a76f61c6784df6dc8402a8b9011041926">isImm</a>();</div>
<div class="line"><a name="l03087"></a><span class="lineno"> 3087</span>&#160;}</div>
<div class="line"><a name="l03088"></a><span class="lineno"> 3088</span>&#160; </div>
<div class="line"><a name="l03089"></a><span class="lineno"><a class="line" href="classllvm_1_1PPCInstrInfo.html#a7941fd2c7d339dfe155c4327fd95fab0"> 3089</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1PPCInstrInfo.html#a7941fd2c7d339dfe155c4327fd95fab0">PPCInstrInfo::expandPostRAPseudo</a>(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l03090"></a><span class="lineno"> 3090</span>&#160;  <span class="keyword">auto</span> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a> = *<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getParent();</div>
<div class="line"><a name="l03091"></a><span class="lineno"> 3091</span>&#160;  <span class="keyword">auto</span> <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a> = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getDebugLoc();</div>
<div class="line"><a name="l03092"></a><span class="lineno"> 3092</span>&#160; </div>
<div class="line"><a name="l03093"></a><span class="lineno"> 3093</span>&#160;  <span class="keywordflow">switch</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode()) {</div>
<div class="line"><a name="l03094"></a><span class="lineno"> 3094</span>&#160;  <span class="keywordflow">case</span> PPC::BUILD_UACC: {</div>
<div class="line"><a name="l03095"></a><span class="lineno"> 3095</span>&#160;    <a class="code" href="classllvm_1_1MCRegister.html">MCRegister</a> ACC = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(0).getReg();</div>
<div class="line"><a name="l03096"></a><span class="lineno"> 3096</span>&#160;    <a class="code" href="classllvm_1_1MCRegister.html">MCRegister</a> UACC = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(1).getReg();</div>
<div class="line"><a name="l03097"></a><span class="lineno"> 3097</span>&#160;    <span class="keywordflow">if</span> (ACC - PPC::ACC0 != UACC - PPC::UACC0) {</div>
<div class="line"><a name="l03098"></a><span class="lineno"> 3098</span>&#160;      <a class="code" href="classllvm_1_1MCRegister.html">MCRegister</a> SrcVSR = PPC::VSL0 + (UACC - PPC::UACC0) * 4;</div>
<div class="line"><a name="l03099"></a><span class="lineno"> 3099</span>&#160;      <a class="code" href="classllvm_1_1MCRegister.html">MCRegister</a> DstVSR = PPC::VSL0 + (ACC - PPC::ACC0) * 4;</div>
<div class="line"><a name="l03100"></a><span class="lineno"> 3100</span>&#160;      <span class="comment">// FIXME: This can easily be improved to look up to the top of the MBB</span></div>
<div class="line"><a name="l03101"></a><span class="lineno"> 3101</span>&#160;      <span class="comment">// to see if the inputs are XXLOR&#39;s. If they are and SrcReg is killed,</span></div>
<div class="line"><a name="l03102"></a><span class="lineno"> 3102</span>&#160;      <span class="comment">// we can just re-target any such XXLOR&#39;s to DstVSR + offset.</span></div>
<div class="line"><a name="l03103"></a><span class="lineno"> 3103</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> VecNo = 0; VecNo &lt; 4; VecNo++)</div>
<div class="line"><a name="l03104"></a><span class="lineno"> 3104</span>&#160;        <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(PPC::XXLOR), DstVSR + VecNo)</div>
<div class="line"><a name="l03105"></a><span class="lineno"> 3105</span>&#160;            .addReg(SrcVSR + VecNo)</div>
<div class="line"><a name="l03106"></a><span class="lineno"> 3106</span>&#160;            .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(SrcVSR + VecNo);</div>
<div class="line"><a name="l03107"></a><span class="lineno"> 3107</span>&#160;    }</div>
<div class="line"><a name="l03108"></a><span class="lineno"> 3108</span>&#160;    <span class="comment">// BUILD_UACC is expanded to 4 copies of the underlying vsx registers.</span></div>
<div class="line"><a name="l03109"></a><span class="lineno"> 3109</span>&#160;    <span class="comment">// So after building the 4 copies, we can replace the BUILD_UACC instruction</span></div>
<div class="line"><a name="l03110"></a><span class="lineno"> 3110</span>&#160;    <span class="comment">// with a NOP.</span></div>
<div class="line"><a name="l03111"></a><span class="lineno"> 3111</span>&#160;    [[fallthrough]];</div>
<div class="line"><a name="l03112"></a><span class="lineno"> 3112</span>&#160;  }</div>
<div class="line"><a name="l03113"></a><span class="lineno"> 3113</span>&#160;  <span class="keywordflow">case</span> PPC::KILL_PAIR: {</div>
<div class="line"><a name="l03114"></a><span class="lineno"> 3114</span>&#160;    <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.setDesc(<a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(PPC::UNENCODED_NOP));</div>
<div class="line"><a name="l03115"></a><span class="lineno"> 3115</span>&#160;    <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.removeOperand(1);</div>
<div class="line"><a name="l03116"></a><span class="lineno"> 3116</span>&#160;    <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.removeOperand(0);</div>
<div class="line"><a name="l03117"></a><span class="lineno"> 3117</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03118"></a><span class="lineno"> 3118</span>&#160;  }</div>
<div class="line"><a name="l03119"></a><span class="lineno"> 3119</span>&#160;  <span class="keywordflow">case</span> TargetOpcode::LOAD_STACK_GUARD: {</div>
<div class="line"><a name="l03120"></a><span class="lineno"> 3120</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Subtarget.<a class="code" href="classllvm_1_1PPCSubtarget.html#abadbfa907a7aadce4c75b1191aed2260">isTargetLinux</a>() &amp;&amp;</div>
<div class="line"><a name="l03121"></a><span class="lineno"> 3121</span>&#160;           <span class="stringliteral">&quot;Only Linux target is expected to contain LOAD_STACK_GUARD&quot;</span>);</div>
<div class="line"><a name="l03122"></a><span class="lineno"> 3122</span>&#160;    <span class="keyword">const</span> int64_t <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> = Subtarget.<a class="code" href="classllvm_1_1PPCSubtarget.html#a6622b99b3c00a3938d969957312b1b52">isPPC64</a>() ? -0x7010 : -0x7008;</div>
<div class="line"><a name="l03123"></a><span class="lineno"> 3123</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a> = Subtarget.<a class="code" href="classllvm_1_1PPCSubtarget.html#a6622b99b3c00a3938d969957312b1b52">isPPC64</a>() ? PPC::X13 : <a class="code" href="MathExtras_8h.html#a9211f62d8e1e6de999eaa63ec0f6ae02">PPC::R2</a>;</div>
<div class="line"><a name="l03124"></a><span class="lineno"> 3124</span>&#160;    <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.setDesc(<a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(Subtarget.<a class="code" href="classllvm_1_1PPCSubtarget.html#a6622b99b3c00a3938d969957312b1b52">isPPC64</a>() ? <a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85a7289f7156c17c31399fe5226bf556781">PPC::LD</a> : PPC::LWZ));</div>
<div class="line"><a name="l03125"></a><span class="lineno"> 3125</span>&#160;    <a class="code" href="classllvm_1_1MachineInstrBuilder.html">MachineInstrBuilder</a>(*<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getParent()-&gt;getParent(), <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>)</div>
<div class="line"><a name="l03126"></a><span class="lineno"> 3126</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(<a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>)</div>
<div class="line"><a name="l03127"></a><span class="lineno"> 3127</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>);</div>
<div class="line"><a name="l03128"></a><span class="lineno"> 3128</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03129"></a><span class="lineno"> 3129</span>&#160;  }</div>
<div class="line"><a name="l03130"></a><span class="lineno"> 3130</span>&#160;  <span class="keywordflow">case</span> PPC::DFLOADf32:</div>
<div class="line"><a name="l03131"></a><span class="lineno"> 3131</span>&#160;  <span class="keywordflow">case</span> PPC::DFLOADf64:</div>
<div class="line"><a name="l03132"></a><span class="lineno"> 3132</span>&#160;  <span class="keywordflow">case</span> PPC::DFSTOREf32:</div>
<div class="line"><a name="l03133"></a><span class="lineno"> 3133</span>&#160;  <span class="keywordflow">case</span> PPC::DFSTOREf64: {</div>
<div class="line"><a name="l03134"></a><span class="lineno"> 3134</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Subtarget.hasP9Vector() &amp;&amp;</div>
<div class="line"><a name="l03135"></a><span class="lineno"> 3135</span>&#160;           <span class="stringliteral">&quot;Invalid D-Form Pseudo-ops on Pre-P9 target.&quot;</span>);</div>
<div class="line"><a name="l03136"></a><span class="lineno"> 3136</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(2).isReg() &amp;&amp;</div>
<div class="line"><a name="l03137"></a><span class="lineno"> 3137</span>&#160;           <a class="code" href="PPCInstrInfo_8cpp.html#a3abad49282c799b7daeacb2b1bd5272b">isAnImmediateOperand</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(1)) &amp;&amp;</div>
<div class="line"><a name="l03138"></a><span class="lineno"> 3138</span>&#160;           <span class="stringliteral">&quot;D-form op must have register and immediate operands&quot;</span>);</div>
<div class="line"><a name="l03139"></a><span class="lineno"> 3139</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1PPCInstrInfo.html#a1517c8d905b7053ac5bdb9582cf49c03">expandVSXMemPseudo</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l03140"></a><span class="lineno"> 3140</span>&#160;  }</div>
<div class="line"><a name="l03141"></a><span class="lineno"> 3141</span>&#160;  <span class="keywordflow">case</span> PPC::XFLOADf32:</div>
<div class="line"><a name="l03142"></a><span class="lineno"> 3142</span>&#160;  <span class="keywordflow">case</span> PPC::XFSTOREf32:</div>
<div class="line"><a name="l03143"></a><span class="lineno"> 3143</span>&#160;  <span class="keywordflow">case</span> PPC::LIWAX:</div>
<div class="line"><a name="l03144"></a><span class="lineno"> 3144</span>&#160;  <span class="keywordflow">case</span> PPC::LIWZX:</div>
<div class="line"><a name="l03145"></a><span class="lineno"> 3145</span>&#160;  <span class="keywordflow">case</span> PPC::STIWX: {</div>
<div class="line"><a name="l03146"></a><span class="lineno"> 3146</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Subtarget.hasP8Vector() &amp;&amp;</div>
<div class="line"><a name="l03147"></a><span class="lineno"> 3147</span>&#160;           <span class="stringliteral">&quot;Invalid X-Form Pseudo-ops on Pre-P8 target.&quot;</span>);</div>
<div class="line"><a name="l03148"></a><span class="lineno"> 3148</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(2).isReg() &amp;&amp; <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(1).isReg() &amp;&amp;</div>
<div class="line"><a name="l03149"></a><span class="lineno"> 3149</span>&#160;           <span class="stringliteral">&quot;X-form op must have register and register operands&quot;</span>);</div>
<div class="line"><a name="l03150"></a><span class="lineno"> 3150</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1PPCInstrInfo.html#a1517c8d905b7053ac5bdb9582cf49c03">expandVSXMemPseudo</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l03151"></a><span class="lineno"> 3151</span>&#160;  }</div>
<div class="line"><a name="l03152"></a><span class="lineno"> 3152</span>&#160;  <span class="keywordflow">case</span> PPC::XFLOADf64:</div>
<div class="line"><a name="l03153"></a><span class="lineno"> 3153</span>&#160;  <span class="keywordflow">case</span> PPC::XFSTOREf64: {</div>
<div class="line"><a name="l03154"></a><span class="lineno"> 3154</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Subtarget.hasVSX() &amp;&amp;</div>
<div class="line"><a name="l03155"></a><span class="lineno"> 3155</span>&#160;           <span class="stringliteral">&quot;Invalid X-Form Pseudo-ops on target that has no VSX.&quot;</span>);</div>
<div class="line"><a name="l03156"></a><span class="lineno"> 3156</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(2).isReg() &amp;&amp; <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(1).isReg() &amp;&amp;</div>
<div class="line"><a name="l03157"></a><span class="lineno"> 3157</span>&#160;           <span class="stringliteral">&quot;X-form op must have register and register operands&quot;</span>);</div>
<div class="line"><a name="l03158"></a><span class="lineno"> 3158</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1PPCInstrInfo.html#a1517c8d905b7053ac5bdb9582cf49c03">expandVSXMemPseudo</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l03159"></a><span class="lineno"> 3159</span>&#160;  }</div>
<div class="line"><a name="l03160"></a><span class="lineno"> 3160</span>&#160;  <span class="keywordflow">case</span> PPC::SPILLTOVSR_LD: {</div>
<div class="line"><a name="l03161"></a><span class="lineno"> 3161</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> TargetReg = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(0).getReg();</div>
<div class="line"><a name="l03162"></a><span class="lineno"> 3162</span>&#160;    <span class="keywordflow">if</span> (PPC::VSFRCRegClass.<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a1112b818386ec01ddfdf3a5d0024eb17">contains</a>(TargetReg)) {</div>
<div class="line"><a name="l03163"></a><span class="lineno"> 3163</span>&#160;      <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.setDesc(<a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(PPC::DFLOADf64));</div>
<div class="line"><a name="l03164"></a><span class="lineno"> 3164</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1PPCInstrInfo.html#a7941fd2c7d339dfe155c4327fd95fab0">expandPostRAPseudo</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l03165"></a><span class="lineno"> 3165</span>&#160;    }</div>
<div class="line"><a name="l03166"></a><span class="lineno"> 3166</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l03167"></a><span class="lineno"> 3167</span>&#160;      <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.setDesc(<a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(<a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85a7289f7156c17c31399fe5226bf556781">PPC::LD</a>));</div>
<div class="line"><a name="l03168"></a><span class="lineno"> 3168</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03169"></a><span class="lineno"> 3169</span>&#160;  }</div>
<div class="line"><a name="l03170"></a><span class="lineno"> 3170</span>&#160;  <span class="keywordflow">case</span> PPC::SPILLTOVSR_ST: {</div>
<div class="line"><a name="l03171"></a><span class="lineno"> 3171</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> SrcReg = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(0).getReg();</div>
<div class="line"><a name="l03172"></a><span class="lineno"> 3172</span>&#160;    <span class="keywordflow">if</span> (PPC::VSFRCRegClass.<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a1112b818386ec01ddfdf3a5d0024eb17">contains</a>(SrcReg)) {</div>
<div class="line"><a name="l03173"></a><span class="lineno"> 3173</span>&#160;      NumStoreSPILLVSRRCAsVec++;</div>
<div class="line"><a name="l03174"></a><span class="lineno"> 3174</span>&#160;      <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.setDesc(<a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(PPC::DFSTOREf64));</div>
<div class="line"><a name="l03175"></a><span class="lineno"> 3175</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1PPCInstrInfo.html#a7941fd2c7d339dfe155c4327fd95fab0">expandPostRAPseudo</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l03176"></a><span class="lineno"> 3176</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03177"></a><span class="lineno"> 3177</span>&#160;      NumStoreSPILLVSRRCAsGpr++;</div>
<div class="line"><a name="l03178"></a><span class="lineno"> 3178</span>&#160;      <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.setDesc(<a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(PPC::STD));</div>
<div class="line"><a name="l03179"></a><span class="lineno"> 3179</span>&#160;    }</div>
<div class="line"><a name="l03180"></a><span class="lineno"> 3180</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03181"></a><span class="lineno"> 3181</span>&#160;  }</div>
<div class="line"><a name="l03182"></a><span class="lineno"> 3182</span>&#160;  <span class="keywordflow">case</span> PPC::SPILLTOVSR_LDX: {</div>
<div class="line"><a name="l03183"></a><span class="lineno"> 3183</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> TargetReg = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(0).getReg();</div>
<div class="line"><a name="l03184"></a><span class="lineno"> 3184</span>&#160;    <span class="keywordflow">if</span> (PPC::VSFRCRegClass.<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a1112b818386ec01ddfdf3a5d0024eb17">contains</a>(TargetReg))</div>
<div class="line"><a name="l03185"></a><span class="lineno"> 3185</span>&#160;      <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.setDesc(<a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(PPC::LXSDX));</div>
<div class="line"><a name="l03186"></a><span class="lineno"> 3186</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l03187"></a><span class="lineno"> 3187</span>&#160;      <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.setDesc(<a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(PPC::LDX));</div>
<div class="line"><a name="l03188"></a><span class="lineno"> 3188</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03189"></a><span class="lineno"> 3189</span>&#160;  }</div>
<div class="line"><a name="l03190"></a><span class="lineno"> 3190</span>&#160;  <span class="keywordflow">case</span> PPC::SPILLTOVSR_STX: {</div>
<div class="line"><a name="l03191"></a><span class="lineno"> 3191</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> SrcReg = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(0).getReg();</div>
<div class="line"><a name="l03192"></a><span class="lineno"> 3192</span>&#160;    <span class="keywordflow">if</span> (PPC::VSFRCRegClass.<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a1112b818386ec01ddfdf3a5d0024eb17">contains</a>(SrcReg)) {</div>
<div class="line"><a name="l03193"></a><span class="lineno"> 3193</span>&#160;      NumStoreSPILLVSRRCAsVec++;</div>
<div class="line"><a name="l03194"></a><span class="lineno"> 3194</span>&#160;      <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.setDesc(<a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(PPC::STXSDX));</div>
<div class="line"><a name="l03195"></a><span class="lineno"> 3195</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03196"></a><span class="lineno"> 3196</span>&#160;      NumStoreSPILLVSRRCAsGpr++;</div>
<div class="line"><a name="l03197"></a><span class="lineno"> 3197</span>&#160;      <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.setDesc(<a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(PPC::STDX));</div>
<div class="line"><a name="l03198"></a><span class="lineno"> 3198</span>&#160;    }</div>
<div class="line"><a name="l03199"></a><span class="lineno"> 3199</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03200"></a><span class="lineno"> 3200</span>&#160;  }</div>
<div class="line"><a name="l03201"></a><span class="lineno"> 3201</span>&#160; </div>
<div class="line"><a name="l03202"></a><span class="lineno"> 3202</span>&#160;    <span class="comment">// FIXME: Maybe we can expand it in &#39;PowerPC Expand Atomic&#39; pass.</span></div>
<div class="line"><a name="l03203"></a><span class="lineno"> 3203</span>&#160;  <span class="keywordflow">case</span> PPC::CFENCE8: {</div>
<div class="line"><a name="l03204"></a><span class="lineno"> 3204</span>&#160;    <span class="keyword">auto</span> Val = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(0).getReg();</div>
<div class="line"><a name="l03205"></a><span class="lineno"> 3205</span>&#160;    <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(PPC::CMPD), PPC::CR7).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(Val).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(Val);</div>
<div class="line"><a name="l03206"></a><span class="lineno"> 3206</span>&#160;    <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(PPC::CTRL_DEP))</div>
<div class="line"><a name="l03207"></a><span class="lineno"> 3207</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(<a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355aaefab7058909f2616746f6d8244a118e">PPC::PRED_NE_MINUS</a>)</div>
<div class="line"><a name="l03208"></a><span class="lineno"> 3208</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(PPC::CR7)</div>
<div class="line"><a name="l03209"></a><span class="lineno"> 3209</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(1);</div>
<div class="line"><a name="l03210"></a><span class="lineno"> 3210</span>&#160;    <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.setDesc(<a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(PPC::ISYNC));</div>
<div class="line"><a name="l03211"></a><span class="lineno"> 3211</span>&#160;    <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.removeOperand(0);</div>
<div class="line"><a name="l03212"></a><span class="lineno"> 3212</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03213"></a><span class="lineno"> 3213</span>&#160;  }</div>
<div class="line"><a name="l03214"></a><span class="lineno"> 3214</span>&#160;  }</div>
<div class="line"><a name="l03215"></a><span class="lineno"> 3215</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03216"></a><span class="lineno"> 3216</span>&#160;}</div>
<div class="line"><a name="l03217"></a><span class="lineno"> 3217</span>&#160; </div>
<div class="line"><a name="l03218"></a><span class="lineno"> 3218</span>&#160;<span class="comment">// Essentially a compile-time implementation of a compare-&gt;isel sequence.</span></div>
<div class="line"><a name="l03219"></a><span class="lineno"> 3219</span>&#160;<span class="comment">// It takes two constants to compare, along with the true/false registers</span></div>
<div class="line"><a name="l03220"></a><span class="lineno"> 3220</span>&#160;<span class="comment">// and the comparison type (as a subreg to a CR field) and returns one</span></div>
<div class="line"><a name="l03221"></a><span class="lineno"> 3221</span>&#160;<span class="comment">// of the true/false registers, depending on the comparison results.</span></div>
<div class="line"><a name="l03222"></a><span class="lineno"><a class="line" href="PPCInstrInfo_8cpp.html#a22a87d5646b192ec391aaf48e4dbe08f"> 3222</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">unsigned</span> <a class="code" href="PPCInstrInfo_8cpp.html#a22a87d5646b192ec391aaf48e4dbe08f">selectReg</a>(int64_t Imm1, int64_t Imm2, <span class="keywordtype">unsigned</span> CompareOpc,</div>
<div class="line"><a name="l03223"></a><span class="lineno"> 3223</span>&#160;                          <span class="keywordtype">unsigned</span> TrueReg, <span class="keywordtype">unsigned</span> FalseReg,</div>
<div class="line"><a name="l03224"></a><span class="lineno"> 3224</span>&#160;                          <span class="keywordtype">unsigned</span> CRSubReg) {</div>
<div class="line"><a name="l03225"></a><span class="lineno"> 3225</span>&#160;  <span class="comment">// Signed comparisons. The immediates are assumed to be sign-extended.</span></div>
<div class="line"><a name="l03226"></a><span class="lineno"> 3226</span>&#160;  <span class="keywordflow">if</span> (CompareOpc == PPC::CMPWI || CompareOpc == PPC::CMPDI) {</div>
<div class="line"><a name="l03227"></a><span class="lineno"> 3227</span>&#160;    <span class="keywordflow">switch</span> (CRSubReg) {</div>
<div class="line"><a name="l03228"></a><span class="lineno"> 3228</span>&#160;    <span class="keywordflow">default</span>: <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unknown integer comparison type.&quot;</span>);</div>
<div class="line"><a name="l03229"></a><span class="lineno"> 3229</span>&#160;    <span class="keywordflow">case</span> PPC::sub_lt:</div>
<div class="line"><a name="l03230"></a><span class="lineno"> 3230</span>&#160;      <span class="keywordflow">return</span> Imm1 &lt; Imm2 ? TrueReg : FalseReg;</div>
<div class="line"><a name="l03231"></a><span class="lineno"> 3231</span>&#160;    <span class="keywordflow">case</span> PPC::sub_gt:</div>
<div class="line"><a name="l03232"></a><span class="lineno"> 3232</span>&#160;      <span class="keywordflow">return</span> Imm1 &gt; Imm2 ? TrueReg : FalseReg;</div>
<div class="line"><a name="l03233"></a><span class="lineno"> 3233</span>&#160;    <span class="keywordflow">case</span> PPC::sub_eq:</div>
<div class="line"><a name="l03234"></a><span class="lineno"> 3234</span>&#160;      <span class="keywordflow">return</span> Imm1 == Imm2 ? TrueReg : FalseReg;</div>
<div class="line"><a name="l03235"></a><span class="lineno"> 3235</span>&#160;    }</div>
<div class="line"><a name="l03236"></a><span class="lineno"> 3236</span>&#160;  }</div>
<div class="line"><a name="l03237"></a><span class="lineno"> 3237</span>&#160;  <span class="comment">// Unsigned comparisons.</span></div>
<div class="line"><a name="l03238"></a><span class="lineno"> 3238</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (CompareOpc == PPC::CMPLWI || CompareOpc == PPC::CMPLDI) {</div>
<div class="line"><a name="l03239"></a><span class="lineno"> 3239</span>&#160;    <span class="keywordflow">switch</span> (CRSubReg) {</div>
<div class="line"><a name="l03240"></a><span class="lineno"> 3240</span>&#160;    <span class="keywordflow">default</span>: <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unknown integer comparison type.&quot;</span>);</div>
<div class="line"><a name="l03241"></a><span class="lineno"> 3241</span>&#160;    <span class="keywordflow">case</span> PPC::sub_lt:</div>
<div class="line"><a name="l03242"></a><span class="lineno"> 3242</span>&#160;      <span class="keywordflow">return</span> (<a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a>)Imm1 &lt; (<a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a>)Imm2 ? TrueReg : FalseReg;</div>
<div class="line"><a name="l03243"></a><span class="lineno"> 3243</span>&#160;    <span class="keywordflow">case</span> PPC::sub_gt:</div>
<div class="line"><a name="l03244"></a><span class="lineno"> 3244</span>&#160;      <span class="keywordflow">return</span> (<a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a>)Imm1 &gt; (<a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a>)Imm2 ? TrueReg : FalseReg;</div>
<div class="line"><a name="l03245"></a><span class="lineno"> 3245</span>&#160;    <span class="keywordflow">case</span> PPC::sub_eq:</div>
<div class="line"><a name="l03246"></a><span class="lineno"> 3246</span>&#160;      <span class="keywordflow">return</span> Imm1 == Imm2 ? TrueReg : FalseReg;</div>
<div class="line"><a name="l03247"></a><span class="lineno"> 3247</span>&#160;    }</div>
<div class="line"><a name="l03248"></a><span class="lineno"> 3248</span>&#160;  }</div>
<div class="line"><a name="l03249"></a><span class="lineno"> 3249</span>&#160;  <span class="keywordflow">return</span> PPC::NoRegister;</div>
<div class="line"><a name="l03250"></a><span class="lineno"> 3250</span>&#160;}</div>
<div class="line"><a name="l03251"></a><span class="lineno"> 3251</span>&#160; </div>
<div class="line"><a name="l03252"></a><span class="lineno"><a class="line" href="classllvm_1_1PPCInstrInfo.html#ad6408dc62ff8fa8de6c9c6daa57b897f"> 3252</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1PPCInstrInfo.html#ad6408dc62ff8fa8de6c9c6daa57b897f">PPCInstrInfo::replaceInstrOperandWithImm</a>(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>,</div>
<div class="line"><a name="l03253"></a><span class="lineno"> 3253</span>&#160;                                              <span class="keywordtype">unsigned</span> OpNo,</div>
<div class="line"><a name="l03254"></a><span class="lineno"> 3254</span>&#160;                                              int64_t <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l03255"></a><span class="lineno"> 3255</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(OpNo).isReg() &amp;&amp; <span class="stringliteral">&quot;Operand must be a REG&quot;</span>);</div>
<div class="line"><a name="l03256"></a><span class="lineno"> 3256</span>&#160;  <span class="comment">// Replace the REG with the Immediate.</span></div>
<div class="line"><a name="l03257"></a><span class="lineno"> 3257</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> InUseReg = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(OpNo).getReg();</div>
<div class="line"><a name="l03258"></a><span class="lineno"> 3258</span>&#160;  <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(OpNo).ChangeToImmediate(<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>);</div>
<div class="line"><a name="l03259"></a><span class="lineno"> 3259</span>&#160; </div>
<div class="line"><a name="l03260"></a><span class="lineno"> 3260</span>&#160;  <span class="comment">// We need to make sure that the MI didn&#39;t have any implicit use</span></div>
<div class="line"><a name="l03261"></a><span class="lineno"> 3261</span>&#160;  <span class="comment">// of this REG any more. We don&#39;t call MI.implicit_operands().empty() to</span></div>
<div class="line"><a name="l03262"></a><span class="lineno"> 3262</span>&#160;  <span class="comment">// return early, since MI&#39;s MCID might be changed in calling context, as a</span></div>
<div class="line"><a name="l03263"></a><span class="lineno"> 3263</span>&#160;  <span class="comment">// result its number of explicit operands may be changed, thus the begin of</span></div>
<div class="line"><a name="l03264"></a><span class="lineno"> 3264</span>&#160;  <span class="comment">// implicit operand is changed.</span></div>
<div class="line"><a name="l03265"></a><span class="lineno"> 3265</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterInfo.html">TargetRegisterInfo</a> *<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a> = &amp;<a class="code" href="classllvm_1_1PPCInstrInfo.html#a7736d6dc0c4303c59d1192988b8919e9">getRegisterInfo</a>();</div>
<div class="line"><a name="l03266"></a><span class="lineno"> 3266</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="RISCVInsertVSETVLI_8cpp.html#a9f4a1ccc4923b17bd414716718e3febf">UseOpIdx</a> = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.findRegisterUseOperandIdx(InUseReg, <span class="keyword">false</span>, <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>);</div>
<div class="line"><a name="l03267"></a><span class="lineno"> 3267</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="RISCVInsertVSETVLI_8cpp.html#a9f4a1ccc4923b17bd414716718e3febf">UseOpIdx</a> &gt;= 0) {</div>
<div class="line"><a name="l03268"></a><span class="lineno"> 3268</span>&#160;    <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;MO = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(<a class="code" href="RISCVInsertVSETVLI_8cpp.html#a9f4a1ccc4923b17bd414716718e3febf">UseOpIdx</a>);</div>
<div class="line"><a name="l03269"></a><span class="lineno"> 3269</span>&#160;    <span class="keywordflow">if</span> (MO.<a class="code" href="classllvm_1_1MachineOperand.html#a3bf161859e1ad7fd3da485d3cb688d34">isImplicit</a>())</div>
<div class="line"><a name="l03270"></a><span class="lineno"> 3270</span>&#160;      <span class="comment">// The operands must always be in the following order:</span></div>
<div class="line"><a name="l03271"></a><span class="lineno"> 3271</span>&#160;      <span class="comment">// - explicit reg defs,</span></div>
<div class="line"><a name="l03272"></a><span class="lineno"> 3272</span>&#160;      <span class="comment">// - other explicit operands (reg uses, immediates, etc.),</span></div>
<div class="line"><a name="l03273"></a><span class="lineno"> 3273</span>&#160;      <span class="comment">// - implicit reg defs</span></div>
<div class="line"><a name="l03274"></a><span class="lineno"> 3274</span>&#160;      <span class="comment">// - implicit reg uses</span></div>
<div class="line"><a name="l03275"></a><span class="lineno"> 3275</span>&#160;      <span class="comment">// Therefore, removing the implicit operand won&#39;t change the explicit</span></div>
<div class="line"><a name="l03276"></a><span class="lineno"> 3276</span>&#160;      <span class="comment">// operands layout.</span></div>
<div class="line"><a name="l03277"></a><span class="lineno"> 3277</span>&#160;      <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.removeOperand(<a class="code" href="RISCVInsertVSETVLI_8cpp.html#a9f4a1ccc4923b17bd414716718e3febf">UseOpIdx</a>);</div>
<div class="line"><a name="l03278"></a><span class="lineno"> 3278</span>&#160;  }</div>
<div class="line"><a name="l03279"></a><span class="lineno"> 3279</span>&#160;}</div>
<div class="line"><a name="l03280"></a><span class="lineno"> 3280</span>&#160; </div>
<div class="line"><a name="l03281"></a><span class="lineno"> 3281</span>&#160;<span class="comment">// Replace an instruction with one that materializes a constant (and sets</span></div>
<div class="line"><a name="l03282"></a><span class="lineno"> 3282</span>&#160;<span class="comment">// CR0 if the original instruction was a record-form instruction).</span></div>
<div class="line"><a name="l03283"></a><span class="lineno"><a class="line" href="classllvm_1_1PPCInstrInfo.html#ae0793a0ace15ba8cf0d9ee31e30dc2c5"> 3283</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1PPCInstrInfo.html#ae0793a0ace15ba8cf0d9ee31e30dc2c5">PPCInstrInfo::replaceInstrWithLI</a>(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>,</div>
<div class="line"><a name="l03284"></a><span class="lineno"> 3284</span>&#160;                                      <span class="keyword">const</span> <a class="code" href="structllvm_1_1LoadImmediateInfo.html">LoadImmediateInfo</a> &amp;LII)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l03285"></a><span class="lineno"> 3285</span>&#160;  <span class="comment">// Remove existing operands.</span></div>
<div class="line"><a name="l03286"></a><span class="lineno"> 3286</span>&#160;  <span class="keywordtype">int</span> OperandToKeep = LII.<a class="code" href="structllvm_1_1LoadImmediateInfo.html#a66834eb3a0e2888f90445ced87675079">SetCR</a> ? 1 : 0;</div>
<div class="line"><a name="l03287"></a><span class="lineno"> 3287</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getNumOperands() - 1; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> &gt; OperandToKeep; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>--)</div>
<div class="line"><a name="l03288"></a><span class="lineno"> 3288</span>&#160;    <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.removeOperand(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l03289"></a><span class="lineno"> 3289</span>&#160; </div>
<div class="line"><a name="l03290"></a><span class="lineno"> 3290</span>&#160;  <span class="comment">// Replace the instruction.</span></div>
<div class="line"><a name="l03291"></a><span class="lineno"> 3291</span>&#160;  <span class="keywordflow">if</span> (LII.<a class="code" href="structllvm_1_1LoadImmediateInfo.html#a66834eb3a0e2888f90445ced87675079">SetCR</a>) {</div>
<div class="line"><a name="l03292"></a><span class="lineno"> 3292</span>&#160;    <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.setDesc(<a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(LII.<a class="code" href="structllvm_1_1LoadImmediateInfo.html#acaf80d046c8829eb2e8f84a785ded662">Is64Bit</a> ? PPC::ANDI8_rec : PPC::ANDI_rec));</div>
<div class="line"><a name="l03293"></a><span class="lineno"> 3293</span>&#160;    <span class="comment">// Set the immediate.</span></div>
<div class="line"><a name="l03294"></a><span class="lineno"> 3294</span>&#160;    <a class="code" href="classllvm_1_1MachineInstrBuilder.html">MachineInstrBuilder</a>(*<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getParent()-&gt;getParent(), <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>)</div>
<div class="line"><a name="l03295"></a><span class="lineno"> 3295</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(LII.<a class="code" href="structllvm_1_1LoadImmediateInfo.html#aaf91f2e9fa96f015190607fb90e932b7">Imm</a>).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(PPC::CR0, <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da833922eca2ad0eab70573ba1f5fba9af">RegState::ImplicitDefine</a>);</div>
<div class="line"><a name="l03296"></a><span class="lineno"> 3296</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03297"></a><span class="lineno"> 3297</span>&#160;  }</div>
<div class="line"><a name="l03298"></a><span class="lineno"> 3298</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l03299"></a><span class="lineno"> 3299</span>&#160;    <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.setDesc(<a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(LII.<a class="code" href="structllvm_1_1LoadImmediateInfo.html#acaf80d046c8829eb2e8f84a785ded662">Is64Bit</a> ? PPC::LI8 : PPC::LI));</div>
<div class="line"><a name="l03300"></a><span class="lineno"> 3300</span>&#160; </div>
<div class="line"><a name="l03301"></a><span class="lineno"> 3301</span>&#160;  <span class="comment">// Set the immediate.</span></div>
<div class="line"><a name="l03302"></a><span class="lineno"> 3302</span>&#160;  <a class="code" href="classllvm_1_1MachineInstrBuilder.html">MachineInstrBuilder</a>(*<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getParent()-&gt;getParent(), <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>)</div>
<div class="line"><a name="l03303"></a><span class="lineno"> 3303</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(LII.<a class="code" href="structllvm_1_1LoadImmediateInfo.html#aaf91f2e9fa96f015190607fb90e932b7">Imm</a>);</div>
<div class="line"><a name="l03304"></a><span class="lineno"> 3304</span>&#160;}</div>
<div class="line"><a name="l03305"></a><span class="lineno"> 3305</span>&#160; </div>
<div class="line"><a name="l03306"></a><span class="lineno"><a class="line" href="classllvm_1_1PPCInstrInfo.html#aff2173f1b09ff7e5b1458b9441bcf10d"> 3306</a></span>&#160;<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="classllvm_1_1PPCInstrInfo.html#aff2173f1b09ff7e5b1458b9441bcf10d">PPCInstrInfo::getDefMIPostRA</a>(<span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>,</div>
<div class="line"><a name="l03307"></a><span class="lineno"> 3307</span>&#160;                                           <span class="keywordtype">bool</span> &amp;SeenIntermediateUse)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l03308"></a><span class="lineno"> 3308</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getParent()-&gt;getParent()-&gt;getRegInfo().isSSA() &amp;&amp;</div>
<div class="line"><a name="l03309"></a><span class="lineno"> 3309</span>&#160;         <span class="stringliteral">&quot;Should be called after register allocation.&quot;</span>);</div>
<div class="line"><a name="l03310"></a><span class="lineno"> 3310</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterInfo.html">TargetRegisterInfo</a> *<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a> = &amp;<a class="code" href="classllvm_1_1PPCInstrInfo.html#a7736d6dc0c4303c59d1192988b8919e9">getRegisterInfo</a>();</div>
<div class="line"><a name="l03311"></a><span class="lineno"> 3311</span>&#160;  <a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::reverse_iterator</a> <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getParent()-&gt;rend(), It = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>;</div>
<div class="line"><a name="l03312"></a><span class="lineno"> 3312</span>&#160;  It++;</div>
<div class="line"><a name="l03313"></a><span class="lineno"> 3313</span>&#160;  SeenIntermediateUse = <span class="keyword">false</span>;</div>
<div class="line"><a name="l03314"></a><span class="lineno"> 3314</span>&#160;  <span class="keywordflow">for</span> (; It != <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>; ++It) {</div>
<div class="line"><a name="l03315"></a><span class="lineno"> 3315</span>&#160;    <span class="keywordflow">if</span> (It-&gt;modifiesRegister(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>))</div>
<div class="line"><a name="l03316"></a><span class="lineno"> 3316</span>&#160;      <span class="keywordflow">return</span> &amp;*It;</div>
<div class="line"><a name="l03317"></a><span class="lineno"> 3317</span>&#160;    <span class="keywordflow">if</span> (It-&gt;readsRegister(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>))</div>
<div class="line"><a name="l03318"></a><span class="lineno"> 3318</span>&#160;      SeenIntermediateUse = <span class="keyword">true</span>;</div>
<div class="line"><a name="l03319"></a><span class="lineno"> 3319</span>&#160;  }</div>
<div class="line"><a name="l03320"></a><span class="lineno"> 3320</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l03321"></a><span class="lineno"> 3321</span>&#160;}</div>
<div class="line"><a name="l03322"></a><span class="lineno"> 3322</span>&#160; </div>
<div class="line"><a name="l03323"></a><span class="lineno"><a class="line" href="classllvm_1_1PPCInstrInfo.html#a844ba3afb5257d4a9f567d42c54c95cb"> 3323</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1PPCInstrInfo.html#a844ba3afb5257d4a9f567d42c54c95cb">PPCInstrInfo::materializeImmPostRA</a>(<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>,</div>
<div class="line"><a name="l03324"></a><span class="lineno"> 3324</span>&#160;                                        <a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::iterator</a> <a class="code" href="AArch64SLSHardening_8cpp.html#ad5f691fdc1a09aaf6df5fef958b35a3d">MBBI</a>,</div>
<div class="line"><a name="l03325"></a><span class="lineno"> 3325</span>&#160;                                        <span class="keyword">const</span> <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="classllvm_1_1Register.html">Register</a> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>,</div>
<div class="line"><a name="l03326"></a><span class="lineno"> 3326</span>&#160;                                        int64_t <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l03327"></a><span class="lineno"> 3327</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a4e21760f681d6f97f95c8414e7b83ea5">getParent</a>()-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>().<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a86dd1b4ce6ff2d4a0b4593c5f7b2a3fd">isSSA</a>() &amp;&amp;</div>
<div class="line"><a name="l03328"></a><span class="lineno"> 3328</span>&#160;         <span class="stringliteral">&quot;Register should be in non-SSA form after RA&quot;</span>);</div>
<div class="line"><a name="l03329"></a><span class="lineno"> 3329</span>&#160;  <span class="keywordtype">bool</span> isPPC64 = Subtarget.<a class="code" href="classllvm_1_1PPCSubtarget.html#a6622b99b3c00a3938d969957312b1b52">isPPC64</a>();</div>
<div class="line"><a name="l03330"></a><span class="lineno"> 3330</span>&#160;  <span class="comment">// FIXME: Materialization here is not optimal.</span></div>
<div class="line"><a name="l03331"></a><span class="lineno"> 3331</span>&#160;  <span class="comment">// For some special bit patterns we can use less instructions.</span></div>
<div class="line"><a name="l03332"></a><span class="lineno"> 3332</span>&#160;  <span class="comment">// See `selectI64ImmDirect` in PPCISelDAGToDAG.cpp.</span></div>
<div class="line"><a name="l03333"></a><span class="lineno"> 3333</span>&#160;  <span class="keywordflow">if</span> (isInt&lt;16&gt;(<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>)) {</div>
<div class="line"><a name="l03334"></a><span class="lineno"> 3334</span>&#160;    <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad5f691fdc1a09aaf6df5fef958b35a3d">MBBI</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(isPPC64 ? PPC::LI8 : PPC::LI), <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>);</div>
<div class="line"><a name="l03335"></a><span class="lineno"> 3335</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (isInt&lt;32&gt;(<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>)) {</div>
<div class="line"><a name="l03336"></a><span class="lineno"> 3336</span>&#160;    <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad5f691fdc1a09aaf6df5fef958b35a3d">MBBI</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(isPPC64 ? PPC::LIS8 : PPC::LIS), <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>)</div>
<div class="line"><a name="l03337"></a><span class="lineno"> 3337</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> &gt;&gt; 16);</div>
<div class="line"><a name="l03338"></a><span class="lineno"> 3338</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> &amp; 0xFFFF)</div>
<div class="line"><a name="l03339"></a><span class="lineno"> 3339</span>&#160;      <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad5f691fdc1a09aaf6df5fef958b35a3d">MBBI</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(isPPC64 ? PPC::ORI8 : PPC::ORI), <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>)</div>
<div class="line"><a name="l03340"></a><span class="lineno"> 3340</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da9ddde91ef09476d28a088fe57f8e2921">RegState::Kill</a>)</div>
<div class="line"><a name="l03341"></a><span class="lineno"> 3341</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> &amp; 0xFFFF);</div>
<div class="line"><a name="l03342"></a><span class="lineno"> 3342</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03343"></a><span class="lineno"> 3343</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(isPPC64 &amp;&amp; <span class="stringliteral">&quot;Materializing 64-bit immediate to single register is &quot;</span></div>
<div class="line"><a name="l03344"></a><span class="lineno"> 3344</span>&#160;                      <span class="stringliteral">&quot;only supported in PPC64&quot;</span>);</div>
<div class="line"><a name="l03345"></a><span class="lineno"> 3345</span>&#160;    <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad5f691fdc1a09aaf6df5fef958b35a3d">MBBI</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(PPC::LIS8), <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> &gt;&gt; 48);</div>
<div class="line"><a name="l03346"></a><span class="lineno"> 3346</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> &gt;&gt; 32) &amp; 0xFFFF)</div>
<div class="line"><a name="l03347"></a><span class="lineno"> 3347</span>&#160;      <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad5f691fdc1a09aaf6df5fef958b35a3d">MBBI</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(PPC::ORI8), <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>)</div>
<div class="line"><a name="l03348"></a><span class="lineno"> 3348</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da9ddde91ef09476d28a088fe57f8e2921">RegState::Kill</a>)</div>
<div class="line"><a name="l03349"></a><span class="lineno"> 3349</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>((<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> &gt;&gt; 32) &amp; 0xFFFF);</div>
<div class="line"><a name="l03350"></a><span class="lineno"> 3350</span>&#160;    <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad5f691fdc1a09aaf6df5fef958b35a3d">MBBI</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(PPC::RLDICR), <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>)</div>
<div class="line"><a name="l03351"></a><span class="lineno"> 3351</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da9ddde91ef09476d28a088fe57f8e2921">RegState::Kill</a>)</div>
<div class="line"><a name="l03352"></a><span class="lineno"> 3352</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(32)</div>
<div class="line"><a name="l03353"></a><span class="lineno"> 3353</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(31);</div>
<div class="line"><a name="l03354"></a><span class="lineno"> 3354</span>&#160;    <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad5f691fdc1a09aaf6df5fef958b35a3d">MBBI</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(PPC::ORIS8), <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>)</div>
<div class="line"><a name="l03355"></a><span class="lineno"> 3355</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da9ddde91ef09476d28a088fe57f8e2921">RegState::Kill</a>)</div>
<div class="line"><a name="l03356"></a><span class="lineno"> 3356</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>((<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> &gt;&gt; 16) &amp; 0xFFFF);</div>
<div class="line"><a name="l03357"></a><span class="lineno"> 3357</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> &amp; 0xFFFF)</div>
<div class="line"><a name="l03358"></a><span class="lineno"> 3358</span>&#160;      <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad5f691fdc1a09aaf6df5fef958b35a3d">MBBI</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(PPC::ORI8), <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>)</div>
<div class="line"><a name="l03359"></a><span class="lineno"> 3359</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da9ddde91ef09476d28a088fe57f8e2921">RegState::Kill</a>)</div>
<div class="line"><a name="l03360"></a><span class="lineno"> 3360</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> &amp; 0xFFFF);</div>
<div class="line"><a name="l03361"></a><span class="lineno"> 3361</span>&#160;  }</div>
<div class="line"><a name="l03362"></a><span class="lineno"> 3362</span>&#160;}</div>
<div class="line"><a name="l03363"></a><span class="lineno"> 3363</span>&#160; </div>
<div class="line"><a name="l03364"></a><span class="lineno"> 3364</span>&#160;<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *PPCInstrInfo::getForwardingDefMI(</div>
<div class="line"><a name="l03365"></a><span class="lineno"> 3365</span>&#160;  <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>,</div>
<div class="line"><a name="l03366"></a><span class="lineno"> 3366</span>&#160;  <span class="keywordtype">unsigned</span> &amp;OpNoForForwarding,</div>
<div class="line"><a name="l03367"></a><span class="lineno"> 3367</span>&#160;  <span class="keywordtype">bool</span> &amp;SeenIntermediateUse)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l03368"></a><span class="lineno"> 3368</span>&#160;  OpNoForForwarding = ~0U;</div>
<div class="line"><a name="l03369"></a><span class="lineno"> 3369</span>&#160;  <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l03370"></a><span class="lineno"> 3370</span>&#160;  <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> *<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a> = &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getParent()-&gt;getParent()-&gt;getRegInfo();</div>
<div class="line"><a name="l03371"></a><span class="lineno"> 3371</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterInfo.html">TargetRegisterInfo</a> *<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a> = &amp;<a class="code" href="classllvm_1_1PPCInstrInfo.html#a7736d6dc0c4303c59d1192988b8919e9">getRegisterInfo</a>();</div>
<div class="line"><a name="l03372"></a><span class="lineno"> 3372</span>&#160;  <span class="comment">// If we&#39;re in SSA, get the defs through the MRI. Otherwise, only look</span></div>
<div class="line"><a name="l03373"></a><span class="lineno"> 3373</span>&#160;  <span class="comment">// within the basic block to see if the register is defined using an</span></div>
<div class="line"><a name="l03374"></a><span class="lineno"> 3374</span>&#160;  <span class="comment">// LI/LI8/ADDI/ADDI8.</span></div>
<div class="line"><a name="l03375"></a><span class="lineno"> 3375</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>-&gt;<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a86dd1b4ce6ff2d4a0b4593c5f7b2a3fd">isSSA</a>()) {</div>
<div class="line"><a name="l03376"></a><span class="lineno"> 3376</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 1, <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a> = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getNumOperands(); <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l03377"></a><span class="lineno"> 3377</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>).isReg())</div>
<div class="line"><a name="l03378"></a><span class="lineno"> 3378</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l03379"></a><span class="lineno"> 3379</span>&#160;      <a class="code" href="classllvm_1_1Register.html">Register</a> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a> = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>).getReg();</div>
<div class="line"><a name="l03380"></a><span class="lineno"> 3380</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>.isVirtual())</div>
<div class="line"><a name="l03381"></a><span class="lineno"> 3381</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l03382"></a><span class="lineno"> 3382</span>&#160;      <a class="code" href="classllvm_1_1Register.html">Register</a> TrueReg = <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>-&gt;<a class="code" href="classllvm_1_1TargetRegisterInfo.html#a965fc42d34bd3c15f23cd8cfd31d6ad6">lookThruCopyLike</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>);</div>
<div class="line"><a name="l03383"></a><span class="lineno"> 3383</span>&#160;      <span class="keywordflow">if</span> (TrueReg.<a class="code" href="classllvm_1_1Register.html#aebafd86dde59b5a05b22e8720e808a9d">isVirtual</a>()) {</div>
<div class="line"><a name="l03384"></a><span class="lineno"> 3384</span>&#160;        <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *DefMIForTrueReg = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>-&gt;<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a40d954b9cf9ee8b545a78725f2549cba">getVRegDef</a>(TrueReg);</div>
<div class="line"><a name="l03385"></a><span class="lineno"> 3385</span>&#160;        <span class="keywordflow">if</span> (DefMIForTrueReg-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a0363204b5fbab08a46f5a7cd7f376f78">getOpcode</a>() == PPC::LI ||</div>
<div class="line"><a name="l03386"></a><span class="lineno"> 3386</span>&#160;            DefMIForTrueReg-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a0363204b5fbab08a46f5a7cd7f376f78">getOpcode</a>() == PPC::LI8 ||</div>
<div class="line"><a name="l03387"></a><span class="lineno"> 3387</span>&#160;            DefMIForTrueReg-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a0363204b5fbab08a46f5a7cd7f376f78">getOpcode</a>() == PPC::ADDI ||</div>
<div class="line"><a name="l03388"></a><span class="lineno"> 3388</span>&#160;            DefMIForTrueReg-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a0363204b5fbab08a46f5a7cd7f376f78">getOpcode</a>() == PPC::ADDI8) {</div>
<div class="line"><a name="l03389"></a><span class="lineno"> 3389</span>&#160;          OpNoForForwarding = <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l03390"></a><span class="lineno"> 3390</span>&#160;          <a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a> = DefMIForTrueReg;</div>
<div class="line"><a name="l03391"></a><span class="lineno"> 3391</span>&#160;          <span class="comment">// The ADDI and LI operand maybe exist in one instruction at same</span></div>
<div class="line"><a name="l03392"></a><span class="lineno"> 3392</span>&#160;          <span class="comment">// time. we prefer to fold LI operand as LI only has one Imm operand</span></div>
<div class="line"><a name="l03393"></a><span class="lineno"> 3393</span>&#160;          <span class="comment">// and is more possible to be converted. So if current DefMI is</span></div>
<div class="line"><a name="l03394"></a><span class="lineno"> 3394</span>&#160;          <span class="comment">// ADDI/ADDI8, we continue to find possible LI/LI8.</span></div>
<div class="line"><a name="l03395"></a><span class="lineno"> 3395</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a>-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a0363204b5fbab08a46f5a7cd7f376f78">getOpcode</a>() == PPC::LI || <a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a>-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a0363204b5fbab08a46f5a7cd7f376f78">getOpcode</a>() == PPC::LI8)</div>
<div class="line"><a name="l03396"></a><span class="lineno"> 3396</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03397"></a><span class="lineno"> 3397</span>&#160;        }</div>
<div class="line"><a name="l03398"></a><span class="lineno"> 3398</span>&#160;      }</div>
<div class="line"><a name="l03399"></a><span class="lineno"> 3399</span>&#160;    }</div>
<div class="line"><a name="l03400"></a><span class="lineno"> 3400</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03401"></a><span class="lineno"> 3401</span>&#160;    <span class="comment">// Looking back through the definition for each operand could be expensive,</span></div>
<div class="line"><a name="l03402"></a><span class="lineno"> 3402</span>&#160;    <span class="comment">// so exit early if this isn&#39;t an instruction that either has an immediate</span></div>
<div class="line"><a name="l03403"></a><span class="lineno"> 3403</span>&#160;    <span class="comment">// form or is already an immediate form that we can handle.</span></div>
<div class="line"><a name="l03404"></a><span class="lineno"> 3404</span>&#160;    <a class="code" href="structllvm_1_1ImmInstrInfo.html">ImmInstrInfo</a> III;</div>
<div class="line"><a name="l03405"></a><span class="lineno"> 3405</span>&#160;    <span class="keywordtype">unsigned</span> Opc = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode();</div>
<div class="line"><a name="l03406"></a><span class="lineno"> 3406</span>&#160;    <span class="keywordtype">bool</span> ConvertibleImmForm =</div>
<div class="line"><a name="l03407"></a><span class="lineno"> 3407</span>&#160;        Opc == PPC::CMPWI || Opc == PPC::CMPLWI || Opc == PPC::CMPDI ||</div>
<div class="line"><a name="l03408"></a><span class="lineno"> 3408</span>&#160;        Opc == PPC::CMPLDI || Opc == PPC::ADDI || Opc == PPC::ADDI8 ||</div>
<div class="line"><a name="l03409"></a><span class="lineno"> 3409</span>&#160;        Opc == PPC::ORI || Opc == PPC::ORI8 || Opc == PPC::XORI ||</div>
<div class="line"><a name="l03410"></a><span class="lineno"> 3410</span>&#160;        Opc == PPC::XORI8 || Opc == PPC::RLDICL || Opc == PPC::RLDICL_rec ||</div>
<div class="line"><a name="l03411"></a><span class="lineno"> 3411</span>&#160;        Opc == PPC::RLDICL_32 || Opc == PPC::RLDICL_32_64 ||</div>
<div class="line"><a name="l03412"></a><span class="lineno"> 3412</span>&#160;        Opc == PPC::RLWINM || Opc == PPC::RLWINM_rec || Opc == PPC::RLWINM8 ||</div>
<div class="line"><a name="l03413"></a><span class="lineno"> 3413</span>&#160;        Opc == PPC::RLWINM8_rec;</div>
<div class="line"><a name="l03414"></a><span class="lineno"> 3414</span>&#160;    <span class="keywordtype">bool</span> IsVFReg = (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getNumOperands() &amp;&amp; <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(0).isReg())</div>
<div class="line"><a name="l03415"></a><span class="lineno"> 3415</span>&#160;                       ? <a class="code" href="classllvm_1_1PPCInstrInfo.html#a4a925741128762aa8606a501ed9dad40">isVFRegister</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(0).getReg())</div>
<div class="line"><a name="l03416"></a><span class="lineno"> 3416</span>&#160;                       : <span class="keyword">false</span>;</div>
<div class="line"><a name="l03417"></a><span class="lineno"> 3417</span>&#160;    <span class="keywordflow">if</span> (!ConvertibleImmForm &amp;&amp; !<a class="code" href="classllvm_1_1PPCInstrInfo.html#afb977cf93fe8661651e4503ae0722893">instrHasImmForm</a>(Opc, IsVFReg, III, <span class="keyword">true</span>))</div>
<div class="line"><a name="l03418"></a><span class="lineno"> 3418</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l03419"></a><span class="lineno"> 3419</span>&#160; </div>
<div class="line"><a name="l03420"></a><span class="lineno"> 3420</span>&#160;    <span class="comment">// Don&#39;t convert or %X, %Y, %Y since that&#39;s just a register move.</span></div>
<div class="line"><a name="l03421"></a><span class="lineno"> 3421</span>&#160;    <span class="keywordflow">if</span> ((Opc == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7415ab9f2172c59a2ee7c7a02afa56a4">PPC::OR</a> || Opc == PPC::OR8) &amp;&amp;</div>
<div class="line"><a name="l03422"></a><span class="lineno"> 3422</span>&#160;        <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(1).getReg() == <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(2).getReg())</div>
<div class="line"><a name="l03423"></a><span class="lineno"> 3423</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l03424"></a><span class="lineno"> 3424</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 1, <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a> = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getNumOperands(); <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l03425"></a><span class="lineno"> 3425</span>&#160;      <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;MO = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l03426"></a><span class="lineno"> 3426</span>&#160;      SeenIntermediateUse = <span class="keyword">false</span>;</div>
<div class="line"><a name="l03427"></a><span class="lineno"> 3427</span>&#160;      <span class="keywordflow">if</span> (MO.<a class="code" href="classllvm_1_1MachineOperand.html#a4c9594c955fec80c73ddd964b5efd554">isReg</a>() &amp;&amp; MO.<a class="code" href="classllvm_1_1MachineOperand.html#a69544ec8658eadeed98245dc37c3a541">isUse</a>() &amp;&amp; !MO.<a class="code" href="classllvm_1_1MachineOperand.html#a3bf161859e1ad7fd3da485d3cb688d34">isImplicit</a>()) {</div>
<div class="line"><a name="l03428"></a><span class="lineno"> 3428</span>&#160;        <a class="code" href="classllvm_1_1Register.html">Register</a> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a> = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>).getReg();</div>
<div class="line"><a name="l03429"></a><span class="lineno"> 3429</span>&#160;        <span class="comment">// If we see another use of this reg between the def and the MI,</span></div>
<div class="line"><a name="l03430"></a><span class="lineno"> 3430</span>&#160;        <span class="comment">// we want to flag it so the def isn&#39;t deleted.</span></div>
<div class="line"><a name="l03431"></a><span class="lineno"> 3431</span>&#160;        <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a> = <a class="code" href="classllvm_1_1PPCInstrInfo.html#aff2173f1b09ff7e5b1458b9441bcf10d">getDefMIPostRA</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, SeenIntermediateUse);</div>
<div class="line"><a name="l03432"></a><span class="lineno"> 3432</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a>) {</div>
<div class="line"><a name="l03433"></a><span class="lineno"> 3433</span>&#160;          <span class="comment">// Is this register defined by some form of add-immediate (including</span></div>
<div class="line"><a name="l03434"></a><span class="lineno"> 3434</span>&#160;          <span class="comment">// load-immediate) within this basic block?</span></div>
<div class="line"><a name="l03435"></a><span class="lineno"> 3435</span>&#160;          <span class="keywordflow">switch</span> (<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a>-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a0363204b5fbab08a46f5a7cd7f376f78">getOpcode</a>()) {</div>
<div class="line"><a name="l03436"></a><span class="lineno"> 3436</span>&#160;          <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l03437"></a><span class="lineno"> 3437</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03438"></a><span class="lineno"> 3438</span>&#160;          <span class="keywordflow">case</span> PPC::LI:</div>
<div class="line"><a name="l03439"></a><span class="lineno"> 3439</span>&#160;          <span class="keywordflow">case</span> PPC::LI8:</div>
<div class="line"><a name="l03440"></a><span class="lineno"> 3440</span>&#160;          <span class="keywordflow">case</span> PPC::ADDItocL:</div>
<div class="line"><a name="l03441"></a><span class="lineno"> 3441</span>&#160;          <span class="keywordflow">case</span> PPC::ADDI:</div>
<div class="line"><a name="l03442"></a><span class="lineno"> 3442</span>&#160;          <span class="keywordflow">case</span> PPC::ADDI8:</div>
<div class="line"><a name="l03443"></a><span class="lineno"> 3443</span>&#160;            OpNoForForwarding = <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l03444"></a><span class="lineno"> 3444</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a>;</div>
<div class="line"><a name="l03445"></a><span class="lineno"> 3445</span>&#160;          }</div>
<div class="line"><a name="l03446"></a><span class="lineno"> 3446</span>&#160;        }</div>
<div class="line"><a name="l03447"></a><span class="lineno"> 3447</span>&#160;      }</div>
<div class="line"><a name="l03448"></a><span class="lineno"> 3448</span>&#160;    }</div>
<div class="line"><a name="l03449"></a><span class="lineno"> 3449</span>&#160;  }</div>
<div class="line"><a name="l03450"></a><span class="lineno"> 3450</span>&#160;  <span class="keywordflow">return</span> OpNoForForwarding == ~0U ? nullptr : <a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a>;</div>
<div class="line"><a name="l03451"></a><span class="lineno"> 3451</span>&#160;}</div>
<div class="line"><a name="l03452"></a><span class="lineno"> 3452</span>&#160; </div>
<div class="line"><a name="l03453"></a><span class="lineno"> 3453</span>&#160;<span class="keywordtype">unsigned</span> PPCInstrInfo::getSpillTarget()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l03454"></a><span class="lineno"> 3454</span>&#160;  <span class="comment">// With P10, we may need to spill paired vector registers or accumulator</span></div>
<div class="line"><a name="l03455"></a><span class="lineno"> 3455</span>&#160;  <span class="comment">// registers. MMA implies paired vectors, so we can just check that.</span></div>
<div class="line"><a name="l03456"></a><span class="lineno"> 3456</span>&#160;  <span class="keywordtype">bool</span> IsP10Variant = Subtarget.isISA3_1() || Subtarget.pairedVectorMemops();</div>
<div class="line"><a name="l03457"></a><span class="lineno"> 3457</span>&#160;  <span class="keywordflow">return</span> Subtarget.isISAFuture() ? 3 : IsP10Variant ?</div>
<div class="line"><a name="l03458"></a><span class="lineno"> 3458</span>&#160;                                   2 : Subtarget.hasP9Vector() ?</div>
<div class="line"><a name="l03459"></a><span class="lineno"> 3459</span>&#160;                                   1 : 0;</div>
<div class="line"><a name="l03460"></a><span class="lineno"> 3460</span>&#160;}</div>
<div class="line"><a name="l03461"></a><span class="lineno"> 3461</span>&#160; </div>
<div class="line"><a name="l03462"></a><span class="lineno"> 3462</span>&#160;<a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;unsigned&gt;</a> PPCInstrInfo::getStoreOpcodesForSpillArray()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l03463"></a><span class="lineno"> 3463</span>&#160;  <span class="keywordflow">return</span> {StoreSpillOpcodesArray[getSpillTarget()], <a class="code" href="namespacellvm.html#acbd62c639eb89998b853a9327a42785cad6f94e7677f5f7e66a69bf57efa2a228">SOK_LastOpcodeSpill</a>};</div>
<div class="line"><a name="l03464"></a><span class="lineno"> 3464</span>&#160;}</div>
<div class="line"><a name="l03465"></a><span class="lineno"> 3465</span>&#160; </div>
<div class="line"><a name="l03466"></a><span class="lineno"> 3466</span>&#160;<a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;unsigned&gt;</a> PPCInstrInfo::getLoadOpcodesForSpillArray()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l03467"></a><span class="lineno"> 3467</span>&#160;  <span class="keywordflow">return</span> {LoadSpillOpcodesArray[getSpillTarget()], <a class="code" href="namespacellvm.html#acbd62c639eb89998b853a9327a42785cad6f94e7677f5f7e66a69bf57efa2a228">SOK_LastOpcodeSpill</a>};</div>
<div class="line"><a name="l03468"></a><span class="lineno"> 3468</span>&#160;}</div>
<div class="line"><a name="l03469"></a><span class="lineno"> 3469</span>&#160; </div>
<div class="line"><a name="l03470"></a><span class="lineno"><a class="line" href="classllvm_1_1PPCInstrInfo.html#a360d9458a82cc4a80442ad84450945e1"> 3470</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1PPCInstrInfo.html#a360d9458a82cc4a80442ad84450945e1">PPCInstrInfo::fixupIsDeadOrKill</a>(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *StartMI, <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *EndMI,</div>
<div class="line"><a name="l03471"></a><span class="lineno"> 3471</span>&#160;                                     <span class="keywordtype">unsigned</span> RegNo)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l03472"></a><span class="lineno"> 3472</span>&#160;  <span class="comment">// Conservatively clear kill flag for the register if the instructions are in</span></div>
<div class="line"><a name="l03473"></a><span class="lineno"> 3473</span>&#160;  <span class="comment">// different basic blocks and in SSA form, because the kill flag may no longer</span></div>
<div class="line"><a name="l03474"></a><span class="lineno"> 3474</span>&#160;  <span class="comment">// be right. There is no need to bother with dead flags since defs with no</span></div>
<div class="line"><a name="l03475"></a><span class="lineno"> 3475</span>&#160;  <span class="comment">// uses will be handled by DCE.</span></div>
<div class="line"><a name="l03476"></a><span class="lineno"> 3476</span>&#160;  <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a> = StartMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a002fd916e7206e01d512eeb06d405cf0">getParent</a>()-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#a4e21760f681d6f97f95c8414e7b83ea5">getParent</a>()-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>();</div>
<div class="line"><a name="l03477"></a><span class="lineno"> 3477</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a86dd1b4ce6ff2d4a0b4593c5f7b2a3fd">isSSA</a>() &amp;&amp; (StartMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a002fd916e7206e01d512eeb06d405cf0">getParent</a>() != EndMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a002fd916e7206e01d512eeb06d405cf0">getParent</a>())) {</div>
<div class="line"><a name="l03478"></a><span class="lineno"> 3478</span>&#160;    <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a3da9727b1d452d6dcab08fde547ab634">clearKillFlags</a>(RegNo);</div>
<div class="line"><a name="l03479"></a><span class="lineno"> 3479</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03480"></a><span class="lineno"> 3480</span>&#160;  }</div>
<div class="line"><a name="l03481"></a><span class="lineno"> 3481</span>&#160; </div>
<div class="line"><a name="l03482"></a><span class="lineno"> 3482</span>&#160;  <span class="comment">// Instructions between [StartMI, EndMI] should be in same basic block.</span></div>
<div class="line"><a name="l03483"></a><span class="lineno"> 3483</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((StartMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a002fd916e7206e01d512eeb06d405cf0">getParent</a>() == EndMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a002fd916e7206e01d512eeb06d405cf0">getParent</a>()) &amp;&amp;</div>
<div class="line"><a name="l03484"></a><span class="lineno"> 3484</span>&#160;         <span class="stringliteral">&quot;Instructions are not in same basic block&quot;</span>);</div>
<div class="line"><a name="l03485"></a><span class="lineno"> 3485</span>&#160; </div>
<div class="line"><a name="l03486"></a><span class="lineno"> 3486</span>&#160;  <span class="comment">// If before RA, StartMI may be def through COPY, we need to adjust it to the</span></div>
<div class="line"><a name="l03487"></a><span class="lineno"> 3487</span>&#160;  <span class="comment">// real def. See function getForwardingDefMI.</span></div>
<div class="line"><a name="l03488"></a><span class="lineno"> 3488</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a86dd1b4ce6ff2d4a0b4593c5f7b2a3fd">isSSA</a>()) {</div>
<div class="line"><a name="l03489"></a><span class="lineno"> 3489</span>&#160;    <span class="keywordtype">bool</span> Reads, Writes;</div>
<div class="line"><a name="l03490"></a><span class="lineno"> 3490</span>&#160;    std::tie(Reads, Writes) = StartMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a374fc9d9064a93ef8a408f269d02389d">readsWritesVirtualRegister</a>(RegNo);</div>
<div class="line"><a name="l03491"></a><span class="lineno"> 3491</span>&#160;    <span class="keywordflow">if</span> (!Reads &amp;&amp; !Writes) {</div>
<div class="line"><a name="l03492"></a><span class="lineno"> 3492</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="classllvm_1_1Register.html#ab94ac0eb79655589fb116359f862886c">Register::isVirtualRegister</a>(RegNo) &amp;&amp;</div>
<div class="line"><a name="l03493"></a><span class="lineno"> 3493</span>&#160;             <span class="stringliteral">&quot;Must be a virtual register&quot;</span>);</div>
<div class="line"><a name="l03494"></a><span class="lineno"> 3494</span>&#160;      <span class="comment">// Get real def and ignore copies.</span></div>
<div class="line"><a name="l03495"></a><span class="lineno"> 3495</span>&#160;      StartMI = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a40d954b9cf9ee8b545a78725f2549cba">getVRegDef</a>(RegNo);</div>
<div class="line"><a name="l03496"></a><span class="lineno"> 3496</span>&#160;    }</div>
<div class="line"><a name="l03497"></a><span class="lineno"> 3497</span>&#160;  }</div>
<div class="line"><a name="l03498"></a><span class="lineno"> 3498</span>&#160; </div>
<div class="line"><a name="l03499"></a><span class="lineno"> 3499</span>&#160;  <span class="keywordtype">bool</span> IsKillSet = <span class="keyword">false</span>;</div>
<div class="line"><a name="l03500"></a><span class="lineno"> 3500</span>&#160; </div>
<div class="line"><a name="l03501"></a><span class="lineno"> 3501</span>&#160;  <span class="keyword">auto</span> clearOperandKillInfo = [=] (<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <span class="keywordtype">unsigned</span> <a class="code" href="ELFObjHandler_8cpp.html#aef61945034b9431b804748fc317c5548">Index</a>) {</div>
<div class="line"><a name="l03502"></a><span class="lineno"> 3502</span>&#160;    <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;MO = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(<a class="code" href="namespacellvm_1_1dwarf.html#a5d3c920b66ea797d6adb243862fdf47a">Index</a>);</div>
<div class="line"><a name="l03503"></a><span class="lineno"> 3503</span>&#160;    <span class="keywordflow">if</span> (MO.<a class="code" href="classllvm_1_1MachineOperand.html#a4c9594c955fec80c73ddd964b5efd554">isReg</a>() &amp;&amp; MO.<a class="code" href="classllvm_1_1MachineOperand.html#a69544ec8658eadeed98245dc37c3a541">isUse</a>() &amp;&amp; MO.<a class="code" href="classllvm_1_1MachineOperand.html#a4046212ebc647b17e811837ae4ea3afd">isKill</a>() &amp;&amp;</div>
<div class="line"><a name="l03504"></a><span class="lineno"> 3504</span>&#160;        <a class="code" href="classllvm_1_1PPCInstrInfo.html#a7736d6dc0c4303c59d1192988b8919e9">getRegisterInfo</a>().regsOverlap(MO.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>(), RegNo))</div>
<div class="line"><a name="l03505"></a><span class="lineno"> 3505</span>&#160;      MO.<a class="code" href="classllvm_1_1MachineOperand.html#a8a82683fccdef8a5ef772ef03277aee7">setIsKill</a>(<span class="keyword">false</span>);</div>
<div class="line"><a name="l03506"></a><span class="lineno"> 3506</span>&#160;  };</div>
<div class="line"><a name="l03507"></a><span class="lineno"> 3507</span>&#160; </div>
<div class="line"><a name="l03508"></a><span class="lineno"> 3508</span>&#160;  <span class="comment">// Set killed flag for EndMI.</span></div>
<div class="line"><a name="l03509"></a><span class="lineno"> 3509</span>&#160;  <span class="comment">// No need to do anything if EndMI defines RegNo.</span></div>
<div class="line"><a name="l03510"></a><span class="lineno"> 3510</span>&#160;  <span class="keywordtype">int</span> UseIndex =</div>
<div class="line"><a name="l03511"></a><span class="lineno"> 3511</span>&#160;      EndMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a0012f75cbba71c9c29aac592ff3d6400">findRegisterUseOperandIdx</a>(RegNo, <span class="keyword">false</span>, &amp;<a class="code" href="classllvm_1_1PPCInstrInfo.html#a7736d6dc0c4303c59d1192988b8919e9">getRegisterInfo</a>());</div>
<div class="line"><a name="l03512"></a><span class="lineno"> 3512</span>&#160;  <span class="keywordflow">if</span> (UseIndex != -1) {</div>
<div class="line"><a name="l03513"></a><span class="lineno"> 3513</span>&#160;    EndMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(UseIndex).<a class="code" href="classllvm_1_1MachineOperand.html#a8a82683fccdef8a5ef772ef03277aee7">setIsKill</a>(<span class="keyword">true</span>);</div>
<div class="line"><a name="l03514"></a><span class="lineno"> 3514</span>&#160;    IsKillSet = <span class="keyword">true</span>;</div>
<div class="line"><a name="l03515"></a><span class="lineno"> 3515</span>&#160;    <span class="comment">// Clear killed flag for other EndMI operands related to RegNo. In some</span></div>
<div class="line"><a name="l03516"></a><span class="lineno"> 3516</span>&#160;    <span class="comment">// upexpected cases, killed may be set multiple times for same register</span></div>
<div class="line"><a name="l03517"></a><span class="lineno"> 3517</span>&#160;    <span class="comment">// operand in same MI.</span></div>
<div class="line"><a name="l03518"></a><span class="lineno"> 3518</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a> = EndMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a432824f0975bb863478bf4ef3a5df258">getNumOperands</a>(); <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><a name="l03519"></a><span class="lineno"> 3519</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != UseIndex)</div>
<div class="line"><a name="l03520"></a><span class="lineno"> 3520</span>&#160;        clearOperandKillInfo(*EndMI, <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l03521"></a><span class="lineno"> 3521</span>&#160;  }</div>
<div class="line"><a name="l03522"></a><span class="lineno"> 3522</span>&#160; </div>
<div class="line"><a name="l03523"></a><span class="lineno"> 3523</span>&#160;  <span class="comment">// Walking the inst in reverse order (EndMI -&gt; StartMI].</span></div>
<div class="line"><a name="l03524"></a><span class="lineno"> 3524</span>&#160;  <a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::reverse_iterator</a> It = *EndMI;</div>
<div class="line"><a name="l03525"></a><span class="lineno"> 3525</span>&#160;  <a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::reverse_iterator</a> <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = EndMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a002fd916e7206e01d512eeb06d405cf0">getParent</a>()-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#a2a25c462b91ac5da41f4ab7edc32b650">rend</a>();</div>
<div class="line"><a name="l03526"></a><span class="lineno"> 3526</span>&#160;  <span class="comment">// EndMI has been handled above, skip it here.</span></div>
<div class="line"><a name="l03527"></a><span class="lineno"> 3527</span>&#160;  It++;</div>
<div class="line"><a name="l03528"></a><span class="lineno"> 3528</span>&#160;  <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> *MO = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l03529"></a><span class="lineno"> 3529</span>&#160;  <span class="keywordflow">for</span> (; It != <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>; ++It) {</div>
<div class="line"><a name="l03530"></a><span class="lineno"> 3530</span>&#160;    <span class="comment">// Skip insturctions which could not be a def/use of RegNo.</span></div>
<div class="line"><a name="l03531"></a><span class="lineno"> 3531</span>&#160;    <span class="keywordflow">if</span> (It-&gt;isDebugInstr() || It-&gt;isPosition())</div>
<div class="line"><a name="l03532"></a><span class="lineno"> 3532</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l03533"></a><span class="lineno"> 3533</span>&#160; </div>
<div class="line"><a name="l03534"></a><span class="lineno"> 3534</span>&#160;    <span class="comment">// Clear killed flag for all It operands related to RegNo. In some</span></div>
<div class="line"><a name="l03535"></a><span class="lineno"> 3535</span>&#160;    <span class="comment">// upexpected cases, killed may be set multiple times for same register</span></div>
<div class="line"><a name="l03536"></a><span class="lineno"> 3536</span>&#160;    <span class="comment">// operand in same MI.</span></div>
<div class="line"><a name="l03537"></a><span class="lineno"> 3537</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a> = It-&gt;getNumOperands(); <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><a name="l03538"></a><span class="lineno"> 3538</span>&#160;        clearOperandKillInfo(*It, <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l03539"></a><span class="lineno"> 3539</span>&#160; </div>
<div class="line"><a name="l03540"></a><span class="lineno"> 3540</span>&#160;    <span class="comment">// If killed is not set, set killed for its last use or set dead for its def</span></div>
<div class="line"><a name="l03541"></a><span class="lineno"> 3541</span>&#160;    <span class="comment">// if no use found.</span></div>
<div class="line"><a name="l03542"></a><span class="lineno"> 3542</span>&#160;    <span class="keywordflow">if</span> (!IsKillSet) {</div>
<div class="line"><a name="l03543"></a><span class="lineno"> 3543</span>&#160;      <span class="keywordflow">if</span> ((MO = It-&gt;findRegisterUseOperand(RegNo, <span class="keyword">false</span>, &amp;<a class="code" href="classllvm_1_1PPCInstrInfo.html#a7736d6dc0c4303c59d1192988b8919e9">getRegisterInfo</a>()))) {</div>
<div class="line"><a name="l03544"></a><span class="lineno"> 3544</span>&#160;        <span class="comment">// Use found, set it killed.</span></div>
<div class="line"><a name="l03545"></a><span class="lineno"> 3545</span>&#160;        IsKillSet = <span class="keyword">true</span>;</div>
<div class="line"><a name="l03546"></a><span class="lineno"> 3546</span>&#160;        MO-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#a8a82683fccdef8a5ef772ef03277aee7">setIsKill</a>(<span class="keyword">true</span>);</div>
<div class="line"><a name="l03547"></a><span class="lineno"> 3547</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l03548"></a><span class="lineno"> 3548</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((MO = It-&gt;findRegisterDefOperand(RegNo, <span class="keyword">false</span>, <span class="keyword">true</span>,</div>
<div class="line"><a name="l03549"></a><span class="lineno"> 3549</span>&#160;                                                  &amp;<a class="code" href="classllvm_1_1PPCInstrInfo.html#a7736d6dc0c4303c59d1192988b8919e9">getRegisterInfo</a>()))) {</div>
<div class="line"><a name="l03550"></a><span class="lineno"> 3550</span>&#160;        <span class="comment">// No use found, set dead for its def.</span></div>
<div class="line"><a name="l03551"></a><span class="lineno"> 3551</span>&#160;        <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(&amp;*It == StartMI &amp;&amp; <span class="stringliteral">&quot;No new def between StartMI and EndMI.&quot;</span>);</div>
<div class="line"><a name="l03552"></a><span class="lineno"> 3552</span>&#160;        MO-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#a61a42c85bd86c6ca4554e27d33c3f798">setIsDead</a>(<span class="keyword">true</span>);</div>
<div class="line"><a name="l03553"></a><span class="lineno"> 3553</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03554"></a><span class="lineno"> 3554</span>&#160;      }</div>
<div class="line"><a name="l03555"></a><span class="lineno"> 3555</span>&#160;    }</div>
<div class="line"><a name="l03556"></a><span class="lineno"> 3556</span>&#160; </div>
<div class="line"><a name="l03557"></a><span class="lineno"> 3557</span>&#160;    <span class="keywordflow">if</span> ((&amp;*It) == StartMI)</div>
<div class="line"><a name="l03558"></a><span class="lineno"> 3558</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03559"></a><span class="lineno"> 3559</span>&#160;  }</div>
<div class="line"><a name="l03560"></a><span class="lineno"> 3560</span>&#160;  <span class="comment">// Ensure RegMo liveness is killed after EndMI.</span></div>
<div class="line"><a name="l03561"></a><span class="lineno"> 3561</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((IsKillSet || (MO &amp;&amp; MO-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#aaee820701392c55ad54235d3d7201206">isDead</a>())) &amp;&amp;</div>
<div class="line"><a name="l03562"></a><span class="lineno"> 3562</span>&#160;         <span class="stringliteral">&quot;RegNo should be killed or dead&quot;</span>);</div>
<div class="line"><a name="l03563"></a><span class="lineno"> 3563</span>&#160;}</div>
<div class="line"><a name="l03564"></a><span class="lineno"> 3564</span>&#160; </div>
<div class="line"><a name="l03565"></a><span class="lineno"> 3565</span>&#160;<span class="comment">// This opt tries to convert the following imm form to an index form to save an</span></div>
<div class="line"><a name="l03566"></a><span class="lineno"> 3566</span>&#160;<span class="comment">// add for stack variables.</span></div>
<div class="line"><a name="l03567"></a><span class="lineno"> 3567</span>&#160;<span class="comment">// Return false if no such pattern found.</span></div>
<div class="line"><a name="l03568"></a><span class="lineno"> 3568</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03569"></a><span class="lineno"> 3569</span>&#160;<span class="comment">// ADDI instr: ToBeChangedReg = ADDI FrameBaseReg, OffsetAddi</span></div>
<div class="line"><a name="l03570"></a><span class="lineno"> 3570</span>&#160;<span class="comment">// ADD instr:  ToBeDeletedReg = ADD ToBeChangedReg(killed), ScaleReg</span></div>
<div class="line"><a name="l03571"></a><span class="lineno"> 3571</span>&#160;<span class="comment">// Imm instr:  Reg            = op OffsetImm, ToBeDeletedReg(killed)</span></div>
<div class="line"><a name="l03572"></a><span class="lineno"> 3572</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03573"></a><span class="lineno"> 3573</span>&#160;<span class="comment">// can be converted to:</span></div>
<div class="line"><a name="l03574"></a><span class="lineno"> 3574</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03575"></a><span class="lineno"> 3575</span>&#160;<span class="comment">// new ADDI instr: ToBeChangedReg = ADDI FrameBaseReg, (OffsetAddi + OffsetImm)</span></div>
<div class="line"><a name="l03576"></a><span class="lineno"> 3576</span>&#160;<span class="comment">// Index instr:    Reg            = opx ScaleReg, ToBeChangedReg(killed)</span></div>
<div class="line"><a name="l03577"></a><span class="lineno"> 3577</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03578"></a><span class="lineno"> 3578</span>&#160;<span class="comment">// In order to eliminate ADD instr, make sure that:</span></div>
<div class="line"><a name="l03579"></a><span class="lineno"> 3579</span>&#160;<span class="comment">// 1: (OffsetAddi + OffsetImm) must be int16 since this offset will be used in</span></div>
<div class="line"><a name="l03580"></a><span class="lineno"> 3580</span>&#160;<span class="comment">//    new ADDI instr and ADDI can only take int16 Imm.</span></div>
<div class="line"><a name="l03581"></a><span class="lineno"> 3581</span>&#160;<span class="comment">// 2: ToBeChangedReg must be killed in ADD instr and there is no other use</span></div>
<div class="line"><a name="l03582"></a><span class="lineno"> 3582</span>&#160;<span class="comment">//    between ADDI and ADD instr since its original def in ADDI will be changed</span></div>
<div class="line"><a name="l03583"></a><span class="lineno"> 3583</span>&#160;<span class="comment">//    in new ADDI instr. And also there should be no new def for it between</span></div>
<div class="line"><a name="l03584"></a><span class="lineno"> 3584</span>&#160;<span class="comment">//    ADD and Imm instr as ToBeChangedReg will be used in Index instr.</span></div>
<div class="line"><a name="l03585"></a><span class="lineno"> 3585</span>&#160;<span class="comment">// 3: ToBeDeletedReg must be killed in Imm instr and there is no other use</span></div>
<div class="line"><a name="l03586"></a><span class="lineno"> 3586</span>&#160;<span class="comment">//    between ADD and Imm instr since ADD instr will be eliminated.</span></div>
<div class="line"><a name="l03587"></a><span class="lineno"> 3587</span>&#160;<span class="comment">// 4: ScaleReg must not be redefined between ADD and Imm instr since it will be</span></div>
<div class="line"><a name="l03588"></a><span class="lineno"> 3588</span>&#160;<span class="comment">//    moved to Index instr.</span></div>
<div class="line"><a name="l03589"></a><span class="lineno"><a class="line" href="classllvm_1_1PPCInstrInfo.html#a9eb43774a0046a364f5c45f94576bc43"> 3589</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1PPCInstrInfo.html#a9eb43774a0046a364f5c45f94576bc43">PPCInstrInfo::foldFrameOffset</a>(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l03590"></a><span class="lineno"> 3590</span>&#160;  <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> *MF = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getParent()-&gt;getParent();</div>
<div class="line"><a name="l03591"></a><span class="lineno"> 3591</span>&#160;  <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> *<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a> = &amp;MF-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>();</div>
<div class="line"><a name="l03592"></a><span class="lineno"> 3592</span>&#160;  <span class="keywordtype">bool</span> PostRA = !<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>-&gt;<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a86dd1b4ce6ff2d4a0b4593c5f7b2a3fd">isSSA</a>();</div>
<div class="line"><a name="l03593"></a><span class="lineno"> 3593</span>&#160;  <span class="comment">// Do this opt after PEI which is after RA. The reason is stack slot expansion</span></div>
<div class="line"><a name="l03594"></a><span class="lineno"> 3594</span>&#160;  <span class="comment">// in PEI may expose such opportunities since in PEI, stack slot offsets to</span></div>
<div class="line"><a name="l03595"></a><span class="lineno"> 3595</span>&#160;  <span class="comment">// frame base(OffsetAddi) are determined.</span></div>
<div class="line"><a name="l03596"></a><span class="lineno"> 3596</span>&#160;  <span class="keywordflow">if</span> (!PostRA)</div>
<div class="line"><a name="l03597"></a><span class="lineno"> 3597</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03598"></a><span class="lineno"> 3598</span>&#160;  <span class="keywordtype">unsigned</span> ToBeDeletedReg = 0;</div>
<div class="line"><a name="l03599"></a><span class="lineno"> 3599</span>&#160;  int64_t OffsetImm = 0;</div>
<div class="line"><a name="l03600"></a><span class="lineno"> 3600</span>&#160;  <span class="keywordtype">unsigned</span> XFormOpcode = 0;</div>
<div class="line"><a name="l03601"></a><span class="lineno"> 3601</span>&#160;  <a class="code" href="structllvm_1_1ImmInstrInfo.html">ImmInstrInfo</a> III;</div>
<div class="line"><a name="l03602"></a><span class="lineno"> 3602</span>&#160; </div>
<div class="line"><a name="l03603"></a><span class="lineno"> 3603</span>&#160;  <span class="comment">// Check if Imm instr meets requirement.</span></div>
<div class="line"><a name="l03604"></a><span class="lineno"> 3604</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1PPCInstrInfo.html#ae1d4c0d71423c8fa3d000f7518a4e8ae">isImmInstrEligibleForFolding</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, ToBeDeletedReg, XFormOpcode, OffsetImm,</div>
<div class="line"><a name="l03605"></a><span class="lineno"> 3605</span>&#160;                                    III))</div>
<div class="line"><a name="l03606"></a><span class="lineno"> 3606</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03607"></a><span class="lineno"> 3607</span>&#160; </div>
<div class="line"><a name="l03608"></a><span class="lineno"> 3608</span>&#160;  <span class="keywordtype">bool</span> OtherIntermediateUse = <span class="keyword">false</span>;</div>
<div class="line"><a name="l03609"></a><span class="lineno"> 3609</span>&#160;  <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *ADDMI = <a class="code" href="classllvm_1_1PPCInstrInfo.html#aff2173f1b09ff7e5b1458b9441bcf10d">getDefMIPostRA</a>(ToBeDeletedReg, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, OtherIntermediateUse);</div>
<div class="line"><a name="l03610"></a><span class="lineno"> 3610</span>&#160; </div>
<div class="line"><a name="l03611"></a><span class="lineno"> 3611</span>&#160;  <span class="comment">// Exit if there is other use between ADD and Imm instr or no def found.</span></div>
<div class="line"><a name="l03612"></a><span class="lineno"> 3612</span>&#160;  <span class="keywordflow">if</span> (OtherIntermediateUse || !ADDMI)</div>
<div class="line"><a name="l03613"></a><span class="lineno"> 3613</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03614"></a><span class="lineno"> 3614</span>&#160; </div>
<div class="line"><a name="l03615"></a><span class="lineno"> 3615</span>&#160;  <span class="comment">// Check if ADD instr meets requirement.</span></div>
<div class="line"><a name="l03616"></a><span class="lineno"> 3616</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1PPCInstrInfo.html#a849ceee707ad46510fd6a651de065478">isADDInstrEligibleForFolding</a>(*ADDMI))</div>
<div class="line"><a name="l03617"></a><span class="lineno"> 3617</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03618"></a><span class="lineno"> 3618</span>&#160; </div>
<div class="line"><a name="l03619"></a><span class="lineno"> 3619</span>&#160;  <span class="keywordtype">unsigned</span> ScaleRegIdx = 0;</div>
<div class="line"><a name="l03620"></a><span class="lineno"> 3620</span>&#160;  int64_t OffsetAddi = 0;</div>
<div class="line"><a name="l03621"></a><span class="lineno"> 3621</span>&#160;  <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *ADDIMI = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l03622"></a><span class="lineno"> 3622</span>&#160; </div>
<div class="line"><a name="l03623"></a><span class="lineno"> 3623</span>&#160;  <span class="comment">// Check if there is a valid ToBeChangedReg in ADDMI.</span></div>
<div class="line"><a name="l03624"></a><span class="lineno"> 3624</span>&#160;  <span class="comment">// 1: It must be killed.</span></div>
<div class="line"><a name="l03625"></a><span class="lineno"> 3625</span>&#160;  <span class="comment">// 2: Its definition must be a valid ADDIMI.</span></div>
<div class="line"><a name="l03626"></a><span class="lineno"> 3626</span>&#160;  <span class="comment">// 3: It must satify int16 offset requirement.</span></div>
<div class="line"><a name="l03627"></a><span class="lineno"> 3627</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1PPCInstrInfo.html#a809bcfaa5a36e8e145a700b3e0e21926">isValidToBeChangedReg</a>(ADDMI, 1, ADDIMI, OffsetAddi, OffsetImm))</div>
<div class="line"><a name="l03628"></a><span class="lineno"> 3628</span>&#160;    ScaleRegIdx = 2;</div>
<div class="line"><a name="l03629"></a><span class="lineno"> 3629</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1PPCInstrInfo.html#a809bcfaa5a36e8e145a700b3e0e21926">isValidToBeChangedReg</a>(ADDMI, 2, ADDIMI, OffsetAddi, OffsetImm))</div>
<div class="line"><a name="l03630"></a><span class="lineno"> 3630</span>&#160;    ScaleRegIdx = 1;</div>
<div class="line"><a name="l03631"></a><span class="lineno"> 3631</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l03632"></a><span class="lineno"> 3632</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03633"></a><span class="lineno"> 3633</span>&#160; </div>
<div class="line"><a name="l03634"></a><span class="lineno"> 3634</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(ADDIMI &amp;&amp; <span class="stringliteral">&quot;There should be ADDIMI for valid ToBeChangedReg.&quot;</span>);</div>
<div class="line"><a name="l03635"></a><span class="lineno"> 3635</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> ToBeChangedReg = ADDIMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>();</div>
<div class="line"><a name="l03636"></a><span class="lineno"> 3636</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> ScaleReg = ADDMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(ScaleRegIdx).<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>();</div>
<div class="line"><a name="l03637"></a><span class="lineno"> 3637</span>&#160;  <span class="keyword">auto</span> NewDefFor = [&amp;](<span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, <a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::iterator</a> Start,</div>
<div class="line"><a name="l03638"></a><span class="lineno"> 3638</span>&#160;                       <a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::iterator</a> End) {</div>
<div class="line"><a name="l03639"></a><span class="lineno"> 3639</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> It = ++Start; It != End; It++)</div>
<div class="line"><a name="l03640"></a><span class="lineno"> 3640</span>&#160;      <span class="keywordflow">if</span> (It-&gt;modifiesRegister(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, &amp;<a class="code" href="classllvm_1_1PPCInstrInfo.html#a7736d6dc0c4303c59d1192988b8919e9">getRegisterInfo</a>()))</div>
<div class="line"><a name="l03641"></a><span class="lineno"> 3641</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03642"></a><span class="lineno"> 3642</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03643"></a><span class="lineno"> 3643</span>&#160;  };</div>
<div class="line"><a name="l03644"></a><span class="lineno"> 3644</span>&#160; </div>
<div class="line"><a name="l03645"></a><span class="lineno"> 3645</span>&#160;  <span class="comment">// We are trying to replace the ImmOpNo with ScaleReg. Give up if it is</span></div>
<div class="line"><a name="l03646"></a><span class="lineno"> 3646</span>&#160;  <span class="comment">// treated as special zero when ScaleReg is R0/X0 register.</span></div>
<div class="line"><a name="l03647"></a><span class="lineno"> 3647</span>&#160;  <span class="keywordflow">if</span> (III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#ace8444c8f03d1c0079250b15cd607337">ZeroIsSpecialOrig</a> == III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a3c87effe0ac9501aee6aa53828a65c0c">ImmOpNo</a> &amp;&amp;</div>
<div class="line"><a name="l03648"></a><span class="lineno"> 3648</span>&#160;      (ScaleReg == PPC::R0 || ScaleReg == PPC::X0))</div>
<div class="line"><a name="l03649"></a><span class="lineno"> 3649</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03650"></a><span class="lineno"> 3650</span>&#160; </div>
<div class="line"><a name="l03651"></a><span class="lineno"> 3651</span>&#160;  <span class="comment">// Make sure no other def for ToBeChangedReg and ScaleReg between ADD Instr</span></div>
<div class="line"><a name="l03652"></a><span class="lineno"> 3652</span>&#160;  <span class="comment">// and Imm Instr.</span></div>
<div class="line"><a name="l03653"></a><span class="lineno"> 3653</span>&#160;  <span class="keywordflow">if</span> (NewDefFor(ToBeChangedReg, *ADDMI, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>) || NewDefFor(ScaleReg, *ADDMI, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>))</div>
<div class="line"><a name="l03654"></a><span class="lineno"> 3654</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03655"></a><span class="lineno"> 3655</span>&#160; </div>
<div class="line"><a name="l03656"></a><span class="lineno"> 3656</span>&#160;  <span class="comment">// Now start to do the transformation.</span></div>
<div class="line"><a name="l03657"></a><span class="lineno"> 3657</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Replace instruction: &quot;</span></div>
<div class="line"><a name="l03658"></a><span class="lineno"> 3658</span>&#160;                    &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l03659"></a><span class="lineno"> 3659</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(ADDIMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#accc60d2019e9dff57bb0918a94422ebb">dump</a>());</div>
<div class="line"><a name="l03660"></a><span class="lineno"> 3660</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(ADDMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#accc60d2019e9dff57bb0918a94422ebb">dump</a>());</div>
<div class="line"><a name="l03661"></a><span class="lineno"> 3661</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.<a class="code" href="classllvm_1_1Pass.html#aa26f1f3bfe5b5022b1bd495151b3757a">dump</a>());</div>
<div class="line"><a name="l03662"></a><span class="lineno"> 3662</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;with: &quot;</span></div>
<div class="line"><a name="l03663"></a><span class="lineno"> 3663</span>&#160;                    &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l03664"></a><span class="lineno"> 3664</span>&#160; </div>
<div class="line"><a name="l03665"></a><span class="lineno"> 3665</span>&#160;  <span class="comment">// Update ADDI instr.</span></div>
<div class="line"><a name="l03666"></a><span class="lineno"> 3666</span>&#160;  ADDIMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(2).<a class="code" href="classllvm_1_1MachineOperand.html#a2feaa1c69335c6b9028076cd68c7a5f5">setImm</a>(OffsetAddi + OffsetImm);</div>
<div class="line"><a name="l03667"></a><span class="lineno"> 3667</span>&#160; </div>
<div class="line"><a name="l03668"></a><span class="lineno"> 3668</span>&#160;  <span class="comment">// Update Imm instr.</span></div>
<div class="line"><a name="l03669"></a><span class="lineno"> 3669</span>&#160;  <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.setDesc(<a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(XFormOpcode));</div>
<div class="line"><a name="l03670"></a><span class="lineno"> 3670</span>&#160;  <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a3c87effe0ac9501aee6aa53828a65c0c">ImmOpNo</a>)</div>
<div class="line"><a name="l03671"></a><span class="lineno"> 3671</span>&#160;      .ChangeToRegister(ScaleReg, <span class="keyword">false</span>, <span class="keyword">false</span>,</div>
<div class="line"><a name="l03672"></a><span class="lineno"> 3672</span>&#160;                        ADDMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(ScaleRegIdx).<a class="code" href="classllvm_1_1MachineOperand.html#a4046212ebc647b17e811837ae4ea3afd">isKill</a>());</div>
<div class="line"><a name="l03673"></a><span class="lineno"> 3673</span>&#160; </div>
<div class="line"><a name="l03674"></a><span class="lineno"> 3674</span>&#160;  <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a528b7ccd92e952d902dd916aa4c0ad4b">OpNoForForwarding</a>)</div>
<div class="line"><a name="l03675"></a><span class="lineno"> 3675</span>&#160;      .ChangeToRegister(ToBeChangedReg, <span class="keyword">false</span>, <span class="keyword">false</span>, <span class="keyword">true</span>);</div>
<div class="line"><a name="l03676"></a><span class="lineno"> 3676</span>&#160; </div>
<div class="line"><a name="l03677"></a><span class="lineno"> 3677</span>&#160;  <span class="comment">// Eliminate ADD instr.</span></div>
<div class="line"><a name="l03678"></a><span class="lineno"> 3678</span>&#160;  ADDMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#ac2421adbb9996e1b15f03a8abb6c70a8">eraseFromParent</a>();</div>
<div class="line"><a name="l03679"></a><span class="lineno"> 3679</span>&#160; </div>
<div class="line"><a name="l03680"></a><span class="lineno"> 3680</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(ADDIMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#accc60d2019e9dff57bb0918a94422ebb">dump</a>());</div>
<div class="line"><a name="l03681"></a><span class="lineno"> 3681</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.<a class="code" href="classllvm_1_1Pass.html#aa26f1f3bfe5b5022b1bd495151b3757a">dump</a>());</div>
<div class="line"><a name="l03682"></a><span class="lineno"> 3682</span>&#160; </div>
<div class="line"><a name="l03683"></a><span class="lineno"> 3683</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03684"></a><span class="lineno"> 3684</span>&#160;}</div>
<div class="line"><a name="l03685"></a><span class="lineno"> 3685</span>&#160; </div>
<div class="line"><a name="l03686"></a><span class="lineno"><a class="line" href="classllvm_1_1PPCInstrInfo.html#a919a65c38470ee5665afa859cda18025"> 3686</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1PPCInstrInfo.html#a919a65c38470ee5665afa859cda18025">PPCInstrInfo::isADDIInstrEligibleForFolding</a>(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;ADDIMI,</div>
<div class="line"><a name="l03687"></a><span class="lineno"> 3687</span>&#160;                                                 int64_t &amp;<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l03688"></a><span class="lineno"> 3688</span>&#160;  <span class="keywordtype">unsigned</span> Opc = ADDIMI.<a class="code" href="classllvm_1_1MachineInstr.html#a0363204b5fbab08a46f5a7cd7f376f78">getOpcode</a>();</div>
<div class="line"><a name="l03689"></a><span class="lineno"> 3689</span>&#160; </div>
<div class="line"><a name="l03690"></a><span class="lineno"> 3690</span>&#160;  <span class="comment">// Exit if the instruction is not ADDI.</span></div>
<div class="line"><a name="l03691"></a><span class="lineno"> 3691</span>&#160;  <span class="keywordflow">if</span> (Opc != PPC::ADDI &amp;&amp; Opc != PPC::ADDI8)</div>
<div class="line"><a name="l03692"></a><span class="lineno"> 3692</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03693"></a><span class="lineno"> 3693</span>&#160; </div>
<div class="line"><a name="l03694"></a><span class="lineno"> 3694</span>&#160;  <span class="comment">// The operand may not necessarily be an immediate - it could be a relocation.</span></div>
<div class="line"><a name="l03695"></a><span class="lineno"> 3695</span>&#160;  <span class="keywordflow">if</span> (!ADDIMI.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(2).<a class="code" href="classllvm_1_1MachineOperand.html#a76f61c6784df6dc8402a8b9011041926">isImm</a>())</div>
<div class="line"><a name="l03696"></a><span class="lineno"> 3696</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03697"></a><span class="lineno"> 3697</span>&#160; </div>
<div class="line"><a name="l03698"></a><span class="lineno"> 3698</span>&#160;  <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> = ADDIMI.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(2).<a class="code" href="classllvm_1_1MachineOperand.html#a38b28a85f818b49d8806c150b8a5b4f7">getImm</a>();</div>
<div class="line"><a name="l03699"></a><span class="lineno"> 3699</span>&#160; </div>
<div class="line"><a name="l03700"></a><span class="lineno"> 3700</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03701"></a><span class="lineno"> 3701</span>&#160;}</div>
<div class="line"><a name="l03702"></a><span class="lineno"> 3702</span>&#160; </div>
<div class="line"><a name="l03703"></a><span class="lineno"><a class="line" href="classllvm_1_1PPCInstrInfo.html#a849ceee707ad46510fd6a651de065478"> 3703</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1PPCInstrInfo.html#a849ceee707ad46510fd6a651de065478">PPCInstrInfo::isADDInstrEligibleForFolding</a>(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;ADDMI)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l03704"></a><span class="lineno"> 3704</span>&#160;  <span class="keywordtype">unsigned</span> Opc = ADDMI.<a class="code" href="classllvm_1_1MachineInstr.html#a0363204b5fbab08a46f5a7cd7f376f78">getOpcode</a>();</div>
<div class="line"><a name="l03705"></a><span class="lineno"> 3705</span>&#160; </div>
<div class="line"><a name="l03706"></a><span class="lineno"> 3706</span>&#160;  <span class="comment">// Exit if the instruction is not ADD.</span></div>
<div class="line"><a name="l03707"></a><span class="lineno"> 3707</span>&#160;  <span class="keywordflow">return</span> Opc == PPC::ADD4 || Opc == PPC::ADD8;</div>
<div class="line"><a name="l03708"></a><span class="lineno"> 3708</span>&#160;}</div>
<div class="line"><a name="l03709"></a><span class="lineno"> 3709</span>&#160; </div>
<div class="line"><a name="l03710"></a><span class="lineno"><a class="line" href="classllvm_1_1PPCInstrInfo.html#ae1d4c0d71423c8fa3d000f7518a4e8ae"> 3710</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1PPCInstrInfo.html#ae1d4c0d71423c8fa3d000f7518a4e8ae">PPCInstrInfo::isImmInstrEligibleForFolding</a>(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>,</div>
<div class="line"><a name="l03711"></a><span class="lineno"> 3711</span>&#160;                                                <span class="keywordtype">unsigned</span> &amp;ToBeDeletedReg,</div>
<div class="line"><a name="l03712"></a><span class="lineno"> 3712</span>&#160;                                                <span class="keywordtype">unsigned</span> &amp;XFormOpcode,</div>
<div class="line"><a name="l03713"></a><span class="lineno"> 3713</span>&#160;                                                int64_t &amp;OffsetImm,</div>
<div class="line"><a name="l03714"></a><span class="lineno"> 3714</span>&#160;                                                <a class="code" href="structllvm_1_1ImmInstrInfo.html">ImmInstrInfo</a> &amp;III)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l03715"></a><span class="lineno"> 3715</span>&#160;  <span class="comment">// Only handle load/store.</span></div>
<div class="line"><a name="l03716"></a><span class="lineno"> 3716</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.mayLoadOrStore())</div>
<div class="line"><a name="l03717"></a><span class="lineno"> 3717</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03718"></a><span class="lineno"> 3718</span>&#160; </div>
<div class="line"><a name="l03719"></a><span class="lineno"> 3719</span>&#160;  <span class="keywordtype">unsigned</span> Opc = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode();</div>
<div class="line"><a name="l03720"></a><span class="lineno"> 3720</span>&#160; </div>
<div class="line"><a name="l03721"></a><span class="lineno"> 3721</span>&#160;  XFormOpcode = RI.<a class="code" href="classllvm_1_1PPCRegisterInfo.html#a35c77ff356ab1c026fb65800c036d737">getMappedIdxOpcForImmOpc</a>(Opc);</div>
<div class="line"><a name="l03722"></a><span class="lineno"> 3722</span>&#160; </div>
<div class="line"><a name="l03723"></a><span class="lineno"> 3723</span>&#160;  <span class="comment">// Exit if instruction has no index form.</span></div>
<div class="line"><a name="l03724"></a><span class="lineno"> 3724</span>&#160;  <span class="keywordflow">if</span> (XFormOpcode == PPC::INSTRUCTION_LIST_END)</div>
<div class="line"><a name="l03725"></a><span class="lineno"> 3725</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03726"></a><span class="lineno"> 3726</span>&#160; </div>
<div class="line"><a name="l03727"></a><span class="lineno"> 3727</span>&#160;  <span class="comment">// TODO: sync the logic between instrHasImmForm() and ImmToIdxMap.</span></div>
<div class="line"><a name="l03728"></a><span class="lineno"> 3728</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1PPCInstrInfo.html#afb977cf93fe8661651e4503ae0722893">instrHasImmForm</a>(XFormOpcode, <a class="code" href="classllvm_1_1PPCInstrInfo.html#a4a925741128762aa8606a501ed9dad40">isVFRegister</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(0).getReg()),</div>
<div class="line"><a name="l03729"></a><span class="lineno"> 3729</span>&#160;                       III, <span class="keyword">true</span>))</div>
<div class="line"><a name="l03730"></a><span class="lineno"> 3730</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03731"></a><span class="lineno"> 3731</span>&#160; </div>
<div class="line"><a name="l03732"></a><span class="lineno"> 3732</span>&#160;  <span class="keywordflow">if</span> (!III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a1749c6946477b2e208391a3555fb94b9">IsSummingOperands</a>)</div>
<div class="line"><a name="l03733"></a><span class="lineno"> 3733</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03734"></a><span class="lineno"> 3734</span>&#160; </div>
<div class="line"><a name="l03735"></a><span class="lineno"> 3735</span>&#160;  <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> ImmOperand = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a3c87effe0ac9501aee6aa53828a65c0c">ImmOpNo</a>);</div>
<div class="line"><a name="l03736"></a><span class="lineno"> 3736</span>&#160;  <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> RegOperand = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a528b7ccd92e952d902dd916aa4c0ad4b">OpNoForForwarding</a>);</div>
<div class="line"><a name="l03737"></a><span class="lineno"> 3737</span>&#160;  <span class="comment">// Only support imm operands, not relocation slots or others.</span></div>
<div class="line"><a name="l03738"></a><span class="lineno"> 3738</span>&#160;  <span class="keywordflow">if</span> (!ImmOperand.<a class="code" href="classllvm_1_1MachineOperand.html#a76f61c6784df6dc8402a8b9011041926">isImm</a>())</div>
<div class="line"><a name="l03739"></a><span class="lineno"> 3739</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03740"></a><span class="lineno"> 3740</span>&#160; </div>
<div class="line"><a name="l03741"></a><span class="lineno"> 3741</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(RegOperand.<a class="code" href="classllvm_1_1MachineOperand.html#a4c9594c955fec80c73ddd964b5efd554">isReg</a>() &amp;&amp; <span class="stringliteral">&quot;Instruction format is not right&quot;</span>);</div>
<div class="line"><a name="l03742"></a><span class="lineno"> 3742</span>&#160; </div>
<div class="line"><a name="l03743"></a><span class="lineno"> 3743</span>&#160;  <span class="comment">// There are other use for ToBeDeletedReg after Imm instr, can not delete it.</span></div>
<div class="line"><a name="l03744"></a><span class="lineno"> 3744</span>&#160;  <span class="keywordflow">if</span> (!RegOperand.<a class="code" href="classllvm_1_1MachineOperand.html#a4046212ebc647b17e811837ae4ea3afd">isKill</a>())</div>
<div class="line"><a name="l03745"></a><span class="lineno"> 3745</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03746"></a><span class="lineno"> 3746</span>&#160; </div>
<div class="line"><a name="l03747"></a><span class="lineno"> 3747</span>&#160;  ToBeDeletedReg = RegOperand.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>();</div>
<div class="line"><a name="l03748"></a><span class="lineno"> 3748</span>&#160;  OffsetImm = ImmOperand.<a class="code" href="classllvm_1_1MachineOperand.html#a38b28a85f818b49d8806c150b8a5b4f7">getImm</a>();</div>
<div class="line"><a name="l03749"></a><span class="lineno"> 3749</span>&#160; </div>
<div class="line"><a name="l03750"></a><span class="lineno"> 3750</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03751"></a><span class="lineno"> 3751</span>&#160;}</div>
<div class="line"><a name="l03752"></a><span class="lineno"> 3752</span>&#160; </div>
<div class="line"><a name="l03753"></a><span class="lineno"><a class="line" href="classllvm_1_1PPCInstrInfo.html#a809bcfaa5a36e8e145a700b3e0e21926"> 3753</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1PPCInstrInfo.html#a809bcfaa5a36e8e145a700b3e0e21926">PPCInstrInfo::isValidToBeChangedReg</a>(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *ADDMI, <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1dwarf.html#a5d3c920b66ea797d6adb243862fdf47a">Index</a>,</div>
<div class="line"><a name="l03754"></a><span class="lineno"> 3754</span>&#160;                                         <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *&amp;ADDIMI,</div>
<div class="line"><a name="l03755"></a><span class="lineno"> 3755</span>&#160;                                         int64_t &amp;OffsetAddi,</div>
<div class="line"><a name="l03756"></a><span class="lineno"> 3756</span>&#160;                                         int64_t OffsetImm)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l03757"></a><span class="lineno"> 3757</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((<a class="code" href="namespacellvm_1_1dwarf.html#a5d3c920b66ea797d6adb243862fdf47a">Index</a> == 1 || <a class="code" href="namespacellvm_1_1dwarf.html#a5d3c920b66ea797d6adb243862fdf47a">Index</a> == 2) &amp;&amp; <span class="stringliteral">&quot;Invalid operand index for add.&quot;</span>);</div>
<div class="line"><a name="l03758"></a><span class="lineno"> 3758</span>&#160;  <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;MO = ADDMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(<a class="code" href="namespacellvm_1_1dwarf.html#a5d3c920b66ea797d6adb243862fdf47a">Index</a>);</div>
<div class="line"><a name="l03759"></a><span class="lineno"> 3759</span>&#160; </div>
<div class="line"><a name="l03760"></a><span class="lineno"> 3760</span>&#160;  <span class="keywordflow">if</span> (!MO.<a class="code" href="classllvm_1_1MachineOperand.html#a4046212ebc647b17e811837ae4ea3afd">isKill</a>())</div>
<div class="line"><a name="l03761"></a><span class="lineno"> 3761</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03762"></a><span class="lineno"> 3762</span>&#160; </div>
<div class="line"><a name="l03763"></a><span class="lineno"> 3763</span>&#160;  <span class="keywordtype">bool</span> OtherIntermediateUse = <span class="keyword">false</span>;</div>
<div class="line"><a name="l03764"></a><span class="lineno"> 3764</span>&#160; </div>
<div class="line"><a name="l03765"></a><span class="lineno"> 3765</span>&#160;  ADDIMI = <a class="code" href="classllvm_1_1PPCInstrInfo.html#aff2173f1b09ff7e5b1458b9441bcf10d">getDefMIPostRA</a>(MO.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>(), *ADDMI, OtherIntermediateUse);</div>
<div class="line"><a name="l03766"></a><span class="lineno"> 3766</span>&#160;  <span class="comment">// Currently handle only one &quot;add + Imminstr&quot; pair case, exit if other</span></div>
<div class="line"><a name="l03767"></a><span class="lineno"> 3767</span>&#160;  <span class="comment">// intermediate use for ToBeChangedReg found.</span></div>
<div class="line"><a name="l03768"></a><span class="lineno"> 3768</span>&#160;  <span class="comment">// TODO: handle the cases where there are other &quot;add + Imminstr&quot; pairs</span></div>
<div class="line"><a name="l03769"></a><span class="lineno"> 3769</span>&#160;  <span class="comment">// with same offset in Imminstr which is like:</span></div>
<div class="line"><a name="l03770"></a><span class="lineno"> 3770</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l03771"></a><span class="lineno"> 3771</span>&#160;  <span class="comment">// ADDI instr: ToBeChangedReg  = ADDI FrameBaseReg, OffsetAddi</span></div>
<div class="line"><a name="l03772"></a><span class="lineno"> 3772</span>&#160;  <span class="comment">// ADD instr1: ToBeDeletedReg1 = ADD ToBeChangedReg, ScaleReg1</span></div>
<div class="line"><a name="l03773"></a><span class="lineno"> 3773</span>&#160;  <span class="comment">// Imm instr1: Reg1            = op1 OffsetImm, ToBeDeletedReg1(killed)</span></div>
<div class="line"><a name="l03774"></a><span class="lineno"> 3774</span>&#160;  <span class="comment">// ADD instr2: ToBeDeletedReg2 = ADD ToBeChangedReg(killed), ScaleReg2</span></div>
<div class="line"><a name="l03775"></a><span class="lineno"> 3775</span>&#160;  <span class="comment">// Imm instr2: Reg2            = op2 OffsetImm, ToBeDeletedReg2(killed)</span></div>
<div class="line"><a name="l03776"></a><span class="lineno"> 3776</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l03777"></a><span class="lineno"> 3777</span>&#160;  <span class="comment">// can be converted to:</span></div>
<div class="line"><a name="l03778"></a><span class="lineno"> 3778</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l03779"></a><span class="lineno"> 3779</span>&#160;  <span class="comment">// new ADDI instr: ToBeChangedReg = ADDI FrameBaseReg,</span></div>
<div class="line"><a name="l03780"></a><span class="lineno"> 3780</span>&#160;  <span class="comment">//                                       (OffsetAddi + OffsetImm)</span></div>
<div class="line"><a name="l03781"></a><span class="lineno"> 3781</span>&#160;  <span class="comment">// Index instr1:   Reg1           = opx1 ScaleReg1, ToBeChangedReg</span></div>
<div class="line"><a name="l03782"></a><span class="lineno"> 3782</span>&#160;  <span class="comment">// Index instr2:   Reg2           = opx2 ScaleReg2, ToBeChangedReg(killed)</span></div>
<div class="line"><a name="l03783"></a><span class="lineno"> 3783</span>&#160; </div>
<div class="line"><a name="l03784"></a><span class="lineno"> 3784</span>&#160;  <span class="keywordflow">if</span> (OtherIntermediateUse || !ADDIMI)</div>
<div class="line"><a name="l03785"></a><span class="lineno"> 3785</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03786"></a><span class="lineno"> 3786</span>&#160;  <span class="comment">// Check if ADDI instr meets requirement.</span></div>
<div class="line"><a name="l03787"></a><span class="lineno"> 3787</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1PPCInstrInfo.html#a919a65c38470ee5665afa859cda18025">isADDIInstrEligibleForFolding</a>(*ADDIMI, OffsetAddi))</div>
<div class="line"><a name="l03788"></a><span class="lineno"> 3788</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03789"></a><span class="lineno"> 3789</span>&#160; </div>
<div class="line"><a name="l03790"></a><span class="lineno"> 3790</span>&#160;  <span class="keywordflow">if</span> (isInt&lt;16&gt;(OffsetAddi + OffsetImm))</div>
<div class="line"><a name="l03791"></a><span class="lineno"> 3791</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03792"></a><span class="lineno"> 3792</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03793"></a><span class="lineno"> 3793</span>&#160;}</div>
<div class="line"><a name="l03794"></a><span class="lineno"> 3794</span>&#160; </div>
<div class="line"><a name="l03795"></a><span class="lineno"> 3795</span>&#160;<span class="comment">// If this instruction has an immediate form and one of its operands is a</span></div>
<div class="line"><a name="l03796"></a><span class="lineno"> 3796</span>&#160;<span class="comment">// result of a load-immediate or an add-immediate, convert it to</span></div>
<div class="line"><a name="l03797"></a><span class="lineno"> 3797</span>&#160;<span class="comment">// the immediate form if the constant is in range.</span></div>
<div class="line"><a name="l03798"></a><span class="lineno"><a class="line" href="classllvm_1_1PPCInstrInfo.html#a66df27d1558e144f63148f347b79392f"> 3798</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1PPCInstrInfo.html#a66df27d1558e144f63148f347b79392f">PPCInstrInfo::convertToImmediateForm</a>(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>,</div>
<div class="line"><a name="l03799"></a><span class="lineno"> 3799</span>&#160;                                          <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> **KilledDef)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l03800"></a><span class="lineno"> 3800</span>&#160;  <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> *MF = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getParent()-&gt;getParent();</div>
<div class="line"><a name="l03801"></a><span class="lineno"> 3801</span>&#160;  <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> *<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a> = &amp;MF-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>();</div>
<div class="line"><a name="l03802"></a><span class="lineno"> 3802</span>&#160;  <span class="keywordtype">bool</span> PostRA = !<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>-&gt;<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a86dd1b4ce6ff2d4a0b4593c5f7b2a3fd">isSSA</a>();</div>
<div class="line"><a name="l03803"></a><span class="lineno"> 3803</span>&#160;  <span class="keywordtype">bool</span> SeenIntermediateUse = <span class="keyword">true</span>;</div>
<div class="line"><a name="l03804"></a><span class="lineno"> 3804</span>&#160;  <span class="keywordtype">unsigned</span> ForwardingOperand = ~0U;</div>
<div class="line"><a name="l03805"></a><span class="lineno"> 3805</span>&#160;  <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a> = getForwardingDefMI(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, ForwardingOperand,</div>
<div class="line"><a name="l03806"></a><span class="lineno"> 3806</span>&#160;                                           SeenIntermediateUse);</div>
<div class="line"><a name="l03807"></a><span class="lineno"> 3807</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a>)</div>
<div class="line"><a name="l03808"></a><span class="lineno"> 3808</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03809"></a><span class="lineno"> 3809</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(ForwardingOperand &lt; <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getNumOperands() &amp;&amp;</div>
<div class="line"><a name="l03810"></a><span class="lineno"> 3810</span>&#160;         <span class="stringliteral">&quot;The forwarding operand needs to be valid at this point&quot;</span>);</div>
<div class="line"><a name="l03811"></a><span class="lineno"> 3811</span>&#160;  <span class="keywordtype">bool</span> IsForwardingOperandKilled = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(ForwardingOperand).isKill();</div>
<div class="line"><a name="l03812"></a><span class="lineno"> 3812</span>&#160;  <span class="keywordtype">bool</span> KillFwdDefMI = !SeenIntermediateUse &amp;&amp; IsForwardingOperandKilled;</div>
<div class="line"><a name="l03813"></a><span class="lineno"> 3813</span>&#160;  <span class="keywordflow">if</span> (KilledDef &amp;&amp; KillFwdDefMI)</div>
<div class="line"><a name="l03814"></a><span class="lineno"> 3814</span>&#160;    *KilledDef = <a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a>;</div>
<div class="line"><a name="l03815"></a><span class="lineno"> 3815</span>&#160; </div>
<div class="line"><a name="l03816"></a><span class="lineno"> 3816</span>&#160;  <span class="comment">// If this is a imm instruction and its register operands is produced by ADDI,</span></div>
<div class="line"><a name="l03817"></a><span class="lineno"> 3817</span>&#160;  <span class="comment">// put the imm into imm inst directly.</span></div>
<div class="line"><a name="l03818"></a><span class="lineno"> 3818</span>&#160;  <span class="keywordflow">if</span> (RI.<a class="code" href="classllvm_1_1PPCRegisterInfo.html#a35c77ff356ab1c026fb65800c036d737">getMappedIdxOpcForImmOpc</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode()) !=</div>
<div class="line"><a name="l03819"></a><span class="lineno"> 3819</span>&#160;          PPC::INSTRUCTION_LIST_END &amp;&amp;</div>
<div class="line"><a name="l03820"></a><span class="lineno"> 3820</span>&#160;      transformToNewImmFormFedByAdd(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, *<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a>, ForwardingOperand))</div>
<div class="line"><a name="l03821"></a><span class="lineno"> 3821</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03822"></a><span class="lineno"> 3822</span>&#160; </div>
<div class="line"><a name="l03823"></a><span class="lineno"> 3823</span>&#160;  <a class="code" href="structllvm_1_1ImmInstrInfo.html">ImmInstrInfo</a> III;</div>
<div class="line"><a name="l03824"></a><span class="lineno"> 3824</span>&#160;  <span class="keywordtype">bool</span> IsVFReg = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(0).isReg()</div>
<div class="line"><a name="l03825"></a><span class="lineno"> 3825</span>&#160;                     ? <a class="code" href="classllvm_1_1PPCInstrInfo.html#a4a925741128762aa8606a501ed9dad40">isVFRegister</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(0).getReg())</div>
<div class="line"><a name="l03826"></a><span class="lineno"> 3826</span>&#160;                     : <span class="keyword">false</span>;</div>
<div class="line"><a name="l03827"></a><span class="lineno"> 3827</span>&#160;  <span class="keywordtype">bool</span> HasImmForm = <a class="code" href="classllvm_1_1PPCInstrInfo.html#afb977cf93fe8661651e4503ae0722893">instrHasImmForm</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode(), IsVFReg, III, PostRA);</div>
<div class="line"><a name="l03828"></a><span class="lineno"> 3828</span>&#160;  <span class="comment">// If this is a reg+reg instruction that has a reg+imm form,</span></div>
<div class="line"><a name="l03829"></a><span class="lineno"> 3829</span>&#160;  <span class="comment">// and one of the operands is produced by an add-immediate,</span></div>
<div class="line"><a name="l03830"></a><span class="lineno"> 3830</span>&#160;  <span class="comment">// try to convert it.</span></div>
<div class="line"><a name="l03831"></a><span class="lineno"> 3831</span>&#160;  <span class="keywordflow">if</span> (HasImmForm &amp;&amp;</div>
<div class="line"><a name="l03832"></a><span class="lineno"> 3832</span>&#160;      transformToImmFormFedByAdd(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, III, ForwardingOperand, *<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a>,</div>
<div class="line"><a name="l03833"></a><span class="lineno"> 3833</span>&#160;                                 KillFwdDefMI))</div>
<div class="line"><a name="l03834"></a><span class="lineno"> 3834</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03835"></a><span class="lineno"> 3835</span>&#160; </div>
<div class="line"><a name="l03836"></a><span class="lineno"> 3836</span>&#160;  <span class="comment">// If this is a reg+reg instruction that has a reg+imm form,</span></div>
<div class="line"><a name="l03837"></a><span class="lineno"> 3837</span>&#160;  <span class="comment">// and one of the operands is produced by LI, convert it now.</span></div>
<div class="line"><a name="l03838"></a><span class="lineno"> 3838</span>&#160;  <span class="keywordflow">if</span> (HasImmForm &amp;&amp;</div>
<div class="line"><a name="l03839"></a><span class="lineno"> 3839</span>&#160;      transformToImmFormFedByLI(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, III, ForwardingOperand, *<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a>))</div>
<div class="line"><a name="l03840"></a><span class="lineno"> 3840</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03841"></a><span class="lineno"> 3841</span>&#160; </div>
<div class="line"><a name="l03842"></a><span class="lineno"> 3842</span>&#160;  <span class="comment">// If this is not a reg+reg, but the DefMI is LI/LI8, check if its user MI</span></div>
<div class="line"><a name="l03843"></a><span class="lineno"> 3843</span>&#160;  <span class="comment">// can be simpified to LI.</span></div>
<div class="line"><a name="l03844"></a><span class="lineno"> 3844</span>&#160;  <span class="keywordflow">if</span> (!HasImmForm &amp;&amp; simplifyToLI(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, *<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a>, ForwardingOperand, KilledDef))</div>
<div class="line"><a name="l03845"></a><span class="lineno"> 3845</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03846"></a><span class="lineno"> 3846</span>&#160; </div>
<div class="line"><a name="l03847"></a><span class="lineno"> 3847</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03848"></a><span class="lineno"> 3848</span>&#160;}</div>
<div class="line"><a name="l03849"></a><span class="lineno"> 3849</span>&#160; </div>
<div class="line"><a name="l03850"></a><span class="lineno"><a class="line" href="classllvm_1_1PPCInstrInfo.html#a0e3a31dc0490f96016dc6f83eb363213"> 3850</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1PPCInstrInfo.html#a0e3a31dc0490f96016dc6f83eb363213">PPCInstrInfo::combineRLWINM</a>(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>,</div>
<div class="line"><a name="l03851"></a><span class="lineno"> 3851</span>&#160;                                 <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> **ToErase)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l03852"></a><span class="lineno"> 3852</span>&#160;  <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> *<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a> = &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getParent()-&gt;getParent()-&gt;getRegInfo();</div>
<div class="line"><a name="l03853"></a><span class="lineno"> 3853</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> FoldingReg = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(1).getReg();</div>
<div class="line"><a name="l03854"></a><span class="lineno"> 3854</span>&#160;  <span class="keywordflow">if</span> (!FoldingReg.<a class="code" href="classllvm_1_1Register.html#aebafd86dde59b5a05b22e8720e808a9d">isVirtual</a>())</div>
<div class="line"><a name="l03855"></a><span class="lineno"> 3855</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03856"></a><span class="lineno"> 3856</span>&#160;  <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *SrcMI = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>-&gt;<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a40d954b9cf9ee8b545a78725f2549cba">getVRegDef</a>(FoldingReg);</div>
<div class="line"><a name="l03857"></a><span class="lineno"> 3857</span>&#160;  <span class="keywordflow">if</span> (SrcMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a0363204b5fbab08a46f5a7cd7f376f78">getOpcode</a>() != PPC::RLWINM &amp;&amp;</div>
<div class="line"><a name="l03858"></a><span class="lineno"> 3858</span>&#160;      SrcMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a0363204b5fbab08a46f5a7cd7f376f78">getOpcode</a>() != PPC::RLWINM_rec &amp;&amp;</div>
<div class="line"><a name="l03859"></a><span class="lineno"> 3859</span>&#160;      SrcMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a0363204b5fbab08a46f5a7cd7f376f78">getOpcode</a>() != PPC::RLWINM8 &amp;&amp;</div>
<div class="line"><a name="l03860"></a><span class="lineno"> 3860</span>&#160;      SrcMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a0363204b5fbab08a46f5a7cd7f376f78">getOpcode</a>() != PPC::RLWINM8_rec)</div>
<div class="line"><a name="l03861"></a><span class="lineno"> 3861</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03862"></a><span class="lineno"> 3862</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(2).isImm() &amp;&amp; <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(3).isImm() &amp;&amp;</div>
<div class="line"><a name="l03863"></a><span class="lineno"> 3863</span>&#160;          <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(4).isImm() &amp;&amp; SrcMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(2).<a class="code" href="classllvm_1_1MachineOperand.html#a76f61c6784df6dc8402a8b9011041926">isImm</a>() &amp;&amp;</div>
<div class="line"><a name="l03864"></a><span class="lineno"> 3864</span>&#160;          SrcMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(3).<a class="code" href="classllvm_1_1MachineOperand.html#a76f61c6784df6dc8402a8b9011041926">isImm</a>() &amp;&amp; SrcMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(4).<a class="code" href="classllvm_1_1MachineOperand.html#a76f61c6784df6dc8402a8b9011041926">isImm</a>()) &amp;&amp;</div>
<div class="line"><a name="l03865"></a><span class="lineno"> 3865</span>&#160;         <span class="stringliteral">&quot;Invalid PPC::RLWINM Instruction!&quot;</span>);</div>
<div class="line"><a name="l03866"></a><span class="lineno"> 3866</span>&#160;  <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> SHSrc = SrcMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(2).<a class="code" href="classllvm_1_1MachineOperand.html#a38b28a85f818b49d8806c150b8a5b4f7">getImm</a>();</div>
<div class="line"><a name="l03867"></a><span class="lineno"> 3867</span>&#160;  <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> SHMI = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(2).getImm();</div>
<div class="line"><a name="l03868"></a><span class="lineno"> 3868</span>&#160;  <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> MBSrc = SrcMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(3).<a class="code" href="classllvm_1_1MachineOperand.html#a38b28a85f818b49d8806c150b8a5b4f7">getImm</a>();</div>
<div class="line"><a name="l03869"></a><span class="lineno"> 3869</span>&#160;  <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> MBMI = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(3).getImm();</div>
<div class="line"><a name="l03870"></a><span class="lineno"> 3870</span>&#160;  <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> MESrc = SrcMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(4).<a class="code" href="classllvm_1_1MachineOperand.html#a38b28a85f818b49d8806c150b8a5b4f7">getImm</a>();</div>
<div class="line"><a name="l03871"></a><span class="lineno"> 3871</span>&#160;  <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> MEMI = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(4).getImm();</div>
<div class="line"><a name="l03872"></a><span class="lineno"> 3872</span>&#160; </div>
<div class="line"><a name="l03873"></a><span class="lineno"> 3873</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((MEMI &lt; 32 &amp;&amp; MESrc &lt; 32 &amp;&amp; MBMI &lt; 32 &amp;&amp; MBSrc &lt; 32) &amp;&amp;</div>
<div class="line"><a name="l03874"></a><span class="lineno"> 3874</span>&#160;         <span class="stringliteral">&quot;Invalid PPC::RLWINM Instruction!&quot;</span>);</div>
<div class="line"><a name="l03875"></a><span class="lineno"> 3875</span>&#160;  <span class="comment">// If MBMI is bigger than MEMI, we always can not get run of ones.</span></div>
<div class="line"><a name="l03876"></a><span class="lineno"> 3876</span>&#160;  <span class="comment">// RotatedSrcMask non-wrap:</span></div>
<div class="line"><a name="l03877"></a><span class="lineno"> 3877</span>&#160;  <span class="comment">//                 0........31|32........63</span></div>
<div class="line"><a name="l03878"></a><span class="lineno"> 3878</span>&#160;  <span class="comment">// RotatedSrcMask:   B---E        B---E</span></div>
<div class="line"><a name="l03879"></a><span class="lineno"> 3879</span>&#160;  <span class="comment">// MaskMI:         -----------|--E  B------</span></div>
<div class="line"><a name="l03880"></a><span class="lineno"> 3880</span>&#160;  <span class="comment">// Result:           -----          ---      (Bad candidate)</span></div>
<div class="line"><a name="l03881"></a><span class="lineno"> 3881</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l03882"></a><span class="lineno"> 3882</span>&#160;  <span class="comment">// RotatedSrcMask wrap:</span></div>
<div class="line"><a name="l03883"></a><span class="lineno"> 3883</span>&#160;  <span class="comment">//                 0........31|32........63</span></div>
<div class="line"><a name="l03884"></a><span class="lineno"> 3884</span>&#160;  <span class="comment">// RotatedSrcMask: --E   B----|--E    B----</span></div>
<div class="line"><a name="l03885"></a><span class="lineno"> 3885</span>&#160;  <span class="comment">// MaskMI:         -----------|--E  B------</span></div>
<div class="line"><a name="l03886"></a><span class="lineno"> 3886</span>&#160;  <span class="comment">// Result:         ---   -----|---    -----  (Bad candidate)</span></div>
<div class="line"><a name="l03887"></a><span class="lineno"> 3887</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l03888"></a><span class="lineno"> 3888</span>&#160;  <span class="comment">// One special case is RotatedSrcMask is a full set mask.</span></div>
<div class="line"><a name="l03889"></a><span class="lineno"> 3889</span>&#160;  <span class="comment">// RotatedSrcMask full:</span></div>
<div class="line"><a name="l03890"></a><span class="lineno"> 3890</span>&#160;  <span class="comment">//                 0........31|32........63</span></div>
<div class="line"><a name="l03891"></a><span class="lineno"> 3891</span>&#160;  <span class="comment">// RotatedSrcMask: ------EB---|-------EB---</span></div>
<div class="line"><a name="l03892"></a><span class="lineno"> 3892</span>&#160;  <span class="comment">// MaskMI:         -----------|--E  B------</span></div>
<div class="line"><a name="l03893"></a><span class="lineno"> 3893</span>&#160;  <span class="comment">// Result:         -----------|---  -------  (Good candidate)</span></div>
<div class="line"><a name="l03894"></a><span class="lineno"> 3894</span>&#160; </div>
<div class="line"><a name="l03895"></a><span class="lineno"> 3895</span>&#160;  <span class="comment">// Mark special case.</span></div>
<div class="line"><a name="l03896"></a><span class="lineno"> 3896</span>&#160;  <span class="keywordtype">bool</span> SrcMaskFull = (MBSrc - MESrc == 1) || (MBSrc == 0 &amp;&amp; MESrc == 31);</div>
<div class="line"><a name="l03897"></a><span class="lineno"> 3897</span>&#160; </div>
<div class="line"><a name="l03898"></a><span class="lineno"> 3898</span>&#160;  <span class="comment">// For other MBMI &gt; MEMI cases, just return.</span></div>
<div class="line"><a name="l03899"></a><span class="lineno"> 3899</span>&#160;  <span class="keywordflow">if</span> ((MBMI &gt; MEMI) &amp;&amp; !SrcMaskFull)</div>
<div class="line"><a name="l03900"></a><span class="lineno"> 3900</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03901"></a><span class="lineno"> 3901</span>&#160; </div>
<div class="line"><a name="l03902"></a><span class="lineno"> 3902</span>&#160;  <span class="comment">// Handle MBMI &lt;= MEMI cases.</span></div>
<div class="line"><a name="l03903"></a><span class="lineno"> 3903</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> MaskMI = <a class="code" href="classllvm_1_1APInt.html#af3bee3e462a14abdf3858c354a5cd222">APInt::getBitsSetWithWrap</a>(32, 32 - MEMI - 1, 32 - MBMI);</div>
<div class="line"><a name="l03904"></a><span class="lineno"> 3904</span>&#160;  <span class="comment">// In MI, we only need low 32 bits of SrcMI, just consider about low 32</span></div>
<div class="line"><a name="l03905"></a><span class="lineno"> 3905</span>&#160;  <span class="comment">// bit of SrcMI mask. Note that in APInt, lowerest bit is at index 0,</span></div>
<div class="line"><a name="l03906"></a><span class="lineno"> 3906</span>&#160;  <span class="comment">// while in PowerPC ISA, lowerest bit is at index 63.</span></div>
<div class="line"><a name="l03907"></a><span class="lineno"> 3907</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> MaskSrc = <a class="code" href="classllvm_1_1APInt.html#af3bee3e462a14abdf3858c354a5cd222">APInt::getBitsSetWithWrap</a>(32, 32 - MESrc - 1, 32 - MBSrc);</div>
<div class="line"><a name="l03908"></a><span class="lineno"> 3908</span>&#160; </div>
<div class="line"><a name="l03909"></a><span class="lineno"> 3909</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> RotatedSrcMask = MaskSrc.<a class="code" href="classllvm_1_1APInt.html#aa548cc4a0fd9e7c713b180f7780655e2">rotl</a>(SHMI);</div>
<div class="line"><a name="l03910"></a><span class="lineno"> 3910</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> FinalMask = RotatedSrcMask &amp; MaskMI;</div>
<div class="line"><a name="l03911"></a><span class="lineno"> 3911</span>&#160;  <a class="code" href="classuint32__t.html">uint32_t</a> NewMB, NewME;</div>
<div class="line"><a name="l03912"></a><span class="lineno"> 3912</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="namespacellvm_1_1JumpTable.html#ae69658c09df17591f8b1c3e95b879b5ca99c267524f12efe8cf927389e02d506a">Simplified</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l03913"></a><span class="lineno"> 3913</span>&#160; </div>
<div class="line"><a name="l03914"></a><span class="lineno"> 3914</span>&#160;  <span class="comment">// If final mask is 0, MI result should be 0 too.</span></div>
<div class="line"><a name="l03915"></a><span class="lineno"> 3915</span>&#160;  <span class="keywordflow">if</span> (FinalMask.<a class="code" href="classllvm_1_1APInt.html#a49cd5939942c6665aba4cae8c220dff1">isZero</a>()) {</div>
<div class="line"><a name="l03916"></a><span class="lineno"> 3916</span>&#160;    <span class="keywordtype">bool</span> Is64Bit =</div>
<div class="line"><a name="l03917"></a><span class="lineno"> 3917</span>&#160;        (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode() == PPC::RLWINM8 || <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode() == PPC::RLWINM8_rec);</div>
<div class="line"><a name="l03918"></a><span class="lineno"> 3918</span>&#160;    <a class="code" href="namespacellvm_1_1JumpTable.html#ae69658c09df17591f8b1c3e95b879b5ca99c267524f12efe8cf927389e02d506a">Simplified</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l03919"></a><span class="lineno"> 3919</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Replace Instr: &quot;</span>);</div>
<div class="line"><a name="l03920"></a><span class="lineno"> 3920</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.<a class="code" href="classllvm_1_1Pass.html#aa26f1f3bfe5b5022b1bd495151b3757a">dump</a>());</div>
<div class="line"><a name="l03921"></a><span class="lineno"> 3921</span>&#160; </div>
<div class="line"><a name="l03922"></a><span class="lineno"> 3922</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode() == PPC::RLWINM || <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode() == PPC::RLWINM8) {</div>
<div class="line"><a name="l03923"></a><span class="lineno"> 3923</span>&#160;      <span class="comment">// Replace MI with &quot;LI 0&quot;</span></div>
<div class="line"><a name="l03924"></a><span class="lineno"> 3924</span>&#160;      <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.removeOperand(4);</div>
<div class="line"><a name="l03925"></a><span class="lineno"> 3925</span>&#160;      <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.removeOperand(3);</div>
<div class="line"><a name="l03926"></a><span class="lineno"> 3926</span>&#160;      <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.removeOperand(2);</div>
<div class="line"><a name="l03927"></a><span class="lineno"> 3927</span>&#160;      <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(1).ChangeToImmediate(0);</div>
<div class="line"><a name="l03928"></a><span class="lineno"> 3928</span>&#160;      <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.setDesc(<a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(Is64Bit ? PPC::LI8 : PPC::LI));</div>
<div class="line"><a name="l03929"></a><span class="lineno"> 3929</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03930"></a><span class="lineno"> 3930</span>&#160;      <span class="comment">// Replace MI with &quot;ANDI_rec reg, 0&quot;</span></div>
<div class="line"><a name="l03931"></a><span class="lineno"> 3931</span>&#160;      <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.removeOperand(4);</div>
<div class="line"><a name="l03932"></a><span class="lineno"> 3932</span>&#160;      <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.removeOperand(3);</div>
<div class="line"><a name="l03933"></a><span class="lineno"> 3933</span>&#160;      <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(2).setImm(0);</div>
<div class="line"><a name="l03934"></a><span class="lineno"> 3934</span>&#160;      <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.setDesc(<a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(Is64Bit ? PPC::ANDI8_rec : PPC::ANDI_rec));</div>
<div class="line"><a name="l03935"></a><span class="lineno"> 3935</span>&#160;      <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(1).setReg(SrcMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(1).<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>());</div>
<div class="line"><a name="l03936"></a><span class="lineno"> 3936</span>&#160;      <span class="keywordflow">if</span> (SrcMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(1).<a class="code" href="classllvm_1_1MachineOperand.html#a4046212ebc647b17e811837ae4ea3afd">isKill</a>()) {</div>
<div class="line"><a name="l03937"></a><span class="lineno"> 3937</span>&#160;        <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(1).setIsKill(<span class="keyword">true</span>);</div>
<div class="line"><a name="l03938"></a><span class="lineno"> 3938</span>&#160;        SrcMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(1).<a class="code" href="classllvm_1_1MachineOperand.html#a8a82683fccdef8a5ef772ef03277aee7">setIsKill</a>(<span class="keyword">false</span>);</div>
<div class="line"><a name="l03939"></a><span class="lineno"> 3939</span>&#160;      } <span class="keywordflow">else</span></div>
<div class="line"><a name="l03940"></a><span class="lineno"> 3940</span>&#160;        <span class="comment">// About to replace MI.getOperand(1), clear its kill flag.</span></div>
<div class="line"><a name="l03941"></a><span class="lineno"> 3941</span>&#160;        <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(1).setIsKill(<span class="keyword">false</span>);</div>
<div class="line"><a name="l03942"></a><span class="lineno"> 3942</span>&#160;    }</div>
<div class="line"><a name="l03943"></a><span class="lineno"> 3943</span>&#160; </div>
<div class="line"><a name="l03944"></a><span class="lineno"> 3944</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;With: &quot;</span>);</div>
<div class="line"><a name="l03945"></a><span class="lineno"> 3945</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.<a class="code" href="classllvm_1_1Pass.html#aa26f1f3bfe5b5022b1bd495151b3757a">dump</a>());</div>
<div class="line"><a name="l03946"></a><span class="lineno"> 3946</span>&#160; </div>
<div class="line"><a name="l03947"></a><span class="lineno"> 3947</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((<a class="code" href="namespacellvm.html#ad41f0c8cd179d6fb3236c4b00a245153">isRunOfOnes</a>((<span class="keywordtype">unsigned</span>)(FinalMask.<a class="code" href="classllvm_1_1APInt.html#a217e0207d9cc8e046c2dccbf0e4bb198">getZExtValue</a>()), NewMB, NewME) &amp;&amp;</div>
<div class="line"><a name="l03948"></a><span class="lineno"> 3948</span>&#160;              NewMB &lt;= NewME) ||</div>
<div class="line"><a name="l03949"></a><span class="lineno"> 3949</span>&#160;             SrcMaskFull) {</div>
<div class="line"><a name="l03950"></a><span class="lineno"> 3950</span>&#160;    <span class="comment">// Here we only handle MBMI &lt;= MEMI case, so NewMB must be no bigger</span></div>
<div class="line"><a name="l03951"></a><span class="lineno"> 3951</span>&#160;    <span class="comment">// than NewME. Otherwise we get a 64 bit value after folding, but MI</span></div>
<div class="line"><a name="l03952"></a><span class="lineno"> 3952</span>&#160;    <span class="comment">// return a 32 bit value.</span></div>
<div class="line"><a name="l03953"></a><span class="lineno"> 3953</span>&#160;    <a class="code" href="namespacellvm_1_1JumpTable.html#ae69658c09df17591f8b1c3e95b879b5ca99c267524f12efe8cf927389e02d506a">Simplified</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l03954"></a><span class="lineno"> 3954</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Converting Instr: &quot;</span>);</div>
<div class="line"><a name="l03955"></a><span class="lineno"> 3955</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.<a class="code" href="classllvm_1_1Pass.html#aa26f1f3bfe5b5022b1bd495151b3757a">dump</a>());</div>
<div class="line"><a name="l03956"></a><span class="lineno"> 3956</span>&#160; </div>
<div class="line"><a name="l03957"></a><span class="lineno"> 3957</span>&#160;    <a class="code" href="classuint16__t.html">uint16_t</a> NewSH = (SHSrc + SHMI) % 32;</div>
<div class="line"><a name="l03958"></a><span class="lineno"> 3958</span>&#160;    <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(2).setImm(NewSH);</div>
<div class="line"><a name="l03959"></a><span class="lineno"> 3959</span>&#160;    <span class="comment">// If SrcMI mask is full, no need to update MBMI and MEMI.</span></div>
<div class="line"><a name="l03960"></a><span class="lineno"> 3960</span>&#160;    <span class="keywordflow">if</span> (!SrcMaskFull) {</div>
<div class="line"><a name="l03961"></a><span class="lineno"> 3961</span>&#160;      <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(3).setImm(NewMB);</div>
<div class="line"><a name="l03962"></a><span class="lineno"> 3962</span>&#160;      <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(4).setImm(NewME);</div>
<div class="line"><a name="l03963"></a><span class="lineno"> 3963</span>&#160;    }</div>
<div class="line"><a name="l03964"></a><span class="lineno"> 3964</span>&#160;    <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(1).setReg(SrcMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(1).<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>());</div>
<div class="line"><a name="l03965"></a><span class="lineno"> 3965</span>&#160;    <span class="keywordflow">if</span> (SrcMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(1).<a class="code" href="classllvm_1_1MachineOperand.html#a4046212ebc647b17e811837ae4ea3afd">isKill</a>()) {</div>
<div class="line"><a name="l03966"></a><span class="lineno"> 3966</span>&#160;      <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(1).setIsKill(<span class="keyword">true</span>);</div>
<div class="line"><a name="l03967"></a><span class="lineno"> 3967</span>&#160;      SrcMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(1).<a class="code" href="classllvm_1_1MachineOperand.html#a8a82683fccdef8a5ef772ef03277aee7">setIsKill</a>(<span class="keyword">false</span>);</div>
<div class="line"><a name="l03968"></a><span class="lineno"> 3968</span>&#160;    } <span class="keywordflow">else</span></div>
<div class="line"><a name="l03969"></a><span class="lineno"> 3969</span>&#160;      <span class="comment">// About to replace MI.getOperand(1), clear its kill flag.</span></div>
<div class="line"><a name="l03970"></a><span class="lineno"> 3970</span>&#160;      <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(1).setIsKill(<span class="keyword">false</span>);</div>
<div class="line"><a name="l03971"></a><span class="lineno"> 3971</span>&#160; </div>
<div class="line"><a name="l03972"></a><span class="lineno"> 3972</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;To: &quot;</span>);</div>
<div class="line"><a name="l03973"></a><span class="lineno"> 3973</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.<a class="code" href="classllvm_1_1Pass.html#aa26f1f3bfe5b5022b1bd495151b3757a">dump</a>());</div>
<div class="line"><a name="l03974"></a><span class="lineno"> 3974</span>&#160;  }</div>
<div class="line"><a name="l03975"></a><span class="lineno"> 3975</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1JumpTable.html#ae69658c09df17591f8b1c3e95b879b5ca99c267524f12efe8cf927389e02d506a">Simplified</a> &amp; <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>-&gt;<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a4ea277721b4e63804715a62de87e9a72">use_nodbg_empty</a>(FoldingReg) &amp;&amp;</div>
<div class="line"><a name="l03976"></a><span class="lineno"> 3976</span>&#160;      !SrcMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a5879bc3bd2b8f21ba2d83a1f97a020d9">hasImplicitDef</a>()) {</div>
<div class="line"><a name="l03977"></a><span class="lineno"> 3977</span>&#160;    <span class="comment">// If FoldingReg has no non-debug use and it has no implicit def (it</span></div>
<div class="line"><a name="l03978"></a><span class="lineno"> 3978</span>&#160;    <span class="comment">// is not RLWINMO or RLWINM8o), it&#39;s safe to delete its def SrcMI.</span></div>
<div class="line"><a name="l03979"></a><span class="lineno"> 3979</span>&#160;    <span class="comment">// Otherwise keep it.</span></div>
<div class="line"><a name="l03980"></a><span class="lineno"> 3980</span>&#160;    *ToErase = SrcMI;</div>
<div class="line"><a name="l03981"></a><span class="lineno"> 3981</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Delete dead instruction: &quot;</span>);</div>
<div class="line"><a name="l03982"></a><span class="lineno"> 3982</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(SrcMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#accc60d2019e9dff57bb0918a94422ebb">dump</a>());</div>
<div class="line"><a name="l03983"></a><span class="lineno"> 3983</span>&#160;  }</div>
<div class="line"><a name="l03984"></a><span class="lineno"> 3984</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1JumpTable.html#ae69658c09df17591f8b1c3e95b879b5ca99c267524f12efe8cf927389e02d506a">Simplified</a>;</div>
<div class="line"><a name="l03985"></a><span class="lineno"> 3985</span>&#160;}</div>
<div class="line"><a name="l03986"></a><span class="lineno"> 3986</span>&#160; </div>
<div class="line"><a name="l03987"></a><span class="lineno"><a class="line" href="classllvm_1_1PPCInstrInfo.html#afb977cf93fe8661651e4503ae0722893"> 3987</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1PPCInstrInfo.html#afb977cf93fe8661651e4503ae0722893">PPCInstrInfo::instrHasImmForm</a>(<span class="keywordtype">unsigned</span> Opc, <span class="keywordtype">bool</span> IsVFReg,</div>
<div class="line"><a name="l03988"></a><span class="lineno"> 3988</span>&#160;                                   <a class="code" href="structllvm_1_1ImmInstrInfo.html">ImmInstrInfo</a> &amp;III, <span class="keywordtype">bool</span> PostRA)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l03989"></a><span class="lineno"> 3989</span>&#160;  <span class="comment">// The vast majority of the instructions would need their operand 2 replaced</span></div>
<div class="line"><a name="l03990"></a><span class="lineno"> 3990</span>&#160;  <span class="comment">// with an immediate when switching to the reg+imm form. A marked exception</span></div>
<div class="line"><a name="l03991"></a><span class="lineno"> 3991</span>&#160;  <span class="comment">// are the update form loads/stores for which a constant operand 2 would need</span></div>
<div class="line"><a name="l03992"></a><span class="lineno"> 3992</span>&#160;  <span class="comment">// to turn into a displacement and move operand 1 to the operand 2 position.</span></div>
<div class="line"><a name="l03993"></a><span class="lineno"> 3993</span>&#160;  III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a3c87effe0ac9501aee6aa53828a65c0c">ImmOpNo</a> = 2;</div>
<div class="line"><a name="l03994"></a><span class="lineno"> 3994</span>&#160;  III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a528b7ccd92e952d902dd916aa4c0ad4b">OpNoForForwarding</a> = 2;</div>
<div class="line"><a name="l03995"></a><span class="lineno"> 3995</span>&#160;  III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#aa50dc0db89af0c3fa23a670a65f4bea5">ImmWidth</a> = 16;</div>
<div class="line"><a name="l03996"></a><span class="lineno"> 3996</span>&#160;  III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a5dd4306fe361b27da876c8023b219a56">ImmMustBeMultipleOf</a> = 1;</div>
<div class="line"><a name="l03997"></a><span class="lineno"> 3997</span>&#160;  III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#ac6c300b1cfe574d36fe8547c4470f661">TruncateImmTo</a> = 0;</div>
<div class="line"><a name="l03998"></a><span class="lineno"> 3998</span>&#160;  III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a1749c6946477b2e208391a3555fb94b9">IsSummingOperands</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l03999"></a><span class="lineno"> 3999</span>&#160;  <span class="keywordflow">switch</span> (Opc) {</div>
<div class="line"><a name="l04000"></a><span class="lineno"> 4000</span>&#160;  <span class="keywordflow">default</span>: <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04001"></a><span class="lineno"> 4001</span>&#160;  <span class="keywordflow">case</span> PPC::ADD4:</div>
<div class="line"><a name="l04002"></a><span class="lineno"> 4002</span>&#160;  <span class="keywordflow">case</span> PPC::ADD8:</div>
<div class="line"><a name="l04003"></a><span class="lineno"> 4003</span>&#160;    III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a0d02c7cf038307122fd7169fe910d72f">SignedImm</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l04004"></a><span class="lineno"> 4004</span>&#160;    III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#ace8444c8f03d1c0079250b15cd607337">ZeroIsSpecialOrig</a> = 0;</div>
<div class="line"><a name="l04005"></a><span class="lineno"> 4005</span>&#160;    III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#aae8bd368f3ad729fdc192b2eb4ca80bf">ZeroIsSpecialNew</a> = 1;</div>
<div class="line"><a name="l04006"></a><span class="lineno"> 4006</span>&#160;    III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a606436aa8a72e17a56ccb60ffadd54f2">IsCommutative</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l04007"></a><span class="lineno"> 4007</span>&#160;    III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a1749c6946477b2e208391a3555fb94b9">IsSummingOperands</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l04008"></a><span class="lineno"> 4008</span>&#160;    III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a1efa58146b5134a31174c35b39cb6bd4">ImmOpcode</a> = Opc == PPC::ADD4 ? PPC::ADDI : PPC::ADDI8;</div>
<div class="line"><a name="l04009"></a><span class="lineno"> 4009</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04010"></a><span class="lineno"> 4010</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a20084f62caecb0db80ad71bdabda73c2">PPC::ADDC</a>:</div>
<div class="line"><a name="l04011"></a><span class="lineno"> 4011</span>&#160;  <span class="keywordflow">case</span> PPC::ADDC8:</div>
<div class="line"><a name="l04012"></a><span class="lineno"> 4012</span>&#160;    III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a0d02c7cf038307122fd7169fe910d72f">SignedImm</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l04013"></a><span class="lineno"> 4013</span>&#160;    III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#ace8444c8f03d1c0079250b15cd607337">ZeroIsSpecialOrig</a> = 0;</div>
<div class="line"><a name="l04014"></a><span class="lineno"> 4014</span>&#160;    III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#aae8bd368f3ad729fdc192b2eb4ca80bf">ZeroIsSpecialNew</a> = 0;</div>
<div class="line"><a name="l04015"></a><span class="lineno"> 4015</span>&#160;    III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a606436aa8a72e17a56ccb60ffadd54f2">IsCommutative</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l04016"></a><span class="lineno"> 4016</span>&#160;    III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a1749c6946477b2e208391a3555fb94b9">IsSummingOperands</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l04017"></a><span class="lineno"> 4017</span>&#160;    III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a1efa58146b5134a31174c35b39cb6bd4">ImmOpcode</a> = Opc == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a20084f62caecb0db80ad71bdabda73c2">PPC::ADDC</a> ? PPC::ADDIC : PPC::ADDIC8;</div>
<div class="line"><a name="l04018"></a><span class="lineno"> 4018</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04019"></a><span class="lineno"> 4019</span>&#160;  <span class="keywordflow">case</span> PPC::ADDC_rec:</div>
<div class="line"><a name="l04020"></a><span class="lineno"> 4020</span>&#160;    III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a0d02c7cf038307122fd7169fe910d72f">SignedImm</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l04021"></a><span class="lineno"> 4021</span>&#160;    III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#ace8444c8f03d1c0079250b15cd607337">ZeroIsSpecialOrig</a> = 0;</div>
<div class="line"><a name="l04022"></a><span class="lineno"> 4022</span>&#160;    III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#aae8bd368f3ad729fdc192b2eb4ca80bf">ZeroIsSpecialNew</a> = 0;</div>
<div class="line"><a name="l04023"></a><span class="lineno"> 4023</span>&#160;    III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a606436aa8a72e17a56ccb60ffadd54f2">IsCommutative</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l04024"></a><span class="lineno"> 4024</span>&#160;    III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a1749c6946477b2e208391a3555fb94b9">IsSummingOperands</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l04025"></a><span class="lineno"> 4025</span>&#160;    III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a1efa58146b5134a31174c35b39cb6bd4">ImmOpcode</a> = PPC::ADDIC_rec;</div>
<div class="line"><a name="l04026"></a><span class="lineno"> 4026</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04027"></a><span class="lineno"> 4027</span>&#160;  <span class="keywordflow">case</span> PPC::SUBFC:</div>
<div class="line"><a name="l04028"></a><span class="lineno"> 4028</span>&#160;  <span class="keywordflow">case</span> PPC::SUBFC8:</div>
<div class="line"><a name="l04029"></a><span class="lineno"> 4029</span>&#160;    III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a0d02c7cf038307122fd7169fe910d72f">SignedImm</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l04030"></a><span class="lineno"> 4030</span>&#160;    III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#ace8444c8f03d1c0079250b15cd607337">ZeroIsSpecialOrig</a> = 0;</div>
<div class="line"><a name="l04031"></a><span class="lineno"> 4031</span>&#160;    III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#aae8bd368f3ad729fdc192b2eb4ca80bf">ZeroIsSpecialNew</a> = 0;</div>
<div class="line"><a name="l04032"></a><span class="lineno"> 4032</span>&#160;    III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a606436aa8a72e17a56ccb60ffadd54f2">IsCommutative</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l04033"></a><span class="lineno"> 4033</span>&#160;    III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a1efa58146b5134a31174c35b39cb6bd4">ImmOpcode</a> = Opc == PPC::SUBFC ? PPC::SUBFIC : PPC::SUBFIC8;</div>
<div class="line"><a name="l04034"></a><span class="lineno"> 4034</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04035"></a><span class="lineno"> 4035</span>&#160;  <span class="keywordflow">case</span> PPC::CMPW:</div>
<div class="line"><a name="l04036"></a><span class="lineno"> 4036</span>&#160;  <span class="keywordflow">case</span> PPC::CMPD:</div>
<div class="line"><a name="l04037"></a><span class="lineno"> 4037</span>&#160;    III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a0d02c7cf038307122fd7169fe910d72f">SignedImm</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l04038"></a><span class="lineno"> 4038</span>&#160;    III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#ace8444c8f03d1c0079250b15cd607337">ZeroIsSpecialOrig</a> = 0;</div>
<div class="line"><a name="l04039"></a><span class="lineno"> 4039</span>&#160;    III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#aae8bd368f3ad729fdc192b2eb4ca80bf">ZeroIsSpecialNew</a> = 0;</div>
<div class="line"><a name="l04040"></a><span class="lineno"> 4040</span>&#160;    III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a606436aa8a72e17a56ccb60ffadd54f2">IsCommutative</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l04041"></a><span class="lineno"> 4041</span>&#160;    III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a1efa58146b5134a31174c35b39cb6bd4">ImmOpcode</a> = Opc == PPC::CMPW ? PPC::CMPWI : PPC::CMPDI;</div>
<div class="line"><a name="l04042"></a><span class="lineno"> 4042</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04043"></a><span class="lineno"> 4043</span>&#160;  <span class="keywordflow">case</span> PPC::CMPLW:</div>
<div class="line"><a name="l04044"></a><span class="lineno"> 4044</span>&#160;  <span class="keywordflow">case</span> PPC::CMPLD:</div>
<div class="line"><a name="l04045"></a><span class="lineno"> 4045</span>&#160;    III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a0d02c7cf038307122fd7169fe910d72f">SignedImm</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l04046"></a><span class="lineno"> 4046</span>&#160;    III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#ace8444c8f03d1c0079250b15cd607337">ZeroIsSpecialOrig</a> = 0;</div>
<div class="line"><a name="l04047"></a><span class="lineno"> 4047</span>&#160;    III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#aae8bd368f3ad729fdc192b2eb4ca80bf">ZeroIsSpecialNew</a> = 0;</div>
<div class="line"><a name="l04048"></a><span class="lineno"> 4048</span>&#160;    III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a606436aa8a72e17a56ccb60ffadd54f2">IsCommutative</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l04049"></a><span class="lineno"> 4049</span>&#160;    III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a1efa58146b5134a31174c35b39cb6bd4">ImmOpcode</a> = Opc == PPC::CMPLW ? PPC::CMPLWI : PPC::CMPLDI;</div>
<div class="line"><a name="l04050"></a><span class="lineno"> 4050</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04051"></a><span class="lineno"> 4051</span>&#160;  <span class="keywordflow">case</span> PPC::AND_rec:</div>
<div class="line"><a name="l04052"></a><span class="lineno"> 4052</span>&#160;  <span class="keywordflow">case</span> PPC::AND8_rec:</div>
<div class="line"><a name="l04053"></a><span class="lineno"> 4053</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7415ab9f2172c59a2ee7c7a02afa56a4">PPC::OR</a>:</div>
<div class="line"><a name="l04054"></a><span class="lineno"> 4054</span>&#160;  <span class="keywordflow">case</span> PPC::OR8:</div>
<div class="line"><a name="l04055"></a><span class="lineno"> 4055</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a92febb83e6ba116eb7aae8e7e3f70cc1">PPC::XOR</a>:</div>
<div class="line"><a name="l04056"></a><span class="lineno"> 4056</span>&#160;  <span class="keywordflow">case</span> PPC::XOR8:</div>
<div class="line"><a name="l04057"></a><span class="lineno"> 4057</span>&#160;    III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a0d02c7cf038307122fd7169fe910d72f">SignedImm</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l04058"></a><span class="lineno"> 4058</span>&#160;    III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#ace8444c8f03d1c0079250b15cd607337">ZeroIsSpecialOrig</a> = 0;</div>
<div class="line"><a name="l04059"></a><span class="lineno"> 4059</span>&#160;    III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#aae8bd368f3ad729fdc192b2eb4ca80bf">ZeroIsSpecialNew</a> = 0;</div>
<div class="line"><a name="l04060"></a><span class="lineno"> 4060</span>&#160;    III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a606436aa8a72e17a56ccb60ffadd54f2">IsCommutative</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l04061"></a><span class="lineno"> 4061</span>&#160;    <span class="keywordflow">switch</span>(Opc) {</div>
<div class="line"><a name="l04062"></a><span class="lineno"> 4062</span>&#160;    <span class="keywordflow">default</span>: <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unknown opcode&quot;</span>);</div>
<div class="line"><a name="l04063"></a><span class="lineno"> 4063</span>&#160;    <span class="keywordflow">case</span> PPC::AND_rec:</div>
<div class="line"><a name="l04064"></a><span class="lineno"> 4064</span>&#160;      III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a1efa58146b5134a31174c35b39cb6bd4">ImmOpcode</a> = PPC::ANDI_rec;</div>
<div class="line"><a name="l04065"></a><span class="lineno"> 4065</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04066"></a><span class="lineno"> 4066</span>&#160;    <span class="keywordflow">case</span> PPC::AND8_rec:</div>
<div class="line"><a name="l04067"></a><span class="lineno"> 4067</span>&#160;      III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a1efa58146b5134a31174c35b39cb6bd4">ImmOpcode</a> = PPC::ANDI8_rec;</div>
<div class="line"><a name="l04068"></a><span class="lineno"> 4068</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04069"></a><span class="lineno"> 4069</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7415ab9f2172c59a2ee7c7a02afa56a4">PPC::OR</a>: III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a1efa58146b5134a31174c35b39cb6bd4">ImmOpcode</a> = PPC::ORI; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04070"></a><span class="lineno"> 4070</span>&#160;    <span class="keywordflow">case</span> PPC::OR8: III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a1efa58146b5134a31174c35b39cb6bd4">ImmOpcode</a> = PPC::ORI8; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04071"></a><span class="lineno"> 4071</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a92febb83e6ba116eb7aae8e7e3f70cc1">PPC::XOR</a>: III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a1efa58146b5134a31174c35b39cb6bd4">ImmOpcode</a> = PPC::XORI; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04072"></a><span class="lineno"> 4072</span>&#160;    <span class="keywordflow">case</span> PPC::XOR8: III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a1efa58146b5134a31174c35b39cb6bd4">ImmOpcode</a> = PPC::XORI8; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04073"></a><span class="lineno"> 4073</span>&#160;    }</div>
<div class="line"><a name="l04074"></a><span class="lineno"> 4074</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04075"></a><span class="lineno"> 4075</span>&#160;  <span class="keywordflow">case</span> PPC::RLWNM:</div>
<div class="line"><a name="l04076"></a><span class="lineno"> 4076</span>&#160;  <span class="keywordflow">case</span> PPC::RLWNM8:</div>
<div class="line"><a name="l04077"></a><span class="lineno"> 4077</span>&#160;  <span class="keywordflow">case</span> PPC::RLWNM_rec:</div>
<div class="line"><a name="l04078"></a><span class="lineno"> 4078</span>&#160;  <span class="keywordflow">case</span> PPC::RLWNM8_rec:</div>
<div class="line"><a name="l04079"></a><span class="lineno"> 4079</span>&#160;  <span class="keywordflow">case</span> PPC::SLW:</div>
<div class="line"><a name="l04080"></a><span class="lineno"> 4080</span>&#160;  <span class="keywordflow">case</span> PPC::SLW8:</div>
<div class="line"><a name="l04081"></a><span class="lineno"> 4081</span>&#160;  <span class="keywordflow">case</span> PPC::SLW_rec:</div>
<div class="line"><a name="l04082"></a><span class="lineno"> 4082</span>&#160;  <span class="keywordflow">case</span> PPC::SLW8_rec:</div>
<div class="line"><a name="l04083"></a><span class="lineno"> 4083</span>&#160;  <span class="keywordflow">case</span> PPC::SRW:</div>
<div class="line"><a name="l04084"></a><span class="lineno"> 4084</span>&#160;  <span class="keywordflow">case</span> PPC::SRW8:</div>
<div class="line"><a name="l04085"></a><span class="lineno"> 4085</span>&#160;  <span class="keywordflow">case</span> PPC::SRW_rec:</div>
<div class="line"><a name="l04086"></a><span class="lineno"> 4086</span>&#160;  <span class="keywordflow">case</span> PPC::SRW8_rec:</div>
<div class="line"><a name="l04087"></a><span class="lineno"> 4087</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1RISCVISD.html#ab68e2d65ea9915ffaac8334a3b8bf882a64927d70afbf447d7c36fa86496df0a3">PPC::SRAW</a>:</div>
<div class="line"><a name="l04088"></a><span class="lineno"> 4088</span>&#160;  <span class="keywordflow">case</span> PPC::SRAW_rec:</div>
<div class="line"><a name="l04089"></a><span class="lineno"> 4089</span>&#160;    III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a0d02c7cf038307122fd7169fe910d72f">SignedImm</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l04090"></a><span class="lineno"> 4090</span>&#160;    III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#ace8444c8f03d1c0079250b15cd607337">ZeroIsSpecialOrig</a> = 0;</div>
<div class="line"><a name="l04091"></a><span class="lineno"> 4091</span>&#160;    III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#aae8bd368f3ad729fdc192b2eb4ca80bf">ZeroIsSpecialNew</a> = 0;</div>
<div class="line"><a name="l04092"></a><span class="lineno"> 4092</span>&#160;    III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a606436aa8a72e17a56ccb60ffadd54f2">IsCommutative</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l04093"></a><span class="lineno"> 4093</span>&#160;    <span class="comment">// This isn&#39;t actually true, but the instructions ignore any of the</span></div>
<div class="line"><a name="l04094"></a><span class="lineno"> 4094</span>&#160;    <span class="comment">// upper bits, so any immediate loaded with an LI is acceptable.</span></div>
<div class="line"><a name="l04095"></a><span class="lineno"> 4095</span>&#160;    <span class="comment">// This does not apply to shift right algebraic because a value</span></div>
<div class="line"><a name="l04096"></a><span class="lineno"> 4096</span>&#160;    <span class="comment">// out of range will produce a -1/0.</span></div>
<div class="line"><a name="l04097"></a><span class="lineno"> 4097</span>&#160;    III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#aa50dc0db89af0c3fa23a670a65f4bea5">ImmWidth</a> = 16;</div>
<div class="line"><a name="l04098"></a><span class="lineno"> 4098</span>&#160;    <span class="keywordflow">if</span> (Opc == PPC::RLWNM || Opc == PPC::RLWNM8 || Opc == PPC::RLWNM_rec ||</div>
<div class="line"><a name="l04099"></a><span class="lineno"> 4099</span>&#160;        Opc == PPC::RLWNM8_rec)</div>
<div class="line"><a name="l04100"></a><span class="lineno"> 4100</span>&#160;      III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#ac6c300b1cfe574d36fe8547c4470f661">TruncateImmTo</a> = 5;</div>
<div class="line"><a name="l04101"></a><span class="lineno"> 4101</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l04102"></a><span class="lineno"> 4102</span>&#160;      III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#ac6c300b1cfe574d36fe8547c4470f661">TruncateImmTo</a> = 6;</div>
<div class="line"><a name="l04103"></a><span class="lineno"> 4103</span>&#160;    <span class="keywordflow">switch</span>(Opc) {</div>
<div class="line"><a name="l04104"></a><span class="lineno"> 4104</span>&#160;    <span class="keywordflow">default</span>: <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unknown opcode&quot;</span>);</div>
<div class="line"><a name="l04105"></a><span class="lineno"> 4105</span>&#160;    <span class="keywordflow">case</span> PPC::RLWNM: III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a1efa58146b5134a31174c35b39cb6bd4">ImmOpcode</a> = PPC::RLWINM; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04106"></a><span class="lineno"> 4106</span>&#160;    <span class="keywordflow">case</span> PPC::RLWNM8: III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a1efa58146b5134a31174c35b39cb6bd4">ImmOpcode</a> = PPC::RLWINM8; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04107"></a><span class="lineno"> 4107</span>&#160;    <span class="keywordflow">case</span> PPC::RLWNM_rec:</div>
<div class="line"><a name="l04108"></a><span class="lineno"> 4108</span>&#160;      III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a1efa58146b5134a31174c35b39cb6bd4">ImmOpcode</a> = PPC::RLWINM_rec;</div>
<div class="line"><a name="l04109"></a><span class="lineno"> 4109</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04110"></a><span class="lineno"> 4110</span>&#160;    <span class="keywordflow">case</span> PPC::RLWNM8_rec:</div>
<div class="line"><a name="l04111"></a><span class="lineno"> 4111</span>&#160;      III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a1efa58146b5134a31174c35b39cb6bd4">ImmOpcode</a> = PPC::RLWINM8_rec;</div>
<div class="line"><a name="l04112"></a><span class="lineno"> 4112</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04113"></a><span class="lineno"> 4113</span>&#160;    <span class="keywordflow">case</span> PPC::SLW: III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a1efa58146b5134a31174c35b39cb6bd4">ImmOpcode</a> = PPC::RLWINM; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04114"></a><span class="lineno"> 4114</span>&#160;    <span class="keywordflow">case</span> PPC::SLW8: III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a1efa58146b5134a31174c35b39cb6bd4">ImmOpcode</a> = PPC::RLWINM8; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04115"></a><span class="lineno"> 4115</span>&#160;    <span class="keywordflow">case</span> PPC::SLW_rec:</div>
<div class="line"><a name="l04116"></a><span class="lineno"> 4116</span>&#160;      III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a1efa58146b5134a31174c35b39cb6bd4">ImmOpcode</a> = PPC::RLWINM_rec;</div>
<div class="line"><a name="l04117"></a><span class="lineno"> 4117</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04118"></a><span class="lineno"> 4118</span>&#160;    <span class="keywordflow">case</span> PPC::SLW8_rec:</div>
<div class="line"><a name="l04119"></a><span class="lineno"> 4119</span>&#160;      III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a1efa58146b5134a31174c35b39cb6bd4">ImmOpcode</a> = PPC::RLWINM8_rec;</div>
<div class="line"><a name="l04120"></a><span class="lineno"> 4120</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04121"></a><span class="lineno"> 4121</span>&#160;    <span class="keywordflow">case</span> PPC::SRW: III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a1efa58146b5134a31174c35b39cb6bd4">ImmOpcode</a> = PPC::RLWINM; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04122"></a><span class="lineno"> 4122</span>&#160;    <span class="keywordflow">case</span> PPC::SRW8: III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a1efa58146b5134a31174c35b39cb6bd4">ImmOpcode</a> = PPC::RLWINM8; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04123"></a><span class="lineno"> 4123</span>&#160;    <span class="keywordflow">case</span> PPC::SRW_rec:</div>
<div class="line"><a name="l04124"></a><span class="lineno"> 4124</span>&#160;      III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a1efa58146b5134a31174c35b39cb6bd4">ImmOpcode</a> = PPC::RLWINM_rec;</div>
<div class="line"><a name="l04125"></a><span class="lineno"> 4125</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04126"></a><span class="lineno"> 4126</span>&#160;    <span class="keywordflow">case</span> PPC::SRW8_rec:</div>
<div class="line"><a name="l04127"></a><span class="lineno"> 4127</span>&#160;      III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a1efa58146b5134a31174c35b39cb6bd4">ImmOpcode</a> = PPC::RLWINM8_rec;</div>
<div class="line"><a name="l04128"></a><span class="lineno"> 4128</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04129"></a><span class="lineno"> 4129</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1RISCVISD.html#ab68e2d65ea9915ffaac8334a3b8bf882a64927d70afbf447d7c36fa86496df0a3">PPC::SRAW</a>:</div>
<div class="line"><a name="l04130"></a><span class="lineno"> 4130</span>&#160;      III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#aa50dc0db89af0c3fa23a670a65f4bea5">ImmWidth</a> = 5;</div>
<div class="line"><a name="l04131"></a><span class="lineno"> 4131</span>&#160;      III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#ac6c300b1cfe574d36fe8547c4470f661">TruncateImmTo</a> = 0;</div>
<div class="line"><a name="l04132"></a><span class="lineno"> 4132</span>&#160;      III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a1efa58146b5134a31174c35b39cb6bd4">ImmOpcode</a> = PPC::SRAWI;</div>
<div class="line"><a name="l04133"></a><span class="lineno"> 4133</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04134"></a><span class="lineno"> 4134</span>&#160;    <span class="keywordflow">case</span> PPC::SRAW_rec:</div>
<div class="line"><a name="l04135"></a><span class="lineno"> 4135</span>&#160;      III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#aa50dc0db89af0c3fa23a670a65f4bea5">ImmWidth</a> = 5;</div>
<div class="line"><a name="l04136"></a><span class="lineno"> 4136</span>&#160;      III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#ac6c300b1cfe574d36fe8547c4470f661">TruncateImmTo</a> = 0;</div>
<div class="line"><a name="l04137"></a><span class="lineno"> 4137</span>&#160;      III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a1efa58146b5134a31174c35b39cb6bd4">ImmOpcode</a> = PPC::SRAWI_rec;</div>
<div class="line"><a name="l04138"></a><span class="lineno"> 4138</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04139"></a><span class="lineno"> 4139</span>&#160;    }</div>
<div class="line"><a name="l04140"></a><span class="lineno"> 4140</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04141"></a><span class="lineno"> 4141</span>&#160;  <span class="keywordflow">case</span> PPC::RLDCL:</div>
<div class="line"><a name="l04142"></a><span class="lineno"> 4142</span>&#160;  <span class="keywordflow">case</span> PPC::RLDCL_rec:</div>
<div class="line"><a name="l04143"></a><span class="lineno"> 4143</span>&#160;  <span class="keywordflow">case</span> PPC::RLDCR:</div>
<div class="line"><a name="l04144"></a><span class="lineno"> 4144</span>&#160;  <span class="keywordflow">case</span> PPC::RLDCR_rec:</div>
<div class="line"><a name="l04145"></a><span class="lineno"> 4145</span>&#160;  <span class="keywordflow">case</span> PPC::SLD:</div>
<div class="line"><a name="l04146"></a><span class="lineno"> 4146</span>&#160;  <span class="keywordflow">case</span> PPC::SLD_rec:</div>
<div class="line"><a name="l04147"></a><span class="lineno"> 4147</span>&#160;  <span class="keywordflow">case</span> PPC::SRD:</div>
<div class="line"><a name="l04148"></a><span class="lineno"> 4148</span>&#160;  <span class="keywordflow">case</span> PPC::SRD_rec:</div>
<div class="line"><a name="l04149"></a><span class="lineno"> 4149</span>&#160;  <span class="keywordflow">case</span> PPC::SRAD:</div>
<div class="line"><a name="l04150"></a><span class="lineno"> 4150</span>&#160;  <span class="keywordflow">case</span> PPC::SRAD_rec:</div>
<div class="line"><a name="l04151"></a><span class="lineno"> 4151</span>&#160;    III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a0d02c7cf038307122fd7169fe910d72f">SignedImm</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l04152"></a><span class="lineno"> 4152</span>&#160;    III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#ace8444c8f03d1c0079250b15cd607337">ZeroIsSpecialOrig</a> = 0;</div>
<div class="line"><a name="l04153"></a><span class="lineno"> 4153</span>&#160;    III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#aae8bd368f3ad729fdc192b2eb4ca80bf">ZeroIsSpecialNew</a> = 0;</div>
<div class="line"><a name="l04154"></a><span class="lineno"> 4154</span>&#160;    III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a606436aa8a72e17a56ccb60ffadd54f2">IsCommutative</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l04155"></a><span class="lineno"> 4155</span>&#160;    <span class="comment">// This isn&#39;t actually true, but the instructions ignore any of the</span></div>
<div class="line"><a name="l04156"></a><span class="lineno"> 4156</span>&#160;    <span class="comment">// upper bits, so any immediate loaded with an LI is acceptable.</span></div>
<div class="line"><a name="l04157"></a><span class="lineno"> 4157</span>&#160;    <span class="comment">// This does not apply to shift right algebraic because a value</span></div>
<div class="line"><a name="l04158"></a><span class="lineno"> 4158</span>&#160;    <span class="comment">// out of range will produce a -1/0.</span></div>
<div class="line"><a name="l04159"></a><span class="lineno"> 4159</span>&#160;    III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#aa50dc0db89af0c3fa23a670a65f4bea5">ImmWidth</a> = 16;</div>
<div class="line"><a name="l04160"></a><span class="lineno"> 4160</span>&#160;    <span class="keywordflow">if</span> (Opc == PPC::RLDCL || Opc == PPC::RLDCL_rec || Opc == PPC::RLDCR ||</div>
<div class="line"><a name="l04161"></a><span class="lineno"> 4161</span>&#160;        Opc == PPC::RLDCR_rec)</div>
<div class="line"><a name="l04162"></a><span class="lineno"> 4162</span>&#160;      III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#ac6c300b1cfe574d36fe8547c4470f661">TruncateImmTo</a> = 6;</div>
<div class="line"><a name="l04163"></a><span class="lineno"> 4163</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l04164"></a><span class="lineno"> 4164</span>&#160;      III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#ac6c300b1cfe574d36fe8547c4470f661">TruncateImmTo</a> = 7;</div>
<div class="line"><a name="l04165"></a><span class="lineno"> 4165</span>&#160;    <span class="keywordflow">switch</span>(Opc) {</div>
<div class="line"><a name="l04166"></a><span class="lineno"> 4166</span>&#160;    <span class="keywordflow">default</span>: <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unknown opcode&quot;</span>);</div>
<div class="line"><a name="l04167"></a><span class="lineno"> 4167</span>&#160;    <span class="keywordflow">case</span> PPC::RLDCL: III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a1efa58146b5134a31174c35b39cb6bd4">ImmOpcode</a> = PPC::RLDICL; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04168"></a><span class="lineno"> 4168</span>&#160;    <span class="keywordflow">case</span> PPC::RLDCL_rec:</div>
<div class="line"><a name="l04169"></a><span class="lineno"> 4169</span>&#160;      III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a1efa58146b5134a31174c35b39cb6bd4">ImmOpcode</a> = PPC::RLDICL_rec;</div>
<div class="line"><a name="l04170"></a><span class="lineno"> 4170</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04171"></a><span class="lineno"> 4171</span>&#160;    <span class="keywordflow">case</span> PPC::RLDCR: III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a1efa58146b5134a31174c35b39cb6bd4">ImmOpcode</a> = PPC::RLDICR; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04172"></a><span class="lineno"> 4172</span>&#160;    <span class="keywordflow">case</span> PPC::RLDCR_rec:</div>
<div class="line"><a name="l04173"></a><span class="lineno"> 4173</span>&#160;      III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a1efa58146b5134a31174c35b39cb6bd4">ImmOpcode</a> = PPC::RLDICR_rec;</div>
<div class="line"><a name="l04174"></a><span class="lineno"> 4174</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04175"></a><span class="lineno"> 4175</span>&#160;    <span class="keywordflow">case</span> PPC::SLD: III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a1efa58146b5134a31174c35b39cb6bd4">ImmOpcode</a> = PPC::RLDICR; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04176"></a><span class="lineno"> 4176</span>&#160;    <span class="keywordflow">case</span> PPC::SLD_rec:</div>
<div class="line"><a name="l04177"></a><span class="lineno"> 4177</span>&#160;      III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a1efa58146b5134a31174c35b39cb6bd4">ImmOpcode</a> = PPC::RLDICR_rec;</div>
<div class="line"><a name="l04178"></a><span class="lineno"> 4178</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04179"></a><span class="lineno"> 4179</span>&#160;    <span class="keywordflow">case</span> PPC::SRD: III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a1efa58146b5134a31174c35b39cb6bd4">ImmOpcode</a> = PPC::RLDICL; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04180"></a><span class="lineno"> 4180</span>&#160;    <span class="keywordflow">case</span> PPC::SRD_rec:</div>
<div class="line"><a name="l04181"></a><span class="lineno"> 4181</span>&#160;      III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a1efa58146b5134a31174c35b39cb6bd4">ImmOpcode</a> = PPC::RLDICL_rec;</div>
<div class="line"><a name="l04182"></a><span class="lineno"> 4182</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04183"></a><span class="lineno"> 4183</span>&#160;    <span class="keywordflow">case</span> PPC::SRAD:</div>
<div class="line"><a name="l04184"></a><span class="lineno"> 4184</span>&#160;      III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#aa50dc0db89af0c3fa23a670a65f4bea5">ImmWidth</a> = 6;</div>
<div class="line"><a name="l04185"></a><span class="lineno"> 4185</span>&#160;      III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#ac6c300b1cfe574d36fe8547c4470f661">TruncateImmTo</a> = 0;</div>
<div class="line"><a name="l04186"></a><span class="lineno"> 4186</span>&#160;      III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a1efa58146b5134a31174c35b39cb6bd4">ImmOpcode</a> = PPC::SRADI;</div>
<div class="line"><a name="l04187"></a><span class="lineno"> 4187</span>&#160;       <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04188"></a><span class="lineno"> 4188</span>&#160;    <span class="keywordflow">case</span> PPC::SRAD_rec:</div>
<div class="line"><a name="l04189"></a><span class="lineno"> 4189</span>&#160;      III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#aa50dc0db89af0c3fa23a670a65f4bea5">ImmWidth</a> = 6;</div>
<div class="line"><a name="l04190"></a><span class="lineno"> 4190</span>&#160;      III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#ac6c300b1cfe574d36fe8547c4470f661">TruncateImmTo</a> = 0;</div>
<div class="line"><a name="l04191"></a><span class="lineno"> 4191</span>&#160;      III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a1efa58146b5134a31174c35b39cb6bd4">ImmOpcode</a> = PPC::SRADI_rec;</div>
<div class="line"><a name="l04192"></a><span class="lineno"> 4192</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04193"></a><span class="lineno"> 4193</span>&#160;    }</div>
<div class="line"><a name="l04194"></a><span class="lineno"> 4194</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04195"></a><span class="lineno"> 4195</span>&#160;  <span class="comment">// Loads and stores:</span></div>
<div class="line"><a name="l04196"></a><span class="lineno"> 4196</span>&#160;  <span class="keywordflow">case</span> PPC::LBZX:</div>
<div class="line"><a name="l04197"></a><span class="lineno"> 4197</span>&#160;  <span class="keywordflow">case</span> PPC::LBZX8:</div>
<div class="line"><a name="l04198"></a><span class="lineno"> 4198</span>&#160;  <span class="keywordflow">case</span> PPC::LHZX:</div>
<div class="line"><a name="l04199"></a><span class="lineno"> 4199</span>&#160;  <span class="keywordflow">case</span> PPC::LHZX8:</div>
<div class="line"><a name="l04200"></a><span class="lineno"> 4200</span>&#160;  <span class="keywordflow">case</span> PPC::LHAX:</div>
<div class="line"><a name="l04201"></a><span class="lineno"> 4201</span>&#160;  <span class="keywordflow">case</span> PPC::LHAX8:</div>
<div class="line"><a name="l04202"></a><span class="lineno"> 4202</span>&#160;  <span class="keywordflow">case</span> PPC::LWZX:</div>
<div class="line"><a name="l04203"></a><span class="lineno"> 4203</span>&#160;  <span class="keywordflow">case</span> PPC::LWZX8:</div>
<div class="line"><a name="l04204"></a><span class="lineno"> 4204</span>&#160;  <span class="keywordflow">case</span> PPC::LWAX:</div>
<div class="line"><a name="l04205"></a><span class="lineno"> 4205</span>&#160;  <span class="keywordflow">case</span> PPC::LDX:</div>
<div class="line"><a name="l04206"></a><span class="lineno"> 4206</span>&#160;  <span class="keywordflow">case</span> PPC::LFSX:</div>
<div class="line"><a name="l04207"></a><span class="lineno"> 4207</span>&#160;  <span class="keywordflow">case</span> PPC::LFDX:</div>
<div class="line"><a name="l04208"></a><span class="lineno"> 4208</span>&#160;  <span class="keywordflow">case</span> PPC::STBX:</div>
<div class="line"><a name="l04209"></a><span class="lineno"> 4209</span>&#160;  <span class="keywordflow">case</span> PPC::STBX8:</div>
<div class="line"><a name="l04210"></a><span class="lineno"> 4210</span>&#160;  <span class="keywordflow">case</span> PPC::STHX:</div>
<div class="line"><a name="l04211"></a><span class="lineno"> 4211</span>&#160;  <span class="keywordflow">case</span> PPC::STHX8:</div>
<div class="line"><a name="l04212"></a><span class="lineno"> 4212</span>&#160;  <span class="keywordflow">case</span> PPC::STWX:</div>
<div class="line"><a name="l04213"></a><span class="lineno"> 4213</span>&#160;  <span class="keywordflow">case</span> PPC::STWX8:</div>
<div class="line"><a name="l04214"></a><span class="lineno"> 4214</span>&#160;  <span class="keywordflow">case</span> PPC::STDX:</div>
<div class="line"><a name="l04215"></a><span class="lineno"> 4215</span>&#160;  <span class="keywordflow">case</span> PPC::STFSX:</div>
<div class="line"><a name="l04216"></a><span class="lineno"> 4216</span>&#160;  <span class="keywordflow">case</span> PPC::STFDX:</div>
<div class="line"><a name="l04217"></a><span class="lineno"> 4217</span>&#160;    III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a0d02c7cf038307122fd7169fe910d72f">SignedImm</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l04218"></a><span class="lineno"> 4218</span>&#160;    III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#ace8444c8f03d1c0079250b15cd607337">ZeroIsSpecialOrig</a> = 1;</div>
<div class="line"><a name="l04219"></a><span class="lineno"> 4219</span>&#160;    III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#aae8bd368f3ad729fdc192b2eb4ca80bf">ZeroIsSpecialNew</a> = 2;</div>
<div class="line"><a name="l04220"></a><span class="lineno"> 4220</span>&#160;    III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a606436aa8a72e17a56ccb60ffadd54f2">IsCommutative</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l04221"></a><span class="lineno"> 4221</span>&#160;    III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a1749c6946477b2e208391a3555fb94b9">IsSummingOperands</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l04222"></a><span class="lineno"> 4222</span>&#160;    III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a3c87effe0ac9501aee6aa53828a65c0c">ImmOpNo</a> = 1;</div>
<div class="line"><a name="l04223"></a><span class="lineno"> 4223</span>&#160;    III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a528b7ccd92e952d902dd916aa4c0ad4b">OpNoForForwarding</a> = 2;</div>
<div class="line"><a name="l04224"></a><span class="lineno"> 4224</span>&#160;    <span class="keywordflow">switch</span>(Opc) {</div>
<div class="line"><a name="l04225"></a><span class="lineno"> 4225</span>&#160;    <span class="keywordflow">default</span>: <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unknown opcode&quot;</span>);</div>
<div class="line"><a name="l04226"></a><span class="lineno"> 4226</span>&#160;    <span class="keywordflow">case</span> PPC::LBZX: III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a1efa58146b5134a31174c35b39cb6bd4">ImmOpcode</a> = PPC::LBZ; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04227"></a><span class="lineno"> 4227</span>&#160;    <span class="keywordflow">case</span> PPC::LBZX8: III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a1efa58146b5134a31174c35b39cb6bd4">ImmOpcode</a> = PPC::LBZ8; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04228"></a><span class="lineno"> 4228</span>&#160;    <span class="keywordflow">case</span> PPC::LHZX: III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a1efa58146b5134a31174c35b39cb6bd4">ImmOpcode</a> = PPC::LHZ; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04229"></a><span class="lineno"> 4229</span>&#160;    <span class="keywordflow">case</span> PPC::LHZX8: III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a1efa58146b5134a31174c35b39cb6bd4">ImmOpcode</a> = PPC::LHZ8; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04230"></a><span class="lineno"> 4230</span>&#160;    <span class="keywordflow">case</span> PPC::LHAX: III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a1efa58146b5134a31174c35b39cb6bd4">ImmOpcode</a> = PPC::LHA; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04231"></a><span class="lineno"> 4231</span>&#160;    <span class="keywordflow">case</span> PPC::LHAX8: III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a1efa58146b5134a31174c35b39cb6bd4">ImmOpcode</a> = PPC::LHA8; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04232"></a><span class="lineno"> 4232</span>&#160;    <span class="keywordflow">case</span> PPC::LWZX: III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a1efa58146b5134a31174c35b39cb6bd4">ImmOpcode</a> = PPC::LWZ; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04233"></a><span class="lineno"> 4233</span>&#160;    <span class="keywordflow">case</span> PPC::LWZX8: III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a1efa58146b5134a31174c35b39cb6bd4">ImmOpcode</a> = PPC::LWZ8; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04234"></a><span class="lineno"> 4234</span>&#160;    <span class="keywordflow">case</span> PPC::LWAX:</div>
<div class="line"><a name="l04235"></a><span class="lineno"> 4235</span>&#160;      III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a1efa58146b5134a31174c35b39cb6bd4">ImmOpcode</a> = PPC::LWA;</div>
<div class="line"><a name="l04236"></a><span class="lineno"> 4236</span>&#160;      III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a5dd4306fe361b27da876c8023b219a56">ImmMustBeMultipleOf</a> = 4;</div>
<div class="line"><a name="l04237"></a><span class="lineno"> 4237</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04238"></a><span class="lineno"> 4238</span>&#160;    <span class="keywordflow">case</span> PPC::LDX: III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a1efa58146b5134a31174c35b39cb6bd4">ImmOpcode</a> = <a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85a7289f7156c17c31399fe5226bf556781">PPC::LD</a>; III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a5dd4306fe361b27da876c8023b219a56">ImmMustBeMultipleOf</a> = 4; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04239"></a><span class="lineno"> 4239</span>&#160;    <span class="keywordflow">case</span> PPC::LFSX: III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a1efa58146b5134a31174c35b39cb6bd4">ImmOpcode</a> = PPC::LFS; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04240"></a><span class="lineno"> 4240</span>&#160;    <span class="keywordflow">case</span> PPC::LFDX: III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a1efa58146b5134a31174c35b39cb6bd4">ImmOpcode</a> = PPC::LFD; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04241"></a><span class="lineno"> 4241</span>&#160;    <span class="keywordflow">case</span> PPC::STBX: III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a1efa58146b5134a31174c35b39cb6bd4">ImmOpcode</a> = PPC::STB; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04242"></a><span class="lineno"> 4242</span>&#160;    <span class="keywordflow">case</span> PPC::STBX8: III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a1efa58146b5134a31174c35b39cb6bd4">ImmOpcode</a> = PPC::STB8; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04243"></a><span class="lineno"> 4243</span>&#160;    <span class="keywordflow">case</span> PPC::STHX: III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a1efa58146b5134a31174c35b39cb6bd4">ImmOpcode</a> = PPC::STH; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04244"></a><span class="lineno"> 4244</span>&#160;    <span class="keywordflow">case</span> PPC::STHX8: III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a1efa58146b5134a31174c35b39cb6bd4">ImmOpcode</a> = PPC::STH8; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04245"></a><span class="lineno"> 4245</span>&#160;    <span class="keywordflow">case</span> PPC::STWX: III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a1efa58146b5134a31174c35b39cb6bd4">ImmOpcode</a> = PPC::STW; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04246"></a><span class="lineno"> 4246</span>&#160;    <span class="keywordflow">case</span> PPC::STWX8: III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a1efa58146b5134a31174c35b39cb6bd4">ImmOpcode</a> = PPC::STW8; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04247"></a><span class="lineno"> 4247</span>&#160;    <span class="keywordflow">case</span> PPC::STDX:</div>
<div class="line"><a name="l04248"></a><span class="lineno"> 4248</span>&#160;      III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a1efa58146b5134a31174c35b39cb6bd4">ImmOpcode</a> = PPC::STD;</div>
<div class="line"><a name="l04249"></a><span class="lineno"> 4249</span>&#160;      III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a5dd4306fe361b27da876c8023b219a56">ImmMustBeMultipleOf</a> = 4;</div>
<div class="line"><a name="l04250"></a><span class="lineno"> 4250</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04251"></a><span class="lineno"> 4251</span>&#160;    <span class="keywordflow">case</span> PPC::STFSX: III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a1efa58146b5134a31174c35b39cb6bd4">ImmOpcode</a> = PPC::STFS; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04252"></a><span class="lineno"> 4252</span>&#160;    <span class="keywordflow">case</span> PPC::STFDX: III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a1efa58146b5134a31174c35b39cb6bd4">ImmOpcode</a> = PPC::STFD; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04253"></a><span class="lineno"> 4253</span>&#160;    }</div>
<div class="line"><a name="l04254"></a><span class="lineno"> 4254</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04255"></a><span class="lineno"> 4255</span>&#160;  <span class="keywordflow">case</span> PPC::LBZUX:</div>
<div class="line"><a name="l04256"></a><span class="lineno"> 4256</span>&#160;  <span class="keywordflow">case</span> PPC::LBZUX8:</div>
<div class="line"><a name="l04257"></a><span class="lineno"> 4257</span>&#160;  <span class="keywordflow">case</span> PPC::LHZUX:</div>
<div class="line"><a name="l04258"></a><span class="lineno"> 4258</span>&#160;  <span class="keywordflow">case</span> PPC::LHZUX8:</div>
<div class="line"><a name="l04259"></a><span class="lineno"> 4259</span>&#160;  <span class="keywordflow">case</span> PPC::LHAUX:</div>
<div class="line"><a name="l04260"></a><span class="lineno"> 4260</span>&#160;  <span class="keywordflow">case</span> PPC::LHAUX8:</div>
<div class="line"><a name="l04261"></a><span class="lineno"> 4261</span>&#160;  <span class="keywordflow">case</span> PPC::LWZUX:</div>
<div class="line"><a name="l04262"></a><span class="lineno"> 4262</span>&#160;  <span class="keywordflow">case</span> PPC::LWZUX8:</div>
<div class="line"><a name="l04263"></a><span class="lineno"> 4263</span>&#160;  <span class="keywordflow">case</span> PPC::LDUX:</div>
<div class="line"><a name="l04264"></a><span class="lineno"> 4264</span>&#160;  <span class="keywordflow">case</span> PPC::LFSUX:</div>
<div class="line"><a name="l04265"></a><span class="lineno"> 4265</span>&#160;  <span class="keywordflow">case</span> PPC::LFDUX:</div>
<div class="line"><a name="l04266"></a><span class="lineno"> 4266</span>&#160;  <span class="keywordflow">case</span> PPC::STBUX:</div>
<div class="line"><a name="l04267"></a><span class="lineno"> 4267</span>&#160;  <span class="keywordflow">case</span> PPC::STBUX8:</div>
<div class="line"><a name="l04268"></a><span class="lineno"> 4268</span>&#160;  <span class="keywordflow">case</span> PPC::STHUX:</div>
<div class="line"><a name="l04269"></a><span class="lineno"> 4269</span>&#160;  <span class="keywordflow">case</span> PPC::STHUX8:</div>
<div class="line"><a name="l04270"></a><span class="lineno"> 4270</span>&#160;  <span class="keywordflow">case</span> PPC::STWUX:</div>
<div class="line"><a name="l04271"></a><span class="lineno"> 4271</span>&#160;  <span class="keywordflow">case</span> PPC::STWUX8:</div>
<div class="line"><a name="l04272"></a><span class="lineno"> 4272</span>&#160;  <span class="keywordflow">case</span> PPC::STDUX:</div>
<div class="line"><a name="l04273"></a><span class="lineno"> 4273</span>&#160;  <span class="keywordflow">case</span> PPC::STFSUX:</div>
<div class="line"><a name="l04274"></a><span class="lineno"> 4274</span>&#160;  <span class="keywordflow">case</span> PPC::STFDUX:</div>
<div class="line"><a name="l04275"></a><span class="lineno"> 4275</span>&#160;    III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a0d02c7cf038307122fd7169fe910d72f">SignedImm</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l04276"></a><span class="lineno"> 4276</span>&#160;    III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#ace8444c8f03d1c0079250b15cd607337">ZeroIsSpecialOrig</a> = 2;</div>
<div class="line"><a name="l04277"></a><span class="lineno"> 4277</span>&#160;    III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#aae8bd368f3ad729fdc192b2eb4ca80bf">ZeroIsSpecialNew</a> = 3;</div>
<div class="line"><a name="l04278"></a><span class="lineno"> 4278</span>&#160;    III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a606436aa8a72e17a56ccb60ffadd54f2">IsCommutative</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l04279"></a><span class="lineno"> 4279</span>&#160;    III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a1749c6946477b2e208391a3555fb94b9">IsSummingOperands</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l04280"></a><span class="lineno"> 4280</span>&#160;    III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a3c87effe0ac9501aee6aa53828a65c0c">ImmOpNo</a> = 2;</div>
<div class="line"><a name="l04281"></a><span class="lineno"> 4281</span>&#160;    III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a528b7ccd92e952d902dd916aa4c0ad4b">OpNoForForwarding</a> = 3;</div>
<div class="line"><a name="l04282"></a><span class="lineno"> 4282</span>&#160;    <span class="keywordflow">switch</span>(Opc) {</div>
<div class="line"><a name="l04283"></a><span class="lineno"> 4283</span>&#160;    <span class="keywordflow">default</span>: <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unknown opcode&quot;</span>);</div>
<div class="line"><a name="l04284"></a><span class="lineno"> 4284</span>&#160;    <span class="keywordflow">case</span> PPC::LBZUX: III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a1efa58146b5134a31174c35b39cb6bd4">ImmOpcode</a> = PPC::LBZU; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04285"></a><span class="lineno"> 4285</span>&#160;    <span class="keywordflow">case</span> PPC::LBZUX8: III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a1efa58146b5134a31174c35b39cb6bd4">ImmOpcode</a> = PPC::LBZU8; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04286"></a><span class="lineno"> 4286</span>&#160;    <span class="keywordflow">case</span> PPC::LHZUX: III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a1efa58146b5134a31174c35b39cb6bd4">ImmOpcode</a> = PPC::LHZU; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04287"></a><span class="lineno"> 4287</span>&#160;    <span class="keywordflow">case</span> PPC::LHZUX8: III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a1efa58146b5134a31174c35b39cb6bd4">ImmOpcode</a> = PPC::LHZU8; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04288"></a><span class="lineno"> 4288</span>&#160;    <span class="keywordflow">case</span> PPC::LHAUX: III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a1efa58146b5134a31174c35b39cb6bd4">ImmOpcode</a> = PPC::LHAU; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04289"></a><span class="lineno"> 4289</span>&#160;    <span class="keywordflow">case</span> PPC::LHAUX8: III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a1efa58146b5134a31174c35b39cb6bd4">ImmOpcode</a> = PPC::LHAU8; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04290"></a><span class="lineno"> 4290</span>&#160;    <span class="keywordflow">case</span> PPC::LWZUX: III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a1efa58146b5134a31174c35b39cb6bd4">ImmOpcode</a> = PPC::LWZU; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04291"></a><span class="lineno"> 4291</span>&#160;    <span class="keywordflow">case</span> PPC::LWZUX8: III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a1efa58146b5134a31174c35b39cb6bd4">ImmOpcode</a> = PPC::LWZU8; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04292"></a><span class="lineno"> 4292</span>&#160;    <span class="keywordflow">case</span> PPC::LDUX:</div>
<div class="line"><a name="l04293"></a><span class="lineno"> 4293</span>&#160;      III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a1efa58146b5134a31174c35b39cb6bd4">ImmOpcode</a> = PPC::LDU;</div>
<div class="line"><a name="l04294"></a><span class="lineno"> 4294</span>&#160;      III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a5dd4306fe361b27da876c8023b219a56">ImmMustBeMultipleOf</a> = 4;</div>
<div class="line"><a name="l04295"></a><span class="lineno"> 4295</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04296"></a><span class="lineno"> 4296</span>&#160;    <span class="keywordflow">case</span> PPC::LFSUX: III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a1efa58146b5134a31174c35b39cb6bd4">ImmOpcode</a> = PPC::LFSU; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04297"></a><span class="lineno"> 4297</span>&#160;    <span class="keywordflow">case</span> PPC::LFDUX: III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a1efa58146b5134a31174c35b39cb6bd4">ImmOpcode</a> = PPC::LFDU; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04298"></a><span class="lineno"> 4298</span>&#160;    <span class="keywordflow">case</span> PPC::STBUX: III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a1efa58146b5134a31174c35b39cb6bd4">ImmOpcode</a> = PPC::STBU; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04299"></a><span class="lineno"> 4299</span>&#160;    <span class="keywordflow">case</span> PPC::STBUX8: III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a1efa58146b5134a31174c35b39cb6bd4">ImmOpcode</a> = PPC::STBU8; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04300"></a><span class="lineno"> 4300</span>&#160;    <span class="keywordflow">case</span> PPC::STHUX: III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a1efa58146b5134a31174c35b39cb6bd4">ImmOpcode</a> = PPC::STHU; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04301"></a><span class="lineno"> 4301</span>&#160;    <span class="keywordflow">case</span> PPC::STHUX8: III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a1efa58146b5134a31174c35b39cb6bd4">ImmOpcode</a> = PPC::STHU8; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04302"></a><span class="lineno"> 4302</span>&#160;    <span class="keywordflow">case</span> PPC::STWUX: III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a1efa58146b5134a31174c35b39cb6bd4">ImmOpcode</a> = PPC::STWU; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04303"></a><span class="lineno"> 4303</span>&#160;    <span class="keywordflow">case</span> PPC::STWUX8: III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a1efa58146b5134a31174c35b39cb6bd4">ImmOpcode</a> = PPC::STWU8; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04304"></a><span class="lineno"> 4304</span>&#160;    <span class="keywordflow">case</span> PPC::STDUX:</div>
<div class="line"><a name="l04305"></a><span class="lineno"> 4305</span>&#160;      III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a1efa58146b5134a31174c35b39cb6bd4">ImmOpcode</a> = PPC::STDU;</div>
<div class="line"><a name="l04306"></a><span class="lineno"> 4306</span>&#160;      III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a5dd4306fe361b27da876c8023b219a56">ImmMustBeMultipleOf</a> = 4;</div>
<div class="line"><a name="l04307"></a><span class="lineno"> 4307</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04308"></a><span class="lineno"> 4308</span>&#160;    <span class="keywordflow">case</span> PPC::STFSUX: III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a1efa58146b5134a31174c35b39cb6bd4">ImmOpcode</a> = PPC::STFSU; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04309"></a><span class="lineno"> 4309</span>&#160;    <span class="keywordflow">case</span> PPC::STFDUX: III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a1efa58146b5134a31174c35b39cb6bd4">ImmOpcode</a> = PPC::STFDU; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04310"></a><span class="lineno"> 4310</span>&#160;    }</div>
<div class="line"><a name="l04311"></a><span class="lineno"> 4311</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04312"></a><span class="lineno"> 4312</span>&#160;  <span class="comment">// Power9 and up only. For some of these, the X-Form version has access to all</span></div>
<div class="line"><a name="l04313"></a><span class="lineno"> 4313</span>&#160;  <span class="comment">// 64 VSR&#39;s whereas the D-Form only has access to the VR&#39;s. We replace those</span></div>
<div class="line"><a name="l04314"></a><span class="lineno"> 4314</span>&#160;  <span class="comment">// with pseudo-ops pre-ra and for post-ra, we check that the register loaded</span></div>
<div class="line"><a name="l04315"></a><span class="lineno"> 4315</span>&#160;  <span class="comment">// into or stored from is one of the VR registers.</span></div>
<div class="line"><a name="l04316"></a><span class="lineno"> 4316</span>&#160;  <span class="keywordflow">case</span> PPC::LXVX:</div>
<div class="line"><a name="l04317"></a><span class="lineno"> 4317</span>&#160;  <span class="keywordflow">case</span> PPC::LXSSPX:</div>
<div class="line"><a name="l04318"></a><span class="lineno"> 4318</span>&#160;  <span class="keywordflow">case</span> PPC::LXSDX:</div>
<div class="line"><a name="l04319"></a><span class="lineno"> 4319</span>&#160;  <span class="keywordflow">case</span> PPC::STXVX:</div>
<div class="line"><a name="l04320"></a><span class="lineno"> 4320</span>&#160;  <span class="keywordflow">case</span> PPC::STXSSPX:</div>
<div class="line"><a name="l04321"></a><span class="lineno"> 4321</span>&#160;  <span class="keywordflow">case</span> PPC::STXSDX:</div>
<div class="line"><a name="l04322"></a><span class="lineno"> 4322</span>&#160;  <span class="keywordflow">case</span> PPC::XFLOADf32:</div>
<div class="line"><a name="l04323"></a><span class="lineno"> 4323</span>&#160;  <span class="keywordflow">case</span> PPC::XFLOADf64:</div>
<div class="line"><a name="l04324"></a><span class="lineno"> 4324</span>&#160;  <span class="keywordflow">case</span> PPC::XFSTOREf32:</div>
<div class="line"><a name="l04325"></a><span class="lineno"> 4325</span>&#160;  <span class="keywordflow">case</span> PPC::XFSTOREf64:</div>
<div class="line"><a name="l04326"></a><span class="lineno"> 4326</span>&#160;    <span class="keywordflow">if</span> (!Subtarget.hasP9Vector())</div>
<div class="line"><a name="l04327"></a><span class="lineno"> 4327</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04328"></a><span class="lineno"> 4328</span>&#160;    III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a0d02c7cf038307122fd7169fe910d72f">SignedImm</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l04329"></a><span class="lineno"> 4329</span>&#160;    III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#ace8444c8f03d1c0079250b15cd607337">ZeroIsSpecialOrig</a> = 1;</div>
<div class="line"><a name="l04330"></a><span class="lineno"> 4330</span>&#160;    III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#aae8bd368f3ad729fdc192b2eb4ca80bf">ZeroIsSpecialNew</a> = 2;</div>
<div class="line"><a name="l04331"></a><span class="lineno"> 4331</span>&#160;    III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a606436aa8a72e17a56ccb60ffadd54f2">IsCommutative</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l04332"></a><span class="lineno"> 4332</span>&#160;    III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a1749c6946477b2e208391a3555fb94b9">IsSummingOperands</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l04333"></a><span class="lineno"> 4333</span>&#160;    III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a3c87effe0ac9501aee6aa53828a65c0c">ImmOpNo</a> = 1;</div>
<div class="line"><a name="l04334"></a><span class="lineno"> 4334</span>&#160;    III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a528b7ccd92e952d902dd916aa4c0ad4b">OpNoForForwarding</a> = 2;</div>
<div class="line"><a name="l04335"></a><span class="lineno"> 4335</span>&#160;    III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a5dd4306fe361b27da876c8023b219a56">ImmMustBeMultipleOf</a> = 4;</div>
<div class="line"><a name="l04336"></a><span class="lineno"> 4336</span>&#160;    <span class="keywordflow">switch</span>(Opc) {</div>
<div class="line"><a name="l04337"></a><span class="lineno"> 4337</span>&#160;    <span class="keywordflow">default</span>: <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unknown opcode&quot;</span>);</div>
<div class="line"><a name="l04338"></a><span class="lineno"> 4338</span>&#160;    <span class="keywordflow">case</span> PPC::LXVX:</div>
<div class="line"><a name="l04339"></a><span class="lineno"> 4339</span>&#160;      III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a1efa58146b5134a31174c35b39cb6bd4">ImmOpcode</a> = PPC::LXV;</div>
<div class="line"><a name="l04340"></a><span class="lineno"> 4340</span>&#160;      III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a5dd4306fe361b27da876c8023b219a56">ImmMustBeMultipleOf</a> = 16;</div>
<div class="line"><a name="l04341"></a><span class="lineno"> 4341</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04342"></a><span class="lineno"> 4342</span>&#160;    <span class="keywordflow">case</span> PPC::LXSSPX:</div>
<div class="line"><a name="l04343"></a><span class="lineno"> 4343</span>&#160;      <span class="keywordflow">if</span> (PostRA) {</div>
<div class="line"><a name="l04344"></a><span class="lineno"> 4344</span>&#160;        <span class="keywordflow">if</span> (IsVFReg)</div>
<div class="line"><a name="l04345"></a><span class="lineno"> 4345</span>&#160;          III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a1efa58146b5134a31174c35b39cb6bd4">ImmOpcode</a> = PPC::LXSSP;</div>
<div class="line"><a name="l04346"></a><span class="lineno"> 4346</span>&#160;        <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04347"></a><span class="lineno"> 4347</span>&#160;          III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a1efa58146b5134a31174c35b39cb6bd4">ImmOpcode</a> = PPC::LFS;</div>
<div class="line"><a name="l04348"></a><span class="lineno"> 4348</span>&#160;          III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a5dd4306fe361b27da876c8023b219a56">ImmMustBeMultipleOf</a> = 1;</div>
<div class="line"><a name="l04349"></a><span class="lineno"> 4349</span>&#160;        }</div>
<div class="line"><a name="l04350"></a><span class="lineno"> 4350</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04351"></a><span class="lineno"> 4351</span>&#160;      }</div>
<div class="line"><a name="l04352"></a><span class="lineno"> 4352</span>&#160;      [[fallthrough]];</div>
<div class="line"><a name="l04353"></a><span class="lineno"> 4353</span>&#160;    <span class="keywordflow">case</span> PPC::XFLOADf32:</div>
<div class="line"><a name="l04354"></a><span class="lineno"> 4354</span>&#160;      III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a1efa58146b5134a31174c35b39cb6bd4">ImmOpcode</a> = PPC::DFLOADf32;</div>
<div class="line"><a name="l04355"></a><span class="lineno"> 4355</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04356"></a><span class="lineno"> 4356</span>&#160;    <span class="keywordflow">case</span> PPC::LXSDX:</div>
<div class="line"><a name="l04357"></a><span class="lineno"> 4357</span>&#160;      <span class="keywordflow">if</span> (PostRA) {</div>
<div class="line"><a name="l04358"></a><span class="lineno"> 4358</span>&#160;        <span class="keywordflow">if</span> (IsVFReg)</div>
<div class="line"><a name="l04359"></a><span class="lineno"> 4359</span>&#160;          III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a1efa58146b5134a31174c35b39cb6bd4">ImmOpcode</a> = PPC::LXSD;</div>
<div class="line"><a name="l04360"></a><span class="lineno"> 4360</span>&#160;        <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04361"></a><span class="lineno"> 4361</span>&#160;          III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a1efa58146b5134a31174c35b39cb6bd4">ImmOpcode</a> = PPC::LFD;</div>
<div class="line"><a name="l04362"></a><span class="lineno"> 4362</span>&#160;          III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a5dd4306fe361b27da876c8023b219a56">ImmMustBeMultipleOf</a> = 1;</div>
<div class="line"><a name="l04363"></a><span class="lineno"> 4363</span>&#160;        }</div>
<div class="line"><a name="l04364"></a><span class="lineno"> 4364</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04365"></a><span class="lineno"> 4365</span>&#160;      }</div>
<div class="line"><a name="l04366"></a><span class="lineno"> 4366</span>&#160;      [[fallthrough]];</div>
<div class="line"><a name="l04367"></a><span class="lineno"> 4367</span>&#160;    <span class="keywordflow">case</span> PPC::XFLOADf64:</div>
<div class="line"><a name="l04368"></a><span class="lineno"> 4368</span>&#160;      III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a1efa58146b5134a31174c35b39cb6bd4">ImmOpcode</a> = PPC::DFLOADf64;</div>
<div class="line"><a name="l04369"></a><span class="lineno"> 4369</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04370"></a><span class="lineno"> 4370</span>&#160;    <span class="keywordflow">case</span> PPC::STXVX:</div>
<div class="line"><a name="l04371"></a><span class="lineno"> 4371</span>&#160;      III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a1efa58146b5134a31174c35b39cb6bd4">ImmOpcode</a> = PPC::STXV;</div>
<div class="line"><a name="l04372"></a><span class="lineno"> 4372</span>&#160;      III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a5dd4306fe361b27da876c8023b219a56">ImmMustBeMultipleOf</a> = 16;</div>
<div class="line"><a name="l04373"></a><span class="lineno"> 4373</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04374"></a><span class="lineno"> 4374</span>&#160;    <span class="keywordflow">case</span> PPC::STXSSPX:</div>
<div class="line"><a name="l04375"></a><span class="lineno"> 4375</span>&#160;      <span class="keywordflow">if</span> (PostRA) {</div>
<div class="line"><a name="l04376"></a><span class="lineno"> 4376</span>&#160;        <span class="keywordflow">if</span> (IsVFReg)</div>
<div class="line"><a name="l04377"></a><span class="lineno"> 4377</span>&#160;          III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a1efa58146b5134a31174c35b39cb6bd4">ImmOpcode</a> = PPC::STXSSP;</div>
<div class="line"><a name="l04378"></a><span class="lineno"> 4378</span>&#160;        <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04379"></a><span class="lineno"> 4379</span>&#160;          III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a1efa58146b5134a31174c35b39cb6bd4">ImmOpcode</a> = PPC::STFS;</div>
<div class="line"><a name="l04380"></a><span class="lineno"> 4380</span>&#160;          III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a5dd4306fe361b27da876c8023b219a56">ImmMustBeMultipleOf</a> = 1;</div>
<div class="line"><a name="l04381"></a><span class="lineno"> 4381</span>&#160;        }</div>
<div class="line"><a name="l04382"></a><span class="lineno"> 4382</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04383"></a><span class="lineno"> 4383</span>&#160;      }</div>
<div class="line"><a name="l04384"></a><span class="lineno"> 4384</span>&#160;      [[fallthrough]];</div>
<div class="line"><a name="l04385"></a><span class="lineno"> 4385</span>&#160;    <span class="keywordflow">case</span> PPC::XFSTOREf32:</div>
<div class="line"><a name="l04386"></a><span class="lineno"> 4386</span>&#160;      III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a1efa58146b5134a31174c35b39cb6bd4">ImmOpcode</a> = PPC::DFSTOREf32;</div>
<div class="line"><a name="l04387"></a><span class="lineno"> 4387</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04388"></a><span class="lineno"> 4388</span>&#160;    <span class="keywordflow">case</span> PPC::STXSDX:</div>
<div class="line"><a name="l04389"></a><span class="lineno"> 4389</span>&#160;      <span class="keywordflow">if</span> (PostRA) {</div>
<div class="line"><a name="l04390"></a><span class="lineno"> 4390</span>&#160;        <span class="keywordflow">if</span> (IsVFReg)</div>
<div class="line"><a name="l04391"></a><span class="lineno"> 4391</span>&#160;          III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a1efa58146b5134a31174c35b39cb6bd4">ImmOpcode</a> = PPC::STXSD;</div>
<div class="line"><a name="l04392"></a><span class="lineno"> 4392</span>&#160;        <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04393"></a><span class="lineno"> 4393</span>&#160;          III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a1efa58146b5134a31174c35b39cb6bd4">ImmOpcode</a> = PPC::STFD;</div>
<div class="line"><a name="l04394"></a><span class="lineno"> 4394</span>&#160;          III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a5dd4306fe361b27da876c8023b219a56">ImmMustBeMultipleOf</a> = 1;</div>
<div class="line"><a name="l04395"></a><span class="lineno"> 4395</span>&#160;        }</div>
<div class="line"><a name="l04396"></a><span class="lineno"> 4396</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04397"></a><span class="lineno"> 4397</span>&#160;      }</div>
<div class="line"><a name="l04398"></a><span class="lineno"> 4398</span>&#160;      [[fallthrough]];</div>
<div class="line"><a name="l04399"></a><span class="lineno"> 4399</span>&#160;    <span class="keywordflow">case</span> PPC::XFSTOREf64:</div>
<div class="line"><a name="l04400"></a><span class="lineno"> 4400</span>&#160;      III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a1efa58146b5134a31174c35b39cb6bd4">ImmOpcode</a> = PPC::DFSTOREf64;</div>
<div class="line"><a name="l04401"></a><span class="lineno"> 4401</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04402"></a><span class="lineno"> 4402</span>&#160;    }</div>
<div class="line"><a name="l04403"></a><span class="lineno"> 4403</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04404"></a><span class="lineno"> 4404</span>&#160;  }</div>
<div class="line"><a name="l04405"></a><span class="lineno"> 4405</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l04406"></a><span class="lineno"> 4406</span>&#160;}</div>
<div class="line"><a name="l04407"></a><span class="lineno"> 4407</span>&#160; </div>
<div class="line"><a name="l04408"></a><span class="lineno"> 4408</span>&#160;<span class="comment">// Utility function for swaping two arbitrary operands of an instruction.</span></div>
<div class="line"><a name="l04409"></a><span class="lineno"><a class="line" href="PPCInstrInfo_8cpp.html#af6776e5555063ea14c4668a4bcacae27"> 4409</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="PPCInstrInfo_8cpp.html#af6776e5555063ea14c4668a4bcacae27">swapMIOperands</a>(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <span class="keywordtype">unsigned</span> Op1, <span class="keywordtype">unsigned</span> Op2) {</div>
<div class="line"><a name="l04410"></a><span class="lineno"> 4410</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Op1 != Op2 &amp;&amp; <span class="stringliteral">&quot;Cannot swap operand with itself.&quot;</span>);</div>
<div class="line"><a name="l04411"></a><span class="lineno"> 4411</span>&#160; </div>
<div class="line"><a name="l04412"></a><span class="lineno"> 4412</span>&#160;  <span class="keywordtype">unsigned</span> MaxOp = <a class="code" href="namespacellvm.html#ab4d4bc901fedd8857f647dcc2c0d71de">std::max</a>(Op1, Op2);</div>
<div class="line"><a name="l04413"></a><span class="lineno"> 4413</span>&#160;  <span class="keywordtype">unsigned</span> MinOp = <a class="code" href="namespacellvm.html#a57f2ca0e57f4f7b13f56f9aa16af3e0d">std::min</a>(Op1, Op2);</div>
<div class="line"><a name="l04414"></a><span class="lineno"> 4414</span>&#160;  <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> MOp1 = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(MinOp);</div>
<div class="line"><a name="l04415"></a><span class="lineno"> 4415</span>&#160;  <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> MOp2 = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(MaxOp);</div>
<div class="line"><a name="l04416"></a><span class="lineno"> 4416</span>&#160;  <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.removeOperand(<a class="code" href="namespacellvm.html#ab4d4bc901fedd8857f647dcc2c0d71de">std::max</a>(Op1, Op2));</div>
<div class="line"><a name="l04417"></a><span class="lineno"> 4417</span>&#160;  <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.removeOperand(<a class="code" href="namespacellvm.html#a57f2ca0e57f4f7b13f56f9aa16af3e0d">std::min</a>(Op1, Op2));</div>
<div class="line"><a name="l04418"></a><span class="lineno"> 4418</span>&#160; </div>
<div class="line"><a name="l04419"></a><span class="lineno"> 4419</span>&#160;  <span class="comment">// If the operands we are swapping are the two at the end (the common case)</span></div>
<div class="line"><a name="l04420"></a><span class="lineno"> 4420</span>&#160;  <span class="comment">// we can just remove both and add them in the opposite order.</span></div>
<div class="line"><a name="l04421"></a><span class="lineno"> 4421</span>&#160;  <span class="keywordflow">if</span> (MaxOp - MinOp == 1 &amp;&amp; <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getNumOperands() == MinOp) {</div>
<div class="line"><a name="l04422"></a><span class="lineno"> 4422</span>&#160;    <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.addOperand(MOp2);</div>
<div class="line"><a name="l04423"></a><span class="lineno"> 4423</span>&#160;    <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.addOperand(MOp1);</div>
<div class="line"><a name="l04424"></a><span class="lineno"> 4424</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04425"></a><span class="lineno"> 4425</span>&#160;    <span class="comment">// Store all operands in a temporary vector, remove them and re-add in the</span></div>
<div class="line"><a name="l04426"></a><span class="lineno"> 4426</span>&#160;    <span class="comment">// right order.</span></div>
<div class="line"><a name="l04427"></a><span class="lineno"> 4427</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;MachineOperand, 2&gt;</a> MOps;</div>
<div class="line"><a name="l04428"></a><span class="lineno"> 4428</span>&#160;    <span class="keywordtype">unsigned</span> TotalOps = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getNumOperands() + 2; <span class="comment">// We&#39;ve already removed 2 ops.</span></div>
<div class="line"><a name="l04429"></a><span class="lineno"> 4429</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getNumOperands() - 1; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> &gt;= MinOp; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>--) {</div>
<div class="line"><a name="l04430"></a><span class="lineno"> 4430</span>&#160;      MOps.push_back(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>));</div>
<div class="line"><a name="l04431"></a><span class="lineno"> 4431</span>&#160;      <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.removeOperand(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l04432"></a><span class="lineno"> 4432</span>&#160;    }</div>
<div class="line"><a name="l04433"></a><span class="lineno"> 4433</span>&#160;    <span class="comment">// MOp2 needs to be added next.</span></div>
<div class="line"><a name="l04434"></a><span class="lineno"> 4434</span>&#160;    <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.addOperand(MOp2);</div>
<div class="line"><a name="l04435"></a><span class="lineno"> 4435</span>&#160;    <span class="comment">// Now add the rest.</span></div>
<div class="line"><a name="l04436"></a><span class="lineno"> 4436</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getNumOperands(); <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; TotalOps; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l04437"></a><span class="lineno"> 4437</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> == MaxOp)</div>
<div class="line"><a name="l04438"></a><span class="lineno"> 4438</span>&#160;        <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.addOperand(MOp1);</div>
<div class="line"><a name="l04439"></a><span class="lineno"> 4439</span>&#160;      <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04440"></a><span class="lineno"> 4440</span>&#160;        <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.addOperand(MOps.back());</div>
<div class="line"><a name="l04441"></a><span class="lineno"> 4441</span>&#160;        MOps.pop_back();</div>
<div class="line"><a name="l04442"></a><span class="lineno"> 4442</span>&#160;      }</div>
<div class="line"><a name="l04443"></a><span class="lineno"> 4443</span>&#160;    }</div>
<div class="line"><a name="l04444"></a><span class="lineno"> 4444</span>&#160;  }</div>
<div class="line"><a name="l04445"></a><span class="lineno"> 4445</span>&#160;}</div>
<div class="line"><a name="l04446"></a><span class="lineno"> 4446</span>&#160; </div>
<div class="line"><a name="l04447"></a><span class="lineno"> 4447</span>&#160;<span class="comment">// Check if the &#39;MI&#39; that has the index OpNoForForwarding</span></div>
<div class="line"><a name="l04448"></a><span class="lineno"> 4448</span>&#160;<span class="comment">// meets the requirement described in the ImmInstrInfo.</span></div>
<div class="line"><a name="l04449"></a><span class="lineno"> 4449</span>&#160;<span class="keywordtype">bool</span> PPCInstrInfo::isUseMIElgibleForForwarding(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>,</div>
<div class="line"><a name="l04450"></a><span class="lineno"> 4450</span>&#160;                                               <span class="keyword">const</span> <a class="code" href="structllvm_1_1ImmInstrInfo.html">ImmInstrInfo</a> &amp;III,</div>
<div class="line"><a name="l04451"></a><span class="lineno"> 4451</span>&#160;                                               <span class="keywordtype">unsigned</span> OpNoForForwarding</div>
<div class="line"><a name="l04452"></a><span class="lineno"> 4452</span>&#160;                                               )<span class="keyword"> const </span>{</div>
<div class="line"><a name="l04453"></a><span class="lineno"> 4453</span>&#160;  <span class="comment">// As the algorithm of checking for PPC::ZERO/PPC::ZERO8</span></div>
<div class="line"><a name="l04454"></a><span class="lineno"> 4454</span>&#160;  <span class="comment">// would not work pre-RA, we can only do the check post RA.</span></div>
<div class="line"><a name="l04455"></a><span class="lineno"> 4455</span>&#160;  <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a> = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getParent()-&gt;getParent()-&gt;getRegInfo();</div>
<div class="line"><a name="l04456"></a><span class="lineno"> 4456</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a86dd1b4ce6ff2d4a0b4593c5f7b2a3fd">isSSA</a>())</div>
<div class="line"><a name="l04457"></a><span class="lineno"> 4457</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04458"></a><span class="lineno"> 4458</span>&#160; </div>
<div class="line"><a name="l04459"></a><span class="lineno"> 4459</span>&#160;  <span class="comment">// Cannot do the transform if MI isn&#39;t summing the operands.</span></div>
<div class="line"><a name="l04460"></a><span class="lineno"> 4460</span>&#160;  <span class="keywordflow">if</span> (!III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a1749c6946477b2e208391a3555fb94b9">IsSummingOperands</a>)</div>
<div class="line"><a name="l04461"></a><span class="lineno"> 4461</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04462"></a><span class="lineno"> 4462</span>&#160; </div>
<div class="line"><a name="l04463"></a><span class="lineno"> 4463</span>&#160;  <span class="comment">// The instruction we are trying to replace must have the ZeroIsSpecialOrig set.</span></div>
<div class="line"><a name="l04464"></a><span class="lineno"> 4464</span>&#160;  <span class="keywordflow">if</span> (!III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#ace8444c8f03d1c0079250b15cd607337">ZeroIsSpecialOrig</a>)</div>
<div class="line"><a name="l04465"></a><span class="lineno"> 4465</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04466"></a><span class="lineno"> 4466</span>&#160; </div>
<div class="line"><a name="l04467"></a><span class="lineno"> 4467</span>&#160;  <span class="comment">// We cannot do the transform if the operand we are trying to replace</span></div>
<div class="line"><a name="l04468"></a><span class="lineno"> 4468</span>&#160;  <span class="comment">// isn&#39;t the same as the operand the instruction allows.</span></div>
<div class="line"><a name="l04469"></a><span class="lineno"> 4469</span>&#160;  <span class="keywordflow">if</span> (OpNoForForwarding != III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a528b7ccd92e952d902dd916aa4c0ad4b">OpNoForForwarding</a>)</div>
<div class="line"><a name="l04470"></a><span class="lineno"> 4470</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04471"></a><span class="lineno"> 4471</span>&#160; </div>
<div class="line"><a name="l04472"></a><span class="lineno"> 4472</span>&#160;  <span class="comment">// Check if the instruction we are trying to transform really has</span></div>
<div class="line"><a name="l04473"></a><span class="lineno"> 4473</span>&#160;  <span class="comment">// the special zero register as its operand.</span></div>
<div class="line"><a name="l04474"></a><span class="lineno"> 4474</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#ace8444c8f03d1c0079250b15cd607337">ZeroIsSpecialOrig</a>).getReg() != PPC::ZERO &amp;&amp;</div>
<div class="line"><a name="l04475"></a><span class="lineno"> 4475</span>&#160;      <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#ace8444c8f03d1c0079250b15cd607337">ZeroIsSpecialOrig</a>).getReg() != PPC::ZERO8)</div>
<div class="line"><a name="l04476"></a><span class="lineno"> 4476</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04477"></a><span class="lineno"> 4477</span>&#160; </div>
<div class="line"><a name="l04478"></a><span class="lineno"> 4478</span>&#160;  <span class="comment">// This machine instruction is convertible if it is,</span></div>
<div class="line"><a name="l04479"></a><span class="lineno"> 4479</span>&#160;  <span class="comment">// 1. summing the operands.</span></div>
<div class="line"><a name="l04480"></a><span class="lineno"> 4480</span>&#160;  <span class="comment">// 2. one of the operands is special zero register.</span></div>
<div class="line"><a name="l04481"></a><span class="lineno"> 4481</span>&#160;  <span class="comment">// 3. the operand we are trying to replace is allowed by the MI.</span></div>
<div class="line"><a name="l04482"></a><span class="lineno"> 4482</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l04483"></a><span class="lineno"> 4483</span>&#160;}</div>
<div class="line"><a name="l04484"></a><span class="lineno"> 4484</span>&#160; </div>
<div class="line"><a name="l04485"></a><span class="lineno"> 4485</span>&#160;<span class="comment">// Check if the DefMI is the add inst and set the ImmMO and RegMO</span></div>
<div class="line"><a name="l04486"></a><span class="lineno"> 4486</span>&#160;<span class="comment">// accordingly.</span></div>
<div class="line"><a name="l04487"></a><span class="lineno"> 4487</span>&#160;<span class="keywordtype">bool</span> PPCInstrInfo::isDefMIElgibleForForwarding(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a>,</div>
<div class="line"><a name="l04488"></a><span class="lineno"> 4488</span>&#160;                                               <span class="keyword">const</span> <a class="code" href="structllvm_1_1ImmInstrInfo.html">ImmInstrInfo</a> &amp;III,</div>
<div class="line"><a name="l04489"></a><span class="lineno"> 4489</span>&#160;                                               <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> *&amp;ImmMO,</div>
<div class="line"><a name="l04490"></a><span class="lineno"> 4490</span>&#160;                                               <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> *&amp;RegMO)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l04491"></a><span class="lineno"> 4491</span>&#160;  <span class="keywordtype">unsigned</span> Opc = <a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a>.getOpcode();</div>
<div class="line"><a name="l04492"></a><span class="lineno"> 4492</span>&#160;  <span class="keywordflow">if</span> (Opc != PPC::ADDItocL &amp;&amp; Opc != PPC::ADDI &amp;&amp; Opc != PPC::ADDI8)</div>
<div class="line"><a name="l04493"></a><span class="lineno"> 4493</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04494"></a><span class="lineno"> 4494</span>&#160; </div>
<div class="line"><a name="l04495"></a><span class="lineno"> 4495</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a>.getNumOperands() &gt;= 3 &amp;&amp;</div>
<div class="line"><a name="l04496"></a><span class="lineno"> 4496</span>&#160;         <span class="stringliteral">&quot;Add inst must have at least three operands&quot;</span>);</div>
<div class="line"><a name="l04497"></a><span class="lineno"> 4497</span>&#160;  RegMO = &amp;<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a>.getOperand(1);</div>
<div class="line"><a name="l04498"></a><span class="lineno"> 4498</span>&#160;  ImmMO = &amp;<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a>.getOperand(2);</div>
<div class="line"><a name="l04499"></a><span class="lineno"> 4499</span>&#160; </div>
<div class="line"><a name="l04500"></a><span class="lineno"> 4500</span>&#160;  <span class="comment">// Before RA, ADDI first operand could be a frame index.</span></div>
<div class="line"><a name="l04501"></a><span class="lineno"> 4501</span>&#160;  <span class="keywordflow">if</span> (!RegMO-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#a4c9594c955fec80c73ddd964b5efd554">isReg</a>())</div>
<div class="line"><a name="l04502"></a><span class="lineno"> 4502</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04503"></a><span class="lineno"> 4503</span>&#160; </div>
<div class="line"><a name="l04504"></a><span class="lineno"> 4504</span>&#160;  <span class="comment">// This DefMI is elgible for forwarding if it is:</span></div>
<div class="line"><a name="l04505"></a><span class="lineno"> 4505</span>&#160;  <span class="comment">// 1. add inst</span></div>
<div class="line"><a name="l04506"></a><span class="lineno"> 4506</span>&#160;  <span class="comment">// 2. one of the operands is Imm/CPI/Global.</span></div>
<div class="line"><a name="l04507"></a><span class="lineno"> 4507</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="PPCInstrInfo_8cpp.html#a3abad49282c799b7daeacb2b1bd5272b">isAnImmediateOperand</a>(*ImmMO);</div>
<div class="line"><a name="l04508"></a><span class="lineno"> 4508</span>&#160;}</div>
<div class="line"><a name="l04509"></a><span class="lineno"> 4509</span>&#160; </div>
<div class="line"><a name="l04510"></a><span class="lineno"> 4510</span>&#160;<span class="keywordtype">bool</span> PPCInstrInfo::isRegElgibleForForwarding(</div>
<div class="line"><a name="l04511"></a><span class="lineno"> 4511</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;RegMO, <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a>,</div>
<div class="line"><a name="l04512"></a><span class="lineno"> 4512</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <span class="keywordtype">bool</span> KillDefMI,</div>
<div class="line"><a name="l04513"></a><span class="lineno"> 4513</span>&#160;    <span class="keywordtype">bool</span> &amp;IsFwdFeederRegKilled, <span class="keywordtype">bool</span> &amp;SeenIntermediateUse)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l04514"></a><span class="lineno"> 4514</span>&#160;  <span class="comment">// x = addi y, imm</span></div>
<div class="line"><a name="l04515"></a><span class="lineno"> 4515</span>&#160;  <span class="comment">// ...</span></div>
<div class="line"><a name="l04516"></a><span class="lineno"> 4516</span>&#160;  <span class="comment">// z = lfdx 0, x   -&gt; z = lfd imm(y)</span></div>
<div class="line"><a name="l04517"></a><span class="lineno"> 4517</span>&#160;  <span class="comment">// The Reg &quot;y&quot; can be forwarded to the MI(z) only when there is no DEF</span></div>
<div class="line"><a name="l04518"></a><span class="lineno"> 4518</span>&#160;  <span class="comment">// of &quot;y&quot; between the DEF of &quot;x&quot; and &quot;z&quot;.</span></div>
<div class="line"><a name="l04519"></a><span class="lineno"> 4519</span>&#160;  <span class="comment">// The query is only valid post RA.</span></div>
<div class="line"><a name="l04520"></a><span class="lineno"> 4520</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a> = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getParent()-&gt;getParent()-&gt;getRegInfo();</div>
<div class="line"><a name="l04521"></a><span class="lineno"> 4521</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a86dd1b4ce6ff2d4a0b4593c5f7b2a3fd">isSSA</a>())</div>
<div class="line"><a name="l04522"></a><span class="lineno"> 4522</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04523"></a><span class="lineno"> 4523</span>&#160; </div>
<div class="line"><a name="l04524"></a><span class="lineno"> 4524</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a> = RegMO.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>();</div>
<div class="line"><a name="l04525"></a><span class="lineno"> 4525</span>&#160; </div>
<div class="line"><a name="l04526"></a><span class="lineno"> 4526</span>&#160;  <span class="comment">// Walking the inst in reverse(MI--&gt;DefMI) to get the last DEF of the Reg.</span></div>
<div class="line"><a name="l04527"></a><span class="lineno"> 4527</span>&#160;  <a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::const_reverse_iterator</a> It = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>;</div>
<div class="line"><a name="l04528"></a><span class="lineno"> 4528</span>&#160;  <a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::const_reverse_iterator</a> <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getParent()-&gt;rend();</div>
<div class="line"><a name="l04529"></a><span class="lineno"> 4529</span>&#160;  It++;</div>
<div class="line"><a name="l04530"></a><span class="lineno"> 4530</span>&#160;  <span class="keywordflow">for</span> (; It != <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>; ++It) {</div>
<div class="line"><a name="l04531"></a><span class="lineno"> 4531</span>&#160;    <span class="keywordflow">if</span> (It-&gt;modifiesRegister(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, &amp;<a class="code" href="classllvm_1_1PPCInstrInfo.html#a7736d6dc0c4303c59d1192988b8919e9">getRegisterInfo</a>()) &amp;&amp; (&amp;*It) != &amp;<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a>)</div>
<div class="line"><a name="l04532"></a><span class="lineno"> 4532</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04533"></a><span class="lineno"> 4533</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (It-&gt;killsRegister(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, &amp;<a class="code" href="classllvm_1_1PPCInstrInfo.html#a7736d6dc0c4303c59d1192988b8919e9">getRegisterInfo</a>()) &amp;&amp; (&amp;*It) != &amp;<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a>)</div>
<div class="line"><a name="l04534"></a><span class="lineno"> 4534</span>&#160;      IsFwdFeederRegKilled = <span class="keyword">true</span>;</div>
<div class="line"><a name="l04535"></a><span class="lineno"> 4535</span>&#160;    <span class="keywordflow">if</span> (It-&gt;readsRegister(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, &amp;<a class="code" href="classllvm_1_1PPCInstrInfo.html#a7736d6dc0c4303c59d1192988b8919e9">getRegisterInfo</a>()) &amp;&amp; (&amp;*It) != &amp;<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a>)</div>
<div class="line"><a name="l04536"></a><span class="lineno"> 4536</span>&#160;      SeenIntermediateUse = <span class="keyword">true</span>;</div>
<div class="line"><a name="l04537"></a><span class="lineno"> 4537</span>&#160;    <span class="comment">// Made it to DefMI without encountering a clobber.</span></div>
<div class="line"><a name="l04538"></a><span class="lineno"> 4538</span>&#160;    <span class="keywordflow">if</span> ((&amp;*It) == &amp;<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a>)</div>
<div class="line"><a name="l04539"></a><span class="lineno"> 4539</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04540"></a><span class="lineno"> 4540</span>&#160;  }</div>
<div class="line"><a name="l04541"></a><span class="lineno"> 4541</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((&amp;*It) == &amp;<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a> &amp;&amp; <span class="stringliteral">&quot;DefMI is missing&quot;</span>);</div>
<div class="line"><a name="l04542"></a><span class="lineno"> 4542</span>&#160; </div>
<div class="line"><a name="l04543"></a><span class="lineno"> 4543</span>&#160;  <span class="comment">// If DefMI also defines the register to be forwarded, we can only forward it</span></div>
<div class="line"><a name="l04544"></a><span class="lineno"> 4544</span>&#160;  <span class="comment">// if DefMI is being erased.</span></div>
<div class="line"><a name="l04545"></a><span class="lineno"> 4545</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a>.modifiesRegister(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, &amp;<a class="code" href="classllvm_1_1PPCInstrInfo.html#a7736d6dc0c4303c59d1192988b8919e9">getRegisterInfo</a>()))</div>
<div class="line"><a name="l04546"></a><span class="lineno"> 4546</span>&#160;    <span class="keywordflow">return</span> KillDefMI;</div>
<div class="line"><a name="l04547"></a><span class="lineno"> 4547</span>&#160; </div>
<div class="line"><a name="l04548"></a><span class="lineno"> 4548</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l04549"></a><span class="lineno"> 4549</span>&#160;}</div>
<div class="line"><a name="l04550"></a><span class="lineno"> 4550</span>&#160; </div>
<div class="line"><a name="l04551"></a><span class="lineno"> 4551</span>&#160;<span class="keywordtype">bool</span> PPCInstrInfo::isImmElgibleForForwarding(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;ImmMO,</div>
<div class="line"><a name="l04552"></a><span class="lineno"> 4552</span>&#160;                                             <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a>,</div>
<div class="line"><a name="l04553"></a><span class="lineno"> 4553</span>&#160;                                             <span class="keyword">const</span> <a class="code" href="structllvm_1_1ImmInstrInfo.html">ImmInstrInfo</a> &amp;III,</div>
<div class="line"><a name="l04554"></a><span class="lineno"> 4554</span>&#160;                                             int64_t &amp;<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>,</div>
<div class="line"><a name="l04555"></a><span class="lineno"> 4555</span>&#160;                                             int64_t BaseImm)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l04556"></a><span class="lineno"> 4556</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="PPCInstrInfo_8cpp.html#a3abad49282c799b7daeacb2b1bd5272b">isAnImmediateOperand</a>(ImmMO) &amp;&amp; <span class="stringliteral">&quot;ImmMO is NOT an immediate&quot;</span>);</div>
<div class="line"><a name="l04557"></a><span class="lineno"> 4557</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a>.getOpcode() == PPC::ADDItocL) {</div>
<div class="line"><a name="l04558"></a><span class="lineno"> 4558</span>&#160;    <span class="comment">// The operand for ADDItocL is CPI, which isn&#39;t imm at compiling time,</span></div>
<div class="line"><a name="l04559"></a><span class="lineno"> 4559</span>&#160;    <span class="comment">// However, we know that, it is 16-bit width, and has the alignment of 4.</span></div>
<div class="line"><a name="l04560"></a><span class="lineno"> 4560</span>&#160;    <span class="comment">// Check if the instruction met the requirement.</span></div>
<div class="line"><a name="l04561"></a><span class="lineno"> 4561</span>&#160;    <span class="keywordflow">if</span> (III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a5dd4306fe361b27da876c8023b219a56">ImmMustBeMultipleOf</a> &gt; 4 ||</div>
<div class="line"><a name="l04562"></a><span class="lineno"> 4562</span>&#160;       III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#ac6c300b1cfe574d36fe8547c4470f661">TruncateImmTo</a> || III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#aa50dc0db89af0c3fa23a670a65f4bea5">ImmWidth</a> != 16)</div>
<div class="line"><a name="l04563"></a><span class="lineno"> 4563</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04564"></a><span class="lineno"> 4564</span>&#160; </div>
<div class="line"><a name="l04565"></a><span class="lineno"> 4565</span>&#160;    <span class="comment">// Going from XForm to DForm loads means that the displacement needs to be</span></div>
<div class="line"><a name="l04566"></a><span class="lineno"> 4566</span>&#160;    <span class="comment">// not just an immediate but also a multiple of 4, or 16 depending on the</span></div>
<div class="line"><a name="l04567"></a><span class="lineno"> 4567</span>&#160;    <span class="comment">// load. A DForm load cannot be represented if it is a multiple of say 2.</span></div>
<div class="line"><a name="l04568"></a><span class="lineno"> 4568</span>&#160;    <span class="comment">// XForm loads do not have this restriction.</span></div>
<div class="line"><a name="l04569"></a><span class="lineno"> 4569</span>&#160;    <span class="keywordflow">if</span> (ImmMO.<a class="code" href="classllvm_1_1MachineOperand.html#ab0d1155c8c38e84cbe387998fd2e517e">isGlobal</a>()) {</div>
<div class="line"><a name="l04570"></a><span class="lineno"> 4570</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a> = ImmMO.<a class="code" href="classllvm_1_1MachineOperand.html#ac8718f1c761727d429180f0ce340f7f0">getGlobal</a>()-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a9e1fc23a17e97d2d1732e753ae9251ac">getParent</a>()-&gt;<a class="code" href="classllvm_1_1Module.html#a6d883605206368bc536cc9ded97209b8">getDataLayout</a>();</div>
<div class="line"><a name="l04571"></a><span class="lineno"> 4571</span>&#160;      <span class="keywordflow">if</span> (ImmMO.<a class="code" href="classllvm_1_1MachineOperand.html#ac8718f1c761727d429180f0ce340f7f0">getGlobal</a>()-&gt;<a class="code" href="classllvm_1_1Value.html#a47f5c74e1b14ba4a61db057400644acc">getPointerAlignment</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>) &lt; III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a5dd4306fe361b27da876c8023b219a56">ImmMustBeMultipleOf</a>)</div>
<div class="line"><a name="l04572"></a><span class="lineno"> 4572</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04573"></a><span class="lineno"> 4573</span>&#160;    }</div>
<div class="line"><a name="l04574"></a><span class="lineno"> 4574</span>&#160; </div>
<div class="line"><a name="l04575"></a><span class="lineno"> 4575</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l04576"></a><span class="lineno"> 4576</span>&#160;  }</div>
<div class="line"><a name="l04577"></a><span class="lineno"> 4577</span>&#160; </div>
<div class="line"><a name="l04578"></a><span class="lineno"> 4578</span>&#160;  <span class="keywordflow">if</span> (ImmMO.<a class="code" href="classllvm_1_1MachineOperand.html#a76f61c6784df6dc8402a8b9011041926">isImm</a>()) {</div>
<div class="line"><a name="l04579"></a><span class="lineno"> 4579</span>&#160;    <span class="comment">// It is Imm, we need to check if the Imm fit the range.</span></div>
<div class="line"><a name="l04580"></a><span class="lineno"> 4580</span>&#160;    <span class="comment">// Sign-extend to 64-bits.</span></div>
<div class="line"><a name="l04581"></a><span class="lineno"> 4581</span>&#160;    <span class="comment">// DefMI may be folded with another imm form instruction, the result Imm is</span></div>
<div class="line"><a name="l04582"></a><span class="lineno"> 4582</span>&#160;    <span class="comment">// the sum of Imm of DefMI and BaseImm which is from imm form instruction.</span></div>
<div class="line"><a name="l04583"></a><span class="lineno"> 4583</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> ActualValue(64, ImmMO.<a class="code" href="classllvm_1_1MachineOperand.html#a38b28a85f818b49d8806c150b8a5b4f7">getImm</a>() + BaseImm, <span class="keyword">true</span>);</div>
<div class="line"><a name="l04584"></a><span class="lineno"> 4584</span>&#160;    <span class="keywordflow">if</span> (III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a0d02c7cf038307122fd7169fe910d72f">SignedImm</a> &amp;&amp; !ActualValue.isSignedIntN(III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#aa50dc0db89af0c3fa23a670a65f4bea5">ImmWidth</a>))</div>
<div class="line"><a name="l04585"></a><span class="lineno"> 4585</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04586"></a><span class="lineno"> 4586</span>&#160;    <span class="keywordflow">if</span> (!III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a0d02c7cf038307122fd7169fe910d72f">SignedImm</a> &amp;&amp; !ActualValue.isIntN(III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#aa50dc0db89af0c3fa23a670a65f4bea5">ImmWidth</a>))</div>
<div class="line"><a name="l04587"></a><span class="lineno"> 4587</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04588"></a><span class="lineno"> 4588</span>&#160;    <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> = SignExtend64&lt;16&gt;(ImmMO.<a class="code" href="classllvm_1_1MachineOperand.html#a38b28a85f818b49d8806c150b8a5b4f7">getImm</a>() + BaseImm);</div>
<div class="line"><a name="l04589"></a><span class="lineno"> 4589</span>&#160; </div>
<div class="line"><a name="l04590"></a><span class="lineno"> 4590</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> % III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a5dd4306fe361b27da876c8023b219a56">ImmMustBeMultipleOf</a>)</div>
<div class="line"><a name="l04591"></a><span class="lineno"> 4591</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04592"></a><span class="lineno"> 4592</span>&#160;    <span class="keywordflow">if</span> (III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#ac6c300b1cfe574d36fe8547c4470f661">TruncateImmTo</a>)</div>
<div class="line"><a name="l04593"></a><span class="lineno"> 4593</span>&#160;      <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> &amp;= ((1 &lt;&lt; III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#ac6c300b1cfe574d36fe8547c4470f661">TruncateImmTo</a>) - 1);</div>
<div class="line"><a name="l04594"></a><span class="lineno"> 4594</span>&#160;  }</div>
<div class="line"><a name="l04595"></a><span class="lineno"> 4595</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l04596"></a><span class="lineno"> 4596</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04597"></a><span class="lineno"> 4597</span>&#160; </div>
<div class="line"><a name="l04598"></a><span class="lineno"> 4598</span>&#160;  <span class="comment">// This ImmMO is forwarded if it meets the requriement describle</span></div>
<div class="line"><a name="l04599"></a><span class="lineno"> 4599</span>&#160;  <span class="comment">// in ImmInstrInfo</span></div>
<div class="line"><a name="l04600"></a><span class="lineno"> 4600</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l04601"></a><span class="lineno"> 4601</span>&#160;}</div>
<div class="line"><a name="l04602"></a><span class="lineno"> 4602</span>&#160; </div>
<div class="line"><a name="l04603"></a><span class="lineno"> 4603</span>&#160;<span class="keywordtype">bool</span> PPCInstrInfo::simplifyToLI(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a>,</div>
<div class="line"><a name="l04604"></a><span class="lineno"> 4604</span>&#160;                                <span class="keywordtype">unsigned</span> OpNoForForwarding,</div>
<div class="line"><a name="l04605"></a><span class="lineno"> 4605</span>&#160;                                <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> **KilledDef)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l04606"></a><span class="lineno"> 4606</span>&#160;  <span class="keywordflow">if</span> ((<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a>.getOpcode() != PPC::LI &amp;&amp; <a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a>.getOpcode() != PPC::LI8) ||</div>
<div class="line"><a name="l04607"></a><span class="lineno"> 4607</span>&#160;      !<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a>.getOperand(1).isImm())</div>
<div class="line"><a name="l04608"></a><span class="lineno"> 4608</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04609"></a><span class="lineno"> 4609</span>&#160; </div>
<div class="line"><a name="l04610"></a><span class="lineno"> 4610</span>&#160;  <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> *MF = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getParent()-&gt;getParent();</div>
<div class="line"><a name="l04611"></a><span class="lineno"> 4611</span>&#160;  <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> *<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a> = &amp;MF-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>();</div>
<div class="line"><a name="l04612"></a><span class="lineno"> 4612</span>&#160;  <span class="keywordtype">bool</span> PostRA = !<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>-&gt;<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a86dd1b4ce6ff2d4a0b4593c5f7b2a3fd">isSSA</a>();</div>
<div class="line"><a name="l04613"></a><span class="lineno"> 4613</span>&#160; </div>
<div class="line"><a name="l04614"></a><span class="lineno"> 4614</span>&#160;  int64_t Immediate = <a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a>.getOperand(1).getImm();</div>
<div class="line"><a name="l04615"></a><span class="lineno"> 4615</span>&#160;  <span class="comment">// Sign-extend to 64-bits.</span></div>
<div class="line"><a name="l04616"></a><span class="lineno"> 4616</span>&#160;  int64_t SExtImm = SignExtend64&lt;16&gt;(Immediate);</div>
<div class="line"><a name="l04617"></a><span class="lineno"> 4617</span>&#160; </div>
<div class="line"><a name="l04618"></a><span class="lineno"> 4618</span>&#160;  <span class="keywordtype">bool</span> IsForwardingOperandKilled = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(OpNoForForwarding).isKill();</div>
<div class="line"><a name="l04619"></a><span class="lineno"> 4619</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> ForwardingOperandReg = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(OpNoForForwarding).getReg();</div>
<div class="line"><a name="l04620"></a><span class="lineno"> 4620</span>&#160; </div>
<div class="line"><a name="l04621"></a><span class="lineno"> 4621</span>&#160;  <span class="keywordtype">bool</span> ReplaceWithLI = <span class="keyword">false</span>;</div>
<div class="line"><a name="l04622"></a><span class="lineno"> 4622</span>&#160;  <span class="keywordtype">bool</span> Is64BitLI = <span class="keyword">false</span>;</div>
<div class="line"><a name="l04623"></a><span class="lineno"> 4623</span>&#160;  int64_t NewImm = 0;</div>
<div class="line"><a name="l04624"></a><span class="lineno"> 4624</span>&#160;  <span class="keywordtype">bool</span> SetCR = <span class="keyword">false</span>;</div>
<div class="line"><a name="l04625"></a><span class="lineno"> 4625</span>&#160;  <span class="keywordtype">unsigned</span> Opc = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode();</div>
<div class="line"><a name="l04626"></a><span class="lineno"> 4626</span>&#160;  <span class="keywordflow">switch</span> (Opc) {</div>
<div class="line"><a name="l04627"></a><span class="lineno"> 4627</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l04628"></a><span class="lineno"> 4628</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04629"></a><span class="lineno"> 4629</span>&#160; </div>
<div class="line"><a name="l04630"></a><span class="lineno"> 4630</span>&#160;  <span class="comment">// FIXME: Any branches conditional on such a comparison can be made</span></div>
<div class="line"><a name="l04631"></a><span class="lineno"> 4631</span>&#160;  <span class="comment">// unconditional. At this time, this happens too infrequently to be worth</span></div>
<div class="line"><a name="l04632"></a><span class="lineno"> 4632</span>&#160;  <span class="comment">// the implementation effort, but if that ever changes, we could convert</span></div>
<div class="line"><a name="l04633"></a><span class="lineno"> 4633</span>&#160;  <span class="comment">// such a pattern here.</span></div>
<div class="line"><a name="l04634"></a><span class="lineno"> 4634</span>&#160;  <span class="keywordflow">case</span> PPC::CMPWI:</div>
<div class="line"><a name="l04635"></a><span class="lineno"> 4635</span>&#160;  <span class="keywordflow">case</span> PPC::CMPLWI:</div>
<div class="line"><a name="l04636"></a><span class="lineno"> 4636</span>&#160;  <span class="keywordflow">case</span> PPC::CMPDI:</div>
<div class="line"><a name="l04637"></a><span class="lineno"> 4637</span>&#160;  <span class="keywordflow">case</span> PPC::CMPLDI: {</div>
<div class="line"><a name="l04638"></a><span class="lineno"> 4638</span>&#160;    <span class="comment">// Doing this post-RA would require dataflow analysis to reliably find uses</span></div>
<div class="line"><a name="l04639"></a><span class="lineno"> 4639</span>&#160;    <span class="comment">// of the CR register set by the compare.</span></div>
<div class="line"><a name="l04640"></a><span class="lineno"> 4640</span>&#160;    <span class="comment">// No need to fixup killed/dead flag since this transformation is only valid</span></div>
<div class="line"><a name="l04641"></a><span class="lineno"> 4641</span>&#160;    <span class="comment">// before RA.</span></div>
<div class="line"><a name="l04642"></a><span class="lineno"> 4642</span>&#160;    <span class="keywordflow">if</span> (PostRA)</div>
<div class="line"><a name="l04643"></a><span class="lineno"> 4643</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04644"></a><span class="lineno"> 4644</span>&#160;    <span class="comment">// If a compare-immediate is fed by an immediate and is itself an input of</span></div>
<div class="line"><a name="l04645"></a><span class="lineno"> 4645</span>&#160;    <span class="comment">// an ISEL (the most common case) into a COPY of the correct register.</span></div>
<div class="line"><a name="l04646"></a><span class="lineno"> 4646</span>&#160;    <span class="keywordtype">bool</span> Changed = <span class="keyword">false</span>;</div>
<div class="line"><a name="l04647"></a><span class="lineno"> 4647</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> DefReg = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(0).getReg();</div>
<div class="line"><a name="l04648"></a><span class="lineno"> 4648</span>&#160;    int64_t Comparand = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(2).getImm();</div>
<div class="line"><a name="l04649"></a><span class="lineno"> 4649</span>&#160;    int64_t SExtComparand = ((<a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a>)Comparand &amp; ~0x7FFFuLL) != 0</div>
<div class="line"><a name="l04650"></a><span class="lineno"> 4650</span>&#160;                                ? (Comparand | 0xFFFFFFFFFFFF0000)</div>
<div class="line"><a name="l04651"></a><span class="lineno"> 4651</span>&#160;                                : Comparand;</div>
<div class="line"><a name="l04652"></a><span class="lineno"> 4652</span>&#160; </div>
<div class="line"><a name="l04653"></a><span class="lineno"> 4653</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;CompareUseMI : <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>-&gt;<a class="code" href="classllvm_1_1MachineRegisterInfo.html#af400646844b3c80b534e81a0d855ed4a">use_instructions</a>(DefReg)) {</div>
<div class="line"><a name="l04654"></a><span class="lineno"> 4654</span>&#160;      <span class="keywordtype">unsigned</span> UseOpc = CompareUseMI.getOpcode();</div>
<div class="line"><a name="l04655"></a><span class="lineno"> 4655</span>&#160;      <span class="keywordflow">if</span> (UseOpc != <a class="code" href="namespacellvm_1_1HexagonISD.html#ab37bf6c49bc26c43ddd958218f63ba00a0fbe77e798cb4b9c9a3e62f4d2085395">PPC::ISEL</a> &amp;&amp; UseOpc != PPC::ISEL8)</div>
<div class="line"><a name="l04656"></a><span class="lineno"> 4656</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l04657"></a><span class="lineno"> 4657</span>&#160;      <span class="keywordtype">unsigned</span> CRSubReg = CompareUseMI.getOperand(3).getSubReg();</div>
<div class="line"><a name="l04658"></a><span class="lineno"> 4658</span>&#160;      <a class="code" href="classllvm_1_1Register.html">Register</a> TrueReg = CompareUseMI.getOperand(1).getReg();</div>
<div class="line"><a name="l04659"></a><span class="lineno"> 4659</span>&#160;      <a class="code" href="classllvm_1_1Register.html">Register</a> FalseReg = CompareUseMI.getOperand(2).getReg();</div>
<div class="line"><a name="l04660"></a><span class="lineno"> 4660</span>&#160;      <span class="keywordtype">unsigned</span> RegToCopy =</div>
<div class="line"><a name="l04661"></a><span class="lineno"> 4661</span>&#160;          <a class="code" href="PPCInstrInfo_8cpp.html#a22a87d5646b192ec391aaf48e4dbe08f">selectReg</a>(SExtImm, SExtComparand, Opc, TrueReg, FalseReg, CRSubReg);</div>
<div class="line"><a name="l04662"></a><span class="lineno"> 4662</span>&#160;      <span class="keywordflow">if</span> (RegToCopy == PPC::NoRegister)</div>
<div class="line"><a name="l04663"></a><span class="lineno"> 4663</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l04664"></a><span class="lineno"> 4664</span>&#160;      <span class="comment">// Can&#39;t use PPC::COPY to copy PPC::ZERO[8]. Convert it to LI[8] 0.</span></div>
<div class="line"><a name="l04665"></a><span class="lineno"> 4665</span>&#160;      <span class="keywordflow">if</span> (RegToCopy == PPC::ZERO || RegToCopy == PPC::ZERO8) {</div>
<div class="line"><a name="l04666"></a><span class="lineno"> 4666</span>&#160;        CompareUseMI.setDesc(<a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(UseOpc == PPC::ISEL8 ? PPC::LI8 : PPC::LI));</div>
<div class="line"><a name="l04667"></a><span class="lineno"> 4667</span>&#160;        <a class="code" href="classllvm_1_1PPCInstrInfo.html#ad6408dc62ff8fa8de6c9c6daa57b897f">replaceInstrOperandWithImm</a>(CompareUseMI, 1, 0);</div>
<div class="line"><a name="l04668"></a><span class="lineno"> 4668</span>&#160;        CompareUseMI.removeOperand(3);</div>
<div class="line"><a name="l04669"></a><span class="lineno"> 4669</span>&#160;        CompareUseMI.removeOperand(2);</div>
<div class="line"><a name="l04670"></a><span class="lineno"> 4670</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l04671"></a><span class="lineno"> 4671</span>&#160;      }</div>
<div class="line"><a name="l04672"></a><span class="lineno"> 4672</span>&#160;      <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(</div>
<div class="line"><a name="l04673"></a><span class="lineno"> 4673</span>&#160;          <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Found LI -&gt; CMPI -&gt; ISEL, replacing with a copy.\n&quot;</span>);</div>
<div class="line"><a name="l04674"></a><span class="lineno"> 4674</span>&#160;      <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a>.dump(); <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.<a class="code" href="classllvm_1_1Pass.html#aa26f1f3bfe5b5022b1bd495151b3757a">dump</a>(); CompareUseMI.dump());</div>
<div class="line"><a name="l04675"></a><span class="lineno"> 4675</span>&#160;      <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Is converted to:\n&quot;</span>);</div>
<div class="line"><a name="l04676"></a><span class="lineno"> 4676</span>&#160;      <span class="comment">// Convert to copy and remove unneeded operands.</span></div>
<div class="line"><a name="l04677"></a><span class="lineno"> 4677</span>&#160;      CompareUseMI.setDesc(<a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(PPC::COPY));</div>
<div class="line"><a name="l04678"></a><span class="lineno"> 4678</span>&#160;      CompareUseMI.removeOperand(3);</div>
<div class="line"><a name="l04679"></a><span class="lineno"> 4679</span>&#160;      CompareUseMI.removeOperand(RegToCopy == TrueReg ? 2 : 1);</div>
<div class="line"><a name="l04680"></a><span class="lineno"> 4680</span>&#160;      CmpIselsConverted++;</div>
<div class="line"><a name="l04681"></a><span class="lineno"> 4681</span>&#160;      Changed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l04682"></a><span class="lineno"> 4682</span>&#160;      <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(CompareUseMI.dump());</div>
<div class="line"><a name="l04683"></a><span class="lineno"> 4683</span>&#160;    }</div>
<div class="line"><a name="l04684"></a><span class="lineno"> 4684</span>&#160;    <span class="keywordflow">if</span> (Changed)</div>
<div class="line"><a name="l04685"></a><span class="lineno"> 4685</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l04686"></a><span class="lineno"> 4686</span>&#160;    <span class="comment">// This may end up incremented multiple times since this function is called</span></div>
<div class="line"><a name="l04687"></a><span class="lineno"> 4687</span>&#160;    <span class="comment">// during a fixed-point transformation, but it is only meant to indicate the</span></div>
<div class="line"><a name="l04688"></a><span class="lineno"> 4688</span>&#160;    <span class="comment">// presence of this opportunity.</span></div>
<div class="line"><a name="l04689"></a><span class="lineno"> 4689</span>&#160;    MissedConvertibleImmediateInstrs++;</div>
<div class="line"><a name="l04690"></a><span class="lineno"> 4690</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04691"></a><span class="lineno"> 4691</span>&#160;  }</div>
<div class="line"><a name="l04692"></a><span class="lineno"> 4692</span>&#160; </div>
<div class="line"><a name="l04693"></a><span class="lineno"> 4693</span>&#160;  <span class="comment">// Immediate forms - may simply be convertable to an LI.</span></div>
<div class="line"><a name="l04694"></a><span class="lineno"> 4694</span>&#160;  <span class="keywordflow">case</span> PPC::ADDI:</div>
<div class="line"><a name="l04695"></a><span class="lineno"> 4695</span>&#160;  <span class="keywordflow">case</span> PPC::ADDI8: {</div>
<div class="line"><a name="l04696"></a><span class="lineno"> 4696</span>&#160;    <span class="comment">// Does the sum fit in a 16-bit signed field?</span></div>
<div class="line"><a name="l04697"></a><span class="lineno"> 4697</span>&#160;    int64_t Addend = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(2).getImm();</div>
<div class="line"><a name="l04698"></a><span class="lineno"> 4698</span>&#160;    <span class="keywordflow">if</span> (isInt&lt;16&gt;(Addend + SExtImm)) {</div>
<div class="line"><a name="l04699"></a><span class="lineno"> 4699</span>&#160;      ReplaceWithLI = <span class="keyword">true</span>;</div>
<div class="line"><a name="l04700"></a><span class="lineno"> 4700</span>&#160;      Is64BitLI = Opc == PPC::ADDI8;</div>
<div class="line"><a name="l04701"></a><span class="lineno"> 4701</span>&#160;      NewImm = Addend + SExtImm;</div>
<div class="line"><a name="l04702"></a><span class="lineno"> 4702</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04703"></a><span class="lineno"> 4703</span>&#160;    }</div>
<div class="line"><a name="l04704"></a><span class="lineno"> 4704</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04705"></a><span class="lineno"> 4705</span>&#160;  }</div>
<div class="line"><a name="l04706"></a><span class="lineno"> 4706</span>&#160;  <span class="keywordflow">case</span> PPC::SUBFIC:</div>
<div class="line"><a name="l04707"></a><span class="lineno"> 4707</span>&#160;  <span class="keywordflow">case</span> PPC::SUBFIC8: {</div>
<div class="line"><a name="l04708"></a><span class="lineno"> 4708</span>&#160;    <span class="comment">// Only transform this if the CARRY implicit operand is dead.</span></div>
<div class="line"><a name="l04709"></a><span class="lineno"> 4709</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getNumOperands() &gt; 3 &amp;&amp; !<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(3).isDead())</div>
<div class="line"><a name="l04710"></a><span class="lineno"> 4710</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04711"></a><span class="lineno"> 4711</span>&#160;    int64_t Minuend = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(2).getImm();</div>
<div class="line"><a name="l04712"></a><span class="lineno"> 4712</span>&#160;    <span class="keywordflow">if</span> (isInt&lt;16&gt;(Minuend - SExtImm)) {</div>
<div class="line"><a name="l04713"></a><span class="lineno"> 4713</span>&#160;      ReplaceWithLI = <span class="keyword">true</span>;</div>
<div class="line"><a name="l04714"></a><span class="lineno"> 4714</span>&#160;      Is64BitLI = Opc == PPC::SUBFIC8;</div>
<div class="line"><a name="l04715"></a><span class="lineno"> 4715</span>&#160;      NewImm = Minuend - SExtImm;</div>
<div class="line"><a name="l04716"></a><span class="lineno"> 4716</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04717"></a><span class="lineno"> 4717</span>&#160;    }</div>
<div class="line"><a name="l04718"></a><span class="lineno"> 4718</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04719"></a><span class="lineno"> 4719</span>&#160;  }</div>
<div class="line"><a name="l04720"></a><span class="lineno"> 4720</span>&#160;  <span class="keywordflow">case</span> PPC::RLDICL:</div>
<div class="line"><a name="l04721"></a><span class="lineno"> 4721</span>&#160;  <span class="keywordflow">case</span> PPC::RLDICL_rec:</div>
<div class="line"><a name="l04722"></a><span class="lineno"> 4722</span>&#160;  <span class="keywordflow">case</span> PPC::RLDICL_32:</div>
<div class="line"><a name="l04723"></a><span class="lineno"> 4723</span>&#160;  <span class="keywordflow">case</span> PPC::RLDICL_32_64: {</div>
<div class="line"><a name="l04724"></a><span class="lineno"> 4724</span>&#160;    <span class="comment">// Use APInt&#39;s rotate function.</span></div>
<div class="line"><a name="l04725"></a><span class="lineno"> 4725</span>&#160;    int64_t SH = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(2).getImm();</div>
<div class="line"><a name="l04726"></a><span class="lineno"> 4726</span>&#160;    int64_t MB = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(3).getImm();</div>
<div class="line"><a name="l04727"></a><span class="lineno"> 4727</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> InVal((Opc == PPC::RLDICL || Opc == PPC::RLDICL_rec) ? 64 : 32,</div>
<div class="line"><a name="l04728"></a><span class="lineno"> 4728</span>&#160;                SExtImm, <span class="keyword">true</span>);</div>
<div class="line"><a name="l04729"></a><span class="lineno"> 4729</span>&#160;    InVal = InVal.rotl(SH);</div>
<div class="line"><a name="l04730"></a><span class="lineno"> 4730</span>&#160;    <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a> = MB == 0 ? -1LLU : (1LLU &lt;&lt; (63 - MB + 1)) - 1;</div>
<div class="line"><a name="l04731"></a><span class="lineno"> 4731</span>&#160;    InVal &amp;= <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>;</div>
<div class="line"><a name="l04732"></a><span class="lineno"> 4732</span>&#160;    <span class="comment">// Can&#39;t replace negative values with an LI as that will sign-extend</span></div>
<div class="line"><a name="l04733"></a><span class="lineno"> 4733</span>&#160;    <span class="comment">// and not clear the left bits. If we&#39;re setting the CR bit, we will use</span></div>
<div class="line"><a name="l04734"></a><span class="lineno"> 4734</span>&#160;    <span class="comment">// ANDI_rec which won&#39;t sign extend, so that&#39;s safe.</span></div>
<div class="line"><a name="l04735"></a><span class="lineno"> 4735</span>&#160;    <span class="keywordflow">if</span> (isUInt&lt;15&gt;(InVal.getSExtValue()) ||</div>
<div class="line"><a name="l04736"></a><span class="lineno"> 4736</span>&#160;        (Opc == PPC::RLDICL_rec &amp;&amp; isUInt&lt;16&gt;(InVal.getSExtValue()))) {</div>
<div class="line"><a name="l04737"></a><span class="lineno"> 4737</span>&#160;      ReplaceWithLI = <span class="keyword">true</span>;</div>
<div class="line"><a name="l04738"></a><span class="lineno"> 4738</span>&#160;      Is64BitLI = Opc != PPC::RLDICL_32;</div>
<div class="line"><a name="l04739"></a><span class="lineno"> 4739</span>&#160;      NewImm = InVal.getSExtValue();</div>
<div class="line"><a name="l04740"></a><span class="lineno"> 4740</span>&#160;      SetCR = Opc == PPC::RLDICL_rec;</div>
<div class="line"><a name="l04741"></a><span class="lineno"> 4741</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04742"></a><span class="lineno"> 4742</span>&#160;    }</div>
<div class="line"><a name="l04743"></a><span class="lineno"> 4743</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04744"></a><span class="lineno"> 4744</span>&#160;  }</div>
<div class="line"><a name="l04745"></a><span class="lineno"> 4745</span>&#160;  <span class="keywordflow">case</span> PPC::RLWINM:</div>
<div class="line"><a name="l04746"></a><span class="lineno"> 4746</span>&#160;  <span class="keywordflow">case</span> PPC::RLWINM8:</div>
<div class="line"><a name="l04747"></a><span class="lineno"> 4747</span>&#160;  <span class="keywordflow">case</span> PPC::RLWINM_rec:</div>
<div class="line"><a name="l04748"></a><span class="lineno"> 4748</span>&#160;  <span class="keywordflow">case</span> PPC::RLWINM8_rec: {</div>
<div class="line"><a name="l04749"></a><span class="lineno"> 4749</span>&#160;    int64_t SH = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(2).getImm();</div>
<div class="line"><a name="l04750"></a><span class="lineno"> 4750</span>&#160;    int64_t MB = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(3).getImm();</div>
<div class="line"><a name="l04751"></a><span class="lineno"> 4751</span>&#160;    int64_t ME = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(4).getImm();</div>
<div class="line"><a name="l04752"></a><span class="lineno"> 4752</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> InVal(32, SExtImm, <span class="keyword">true</span>);</div>
<div class="line"><a name="l04753"></a><span class="lineno"> 4753</span>&#160;    InVal = InVal.rotl(SH);</div>
<div class="line"><a name="l04754"></a><span class="lineno"> 4754</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a> = <a class="code" href="classllvm_1_1APInt.html#af3bee3e462a14abdf3858c354a5cd222">APInt::getBitsSetWithWrap</a>(32, 32 - ME - 1, 32 - MB);</div>
<div class="line"><a name="l04755"></a><span class="lineno"> 4755</span>&#160;    InVal &amp;= <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>;</div>
<div class="line"><a name="l04756"></a><span class="lineno"> 4756</span>&#160;    <span class="comment">// Can&#39;t replace negative values with an LI as that will sign-extend</span></div>
<div class="line"><a name="l04757"></a><span class="lineno"> 4757</span>&#160;    <span class="comment">// and not clear the left bits. If we&#39;re setting the CR bit, we will use</span></div>
<div class="line"><a name="l04758"></a><span class="lineno"> 4758</span>&#160;    <span class="comment">// ANDI_rec which won&#39;t sign extend, so that&#39;s safe.</span></div>
<div class="line"><a name="l04759"></a><span class="lineno"> 4759</span>&#160;    <span class="keywordtype">bool</span> ValueFits = isUInt&lt;15&gt;(InVal.getSExtValue());</div>
<div class="line"><a name="l04760"></a><span class="lineno"> 4760</span>&#160;    ValueFits |= ((Opc == PPC::RLWINM_rec || Opc == PPC::RLWINM8_rec) &amp;&amp;</div>
<div class="line"><a name="l04761"></a><span class="lineno"> 4761</span>&#160;                  isUInt&lt;16&gt;(InVal.getSExtValue()));</div>
<div class="line"><a name="l04762"></a><span class="lineno"> 4762</span>&#160;    <span class="keywordflow">if</span> (ValueFits) {</div>
<div class="line"><a name="l04763"></a><span class="lineno"> 4763</span>&#160;      ReplaceWithLI = <span class="keyword">true</span>;</div>
<div class="line"><a name="l04764"></a><span class="lineno"> 4764</span>&#160;      Is64BitLI = Opc == PPC::RLWINM8 || Opc == PPC::RLWINM8_rec;</div>
<div class="line"><a name="l04765"></a><span class="lineno"> 4765</span>&#160;      NewImm = InVal.getSExtValue();</div>
<div class="line"><a name="l04766"></a><span class="lineno"> 4766</span>&#160;      SetCR = Opc == PPC::RLWINM_rec || Opc == PPC::RLWINM8_rec;</div>
<div class="line"><a name="l04767"></a><span class="lineno"> 4767</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04768"></a><span class="lineno"> 4768</span>&#160;    }</div>
<div class="line"><a name="l04769"></a><span class="lineno"> 4769</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04770"></a><span class="lineno"> 4770</span>&#160;  }</div>
<div class="line"><a name="l04771"></a><span class="lineno"> 4771</span>&#160;  <span class="keywordflow">case</span> PPC::ORI:</div>
<div class="line"><a name="l04772"></a><span class="lineno"> 4772</span>&#160;  <span class="keywordflow">case</span> PPC::ORI8:</div>
<div class="line"><a name="l04773"></a><span class="lineno"> 4773</span>&#160;  <span class="keywordflow">case</span> PPC::XORI:</div>
<div class="line"><a name="l04774"></a><span class="lineno"> 4774</span>&#160;  <span class="keywordflow">case</span> PPC::XORI8: {</div>
<div class="line"><a name="l04775"></a><span class="lineno"> 4775</span>&#160;    int64_t LogicalImm = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(2).getImm();</div>
<div class="line"><a name="l04776"></a><span class="lineno"> 4776</span>&#160;    int64_t <a class="code" href="namespacellvm_1_1ms__demangle.html#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">Result</a> = 0;</div>
<div class="line"><a name="l04777"></a><span class="lineno"> 4777</span>&#160;    <span class="keywordflow">if</span> (Opc == PPC::ORI || Opc == PPC::ORI8)</div>
<div class="line"><a name="l04778"></a><span class="lineno"> 4778</span>&#160;      <a class="code" href="namespacellvm_1_1ms__demangle.html#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">Result</a> = LogicalImm | SExtImm;</div>
<div class="line"><a name="l04779"></a><span class="lineno"> 4779</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l04780"></a><span class="lineno"> 4780</span>&#160;      <a class="code" href="namespacellvm_1_1ms__demangle.html#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">Result</a> = LogicalImm ^ SExtImm;</div>
<div class="line"><a name="l04781"></a><span class="lineno"> 4781</span>&#160;    <span class="keywordflow">if</span> (isInt&lt;16&gt;(Result)) {</div>
<div class="line"><a name="l04782"></a><span class="lineno"> 4782</span>&#160;      ReplaceWithLI = <span class="keyword">true</span>;</div>
<div class="line"><a name="l04783"></a><span class="lineno"> 4783</span>&#160;      Is64BitLI = Opc == PPC::ORI8 || Opc == PPC::XORI8;</div>
<div class="line"><a name="l04784"></a><span class="lineno"> 4784</span>&#160;      NewImm = <a class="code" href="namespacellvm_1_1ms__demangle.html#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">Result</a>;</div>
<div class="line"><a name="l04785"></a><span class="lineno"> 4785</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04786"></a><span class="lineno"> 4786</span>&#160;    }</div>
<div class="line"><a name="l04787"></a><span class="lineno"> 4787</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04788"></a><span class="lineno"> 4788</span>&#160;  }</div>
<div class="line"><a name="l04789"></a><span class="lineno"> 4789</span>&#160;  }</div>
<div class="line"><a name="l04790"></a><span class="lineno"> 4790</span>&#160; </div>
<div class="line"><a name="l04791"></a><span class="lineno"> 4791</span>&#160;  <span class="keywordflow">if</span> (ReplaceWithLI) {</div>
<div class="line"><a name="l04792"></a><span class="lineno"> 4792</span>&#160;    <span class="comment">// We need to be careful with CR-setting instructions we&#39;re replacing.</span></div>
<div class="line"><a name="l04793"></a><span class="lineno"> 4793</span>&#160;    <span class="keywordflow">if</span> (SetCR) {</div>
<div class="line"><a name="l04794"></a><span class="lineno"> 4794</span>&#160;      <span class="comment">// We don&#39;t know anything about uses when we&#39;re out of SSA, so only</span></div>
<div class="line"><a name="l04795"></a><span class="lineno"> 4795</span>&#160;      <span class="comment">// replace if the new immediate will be reproduced.</span></div>
<div class="line"><a name="l04796"></a><span class="lineno"> 4796</span>&#160;      <span class="keywordtype">bool</span> ImmChanged = (SExtImm &amp; NewImm) != NewImm;</div>
<div class="line"><a name="l04797"></a><span class="lineno"> 4797</span>&#160;      <span class="keywordflow">if</span> (PostRA &amp;&amp; ImmChanged)</div>
<div class="line"><a name="l04798"></a><span class="lineno"> 4798</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04799"></a><span class="lineno"> 4799</span>&#160; </div>
<div class="line"><a name="l04800"></a><span class="lineno"> 4800</span>&#160;      <span class="keywordflow">if</span> (!PostRA) {</div>
<div class="line"><a name="l04801"></a><span class="lineno"> 4801</span>&#160;        <span class="comment">// If the defining load-immediate has no other uses, we can just replace</span></div>
<div class="line"><a name="l04802"></a><span class="lineno"> 4802</span>&#160;        <span class="comment">// the immediate with the new immediate.</span></div>
<div class="line"><a name="l04803"></a><span class="lineno"> 4803</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>-&gt;<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a600a2d410c09a9486e828ea34e5a9566">hasOneUse</a>(<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a>.getOperand(0).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a1c5fadb14ff1d77faad0cb58a43252ab">getReg</a>()))</div>
<div class="line"><a name="l04804"></a><span class="lineno"> 4804</span>&#160;          <a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a>.getOperand(1).setImm(NewImm);</div>
<div class="line"><a name="l04805"></a><span class="lineno"> 4805</span>&#160; </div>
<div class="line"><a name="l04806"></a><span class="lineno"> 4806</span>&#160;        <span class="comment">// If we&#39;re not using the GPR result of the CR-setting instruction, we</span></div>
<div class="line"><a name="l04807"></a><span class="lineno"> 4807</span>&#160;        <span class="comment">// just need to and with zero/non-zero depending on the new immediate.</span></div>
<div class="line"><a name="l04808"></a><span class="lineno"> 4808</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>-&gt;<a class="code" href="classllvm_1_1MachineRegisterInfo.html#aeae86e9004476412ca754a7de4ee8a0c">use_empty</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(0).getReg())) {</div>
<div class="line"><a name="l04809"></a><span class="lineno"> 4809</span>&#160;          <span class="keywordflow">if</span> (NewImm) {</div>
<div class="line"><a name="l04810"></a><span class="lineno"> 4810</span>&#160;            <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Immediate &amp;&amp; <span class="stringliteral">&quot;Transformation converted zero to non-zero?&quot;</span>);</div>
<div class="line"><a name="l04811"></a><span class="lineno"> 4811</span>&#160;            NewImm = Immediate;</div>
<div class="line"><a name="l04812"></a><span class="lineno"> 4812</span>&#160;          }</div>
<div class="line"><a name="l04813"></a><span class="lineno"> 4813</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ImmChanged)</div>
<div class="line"><a name="l04814"></a><span class="lineno"> 4814</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04815"></a><span class="lineno"> 4815</span>&#160;      }</div>
<div class="line"><a name="l04816"></a><span class="lineno"> 4816</span>&#160;    }</div>
<div class="line"><a name="l04817"></a><span class="lineno"> 4817</span>&#160; </div>
<div class="line"><a name="l04818"></a><span class="lineno"> 4818</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Replacing constant instruction:\n&quot;</span>);</div>
<div class="line"><a name="l04819"></a><span class="lineno"> 4819</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.<a class="code" href="classllvm_1_1Pass.html#aa26f1f3bfe5b5022b1bd495151b3757a">dump</a>());</div>
<div class="line"><a name="l04820"></a><span class="lineno"> 4820</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Fed by:\n&quot;</span>);</div>
<div class="line"><a name="l04821"></a><span class="lineno"> 4821</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a>.dump());</div>
<div class="line"><a name="l04822"></a><span class="lineno"> 4822</span>&#160;    <a class="code" href="structllvm_1_1LoadImmediateInfo.html">LoadImmediateInfo</a> LII;</div>
<div class="line"><a name="l04823"></a><span class="lineno"> 4823</span>&#160;    LII.<a class="code" href="structllvm_1_1LoadImmediateInfo.html#aaf91f2e9fa96f015190607fb90e932b7">Imm</a> = NewImm;</div>
<div class="line"><a name="l04824"></a><span class="lineno"> 4824</span>&#160;    LII.<a class="code" href="structllvm_1_1LoadImmediateInfo.html#acaf80d046c8829eb2e8f84a785ded662">Is64Bit</a> = Is64BitLI;</div>
<div class="line"><a name="l04825"></a><span class="lineno"> 4825</span>&#160;    LII.<a class="code" href="structllvm_1_1LoadImmediateInfo.html#a66834eb3a0e2888f90445ced87675079">SetCR</a> = SetCR;</div>
<div class="line"><a name="l04826"></a><span class="lineno"> 4826</span>&#160;    <span class="comment">// If we&#39;re setting the CR, the original load-immediate must be kept (as an</span></div>
<div class="line"><a name="l04827"></a><span class="lineno"> 4827</span>&#160;    <span class="comment">// operand to ANDI_rec/ANDI8_rec).</span></div>
<div class="line"><a name="l04828"></a><span class="lineno"> 4828</span>&#160;    <span class="keywordflow">if</span> (KilledDef &amp;&amp; SetCR)</div>
<div class="line"><a name="l04829"></a><span class="lineno"> 4829</span>&#160;      *KilledDef = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l04830"></a><span class="lineno"> 4830</span>&#160;    <a class="code" href="classllvm_1_1PPCInstrInfo.html#ae0793a0ace15ba8cf0d9ee31e30dc2c5">replaceInstrWithLI</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, LII);</div>
<div class="line"><a name="l04831"></a><span class="lineno"> 4831</span>&#160; </div>
<div class="line"><a name="l04832"></a><span class="lineno"> 4832</span>&#160;    <span class="comment">// Fixup killed/dead flag after transformation.</span></div>
<div class="line"><a name="l04833"></a><span class="lineno"> 4833</span>&#160;    <span class="comment">// Pattern:</span></div>
<div class="line"><a name="l04834"></a><span class="lineno"> 4834</span>&#160;    <span class="comment">// ForwardingOperandReg = LI imm1</span></div>
<div class="line"><a name="l04835"></a><span class="lineno"> 4835</span>&#160;    <span class="comment">// y = op2 imm2, ForwardingOperandReg(killed)</span></div>
<div class="line"><a name="l04836"></a><span class="lineno"> 4836</span>&#160;    <span class="keywordflow">if</span> (IsForwardingOperandKilled)</div>
<div class="line"><a name="l04837"></a><span class="lineno"> 4837</span>&#160;      <a class="code" href="classllvm_1_1PPCInstrInfo.html#a360d9458a82cc4a80442ad84450945e1">fixupIsDeadOrKill</a>(&amp;<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a>, &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, ForwardingOperandReg);</div>
<div class="line"><a name="l04838"></a><span class="lineno"> 4838</span>&#160; </div>
<div class="line"><a name="l04839"></a><span class="lineno"> 4839</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;With:\n&quot;</span>);</div>
<div class="line"><a name="l04840"></a><span class="lineno"> 4840</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.<a class="code" href="classllvm_1_1Pass.html#aa26f1f3bfe5b5022b1bd495151b3757a">dump</a>());</div>
<div class="line"><a name="l04841"></a><span class="lineno"> 4841</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l04842"></a><span class="lineno"> 4842</span>&#160;  }</div>
<div class="line"><a name="l04843"></a><span class="lineno"> 4843</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04844"></a><span class="lineno"> 4844</span>&#160;}</div>
<div class="line"><a name="l04845"></a><span class="lineno"> 4845</span>&#160; </div>
<div class="line"><a name="l04846"></a><span class="lineno"> 4846</span>&#160;<span class="keywordtype">bool</span> PPCInstrInfo::transformToNewImmFormFedByAdd(</div>
<div class="line"><a name="l04847"></a><span class="lineno"> 4847</span>&#160;    <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a>, <span class="keywordtype">unsigned</span> OpNoForForwarding)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l04848"></a><span class="lineno"> 4848</span>&#160;  <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> *<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a> = &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getParent()-&gt;getParent()-&gt;getRegInfo();</div>
<div class="line"><a name="l04849"></a><span class="lineno"> 4849</span>&#160;  <span class="keywordtype">bool</span> PostRA = !<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>-&gt;<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a86dd1b4ce6ff2d4a0b4593c5f7b2a3fd">isSSA</a>();</div>
<div class="line"><a name="l04850"></a><span class="lineno"> 4850</span>&#160;  <span class="comment">// FIXME: extend this to post-ra. Need to do some change in getForwardingDefMI</span></div>
<div class="line"><a name="l04851"></a><span class="lineno"> 4851</span>&#160;  <span class="comment">// for post-ra.</span></div>
<div class="line"><a name="l04852"></a><span class="lineno"> 4852</span>&#160;  <span class="keywordflow">if</span> (PostRA)</div>
<div class="line"><a name="l04853"></a><span class="lineno"> 4853</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04854"></a><span class="lineno"> 4854</span>&#160; </div>
<div class="line"><a name="l04855"></a><span class="lineno"> 4855</span>&#160;  <span class="comment">// Only handle load/store.</span></div>
<div class="line"><a name="l04856"></a><span class="lineno"> 4856</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.mayLoadOrStore())</div>
<div class="line"><a name="l04857"></a><span class="lineno"> 4857</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04858"></a><span class="lineno"> 4858</span>&#160; </div>
<div class="line"><a name="l04859"></a><span class="lineno"> 4859</span>&#160;  <span class="keywordtype">unsigned</span> XFormOpcode = RI.<a class="code" href="classllvm_1_1PPCRegisterInfo.html#a35c77ff356ab1c026fb65800c036d737">getMappedIdxOpcForImmOpc</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode());</div>
<div class="line"><a name="l04860"></a><span class="lineno"> 4860</span>&#160; </div>
<div class="line"><a name="l04861"></a><span class="lineno"> 4861</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((XFormOpcode != PPC::INSTRUCTION_LIST_END) &amp;&amp;</div>
<div class="line"><a name="l04862"></a><span class="lineno"> 4862</span>&#160;         <span class="stringliteral">&quot;MI must have x-form opcode&quot;</span>);</div>
<div class="line"><a name="l04863"></a><span class="lineno"> 4863</span>&#160; </div>
<div class="line"><a name="l04864"></a><span class="lineno"> 4864</span>&#160;  <span class="comment">// get Imm Form info.</span></div>
<div class="line"><a name="l04865"></a><span class="lineno"> 4865</span>&#160;  <a class="code" href="structllvm_1_1ImmInstrInfo.html">ImmInstrInfo</a> III;</div>
<div class="line"><a name="l04866"></a><span class="lineno"> 4866</span>&#160;  <span class="keywordtype">bool</span> IsVFReg = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(0).isReg()</div>
<div class="line"><a name="l04867"></a><span class="lineno"> 4867</span>&#160;                     ? <a class="code" href="classllvm_1_1PPCInstrInfo.html#a4a925741128762aa8606a501ed9dad40">isVFRegister</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(0).getReg())</div>
<div class="line"><a name="l04868"></a><span class="lineno"> 4868</span>&#160;                     : <a class="code" href="namespacefalse.html">false</a>;</div>
<div class="line"><a name="l04869"></a><span class="lineno"> 4869</span>&#160; </div>
<div class="line"><a name="l04870"></a><span class="lineno"> 4870</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1PPCInstrInfo.html#afb977cf93fe8661651e4503ae0722893">instrHasImmForm</a>(XFormOpcode, IsVFReg, III, PostRA))</div>
<div class="line"><a name="l04871"></a><span class="lineno"> 4871</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04872"></a><span class="lineno"> 4872</span>&#160; </div>
<div class="line"><a name="l04873"></a><span class="lineno"> 4873</span>&#160;  <span class="keywordflow">if</span> (!III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a1749c6946477b2e208391a3555fb94b9">IsSummingOperands</a>)</div>
<div class="line"><a name="l04874"></a><span class="lineno"> 4874</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04875"></a><span class="lineno"> 4875</span>&#160; </div>
<div class="line"><a name="l04876"></a><span class="lineno"> 4876</span>&#160;  <span class="keywordflow">if</span> (OpNoForForwarding != III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a528b7ccd92e952d902dd916aa4c0ad4b">OpNoForForwarding</a>)</div>
<div class="line"><a name="l04877"></a><span class="lineno"> 4877</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04878"></a><span class="lineno"> 4878</span>&#160; </div>
<div class="line"><a name="l04879"></a><span class="lineno"> 4879</span>&#160;  <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> ImmOperandMI = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a3c87effe0ac9501aee6aa53828a65c0c">ImmOpNo</a>);</div>
<div class="line"><a name="l04880"></a><span class="lineno"> 4880</span>&#160;  <span class="keywordflow">if</span> (!ImmOperandMI.<a class="code" href="classllvm_1_1MachineOperand.html#a76f61c6784df6dc8402a8b9011041926">isImm</a>())</div>
<div class="line"><a name="l04881"></a><span class="lineno"> 4881</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04882"></a><span class="lineno"> 4882</span>&#160; </div>
<div class="line"><a name="l04883"></a><span class="lineno"> 4883</span>&#160;  <span class="comment">// Check DefMI.</span></div>
<div class="line"><a name="l04884"></a><span class="lineno"> 4884</span>&#160;  <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> *ImmMO = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l04885"></a><span class="lineno"> 4885</span>&#160;  <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> *RegMO = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l04886"></a><span class="lineno"> 4886</span>&#160;  <span class="keywordflow">if</span> (!isDefMIElgibleForForwarding(<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a>, III, ImmMO, RegMO))</div>
<div class="line"><a name="l04887"></a><span class="lineno"> 4887</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04888"></a><span class="lineno"> 4888</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(ImmMO &amp;&amp; RegMO &amp;&amp; <span class="stringliteral">&quot;Imm and Reg operand must have been set&quot;</span>);</div>
<div class="line"><a name="l04889"></a><span class="lineno"> 4889</span>&#160; </div>
<div class="line"><a name="l04890"></a><span class="lineno"> 4890</span>&#160;  <span class="comment">// Check Imm.</span></div>
<div class="line"><a name="l04891"></a><span class="lineno"> 4891</span>&#160;  <span class="comment">// Set ImmBase from imm instruction as base and get new Imm inside</span></div>
<div class="line"><a name="l04892"></a><span class="lineno"> 4892</span>&#160;  <span class="comment">// isImmElgibleForForwarding.</span></div>
<div class="line"><a name="l04893"></a><span class="lineno"> 4893</span>&#160;  int64_t ImmBase = ImmOperandMI.<a class="code" href="classllvm_1_1MachineOperand.html#a38b28a85f818b49d8806c150b8a5b4f7">getImm</a>();</div>
<div class="line"><a name="l04894"></a><span class="lineno"> 4894</span>&#160;  int64_t <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> = 0;</div>
<div class="line"><a name="l04895"></a><span class="lineno"> 4895</span>&#160;  <span class="keywordflow">if</span> (!isImmElgibleForForwarding(*ImmMO, <a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a>, III, <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>, ImmBase))</div>
<div class="line"><a name="l04896"></a><span class="lineno"> 4896</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04897"></a><span class="lineno"> 4897</span>&#160; </div>
<div class="line"><a name="l04898"></a><span class="lineno"> 4898</span>&#160;  <span class="comment">// Get killed info in case fixup needed after transformation.</span></div>
<div class="line"><a name="l04899"></a><span class="lineno"> 4899</span>&#160;  <span class="keywordtype">unsigned</span> ForwardKilledOperandReg = ~0U;</div>
<div class="line"><a name="l04900"></a><span class="lineno"> 4900</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a528b7ccd92e952d902dd916aa4c0ad4b">OpNoForForwarding</a>).isKill())</div>
<div class="line"><a name="l04901"></a><span class="lineno"> 4901</span>&#160;    ForwardKilledOperandReg = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a528b7ccd92e952d902dd916aa4c0ad4b">OpNoForForwarding</a>).getReg();</div>
<div class="line"><a name="l04902"></a><span class="lineno"> 4902</span>&#160; </div>
<div class="line"><a name="l04903"></a><span class="lineno"> 4903</span>&#160;  <span class="comment">// Do the transform</span></div>
<div class="line"><a name="l04904"></a><span class="lineno"> 4904</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Replacing existing reg+imm instruction:\n&quot;</span>);</div>
<div class="line"><a name="l04905"></a><span class="lineno"> 4905</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.<a class="code" href="classllvm_1_1Pass.html#aa26f1f3bfe5b5022b1bd495151b3757a">dump</a>());</div>
<div class="line"><a name="l04906"></a><span class="lineno"> 4906</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Fed by:\n&quot;</span>);</div>
<div class="line"><a name="l04907"></a><span class="lineno"> 4907</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a>.dump());</div>
<div class="line"><a name="l04908"></a><span class="lineno"> 4908</span>&#160; </div>
<div class="line"><a name="l04909"></a><span class="lineno"> 4909</span>&#160;  <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a528b7ccd92e952d902dd916aa4c0ad4b">OpNoForForwarding</a>).setReg(RegMO-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>());</div>
<div class="line"><a name="l04910"></a><span class="lineno"> 4910</span>&#160;  <span class="keywordflow">if</span> (RegMO-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#a4046212ebc647b17e811837ae4ea3afd">isKill</a>()) {</div>
<div class="line"><a name="l04911"></a><span class="lineno"> 4911</span>&#160;    <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a528b7ccd92e952d902dd916aa4c0ad4b">OpNoForForwarding</a>).setIsKill(<span class="keyword">true</span>);</div>
<div class="line"><a name="l04912"></a><span class="lineno"> 4912</span>&#160;    <span class="comment">// Clear the killed flag in RegMO. Doing this here can handle some cases</span></div>
<div class="line"><a name="l04913"></a><span class="lineno"> 4913</span>&#160;    <span class="comment">// that DefMI and MI are not in same basic block.</span></div>
<div class="line"><a name="l04914"></a><span class="lineno"> 4914</span>&#160;    RegMO-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#a8a82683fccdef8a5ef772ef03277aee7">setIsKill</a>(<span class="keyword">false</span>);</div>
<div class="line"><a name="l04915"></a><span class="lineno"> 4915</span>&#160;  }</div>
<div class="line"><a name="l04916"></a><span class="lineno"> 4916</span>&#160;  <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a3c87effe0ac9501aee6aa53828a65c0c">ImmOpNo</a>).setImm(<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>);</div>
<div class="line"><a name="l04917"></a><span class="lineno"> 4917</span>&#160; </div>
<div class="line"><a name="l04918"></a><span class="lineno"> 4918</span>&#160;  <span class="comment">// FIXME: fix kill/dead flag if MI and DefMI are not in same basic block.</span></div>
<div class="line"><a name="l04919"></a><span class="lineno"> 4919</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a>.getParent() == <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getParent()) {</div>
<div class="line"><a name="l04920"></a><span class="lineno"> 4920</span>&#160;    <span class="comment">// Check if reg is killed between MI and DefMI.</span></div>
<div class="line"><a name="l04921"></a><span class="lineno"> 4921</span>&#160;    <span class="keyword">auto</span> IsKilledFor = [&amp;](<span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>) {</div>
<div class="line"><a name="l04922"></a><span class="lineno"> 4922</span>&#160;      <a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::const_reverse_iterator</a> It = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>;</div>
<div class="line"><a name="l04923"></a><span class="lineno"> 4923</span>&#160;      <a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::const_reverse_iterator</a> <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = <a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a>;</div>
<div class="line"><a name="l04924"></a><span class="lineno"> 4924</span>&#160;      It++;</div>
<div class="line"><a name="l04925"></a><span class="lineno"> 4925</span>&#160;      <span class="keywordflow">for</span> (; It != <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>; ++It) {</div>
<div class="line"><a name="l04926"></a><span class="lineno"> 4926</span>&#160;        <span class="keywordflow">if</span> (It-&gt;killsRegister(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>))</div>
<div class="line"><a name="l04927"></a><span class="lineno"> 4927</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l04928"></a><span class="lineno"> 4928</span>&#160;      }</div>
<div class="line"><a name="l04929"></a><span class="lineno"> 4929</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04930"></a><span class="lineno"> 4930</span>&#160;    };</div>
<div class="line"><a name="l04931"></a><span class="lineno"> 4931</span>&#160; </div>
<div class="line"><a name="l04932"></a><span class="lineno"> 4932</span>&#160;    <span class="comment">// Update kill flag</span></div>
<div class="line"><a name="l04933"></a><span class="lineno"> 4933</span>&#160;    <span class="keywordflow">if</span> (RegMO-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#a4046212ebc647b17e811837ae4ea3afd">isKill</a>() || IsKilledFor(RegMO-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>()))</div>
<div class="line"><a name="l04934"></a><span class="lineno"> 4934</span>&#160;      <a class="code" href="classllvm_1_1PPCInstrInfo.html#a360d9458a82cc4a80442ad84450945e1">fixupIsDeadOrKill</a>(&amp;<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a>, &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, RegMO-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>());</div>
<div class="line"><a name="l04935"></a><span class="lineno"> 4935</span>&#160;    <span class="keywordflow">if</span> (ForwardKilledOperandReg != ~0U)</div>
<div class="line"><a name="l04936"></a><span class="lineno"> 4936</span>&#160;      <a class="code" href="classllvm_1_1PPCInstrInfo.html#a360d9458a82cc4a80442ad84450945e1">fixupIsDeadOrKill</a>(&amp;<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a>, &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, ForwardKilledOperandReg);</div>
<div class="line"><a name="l04937"></a><span class="lineno"> 4937</span>&#160;  }</div>
<div class="line"><a name="l04938"></a><span class="lineno"> 4938</span>&#160; </div>
<div class="line"><a name="l04939"></a><span class="lineno"> 4939</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;With:\n&quot;</span>);</div>
<div class="line"><a name="l04940"></a><span class="lineno"> 4940</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.<a class="code" href="classllvm_1_1Pass.html#aa26f1f3bfe5b5022b1bd495151b3757a">dump</a>());</div>
<div class="line"><a name="l04941"></a><span class="lineno"> 4941</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l04942"></a><span class="lineno"> 4942</span>&#160;}</div>
<div class="line"><a name="l04943"></a><span class="lineno"> 4943</span>&#160; </div>
<div class="line"><a name="l04944"></a><span class="lineno"> 4944</span>&#160;<span class="comment">// If an X-Form instruction is fed by an add-immediate and one of its operands</span></div>
<div class="line"><a name="l04945"></a><span class="lineno"> 4945</span>&#160;<span class="comment">// is the literal zero, attempt to forward the source of the add-immediate to</span></div>
<div class="line"><a name="l04946"></a><span class="lineno"> 4946</span>&#160;<span class="comment">// the corresponding D-Form instruction with the displacement coming from</span></div>
<div class="line"><a name="l04947"></a><span class="lineno"> 4947</span>&#160;<span class="comment">// the immediate being added.</span></div>
<div class="line"><a name="l04948"></a><span class="lineno"> 4948</span>&#160;<span class="keywordtype">bool</span> PPCInstrInfo::transformToImmFormFedByAdd(</div>
<div class="line"><a name="l04949"></a><span class="lineno"> 4949</span>&#160;    <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <span class="keyword">const</span> <a class="code" href="structllvm_1_1ImmInstrInfo.html">ImmInstrInfo</a> &amp;III, <span class="keywordtype">unsigned</span> OpNoForForwarding,</div>
<div class="line"><a name="l04950"></a><span class="lineno"> 4950</span>&#160;    <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a>, <span class="keywordtype">bool</span> KillDefMI)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l04951"></a><span class="lineno"> 4951</span>&#160;  <span class="comment">//         RegMO ImmMO</span></div>
<div class="line"><a name="l04952"></a><span class="lineno"> 4952</span>&#160;  <span class="comment">//           |    |</span></div>
<div class="line"><a name="l04953"></a><span class="lineno"> 4953</span>&#160;  <span class="comment">// x = addi reg, imm  &lt;----- DefMI</span></div>
<div class="line"><a name="l04954"></a><span class="lineno"> 4954</span>&#160;  <span class="comment">// y = op    0 ,  x   &lt;----- MI</span></div>
<div class="line"><a name="l04955"></a><span class="lineno"> 4955</span>&#160;  <span class="comment">//                |</span></div>
<div class="line"><a name="l04956"></a><span class="lineno"> 4956</span>&#160;  <span class="comment">//         OpNoForForwarding</span></div>
<div class="line"><a name="l04957"></a><span class="lineno"> 4957</span>&#160;  <span class="comment">// Check if the MI meet the requirement described in the III.</span></div>
<div class="line"><a name="l04958"></a><span class="lineno"> 4958</span>&#160;  <span class="keywordflow">if</span> (!isUseMIElgibleForForwarding(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, III, OpNoForForwarding))</div>
<div class="line"><a name="l04959"></a><span class="lineno"> 4959</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04960"></a><span class="lineno"> 4960</span>&#160; </div>
<div class="line"><a name="l04961"></a><span class="lineno"> 4961</span>&#160;  <span class="comment">// Check if the DefMI meet the requirement</span></div>
<div class="line"><a name="l04962"></a><span class="lineno"> 4962</span>&#160;  <span class="comment">// described in the III. If yes, set the ImmMO and RegMO accordingly.</span></div>
<div class="line"><a name="l04963"></a><span class="lineno"> 4963</span>&#160;  <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> *ImmMO = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l04964"></a><span class="lineno"> 4964</span>&#160;  <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> *RegMO = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l04965"></a><span class="lineno"> 4965</span>&#160;  <span class="keywordflow">if</span> (!isDefMIElgibleForForwarding(<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a>, III, ImmMO, RegMO))</div>
<div class="line"><a name="l04966"></a><span class="lineno"> 4966</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04967"></a><span class="lineno"> 4967</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(ImmMO &amp;&amp; RegMO &amp;&amp; <span class="stringliteral">&quot;Imm and Reg operand must have been set&quot;</span>);</div>
<div class="line"><a name="l04968"></a><span class="lineno"> 4968</span>&#160; </div>
<div class="line"><a name="l04969"></a><span class="lineno"> 4969</span>&#160;  <span class="comment">// As we get the Imm operand now, we need to check if the ImmMO meet</span></div>
<div class="line"><a name="l04970"></a><span class="lineno"> 4970</span>&#160;  <span class="comment">// the requirement described in the III. If yes set the Imm.</span></div>
<div class="line"><a name="l04971"></a><span class="lineno"> 4971</span>&#160;  int64_t <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> = 0;</div>
<div class="line"><a name="l04972"></a><span class="lineno"> 4972</span>&#160;  <span class="keywordflow">if</span> (!isImmElgibleForForwarding(*ImmMO, <a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a>, III, <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>))</div>
<div class="line"><a name="l04973"></a><span class="lineno"> 4973</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04974"></a><span class="lineno"> 4974</span>&#160; </div>
<div class="line"><a name="l04975"></a><span class="lineno"> 4975</span>&#160;  <span class="keywordtype">bool</span> IsFwdFeederRegKilled = <span class="keyword">false</span>;</div>
<div class="line"><a name="l04976"></a><span class="lineno"> 4976</span>&#160;  <span class="keywordtype">bool</span> SeenIntermediateUse = <span class="keyword">false</span>;</div>
<div class="line"><a name="l04977"></a><span class="lineno"> 4977</span>&#160;  <span class="comment">// Check if the RegMO can be forwarded to MI.</span></div>
<div class="line"><a name="l04978"></a><span class="lineno"> 4978</span>&#160;  <span class="keywordflow">if</span> (!isRegElgibleForForwarding(*RegMO, <a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, KillDefMI,</div>
<div class="line"><a name="l04979"></a><span class="lineno"> 4979</span>&#160;                                 IsFwdFeederRegKilled, SeenIntermediateUse))</div>
<div class="line"><a name="l04980"></a><span class="lineno"> 4980</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04981"></a><span class="lineno"> 4981</span>&#160; </div>
<div class="line"><a name="l04982"></a><span class="lineno"> 4982</span>&#160;  <span class="comment">// Get killed info in case fixup needed after transformation.</span></div>
<div class="line"><a name="l04983"></a><span class="lineno"> 4983</span>&#160;  <span class="keywordtype">unsigned</span> ForwardKilledOperandReg = ~0U;</div>
<div class="line"><a name="l04984"></a><span class="lineno"> 4984</span>&#160;  <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a> = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getParent()-&gt;getParent()-&gt;getRegInfo();</div>
<div class="line"><a name="l04985"></a><span class="lineno"> 4985</span>&#160;  <span class="keywordtype">bool</span> PostRA = !<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a86dd1b4ce6ff2d4a0b4593c5f7b2a3fd">isSSA</a>();</div>
<div class="line"><a name="l04986"></a><span class="lineno"> 4986</span>&#160;  <span class="keywordflow">if</span> (PostRA &amp;&amp; <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(OpNoForForwarding).isKill())</div>
<div class="line"><a name="l04987"></a><span class="lineno"> 4987</span>&#160;    ForwardKilledOperandReg = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(OpNoForForwarding).getReg();</div>
<div class="line"><a name="l04988"></a><span class="lineno"> 4988</span>&#160; </div>
<div class="line"><a name="l04989"></a><span class="lineno"> 4989</span>&#160;  <span class="comment">// We know that, the MI and DefMI both meet the pattern, and</span></div>
<div class="line"><a name="l04990"></a><span class="lineno"> 4990</span>&#160;  <span class="comment">// the Imm also meet the requirement with the new Imm-form.</span></div>
<div class="line"><a name="l04991"></a><span class="lineno"> 4991</span>&#160;  <span class="comment">// It is safe to do the transformation now.</span></div>
<div class="line"><a name="l04992"></a><span class="lineno"> 4992</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Replacing indexed instruction:\n&quot;</span>);</div>
<div class="line"><a name="l04993"></a><span class="lineno"> 4993</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.<a class="code" href="classllvm_1_1Pass.html#aa26f1f3bfe5b5022b1bd495151b3757a">dump</a>());</div>
<div class="line"><a name="l04994"></a><span class="lineno"> 4994</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Fed by:\n&quot;</span>);</div>
<div class="line"><a name="l04995"></a><span class="lineno"> 4995</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a>.dump());</div>
<div class="line"><a name="l04996"></a><span class="lineno"> 4996</span>&#160; </div>
<div class="line"><a name="l04997"></a><span class="lineno"> 4997</span>&#160;  <span class="comment">// Update the base reg first.</span></div>
<div class="line"><a name="l04998"></a><span class="lineno"> 4998</span>&#160;  <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a528b7ccd92e952d902dd916aa4c0ad4b">OpNoForForwarding</a>).ChangeToRegister(RegMO-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>(),</div>
<div class="line"><a name="l04999"></a><span class="lineno"> 4999</span>&#160;                                                        <span class="keyword">false</span>, <span class="keyword">false</span>,</div>
<div class="line"><a name="l05000"></a><span class="lineno"> 5000</span>&#160;                                                        RegMO-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#a4046212ebc647b17e811837ae4ea3afd">isKill</a>());</div>
<div class="line"><a name="l05001"></a><span class="lineno"> 5001</span>&#160; </div>
<div class="line"><a name="l05002"></a><span class="lineno"> 5002</span>&#160;  <span class="comment">// Then, update the imm.</span></div>
<div class="line"><a name="l05003"></a><span class="lineno"> 5003</span>&#160;  <span class="keywordflow">if</span> (ImmMO-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#a76f61c6784df6dc8402a8b9011041926">isImm</a>()) {</div>
<div class="line"><a name="l05004"></a><span class="lineno"> 5004</span>&#160;    <span class="comment">// If the ImmMO is Imm, change the operand that has ZERO to that Imm</span></div>
<div class="line"><a name="l05005"></a><span class="lineno"> 5005</span>&#160;    <span class="comment">// directly.</span></div>
<div class="line"><a name="l05006"></a><span class="lineno"> 5006</span>&#160;    <a class="code" href="classllvm_1_1PPCInstrInfo.html#ad6408dc62ff8fa8de6c9c6daa57b897f">replaceInstrOperandWithImm</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#ace8444c8f03d1c0079250b15cd607337">ZeroIsSpecialOrig</a>, <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>);</div>
<div class="line"><a name="l05007"></a><span class="lineno"> 5007</span>&#160;  }</div>
<div class="line"><a name="l05008"></a><span class="lineno"> 5008</span>&#160;  <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l05009"></a><span class="lineno"> 5009</span>&#160;    <span class="comment">// Otherwise, it is Constant Pool Index(CPI) or Global,</span></div>
<div class="line"><a name="l05010"></a><span class="lineno"> 5010</span>&#160;    <span class="comment">// which is relocation in fact. We need to replace the special zero</span></div>
<div class="line"><a name="l05011"></a><span class="lineno"> 5011</span>&#160;    <span class="comment">// register with ImmMO.</span></div>
<div class="line"><a name="l05012"></a><span class="lineno"> 5012</span>&#160;    <span class="comment">// Before that, we need to fixup the target flags for imm.</span></div>
<div class="line"><a name="l05013"></a><span class="lineno"> 5013</span>&#160;    <span class="comment">// For some reason, we miss to set the flag for the ImmMO if it is CPI.</span></div>
<div class="line"><a name="l05014"></a><span class="lineno"> 5014</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a>.getOpcode() == PPC::ADDItocL)</div>
<div class="line"><a name="l05015"></a><span class="lineno"> 5015</span>&#160;      ImmMO-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#ad407b071bad6c9a435cade250ec8c8b6">setTargetFlags</a>(<a class="code" href="namespacellvm_1_1PPCII.html#ae73836094d8b0399ba10a6e540a363ffad512bc138c5c6766b7ee4f66e43d47b4">PPCII::MO_TOC_LO</a>);</div>
<div class="line"><a name="l05016"></a><span class="lineno"> 5016</span>&#160; </div>
<div class="line"><a name="l05017"></a><span class="lineno"> 5017</span>&#160;    <span class="comment">// MI didn&#39;t have the interface such as MI.setOperand(i) though</span></div>
<div class="line"><a name="l05018"></a><span class="lineno"> 5018</span>&#160;    <span class="comment">// it has MI.getOperand(i). To repalce the ZERO MachineOperand with</span></div>
<div class="line"><a name="l05019"></a><span class="lineno"> 5019</span>&#160;    <span class="comment">// ImmMO, we need to remove ZERO operand and all the operands behind it,</span></div>
<div class="line"><a name="l05020"></a><span class="lineno"> 5020</span>&#160;    <span class="comment">// and, add the ImmMO, then, move back all the operands behind ZERO.</span></div>
<div class="line"><a name="l05021"></a><span class="lineno"> 5021</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;MachineOperand, 2&gt;</a> MOps;</div>
<div class="line"><a name="l05022"></a><span class="lineno"> 5022</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getNumOperands() - 1; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> &gt;= III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#ace8444c8f03d1c0079250b15cd607337">ZeroIsSpecialOrig</a>; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>--) {</div>
<div class="line"><a name="l05023"></a><span class="lineno"> 5023</span>&#160;      MOps.push_back(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>));</div>
<div class="line"><a name="l05024"></a><span class="lineno"> 5024</span>&#160;      <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.removeOperand(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l05025"></a><span class="lineno"> 5025</span>&#160;    }</div>
<div class="line"><a name="l05026"></a><span class="lineno"> 5026</span>&#160; </div>
<div class="line"><a name="l05027"></a><span class="lineno"> 5027</span>&#160;    <span class="comment">// Remove the last MO in the list, which is ZERO operand in fact.</span></div>
<div class="line"><a name="l05028"></a><span class="lineno"> 5028</span>&#160;    MOps.pop_back();</div>
<div class="line"><a name="l05029"></a><span class="lineno"> 5029</span>&#160;    <span class="comment">// Add the imm operand.</span></div>
<div class="line"><a name="l05030"></a><span class="lineno"> 5030</span>&#160;    <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.addOperand(*ImmMO);</div>
<div class="line"><a name="l05031"></a><span class="lineno"> 5031</span>&#160;    <span class="comment">// Now add the rest back.</span></div>
<div class="line"><a name="l05032"></a><span class="lineno"> 5032</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;MO : MOps)</div>
<div class="line"><a name="l05033"></a><span class="lineno"> 5033</span>&#160;      <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.addOperand(MO);</div>
<div class="line"><a name="l05034"></a><span class="lineno"> 5034</span>&#160;  }</div>
<div class="line"><a name="l05035"></a><span class="lineno"> 5035</span>&#160; </div>
<div class="line"><a name="l05036"></a><span class="lineno"> 5036</span>&#160;  <span class="comment">// Update the opcode.</span></div>
<div class="line"><a name="l05037"></a><span class="lineno"> 5037</span>&#160;  <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.setDesc(<a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a1efa58146b5134a31174c35b39cb6bd4">ImmOpcode</a>));</div>
<div class="line"><a name="l05038"></a><span class="lineno"> 5038</span>&#160; </div>
<div class="line"><a name="l05039"></a><span class="lineno"> 5039</span>&#160;  <span class="comment">// Fix up killed/dead flag after transformation.</span></div>
<div class="line"><a name="l05040"></a><span class="lineno"> 5040</span>&#160;  <span class="comment">// Pattern 1:</span></div>
<div class="line"><a name="l05041"></a><span class="lineno"> 5041</span>&#160;  <span class="comment">// x = ADD KilledFwdFeederReg, imm</span></div>
<div class="line"><a name="l05042"></a><span class="lineno"> 5042</span>&#160;  <span class="comment">// n = opn KilledFwdFeederReg(killed), regn</span></div>
<div class="line"><a name="l05043"></a><span class="lineno"> 5043</span>&#160;  <span class="comment">// y = XOP 0, x</span></div>
<div class="line"><a name="l05044"></a><span class="lineno"> 5044</span>&#160;  <span class="comment">// Pattern 2:</span></div>
<div class="line"><a name="l05045"></a><span class="lineno"> 5045</span>&#160;  <span class="comment">// x = ADD reg(killed), imm</span></div>
<div class="line"><a name="l05046"></a><span class="lineno"> 5046</span>&#160;  <span class="comment">// y = XOP 0, x</span></div>
<div class="line"><a name="l05047"></a><span class="lineno"> 5047</span>&#160;  <span class="keywordflow">if</span> (IsFwdFeederRegKilled || RegMO-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#a4046212ebc647b17e811837ae4ea3afd">isKill</a>())</div>
<div class="line"><a name="l05048"></a><span class="lineno"> 5048</span>&#160;    <a class="code" href="classllvm_1_1PPCInstrInfo.html#a360d9458a82cc4a80442ad84450945e1">fixupIsDeadOrKill</a>(&amp;<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a>, &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, RegMO-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>());</div>
<div class="line"><a name="l05049"></a><span class="lineno"> 5049</span>&#160;  <span class="comment">// Pattern 3:</span></div>
<div class="line"><a name="l05050"></a><span class="lineno"> 5050</span>&#160;  <span class="comment">// ForwardKilledOperandReg = ADD reg, imm</span></div>
<div class="line"><a name="l05051"></a><span class="lineno"> 5051</span>&#160;  <span class="comment">// y = XOP 0, ForwardKilledOperandReg(killed)</span></div>
<div class="line"><a name="l05052"></a><span class="lineno"> 5052</span>&#160;  <span class="keywordflow">if</span> (ForwardKilledOperandReg != ~0U)</div>
<div class="line"><a name="l05053"></a><span class="lineno"> 5053</span>&#160;    <a class="code" href="classllvm_1_1PPCInstrInfo.html#a360d9458a82cc4a80442ad84450945e1">fixupIsDeadOrKill</a>(&amp;<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a>, &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, ForwardKilledOperandReg);</div>
<div class="line"><a name="l05054"></a><span class="lineno"> 5054</span>&#160; </div>
<div class="line"><a name="l05055"></a><span class="lineno"> 5055</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;With:\n&quot;</span>);</div>
<div class="line"><a name="l05056"></a><span class="lineno"> 5056</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.<a class="code" href="classllvm_1_1Pass.html#aa26f1f3bfe5b5022b1bd495151b3757a">dump</a>());</div>
<div class="line"><a name="l05057"></a><span class="lineno"> 5057</span>&#160; </div>
<div class="line"><a name="l05058"></a><span class="lineno"> 5058</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l05059"></a><span class="lineno"> 5059</span>&#160;}</div>
<div class="line"><a name="l05060"></a><span class="lineno"> 5060</span>&#160; </div>
<div class="line"><a name="l05061"></a><span class="lineno"> 5061</span>&#160;<span class="keywordtype">bool</span> PPCInstrInfo::transformToImmFormFedByLI(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>,</div>
<div class="line"><a name="l05062"></a><span class="lineno"> 5062</span>&#160;                                             <span class="keyword">const</span> <a class="code" href="structllvm_1_1ImmInstrInfo.html">ImmInstrInfo</a> &amp;III,</div>
<div class="line"><a name="l05063"></a><span class="lineno"> 5063</span>&#160;                                             <span class="keywordtype">unsigned</span> ConstantOpNo,</div>
<div class="line"><a name="l05064"></a><span class="lineno"> 5064</span>&#160;                                             <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l05065"></a><span class="lineno"> 5065</span>&#160;  <span class="comment">// DefMI must be LI or LI8.</span></div>
<div class="line"><a name="l05066"></a><span class="lineno"> 5066</span>&#160;  <span class="keywordflow">if</span> ((<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a>.getOpcode() != PPC::LI &amp;&amp; <a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a>.getOpcode() != PPC::LI8) ||</div>
<div class="line"><a name="l05067"></a><span class="lineno"> 5067</span>&#160;      !<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a>.getOperand(1).isImm())</div>
<div class="line"><a name="l05068"></a><span class="lineno"> 5068</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05069"></a><span class="lineno"> 5069</span>&#160; </div>
<div class="line"><a name="l05070"></a><span class="lineno"> 5070</span>&#160;  <span class="comment">// Get Imm operand and Sign-extend to 64-bits.</span></div>
<div class="line"><a name="l05071"></a><span class="lineno"> 5071</span>&#160;  int64_t <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> = SignExtend64&lt;16&gt;(<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a>.getOperand(1).getImm());</div>
<div class="line"><a name="l05072"></a><span class="lineno"> 5072</span>&#160; </div>
<div class="line"><a name="l05073"></a><span class="lineno"> 5073</span>&#160;  <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a> = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getParent()-&gt;getParent()-&gt;getRegInfo();</div>
<div class="line"><a name="l05074"></a><span class="lineno"> 5074</span>&#160;  <span class="keywordtype">bool</span> PostRA = !<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a86dd1b4ce6ff2d4a0b4593c5f7b2a3fd">isSSA</a>();</div>
<div class="line"><a name="l05075"></a><span class="lineno"> 5075</span>&#160;  <span class="comment">// Exit early if we can&#39;t convert this.</span></div>
<div class="line"><a name="l05076"></a><span class="lineno"> 5076</span>&#160;  <span class="keywordflow">if</span> ((ConstantOpNo != III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a528b7ccd92e952d902dd916aa4c0ad4b">OpNoForForwarding</a>) &amp;&amp; !III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a606436aa8a72e17a56ccb60ffadd54f2">IsCommutative</a>)</div>
<div class="line"><a name="l05077"></a><span class="lineno"> 5077</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05078"></a><span class="lineno"> 5078</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> % III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a5dd4306fe361b27da876c8023b219a56">ImmMustBeMultipleOf</a>)</div>
<div class="line"><a name="l05079"></a><span class="lineno"> 5079</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05080"></a><span class="lineno"> 5080</span>&#160;  <span class="keywordflow">if</span> (III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#ac6c300b1cfe574d36fe8547c4470f661">TruncateImmTo</a>)</div>
<div class="line"><a name="l05081"></a><span class="lineno"> 5081</span>&#160;    <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> &amp;= ((1 &lt;&lt; III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#ac6c300b1cfe574d36fe8547c4470f661">TruncateImmTo</a>) - 1);</div>
<div class="line"><a name="l05082"></a><span class="lineno"> 5082</span>&#160;  <span class="keywordflow">if</span> (III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a0d02c7cf038307122fd7169fe910d72f">SignedImm</a>) {</div>
<div class="line"><a name="l05083"></a><span class="lineno"> 5083</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> ActualValue(64, <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>, <span class="keyword">true</span>);</div>
<div class="line"><a name="l05084"></a><span class="lineno"> 5084</span>&#160;    <span class="keywordflow">if</span> (!ActualValue.isSignedIntN(III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#aa50dc0db89af0c3fa23a670a65f4bea5">ImmWidth</a>))</div>
<div class="line"><a name="l05085"></a><span class="lineno"> 5085</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05086"></a><span class="lineno"> 5086</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l05087"></a><span class="lineno"> 5087</span>&#160;    <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> UnsignedMax = (1 &lt;&lt; III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#aa50dc0db89af0c3fa23a670a65f4bea5">ImmWidth</a>) - 1;</div>
<div class="line"><a name="l05088"></a><span class="lineno"> 5088</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a>)<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> &gt; UnsignedMax)</div>
<div class="line"><a name="l05089"></a><span class="lineno"> 5089</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05090"></a><span class="lineno"> 5090</span>&#160;  }</div>
<div class="line"><a name="l05091"></a><span class="lineno"> 5091</span>&#160; </div>
<div class="line"><a name="l05092"></a><span class="lineno"> 5092</span>&#160;  <span class="comment">// If we&#39;re post-RA, the instructions don&#39;t agree on whether register zero is</span></div>
<div class="line"><a name="l05093"></a><span class="lineno"> 5093</span>&#160;  <span class="comment">// special, we can transform this as long as the register operand that will</span></div>
<div class="line"><a name="l05094"></a><span class="lineno"> 5094</span>&#160;  <span class="comment">// end up in the location where zero is special isn&#39;t R0.</span></div>
<div class="line"><a name="l05095"></a><span class="lineno"> 5095</span>&#160;  <span class="keywordflow">if</span> (PostRA &amp;&amp; III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#ace8444c8f03d1c0079250b15cd607337">ZeroIsSpecialOrig</a> != III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#aae8bd368f3ad729fdc192b2eb4ca80bf">ZeroIsSpecialNew</a>) {</div>
<div class="line"><a name="l05096"></a><span class="lineno"> 5096</span>&#160;    <span class="keywordtype">unsigned</span> PosForOrigZero = III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#ace8444c8f03d1c0079250b15cd607337">ZeroIsSpecialOrig</a> ? III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#ace8444c8f03d1c0079250b15cd607337">ZeroIsSpecialOrig</a> :</div>
<div class="line"><a name="l05097"></a><span class="lineno"> 5097</span>&#160;      III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#aae8bd368f3ad729fdc192b2eb4ca80bf">ZeroIsSpecialNew</a> + 1;</div>
<div class="line"><a name="l05098"></a><span class="lineno"> 5098</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> OrigZeroReg = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(PosForOrigZero).getReg();</div>
<div class="line"><a name="l05099"></a><span class="lineno"> 5099</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> NewZeroReg = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#aae8bd368f3ad729fdc192b2eb4ca80bf">ZeroIsSpecialNew</a>).getReg();</div>
<div class="line"><a name="l05100"></a><span class="lineno"> 5100</span>&#160;    <span class="comment">// If R0 is in the operand where zero is special for the new instruction,</span></div>
<div class="line"><a name="l05101"></a><span class="lineno"> 5101</span>&#160;    <span class="comment">// it is unsafe to transform if the constant operand isn&#39;t that operand.</span></div>
<div class="line"><a name="l05102"></a><span class="lineno"> 5102</span>&#160;    <span class="keywordflow">if</span> ((NewZeroReg == PPC::R0 || NewZeroReg == PPC::X0) &amp;&amp;</div>
<div class="line"><a name="l05103"></a><span class="lineno"> 5103</span>&#160;        ConstantOpNo != III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#aae8bd368f3ad729fdc192b2eb4ca80bf">ZeroIsSpecialNew</a>)</div>
<div class="line"><a name="l05104"></a><span class="lineno"> 5104</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05105"></a><span class="lineno"> 5105</span>&#160;    <span class="keywordflow">if</span> ((OrigZeroReg == PPC::R0 || OrigZeroReg == PPC::X0) &amp;&amp;</div>
<div class="line"><a name="l05106"></a><span class="lineno"> 5106</span>&#160;        ConstantOpNo != PosForOrigZero)</div>
<div class="line"><a name="l05107"></a><span class="lineno"> 5107</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05108"></a><span class="lineno"> 5108</span>&#160;  }</div>
<div class="line"><a name="l05109"></a><span class="lineno"> 5109</span>&#160; </div>
<div class="line"><a name="l05110"></a><span class="lineno"> 5110</span>&#160;  <span class="comment">// Get killed info in case fixup needed after transformation.</span></div>
<div class="line"><a name="l05111"></a><span class="lineno"> 5111</span>&#160;  <span class="keywordtype">unsigned</span> ForwardKilledOperandReg = ~0U;</div>
<div class="line"><a name="l05112"></a><span class="lineno"> 5112</span>&#160;  <span class="keywordflow">if</span> (PostRA &amp;&amp; <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(ConstantOpNo).isKill())</div>
<div class="line"><a name="l05113"></a><span class="lineno"> 5113</span>&#160;    ForwardKilledOperandReg = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(ConstantOpNo).getReg();</div>
<div class="line"><a name="l05114"></a><span class="lineno"> 5114</span>&#160; </div>
<div class="line"><a name="l05115"></a><span class="lineno"> 5115</span>&#160;  <span class="keywordtype">unsigned</span> Opc = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode();</div>
<div class="line"><a name="l05116"></a><span class="lineno"> 5116</span>&#160;  <span class="keywordtype">bool</span> SpecialShift32 = Opc == PPC::SLW || Opc == PPC::SLW_rec ||</div>
<div class="line"><a name="l05117"></a><span class="lineno"> 5117</span>&#160;                        Opc == PPC::SRW || Opc == PPC::SRW_rec ||</div>
<div class="line"><a name="l05118"></a><span class="lineno"> 5118</span>&#160;                        Opc == PPC::SLW8 || Opc == PPC::SLW8_rec ||</div>
<div class="line"><a name="l05119"></a><span class="lineno"> 5119</span>&#160;                        Opc == PPC::SRW8 || Opc == PPC::SRW8_rec;</div>
<div class="line"><a name="l05120"></a><span class="lineno"> 5120</span>&#160;  <span class="keywordtype">bool</span> SpecialShift64 = Opc == PPC::SLD || Opc == PPC::SLD_rec ||</div>
<div class="line"><a name="l05121"></a><span class="lineno"> 5121</span>&#160;                        Opc == PPC::SRD || Opc == PPC::SRD_rec;</div>
<div class="line"><a name="l05122"></a><span class="lineno"> 5122</span>&#160;  <span class="keywordtype">bool</span> SetCR = Opc == PPC::SLW_rec || Opc == PPC::SRW_rec ||</div>
<div class="line"><a name="l05123"></a><span class="lineno"> 5123</span>&#160;               Opc == PPC::SLD_rec || Opc == PPC::SRD_rec;</div>
<div class="line"><a name="l05124"></a><span class="lineno"> 5124</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="namespacellvm_1_1ms__demangle.html#a851a17f7dc73f9988807242926dcc645a317d4a7487ee62605713987d4a037f83">RightShift</a> = Opc == PPC::SRW || Opc == PPC::SRW_rec || Opc == PPC::SRD ||</div>
<div class="line"><a name="l05125"></a><span class="lineno"> 5125</span>&#160;                    Opc == PPC::SRD_rec;</div>
<div class="line"><a name="l05126"></a><span class="lineno"> 5126</span>&#160; </div>
<div class="line"><a name="l05127"></a><span class="lineno"> 5127</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Replacing reg+reg instruction: &quot;</span>);</div>
<div class="line"><a name="l05128"></a><span class="lineno"> 5128</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.<a class="code" href="classllvm_1_1Pass.html#aa26f1f3bfe5b5022b1bd495151b3757a">dump</a>());</div>
<div class="line"><a name="l05129"></a><span class="lineno"> 5129</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Fed by load-immediate: &quot;</span>);</div>
<div class="line"><a name="l05130"></a><span class="lineno"> 5130</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a>.dump());</div>
<div class="line"><a name="l05131"></a><span class="lineno"> 5131</span>&#160;  <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.setDesc(<a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a1efa58146b5134a31174c35b39cb6bd4">ImmOpcode</a>));</div>
<div class="line"><a name="l05132"></a><span class="lineno"> 5132</span>&#160;  <span class="keywordflow">if</span> (ConstantOpNo == III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a528b7ccd92e952d902dd916aa4c0ad4b">OpNoForForwarding</a>) {</div>
<div class="line"><a name="l05133"></a><span class="lineno"> 5133</span>&#160;    <span class="comment">// Converting shifts to immediate form is a bit tricky since they may do</span></div>
<div class="line"><a name="l05134"></a><span class="lineno"> 5134</span>&#160;    <span class="comment">// one of three things:</span></div>
<div class="line"><a name="l05135"></a><span class="lineno"> 5135</span>&#160;    <span class="comment">// 1. If the shift amount is between OpSize and 2*OpSize, the result is zero</span></div>
<div class="line"><a name="l05136"></a><span class="lineno"> 5136</span>&#160;    <span class="comment">// 2. If the shift amount is zero, the result is unchanged (save for maybe</span></div>
<div class="line"><a name="l05137"></a><span class="lineno"> 5137</span>&#160;    <span class="comment">//    setting CR0)</span></div>
<div class="line"><a name="l05138"></a><span class="lineno"> 5138</span>&#160;    <span class="comment">// 3. If the shift amount is in [1, OpSize), it&#39;s just a shift</span></div>
<div class="line"><a name="l05139"></a><span class="lineno"> 5139</span>&#160;    <span class="keywordflow">if</span> (SpecialShift32 || SpecialShift64) {</div>
<div class="line"><a name="l05140"></a><span class="lineno"> 5140</span>&#160;      <a class="code" href="structllvm_1_1LoadImmediateInfo.html">LoadImmediateInfo</a> LII;</div>
<div class="line"><a name="l05141"></a><span class="lineno"> 5141</span>&#160;      LII.<a class="code" href="structllvm_1_1LoadImmediateInfo.html#aaf91f2e9fa96f015190607fb90e932b7">Imm</a> = 0;</div>
<div class="line"><a name="l05142"></a><span class="lineno"> 5142</span>&#160;      LII.<a class="code" href="structllvm_1_1LoadImmediateInfo.html#a66834eb3a0e2888f90445ced87675079">SetCR</a> = SetCR;</div>
<div class="line"><a name="l05143"></a><span class="lineno"> 5143</span>&#160;      LII.<a class="code" href="structllvm_1_1LoadImmediateInfo.html#acaf80d046c8829eb2e8f84a785ded662">Is64Bit</a> = SpecialShift64;</div>
<div class="line"><a name="l05144"></a><span class="lineno"> 5144</span>&#160;      <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> ShAmt = <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> &amp; (SpecialShift32 ? 0x1F : 0x3F);</div>
<div class="line"><a name="l05145"></a><span class="lineno"> 5145</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> &amp; (SpecialShift32 ? 0x20 : 0x40))</div>
<div class="line"><a name="l05146"></a><span class="lineno"> 5146</span>&#160;        <a class="code" href="classllvm_1_1PPCInstrInfo.html#ae0793a0ace15ba8cf0d9ee31e30dc2c5">replaceInstrWithLI</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, LII);</div>
<div class="line"><a name="l05147"></a><span class="lineno"> 5147</span>&#160;      <span class="comment">// Shifts by zero don&#39;t change the value. If we don&#39;t need to set CR0,</span></div>
<div class="line"><a name="l05148"></a><span class="lineno"> 5148</span>&#160;      <span class="comment">// just convert this to a COPY. Can&#39;t do this post-RA since we&#39;ve already</span></div>
<div class="line"><a name="l05149"></a><span class="lineno"> 5149</span>&#160;      <span class="comment">// cleaned up the copies.</span></div>
<div class="line"><a name="l05150"></a><span class="lineno"> 5150</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!SetCR &amp;&amp; ShAmt == 0 &amp;&amp; !PostRA) {</div>
<div class="line"><a name="l05151"></a><span class="lineno"> 5151</span>&#160;        <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.removeOperand(2);</div>
<div class="line"><a name="l05152"></a><span class="lineno"> 5152</span>&#160;        <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.setDesc(<a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(PPC::COPY));</div>
<div class="line"><a name="l05153"></a><span class="lineno"> 5153</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l05154"></a><span class="lineno"> 5154</span>&#160;        <span class="comment">// The 32 bit and 64 bit instructions are quite different.</span></div>
<div class="line"><a name="l05155"></a><span class="lineno"> 5155</span>&#160;        <span class="keywordflow">if</span> (SpecialShift32) {</div>
<div class="line"><a name="l05156"></a><span class="lineno"> 5156</span>&#160;          <span class="comment">// Left shifts use (N, 0, 31-N).</span></div>
<div class="line"><a name="l05157"></a><span class="lineno"> 5157</span>&#160;          <span class="comment">// Right shifts use (32-N, N, 31) if 0 &lt; N &lt; 32.</span></div>
<div class="line"><a name="l05158"></a><span class="lineno"> 5158</span>&#160;          <span class="comment">//              use (0, 0, 31)    if N == 0.</span></div>
<div class="line"><a name="l05159"></a><span class="lineno"> 5159</span>&#160;          <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> SH = ShAmt == 0 ? 0 : <a class="code" href="namespacellvm_1_1ms__demangle.html#a851a17f7dc73f9988807242926dcc645a317d4a7487ee62605713987d4a037f83">RightShift</a> ? 32 - ShAmt : ShAmt;</div>
<div class="line"><a name="l05160"></a><span class="lineno"> 5160</span>&#160;          <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> MB = <a class="code" href="namespacellvm_1_1ms__demangle.html#a851a17f7dc73f9988807242926dcc645a317d4a7487ee62605713987d4a037f83">RightShift</a> ? ShAmt : 0;</div>
<div class="line"><a name="l05161"></a><span class="lineno"> 5161</span>&#160;          <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> ME = <a class="code" href="namespacellvm_1_1ms__demangle.html#a851a17f7dc73f9988807242926dcc645a317d4a7487ee62605713987d4a037f83">RightShift</a> ? 31 : 31 - ShAmt;</div>
<div class="line"><a name="l05162"></a><span class="lineno"> 5162</span>&#160;          <a class="code" href="classllvm_1_1PPCInstrInfo.html#ad6408dc62ff8fa8de6c9c6daa57b897f">replaceInstrOperandWithImm</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a528b7ccd92e952d902dd916aa4c0ad4b">OpNoForForwarding</a>, SH);</div>
<div class="line"><a name="l05163"></a><span class="lineno"> 5163</span>&#160;          <a class="code" href="classllvm_1_1MachineInstrBuilder.html">MachineInstrBuilder</a>(*<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getParent()-&gt;getParent(), <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(MB)</div>
<div class="line"><a name="l05164"></a><span class="lineno"> 5164</span>&#160;            .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(ME);</div>
<div class="line"><a name="l05165"></a><span class="lineno"> 5165</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l05166"></a><span class="lineno"> 5166</span>&#160;          <span class="comment">// Left shifts use (N, 63-N).</span></div>
<div class="line"><a name="l05167"></a><span class="lineno"> 5167</span>&#160;          <span class="comment">// Right shifts use (64-N, N) if 0 &lt; N &lt; 64.</span></div>
<div class="line"><a name="l05168"></a><span class="lineno"> 5168</span>&#160;          <span class="comment">//              use (0, 0)    if N == 0.</span></div>
<div class="line"><a name="l05169"></a><span class="lineno"> 5169</span>&#160;          <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> SH = ShAmt == 0 ? 0 : <a class="code" href="namespacellvm_1_1ms__demangle.html#a851a17f7dc73f9988807242926dcc645a317d4a7487ee62605713987d4a037f83">RightShift</a> ? 64 - ShAmt : ShAmt;</div>
<div class="line"><a name="l05170"></a><span class="lineno"> 5170</span>&#160;          <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> ME = <a class="code" href="namespacellvm_1_1ms__demangle.html#a851a17f7dc73f9988807242926dcc645a317d4a7487ee62605713987d4a037f83">RightShift</a> ? ShAmt : 63 - ShAmt;</div>
<div class="line"><a name="l05171"></a><span class="lineno"> 5171</span>&#160;          <a class="code" href="classllvm_1_1PPCInstrInfo.html#ad6408dc62ff8fa8de6c9c6daa57b897f">replaceInstrOperandWithImm</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a528b7ccd92e952d902dd916aa4c0ad4b">OpNoForForwarding</a>, SH);</div>
<div class="line"><a name="l05172"></a><span class="lineno"> 5172</span>&#160;          <a class="code" href="classllvm_1_1MachineInstrBuilder.html">MachineInstrBuilder</a>(*<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getParent()-&gt;getParent(), <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(ME);</div>
<div class="line"><a name="l05173"></a><span class="lineno"> 5173</span>&#160;        }</div>
<div class="line"><a name="l05174"></a><span class="lineno"> 5174</span>&#160;      }</div>
<div class="line"><a name="l05175"></a><span class="lineno"> 5175</span>&#160;    } <span class="keywordflow">else</span></div>
<div class="line"><a name="l05176"></a><span class="lineno"> 5176</span>&#160;      <a class="code" href="classllvm_1_1PPCInstrInfo.html#ad6408dc62ff8fa8de6c9c6daa57b897f">replaceInstrOperandWithImm</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, ConstantOpNo, <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>);</div>
<div class="line"><a name="l05177"></a><span class="lineno"> 5177</span>&#160;  }</div>
<div class="line"><a name="l05178"></a><span class="lineno"> 5178</span>&#160;  <span class="comment">// Convert commutative instructions (switch the operands and convert the</span></div>
<div class="line"><a name="l05179"></a><span class="lineno"> 5179</span>&#160;  <span class="comment">// desired one to an immediate.</span></div>
<div class="line"><a name="l05180"></a><span class="lineno"> 5180</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a606436aa8a72e17a56ccb60ffadd54f2">IsCommutative</a>) {</div>
<div class="line"><a name="l05181"></a><span class="lineno"> 5181</span>&#160;    <a class="code" href="classllvm_1_1PPCInstrInfo.html#ad6408dc62ff8fa8de6c9c6daa57b897f">replaceInstrOperandWithImm</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, ConstantOpNo, <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>);</div>
<div class="line"><a name="l05182"></a><span class="lineno"> 5182</span>&#160;    <a class="code" href="PPCInstrInfo_8cpp.html#af6776e5555063ea14c4668a4bcacae27">swapMIOperands</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, ConstantOpNo, III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a528b7ccd92e952d902dd916aa4c0ad4b">OpNoForForwarding</a>);</div>
<div class="line"><a name="l05183"></a><span class="lineno"> 5183</span>&#160;  } <span class="keywordflow">else</span></div>
<div class="line"><a name="l05184"></a><span class="lineno"> 5184</span>&#160;    <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Should have exited early!&quot;</span>);</div>
<div class="line"><a name="l05185"></a><span class="lineno"> 5185</span>&#160; </div>
<div class="line"><a name="l05186"></a><span class="lineno"> 5186</span>&#160;  <span class="comment">// For instructions for which the constant register replaces a different</span></div>
<div class="line"><a name="l05187"></a><span class="lineno"> 5187</span>&#160;  <span class="comment">// operand than where the immediate goes, we need to swap them.</span></div>
<div class="line"><a name="l05188"></a><span class="lineno"> 5188</span>&#160;  <span class="keywordflow">if</span> (III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a528b7ccd92e952d902dd916aa4c0ad4b">OpNoForForwarding</a> != III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a3c87effe0ac9501aee6aa53828a65c0c">ImmOpNo</a>)</div>
<div class="line"><a name="l05189"></a><span class="lineno"> 5189</span>&#160;    <a class="code" href="PPCInstrInfo_8cpp.html#af6776e5555063ea14c4668a4bcacae27">swapMIOperands</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a528b7ccd92e952d902dd916aa4c0ad4b">OpNoForForwarding</a>, III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#a3c87effe0ac9501aee6aa53828a65c0c">ImmOpNo</a>);</div>
<div class="line"><a name="l05190"></a><span class="lineno"> 5190</span>&#160; </div>
<div class="line"><a name="l05191"></a><span class="lineno"> 5191</span>&#160;  <span class="comment">// If the special R0/X0 register index are different for original instruction</span></div>
<div class="line"><a name="l05192"></a><span class="lineno"> 5192</span>&#160;  <span class="comment">// and new instruction, we need to fix up the register class in new</span></div>
<div class="line"><a name="l05193"></a><span class="lineno"> 5193</span>&#160;  <span class="comment">// instruction.</span></div>
<div class="line"><a name="l05194"></a><span class="lineno"> 5194</span>&#160;  <span class="keywordflow">if</span> (!PostRA &amp;&amp; III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#ace8444c8f03d1c0079250b15cd607337">ZeroIsSpecialOrig</a> != III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#aae8bd368f3ad729fdc192b2eb4ca80bf">ZeroIsSpecialNew</a>) {</div>
<div class="line"><a name="l05195"></a><span class="lineno"> 5195</span>&#160;    <span class="keywordflow">if</span> (III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#aae8bd368f3ad729fdc192b2eb4ca80bf">ZeroIsSpecialNew</a>) {</div>
<div class="line"><a name="l05196"></a><span class="lineno"> 5196</span>&#160;      <span class="comment">// If operand at III.ZeroIsSpecialNew is physical reg(eg: ZERO/ZERO8), no</span></div>
<div class="line"><a name="l05197"></a><span class="lineno"> 5197</span>&#160;      <span class="comment">// need to fix up register class.</span></div>
<div class="line"><a name="l05198"></a><span class="lineno"> 5198</span>&#160;      <a class="code" href="classllvm_1_1Register.html">Register</a> RegToModify = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(III.<a class="code" href="structllvm_1_1ImmInstrInfo.html#aae8bd368f3ad729fdc192b2eb4ca80bf">ZeroIsSpecialNew</a>).getReg();</div>
<div class="line"><a name="l05199"></a><span class="lineno"> 5199</span>&#160;      <span class="keywordflow">if</span> (RegToModify.<a class="code" href="classllvm_1_1Register.html#aebafd86dde59b5a05b22e8720e808a9d">isVirtual</a>()) {</div>
<div class="line"><a name="l05200"></a><span class="lineno"> 5200</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *NewRC =</div>
<div class="line"><a name="l05201"></a><span class="lineno"> 5201</span>&#160;          <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#aa363afffca4fc13a709673936b47fe33">getRegClass</a>(RegToModify)-&gt;<a class="code" href="classllvm_1_1TargetRegisterClass.html#abee1c3236731101b249f6eeffd8cd7ba">hasSuperClassEq</a>(&amp;PPC::GPRCRegClass) ?</div>
<div class="line"><a name="l05202"></a><span class="lineno"> 5202</span>&#160;          &amp;PPC::GPRC_and_GPRC_NOR0RegClass : &amp;PPC::G8RC_and_G8RC_NOX0RegClass;</div>
<div class="line"><a name="l05203"></a><span class="lineno"> 5203</span>&#160;        <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a965a15cef77a97f0e17f9f26fd5be53e">setRegClass</a>(RegToModify, NewRC);</div>
<div class="line"><a name="l05204"></a><span class="lineno"> 5204</span>&#160;      }</div>
<div class="line"><a name="l05205"></a><span class="lineno"> 5205</span>&#160;    }</div>
<div class="line"><a name="l05206"></a><span class="lineno"> 5206</span>&#160;  }</div>
<div class="line"><a name="l05207"></a><span class="lineno"> 5207</span>&#160; </div>
<div class="line"><a name="l05208"></a><span class="lineno"> 5208</span>&#160;  <span class="comment">// Fix up killed/dead flag after transformation.</span></div>
<div class="line"><a name="l05209"></a><span class="lineno"> 5209</span>&#160;  <span class="comment">// Pattern:</span></div>
<div class="line"><a name="l05210"></a><span class="lineno"> 5210</span>&#160;  <span class="comment">// ForwardKilledOperandReg = LI imm</span></div>
<div class="line"><a name="l05211"></a><span class="lineno"> 5211</span>&#160;  <span class="comment">// y = XOP reg, ForwardKilledOperandReg(killed)</span></div>
<div class="line"><a name="l05212"></a><span class="lineno"> 5212</span>&#160;  <span class="keywordflow">if</span> (ForwardKilledOperandReg != ~0U)</div>
<div class="line"><a name="l05213"></a><span class="lineno"> 5213</span>&#160;    <a class="code" href="classllvm_1_1PPCInstrInfo.html#a360d9458a82cc4a80442ad84450945e1">fixupIsDeadOrKill</a>(&amp;<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a>, &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, ForwardKilledOperandReg);</div>
<div class="line"><a name="l05214"></a><span class="lineno"> 5214</span>&#160; </div>
<div class="line"><a name="l05215"></a><span class="lineno"> 5215</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;With: &quot;</span>);</div>
<div class="line"><a name="l05216"></a><span class="lineno"> 5216</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.<a class="code" href="classllvm_1_1Pass.html#aa26f1f3bfe5b5022b1bd495151b3757a">dump</a>());</div>
<div class="line"><a name="l05217"></a><span class="lineno"> 5217</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l05218"></a><span class="lineno"> 5218</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l05219"></a><span class="lineno"> 5219</span>&#160;}</div>
<div class="line"><a name="l05220"></a><span class="lineno"> 5220</span>&#160; </div>
<div class="line"><a name="l05221"></a><span class="lineno"> 5221</span>&#160;<span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *</div>
<div class="line"><a name="l05222"></a><span class="lineno"><a class="line" href="classllvm_1_1PPCInstrInfo.html#a111dcd9b1325e89d9724d5481ddcd1a9"> 5222</a></span>&#160;<a class="code" href="classllvm_1_1PPCInstrInfo.html#a111dcd9b1325e89d9724d5481ddcd1a9">PPCInstrInfo::updatedRC</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *RC)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l05223"></a><span class="lineno"> 5223</span>&#160;  <span class="keywordflow">if</span> (Subtarget.hasVSX() &amp;&amp; RC == &amp;PPC::VRRCRegClass)</div>
<div class="line"><a name="l05224"></a><span class="lineno"> 5224</span>&#160;    <span class="keywordflow">return</span> &amp;PPC::VSRCRegClass;</div>
<div class="line"><a name="l05225"></a><span class="lineno"> 5225</span>&#160;  <span class="keywordflow">return</span> RC;</div>
<div class="line"><a name="l05226"></a><span class="lineno"> 5226</span>&#160;}</div>
<div class="line"><a name="l05227"></a><span class="lineno"> 5227</span>&#160; </div>
<div class="line"><a name="l05228"></a><span class="lineno"><a class="line" href="classllvm_1_1PPCInstrInfo.html#a31fef05bbdd37ce0a7cf6ee85a6b5a9c"> 5228</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="classllvm_1_1PPCInstrInfo.html#a31fef05bbdd37ce0a7cf6ee85a6b5a9c">PPCInstrInfo::getRecordFormOpcode</a>(<span class="keywordtype">unsigned</span> Opcode) {</div>
<div class="line"><a name="l05229"></a><span class="lineno"> 5229</span>&#160;  <span class="keywordflow">return</span> PPC::getRecordFormOpcode(Opcode);</div>
<div class="line"><a name="l05230"></a><span class="lineno"> 5230</span>&#160;}</div>
<div class="line"><a name="l05231"></a><span class="lineno"> 5231</span>&#160; </div>
<div class="line"><a name="l05232"></a><span class="lineno"><a class="line" href="PPCInstrInfo_8cpp.html#a0956bda4b8b38d9eed44f4476d20ef12"> 5232</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="PPCInstrInfo_8cpp.html#a0956bda4b8b38d9eed44f4476d20ef12">isOpZeroOfSubwordPreincLoad</a>(<span class="keywordtype">int</span> Opcode) {</div>
<div class="line"><a name="l05233"></a><span class="lineno"> 5233</span>&#160;  <span class="keywordflow">return</span> (Opcode == PPC::LBZU || Opcode == PPC::LBZUX || Opcode == PPC::LBZU8 ||</div>
<div class="line"><a name="l05234"></a><span class="lineno"> 5234</span>&#160;          Opcode == PPC::LBZUX8 || Opcode == PPC::LHZU ||</div>
<div class="line"><a name="l05235"></a><span class="lineno"> 5235</span>&#160;          Opcode == PPC::LHZUX || Opcode == PPC::LHZU8 ||</div>
<div class="line"><a name="l05236"></a><span class="lineno"> 5236</span>&#160;          Opcode == PPC::LHZUX8);</div>
<div class="line"><a name="l05237"></a><span class="lineno"> 5237</span>&#160;}</div>
<div class="line"><a name="l05238"></a><span class="lineno"> 5238</span>&#160; </div>
<div class="line"><a name="l05239"></a><span class="lineno"> 5239</span>&#160;<span class="comment">// This function checks for sign extension from 32 bits to 64 bits.</span></div>
<div class="line"><a name="l05240"></a><span class="lineno"><a class="line" href="PPCInstrInfo_8cpp.html#af30edca8f8a971b32190acd67f8dbd1d"> 5240</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="PPCInstrInfo_8cpp.html#af30edca8f8a971b32190acd67f8dbd1d">definedBySignExtendingOp</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>,</div>
<div class="line"><a name="l05241"></a><span class="lineno"> 5241</span>&#160;                                     <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> *<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>) {</div>
<div class="line"><a name="l05242"></a><span class="lineno"> 5242</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1Register.html#ab94ac0eb79655589fb116359f862886c">Register::isVirtualRegister</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>))</div>
<div class="line"><a name="l05243"></a><span class="lineno"> 5243</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05244"></a><span class="lineno"> 5244</span>&#160; </div>
<div class="line"><a name="l05245"></a><span class="lineno"> 5245</span>&#160;  <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a> = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>-&gt;<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a40d954b9cf9ee8b545a78725f2549cba">getVRegDef</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>);</div>
<div class="line"><a name="l05246"></a><span class="lineno"> 5246</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>)</div>
<div class="line"><a name="l05247"></a><span class="lineno"> 5247</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05248"></a><span class="lineno"> 5248</span>&#160; </div>
<div class="line"><a name="l05249"></a><span class="lineno"> 5249</span>&#160;  <span class="keywordtype">int</span> Opcode = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getOpcode();</div>
<div class="line"><a name="l05250"></a><span class="lineno"> 5250</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1PPCInstrInfo.html">PPCInstrInfo</a> *<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a> =</div>
<div class="line"><a name="l05251"></a><span class="lineno"> 5251</span>&#160;      <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getMF()-&gt;getSubtarget&lt;<a class="code" href="classllvm_1_1PPCSubtarget.html">PPCSubtarget</a>&gt;().getInstrInfo();</div>
<div class="line"><a name="l05252"></a><span class="lineno"> 5252</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>-&gt;isSExt32To64(Opcode))</div>
<div class="line"><a name="l05253"></a><span class="lineno"> 5253</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l05254"></a><span class="lineno"> 5254</span>&#160; </div>
<div class="line"><a name="l05255"></a><span class="lineno"> 5255</span>&#160;  <span class="comment">// The first def of LBZU/LHZU is sign extended.</span></div>
<div class="line"><a name="l05256"></a><span class="lineno"> 5256</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="PPCInstrInfo_8cpp.html#a0956bda4b8b38d9eed44f4476d20ef12">isOpZeroOfSubwordPreincLoad</a>(Opcode) &amp;&amp; <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getOperand(0).getReg() == <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>)</div>
<div class="line"><a name="l05257"></a><span class="lineno"> 5257</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l05258"></a><span class="lineno"> 5258</span>&#160; </div>
<div class="line"><a name="l05259"></a><span class="lineno"> 5259</span>&#160;  <span class="comment">// RLDICL generates sign-extended output if it clears at least</span></div>
<div class="line"><a name="l05260"></a><span class="lineno"> 5260</span>&#160;  <span class="comment">// 33 bits from the left (MSB).</span></div>
<div class="line"><a name="l05261"></a><span class="lineno"> 5261</span>&#160;  <span class="keywordflow">if</span> (Opcode == PPC::RLDICL &amp;&amp; <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getOperand(3).getImm() &gt;= 33)</div>
<div class="line"><a name="l05262"></a><span class="lineno"> 5262</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l05263"></a><span class="lineno"> 5263</span>&#160; </div>
<div class="line"><a name="l05264"></a><span class="lineno"> 5264</span>&#160;  <span class="comment">// If at least one bit from left in a lower word is masked out,</span></div>
<div class="line"><a name="l05265"></a><span class="lineno"> 5265</span>&#160;  <span class="comment">// all of 0 to 32-th bits of the output are cleared.</span></div>
<div class="line"><a name="l05266"></a><span class="lineno"> 5266</span>&#160;  <span class="comment">// Hence the output is already sign extended.</span></div>
<div class="line"><a name="l05267"></a><span class="lineno"> 5267</span>&#160;  <span class="keywordflow">if</span> ((Opcode == PPC::RLWINM || Opcode == PPC::RLWINM_rec ||</div>
<div class="line"><a name="l05268"></a><span class="lineno"> 5268</span>&#160;       Opcode == PPC::RLWNM || Opcode == PPC::RLWNM_rec) &amp;&amp;</div>
<div class="line"><a name="l05269"></a><span class="lineno"> 5269</span>&#160;      <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getOperand(3).getImm() &gt; 0 &amp;&amp;</div>
<div class="line"><a name="l05270"></a><span class="lineno"> 5270</span>&#160;      <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getOperand(3).getImm() &lt;= <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getOperand(4).getImm())</div>
<div class="line"><a name="l05271"></a><span class="lineno"> 5271</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l05272"></a><span class="lineno"> 5272</span>&#160; </div>
<div class="line"><a name="l05273"></a><span class="lineno"> 5273</span>&#160;  <span class="comment">// If the most significant bit of immediate in ANDIS is zero,</span></div>
<div class="line"><a name="l05274"></a><span class="lineno"> 5274</span>&#160;  <span class="comment">// all of 0 to 32-th bits are cleared.</span></div>
<div class="line"><a name="l05275"></a><span class="lineno"> 5275</span>&#160;  <span class="keywordflow">if</span> (Opcode == PPC::ANDIS_rec || Opcode == PPC::ANDIS8_rec) {</div>
<div class="line"><a name="l05276"></a><span class="lineno"> 5276</span>&#160;    <a class="code" href="classuint16__t.html">uint16_t</a> <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getOperand(2).getImm();</div>
<div class="line"><a name="l05277"></a><span class="lineno"> 5277</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> &amp; 0x8000) == 0)</div>
<div class="line"><a name="l05278"></a><span class="lineno"> 5278</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l05279"></a><span class="lineno"> 5279</span>&#160;  }</div>
<div class="line"><a name="l05280"></a><span class="lineno"> 5280</span>&#160; </div>
<div class="line"><a name="l05281"></a><span class="lineno"> 5281</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05282"></a><span class="lineno"> 5282</span>&#160;}</div>
<div class="line"><a name="l05283"></a><span class="lineno"> 5283</span>&#160; </div>
<div class="line"><a name="l05284"></a><span class="lineno"> 5284</span>&#160;<span class="comment">// This function checks the machine instruction that defines the input register</span></div>
<div class="line"><a name="l05285"></a><span class="lineno"> 5285</span>&#160;<span class="comment">// Reg. If that machine instruction always outputs a value that has only zeros</span></div>
<div class="line"><a name="l05286"></a><span class="lineno"> 5286</span>&#160;<span class="comment">// in the higher 32 bits then this function will return true.</span></div>
<div class="line"><a name="l05287"></a><span class="lineno"><a class="line" href="PPCInstrInfo_8cpp.html#a0c84571aa2288f85c80d91fe64f97926"> 5287</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="PPCInstrInfo_8cpp.html#a0c84571aa2288f85c80d91fe64f97926">definedByZeroExtendingOp</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>,</div>
<div class="line"><a name="l05288"></a><span class="lineno"> 5288</span>&#160;                                     <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> *<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>) {</div>
<div class="line"><a name="l05289"></a><span class="lineno"> 5289</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1Register.html#ab94ac0eb79655589fb116359f862886c">Register::isVirtualRegister</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>))</div>
<div class="line"><a name="l05290"></a><span class="lineno"> 5290</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05291"></a><span class="lineno"> 5291</span>&#160; </div>
<div class="line"><a name="l05292"></a><span class="lineno"> 5292</span>&#160;  <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a> = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>-&gt;<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a40d954b9cf9ee8b545a78725f2549cba">getVRegDef</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>);</div>
<div class="line"><a name="l05293"></a><span class="lineno"> 5293</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>)</div>
<div class="line"><a name="l05294"></a><span class="lineno"> 5294</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05295"></a><span class="lineno"> 5295</span>&#160; </div>
<div class="line"><a name="l05296"></a><span class="lineno"> 5296</span>&#160;  <span class="keywordtype">int</span> Opcode = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getOpcode();</div>
<div class="line"><a name="l05297"></a><span class="lineno"> 5297</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1PPCInstrInfo.html">PPCInstrInfo</a> *<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a> =</div>
<div class="line"><a name="l05298"></a><span class="lineno"> 5298</span>&#160;      <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getMF()-&gt;getSubtarget&lt;<a class="code" href="classllvm_1_1PPCSubtarget.html">PPCSubtarget</a>&gt;().getInstrInfo();</div>
<div class="line"><a name="l05299"></a><span class="lineno"> 5299</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>-&gt;isZExt32To64(Opcode))</div>
<div class="line"><a name="l05300"></a><span class="lineno"> 5300</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l05301"></a><span class="lineno"> 5301</span>&#160; </div>
<div class="line"><a name="l05302"></a><span class="lineno"> 5302</span>&#160;  <span class="comment">// The first def of LBZU/LHZU/LWZU are zero extended.</span></div>
<div class="line"><a name="l05303"></a><span class="lineno"> 5303</span>&#160;  <span class="keywordflow">if</span> ((<a class="code" href="PPCInstrInfo_8cpp.html#a0956bda4b8b38d9eed44f4476d20ef12">isOpZeroOfSubwordPreincLoad</a>(Opcode) || Opcode == PPC::LWZU ||</div>
<div class="line"><a name="l05304"></a><span class="lineno"> 5304</span>&#160;       Opcode == PPC::LWZUX || Opcode == PPC::LWZU8 || Opcode == PPC::LWZUX8) &amp;&amp;</div>
<div class="line"><a name="l05305"></a><span class="lineno"> 5305</span>&#160;      <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getOperand(0).getReg() == <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>)</div>
<div class="line"><a name="l05306"></a><span class="lineno"> 5306</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l05307"></a><span class="lineno"> 5307</span>&#160; </div>
<div class="line"><a name="l05308"></a><span class="lineno"> 5308</span>&#160;  <span class="comment">// The 16-bit immediate is sign-extended in li/lis.</span></div>
<div class="line"><a name="l05309"></a><span class="lineno"> 5309</span>&#160;  <span class="comment">// If the most significant bit is zero, all higher bits are zero.</span></div>
<div class="line"><a name="l05310"></a><span class="lineno"> 5310</span>&#160;  <span class="keywordflow">if</span> (Opcode == PPC::LI  || Opcode == PPC::LI8 ||</div>
<div class="line"><a name="l05311"></a><span class="lineno"> 5311</span>&#160;      Opcode == PPC::LIS || Opcode == PPC::LIS8) {</div>
<div class="line"><a name="l05312"></a><span class="lineno"> 5312</span>&#160;    int64_t <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getOperand(1).getImm();</div>
<div class="line"><a name="l05313"></a><span class="lineno"> 5313</span>&#160;    <span class="keywordflow">if</span> (((<a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a>)<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> &amp; ~0x7FFFuLL) == 0)</div>
<div class="line"><a name="l05314"></a><span class="lineno"> 5314</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l05315"></a><span class="lineno"> 5315</span>&#160;  }</div>
<div class="line"><a name="l05316"></a><span class="lineno"> 5316</span>&#160; </div>
<div class="line"><a name="l05317"></a><span class="lineno"> 5317</span>&#160;  <span class="comment">// We have some variations of rotate-and-mask instructions</span></div>
<div class="line"><a name="l05318"></a><span class="lineno"> 5318</span>&#160;  <span class="comment">// that clear higher 32-bits.</span></div>
<div class="line"><a name="l05319"></a><span class="lineno"> 5319</span>&#160;  <span class="keywordflow">if</span> ((Opcode == PPC::RLDICL || Opcode == PPC::RLDICL_rec ||</div>
<div class="line"><a name="l05320"></a><span class="lineno"> 5320</span>&#160;       Opcode == PPC::RLDCL || Opcode == PPC::RLDCL_rec ||</div>
<div class="line"><a name="l05321"></a><span class="lineno"> 5321</span>&#160;       Opcode == PPC::RLDICL_32_64) &amp;&amp;</div>
<div class="line"><a name="l05322"></a><span class="lineno"> 5322</span>&#160;      <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getOperand(3).getImm() &gt;= 32)</div>
<div class="line"><a name="l05323"></a><span class="lineno"> 5323</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l05324"></a><span class="lineno"> 5324</span>&#160; </div>
<div class="line"><a name="l05325"></a><span class="lineno"> 5325</span>&#160;  <span class="keywordflow">if</span> ((Opcode == PPC::RLDIC || Opcode == PPC::RLDIC_rec) &amp;&amp;</div>
<div class="line"><a name="l05326"></a><span class="lineno"> 5326</span>&#160;      <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getOperand(3).getImm() &gt;= 32 &amp;&amp;</div>
<div class="line"><a name="l05327"></a><span class="lineno"> 5327</span>&#160;      <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getOperand(3).getImm() &lt;= 63 - <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getOperand(2).getImm())</div>
<div class="line"><a name="l05328"></a><span class="lineno"> 5328</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l05329"></a><span class="lineno"> 5329</span>&#160; </div>
<div class="line"><a name="l05330"></a><span class="lineno"> 5330</span>&#160;  <span class="keywordflow">if</span> ((Opcode == PPC::RLWINM || Opcode == PPC::RLWINM_rec ||</div>
<div class="line"><a name="l05331"></a><span class="lineno"> 5331</span>&#160;       Opcode == PPC::RLWNM || Opcode == PPC::RLWNM_rec ||</div>
<div class="line"><a name="l05332"></a><span class="lineno"> 5332</span>&#160;       Opcode == PPC::RLWINM8 || Opcode == PPC::RLWNM8) &amp;&amp;</div>
<div class="line"><a name="l05333"></a><span class="lineno"> 5333</span>&#160;      <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getOperand(3).getImm() &lt;= <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getOperand(4).getImm())</div>
<div class="line"><a name="l05334"></a><span class="lineno"> 5334</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l05335"></a><span class="lineno"> 5335</span>&#160; </div>
<div class="line"><a name="l05336"></a><span class="lineno"> 5336</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05337"></a><span class="lineno"> 5337</span>&#160;}</div>
<div class="line"><a name="l05338"></a><span class="lineno"> 5338</span>&#160; </div>
<div class="line"><a name="l05339"></a><span class="lineno"> 5339</span>&#160;<span class="comment">// This function returns true if the input MachineInstr is a TOC save</span></div>
<div class="line"><a name="l05340"></a><span class="lineno"> 5340</span>&#160;<span class="comment">// instruction.</span></div>
<div class="line"><a name="l05341"></a><span class="lineno"><a class="line" href="classllvm_1_1PPCInstrInfo.html#a62e484f70a2007cfe30d42db868f84ab"> 5341</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1PPCInstrInfo.html#a62e484f70a2007cfe30d42db868f84ab">PPCInstrInfo::isTOCSaveMI</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l05342"></a><span class="lineno"> 5342</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(1).isImm() || !<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(2).isReg())</div>
<div class="line"><a name="l05343"></a><span class="lineno"> 5343</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05344"></a><span class="lineno"> 5344</span>&#160;  <span class="keywordtype">unsigned</span> TOCSaveOffset = Subtarget.<a class="code" href="classllvm_1_1PPCSubtarget.html#a28415ce4666a90927eb2a6a69aa40e90">getFrameLowering</a>()-&gt;<a class="code" href="classllvm_1_1PPCFrameLowering.html#af2c21693e6284bea34b3ebbece45efdd">getTOCSaveOffset</a>();</div>
<div class="line"><a name="l05345"></a><span class="lineno"> 5345</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="classllvm_1_1StackOffset.html">StackOffset</a> = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(1).getImm();</div>
<div class="line"><a name="l05346"></a><span class="lineno"> 5346</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> StackReg = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(2).getReg();</div>
<div class="line"><a name="l05347"></a><span class="lineno"> 5347</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> SPReg = Subtarget.<a class="code" href="classllvm_1_1PPCSubtarget.html#a6622b99b3c00a3938d969957312b1b52">isPPC64</a>() ? PPC::X1 : PPC::R1;</div>
<div class="line"><a name="l05348"></a><span class="lineno"> 5348</span>&#160;  <span class="keywordflow">if</span> (StackReg == SPReg &amp;&amp; <a class="code" href="classllvm_1_1StackOffset.html">StackOffset</a> == TOCSaveOffset)</div>
<div class="line"><a name="l05349"></a><span class="lineno"> 5349</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l05350"></a><span class="lineno"> 5350</span>&#160; </div>
<div class="line"><a name="l05351"></a><span class="lineno"> 5351</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05352"></a><span class="lineno"> 5352</span>&#160;}</div>
<div class="line"><a name="l05353"></a><span class="lineno"> 5353</span>&#160; </div>
<div class="line"><a name="l05354"></a><span class="lineno"> 5354</span>&#160;<span class="comment">// We limit the max depth to track incoming values of PHIs or binary ops</span></div>
<div class="line"><a name="l05355"></a><span class="lineno"> 5355</span>&#160;<span class="comment">// (e.g. AND) to avoid excessive cost.</span></div>
<div class="line"><a name="l05356"></a><span class="lineno"><a class="line" href="PPCInstrInfo_8cpp.html#ad21fabc80e604059d0d02c34708a1cc2"> 5356</a></span>&#160;<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <a class="code" href="PPCInstrInfo_8cpp.html#ad21fabc80e604059d0d02c34708a1cc2">MAX_BINOP_DEPTH</a> = 1;</div>
<div class="line"><a name="l05357"></a><span class="lineno"> 5357</span>&#160;<span class="comment">// The isSignOrZeroExtended function is recursive. The parameter BinOpDepth</span></div>
<div class="line"><a name="l05358"></a><span class="lineno"> 5358</span>&#160;<span class="comment">// does not count all of the recursions. The parameter BinOpDepth is incremented</span></div>
<div class="line"><a name="l05359"></a><span class="lineno"> 5359</span>&#160;<span class="comment">// only when isSignOrZeroExtended calls itself more than once. This is done to</span></div>
<div class="line"><a name="l05360"></a><span class="lineno"> 5360</span>&#160;<span class="comment">// prevent expontential recursion. There is no parameter to track linear</span></div>
<div class="line"><a name="l05361"></a><span class="lineno"> 5361</span>&#160;<span class="comment">// recursion.</span></div>
<div class="line"><a name="l05362"></a><span class="lineno"> 5362</span>&#160;std::pair&lt;bool, bool&gt;</div>
<div class="line"><a name="l05363"></a><span class="lineno"><a class="line" href="classllvm_1_1PPCInstrInfo.html#a78b9ad4b9b246aab32ff14d856f5769a"> 5363</a></span>&#160;<a class="code" href="classllvm_1_1PPCInstrInfo.html#a78b9ad4b9b246aab32ff14d856f5769a">PPCInstrInfo::isSignOrZeroExtended</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>,</div>
<div class="line"><a name="l05364"></a><span class="lineno"> 5364</span>&#160;                                   <span class="keyword">const</span> <span class="keywordtype">unsigned</span> BinOpDepth,</div>
<div class="line"><a name="l05365"></a><span class="lineno"> 5365</span>&#160;                                   <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> *<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l05366"></a><span class="lineno"> 5366</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1Register.html#ab94ac0eb79655589fb116359f862886c">Register::isVirtualRegister</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>))</div>
<div class="line"><a name="l05367"></a><span class="lineno"> 5367</span>&#160;    <span class="keywordflow">return</span> std::pair&lt;bool, bool&gt;(<span class="keyword">false</span>, <span class="keyword">false</span>);</div>
<div class="line"><a name="l05368"></a><span class="lineno"> 5368</span>&#160; </div>
<div class="line"><a name="l05369"></a><span class="lineno"> 5369</span>&#160;  <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a> = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>-&gt;<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a40d954b9cf9ee8b545a78725f2549cba">getVRegDef</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>);</div>
<div class="line"><a name="l05370"></a><span class="lineno"> 5370</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>)</div>
<div class="line"><a name="l05371"></a><span class="lineno"> 5371</span>&#160;    <span class="keywordflow">return</span> std::pair&lt;bool, bool&gt;(<span class="keyword">false</span>, <span class="keyword">false</span>);</div>
<div class="line"><a name="l05372"></a><span class="lineno"> 5372</span>&#160; </div>
<div class="line"><a name="l05373"></a><span class="lineno"> 5373</span>&#160;  <span class="keywordtype">bool</span> IsSExt = <a class="code" href="PPCInstrInfo_8cpp.html#af30edca8f8a971b32190acd67f8dbd1d">definedBySignExtendingOp</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>);</div>
<div class="line"><a name="l05374"></a><span class="lineno"> 5374</span>&#160;  <span class="keywordtype">bool</span> IsZExt = <a class="code" href="PPCInstrInfo_8cpp.html#a0c84571aa2288f85c80d91fe64f97926">definedByZeroExtendingOp</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>);</div>
<div class="line"><a name="l05375"></a><span class="lineno"> 5375</span>&#160; </div>
<div class="line"><a name="l05376"></a><span class="lineno"> 5376</span>&#160;  <span class="comment">// If we know the instruction always returns sign- and zero-extended result,</span></div>
<div class="line"><a name="l05377"></a><span class="lineno"> 5377</span>&#160;  <span class="comment">// return here.</span></div>
<div class="line"><a name="l05378"></a><span class="lineno"> 5378</span>&#160;  <span class="keywordflow">if</span> (IsSExt &amp;&amp; IsZExt)</div>
<div class="line"><a name="l05379"></a><span class="lineno"> 5379</span>&#160;    <span class="keywordflow">return</span> std::pair&lt;bool, bool&gt;(IsSExt, IsZExt);</div>
<div class="line"><a name="l05380"></a><span class="lineno"> 5380</span>&#160; </div>
<div class="line"><a name="l05381"></a><span class="lineno"> 5381</span>&#160;  <span class="keywordflow">switch</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getOpcode()) {</div>
<div class="line"><a name="l05382"></a><span class="lineno"> 5382</span>&#160;  <span class="keywordflow">case</span> PPC::COPY: {</div>
<div class="line"><a name="l05383"></a><span class="lineno"> 5383</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> SrcReg = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getOperand(1).getReg();</div>
<div class="line"><a name="l05384"></a><span class="lineno"> 5384</span>&#160; </div>
<div class="line"><a name="l05385"></a><span class="lineno"> 5385</span>&#160;    <span class="comment">// In both ELFv1 and v2 ABI, method parameters and the return value</span></div>
<div class="line"><a name="l05386"></a><span class="lineno"> 5386</span>&#160;    <span class="comment">// are sign- or zero-extended.</span></div>
<div class="line"><a name="l05387"></a><span class="lineno"> 5387</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> *MF = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getMF();</div>
<div class="line"><a name="l05388"></a><span class="lineno"> 5388</span>&#160; </div>
<div class="line"><a name="l05389"></a><span class="lineno"> 5389</span>&#160;    <span class="keywordflow">if</span> (!MF-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#a325f6b611ef9ec06798d3b4eb9572093">getSubtarget</a>&lt;<a class="code" href="classllvm_1_1PPCSubtarget.html">PPCSubtarget</a>&gt;().<a class="code" href="classllvm_1_1PPCSubtarget.html#a9ba17ee6253b371840a5541b1a21b298">isSVR4ABI</a>()) {</div>
<div class="line"><a name="l05390"></a><span class="lineno"> 5390</span>&#160;      <span class="comment">// If this is a copy from another register, we recursively check source.</span></div>
<div class="line"><a name="l05391"></a><span class="lineno"> 5391</span>&#160;      <span class="keyword">auto</span> SrcExt = <a class="code" href="classllvm_1_1PPCInstrInfo.html#a78b9ad4b9b246aab32ff14d856f5769a">isSignOrZeroExtended</a>(SrcReg, BinOpDepth, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>);</div>
<div class="line"><a name="l05392"></a><span class="lineno"> 5392</span>&#160;      <span class="keywordflow">return</span> std::pair&lt;bool, bool&gt;(SrcExt.first || IsSExt,</div>
<div class="line"><a name="l05393"></a><span class="lineno"> 5393</span>&#160;                                   SrcExt.second || IsZExt);</div>
<div class="line"><a name="l05394"></a><span class="lineno"> 5394</span>&#160;    }</div>
<div class="line"><a name="l05395"></a><span class="lineno"> 5395</span>&#160; </div>
<div class="line"><a name="l05396"></a><span class="lineno"> 5396</span>&#160;    <span class="comment">// From here on everything is SVR4ABI</span></div>
<div class="line"><a name="l05397"></a><span class="lineno"> 5397</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1PPCFunctionInfo.html">PPCFunctionInfo</a> *FuncInfo = MF-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#ac2dc0fa143c9f2127f0501734577a0a0">getInfo</a>&lt;<a class="code" href="classllvm_1_1PPCFunctionInfo.html">PPCFunctionInfo</a>&gt;();</div>
<div class="line"><a name="l05398"></a><span class="lineno"> 5398</span>&#160;    <span class="comment">// We check the ZExt/SExt flags for a method parameter.</span></div>
<div class="line"><a name="l05399"></a><span class="lineno"> 5399</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getParent()-&gt;getBasicBlock() ==</div>
<div class="line"><a name="l05400"></a><span class="lineno"> 5400</span>&#160;        &amp;MF-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#a4b21394c138cc5ae719510bb529ee099">getFunction</a>().<a class="code" href="classllvm_1_1Function.html#ae6a4da5f41fc6a36735cc1704c01ce60">getEntryBlock</a>()) {</div>
<div class="line"><a name="l05401"></a><span class="lineno"> 5401</span>&#160;      <a class="code" href="classllvm_1_1Register.html">Register</a> VReg = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getOperand(0).getReg();</div>
<div class="line"><a name="l05402"></a><span class="lineno"> 5402</span>&#160;      <span class="keywordflow">if</span> (MF-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>().<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a640f34062e7189756ce67e60d5dfd629">isLiveIn</a>(VReg)) {</div>
<div class="line"><a name="l05403"></a><span class="lineno"> 5403</span>&#160;        IsSExt |= FuncInfo-&gt;<a class="code" href="classllvm_1_1PPCFunctionInfo.html#a23eb4795c4d766004e74259b14656183">isLiveInSExt</a>(VReg);</div>
<div class="line"><a name="l05404"></a><span class="lineno"> 5404</span>&#160;        IsZExt |= FuncInfo-&gt;<a class="code" href="classllvm_1_1PPCFunctionInfo.html#a38dfb3c48c66778f54bd1aa8cffb57a0">isLiveInZExt</a>(VReg);</div>
<div class="line"><a name="l05405"></a><span class="lineno"> 5405</span>&#160;        <span class="keywordflow">return</span> std::pair&lt;bool, bool&gt;(IsSExt, IsZExt);</div>
<div class="line"><a name="l05406"></a><span class="lineno"> 5406</span>&#160;      }</div>
<div class="line"><a name="l05407"></a><span class="lineno"> 5407</span>&#160;    }</div>
<div class="line"><a name="l05408"></a><span class="lineno"> 5408</span>&#160; </div>
<div class="line"><a name="l05409"></a><span class="lineno"> 5409</span>&#160;    <span class="keywordflow">if</span> (SrcReg != PPC::X3) {</div>
<div class="line"><a name="l05410"></a><span class="lineno"> 5410</span>&#160;      <span class="comment">// If this is a copy from another register, we recursively check source.</span></div>
<div class="line"><a name="l05411"></a><span class="lineno"> 5411</span>&#160;      <span class="keyword">auto</span> SrcExt = <a class="code" href="classllvm_1_1PPCInstrInfo.html#a78b9ad4b9b246aab32ff14d856f5769a">isSignOrZeroExtended</a>(SrcReg, BinOpDepth, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>);</div>
<div class="line"><a name="l05412"></a><span class="lineno"> 5412</span>&#160;      <span class="keywordflow">return</span> std::pair&lt;bool, bool&gt;(SrcExt.first || IsSExt,</div>
<div class="line"><a name="l05413"></a><span class="lineno"> 5413</span>&#160;                                   SrcExt.second || IsZExt);</div>
<div class="line"><a name="l05414"></a><span class="lineno"> 5414</span>&#160;    }</div>
<div class="line"><a name="l05415"></a><span class="lineno"> 5415</span>&#160; </div>
<div class="line"><a name="l05416"></a><span class="lineno"> 5416</span>&#160;    <span class="comment">// For a method return value, we check the ZExt/SExt flags in attribute.</span></div>
<div class="line"><a name="l05417"></a><span class="lineno"> 5417</span>&#160;    <span class="comment">// We assume the following code sequence for method call.</span></div>
<div class="line"><a name="l05418"></a><span class="lineno"> 5418</span>&#160;    <span class="comment">//   ADJCALLSTACKDOWN 32, implicit dead %r1, implicit %r1</span></div>
<div class="line"><a name="l05419"></a><span class="lineno"> 5419</span>&#160;    <span class="comment">//   BL8_NOP @func,...</span></div>
<div class="line"><a name="l05420"></a><span class="lineno"> 5420</span>&#160;    <span class="comment">//   ADJCALLSTACKUP 32, 0, implicit dead %r1, implicit %r1</span></div>
<div class="line"><a name="l05421"></a><span class="lineno"> 5421</span>&#160;    <span class="comment">//   %5 = COPY %x3; G8RC:%5</span></div>
<div class="line"><a name="l05422"></a><span class="lineno"> 5422</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a> = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getParent();</div>
<div class="line"><a name="l05423"></a><span class="lineno"> 5423</span>&#160;    std::pair&lt;bool, bool&gt; IsExtendPair = std::pair&lt;bool, bool&gt;(IsSExt, IsZExt);</div>
<div class="line"><a name="l05424"></a><span class="lineno"> 5424</span>&#160;    <a class="code" href="classllvm_1_1ilist__iterator.html">MachineBasicBlock::const_instr_iterator</a> II =</div>
<div class="line"><a name="l05425"></a><span class="lineno"> 5425</span>&#160;        <a class="code" href="classllvm_1_1MachineBasicBlock.html#acc786576edf1d6a2697426143314bcef">MachineBasicBlock::const_instr_iterator</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l05426"></a><span class="lineno"> 5426</span>&#160;    <span class="keywordflow">if</span> (II == <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#a172e7bd9150eb0519ef04c796086f93d">instr_begin</a>() || (--II)-&gt;getOpcode() != PPC::ADJCALLSTACKUP)</div>
<div class="line"><a name="l05427"></a><span class="lineno"> 5427</span>&#160;      <span class="keywordflow">return</span> IsExtendPair;</div>
<div class="line"><a name="l05428"></a><span class="lineno"> 5428</span>&#160; </div>
<div class="line"><a name="l05429"></a><span class="lineno"> 5429</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;CallMI = *(--II);</div>
<div class="line"><a name="l05430"></a><span class="lineno"> 5430</span>&#160;    <span class="keywordflow">if</span> (!CallMI.<a class="code" href="classllvm_1_1MachineInstr.html#a30e7d619f3195fd890116da8b3ed6bab">isCall</a>() || !CallMI.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#ab0d1155c8c38e84cbe387998fd2e517e">isGlobal</a>())</div>
<div class="line"><a name="l05431"></a><span class="lineno"> 5431</span>&#160;      <span class="keywordflow">return</span> IsExtendPair;</div>
<div class="line"><a name="l05432"></a><span class="lineno"> 5432</span>&#160; </div>
<div class="line"><a name="l05433"></a><span class="lineno"> 5433</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1Function.html">Function</a> *CalleeFn =</div>
<div class="line"><a name="l05434"></a><span class="lineno"> 5434</span>&#160;        dyn_cast_if_present&lt;Function&gt;(CallMI.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#ac8718f1c761727d429180f0ce340f7f0">getGlobal</a>());</div>
<div class="line"><a name="l05435"></a><span class="lineno"> 5435</span>&#160;    <span class="keywordflow">if</span> (!CalleeFn)</div>
<div class="line"><a name="l05436"></a><span class="lineno"> 5436</span>&#160;      <span class="keywordflow">return</span> IsExtendPair;</div>
<div class="line"><a name="l05437"></a><span class="lineno"> 5437</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1IntegerType.html">IntegerType</a> *IntTy = dyn_cast&lt;IntegerType&gt;(CalleeFn-&gt;<a class="code" href="classllvm_1_1Function.html#aaea88376352c42347dceccdd5ab1c20c">getReturnType</a>());</div>
<div class="line"><a name="l05438"></a><span class="lineno"> 5438</span>&#160;    <span class="keywordflow">if</span> (IntTy &amp;&amp; IntTy-&gt;<a class="code" href="classllvm_1_1IntegerType.html#a90b790ccb1af4ea5ccd69db4b8cd2d81">getBitWidth</a>() &lt;= 32) {</div>
<div class="line"><a name="l05439"></a><span class="lineno"> 5439</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1AttributeSet.html">AttributeSet</a> &amp;<a class="code" href="README__ALTIVEC_8txt.html#a9d3ba236d13373cde794da2023acc7a0">Attrs</a> = CalleeFn-&gt;<a class="code" href="classllvm_1_1Function.html#a7477aafbbe989ad35b96fac186d8e9fd">getAttributes</a>().<a class="code" href="classllvm_1_1AttributeList.html#a5604157867b3d226260f6388b987e49a">getRetAttrs</a>();</div>
<div class="line"><a name="l05440"></a><span class="lineno"> 5440</span>&#160;      IsSExt |= <a class="code" href="README__ALTIVEC_8txt.html#a9d3ba236d13373cde794da2023acc7a0">Attrs</a>.hasAttribute(Attribute::SExt);</div>
<div class="line"><a name="l05441"></a><span class="lineno"> 5441</span>&#160;      IsZExt |= <a class="code" href="README__ALTIVEC_8txt.html#a9d3ba236d13373cde794da2023acc7a0">Attrs</a>.hasAttribute(Attribute::ZExt);</div>
<div class="line"><a name="l05442"></a><span class="lineno"> 5442</span>&#160;      <span class="keywordflow">return</span> std::pair&lt;bool, bool&gt;(IsSExt, IsZExt);</div>
<div class="line"><a name="l05443"></a><span class="lineno"> 5443</span>&#160;    }</div>
<div class="line"><a name="l05444"></a><span class="lineno"> 5444</span>&#160; </div>
<div class="line"><a name="l05445"></a><span class="lineno"> 5445</span>&#160;    <span class="keywordflow">return</span> IsExtendPair;</div>
<div class="line"><a name="l05446"></a><span class="lineno"> 5446</span>&#160;  }</div>
<div class="line"><a name="l05447"></a><span class="lineno"> 5447</span>&#160; </div>
<div class="line"><a name="l05448"></a><span class="lineno"> 5448</span>&#160;  <span class="comment">// OR, XOR with 16-bit immediate does not change the upper 48 bits.</span></div>
<div class="line"><a name="l05449"></a><span class="lineno"> 5449</span>&#160;  <span class="comment">// So, we track the operand register as we do for register copy.</span></div>
<div class="line"><a name="l05450"></a><span class="lineno"> 5450</span>&#160;  <span class="keywordflow">case</span> PPC::ORI:</div>
<div class="line"><a name="l05451"></a><span class="lineno"> 5451</span>&#160;  <span class="keywordflow">case</span> PPC::XORI:</div>
<div class="line"><a name="l05452"></a><span class="lineno"> 5452</span>&#160;  <span class="keywordflow">case</span> PPC::ORI8:</div>
<div class="line"><a name="l05453"></a><span class="lineno"> 5453</span>&#160;  <span class="keywordflow">case</span> PPC::XORI8: {</div>
<div class="line"><a name="l05454"></a><span class="lineno"> 5454</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> SrcReg = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getOperand(1).getReg();</div>
<div class="line"><a name="l05455"></a><span class="lineno"> 5455</span>&#160;    <span class="keyword">auto</span> SrcExt = <a class="code" href="classllvm_1_1PPCInstrInfo.html#a78b9ad4b9b246aab32ff14d856f5769a">isSignOrZeroExtended</a>(SrcReg, BinOpDepth, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>);</div>
<div class="line"><a name="l05456"></a><span class="lineno"> 5456</span>&#160;    <span class="keywordflow">return</span> std::pair&lt;bool, bool&gt;(SrcExt.first || IsSExt,</div>
<div class="line"><a name="l05457"></a><span class="lineno"> 5457</span>&#160;                                 SrcExt.second || IsZExt);</div>
<div class="line"><a name="l05458"></a><span class="lineno"> 5458</span>&#160;  }</div>
<div class="line"><a name="l05459"></a><span class="lineno"> 5459</span>&#160; </div>
<div class="line"><a name="l05460"></a><span class="lineno"> 5460</span>&#160;  <span class="comment">// OR, XOR with shifted 16-bit immediate does not change the upper</span></div>
<div class="line"><a name="l05461"></a><span class="lineno"> 5461</span>&#160;  <span class="comment">// 32 bits. So, we track the operand register for zero extension.</span></div>
<div class="line"><a name="l05462"></a><span class="lineno"> 5462</span>&#160;  <span class="comment">// For sign extension when the MSB of the immediate is zero, we also</span></div>
<div class="line"><a name="l05463"></a><span class="lineno"> 5463</span>&#160;  <span class="comment">// track the operand register since the upper 33 bits are unchanged.</span></div>
<div class="line"><a name="l05464"></a><span class="lineno"> 5464</span>&#160;  <span class="keywordflow">case</span> PPC::ORIS:</div>
<div class="line"><a name="l05465"></a><span class="lineno"> 5465</span>&#160;  <span class="keywordflow">case</span> PPC::XORIS:</div>
<div class="line"><a name="l05466"></a><span class="lineno"> 5466</span>&#160;  <span class="keywordflow">case</span> PPC::ORIS8:</div>
<div class="line"><a name="l05467"></a><span class="lineno"> 5467</span>&#160;  <span class="keywordflow">case</span> PPC::XORIS8: {</div>
<div class="line"><a name="l05468"></a><span class="lineno"> 5468</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> SrcReg = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getOperand(1).getReg();</div>
<div class="line"><a name="l05469"></a><span class="lineno"> 5469</span>&#160;    <span class="keyword">auto</span> SrcExt = <a class="code" href="classllvm_1_1PPCInstrInfo.html#a78b9ad4b9b246aab32ff14d856f5769a">isSignOrZeroExtended</a>(SrcReg, BinOpDepth, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>);</div>
<div class="line"><a name="l05470"></a><span class="lineno"> 5470</span>&#160;    <a class="code" href="classuint16__t.html">uint16_t</a> <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getOperand(2).getImm();</div>
<div class="line"><a name="l05471"></a><span class="lineno"> 5471</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> &amp; 0x8000)</div>
<div class="line"><a name="l05472"></a><span class="lineno"> 5472</span>&#160;      <span class="keywordflow">return</span> std::pair&lt;bool, bool&gt;(<span class="keyword">false</span>, SrcExt.second || IsZExt);</div>
<div class="line"><a name="l05473"></a><span class="lineno"> 5473</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l05474"></a><span class="lineno"> 5474</span>&#160;      <span class="keywordflow">return</span> std::pair&lt;bool, bool&gt;(SrcExt.first || IsSExt,</div>
<div class="line"><a name="l05475"></a><span class="lineno"> 5475</span>&#160;                                   SrcExt.second || IsZExt);</div>
<div class="line"><a name="l05476"></a><span class="lineno"> 5476</span>&#160;  }</div>
<div class="line"><a name="l05477"></a><span class="lineno"> 5477</span>&#160; </div>
<div class="line"><a name="l05478"></a><span class="lineno"> 5478</span>&#160;  <span class="comment">// If all incoming values are sign-/zero-extended,</span></div>
<div class="line"><a name="l05479"></a><span class="lineno"> 5479</span>&#160;  <span class="comment">// the output of OR, ISEL or PHI is also sign-/zero-extended.</span></div>
<div class="line"><a name="l05480"></a><span class="lineno"> 5480</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7415ab9f2172c59a2ee7c7a02afa56a4">PPC::OR</a>:</div>
<div class="line"><a name="l05481"></a><span class="lineno"> 5481</span>&#160;  <span class="keywordflow">case</span> PPC::OR8:</div>
<div class="line"><a name="l05482"></a><span class="lineno"> 5482</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1HexagonISD.html#ab37bf6c49bc26c43ddd958218f63ba00a0fbe77e798cb4b9c9a3e62f4d2085395">PPC::ISEL</a>:</div>
<div class="line"><a name="l05483"></a><span class="lineno"> 5483</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="AMDGPURewriteUndefForPHI_8cpp.html#a2e83cb1bc3f5e8986cbd14575755a134">PPC::PHI</a>: {</div>
<div class="line"><a name="l05484"></a><span class="lineno"> 5484</span>&#160;    <span class="keywordflow">if</span> (BinOpDepth &gt;= <a class="code" href="PPCInstrInfo_8cpp.html#ad21fabc80e604059d0d02c34708a1cc2">MAX_BINOP_DEPTH</a>)</div>
<div class="line"><a name="l05485"></a><span class="lineno"> 5485</span>&#160;      <span class="keywordflow">return</span> std::pair&lt;bool, bool&gt;(<span class="keyword">false</span>, <span class="keyword">false</span>);</div>
<div class="line"><a name="l05486"></a><span class="lineno"> 5486</span>&#160; </div>
<div class="line"><a name="l05487"></a><span class="lineno"> 5487</span>&#160;    <span class="comment">// The input registers for PHI are operand 1, 3, ...</span></div>
<div class="line"><a name="l05488"></a><span class="lineno"> 5488</span>&#160;    <span class="comment">// The input registers for others are operand 1 and 2.</span></div>
<div class="line"><a name="l05489"></a><span class="lineno"> 5489</span>&#160;    <span class="keywordtype">unsigned</span> OperandEnd = 3, OperandStride = 1;</div>
<div class="line"><a name="l05490"></a><span class="lineno"> 5490</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getOpcode() == <a class="code" href="AMDGPURewriteUndefForPHI_8cpp.html#a2e83cb1bc3f5e8986cbd14575755a134">PPC::PHI</a>) {</div>
<div class="line"><a name="l05491"></a><span class="lineno"> 5491</span>&#160;      OperandEnd = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getNumOperands();</div>
<div class="line"><a name="l05492"></a><span class="lineno"> 5492</span>&#160;      OperandStride = 2;</div>
<div class="line"><a name="l05493"></a><span class="lineno"> 5493</span>&#160;    }</div>
<div class="line"><a name="l05494"></a><span class="lineno"> 5494</span>&#160; </div>
<div class="line"><a name="l05495"></a><span class="lineno"> 5495</span>&#160;    IsSExt = <span class="keyword">true</span>;</div>
<div class="line"><a name="l05496"></a><span class="lineno"> 5496</span>&#160;    IsZExt = <span class="keyword">true</span>;</div>
<div class="line"><a name="l05497"></a><span class="lineno"> 5497</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 1; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != OperandEnd; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> += OperandStride) {</div>
<div class="line"><a name="l05498"></a><span class="lineno"> 5498</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getOperand(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>).isReg())</div>
<div class="line"><a name="l05499"></a><span class="lineno"> 5499</span>&#160;        <span class="keywordflow">return</span> std::pair&lt;bool, bool&gt;(<span class="keyword">false</span>, <span class="keyword">false</span>);</div>
<div class="line"><a name="l05500"></a><span class="lineno"> 5500</span>&#160; </div>
<div class="line"><a name="l05501"></a><span class="lineno"> 5501</span>&#160;      <a class="code" href="classllvm_1_1Register.html">Register</a> SrcReg = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getOperand(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>).getReg();</div>
<div class="line"><a name="l05502"></a><span class="lineno"> 5502</span>&#160;      <span class="keyword">auto</span> SrcExt = <a class="code" href="classllvm_1_1PPCInstrInfo.html#a78b9ad4b9b246aab32ff14d856f5769a">isSignOrZeroExtended</a>(SrcReg, BinOpDepth + 1, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>);</div>
<div class="line"><a name="l05503"></a><span class="lineno"> 5503</span>&#160;      IsSExt &amp;= SrcExt.first;</div>
<div class="line"><a name="l05504"></a><span class="lineno"> 5504</span>&#160;      IsZExt &amp;= SrcExt.second;</div>
<div class="line"><a name="l05505"></a><span class="lineno"> 5505</span>&#160;    }</div>
<div class="line"><a name="l05506"></a><span class="lineno"> 5506</span>&#160;    <span class="keywordflow">return</span> std::pair&lt;bool, bool&gt;(IsSExt, IsZExt);</div>
<div class="line"><a name="l05507"></a><span class="lineno"> 5507</span>&#160;  }</div>
<div class="line"><a name="l05508"></a><span class="lineno"> 5508</span>&#160; </div>
<div class="line"><a name="l05509"></a><span class="lineno"> 5509</span>&#160;  <span class="comment">// If at least one of the incoming values of an AND is zero extended</span></div>
<div class="line"><a name="l05510"></a><span class="lineno"> 5510</span>&#160;  <span class="comment">// then the output is also zero-extended. If both of the incoming values</span></div>
<div class="line"><a name="l05511"></a><span class="lineno"> 5511</span>&#160;  <span class="comment">// are sign-extended then the output is also sign extended.</span></div>
<div class="line"><a name="l05512"></a><span class="lineno"> 5512</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">PPC::AND</a>:</div>
<div class="line"><a name="l05513"></a><span class="lineno"> 5513</span>&#160;  <span class="keywordflow">case</span> PPC::AND8: {</div>
<div class="line"><a name="l05514"></a><span class="lineno"> 5514</span>&#160;    <span class="keywordflow">if</span> (BinOpDepth &gt;= <a class="code" href="PPCInstrInfo_8cpp.html#ad21fabc80e604059d0d02c34708a1cc2">MAX_BINOP_DEPTH</a>)</div>
<div class="line"><a name="l05515"></a><span class="lineno"> 5515</span>&#160;      <span class="keywordflow">return</span> std::pair&lt;bool, bool&gt;(<span class="keyword">false</span>, <span class="keyword">false</span>);</div>
<div class="line"><a name="l05516"></a><span class="lineno"> 5516</span>&#160; </div>
<div class="line"><a name="l05517"></a><span class="lineno"> 5517</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> SrcReg1 = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getOperand(1).getReg();</div>
<div class="line"><a name="l05518"></a><span class="lineno"> 5518</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> SrcReg2 = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getOperand(2).getReg();</div>
<div class="line"><a name="l05519"></a><span class="lineno"> 5519</span>&#160;    <span class="keyword">auto</span> Src1Ext = <a class="code" href="classllvm_1_1PPCInstrInfo.html#a78b9ad4b9b246aab32ff14d856f5769a">isSignOrZeroExtended</a>(SrcReg1, BinOpDepth + 1, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>);</div>
<div class="line"><a name="l05520"></a><span class="lineno"> 5520</span>&#160;    <span class="keyword">auto</span> Src2Ext = <a class="code" href="classllvm_1_1PPCInstrInfo.html#a78b9ad4b9b246aab32ff14d856f5769a">isSignOrZeroExtended</a>(SrcReg2, BinOpDepth + 1, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>);</div>
<div class="line"><a name="l05521"></a><span class="lineno"> 5521</span>&#160;    <span class="keywordflow">return</span> std::pair&lt;bool, bool&gt;(Src1Ext.first &amp;&amp; Src2Ext.first,</div>
<div class="line"><a name="l05522"></a><span class="lineno"> 5522</span>&#160;                                 Src1Ext.second || Src2Ext.second);</div>
<div class="line"><a name="l05523"></a><span class="lineno"> 5523</span>&#160;  }</div>
<div class="line"><a name="l05524"></a><span class="lineno"> 5524</span>&#160; </div>
<div class="line"><a name="l05525"></a><span class="lineno"> 5525</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l05526"></a><span class="lineno"> 5526</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05527"></a><span class="lineno"> 5527</span>&#160;  }</div>
<div class="line"><a name="l05528"></a><span class="lineno"> 5528</span>&#160;  <span class="keywordflow">return</span> std::pair&lt;bool, bool&gt;(IsSExt, IsZExt);</div>
<div class="line"><a name="l05529"></a><span class="lineno"> 5529</span>&#160;}</div>
<div class="line"><a name="l05530"></a><span class="lineno"> 5530</span>&#160; </div>
<div class="line"><a name="l05531"></a><span class="lineno"><a class="line" href="classllvm_1_1PPCInstrInfo.html#a6bc6b3ade5432bb6d51e0039c8482445"> 5531</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1PPCInstrInfo.html#a6bc6b3ade5432bb6d51e0039c8482445">PPCInstrInfo::isBDNZ</a>(<span class="keywordtype">unsigned</span> Opcode)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l05532"></a><span class="lineno"> 5532</span>&#160;  <span class="keywordflow">return</span> (Opcode == (Subtarget.<a class="code" href="classllvm_1_1PPCSubtarget.html#a6622b99b3c00a3938d969957312b1b52">isPPC64</a>() ? PPC::BDNZ8 : <a class="code" href="namespacellvm_1_1PPCISD.html#ad1c32e5bb1cb213fb836bc3d221e4f19a160ec67350dc5e964fc0a12a9cde1df8">PPC::BDNZ</a>));</div>
<div class="line"><a name="l05533"></a><span class="lineno"> 5533</span>&#160;}</div>
<div class="line"><a name="l05534"></a><span class="lineno"> 5534</span>&#160; </div>
<div class="line"><a name="l05535"></a><span class="lineno"> 5535</span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l05536"></a><span class="lineno"> 5536</span>&#160;<span class="keyword">class </span>PPCPipelinerLoopInfo : <span class="keyword">public</span> <a class="code" href="classllvm_1_1TargetInstrInfo_1_1PipelinerLoopInfo.html">TargetInstrInfo::PipelinerLoopInfo</a> {</div>
<div class="line"><a name="l05537"></a><span class="lineno"> 5537</span>&#160;  <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="classllvm_1_1Loop.html">Loop</a>, *EndLoop, *LoopCount;</div>
<div class="line"><a name="l05538"></a><span class="lineno"> 5538</span>&#160;  <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> *MF;</div>
<div class="line"><a name="l05539"></a><span class="lineno"> 5539</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetInstrInfo.html">TargetInstrInfo</a> *<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>;</div>
<div class="line"><a name="l05540"></a><span class="lineno"> 5540</span>&#160;  int64_t TripCount;</div>
<div class="line"><a name="l05541"></a><span class="lineno"> 5541</span>&#160; </div>
<div class="line"><a name="l05542"></a><span class="lineno"> 5542</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l05543"></a><span class="lineno"> 5543</span>&#160;  PPCPipelinerLoopInfo(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="classllvm_1_1Loop.html">Loop</a>, <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *EndLoop,</div>
<div class="line"><a name="l05544"></a><span class="lineno"> 5544</span>&#160;                       <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *LoopCount)</div>
<div class="line"><a name="l05545"></a><span class="lineno"> 5545</span>&#160;      : <a class="code" href="classllvm_1_1Loop.html">Loop</a>(<a class="code" href="classllvm_1_1Loop.html">Loop</a>), EndLoop(EndLoop), LoopCount(LoopCount),</div>
<div class="line"><a name="l05546"></a><span class="lineno"> 5546</span>&#160;        MF(<a class="code" href="classllvm_1_1Loop.html">Loop</a>-&gt;<a class="code" href="BasicAliasAnalysis_8cpp.html#a2675de1d8479c7b00387979714da43f7">getParent</a>()-&gt;<a class="code" href="BasicAliasAnalysis_8cpp.html#a2675de1d8479c7b00387979714da43f7">getParent</a>()),</div>
<div class="line"><a name="l05547"></a><span class="lineno"> 5547</span>&#160;        <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>(MF-&gt;getSubtarget().getInstrInfo()) {</div>
<div class="line"><a name="l05548"></a><span class="lineno"> 5548</span>&#160;    <span class="comment">// Inspect the Loop instruction up-front, as it may be deleted when we call</span></div>
<div class="line"><a name="l05549"></a><span class="lineno"> 5549</span>&#160;    <span class="comment">// createTripCountGreaterCondition.</span></div>
<div class="line"><a name="l05550"></a><span class="lineno"> 5550</span>&#160;    <span class="keywordflow">if</span> (LoopCount-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a0363204b5fbab08a46f5a7cd7f376f78">getOpcode</a>() == PPC::LI8 || LoopCount-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a0363204b5fbab08a46f5a7cd7f376f78">getOpcode</a>() == PPC::LI)</div>
<div class="line"><a name="l05551"></a><span class="lineno"> 5551</span>&#160;      TripCount = LoopCount-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(1).<a class="code" href="classllvm_1_1MachineOperand.html#a38b28a85f818b49d8806c150b8a5b4f7">getImm</a>();</div>
<div class="line"><a name="l05552"></a><span class="lineno"> 5552</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l05553"></a><span class="lineno"> 5553</span>&#160;      TripCount = -1;</div>
<div class="line"><a name="l05554"></a><span class="lineno"> 5554</span>&#160;  }</div>
<div class="line"><a name="l05555"></a><span class="lineno"> 5555</span>&#160; </div>
<div class="line"><a name="l05556"></a><span class="lineno"> 5556</span>&#160;  <span class="keywordtype">bool</span> shouldIgnoreForPipelining(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>)<span class="keyword"> const override </span>{</div>
<div class="line"><a name="l05557"></a><span class="lineno"> 5557</span>&#160;    <span class="comment">// Only ignore the terminator.</span></div>
<div class="line"><a name="l05558"></a><span class="lineno"> 5558</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a> == EndLoop;</div>
<div class="line"><a name="l05559"></a><span class="lineno"> 5559</span>&#160;  }</div>
<div class="line"><a name="l05560"></a><span class="lineno"> 5560</span>&#160; </div>
<div class="line"><a name="l05561"></a><span class="lineno"> 5561</span>&#160;  std::optional&lt;bool&gt; createTripCountGreaterCondition(</div>
<div class="line"><a name="l05562"></a><span class="lineno"> 5562</span>&#160;      <span class="keywordtype">int</span> TC, <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>,</div>
<div class="line"><a name="l05563"></a><span class="lineno"> 5563</span>&#160;      <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;MachineOperand&gt;</a> &amp;<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>)<span class="keyword"> override </span>{</div>
<div class="line"><a name="l05564"></a><span class="lineno"> 5564</span>&#160;    <span class="keywordflow">if</span> (TripCount == -1) {</div>
<div class="line"><a name="l05565"></a><span class="lineno"> 5565</span>&#160;      <span class="comment">// Since BDZ/BDZ8 that we will insert will also decrease the ctr by 1,</span></div>
<div class="line"><a name="l05566"></a><span class="lineno"> 5566</span>&#160;      <span class="comment">// so we don&#39;t need to generate any thing here.</span></div>
<div class="line"><a name="l05567"></a><span class="lineno"> 5567</span>&#160;      <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>.push_back(<a class="code" href="classllvm_1_1MachineOperand.html#ab09679b541a6ba1219b3602569847364">MachineOperand::CreateImm</a>(0));</div>
<div class="line"><a name="l05568"></a><span class="lineno"> 5568</span>&#160;      <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>.push_back(<a class="code" href="classllvm_1_1MachineOperand.html#af2c351dad09a71aa08e1d85c67ae6e53">MachineOperand::CreateReg</a>(</div>
<div class="line"><a name="l05569"></a><span class="lineno"> 5569</span>&#160;          MF-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#a325f6b611ef9ec06798d3b4eb9572093">getSubtarget</a>&lt;<a class="code" href="classllvm_1_1PPCSubtarget.html">PPCSubtarget</a>&gt;().<a class="code" href="classllvm_1_1PPCSubtarget.html#a6622b99b3c00a3938d969957312b1b52">isPPC64</a>() ? PPC::CTR8 : PPC::CTR,</div>
<div class="line"><a name="l05570"></a><span class="lineno"> 5570</span>&#160;          <span class="keyword">true</span>));</div>
<div class="line"><a name="l05571"></a><span class="lineno"> 5571</span>&#160;      <span class="keywordflow">return</span> {};</div>
<div class="line"><a name="l05572"></a><span class="lineno"> 5572</span>&#160;    }</div>
<div class="line"><a name="l05573"></a><span class="lineno"> 5573</span>&#160; </div>
<div class="line"><a name="l05574"></a><span class="lineno"> 5574</span>&#160;    <span class="keywordflow">return</span> TripCount &gt; TC;</div>
<div class="line"><a name="l05575"></a><span class="lineno"> 5575</span>&#160;  }</div>
<div class="line"><a name="l05576"></a><span class="lineno"> 5576</span>&#160; </div>
<div class="line"><a name="l05577"></a><span class="lineno"> 5577</span>&#160;  <span class="keywordtype">void</span> setPreheader(<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *NewPreheader)<span class="keyword"> override </span>{</div>
<div class="line"><a name="l05578"></a><span class="lineno"> 5578</span>&#160;    <span class="comment">// Do nothing. We want the LOOP setup instruction to stay in the *old*</span></div>
<div class="line"><a name="l05579"></a><span class="lineno"> 5579</span>&#160;    <span class="comment">// preheader, so we can use BDZ in the prologs to adapt the loop trip count.</span></div>
<div class="line"><a name="l05580"></a><span class="lineno"> 5580</span>&#160;  }</div>
<div class="line"><a name="l05581"></a><span class="lineno"> 5581</span>&#160; </div>
<div class="line"><a name="l05582"></a><span class="lineno"> 5582</span>&#160;  <span class="keywordtype">void</span> adjustTripCount(<span class="keywordtype">int</span> TripCountAdjust)<span class="keyword"> override </span>{</div>
<div class="line"><a name="l05583"></a><span class="lineno"> 5583</span>&#160;    <span class="comment">// If the loop trip count is a compile-time value, then just change the</span></div>
<div class="line"><a name="l05584"></a><span class="lineno"> 5584</span>&#160;    <span class="comment">// value.</span></div>
<div class="line"><a name="l05585"></a><span class="lineno"> 5585</span>&#160;    <span class="keywordflow">if</span> (LoopCount-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a0363204b5fbab08a46f5a7cd7f376f78">getOpcode</a>() == PPC::LI8 ||</div>
<div class="line"><a name="l05586"></a><span class="lineno"> 5586</span>&#160;        LoopCount-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a0363204b5fbab08a46f5a7cd7f376f78">getOpcode</a>() == PPC::LI) {</div>
<div class="line"><a name="l05587"></a><span class="lineno"> 5587</span>&#160;      int64_t TripCount = LoopCount-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(1).<a class="code" href="classllvm_1_1MachineOperand.html#a38b28a85f818b49d8806c150b8a5b4f7">getImm</a>() + TripCountAdjust;</div>
<div class="line"><a name="l05588"></a><span class="lineno"> 5588</span>&#160;      LoopCount-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(1).<a class="code" href="classllvm_1_1MachineOperand.html#a2feaa1c69335c6b9028076cd68c7a5f5">setImm</a>(TripCount);</div>
<div class="line"><a name="l05589"></a><span class="lineno"> 5589</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05590"></a><span class="lineno"> 5590</span>&#160;    }</div>
<div class="line"><a name="l05591"></a><span class="lineno"> 5591</span>&#160; </div>
<div class="line"><a name="l05592"></a><span class="lineno"> 5592</span>&#160;    <span class="comment">// Since BDZ/BDZ8 that we will insert will also decrease the ctr by 1,</span></div>
<div class="line"><a name="l05593"></a><span class="lineno"> 5593</span>&#160;    <span class="comment">// so we don&#39;t need to generate any thing here.</span></div>
<div class="line"><a name="l05594"></a><span class="lineno"> 5594</span>&#160;  }</div>
<div class="line"><a name="l05595"></a><span class="lineno"> 5595</span>&#160; </div>
<div class="line"><a name="l05596"></a><span class="lineno"> 5596</span>&#160;  <span class="keywordtype">void</span> disposed()<span class="keyword"> override </span>{</div>
<div class="line"><a name="l05597"></a><span class="lineno"> 5597</span>&#160;    <a class="code" href="classllvm_1_1Loop.html">Loop</a>-&gt;eraseFromParent();</div>
<div class="line"><a name="l05598"></a><span class="lineno"> 5598</span>&#160;    <span class="comment">// Ensure the loop setup instruction is deleted too.</span></div>
<div class="line"><a name="l05599"></a><span class="lineno"> 5599</span>&#160;    LoopCount-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#ac2421adbb9996e1b15f03a8abb6c70a8">eraseFromParent</a>();</div>
<div class="line"><a name="l05600"></a><span class="lineno"> 5600</span>&#160;  }</div>
<div class="line"><a name="l05601"></a><span class="lineno"> 5601</span>&#160;};</div>
<div class="line"><a name="l05602"></a><span class="lineno"> 5602</span>&#160;} <span class="comment">// namespace</span></div>
<div class="line"><a name="l05603"></a><span class="lineno"> 5603</span>&#160; </div>
<div class="line"><a name="l05604"></a><span class="lineno"> 5604</span>&#160;std::unique_ptr&lt;TargetInstrInfo::PipelinerLoopInfo&gt;</div>
<div class="line"><a name="l05605"></a><span class="lineno"><a class="line" href="classllvm_1_1PPCInstrInfo.html#adc8a417082dae00c6f459b63a65e0ed8"> 5605</a></span>&#160;<a class="code" href="classllvm_1_1PPCInstrInfo.html#adc8a417082dae00c6f459b63a65e0ed8">PPCInstrInfo::analyzeLoopForPipelining</a>(<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *LoopBB)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l05606"></a><span class="lineno"> 5606</span>&#160;  <span class="comment">// We really &quot;analyze&quot; only hardware loops right now.</span></div>
<div class="line"><a name="l05607"></a><span class="lineno"> 5607</span>&#160;  <a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = LoopBB-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#a7f0521fa2de44271fd4b909ea7351ef3">getFirstTerminator</a>();</div>
<div class="line"><a name="l05608"></a><span class="lineno"> 5608</span>&#160;  <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *Preheader = *LoopBB-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#ab644fcf07a4c2708333cf66276282357">pred_begin</a>();</div>
<div class="line"><a name="l05609"></a><span class="lineno"> 5609</span>&#160;  <span class="keywordflow">if</span> (Preheader == LoopBB)</div>
<div class="line"><a name="l05610"></a><span class="lineno"> 5610</span>&#160;    Preheader = *std::next(LoopBB-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#ab644fcf07a4c2708333cf66276282357">pred_begin</a>());</div>
<div class="line"><a name="l05611"></a><span class="lineno"> 5611</span>&#160;  <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> *MF = Preheader-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#a4e21760f681d6f97f95c8414e7b83ea5">getParent</a>();</div>
<div class="line"><a name="l05612"></a><span class="lineno"> 5612</span>&#160; </div>
<div class="line"><a name="l05613"></a><span class="lineno"> 5613</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != LoopBB-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">end</a>() &amp;&amp; <a class="code" href="classllvm_1_1PPCInstrInfo.html#a6bc6b3ade5432bb6d51e0039c8482445">isBDNZ</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getOpcode())) {</div>
<div class="line"><a name="l05614"></a><span class="lineno"> 5614</span>&#160;    <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;MachineBasicBlock *, 8&gt;</a> Visited;</div>
<div class="line"><a name="l05615"></a><span class="lineno"> 5615</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *LoopInst = <a class="code" href="classllvm_1_1PPCInstrInfo.html#a9f6bd20f6d3bb4bb60d84472550ab6e5">findLoopInstr</a>(*Preheader, Visited)) {</div>
<div class="line"><a name="l05616"></a><span class="lineno"> 5616</span>&#160;      <a class="code" href="classllvm_1_1Register.html">Register</a> LoopCountReg = LoopInst-&gt;getOperand(0).getReg();</div>
<div class="line"><a name="l05617"></a><span class="lineno"> 5617</span>&#160;      <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a> = MF-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>();</div>
<div class="line"><a name="l05618"></a><span class="lineno"> 5618</span>&#160;      <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *LoopCount = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#af988c2b4f62506108843a0fdc04b43a2">getUniqueVRegDef</a>(LoopCountReg);</div>
<div class="line"><a name="l05619"></a><span class="lineno"> 5619</span>&#160;      <span class="keywordflow">return</span> std::make_unique&lt;PPCPipelinerLoopInfo&gt;(LoopInst, &amp;*<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, LoopCount);</div>
<div class="line"><a name="l05620"></a><span class="lineno"> 5620</span>&#160;    }</div>
<div class="line"><a name="l05621"></a><span class="lineno"> 5621</span>&#160;  }</div>
<div class="line"><a name="l05622"></a><span class="lineno"> 5622</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l05623"></a><span class="lineno"> 5623</span>&#160;}</div>
<div class="line"><a name="l05624"></a><span class="lineno"> 5624</span>&#160; </div>
<div class="line"><a name="l05625"></a><span class="lineno"><a class="line" href="classllvm_1_1PPCInstrInfo.html#a9f6bd20f6d3bb4bb60d84472550ab6e5"> 5625</a></span>&#160;<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="classllvm_1_1PPCInstrInfo.html#a9f6bd20f6d3bb4bb60d84472550ab6e5">PPCInstrInfo::findLoopInstr</a>(</div>
<div class="line"><a name="l05626"></a><span class="lineno"> 5626</span>&#160;    <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;PreHeader,</div>
<div class="line"><a name="l05627"></a><span class="lineno"> 5627</span>&#160;    <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;MachineBasicBlock *, 8&gt;</a> &amp;Visited)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l05628"></a><span class="lineno"> 5628</span>&#160; </div>
<div class="line"><a name="l05629"></a><span class="lineno"> 5629</span>&#160;  <span class="keywordtype">unsigned</span> LOOPi = (Subtarget.<a class="code" href="classllvm_1_1PPCSubtarget.html#a6622b99b3c00a3938d969957312b1b52">isPPC64</a>() ? PPC::MTCTR8loop : PPC::MTCTRloop);</div>
<div class="line"><a name="l05630"></a><span class="lineno"> 5630</span>&#160; </div>
<div class="line"><a name="l05631"></a><span class="lineno"> 5631</span>&#160;  <span class="comment">// The loop set-up instruction should be in preheader</span></div>
<div class="line"><a name="l05632"></a><span class="lineno"> 5632</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> : PreHeader.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a40bf8f9579717d3f9be7640f1c6d678b">instrs</a>())</div>
<div class="line"><a name="l05633"></a><span class="lineno"> 5633</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getOpcode() == LOOPi)</div>
<div class="line"><a name="l05634"></a><span class="lineno"> 5634</span>&#160;      <span class="keywordflow">return</span> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div>
<div class="line"><a name="l05635"></a><span class="lineno"> 5635</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l05636"></a><span class="lineno"> 5636</span>&#160;}</div>
<div class="line"><a name="l05637"></a><span class="lineno"> 5637</span>&#160; </div>
<div class="line"><a name="l05638"></a><span class="lineno"> 5638</span>&#160;<span class="comment">// Return true if get the base operand, byte offset of an instruction and the</span></div>
<div class="line"><a name="l05639"></a><span class="lineno"> 5639</span>&#160;<span class="comment">// memory width. Width is the size of memory that is being loaded/stored.</span></div>
<div class="line"><a name="l05640"></a><span class="lineno"><a class="line" href="classllvm_1_1PPCInstrInfo.html#a7d841f6c4d4a0042484feff56fd25857"> 5640</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1PPCInstrInfo.html#a7d841f6c4d4a0042484feff56fd25857">PPCInstrInfo::getMemOperandWithOffsetWidth</a>(</div>
<div class="line"><a name="l05641"></a><span class="lineno"> 5641</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;LdSt, <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> *&amp;BaseReg, int64_t &amp;<a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>,</div>
<div class="line"><a name="l05642"></a><span class="lineno"> 5642</span>&#160;    <span class="keywordtype">unsigned</span> &amp;<a class="code" href="namespacellvm_1_1AMDGPU_1_1Hwreg.html#a6467ebe1e09a75203dd5f14bdfe21d11">Width</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterInfo.html">TargetRegisterInfo</a> *<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l05643"></a><span class="lineno"> 5643</span>&#160;  <span class="keywordflow">if</span> (!LdSt.<a class="code" href="classllvm_1_1MachineInstr.html#a17f5d15a7320dec2cfefb6617f711ab7">mayLoadOrStore</a>() || LdSt.<a class="code" href="classllvm_1_1MachineInstr.html#a56b7fed94faeb5bc67ee2b71608d2665">getNumExplicitOperands</a>() != 3)</div>
<div class="line"><a name="l05644"></a><span class="lineno"> 5644</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05645"></a><span class="lineno"> 5645</span>&#160; </div>
<div class="line"><a name="l05646"></a><span class="lineno"> 5646</span>&#160;  <span class="comment">// Handle only loads/stores with base register followed by immediate offset.</span></div>
<div class="line"><a name="l05647"></a><span class="lineno"> 5647</span>&#160;  <span class="keywordflow">if</span> (!LdSt.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(1).<a class="code" href="classllvm_1_1MachineOperand.html#a76f61c6784df6dc8402a8b9011041926">isImm</a>() ||</div>
<div class="line"><a name="l05648"></a><span class="lineno"> 5648</span>&#160;      (!LdSt.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(2).<a class="code" href="classllvm_1_1MachineOperand.html#a4c9594c955fec80c73ddd964b5efd554">isReg</a>() &amp;&amp; !LdSt.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(2).<a class="code" href="classllvm_1_1MachineOperand.html#ad7213433bd60dc33020246384dc18b9b">isFI</a>()))</div>
<div class="line"><a name="l05649"></a><span class="lineno"> 5649</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05650"></a><span class="lineno"> 5650</span>&#160;  <span class="keywordflow">if</span> (!LdSt.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(1).<a class="code" href="classllvm_1_1MachineOperand.html#a76f61c6784df6dc8402a8b9011041926">isImm</a>() ||</div>
<div class="line"><a name="l05651"></a><span class="lineno"> 5651</span>&#160;      (!LdSt.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(2).<a class="code" href="classllvm_1_1MachineOperand.html#a4c9594c955fec80c73ddd964b5efd554">isReg</a>() &amp;&amp; !LdSt.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(2).<a class="code" href="classllvm_1_1MachineOperand.html#ad7213433bd60dc33020246384dc18b9b">isFI</a>()))</div>
<div class="line"><a name="l05652"></a><span class="lineno"> 5652</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05653"></a><span class="lineno"> 5653</span>&#160; </div>
<div class="line"><a name="l05654"></a><span class="lineno"> 5654</span>&#160;  <span class="keywordflow">if</span> (!LdSt.<a class="code" href="classllvm_1_1MachineInstr.html#a999795324f5e7c578a97992d780080f1">hasOneMemOperand</a>())</div>
<div class="line"><a name="l05655"></a><span class="lineno"> 5655</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05656"></a><span class="lineno"> 5656</span>&#160; </div>
<div class="line"><a name="l05657"></a><span class="lineno"> 5657</span>&#160;  <a class="code" href="namespacellvm_1_1AMDGPU_1_1Hwreg.html#a6467ebe1e09a75203dd5f14bdfe21d11">Width</a> = (*LdSt.<a class="code" href="classllvm_1_1MachineInstr.html#aa5ff177bc1498508696aaf27235db3fc">memoperands_begin</a>())-&gt;<a class="code" href="XtensaAsmBackend_8cpp.html#a13a0babfc55adc9b798c39e65ec9e8a3">getSize</a>();</div>
<div class="line"><a name="l05658"></a><span class="lineno"> 5658</span>&#160;  <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> = LdSt.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(1).<a class="code" href="classllvm_1_1MachineOperand.html#a38b28a85f818b49d8806c150b8a5b4f7">getImm</a>();</div>
<div class="line"><a name="l05659"></a><span class="lineno"> 5659</span>&#160;  BaseReg = &amp;LdSt.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(2);</div>
<div class="line"><a name="l05660"></a><span class="lineno"> 5660</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l05661"></a><span class="lineno"> 5661</span>&#160;}</div>
<div class="line"><a name="l05662"></a><span class="lineno"> 5662</span>&#160; </div>
<div class="line"><a name="l05663"></a><span class="lineno"><a class="line" href="classllvm_1_1PPCInstrInfo.html#a878d28bcb9d1575d5f5e56c5b1bcf064"> 5663</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1PPCInstrInfo.html#a878d28bcb9d1575d5f5e56c5b1bcf064">PPCInstrInfo::areMemAccessesTriviallyDisjoint</a>(</div>
<div class="line"><a name="l05664"></a><span class="lineno"> 5664</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;MIa, <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;MIb)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l05665"></a><span class="lineno"> 5665</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(MIa.<a class="code" href="classllvm_1_1MachineInstr.html#a17f5d15a7320dec2cfefb6617f711ab7">mayLoadOrStore</a>() &amp;&amp; <span class="stringliteral">&quot;MIa must be a load or store.&quot;</span>);</div>
<div class="line"><a name="l05666"></a><span class="lineno"> 5666</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(MIb.<a class="code" href="classllvm_1_1MachineInstr.html#a17f5d15a7320dec2cfefb6617f711ab7">mayLoadOrStore</a>() &amp;&amp; <span class="stringliteral">&quot;MIb must be a load or store.&quot;</span>);</div>
<div class="line"><a name="l05667"></a><span class="lineno"> 5667</span>&#160; </div>
<div class="line"><a name="l05668"></a><span class="lineno"> 5668</span>&#160;  <span class="keywordflow">if</span> (MIa.<a class="code" href="classllvm_1_1MachineInstr.html#a8c161f5f015730ac6853c802c3693a41">hasUnmodeledSideEffects</a>() || MIb.<a class="code" href="classllvm_1_1MachineInstr.html#a8c161f5f015730ac6853c802c3693a41">hasUnmodeledSideEffects</a>() ||</div>
<div class="line"><a name="l05669"></a><span class="lineno"> 5669</span>&#160;      MIa.<a class="code" href="classllvm_1_1MachineInstr.html#aabc3917d917c6247778c88107945d13b">hasOrderedMemoryRef</a>() || MIb.<a class="code" href="classllvm_1_1MachineInstr.html#aabc3917d917c6247778c88107945d13b">hasOrderedMemoryRef</a>())</div>
<div class="line"><a name="l05670"></a><span class="lineno"> 5670</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05671"></a><span class="lineno"> 5671</span>&#160; </div>
<div class="line"><a name="l05672"></a><span class="lineno"> 5672</span>&#160;  <span class="comment">// Retrieve the base register, offset from the base register and width. Width</span></div>
<div class="line"><a name="l05673"></a><span class="lineno"> 5673</span>&#160;  <span class="comment">// is the size of memory that is being loaded/stored (e.g. 1, 2, 4).  If</span></div>
<div class="line"><a name="l05674"></a><span class="lineno"> 5674</span>&#160;  <span class="comment">// base registers are identical, and the offset of a lower memory access +</span></div>
<div class="line"><a name="l05675"></a><span class="lineno"> 5675</span>&#160;  <span class="comment">// the width doesn&#39;t overlap the offset of a higher memory access,</span></div>
<div class="line"><a name="l05676"></a><span class="lineno"> 5676</span>&#160;  <span class="comment">// then the memory accesses are different.</span></div>
<div class="line"><a name="l05677"></a><span class="lineno"> 5677</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterInfo.html">TargetRegisterInfo</a> *<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a> = &amp;<a class="code" href="classllvm_1_1PPCInstrInfo.html#a7736d6dc0c4303c59d1192988b8919e9">getRegisterInfo</a>();</div>
<div class="line"><a name="l05678"></a><span class="lineno"> 5678</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> *BaseOpA = <span class="keyword">nullptr</span>, *BaseOpB = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l05679"></a><span class="lineno"> 5679</span>&#160;  int64_t OffsetA = 0, OffsetB = 0;</div>
<div class="line"><a name="l05680"></a><span class="lineno"> 5680</span>&#160;  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> WidthA = 0, WidthB = 0;</div>
<div class="line"><a name="l05681"></a><span class="lineno"> 5681</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1PPCInstrInfo.html#a7d841f6c4d4a0042484feff56fd25857">getMemOperandWithOffsetWidth</a>(MIa, BaseOpA, OffsetA, WidthA, <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>) &amp;&amp;</div>
<div class="line"><a name="l05682"></a><span class="lineno"> 5682</span>&#160;      <a class="code" href="classllvm_1_1PPCInstrInfo.html#a7d841f6c4d4a0042484feff56fd25857">getMemOperandWithOffsetWidth</a>(MIb, BaseOpB, OffsetB, WidthB, <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>)) {</div>
<div class="line"><a name="l05683"></a><span class="lineno"> 5683</span>&#160;    <span class="keywordflow">if</span> (BaseOpA-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#ad7f2dc64214551418f486026ffc95fa4">isIdenticalTo</a>(*BaseOpB)) {</div>
<div class="line"><a name="l05684"></a><span class="lineno"> 5684</span>&#160;      <span class="keywordtype">int</span> LowOffset = <a class="code" href="namespacellvm.html#a57f2ca0e57f4f7b13f56f9aa16af3e0d">std::min</a>(OffsetA, OffsetB);</div>
<div class="line"><a name="l05685"></a><span class="lineno"> 5685</span>&#160;      <span class="keywordtype">int</span> HighOffset = <a class="code" href="namespacellvm.html#ab4d4bc901fedd8857f647dcc2c0d71de">std::max</a>(OffsetA, OffsetB);</div>
<div class="line"><a name="l05686"></a><span class="lineno"> 5686</span>&#160;      <span class="keywordtype">int</span> LowWidth = (LowOffset == OffsetA) ? WidthA : WidthB;</div>
<div class="line"><a name="l05687"></a><span class="lineno"> 5687</span>&#160;      <span class="keywordflow">if</span> (LowOffset + LowWidth &lt;= HighOffset)</div>
<div class="line"><a name="l05688"></a><span class="lineno"> 5688</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l05689"></a><span class="lineno"> 5689</span>&#160;    }</div>
<div class="line"><a name="l05690"></a><span class="lineno"> 5690</span>&#160;  }</div>
<div class="line"><a name="l05691"></a><span class="lineno"> 5691</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05692"></a><span class="lineno"> 5692</span>&#160;}</div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="aclassllvm_1_1PPCInstrInfo_html_ae91d2d0672c290bb7ecdc7527d6eb08c"><div class="ttname"><a href="classllvm_1_1PPCInstrInfo.html#ae91d2d0672c290bb7ecdc7527d6eb08c">llvm::PPCInstrInfo::isStoreToStackSlot</a></div><div class="ttdeci">unsigned isStoreToStackSlot(const MachineInstr &amp;MI, int &amp;FrameIndex) const override</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8cpp_source.html#l01127">PPCInstrInfo.cpp:1127</a></div></div>
<div class="ttc" id="alib_2Target_2README_8txt_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">i</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2README_8txt_source.html#l00029">README.txt:29</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PPCII_html_ae73836094d8b0399ba10a6e540a363ffae65924f7be0d235dfb37b97894d631b6"><div class="ttname"><a href="namespacellvm_1_1PPCII.html#ae73836094d8b0399ba10a6e540a363ffae65924f7be0d235dfb37b97894d631b6">llvm::PPCII::MO_TLSGD_FLAG</a></div><div class="ttdeci">@ MO_TLSGD_FLAG</div><div class="ttdoc">MO_TLSGD_FLAG - If this bit is set the symbol reference is relative to TLS General Dynamic model for ...</div><div class="ttdef"><b>Definition:</b> <a href="PPC_8h_source.html#l00128">PPC.h:128</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PPCII_html_ae73836094d8b0399ba10a6e540a363ffa8884a7365b40eb87c9dbc760b641a55a"><div class="ttname"><a href="namespacellvm_1_1PPCII.html#ae73836094d8b0399ba10a6e540a363ffa8884a7365b40eb87c9dbc760b641a55a">llvm::PPCII::MO_GOT_FLAG</a></div><div class="ttdeci">@ MO_GOT_FLAG</div><div class="ttdoc">MO_GOT_FLAG - If this bit is set the symbol reference is to be computed via the GOT.</div><div class="ttdef"><b>Definition:</b> <a href="PPC_8h_source.html#l00119">PPC.h:119</a></div></div>
<div class="ttc" id="aPPCInstrInfo_8cpp_html_adb5cfef98fae3198ba07782223965882"><div class="ttname"><a href="PPCInstrInfo_8cpp.html#adb5cfef98fae3198ba07782223965882">InfoArrayIdxFSubInst</a></div><div class="ttdeci">#define InfoArrayIdxFSubInst</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8cpp_source.html#l00297">PPCInstrInfo.cpp:297</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetMachine_html_a3f36b7c907385d9b367f7b22a9fcc797"><div class="ttname"><a href="classllvm_1_1TargetMachine.html#a3f36b7c907385d9b367f7b22a9fcc797">llvm::TargetMachine::getOptLevel</a></div><div class="ttdeci">CodeGenOpt::Level getOptLevel() const</div><div class="ttdoc">Returns the optimization level: None, Less, Default, or Aggressive.</div><div class="ttdef"><b>Definition:</b> <a href="TargetMachine_8cpp_source.html#l00182">TargetMachine.cpp:182</a></div></div>
<div class="ttc" id="anamespacellvm_html_a42932b5e23d28c3fefca0ab878a56a7c"><div class="ttname"><a href="namespacellvm.html#a42932b5e23d28c3fefca0ab878a56a7c">llvm::getCRFromCRBit</a></div><div class="ttdeci">static unsigned getCRFromCRBit(unsigned SrcReg)</div><div class="ttdef"><b>Definition:</b> <a href="PPCRegisterInfo_8h_source.html#l00026">PPCRegisterInfo.h:26</a></div></div>
<div class="ttc" id="aREADME__ALTIVEC_8txt_html_a9d3ba236d13373cde794da2023acc7a0"><div class="ttname"><a href="README__ALTIVEC_8txt.html#a9d3ba236d13373cde794da2023acc7a0">Attrs</a></div><div class="ttdeci">Function Attrs</div><div class="ttdef"><b>Definition:</b> <a href="README__ALTIVEC_8txt_source.html#l00215">README_ALTIVEC.txt:215</a></div></div>
<div class="ttc" id="aPPCInstrInfo_8cpp_html_a3abad49282c799b7daeacb2b1bd5272b"><div class="ttname"><a href="PPCInstrInfo_8cpp.html#a3abad49282c799b7daeacb2b1bd5272b">isAnImmediateOperand</a></div><div class="ttdeci">static bool isAnImmediateOperand(const MachineOperand &amp;MO)</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8cpp_source.html#l03085">PPCInstrInfo.cpp:3085</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_ad4a32b52ea36d2c35a9860fe263d0574"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#ad4a32b52ea36d2c35a9860fe263d0574">llvm::MachineInstr::clearRegisterDeads</a></div><div class="ttdeci">void clearRegisterDeads(Register Reg)</div><div class="ttdoc">Clear all dead flags on operands defining register Reg.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8cpp_source.html#l02021">MachineInstr.cpp:2021</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PPC_html_a14028f7fe73a11dabc6583510cc0a355a8a796e02eaa344b39a352e03938f0680"><div class="ttname"><a href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355a8a796e02eaa344b39a352e03938f0680">llvm::PPC::PRED_GT_PLUS</a></div><div class="ttdeci">@ PRED_GT_PLUS</div><div class="ttdef"><b>Definition:</b> <a href="PPCPredicates_8h_source.html#l00047">PPCPredicates.h:47</a></div></div>
<div class="ttc" id="aScheduleDAG_8h_html"><div class="ttname"><a href="ScheduleDAG_8h.html">ScheduleDAG.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_a3d48d31197f4a45d95605b5ade51ab27"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a3d48d31197f4a45d95605b5ade51ab27">llvm::MachineInstr::uses</a></div><div class="ttdeci">iterator_range&lt; mop_iterator &gt; uses()</div><div class="ttdoc">Returns a range that includes all operands that are register uses.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00689">MachineInstr.h:689</a></div></div>
<div class="ttc" id="aclassllvm_1_1PPCInstrInfo_html_a76f800670cc87a59e8df8f90f74ffc02"><div class="ttname"><a href="classllvm_1_1PPCInstrInfo.html#a76f800670cc87a59e8df8f90f74ffc02">llvm::PPCInstrInfo::decomposeMachineOperandsTargetFlags</a></div><div class="ttdeci">std::pair&lt; unsigned, unsigned &gt; decomposeMachineOperandsTargetFlags(unsigned TF) const override</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8cpp_source.html#l02978">PPCInstrInfo.cpp:2978</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_ab644fcf07a4c2708333cf66276282357"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#ab644fcf07a4c2708333cf66276282357">llvm::MachineBasicBlock::pred_begin</a></div><div class="ttdeci">pred_iterator pred_begin()</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00357">MachineBasicBlock.h:357</a></div></div>
<div class="ttc" id="aIRTranslator_8cpp_html_abe44dfdea65b4f7e11e0a608ab708b76"><div class="ttname"><a href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a></div><div class="ttdeci">IRTranslator LLVM IR MI</div><div class="ttdef"><b>Definition:</b> <a href="IRTranslator_8cpp_source.html#l00109">IRTranslator.cpp:109</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstrBuilder_html_a4f1ceb770fe3446bfb2b3fa26858098f"><div class="ttname"><a href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">llvm::MachineInstrBuilder::addImm</a></div><div class="ttdeci">const MachineInstrBuilder &amp; addImm(int64_t Val) const</div><div class="ttdoc">Add a new immediate operand.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00131">MachineInstrBuilder.h:131</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PPC_html_a14028f7fe73a11dabc6583510cc0a355a7023259b1bc446d1de0f1565deb639c0"><div class="ttname"><a href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355a7023259b1bc446d1de0f1565deb639c0">llvm::PPC::PRED_UN_PLUS</a></div><div class="ttdeci">@ PRED_UN_PLUS</div><div class="ttdef"><b>Definition:</b> <a href="PPCPredicates_8h_source.html#l00049">PPCPredicates.h:49</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineConstantPool_html_afd6691ddb5d4adf50d744297e18a1c6d"><div class="ttname"><a href="classllvm_1_1MachineConstantPool.html#afd6691ddb5d4adf50d744297e18a1c6d">llvm::MachineConstantPool::getConstantPoolIndex</a></div><div class="ttdeci">unsigned getConstantPoolIndex(const Constant *C, Align Alignment)</div><div class="ttdoc">getConstantPoolIndex - Create a new entry in the constant pool or return an existing one.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8cpp_source.html#l01441">MachineFunction.cpp:1441</a></div></div>
<div class="ttc" id="anamespacellvm_html"><div class="ttname"><a href="namespacellvm.html">llvm</a></div><div class="ttdoc">This is an optimization pass for GlobalISel generic memory operations.</div><div class="ttdef"><b>Definition:</b> <a href="AddressRanges_8h_source.html#l00018">AddressRanges.h:18</a></div></div>
<div class="ttc" id="aclassllvm_1_1StackMapOpers_html"><div class="ttname"><a href="classllvm_1_1StackMapOpers.html">llvm::StackMapOpers</a></div><div class="ttdoc">MI-level stackmap operands.</div><div class="ttdef"><b>Definition:</b> <a href="StackMaps_8h_source.html#l00035">StackMaps.h:35</a></div></div>
<div class="ttc" id="aclassllvm_1_1PPCInstrInfo_html_a360d9458a82cc4a80442ad84450945e1"><div class="ttname"><a href="classllvm_1_1PPCInstrInfo.html#a360d9458a82cc4a80442ad84450945e1">llvm::PPCInstrInfo::fixupIsDeadOrKill</a></div><div class="ttdeci">void fixupIsDeadOrKill(MachineInstr *StartMI, MachineInstr *EndMI, unsigned RegNo) const</div><div class="ttdoc">Fixup killed/dead flag for register RegNo between instructions [StartMI, EndMI].</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8cpp_source.html#l03470">PPCInstrInfo.cpp:3470</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PPC_html_a14028f7fe73a11dabc6583510cc0a355a46cd6e935d7b9cc679d9cb0cf025ae91"><div class="ttname"><a href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355a46cd6e935d7b9cc679d9cb0cf025ae91">llvm::PPC::PRED_LT</a></div><div class="ttdeci">@ PRED_LT</div><div class="ttdef"><b>Definition:</b> <a href="PPCPredicates_8h_source.html#l00027">PPCPredicates.h:27</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110aa31dda85603496c333a105d53ce62150"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aa31dda85603496c333a105d53ce62150">llvm::ISD::PATCHPOINT</a></div><div class="ttdeci">@ PATCHPOINT</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l01303">ISDOpcodes.h:1303</a></div></div>
<div class="ttc" id="aAArch64ExpandPseudoInsts_8cpp_html_a6cf2f8996b1e9aaf2d7a435aaa62382f"><div class="ttname"><a href="AArch64ExpandPseudoInsts_8cpp.html#a6cf2f8996b1e9aaf2d7a435aaa62382f">UseMI</a></div><div class="ttdeci">MachineInstrBuilder &amp; UseMI</div><div class="ttdef"><b>Definition:</b> <a href="AArch64ExpandPseudoInsts_8cpp_source.html#l00107">AArch64ExpandPseudoInsts.cpp:107</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_a47f5c74e1b14ba4a61db057400644acc"><div class="ttname"><a href="classllvm_1_1Value.html#a47f5c74e1b14ba4a61db057400644acc">llvm::Value::getPointerAlignment</a></div><div class="ttdeci">Align getPointerAlignment(const DataLayout &amp;DL) const</div><div class="ttdoc">Returns an alignment of the pointer value.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8cpp_source.html#l00918">Value.cpp:918</a></div></div>
<div class="ttc" id="aclassllvm_1_1PPCInstrInfo_html_ad6408dc62ff8fa8de6c9c6daa57b897f"><div class="ttname"><a href="classllvm_1_1PPCInstrInfo.html#ad6408dc62ff8fa8de6c9c6daa57b897f">llvm::PPCInstrInfo::replaceInstrOperandWithImm</a></div><div class="ttdeci">void replaceInstrOperandWithImm(MachineInstr &amp;MI, unsigned OpNo, int64_t Imm) const</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8cpp_source.html#l03252">PPCInstrInfo.cpp:3252</a></div></div>
<div class="ttc" id="aclassllvm_1_1RegPressureTracker_html_a5d044b599a2e3a1007e31a120105c9d7"><div class="ttname"><a href="classllvm_1_1RegPressureTracker.html#a5d044b599a2e3a1007e31a120105c9d7">llvm::RegPressureTracker::init</a></div><div class="ttdeci">void init(const MachineFunction *mf, const RegisterClassInfo *rci, const LiveIntervals *lis, const MachineBasicBlock *mbb, MachineBasicBlock::const_iterator pos, bool TrackLaneMasks, bool TrackUntiedDefs)</div><div class="ttdoc">Setup the RegPressureTracker.</div><div class="ttdef"><b>Definition:</b> <a href="RegisterPressure_8cpp_source.html#l00263">RegisterPressure.cpp:263</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetInstrInfo_html_a7242b69b2f705111801d717e2ea243b5"><div class="ttname"><a href="classllvm_1_1TargetInstrInfo.html#a7242b69b2f705111801d717e2ea243b5">llvm::TargetInstrInfo::CreateTargetHazardRecognizer</a></div><div class="ttdeci">virtual ScheduleHazardRecognizer * CreateTargetHazardRecognizer(const TargetSubtargetInfo *STI, const ScheduleDAG *DAG) const</div><div class="ttdoc">Allocate and return a hazard recognizer to use for this target when scheduling the machine instructio...</div><div class="ttdef"><b>Definition:</b> <a href="TargetInstrInfo_8cpp_source.html#l01184">TargetInstrInfo.cpp:1184</a></div></div>
<div class="ttc" id="aclassllvm_1_1DataLayout_html"><div class="ttname"><a href="classllvm_1_1DataLayout.html">llvm::DataLayout</a></div><div class="ttdoc">A parsed version of the target data layout string in and methods for querying it.</div><div class="ttdef"><b>Definition:</b> <a href="DataLayout_8h_source.html#l00110">DataLayout.h:110</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a7415ab9f2172c59a2ee7c7a02afa56a4"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7415ab9f2172c59a2ee7c7a02afa56a4">llvm::ISD::OR</a></div><div class="ttdeci">@ OR</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00667">ISDOpcodes.h:667</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_af2c351dad09a71aa08e1d85c67ae6e53"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#af2c351dad09a71aa08e1d85c67ae6e53">llvm::MachineOperand::CreateReg</a></div><div class="ttdeci">static MachineOperand CreateReg(Register Reg, bool isDef, bool isImp=false, bool isKill=false, bool isDead=false, bool isUndef=false, bool isEarlyClobber=false, unsigned SubReg=0, bool isDebug=false, bool isInternalRead=false, bool isRenamable=false)</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00833">MachineOperand.h:833</a></div></div>
<div class="ttc" id="aPPCInstrInfo_8cpp_html_aa359bc3e76e065f5495cf482d6ff987c"><div class="ttname"><a href="PPCInstrInfo_8cpp.html#aa359bc3e76e065f5495cf482d6ff987c">EnableFMARegPressureReduction</a></div><div class="ttdeci">static cl::opt&lt; bool &gt; EnableFMARegPressureReduction(&quot;ppc-fma-rp-reduction&quot;, cl::Hidden, cl::init(true), cl::desc(&quot;enable register pressure reduce in machine combiner pass.&quot;))</div></div>
<div class="ttc" id="aclassllvm_1_1PPCInstrInfo_html_a7941fd2c7d339dfe155c4327fd95fab0"><div class="ttname"><a href="classllvm_1_1PPCInstrInfo.html#a7941fd2c7d339dfe155c4327fd95fab0">llvm::PPCInstrInfo::expandPostRAPseudo</a></div><div class="ttdeci">bool expandPostRAPseudo(MachineInstr &amp;MI) const override</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8cpp_source.html#l03089">PPCInstrInfo.cpp:3089</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PPCISD_html_ad1c32e5bb1cb213fb836bc3d221e4f19a160ec67350dc5e964fc0a12a9cde1df8"><div class="ttname"><a href="namespacellvm_1_1PPCISD.html#ad1c32e5bb1cb213fb836bc3d221e4f19a160ec67350dc5e964fc0a12a9cde1df8">llvm::PPCISD::BDNZ</a></div><div class="ttdeci">@ BDNZ</div><div class="ttdoc">CHAIN = BDNZ CHAIN, DESTBB - These are used to create counter-based loops.</div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8h_source.html#l00298">PPCISelLowering.h:298</a></div></div>
<div class="ttc" id="anamespacellvm_1_1WebAssembly_html_a8252c3c3e2c889ea98eea628b81d2999"><div class="ttname"><a href="namespacellvm_1_1WebAssembly.html#a8252c3c3e2c889ea98eea628b81d2999">llvm::WebAssembly::Nop</a></div><div class="ttdeci">static const unsigned Nop</div><div class="ttdoc">Instruction opcodes emitted via means other than CodeGen.</div><div class="ttdef"><b>Definition:</b> <a href="WebAssemblyMCTargetDesc_8h_source.html#l00134">WebAssemblyMCTargetDesc.h:134</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineRegisterInfo_html_a5c77792a06583e0fe7a0379ad94a2809"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#a5c77792a06583e0fe7a0379ad94a2809">llvm::MachineRegisterInfo::createVirtualRegister</a></div><div class="ttdeci">Register createVirtualRegister(const TargetRegisterClass *RegClass, StringRef Name=&quot;&quot;)</div><div class="ttdoc">createVirtualRegister - Create and return a new virtual register in the function with the specified r...</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8cpp_source.html#l00157">MachineRegisterInfo.cpp:157</a></div></div>
<div class="ttc" id="aAMDGPURewriteUndefForPHI_8cpp_html_a2e83cb1bc3f5e8986cbd14575755a134"><div class="ttname"><a href="AMDGPURewriteUndefForPHI_8cpp.html#a2e83cb1bc3f5e8986cbd14575755a134">PHI</a></div><div class="ttdeci">Rewrite undef for PHI</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPURewriteUndefForPHI_8cpp_source.html#l00101">AMDGPURewriteUndefForPHI.cpp:101</a></div></div>
<div class="ttc" id="anamespacellvm_html_acbd62c639eb89998b853a9327a42785ca552472cd4a0e9484b7c8f5d113d357ce"><div class="ttname"><a href="namespacellvm.html#acbd62c639eb89998b853a9327a42785ca552472cd4a0e9484b7c8f5d113d357ce">llvm::SOK_SpillToVSR</a></div><div class="ttdeci">@ SOK_SpillToVSR</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8h_source.html#l00129">PPCInstrInfo.h:129</a></div></div>
<div class="ttc" id="anamespacellvm_html_acbd62c639eb89998b853a9327a42785ca5e182f0c1ef3dbb6499c1b6e929146e9"><div class="ttname"><a href="namespacellvm.html#acbd62c639eb89998b853a9327a42785ca5e182f0c1ef3dbb6499c1b6e929146e9">llvm::SOK_PairedVecSpill</a></div><div class="ttdeci">@ SOK_PairedVecSpill</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8h_source.html#l00130">PPCInstrInfo.h:130</a></div></div>
<div class="ttc" id="anamespacellvm_html_a1eb5609345b906d024fbf9e4bc1adc06a2d68d32ff95cd10b4899c2823ec28e97"><div class="ttname"><a href="namespacellvm.html#a1eb5609345b906d024fbf9e4bc1adc06a2d68d32ff95cd10b4899c2823ec28e97">llvm::Latency</a></div><div class="ttdeci">@ Latency</div><div class="ttdef"><b>Definition:</b> <a href="SIMachineScheduler_8h_source.html#l00034">SIMachineScheduler.h:34</a></div></div>
<div class="ttc" id="astructllvm_1_1ImmInstrInfo_html_a528b7ccd92e952d902dd916aa4c0ad4b"><div class="ttname"><a href="structllvm_1_1ImmInstrInfo.html#a528b7ccd92e952d902dd916aa4c0ad4b">llvm::ImmInstrInfo::OpNoForForwarding</a></div><div class="ttdeci">uint64_t OpNoForForwarding</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8h_source.html#l00096">PPCInstrInfo.h:96</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_ac8718f1c761727d429180f0ce340f7f0"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#ac8718f1c761727d429180f0ce340f7f0">llvm::MachineOperand::getGlobal</a></div><div class="ttdeci">const GlobalValue * getGlobal() const</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00582">MachineOperand.h:582</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineRegisterInfo_html"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html">llvm::MachineRegisterInfo</a></div><div class="ttdoc">MachineRegisterInfo - Keep track of information for virtual and physical registers,...</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8h_source.html#l00051">MachineRegisterInfo.h:51</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_a17f5d15a7320dec2cfefb6617f711ab7"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a17f5d15a7320dec2cfefb6617f711ab7">llvm::MachineInstr::mayLoadOrStore</a></div><div class="ttdeci">bool mayLoadOrStore(QueryType Type=AnyInBundle) const</div><div class="ttdoc">Return true if this instruction could possibly read or modify memory.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l01079">MachineInstr.h:1079</a></div></div>
<div class="ttc" id="aclassllvm_1_1PPCFunctionInfo_html_ad56d6a4ebccec8c13d1f1e8b982ff0ba"><div class="ttname"><a href="classllvm_1_1PPCFunctionInfo.html#ad56d6a4ebccec8c13d1f1e8b982ff0ba">llvm::PPCFunctionInfo::setSpillsCR</a></div><div class="ttdeci">void setSpillsCR()</div><div class="ttdef"><b>Definition:</b> <a href="PPCMachineFunctionInfo_8h_source.html#l00209">PPCMachineFunctionInfo.h:209</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_a56b7fed94faeb5bc67ee2b71608d2665"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a56b7fed94faeb5bc67ee2b71608d2665">llvm::MachineInstr::getNumExplicitOperands</a></div><div class="ttdeci">unsigned getNumExplicitOperands() const</div><div class="ttdoc">Returns the number of non-implicit operands.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8cpp_source.html#l00734">MachineInstr.cpp:734</a></div></div>
<div class="ttc" id="astructllvm_1_1LoadImmediateInfo_html_a66834eb3a0e2888f90445ced87675079"><div class="ttname"><a href="structllvm_1_1LoadImmediateInfo.html#a66834eb3a0e2888f90445ced87675079">llvm::LoadImmediateInfo::SetCR</a></div><div class="ttdeci">unsigned SetCR</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8h_source.html#l00114">PPCInstrInfo.h:114</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstrBuilder_html_a1ac8d27532cfd1d1f032ecbff2ba3611"><div class="ttname"><a href="classllvm_1_1MachineInstrBuilder.html#a1ac8d27532cfd1d1f032ecbff2ba3611">llvm::MachineInstrBuilder::add</a></div><div class="ttdeci">const MachineInstrBuilder &amp; add(const MachineOperand &amp;MO) const</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00224">MachineInstrBuilder.h:224</a></div></div>
<div class="ttc" id="aclassllvm_1_1Function_html"><div class="ttname"><a href="classllvm_1_1Function.html">llvm::Function</a></div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00059">Function.h:59</a></div></div>
<div class="ttc" id="aPPCInstrInfo_8cpp_html_a607c99a73bb0675e29902e00bcdba194"><div class="ttname"><a href="PPCInstrInfo_8cpp.html#a607c99a73bb0675e29902e00bcdba194">InfoArrayIdxAddOpIdx</a></div><div class="ttdeci">#define InfoArrayIdxAddOpIdx</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8cpp_source.html#l00295">PPCInstrInfo.cpp:295</a></div></div>
<div class="ttc" id="aclassllvm_1_1Loop_html"><div class="ttname"><a href="classllvm_1_1Loop.html">llvm::Loop</a></div><div class="ttdoc">Represents a single loop in the control flow graph.</div><div class="ttdef"><b>Definition:</b> <a href="LoopInfo_8h_source.html#l00547">LoopInfo.h:547</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PPCII_html_ae73836094d8b0399ba10a6e540a363ffad1af346db81472a462b7f04fa9498ab4"><div class="ttname"><a href="namespacellvm_1_1PPCII.html#ae73836094d8b0399ba10a6e540a363ffad1af346db81472a462b7f04fa9498ab4">llvm::PPCII::MO_GOT_TLSLD_PCREL_FLAG</a></div><div class="ttdeci">@ MO_GOT_TLSLD_PCREL_FLAG</div><div class="ttdoc">MO_GOT_TLSLD_PCREL_FLAG - A combintaion of flags, if these bits are set they should produce the reloc...</div><div class="ttdef"><b>Definition:</b> <a href="PPC_8h_source.html#l00150">PPC.h:150</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_aa5ff177bc1498508696aaf27235db3fc"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#aa5ff177bc1498508696aaf27235db3fc">llvm::MachineInstr::memoperands_begin</a></div><div class="ttdeci">mmo_iterator memoperands_begin() const</div><div class="ttdoc">Access to memory operands of the instruction.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00731">MachineInstr.h:731</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCInstrDesc_html_afa2cee6d743bcfb8946e6dcc4a6cc443"><div class="ttname"><a href="classllvm_1_1MCInstrDesc.html#afa2cee6d743bcfb8946e6dcc4a6cc443">llvm::MCInstrDesc::isPseudo</a></div><div class="ttdeci">bool isPseudo() const</div><div class="ttdoc">Return true if this is a pseudo instruction that doesn't correspond to a real machine instruction.</div><div class="ttdef"><b>Definition:</b> <a href="MCInstrDesc_8h_source.html#l00268">MCInstrDesc.h:268</a></div></div>
<div class="ttc" id="aREADME-SSE_8txt_html_a63d206a063eefcdf8c318ded97b65020"><div class="ttname"><a href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a></div><div class="ttdeci">This currently compiles esp xmm0 movsd esp eax eax esp ret We should use not the dag combiner This is because dagcombine2 needs to be able to see through the X86ISD::Wrapper which DAGCombine can t really do The code for turning x load into a single vector load is target independent and should be moved to the dag combiner The code for turning x load into a vector load can only handle a direct load from a global or a direct load from the stack It should be generalized to handle any load from P</div><div class="ttdef"><b>Definition:</b> <a href="README-SSE_8txt_source.html#l00411">README-SSE.txt:411</a></div></div>
<div class="ttc" id="aclassllvm_1_1RegisterOperands_html"><div class="ttname"><a href="classllvm_1_1RegisterOperands.html">llvm::RegisterOperands</a></div><div class="ttdoc">List of registers defined and used by a machine instruction.</div><div class="ttdef"><b>Definition:</b> <a href="RegisterPressure_8h_source.html#l00166">RegisterPressure.h:166</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PPC_html_a14028f7fe73a11dabc6583510cc0a355a44abec85091b571da2189ac4bd139095"><div class="ttname"><a href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355a44abec85091b571da2189ac4bd139095">llvm::PPC::PRED_GE</a></div><div class="ttdeci">@ PRED_GE</div><div class="ttdef"><b>Definition:</b> <a href="PPCPredicates_8h_source.html#l00030">PPCPredicates.h:30</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_a40bf8f9579717d3f9be7640f1c6d678b"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#a40bf8f9579717d3f9be7640f1c6d678b">llvm::MachineBasicBlock::instrs</a></div><div class="ttdeci">instr_range instrs()</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00304">MachineBasicBlock.h:304</a></div></div>
<div class="ttc" id="astructllvm_1_1MachinePointerInfo_html_a8b1a64bd0c1be7a99998055c78d1312b"><div class="ttname"><a href="structllvm_1_1MachinePointerInfo.html#a8b1a64bd0c1be7a99998055c78d1312b">llvm::MachinePointerInfo::getConstantPool</a></div><div class="ttdeci">static MachinePointerInfo getConstantPool(MachineFunction &amp;MF)</div><div class="ttdoc">Return a MachinePointerInfo record that refers to the constant pool.</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8cpp_source.html#l01043">MachineOperand.cpp:1043</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ARM__MB_html_ad70272e2a9ec2a7e3a497458e1edbc85a7289f7156c17c31399fe5226bf556781"><div class="ttname"><a href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85a7289f7156c17c31399fe5226bf556781">llvm::ARM_MB::LD</a></div><div class="ttdeci">@ LD</div><div class="ttdef"><b>Definition:</b> <a href="MCTargetDesc_2ARMBaseInfo_8h_source.html#l00072">ARMBaseInfo.h:72</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a20084f62caecb0db80ad71bdabda73c2"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a20084f62caecb0db80ad71bdabda73c2">llvm::ISD::ADDC</a></div><div class="ttdeci">@ ADDC</div><div class="ttdoc">Carry-setting nodes for multiple precision addition and subtraction.</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00269">ISDOpcodes.h:269</a></div></div>
<div class="ttc" id="aAArch64AdvSIMDScalarPass_8cpp_html_a1112b818386ec01ddfdf3a5d0024eb17"><div class="ttname"><a href="AArch64AdvSIMDScalarPass_8cpp.html#a1112b818386ec01ddfdf3a5d0024eb17">contains</a></div><div class="ttdeci">return AArch64::GPR64RegClass contains(Reg)</div></div>
<div class="ttc" id="aclassllvm_1_1PPCInstrInfo_html_a8118d9f62c345028220579c9d1ca4061"><div class="ttname"><a href="classllvm_1_1PPCInstrInfo.html#a8118d9f62c345028220579c9d1ca4061">llvm::PPCInstrInfo::optimizeCompareInstr</a></div><div class="ttdeci">bool optimizeCompareInstr(MachineInstr &amp;CmpInstr, Register SrcReg, Register SrcReg2, int64_t Mask, int64_t Value, const MachineRegisterInfo *MRI) const override</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8cpp_source.html#l02386">PPCInstrInfo.cpp:2386</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_a8a82683fccdef8a5ef772ef03277aee7"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a8a82683fccdef8a5ef772ef03277aee7">llvm::MachineOperand::setIsKill</a></div><div class="ttdeci">void setIsKill(bool Val=true)</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00519">MachineOperand.h:519</a></div></div>
<div class="ttc" id="anamespacellvm_1_1CodeModel_html_afc59396a9e5809fc92938e203d91a8dfa29275c05d0afdbda643f7a0fbad83832"><div class="ttname"><a href="namespacellvm_1_1CodeModel.html#afc59396a9e5809fc92938e203d91a8dfa29275c05d0afdbda643f7a0fbad83832">llvm::CodeModel::Medium</a></div><div class="ttdeci">@ Medium</div><div class="ttdef"><b>Definition:</b> <a href="CodeGen_8h_source.html#l00031">CodeGen.h:31</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVector_html"><div class="ttname"><a href="classllvm_1_1SmallVector.html">llvm::SmallVector&lt; MachineInstr *, 4 &gt;</a></div></div>
<div class="ttc" id="aPPCInstrBuilder_8h_html"><div class="ttname"><a href="PPCInstrBuilder_8h.html">PPCInstrBuilder.h</a></div></div>
<div class="ttc" id="aStatistic_8h_html"><div class="ttname"><a href="Statistic_8h.html">Statistic.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1PPCInstrInfo_html_a4a925741128762aa8606a501ed9dad40"><div class="ttname"><a href="classllvm_1_1PPCInstrInfo.html#a4a925741128762aa8606a501ed9dad40">llvm::PPCInstrInfo::isVFRegister</a></div><div class="ttdeci">static bool isVFRegister(unsigned Reg)</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8h_source.html#l00712">PPCInstrInfo.h:712</a></div></div>
<div class="ttc" id="aclassllvm_1_1PPCInstrInfo_html_abdb97a58f07f1fae1322c4989cacf4f5"><div class="ttname"><a href="classllvm_1_1PPCInstrInfo.html#abdb97a58f07f1fae1322c4989cacf4f5">llvm::PPCInstrInfo::copyPhysReg</a></div><div class="ttdeci">void copyPhysReg(MachineBasicBlock &amp;MBB, MachineBasicBlock::iterator I, const DebugLoc &amp;DL, MCRegister DestReg, MCRegister SrcReg, bool KillSrc) const override</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8cpp_source.html#l01683">PPCInstrInfo.cpp:1683</a></div></div>
<div class="ttc" id="aPPCInstrInfo_8cpp_html_af6776e5555063ea14c4668a4bcacae27"><div class="ttname"><a href="PPCInstrInfo_8cpp.html#af6776e5555063ea14c4668a4bcacae27">swapMIOperands</a></div><div class="ttdeci">static void swapMIOperands(MachineInstr &amp;MI, unsigned Op1, unsigned Op2)</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8cpp_source.html#l04409">PPCInstrInfo.cpp:4409</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html_a0d496cc15e312863869a384532968143"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#a0d496cc15e312863869a384532968143">llvm::MachineFunction::getMachineMemOperand</a></div><div class="ttdeci">MachineMemOperand * getMachineMemOperand(MachinePointerInfo PtrInfo, MachineMemOperand::Flags f, uint64_t s, Align base_alignment, const AAMDNodes &amp;AAInfo=AAMDNodes(), const MDNode *Ranges=nullptr, SyncScope::ID SSID=SyncScope::System, AtomicOrdering Ordering=AtomicOrdering::NotAtomic, AtomicOrdering FailureOrdering=AtomicOrdering::NotAtomic)</div><div class="ttdoc">getMachineMemOperand - Allocate a new MachineMemOperand.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8cpp_source.html#l00469">MachineFunction.cpp:469</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetInstrInfo_html_a46ab782fa8efa2745e4fe000a1cd3d5a"><div class="ttname"><a href="classllvm_1_1TargetInstrInfo.html#a46ab782fa8efa2745e4fe000a1cd3d5a">llvm::TargetInstrInfo::getMachineCombinerPatterns</a></div><div class="ttdeci">virtual bool getMachineCombinerPatterns(MachineInstr &amp;Root, SmallVectorImpl&lt; MachineCombinerPattern &gt; &amp;Patterns, bool DoRegPressureReduce) const</div><div class="ttdoc">Return true when there is potentially a faster code sequence for an instruction chain ending in Root.</div><div class="ttdef"><b>Definition:</b> <a href="TargetInstrInfo_8cpp_source.html#l00786">TargetInstrInfo.cpp:786</a></div></div>
<div class="ttc" id="aSupport_2ErrorHandling_8h_html"><div class="ttname"><a href="Support_2ErrorHandling_8h.html">ErrorHandling.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1PPCInstrInfo_html_abb74390d58054b92bc0a5373d7cfc61f"><div class="ttname"><a href="classllvm_1_1PPCInstrInfo.html#abb74390d58054b92bc0a5373d7cfc61f">llvm::PPCInstrInfo::loadRegFromStackSlot</a></div><div class="ttdeci">void loadRegFromStackSlot(MachineBasicBlock &amp;MBB, MachineBasicBlock::iterator MBBI, Register DestReg, int FrameIndex, const TargetRegisterClass *RC, const TargetRegisterInfo *TRI, Register VReg) const override</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8cpp_source.html#l02031">PPCInstrInfo.cpp:2031</a></div></div>
<div class="ttc" id="aclassllvm_1_1Function_html_ae6a4da5f41fc6a36735cc1704c01ce60"><div class="ttname"><a href="classllvm_1_1Function.html#ae6a4da5f41fc6a36735cc1704c01ce60">llvm::Function::getEntryBlock</a></div><div class="ttdeci">const BasicBlock &amp; getEntryBlock() const</div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00735">Function.h:735</a></div></div>
<div class="ttc" id="aclassllvm_1_1PPCInstrInfo_html_aff2173f1b09ff7e5b1458b9441bcf10d"><div class="ttname"><a href="classllvm_1_1PPCInstrInfo.html#aff2173f1b09ff7e5b1458b9441bcf10d">llvm::PPCInstrInfo::getDefMIPostRA</a></div><div class="ttdeci">MachineInstr * getDefMIPostRA(unsigned Reg, MachineInstr &amp;MI, bool &amp;SeenIntermediateUse) const</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8cpp_source.html#l03306">PPCInstrInfo.cpp:3306</a></div></div>
<div class="ttc" id="anamespacellvm_1_1X86Disassembler_html_a1e59b79e1d09149912cad9c0ef2809ad"><div class="ttname"><a href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">llvm::X86Disassembler::Reg</a></div><div class="ttdeci">Reg</div><div class="ttdoc">All possible values of the reg field in the ModR/M byte.</div><div class="ttdef"><b>Definition:</b> <a href="X86DisassemblerDecoder_8h_source.html#l00462">X86DisassemblerDecoder.h:462</a></div></div>
<div class="ttc" id="aPPCInstrInfo_8cpp_html_a0b7ca65c5b5aa6d4c80bcddfdd9e520c"><div class="ttname"><a href="PPCInstrInfo_8cpp.html#a0b7ca65c5b5aa6d4c80bcddfdd9e520c">MBBDefinesCTR</a></div><div class="ttdeci">static bool MBBDefinesCTR(MachineBasicBlock &amp;MBB)</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8cpp_source.html#l02142">PPCInstrInfo.cpp:2142</a></div></div>
<div class="ttc" id="anamespacellvm_html_acbd62c639eb89998b853a9327a42785caa1cb45d6cf8359ae1263b96540c68f03"><div class="ttname"><a href="namespacellvm.html#acbd62c639eb89998b853a9327a42785caa1cb45d6cf8359ae1263b96540c68f03">llvm::SOK_VRVectorSpill</a></div><div class="ttdeci">@ SOK_VRVectorSpill</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8h_source.html#l00125">PPCInstrInfo.h:125</a></div></div>
<div class="ttc" id="aclassllvm_1_1PPCInstrInfo_html_a71d26c25426803c700863bc98bc1d4fd"><div class="ttname"><a href="classllvm_1_1PPCInstrInfo.html#a71d26c25426803c700863bc98bc1d4fd">llvm::PPCInstrInfo::reverseBranchCondition</a></div><div class="ttdeci">bool reverseBranchCondition(SmallVectorImpl&lt; MachineOperand &gt; &amp;Cond) const override</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8cpp_source.html#l02050">PPCInstrInfo.cpp:2050</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineRegisterInfo_html_af988c2b4f62506108843a0fdc04b43a2"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#af988c2b4f62506108843a0fdc04b43a2">llvm::MachineRegisterInfo::getUniqueVRegDef</a></div><div class="ttdeci">MachineInstr * getUniqueVRegDef(Register Reg) const</div><div class="ttdoc">getUniqueVRegDef - Return the unique machine instr that defines the specified virtual register or nul...</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8cpp_source.html#l00409">MachineRegisterInfo.cpp:409</a></div></div>
<div class="ttc" id="aclassllvm_1_1PPCSubtarget_html_a28415ce4666a90927eb2a6a69aa40e90"><div class="ttname"><a href="classllvm_1_1PPCSubtarget.html#a28415ce4666a90927eb2a6a69aa40e90">llvm::PPCSubtarget::getFrameLowering</a></div><div class="ttdeci">const PPCFrameLowering * getFrameLowering() const override</div><div class="ttdef"><b>Definition:</b> <a href="PPCSubtarget_8h_source.html#l00142">PPCSubtarget.h:142</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineRegisterInfo_1_1defusechain__instr__iterator_html"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo_1_1defusechain__instr__iterator.html">llvm::MachineRegisterInfo::defusechain_instr_iterator</a></div><div class="ttdoc">defusechain_iterator - This class provides iterator support for machine operands in the function that...</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8h_source.html#l00291">MachineRegisterInfo.h:291</a></div></div>
<div class="ttc" id="aclassllvm_1_1PPCInstrInfo_html_abb7303094f9b99f0ca06a9eb606dcb26"><div class="ttname"><a href="classllvm_1_1PPCInstrInfo.html#abb7303094f9b99f0ca06a9eb606dcb26">llvm::PPCInstrInfo::analyzeCompare</a></div><div class="ttdeci">bool analyzeCompare(const MachineInstr &amp;MI, Register &amp;SrcReg, Register &amp;SrcReg2, int64_t &amp;Mask, int64_t &amp;Value) const override</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8cpp_source.html#l02356">PPCInstrInfo.cpp:2356</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PPC_html_a14028f7fe73a11dabc6583510cc0a355aa55740b85ae5278b5e206d20eeef303a"><div class="ttname"><a href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355aa55740b85ae5278b5e206d20eeef303a">llvm::PPC::PRED_LE_MINUS</a></div><div class="ttdeci">@ PRED_LE_MINUS</div><div class="ttdef"><b>Definition:</b> <a href="PPCPredicates_8h_source.html#l00036">PPCPredicates.h:36</a></div></div>
<div class="ttc" id="aclassllvm_1_1PPCInstrInfo_html"><div class="ttname"><a href="classllvm_1_1PPCInstrInfo.html">llvm::PPCInstrInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8h_source.html#l00212">PPCInstrInfo.h:212</a></div></div>
<div class="ttc" id="aRegisterClassInfo_8h_html"><div class="ttname"><a href="RegisterClassInfo_8h.html">RegisterClassInfo.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PPC_html_a2108c96efd9d9e1b89dd25b89a23ed1a"><div class="ttname"><a href="namespacellvm_1_1PPC.html#a2108c96efd9d9e1b89dd25b89a23ed1a">llvm::PPC::getNonRecordFormOpcode</a></div><div class="ttdeci">int getNonRecordFormOpcode(uint16_t)</div></div>
<div class="ttc" id="aclassllvm_1_1MCInstrDesc_html_a9491e6e3afc420c33cf508189bb12c3b"><div class="ttname"><a href="classllvm_1_1MCInstrDesc.html#a9491e6e3afc420c33cf508189bb12c3b">llvm::MCInstrDesc::operands</a></div><div class="ttdeci">ArrayRef&lt; MCOperandInfo &gt; operands() const</div><div class="ttdef"><b>Definition:</b> <a href="MCInstrDesc_8h_source.html#l00239">MCInstrDesc.h:239</a></div></div>
<div class="ttc" id="anamespacellvm_1_1cl_html_a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6"><div class="ttname"><a href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">llvm::cl::Hidden</a></div><div class="ttdeci">@ Hidden</div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00138">CommandLine.h:138</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_af3bee3e462a14abdf3858c354a5cd222"><div class="ttname"><a href="classllvm_1_1APInt.html#af3bee3e462a14abdf3858c354a5cd222">llvm::APInt::getBitsSetWithWrap</a></div><div class="ttdeci">static APInt getBitsSetWithWrap(unsigned numBits, unsigned loBit, unsigned hiBit)</div><div class="ttdoc">Wrap version of getBitsSet.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00253">APInt.h:253</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_a2feaa1c69335c6b9028076cd68c7a5f5"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a2feaa1c69335c6b9028076cd68c7a5f5">llvm::MachineOperand::setImm</a></div><div class="ttdeci">void setImm(int64_t immVal)</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00684">MachineOperand.h:684</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetRegisterInfo_html"><div class="ttname"><a href="classllvm_1_1TargetRegisterInfo.html">llvm::TargetRegisterInfo</a></div><div class="ttdoc">TargetRegisterInfo base class - We assume that the target defines a static array of TargetRegisterDes...</div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8h_source.html#l00236">TargetRegisterInfo.h:236</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCRegisterInfo_html_a8ce9439c5f364d8b85930e0ee689bbb8"><div class="ttname"><a href="classllvm_1_1MCRegisterInfo.html#a8ce9439c5f364d8b85930e0ee689bbb8">llvm::MCRegisterInfo::getEncodingValue</a></div><div class="ttdeci">uint16_t getEncodingValue(MCRegister RegNo) const</div><div class="ttdoc">Returns the encoding for RegNo.</div><div class="ttdef"><b>Definition:</b> <a href="MCRegisterInfo_8h_source.html#l00553">MCRegisterInfo.h:553</a></div></div>
<div class="ttc" id="aclassllvm_1_1PPCInstrInfo_html_a849ceee707ad46510fd6a651de065478"><div class="ttname"><a href="classllvm_1_1PPCInstrInfo.html#a849ceee707ad46510fd6a651de065478">llvm::PPCInstrInfo::isADDInstrEligibleForFolding</a></div><div class="ttdeci">bool isADDInstrEligibleForFolding(MachineInstr &amp;ADDMI) const</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8cpp_source.html#l03703">PPCInstrInfo.cpp:3703</a></div></div>
<div class="ttc" id="aclassllvm_1_1PPCFrameLowering_html_af2c21693e6284bea34b3ebbece45efdd"><div class="ttname"><a href="classllvm_1_1PPCFrameLowering.html#af2c21693e6284bea34b3ebbece45efdd">llvm::PPCFrameLowering::getTOCSaveOffset</a></div><div class="ttdeci">uint64_t getTOCSaveOffset() const</div><div class="ttdoc">getTOCSaveOffset - Return the previous frame offset to save the TOC register – 64-bit SVR4 ABI only.</div><div class="ttdef"><b>Definition:</b> <a href="PPCFrameLowering_8cpp_source.html#l02698">PPCFrameLowering.cpp:2698</a></div></div>
<div class="ttc" id="aclassllvm_1_1RegPressureTracker_html"><div class="ttname"><a href="classllvm_1_1RegPressureTracker.html">llvm::RegPressureTracker</a></div><div class="ttdoc">Track the current register pressure at some position in the instruction stream, and remember the high...</div><div class="ttdef"><b>Definition:</b> <a href="RegisterPressure_8h_source.html#l00357">RegisterPressure.h:357</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html"><div class="ttname"><a href="classllvm_1_1Type.html">llvm::Type</a></div><div class="ttdoc">The instances of the Type class are immutable: once they are created, they are never changed.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00045">Type.h:45</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PPCII_html_ae73836094d8b0399ba10a6e540a363ffa77f81a23f8ce498f9ef4bbc5433c116b"><div class="ttname"><a href="namespacellvm_1_1PPCII.html#ae73836094d8b0399ba10a6e540a363ffa77f81a23f8ce498f9ef4bbc5433c116b">llvm::PPCII::MO_TLSLD_FLAG</a></div><div class="ttdeci">@ MO_TLSLD_FLAG</div><div class="ttdoc">MO_TLSLD_FLAG - If this bit is set the symbol reference is relative to TLS Local Dynamic model.</div><div class="ttdef"><b>Definition:</b> <a href="PPC_8h_source.html#l00136">PPC.h:136</a></div></div>
<div class="ttc" id="aPPCInstrInfo_8cpp_html_a2020155e83c7126b4863de105c09bd45"><div class="ttname"><a href="PPCInstrInfo_8cpp.html#a2020155e83c7126b4863de105c09bd45">DisableCTRLoopAnal</a></div><div class="ttdeci">static cl::opt&lt; bool &gt; DisableCTRLoopAnal(&quot;disable-ppc-ctrloop-analysis&quot;, cl::Hidden, cl::desc(&quot;Disable analysis for CTR loops&quot;))</div></div>
<div class="ttc" id="aclassllvm_1_1MachineRegisterInfo_html_af400646844b3c80b534e81a0d855ed4a"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#af400646844b3c80b534e81a0d855ed4a">llvm::MachineRegisterInfo::use_instructions</a></div><div class="ttdeci">iterator_range&lt; use_instr_iterator &gt; use_instructions(Register Reg) const</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8h_source.html#l00507">MachineRegisterInfo.h:507</a></div></div>
<div class="ttc" id="aclassllvm_1_1PPCInstrInfo_html_a51043d2a1b0696b32dbf2430676658c6"><div class="ttname"><a href="classllvm_1_1PPCInstrInfo.html#a51043d2a1b0696b32dbf2430676658c6">llvm::PPCInstrInfo::getStoreOpcodeForSpill</a></div><div class="ttdeci">unsigned getStoreOpcodeForSpill(const TargetRegisterClass *RC) const</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8cpp_source.html#l01920">PPCInstrInfo.cpp:1920</a></div></div>
<div class="ttc" id="aPPCInstrInfo_8cpp_html_a33e79f764c95a364fa5fcb22078d621a"><div class="ttname"><a href="PPCInstrInfo_8cpp.html#a33e79f764c95a364fa5fcb22078d621a">getCRBitValue</a></div><div class="ttdeci">static unsigned getCRBitValue(unsigned CRBit)</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8cpp_source.html#l01656">PPCInstrInfo.cpp:1656</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineMemOperand_html"><div class="ttname"><a href="classllvm_1_1MachineMemOperand.html">llvm::MachineMemOperand</a></div><div class="ttdoc">A description of a memory reference used in the backend.</div><div class="ttdef"><b>Definition:</b> <a href="MachineMemOperand_8h_source.html#l00127">MachineMemOperand.h:127</a></div></div>
<div class="ttc" id="astructllvm_1_1ImmInstrInfo_html_aae8bd368f3ad729fdc192b2eb4ca80bf"><div class="ttname"><a href="structllvm_1_1ImmInstrInfo.html#aae8bd368f3ad729fdc192b2eb4ca80bf">llvm::ImmInstrInfo::ZeroIsSpecialNew</a></div><div class="ttdeci">uint64_t ZeroIsSpecialNew</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8h_source.html#l00092">PPCInstrInfo.h:92</a></div></div>
<div class="ttc" id="anamespacellvm_html_acbd62c639eb89998b853a9327a42785ca62e8ee8df07d6b527477605bcec74f7f"><div class="ttname"><a href="namespacellvm.html#acbd62c639eb89998b853a9327a42785ca62e8ee8df07d6b527477605bcec74f7f">llvm::SOK_PairedG8Spill</a></div><div class="ttdeci">@ SOK_PairedG8Spill</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8h_source.html#l00135">PPCInstrInfo.h:135</a></div></div>
<div class="ttc" id="anamespacellvm_1_1M68kII_html_adb1ef011f9833415094dce191a23ad88a57e0e9fc5c5f19541861ef8dd3161679"><div class="ttname"><a href="namespacellvm_1_1M68kII.html#adb1ef011f9833415094dce191a23ad88a57e0e9fc5c5f19541861ef8dd3161679">llvm::M68kII::MO_PLT</a></div><div class="ttdeci">@ MO_PLT</div><div class="ttdoc">On a symbol operand this indicates that the immediate is offset to the PLT entry of symbol name from ...</div><div class="ttdef"><b>Definition:</b> <a href="M68kBaseInfo_8h_source.html#l00133">M68kBaseInfo.h:133</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05aa7ba426d2c5be23f07eed089dad2c708"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05aa7ba426d2c5be23f07eed089dad2c708">llvm::MachineCombinerPattern::REASSOC_XY_BAC</a></div><div class="ttdeci">@ REASSOC_XY_BAC</div></div>
<div class="ttc" id="anamespacellvm_html_a3dd7c56278c84a39f699241bdaade2ee"><div class="ttname"><a href="namespacellvm.html#a3dd7c56278c84a39f699241bdaade2ee">llvm::getDeadRegState</a></div><div class="ttdeci">unsigned getDeadRegState(bool B)</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00534">MachineInstrBuilder.h:534</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_ab05719438bdf4b46871e5ecd9730caeb"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#ab05719438bdf4b46871e5ecd9730caeb">llvm::MachineInstr::getMF</a></div><div class="ttdeci">const MachineFunction * getMF() const</div><div class="ttdoc">Return the function that contains the basic block that this instruction belongs to.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8cpp_source.html#l00691">MachineInstr.cpp:691</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PPCISD_html_ad1c32e5bb1cb213fb836bc3d221e4f19a31d181189194ec87162affcc5e92b150"><div class="ttname"><a href="namespacellvm_1_1PPCISD.html#ad1c32e5bb1cb213fb836bc3d221e4f19a31d181189194ec87162affcc5e92b150">llvm::PPCISD::XXSPLTI32DX</a></div><div class="ttdeci">@ XXSPLTI32DX</div><div class="ttdoc">XXSPLTI32DX - The PPC XXSPLTI32DX instruction.</div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8h_source.html#l00114">PPCISelLowering.h:114</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PPCII_html_ae73836094d8b0399ba10a6e540a363ffaf045b588ae476aff3ea48b77c042f7b1"><div class="ttname"><a href="namespacellvm_1_1PPCII.html#ae73836094d8b0399ba10a6e540a363ffaf045b588ae476aff3ea48b77c042f7b1">llvm::PPCII::MO_GOT_TLSGD_PCREL_FLAG</a></div><div class="ttdeci">@ MO_GOT_TLSGD_PCREL_FLAG</div><div class="ttdoc">MO_GOT_TLSGD_PCREL_FLAG - A combintaion of flags, if these bits are set they should produce the reloc...</div><div class="ttdef"><b>Definition:</b> <a href="PPC_8h_source.html#l00145">PPC.h:145</a></div></div>
<div class="ttc" id="astructllvm_1_1LoadImmediateInfo_html_acaf80d046c8829eb2e8f84a785ded662"><div class="ttname"><a href="structllvm_1_1LoadImmediateInfo.html#acaf80d046c8829eb2e8f84a785ded662">llvm::LoadImmediateInfo::Is64Bit</a></div><div class="ttdeci">unsigned Is64Bit</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8h_source.html#l00113">PPCInstrInfo.h:113</a></div></div>
<div class="ttc" id="aclassllvm_1_1PPCFunctionInfo_html"><div class="ttname"><a href="classllvm_1_1PPCFunctionInfo.html">llvm::PPCFunctionInfo</a></div><div class="ttdoc">PPCFunctionInfo - This class is derived from MachineFunction private PowerPC target-specific informat...</div><div class="ttdef"><b>Definition:</b> <a href="PPCMachineFunctionInfo_8h_source.html#l00024">PPCMachineFunctionInfo.h:24</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallPtrSet_html"><div class="ttname"><a href="classllvm_1_1SmallPtrSet.html">llvm::SmallPtrSet</a></div><div class="ttdoc">SmallPtrSet - This class implements a set which is optimized for holding SmallSize or less elements.</div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00450">SmallPtrSet.h:450</a></div></div>
<div class="ttc" id="aclassllvm_1_1PPCInstrInfo_html_a6bc6b3ade5432bb6d51e0039c8482445"><div class="ttname"><a href="classllvm_1_1PPCInstrInfo.html#a6bc6b3ade5432bb6d51e0039c8482445">llvm::PPCInstrInfo::isBDNZ</a></div><div class="ttdeci">bool isBDNZ(unsigned Opcode) const</div><div class="ttdoc">Check Opcode is BDNZ (Decrement CTR and branch if it is still nonzero).</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8cpp_source.html#l05531">PPCInstrInfo.cpp:5531</a></div></div>
<div class="ttc" id="aclassllvm_1_1PPCSubtarget_html_a1e40ab97212e20147852cfd69a885be1"><div class="ttname"><a href="classllvm_1_1PPCSubtarget.html#a1e40ab97212e20147852cfd69a885be1">llvm::PPCSubtarget::getTargetMachine</a></div><div class="ttdeci">const PPCTargetMachine &amp; getTargetMachine() const</div><div class="ttdef"><b>Definition:</b> <a href="PPCSubtarget_8h_source.html#l00155">PPCSubtarget.h:155</a></div></div>
<div class="ttc" id="aclassllvm_1_1PPCInstrInfo_html_a5ccaef728fa7584f286ab605174a0b0b"><div class="ttname"><a href="classllvm_1_1PPCInstrInfo.html#a5ccaef728fa7584f286ab605174a0b0b">llvm::PPCInstrInfo::setSpecialOperandAttr</a></div><div class="ttdeci">void setSpecialOperandAttr(MachineInstr &amp;OldMI1, MachineInstr &amp;OldMI2, MachineInstr &amp;NewMI1, MachineInstr &amp;NewMI2) const override</div><div class="ttdoc">This is an architecture-specific helper function of reassociateOps.</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8cpp_source.html#l00223">PPCInstrInfo.cpp:223</a></div></div>
<div class="ttc" id="aclassllvm_1_1PPCInstrInfo_html_aa88dfb98a274ef5f8da3ce147c8c45eb"><div class="ttname"><a href="classllvm_1_1PPCInstrInfo.html#aa88dfb98a274ef5f8da3ce147c8c45eb">llvm::PPCInstrInfo::getInstrLatency</a></div><div class="ttdeci">unsigned getInstrLatency(const InstrItineraryData *ItinData, const MachineInstr &amp;MI, unsigned *PredCost=nullptr) const override</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8cpp_source.html#l00138">PPCInstrInfo.cpp:138</a></div></div>
<div class="ttc" id="aPPCInstrInfo_8cpp_html_a7a5f94868bf6843af2b55629fe15eb17"><div class="ttname"><a href="PPCInstrInfo_8cpp.html#a7a5f94868bf6843af2b55629fe15eb17">InfoArrayIdxFMAInst</a></div><div class="ttdeci">#define InfoArrayIdxFMAInst</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8cpp_source.html#l00292">PPCInstrInfo.cpp:292</a></div></div>
<div class="ttc" id="aclassllvm_1_1PPCInstrInfo_html_a4b960847db9b452e5be6bbc411fbb8f2"><div class="ttname"><a href="classllvm_1_1PPCInstrInfo.html#a4b960847db9b452e5be6bbc411fbb8f2">llvm::PPCInstrInfo::storeRegToStackSlot</a></div><div class="ttdeci">void storeRegToStackSlot(MachineBasicBlock &amp;MBB, MachineBasicBlock::iterator MBBI, Register SrcReg, bool isKill, int FrameIndex, const TargetRegisterClass *RC, const TargetRegisterInfo *TRI, Register VReg) const override</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8cpp_source.html#l01973">PPCInstrInfo.cpp:1973</a></div></div>
<div class="ttc" id="anamespacellvm_html_ab4d4bc901fedd8857f647dcc2c0d71de"><div class="ttname"><a href="namespacellvm.html#ab4d4bc901fedd8857f647dcc2c0d71de">llvm::max</a></div><div class="ttdeci">Expected&lt; ExpressionValue &gt; max(const ExpressionValue &amp;Lhs, const ExpressionValue &amp;Rhs)</div><div class="ttdef"><b>Definition:</b> <a href="FileCheck_8cpp_source.html#l00337">FileCheck.cpp:337</a></div></div>
<div class="ttc" id="aclassllvm_1_1PPCInstrInfo_html_af14abbf5d3082cd072fe85f6f5fe2eea"><div class="ttname"><a href="classllvm_1_1PPCInstrInfo.html#af14abbf5d3082cd072fe85f6f5fe2eea">llvm::PPCInstrInfo::insertSelect</a></div><div class="ttdeci">void insertSelect(MachineBasicBlock &amp;MBB, MachineBasicBlock::iterator MI, const DebugLoc &amp;DL, Register DstReg, ArrayRef&lt; MachineOperand &gt; Cond, Register TrueReg, Register FalseReg) const override</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8cpp_source.html#l01571">PPCInstrInfo.cpp:1571</a></div></div>
<div class="ttc" id="aclassllvm_1_1PPCFunctionInfo_html_afa7d92ef59a14f26d941fdacaf49f165"><div class="ttname"><a href="classllvm_1_1PPCFunctionInfo.html#afa7d92ef59a14f26d941fdacaf49f165">llvm::PPCFunctionInfo::setHasSpills</a></div><div class="ttdeci">void setHasSpills()</div><div class="ttdef"><b>Definition:</b> <a href="PPCMachineFunctionInfo_8h_source.html#l00203">PPCMachineFunctionInfo.h:203</a></div></div>
<div class="ttc" id="anamespacellvm_1_1MipsISD_html_a422daf9aa810935178671306b651d69ba366e1eac31eeb1a1892d62ccfc0c8cf8"><div class="ttname"><a href="namespacellvm_1_1MipsISD.html#a422daf9aa810935178671306b651d69ba366e1eac31eeb1a1892d62ccfc0c8cf8">llvm::MipsISD::Ret</a></div><div class="ttdeci">@ Ret</div><div class="ttdef"><b>Definition:</b> <a href="MipsISelLowering_8h_source.html#l00119">MipsISelLowering.h:119</a></div></div>
<div class="ttc" id="aSTLExtras_8h_html"><div class="ttname"><a href="STLExtras_8h.html">STLExtras.h</a></div></div>
<div class="ttc" id="anamespacellvm_html_acbd62c639eb89998b853a9327a42785cad6f94e7677f5f7e66a69bf57efa2a228"><div class="ttname"><a href="namespacellvm.html#acbd62c639eb89998b853a9327a42785cad6f94e7677f5f7e66a69bf57efa2a228">llvm::SOK_LastOpcodeSpill</a></div><div class="ttdeci">@ SOK_LastOpcodeSpill</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8h_source.html#l00136">PPCInstrInfo.h:136</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PPC_html_a14028f7fe73a11dabc6583510cc0a355a7141f86ec6aca10eb4cf8329a20149dc"><div class="ttname"><a href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355a7141f86ec6aca10eb4cf8329a20149dc">llvm::PPC::PRED_NE_PLUS</a></div><div class="ttdeci">@ PRED_NE_PLUS</div><div class="ttdef"><b>Definition:</b> <a href="PPCPredicates_8h_source.html#l00048">PPCPredicates.h:48</a></div></div>
<div class="ttc" id="aclassllvm_1_1RegPressureTracker_html_a1844e0ed5cc8c90d7afaad0bea1e48d7"><div class="ttname"><a href="classllvm_1_1RegPressureTracker.html#a1844e0ed5cc8c90d7afaad0bea1e48d7">llvm::RegPressureTracker::closeRegion</a></div><div class="ttdeci">void closeRegion()</div><div class="ttdoc">Finalize the region boundaries and recored live ins and live outs.</div><div class="ttdef"><b>Definition:</b> <a href="RegisterPressure_8cpp_source.html#l00343">RegisterPressure.cpp:343</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCInst_html"><div class="ttname"><a href="classllvm_1_1MCInst.html">llvm::MCInst</a></div><div class="ttdoc">Instances of this class represent a single low-level machine instruction.</div><div class="ttdef"><b>Definition:</b> <a href="MCInst_8h_source.html#l00184">MCInst.h:184</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PPC_html_a020638ddecc65637bc0282f5ee857d50ab81d0aba13bef5a963bb14709390283e"><div class="ttname"><a href="namespacellvm_1_1PPC.html#a020638ddecc65637bc0282f5ee857d50ab81d0aba13bef5a963bb14709390283e">llvm::PPC::DIR_A2</a></div><div class="ttdeci">@ DIR_A2</div><div class="ttdef"><b>Definition:</b> <a href="PPCSubtarget_8h_source.html#l00050">PPCSubtarget.h:50</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetRegisterInfo_html_a8ba26aeb1ab043b5907d811f14f9ccce"><div class="ttname"><a href="classllvm_1_1TargetRegisterInfo.html#a8ba26aeb1ab043b5907d811f14f9ccce">llvm::TargetRegisterInfo::getRegPressureSetLimit</a></div><div class="ttdeci">virtual unsigned getRegPressureSetLimit(const MachineFunction &amp;MF, unsigned Idx) const =0</div><div class="ttdoc">Get the register unit pressure limit for this dimension.</div></div>
<div class="ttc" id="aclassllvm_1_1PPCInstrInfo_html_a16eb84143cfa149db94e8b4b4b2a8629"><div class="ttname"><a href="classllvm_1_1PPCInstrInfo.html#a16eb84143cfa149db94e8b4b4b2a8629">llvm::PPCInstrInfo::onlyFoldImmediate</a></div><div class="ttdeci">bool onlyFoldImmediate(MachineInstr &amp;UseMI, MachineInstr &amp;DefMI, Register Reg) const</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8cpp_source.html#l02063">PPCInstrInfo.cpp:2063</a></div></div>
<div class="ttc" id="aclassllvm_1_1PPCInstrInfo_html_a63d1433613d2b51a9c6389a63ccd2cce"><div class="ttname"><a href="classllvm_1_1PPCInstrInfo.html#a63d1433613d2b51a9c6389a63ccd2cce">llvm::PPCInstrInfo::CreateTargetPostRAHazardRecognizer</a></div><div class="ttdeci">ScheduleHazardRecognizer * CreateTargetPostRAHazardRecognizer(const InstrItineraryData *II, const ScheduleDAG *DAG) const override</div><div class="ttdoc">CreateTargetPostRAHazardRecognizer - Return the postRA hazard recognizer to use for this target when ...</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8cpp_source.html#l00118">PPCInstrInfo.cpp:118</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PPC_html_a14028f7fe73a11dabc6583510cc0a355a8cd4d49277068c1eab8d4d7c4835b817"><div class="ttname"><a href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355a8cd4d49277068c1eab8d4d7c4835b817">llvm::PPC::PRED_GT</a></div><div class="ttdeci">@ PRED_GT</div><div class="ttdef"><b>Definition:</b> <a href="PPCPredicates_8h_source.html#l00031">PPCPredicates.h:31</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_ad7213433bd60dc33020246384dc18b9b"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#ad7213433bd60dc33020246384dc18b9b">llvm::MachineOperand::isFI</a></div><div class="ttdeci">bool isFI() const</div><div class="ttdoc">isFI - Tests if this is a MO_FrameIndex operand.</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00339">MachineOperand.h:339</a></div></div>
<div class="ttc" id="aclassllvm_1_1PPCInstrInfo_html_acba682e84de176f762ddc4d774819cae"><div class="ttname"><a href="classllvm_1_1PPCInstrInfo.html#acba682e84de176f762ddc4d774819cae">llvm::PPCInstrInfo::shouldReduceRegisterPressure</a></div><div class="ttdeci">bool shouldReduceRegisterPressure(const MachineBasicBlock *MBB, const RegisterClassInfo *RegClassInfo) const override</div><div class="ttdoc">On PowerPC, we leverage machine combiner pass to reduce register pressure when the register pressure ...</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8cpp_source.html#l00617">PPCInstrInfo.cpp:617</a></div></div>
<div class="ttc" id="aclassllvm_1_1PPCInstrInfo_html_a4d4ad131135377f00881005a7a0163ba"><div class="ttname"><a href="classllvm_1_1PPCInstrInfo.html#a4d4ad131135377f00881005a7a0163ba">llvm::PPCInstrInfo::shouldClusterMemOps</a></div><div class="ttdeci">bool shouldClusterMemOps(ArrayRef&lt; const MachineOperand * &gt; BaseOps1, ArrayRef&lt; const MachineOperand * &gt; BaseOps2, unsigned NumLoads, unsigned NumBytes) const override</div><div class="ttdoc">Returns true if the two given memory operations should be scheduled adjacent.</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8cpp_source.html#l02901">PPCInstrInfo.cpp:2901</a></div></div>
<div class="ttc" id="astructllvm_1_1ImmInstrInfo_html_a1749c6946477b2e208391a3555fb94b9"><div class="ttname"><a href="structllvm_1_1ImmInstrInfo.html#a1749c6946477b2e208391a3555fb94b9">llvm::ImmInstrInfo::IsSummingOperands</a></div><div class="ttdeci">uint64_t IsSummingOperands</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8h_source.html#l00106">PPCInstrInfo.h:106</a></div></div>
<div class="ttc" id="aclassllvm_1_1PatchPointOpers_html"><div class="ttname"><a href="classllvm_1_1PatchPointOpers.html">llvm::PatchPointOpers</a></div><div class="ttdoc">MI-level patchpoint operands.</div><div class="ttdef"><b>Definition:</b> <a href="StackMaps_8h_source.html#l00076">StackMaps.h:76</a></div></div>
<div class="ttc" id="anamespacellvm_1_1SPII_html_a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f"><div class="ttname"><a href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">llvm::SPII::Load</a></div><div class="ttdeci">@ Load</div><div class="ttdef"><b>Definition:</b> <a href="SparcInstrInfo_8h_source.html#l00032">SparcInstrInfo.h:32</a></div></div>
<div class="ttc" id="aclassllvm_1_1InstrItineraryData_html_a70cf5735a63513dea34475b5812d520a"><div class="ttname"><a href="classllvm_1_1InstrItineraryData.html#a70cf5735a63513dea34475b5812d520a">llvm::InstrItineraryData::getOperandCycle</a></div><div class="ttdeci">int getOperandCycle(unsigned ItinClassIndx, unsigned OperandIdx) const</div><div class="ttdoc">Return the cycle for the given class and operand.</div><div class="ttdef"><b>Definition:</b> <a href="MCInstrItineraries_8h_source.html#l00167">MCInstrItineraries.h:167</a></div></div>
<div class="ttc" id="aMachineSink_8cpp_html_a0f36ed1bc17fc1aa97fe291c439a0698"><div class="ttname"><a href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a></div><div class="ttdeci">unsigned const TargetRegisterInfo * TRI</div><div class="ttdef"><b>Definition:</b> <a href="MachineSink_8cpp_source.html#l01628">MachineSink.cpp:1628</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCOperandInfo_html_a8505d3393e96652f88958b860e42197a"><div class="ttname"><a href="classllvm_1_1MCOperandInfo.html#a8505d3393e96652f88958b860e42197a">llvm::MCOperandInfo::Constraints</a></div><div class="ttdeci">uint16_t Constraints</div><div class="ttdoc">Operand constraints (see OperandConstraint enum).</div><div class="ttdef"><b>Definition:</b> <a href="MCInstrDesc_8h_source.html#l00100">MCInstrDesc.h:100</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCOperandInfo_html_aa06263df7b83bda632ddd30a94436f36"><div class="ttname"><a href="classllvm_1_1MCOperandInfo.html#aa06263df7b83bda632ddd30a94436f36">llvm::MCOperandInfo::isLookupPtrRegClass</a></div><div class="ttdeci">bool isLookupPtrRegClass() const</div><div class="ttdoc">Set if this operand is a pointer value and it requires a callback to look up its register class.</div><div class="ttdef"><b>Definition:</b> <a href="MCInstrDesc_8h_source.html#l00104">MCInstrDesc.h:104</a></div></div>
<div class="ttc" id="aclassllvm_1_1PPCInstrInfo_html_a844ba3afb5257d4a9f567d42c54c95cb"><div class="ttname"><a href="classllvm_1_1PPCInstrInfo.html#a844ba3afb5257d4a9f567d42c54c95cb">llvm::PPCInstrInfo::materializeImmPostRA</a></div><div class="ttdeci">void materializeImmPostRA(MachineBasicBlock &amp;MBB, MachineBasicBlock::iterator MBBI, const DebugLoc &amp;DL, Register Reg, int64_t Imm) const</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8cpp_source.html#l03323">PPCInstrInfo.cpp:3323</a></div></div>
<div class="ttc" id="aRISCVInsertVSETVLI_8cpp_html_a9f4a1ccc4923b17bd414716718e3febf"><div class="ttname"><a href="RISCVInsertVSETVLI_8cpp.html#a9f4a1ccc4923b17bd414716718e3febf">UseOpIdx</a></div><div class="ttdeci">unsigned UseOpIdx</div><div class="ttdef"><b>Definition:</b> <a href="RISCVInsertVSETVLI_8cpp_source.html#l00640">RISCVInsertVSETVLI.cpp:640</a></div></div>
<div class="ttc" id="aclassllvm_1_1PPCInstrInfo_html_ae0793a0ace15ba8cf0d9ee31e30dc2c5"><div class="ttname"><a href="classllvm_1_1PPCInstrInfo.html#ae0793a0ace15ba8cf0d9ee31e30dc2c5">llvm::PPCInstrInfo::replaceInstrWithLI</a></div><div class="ttdeci">void replaceInstrWithLI(MachineInstr &amp;MI, const LoadImmediateInfo &amp;LII) const</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8cpp_source.html#l03283">PPCInstrInfo.cpp:3283</a></div></div>
<div class="ttc" id="astructllvm_1_1LoadImmediateInfo_html"><div class="ttname"><a href="structllvm_1_1LoadImmediateInfo.html">llvm::LoadImmediateInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8h_source.html#l00111">PPCInstrInfo.h:111</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_a999795324f5e7c578a97992d780080f1"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a999795324f5e7c578a97992d780080f1">llvm::MachineInstr::hasOneMemOperand</a></div><div class="ttdeci">bool hasOneMemOperand() const</div><div class="ttdoc">Return true if this instruction has exactly one MachineMemOperand.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00746">MachineInstr.h:746</a></div></div>
<div class="ttc" id="aDebug_8h_html_a08efc68d15935eb8889400a46c3749ba"><div class="ttname"><a href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a></div><div class="ttdeci">#define LLVM_DEBUG(X)</div><div class="ttdef"><b>Definition:</b> <a href="Debug_8h_source.html#l00101">Debug.h:101</a></div></div>
<div class="ttc" id="aRegisterPressure_8h_html"><div class="ttname"><a href="RegisterPressure_8h.html">RegisterPressure.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PPCISD_html_ad1c32e5bb1cb213fb836bc3d221e4f19addb9d78754c1f2e6d765a0da913f0800"><div class="ttname"><a href="namespacellvm_1_1PPCISD.html#ad1c32e5bb1cb213fb836bc3d221e4f19addb9d78754c1f2e6d765a0da913f0800">llvm::PPCISD::BDZ</a></div><div class="ttdeci">@ BDZ</div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8h_source.html#l00299">PPCISelLowering.h:299</a></div></div>
<div class="ttc" id="anamespacellvm_html_acbd62c639eb89998b853a9327a42785ca736992042d4dbfdc9a86d4411a718df8"><div class="ttname"><a href="namespacellvm.html#acbd62c639eb89998b853a9327a42785ca736992042d4dbfdc9a86d4411a718df8">llvm::SOK_Float8Spill</a></div><div class="ttdeci">@ SOK_Float8Spill</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8h_source.html#l00121">PPCInstrInfo.h:121</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_aabc3917d917c6247778c88107945d13b"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#aabc3917d917c6247778c88107945d13b">llvm::MachineInstr::hasOrderedMemoryRef</a></div><div class="ttdeci">bool hasOrderedMemoryRef() const</div><div class="ttdoc">Return true if this instruction may have an ordered or volatile memory reference, or if the informati...</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8cpp_source.html#l01384">MachineInstr.cpp:1384</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AArch64II_html_ae22a65863fdb02ce99abf9ee08bcbb71add46ede0892fdd429e940eb97c1e6e55"><div class="ttname"><a href="namespacellvm_1_1AArch64II.html#ae22a65863fdb02ce99abf9ee08bcbb71add46ede0892fdd429e940eb97c1e6e55">llvm::AArch64II::MO_TLS</a></div><div class="ttdeci">@ MO_TLS</div><div class="ttdoc">MO_TLS - Indicates that the operand being accessed is some kind of thread-local symbol.</div><div class="ttdef"><b>Definition:</b> <a href="AArch64BaseInfo_8h_source.html#l00753">AArch64BaseInfo.h:753</a></div></div>
<div class="ttc" id="aMachineRegisterInfo_8h_html"><div class="ttname"><a href="MachineRegisterInfo_8h.html">MachineRegisterInfo.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_acc786576edf1d6a2697426143314bcef"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#acc786576edf1d6a2697426143314bcef">llvm::MachineBasicBlock::const_instr_iterator</a></div><div class="ttdeci">Instructions::const_iterator const_instr_iterator</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00269">MachineBasicBlock.h:269</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110ae35d57f3c020672748fcc95607348986"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ae35d57f3c020672748fcc95607348986">llvm::ISD::INLINEASM</a></div><div class="ttdeci">@ INLINEASM</div><div class="ttdoc">INLINEASM - Represents an inline asm block.</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l01024">ISDOpcodes.h:1024</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_aa548cc4a0fd9e7c713b180f7780655e2"><div class="ttname"><a href="classllvm_1_1APInt.html#aa548cc4a0fd9e7c713b180f7780655e2">llvm::APInt::rotl</a></div><div class="ttdeci">APInt rotl(unsigned rotateAmt) const</div><div class="ttdoc">Rotate left by rotateAmt.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8cpp_source.html#l01103">APInt.cpp:1103</a></div></div>
<div class="ttc" id="aclassllvm_1_1PPCInstrInfo_html_ab666db2c9fa0785e9298602f26d609f6"><div class="ttname"><a href="classllvm_1_1PPCInstrInfo.html#ab666db2c9fa0785e9298602f26d609f6">llvm::PPCInstrInfo::isCoalescableExtInstr</a></div><div class="ttdeci">bool isCoalescableExtInstr(const MachineInstr &amp;MI, Register &amp;SrcReg, Register &amp;DstReg, unsigned &amp;SubIdx) const override</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8cpp_source.html#l01056">PPCInstrInfo.cpp:1056</a></div></div>
<div class="ttc" id="aAliasAnalysis_8h_html"><div class="ttname"><a href="AliasAnalysis_8h.html">AliasAnalysis.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PPC_html_a14028f7fe73a11dabc6583510cc0a355a76dfc226a98ea8caf3c545fa54889b19"><div class="ttname"><a href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355a76dfc226a98ea8caf3c545fa54889b19">llvm::PPC::PRED_UN_MINUS</a></div><div class="ttdeci">@ PRED_UN_MINUS</div><div class="ttdef"><b>Definition:</b> <a href="PPCPredicates_8h_source.html#l00041">PPCPredicates.h:41</a></div></div>
<div class="ttc" id="anamespacellvm_html_a7c46c742c31be54870e2038048e6b391"><div class="ttname"><a href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">llvm::dbgs</a></div><div class="ttdeci">raw_ostream &amp; dbgs()</div><div class="ttdoc">dbgs() - This returns a reference to a raw_ostream for debugging messages.</div><div class="ttdef"><b>Definition:</b> <a href="Debug_8cpp_source.html#l00163">Debug.cpp:163</a></div></div>
<div class="ttc" id="aclassllvm_1_1PPCInstrInfo_html_aedca54ee65b84a32a3bf0c9a595e2fd9"><div class="ttname"><a href="classllvm_1_1PPCInstrInfo.html#aedca54ee65b84a32a3bf0c9a595e2fd9">llvm::PPCInstrInfo::getConstantFromConstantPool</a></div><div class="ttdeci">const Constant * getConstantFromConstantPool(MachineInstr *I) const</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8cpp_source.html#l00741">PPCInstrInfo.cpp:741</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_ad2f4d922d52fe33423474951f704b91b"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#ad2f4d922d52fe33423474951f704b91b">llvm::MachineInstr::getFlags</a></div><div class="ttdeci">uint16_t getFlags() const</div><div class="ttdoc">Return the MI flags bitvector.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00352">MachineInstr.h:352</a></div></div>
<div class="ttc" id="anamespacellvm_html_a73257f51950d9ea50955e3fb9c724a25"><div class="ttname"><a href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">llvm::get</a></div><div class="ttdeci">decltype(auto) get(const PointerIntPair&lt; PointerTy, IntBits, IntType, PtrTraits, Info &gt; &amp;Pair)</div><div class="ttdef"><b>Definition:</b> <a href="PointerIntPair_8h_source.html#l00234">PointerIntPair.h:234</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_a4046212ebc647b17e811837ae4ea3afd"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a4046212ebc647b17e811837ae4ea3afd">llvm::MachineOperand::isKill</a></div><div class="ttdeci">bool isKill() const</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00399">MachineOperand.h:399</a></div></div>
<div class="ttc" id="anamespacellvm_1_1BitmaskEnumDetail_html_a91efa71de05b0c2d00730a0279f58658"><div class="ttname"><a href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">llvm::BitmaskEnumDetail::Mask</a></div><div class="ttdeci">constexpr std::underlying_type_t&lt; E &gt; Mask()</div><div class="ttdoc">Get a bitmask with 1s in all places up to the high-order bit of E's largest value.</div><div class="ttdef"><b>Definition:</b> <a href="BitmaskEnum_8h_source.html#l00080">BitmaskEnum.h:80</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCOperandInfo_html"><div class="ttname"><a href="classllvm_1_1MCOperandInfo.html">llvm::MCOperandInfo</a></div><div class="ttdoc">This holds information about one operand of a machine instruction, indicating the register class for ...</div><div class="ttdef"><b>Definition:</b> <a href="MCInstrDesc_8h_source.html#l00085">MCInstrDesc.h:85</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PPC_html_a020638ddecc65637bc0282f5ee857d50aa3de856d909c5b0166919bf6e4bd1a3d"><div class="ttname"><a href="namespacellvm_1_1PPC.html#a020638ddecc65637bc0282f5ee857d50aa3de856d909c5b0166919bf6e4bd1a3d">llvm::PPC::DIR_PWR8</a></div><div class="ttdeci">@ DIR_PWR8</div><div class="ttdef"><b>Definition:</b> <a href="PPCSubtarget_8h_source.html#l00061">PPCSubtarget.h:61</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetInstrInfo_1_1PipelinerLoopInfo_html"><div class="ttname"><a href="classllvm_1_1TargetInstrInfo_1_1PipelinerLoopInfo.html">llvm::TargetInstrInfo::PipelinerLoopInfo</a></div><div class="ttdoc">Object returned by analyzeLoopForPipelining.</div><div class="ttdef"><b>Definition:</b> <a href="TargetInstrInfo_8h_source.html#l00731">TargetInstrInfo.h:731</a></div></div>
<div class="ttc" id="aCommandLine_8h_html"><div class="ttname"><a href="CommandLine_8h.html">CommandLine.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PPCII_html_ae73836094d8b0399ba10a6e540a363ffa777b254f8a19bf466553840f89ecaf31"><div class="ttname"><a href="namespacellvm_1_1PPCII.html#ae73836094d8b0399ba10a6e540a363ffa777b254f8a19bf466553840f89ecaf31">llvm::PPCII::MO_PCREL_FLAG</a></div><div class="ttdeci">@ MO_PCREL_FLAG</div><div class="ttdoc">MO_PCREL_FLAG - If this bit is set, the symbol reference is relative to the current instruction addre...</div><div class="ttdef"><b>Definition:</b> <a href="PPC_8h_source.html#l00114">PPC.h:114</a></div></div>
<div class="ttc" id="aclassllvm_1_1PPCInstrInfo_html_adaba46ae7351c9a651fc32fae020cb0d"><div class="ttname"><a href="classllvm_1_1PPCInstrInfo.html#adaba46ae7351c9a651fc32fae020cb0d">llvm::PPCInstrInfo::getInstSizeInBytes</a></div><div class="ttdeci">unsigned getInstSizeInBytes(const MachineInstr &amp;MI) const override</div><div class="ttdoc">GetInstSize - Return the number of bytes of code the specified instruction may be.</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8cpp_source.html#l02959">PPCInstrInfo.cpp:2959</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PPCISD_html_ad1c32e5bb1cb213fb836bc3d221e4f19aa71de12afd261e0b3f2e040ce1c10315"><div class="ttname"><a href="namespacellvm_1_1PPCISD.html#ad1c32e5bb1cb213fb836bc3d221e4f19aa71de12afd261e0b3f2e040ce1c10315">llvm::PPCISD::STFIWX</a></div><div class="ttdeci">@ STFIWX</div><div class="ttdoc">STFIWX - The STFIWX instruction.</div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8h_source.html#l00526">PPCISelLowering.h:526</a></div></div>
<div class="ttc" id="aMathExtras_8h_html_a9211f62d8e1e6de999eaa63ec0f6ae02"><div class="ttname"><a href="MathExtras_8h.html#a9211f62d8e1e6de999eaa63ec0f6ae02">R2</a></div><div class="ttdeci">#define R2(n)</div></div>
<div class="ttc" id="aclassllvm_1_1TargetRegisterClass_html_a60b6974966381f08079722f2258a0039"><div class="ttname"><a href="classllvm_1_1TargetRegisterClass.html#a60b6974966381f08079722f2258a0039">llvm::TargetRegisterClass::contains</a></div><div class="ttdeci">bool contains(Register Reg) const</div><div class="ttdoc">Return true if the specified register is included in this register class.</div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8h_source.html#l00096">TargetRegisterInfo.h:96</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html_ab4a6ca428289b667dd691a00e9f7e334"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">llvm::MachineFunction::getRegInfo</a></div><div class="ttdeci">MachineRegisterInfo &amp; getRegInfo()</div><div class="ttdoc">getRegInfo - Return information about the registers currently in use.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00682">MachineFunction.h:682</a></div></div>
<div class="ttc" id="aPPCInstrInfo_8cpp_html_a8d09a210107e531ce04d3c0f296142ff"><div class="ttname"><a href="PPCInstrInfo_8cpp.html#a8d09a210107e531ce04d3c0f296142ff">isClusterableLdStOpcPair</a></div><div class="ttdeci">static bool isClusterableLdStOpcPair(unsigned FirstOpc, unsigned SecondOpc, const PPCSubtarget &amp;Subtarget)</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8cpp_source.html#l02882">PPCInstrInfo.cpp:2882</a></div></div>
<div class="ttc" id="anamespacellvm_html_acbd62c639eb89998b853a9327a42785cab3e5513d06feb9145f3c8b4c1f625616"><div class="ttname"><a href="namespacellvm.html#acbd62c639eb89998b853a9327a42785cab3e5513d06feb9145f3c8b4c1f625616">llvm::SOK_SPESpill</a></div><div class="ttdeci">@ SOK_SPESpill</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8h_source.html#l00134">PPCInstrInfo.h:134</a></div></div>
<div class="ttc" id="aclassllvm_1_1PPCInstrInfo_html_a7c1001c415a0435743c316d7b941f56f"><div class="ttname"><a href="classllvm_1_1PPCInstrInfo.html#a7c1001c415a0435743c316d7b941f56f">llvm::PPCInstrInfo::insertNoop</a></div><div class="ttdeci">void insertNoop(MachineBasicBlock &amp;MBB, MachineBasicBlock::iterator MI) const override</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8cpp_source.html#l01239">PPCInstrInfo.cpp:1239</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_a30e7d619f3195fd890116da8b3ed6bab"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a30e7d619f3195fd890116da8b3ed6bab">llvm::MachineInstr::isCall</a></div><div class="ttdeci">bool isCall(QueryType Type=AnyInBundle) const</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00872">MachineInstr.h:872</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_a3bf161859e1ad7fd3da485d3cb688d34"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a3bf161859e1ad7fd3da485d3cb688d34">llvm::MachineOperand::isImplicit</a></div><div class="ttdeci">bool isImplicit() const</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00389">MachineOperand.h:389</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetInstrInfo_html"><div class="ttname"><a href="classllvm_1_1TargetInstrInfo.html">llvm::TargetInstrInfo</a></div><div class="ttdoc">TargetInstrInfo - Interface to description of machine instruction set.</div><div class="ttdef"><b>Definition:</b> <a href="TargetInstrInfo_8h_source.html#l00098">TargetInstrInfo.h:98</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetInstrInfo_html_adf4d05c8ea2fc82ae12300ef5fb48951"><div class="ttname"><a href="classllvm_1_1TargetInstrInfo.html#adf4d05c8ea2fc82ae12300ef5fb48951">llvm::TargetInstrInfo::commuteInstructionImpl</a></div><div class="ttdeci">virtual MachineInstr * commuteInstructionImpl(MachineInstr &amp;MI, bool NewMI, unsigned OpIdx1, unsigned OpIdx2) const</div><div class="ttdoc">This method commutes the operands of the given machine instruction MI.</div><div class="ttdef"><b>Definition:</b> <a href="TargetInstrInfo_8cpp_source.html#l00166">TargetInstrInfo.cpp:166</a></div></div>
<div class="ttc" id="astructllvm_1_1ImmInstrInfo_html_a0d02c7cf038307122fd7169fe910d72f"><div class="ttname"><a href="structllvm_1_1ImmInstrInfo.html#a0d02c7cf038307122fd7169fe910d72f">llvm::ImmInstrInfo::SignedImm</a></div><div class="ttdeci">uint64_t SignedImm</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8h_source.html#l00084">PPCInstrInfo.h:84</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstrBuilder_html_af8571e8dfb010fd8ae76cc4f87aafaac"><div class="ttname"><a href="classllvm_1_1MachineInstrBuilder.html#af8571e8dfb010fd8ae76cc4f87aafaac">llvm::MachineInstrBuilder::addMBB</a></div><div class="ttdeci">const MachineInstrBuilder &amp; addMBB(MachineBasicBlock *MBB, unsigned TargetFlags=0) const</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00146">MachineInstrBuilder.h:146</a></div></div>
<div class="ttc" id="aclassllvm_1_1StackMapOpers_html_a4330cae153bbaadcf79bb4917a6c3924"><div class="ttname"><a href="classllvm_1_1StackMapOpers.html#a4330cae153bbaadcf79bb4917a6c3924">llvm::StackMapOpers::getNumPatchBytes</a></div><div class="ttdeci">uint32_t getNumPatchBytes() const</div><div class="ttdoc">Return the number of patchable bytes the given stackmap should emit.</div><div class="ttdef"><b>Definition:</b> <a href="StackMaps_8h_source.html#l00050">StackMaps.h:50</a></div></div>
<div class="ttc" id="aclassllvm_1_1PPCSubtarget_html"><div class="ttname"><a href="classllvm_1_1PPCSubtarget.html">llvm::PPCSubtarget</a></div><div class="ttdef"><b>Definition:</b> <a href="PPCSubtarget_8h_source.html#l00071">PPCSubtarget.h:71</a></div></div>
<div class="ttc" id="aMipsDisassembler_8cpp_html_a15b5b86944f6df97d2c3659d77f51f91"><div class="ttname"><a href="MipsDisassembler_8cpp.html#a15b5b86944f6df97d2c3659d77f51f91">getReg</a></div><div class="ttdeci">static unsigned getReg(const MCDisassembler *D, unsigned RC, unsigned RegNo)</div><div class="ttdef"><b>Definition:</b> <a href="MipsDisassembler_8cpp_source.html#l00521">MipsDisassembler.cpp:521</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_ab09679b541a6ba1219b3602569847364"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#ab09679b541a6ba1219b3602569847364">llvm::MachineOperand::CreateImm</a></div><div class="ttdeci">static MachineOperand CreateImm(int64_t Val)</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00815">MachineOperand.h:815</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_a49cd5939942c6665aba4cae8c220dff1"><div class="ttname"><a href="classllvm_1_1APInt.html#a49cd5939942c6665aba4cae8c220dff1">llvm::APInt::isZero</a></div><div class="ttdeci">bool isZero() const</div><div class="ttdoc">Determine if this value is zero, i.e. all bits are clear.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00366">APInt.h:366</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PPC_html_a14028f7fe73a11dabc6583510cc0a355ac95bcf15367e2c983dc09a5f6dba10f9"><div class="ttname"><a href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355ac95bcf15367e2c983dc09a5f6dba10f9">llvm::PPC::PRED_NU_MINUS</a></div><div class="ttdeci">@ PRED_NU_MINUS</div><div class="ttdef"><b>Definition:</b> <a href="PPCPredicates_8h_source.html#l00042">PPCPredicates.h:42</a></div></div>
<div class="ttc" id="aclassllvm_1_1PPCInstrInfo_html_a463b524077a8bf49aff4cdcdb0a5b107"><div class="ttname"><a href="classllvm_1_1PPCInstrInfo.html#a463b524077a8bf49aff4cdcdb0a5b107">llvm::PPCInstrInfo::isXFormMemOp</a></div><div class="ttdeci">bool isXFormMemOp(unsigned Opcode) const</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8h_source.html#l00314">PPCInstrInfo.h:314</a></div></div>
<div class="ttc" id="aREADME-SSE_8txt_html_ae7fc2fb0e2d536219c1193f1a178e7db"><div class="ttname"><a href="README-SSE_8txt.html#ae7fc2fb0e2d536219c1193f1a178e7db">P2</a></div><div class="ttdeci">This might compile to this xmm1 xorps xmm0 movss xmm0 ret Now consider if the code caused xmm1 to get spilled This might produce this xmm1 movaps xmm0 movaps xmm1 movss xmm0 ret since the reload is only used by these we could fold it into the producing something like xmm1 movaps xmm0 ret saving two instructions The basic idea is that a reload from a spill if only one byte chunk is bring in zeros the one element instead of elements This can be used to simplify a variety of shuffle where the elements are fixed zeros This code generates ugly probably due to costs being off or&lt; 4 x float &gt; * P2</div><div class="ttdef"><b>Definition:</b> <a href="README-SSE_8txt_source.html#l00278">README-SSE.txt:278</a></div></div>
<div class="ttc" id="aBuiltinGCs_8cpp_html_a6742d2e0a668baf1196ec69e158d5f15"><div class="ttname"><a href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a></div><div class="ttdeci">static GCRegistry::Add&lt; CoreCLRGC &gt; E(&quot;coreclr&quot;, &quot;CoreCLR-compatible GC&quot;)</div></div>
<div class="ttc" id="anamespacellvm_1_1PPCISD_html_ad1c32e5bb1cb213fb836bc3d221e4f19a480a6977d64df14b9af6821de3f520b9"><div class="ttname"><a href="namespacellvm_1_1PPCISD.html#ad1c32e5bb1cb213fb836bc3d221e4f19a480a6977d64df14b9af6821de3f520b9">llvm::PPCISD::LFIWZX</a></div><div class="ttdeci">@ LFIWZX</div><div class="ttdoc">GPRC, CHAIN = LFIWZX CHAIN, Ptr - This is a floating-point load which zero-extends from a 32-bit inte...</div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8h_source.html#l00536">PPCISelLowering.h:536</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_a38b28a85f818b49d8806c150b8a5b4f7"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a38b28a85f818b49d8806c150b8a5b4f7">llvm::MachineOperand::getImm</a></div><div class="ttdeci">int64_t getImm() const</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00556">MachineOperand.h:556</a></div></div>
<div class="ttc" id="anamespacellvm_1_1HexagonISD_html_ab37bf6c49bc26c43ddd958218f63ba00a0fbe77e798cb4b9c9a3e62f4d2085395"><div class="ttname"><a href="namespacellvm_1_1HexagonISD.html#ab37bf6c49bc26c43ddd958218f63ba00a0fbe77e798cb4b9c9a3e62f4d2085395">llvm::HexagonISD::ISEL</a></div><div class="ttdeci">@ ISEL</div><div class="ttdef"><b>Definition:</b> <a href="HexagonISelLowering_8h_source.html#l00116">HexagonISelLowering.h:116</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html_ac2dc0fa143c9f2127f0501734577a0a0"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#ac2dc0fa143c9f2127f0501734577a0a0">llvm::MachineFunction::getInfo</a></div><div class="ttdeci">Ty * getInfo()</div><div class="ttdoc">getInfo - Keep track of various per-function pieces of information for backends that would like to do...</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00770">MachineFunction.h:770</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05aa2f29f453161dc1c201ed6159ccfa258"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05aa2f29f453161dc1c201ed6159ccfa258">llvm::MachineCombinerPattern::REASSOC_XMM_AMM_BMM</a></div><div class="ttdeci">@ REASSOC_XMM_AMM_BMM</div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_a69544ec8658eadeed98245dc37c3a541"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a69544ec8658eadeed98245dc37c3a541">llvm::MachineOperand::isUse</a></div><div class="ttdeci">bool isUse() const</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00379">MachineOperand.h:379</a></div></div>
<div class="ttc" id="aREADME__ALTIVEC_8txt_html_a9aacd9146afe44bf656cd664e2a88c8c"><div class="ttname"><a href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a></div><div class="ttdeci">(vector float) vec_cmpeq(*A, *B) C</div><div class="ttdef"><b>Definition:</b> <a href="README__ALTIVEC_8txt_source.html#l00086">README_ALTIVEC.txt:86</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_a3f7a45f6e10668a5f702e26bca80d18e"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">llvm::MachineInstr::getOperand</a></div><div class="ttdeci">const MachineOperand &amp; getOperand(unsigned i) const</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00526">MachineInstr.h:526</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PPC_html_a020638ddecc65637bc0282f5ee857d50a664d0abca2c75f8a6f8ce2dcc21cd676"><div class="ttname"><a href="namespacellvm_1_1PPC.html#a020638ddecc65637bc0282f5ee857d50a664d0abca2c75f8a6f8ce2dcc21cd676">llvm::PPC::DIR_PWR6X</a></div><div class="ttdeci">@ DIR_PWR6X</div><div class="ttdef"><b>Definition:</b> <a href="PPCSubtarget_8h_source.html#l00059">PPCSubtarget.h:59</a></div></div>
<div class="ttc" id="anamespacellvm_1_1JumpTable_html_ae69658c09df17591f8b1c3e95b879b5ca99c267524f12efe8cf927389e02d506a"><div class="ttname"><a href="namespacellvm_1_1JumpTable.html#ae69658c09df17591f8b1c3e95b879b5ca99c267524f12efe8cf927389e02d506a">llvm::JumpTable::Simplified</a></div><div class="ttdeci">@ Simplified</div><div class="ttdef"><b>Definition:</b> <a href="TargetOptions_8h_source.html#l00047">TargetOptions.h:47</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetRegisterClass_html"><div class="ttname"><a href="classllvm_1_1TargetRegisterClass.html">llvm::TargetRegisterClass</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8h_source.html#l00045">TargetRegisterInfo.h:45</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PPC_html_a0126350f85e64bcbddb8454a888b0b69"><div class="ttname"><a href="namespacellvm_1_1PPC.html#a0126350f85e64bcbddb8454a888b0b69">llvm::PPC::getSwappedPredicate</a></div><div class="ttdeci">Predicate getSwappedPredicate(Predicate Opcode)</div><div class="ttdoc">Assume the condition register is set by MI(a,b), return the predicate if we modify the instructions s...</div><div class="ttdef"><b>Definition:</b> <a href="PPCPredicates_8cpp_source.html#l00052">PPCPredicates.cpp:52</a></div></div>
<div class="ttc" id="anamespacellvm_1_1CodeGenOpt_html_ad7e52174abb1cfb84238ad1ac475ee36a71969d8670845bfa9d80ba2197dba678"><div class="ttname"><a href="namespacellvm_1_1CodeGenOpt.html#ad7e52174abb1cfb84238ad1ac475ee36a71969d8670845bfa9d80ba2197dba678">llvm::CodeGenOpt::Aggressive</a></div><div class="ttdeci">@ Aggressive</div><div class="ttdoc">-O3</div><div class="ttdef"><b>Definition:</b> <a href="CodeGen_8h_source.html#l00061">CodeGen.h:61</a></div></div>
<div class="ttc" id="aclassllvm_1_1PPCInstrInfo_html_a2f3dc5cc960be4f46fdfc635895535a5"><div class="ttname"><a href="classllvm_1_1PPCInstrInfo.html#a2f3dc5cc960be4f46fdfc635895535a5">llvm::PPCInstrInfo::getNop</a></div><div class="ttdeci">MCInst getNop() const override</div><div class="ttdoc">Return the noop instruction to use for a noop.</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8cpp_source.html#l01259">PPCInstrInfo.cpp:1259</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ms__demangle_html_afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e"><div class="ttname"><a href="namespacellvm_1_1ms__demangle.html#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">llvm::ms_demangle::QualifierMangleMode::Result</a></div><div class="ttdeci">@ Result</div></div>
<div class="ttc" id="aRISCVRedundantCopyElimination_8cpp_html_a1441f79530bc7f3a89118bb8067eac69"><div class="ttname"><a href="RISCVRedundantCopyElimination_8cpp.html#a1441f79530bc7f3a89118bb8067eac69">TBB</a></div><div class="ttdeci">const SmallVectorImpl&lt; MachineOperand &gt; MachineBasicBlock * TBB</div><div class="ttdef"><b>Definition:</b> <a href="RISCVRedundantCopyElimination_8cpp_source.html#l00076">RISCVRedundantCopyElimination.cpp:76</a></div></div>
<div class="ttc" id="anamespacellvm_html_acbd62c639eb89998b853a9327a42785caaca5fdfb3047fe3a193a24053ef69175"><div class="ttname"><a href="namespacellvm.html#acbd62c639eb89998b853a9327a42785caaca5fdfb3047fe3a193a24053ef69175">llvm::SOK_WAccumulatorSpill</a></div><div class="ttdeci">@ SOK_WAccumulatorSpill</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8h_source.html#l00133">PPCInstrInfo.h:133</a></div></div>
<div class="ttc" id="aMCInst_8h_html"><div class="ttname"><a href="MCInst_8h.html">MCInst.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_afe1784e242ce66da6029b3a681896bd2"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#afe1784e242ce66da6029b3a681896bd2">llvm::MachineOperand::isMBB</a></div><div class="ttdeci">bool isMBB() const</div><div class="ttdoc">isMBB - Tests if this is a MO_MachineBasicBlock operand.</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00337">MachineOperand.h:337</a></div></div>
<div class="ttc" id="aDenseSet_8h_html"><div class="ttname"><a href="DenseSet_8h.html">DenseSet.h</a></div></div>
<div class="ttc" id="anamespacellvm_html_ad73248c76f67b663abacff7aff17fd2c"><div class="ttname"><a href="namespacellvm.html#ad73248c76f67b663abacff7aff17fd2c">llvm::addFrameReference</a></div><div class="ttdeci">static const MachineInstrBuilder &amp; addFrameReference(const MachineInstrBuilder &amp;MIB, int FI, int Offset=0, bool mem=true)</div><div class="ttdoc">addFrameReference - This function is used to add a reference to the base of an abstract object on the...</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrBuilder_8h_source.html#l00032">PPCInstrBuilder.h:32</a></div></div>
<div class="ttc" id="anamespacefalse_html"><div class="ttname"><a href="namespacefalse.html">false</a></div><div class="ttdef"><b>Definition:</b> <a href="StackSlotColoring_8cpp_source.html#l00141">StackSlotColoring.cpp:141</a></div></div>
<div class="ttc" id="aclassllvm_1_1PPCInstrInfo_html_a5ec71405ff522bfe6e20245ede6aaa91"><div class="ttname"><a href="classllvm_1_1PPCInstrInfo.html#a5ec71405ff522bfe6e20245ede6aaa91">llvm::PPCInstrInfo::FoldImmediate</a></div><div class="ttdeci">bool FoldImmediate(MachineInstr &amp;UseMI, MachineInstr &amp;DefMI, Register Reg, MachineRegisterInfo *MRI) const override</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8cpp_source.html#l02134">PPCInstrInfo.cpp:2134</a></div></div>
<div class="ttc" id="aPseudoSourceValue_8h_html"><div class="ttname"><a href="PseudoSourceValue_8h.html">PseudoSourceValue.h</a></div></div>
<div class="ttc" id="aHexagonCopyToCombine_8cpp_html_a1d40004718218dbdf06b496766299101"><div class="ttname"><a href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a></div><div class="ttdeci">const HexagonInstrInfo * TII</div><div class="ttdef"><b>Definition:</b> <a href="HexagonCopyToCombine_8cpp_source.html#l00125">HexagonCopyToCombine.cpp:125</a></div></div>
<div class="ttc" id="aclassllvm_1_1PPCInstrInfo_html_ae1d4c0d71423c8fa3d000f7518a4e8ae"><div class="ttname"><a href="classllvm_1_1PPCInstrInfo.html#ae1d4c0d71423c8fa3d000f7518a4e8ae">llvm::PPCInstrInfo::isImmInstrEligibleForFolding</a></div><div class="ttdeci">bool isImmInstrEligibleForFolding(MachineInstr &amp;MI, unsigned &amp;BaseReg, unsigned &amp;XFormOpcode, int64_t &amp;OffsetOfImmInstr, ImmInstrInfo &amp;III) const</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8cpp_source.html#l03710">PPCInstrInfo.cpp:3710</a></div></div>
<div class="ttc" id="anamespacellvm_1_1dwarf_html_a5d3c920b66ea797d6adb243862fdf47a"><div class="ttname"><a href="namespacellvm_1_1dwarf.html#a5d3c920b66ea797d6adb243862fdf47a">llvm::dwarf::Index</a></div><div class="ttdeci">Index</div><div class="ttdef"><b>Definition:</b> <a href="Dwarf_8h_source.html#l00550">Dwarf.h:550</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PPC_html_a020638ddecc65637bc0282f5ee857d50a00d4f7d7f8d110db90749f417fceff3a"><div class="ttname"><a href="namespacellvm_1_1PPC.html#a020638ddecc65637bc0282f5ee857d50a00d4f7d7f8d110db90749f417fceff3a">llvm::PPC::DIR_E500mc</a></div><div class="ttdeci">@ DIR_E500mc</div><div class="ttdef"><b>Definition:</b> <a href="PPCSubtarget_8h_source.html#l00052">PPCSubtarget.h:52</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCInstrDesc_html"><div class="ttname"><a href="classllvm_1_1MCInstrDesc.html">llvm::MCInstrDesc</a></div><div class="ttdoc">Describe properties that are true of each instruction in the target description file.</div><div class="ttdef"><b>Definition:</b> <a href="MCInstrDesc_8h_source.html#l00198">MCInstrDesc.h:198</a></div></div>
<div class="ttc" id="aBuiltinGCs_8cpp_html_a7abf5fb4071cb25dbce06dfb5ee3c937"><div class="ttname"><a href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a></div><div class="ttdeci">static GCRegistry::Add&lt; OcamlGC &gt; B(&quot;ocaml&quot;, &quot;ocaml 3.10-compatible GC&quot;)</div></div>
<div class="ttc" id="aclassllvm_1_1ScoreboardHazardRecognizer_html"><div class="ttname"><a href="classllvm_1_1ScoreboardHazardRecognizer.html">llvm::ScoreboardHazardRecognizer</a></div><div class="ttdef"><b>Definition:</b> <a href="ScoreboardHazardRecognizer_8h_source.html#l00029">ScoreboardHazardRecognizer.h:29</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html"><div class="ttname"><a href="classllvm_1_1MachineOperand.html">llvm::MachineOperand</a></div><div class="ttdoc">MachineOperand class - Representation of each machine instruction operand.</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00048">MachineOperand.h:48</a></div></div>
<div class="ttc" id="aclassllvm_1_1PPCFunctionInfo_html_aef8b8a2cddd6ae0ae42a5711d358d437"><div class="ttname"><a href="classllvm_1_1PPCFunctionInfo.html#aef8b8a2cddd6ae0ae42a5711d358d437">llvm::PPCFunctionInfo::setHasNonRISpills</a></div><div class="ttdeci">void setHasNonRISpills()</div><div class="ttdef"><b>Definition:</b> <a href="PPCMachineFunctionInfo_8h_source.html#l00206">PPCMachineFunctionInfo.h:206</a></div></div>
<div class="ttc" id="aclassllvm_1_1IntegerType_html"><div class="ttname"><a href="classllvm_1_1IntegerType.html">llvm::IntegerType</a></div><div class="ttdoc">Class to represent integer types.</div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00040">DerivedTypes.h:40</a></div></div>
<div class="ttc" id="anamespacellvm_html_acbd62c639eb89998b853a9327a42785ca62869775e4043d1aaaf943221f9f3069"><div class="ttname"><a href="namespacellvm.html#acbd62c639eb89998b853a9327a42785ca62869775e4043d1aaaf943221f9f3069">llvm::SOK_UAccumulatorSpill</a></div><div class="ttdeci">@ SOK_UAccumulatorSpill</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8h_source.html#l00132">PPCInstrInfo.h:132</a></div></div>
<div class="ttc" id="aclassllvm_1_1GenericCycle_html"><div class="ttname"><a href="classllvm_1_1GenericCycle.html">llvm::GenericCycle</a></div><div class="ttdoc">A possibly irreducible generalization of a Loop.</div><div class="ttdef"><b>Definition:</b> <a href="GenericCycleInfo_8h_source.html#l00048">GenericCycleInfo.h:48</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_a859897c8a9706acd4c065d857254d58c"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a859897c8a9706acd4c065d857254d58c">llvm::MachineInstr::clearFlag</a></div><div class="ttdeci">void clearFlag(MIFlag Flag)</div><div class="ttdoc">clearFlag - Clear a MI flag.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00373">MachineInstr.h:373</a></div></div>
<div class="ttc" id="aPPCInstrInfo_8cpp_html_aa5a8087086656299167f931f805778bb"><div class="ttname"><a href="PPCInstrInfo_8cpp.html#aa5a8087086656299167f931f805778bb">isLdStSafeToCluster</a></div><div class="ttdeci">static bool isLdStSafeToCluster(const MachineInstr &amp;LdSt, const TargetRegisterInfo *TRI)</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8cpp_source.html#l02862">PPCInstrInfo.cpp:2862</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_a9f382207d841377156d4c7868b66b9a5"><div class="ttname"><a href="classllvm_1_1Type.html#a9f382207d841377156d4c7868b66b9a5">llvm::Type::getScalarSizeInBits</a></div><div class="ttdeci">unsigned getScalarSizeInBits() const LLVM_READONLY</div><div class="ttdoc">If this is a vector type, return the getPrimitiveSizeInBits value for the element type.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00188">Type.cpp:188</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_a2a25c462b91ac5da41f4ab7edc32b650"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#a2a25c462b91ac5da41f4ab7edc32b650">llvm::MachineBasicBlock::rend</a></div><div class="ttdeci">reverse_iterator rend()</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00319">MachineBasicBlock.h:319</a></div></div>
<div class="ttc" id="anamespacellvm_html_acbd62c639eb89998b853a9327a42785ca580add5a701eeb4755274b052f930e20"><div class="ttname"><a href="namespacellvm.html#acbd62c639eb89998b853a9327a42785ca580add5a701eeb4755274b052f930e20">llvm::SOK_Int4Spill</a></div><div class="ttdeci">@ SOK_Int4Spill</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8h_source.html#l00119">PPCInstrInfo.h:119</a></div></div>
<div class="ttc" id="aMachineCombinerPattern_8h_html"><div class="ttname"><a href="MachineCombinerPattern_8h.html">MachineCombinerPattern.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetRegisterClass_html_abee1c3236731101b249f6eeffd8cd7ba"><div class="ttname"><a href="classllvm_1_1TargetRegisterClass.html#abee1c3236731101b249f6eeffd8cd7ba">llvm::TargetRegisterClass::hasSuperClassEq</a></div><div class="ttdeci">bool hasSuperClassEq(const TargetRegisterClass *RC) const</div><div class="ttdoc">Returns true if RC is a super-class of or equal to this class.</div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8h_source.html#l00141">TargetRegisterInfo.h:141</a></div></div>
<div class="ttc" id="aclassllvm_1_1PPCSubtarget_html_a6622b99b3c00a3938d969957312b1b52"><div class="ttname"><a href="classllvm_1_1PPCSubtarget.html#a6622b99b3c00a3938d969957312b1b52">llvm::PPCSubtarget::isPPC64</a></div><div class="ttdeci">bool isPPC64() const</div><div class="ttdoc">isPPC64 - Return true if we are generating code for 64-bit pointer mode.</div><div class="ttdef"><b>Definition:</b> <a href="PPCSubtarget_8cpp_source.html#l00182">PPCSubtarget.cpp:182</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PPC_html_a020638ddecc65637bc0282f5ee857d50a40aa4eed5523516b6f4be5d29307b5cc"><div class="ttname"><a href="namespacellvm_1_1PPC.html#a020638ddecc65637bc0282f5ee857d50a40aa4eed5523516b6f4be5d29307b5cc">llvm::PPC::DIR_PWR5X</a></div><div class="ttdeci">@ DIR_PWR5X</div><div class="ttdef"><b>Definition:</b> <a href="PPCSubtarget_8h_source.html#l00057">PPCSubtarget.h:57</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_a217e0207d9cc8e046c2dccbf0e4bb198"><div class="ttname"><a href="classllvm_1_1APInt.html#a217e0207d9cc8e046c2dccbf0e4bb198">llvm::APInt::getZExtValue</a></div><div class="ttdeci">uint64_t getZExtValue() const</div><div class="ttdoc">Get zero extended value.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l01494">APInt.h:1494</a></div></div>
<div class="ttc" id="anamespacellvm_html_a0bf75467957937ad23ad7be19f489934"><div class="ttname"><a href="namespacellvm.html#a0bf75467957937ad23ad7be19f489934">llvm::STATISTIC</a></div><div class="ttdeci">STATISTIC(NumFunctions, &quot;Total number of functions&quot;)</div></div>
<div class="ttc" id="anamespacellvm_1_1PPC_html_a14028f7fe73a11dabc6583510cc0a355a3382a0bee0f471ebce5e57f6cbdc91d6"><div class="ttname"><a href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355a3382a0bee0f471ebce5e57f6cbdc91d6">llvm::PPC::PRED_BIT_SET</a></div><div class="ttdeci">@ PRED_BIT_SET</div><div class="ttdef"><b>Definition:</b> <a href="PPCPredicates_8h_source.html#l00057">PPCPredicates.h:57</a></div></div>
<div class="ttc" id="aclassllvm_1_1PPCInstrInfo_html_a111dcd9b1325e89d9724d5481ddcd1a9"><div class="ttname"><a href="classllvm_1_1PPCInstrInfo.html#a111dcd9b1325e89d9724d5481ddcd1a9">llvm::PPCInstrInfo::updatedRC</a></div><div class="ttdeci">const TargetRegisterClass * updatedRC(const TargetRegisterClass *RC) const</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8cpp_source.html#l05222">PPCInstrInfo.cpp:5222</a></div></div>
<div class="ttc" id="aPPC_8h_html"><div class="ttname"><a href="PPC_8h.html">PPC.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1PPCInstrInfo_html_a9f6bd20f6d3bb4bb60d84472550ab6e5"><div class="ttname"><a href="classllvm_1_1PPCInstrInfo.html#a9f6bd20f6d3bb4bb60d84472550ab6e5">llvm::PPCInstrInfo::findLoopInstr</a></div><div class="ttdeci">MachineInstr * findLoopInstr(MachineBasicBlock &amp;PreHeader, SmallPtrSet&lt; MachineBasicBlock *, 8 &gt; &amp;Visited) const</div><div class="ttdoc">Find the hardware loop instruction used to set-up the specified loop.</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8cpp_source.html#l05625">PPCInstrInfo.cpp:5625</a></div></div>
<div class="ttc" id="astructllvm_1_1LoadImmediateInfo_html_aaf91f2e9fa96f015190607fb90e932b7"><div class="ttname"><a href="structllvm_1_1LoadImmediateInfo.html#aaf91f2e9fa96f015190607fb90e932b7">llvm::LoadImmediateInfo::Imm</a></div><div class="ttdeci">unsigned Imm</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8h_source.html#l00112">PPCInstrInfo.h:112</a></div></div>
<div class="ttc" id="aPPCInstrInfo_8cpp_html_a22a87d5646b192ec391aaf48e4dbe08f"><div class="ttname"><a href="PPCInstrInfo_8cpp.html#a22a87d5646b192ec391aaf48e4dbe08f">selectReg</a></div><div class="ttdeci">static unsigned selectReg(int64_t Imm1, int64_t Imm2, unsigned CompareOpc, unsigned TrueReg, unsigned FalseReg, unsigned CRSubReg)</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8cpp_source.html#l03222">PPCInstrInfo.cpp:3222</a></div></div>
<div class="ttc" id="aclassllvm_1_1PPCInstrInfo_html_ae5781ad71db6e0e3bf84f10c4490e291"><div class="ttname"><a href="classllvm_1_1PPCInstrInfo.html#ae5781ad71db6e0e3bf84f10c4490e291">llvm::PPCInstrInfo::PredicateInstruction</a></div><div class="ttdeci">bool PredicateInstruction(MachineInstr &amp;MI, ArrayRef&lt; MachineOperand &gt; Pred) const override</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8cpp_source.html#l02186">PPCInstrInfo.cpp:2186</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PPC_html_a14028f7fe73a11dabc6583510cc0a355a46b241a630995742d2839a44af358923"><div class="ttname"><a href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355a46b241a630995742d2839a44af358923">llvm::PPC::PRED_LE_PLUS</a></div><div class="ttdeci">@ PRED_LE_PLUS</div><div class="ttdef"><b>Definition:</b> <a href="PPCPredicates_8h_source.html#l00044">PPCPredicates.h:44</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PPC_html_a14028f7fe73a11dabc6583510cc0a355ab4bb503de9d2ddcb886c924fbcdc9042"><div class="ttname"><a href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355ab4bb503de9d2ddcb886c924fbcdc9042">llvm::PPC::PRED_GT_MINUS</a></div><div class="ttdeci">@ PRED_GT_MINUS</div><div class="ttdef"><b>Definition:</b> <a href="PPCPredicates_8h_source.html#l00039">PPCPredicates.h:39</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">llvm::ISD::AND</a></div><div class="ttdeci">@ AND</div><div class="ttdoc">Bitwise operators - logical and, logical or, logical xor.</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00666">ISDOpcodes.h:666</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_ad407b071bad6c9a435cade250ec8c8b6"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#ad407b071bad6c9a435cade250ec8c8b6">llvm::MachineOperand::setTargetFlags</a></div><div class="ttdeci">void setTargetFlags(unsigned F)</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00229">MachineOperand.h:229</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PPC_html_a14028f7fe73a11dabc6583510cc0a355aa3aa5d66d33f7c07c2932141ad4c4b67"><div class="ttname"><a href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355aa3aa5d66d33f7c07c2932141ad4c4b67">llvm::PPC::PRED_BIT_UNSET</a></div><div class="ttdeci">@ PRED_BIT_UNSET</div><div class="ttdef"><b>Definition:</b> <a href="PPCPredicates_8h_source.html#l00058">PPCPredicates.h:58</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_aafacf84de1cb994a92dc045f4aa1d518aefc960a99fa4cefc28a0ea76de0a0535"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#aafacf84de1cb994a92dc045f4aa1d518aefc960a99fa4cefc28a0ea76de0a0535">llvm::MachineInstr::NoSWrap</a></div><div class="ttdeci">@ NoSWrap</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00106">MachineInstr.h:106</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCOperandInfo_html_ad3abf78805559fecd7642d0c57032c56"><div class="ttname"><a href="classllvm_1_1MCOperandInfo.html#ad3abf78805559fecd7642d0c57032c56">llvm::MCOperandInfo::RegClass</a></div><div class="ttdeci">int16_t RegClass</div><div class="ttdoc">This specifies the register class enumeration of the operand if the operand is a register.</div><div class="ttdef"><b>Definition:</b> <a href="MCInstrDesc_8h_source.html#l00091">MCInstrDesc.h:91</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PPC_html_a14028f7fe73a11dabc6583510cc0a355ac89b6a30c033abb18a7e81f48b0e3593"><div class="ttname"><a href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355ac89b6a30c033abb18a7e81f48b0e3593">llvm::PPC::PRED_LE</a></div><div class="ttdeci">@ PRED_LE</div><div class="ttdef"><b>Definition:</b> <a href="PPCPredicates_8h_source.html#l00028">PPCPredicates.h:28</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_aabed741772b1be65069d9274446a914d"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#aabed741772b1be65069d9274446a914d">llvm::MachineInstr::definesRegister</a></div><div class="ttdeci">bool definesRegister(Register Reg, const TargetRegisterInfo *TRI=nullptr) const</div><div class="ttdoc">Return true if the MachineInstr fully defines the specified register.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l01428">MachineInstr.h:1428</a></div></div>
<div class="ttc" id="astructllvm_1_1Align_html"><div class="ttname"><a href="structllvm_1_1Align.html">llvm::Align</a></div><div class="ttdoc">This struct is a compact representation of a valid (non-zero power of two) alignment.</div><div class="ttdef"><b>Definition:</b> <a href="Alignment_8h_source.html#l00039">Alignment.h:39</a></div></div>
<div class="ttc" id="aclassllvm_1_1PPCInstrInfo_html_afadf8e95969c146a28e22d91218db770"><div class="ttname"><a href="classllvm_1_1PPCInstrInfo.html#afadf8e95969c146a28e22d91218db770">llvm::PPCInstrInfo::findCommutedOpIndices</a></div><div class="ttdeci">bool findCommutedOpIndices(const MachineInstr &amp;MI, unsigned &amp;SrcOpIdx1, unsigned &amp;SrcOpIdx2) const override</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8cpp_source.html#l01223">PPCInstrInfo.cpp:1223</a></div></div>
<div class="ttc" id="alib_2Target_2ARM_2README_8txt_html_ae3e84a62e4ae19e7766bde30ee72c040"><div class="ttname"><a href="lib_2Target_2ARM_2README_8txt.html#ae3e84a62e4ae19e7766bde30ee72c040">c</a></div><div class="ttdeci">the resulting code requires compare and branches when and if the revised code is with conditional branches instead of More there is a byte word extend before each where there should be only and the condition codes are not remembered when the same two values are compared twice More LSR enhancements i8 and i32 load store addressing modes are identical int int c</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2ARM_2README_8txt_source.html#l00418">README.txt:418</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineRegisterInfo_html_a40d954b9cf9ee8b545a78725f2549cba"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#a40d954b9cf9ee8b545a78725f2549cba">llvm::MachineRegisterInfo::getVRegDef</a></div><div class="ttdeci">MachineInstr * getVRegDef(Register Reg) const</div><div class="ttdoc">getVRegDef - Return the machine instr that defines the specified virtual register or null if none is ...</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8cpp_source.html#l00398">MachineRegisterInfo.cpp:398</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_acad8fe90886f92eabced0c2f9bd0e6f5"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#acad8fe90886f92eabced0c2f9bd0e6f5">llvm::MachineOperand::getParent</a></div><div class="ttdeci">MachineInstr * getParent()</div><div class="ttdoc">getParent - Return the instruction that this operand belongs to.</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00243">MachineOperand.h:243</a></div></div>
<div class="ttc" id="aclassllvm_1_1PPCInstrInfo_html_adc8a417082dae00c6f459b63a65e0ed8"><div class="ttname"><a href="classllvm_1_1PPCInstrInfo.html#adc8a417082dae00c6f459b63a65e0ed8">llvm::PPCInstrInfo::analyzeLoopForPipelining</a></div><div class="ttdeci">std::unique_ptr&lt; TargetInstrInfo::PipelinerLoopInfo &gt; analyzeLoopForPipelining(MachineBasicBlock *LoopBB) const override</div><div class="ttdoc">Analyze loop L, which must be a single-basic-block loop, and if the conditions can be understood enou...</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8cpp_source.html#l05605">PPCInstrInfo.cpp:5605</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineRegisterInfo_html_aeae86e9004476412ca754a7de4ee8a0c"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#aeae86e9004476412ca754a7de4ee8a0c">llvm::MachineRegisterInfo::use_empty</a></div><div class="ttdeci">bool use_empty(Register RegNo) const</div><div class="ttdoc">use_empty - Return true if there are no instructions using the specified register.</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8h_source.html#l00528">MachineRegisterInfo.h:528</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PPC_html_a020638ddecc65637bc0282f5ee857d50a0a03bfd83c00f4d1edab975b7bfe7f36"><div class="ttname"><a href="namespacellvm_1_1PPC.html#a020638ddecc65637bc0282f5ee857d50a0a03bfd83c00f4d1edab975b7bfe7f36">llvm::PPC::DIR_PWR9</a></div><div class="ttdeci">@ DIR_PWR9</div><div class="ttdef"><b>Definition:</b> <a href="PPCSubtarget_8h_source.html#l00062">PPCSubtarget.h:62</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstrBuilder_html_a1c5fadb14ff1d77faad0cb58a43252ab"><div class="ttname"><a href="classllvm_1_1MachineInstrBuilder.html#a1c5fadb14ff1d77faad0cb58a43252ab">llvm::MachineInstrBuilder::getReg</a></div><div class="ttdeci">Register getReg(unsigned Idx) const</div><div class="ttdoc">Get the register for the operand index.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00094">MachineInstrBuilder.h:94</a></div></div>
<div class="ttc" id="aclassllvm_1_1PPCInstrInfo_html_aeae69b1baee541f55a44aaf2804dc007"><div class="ttname"><a href="classllvm_1_1PPCInstrInfo.html#aeae69b1baee541f55a44aaf2804dc007">llvm::PPCInstrInfo::optimizeCmpPostRA</a></div><div class="ttdeci">bool optimizeCmpPostRA(MachineInstr &amp;MI) const</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8cpp_source.html#l02771">PPCInstrInfo.cpp:2771</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html">llvm::MachineBasicBlock</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00094">MachineBasicBlock.h:94</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PPCISD_html_ad1c32e5bb1cb213fb836bc3d221e4f19af19177e57893484cb79f34527b5cd7f8"><div class="ttname"><a href="namespacellvm_1_1PPCISD.html#ad1c32e5bb1cb213fb836bc3d221e4f19af19177e57893484cb79f34527b5cd7f8">llvm::PPCISD::LFIWAX</a></div><div class="ttdeci">@ LFIWAX</div><div class="ttdoc">GPRC, CHAIN = LFIWAX CHAIN, Ptr - This is a floating-point load which sign-extends from a 32-bit inte...</div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8h_source.html#l00531">PPCISelLowering.h:531</a></div></div>
<div class="ttc" id="aclassllvm_1_1PPCInstrInfo_html_a919a65c38470ee5665afa859cda18025"><div class="ttname"><a href="classllvm_1_1PPCInstrInfo.html#a919a65c38470ee5665afa859cda18025">llvm::PPCInstrInfo::isADDIInstrEligibleForFolding</a></div><div class="ttdeci">bool isADDIInstrEligibleForFolding(MachineInstr &amp;ADDIMI, int64_t &amp;Imm) const</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8cpp_source.html#l03686">PPCInstrInfo.cpp:3686</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PPC_html_a020638ddecc65637bc0282f5ee857d50a56adb1ba4082b00854c8401847ade1a9"><div class="ttname"><a href="namespacellvm_1_1PPC.html#a020638ddecc65637bc0282f5ee857d50a56adb1ba4082b00854c8401847ade1a9">llvm::PPC::DIR_970</a></div><div class="ttdeci">@ DIR_970</div><div class="ttdef"><b>Definition:</b> <a href="PPCSubtarget_8h_source.html#l00049">PPCSubtarget.h:49</a></div></div>
<div class="ttc" id="aclassllvm_1_1RegisterOperands_html_a74e0a918c9705f23a1e5b66f68cc97e9"><div class="ttname"><a href="classllvm_1_1RegisterOperands.html#a74e0a918c9705f23a1e5b66f68cc97e9">llvm::RegisterOperands::collect</a></div><div class="ttdeci">void collect(const MachineInstr &amp;MI, const TargetRegisterInfo &amp;TRI, const MachineRegisterInfo &amp;MRI, bool TrackLaneMasks, bool IgnoreDead)</div><div class="ttdoc">Analyze the given instruction MI and fill in the Uses, Defs and DeadDefs list based on the MachineOpe...</div><div class="ttdef"><b>Definition:</b> <a href="RegisterPressure_8cpp_source.html#l00569">RegisterPressure.cpp:569</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PPC_html_a1545caeeda8de7bd87be034c59b2b9fe"><div class="ttname"><a href="namespacellvm_1_1PPC.html#a1545caeeda8de7bd87be034c59b2b9fe">llvm::PPC::getAltVSXFMAOpcode</a></div><div class="ttdeci">int getAltVSXFMAOpcode(uint16_t Opcode)</div></div>
<div class="ttc" id="anamespacellvm_1_1PPC_html_a14028f7fe73a11dabc6583510cc0a355a9867ee23974bb896c049dc26a8b436b2"><div class="ttname"><a href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355a9867ee23974bb896c049dc26a8b436b2">llvm::PPC::PRED_NU_PLUS</a></div><div class="ttdeci">@ PRED_NU_PLUS</div><div class="ttdef"><b>Definition:</b> <a href="PPCPredicates_8h_source.html#l00050">PPCPredicates.h:50</a></div></div>
<div class="ttc" id="aclassllvm_1_1PPCInstrInfo_html_a9f02408db99c8acb18352d7398561be4"><div class="ttname"><a href="classllvm_1_1PPCInstrInfo.html#a9f02408db99c8acb18352d7398561be4">llvm::PPCInstrInfo::genAlternativeCodeSequence</a></div><div class="ttdeci">void genAlternativeCodeSequence(MachineInstr &amp;Root, MachineCombinerPattern Pattern, SmallVectorImpl&lt; MachineInstr * &gt; &amp;InsInstrs, SmallVectorImpl&lt; MachineInstr * &gt; &amp;DelInstrs, DenseMap&lt; unsigned, unsigned &gt; &amp;InstrIdxForVirtReg) const override</div><div class="ttdoc">When getMachineCombinerPatterns() finds patterns, this function generates the instructions that could...</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8cpp_source.html#l00776">PPCInstrInfo.cpp:776</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineRegisterInfo_html_aa363afffca4fc13a709673936b47fe33"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#aa363afffca4fc13a709673936b47fe33">llvm::MachineRegisterInfo::getRegClass</a></div><div class="ttdeci">const TargetRegisterClass * getRegClass(Register Reg) const</div><div class="ttdoc">Return the register class of the specified virtual register.</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8h_source.html#l00661">MachineRegisterInfo.h:661</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PPCII_html_ae73836094d8b0399ba10a6e540a363ffa467b829ca0e160907522584b98b618a0"><div class="ttname"><a href="namespacellvm_1_1PPCII.html#ae73836094d8b0399ba10a6e540a363ffa467b829ca0e160907522584b98b618a0">llvm::PPCII::MO_GOT_TPREL_PCREL_FLAG</a></div><div class="ttdeci">@ MO_GOT_TPREL_PCREL_FLAG</div><div class="ttdoc">MO_GOT_TPREL_PCREL_FLAG - A combintaion of flags, if these bits are set they should produce the reloc...</div><div class="ttdef"><b>Definition:</b> <a href="PPC_8h_source.html#l00155">PPC.h:155</a></div></div>
<div class="ttc" id="aclassllvm_1_1Function_html_a7477aafbbe989ad35b96fac186d8e9fd"><div class="ttname"><a href="classllvm_1_1Function.html#a7477aafbbe989ad35b96fac186d8e9fd">llvm::Function::getAttributes</a></div><div class="ttdeci">AttributeList getAttributes() const</div><div class="ttdoc">Return the attribute list for this Function.</div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00313">Function.h:313</a></div></div>
<div class="ttc" id="aADT_2tmp_8txt_html_a07ed0bfaa124c15897944fe3eaa971ab"><div class="ttname"><a href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a></div><div class="ttdeci">Class for arbitrary precision integers APInt is a functional replacement for common case unsigned integer type like unsigned long or uint64_t</div><div class="ttdef"><b>Definition:</b> <a href="ADT_2tmp_8txt_source.html#l00001">tmp.txt:1</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PPCISD_html_ad1c32e5bb1cb213fb836bc3d221e4f19a93f8e78c9b32393c5190960b84dc3a57"><div class="ttname"><a href="namespacellvm_1_1PPCISD.html#ad1c32e5bb1cb213fb836bc3d221e4f19a93f8e78c9b32393c5190960b84dc3a57">llvm::PPCISD::XXMFACC</a></div><div class="ttdeci">@ XXMFACC</div><div class="ttdoc">XXMFACC = This corresponds to the xxmfacc instruction.</div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8h_source.html#l00490">PPCISelLowering.h:490</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineRegisterInfo_html_a86dd1b4ce6ff2d4a0b4593c5f7b2a3fd"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#a86dd1b4ce6ff2d4a0b4593c5f7b2a3fd">llvm::MachineRegisterInfo::isSSA</a></div><div class="ttdeci">bool isSSA() const</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8h_source.html#l00197">MachineRegisterInfo.h:197</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ARM__PROC_html_a1add7850fad3f66c140ecee871460ea4ae9d798593a4a6b5cc48486a453a59e5e"><div class="ttname"><a href="namespacellvm_1_1ARM__PROC.html#a1add7850fad3f66c140ecee871460ea4ae9d798593a4a6b5cc48486a453a59e5e">llvm::ARM_PROC::IE</a></div><div class="ttdeci">@ IE</div><div class="ttdef"><b>Definition:</b> <a href="MCTargetDesc_2ARMBaseInfo_8h_source.html#l00027">ARMBaseInfo.h:27</a></div></div>
<div class="ttc" id="aclassllvm_1_1PPCHazardRecognizer970_html"><div class="ttname"><a href="classllvm_1_1PPCHazardRecognizer970.html">llvm::PPCHazardRecognizer970</a></div><div class="ttdoc">PPCHazardRecognizer970 - This class defines a finite state automata that models the dispatch logic on...</div><div class="ttdef"><b>Definition:</b> <a href="PPCHazardRecognizers_8h_source.html#l00055">PPCHazardRecognizers.h:55</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a32ec12017722f5b42a295fe5eb0b0bdf"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a32ec12017722f5b42a295fe5eb0b0bdf">llvm::ISD::FADD</a></div><div class="ttdeci">@ FADD</div><div class="ttdoc">Simple binary floating point operators.</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00390">ISDOpcodes.h:390</a></div></div>
<div class="ttc" id="anamespacellvm_html_acbd62c639eb89998b853a9327a42785cab4c1b5f3fe353f772145892831f0a652"><div class="ttname"><a href="namespacellvm.html#acbd62c639eb89998b853a9327a42785cab4c1b5f3fe353f772145892831f0a652">llvm::SOK_CRSpill</a></div><div class="ttdeci">@ SOK_CRSpill</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8h_source.html#l00123">PPCInstrInfo.h:123</a></div></div>
<div class="ttc" id="aclassllvm_1_1PPCInstrInfo_html_aedcc57df983cf17bab675fab4233ac7d"><div class="ttname"><a href="classllvm_1_1PPCInstrInfo.html#aedcc57df983cf17bab675fab4233ac7d">llvm::PPCInstrInfo::ClobbersPredicate</a></div><div class="ttdeci">bool ClobbersPredicate(MachineInstr &amp;MI, std::vector&lt; MachineOperand &gt; &amp;Pred, bool SkipDead) const override</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8cpp_source.html#l02321">PPCInstrInfo.cpp:2321</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PPC_html_a14028f7fe73a11dabc6583510cc0a355a34be5288a1bb24e5120358395f7f0dc3"><div class="ttname"><a href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355a34be5288a1bb24e5120358395f7f0dc3">llvm::PPC::PRED_EQ</a></div><div class="ttdeci">@ PRED_EQ</div><div class="ttdef"><b>Definition:</b> <a href="PPCPredicates_8h_source.html#l00029">PPCPredicates.h:29</a></div></div>
<div class="ttc" id="aclassllvm_1_1DataLayout_html_af9185c7e96873c6d2c13e1f1b6322cf6"><div class="ttname"><a href="classllvm_1_1DataLayout.html#af9185c7e96873c6d2c13e1f1b6322cf6">llvm::DataLayout::getPrefTypeAlign</a></div><div class="ttdeci">Align getPrefTypeAlign(Type *Ty) const</div><div class="ttdoc">Returns the preferred stack/global alignment for the specified type.</div><div class="ttdef"><b>Definition:</b> <a href="DataLayout_8cpp_source.html#l00857">DataLayout.cpp:857</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PPC_html_a2624042e885fc1d665e8fc01a0ab390b"><div class="ttname"><a href="namespacellvm_1_1PPC.html#a2624042e885fc1d665e8fc01a0ab390b">llvm::PPC::getPredicateCondition</a></div><div class="ttdeci">unsigned getPredicateCondition(Predicate Opcode)</div><div class="ttdoc">Return the condition without hint bits.</div><div class="ttdef"><b>Definition:</b> <a href="PPCPredicates_8h_source.html#l00077">PPCPredicates.h:77</a></div></div>
<div class="ttc" id="aPPCInstrInfo_8cpp_html_addf272780926ebcb0c3a616f6b9f4cf8"><div class="ttname"><a href="PPCInstrInfo_8cpp.html#addf272780926ebcb0c3a616f6b9f4cf8">InfoArrayIdxFAddInst</a></div><div class="ttdeci">#define InfoArrayIdxFAddInst</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8cpp_source.html#l00293">PPCInstrInfo.cpp:293</a></div></div>
<div class="ttc" id="aclassllvm_1_1Register_html_aebafd86dde59b5a05b22e8720e808a9d"><div class="ttname"><a href="classllvm_1_1Register.html#aebafd86dde59b5a05b22e8720e808a9d">llvm::Register::isVirtual</a></div><div class="ttdeci">bool isVirtual() const</div><div class="ttdoc">Return true if the specified register number is in the virtual register namespace.</div><div class="ttdef"><b>Definition:</b> <a href="Register_8h_source.html#l00091">Register.h:91</a></div></div>
<div class="ttc" id="aclassllvm_1_1PPCInstrInfo_html_a082a8593849ab4e2d9d2b0019de167c3"><div class="ttname"><a href="classllvm_1_1PPCInstrInfo.html#a082a8593849ab4e2d9d2b0019de167c3">llvm::PPCInstrInfo::isSchedulingBoundary</a></div><div class="ttdeci">bool isSchedulingBoundary(const MachineInstr &amp;MI, const MachineBasicBlock *MBB, const MachineFunction &amp;MF) const override</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8cpp_source.html#l02175">PPCInstrInfo.cpp:2175</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineRegisterInfo_html_a3da9727b1d452d6dcab08fde547ab634"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#a3da9727b1d452d6dcab08fde547ab634">llvm::MachineRegisterInfo::clearKillFlags</a></div><div class="ttdeci">void clearKillFlags(Register Reg) const</div><div class="ttdoc">clearKillFlags - Iterate over all the uses of the given register and clear the kill flag from the Mac...</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8cpp_source.html#l00435">MachineRegisterInfo.cpp:435</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html_a325f6b611ef9ec06798d3b4eb9572093"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#a325f6b611ef9ec06798d3b4eb9572093">llvm::MachineFunction::getSubtarget</a></div><div class="ttdeci">const TargetSubtargetInfo &amp; getSubtarget() const</div><div class="ttdoc">getSubtarget - Return the subtarget for which this machine code is being compiled.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00672">MachineFunction.h:672</a></div></div>
<div class="ttc" id="aclassllvm_1_1PPCSubtarget_html_a9ba17ee6253b371840a5541b1a21b298"><div class="ttname"><a href="classllvm_1_1PPCSubtarget.html#a9ba17ee6253b371840a5541b1a21b298">llvm::PPCSubtarget::isSVR4ABI</a></div><div class="ttdeci">bool isSVR4ABI() const</div><div class="ttdef"><b>Definition:</b> <a href="PPCSubtarget_8h_source.html#l00215">PPCSubtarget.h:215</a></div></div>
<div class="ttc" id="aclassllvm_1_1RegPressureTracker_html_a354c230443b1586633f5697aec0bcd8e"><div class="ttname"><a href="classllvm_1_1RegPressureTracker.html#a354c230443b1586633f5697aec0bcd8e">llvm::RegPressureTracker::recedeSkipDebugValues</a></div><div class="ttdeci">void recedeSkipDebugValues()</div><div class="ttdoc">Recede until we find an instruction which is not a DebugValue.</div><div class="ttdef"><b>Definition:</b> <a href="RegisterPressure_8cpp_source.html#l00852">RegisterPressure.cpp:852</a></div></div>
<div class="ttc" id="aclassllvm_1_1cl_1_1opt_html"><div class="ttname"><a href="classllvm_1_1cl_1_1opt.html">llvm::cl::opt&lt; bool &gt;</a></div></div>
<div class="ttc" id="aclassllvm_1_1APFloat_html"><div class="ttname"><a href="classllvm_1_1APFloat.html">llvm::APFloat</a></div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8h_source.html#l00744">APFloat.h:744</a></div></div>
<div class="ttc" id="aclassllvm_1_1APFloat_html_ae7fe7691e456e49addd866aa23896387"><div class="ttname"><a href="classllvm_1_1APFloat.html#ae7fe7691e456e49addd866aa23896387">llvm::APFloat::changeSign</a></div><div class="ttdeci">void changeSign()</div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8h_source.html#l01122">APFloat.h:1122</a></div></div>
<div class="ttc" id="anamespacellvm_html_acbd62c639eb89998b853a9327a42785ca5ec0d21419045d34ff5207a36bf45f3d"><div class="ttname"><a href="namespacellvm.html#acbd62c639eb89998b853a9327a42785ca5ec0d21419045d34ff5207a36bf45f3d">llvm::SOK_VectorFloat8Spill</a></div><div class="ttdeci">@ SOK_VectorFloat8Spill</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8h_source.html#l00127">PPCInstrInfo.h:127</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_ae8ff2acea4fe63e48e8fc6cf0620ff78"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#ae8ff2acea4fe63e48e8fc6cf0620ff78">llvm::MachineInstr::getDebugLoc</a></div><div class="ttdeci">const DebugLoc &amp; getDebugLoc() const</div><div class="ttdoc">Returns the debug location id of this MachineInstr.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00445">MachineInstr.h:445</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PPC_html_a14028f7fe73a11dabc6583510cc0a355"><div class="ttname"><a href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355">llvm::PPC::Predicate</a></div><div class="ttdeci">Predicate</div><div class="ttdoc">Predicate - These are &quot;(BI &lt;&lt; 5) | BO&quot; for various predicates.</div><div class="ttdef"><b>Definition:</b> <a href="PPCPredicates_8h_source.html#l00026">PPCPredicates.h:26</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PPC_html_a14028f7fe73a11dabc6583510cc0a355aa0cb1db9aa5842fc89b7590d4a78d22a"><div class="ttname"><a href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355aa0cb1db9aa5842fc89b7590d4a78d22a">llvm::PPC::PRED_GE_MINUS</a></div><div class="ttdeci">@ PRED_GE_MINUS</div><div class="ttdef"><b>Definition:</b> <a href="PPCPredicates_8h_source.html#l00038">PPCPredicates.h:38</a></div></div>
<div class="ttc" id="aclassllvm_1_1PPCSubtarget_html_abadbfa907a7aadce4c75b1191aed2260"><div class="ttname"><a href="classllvm_1_1PPCSubtarget.html#abadbfa907a7aadce4c75b1191aed2260">llvm::PPCSubtarget::isTargetLinux</a></div><div class="ttdeci">bool isTargetLinux() const</div><div class="ttdef"><b>Definition:</b> <a href="PPCSubtarget_8h_source.html#l00212">PPCSubtarget.h:212</a></div></div>
<div class="ttc" id="aclassllvm_1_1AttributeList_html_a5604157867b3d226260f6388b987e49a"><div class="ttname"><a href="classllvm_1_1AttributeList.html#a5604157867b3d226260f6388b987e49a">llvm::AttributeList::getRetAttrs</a></div><div class="ttdeci">AttributeSet getRetAttrs() const</div><div class="ttdoc">The attributes for the ret value are returned.</div><div class="ttdef"><b>Definition:</b> <a href="Attributes_8cpp_source.html#l01458">Attributes.cpp:1458</a></div></div>
<div class="ttc" id="aclassllvm_1_1Constant_html"><div class="ttname"><a href="classllvm_1_1Constant.html">llvm::Constant</a></div><div class="ttdoc">This is an important base class in LLVM.</div><div class="ttdef"><b>Definition:</b> <a href="Constant_8h_source.html#l00041">Constant.h:41</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PPCII_html_ae73836094d8b0399ba10a6e540a363ffaa7929b1029f09db9b9b538e0d200fdd8"><div class="ttname"><a href="namespacellvm_1_1PPCII.html#ae73836094d8b0399ba10a6e540a363ffaa7929b1029f09db9b9b538e0d200fdd8">llvm::PPCII::MO_TPREL_HA</a></div><div class="ttdeci">@ MO_TPREL_HA</div><div class="ttdef"><b>Definition:</b> <a href="PPC_8h_source.html#l00165">PPC.h:165</a></div></div>
<div class="ttc" id="aclassllvm_1_1PatchPointOpers_html_aa319bb1da5a106c84bfa9a1fdca084bc"><div class="ttname"><a href="classllvm_1_1PatchPointOpers.html#aa319bb1da5a106c84bfa9a1fdca084bc">llvm::PatchPointOpers::getNumPatchBytes</a></div><div class="ttdeci">uint32_t getNumPatchBytes() const</div><div class="ttdoc">Return the number of patchable bytes the given patchpoint should emit.</div><div class="ttdef"><b>Definition:</b> <a href="StackMaps_8h_source.html#l00104">StackMaps.h:104</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_a61a42c85bd86c6ca4554e27d33c3f798"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a61a42c85bd86c6ca4554e27d33c3f798">llvm::MachineOperand::setIsDead</a></div><div class="ttdeci">void setIsDead(bool Val=true)</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00525">MachineOperand.h:525</a></div></div>
<div class="ttc" id="aclassllvm_1_1Function_html_aaea88376352c42347dceccdd5ab1c20c"><div class="ttname"><a href="classllvm_1_1Function.html#aaea88376352c42347dceccdd5ab1c20c">llvm::Function::getReturnType</a></div><div class="ttdeci">Type * getReturnType() const</div><div class="ttdoc">Returns the type of the ret val.</div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00179">Function.h:179</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PPC_html_a14028f7fe73a11dabc6583510cc0a355aaefab7058909f2616746f6d8244a118e"><div class="ttname"><a href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355aaefab7058909f2616746f6d8244a118e">llvm::PPC::PRED_NE_MINUS</a></div><div class="ttdeci">@ PRED_NE_MINUS</div><div class="ttdef"><b>Definition:</b> <a href="PPCPredicates_8h_source.html#l00040">PPCPredicates.h:40</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PPCII_html_ae73836094d8b0399ba10a6e540a363ffa6003030015cbe98f30d697c9c8a155bf"><div class="ttname"><a href="namespacellvm_1_1PPCII.html#ae73836094d8b0399ba10a6e540a363ffa6003030015cbe98f30d697c9c8a155bf">llvm::PPCII::MO_TLSGDM_FLAG</a></div><div class="ttdeci">@ MO_TLSGDM_FLAG</div><div class="ttdoc">MO_TLSGDM_FLAG - If this bit is set the symbol reference is relative to the region handle of TLS Gene...</div><div class="ttdef"><b>Definition:</b> <a href="PPC_8h_source.html#l00140">PPC.h:140</a></div></div>
<div class="ttc" id="aELFObjHandler_8cpp_html_aef61945034b9431b804748fc317c5548"><div class="ttname"><a href="ELFObjHandler_8cpp.html#aef61945034b9431b804748fc317c5548">Index</a></div><div class="ttdeci">uint32_t Index</div><div class="ttdef"><b>Definition:</b> <a href="ELFObjHandler_8cpp_source.html#l00083">ELFObjHandler.cpp:83</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_a4c9594c955fec80c73ddd964b5efd554"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a4c9594c955fec80c73ddd964b5efd554">llvm::MachineOperand::isReg</a></div><div class="ttdeci">bool isReg() const</div><div class="ttdoc">isReg - Tests if this is a MO_Register operand.</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00329">MachineOperand.h:329</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html"><div class="ttname"><a href="classllvm_1_1MachineInstr.html">llvm::MachineInstr</a></div><div class="ttdoc">Representation of each machine instruction.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00066">MachineInstr.h:66</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstrBuilder_html"><div class="ttname"><a href="classllvm_1_1MachineInstrBuilder.html">llvm::MachineInstrBuilder</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00069">MachineInstrBuilder.h:69</a></div></div>
<div class="ttc" id="aclassllvm_1_1PPCInstrInfo_html_a8d257d0fa9886eeb4ee7c842294d4449"><div class="ttname"><a href="classllvm_1_1PPCInstrInfo.html#a8d257d0fa9886eeb4ee7c842294d4449">llvm::PPCInstrInfo::canInsertSelect</a></div><div class="ttdeci">bool canInsertSelect(const MachineBasicBlock &amp;, ArrayRef&lt; MachineOperand &gt; Cond, Register, Register, Register, int &amp;, int &amp;, int &amp;) const override</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8cpp_source.html#l01528">PPCInstrInfo.cpp:1528</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFrameInfo_html_a9284fd53296d2a2f8ae654d000971000"><div class="ttname"><a href="classllvm_1_1MachineFrameInfo.html#a9284fd53296d2a2f8ae654d000971000">llvm::MachineFrameInfo::getObjectSize</a></div><div class="ttdeci">int64_t getObjectSize(int ObjectIdx) const</div><div class="ttdoc">Return the size of the specified object.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFrameInfo_8h_source.html#l00470">MachineFrameInfo.h:470</a></div></div>
<div class="ttc" id="aLiveIntervals_8h_html"><div class="ttname"><a href="LiveIntervals_8h.html">LiveIntervals.h</a></div></div>
<div class="ttc" id="aHexagonMCCompound_8cpp_html_aac4e485cee645621dcac1e8a6e56fc9e"><div class="ttname"><a href="HexagonMCCompound_8cpp.html#aac4e485cee645621dcac1e8a6e56fc9e">OpcodeIndex</a></div><div class="ttdeci">OpcodeIndex</div><div class="ttdef"><b>Definition:</b> <a href="HexagonMCCompound_8cpp_source.html#l00030">HexagonMCCompound.cpp:30</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_a33365204be9cb132de322e3713253b57"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a33365204be9cb132de322e3713253b57">llvm::MachineInstr::getFlag</a></div><div class="ttdeci">bool getFlag(MIFlag Flag) const</div><div class="ttdoc">Return whether an MI flag is set.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00357">MachineInstr.h:357</a></div></div>
<div class="ttc" id="aclassllvm_1_1PPCInstrInfo_html_afd94e27d369270a3c80e08cc32646ce9"><div class="ttname"><a href="classllvm_1_1PPCInstrInfo.html#afd94e27d369270a3c80e08cc32646ce9">llvm::PPCInstrInfo::getSerializableBitmaskMachineOperandTargetFlags</a></div><div class="ttdeci">ArrayRef&lt; std::pair&lt; unsigned, const char * &gt; &gt; getSerializableBitmaskMachineOperandTargetFlags() const override</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8cpp_source.html#l02999">PPCInstrInfo.cpp:2999</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html_a9e1fc23a17e97d2d1732e753ae9251ac"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#a9e1fc23a17e97d2d1732e753ae9251ac">llvm::GlobalValue::getParent</a></div><div class="ttdeci">Module * getParent()</div><div class="ttdoc">Get the module that this global value is contained inside of...</div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00652">GlobalValue.h:652</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PPCISD_html_ad1c32e5bb1cb213fb836bc3d221e4f19aab6a046c536c71121190fefd548d6b25"><div class="ttname"><a href="namespacellvm_1_1PPCISD.html#ad1c32e5bb1cb213fb836bc3d221e4f19aab6a046c536c71121190fefd548d6b25">llvm::PPCISD::MFFS</a></div><div class="ttdeci">@ MFFS</div><div class="ttdoc">F8RC = MFFS - This moves the FPSCR (not modeled) into the register.</div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8h_source.html#l00307">PPCISelLowering.h:307</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineRegisterInfo_html_a489d8c4ed3ae8b1ca4f68e580b074bf1"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#a489d8c4ed3ae8b1ca4f68e580b074bf1">llvm::MachineRegisterInfo::use_instr_begin</a></div><div class="ttdeci">use_instr_iterator use_instr_begin(Register RegNo) const</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8h_source.html#l00499">MachineRegisterInfo.h:499</a></div></div>
<div class="ttc" id="aclassllvm_1_1PPCRegisterInfo_html_a35c77ff356ab1c026fb65800c036d737"><div class="ttname"><a href="classllvm_1_1PPCRegisterInfo.html#a35c77ff356ab1c026fb65800c036d737">llvm::PPCRegisterInfo::getMappedIdxOpcForImmOpc</a></div><div class="ttdeci">unsigned getMappedIdxOpcForImmOpc(unsigned ImmOpcode) const</div><div class="ttdoc">getMappedIdxOpcForImmOpc - Return the mapped index form load/store opcode for a given imm form load/s...</div><div class="ttdef"><b>Definition:</b> <a href="PPCRegisterInfo_8h_source.html#l00067">PPCRegisterInfo.h:67</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PPCII_html_ae73836094d8b0399ba10a6e540a363ffa473364a1f0cc5c395f582cf7ba1ff468"><div class="ttname"><a href="namespacellvm_1_1PPCII.html#ae73836094d8b0399ba10a6e540a363ffa473364a1f0cc5c395f582cf7ba1ff468">llvm::PPCII::MO_ACCESS_MASK</a></div><div class="ttdeci">@ MO_ACCESS_MASK</div><div class="ttdoc">The next are not flags but distinct values.</div><div class="ttdef"><b>Definition:</b> <a href="PPC_8h_source.html#l00158">PPC.h:158</a></div></div>
<div class="ttc" id="astructllvm_1_1ImmInstrInfo_html"><div class="ttname"><a href="structllvm_1_1ImmInstrInfo.html">llvm::ImmInstrInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8h_source.html#l00082">PPCInstrInfo.h:82</a></div></div>
<div class="ttc" id="aclassllvm_1_1PPCInstrInfo_html_a0f34e95d290dc051294ec47023d90ca7"><div class="ttname"><a href="classllvm_1_1PPCInstrInfo.html#a0f34e95d290dc051294ec47023d90ca7">llvm::PPCInstrInfo::isReallyTriviallyReMaterializable</a></div><div class="ttdeci">bool isReallyTriviallyReMaterializable(const MachineInstr &amp;MI) const override</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8cpp_source.html#l01087">PPCInstrInfo.cpp:1087</a></div></div>
<div class="ttc" id="aclassllvm_1_1PPCDispatchGroupSBHazardRecognizer_html"><div class="ttname"><a href="classllvm_1_1PPCDispatchGroupSBHazardRecognizer.html">llvm::PPCDispatchGroupSBHazardRecognizer</a></div><div class="ttdoc">PPCDispatchGroupSBHazardRecognizer - This class implements a scoreboard-based hazard recognizer for P...</div><div class="ttdef"><b>Definition:</b> <a href="PPCHazardRecognizers_8h_source.html#l00025">PPCHazardRecognizers.h:25</a></div></div>
<div class="ttc" id="astructllvm_1_1ImmInstrInfo_html_a606436aa8a72e17a56ccb60ffadd54f2"><div class="ttname"><a href="structllvm_1_1ImmInstrInfo.html#a606436aa8a72e17a56ccb60ffadd54f2">llvm::ImmInstrInfo::IsCommutative</a></div><div class="ttdeci">uint64_t IsCommutative</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8h_source.html#l00094">PPCInstrInfo.h:94</a></div></div>
<div class="ttc" id="anamespacellvm_1_1numbers_html_a92f4283d4e0e2ea1776894b3ae93640f"><div class="ttname"><a href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">llvm::numbers::e</a></div><div class="ttdeci">constexpr double e</div><div class="ttdef"><b>Definition:</b> <a href="MathExtras_8h_source.html#l00031">MathExtras.h:31</a></div></div>
<div class="ttc" id="aPPCInstrInfo_8cpp_html_ad21fabc80e604059d0d02c34708a1cc2"><div class="ttname"><a href="PPCInstrInfo_8cpp.html#ad21fabc80e604059d0d02c34708a1cc2">MAX_BINOP_DEPTH</a></div><div class="ttdeci">const unsigned MAX_BINOP_DEPTH</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8cpp_source.html#l05356">PPCInstrInfo.cpp:5356</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetRegisterInfo_html_aa5aad3f9195b1fd331f449ce9a709da2"><div class="ttname"><a href="classllvm_1_1TargetRegisterInfo.html#aa5aad3f9195b1fd331f449ce9a709da2">llvm::TargetRegisterInfo::getMatchingSuperReg</a></div><div class="ttdeci">MCRegister getMatchingSuperReg(MCRegister Reg, unsigned SubIdx, const TargetRegisterClass *RC) const</div><div class="ttdoc">Return a super-register of the specified register Reg so its sub-register of index SubIdx is Reg.</div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8h_source.html#l00600">TargetRegisterInfo.h:600</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCInstrDesc_html_a47dd718cb7a3b36fd9f7ed6118df04af"><div class="ttname"><a href="classllvm_1_1MCInstrDesc.html#a47dd718cb7a3b36fd9f7ed6118df04af">llvm::MCInstrDesc::implicit_uses</a></div><div class="ttdeci">ArrayRef&lt; MCPhysReg &gt; implicit_uses() const</div><div class="ttdoc">Return a list of registers that are potentially read by any instance of this machine instruction.</div><div class="ttdef"><b>Definition:</b> <a href="MCInstrDesc_8h_source.html#l00565">MCInstrDesc.h:565</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMap_html"><div class="ttname"><a href="classllvm_1_1DenseMap.html">llvm::DenseMap&lt; unsigned, unsigned &gt;</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineConstantPool_html"><div class="ttname"><a href="classllvm_1_1MachineConstantPool.html">llvm::MachineConstantPool</a></div><div class="ttdoc">The MachineConstantPool class keeps track of constants referenced by a function which must be spilled...</div><div class="ttdef"><b>Definition:</b> <a href="MachineConstantPool_8h_source.html#l00117">MachineConstantPool.h:117</a></div></div>
<div class="ttc" id="aBasicAliasAnalysis_8cpp_html_af6d5cafbdfc5313e65d990120021a3ec"><div class="ttname"><a href="BasicAliasAnalysis_8cpp.html#af6d5cafbdfc5313e65d990120021a3ec">true</a></div><div class="ttdeci">basic Basic Alias true</div><div class="ttdef"><b>Definition:</b> <a href="BasicAliasAnalysis_8cpp_source.html#l01804">BasicAliasAnalysis.cpp:1804</a></div></div>
<div class="ttc" id="aPPCInstrInfo_8h_html"><div class="ttname"><a href="PPCInstrInfo_8h.html">PPCInstrInfo.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_aaee820701392c55ad54235d3d7201206"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#aaee820701392c55ad54235d3d7201206">llvm::MachineOperand::isDead</a></div><div class="ttdeci">bool isDead() const</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00394">MachineOperand.h:394</a></div></div>
<div class="ttc" id="anamespacellvm_1_1RegState_html_aef4cc0c855dc833e2a9d58a50703320da0fec8ba6f4a4dc758b725205985eee99"><div class="ttname"><a href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da0fec8ba6f4a4dc758b725205985eee99">llvm::RegState::Implicit</a></div><div class="ttdeci">@ Implicit</div><div class="ttdoc">Not emitted register (e.g. carry, or temporary result).</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00046">MachineInstrBuilder.h:46</a></div></div>
<div class="ttc" id="aMD5_8cpp_html_ac0eafdc9ee161b71e7af98af736952fd"><div class="ttname"><a href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a></div><div class="ttdeci">#define I(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00058">MD5.cpp:58</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFrameInfo_html_a8320a54de0a273478de910ac3795058b"><div class="ttname"><a href="classllvm_1_1MachineFrameInfo.html#a8320a54de0a273478de910ac3795058b">llvm::MachineFrameInfo::getObjectAlign</a></div><div class="ttdeci">Align getObjectAlign(int ObjectIdx) const</div><div class="ttdoc">Return the alignment of the specified stack object.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFrameInfo_8h_source.html#l00484">MachineFrameInfo.h:484</a></div></div>
<div class="ttc" id="anamespacellvm_1_1cl_html_a10a041239ae1870cfcc064bfaa79fb65"><div class="ttname"><a href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">llvm::cl::init</a></div><div class="ttdeci">initializer&lt; Ty &gt; init(const Ty &amp;Val)</div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00445">CommandLine.h:445</a></div></div>
<div class="ttc" id="aPPCInstrInfo_8cpp_html_aa9c13d9e221dc808f03b60abd4e848b2"><div class="ttname"><a href="PPCInstrInfo_8cpp.html#aa9c13d9e221dc808f03b60abd4e848b2">FMARPFactor</a></div><div class="ttdeci">static cl::opt&lt; float &gt; FMARPFactor(&quot;ppc-fma-rp-factor&quot;, cl::Hidden, cl::init(1.5), cl::desc(&quot;register pressure factor for the transformations.&quot;))</div></div>
<div class="ttc" id="alib_2Target_2README_8txt_html_a02def7c594e9f19ff247ed0bf33d1c30"><div class="ttname"><a href="lib_2Target_2README_8txt.html#a02def7c594e9f19ff247ed0bf33d1c30">size</a></div><div class="ttdeci">i&lt; reg-&gt; size</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2README_8txt_source.html#l00166">README.txt:166</a></div></div>
<div class="ttc" id="aMachineConstantPool_8h_html"><div class="ttname"><a href="MachineConstantPool_8h.html">MachineConstantPool.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_a5b401e780c5eed0aca1cfbf44d36a545"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a5b401e780c5eed0aca1cfbf44d36a545">llvm::MachineOperand::isCPI</a></div><div class="ttdeci">bool isCPI() const</div><div class="ttdoc">isCPI - Tests if this is a MO_ConstantPoolIndex operand.</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00341">MachineOperand.h:341</a></div></div>
<div class="ttc" id="anamespacellvm_html_acd1cd968cb420c82d70926920fcdc7d7"><div class="ttname"><a href="namespacellvm.html#acd1cd968cb420c82d70926920fcdc7d7">llvm::is_contained</a></div><div class="ttdeci">bool is_contained(R &amp;&amp;Range, const E &amp;Element)</div><div class="ttdoc">Wrapper function around std::find to detect if an element exists in a container.</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l01869">STLExtras.h:1869</a></div></div>
<div class="ttc" id="astructllvm_1_1ImmInstrInfo_html_ac6c300b1cfe574d36fe8547c4470f661"><div class="ttname"><a href="structllvm_1_1ImmInstrInfo.html#ac6c300b1cfe574d36fe8547c4470f661">llvm::ImmInstrInfo::TruncateImmTo</a></div><div class="ttdeci">uint64_t TruncateImmTo</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8h_source.html#l00104">PPCInstrInfo.h:104</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_ab8d7b8ff6803133d567fd4240e6364ce"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#ab8d7b8ff6803133d567fd4240e6364ce">llvm::MachineBasicBlock::getLastNonDebugInstr</a></div><div class="ttdeci">iterator getLastNonDebugInstr(bool SkipPseudoOp=true)</div><div class="ttdoc">Returns an iterator to the last non-debug instruction in the basic block, or end().</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8cpp_source.html#l00269">MachineBasicBlock.cpp:269</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PPC_html_a14028f7fe73a11dabc6583510cc0a355a2b0d1201213c898ccbbc475b86c296aa"><div class="ttname"><a href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355a2b0d1201213c898ccbbc475b86c296aa">llvm::PPC::PRED_GE_PLUS</a></div><div class="ttdeci">@ PRED_GE_PLUS</div><div class="ttdef"><b>Definition:</b> <a href="PPCPredicates_8h_source.html#l00046">PPCPredicates.h:46</a></div></div>
<div class="ttc" id="aMachineFunctionPass_8h_html"><div class="ttname"><a href="MachineFunctionPass_8h.html">MachineFunctionPass.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1Register_html_ab94ac0eb79655589fb116359f862886c"><div class="ttname"><a href="classllvm_1_1Register.html#ab94ac0eb79655589fb116359f862886c">llvm::Register::isVirtualRegister</a></div><div class="ttdeci">static bool isVirtualRegister(unsigned Reg)</div><div class="ttdoc">Return true if the specified register number is in the virtual register namespace.</div><div class="ttdef"><b>Definition:</b> <a href="Register_8h_source.html#l00071">Register.h:71</a></div></div>
<div class="ttc" id="aclassllvm_1_1PseudoSourceValue_html_a9959ffdc41bc31cf2211b8824f79259eae05129b008395b214fc0ee1bea862f29"><div class="ttname"><a href="classllvm_1_1PseudoSourceValue.html#a9959ffdc41bc31cf2211b8824f79259eae05129b008395b214fc0ee1bea862f29">llvm::PseudoSourceValue::ConstantPool</a></div><div class="ttdeci">@ ConstantPool</div><div class="ttdef"><b>Definition:</b> <a href="PseudoSourceValue_8h_source.html#l00041">PseudoSourceValue.h:41</a></div></div>
<div class="ttc" id="aclassllvm_1_1PPCInstrInfo_html_af7fcfb5e7294b3fe2d66d3349d5acfb7"><div class="ttname"><a href="classllvm_1_1PPCInstrInfo.html#af7fcfb5e7294b3fe2d66d3349d5acfb7">llvm::PPCInstrInfo::getOperandLatency</a></div><div class="ttdeci">int getOperandLatency(const InstrItineraryData *ItinData, const MachineInstr &amp;DefMI, unsigned DefIdx, const MachineInstr &amp;UseMI, unsigned UseIdx) const override</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8cpp_source.html#l00168">PPCInstrInfo.cpp:168</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PPC_html_a020638ddecc65637bc0282f5ee857d50a7b91cd4044a62473da3166dd0d2b2ddc"><div class="ttname"><a href="namespacellvm_1_1PPC.html#a020638ddecc65637bc0282f5ee857d50a7b91cd4044a62473da3166dd0d2b2ddc">llvm::PPC::DIR_440</a></div><div class="ttdeci">@ DIR_440</div><div class="ttdef"><b>Definition:</b> <a href="PPCSubtarget_8h_source.html#l00043">PPCSubtarget.h:43</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ms__demangle_html_a851a17f7dc73f9988807242926dcc645a317d4a7487ee62605713987d4a037f83"><div class="ttname"><a href="namespacellvm_1_1ms__demangle.html#a851a17f7dc73f9988807242926dcc645a317d4a7487ee62605713987d4a037f83">llvm::ms_demangle::IntrinsicFunctionKind::RightShift</a></div><div class="ttdeci">@ RightShift</div></div>
<div class="ttc" id="anamespacellvm_1_1PPC_html_a14028f7fe73a11dabc6583510cc0a355ad9add708b3d9680d64242cf06f448462"><div class="ttname"><a href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355ad9add708b3d9680d64242cf06f448462">llvm::PPC::PRED_NE</a></div><div class="ttdeci">@ PRED_NE</div><div class="ttdef"><b>Definition:</b> <a href="PPCPredicates_8h_source.html#l00032">PPCPredicates.h:32</a></div></div>
<div class="ttc" id="aclassllvm_1_1RegPressureTracker_html_aa4e622c86aaa72cfc6725b7b66c6a068"><div class="ttname"><a href="classllvm_1_1RegPressureTracker.html#aa4e622c86aaa72cfc6725b7b66c6a068">llvm::RegPressureTracker::getPressure</a></div><div class="ttdeci">RegisterPressure &amp; getPressure()</div><div class="ttdoc">Get the resulting register pressure over the traversed region.</div><div class="ttdef"><b>Definition:</b> <a href="RegisterPressure_8h_source.html#l00458">RegisterPressure.h:458</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PPCII_html_ae73836094d8b0399ba10a6e540a363ffaf464d229c08e6d5eb945d7b905a7c9fd"><div class="ttname"><a href="namespacellvm_1_1PPCII.html#ae73836094d8b0399ba10a6e540a363ffaf464d229c08e6d5eb945d7b905a7c9fd">llvm::PPCII::MO_PIC_FLAG</a></div><div class="ttdeci">@ MO_PIC_FLAG</div><div class="ttdoc">MO_PIC_FLAG - If this bit is set, the symbol reference is relative to the function's picbase,...</div><div class="ttdef"><b>Definition:</b> <a href="PPC_8h_source.html#l00110">PPC.h:110</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_a264402282f599b6181b6415278fbf849"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a264402282f599b6181b6415278fbf849">llvm::MachineInstr::setFlags</a></div><div class="ttdeci">void setFlags(unsigned flags)</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00366">MachineInstr.h:366</a></div></div>
<div class="ttc" id="astructllvm_1_1RegisterPressure_html_af444f3c79d12bb654d6477d629cbe7c0"><div class="ttname"><a href="structllvm_1_1RegisterPressure.html#af444f3c79d12bb654d6477d629cbe7c0">llvm::RegisterPressure::MaxSetPressure</a></div><div class="ttdeci">std::vector&lt; unsigned &gt; MaxSetPressure</div><div class="ttdoc">Map of max reg pressure indexed by pressure set ID, not class ID.</div><div class="ttdef"><b>Definition:</b> <a href="RegisterPressure_8h_source.html#l00049">RegisterPressure.h:49</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html_aa460158a4019a4043faf6ea76344cbd5"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#aa460158a4019a4043faf6ea76344cbd5">llvm::MachineFunction::getConstantPool</a></div><div class="ttdeci">MachineConstantPool * getConstantPool()</div><div class="ttdoc">getConstantPool - Return the constant pool object for the current function.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00704">MachineFunction.h:704</a></div></div>
<div class="ttc" id="aSILowerControlFlow_8cpp_html_a4868c5d81c5ccc98c47aeab6244346a0"><div class="ttname"><a href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a></div><div class="ttdeci">assert(ImpDefSCC.getReg()==AMDGPU::SCC &amp;&amp;ImpDefSCC.isDef())</div></div>
<div class="ttc" id="anamespacellvm_html_acbd62c639eb89998b853a9327a42785cad695e1d60cbfdbfdbf4f2f49fdae29a4"><div class="ttname"><a href="namespacellvm.html#acbd62c639eb89998b853a9327a42785cad695e1d60cbfdbfdbf4f2f49fdae29a4">llvm::SOK_Int8Spill</a></div><div class="ttdeci">@ SOK_Int8Spill</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8h_source.html#l00120">PPCInstrInfo.h:120</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_a374fc9d9064a93ef8a408f269d02389d"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a374fc9d9064a93ef8a408f269d02389d">llvm::MachineInstr::readsWritesVirtualRegister</a></div><div class="ttdeci">std::pair&lt; bool, bool &gt; readsWritesVirtualRegister(Register Reg, SmallVectorImpl&lt; unsigned &gt; *Ops=nullptr) const</div><div class="ttdoc">Return a pair of bools (reads, writes) indicating if this instruction reads or writes Reg.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8cpp_source.html#l01020">MachineInstr.cpp:1020</a></div></div>
<div class="ttc" id="aclassllvm_1_1RegisterClassInfo_html"><div class="ttname"><a href="classllvm_1_1RegisterClassInfo.html">llvm::RegisterClassInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="RegisterClassInfo_8h_source.html#l00029">RegisterClassInfo.h:29</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html_a18fcadd076ad53e6df94e0ca7a80a9ef"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#a18fcadd076ad53e6df94e0ca7a80a9ef">llvm::MachineFunction::getFrameInfo</a></div><div class="ttdeci">MachineFrameInfo &amp; getFrameInfo()</div><div class="ttdoc">getFrameInfo - Return the frame info object for the current function.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00688">MachineFunction.h:688</a></div></div>
<div class="ttc" id="aclassllvm_1_1PPCInstrInfo_html_a5d0eb474ed80ff47a9838b71df8cf1f4"><div class="ttname"><a href="classllvm_1_1PPCInstrInfo.html#a5d0eb474ed80ff47a9838b71df8cf1f4">llvm::PPCInstrInfo::isLoadFromStackSlot</a></div><div class="ttdeci">unsigned isLoadFromStackSlot(const MachineInstr &amp;MI, int &amp;FrameIndex) const override</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8cpp_source.html#l01071">PPCInstrInfo.cpp:1071</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_a4e21760f681d6f97f95c8414e7b83ea5"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#a4e21760f681d6f97f95c8414e7b83ea5">llvm::MachineBasicBlock::getParent</a></div><div class="ttdeci">const MachineFunction * getParent() const</div><div class="ttdoc">Return the MachineFunction containing this basic block.</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00265">MachineBasicBlock.h:265</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110ad2904b2502547c3f3d390774f8f548c7"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad2904b2502547c3f3d390774f8f548c7">llvm::ISD::STACKMAP</a></div><div class="ttdeci">@ STACKMAP</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l01297">ISDOpcodes.h:1297</a></div></div>
<div class="ttc" id="anamespacellvm_html_acbd62c639eb89998b853a9327a42785ca67ecccb7d059c0060e61b4bcf9d088f7"><div class="ttname"><a href="namespacellvm.html#acbd62c639eb89998b853a9327a42785ca67ecccb7d059c0060e61b4bcf9d088f7">llvm::SOK_VectorFloat4Spill</a></div><div class="ttdeci">@ SOK_VectorFloat4Spill</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8h_source.html#l00128">PPCInstrInfo.h:128</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstrBuilder_html_a47760ffd22a82283df0f5da521feca2a"><div class="ttname"><a href="classllvm_1_1MachineInstrBuilder.html#a47760ffd22a82283df0f5da521feca2a">llvm::MachineInstrBuilder::addMemOperand</a></div><div class="ttdeci">const MachineInstrBuilder &amp; addMemOperand(MachineMemOperand *MMO) const</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00202">MachineInstrBuilder.h:202</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PPC_html_a5f7348f565ebb68dc08979b2808300c5"><div class="ttname"><a href="namespacellvm_1_1PPC.html#a5f7348f565ebb68dc08979b2808300c5">llvm::PPC::getPredicateHint</a></div><div class="ttdeci">unsigned getPredicateHint(Predicate Opcode)</div><div class="ttdoc">Return the hint bits of the predicate.</div><div class="ttdef"><b>Definition:</b> <a href="PPCPredicates_8h_source.html#l00082">PPCPredicates.h:82</a></div></div>
<div class="ttc" id="aclassllvm_1_1PPCInstrInfo_html_aedb2f85719d229f0c9bc62ab1d17e918"><div class="ttname"><a href="classllvm_1_1PPCInstrInfo.html#aedb2f85719d229f0c9bc62ab1d17e918">llvm::PPCInstrInfo::analyzeBranch</a></div><div class="ttdeci">bool analyzeBranch(MachineBasicBlock &amp;MBB, MachineBasicBlock *&amp;TBB, MachineBasicBlock *&amp;FBB, SmallVectorImpl&lt; MachineOperand &gt; &amp;Cond, bool AllowModify) const override</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8cpp_source.html#l01268">PPCInstrInfo.cpp:1268</a></div></div>
<div class="ttc" id="aclassllvm_1_1PPCInstrInfo_html_a50c42e50d84476f314b12fc325f97cdf"><div class="ttname"><a href="classllvm_1_1PPCInstrInfo.html#a50c42e50d84476f314b12fc325f97cdf">llvm::PPCInstrInfo::getFMAPatterns</a></div><div class="ttdeci">bool getFMAPatterns(MachineInstr &amp;Root, SmallVectorImpl&lt; MachineCombinerPattern &gt; &amp;P, bool DoRegPressureReduce) const</div><div class="ttdoc">Return true when there is potentially a faster code sequence for a fma chain ending in Root.</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8cpp_source.html#l00372">PPCInstrInfo.cpp:372</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstrBuilder_html_ad08ed580345a51c50d9477dec1e65818"><div class="ttname"><a href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">llvm::MachineInstrBuilder::addReg</a></div><div class="ttdeci">const MachineInstrBuilder &amp; addReg(Register RegNo, unsigned flags=0, unsigned SubReg=0) const</div><div class="ttdoc">Add a new virtual register operand.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00097">MachineInstrBuilder.h:97</a></div></div>
<div class="ttc" id="anamespacellvm_1_1RISCVISD_html_ab68e2d65ea9915ffaac8334a3b8bf882a64927d70afbf447d7c36fa86496df0a3"><div class="ttname"><a href="namespacellvm_1_1RISCVISD.html#ab68e2d65ea9915ffaac8334a3b8bf882a64927d70afbf447d7c36fa86496df0a3">llvm::RISCVISD::SRAW</a></div><div class="ttdeci">@ SRAW</div><div class="ttdef"><b>Definition:</b> <a href="RISCVISelLowering_8h_source.html#l00066">RISCVISelLowering.h:66</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_ac0035d7c1c860501c877c20e6e93297b"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">llvm::MachineOperand::getReg</a></div><div class="ttdeci">Register getReg() const</div><div class="ttdoc">getReg - Returns the register number.</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00369">MachineOperand.h:369</a></div></div>
<div class="ttc" id="anamespacellvm_html_acbd62c639eb89998b853a9327a42785cac13ab3d6d37c4af024472ba9e711fe02"><div class="ttname"><a href="namespacellvm.html#acbd62c639eb89998b853a9327a42785cac13ab3d6d37c4af024472ba9e711fe02">llvm::SOK_AccumulatorSpill</a></div><div class="ttdeci">@ SOK_AccumulatorSpill</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8h_source.html#l00131">PPCInstrInfo.h:131</a></div></div>
<div class="ttc" id="aclassllvm_1_1PPCInstrInfo_html_a87b39c65c6a9fd9acdc3cd6ea03ed323"><div class="ttname"><a href="classllvm_1_1PPCInstrInfo.html#a87b39c65c6a9fd9acdc3cd6ea03ed323">llvm::PPCInstrInfo::SubsumesPredicate</a></div><div class="ttdeci">bool SubsumesPredicate(ArrayRef&lt; MachineOperand &gt; Pred1, ArrayRef&lt; MachineOperand &gt; Pred2) const override</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8cpp_source.html#l02290">PPCInstrInfo.cpp:2290</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PPCII_html_ae73836094d8b0399ba10a6e540a363ffa0ab30789f6ac6df962adba01f53c2888"><div class="ttname"><a href="namespacellvm_1_1PPCII.html#ae73836094d8b0399ba10a6e540a363ffa0ab30789f6ac6df962adba01f53c2888">llvm::PPCII::MO_TLSLD_LO</a></div><div class="ttdeci">@ MO_TLSLD_LO</div><div class="ttdef"><b>Definition:</b> <a href="PPC_8h_source.html#l00170">PPC.h:170</a></div></div>
<div class="ttc" id="aXtensaAsmBackend_8cpp_html_a13a0babfc55adc9b798c39e65ec9e8a3"><div class="ttname"><a href="XtensaAsmBackend_8cpp.html#a13a0babfc55adc9b798c39e65ec9e8a3">getSize</a></div><div class="ttdeci">static unsigned getSize(unsigned Kind)</div><div class="ttdef"><b>Definition:</b> <a href="XtensaAsmBackend_8cpp_source.html#l00134">XtensaAsmBackend.cpp:134</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_a172e7bd9150eb0519ef04c796086f93d"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#a172e7bd9150eb0519ef04c796086f93d">llvm::MachineBasicBlock::instr_begin</a></div><div class="ttdeci">instr_iterator instr_begin()</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00293">MachineBasicBlock.h:293</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_abe04ffc605f0c3a48a581cdb3ded2df4"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#abe04ffc605f0c3a48a581cdb3ded2df4">llvm::MachineInstr::readsRegister</a></div><div class="ttdeci">bool readsRegister(Register Reg, const TargetRegisterInfo *TRI=nullptr) const</div><div class="ttdoc">Return true if the MachineInstr reads the specified register.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l01398">MachineInstr.h:1398</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05a8268c4cada73d2a27ba77100ace8bc7f"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a8268c4cada73d2a27ba77100ace8bc7f">llvm::MachineCombinerPattern::REASSOC_XY_BCA</a></div><div class="ttdeci">@ REASSOC_XY_BCA</div></div>
<div class="ttc" id="aclassllvm_1_1PPCInstrInfo_html_a4f5aa6feffe52b80166f0d252cf354cb"><div class="ttname"><a href="classllvm_1_1PPCInstrInfo.html#a4f5aa6feffe52b80166f0d252cf354cb">llvm::PPCInstrInfo::loadRegFromStackSlotNoUpd</a></div><div class="ttdeci">void loadRegFromStackSlotNoUpd(MachineBasicBlock &amp;MBB, MachineBasicBlock::iterator MBBI, unsigned DestReg, int FrameIndex, const TargetRegisterClass *RC, const TargetRegisterInfo *TRI) const</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8cpp_source.html#l02006">PPCInstrInfo.cpp:2006</a></div></div>
<div class="ttc" id="astructllvm_1_1ImmInstrInfo_html_ace8444c8f03d1c0079250b15cd607337"><div class="ttname"><a href="structllvm_1_1ImmInstrInfo.html#ace8444c8f03d1c0079250b15cd607337">llvm::ImmInstrInfo::ZeroIsSpecialOrig</a></div><div class="ttdeci">uint64_t ZeroIsSpecialOrig</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8h_source.html#l00089">PPCInstrInfo.h:89</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html"><div class="ttname"><a href="classllvm_1_1APInt.html">llvm::APInt</a></div><div class="ttdoc">Class for arbitrary precision integers.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00075">APInt.h:75</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html"><div class="ttname"><a href="classllvm_1_1MachineFunction.html">llvm::MachineFunction</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00258">MachineFunction.h:258</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_accc60d2019e9dff57bb0918a94422ebb"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#accc60d2019e9dff57bb0918a94422ebb">llvm::MachineInstr::dump</a></div><div class="ttdeci">void dump() const</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8cpp_source.html#l01539">MachineInstr.cpp:1539</a></div></div>
<div class="ttc" id="aPPCInstrInfo_8cpp_html_a0c84571aa2288f85c80d91fe64f97926"><div class="ttname"><a href="PPCInstrInfo_8cpp.html#a0c84571aa2288f85c80d91fe64f97926">definedByZeroExtendingOp</a></div><div class="ttdeci">static bool definedByZeroExtendingOp(const unsigned Reg, const MachineRegisterInfo *MRI)</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8cpp_source.html#l05287">PPCInstrInfo.cpp:5287</a></div></div>
<div class="ttc" id="anamespacellvm_1_1MipsII_html_ab0cf5f5ed4db649fc89a1b41f8b5771fa017c78afd95cb34d547e5b12d7e82cf2"><div class="ttname"><a href="namespacellvm_1_1MipsII.html#ab0cf5f5ed4db649fc89a1b41f8b5771fa017c78afd95cb34d547e5b12d7e82cf2">llvm::MipsII::MO_TPREL_LO</a></div><div class="ttdeci">@ MO_TPREL_LO</div><div class="ttdef"><b>Definition:</b> <a href="MipsBaseInfo_8h_source.html#l00074">MipsBaseInfo.h:74</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineRegisterInfo_html_a4ea277721b4e63804715a62de87e9a72"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#a4ea277721b4e63804715a62de87e9a72">llvm::MachineRegisterInfo::use_nodbg_empty</a></div><div class="ttdeci">bool use_nodbg_empty(Register RegNo) const</div><div class="ttdoc">use_nodbg_empty - Return true if there are no non-Debug instructions using the specified register.</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8h_source.html#l00588">MachineRegisterInfo.h:588</a></div></div>
<div class="ttc" id="anamespacellvm_1_1X86ISD_html_a9441a4f94d36d0f7c0c34aca42e3f76aacc8282228b74b56cc6a53361a5271489"><div class="ttname"><a href="namespacellvm_1_1X86ISD.html#a9441a4f94d36d0f7c0c34aca42e3f76aacc8282228b74b56cc6a53361a5271489">llvm::X86ISD::FMULS</a></div><div class="ttdeci">@ FMULS</div><div class="ttdef"><b>Definition:</b> <a href="X86ISelLowering_8h_source.html#l00223">X86ISelLowering.h:223</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScheduleDAG_html"><div class="ttname"><a href="classllvm_1_1ScheduleDAG.html">llvm::ScheduleDAG</a></div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8h_source.html#l00554">ScheduleDAG.h:554</a></div></div>
<div class="ttc" id="anamespacellvm_html_ad41f0c8cd179d6fb3236c4b00a245153"><div class="ttname"><a href="namespacellvm.html#ad41f0c8cd179d6fb3236c4b00a245153">llvm::isRunOfOnes</a></div><div class="ttdeci">static bool isRunOfOnes(unsigned Val, unsigned &amp;MB, unsigned &amp;ME)</div><div class="ttdoc">Returns true iff Val consists of one contiguous run of 1s with any number of 0s on either side.</div><div class="ttdef"><b>Definition:</b> <a href="PPCMCTargetDesc_8h_source.html#l00057">PPCMCTargetDesc.h:57</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AArch64_html_a2a1421dcee7067c8a9c69752bd8ec566ae435ab4c104cb9e9e78f43e41b8c02cb"><div class="ttname"><a href="namespacellvm_1_1AArch64.html#a2a1421dcee7067c8a9c69752bd8ec566ae435ab4c104cb9e9e78f43e41b8c02cb">llvm::AArch64::RM</a></div><div class="ttdeci">@ RM</div><div class="ttdef"><b>Definition:</b> <a href="AArch64ISelLowering_8h_source.html#l00499">AArch64ISelLowering.h:499</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_a5879bc3bd2b8f21ba2d83a1f97a020d9"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a5879bc3bd2b8f21ba2d83a1f97a020d9">llvm::MachineInstr::hasImplicitDef</a></div><div class="ttdeci">bool hasImplicitDef() const</div><div class="ttdoc">Returns true if the instruction has implicit definition.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00599">MachineInstr.h:599</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCInstrDesc_html_a24feb40480607c5aa975b5123b3afad1"><div class="ttname"><a href="classllvm_1_1MCInstrDesc.html#a24feb40480607c5aa975b5123b3afad1">llvm::MCInstrDesc::implicit_defs</a></div><div class="ttdeci">ArrayRef&lt; MCPhysReg &gt; implicit_defs() const</div><div class="ttdoc">Return a list of registers that are potentially written by any instance of this machine instruction.</div><div class="ttdef"><b>Definition:</b> <a href="MCInstrDesc_8h_source.html#l00577">MCInstrDesc.h:577</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_a7f0521fa2de44271fd4b909ea7351ef3"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#a7f0521fa2de44271fd4b909ea7351ef3">llvm::MachineBasicBlock::getFirstTerminator</a></div><div class="ttdeci">iterator getFirstTerminator()</div><div class="ttdoc">Returns an iterator to the first terminator instruction of this basic block.</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8cpp_source.html#l00240">MachineBasicBlock.cpp:240</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetMachine_html_a171c7253c2b03171bdf22c1bd910f674"><div class="ttname"><a href="classllvm_1_1TargetMachine.html#a171c7253c2b03171bdf22c1bd910f674">llvm::TargetMachine::getMCAsmInfo</a></div><div class="ttdeci">const MCAsmInfo * getMCAsmInfo() const</div><div class="ttdoc">Return target specific asm information.</div><div class="ttdef"><b>Definition:</b> <a href="Target_2TargetMachine_8h_source.html#l00213">TargetMachine.h:213</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PPCII_html_ae73836094d8b0399ba10a6e540a363ffad512bc138c5c6766b7ee4f66e43d47b4"><div class="ttname"><a href="namespacellvm_1_1PPCII.html#ae73836094d8b0399ba10a6e540a363ffad512bc138c5c6766b7ee4f66e43d47b4">llvm::PPCII::MO_TOC_LO</a></div><div class="ttdeci">@ MO_TOC_LO</div><div class="ttdef"><b>Definition:</b> <a href="PPC_8h_source.html#l00171">PPC.h:171</a></div></div>
<div class="ttc" id="aclassllvm_1_1ArrayRef_html"><div class="ttname"><a href="classllvm_1_1ArrayRef.html">llvm::ArrayRef</a></div><div class="ttdoc">ArrayRef - Represent a constant reference to an array (0 or more elements consecutively in memory),...</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00033">APInt.h:33</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_a9b48cb80ee1534c2b51d789b673137c1"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a9b48cb80ee1534c2b51d789b673137c1">llvm::MachineOperand::getMBB</a></div><div class="ttdeci">MachineBasicBlock * getMBB() const</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00571">MachineOperand.h:571</a></div></div>
<div class="ttc" id="aclassllvm_1_1PPCInstrInfo_html_a66df27d1558e144f63148f347b79392f"><div class="ttname"><a href="classllvm_1_1PPCInstrInfo.html#a66df27d1558e144f63148f347b79392f">llvm::PPCInstrInfo::convertToImmediateForm</a></div><div class="ttdeci">bool convertToImmediateForm(MachineInstr &amp;MI, MachineInstr **KilledDef=nullptr) const</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8cpp_source.html#l03798">PPCInstrInfo.cpp:3798</a></div></div>
<div class="ttc" id="anamespacellvm_html_a57f2ca0e57f4f7b13f56f9aa16af3e0d"><div class="ttname"><a href="namespacellvm.html#a57f2ca0e57f4f7b13f56f9aa16af3e0d">llvm::min</a></div><div class="ttdeci">Expected&lt; ExpressionValue &gt; min(const ExpressionValue &amp;Lhs, const ExpressionValue &amp;Rhs)</div><div class="ttdef"><b>Definition:</b> <a href="FileCheck_8cpp_source.html#l00357">FileCheck.cpp:357</a></div></div>
<div class="ttc" id="aMCAsmInfo_8h_html"><div class="ttname"><a href="MCAsmInfo_8h.html">MCAsmInfo.h</a></div></div>
<div class="ttc" id="aBasicBlockSections_8cpp_html_a5fd0741d696f28faf65b33f6c6af8fda"><div class="ttname"><a href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a></div><div class="ttdeci">SmallVector&lt; MachineOperand, 4 &gt; Cond</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlockSections_8cpp_source.html#l00137">BasicBlockSections.cpp:137</a></div></div>
<div class="ttc" id="aclassllvm_1_1PPCInstrInfo_html_a142a35a3df3a734306ff0a9d751c76bd"><div class="ttname"><a href="classllvm_1_1PPCInstrInfo.html#a142a35a3df3a734306ff0a9d751c76bd">llvm::PPCInstrInfo::isPredicated</a></div><div class="ttdeci">bool isPredicated(const MachineInstr &amp;MI) const override</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8cpp_source.html#l02164">PPCInstrInfo.cpp:2164</a></div></div>
<div class="ttc" id="aAArch64SLSHardening_8cpp_html_ad5f691fdc1a09aaf6df5fef958b35a3d"><div class="ttname"><a href="AArch64SLSHardening_8cpp.html#ad5f691fdc1a09aaf6df5fef958b35a3d">MBBI</a></div><div class="ttdeci">MachineBasicBlock MachineBasicBlock::iterator MBBI</div><div class="ttdef"><b>Definition:</b> <a href="AArch64SLSHardening_8cpp_source.html#l00075">AArch64SLSHardening.cpp:75</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_a0363204b5fbab08a46f5a7cd7f376f78"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a0363204b5fbab08a46f5a7cd7f376f78">llvm::MachineInstr::getOpcode</a></div><div class="ttdeci">unsigned getOpcode() const</div><div class="ttdoc">Returns the opcode of this MachineInstr.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00516">MachineInstr.h:516</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineRegisterInfo_html_a01bf72631b0bc836a8c07fe840b13233"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#a01bf72631b0bc836a8c07fe840b13233">llvm::MachineRegisterInfo::hasOneNonDBGUse</a></div><div class="ttdeci">bool hasOneNonDBGUse(Register RegNo) const</div><div class="ttdoc">hasOneNonDBGUse - Return true if there is exactly one non-Debug use of the specified register.</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8cpp_source.html#l00417">MachineRegisterInfo.cpp:417</a></div></div>
<div class="ttc" id="anamespacellvm_1_1X86ISD_html_a9441a4f94d36d0f7c0c34aca42e3f76aa1fb173ccbbe141aa5c819ba36cf87849"><div class="ttname"><a href="namespacellvm_1_1X86ISD.html#a9441a4f94d36d0f7c0c34aca42e3f76aa1fb173ccbbe141aa5c819ba36cf87849">llvm::X86ISD::FADDS</a></div><div class="ttdeci">@ FADDS</div><div class="ttdef"><b>Definition:</b> <a href="X86ISelLowering_8h_source.html#l00217">X86ISelLowering.h:217</a></div></div>
<div class="ttc" id="anamespacellvm_html_a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4"><div class="ttname"><a href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">llvm::Offset</a></div><div class="ttdeci">@ Offset</div><div class="ttdef"><b>Definition:</b> <a href="DWP_8cpp_source.html#l00406">DWP.cpp:406</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScheduleDAG_html_a5a3d3d075a208011a24a0918b58d7daa"><div class="ttname"><a href="classllvm_1_1ScheduleDAG.html#a5a3d3d075a208011a24a0918b58d7daa">llvm::ScheduleDAG::MF</a></div><div class="ttdeci">MachineFunction &amp; MF</div><div class="ttdoc">Machine function.</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8h_source.html#l00559">ScheduleDAG.h:559</a></div></div>
<div class="ttc" id="aSupport_2ErrorHandling_8h_html_ace243f5c25697a1107cce46626b3dc94"><div class="ttname"><a href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a></div><div class="ttdeci">#define llvm_unreachable(msg)</div><div class="ttdoc">Marks that the current location is not supposed to be reachable.</div><div class="ttdef"><b>Definition:</b> <a href="Support_2ErrorHandling_8h_source.html#l00143">ErrorHandling.h:143</a></div></div>
<div class="ttc" id="aclassllvm_1_1PPCInstrInfo_html_a9f4c857aeef82cc00528864a88944fbb"><div class="ttname"><a href="classllvm_1_1PPCInstrInfo.html#a9f4c857aeef82cc00528864a88944fbb">llvm::PPCInstrInfo::isLoadFromConstantPool</a></div><div class="ttdeci">bool isLoadFromConstantPool(MachineInstr *I) const</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8cpp_source.html#l00677">PPCInstrInfo.cpp:677</a></div></div>
<div class="ttc" id="aBasicAliasAnalysis_8cpp_html_a2675de1d8479c7b00387979714da43f7"><div class="ttname"><a href="BasicAliasAnalysis_8cpp.html#a2675de1d8479c7b00387979714da43f7">getParent</a></div><div class="ttdeci">static const Function * getParent(const Value *V)</div><div class="ttdef"><b>Definition:</b> <a href="BasicAliasAnalysis_8cpp_source.html#l00806">BasicAliasAnalysis.cpp:806</a></div></div>
<div class="ttc" id="aclassuint32__t_html"><div class="ttname"><a href="classuint32__t.html">uint32_t</a></div></div>
<div class="ttc" id="aclassllvm_1_1BranchProbability_html"><div class="ttname"><a href="classllvm_1_1BranchProbability.html">llvm::BranchProbability</a></div><div class="ttdef"><b>Definition:</b> <a href="BranchProbability_8h_source.html#l00030">BranchProbability.h:30</a></div></div>
<div class="ttc" id="aclassllvm_1_1StackOffset_html"><div class="ttname"><a href="classllvm_1_1StackOffset.html">llvm::StackOffset</a></div><div class="ttdoc">StackOffset holds a fixed and a scalable offset in bytes.</div><div class="ttdef"><b>Definition:</b> <a href="TypeSize_8h_source.html#l00036">TypeSize.h:36</a></div></div>
<div class="ttc" id="aAArch64SLSHardening_8cpp_html_ad467c4ab9119043f9b7750ab986be61a"><div class="ttname"><a href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a></div><div class="ttdeci">MachineBasicBlock MachineBasicBlock::iterator DebugLoc DL</div><div class="ttdef"><b>Definition:</b> <a href="AArch64SLSHardening_8cpp_source.html#l00076">AArch64SLSHardening.cpp:76</a></div></div>
<div class="ttc" id="aPPCInstrInfo_8cpp_html_aeb853018a1c21903ee845b0c016142da"><div class="ttname"><a href="PPCInstrInfo_8cpp.html#aeb853018a1c21903ee845b0c016142da">InfoArrayIdxFMULInst</a></div><div class="ttdeci">#define InfoArrayIdxFMULInst</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8cpp_source.html#l00294">PPCInstrInfo.cpp:294</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_a75eb135014670ce946e78739cdc9b51b"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a75eb135014670ce946e78739cdc9b51b">llvm::MachineOperand::isDef</a></div><div class="ttdeci">bool isDef() const</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00384">MachineOperand.h:384</a></div></div>
<div class="ttc" id="aclassllvm_1_1PPCInstrInfo_html_afb977cf93fe8661651e4503ae0722893"><div class="ttname"><a href="classllvm_1_1PPCInstrInfo.html#afb977cf93fe8661651e4503ae0722893">llvm::PPCInstrInfo::instrHasImmForm</a></div><div class="ttdeci">bool instrHasImmForm(unsigned Opc, bool IsVFReg, ImmInstrInfo &amp;III, bool PostRA) const</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8cpp_source.html#l03987">PPCInstrInfo.cpp:3987</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PPC_html_a020638ddecc65637bc0282f5ee857d50a1a9618f9addb07ce52555fa524ccf39d"><div class="ttname"><a href="namespacellvm_1_1PPC.html#a020638ddecc65637bc0282f5ee857d50a1a9618f9addb07ce52555fa524ccf39d">llvm::PPC::DIR_PWR4</a></div><div class="ttdeci">@ DIR_PWR4</div><div class="ttdef"><b>Definition:</b> <a href="PPCSubtarget_8h_source.html#l00055">PPCSubtarget.h:55</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PPC_html_a14028f7fe73a11dabc6583510cc0a355a94061699653bc6df4c3809c7a4d44ac9"><div class="ttname"><a href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355a94061699653bc6df4c3809c7a4d44ac9">llvm::PPC::PRED_NU</a></div><div class="ttdeci">@ PRED_NU</div><div class="ttdef"><b>Definition:</b> <a href="PPCPredicates_8h_source.html#l00034">PPCPredicates.h:34</a></div></div>
<div class="ttc" id="aclassllvm_1_1RegPressureTracker_html_a8743b2c5c27035fa002ef69e9df50c72"><div class="ttname"><a href="classllvm_1_1RegPressureTracker.html#a8743b2c5c27035fa002ef69e9df50c72">llvm::RegPressureTracker::getPos</a></div><div class="ttdeci">MachineBasicBlock::const_iterator getPos() const</div><div class="ttdoc">Get the MI position corresponding to this register pressure.</div><div class="ttdef"><b>Definition:</b> <a href="RegisterPressure_8h_source.html#l00413">RegisterPressure.h:413</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_a002fd916e7206e01d512eeb06d405cf0"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a002fd916e7206e01d512eeb06d405cf0">llvm::MachineInstr::getParent</a></div><div class="ttdeci">const MachineBasicBlock * getParent() const</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00313">MachineInstr.h:313</a></div></div>
<div class="ttc" id="aclassllvm_1_1Pass_html_aa26f1f3bfe5b5022b1bd495151b3757a"><div class="ttname"><a href="classllvm_1_1Pass.html#aa26f1f3bfe5b5022b1bd495151b3757a">llvm::Pass::dump</a></div><div class="ttdeci">void dump() const</div><div class="ttdef"><b>Definition:</b> <a href="Pass_8cpp_source.html#l00136">Pass.cpp:136</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a9ab5860c97a00c4627a08cab7b0c8178"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9ab5860c97a00c4627a08cab7b0c8178">llvm::ISD::FMUL</a></div><div class="ttdeci">@ FMUL</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00392">ISDOpcodes.h:392</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMapBase_html_a99f811d53704275b4158c62a2dd138d9"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#a99f811d53704275b4158c62a2dd138d9">llvm::DenseMapBase::insert</a></div><div class="ttdeci">std::pair&lt; iterator, bool &gt; insert(const std::pair&lt; KeyT, ValueT &gt; &amp;KV)</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00207">DenseMap.h:207</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetSubtargetInfo_html"><div class="ttname"><a href="classllvm_1_1TargetSubtargetInfo.html">llvm::TargetSubtargetInfo</a></div><div class="ttdoc">TargetSubtargetInfo - Generic base class for all target subtargets.</div><div class="ttdef"><b>Definition:</b> <a href="TargetSubtargetInfo_8h_source.html#l00062">TargetSubtargetInfo.h:62</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PPC_html_a430fc7aab545fd5d88076b455542dce3"><div class="ttname"><a href="namespacellvm_1_1PPC.html#a430fc7aab545fd5d88076b455542dce3">llvm::PPC::InvertPredicate</a></div><div class="ttdeci">Predicate InvertPredicate(Predicate Opcode)</div><div class="ttdoc">Invert the specified predicate. != -&gt; ==, &lt; -&gt; &gt;=.</div><div class="ttdef"><b>Definition:</b> <a href="PPCPredicates_8cpp_source.html#l00018">PPCPredicates.cpp:18</a></div></div>
<div class="ttc" id="aclassllvm_1_1ArrayRef_html_a6bc2b53fce3b1d8975eea027d8a8eb90"><div class="ttname"><a href="classllvm_1_1ArrayRef.html#a6bc2b53fce3b1d8975eea027d8a8eb90">llvm::ArrayRef::front</a></div><div class="ttdeci">const T &amp; front() const</div><div class="ttdoc">front - Get the first element.</div><div class="ttdef"><b>Definition:</b> <a href="ArrayRef_8h_source.html#l00166">ArrayRef.h:166</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineMemOperand_html_aaa2020e47e35179234b9ea27d555b2dda7d12be6206e5b0026c71bbcd5cb76494"><div class="ttname"><a href="classllvm_1_1MachineMemOperand.html#aaa2020e47e35179234b9ea27d555b2dda7d12be6206e5b0026c71bbcd5cb76494">llvm::MachineMemOperand::MOLoad</a></div><div class="ttdeci">@ MOLoad</div><div class="ttdoc">The memory access reads data.</div><div class="ttdef"><b>Definition:</b> <a href="MachineMemOperand_8h_source.html#l00134">MachineMemOperand.h:134</a></div></div>
<div class="ttc" id="aAArch64AdvSIMDScalarPass_8cpp_html_aacd2ab195054a3e6a74bfbb9d5d571c8"><div class="ttname"><a href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a></div><div class="ttdeci">unsigned const MachineRegisterInfo * MRI</div><div class="ttdef"><b>Definition:</b> <a href="AArch64AdvSIMDScalarPass_8cpp_source.html#l00105">AArch64AdvSIMDScalarPass.cpp:105</a></div></div>
<div class="ttc" id="aclassllvm_1_1Register_html"><div class="ttname"><a href="classllvm_1_1Register.html">llvm::Register</a></div><div class="ttdoc">Wrapper class representing virtual and physical registers.</div><div class="ttdef"><b>Definition:</b> <a href="Register_8h_source.html#l00019">Register.h:19</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a92febb83e6ba116eb7aae8e7e3f70cc1"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a92febb83e6ba116eb7aae8e7e3f70cc1">llvm::ISD::XOR</a></div><div class="ttdeci">@ XOR</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00668">ISDOpcodes.h:668</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_a028a8c5113d40d8c3f4427053bf36738"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a028a8c5113d40d8c3f4427053bf36738">llvm::MachineOperand::getSubReg</a></div><div class="ttdeci">unsigned getSubReg() const</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00374">MachineOperand.h:374</a></div></div>
<div class="ttc" id="aclassllvm_1_1PPCInstrInfo_html_a62e484f70a2007cfe30d42db868f84ab"><div class="ttname"><a href="classllvm_1_1PPCInstrInfo.html#a62e484f70a2007cfe30d42db868f84ab">llvm::PPCInstrInfo::isTOCSaveMI</a></div><div class="ttdeci">bool isTOCSaveMI(const MachineInstr &amp;MI) const</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8cpp_source.html#l05341">PPCInstrInfo.cpp:5341</a></div></div>
<div class="ttc" id="aPPCInstrInfo_8cpp_html_a0956bda4b8b38d9eed44f4476d20ef12"><div class="ttname"><a href="PPCInstrInfo_8cpp.html#a0956bda4b8b38d9eed44f4476d20ef12">isOpZeroOfSubwordPreincLoad</a></div><div class="ttdeci">static bool isOpZeroOfSubwordPreincLoad(int Opcode)</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8cpp_source.html#l05232">PPCInstrInfo.cpp:5232</a></div></div>
<div class="ttc" id="aclassllvm_1_1PPCRegisterInfo_html_a9abebd09740b00c113c2e70062fbcb82"><div class="ttname"><a href="classllvm_1_1PPCRegisterInfo.html#a9abebd09740b00c113c2e70062fbcb82">llvm::PPCRegisterInfo::emitAccCopyInfo</a></div><div class="ttdeci">static void emitAccCopyInfo(MachineBasicBlock &amp;MBB, MCRegister DestReg, MCRegister SrcReg)</div><div class="ttdef"><b>Definition:</b> <a href="PPCRegisterInfo_8cpp_source.html#l01211">PPCRegisterInfo.cpp:1211</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetInstrInfo_html_ad071e937f4986e51fd3fd54b10888894"><div class="ttname"><a href="classllvm_1_1TargetInstrInfo.html#ad071e937f4986e51fd3fd54b10888894">llvm::TargetInstrInfo::isSchedulingBoundary</a></div><div class="ttdeci">virtual bool isSchedulingBoundary(const MachineInstr &amp;MI, const MachineBasicBlock *MBB, const MachineFunction &amp;MF) const</div><div class="ttdoc">Test if the given instruction should be considered a scheduling boundary.</div><div class="ttdef"><b>Definition:</b> <a href="TargetInstrInfo_8cpp_source.html#l01155">TargetInstrInfo.cpp:1155</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PPC_html_a14028f7fe73a11dabc6583510cc0a355ae9f2ac70e132d4184268f6ae4d0ffcf6"><div class="ttname"><a href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355ae9f2ac70e132d4184268f6ae4d0ffcf6">llvm::PPC::PRED_EQ_PLUS</a></div><div class="ttdeci">@ PRED_EQ_PLUS</div><div class="ttdef"><b>Definition:</b> <a href="PPCPredicates_8h_source.html#l00045">PPCPredicates.h:45</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a4b437632fd9b97dd36010d85eb363efe"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4b437632fd9b97dd36010d85eb363efe">llvm::ISD::FrameIndex</a></div><div class="ttdeci">@ FrameIndex</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00080">ISDOpcodes.h:80</a></div></div>
<div class="ttc" id="astructllvm_1_1ImmInstrInfo_html_a5dd4306fe361b27da876c8023b219a56"><div class="ttname"><a href="structllvm_1_1ImmInstrInfo.html#a5dd4306fe361b27da876c8023b219a56">llvm::ImmInstrInfo::ImmMustBeMultipleOf</a></div><div class="ttdeci">uint64_t ImmMustBeMultipleOf</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8h_source.html#l00086">PPCInstrInfo.h:86</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_a51ce0e26e3104546c097c88c84033198"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a51ce0e26e3104546c097c88c84033198">llvm::MachineInstr::modifiesRegister</a></div><div class="ttdeci">bool modifiesRegister(Register Reg, const TargetRegisterInfo *TRI=nullptr) const</div><div class="ttdoc">Return true if the MachineInstr modifies (fully define or partially define) the specified register.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l01436">MachineInstr.h:1436</a></div></div>
<div class="ttc" id="astructllvm_1_1RegionPressure_html"><div class="ttname"><a href="structllvm_1_1RegionPressure.html">llvm::RegionPressure</a></div><div class="ttdoc">RegisterPressure computed within a region of instructions delimited by TopPos and BottomPos.</div><div class="ttdef"><b>Definition:</b> <a href="RegisterPressure_8h_source.html#l00082">RegisterPressure.h:82</a></div></div>
<div class="ttc" id="aAArch64SLSHardening_8cpp_html_a5958512eae2979bd2eb383977996a600"><div class="ttname"><a href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a></div><div class="ttdeci">MachineBasicBlock &amp; MBB</div><div class="ttdef"><b>Definition:</b> <a href="AArch64SLSHardening_8cpp_source.html#l00074">AArch64SLSHardening.cpp:74</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetRegisterInfo_html_a56f7f2867c8f943ceb672823c013df28"><div class="ttname"><a href="classllvm_1_1TargetRegisterInfo.html#a56f7f2867c8f943ceb672823c013df28">llvm::TargetRegisterInfo::lookThruSingleUseCopyChain</a></div><div class="ttdeci">virtual Register lookThruSingleUseCopyChain(Register SrcReg, const MachineRegisterInfo *MRI) const</div><div class="ttdoc">Find the original SrcReg unless it is the target of a copy-like operation, in which case we chain bac...</div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8cpp_source.html#l00622">TargetRegisterInfo.cpp:622</a></div></div>
<div class="ttc" id="aPPCHazardRecognizers_8h_html"><div class="ttname"><a href="PPCHazardRecognizers_8h.html">PPCHazardRecognizers.h</a></div></div>
<div class="ttc" id="aclassPPCGenInstrInfo_html"><div class="ttname"><a href="classPPCGenInstrInfo.html">PPCGenInstrInfo</a></div></div>
<div class="ttc" id="aclassllvm_1_1PPCInstrInfo_html_a7736d6dc0c4303c59d1192988b8919e9"><div class="ttname"><a href="classllvm_1_1PPCInstrInfo.html#a7736d6dc0c4303c59d1192988b8919e9">llvm::PPCInstrInfo::getRegisterInfo</a></div><div class="ttdeci">const PPCRegisterInfo &amp; getRegisterInfo() const</div><div class="ttdoc">getRegisterInfo - TargetInstrInfo is a superset of MRegister info.</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8h_source.html#l00312">PPCInstrInfo.h:312</a></div></div>
<div class="ttc" id="aPPCInstrInfo_8cpp_html_a4d4f8117c339d2abc2acbe2213ccc734"><div class="ttname"><a href="PPCInstrInfo_8cpp.html#a4d4f8117c339d2abc2acbe2213ccc734">FMAOpIdxInfo</a></div><div class="ttdeci">static const uint16_t FMAOpIdxInfo[][6]</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8cpp_source.html#l00306">PPCInstrInfo.cpp:306</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PPC_html_a020638ddecc65637bc0282f5ee857d50aa2b626cb4809ee8a3b3da9d475eabe05"><div class="ttname"><a href="namespacellvm_1_1PPC.html#a020638ddecc65637bc0282f5ee857d50aa2b626cb4809ee8a3b3da9d475eabe05">llvm::PPC::DIR_PWR6</a></div><div class="ttdeci">@ DIR_PWR6</div><div class="ttdef"><b>Definition:</b> <a href="PPCSubtarget_8h_source.html#l00058">PPCSubtarget.h:58</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineRegisterInfo_html_a640f34062e7189756ce67e60d5dfd629"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#a640f34062e7189756ce67e60d5dfd629">llvm::MachineRegisterInfo::isLiveIn</a></div><div class="ttdeci">bool isLiveIn(Register Reg) const</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8cpp_source.html#l00440">MachineRegisterInfo.cpp:440</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05a470a418a13972e9ccba7702b7a9e6b6e"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05a470a418a13972e9ccba7702b7a9e6b6e">llvm::MachineCombinerPattern::REASSOC_XY_AMM_BMM</a></div><div class="ttdeci">@ REASSOC_XY_AMM_BMM</div></div>
<div class="ttc" id="anamespacellvm_1_1PPC_html_a40c2294c9ecba721df7f29aaf05157d8"><div class="ttname"><a href="namespacellvm_1_1PPC.html#a40c2294c9ecba721df7f29aaf05157d8">llvm::PPC::getPredicate</a></div><div class="ttdeci">Predicate getPredicate(unsigned Condition, unsigned Hint)</div><div class="ttdoc">Return predicate consisting of specified condition and hint bits.</div><div class="ttdef"><b>Definition:</b> <a href="PPCPredicates_8h_source.html#l00087">PPCPredicates.h:87</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetRegisterInfo_html_a965fc42d34bd3c15f23cd8cfd31d6ad6"><div class="ttname"><a href="classllvm_1_1TargetRegisterInfo.html#a965fc42d34bd3c15f23cd8cfd31d6ad6">llvm::TargetRegisterInfo::lookThruCopyLike</a></div><div class="ttdeci">virtual Register lookThruCopyLike(Register SrcReg, const MachineRegisterInfo *MRI) const</div><div class="ttdoc">Returns the original SrcReg unless it is the target of a copy-like operation, in which case we chain ...</div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8cpp_source.html#l00600">TargetRegisterInfo.cpp:600</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html_a4b21394c138cc5ae719510bb529ee099"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#a4b21394c138cc5ae719510bb529ee099">llvm::MachineFunction::getFunction</a></div><div class="ttdeci">Function &amp; getFunction()</div><div class="ttdoc">Return the LLVM function that this machine code represents.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00638">MachineFunction.h:638</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_a3ffc75c3a4cb82ba307a3334483eb4ac"><div class="ttname"><a href="classllvm_1_1Type.html#a3ffc75c3a4cb82ba307a3334483eb4ac">llvm::Type::isFloatTy</a></div><div class="ttdeci">bool isFloatTy() const</div><div class="ttdoc">Return true if this is 'float', a 32-bit IEEE fp type.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00154">Type.h:154</a></div></div>
<div class="ttc" id="aclassuint16__t_html"><div class="ttname"><a href="classuint16__t.html">uint16_t</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html_ae68d159179d37dc7969439d842e2644f"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#ae68d159179d37dc7969439d842e2644f">llvm::MachineFunction::getTarget</a></div><div class="ttdeci">const LLVMTargetMachine &amp; getTarget() const</div><div class="ttdoc">getTarget - Return the target machine this machine code is compiled with</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00668">MachineFunction.h:668</a></div></div>
<div class="ttc" id="aclassllvm_1_1PPCInstrInfo_html_a0e3a31dc0490f96016dc6f83eb363213"><div class="ttname"><a href="classllvm_1_1PPCInstrInfo.html#a0e3a31dc0490f96016dc6f83eb363213">llvm::PPCInstrInfo::combineRLWINM</a></div><div class="ttdeci">bool combineRLWINM(MachineInstr &amp;MI, MachineInstr **ToErase=nullptr) const</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8cpp_source.html#l03850">PPCInstrInfo.cpp:3850</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineConstantPool_html_ab0394f070be811134efcd9a412275097"><div class="ttname"><a href="classllvm_1_1MachineConstantPool.html#ab0394f070be811134efcd9a412275097">llvm::MachineConstantPool::getConstants</a></div><div class="ttdeci">const std::vector&lt; MachineConstantPoolEntry &gt; &amp; getConstants() const</div><div class="ttdef"><b>Definition:</b> <a href="MachineConstantPool_8h_source.html#l00145">MachineConstantPool.h:145</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1SendMsg_html_a8594419a4ddfad2c9a79279c490e466d"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">llvm::AMDGPU::SendMsg::Op</a></div><div class="ttdeci">Op</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00357">SIDefines.h:357</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_a3435a2381e60e842e915f85c931b7dde"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#a3435a2381e60e842e915f85c931b7dde">llvm::MachineBasicBlock::insert</a></div><div class="ttdeci">instr_iterator insert(instr_iterator I, MachineInstr *M)</div><div class="ttdoc">Insert MI into the instruction list before I, possibly inside a bundle.</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8cpp_source.html#l01336">MachineBasicBlock.cpp:1336</a></div></div>
<div class="ttc" id="aclassllvm_1_1ilist__iterator_html"><div class="ttname"><a href="classllvm_1_1ilist__iterator.html">llvm::ilist_iterator</a></div><div class="ttdoc">Iterator for intrusive lists based on ilist_node.</div><div class="ttdef"><b>Definition:</b> <a href="ilist__iterator_8h_source.html#l00057">ilist_iterator.h:57</a></div></div>
<div class="ttc" id="aMachineFrameInfo_8h_html"><div class="ttname"><a href="MachineFrameInfo_8h.html">MachineFrameInfo.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1object_html_a68be2733a72ac7505cc8b02cebbd0c2fad834862e7fd633b5f3faf5b3c81fb5cd"><div class="ttname"><a href="namespacellvm_1_1object.html#a68be2733a72ac7505cc8b02cebbd0c2fad834862e7fd633b5f3faf5b3c81fb5cd">llvm::object::BCTR</a></div><div class="ttdeci">@ BCTR</div><div class="ttdef"><b>Definition:</b> <a href="Object_2ELF_8h_source.html#l00092">ELF.h:92</a></div></div>
<div class="ttc" id="aclassllvm_1_1PPCInstrInfo_html_a78b9ad4b9b246aab32ff14d856f5769a"><div class="ttname"><a href="classllvm_1_1PPCInstrInfo.html#a78b9ad4b9b246aab32ff14d856f5769a">llvm::PPCInstrInfo::isSignOrZeroExtended</a></div><div class="ttdeci">std::pair&lt; bool, bool &gt; isSignOrZeroExtended(const unsigned Reg, const unsigned BinOpDepth, const MachineRegisterInfo *MRI) const</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8cpp_source.html#l05363">PPCInstrInfo.cpp:5363</a></div></div>
<div class="ttc" id="aclassllvm_1_1PPCInstrInfo_html_ab8d93b0ff1b64f553c4e86fdebacff56"><div class="ttname"><a href="classllvm_1_1PPCInstrInfo.html#ab8d93b0ff1b64f553c4e86fdebacff56">llvm::PPCInstrInfo::isAssociativeAndCommutative</a></div><div class="ttdeci">bool isAssociativeAndCommutative(const MachineInstr &amp;Inst, bool Invert) const override</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8cpp_source.html#l00254">PPCInstrInfo.cpp:254</a></div></div>
<div class="ttc" id="aclassllvm_1_1PPCInstrInfo_html_a3292a10fddf8b776e21e2b2a39ed0622"><div class="ttname"><a href="classllvm_1_1PPCInstrInfo.html#a3292a10fddf8b776e21e2b2a39ed0622">llvm::PPCInstrInfo::getMachineCombinerPatterns</a></div><div class="ttdeci">bool getMachineCombinerPatterns(MachineInstr &amp;Root, SmallVectorImpl&lt; MachineCombinerPattern &gt; &amp;P, bool DoRegPressureReduce) const override</div><div class="ttdoc">Return true when there is potentially a faster code sequence for an instruction chain ending in &lt;Root...</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8cpp_source.html#l00761">PPCInstrInfo.cpp:761</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_a8c161f5f015730ac6853c802c3693a41"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a8c161f5f015730ac6853c802c3693a41">llvm::MachineInstr::hasUnmodeledSideEffects</a></div><div class="ttdeci">bool hasUnmodeledSideEffects() const</div><div class="ttdoc">Return true if this instruction has side effects that are not modeled by mayLoad / mayStore,...</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8cpp_source.html#l01458">MachineInstr.cpp:1458</a></div></div>
<div class="ttc" id="anamespacellvm_1_1X86ISD_html_a9441a4f94d36d0f7c0c34aca42e3f76aaa4a172e5849a0b1f80e5e6d3cf949f3c"><div class="ttname"><a href="namespacellvm_1_1X86ISD.html#a9441a4f94d36d0f7c0c34aca42e3f76aaa4a172e5849a0b1f80e5e6d3cf949f3c">llvm::X86ISD::FSUBS</a></div><div class="ttdeci">@ FSUBS</div><div class="ttdef"><b>Definition:</b> <a href="X86ISelLowering_8h_source.html#l00220">X86ISelLowering.h:220</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_aaa68daaf8d7b773d012887c92c2023ce"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#aaa68daaf8d7b773d012887c92c2023ce">llvm::MachineOperand::getIndex</a></div><div class="ttdeci">int getIndex() const</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00576">MachineOperand.h:576</a></div></div>
<div class="ttc" id="aclassllvm_1_1PPCInstrInfo_html_a878d28bcb9d1575d5f5e56c5b1bcf064"><div class="ttname"><a href="classllvm_1_1PPCInstrInfo.html#a878d28bcb9d1575d5f5e56c5b1bcf064">llvm::PPCInstrInfo::areMemAccessesTriviallyDisjoint</a></div><div class="ttdeci">bool areMemAccessesTriviallyDisjoint(const MachineInstr &amp;MIa, const MachineInstr &amp;MIb) const override</div><div class="ttdoc">Return true if two MIs access different memory addresses and false otherwise.</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8cpp_source.html#l05663">PPCInstrInfo.cpp:5663</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstrBuilder_html_acaf4466fb8b9a459c596aa5161423715"><div class="ttname"><a href="classllvm_1_1MachineInstrBuilder.html#acaf4466fb8b9a459c596aa5161423715">llvm::MachineInstrBuilder::addConstantPoolIndex</a></div><div class="ttdeci">const MachineInstrBuilder &amp; addConstantPoolIndex(unsigned Idx, int Offset=0, unsigned TargetFlags=0) const</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00158">MachineInstrBuilder.h:158</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScheduleDAG_html_a348590624c488b04d0f9e227e6c3960e"><div class="ttname"><a href="classllvm_1_1ScheduleDAG.html#a348590624c488b04d0f9e227e6c3960e">llvm::ScheduleDAG::TII</a></div><div class="ttdeci">const TargetInstrInfo * TII</div><div class="ttdoc">Target instruction information.</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8h_source.html#l00557">ScheduleDAG.h:557</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantFP_html_a5eb8f7a5d3cfdd127ad9db2e425e14eb"><div class="ttname"><a href="classllvm_1_1ConstantFP.html#a5eb8f7a5d3cfdd127ad9db2e425e14eb">llvm::ConstantFP::get</a></div><div class="ttdeci">static Constant * get(Type *Ty, double V)</div><div class="ttdoc">This returns a ConstantFP, or a vector containing a splat of a ConstantFP, for the specified value in...</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l00934">Constants.cpp:934</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PPC_html_a14028f7fe73a11dabc6583510cc0a355a5f3291fa021498b6f788f19bf4880b39"><div class="ttname"><a href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355a5f3291fa021498b6f788f19bf4880b39">llvm::PPC::PRED_LT_PLUS</a></div><div class="ttdeci">@ PRED_LT_PLUS</div><div class="ttdef"><b>Definition:</b> <a href="PPCPredicates_8h_source.html#l00043">PPCPredicates.h:43</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110ab969e7d43eb37a0398b5ded23bccc136"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ab969e7d43eb37a0398b5ded23bccc136">llvm::ISD::INLINEASM_BR</a></div><div class="ttdeci">@ INLINEASM_BR</div><div class="ttdoc">INLINEASM_BR - Branching version of inline asm. Used by asm-goto.</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l01027">ISDOpcodes.h:1027</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PPC_html_a020638ddecc65637bc0282f5ee857d50a0c8a5dd168df904e8c29520a47502a61"><div class="ttname"><a href="namespacellvm_1_1PPC.html#a020638ddecc65637bc0282f5ee857d50a0c8a5dd168df904e8c29520a47502a61">llvm::PPC::DIR_PWR7</a></div><div class="ttdeci">@ DIR_PWR7</div><div class="ttdef"><b>Definition:</b> <a href="PPCSubtarget_8h_source.html#l00060">PPCSubtarget.h:60</a></div></div>
<div class="ttc" id="aPPCInstrInfo_8cpp_html_af30edca8f8a971b32190acd67f8dbd1d"><div class="ttname"><a href="PPCInstrInfo_8cpp.html#af30edca8f8a971b32190acd67f8dbd1d">definedBySignExtendingOp</a></div><div class="ttdeci">static bool definedBySignExtendingOp(const unsigned Reg, const MachineRegisterInfo *MRI)</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8cpp_source.html#l05240">PPCInstrInfo.cpp:5240</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_aa0fd6bf3d33236279db7b707bba755f4"><div class="ttname"><a href="classllvm_1_1Type.html#aa0fd6bf3d33236279db7b707bba755f4">llvm::Type::isDoubleTy</a></div><div class="ttdeci">bool isDoubleTy() const</div><div class="ttdoc">Return true if this is 'double', a 64-bit IEEE fp type.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00157">Type.h:157</a></div></div>
<div class="ttc" id="aclassllvm_1_1PPCFunctionInfo_html_a23eb4795c4d766004e74259b14656183"><div class="ttname"><a href="classllvm_1_1PPCFunctionInfo.html#a23eb4795c4d766004e74259b14656183">llvm::PPCFunctionInfo::isLiveInSExt</a></div><div class="ttdeci">bool isLiveInSExt(Register VReg) const</div><div class="ttdoc">This function returns true if the specified vreg is a live-in register and sign-extended.</div><div class="ttdef"><b>Definition:</b> <a href="PPCMachineFunctionInfo_8cpp_source.html#l00062">PPCMachineFunctionInfo.cpp:62</a></div></div>
<div class="ttc" id="aStackMaps_8h_html"><div class="ttname"><a href="StackMaps_8h.html">StackMaps.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_abd85c9d7c51eb515a550069e9ad9445e"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#abd85c9d7c51eb515a550069e9ad9445e">llvm::MachineBasicBlock::isLayoutSuccessor</a></div><div class="ttdeci">bool isLayoutSuccessor(const MachineBasicBlock *MBB) const</div><div class="ttdoc">Return true if the specified MBB will be emitted immediately after this block, such that if this bloc...</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8cpp_source.html#l00938">MachineBasicBlock.cpp:938</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PPCISD_html_ad1c32e5bb1cb213fb836bc3d221e4f19aa82b0f1a7296f1ae77fe7a79dcd8631c"><div class="ttname"><a href="namespacellvm_1_1PPCISD.html#ad1c32e5bb1cb213fb836bc3d221e4f19aa82b0f1a7296f1ae77fe7a79dcd8631c">llvm::PPCISD::BCTRL_RM</a></div><div class="ttdeci">@ BCTRL_RM</div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8h_source.html#l00210">PPCISelLowering.h:210</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PPC_html_a14028f7fe73a11dabc6583510cc0a355ada22e0b2b224aa2dc5e2266546424f39"><div class="ttname"><a href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355ada22e0b2b224aa2dc5e2266546424f39">llvm::PPC::PRED_EQ_MINUS</a></div><div class="ttdeci">@ PRED_EQ_MINUS</div><div class="ttdef"><b>Definition:</b> <a href="PPCPredicates_8h_source.html#l00037">PPCPredicates.h:37</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PPCII_html_ae73836094d8b0399ba10a6e540a363ffaf3ceb6d8d3d044088a869d52777a6ed6"><div class="ttname"><a href="namespacellvm_1_1PPCII.html#ae73836094d8b0399ba10a6e540a363ffaf3ceb6d8d3d044088a869d52777a6ed6">llvm::PPCII::MO_HA</a></div><div class="ttdeci">@ MO_HA</div><div class="ttdef"><b>Definition:</b> <a href="PPC_8h_source.html#l00162">PPC.h:162</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_a76f61c6784df6dc8402a8b9011041926"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a76f61c6784df6dc8402a8b9011041926">llvm::MachineOperand::isImm</a></div><div class="ttdeci">bool isImm() const</div><div class="ttdoc">isImm - Tests if this is a MO_Immediate operand.</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00331">MachineOperand.h:331</a></div></div>
<div class="ttc" id="aclassllvm_1_1PPCInstrInfo_html_a830ea3a66d17dde796c0623587a8d701"><div class="ttname"><a href="classllvm_1_1PPCInstrInfo.html#a830ea3a66d17dde796c0623587a8d701">llvm::PPCInstrInfo::getSerializableDirectMachineOperandTargetFlags</a></div><div class="ttdeci">ArrayRef&lt; std::pair&lt; unsigned, const char * &gt; &gt; getSerializableDirectMachineOperandTargetFlags() const override</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8cpp_source.html#l02984">PPCInstrInfo.cpp:2984</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineMemOperand_html_aaa2020e47e35179234b9ea27d555b2ddaed357b1367bc90a56fefa4d1b0e17374"><div class="ttname"><a href="classllvm_1_1MachineMemOperand.html#aaa2020e47e35179234b9ea27d555b2ddaed357b1367bc90a56fefa4d1b0e17374">llvm::MachineMemOperand::MOStore</a></div><div class="ttdeci">@ MOStore</div><div class="ttdoc">The memory access writes data.</div><div class="ttdef"><b>Definition:</b> <a href="MachineMemOperand_8h_source.html#l00136">MachineMemOperand.h:136</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PPC_html_a14028f7fe73a11dabc6583510cc0a355a89f893823745c8d91bb4d7d83e247cb6"><div class="ttname"><a href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355a89f893823745c8d91bb4d7d83e247cb6">llvm::PPC::PRED_UN</a></div><div class="ttdeci">@ PRED_UN</div><div class="ttdef"><b>Definition:</b> <a href="PPCPredicates_8h_source.html#l00033">PPCPredicates.h:33</a></div></div>
<div class="ttc" id="aclassllvm_1_1PPCInstrInfo_html_a51f8adee69da15bfd10d880d79d8fbec"><div class="ttname"><a href="classllvm_1_1PPCInstrInfo.html#a51f8adee69da15bfd10d880d79d8fbec">llvm::PPCInstrInfo::getLoadOpcodeForSpill</a></div><div class="ttdeci">unsigned getLoadOpcodeForSpill(const TargetRegisterClass *RC) const</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8cpp_source.html#l01926">PPCInstrInfo.cpp:1926</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1Hwreg_html_a6467ebe1e09a75203dd5f14bdfe21d11"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1Hwreg.html#a6467ebe1e09a75203dd5f14bdfe21d11">llvm::AMDGPU::Hwreg::Width</a></div><div class="ttdeci">Width</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00449">SIDefines.h:449</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_af11a92503408a812be672ee3efc848d3"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#af11a92503408a812be672ee3efc848d3">llvm::MachineInstr::setDesc</a></div><div class="ttdeci">void setDesc(const MCInstrDesc &amp;TID)</div><div class="ttdoc">Replace the instruction descriptor (thus opcode) of the current instruction with a new one.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l01771">MachineInstr.h:1771</a></div></div>
<div class="ttc" id="aclassllvm_1_1PPCInstrInfo_html_a31fef05bbdd37ce0a7cf6ee85a6b5a9c"><div class="ttname"><a href="classllvm_1_1PPCInstrInfo.html#a31fef05bbdd37ce0a7cf6ee85a6b5a9c">llvm::PPCInstrInfo::getRecordFormOpcode</a></div><div class="ttdeci">static int getRecordFormOpcode(unsigned Opcode)</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8cpp_source.html#l05228">PPCInstrInfo.cpp:5228</a></div></div>
<div class="ttc" id="anamespacellvm_1_1RISCVMatInt_html_a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c"><div class="ttname"><a href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">llvm::RISCVMatInt::Imm</a></div><div class="ttdeci">@ Imm</div><div class="ttdef"><b>Definition:</b> <a href="RISCVMatInt_8h_source.html#l00023">RISCVMatInt.h:23</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PPC_html_a020638ddecc65637bc0282f5ee857d50ac4e6bb06de05f2620850b3fc53a0433e"><div class="ttname"><a href="namespacellvm_1_1PPC.html#a020638ddecc65637bc0282f5ee857d50ac4e6bb06de05f2620850b3fc53a0433e">llvm::PPC::DIR_E5500</a></div><div class="ttdeci">@ DIR_E5500</div><div class="ttdef"><b>Definition:</b> <a href="PPCSubtarget_8h_source.html#l00053">PPCSubtarget.h:53</a></div></div>
<div class="ttc" id="anamespacellvm_1_1RegState_html_aef4cc0c855dc833e2a9d58a50703320da9ddde91ef09476d28a088fe57f8e2921"><div class="ttname"><a href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da9ddde91ef09476d28a088fe57f8e2921">llvm::RegState::Kill</a></div><div class="ttdeci">@ Kill</div><div class="ttdoc">The last use of a register.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00048">MachineInstrBuilder.h:48</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PPCISD_html_ad1c32e5bb1cb213fb836bc3d221e4f19a58202903ffe35789bd984f290d83e11f"><div class="ttname"><a href="namespacellvm_1_1PPCISD.html#ad1c32e5bb1cb213fb836bc3d221e4f19a58202903ffe35789bd984f290d83e11f">llvm::PPCISD::MFOCRF</a></div><div class="ttdeci">@ MFOCRF</div><div class="ttdoc">R32 = MFOCRF(CRREG, INFLAG) - Represents the MFOCRF instruction.</div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8h_source.html#l00219">PPCISelLowering.h:219</a></div></div>
<div class="ttc" id="anamespacellvm_html_aac57d4100e9a9d02522fbd724568397d"><div class="ttname"><a href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">llvm::getKillRegState</a></div><div class="ttdeci">unsigned getKillRegState(bool B)</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00531">MachineInstrBuilder.h:531</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFrameInfo_html"><div class="ttname"><a href="classllvm_1_1MachineFrameInfo.html">llvm::MachineFrameInfo</a></div><div class="ttdoc">The MachineFrameInfo class represents an abstract stack frame until prolog/epilog code is inserted.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFrameInfo_8h_source.html#l00106">MachineFrameInfo.h:106</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a2852a5b6baa80b1589a46737210a8cad"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a2852a5b6baa80b1589a46737210a8cad">llvm::ISD::FSUB</a></div><div class="ttdeci">@ FSUB</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00391">ISDOpcodes.h:391</a></div></div>
<div class="ttc" id="anamespacellvm_1_1MipsII_html_ab0cf5f5ed4db649fc89a1b41f8b5771fad15659773f43e297a5f00bc6e74c476b"><div class="ttname"><a href="namespacellvm_1_1MipsII.html#ab0cf5f5ed4db649fc89a1b41f8b5771fad15659773f43e297a5f00bc6e74c476b">llvm::MipsII::MO_DTPREL_LO</a></div><div class="ttdeci">@ MO_DTPREL_LO</div><div class="ttdef"><b>Definition:</b> <a href="MipsBaseInfo_8h_source.html#l00065">MipsBaseInfo.h:65</a></div></div>
<div class="ttc" id="aclassllvm_1_1Pattern_html"><div class="ttname"><a href="classllvm_1_1Pattern.html">llvm::Pattern</a></div><div class="ttdef"><b>Definition:</b> <a href="FileCheckImpl_8h_source.html#l00614">FileCheckImpl.h:614</a></div></div>
<div class="ttc" id="aclassllvm_1_1AttributeSet_html"><div class="ttname"><a href="classllvm_1_1AttributeSet.html">llvm::AttributeSet</a></div><div class="ttdef"><b>Definition:</b> <a href="Attributes_8h_source.html#l00295">Attributes.h:295</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PPC_html_a14028f7fe73a11dabc6583510cc0a355a33e681071c4ec83f4c4cc4855fc1ed1e"><div class="ttname"><a href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355a33e681071c4ec83f4c4cc4855fc1ed1e">llvm::PPC::PRED_LT_MINUS</a></div><div class="ttdeci">@ PRED_LT_MINUS</div><div class="ttdef"><b>Definition:</b> <a href="PPCPredicates_8h_source.html#l00035">PPCPredicates.h:35</a></div></div>
<div class="ttc" id="anamespacellvm_html_a17e04afcf0c5efeb0eb6a9a45287b5e4"><div class="ttname"><a href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">llvm::BuildMI</a></div><div class="ttdeci">MachineInstrBuilder BuildMI(MachineFunction &amp;MF, const MIMetadata &amp;MIMD, const MCInstrDesc &amp;MCID)</div><div class="ttdoc">Builder interface. Specify how to create the initial instruction itself.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00357">MachineInstrBuilder.h:357</a></div></div>
<div class="ttc" id="aclassllvm_1_1PPCFunctionInfo_html_a38dfb3c48c66778f54bd1aa8cffb57a0"><div class="ttname"><a href="classllvm_1_1PPCFunctionInfo.html#a38dfb3c48c66778f54bd1aa8cffb57a0">llvm::PPCFunctionInfo::isLiveInZExt</a></div><div class="ttdeci">bool isLiveInZExt(Register VReg) const</div><div class="ttdoc">This function returns true if the specified vreg is a live-in register and zero-extended.</div><div class="ttdef"><b>Definition:</b> <a href="PPCMachineFunctionInfo_8cpp_source.html#l00069">PPCMachineFunctionInfo.cpp:69</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineRegisterInfo_html_a600a2d410c09a9486e828ea34e5a9566"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#a600a2d410c09a9486e828ea34e5a9566">llvm::MachineRegisterInfo::hasOneUse</a></div><div class="ttdeci">bool hasOneUse(Register RegNo) const</div><div class="ttdoc">hasOneUse - Return true if there is exactly one instruction using the specified register.</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8h_source.html#l00532">MachineRegisterInfo.h:532</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PPC_html_a020638ddecc65637bc0282f5ee857d50a6cdba3048334fa40e8f46956ffeab0c3"><div class="ttname"><a href="namespacellvm_1_1PPC.html#a020638ddecc65637bc0282f5ee857d50a6cdba3048334fa40e8f46956ffeab0c3">llvm::PPC::DIR_7400</a></div><div class="ttdeci">@ DIR_7400</div><div class="ttdef"><b>Definition:</b> <a href="PPCSubtarget_8h_source.html#l00047">PPCSubtarget.h:47</a></div></div>
<div class="ttc" id="aclassllvm_1_1PPCInstrInfo_html_a809bcfaa5a36e8e145a700b3e0e21926"><div class="ttname"><a href="classllvm_1_1PPCInstrInfo.html#a809bcfaa5a36e8e145a700b3e0e21926">llvm::PPCInstrInfo::isValidToBeChangedReg</a></div><div class="ttdeci">bool isValidToBeChangedReg(MachineInstr *ADDMI, unsigned Index, MachineInstr *&amp;ADDIMI, int64_t &amp;OffsetAddi, int64_t OffsetImm) const</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8cpp_source.html#l03753">PPCInstrInfo.cpp:3753</a></div></div>
<div class="ttc" id="astructllvm_1_1MachinePointerInfo_html_ad8ce1aee13dbdcc05d20284a30e83170"><div class="ttname"><a href="structllvm_1_1MachinePointerInfo.html#ad8ce1aee13dbdcc05d20284a30e83170">llvm::MachinePointerInfo::getFixedStack</a></div><div class="ttdeci">static MachinePointerInfo getFixedStack(MachineFunction &amp;MF, int FI, int64_t Offset=0)</div><div class="ttdoc">Return a MachinePointerInfo record that refers to the specified FrameIndex.</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8cpp_source.html#l01049">MachineOperand.cpp:1049</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_ab2d91e7bec944efcbc39d8e30644f111"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#ab2d91e7bec944efcbc39d8e30644f111">llvm::MachineBasicBlock::begin</a></div><div class="ttdeci">iterator begin()</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00309">MachineBasicBlock.h:309</a></div></div>
<div class="ttc" id="aMachineInstrBuilder_8h_html"><div class="ttname"><a href="MachineInstrBuilder_8h.html">MachineInstrBuilder.h</a></div></div>
<div class="ttc" id="anamespacellvm_html_acbd62c639eb89998b853a9327a42785ca9a7760fc34bb720e777c2b3a3854e99d"><div class="ttname"><a href="namespacellvm.html#acbd62c639eb89998b853a9327a42785ca9a7760fc34bb720e777c2b3a3854e99d">llvm::SOK_Float4Spill</a></div><div class="ttdeci">@ SOK_Float4Spill</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8h_source.html#l00122">PPCInstrInfo.h:122</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PPC_html_a020638ddecc65637bc0282f5ee857d50a690b5c342106c270b005123adec2d7e6"><div class="ttname"><a href="namespacellvm_1_1PPC.html#a020638ddecc65637bc0282f5ee857d50a690b5c342106c270b005123adec2d7e6">llvm::PPC::DIR_PWR5</a></div><div class="ttdeci">@ DIR_PWR5</div><div class="ttdef"><b>Definition:</b> <a href="PPCSubtarget_8h_source.html#l00056">PPCSubtarget.h:56</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetInstrInfo_html_a422b844cc7e3db360908c008cb651f96"><div class="ttname"><a href="classllvm_1_1TargetInstrInfo.html#a422b844cc7e3db360908c008cb651f96">llvm::TargetInstrInfo::findCommutedOpIndices</a></div><div class="ttdeci">virtual bool findCommutedOpIndices(const MachineInstr &amp;MI, unsigned &amp;SrcOpIdx1, unsigned &amp;SrcOpIdx2) const</div><div class="ttdoc">Returns true iff the routine could find two commutable operands in the given machine instruction.</div><div class="ttdef"><b>Definition:</b> <a href="TargetInstrInfo_8cpp_source.html#l00293">TargetInstrInfo.cpp:293</a></div></div>
<div class="ttc" id="aclassllvm_1_1PPCInstrInfo_html_a7d841f6c4d4a0042484feff56fd25857"><div class="ttname"><a href="classllvm_1_1PPCInstrInfo.html#a7d841f6c4d4a0042484feff56fd25857">llvm::PPCInstrInfo::getMemOperandWithOffsetWidth</a></div><div class="ttdeci">bool getMemOperandWithOffsetWidth(const MachineInstr &amp;LdSt, const MachineOperand *&amp;BaseOp, int64_t &amp;Offset, unsigned &amp;Width, const TargetRegisterInfo *TRI) const</div><div class="ttdoc">Return true if get the base operand, byte offset of an instruction and the memory width.</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8cpp_source.html#l05640">PPCInstrInfo.cpp:5640</a></div></div>
<div class="ttc" id="aAArch64ExpandPseudoInsts_8cpp_html_ad3ece0ac2421637044624c9b01c42466"><div class="ttname"><a href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a></div><div class="ttdeci">MachineInstrBuilder MachineInstrBuilder &amp; DefMI</div><div class="ttdef"><b>Definition:</b> <a href="AArch64ExpandPseudoInsts_8cpp_source.html#l00108">AArch64ExpandPseudoInsts.cpp:108</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_a432824f0975bb863478bf4ef3a5df258"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a432824f0975bb863478bf4ef3a5df258">llvm::MachineInstr::getNumOperands</a></div><div class="ttdeci">unsigned getNumOperands() const</div><div class="ttdoc">Retuns the total number of operands.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00519">MachineInstr.h:519</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetInstrInfo_html_aa438b91b89d93aa1caed060cfc90d1cd"><div class="ttname"><a href="classllvm_1_1TargetInstrInfo.html#aa438b91b89d93aa1caed060cfc90d1cd">llvm::TargetInstrInfo::genAlternativeCodeSequence</a></div><div class="ttdeci">virtual void genAlternativeCodeSequence(MachineInstr &amp;Root, MachineCombinerPattern Pattern, SmallVectorImpl&lt; MachineInstr * &gt; &amp;InsInstrs, SmallVectorImpl&lt; MachineInstr * &gt; &amp;DelInstrs, DenseMap&lt; unsigned, unsigned &gt; &amp;InstIdxForVirtReg) const</div><div class="ttdoc">When getMachineCombinerPatterns() finds patterns, this function generates the instructions that could...</div><div class="ttdef"><b>Definition:</b> <a href="TargetInstrInfo_8cpp_source.html#l01021">TargetInstrInfo.cpp:1021</a></div></div>
<div class="ttc" id="aclassllvm_1_1ArrayRef_html_a85ffb6531d4cda988ea81f18d4e56fb7"><div class="ttname"><a href="classllvm_1_1ArrayRef.html#a85ffb6531d4cda988ea81f18d4e56fb7">llvm::ArrayRef::size</a></div><div class="ttdeci">size_t size() const</div><div class="ttdoc">size - Get the array size.</div><div class="ttdef"><b>Definition:</b> <a href="ArrayRef_8h_source.html#l00163">ArrayRef.h:163</a></div></div>
<div class="ttc" id="aclassllvm_1_1IntegerType_html_a90b790ccb1af4ea5ccd69db4b8cd2d81"><div class="ttname"><a href="classllvm_1_1IntegerType.html#a90b790ccb1af4ea5ccd69db4b8cd2d81">llvm::IntegerType::getBitWidth</a></div><div class="ttdeci">unsigned getBitWidth() const</div><div class="ttdoc">Get the number of bits in this IntegerType.</div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00072">DerivedTypes.h:72</a></div></div>
<div class="ttc" id="aclassllvm_1_1PPCInstrInfo_html_a7640b7b696150d562dad41bf6dfd8d02"><div class="ttname"><a href="classllvm_1_1PPCInstrInfo.html#a7640b7b696150d562dad41bf6dfd8d02">llvm::PPCInstrInfo::isZeroExtended</a></div><div class="ttdeci">bool isZeroExtended(const unsigned Reg, const MachineRegisterInfo *MRI) const</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8h_source.html#l00734">PPCInstrInfo.h:734</a></div></div>
<div class="ttc" id="aclassllvm_1_1PPCInstrInfo_html_a0d205be357ca598799bdbca4fe40cc70"><div class="ttname"><a href="classllvm_1_1PPCInstrInfo.html#a0d205be357ca598799bdbca4fe40cc70">llvm::PPCInstrInfo::getMemOperandsWithOffsetWidth</a></div><div class="ttdeci">bool getMemOperandsWithOffsetWidth(const MachineInstr &amp;LdSt, SmallVectorImpl&lt; const MachineOperand * &gt; &amp;BaseOps, int64_t &amp;Offset, bool &amp;OffsetIsScalable, unsigned &amp;Width, const TargetRegisterInfo *TRI) const override</div><div class="ttdoc">Get the base operand and byte offset of an instruction that reads/writes memory.</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8cpp_source.html#l02850">PPCInstrInfo.cpp:2850</a></div></div>
<div class="ttc" id="aPPCInstrInfo_8cpp_html_a20ff8d783c172c203d8a144fcda853fa"><div class="ttname"><a href="PPCInstrInfo_8cpp.html#a20ff8d783c172c203d8a144fcda853fa">VSXSelfCopyCrash</a></div><div class="ttdeci">static cl::opt&lt; bool &gt; VSXSelfCopyCrash(&quot;crash-on-ppc-vsx-self-copy&quot;, cl::desc(&quot;Causes the backend to crash instead of generating a nop VSX copy&quot;), cl::Hidden)</div></div>
<div class="ttc" id="aPPCMachineFunctionInfo_8h_html"><div class="ttname"><a href="PPCMachineFunctionInfo_8h.html">PPCMachineFunctionInfo.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html_a82dd10b626a629b9bb7d32d53a8e0884"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#a82dd10b626a629b9bb7d32d53a8e0884">llvm::MachineFunction::getDataLayout</a></div><div class="ttdeci">const DataLayout &amp; getDataLayout() const</div><div class="ttdoc">Return the DataLayout attached to the Module associated to this MF.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8cpp_source.html#l00292">MachineFunction.cpp:292</a></div></div>
<div class="ttc" id="alib_2Target_2ARM_2README_8txt_html_a853716015b99747c10b31bfb4241df91"><div class="ttname"><a href="lib_2Target_2ARM_2README_8txt.html#a853716015b99747c10b31bfb4241df91">PPC</a></div><div class="ttdeci">should just be implemented with a CLZ instruction Since there are other e PPC</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2ARM_2README_8txt_source.html#l00709">README.txt:709</a></div></div>
<div class="ttc" id="aclassllvm_1_1PPCInstrInfo_html_a3ea2369e6bcfa35889cf566047e3ca3f"><div class="ttname"><a href="classllvm_1_1PPCInstrInfo.html#a3ea2369e6bcfa35889cf566047e3ca3f">llvm::PPCInstrInfo::commuteInstructionImpl</a></div><div class="ttdeci">MachineInstr * commuteInstructionImpl(MachineInstr &amp;MI, bool NewMI, unsigned OpIdx1, unsigned OpIdx2) const override</div><div class="ttdoc">Commutes the operands in the given instruction.</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8cpp_source.html#l01139">PPCInstrInfo.cpp:1139</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineRegisterInfo_html_ad85285685fc46db3f2b3b0bf90bf9184"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#ad85285685fc46db3f2b3b0bf90bf9184">llvm::MachineRegisterInfo::constrainRegClass</a></div><div class="ttdeci">const TargetRegisterClass * constrainRegClass(Register Reg, const TargetRegisterClass *RC, unsigned MinNumRegs=0)</div><div class="ttdoc">constrainRegClass - Constrain the register class of the specified virtual register to be a common sub...</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8cpp_source.html#l00083">MachineRegisterInfo.cpp:83</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PPCII_html_ae73836094d8b0399ba10a6e540a363ffaf4ba2908fdc36ea179a9e3f8eda40637"><div class="ttname"><a href="namespacellvm_1_1PPCII.html#ae73836094d8b0399ba10a6e540a363ffaf4ba2908fdc36ea179a9e3f8eda40637">llvm::PPCII::MO_PCREL_OPT_FLAG</a></div><div class="ttdeci">@ MO_PCREL_OPT_FLAG</div><div class="ttdef"><b>Definition:</b> <a href="PPC_8h_source.html#l00123">PPC.h:123</a></div></div>
<div class="ttc" id="aclassllvm_1_1PPCInstrInfo_html_ac73a2a13806418aeb40c26ea794c3dd7"><div class="ttname"><a href="classllvm_1_1PPCInstrInfo.html#ac73a2a13806418aeb40c26ea794c3dd7">llvm::PPCInstrInfo::insertBranch</a></div><div class="ttdeci">unsigned insertBranch(MachineBasicBlock &amp;MBB, MachineBasicBlock *TBB, MachineBasicBlock *FBB, ArrayRef&lt; MachineOperand &gt; Cond, const DebugLoc &amp;DL, int *BytesAdded=nullptr) const override</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8cpp_source.html#l01475">PPCInstrInfo.cpp:1475</a></div></div>
<div class="ttc" id="anamespacellvm_html_acbd62c639eb89998b853a9327a42785ca369155836eb866e4be003ba3d86c9294"><div class="ttname"><a href="namespacellvm.html#acbd62c639eb89998b853a9327a42785ca369155836eb866e4be003ba3d86c9294">llvm::SOK_VSXVectorSpill</a></div><div class="ttdeci">@ SOK_VSXVectorSpill</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8h_source.html#l00126">PPCInstrInfo.h:126</a></div></div>
<div class="ttc" id="aMachineMemOperand_8h_html"><div class="ttname"><a href="MachineMemOperand_8h.html">MachineMemOperand.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVectorImpl_html"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html">llvm::SmallVectorImpl</a></div><div class="ttdoc">This class consists of common code factored out of the SmallVector class to reduce code duplication b...</div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8h_source.html#l00042">APFloat.h:42</a></div></div>
<div class="ttc" id="anamespacellvm_html_a6b0ac1fa4f05de76413c5e0ca6334035"><div class="ttname"><a href="namespacellvm.html#a6b0ac1fa4f05de76413c5e0ca6334035">llvm::reverse</a></div><div class="ttdeci">auto reverse(ContainerTy &amp;&amp;C)</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l00484">STLExtras.h:484</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PPCISD_html_ad1c32e5bb1cb213fb836bc3d221e4f19a453b3ee2482b8a61bbcf5ce1cd6e395e"><div class="ttname"><a href="namespacellvm_1_1PPCISD.html#ad1c32e5bb1cb213fb836bc3d221e4f19a453b3ee2482b8a61bbcf5ce1cd6e395e">llvm::PPCISD::BCTRL</a></div><div class="ttdeci">@ BCTRL</div><div class="ttdoc">CHAIN,FLAG = BCTRL(CHAIN, INFLAG) - Directly corresponds to a BCTRL instruction.</div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8h_source.html#l00198">PPCISelLowering.h:198</a></div></div>
<div class="ttc" id="aclassllvm_1_1Module_html_a6d883605206368bc536cc9ded97209b8"><div class="ttname"><a href="classllvm_1_1Module.html#a6d883605206368bc536cc9ded97209b8">llvm::Module::getDataLayout</a></div><div class="ttdeci">const DataLayout &amp; getDataLayout() const</div><div class="ttdoc">Get the data layout for the module's target platform.</div><div class="ttdef"><b>Definition:</b> <a href="Module_8cpp_source.html#l00398">Module.cpp:398</a></div></div>
<div class="ttc" id="anamespacellvm_html_ab9c6b351507d3c0730f4290919d43a12"><div class="ttname"><a href="namespacellvm.html#ab9c6b351507d3c0730f4290919d43a12">llvm::ArrayRef</a></div><div class="ttdeci">ArrayRef(const T &amp;OneElt) -&gt; ArrayRef&lt; T &gt;</div></div>
<div class="ttc" id="aclassllvm_1_1PPCInstrInfo_html_a1517c8d905b7053ac5bdb9582cf49c03"><div class="ttname"><a href="classllvm_1_1PPCInstrInfo.html#a1517c8d905b7053ac5bdb9582cf49c03">llvm::PPCInstrInfo::expandVSXMemPseudo</a></div><div class="ttdeci">bool expandVSXMemPseudo(MachineInstr &amp;MI) const</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8cpp_source.html#l03023">PPCInstrInfo.cpp:3023</a></div></div>
<div class="ttc" id="aPPCInstrInfo_8cpp_html_a93c546def4cf10e701699eba921b3532"><div class="ttname"><a href="PPCInstrInfo_8cpp.html#a93c546def4cf10e701699eba921b3532">DisableCmpOpt</a></div><div class="ttdeci">static cl::opt&lt; bool &gt; DisableCmpOpt(&quot;disable-ppc-cmp-opt&quot;, cl::desc(&quot;Disable compare instruction optimization&quot;), cl::Hidden)</div></div>
<div class="ttc" id="aclassllvm_1_1TargetMachine_html_ae106f6c6362377b3016f0d174227e193"><div class="ttname"><a href="classllvm_1_1TargetMachine.html#ae106f6c6362377b3016f0d174227e193">llvm::TargetMachine::getCodeModel</a></div><div class="ttdeci">CodeModel::Model getCodeModel() const</div><div class="ttdoc">Returns the code model.</div><div class="ttdef"><b>Definition:</b> <a href="Target_2TargetMachine_8h_source.html#l00233">TargetMachine.h:233</a></div></div>
<div class="ttc" id="aclassllvm_1_1PPCSubtarget_html_a9fdcf13a56a07a0f207e0b0f66bbdbb6"><div class="ttname"><a href="classllvm_1_1PPCSubtarget.html#a9fdcf13a56a07a0f207e0b0f66bbdbb6">llvm::PPCSubtarget::getCPUDirective</a></div><div class="ttdeci">unsigned getCPUDirective() const</div><div class="ttdoc">getCPUDirective - Returns the -m directive specified for the cpu.</div><div class="ttdef"><b>Definition:</b> <a href="PPCSubtarget_8h_source.html#l00134">PPCSubtarget.h:134</a></div></div>
<div class="ttc" id="anamespacellvm_1_1MCOI_html_aaa8eb58fd1b8466eb64a43df890cb8c1ae01b27a05209c02ca1bdb5a6033731fb"><div class="ttname"><a href="namespacellvm_1_1MCOI.html#aaa8eb58fd1b8466eb64a43df890cb8c1ae01b27a05209c02ca1bdb5a6033731fb">llvm::MCOI::TIED_TO</a></div><div class="ttdeci">@ TIED_TO</div><div class="ttdef"><b>Definition:</b> <a href="MCInstrDesc_8h_source.html#l00036">MCInstrDesc.h:36</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PPC_html_a020638ddecc65637bc0282f5ee857d50aa77883b2e65039199cd95b624cab29b2"><div class="ttname"><a href="namespacellvm_1_1PPC.html#a020638ddecc65637bc0282f5ee857d50aa77883b2e65039199cd95b624cab29b2">llvm::PPC::DIR_750</a></div><div class="ttdeci">@ DIR_750</div><div class="ttdef"><b>Definition:</b> <a href="PPCSubtarget_8h_source.html#l00048">PPCSubtarget.h:48</a></div></div>
<div class="ttc" id="aclassllvm_1_1PPCInstrInfo_html_a8abe69762bb82834b786c78b35015734"><div class="ttname"><a href="classllvm_1_1PPCInstrInfo.html#a8abe69762bb82834b786c78b35015734">llvm::PPCInstrInfo::CreateTargetHazardRecognizer</a></div><div class="ttdeci">ScheduleHazardRecognizer * CreateTargetHazardRecognizer(const TargetSubtargetInfo *STI, const ScheduleDAG *DAG) const override</div><div class="ttdoc">CreateTargetHazardRecognizer - Return the hazard recognizer to use for this target when scheduling th...</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8cpp_source.html#l00101">PPCInstrInfo.cpp:101</a></div></div>
<div class="ttc" id="aclassllvm_1_1DebugLoc_html"><div class="ttname"><a href="classllvm_1_1DebugLoc.html">llvm::DebugLoc</a></div><div class="ttdoc">A debug info location.</div><div class="ttdef"><b>Definition:</b> <a href="DebugLoc_8h_source.html#l00033">DebugLoc.h:33</a></div></div>
<div class="ttc" id="aPPCInstrInfo_8cpp_html_a181355a41a8db50079569dc8ec0f19d4"><div class="ttname"><a href="PPCInstrInfo_8cpp.html#a181355a41a8db50079569dc8ec0f19d4">InfoArrayIdxMULOpIdx</a></div><div class="ttdeci">#define InfoArrayIdxMULOpIdx</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8cpp_source.html#l00296">PPCInstrInfo.cpp:296</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PPCII_html_ae73836094d8b0399ba10a6e540a363ffac09dc26b3c7ea75dfd6da305042926cb"><div class="ttname"><a href="namespacellvm_1_1PPCII.html#ae73836094d8b0399ba10a6e540a363ffac09dc26b3c7ea75dfd6da305042926cb">llvm::PPCII::MO_TPREL_FLAG</a></div><div class="ttdeci">@ MO_TPREL_FLAG</div><div class="ttdoc">MO_TPREL_FLAG - If this bit is set the symbol reference is relative to TLS Initial Exec model.</div><div class="ttdef"><b>Definition:</b> <a href="PPC_8h_source.html#l00132">PPC.h:132</a></div></div>
<div class="ttc" id="aSlotIndexes_8h_html"><div class="ttname"><a href="SlotIndexes_8h.html">SlotIndexes.h</a></div></div>
<div class="ttc" id="anamespacellvm_html_acbd62c639eb89998b853a9327a42785ca29a342ffb3f32c297a49b95b8d265acc"><div class="ttname"><a href="namespacellvm.html#acbd62c639eb89998b853a9327a42785ca29a342ffb3f32c297a49b95b8d265acc">llvm::SOK_CRBitSpill</a></div><div class="ttdeci">@ SOK_CRBitSpill</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8h_source.html#l00124">PPCInstrInfo.h:124</a></div></div>
<div class="ttc" id="astructllvm_1_1cl_1_1desc_html"><div class="ttname"><a href="structllvm_1_1cl_1_1desc.html">llvm::cl::desc</a></div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00411">CommandLine.h:411</a></div></div>
<div class="ttc" id="aclassllvm_1_1PPCInstrInfo_html_a9eb43774a0046a364f5c45f94576bc43"><div class="ttname"><a href="classllvm_1_1PPCInstrInfo.html#a9eb43774a0046a364f5c45f94576bc43">llvm::PPCInstrInfo::foldFrameOffset</a></div><div class="ttdeci">bool foldFrameOffset(MachineInstr &amp;MI) const</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8cpp_source.html#l03589">PPCInstrInfo.cpp:3589</a></div></div>
<div class="ttc" id="aclassllvm_1_1PPCInstrInfo_html_a97de15cd29255b90b2ce510e967340bf"><div class="ttname"><a href="classllvm_1_1PPCInstrInfo.html#a97de15cd29255b90b2ce510e967340bf">llvm::PPCInstrInfo::storeRegToStackSlotNoUpd</a></div><div class="ttdeci">void storeRegToStackSlotNoUpd(MachineBasicBlock &amp;MBB, MachineBasicBlock::iterator MBBI, unsigned SrcReg, bool isKill, int FrameIndex, const TargetRegisterClass *RC, const TargetRegisterInfo *TRI) const</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8cpp_source.html#l01953">PPCInstrInfo.cpp:1953</a></div></div>
<div class="ttc" id="araw__ostream_8h_html"><div class="ttname"><a href="raw__ostream_8h.html">raw_ostream.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1PPCInstrInfo_html_a7a39ff16bf039402969f41f53763d905"><div class="ttname"><a href="classllvm_1_1PPCInstrInfo.html#a7a39ff16bf039402969f41f53763d905">llvm::PPCInstrInfo::isProfitableToIfCvt</a></div><div class="ttdeci">bool isProfitableToIfCvt(MachineBasicBlock &amp;MBB, unsigned NumCycles, unsigned ExtraPredCycles, BranchProbability Probability) const override</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8h_source.html#l00611">PPCInstrInfo.h:611</a></div></div>
<div class="ttc" id="aclassllvm_1_1PPCInstrInfo_html_a0ddc379f7789e44a2138fa08e92bfe92"><div class="ttname"><a href="classllvm_1_1PPCInstrInfo.html#a0ddc379f7789e44a2138fa08e92bfe92">llvm::PPCInstrInfo::PPCInstrInfo</a></div><div class="ttdeci">PPCInstrInfo(PPCSubtarget &amp;STI)</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8cpp_source.html#l00092">PPCInstrInfo.cpp:92</a></div></div>
<div class="ttc" id="aclassllvm_1_1PPCInstrInfo_html_aa311c9795e28799c06e59252e767c155"><div class="ttname"><a href="classllvm_1_1PPCInstrInfo.html#aa311c9795e28799c06e59252e767c155">llvm::PPCInstrInfo::removeBranch</a></div><div class="ttdeci">unsigned removeBranch(MachineBasicBlock &amp;MBB, int *BytesRemoved=nullptr) const override</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8cpp_source.html#l01443">PPCInstrInfo.cpp:1443</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScheduleHazardRecognizer_html"><div class="ttname"><a href="classllvm_1_1ScheduleHazardRecognizer.html">llvm::ScheduleHazardRecognizer</a></div><div class="ttdoc">HazardRecognizer - This determines whether or not an instruction can be issued this cycle,...</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleHazardRecognizer_8h_source.html#l00025">ScheduleHazardRecognizer.h:25</a></div></div>
<div class="ttc" id="aPPCPredicates_8h_html"><div class="ttname"><a href="PPCPredicates_8h.html">PPCPredicates.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_ac2421adbb9996e1b15f03a8abb6c70a8"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#ac2421adbb9996e1b15f03a8abb6c70a8">llvm::MachineInstr::eraseFromParent</a></div><div class="ttdeci">void eraseFromParent()</div><div class="ttdoc">Unlink 'this' from the containing basic block and delete it.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8cpp_source.html#l00705">MachineInstr.cpp:705</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstrBundleIterator_html"><div class="ttname"><a href="classllvm_1_1MachineInstrBundleIterator.html">llvm::MachineInstrBundleIterator&lt; MachineInstr &gt;</a></div></div>
<div class="ttc" id="aTargetRegistry_8h_html"><div class="ttname"><a href="TargetRegistry_8h.html">TargetRegistry.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AVRII_html_af0b01fa3c73b359837f3a7713274269aac78eef6657cad8b6d62131d926614fe8"><div class="ttname"><a href="namespacellvm_1_1AVRII.html#af0b01fa3c73b359837f3a7713274269aac78eef6657cad8b6d62131d926614fe8">llvm::AVRII::MO_LO</a></div><div class="ttdeci">@ MO_LO</div><div class="ttdoc">On a symbol operand, this represents the lo part.</div><div class="ttdef"><b>Definition:</b> <a href="AVRInstrInfo_8h_source.html#l00052">AVRInstrInfo.h:52</a></div></div>
<div class="ttc" id="anamespacellvm_1_1RegState_html_aef4cc0c855dc833e2a9d58a50703320da72c17e2ff2d5af62a30e56ac152aa8d5"><div class="ttname"><a href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da72c17e2ff2d5af62a30e56ac152aa8d5">llvm::RegState::Define</a></div><div class="ttdeci">@ Define</div><div class="ttdoc">Register definition.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00044">MachineInstrBuilder.h:44</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCInstrDesc_html_a0ca904e64ee29c8812ed34e632d3c947"><div class="ttname"><a href="classllvm_1_1MCInstrDesc.html#a0ca904e64ee29c8812ed34e632d3c947">llvm::MCInstrDesc::getNumOperands</a></div><div class="ttdeci">unsigned getNumOperands() const</div><div class="ttdoc">Return the number of declared MachineOperands for this MachineInstruction.</div><div class="ttdef"><b>Definition:</b> <a href="MCInstrDesc_8h_source.html#l00237">MCInstrDesc.h:237</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html"><div class="ttname"><a href="classllvm_1_1Value.html">llvm::Value</a></div><div class="ttdoc">LLVM Value Representation.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00074">Value.h:74</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_a0012f75cbba71c9c29aac592ff3d6400"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a0012f75cbba71c9c29aac592ff3d6400">llvm::MachineInstr::findRegisterUseOperandIdx</a></div><div class="ttdeci">int findRegisterUseOperandIdx(Register Reg, bool isKill=false, const TargetRegisterInfo *TRI=nullptr) const</div><div class="ttdoc">Returns the operand index that is a use of the specific register or -1 if it is not found.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8cpp_source.html#l01000">MachineInstr.cpp:1000</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineRegisterInfo_html_a7a73104304bf1f9d344ad495283561b5"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#a7a73104304bf1f9d344ad495283561b5">llvm::MachineRegisterInfo::use_instr_end</a></div><div class="ttdeci">static use_instr_iterator use_instr_end()</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8h_source.html#l00502">MachineRegisterInfo.h:502</a></div></div>
<div class="ttc" id="aclassllvm_1_1RegPressureTracker_html_a19bc5229b207b9de98ffbd0bbf4c84ab"><div class="ttname"><a href="classllvm_1_1RegPressureTracker.html#a19bc5229b207b9de98ffbd0bbf4c84ab">llvm::RegPressureTracker::recede</a></div><div class="ttdeci">void recede(SmallVectorImpl&lt; RegisterMaskPair &gt; *LiveUses=nullptr)</div><div class="ttdoc">Recede across the previous instruction.</div><div class="ttdef"><b>Definition:</b> <a href="RegisterPressure_8cpp_source.html#l00873">RegisterPressure.cpp:873</a></div></div>
<div class="ttc" id="aclassllvm_1_1Directive_html"><div class="ttname"><a href="classllvm_1_1Directive.html">llvm::Directive</a></div><div class="ttdef"><b>Definition:</b> <a href="DirectiveEmitter_8h_source.html#l00105">DirectiveEmitter.h:105</a></div></div>
<div class="ttc" id="aDebug_8h_html"><div class="ttname"><a href="Debug_8h.html">Debug.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1InstrItineraryData_html"><div class="ttname"><a href="classllvm_1_1InstrItineraryData.html">llvm::InstrItineraryData</a></div><div class="ttdoc">Itinerary data supplied by a subtarget to be used by a target.</div><div class="ttdef"><b>Definition:</b> <a href="MCInstrItineraries_8h_source.html#l00109">MCInstrItineraries.h:109</a></div></div>
<div class="ttc" id="anamespacellvm_1_1RegState_html_aef4cc0c855dc833e2a9d58a50703320da833922eca2ad0eab70573ba1f5fba9af"><div class="ttname"><a href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da833922eca2ad0eab70573ba1f5fba9af">llvm::RegState::ImplicitDefine</a></div><div class="ttdeci">@ ImplicitDefine</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00063">MachineInstrBuilder.h:63</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_acbc921830578e2741be6549db716c0ce"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">llvm::MachineBasicBlock::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00311">MachineBasicBlock.h:311</a></div></div>
<div class="ttc" id="aclassllvm_1_1PPCInstrInfo_html_ad5cc934c55e1ea5f64d3493dcbc3b758"><div class="ttname"><a href="classllvm_1_1PPCInstrInfo.html#ad5cc934c55e1ea5f64d3493dcbc3b758">llvm::PPCInstrInfo::isSignExtended</a></div><div class="ttdeci">bool isSignExtended(const unsigned Reg, const MachineRegisterInfo *MRI) const</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8h_source.html#l00728">PPCInstrInfo.h:728</a></div></div>
<div class="ttc" id="aPPCTargetMachine_8h_html"><div class="ttname"><a href="PPCTargetMachine_8h.html">PPCTargetMachine.h</a></div></div>
<div class="ttc" id="astructllvm_1_1ImmInstrInfo_html_a1efa58146b5134a31174c35b39cb6bd4"><div class="ttname"><a href="structllvm_1_1ImmInstrInfo.html#a1efa58146b5134a31174c35b39cb6bd4">llvm::ImmInstrInfo::ImmOpcode</a></div><div class="ttdeci">uint64_t ImmOpcode</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8h_source.html#l00100">PPCInstrInfo.h:100</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineRegisterInfo_html_a965a15cef77a97f0e17f9f26fd5be53e"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#a965a15cef77a97f0e17f9f26fd5be53e">llvm::MachineRegisterInfo::setRegClass</a></div><div class="ttdeci">void setRegClass(Register Reg, const TargetRegisterClass *RC)</div><div class="ttdoc">setRegClass - Set the register class of the specified virtual register.</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8cpp_source.html#l00057">MachineRegisterInfo.cpp:57</a></div></div>
<div class="ttc" id="astructllvm_1_1ImmInstrInfo_html_a3c87effe0ac9501aee6aa53828a65c0c"><div class="ttname"><a href="structllvm_1_1ImmInstrInfo.html#a3c87effe0ac9501aee6aa53828a65c0c">llvm::ImmInstrInfo::ImmOpNo</a></div><div class="ttdeci">uint64_t ImmOpNo</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8h_source.html#l00098">PPCInstrInfo.h:98</a></div></div>
<div class="ttc" id="aclassllvm_1_1PPCInstrInfo_html_a8ba4f8b2e477a32a27b66aa99566eef9"><div class="ttname"><a href="classllvm_1_1PPCInstrInfo.html#a8ba4f8b2e477a32a27b66aa99566eef9">llvm::PPCInstrInfo::finalizeInsInstrs</a></div><div class="ttdeci">void finalizeInsInstrs(MachineInstr &amp;Root, MachineCombinerPattern &amp;P, SmallVectorImpl&lt; MachineInstr * &gt; &amp;InsInstrs) const override</div><div class="ttdoc">Fixup the placeholders we put in genAlternativeCodeSequence() for MachineCombiner.</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8cpp_source.html#l00547">PPCInstrInfo.cpp:547</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_ad7f2dc64214551418f486026ffc95fa4"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#ad7f2dc64214551418f486026ffc95fa4">llvm::MachineOperand::isIdenticalTo</a></div><div class="ttdeci">bool isIdenticalTo(const MachineOperand &amp;Other) const</div><div class="ttdoc">Returns true if this operand is identical to the specified operand except for liveness related flags ...</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8cpp_source.html#l00306">MachineOperand.cpp:306</a></div></div>
<div class="ttc" id="astructllvm_1_1ImmInstrInfo_html_aa50dc0db89af0c3fa23a670a65f4bea5"><div class="ttname"><a href="structllvm_1_1ImmInstrInfo.html#aa50dc0db89af0c3fa23a670a65f4bea5">llvm::ImmInstrInfo::ImmWidth</a></div><div class="ttdeci">uint64_t ImmWidth</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrInfo_8h_source.html#l00102">PPCInstrInfo.h:102</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCRegister_html"><div class="ttname"><a href="classllvm_1_1MCRegister.html">llvm::MCRegister</a></div><div class="ttdoc">Wrapper class representing physical registers. Should be passed by value.</div><div class="ttdef"><b>Definition:</b> <a href="MCRegister_8h_source.html#l00024">MCRegister.h:24</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_ab0d1155c8c38e84cbe387998fd2e517e"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#ab0d1155c8c38e84cbe387998fd2e517e">llvm::MachineOperand::isGlobal</a></div><div class="ttdeci">bool isGlobal() const</div><div class="ttdoc">isGlobal - Tests if this is a MO_GlobalAddress operand.</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00347">MachineOperand.h:347</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVectorImpl_html_a94d23373106467003722f7d6c17b1528"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html#a94d23373106467003722f7d6c17b1528">llvm::SmallVectorImpl::insert</a></div><div class="ttdeci">iterator insert(iterator I, T &amp;&amp;Elt)</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00809">SmallVector.h:809</a></div></div>
<div class="ttc" id="aPPCInstrInfo_8cpp_html_a58e3d8f1d20226777984b48012c68c2b"><div class="ttname"><a href="PPCInstrInfo_8cpp.html#a58e3d8f1d20226777984b48012c68c2b">UseOldLatencyCalc</a></div><div class="ttdeci">static cl::opt&lt; bool &gt; UseOldLatencyCalc(&quot;ppc-old-latency-calc&quot;, cl::Hidden, cl::desc(&quot;Use the old (incorrect) instruction latency calculation&quot;))</div></div>
<div class="ttc" id="anamespacellvm_html_a8050bfe8dcbfba2dbf1ece9a4827bb05"><div class="ttname"><a href="namespacellvm.html#a8050bfe8dcbfba2dbf1ece9a4827bb05">llvm::MachineCombinerPattern</a></div><div class="ttdeci">MachineCombinerPattern</div><div class="ttdoc">These are instruction patterns matched by the machine combiner pass.</div><div class="ttdef"><b>Definition:</b> <a href="MachineCombinerPattern_8h_source.html#l00020">MachineCombinerPattern.h:20</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Aug 7 2023 10:16:33 for LLVM by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
