<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LLVM: lib/Transforms/IPO/WholeProgramDevirt.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LLVM
   &#160;<span id="projectnumber">17.0.0git</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_a72932e0778af28115095468f6286ff8.html">Transforms</a></li><li class="navelem"><a class="el" href="dir_13abb262e9c52ddea8d07639819afd6c.html">IPO</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">WholeProgramDevirt.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="WholeProgramDevirt_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//===- WholeProgramDevirt.cpp - Whole program virtual call optimization ---===//</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// Part of the LLVM Project, under the Apache License v2.0 with LLVM Exceptions.</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">// See https://llvm.org/LICENSE.txt for license information.</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// SPDX-License-Identifier: Apache-2.0 WITH LLVM-exception</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">// This pass implements whole program optimization of virtual calls in cases</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">// where we know (via !type metadata) that the list of callees is fixed. This</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">// includes the following:</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">// - Single implementation devirtualization: if a virtual call has a single</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">//   possible callee, replace all calls with a direct call to that callee.</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">// - Virtual constant propagation: if the virtual function&#39;s return type is an</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment">//   integer &lt;=64 bits and all possible callees are readnone, for each class and</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment">//   each list of constant arguments: evaluate the function, store the return</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment">//   value alongside the virtual table, and rewrite each virtual call as a load</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment">//   from the virtual table.</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment">// - Uniform return value optimization: if the conditions for virtual constant</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment">//   propagation hold and each function returns the same constant value, replace</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment">//   each virtual call with that constant.</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment">// - Unique return value optimization for i1 return values: if the conditions</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment">//   for virtual constant propagation hold and a single vtable&#39;s function</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment">//   returns 0, or a single vtable&#39;s function returns 1, replace each virtual</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment">//   call with a comparison of the vptr against that vtable&#39;s address.</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="comment">// This pass is intended to be used during the regular and thin LTO pipelines:</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="comment">// During regular LTO, the pass determines the best optimization for each</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="comment">// virtual call and applies the resolutions directly to virtual calls that are</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="comment">// eligible for virtual call optimization (i.e. calls that use either of the</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="comment">// llvm.assume(llvm.type.test) or llvm.type.checked.load intrinsics).</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="comment">// During hybrid Regular/ThinLTO, the pass operates in two phases:</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="comment">// - Export phase: this is run during the thin link over a single merged module</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="comment">//   that contains all vtables with !type metadata that participate in the link.</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="comment">//   The pass computes a resolution for each virtual call and stores it in the</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="comment">//   type identifier summary.</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="comment">// - Import phase: this is run during the thin backends over the individual</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="comment">//   modules. The pass applies the resolutions previously computed during the</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="comment">//   import phase to each eligible virtual call.</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="comment">// During ThinLTO, the pass operates in two phases:</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="comment">// - Export phase: this is run during the thin link over the index which</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="comment">//   contains a summary of all vtables with !type metadata that participate in</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="comment">//   the link. It computes a resolution for each virtual call and stores it in</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="comment">//   the type identifier summary. Only single implementation devirtualization</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="comment">//   is supported.</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="comment">// - Import phase: (same as with hybrid case above).</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160; </div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="WholeProgramDevirt_8h.html">llvm/Transforms/IPO/WholeProgramDevirt.h</a>&quot;</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ArrayRef_8h.html">llvm/ADT/ArrayRef.h</a>&quot;</span></div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DenseMap_8h.html">llvm/ADT/DenseMap.h</a>&quot;</span></div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DenseMapInfo_8h.html">llvm/ADT/DenseMapInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DenseSet_8h.html">llvm/ADT/DenseSet.h</a>&quot;</span></div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MapVector_8h.html">llvm/ADT/MapVector.h</a>&quot;</span></div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SmallVector_8h.html">llvm/ADT/SmallVector.h</a>&quot;</span></div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Statistic_8h.html">llvm/ADT/Statistic.h</a>&quot;</span></div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="iterator__range_8h.html">llvm/ADT/iterator_range.h</a>&quot;</span></div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="AssumptionCache_8h.html">llvm/Analysis/AssumptionCache.h</a>&quot;</span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="BasicAliasAnalysis_8h.html">llvm/Analysis/BasicAliasAnalysis.h</a>&quot;</span></div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="OptimizationRemarkEmitter_8h.html">llvm/Analysis/OptimizationRemarkEmitter.h</a>&quot;</span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TypeMetadataUtils_8h.html">llvm/Analysis/TypeMetadataUtils.h</a>&quot;</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="BitcodeReader_8h.html">llvm/Bitcode/BitcodeReader.h</a>&quot;</span></div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="BitcodeWriter_8h.html">llvm/Bitcode/BitcodeWriter.h</a>&quot;</span></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Constants_8h.html">llvm/IR/Constants.h</a>&quot;</span></div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DataLayout_8h.html">llvm/IR/DataLayout.h</a>&quot;</span></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DebugLoc_8h.html">llvm/IR/DebugLoc.h</a>&quot;</span></div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DerivedTypes_8h.html">llvm/IR/DerivedTypes.h</a>&quot;</span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Dominators_8h.html">llvm/IR/Dominators.h</a>&quot;</span></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Function_8h.html">llvm/IR/Function.h</a>&quot;</span></div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="GlobalAlias_8h.html">llvm/IR/GlobalAlias.h</a>&quot;</span></div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="GlobalVariable_8h.html">llvm/IR/GlobalVariable.h</a>&quot;</span></div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="IRBuilder_8h.html">llvm/IR/IRBuilder.h</a>&quot;</span></div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="InstrTypes_8h.html">llvm/IR/InstrTypes.h</a>&quot;</span></div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="IR_2Instruction_8h.html">llvm/IR/Instruction.h</a>&quot;</span></div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Instructions_8h.html">llvm/IR/Instructions.h</a>&quot;</span></div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Intrinsics_8h.html">llvm/IR/Intrinsics.h</a>&quot;</span></div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="LLVMContext_8h.html">llvm/IR/LLVMContext.h</a>&quot;</span></div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MDBuilder_8h.html">llvm/IR/MDBuilder.h</a>&quot;</span></div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Metadata_8h.html">llvm/IR/Metadata.h</a>&quot;</span></div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Module_8h.html">llvm/IR/Module.h</a>&quot;</span></div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ModuleSummaryIndexYAML_8h.html">llvm/IR/ModuleSummaryIndexYAML.h</a>&quot;</span></div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="InitializePasses_8h.html">llvm/InitializePasses.h</a>&quot;</span></div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Pass_8h.html">llvm/Pass.h</a>&quot;</span></div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="PassRegistry_8h.html">llvm/PassRegistry.h</a>&quot;</span></div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Casting_8h.html">llvm/Support/Casting.h</a>&quot;</span></div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="CommandLine_8h.html">llvm/Support/CommandLine.h</a>&quot;</span></div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Errc_8h.html">llvm/Support/Errc.h</a>&quot;</span></div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Support_2Error_8h.html">llvm/Support/Error.h</a>&quot;</span></div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="FileSystem_8h.html">llvm/Support/FileSystem.h</a>&quot;</span></div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="GlobPattern_8h.html">llvm/Support/GlobPattern.h</a>&quot;</span></div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MathExtras_8h.html">llvm/Support/MathExtras.h</a>&quot;</span></div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Triple_8h.html">llvm/TargetParser/Triple.h</a>&quot;</span></div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Transforms_2IPO_8h.html">llvm/Transforms/IPO.h</a>&quot;</span></div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="FunctionAttrs_8h.html">llvm/Transforms/IPO/FunctionAttrs.h</a>&quot;</span></div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="BasicBlockUtils_8h.html">llvm/Transforms/Utils/BasicBlockUtils.h</a>&quot;</span></div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="CallPromotionUtils_8h.html">llvm/Transforms/Utils/CallPromotionUtils.h</a>&quot;</span></div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Evaluator_8h.html">llvm/Transforms/Utils/Evaluator.h</a>&quot;</span></div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;<span class="preprocessor">#include &lt;algorithm&gt;</span></div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;<span class="preprocessor">#include &lt;cstddef&gt;</span></div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;<span class="preprocessor">#include &lt;map&gt;</span></div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;<span class="preprocessor">#include &lt;set&gt;</span></div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;<span class="preprocessor">#include &lt;string&gt;</span></div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160; </div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacellvm.html">llvm</a>;</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;<span class="keyword">using namespace </span>wholeprogramdevirt;</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160; </div>
<div class="line"><a name="l00111"></a><span class="lineno"><a class="line" href="WholeProgramDevirt_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">  111</a></span>&#160;<span class="preprocessor">#define DEBUG_TYPE &quot;wholeprogramdevirt&quot;</span></div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160; </div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;<a class="code" href="namespacellvm.html#a0bf75467957937ad23ad7be19f489934">STATISTIC</a>(NumDevirtTargets, <span class="stringliteral">&quot;Number of whole program devirtualization targets&quot;</span>);</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;<a class="code" href="namespacellvm.html#a0bf75467957937ad23ad7be19f489934">STATISTIC</a>(NumSingleImpl, <span class="stringliteral">&quot;Number of single implementation devirtualizations&quot;</span>);</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;<a class="code" href="namespacellvm.html#a0bf75467957937ad23ad7be19f489934">STATISTIC</a>(NumBranchFunnel, <span class="stringliteral">&quot;Number of branch funnels&quot;</span>);</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;<a class="code" href="namespacellvm.html#a0bf75467957937ad23ad7be19f489934">STATISTIC</a>(NumUniformRetVal, <span class="stringliteral">&quot;Number of uniform return value optimizations&quot;</span>);</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;<a class="code" href="namespacellvm.html#a0bf75467957937ad23ad7be19f489934">STATISTIC</a>(NumUniqueRetVal, <span class="stringliteral">&quot;Number of unique return value optimizations&quot;</span>);</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;<a class="code" href="namespacellvm.html#a0bf75467957937ad23ad7be19f489934">STATISTIC</a>(NumVirtConstProp1Bit,</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;          <span class="stringliteral">&quot;Number of 1 bit virtual constant propagations&quot;</span>);</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;<a class="code" href="namespacellvm.html#a0bf75467957937ad23ad7be19f489934">STATISTIC</a>(NumVirtConstProp, <span class="stringliteral">&quot;Number of virtual constant propagations&quot;</span>);</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160; </div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;PassSummaryAction&gt;</a> <a class="code" href="WholeProgramDevirt_8cpp.html#a5379d9e695d760a179812db0a2bc002e">ClSummaryAction</a>(</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    <span class="stringliteral">&quot;wholeprogramdevirt-summary-action&quot;</span>,</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;What to do with the summary when running this pass&quot;</span>),</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    <a class="code" href="namespacellvm_1_1cl.html#a8fa743aa76b6902028f8a643dfb87171">cl::values</a>(<a class="code" href="CommandLine_8h.html#a187fd767976b311c09dff5e05ac0c1bc">clEnumValN</a>(<a class="code" href="namespacellvm.html#a38a0bdae7fb49d99f161aa6de0379d7ea6adf97f83acf6453d4a6a4b1070f3754">PassSummaryAction::None</a>, <span class="stringliteral">&quot;none&quot;</span>, <span class="stringliteral">&quot;Do nothing&quot;</span>),</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;               <a class="code" href="CommandLine_8h.html#a187fd767976b311c09dff5e05ac0c1bc">clEnumValN</a>(<a class="code" href="namespacellvm.html#a38a0bdae7fb49d99f161aa6de0379d7ea72d6d7a1885885bb55a565fd1070581a">PassSummaryAction::Import</a>, <span class="stringliteral">&quot;import&quot;</span>,</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;                          <span class="stringliteral">&quot;Import typeid resolutions from summary and globals&quot;</span>),</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;               <a class="code" href="CommandLine_8h.html#a187fd767976b311c09dff5e05ac0c1bc">clEnumValN</a>(<a class="code" href="namespacellvm.html#a38a0bdae7fb49d99f161aa6de0379d7ea0095a9fa74d1713e43e370a7d7846224">PassSummaryAction::Export</a>, <span class="stringliteral">&quot;export&quot;</span>,</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;                          <span class="stringliteral">&quot;Export typeid resolutions to summary and globals&quot;</span>)),</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>);</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160; </div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;std::string&gt;</a> <a class="code" href="WholeProgramDevirt_8cpp.html#af64cbf40f5425f76b44ed1b06c4e324d">ClReadSummary</a>(</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    <span class="stringliteral">&quot;wholeprogramdevirt-read-summary&quot;</span>,</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;        <span class="stringliteral">&quot;Read summary from given bitcode or YAML file before running pass&quot;</span>),</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>);</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160; </div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;std::string&gt;</a> <a class="code" href="WholeProgramDevirt_8cpp.html#ac61cdf9180068a01724750e24003fda8">ClWriteSummary</a>(</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    <span class="stringliteral">&quot;wholeprogramdevirt-write-summary&quot;</span>,</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Write summary to given bitcode or YAML file after running pass. &quot;</span></div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;             <span class="stringliteral">&quot;Output file format is deduced from extension: *.bc means writing &quot;</span></div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;             <span class="stringliteral">&quot;bitcode, otherwise YAML&quot;</span>),</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>);</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160; </div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;unsigned&gt;</a></div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    <a class="code" href="WholeProgramDevirt_8cpp.html#aaf0cd70cef0167d0914961b3ea9b72b9">ClThreshold</a>(<span class="stringliteral">&quot;wholeprogramdevirt-branch-funnel-threshold&quot;</span>, <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>,</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;                <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(10),</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;                <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Maximum number of call targets per &quot;</span></div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;                         <span class="stringliteral">&quot;call site to enable branch funnels&quot;</span>));</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160; </div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a></div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    <a class="code" href="WholeProgramDevirt_8cpp.html#a97077477d41e7efa4168b4cb7167919a">PrintSummaryDevirt</a>(<span class="stringliteral">&quot;wholeprogramdevirt-print-index-based&quot;</span>, <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>,</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;                       <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Print index-based devirtualization messages&quot;</span>));</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;<span class="comment">/// Provide a way to force enable whole program visibility in tests.</span></div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;<span class="comment">/// This is needed to support legacy tests that don&#39;t contain</span></div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;<span class="comment">/// !vcall_visibility metadata (the mere presense of type tests</span></div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;<span class="comment">/// previously implied hidden visibility).</span></div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a></div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    <a class="code" href="WholeProgramDevirt_8cpp.html#a09aa44ba0a37c23ebb70a447f004645a">WholeProgramVisibility</a>(<span class="stringliteral">&quot;whole-program-visibility&quot;</span>, <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>,</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;                           <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Enable whole program visibility&quot;</span>));</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;<span class="comment">/// Provide a way to force disable whole program for debugging or workarounds,</span></div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;<span class="comment">/// when enabled via the linker.</span></div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a> <a class="code" href="WholeProgramDevirt_8cpp.html#aab71164459dcf6010a84f5968f1f05a5">DisableWholeProgramVisibility</a>(</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    <span class="stringliteral">&quot;disable-whole-program-visibility&quot;</span>, <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>,</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Disable whole program visibility (overrides enabling options)&quot;</span>));</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;<span class="comment">/// Provide way to prevent certain function from being devirtualized</span></div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1list.html">cl::list&lt;std::string&gt;</a></div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    <a class="code" href="WholeProgramDevirt_8cpp.html#a5f82072adfb8567901f8e70a68ea1af7">SkipFunctionNames</a>(<span class="stringliteral">&quot;wholeprogramdevirt-skip&quot;</span>,</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;                      <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Prevent function(s) from being devirtualized&quot;</span>),</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;                      <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>, <a class="code" href="namespacellvm_1_1cl.html#ac96f30ba8b117dbd380b88ab8a03732baa2d228ea7bc126361de56c03e7edc3a8">cl::CommaSeparated</a>);</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;<span class="comment">/// Mechanism to add runtime checking of devirtualization decisions, optionally</span></div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;<span class="comment">/// trapping or falling back to indirect call on any that are not correct.</span></div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;<span class="comment">/// Trapping mode is useful for debugging undefined behavior leading to failures</span></div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;<span class="comment">/// with WPD. Fallback mode is useful for ensuring safety when whole program</span></div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;<span class="comment">/// visibility may be compromised.</span></div>
<div class="line"><a name="l00180"></a><span class="lineno"><a class="line" href="WholeProgramDevirt_8cpp.html#a0e65aef39009b683d7acb5884ae47421">  180</a></span>&#160;<span class="comment"></span><span class="keyword">enum</span> <a class="code" href="WholeProgramDevirt_8cpp.html#a0e65aef39009b683d7acb5884ae47421">WPDCheckMode</a> { <a class="code" href="namespacellvm.html#aebf1ed936ad0e792e159d7a4ae1b7f07">None</a>, Trap, <a class="code" href="WholeProgramDevirt_8cpp.html#a0e65aef39009b683d7acb5884ae47421aad98505ec3c6cabbb406c37037410854">Fallback</a> };</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;WPDCheckMode&gt;</a> <a class="code" href="WholeProgramDevirt_8cpp.html#addb6a617cedbc1f40ead7688012ee5b3">DevirtCheckMode</a>(</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    <span class="stringliteral">&quot;wholeprogramdevirt-check&quot;</span>, <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>,</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Type of checking for incorrect devirtualizations&quot;</span>),</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    <a class="code" href="namespacellvm_1_1cl.html#a8fa743aa76b6902028f8a643dfb87171">cl::values</a>(<a class="code" href="CommandLine_8h.html#a187fd767976b311c09dff5e05ac0c1bc">clEnumValN</a>(<a class="code" href="WholeProgramDevirt_8cpp.html#a0e65aef39009b683d7acb5884ae47421ac9d3e887722f2bc482bcca9d41c512af">WPDCheckMode::None</a>, <span class="stringliteral">&quot;none&quot;</span>, <span class="stringliteral">&quot;No checking&quot;</span>),</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;               <a class="code" href="CommandLine_8h.html#a187fd767976b311c09dff5e05ac0c1bc">clEnumValN</a>(<a class="code" href="WholeProgramDevirt_8cpp.html#a0e65aef39009b683d7acb5884ae47421a178e499decd0c21272bc34e4b3056eab">WPDCheckMode::Trap</a>, <span class="stringliteral">&quot;trap&quot;</span>, <span class="stringliteral">&quot;Trap when incorrect&quot;</span>),</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;               <a class="code" href="CommandLine_8h.html#a187fd767976b311c09dff5e05ac0c1bc">clEnumValN</a>(<a class="code" href="WholeProgramDevirt_8cpp.html#a0e65aef39009b683d7acb5884ae47421aad98505ec3c6cabbb406c37037410854">WPDCheckMode::Fallback</a>, <span class="stringliteral">&quot;fallback&quot;</span>,</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;                          <span class="stringliteral">&quot;Fallback to indirect when incorrect&quot;</span>)));</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160; </div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;<span class="keyword">struct </span>PatternList {</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;  std::vector&lt;GlobPattern&gt; Patterns;</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt; <span class="keywordtype">void</span> <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">init</a>(<span class="keyword">const</span> <a class="code" href="classT.html">T</a> &amp;StringList) {</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> : StringList)</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Expected.html">Expected&lt;GlobPattern&gt;</a> Pat = <a class="code" href="classllvm_1_1GlobPattern.html#acfcab3a1df3f61c5ff0ffd1d6a1125b3">GlobPattern::create</a>(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>))</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;        Patterns.push_back(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(*Pat));</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;  }</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="classllvm_1_1StringRef.html">StringRef</a> <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>) {</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1GlobPattern.html">GlobPattern</a> &amp;<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> : Patterns)</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.match(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>))</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;  }</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;};</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;} <span class="comment">// namespace</span></div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160; </div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;<span class="comment">// Find the minimum offset that we may store a value of size Size bits at. If</span></div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;<span class="comment">// IsAfter is set, look for an offset before the object, otherwise look for an</span></div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;<span class="comment">// offset after the object.</span></div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;<a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a></div>
<div class="line"><a name="l00210"></a><span class="lineno"><a class="line" href="namespacellvm_1_1wholeprogramdevirt.html#a8ab22ea42eaf359bb9eb8382c0afc616">  210</a></span>&#160;<a class="code" href="namespacellvm_1_1wholeprogramdevirt.html#a8ab22ea42eaf359bb9eb8382c0afc616">wholeprogramdevirt::findLowestOffset</a>(<a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;VirtualCallTarget&gt;</a> Targets,</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;                                     <span class="keywordtype">bool</span> IsAfter, <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> Size) {</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;  <span class="comment">// Find a minimum offset taking into account only vtable sizes.</span></div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;  <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> MinByte = 0;</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="structllvm_1_1wholeprogramdevirt_1_1VirtualCallTarget.html">VirtualCallTarget</a> &amp;<a class="code" href="classllvm_1_1Target.html">Target</a> : Targets) {</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    <span class="keywordflow">if</span> (IsAfter)</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;      MinByte = <a class="code" href="namespacellvm.html#ab4d4bc901fedd8857f647dcc2c0d71de">std::max</a>(MinByte, <a class="code" href="classllvm_1_1Target.html">Target</a>.minAfterBytes());</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;      MinByte = <a class="code" href="namespacellvm.html#ab4d4bc901fedd8857f647dcc2c0d71de">std::max</a>(MinByte, <a class="code" href="classllvm_1_1Target.html">Target</a>.minBeforeBytes());</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;  }</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160; </div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;  <span class="comment">// Build a vector of arrays of bytes covering, for each target, a slice of the</span></div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;  <span class="comment">// used region (see AccumBitVector::BytesUsed in</span></div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;  <span class="comment">// llvm/Transforms/IPO/WholeProgramDevirt.h) starting at MinByte. Effectively,</span></div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;  <span class="comment">// this aligns the used regions to start at MinByte.</span></div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;  <span class="comment">// In this example, A, B and C are vtables, # is a byte already allocated for</span></div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;  <span class="comment">// a virtual function pointer, AAAA... (etc.) are the used regions for the</span></div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;  <span class="comment">// vtables and Offset(X) is the value computed for the Offset variable below</span></div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;  <span class="comment">// for X.</span></div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;  <span class="comment">//                    Offset(A)</span></div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;  <span class="comment">//                    |       |</span></div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;  <span class="comment">//                            |MinByte</span></div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;  <span class="comment">// A: ################AAAAAAAA|AAAAAAAA</span></div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;  <span class="comment">// B: ########BBBBBBBBBBBBBBBB|BBBB</span></div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;  <span class="comment">// C: ########################|CCCCCCCCCCCCCCCC</span></div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;  <span class="comment">//            |   Offset(B)   |</span></div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;  <span class="comment">// This code produces the slices of A, B and C that appear after the divider</span></div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;  <span class="comment">// at MinByte.</span></div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;  std::vector&lt;ArrayRef&lt;uint8_t&gt;&gt; Used;</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="structllvm_1_1wholeprogramdevirt_1_1VirtualCallTarget.html">VirtualCallTarget</a> &amp;<a class="code" href="classllvm_1_1Target.html">Target</a> : Targets) {</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;uint8_t&gt;</a> VTUsed = IsAfter ? <a class="code" href="classllvm_1_1Target.html">Target</a>.TM-&gt;Bits-&gt;After.BytesUsed</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;                                       : <a class="code" href="classllvm_1_1Target.html">Target</a>.TM-&gt;Bits-&gt;Before.BytesUsed;</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> Offset = IsAfter ? MinByte - <a class="code" href="classllvm_1_1Target.html">Target</a>.minAfterBytes()</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;                              : MinByte - <a class="code" href="classllvm_1_1Target.html">Target</a>.minBeforeBytes();</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160; </div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    <span class="comment">// Disregard used regions that are smaller than Offset. These are</span></div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    <span class="comment">// effectively all-free regions that do not need to be checked.</span></div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    <span class="keywordflow">if</span> (VTUsed.<a class="code" href="classllvm_1_1ArrayRef.html#a85ffb6531d4cda988ea81f18d4e56fb7">size</a>() &gt; Offset)</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;      Used.push_back(VTUsed.<a class="code" href="classllvm_1_1ArrayRef.html#ace7bdce94e806bb8870626657630dab0">slice</a>(Offset));</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;  }</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160; </div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;  <span class="keywordflow">if</span> (Size == 1) {</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    <span class="comment">// Find a free bit in each member of Used.</span></div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 0;; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;      uint8_t BitsUsed = 0;</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;&amp;<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a> : Used)</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> &lt; <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>.size())</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;          BitsUsed |= <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>];</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;      <span class="keywordflow">if</span> (BitsUsed != 0xff)</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;        <span class="keywordflow">return</span> (MinByte + <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) * 8 + <a class="code" href="namespacellvm.html#a57d2f9ee99e9e68cff564d0d579c8163">llvm::countr_zero</a>(uint8_t(~BitsUsed));</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    }</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    <span class="comment">// Find a free (Size/8) byte region in each member of Used.</span></div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    <span class="comment">// FIXME: see if alignment helps.</span></div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 0;; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;&amp;<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a> : Used) {</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;        <span class="keywordtype">unsigned</span> Byte = 0;</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;        <span class="keywordflow">while</span> ((<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> + Byte) &lt; <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>.size() &amp;&amp; Byte &lt; (Size / 8)) {</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> + Byte])</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;            <span class="keywordflow">goto</span> NextI;</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;          ++Byte;</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;        }</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;      }</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;      <span class="keywordflow">return</span> (MinByte + <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) * 8;</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    NextI:;</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    }</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;  }</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;}</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160; </div>
<div class="line"><a name="l00282"></a><span class="lineno"><a class="line" href="namespacellvm_1_1wholeprogramdevirt.html#aec5b7edd995ed899e28075c82b29b360">  282</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacellvm_1_1wholeprogramdevirt.html#aec5b7edd995ed899e28075c82b29b360">wholeprogramdevirt::setBeforeReturnValues</a>(</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    <a class="code" href="classllvm_1_1MutableArrayRef.html">MutableArrayRef&lt;VirtualCallTarget&gt;</a> Targets, <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> AllocBefore,</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>, int64_t &amp;OffsetByte, <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> &amp;OffsetBit) {</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> == 1)</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    OffsetByte = -(AllocBefore / 8 + 1);</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    OffsetByte = -((AllocBefore + 7) / 8 + (<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> + 7) / 8);</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;  OffsetBit = AllocBefore % 8;</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160; </div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="structllvm_1_1wholeprogramdevirt_1_1VirtualCallTarget.html">VirtualCallTarget</a> &amp;<a class="code" href="classllvm_1_1Target.html">Target</a> : Targets) {</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> == 1)</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;      <a class="code" href="classllvm_1_1Target.html">Target</a>.setBeforeBit(AllocBefore);</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;      <a class="code" href="classllvm_1_1Target.html">Target</a>.setBeforeBytes(AllocBefore, (<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> + 7) / 8);</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;  }</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;}</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160; </div>
<div class="line"><a name="l00299"></a><span class="lineno"><a class="line" href="namespacellvm_1_1wholeprogramdevirt.html#adbbe3d32693c7f00b25a8574e596cde8">  299</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacellvm_1_1wholeprogramdevirt.html#adbbe3d32693c7f00b25a8574e596cde8">wholeprogramdevirt::setAfterReturnValues</a>(</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    <a class="code" href="classllvm_1_1MutableArrayRef.html">MutableArrayRef&lt;VirtualCallTarget&gt;</a> Targets, <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> AllocAfter,</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>, int64_t &amp;OffsetByte, <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> &amp;OffsetBit) {</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> == 1)</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    OffsetByte = AllocAfter / 8;</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    OffsetByte = (AllocAfter + 7) / 8;</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;  OffsetBit = AllocAfter % 8;</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160; </div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="structllvm_1_1wholeprogramdevirt_1_1VirtualCallTarget.html">VirtualCallTarget</a> &amp;<a class="code" href="classllvm_1_1Target.html">Target</a> : Targets) {</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> == 1)</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;      <a class="code" href="classllvm_1_1Target.html">Target</a>.setAfterBit(AllocAfter);</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;      <a class="code" href="classllvm_1_1Target.html">Target</a>.setAfterBytes(AllocAfter, (<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> + 7) / 8);</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;  }</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;}</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160; </div>
<div class="line"><a name="l00316"></a><span class="lineno"><a class="line" href="structllvm_1_1wholeprogramdevirt_1_1VirtualCallTarget.html#a8ffb6a27ddb40038bb7d2af62edbc6d9">  316</a></span>&#160;<a class="code" href="structllvm_1_1wholeprogramdevirt_1_1VirtualCallTarget.html#a8ffb6a27ddb40038bb7d2af62edbc6d9">VirtualCallTarget::VirtualCallTarget</a>(<a class="code" href="classllvm_1_1Function.html">Function</a> *Fn, <span class="keyword">const</span> <a class="code" href="structllvm_1_1wholeprogramdevirt_1_1TypeMemberInfo.html">TypeMemberInfo</a> *<a class="code" href="PassBuilderBindings_8cpp.html#ab76052bb166c65901edb603a3e1f03ab">TM</a>)</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    : Fn(Fn), <a class="code" href="PassBuilderBindings_8cpp.html#ab76052bb166c65901edb603a3e1f03ab">TM</a>(<a class="code" href="PassBuilderBindings_8cpp.html#ab76052bb166c65901edb603a3e1f03ab">TM</a>),</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;      IsBigEndian(Fn-&gt;<a class="code" href="BasicAliasAnalysis_8cpp.html#a2675de1d8479c7b00387979714da43f7">getParent</a>()-&gt;getDataLayout().<a class="code" href="CombinerHelper_8cpp.html#a4743a8a472e0491e534c1efd2935a1a9">isBigEndian</a>()), WasDevirt(<a class="code" href="namespacefalse.html">false</a>) {}</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160; </div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160; </div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;<span class="comment">// A slot in a set of virtual tables. The TypeID identifies the set of virtual</span></div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;<span class="comment">// tables, and the ByteOffset is the offset in bytes from the address point to</span></div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;<span class="comment">// the virtual function pointer.</span></div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;<span class="keyword">struct </span>VTableSlot {</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;  <a class="code" href="classllvm_1_1Metadata.html">Metadata</a> *<a class="code" href="Mips16HardFloat_8cpp.html#a80cca3528193bd0d53e43a6d030f0ea0">TypeID</a>;</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;  <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> ByteOffset;</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;};</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160; </div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;} <span class="comment">// end anonymous namespace</span></div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160; </div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacellvm.html">llvm</a> {</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160; </div>
<div class="line"><a name="l00334"></a><span class="lineno"><a class="line" href="structllvm_1_1DenseMapInfo_3_01VTableSlot_01_4.html">  334</a></span>&#160;<span class="keyword">template</span> &lt;&gt; <span class="keyword">struct </span><a class="code" href="structllvm_1_1DenseMapInfo.html">DenseMapInfo</a>&lt;VTableSlot&gt; {</div>
<div class="line"><a name="l00335"></a><span class="lineno"><a class="line" href="structllvm_1_1DenseMapInfo_3_01VTableSlot_01_4.html#a24348df7590289de0c324dfb6994fa1a">  335</a></span>&#160;  <span class="keyword">static</span> VTableSlot <a class="code" href="structllvm_1_1DenseMapInfo_3_01VTableSlot_01_4.html#a24348df7590289de0c324dfb6994fa1a">getEmptyKey</a>() {</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    <span class="keywordflow">return</span> {<a class="code" href="structllvm_1_1DenseMapInfo.html">DenseMapInfo&lt;Metadata *&gt;::getEmptyKey</a>(),</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;            <a class="code" href="structllvm_1_1DenseMapInfo.html">DenseMapInfo&lt;uint64_t&gt;::getEmptyKey</a>()};</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;  }</div>
<div class="line"><a name="l00339"></a><span class="lineno"><a class="line" href="structllvm_1_1DenseMapInfo_3_01VTableSlot_01_4.html#a1c80e25a1ca5f47d5db81fb5fe90b3c9">  339</a></span>&#160;  <span class="keyword">static</span> VTableSlot <a class="code" href="structllvm_1_1DenseMapInfo_3_01VTableSlot_01_4.html#a1c80e25a1ca5f47d5db81fb5fe90b3c9">getTombstoneKey</a>() {</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    <span class="keywordflow">return</span> {<a class="code" href="structllvm_1_1DenseMapInfo.html">DenseMapInfo&lt;Metadata *&gt;::getTombstoneKey</a>(),</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;            <a class="code" href="structllvm_1_1DenseMapInfo.html">DenseMapInfo&lt;uint64_t&gt;::getTombstoneKey</a>()};</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;  }</div>
<div class="line"><a name="l00343"></a><span class="lineno"><a class="line" href="structllvm_1_1DenseMapInfo_3_01VTableSlot_01_4.html#af4a2d208e6fb17c220461fd87d8b8a62">  343</a></span>&#160;  <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <a class="code" href="structllvm_1_1DenseMapInfo_3_01VTableSlot_01_4.html#af4a2d208e6fb17c220461fd87d8b8a62">getHashValue</a>(<span class="keyword">const</span> VTableSlot &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="structllvm_1_1DenseMapInfo.html">DenseMapInfo&lt;Metadata *&gt;::getHashValue</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.TypeID) ^</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;           <a class="code" href="structllvm_1_1DenseMapInfo.html">DenseMapInfo&lt;uint64_t&gt;::getHashValue</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.ByteOffset);</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;  }</div>
<div class="line"><a name="l00347"></a><span class="lineno"><a class="line" href="structllvm_1_1DenseMapInfo_3_01VTableSlot_01_4.html#ac275573a4efb8234904988c491c2a2ea">  347</a></span>&#160;  <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="structllvm_1_1DenseMapInfo_3_01VTableSlot_01_4.html#ac275573a4efb8234904988c491c2a2ea">isEqual</a>(<span class="keyword">const</span> VTableSlot &amp;<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>,</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;                      <span class="keyword">const</span> VTableSlot &amp;<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>) {</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>.TypeID == <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>.TypeID &amp;&amp; <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>.ByteOffset == <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>.ByteOffset;</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;  }</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;};</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160; </div>
<div class="line"><a name="l00353"></a><span class="lineno"><a class="line" href="structllvm_1_1DenseMapInfo_3_01VTableSlotSummary_01_4.html">  353</a></span>&#160;<span class="keyword">template</span> &lt;&gt; <span class="keyword">struct </span><a class="code" href="structllvm_1_1DenseMapInfo.html">DenseMapInfo</a>&lt;<a class="code" href="structllvm_1_1VTableSlotSummary.html">VTableSlotSummary</a>&gt; {</div>
<div class="line"><a name="l00354"></a><span class="lineno"><a class="line" href="structllvm_1_1DenseMapInfo_3_01VTableSlotSummary_01_4.html#ae865988944d12c74816611b169387dd1">  354</a></span>&#160;  <span class="keyword">static</span> <a class="code" href="structllvm_1_1VTableSlotSummary.html">VTableSlotSummary</a> <a class="code" href="structllvm_1_1DenseMapInfo_3_01VTableSlotSummary_01_4.html#ae865988944d12c74816611b169387dd1">getEmptyKey</a>() {</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    <span class="keywordflow">return</span> {<a class="code" href="structllvm_1_1DenseMapInfo.html">DenseMapInfo&lt;StringRef&gt;::getEmptyKey</a>(),</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;            <a class="code" href="structllvm_1_1DenseMapInfo.html">DenseMapInfo&lt;uint64_t&gt;::getEmptyKey</a>()};</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;  }</div>
<div class="line"><a name="l00358"></a><span class="lineno"><a class="line" href="structllvm_1_1DenseMapInfo_3_01VTableSlotSummary_01_4.html#ad09107f738d6745fda7cb3ba4cfb6224">  358</a></span>&#160;  <span class="keyword">static</span> <a class="code" href="structllvm_1_1VTableSlotSummary.html">VTableSlotSummary</a> <a class="code" href="structllvm_1_1DenseMapInfo_3_01VTableSlotSummary_01_4.html#ad09107f738d6745fda7cb3ba4cfb6224">getTombstoneKey</a>() {</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;    <span class="keywordflow">return</span> {<a class="code" href="structllvm_1_1DenseMapInfo.html">DenseMapInfo&lt;StringRef&gt;::getTombstoneKey</a>(),</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;            <a class="code" href="structllvm_1_1DenseMapInfo.html">DenseMapInfo&lt;uint64_t&gt;::getTombstoneKey</a>()};</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;  }</div>
<div class="line"><a name="l00362"></a><span class="lineno"><a class="line" href="structllvm_1_1DenseMapInfo_3_01VTableSlotSummary_01_4.html#a521955039ce21eb486aefe1a705a7da3">  362</a></span>&#160;  <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <a class="code" href="structllvm_1_1DenseMapInfo_3_01VTableSlotSummary_01_4.html#a521955039ce21eb486aefe1a705a7da3">getHashValue</a>(<span class="keyword">const</span> <a class="code" href="structllvm_1_1VTableSlotSummary.html">VTableSlotSummary</a> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="structllvm_1_1DenseMapInfo.html">DenseMapInfo&lt;StringRef&gt;::getHashValue</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.TypeID) ^</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;           <a class="code" href="structllvm_1_1DenseMapInfo.html">DenseMapInfo&lt;uint64_t&gt;::getHashValue</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.ByteOffset);</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;  }</div>
<div class="line"><a name="l00366"></a><span class="lineno"><a class="line" href="structllvm_1_1DenseMapInfo_3_01VTableSlotSummary_01_4.html#acf42248bcf4df8d7901dd4305ff8a1d9">  366</a></span>&#160;  <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="structllvm_1_1DenseMapInfo_3_01VTableSlotSummary_01_4.html#acf42248bcf4df8d7901dd4305ff8a1d9">isEqual</a>(<span class="keyword">const</span> <a class="code" href="structllvm_1_1VTableSlotSummary.html">VTableSlotSummary</a> &amp;<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>,</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;                      <span class="keyword">const</span> <a class="code" href="structllvm_1_1VTableSlotSummary.html">VTableSlotSummary</a> &amp;<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>) {</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>.TypeID == <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>.TypeID &amp;&amp; <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>.ByteOffset == <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>.ByteOffset;</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;  }</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;};</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160; </div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;} <span class="comment">// end namespace llvm</span></div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160; </div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160; </div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;<span class="comment">// Returns true if the function must be unreachable based on ValueInfo.</span></div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;<span class="comment">// In particular, identifies a function as unreachable in the following</span></div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;<span class="comment">// conditions</span></div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;<span class="comment">//   1) All summaries are live.</span></div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;<span class="comment">//   2) All function summaries indicate it&#39;s unreachable</span></div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="ModuleSummaryAnalysis_8cpp.html#aaeceda7c9243e01a0888f44e2f3e7ba3">mustBeUnreachableFunction</a>(<a class="code" href="structllvm_1_1ValueInfo.html">ValueInfo</a> TheFnVI) {</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;  <span class="keywordflow">if</span> ((!TheFnVI) || TheFnVI.<a class="code" href="structllvm_1_1ValueInfo.html#a739c29bde92d1f2335367a1279e74898">getSummaryList</a>().empty()) {</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    <span class="comment">// Returns false if ValueInfo is absent, or the summary list is empty</span></div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    <span class="comment">// (e.g., function declarations).</span></div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;  }</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160; </div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;Summary : TheFnVI.<a class="code" href="structllvm_1_1ValueInfo.html#a739c29bde92d1f2335367a1279e74898">getSummaryList</a>()) {</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    <span class="comment">// Conservatively returns false if any non-live functions are seen.</span></div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    <span class="comment">// In general either all summaries should be live or all should be dead.</span></div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1logicalview.html#a8d87e69e124542d3338b631934cdbea9a290612199861c31d1036b185b4e69b75">Summary</a>-&gt;isLive())</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> *<a class="code" href="namespacellvm_1_1X86AS.html#aea2591d7d017866934bcf72ee3dc8a31a5b3a782ccae295a254e2794ad30ad07f">FS</a> = dyn_cast&lt;FunctionSummary&gt;(<a class="code" href="namespacellvm_1_1logicalview.html#a8d87e69e124542d3338b631934cdbea9a290612199861c31d1036b185b4e69b75">Summary</a>.get())) {</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1X86AS.html#aea2591d7d017866934bcf72ee3dc8a31a5b3a782ccae295a254e2794ad30ad07f">FS</a>-&gt;fflags().MustBeUnreachable)</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;    }</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;    <span class="comment">// Do nothing if a non-function has the same GUID (which is rare).</span></div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;    <span class="comment">// This is correct since non-function summaries are not relevant.</span></div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;  }</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;  <span class="comment">// All function summaries are live and all of them agree that the function is</span></div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;  <span class="comment">// unreachble.</span></div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;}</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160; </div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;<span class="comment">// A virtual call site. VTable is the loaded virtual table pointer, and CS is</span></div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;<span class="comment">// the indirect virtual call.</span></div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;<span class="keyword">struct </span>VirtualCallSite {</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1pdb.html#a33e853ec74d48b1340d1d4bae772d30ba5fe1b444a36c9acc94c001c1add97722">VTable</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;  <a class="code" href="classllvm_1_1CallBase.html">CallBase</a> &amp;CB;</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160; </div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;  <span class="comment">// If non-null, this field points to the associated unsafe use count stored in</span></div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;  <span class="comment">// the DevirtModule::NumUnsafeUsesForTypeTest map below. See the description</span></div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;  <span class="comment">// of that field for details.</span></div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;  <span class="keywordtype">unsigned</span> *NumUnsafeUses = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160; </div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;  <span class="keywordtype">void</span></div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;  emitRemark(<span class="keyword">const</span> <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> OptName, <span class="keyword">const</span> <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> TargetName,</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;             <a class="code" href="classllvm_1_1function__ref.html">function_ref</a>&lt;<a class="code" href="classllvm_1_1OptimizationRemarkEmitter.html">OptimizationRemarkEmitter</a> &amp;(<a class="code" href="classllvm_1_1Function.html">Function</a> *)&gt; OREGetter) {</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;    <a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> = CB.<a class="code" href="classllvm_1_1CallBase.html#afac5b39bcbb90d660f83d9b4bd8c6d95">getCaller</a>();</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> DLoc = CB.<a class="code" href="classllvm_1_1Instruction.html#ab4f3bf98b5054831b608852e33427814">getDebugLoc</a>();</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;    <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="namespacellvm_1_1pdb.html#a33e853ec74d48b1340d1d4bae772d30bae1e4c8c9ccd9fc39c391da4bcd093fb2">Block</a> = CB.<a class="code" href="classllvm_1_1Instruction.html#a1a7f07aaef6a3bee130bf0e0f0536802">getParent</a>();</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160; </div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;    <span class="keyword">using namespace </span>ore;</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;    OREGetter(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>).emit(<a class="code" href="classllvm_1_1OptimizationRemark.html">OptimizationRemark</a>(<a class="code" href="WholeProgramDevirt_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">DEBUG_TYPE</a>, OptName, DLoc, Block)</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;                      &lt;&lt; <a class="code" href="namespacellvm_1_1ore.html#a8f5533240c6722d987a2443cba42019d">NV</a>(<span class="stringliteral">&quot;Optimization&quot;</span>, OptName)</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;                      &lt;&lt; <span class="stringliteral">&quot;: devirtualized a call to &quot;</span></div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;                      &lt;&lt; <a class="code" href="namespacellvm_1_1ore.html#a8f5533240c6722d987a2443cba42019d">NV</a>(<span class="stringliteral">&quot;FunctionName&quot;</span>, TargetName));</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;  }</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160; </div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;  <span class="keywordtype">void</span> replaceAndErase(</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> OptName, <span class="keyword">const</span> <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> TargetName, <span class="keywordtype">bool</span> RemarksEnabled,</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;      <a class="code" href="classllvm_1_1function__ref.html">function_ref</a>&lt;<a class="code" href="classllvm_1_1OptimizationRemarkEmitter.html">OptimizationRemarkEmitter</a> &amp;(<a class="code" href="classllvm_1_1Function.html">Function</a> *)&gt; OREGetter,</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *New) {</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;    <span class="keywordflow">if</span> (RemarksEnabled)</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;      emitRemark(OptName, TargetName, OREGetter);</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    CB.<a class="code" href="classllvm_1_1Value.html#a3ab5fc45117b450e8bb04e564cb6e5f2">replaceAllUsesWith</a>(New);</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> *II = dyn_cast&lt;InvokeInst&gt;(&amp;CB)) {</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;      <a class="code" href="classllvm_1_1BranchInst.html#a38df51256d4b415b6a817b5e1c6d4d36">BranchInst::Create</a>(II-&gt;getNormalDest(), &amp;CB);</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;      II-&gt;getUnwindDest()-&gt;removePredecessor(II-&gt;getParent());</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;    }</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;    CB.<a class="code" href="classllvm_1_1Instruction.html#ae6b978645b8ac72d1a35e1298ffdd4f0">eraseFromParent</a>();</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    <span class="comment">// This use is no longer unsafe.</span></div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;    <span class="keywordflow">if</span> (NumUnsafeUses)</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;      --*NumUnsafeUses;</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;  }</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;};</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160; </div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;<span class="comment">// Call site information collected for a specific VTableSlot and possibly a list</span></div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;<span class="comment">// of constant integer arguments. The grouping by arguments is handled by the</span></div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;<span class="comment">// VTableSlotInfo class.</span></div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;<span class="keyword">struct </span>CallSiteInfo {<span class="comment"></span></div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;<span class="comment">  /// The set of call sites for this slot. Used during regular LTO and the</span></div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;<span class="comment">  /// import phase of ThinLTO (as well as the export phase of ThinLTO for any</span></div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;<span class="comment">  /// call sites that appear in the merged module itself); in each of these</span></div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;<span class="comment">  /// cases we are directly operating on the call sites at the IR level.</span></div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;<span class="comment"></span>  std::vector&lt;VirtualCallSite&gt; CallSites;</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;<span class="comment">  /// Whether all call sites represented by this CallSiteInfo, including those</span></div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;<span class="comment">  /// in summaries, have been devirtualized. This starts off as true because a</span></div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;<span class="comment">  /// default constructed CallSiteInfo represents no call sites.</span></div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;<span class="comment"></span>  <span class="keywordtype">bool</span> AllCallSitesDevirted = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160; </div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;  <span class="comment">// These fields are used during the export phase of ThinLTO and reflect</span></div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;  <span class="comment">// information collected from function summaries.</span></div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;<span class="comment">  /// Whether any function summary contains an llvm.assume(llvm.type.test) for</span></div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;<span class="comment">  /// this slot.</span></div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;<span class="comment"></span>  <span class="keywordtype">bool</span> SummaryHasTypeTestAssumeUsers = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;<span class="comment">  /// CFI-specific: a vector containing the list of function summaries that use</span></div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;<span class="comment">  /// the llvm.type.checked.load intrinsic and therefore will require</span></div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;<span class="comment">  /// resolutions for llvm.type.test in order to implement CFI checks if</span></div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;<span class="comment">  /// devirtualization was unsuccessful. If devirtualization was successful, the</span></div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;<span class="comment">  /// pass will clear this vector by calling markDevirt(). If at the end of the</span></div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;<span class="comment">  /// pass the vector is non-empty, we will need to add a use of llvm.type.test</span></div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;<span class="comment">  /// to each of the function summaries in the vector.</span></div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;<span class="comment"></span>  std::vector&lt;FunctionSummary *&gt; SummaryTypeCheckedLoadUsers;</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;  std::vector&lt;FunctionSummary *&gt; SummaryTypeTestAssumeUsers;</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160; </div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;  <span class="keywordtype">bool</span> isExported()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;    <span class="keywordflow">return</span> SummaryHasTypeTestAssumeUsers ||</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;           !SummaryTypeCheckedLoadUsers.empty();</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;  }</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160; </div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;  <span class="keywordtype">void</span> addSummaryTypeCheckedLoadUser(<a class="code" href="classllvm_1_1FunctionSummary.html">FunctionSummary</a> *<a class="code" href="namespacellvm_1_1X86AS.html#aea2591d7d017866934bcf72ee3dc8a31a5b3a782ccae295a254e2794ad30ad07f">FS</a>) {</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;    SummaryTypeCheckedLoadUsers.push_back(<a class="code" href="namespacellvm_1_1X86AS.html#aea2591d7d017866934bcf72ee3dc8a31a5b3a782ccae295a254e2794ad30ad07f">FS</a>);</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;    AllCallSitesDevirted = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;  }</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160; </div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;  <span class="keywordtype">void</span> addSummaryTypeTestAssumeUser(<a class="code" href="classllvm_1_1FunctionSummary.html">FunctionSummary</a> *<a class="code" href="namespacellvm_1_1X86AS.html#aea2591d7d017866934bcf72ee3dc8a31a5b3a782ccae295a254e2794ad30ad07f">FS</a>) {</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;    SummaryTypeTestAssumeUsers.push_back(<a class="code" href="namespacellvm_1_1X86AS.html#aea2591d7d017866934bcf72ee3dc8a31a5b3a782ccae295a254e2794ad30ad07f">FS</a>);</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;    SummaryHasTypeTestAssumeUsers = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;    AllCallSitesDevirted = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;  }</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160; </div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;  <span class="keywordtype">void</span> markDevirt() {</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;    AllCallSitesDevirted = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160; </div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;    <span class="comment">// As explained in the comment for SummaryTypeCheckedLoadUsers.</span></div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;    SummaryTypeCheckedLoadUsers.clear();</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;  }</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;};</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160; </div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;<span class="comment">// Call site information collected for a specific VTableSlot.</span></div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;<span class="keyword">struct </span>VTableSlotInfo {</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;  <span class="comment">// The set of call sites which do not have all constant integer arguments</span></div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;  <span class="comment">// (excluding &quot;this&quot;).</span></div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;  CallSiteInfo CSInfo;</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160; </div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;  <span class="comment">// The set of call sites with all constant integer arguments (excluding</span></div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;  <span class="comment">// &quot;this&quot;), grouped by argument list.</span></div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;  std::map&lt;std::vector&lt;uint64_t&gt;, CallSiteInfo&gt; ConstCSInfo;</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160; </div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;  <span class="keywordtype">void</span> addCallSite(<a class="code" href="classllvm_1_1Value.html">Value</a> *VTable, <a class="code" href="classllvm_1_1CallBase.html">CallBase</a> &amp;CB, <span class="keywordtype">unsigned</span> *NumUnsafeUses);</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160; </div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;<span class="keyword">private</span>:</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;  CallSiteInfo &amp;findCallSiteInfo(<a class="code" href="classllvm_1_1CallBase.html">CallBase</a> &amp;CB);</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;};</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160; </div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;CallSiteInfo &amp;VTableSlotInfo::findCallSiteInfo(<a class="code" href="classllvm_1_1CallBase.html">CallBase</a> &amp;CB) {</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;  std::vector&lt;uint64_t&gt; <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>;</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;  <span class="keyword">auto</span> *CBType = dyn_cast&lt;IntegerType&gt;(CB.<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;  <span class="keywordflow">if</span> (!CBType || CBType-&gt;getBitWidth() &gt; 64 || CB.<a class="code" href="classllvm_1_1CallBase.html#a0efb2d7a831e24212063c504045d3203">arg_empty</a>())</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;    <span class="keywordflow">return</span> CSInfo;</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;&amp;<a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a> : <a class="code" href="namespacellvm.html#a02981de53fb6ffd384d39addc4d25f37">drop_begin</a>(CB.<a class="code" href="classllvm_1_1CallBase.html#ac63dbb4994494c46f025715272cdb81e">args</a>())) {</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;    <span class="keyword">auto</span> *CI = dyn_cast&lt;ConstantInt&gt;(<a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>);</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;    <span class="keywordflow">if</span> (!CI || CI-&gt;getBitWidth() &gt; 64)</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;      <span class="keywordflow">return</span> CSInfo;</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;    <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>.push_back(CI-&gt;getZExtValue());</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;  }</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;  <span class="keywordflow">return</span> ConstCSInfo[<a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>];</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;}</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160; </div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;<span class="keywordtype">void</span> VTableSlotInfo::addCallSite(<a class="code" href="classllvm_1_1Value.html">Value</a> *VTable, <a class="code" href="classllvm_1_1CallBase.html">CallBase</a> &amp;CB,</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;                                 <span class="keywordtype">unsigned</span> *NumUnsafeUses) {</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;  <span class="keyword">auto</span> &amp;CSI = findCallSiteInfo(CB);</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;  CSI.AllCallSitesDevirted = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;  CSI.CallSites.push_back({<a class="code" href="namespacellvm_1_1pdb.html#a33e853ec74d48b1340d1d4bae772d30ba5fe1b444a36c9acc94c001c1add97722">VTable</a>, CB, NumUnsafeUses});</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;}</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160; </div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;<span class="keyword">struct </span>DevirtModule {</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;  <a class="code" href="classllvm_1_1Module.html">Module</a> &amp;<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>;</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;  <a class="code" href="classllvm_1_1function__ref.html">function_ref</a>&lt;<a class="code" href="classllvm_1_1AAResults.html">AAResults</a> &amp;(<a class="code" href="classllvm_1_1Function.html">Function</a> &amp;)&gt; AARGetter;</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;  <a class="code" href="classllvm_1_1function__ref.html">function_ref</a>&lt;<a class="code" href="classllvm_1_1DominatorTree.html">DominatorTree</a> &amp;(<a class="code" href="classllvm_1_1Function.html">Function</a> &amp;)&gt; LookupDomTree;</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160; </div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;  <a class="code" href="classllvm_1_1ModuleSummaryIndex.html">ModuleSummaryIndex</a> *ExportSummary;</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1ModuleSummaryIndex.html">ModuleSummaryIndex</a> *ImportSummary;</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160; </div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;  <a class="code" href="classllvm_1_1IntegerType.html">IntegerType</a> *Int8Ty;</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;  <a class="code" href="classllvm_1_1PointerType.html">PointerType</a> *Int8PtrTy;</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;  <a class="code" href="classllvm_1_1IntegerType.html">IntegerType</a> *<a class="code" href="NVVMIntrRange_8cpp.html#abc8aecb5b627f6a91fc2fb09762d2a41">Int32Ty</a>;</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;  <a class="code" href="classllvm_1_1IntegerType.html">IntegerType</a> *Int64Ty;</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;  <a class="code" href="classllvm_1_1IntegerType.html">IntegerType</a> *IntPtrTy;<span class="comment"></span></div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;<span class="comment">  /// Sizeless array type, used for imported vtables. This provides a signal</span></div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;<span class="comment">  /// to analyzers that these imports may alias, as they do for example</span></div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;<span class="comment">  /// when multiple unique return values occur in the same vtable.</span></div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1ArrayType.html">ArrayType</a> *Int8Arr0Ty;</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160; </div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;  <span class="keywordtype">bool</span> RemarksEnabled;</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;  <a class="code" href="classllvm_1_1function__ref.html">function_ref</a>&lt;<a class="code" href="classllvm_1_1OptimizationRemarkEmitter.html">OptimizationRemarkEmitter</a> &amp;(<a class="code" href="classllvm_1_1Function.html">Function</a> *)&gt; OREGetter;</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160; </div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;  <a class="code" href="classllvm_1_1MapVector.html">MapVector&lt;VTableSlot, VTableSlotInfo&gt;</a> CallSlots;</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160; </div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;  <span class="comment">// Calls that have already been optimized. We may add a call to multiple</span></div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;  <span class="comment">// VTableSlotInfos if vtable loads are coalesced and need to make sure not to</span></div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;  <span class="comment">// optimize a call more than once.</span></div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;  <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;CallBase *, 8&gt;</a> OptimizedCalls;</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160; </div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;  <span class="comment">// This map keeps track of the number of &quot;unsafe&quot; uses of a loaded function</span></div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;  <span class="comment">// pointer. The key is the associated llvm.type.test intrinsic call generated</span></div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;  <span class="comment">// by this pass. An unsafe use is one that calls the loaded function pointer</span></div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;  <span class="comment">// directly. Every time we eliminate an unsafe use (for example, by</span></div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;  <span class="comment">// devirtualizing it or by applying virtual constant propagation), we</span></div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;  <span class="comment">// decrement the value stored in this map. If a value reaches zero, we can</span></div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;  <span class="comment">// eliminate the type check by RAUWing the associated llvm.type.test call with</span></div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;  <span class="comment">// true.</span></div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;  std::map&lt;CallInst *, unsigned&gt; NumUnsafeUsesForTypeTest;</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;  PatternList FunctionsToSkip;</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160; </div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;  DevirtModule(<a class="code" href="classllvm_1_1Module.html">Module</a> &amp;M, <a class="code" href="classllvm_1_1function__ref.html">function_ref</a>&lt;<a class="code" href="classllvm_1_1AAResults.html">AAResults</a> &amp;(<a class="code" href="classllvm_1_1Function.html">Function</a> &amp;)&gt; AARGetter,</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;               <a class="code" href="classllvm_1_1function__ref.html">function_ref</a>&lt;<a class="code" href="classllvm_1_1OptimizationRemarkEmitter.html">OptimizationRemarkEmitter</a> &amp;(<a class="code" href="classllvm_1_1Function.html">Function</a> *)&gt; OREGetter,</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;               <a class="code" href="classllvm_1_1function__ref.html">function_ref</a>&lt;<a class="code" href="classllvm_1_1DominatorTree.html">DominatorTree</a> &amp;(<a class="code" href="classllvm_1_1Function.html">Function</a> &amp;)&gt; LookupDomTree,</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;               <a class="code" href="classllvm_1_1ModuleSummaryIndex.html">ModuleSummaryIndex</a> *ExportSummary,</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;               <span class="keyword">const</span> <a class="code" href="classllvm_1_1ModuleSummaryIndex.html">ModuleSummaryIndex</a> *ImportSummary)</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;      : <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>), AARGetter(AARGetter), LookupDomTree(LookupDomTree),</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;        ExportSummary(ExportSummary), ImportSummary(ImportSummary),</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;        Int8Ty(<a class="code" href="classllvm_1_1Type.html">Type</a>::getInt8Ty(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getContext())),</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;        Int8PtrTy(<a class="code" href="classllvm_1_1Type.html">Type</a>::getInt8PtrTy(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getContext())),</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;        <a class="code" href="NVVMIntrRange_8cpp.html#abc8aecb5b627f6a91fc2fb09762d2a41">Int32Ty</a>(<a class="code" href="classllvm_1_1Type.html">Type</a>::getInt32Ty(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getContext())),</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;        Int64Ty(<a class="code" href="classllvm_1_1Type.html">Type</a>::getInt64Ty(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getContext())),</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;        IntPtrTy(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getDataLayout().getIntPtrType(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getContext(), 0)),</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;        Int8Arr0Ty(<a class="code" href="classllvm_1_1ArrayType.html">ArrayType</a>::<a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(<a class="code" href="classllvm_1_1Type.html">Type</a>::getInt8Ty(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getContext()), 0)),</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;        RemarksEnabled(areRemarksEnabled()), OREGetter(OREGetter) {</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!(ExportSummary &amp;&amp; ImportSummary));</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;    FunctionsToSkip.init(<a class="code" href="WholeProgramDevirt_8cpp.html#a5f82072adfb8567901f8e70a68ea1af7">SkipFunctionNames</a>);</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;  }</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160; </div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;  <span class="keywordtype">bool</span> areRemarksEnabled();</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160; </div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;  <span class="keywordtype">void</span></div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;  scanTypeTestUsers(<a class="code" href="classllvm_1_1Function.html">Function</a> *TypeTestFunc,</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;                    <a class="code" href="classllvm_1_1DenseMap.html">DenseMap</a>&lt;<a class="code" href="classllvm_1_1Metadata.html">Metadata</a> *, std::set&lt;TypeMemberInfo&gt;&gt; &amp;TypeIdMap);</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;  <span class="keywordtype">void</span> scanTypeCheckedLoadUsers(<a class="code" href="classllvm_1_1Function.html">Function</a> *TypeCheckedLoadFunc);</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160; </div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;  <span class="keywordtype">void</span> buildTypeIdentifierMap(</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;      std::vector&lt;VTableBits&gt; &amp;<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a3c0710aa6b054662f67b480712fa2b95">Bits</a>,</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;      <a class="code" href="classllvm_1_1DenseMap.html">DenseMap</a>&lt;<a class="code" href="classllvm_1_1Metadata.html">Metadata</a> *, std::set&lt;TypeMemberInfo&gt;&gt; &amp;TypeIdMap);</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160; </div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;  <span class="keywordtype">bool</span></div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;  tryFindVirtualCallTargets(std::vector&lt;VirtualCallTarget&gt; &amp;TargetsForSlot,</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;                            <span class="keyword">const</span> std::set&lt;TypeMemberInfo&gt; &amp;TypeMemberInfos,</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;                            <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> ByteOffset,</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;                            <a class="code" href="classllvm_1_1ModuleSummaryIndex.html">ModuleSummaryIndex</a> *ExportSummary);</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160; </div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;  <span class="keywordtype">void</span> applySingleImplDevirt(VTableSlotInfo &amp;SlotInfo, <a class="code" href="classllvm_1_1Constant.html">Constant</a> *TheFn,</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;                             <span class="keywordtype">bool</span> &amp;IsExported);</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;  <span class="keywordtype">bool</span> trySingleImplDevirt(<a class="code" href="classllvm_1_1ModuleSummaryIndex.html">ModuleSummaryIndex</a> *ExportSummary,</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;                           <a class="code" href="classllvm_1_1MutableArrayRef.html">MutableArrayRef&lt;VirtualCallTarget&gt;</a> TargetsForSlot,</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;                           VTableSlotInfo &amp;SlotInfo,</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;                           <a class="code" href="structllvm_1_1WholeProgramDevirtResolution.html">WholeProgramDevirtResolution</a> *Res);</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160; </div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;  <span class="keywordtype">void</span> applyICallBranchFunnel(VTableSlotInfo &amp;SlotInfo, <a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="namespacellvm_1_1HexagonISD.html#ab37bf6c49bc26c43ddd958218f63ba00a6aef1658dc627ec13f4fc59382463d9e">JT</a>,</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;                              <span class="keywordtype">bool</span> &amp;IsExported);</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;  <span class="keywordtype">void</span> tryICallBranchFunnel(<a class="code" href="classllvm_1_1MutableArrayRef.html">MutableArrayRef&lt;VirtualCallTarget&gt;</a> TargetsForSlot,</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;                            VTableSlotInfo &amp;SlotInfo,</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;                            <a class="code" href="structllvm_1_1WholeProgramDevirtResolution.html">WholeProgramDevirtResolution</a> *Res, VTableSlot Slot);</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160; </div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;  <span class="keywordtype">bool</span> tryEvaluateFunctionsWithArgs(</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;      <a class="code" href="classllvm_1_1MutableArrayRef.html">MutableArrayRef&lt;VirtualCallTarget&gt;</a> TargetsForSlot,</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;      <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;uint64_t&gt;</a> <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>);</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160; </div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;  <span class="keywordtype">void</span> applyUniformRetValOpt(CallSiteInfo &amp;CSInfo, <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> FnName,</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;                             <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> TheRetVal);</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;  <span class="keywordtype">bool</span> tryUniformRetValOpt(<a class="code" href="classllvm_1_1MutableArrayRef.html">MutableArrayRef&lt;VirtualCallTarget&gt;</a> TargetsForSlot,</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;                           CallSiteInfo &amp;CSInfo,</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;                           <a class="code" href="structllvm_1_1WholeProgramDevirtResolution_1_1ByArg.html">WholeProgramDevirtResolution::ByArg</a> *Res);</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160; </div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;  <span class="comment">// Returns the global symbol name that is used to export information about the</span></div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;  <span class="comment">// given vtable slot and list of arguments.</span></div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;  std::string getGlobalName(VTableSlot Slot, <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;uint64_t&gt;</a> <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>,</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;                            <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> Name);</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160; </div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;  <span class="keywordtype">bool</span> shouldExportConstantsAsAbsoluteSymbols();</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160; </div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;  <span class="comment">// This function is called during the export phase to create a symbol</span></div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;  <span class="comment">// definition containing information about the given vtable slot and list of</span></div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;  <span class="comment">// arguments.</span></div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;  <span class="keywordtype">void</span> exportGlobal(VTableSlot Slot, <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;uint64_t&gt;</a> <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>, <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> Name,</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;                    <a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>);</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;  <span class="keywordtype">void</span> exportConstant(VTableSlot Slot, <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;uint64_t&gt;</a> <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>, <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> Name,</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;                      <a class="code" href="classuint32__t.html">uint32_t</a> Const, <a class="code" href="classuint32__t.html">uint32_t</a> &amp;Storage);</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160; </div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;  <span class="comment">// This function is called during the import phase to create a reference to</span></div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;  <span class="comment">// the symbol definition created during the export phase.</span></div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;  <a class="code" href="classllvm_1_1Constant.html">Constant</a> *importGlobal(VTableSlot Slot, <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;uint64_t&gt;</a> <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>,</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;                         <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> Name);</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;  <a class="code" href="classllvm_1_1Constant.html">Constant</a> *importConstant(VTableSlot Slot, <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;uint64_t&gt;</a> <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>,</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;                           <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> Name, <a class="code" href="classllvm_1_1IntegerType.html">IntegerType</a> *IntTy,</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;                           <a class="code" href="classuint32__t.html">uint32_t</a> Storage);</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160; </div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;  <a class="code" href="classllvm_1_1Constant.html">Constant</a> *getMemberAddr(<span class="keyword">const</span> <a class="code" href="structllvm_1_1wholeprogramdevirt_1_1TypeMemberInfo.html">TypeMemberInfo</a> *M);</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160; </div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;  <span class="keywordtype">void</span> applyUniqueRetValOpt(CallSiteInfo &amp;CSInfo, <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> FnName, <span class="keywordtype">bool</span> IsOne,</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;                            <a class="code" href="classllvm_1_1Constant.html">Constant</a> *UniqueMemberAddr);</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;  <span class="keywordtype">bool</span> tryUniqueRetValOpt(<span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>,</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;                          <a class="code" href="classllvm_1_1MutableArrayRef.html">MutableArrayRef&lt;VirtualCallTarget&gt;</a> TargetsForSlot,</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;                          CallSiteInfo &amp;CSInfo,</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;                          <a class="code" href="structllvm_1_1WholeProgramDevirtResolution_1_1ByArg.html">WholeProgramDevirtResolution::ByArg</a> *Res,</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;                          VTableSlot Slot, <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;uint64_t&gt;</a> <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>);</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160; </div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;  <span class="keywordtype">void</span> applyVirtualConstProp(CallSiteInfo &amp;CSInfo, <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> FnName,</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;                             <a class="code" href="classllvm_1_1Constant.html">Constant</a> *Byte, <a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a1ef22e535a2fc701cdafaffe74fc7490">Bit</a>);</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;  <span class="keywordtype">bool</span> tryVirtualConstProp(<a class="code" href="classllvm_1_1MutableArrayRef.html">MutableArrayRef&lt;VirtualCallTarget&gt;</a> TargetsForSlot,</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;                           VTableSlotInfo &amp;SlotInfo,</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;                           <a class="code" href="structllvm_1_1WholeProgramDevirtResolution.html">WholeProgramDevirtResolution</a> *Res, VTableSlot Slot);</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160; </div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;  <span class="keywordtype">void</span> rebuildGlobal(<a class="code" href="structllvm_1_1wholeprogramdevirt_1_1VTableBits.html">VTableBits</a> &amp;<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>);</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160; </div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;  <span class="comment">// Apply the summary resolution for Slot to all virtual calls in SlotInfo.</span></div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;  <span class="keywordtype">void</span> importResolution(VTableSlot Slot, VTableSlotInfo &amp;SlotInfo);</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160; </div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;  <span class="comment">// If we were able to eliminate all unsafe uses for a type checked load,</span></div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;  <span class="comment">// eliminate the associated type tests by replacing them with true.</span></div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;  <span class="keywordtype">void</span> removeRedundantTypeTests();</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160; </div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="namespacellvm_1_1dxil_1_1PointerTypeAnalysis.html#ae574a4c1d84b9e67bc94489f356805b4">run</a>();</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160; </div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;  <span class="comment">// Look up the corresponding ValueInfo entry of `TheFn` in `ExportSummary`.</span></div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;  <span class="comment">// Caller guarantees that `ExportSummary` is not nullptr.</span></div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;  <span class="keyword">static</span> <a class="code" href="structllvm_1_1ValueInfo.html">ValueInfo</a> lookUpFunctionValueInfo(<a class="code" href="classllvm_1_1Function.html">Function</a> *TheFn,</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;                                           <a class="code" href="classllvm_1_1ModuleSummaryIndex.html">ModuleSummaryIndex</a> *ExportSummary);</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160; </div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;  <span class="comment">// Returns true if the function definition must be unreachable.</span></div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;  <span class="comment">// Note if this helper function returns true, `F` is guaranteed</span></div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;  <span class="comment">// to be unreachable; if it returns false, `F` might still</span></div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;  <span class="comment">// be unreachable but not covered by this helper function.</span></div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;  <span class="comment">// Implementation-wise, if function definition is present, IR is analyzed; if</span></div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;  <span class="comment">// not, look up function flags from ExportSummary as a fallback.</span></div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;  <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="ModuleSummaryAnalysis_8cpp.html#aaeceda7c9243e01a0888f44e2f3e7ba3">mustBeUnreachableFunction</a>(<a class="code" href="classllvm_1_1Function.html">Function</a> *<span class="keyword">const</span> <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>,</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;                                        <a class="code" href="classllvm_1_1ModuleSummaryIndex.html">ModuleSummaryIndex</a> *ExportSummary);</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160; </div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;  <span class="comment">// Lower the module using the action and summary passed as command line</span></div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;  <span class="comment">// arguments. For testing purposes only.</span></div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;  <span class="keyword">static</span> <span class="keywordtype">bool</span></div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;  runForTesting(<a class="code" href="classllvm_1_1Module.html">Module</a> &amp;M, <a class="code" href="classllvm_1_1function__ref.html">function_ref</a>&lt;<a class="code" href="classllvm_1_1AAResults.html">AAResults</a> &amp;(<a class="code" href="classllvm_1_1Function.html">Function</a> &amp;)&gt; AARGetter,</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;                <a class="code" href="classllvm_1_1function__ref.html">function_ref</a>&lt;<a class="code" href="classllvm_1_1OptimizationRemarkEmitter.html">OptimizationRemarkEmitter</a> &amp;(<a class="code" href="classllvm_1_1Function.html">Function</a> *)&gt; OREGetter,</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;                <a class="code" href="classllvm_1_1function__ref.html">function_ref</a>&lt;<a class="code" href="classllvm_1_1DominatorTree.html">DominatorTree</a> &amp;(<a class="code" href="classllvm_1_1Function.html">Function</a> &amp;)&gt; LookupDomTree);</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;};</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160; </div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;<span class="keyword">struct </span>DevirtIndex {</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;  <a class="code" href="classllvm_1_1ModuleSummaryIndex.html">ModuleSummaryIndex</a> &amp;ExportSummary;</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;  <span class="comment">// The set in which to record GUIDs exported from their module by</span></div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;  <span class="comment">// devirtualization, used by client to ensure they are not internalized.</span></div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;  std::set&lt;GlobalValue::GUID&gt; &amp;ExportedGUIDs;</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;  <span class="comment">// A map in which to record the information necessary to locate the WPD</span></div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;  <span class="comment">// resolution for local targets in case they are exported by cross module</span></div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;  <span class="comment">// importing.</span></div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;  std::map&lt;ValueInfo, std::vector&lt;VTableSlotSummary&gt;&gt; &amp;LocalWPDTargetsMap;</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160; </div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;  <a class="code" href="classllvm_1_1MapVector.html">MapVector&lt;VTableSlotSummary, VTableSlotInfo&gt;</a> CallSlots;</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160; </div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;  PatternList FunctionsToSkip;</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160; </div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;  DevirtIndex(</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;      <a class="code" href="classllvm_1_1ModuleSummaryIndex.html">ModuleSummaryIndex</a> &amp;ExportSummary,</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;      std::set&lt;GlobalValue::GUID&gt; &amp;ExportedGUIDs,</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;      std::map&lt;<a class="code" href="structllvm_1_1ValueInfo.html">ValueInfo</a>, std::vector&lt;VTableSlotSummary&gt;&gt; &amp;LocalWPDTargetsMap)</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;      : ExportSummary(ExportSummary), ExportedGUIDs(ExportedGUIDs),</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;        LocalWPDTargetsMap(LocalWPDTargetsMap) {</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;    FunctionsToSkip.init(<a class="code" href="WholeProgramDevirt_8cpp.html#a5f82072adfb8567901f8e70a68ea1af7">SkipFunctionNames</a>);</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;  }</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160; </div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;  <span class="keywordtype">bool</span> tryFindVirtualCallTargets(std::vector&lt;ValueInfo&gt; &amp;TargetsForSlot,</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;                                 <span class="keyword">const</span> <a class="code" href="namespacellvm.html#aece951c826ceca9caa27c444dfaa9193">TypeIdCompatibleVtableInfo</a> TIdInfo,</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;                                 <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> ByteOffset);</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160; </div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;  <span class="keywordtype">bool</span> trySingleImplDevirt(<a class="code" href="classllvm_1_1MutableArrayRef.html">MutableArrayRef&lt;ValueInfo&gt;</a> TargetsForSlot,</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;                           <a class="code" href="structllvm_1_1VTableSlotSummary.html">VTableSlotSummary</a> &amp;SlotSummary,</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;                           VTableSlotInfo &amp;SlotInfo,</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;                           <a class="code" href="structllvm_1_1WholeProgramDevirtResolution.html">WholeProgramDevirtResolution</a> *Res,</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;                           std::set&lt;ValueInfo&gt; &amp;DevirtTargets);</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160; </div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="namespacellvm_1_1dxil_1_1PointerTypeAnalysis.html#ae574a4c1d84b9e67bc94489f356805b4">run</a>();</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;};</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;} <span class="comment">// end anonymous namespace</span></div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160; </div>
<div class="line"><a name="l00751"></a><span class="lineno"><a class="line" href="structllvm_1_1WholeProgramDevirtPass.html#af94d9399906155205bf6afa17427d5c7">  751</a></span>&#160;<a class="code" href="classllvm_1_1PreservedAnalyses.html">PreservedAnalyses</a> <a class="code" href="structllvm_1_1WholeProgramDevirtPass.html#af94d9399906155205bf6afa17427d5c7">WholeProgramDevirtPass::run</a>(<a class="code" href="classllvm_1_1Module.html">Module</a> &amp;M,</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;                                              <a class="code" href="classllvm_1_1AnalysisManager.html">ModuleAnalysisManager</a> &amp;AM) {</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;  <span class="keyword">auto</span> &amp;<a class="code" href="PassBuilderBindings_8cpp.html#a83c7e5ca51099e4efa895791a02fb0ed">FAM</a> = AM.<a class="code" href="classllvm_1_1AnalysisManager.html#ab9d3d5412c20747fd0110a046604f09a">getResult</a>&lt;<a class="code" href="classllvm_1_1InnerAnalysisManagerProxy.html">FunctionAnalysisManagerModuleProxy</a>&gt;(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>).getManager();</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;  <span class="keyword">auto</span> AARGetter = [&amp;](<a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>) -&gt; <a class="code" href="classllvm_1_1AAResults.html">AAResults</a> &amp; {</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="PassBuilderBindings_8cpp.html#a83c7e5ca51099e4efa895791a02fb0ed">FAM</a>.<a class="code" href="classllvm_1_1AnalysisManager.html#ab9d3d5412c20747fd0110a046604f09a">getResult</a>&lt;<a class="code" href="classllvm_1_1AAManager.html">AAManager</a>&gt;(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;  };</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;  <span class="keyword">auto</span> OREGetter = [&amp;](<a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>) -&gt; <a class="code" href="classllvm_1_1OptimizationRemarkEmitter.html">OptimizationRemarkEmitter</a> &amp; {</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="PassBuilderBindings_8cpp.html#a83c7e5ca51099e4efa895791a02fb0ed">FAM</a>.<a class="code" href="classllvm_1_1AnalysisManager.html#ab9d3d5412c20747fd0110a046604f09a">getResult</a>&lt;<a class="code" href="classllvm_1_1OptimizationRemarkEmitterAnalysis.html">OptimizationRemarkEmitterAnalysis</a>&gt;(*F);</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;  };</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;  <span class="keyword">auto</span> LookupDomTree = [&amp;<a class="code" href="PassBuilderBindings_8cpp.html#a83c7e5ca51099e4efa895791a02fb0ed">FAM</a>](<a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>) -&gt; <a class="code" href="classllvm_1_1DominatorTree.html">DominatorTree</a> &amp; {</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="PassBuilderBindings_8cpp.html#a83c7e5ca51099e4efa895791a02fb0ed">FAM</a>.<a class="code" href="classllvm_1_1AnalysisManager.html#ab9d3d5412c20747fd0110a046604f09a">getResult</a>&lt;<a class="code" href="classllvm_1_1DominatorTreeAnalysis.html">DominatorTreeAnalysis</a>&gt;(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;  };</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;  <span class="keywordflow">if</span> (UseCommandLine) {</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;    <span class="keywordflow">if</span> (DevirtModule::runForTesting(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>, AARGetter, OREGetter, LookupDomTree))</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1PreservedAnalyses.html#a1258a1ff55557c27684010ebd7283712">PreservedAnalyses::all</a>();</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1PreservedAnalyses.html#a03797a73044a81cbc6a3409d6c72ee8f">PreservedAnalyses::none</a>();</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;  }</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;  <span class="keywordflow">if</span> (!DevirtModule(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>, AARGetter, OREGetter, LookupDomTree, ExportSummary,</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;                    ImportSummary)</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;           .<a class="code" href="namespacellvm_1_1dxil_1_1PointerTypeAnalysis.html#ae574a4c1d84b9e67bc94489f356805b4">run</a>())</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1PreservedAnalyses.html#a1258a1ff55557c27684010ebd7283712">PreservedAnalyses::all</a>();</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1PreservedAnalyses.html#a03797a73044a81cbc6a3409d6c72ee8f">PreservedAnalyses::none</a>();</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;}</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160; </div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacellvm.html">llvm</a> {</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;<span class="comment">// Enable whole program visibility if enabled by client (e.g. linker) or</span></div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;<span class="comment">// internal option, and not force disabled.</span></div>
<div class="line"><a name="l00778"></a><span class="lineno"><a class="line" href="namespacellvm.html#a5539cdf767bc394f56b5b8374c6b17d3">  778</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="namespacellvm.html#a5539cdf767bc394f56b5b8374c6b17d3">hasWholeProgramVisibility</a>(<span class="keywordtype">bool</span> WholeProgramVisibilityEnabledInLTO) {</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;  <span class="keywordflow">return</span> (WholeProgramVisibilityEnabledInLTO || <a class="code" href="WholeProgramDevirt_8cpp.html#a09aa44ba0a37c23ebb70a447f004645a">WholeProgramVisibility</a>) &amp;&amp;</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;         !<a class="code" href="WholeProgramDevirt_8cpp.html#aab71164459dcf6010a84f5968f1f05a5">DisableWholeProgramVisibility</a>;</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;}</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;<span class="comment">/// If whole program visibility asserted, then upgrade all public vcall</span></div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;<span class="comment">/// visibility metadata on vtable definitions to linkage unit visibility in</span></div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;<span class="comment">/// Module IR (for regular or hybrid LTO).</span></div>
<div class="line"><a name="l00786"></a><span class="lineno"><a class="line" href="namespacellvm.html#a2567770c1286c10fe6fa51c2a61574cf">  786</a></span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="namespacellvm.html#a2567770c1286c10fe6fa51c2a61574cf">updateVCallVisibilityInModule</a>(</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;    <a class="code" href="classllvm_1_1Module.html">Module</a> &amp;M, <span class="keywordtype">bool</span> WholeProgramVisibilityEnabledInLTO,</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1DenseSet.html">DenseSet&lt;GlobalValue::GUID&gt;</a> &amp;DynamicExportSymbols) {</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm.html#a5539cdf767bc394f56b5b8374c6b17d3">hasWholeProgramVisibility</a>(WholeProgramVisibilityEnabledInLTO))</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1GlobalVariable.html">GlobalVariable</a> &amp;GV : <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.globals()) {</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;    <span class="comment">// Add linkage unit visibility to any variable with type metadata, which are</span></div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;    <span class="comment">// the vtable definitions. We won&#39;t have an existing vcall_visibility</span></div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;    <span class="comment">// metadata on vtable definitions with public visibility.</span></div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;    <span class="keywordflow">if</span> (GV.hasMetadata(LLVMContext::MD_type) &amp;&amp;</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;        GV.getVCallVisibility() == <a class="code" href="classllvm_1_1GlobalObject.html#ab0fc6ae566ff5de33790f565a2abe49aa938bd45f40d238428b91833b85ecd22a">GlobalObject::VCallVisibilityPublic</a> &amp;&amp;</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;        <span class="comment">// Don&#39;t upgrade the visibility for symbols exported to the dynamic</span></div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;        <span class="comment">// linker, as we have no information on their eventual use.</span></div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;        !DynamicExportSymbols.<a class="code" href="classllvm_1_1detail_1_1DenseSetImpl.html#afe504aa31a6a354cec13f5b32d0b1d9d">count</a>(GV.getGUID()))</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;      GV.setVCallVisibilityMetadata(<a class="code" href="classllvm_1_1GlobalObject.html#ab0fc6ae566ff5de33790f565a2abe49aa1813ba0b69ff32dfebfbf5d134d0ed95">GlobalObject::VCallVisibilityLinkageUnit</a>);</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;  }</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;}</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160; </div>
<div class="line"><a name="l00804"></a><span class="lineno"><a class="line" href="namespacellvm.html#a714c6f3608e37d0dba17cdc086dc16d2">  804</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacellvm.html#a714c6f3608e37d0dba17cdc086dc16d2">updatePublicTypeTestCalls</a>(<a class="code" href="classllvm_1_1Module.html">Module</a> &amp;M,</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;                               <span class="keywordtype">bool</span> WholeProgramVisibilityEnabledInLTO) {</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;  <a class="code" href="classllvm_1_1Function.html">Function</a> *PublicTypeTestFunc =</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;      <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getFunction(<a class="code" href="namespacellvm_1_1Intrinsic.html#a7157f9fa9dd11f234ec3c58517cb6d96">Intrinsic::getName</a>(Intrinsic::public_type_test));</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;  <span class="keywordflow">if</span> (!PublicTypeTestFunc)</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a5539cdf767bc394f56b5b8374c6b17d3">hasWholeProgramVisibility</a>(WholeProgramVisibilityEnabledInLTO)) {</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;    <a class="code" href="classllvm_1_1Function.html">Function</a> *TypeTestFunc =</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;        <a class="code" href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">Intrinsic::getDeclaration</a>(&amp;<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>, Intrinsic::type_test);</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Use.html">Use</a> &amp;U : <a class="code" href="namespacellvm.html#a8154638df88e4eaa568b67b23d463dac">make_early_inc_range</a>(PublicTypeTestFunc-&gt;<a class="code" href="classllvm_1_1Value.html#aecb93439702247fe5353a9966f7cefcd">uses</a>())) {</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;      <span class="keyword">auto</span> *CI = cast&lt;CallInst&gt;(U.getUser());</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;      <span class="keyword">auto</span> *NewCI = <a class="code" href="classllvm_1_1CallInst.html#a850d8262cd900958b3153c4aa080b2bb">CallInst::Create</a>(</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;          TypeTestFunc, {CI-&gt;getArgOperand(0), CI-&gt;getArgOperand(1)},</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;          std::nullopt, <span class="stringliteral">&quot;&quot;</span>, CI);</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;      CI-&gt;<a class="code" href="classllvm_1_1Value.html#a3ab5fc45117b450e8bb04e564cb6e5f2">replaceAllUsesWith</a>(NewCI);</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;      CI-&gt;eraseFromParent();</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;    }</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;    <span class="keyword">auto</span> *True = <a class="code" href="classllvm_1_1ConstantInt.html#a82dbbd8e3688b0bc1eedb338864d0d0c">ConstantInt::getTrue</a>(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getContext());</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Use.html">Use</a> &amp;U : <a class="code" href="namespacellvm.html#a8154638df88e4eaa568b67b23d463dac">make_early_inc_range</a>(PublicTypeTestFunc-&gt;<a class="code" href="classllvm_1_1Value.html#aecb93439702247fe5353a9966f7cefcd">uses</a>())) {</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;      <span class="keyword">auto</span> *CI = cast&lt;CallInst&gt;(U.getUser());</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;      CI-&gt;replaceAllUsesWith(True);</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;      CI-&gt;eraseFromParent();</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;    }</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;  }</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;}</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;<span class="comment">/// If whole program visibility asserted, then upgrade all public vcall</span></div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;<span class="comment">/// visibility metadata on vtable definition summaries to linkage unit</span></div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;<span class="comment">/// visibility in Module summary index (for ThinLTO).</span></div>
<div class="line"><a name="l00834"></a><span class="lineno"><a class="line" href="namespacellvm.html#aa8a135c4b979f0de23ee9086e85228f5">  834</a></span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="namespacellvm.html#aa8a135c4b979f0de23ee9086e85228f5">updateVCallVisibilityInIndex</a>(</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;    <a class="code" href="classllvm_1_1ModuleSummaryIndex.html">ModuleSummaryIndex</a> &amp;<a class="code" href="namespacellvm_1_1dwarf.html#a5d3c920b66ea797d6adb243862fdf47a">Index</a>, <span class="keywordtype">bool</span> WholeProgramVisibilityEnabledInLTO,</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1DenseSet.html">DenseSet&lt;GlobalValue::GUID&gt;</a> &amp;DynamicExportSymbols) {</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm.html#a5539cdf767bc394f56b5b8374c6b17d3">hasWholeProgramVisibility</a>(WholeProgramVisibilityEnabledInLTO))</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> : <a class="code" href="namespacellvm_1_1dwarf.html#a5d3c920b66ea797d6adb243862fdf47a">Index</a>) {</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;    <span class="comment">// Don&#39;t upgrade the visibility for symbols exported to the dynamic</span></div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;    <span class="comment">// linker, as we have no information on their eventual use.</span></div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;    <span class="keywordflow">if</span> (DynamicExportSymbols.<a class="code" href="classllvm_1_1detail_1_1DenseSetImpl.html#afe504aa31a6a354cec13f5b32d0b1d9d">count</a>(<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.first))</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> : <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.second.SummaryList) {</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;      <span class="keyword">auto</span> *GVar = dyn_cast&lt;GlobalVarSummary&gt;(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>.get());</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;      <span class="keywordflow">if</span> (!GVar ||</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;          GVar-&gt;getVCallVisibility() != <a class="code" href="classllvm_1_1GlobalObject.html#ab0fc6ae566ff5de33790f565a2abe49aa938bd45f40d238428b91833b85ecd22a">GlobalObject::VCallVisibilityPublic</a>)</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;      GVar-&gt;setVCallVisibility(<a class="code" href="classllvm_1_1GlobalObject.html#ab0fc6ae566ff5de33790f565a2abe49aa1813ba0b69ff32dfebfbf5d134d0ed95">GlobalObject::VCallVisibilityLinkageUnit</a>);</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;    }</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;  }</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;}</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160; </div>
<div class="line"><a name="l00854"></a><span class="lineno"><a class="line" href="namespacellvm.html#a65f58c8b24f0074e11abf26e154b0cc1">  854</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacellvm.html#a65f58c8b24f0074e11abf26e154b0cc1">runWholeProgramDevirtOnIndex</a>(</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;    <a class="code" href="classllvm_1_1ModuleSummaryIndex.html">ModuleSummaryIndex</a> &amp;Summary, std::set&lt;GlobalValue::GUID&gt; &amp;ExportedGUIDs,</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;    std::map&lt;<a class="code" href="structllvm_1_1ValueInfo.html">ValueInfo</a>, std::vector&lt;VTableSlotSummary&gt;&gt; &amp;LocalWPDTargetsMap) {</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;  DevirtIndex(Summary, ExportedGUIDs, LocalWPDTargetsMap).run();</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;}</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160; </div>
<div class="line"><a name="l00860"></a><span class="lineno"><a class="line" href="namespacellvm.html#ac6624a6c4b26485258e3602e2f79c28b">  860</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacellvm.html#ac6624a6c4b26485258e3602e2f79c28b">updateIndexWPDForExports</a>(</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;    <a class="code" href="classllvm_1_1ModuleSummaryIndex.html">ModuleSummaryIndex</a> &amp;Summary,</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;    <a class="code" href="classllvm_1_1function__ref.html">function_ref</a>&lt;<span class="keywordtype">bool</span>(<a class="code" href="classllvm_1_1StringRef.html">StringRef</a>, <a class="code" href="structllvm_1_1ValueInfo.html">ValueInfo</a>)&gt; isExported,</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;    std::map&lt;<a class="code" href="structllvm_1_1ValueInfo.html">ValueInfo</a>, std::vector&lt;VTableSlotSummary&gt;&gt; &amp;LocalWPDTargetsMap) {</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code" href="classT.html">T</a> : LocalWPDTargetsMap) {</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;    <span class="keyword">auto</span> &amp;<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a97bce951e4585a39601c04d86bb14ffd">VI</a> = <a class="code" href="classT.html">T</a>.first;</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;    <span class="comment">// This was enforced earlier during trySingleImplDevirt.</span></div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a97bce951e4585a39601c04d86bb14ffd">VI</a>.getSummaryList().size() == 1 &amp;&amp;</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;           <span class="stringliteral">&quot;Devirt of local target has more than one copy&quot;</span>);</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;    <span class="keyword">auto</span> &amp;<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> = <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a97bce951e4585a39601c04d86bb14ffd">VI</a>.getSummaryList()[0];</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;    <span class="keywordflow">if</span> (!isExported(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>-&gt;modulePath(), <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a97bce951e4585a39601c04d86bb14ffd">VI</a>))</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160; </div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;    <span class="comment">// It&#39;s been exported by a cross module import.</span></div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;SlotSummary : <a class="code" href="classT.html">T</a>.second) {</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;      <span class="keyword">auto</span> *TIdSum = Summary.getTypeIdSummary(SlotSummary.TypeID);</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(TIdSum);</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;      <span class="keyword">auto</span> WPDRes = TIdSum-&gt;WPDRes.find(SlotSummary.ByteOffset);</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(WPDRes != TIdSum-&gt;WPDRes.end());</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;      WPDRes-&gt;second.SingleImplName = <a class="code" href="classllvm_1_1ModuleSummaryIndex.html#ab2a95e6bf06c717c20fc64f6c1e5a2fa">ModuleSummaryIndex::getGlobalNameForLocal</a>(</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;          WPDRes-&gt;second.SingleImplName,</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;          Summary.getModuleHash(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>-&gt;modulePath()));</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;    }</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;  }</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;}</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160; </div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;} <span class="comment">// end namespace llvm</span></div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160; </div>
<div class="line"><a name="l00888"></a><span class="lineno"><a class="line" href="WholeProgramDevirt_8cpp.html#a3f84f6f1a3f90b174404388b1bce971a">  888</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1Error.html">Error</a> <a class="code" href="WholeProgramDevirt_8cpp.html#a3f84f6f1a3f90b174404388b1bce971a">checkCombinedSummaryForTesting</a>(<a class="code" href="classllvm_1_1ModuleSummaryIndex.html">ModuleSummaryIndex</a> *Summary) {</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;  <span class="comment">// Check that summary index contains regular LTO module when performing</span></div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;  <span class="comment">// export to prevent occasional use of index from pure ThinLTO compilation</span></div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;  <span class="comment">// (-fno-split-lto-module). This kind of summary index is passed to</span></div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;  <span class="comment">// DevirtIndex::run, not to DevirtModule::run used by opt/runForTesting.</span></div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> &amp;ModPaths = Summary-&gt;modulePaths();</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="WholeProgramDevirt_8cpp.html#a5379d9e695d760a179812db0a2bc002e">ClSummaryAction</a> != <a class="code" href="namespacellvm.html#a38a0bdae7fb49d99f161aa6de0379d7ea72d6d7a1885885bb55a565fd1070581a">PassSummaryAction::Import</a> &amp;&amp;</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;      ModPaths.find(<a class="code" href="classllvm_1_1ModuleSummaryIndex.html#a46016ac4cd1bf8dd3e4554419a5addfc">ModuleSummaryIndex::getRegularLTOModuleName</a>()) ==</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;          ModPaths.end())</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a4d2fd926089a58d482fb67a362e11bad">createStringError</a>(</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;        <a class="code" href="namespacellvm.html#a59739a4f15fb2ec57a6b7fcfe938546bae55d43eabeefe5a8271b4a3c898bd18f">errc::invalid_argument</a>,</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;        <span class="stringliteral">&quot;combined summary should contain Regular LTO module&quot;</span>);</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ErrorSuccess.html">ErrorSuccess</a>();</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;}</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160; </div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;<span class="keywordtype">bool</span> DevirtModule::runForTesting(</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;    <a class="code" href="classllvm_1_1Module.html">Module</a> &amp;M, <a class="code" href="classllvm_1_1function__ref.html">function_ref</a>&lt;<a class="code" href="classllvm_1_1AAResults.html">AAResults</a> &amp;(<a class="code" href="classllvm_1_1Function.html">Function</a> &amp;)&gt; AARGetter,</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;    <a class="code" href="classllvm_1_1function__ref.html">function_ref</a>&lt;<a class="code" href="classllvm_1_1OptimizationRemarkEmitter.html">OptimizationRemarkEmitter</a> &amp;(<a class="code" href="classllvm_1_1Function.html">Function</a> *)&gt; OREGetter,</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;    <a class="code" href="classllvm_1_1function__ref.html">function_ref</a>&lt;<a class="code" href="classllvm_1_1DominatorTree.html">DominatorTree</a> &amp;(<a class="code" href="classllvm_1_1Function.html">Function</a> &amp;)&gt; LookupDomTree) {</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;  std::unique_ptr&lt;ModuleSummaryIndex&gt; <a class="code" href="namespacellvm_1_1logicalview.html#a8d87e69e124542d3338b631934cdbea9a290612199861c31d1036b185b4e69b75">Summary</a> =</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;      std::make_unique&lt;ModuleSummaryIndex&gt;(<span class="comment">/*HaveGVs=*/</span><span class="keyword">false</span>);</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160; </div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;  <span class="comment">// Handle the command-line summary arguments. This code is for testing</span></div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;  <span class="comment">// purposes only, so we handle errors directly.</span></div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="WholeProgramDevirt_8cpp.html#af64cbf40f5425f76b44ed1b06c4e324d">ClReadSummary</a>.empty()) {</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;    <a class="code" href="classllvm_1_1ExitOnError.html">ExitOnError</a> ExitOnErr(<span class="stringliteral">&quot;-wholeprogramdevirt-read-summary: &quot;</span> + <a class="code" href="WholeProgramDevirt_8cpp.html#af64cbf40f5425f76b44ed1b06c4e324d">ClReadSummary</a> +</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;                          <span class="stringliteral">&quot;: &quot;</span>);</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;    <span class="keyword">auto</span> ReadSummaryFile =</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;        ExitOnErr(<a class="code" href="namespacellvm.html#a2c35a79774d2952408b854ec6fef10f3">errorOrToExpected</a>(<a class="code" href="classllvm_1_1MemoryBuffer.html#aa98611beefe78f907beeee7305cc8174">MemoryBuffer::getFile</a>(<a class="code" href="WholeProgramDevirt_8cpp.html#af64cbf40f5425f76b44ed1b06c4e324d">ClReadSummary</a>)));</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Expected.html">Expected</a>&lt;std::unique_ptr&lt;ModuleSummaryIndex&gt;&gt; SummaryOrErr =</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;            <a class="code" href="namespacellvm.html#a59316b66df2176ff19458e2d624b98ad">getModuleSummaryIndex</a>(*ReadSummaryFile)) {</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;      <a class="code" href="namespacellvm_1_1logicalview.html#a8d87e69e124542d3338b631934cdbea9a290612199861c31d1036b185b4e69b75">Summary</a> = <a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(*SummaryOrErr);</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;      ExitOnErr(<a class="code" href="WholeProgramDevirt_8cpp.html#a3f84f6f1a3f90b174404388b1bce971a">checkCombinedSummaryForTesting</a>(<a class="code" href="namespacellvm_1_1logicalview.html#a8d87e69e124542d3338b631934cdbea9a290612199861c31d1036b185b4e69b75">Summary</a>.get()));</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;      <span class="comment">// Try YAML if we&#39;ve failed with bitcode.</span></div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;      <a class="code" href="namespacellvm.html#aee0e70be66536b9ef7b65ae2e5a45959">consumeError</a>(SummaryOrErr.takeError());</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;      yaml::Input <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a5fa7b4069ef3bd1ceb9f2caa315cf5ac">In</a>(ReadSummaryFile-&gt;getBuffer());</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;      <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a5fa7b4069ef3bd1ceb9f2caa315cf5ac">In</a> &gt;&gt; *<a class="code" href="namespacellvm_1_1logicalview.html#a8d87e69e124542d3338b631934cdbea9a290612199861c31d1036b185b4e69b75">Summary</a>;</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;      ExitOnErr(<a class="code" href="namespacellvm.html#ad10875fd499e8e285aaeef615e9b11aa">errorCodeToError</a>(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a5fa7b4069ef3bd1ceb9f2caa315cf5ac">In</a>.error()));</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;    }</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;  }</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160; </div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;  <span class="keywordtype">bool</span> Changed =</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;      DevirtModule(M, AARGetter, OREGetter, LookupDomTree,</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;                   <a class="code" href="WholeProgramDevirt_8cpp.html#a5379d9e695d760a179812db0a2bc002e">ClSummaryAction</a> == <a class="code" href="namespacellvm.html#a38a0bdae7fb49d99f161aa6de0379d7ea0095a9fa74d1713e43e370a7d7846224">PassSummaryAction::Export</a> ? <a class="code" href="namespacellvm_1_1logicalview.html#a8d87e69e124542d3338b631934cdbea9a290612199861c31d1036b185b4e69b75">Summary</a>.get()</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;                                                                : <span class="keyword">nullptr</span>,</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;                   <a class="code" href="WholeProgramDevirt_8cpp.html#a5379d9e695d760a179812db0a2bc002e">ClSummaryAction</a> == <a class="code" href="namespacellvm.html#a38a0bdae7fb49d99f161aa6de0379d7ea72d6d7a1885885bb55a565fd1070581a">PassSummaryAction::Import</a> ? <a class="code" href="namespacellvm_1_1logicalview.html#a8d87e69e124542d3338b631934cdbea9a290612199861c31d1036b185b4e69b75">Summary</a>.get()</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;                                                                : <span class="keyword">nullptr</span>)</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;          .run();</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160; </div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="WholeProgramDevirt_8cpp.html#ac61cdf9180068a01724750e24003fda8">ClWriteSummary</a>.empty()) {</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;    <a class="code" href="classllvm_1_1ExitOnError.html">ExitOnError</a> ExitOnErr(</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;        <span class="stringliteral">&quot;-wholeprogramdevirt-write-summary: &quot;</span> + <a class="code" href="WholeProgramDevirt_8cpp.html#ac61cdf9180068a01724750e24003fda8">ClWriteSummary</a> + <span class="stringliteral">&quot;: &quot;</span>);</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;    std::error_code <a class="code" href="namespacellvm_1_1codeview.html#a2e1cbb0e2bd7a35ed99c31853dc45374a3fd6b696867d70225deda7868308679b">EC</a>;</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1StringRef.html">StringRef</a>(<a class="code" href="WholeProgramDevirt_8cpp.html#ac61cdf9180068a01724750e24003fda8">ClWriteSummary</a>).endswith(<span class="stringliteral">&quot;.bc&quot;</span>)) {</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;      <a class="code" href="classllvm_1_1raw__fd__ostream.html">raw_fd_ostream</a> <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>(<a class="code" href="WholeProgramDevirt_8cpp.html#ac61cdf9180068a01724750e24003fda8">ClWriteSummary</a>, EC, <a class="code" href="namespacellvm_1_1sys_1_1fs.html#a662978c0cdf81de0d448032f142a3695a8ae6a0a158ab49e5bbe92cbc2cabcbcd">sys::fs::OF_None</a>);</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;      ExitOnErr(<a class="code" href="namespacellvm.html#ad10875fd499e8e285aaeef615e9b11aa">errorCodeToError</a>(EC));</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;      <a class="code" href="namespacellvm.html#a2b7d080131b5979a4b5b98080af92cb1">writeIndexToFile</a>(*Summary, <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>);</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;      <a class="code" href="classllvm_1_1raw__fd__ostream.html">raw_fd_ostream</a> <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>(<a class="code" href="WholeProgramDevirt_8cpp.html#ac61cdf9180068a01724750e24003fda8">ClWriteSummary</a>, EC, <a class="code" href="namespacellvm_1_1sys_1_1fs.html#a662978c0cdf81de0d448032f142a3695ab505c2c79499fbe180989bffbf108a50">sys::fs::OF_TextWithCRLF</a>);</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;      ExitOnErr(<a class="code" href="namespacellvm.html#ad10875fd499e8e285aaeef615e9b11aa">errorCodeToError</a>(EC));</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;      yaml::Output Out(<a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>);</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;      Out &lt;&lt; *<a class="code" href="namespacellvm_1_1logicalview.html#a8d87e69e124542d3338b631934cdbea9a290612199861c31d1036b185b4e69b75">Summary</a>;</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;    }</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;  }</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160; </div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;  <span class="keywordflow">return</span> Changed;</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;}</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160; </div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;<span class="keywordtype">void</span> DevirtModule::buildTypeIdentifierMap(</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;    std::vector&lt;VTableBits&gt; &amp;<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a3c0710aa6b054662f67b480712fa2b95">Bits</a>,</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;    <a class="code" href="classllvm_1_1DenseMap.html">DenseMap</a>&lt;<a class="code" href="classllvm_1_1Metadata.html">Metadata</a> *, std::set&lt;TypeMemberInfo&gt;&gt; &amp;TypeIdMap) {</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;  <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;GlobalVariable *, VTableBits *&gt;</a> GVToBits;</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;  <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a3c0710aa6b054662f67b480712fa2b95">Bits</a>.reserve(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.global_size());</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;MDNode *, 2&gt;</a> <a class="code" href="namespacellvm_1_1logicalview.html#a90c9f20715929cbe06c523bf8546c38baf2d346b1bb7c1c85ab6f7f21e3666b9f">Types</a>;</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1GlobalVariable.html">GlobalVariable</a> &amp;GV : <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.globals()) {</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;    <a class="code" href="namespacellvm_1_1logicalview.html#a90c9f20715929cbe06c523bf8546c38baf2d346b1bb7c1c85ab6f7f21e3666b9f">Types</a>.clear();</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;    GV.getMetadata(LLVMContext::MD_type, Types);</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;    <span class="keywordflow">if</span> (GV.isDeclaration() || <a class="code" href="namespacellvm_1_1logicalview.html#a90c9f20715929cbe06c523bf8546c38baf2d346b1bb7c1c85ab6f7f21e3666b9f">Types</a>.empty())</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160; </div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;    <a class="code" href="structllvm_1_1wholeprogramdevirt_1_1VTableBits.html">VTableBits</a> *&amp;BitsPtr = GVToBits[&amp;GV];</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;    <span class="keywordflow">if</span> (!BitsPtr) {</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;      <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a3c0710aa6b054662f67b480712fa2b95">Bits</a>.emplace_back();</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;      <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a3c0710aa6b054662f67b480712fa2b95">Bits</a>.back().GV = &amp;GV;</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;      <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a3c0710aa6b054662f67b480712fa2b95">Bits</a>.back().ObjectSize =</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;          <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getDataLayout().getTypeAllocSize(GV.getInitializer()-&gt;getType());</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;      BitsPtr = &amp;<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a3c0710aa6b054662f67b480712fa2b95">Bits</a>.back();</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;    }</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160; </div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *<a class="code" href="classllvm_1_1Type.html">Type</a> : Types) {</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;      <span class="keyword">auto</span> <a class="code" href="classllvm_1_1Type.html#a5e9e1c0dd93557be1b4ad72860f3cbda">TypeID</a> = <a class="code" href="classllvm_1_1Type.html">Type</a>-&gt;getOperand(1).get();</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160; </div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;      <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> <a class="code" href="namespacellvm_1_1AMDGPU_1_1Hwreg.html#a6110fc30bc7311a6cf99814530362e21">Offset</a> =</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;          cast&lt;ConstantInt&gt;(</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;              cast&lt;ConstantAsMetadata&gt;(<a class="code" href="classllvm_1_1Type.html">Type</a>-&gt;getOperand(0))-&gt;getValue())</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;              -&gt;getZExtValue();</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160; </div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;      TypeIdMap[<a class="code" href="Mips16HardFloat_8cpp.html#a80cca3528193bd0d53e43a6d030f0ea0">TypeID</a>].insert({BitsPtr, <a class="code" href="namespacellvm_1_1AMDGPU_1_1Hwreg.html#a6110fc30bc7311a6cf99814530362e21">Offset</a>});</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;    }</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;  }</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;}</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160; </div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;<span class="keywordtype">bool</span> DevirtModule::tryFindVirtualCallTargets(</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;    std::vector&lt;VirtualCallTarget&gt; &amp;TargetsForSlot,</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;    <span class="keyword">const</span> std::set&lt;TypeMemberInfo&gt; &amp;TypeMemberInfos, <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> ByteOffset,</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;    <a class="code" href="classllvm_1_1ModuleSummaryIndex.html">ModuleSummaryIndex</a> *ExportSummary) {</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="structllvm_1_1wholeprogramdevirt_1_1TypeMemberInfo.html">TypeMemberInfo</a> &amp;<a class="code" href="PassBuilderBindings_8cpp.html#ab76052bb166c65901edb603a3e1f03ab">TM</a> : TypeMemberInfos) {</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="PassBuilderBindings_8cpp.html#ab76052bb166c65901edb603a3e1f03ab">TM</a>.Bits-&gt;GV-&gt;isConstant())</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160; </div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;    <span class="comment">// We cannot perform whole program devirtualization analysis on a vtable</span></div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;    <span class="comment">// with public LTO visibility.</span></div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="PassBuilderBindings_8cpp.html#ab76052bb166c65901edb603a3e1f03ab">TM</a>.Bits-&gt;GV-&gt;getVCallVisibility() ==</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;        <a class="code" href="classllvm_1_1GlobalObject.html#ab0fc6ae566ff5de33790f565a2abe49aa938bd45f40d238428b91833b85ecd22a">GlobalObject::VCallVisibilityPublic</a>)</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160; </div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;    <a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a> = <a class="code" href="namespacellvm.html#af9ea314c7ebcfef667f1d7b67fe09c69">getPointerAtOffset</a>(<a class="code" href="PassBuilderBindings_8cpp.html#ab76052bb166c65901edb603a3e1f03ab">TM</a>.Bits-&gt;GV-&gt;getInitializer(),</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;                                       <a class="code" href="PassBuilderBindings_8cpp.html#ab76052bb166c65901edb603a3e1f03ab">TM</a>.Offset + ByteOffset, M);</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>)</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160; </div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;    <span class="keyword">auto</span> Fn = dyn_cast&lt;Function&gt;(<a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>-&gt;stripPointerCasts());</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;    <span class="keywordflow">if</span> (!Fn)</div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160; </div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;    <span class="keywordflow">if</span> (FunctionsToSkip.match(Fn-&gt;getName()))</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160; </div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;    <span class="comment">// We can disregard __cxa_pure_virtual as a possible call target, as</span></div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;    <span class="comment">// calls to pure virtuals are UB.</span></div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;    <span class="keywordflow">if</span> (Fn-&gt;getName() == <span class="stringliteral">&quot;__cxa_pure_virtual&quot;</span>)</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160; </div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;    <span class="comment">// We can disregard unreachable functions as possible call targets, as</span></div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;    <span class="comment">// unreachable functions shouldn&#39;t be called.</span></div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="ModuleSummaryAnalysis_8cpp.html#aaeceda7c9243e01a0888f44e2f3e7ba3">mustBeUnreachableFunction</a>(Fn, ExportSummary))</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160; </div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;    TargetsForSlot.push_back({Fn, &amp;<a class="code" href="PassBuilderBindings_8cpp.html#ab76052bb166c65901edb603a3e1f03ab">TM</a>});</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;  }</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160; </div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;  <span class="comment">// Give up if we couldn&#39;t find any targets.</span></div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;  <span class="keywordflow">return</span> !TargetsForSlot.empty();</div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;}</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160; </div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;<span class="keywordtype">bool</span> DevirtIndex::tryFindVirtualCallTargets(</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;    std::vector&lt;ValueInfo&gt; &amp;TargetsForSlot, <span class="keyword">const</span> <a class="code" href="namespacellvm.html#aece951c826ceca9caa27c444dfaa9193">TypeIdCompatibleVtableInfo</a> TIdInfo,</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;    <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> ByteOffset) {</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="structllvm_1_1TypeIdOffsetVtableInfo.html">TypeIdOffsetVtableInfo</a> &amp;<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> : TIdInfo) {</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;    <span class="comment">// Find a representative copy of the vtable initializer.</span></div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;    <span class="comment">// We can have multiple available_externally, linkonce_odr and weak_odr</span></div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;    <span class="comment">// vtable initializers. We can also have multiple external vtable</span></div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;    <span class="comment">// initializers in the case of comdats, which we cannot check here.</span></div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;    <span class="comment">// The linker should give an error in this case.</span></div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;    <span class="comment">// Also, handle the case of same-named local Vtables with the same path</span></div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;    <span class="comment">// and therefore the same GUID. This can happen if there isn&#39;t enough</span></div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;    <span class="comment">// distinguishing path when compiling the source file. In that case we</span></div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;    <span class="comment">// conservatively return false early.</span></div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1GlobalVarSummary.html">GlobalVarSummary</a> *<a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28a9f54e5976c204d779cee3d87cabf0b02">VS</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;    <span class="keywordtype">bool</span> LocalFound = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> : <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.VTableVI.getSummaryList()) {</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1GlobalValue.html#a308b65a044b4f53e31a2026a81c991d2">GlobalValue::isLocalLinkage</a>(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>-&gt;linkage())) {</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;        <span class="keywordflow">if</span> (LocalFound)</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;        LocalFound = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;      }</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;      <span class="keyword">auto</span> *CurVS = cast&lt;GlobalVarSummary&gt;(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>-&gt;getBaseObject());</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;      <span class="keywordflow">if</span> (!CurVS-&gt;vTableFuncs().empty() ||</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;          <span class="comment">// Previously clang did not attach the necessary type metadata to</span></div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;          <span class="comment">// available_externally vtables, in which case there would not</span></div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;          <span class="comment">// be any vtable functions listed in the summary and we need</span></div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;          <span class="comment">// to treat this case conservatively (in case the bitcode is old).</span></div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;          <span class="comment">// However, we will also not have any vtable functions in the</span></div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;          <span class="comment">// case of a pure virtual base class. In that case we do want</span></div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;          <span class="comment">// to set VS to avoid treating it conservatively.</span></div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;          !<a class="code" href="classllvm_1_1GlobalValue.html#a578061260691a59a9e7b0455fd68359c">GlobalValue::isAvailableExternallyLinkage</a>(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>-&gt;linkage())) {</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;        <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28a9f54e5976c204d779cee3d87cabf0b02">VS</a> = CurVS;</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;        <span class="comment">// We cannot perform whole program devirtualization analysis on a vtable</span></div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;        <span class="comment">// with public LTO visibility.</span></div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28a9f54e5976c204d779cee3d87cabf0b02">VS</a>-&gt;getVCallVisibility() == <a class="code" href="classllvm_1_1GlobalObject.html#ab0fc6ae566ff5de33790f565a2abe49aa938bd45f40d238428b91833b85ecd22a">GlobalObject::VCallVisibilityPublic</a>)</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;      }</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;    }</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;    <span class="comment">// There will be no VS if all copies are available_externally having no</span></div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;    <span class="comment">// type metadata. In that case we can&#39;t safely perform WPD.</span></div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28a9f54e5976c204d779cee3d87cabf0b02">VS</a>)</div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28a9f54e5976c204d779cee3d87cabf0b02">VS</a>-&gt;isLive())</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> VTP : <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28a9f54e5976c204d779cee3d87cabf0b02">VS</a>-&gt;vTableFuncs()) {</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;      <span class="keywordflow">if</span> (VTP.VTableOffset != <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.AddressPointOffset + ByteOffset)</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160; </div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="ModuleSummaryAnalysis_8cpp.html#aaeceda7c9243e01a0888f44e2f3e7ba3">mustBeUnreachableFunction</a>(VTP.FuncVI))</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160; </div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;      TargetsForSlot.push_back(VTP.FuncVI);</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;    }</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;  }</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160; </div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;  <span class="comment">// Give up if we couldn&#39;t find any targets.</span></div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;  <span class="keywordflow">return</span> !TargetsForSlot.empty();</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;}</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160; </div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;<span class="keywordtype">void</span> DevirtModule::applySingleImplDevirt(VTableSlotInfo &amp;SlotInfo,</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;                                         <a class="code" href="classllvm_1_1Constant.html">Constant</a> *TheFn, <span class="keywordtype">bool</span> &amp;IsExported) {</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;  <span class="comment">// Don&#39;t devirtualize function if we&#39;re told to skip it</span></div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;  <span class="comment">// in -wholeprogramdevirt-skip.</span></div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;  <span class="keywordflow">if</span> (FunctionsToSkip.match(TheFn-&gt;<a class="code" href="classllvm_1_1Constant.html#a0ebfdc2c511407c9ba517ccde6cad85f">stripPointerCasts</a>()-&gt;<a class="code" href="classllvm_1_1Value.html#adb5c319f5905c1d3ca9eb5df546388c5">getName</a>()))</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;  <span class="keyword">auto</span> Apply = [&amp;](CallSiteInfo &amp;CSInfo) {</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;&amp;VCallSite : CSInfo.CallSites) {</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;      <span class="keywordflow">if</span> (!OptimizedCalls.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">insert</a>(&amp;VCallSite.CB).second)</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160; </div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;      <span class="keywordflow">if</span> (RemarksEnabled)</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;        VCallSite.emitRemark(<span class="stringliteral">&quot;single-impl&quot;</span>,</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;                             TheFn-&gt;<a class="code" href="classllvm_1_1Constant.html#a0ebfdc2c511407c9ba517ccde6cad85f">stripPointerCasts</a>()-&gt;<a class="code" href="classllvm_1_1Value.html#adb5c319f5905c1d3ca9eb5df546388c5">getName</a>(), OREGetter);</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;      NumSingleImpl++;</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;      <span class="keyword">auto</span> &amp;CB = VCallSite.CB;</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!CB.<a class="code" href="classllvm_1_1CallBase.html#a83b8c9e572130f403445c0b0f69b837c">getCalledFunction</a>() &amp;&amp; <span class="stringliteral">&quot;devirtualizing direct call?&quot;</span>);</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;      <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>(&amp;CB);</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a> =</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;          <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateBitCast(TheFn, CB.<a class="code" href="classllvm_1_1CallBase.html#a7ac9329ef7292ee640d87f45ce7ae05c">getCalledOperand</a>()-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160; </div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;      <span class="comment">// If trap checking is enabled, add support to compare the virtual</span></div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;      <span class="comment">// function pointer to the devirtualized target. In case of a mismatch,</span></div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;      <span class="comment">// perform a debug trap.</span></div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="WholeProgramDevirt_8cpp.html#addb6a617cedbc1f40ead7688012ee5b3">DevirtCheckMode</a> == <a class="code" href="WholeProgramDevirt_8cpp.html#a0e65aef39009b683d7acb5884ae47421a178e499decd0c21272bc34e4b3056eab">WPDCheckMode::Trap</a>) {</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;        <span class="keyword">auto</span> *<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a> = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateICmpNE(CB.<a class="code" href="classllvm_1_1CallBase.html#a7ac9329ef7292ee640d87f45ce7ae05c">getCalledOperand</a>(), Callee);</div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;        <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *ThenTerm =</div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;            <a class="code" href="namespacellvm.html#ae2aea60aed775d05692317bf4855c291">SplitBlockAndInsertIfThen</a>(<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>, &amp;CB, <span class="comment">/*Unreachable=*/</span><span class="keyword">false</span>);</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;        <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.SetInsertPoint(ThenTerm);</div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;        <a class="code" href="classllvm_1_1Function.html">Function</a> *TrapFn = <a class="code" href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">Intrinsic::getDeclaration</a>(&amp;M, Intrinsic::debugtrap);</div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;        <span class="keyword">auto</span> *CallTrap = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateCall(TrapFn);</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;        CallTrap-&gt;setDebugLoc(CB.<a class="code" href="classllvm_1_1Instruction.html#ab4f3bf98b5054831b608852e33427814">getDebugLoc</a>());</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;      }</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160; </div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;      <span class="comment">// If fallback checking is enabled, add support to compare the virtual</span></div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;      <span class="comment">// function pointer to the devirtualized target. In case of a mismatch,</span></div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;      <span class="comment">// fall back to indirect call.</span></div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="WholeProgramDevirt_8cpp.html#addb6a617cedbc1f40ead7688012ee5b3">DevirtCheckMode</a> == <a class="code" href="WholeProgramDevirt_8cpp.html#a0e65aef39009b683d7acb5884ae47421aad98505ec3c6cabbb406c37037410854">WPDCheckMode::Fallback</a>) {</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;        <a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *Weights =</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;            <a class="code" href="classllvm_1_1MDBuilder.html">MDBuilder</a>(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getContext()).<a class="code" href="classllvm_1_1MDBuilder.html#ad910125a9cfd76aaad7f69469df22f66">createBranchWeights</a>((1U &lt;&lt; 20) - 1, 1);</div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;        <span class="comment">// Version the indirect call site. If the called value is equal to the</span></div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;        <span class="comment">// given callee, &#39;NewInst&#39; will be executed, otherwise the original call</span></div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;        <span class="comment">// site will be executed.</span></div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;        <a class="code" href="classllvm_1_1CallBase.html">CallBase</a> &amp;NewInst = <a class="code" href="namespacellvm.html#a84163d559062da6b736ab943644e0a16">versionCallSite</a>(CB, Callee, Weights);</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;        NewInst.<a class="code" href="classllvm_1_1CallBase.html#ad70fe60b7ed052c6a74863944b518251">setCalledOperand</a>(Callee);</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;        <span class="comment">// Since the new call site is direct, we must clear metadata that</span></div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;        <span class="comment">// is only appropriate for indirect calls. This includes !prof and</span></div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;        <span class="comment">// !callees metadata.</span></div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;        NewInst.<a class="code" href="classllvm_1_1Instruction.html#a9247a212ea89acc9573fa7e7f557eaba">setMetadata</a>(LLVMContext::MD_prof, <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;        NewInst.<a class="code" href="classllvm_1_1Instruction.html#a9247a212ea89acc9573fa7e7f557eaba">setMetadata</a>(LLVMContext::MD_callees, <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;        <span class="comment">// Additionally, we should remove them from the fallback indirect call,</span></div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;        <span class="comment">// so that we don&#39;t attempt to perform indirect call promotion later.</span></div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;        CB.<a class="code" href="classllvm_1_1Instruction.html#a9247a212ea89acc9573fa7e7f557eaba">setMetadata</a>(LLVMContext::MD_prof, <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;        CB.<a class="code" href="classllvm_1_1Instruction.html#a9247a212ea89acc9573fa7e7f557eaba">setMetadata</a>(LLVMContext::MD_callees, <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;      }</div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160; </div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;      <span class="comment">// In either trapping or non-checking mode, devirtualize original call.</span></div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;      <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;        <span class="comment">// Devirtualize unconditionally.</span></div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;        CB.<a class="code" href="classllvm_1_1CallBase.html#ad70fe60b7ed052c6a74863944b518251">setCalledOperand</a>(Callee);</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;        <span class="comment">// Since the call site is now direct, we must clear metadata that</span></div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;        <span class="comment">// is only appropriate for indirect calls. This includes !prof and</span></div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;        <span class="comment">// !callees metadata.</span></div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;        CB.<a class="code" href="classllvm_1_1Instruction.html#a9247a212ea89acc9573fa7e7f557eaba">setMetadata</a>(LLVMContext::MD_prof, <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;        CB.<a class="code" href="classllvm_1_1Instruction.html#a9247a212ea89acc9573fa7e7f557eaba">setMetadata</a>(LLVMContext::MD_callees, <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;      }</div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160; </div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;      <span class="comment">// This use is no longer unsafe.</span></div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;      <span class="keywordflow">if</span> (VCallSite.NumUnsafeUses)</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;        --*VCallSite.NumUnsafeUses;</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;    }</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;    <span class="keywordflow">if</span> (CSInfo.isExported())</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;      IsExported = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;    CSInfo.markDevirt();</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;  };</div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;  Apply(SlotInfo.CSInfo);</div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> : SlotInfo.ConstCSInfo)</div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;    Apply(<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.second);</div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;}</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160; </div>
<div class="line"><a name="l01174"></a><span class="lineno"><a class="line" href="WholeProgramDevirt_8cpp.html#aa8309e74a87a287dfe316da0535c4722"> 1174</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="WholeProgramDevirt_8cpp.html#aa8309e74a87a287dfe316da0535c4722">AddCalls</a>(VTableSlotInfo &amp;SlotInfo, <span class="keyword">const</span> <a class="code" href="structllvm_1_1ValueInfo.html">ValueInfo</a> &amp;Callee) {</div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;  <span class="comment">// We can&#39;t add calls if we haven&#39;t seen a definition</span></div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a>.getSummaryList().empty())</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160; </div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;  <span class="comment">// Insert calls into the summary index so that the devirtualized targets</span></div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;  <span class="comment">// are eligible for import.</span></div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;  <span class="comment">// FIXME: Annotate type tests with hotness. For now, mark these as hot</span></div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;  <span class="comment">// to better ensure we have the opportunity to inline them.</span></div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;  <span class="keywordtype">bool</span> IsExported = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;  <span class="keyword">auto</span> &amp;<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> = <a class="code" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a>.getSummaryList()[0];</div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;  <a class="code" href="structllvm_1_1CalleeInfo.html">CalleeInfo</a> CI(<a class="code" href="structllvm_1_1CalleeInfo.html#a2413e35985411a461b9ab03c17c01caaa4194726ee334e1085d93e002837b73f0">CalleeInfo::HotnessType::Hot</a>, <span class="comment">/* RelBF = */</span> 0);</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;  <span class="keyword">auto</span> <a class="code" href="WholeProgramDevirt_8cpp.html#aa8309e74a87a287dfe316da0535c4722">AddCalls</a> = [&amp;](CallSiteInfo &amp;CSInfo) {</div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> *<a class="code" href="namespacellvm_1_1X86AS.html#aea2591d7d017866934bcf72ee3dc8a31a5b3a782ccae295a254e2794ad30ad07f">FS</a> : CSInfo.SummaryTypeCheckedLoadUsers) {</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;      <a class="code" href="namespacellvm_1_1X86AS.html#aea2591d7d017866934bcf72ee3dc8a31a5b3a782ccae295a254e2794ad30ad07f">FS</a>-&gt;addCall({<a class="code" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a>, CI});</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;      IsExported |= <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>-&gt;modulePath() != <a class="code" href="namespacellvm_1_1X86AS.html#aea2591d7d017866934bcf72ee3dc8a31a5b3a782ccae295a254e2794ad30ad07f">FS</a>-&gt;modulePath();</div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;    }</div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> *<a class="code" href="namespacellvm_1_1X86AS.html#aea2591d7d017866934bcf72ee3dc8a31a5b3a782ccae295a254e2794ad30ad07f">FS</a> : CSInfo.SummaryTypeTestAssumeUsers) {</div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;      <a class="code" href="namespacellvm_1_1X86AS.html#aea2591d7d017866934bcf72ee3dc8a31a5b3a782ccae295a254e2794ad30ad07f">FS</a>-&gt;addCall({<a class="code" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a>, CI});</div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;      IsExported |= <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>-&gt;modulePath() != <a class="code" href="namespacellvm_1_1X86AS.html#aea2591d7d017866934bcf72ee3dc8a31a5b3a782ccae295a254e2794ad30ad07f">FS</a>-&gt;modulePath();</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;    }</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;  };</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;  <a class="code" href="WholeProgramDevirt_8cpp.html#aa8309e74a87a287dfe316da0535c4722">AddCalls</a>(SlotInfo.CSInfo);</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> : SlotInfo.ConstCSInfo)</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;    <a class="code" href="WholeProgramDevirt_8cpp.html#aa8309e74a87a287dfe316da0535c4722">AddCalls</a>(<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.second);</div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;  <span class="keywordflow">return</span> IsExported;</div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;}</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160; </div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;<span class="keywordtype">bool</span> DevirtModule::trySingleImplDevirt(</div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;    <a class="code" href="classllvm_1_1ModuleSummaryIndex.html">ModuleSummaryIndex</a> *ExportSummary,</div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;    <a class="code" href="classllvm_1_1MutableArrayRef.html">MutableArrayRef&lt;VirtualCallTarget&gt;</a> TargetsForSlot, VTableSlotInfo &amp;SlotInfo,</div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;    <a class="code" href="structllvm_1_1WholeProgramDevirtResolution.html">WholeProgramDevirtResolution</a> *Res) {</div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;  <span class="comment">// See if the program contains a single implementation of this virtual</span></div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;  <span class="comment">// function.</span></div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;  <a class="code" href="classllvm_1_1Function.html">Function</a> *TheFn = TargetsForSlot[0].Fn;</div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;&amp;<a class="code" href="classllvm_1_1Target.html">Target</a> : TargetsForSlot)</div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;    <span class="keywordflow">if</span> (TheFn != <a class="code" href="classllvm_1_1Target.html">Target</a>.Fn)</div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160; </div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;  <span class="comment">// If so, update each call site to call that implementation directly.</span></div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;  <span class="keywordflow">if</span> (RemarksEnabled || <a class="code" href="namespacellvm.html#a846137dc22b3b399b62f606698f3ed59">AreStatisticsEnabled</a>())</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;    TargetsForSlot[0].WasDevirt = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160; </div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;  <span class="keywordtype">bool</span> IsExported = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;  applySingleImplDevirt(SlotInfo, TheFn, IsExported);</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;  <span class="keywordflow">if</span> (!IsExported)</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160; </div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;  <span class="comment">// If the only implementation has local linkage, we must promote to external</span></div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;  <span class="comment">// to make it visible to thin LTO objects. We can only get here during the</span></div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;  <span class="comment">// ThinLTO export phase.</span></div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;  <span class="keywordflow">if</span> (TheFn-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a3ba1af4b9d9faa4a33729bbbecee83d1">hasLocalLinkage</a>()) {</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;    std::string NewName = (TheFn-&gt;<a class="code" href="classllvm_1_1Value.html#adb5c319f5905c1d3ca9eb5df546388c5">getName</a>() + <span class="stringliteral">&quot;.llvm.merged&quot;</span>).str();</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160; </div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;    <span class="comment">// Since we are renaming the function, any comdats with the same name must</span></div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;    <span class="comment">// also be renamed. This is required when targeting COFF, as the comdat name</span></div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;    <span class="comment">// must match one of the names of the symbols in the comdat.</span></div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Comdat.html">Comdat</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = TheFn-&gt;<a class="code" href="classllvm_1_1GlobalObject.html#acf0971ce854ef3c526eb7e33d52391a8">getComdat</a>()) {</div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;getName() == TheFn-&gt;<a class="code" href="classllvm_1_1Value.html#adb5c319f5905c1d3ca9eb5df546388c5">getName</a>()) {</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;        <a class="code" href="classllvm_1_1Comdat.html">Comdat</a> *NewC = <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getOrInsertComdat(NewName);</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;        NewC-&gt;<a class="code" href="classllvm_1_1Comdat.html#ad8e5834e05be0104c4d64a3b4edeb51b">setSelectionKind</a>(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;getSelectionKind());</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1GlobalObject.html">GlobalObject</a> &amp;GO : <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.global_objects())</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;          <span class="keywordflow">if</span> (GO.getComdat() == <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>)</div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;            GO.setComdat(NewC);</div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;      }</div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;    }</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160; </div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;    TheFn-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a687973de03d041e04b50a76d19d4fd36">setLinkage</a>(<a class="code" href="classllvm_1_1GlobalValue.html#aedfa75f0c85c4aa85b257f066fbea57ca6c93794d7b99cd433e96c53eadb15a6e">GlobalValue::ExternalLinkage</a>);</div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;    TheFn-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#aa242d8ab89216c14beab812e07009b2a">setVisibility</a>(<a class="code" href="classllvm_1_1GlobalValue.html#a9141f967188383108a69cc1b8ed3c195a7eade123587a08e674f2ca72e2443771">GlobalValue::HiddenVisibility</a>);</div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;    TheFn-&gt;<a class="code" href="classllvm_1_1Value.html#a35ee267850af7c235474a8c46c7ac5af">setName</a>(NewName);</div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;  }</div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="structllvm_1_1ValueInfo.html">ValueInfo</a> TheFnVI = ExportSummary-&gt;<a class="code" href="classllvm_1_1ModuleSummaryIndex.html#a62fac0638e2f98e3a85a13fd8deefdc5">getValueInfo</a>(TheFn-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a97918d8b2f03a703571385ca2d0fe5cd">getGUID</a>()))</div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;    <span class="comment">// Any needed promotion of &#39;TheFn&#39; has already been done during</span></div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;    <span class="comment">// LTO unit split, so we can ignore return value of AddCalls.</span></div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;    <a class="code" href="WholeProgramDevirt_8cpp.html#aa8309e74a87a287dfe316da0535c4722">AddCalls</a>(SlotInfo, TheFnVI);</div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160; </div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;  Res-&gt;<a class="code" href="structllvm_1_1WholeProgramDevirtResolution.html#a11bddbadb47e3bd7803ded5d4f4248fc">TheKind</a> = <a class="code" href="structllvm_1_1WholeProgramDevirtResolution.html#ae992643f8965e97ffbc353b083615208a05ee7e7ff849410d68ccfd73e177387f">WholeProgramDevirtResolution::SingleImpl</a>;</div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;  Res-&gt;<a class="code" href="structllvm_1_1WholeProgramDevirtResolution.html#ab97c12959c5cc7b46b115da7e1ac5047">SingleImplName</a> = std::string(TheFn-&gt;<a class="code" href="classllvm_1_1Value.html#adb5c319f5905c1d3ca9eb5df546388c5">getName</a>());</div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160; </div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;}</div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160; </div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;<span class="keywordtype">bool</span> DevirtIndex::trySingleImplDevirt(<a class="code" href="classllvm_1_1MutableArrayRef.html">MutableArrayRef&lt;ValueInfo&gt;</a> TargetsForSlot,</div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;                                      <a class="code" href="structllvm_1_1VTableSlotSummary.html">VTableSlotSummary</a> &amp;SlotSummary,</div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;                                      VTableSlotInfo &amp;SlotInfo,</div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;                                      <a class="code" href="structllvm_1_1WholeProgramDevirtResolution.html">WholeProgramDevirtResolution</a> *Res,</div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;                                      std::set&lt;ValueInfo&gt; &amp;DevirtTargets) {</div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;  <span class="comment">// See if the program contains a single implementation of this virtual</span></div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;  <span class="comment">// function.</span></div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;  <span class="keyword">auto</span> TheFn = TargetsForSlot[0];</div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;&amp;<a class="code" href="classllvm_1_1Target.html">Target</a> : TargetsForSlot)</div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;    <span class="keywordflow">if</span> (TheFn != <a class="code" href="classllvm_1_1Target.html">Target</a>)</div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160; </div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;  <span class="comment">// Don&#39;t devirtualize if we don&#39;t have target definition.</span></div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;  <span class="keyword">auto</span> <a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a> = TheFn.getSummaryList().<a class="code" href="classllvm_1_1Function.html#a969eb757b1e43b455d4a8d0f603e695b">size</a>();</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;  <span class="keywordflow">if</span> (!Size)</div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160; </div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;  <span class="comment">// Don&#39;t devirtualize function if we&#39;re told to skip it</span></div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;  <span class="comment">// in -wholeprogramdevirt-skip.</span></div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;  <span class="keywordflow">if</span> (FunctionsToSkip.match(TheFn.name()))</div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160; </div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;  <span class="comment">// If the summary list contains multiple summaries where at least one is</span></div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;  <span class="comment">// a local, give up, as we won&#39;t know which (possibly promoted) name to use.</span></div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> : TheFn.getSummaryList())</div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1GlobalValue.html#a308b65a044b4f53e31a2026a81c991d2">GlobalValue::isLocalLinkage</a>(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>-&gt;linkage()) &amp;&amp; Size &gt; 1)</div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160; </div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;  <span class="comment">// Collect functions devirtualized at least for one call site for stats.</span></div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="WholeProgramDevirt_8cpp.html#a97077477d41e7efa4168b4cb7167919a">PrintSummaryDevirt</a> || <a class="code" href="namespacellvm.html#a846137dc22b3b399b62f606698f3ed59">AreStatisticsEnabled</a>())</div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;    DevirtTargets.insert(TheFn);</div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160; </div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;  <span class="keyword">auto</span> &amp;<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> = TheFn.getSummaryList()[0];</div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;  <span class="keywordtype">bool</span> IsExported = <a class="code" href="WholeProgramDevirt_8cpp.html#aa8309e74a87a287dfe316da0535c4722">AddCalls</a>(SlotInfo, TheFn);</div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;  <span class="keywordflow">if</span> (IsExported)</div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;    ExportedGUIDs.insert(TheFn.<a class="code" href="classllvm_1_1GlobalValue.html#a97918d8b2f03a703571385ca2d0fe5cd">getGUID</a>());</div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160; </div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;  <span class="comment">// Record in summary for use in devirtualization during the ThinLTO import</span></div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;  <span class="comment">// step.</span></div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;  Res-&gt;<a class="code" href="structllvm_1_1WholeProgramDevirtResolution.html#a11bddbadb47e3bd7803ded5d4f4248fc">TheKind</a> = <a class="code" href="structllvm_1_1WholeProgramDevirtResolution.html#ae992643f8965e97ffbc353b083615208a05ee7e7ff849410d68ccfd73e177387f">WholeProgramDevirtResolution::SingleImpl</a>;</div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1GlobalValue.html#a308b65a044b4f53e31a2026a81c991d2">GlobalValue::isLocalLinkage</a>(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>-&gt;linkage())) {</div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;    <span class="keywordflow">if</span> (IsExported)</div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;      <span class="comment">// If target is a local function and we are exporting it by</span></div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;      <span class="comment">// devirtualizing a call in another module, we need to record the</span></div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;      <span class="comment">// promoted name.</span></div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;      Res-&gt;<a class="code" href="structllvm_1_1WholeProgramDevirtResolution.html#ab97c12959c5cc7b46b115da7e1ac5047">SingleImplName</a> = <a class="code" href="classllvm_1_1ModuleSummaryIndex.html#ab2a95e6bf06c717c20fc64f6c1e5a2fa">ModuleSummaryIndex::getGlobalNameForLocal</a>(</div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;          TheFn.name(), ExportSummary.<a class="code" href="classllvm_1_1ModuleSummaryIndex.html#af8be100904c0e077cd3075ebb53b4abe">getModuleHash</a>(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>-&gt;modulePath()));</div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;      LocalWPDTargetsMap[TheFn].push_back(SlotSummary);</div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;      Res-&gt;<a class="code" href="structllvm_1_1WholeProgramDevirtResolution.html#ab97c12959c5cc7b46b115da7e1ac5047">SingleImplName</a> = std::string(TheFn.name());</div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;    }</div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;  } <span class="keywordflow">else</span></div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;    Res-&gt;<a class="code" href="structllvm_1_1WholeProgramDevirtResolution.html#ab97c12959c5cc7b46b115da7e1ac5047">SingleImplName</a> = std::string(TheFn.name());</div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160; </div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;  <span class="comment">// Name will be empty if this thin link driven off of serialized combined</span></div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;  <span class="comment">// index (e.g. llvm-lto). However, WPD is not supported/invoked for the</span></div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;  <span class="comment">// legacy LTO API anyway.</span></div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!Res-&gt;<a class="code" href="structllvm_1_1WholeProgramDevirtResolution.html#ab97c12959c5cc7b46b115da7e1ac5047">SingleImplName</a>.empty());</div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160; </div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;}</div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160; </div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;<span class="keywordtype">void</span> DevirtModule::tryICallBranchFunnel(</div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;    <a class="code" href="classllvm_1_1MutableArrayRef.html">MutableArrayRef&lt;VirtualCallTarget&gt;</a> TargetsForSlot, VTableSlotInfo &amp;SlotInfo,</div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;    <a class="code" href="structllvm_1_1WholeProgramDevirtResolution.html">WholeProgramDevirtResolution</a> *Res, VTableSlot Slot) {</div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;  <a class="code" href="classllvm_1_1Triple.html">Triple</a> <a class="code" href="classT.html">T</a>(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getTargetTriple());</div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classT.html">T</a>.getArch() != <a class="code" href="classllvm_1_1Triple.html#a547abd13f7a3c063aa72c8192a868154a13d8ce5e71051718a537277c6a594062">Triple::x86_64</a>)</div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160; </div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;  <span class="keywordflow">if</span> (TargetsForSlot.size() &gt; <a class="code" href="WholeProgramDevirt_8cpp.html#aaf0cd70cef0167d0914961b3ea9b72b9">ClThreshold</a>)</div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160; </div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;  <span class="keywordtype">bool</span> HasNonDevirt = !SlotInfo.CSInfo.AllCallSitesDevirted;</div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;  <span class="keywordflow">if</span> (!HasNonDevirt)</div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> : SlotInfo.ConstCSInfo)</div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.second.AllCallSitesDevirted) {</div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;        HasNonDevirt = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;      }</div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160; </div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;  <span class="keywordflow">if</span> (!HasNonDevirt)</div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160; </div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;  <a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a> *FT =</div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;      <a class="code" href="classllvm_1_1FunctionType.html#a7e89b55242c964ae61b7850e99cacef0">FunctionType::get</a>(<a class="code" href="classllvm_1_1Type.html#a6e20e76960d952de088354cbcd14c3ab">Type::getVoidTy</a>(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getContext()), {Int8PtrTy}, <span class="keyword">true</span>);</div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;  <a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="namespacellvm_1_1HexagonISD.html#ab37bf6c49bc26c43ddd958218f63ba00a6aef1658dc627ec13f4fc59382463d9e">JT</a>;</div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;  <span class="keywordflow">if</span> (isa&lt;MDString&gt;(<a class="code" href="namespacellvm_1_1pdb.html#a5dbb1abfb6d3c14555304f9c56703234a9234cc57c43f272b55a94b0069fe62d1">Slot</a>.TypeID)) {</div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;    <a class="code" href="namespacellvm_1_1HexagonISD.html#ab37bf6c49bc26c43ddd958218f63ba00a6aef1658dc627ec13f4fc59382463d9e">JT</a> = <a class="code" href="classllvm_1_1Function.html#a6adbed68009f582caa84cdfd2adf36f1">Function::Create</a>(FT, <a class="code" href="classllvm_1_1GlobalValue.html#aedfa75f0c85c4aa85b257f066fbea57ca6c93794d7b99cd433e96c53eadb15a6e">Function::ExternalLinkage</a>,</div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;                          <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getDataLayout().getProgramAddressSpace(),</div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;                          getGlobalName(Slot, {}, <span class="stringliteral">&quot;branch_funnel&quot;</span>), &amp;M);</div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;    <a class="code" href="namespacellvm_1_1HexagonISD.html#ab37bf6c49bc26c43ddd958218f63ba00a6aef1658dc627ec13f4fc59382463d9e">JT</a>-&gt;setVisibility(<a class="code" href="classllvm_1_1GlobalValue.html#a9141f967188383108a69cc1b8ed3c195a7eade123587a08e674f2ca72e2443771">GlobalValue::HiddenVisibility</a>);</div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;    <a class="code" href="namespacellvm_1_1HexagonISD.html#ab37bf6c49bc26c43ddd958218f63ba00a6aef1658dc627ec13f4fc59382463d9e">JT</a> = <a class="code" href="classllvm_1_1Function.html#a6adbed68009f582caa84cdfd2adf36f1">Function::Create</a>(FT, <a class="code" href="classllvm_1_1GlobalValue.html#aedfa75f0c85c4aa85b257f066fbea57ca1511edd03e02d1f3dd277a3c6abf6ad5">Function::InternalLinkage</a>,</div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;                          <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getDataLayout().getProgramAddressSpace(),</div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;                          <span class="stringliteral">&quot;branch_funnel&quot;</span>, &amp;M);</div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;  }</div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;  <a class="code" href="namespacellvm_1_1HexagonISD.html#ab37bf6c49bc26c43ddd958218f63ba00a6aef1658dc627ec13f4fc59382463d9e">JT</a>-&gt;addParamAttr(0, Attribute::Nest);</div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160; </div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;  std::vector&lt;Value *&gt; JTArgs;</div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;  JTArgs.push_back(<a class="code" href="namespacellvm_1_1HexagonISD.html#ab37bf6c49bc26c43ddd958218f63ba00a6aef1658dc627ec13f4fc59382463d9e">JT</a>-&gt;arg_begin());</div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code" href="classT.html">T</a> : TargetsForSlot) {</div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;    JTArgs.push_back(getMemberAddr(<a class="code" href="classT.html">T</a>.TM));</div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;    JTArgs.push_back(<a class="code" href="classT.html">T</a>.Fn);</div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;  }</div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160; </div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;  <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a> = <a class="code" href="classllvm_1_1BasicBlock.html#ace940beeee97c222f836fe0ac70f6cf5">BasicBlock::Create</a>(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getContext(), <span class="stringliteral">&quot;&quot;</span>, <a class="code" href="namespacellvm_1_1HexagonISD.html#ab37bf6c49bc26c43ddd958218f63ba00a6aef1658dc627ec13f4fc59382463d9e">JT</a>, <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;  <a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="AMDGPUBaseInfo_8cpp.html#ad18f9973176b870e59d30b81d8a1091e">Intr</a> =</div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;      <a class="code" href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">Intrinsic::getDeclaration</a>(&amp;M, llvm::Intrinsic::icall_branch_funnel, {});</div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160; </div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;  <span class="keyword">auto</span> *CI = <a class="code" href="classllvm_1_1CallInst.html#a850d8262cd900958b3153c4aa080b2bb">CallInst::Create</a>(<a class="code" href="AMDGPUBaseInfo_8cpp.html#ad18f9973176b870e59d30b81d8a1091e">Intr</a>, JTArgs, <span class="stringliteral">&quot;&quot;</span>, <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>);</div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;  CI-&gt;setTailCallKind(<a class="code" href="classllvm_1_1CallInst.html#ad682514c13f12f1a8d759d422fce6aefa2c3fc2c37f5db1dd777fad4e0d33ec7e">CallInst::TCK_MustTail</a>);</div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;  <a class="code" href="classllvm_1_1ReturnInst.html#a8c4c3b7c7daea37c75c50563654bf934">ReturnInst::Create</a>(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getContext(), <span class="keyword">nullptr</span>, <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>);</div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160; </div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;  <span class="keywordtype">bool</span> IsExported = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;  applyICallBranchFunnel(SlotInfo, <a class="code" href="namespacellvm_1_1HexagonISD.html#ab37bf6c49bc26c43ddd958218f63ba00a6aef1658dc627ec13f4fc59382463d9e">JT</a>, IsExported);</div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;  <span class="keywordflow">if</span> (IsExported)</div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;    Res-&gt;<a class="code" href="structllvm_1_1WholeProgramDevirtResolution.html#a11bddbadb47e3bd7803ded5d4f4248fc">TheKind</a> = <a class="code" href="structllvm_1_1WholeProgramDevirtResolution.html#ae992643f8965e97ffbc353b083615208ac74c33fab6fb30be2bf7db1f86b0853d">WholeProgramDevirtResolution::BranchFunnel</a>;</div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;}</div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160; </div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;<span class="keywordtype">void</span> DevirtModule::applyICallBranchFunnel(VTableSlotInfo &amp;SlotInfo,</div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;                                          <a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="namespacellvm_1_1HexagonISD.html#ab37bf6c49bc26c43ddd958218f63ba00a6aef1658dc627ec13f4fc59382463d9e">JT</a>, <span class="keywordtype">bool</span> &amp;IsExported) {</div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;  <span class="keyword">auto</span> Apply = [&amp;](CallSiteInfo &amp;CSInfo) {</div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;    <span class="keywordflow">if</span> (CSInfo.isExported())</div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;      IsExported = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;    <span class="keywordflow">if</span> (CSInfo.AllCallSitesDevirted)</div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;&amp;VCallSite : CSInfo.CallSites) {</div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;      <a class="code" href="classllvm_1_1CallBase.html">CallBase</a> &amp;CB = VCallSite.CB;</div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160; </div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;      <span class="comment">// Jump tables are only profitable if the retpoline mitigation is enabled.</span></div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;      <a class="code" href="classllvm_1_1Attribute.html">Attribute</a> FSAttr = CB.<a class="code" href="classllvm_1_1CallBase.html#afac5b39bcbb90d660f83d9b4bd8c6d95">getCaller</a>()-&gt;<a class="code" href="classllvm_1_1Function.html#a4c319db4fe05c27cfe55bd133a87414d">getFnAttribute</a>(<span class="stringliteral">&quot;target-features&quot;</span>);</div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;      <span class="keywordflow">if</span> (!FSAttr.<a class="code" href="classllvm_1_1Attribute.html#adf4d22686e85732b2fef71e3c45531c6">isValid</a>() ||</div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;          !FSAttr.<a class="code" href="classllvm_1_1Attribute.html#a968930aea9d9efa8d46dd890fce75643">getValueAsString</a>().<a class="code" href="classllvm_1_1StringRef.html#a83a294111af6d4412163b209725ca556">contains</a>(<span class="stringliteral">&quot;+retpoline&quot;</span>))</div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160; </div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;      NumBranchFunnel++;</div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;      <span class="keywordflow">if</span> (RemarksEnabled)</div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;        VCallSite.emitRemark(<span class="stringliteral">&quot;branch-funnel&quot;</span>,</div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;                             <a class="code" href="namespacellvm_1_1HexagonISD.html#ab37bf6c49bc26c43ddd958218f63ba00a6aef1658dc627ec13f4fc59382463d9e">JT</a>-&gt;stripPointerCasts()-&gt;getName(), OREGetter);</div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160; </div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;      <span class="comment">// Pass the address of the vtable in the nest register, which is r10 on</span></div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;      <span class="comment">// x86_64.</span></div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;      std::vector&lt;Type *&gt; NewArgs;</div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;      NewArgs.push_back(Int8PtrTy);</div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;      <a class="code" href="namespacellvm.html#a39d3d23a084c4544ee5903203db10e8a">append_range</a>(NewArgs, CB.<a class="code" href="classllvm_1_1CallBase.html#a5e4a09f80c7cd5283dbbc7256d122d12">getFunctionType</a>()-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a0400b7a6fcffcd3892d7bb6de435674a">params</a>());</div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;      <a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a> *NewFT =</div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;          <a class="code" href="classllvm_1_1FunctionType.html#a7e89b55242c964ae61b7850e99cacef0">FunctionType::get</a>(CB.<a class="code" href="classllvm_1_1CallBase.html#a5e4a09f80c7cd5283dbbc7256d122d12">getFunctionType</a>()-&gt;<a class="code" href="classllvm_1_1FunctionType.html#ac453ad79a3d50950bac79bc9dff85918">getReturnType</a>(), NewArgs,</div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;                            CB.<a class="code" href="classllvm_1_1CallBase.html#a5e4a09f80c7cd5283dbbc7256d122d12">getFunctionType</a>()-&gt;<a class="code" href="classllvm_1_1FunctionType.html#aa9d770048c7ab9e08222a50b7bc1be1c">isVarArg</a>());</div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;      <a class="code" href="classllvm_1_1PointerType.html">PointerType</a> *NewFTPtr = <a class="code" href="classllvm_1_1PointerType.html#a8db49fd5069f21d514e7bb0fd11f0902">PointerType::getUnqual</a>(NewFT);</div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160; </div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;      <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> IRB(&amp;CB);</div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;      std::vector&lt;Value *&gt; <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>;</div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;      <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>.push_back(IRB.CreateBitCast(VCallSite.VTable, Int8PtrTy));</div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;      <a class="code" href="namespacellvm.html#a39d3d23a084c4544ee5903203db10e8a">llvm::append_range</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>, CB.<a class="code" href="classllvm_1_1CallBase.html#ac63dbb4994494c46f025715272cdb81e">args</a>());</div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160; </div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;      <a class="code" href="classllvm_1_1CallBase.html">CallBase</a> *NewCS = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;      <span class="keywordflow">if</span> (isa&lt;CallInst&gt;(CB))</div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;        NewCS = IRB.CreateCall(NewFT, IRB.CreateBitCast(<a class="code" href="namespacellvm_1_1HexagonISD.html#ab37bf6c49bc26c43ddd958218f63ba00a6aef1658dc627ec13f4fc59382463d9e">JT</a>, NewFTPtr), <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>);</div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;        NewCS = IRB.CreateInvoke(NewFT, IRB.CreateBitCast(<a class="code" href="namespacellvm_1_1HexagonISD.html#ab37bf6c49bc26c43ddd958218f63ba00a6aef1658dc627ec13f4fc59382463d9e">JT</a>, NewFTPtr),</div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;                                 cast&lt;InvokeInst&gt;(CB).getNormalDest(),</div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;                                 cast&lt;InvokeInst&gt;(CB).getUnwindDest(), <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>);</div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;      NewCS-&gt;<a class="code" href="classllvm_1_1CallBase.html#a0851b4de29686e9c3918449b054cfada">setCallingConv</a>(CB.<a class="code" href="classllvm_1_1CallBase.html#a3ff92cec76009e859cb0c419d6e8ba5f">getCallingConv</a>());</div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160; </div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;      <a class="code" href="classllvm_1_1AttributeList.html">AttributeList</a> <a class="code" href="README__ALTIVEC_8txt.html#a9d3ba236d13373cde794da2023acc7a0">Attrs</a> = CB.<a class="code" href="classllvm_1_1CallBase.html#ae0c55761fce39dd71617690b04385193">getAttributes</a>();</div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;      std::vector&lt;AttributeSet&gt; NewArgAttrs;</div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;      NewArgAttrs.push_back(<a class="code" href="classllvm_1_1AttributeSet.html#ae8ed437b15a7ca943716e5284a9cb9a6">AttributeSet::get</a>(</div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;          <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getContext(), <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;Attribute&gt;</a>{Attribute::get(</div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;                              M.getContext(), Attribute::Nest)}));</div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 0; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> + 2 &lt;  <a class="code" href="README__ALTIVEC_8txt.html#a9d3ba236d13373cde794da2023acc7a0">Attrs</a>.getNumAttrSets(); ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;        NewArgAttrs.push_back(<a class="code" href="README__ALTIVEC_8txt.html#a9d3ba236d13373cde794da2023acc7a0">Attrs</a>.getParamAttrs(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>));</div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;      NewCS-&gt;<a class="code" href="classllvm_1_1CallBase.html#a9da3b29e8e71b9be4645874e1721207a">setAttributes</a>(</div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;          <a class="code" href="classllvm_1_1AttributeList.html#a5cc6492c8f2e06a8bae9dc0d121fab9f">AttributeList::get</a>(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getContext(), <a class="code" href="README__ALTIVEC_8txt.html#a9d3ba236d13373cde794da2023acc7a0">Attrs</a>.getFnAttrs(),</div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;                             <a class="code" href="README__ALTIVEC_8txt.html#a9d3ba236d13373cde794da2023acc7a0">Attrs</a>.getRetAttrs(), NewArgAttrs));</div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160; </div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;      CB.<a class="code" href="classllvm_1_1Value.html#a3ab5fc45117b450e8bb04e564cb6e5f2">replaceAllUsesWith</a>(NewCS);</div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;      CB.<a class="code" href="classllvm_1_1Instruction.html#ae6b978645b8ac72d1a35e1298ffdd4f0">eraseFromParent</a>();</div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160; </div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;      <span class="comment">// This use is no longer unsafe.</span></div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;      <span class="keywordflow">if</span> (VCallSite.NumUnsafeUses)</div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;        --*VCallSite.NumUnsafeUses;</div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;    }</div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;    <span class="comment">// Don&#39;t mark as devirtualized because there may be callers compiled without</span></div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;    <span class="comment">// retpoline mitigation, which would mean that they are lowered to</span></div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;    <span class="comment">// llvm.type.test and therefore require an llvm.type.test resolution for the</span></div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;    <span class="comment">// type identifier.</span></div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;  };</div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;  Apply(SlotInfo.CSInfo);</div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> : SlotInfo.ConstCSInfo)</div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;    Apply(<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.second);</div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;}</div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160; </div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;<span class="keywordtype">bool</span> DevirtModule::tryEvaluateFunctionsWithArgs(</div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;    <a class="code" href="classllvm_1_1MutableArrayRef.html">MutableArrayRef&lt;VirtualCallTarget&gt;</a> TargetsForSlot,</div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;    <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;uint64_t&gt;</a> <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>) {</div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;  <span class="comment">// Evaluate each function and store the result in each target&#39;s RetVal</span></div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;  <span class="comment">// field.</span></div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="structllvm_1_1wholeprogramdevirt_1_1VirtualCallTarget.html">VirtualCallTarget</a> &amp;<a class="code" href="classllvm_1_1Target.html">Target</a> : TargetsForSlot) {</div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Target.html">Target</a>.Fn-&gt;arg_size() != <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>.size() + 1)</div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160; </div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;    <a class="code" href="classllvm_1_1Evaluator.html">Evaluator</a> Eval(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getDataLayout(), <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Constant *, 2&gt;</a> EvalArgs;</div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;    EvalArgs.push_back(</div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;        <a class="code" href="classllvm_1_1Constant.html#aa6574d526b3e38a28f688a7bb4325c2c">Constant::getNullValue</a>(<a class="code" href="classllvm_1_1Target.html">Target</a>.Fn-&gt;getFunctionType()-&gt;getParamType(0)));</div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 0; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>.size(); ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;      <span class="keyword">auto</span> *ArgTy = dyn_cast&lt;IntegerType&gt;(</div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;          <a class="code" href="classllvm_1_1Target.html">Target</a>.Fn-&gt;getFunctionType()-&gt;getParamType(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> + 1));</div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;      <span class="keywordflow">if</span> (!ArgTy)</div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;      EvalArgs.push_back(<a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(ArgTy, <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>]));</div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;    }</div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160; </div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;    <a class="code" href="classllvm_1_1Constant.html">Constant</a> *RetVal;</div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;    <span class="keywordflow">if</span> (!Eval.EvaluateFunction(<a class="code" href="classllvm_1_1Target.html">Target</a>.Fn, RetVal, EvalArgs) ||</div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;        !isa&lt;ConstantInt&gt;(RetVal))</div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;    <a class="code" href="classllvm_1_1Target.html">Target</a>.RetVal = cast&lt;ConstantInt&gt;(RetVal)-&gt;getZExtValue();</div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;  }</div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;}</div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160; </div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;<span class="keywordtype">void</span> DevirtModule::applyUniformRetValOpt(CallSiteInfo &amp;CSInfo, <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> FnName,</div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;                                         <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> TheRetVal) {</div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> Call : CSInfo.CallSites) {</div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;    <span class="keywordflow">if</span> (!OptimizedCalls.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">insert</a>(&amp;<a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>.CB).second)</div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;    NumUniformRetVal++;</div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;    <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>.replaceAndErase(</div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;        <span class="stringliteral">&quot;uniform-ret-val&quot;</span>, FnName, RemarksEnabled, OREGetter,</div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;        <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(cast&lt;IntegerType&gt;(<a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>.CB.getType()), TheRetVal));</div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;  }</div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;  CSInfo.markDevirt();</div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;}</div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160; </div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;<span class="keywordtype">bool</span> DevirtModule::tryUniformRetValOpt(</div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;    <a class="code" href="classllvm_1_1MutableArrayRef.html">MutableArrayRef&lt;VirtualCallTarget&gt;</a> TargetsForSlot, CallSiteInfo &amp;CSInfo,</div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;    <a class="code" href="structllvm_1_1WholeProgramDevirtResolution_1_1ByArg.html">WholeProgramDevirtResolution::ByArg</a> *Res) {</div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;  <span class="comment">// Uniform return value optimization. If all functions return the same</span></div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;  <span class="comment">// constant, replace all calls with that constant.</span></div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;  <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> TheRetVal = TargetsForSlot[0].RetVal;</div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="structllvm_1_1wholeprogramdevirt_1_1VirtualCallTarget.html">VirtualCallTarget</a> &amp;<a class="code" href="classllvm_1_1Target.html">Target</a> : TargetsForSlot)</div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Target.html">Target</a>.RetVal != TheRetVal)</div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160; </div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;  <span class="keywordflow">if</span> (CSInfo.isExported()) {</div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;    Res-&gt;<a class="code" href="structllvm_1_1WholeProgramDevirtResolution_1_1ByArg.html#acf13a890a40972d903f329d37c5ad98a">TheKind</a> = <a class="code" href="structllvm_1_1WholeProgramDevirtResolution_1_1ByArg.html#a73c235c3b51fc129ec890391feccd47ea635d252c06de8cd5c96ebcf3d8989ccf">WholeProgramDevirtResolution::ByArg::UniformRetVal</a>;</div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;    Res-&gt;<a class="code" href="structllvm_1_1WholeProgramDevirtResolution_1_1ByArg.html#ac1e46342d3d79c56fb3b498722a66f18">Info</a> = TheRetVal;</div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;  }</div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160; </div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;  applyUniformRetValOpt(CSInfo, TargetsForSlot[0].Fn-&gt;getName(), TheRetVal);</div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;  <span class="keywordflow">if</span> (RemarksEnabled || <a class="code" href="namespacellvm.html#a846137dc22b3b399b62f606698f3ed59">AreStatisticsEnabled</a>())</div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;&amp;<a class="code" href="classllvm_1_1Target.html">Target</a> : TargetsForSlot)</div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;      <a class="code" href="classllvm_1_1Target.html">Target</a>.WasDevirt = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;}</div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160; </div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;std::string DevirtModule::getGlobalName(VTableSlot Slot,</div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;                                        <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;uint64_t&gt;</a> <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>,</div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;                                        <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> Name) {</div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;  std::string FullName = <span class="stringliteral">&quot;__typeid_&quot;</span>;</div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;  <a class="code" href="classllvm_1_1raw__string__ostream.html">raw_string_ostream</a> <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>(FullName);</div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;  OS &lt;&lt; cast&lt;MDString&gt;(<a class="code" href="namespacellvm_1_1pdb.html#a5dbb1abfb6d3c14555304f9c56703234a9234cc57c43f272b55a94b0069fe62d1">Slot</a>.TypeID)-&gt;getString() &lt;&lt; <span class="charliteral">&#39;_&#39;</span> &lt;&lt; <a class="code" href="namespacellvm_1_1pdb.html#a5dbb1abfb6d3c14555304f9c56703234a9234cc57c43f272b55a94b0069fe62d1">Slot</a>.ByteOffset;</div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> <a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a> : <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>)</div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;    <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="charliteral">&#39;_&#39;</span> &lt;&lt; <a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>;</div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;  <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="charliteral">&#39;_&#39;</span> &lt;&lt; <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>;</div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>.str();</div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;}</div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160; </div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;<span class="keywordtype">bool</span> DevirtModule::shouldExportConstantsAsAbsoluteSymbols() {</div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;  <a class="code" href="classllvm_1_1Triple.html">Triple</a> <a class="code" href="classT.html">T</a>(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getTargetTriple());</div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classT.html">T</a>.isX86() &amp;&amp; <a class="code" href="classT.html">T</a>.getObjectFormat() == <a class="code" href="classllvm_1_1Triple.html#a83e907e55fa50e093caa96a0aff96201a456b64e26b8bcdbd8294689615d8a055">Triple::ELF</a>;</div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;}</div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160; </div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;<span class="keywordtype">void</span> DevirtModule::exportGlobal(VTableSlot Slot, <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;uint64_t&gt;</a> <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>,</div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;                                <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> Name, <a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>) {</div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;  <a class="code" href="classllvm_1_1GlobalAlias.html">GlobalAlias</a> *GA = <a class="code" href="classllvm_1_1GlobalAlias.html#a8a638534b520f72ab7f2c886da739a6c">GlobalAlias::create</a>(Int8Ty, 0, <a class="code" href="classllvm_1_1GlobalValue.html#aedfa75f0c85c4aa85b257f066fbea57ca6c93794d7b99cd433e96c53eadb15a6e">GlobalValue::ExternalLinkage</a>,</div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;                                        getGlobalName(Slot, <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>, Name), <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>, &amp;M);</div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;  GA-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#aa242d8ab89216c14beab812e07009b2a">setVisibility</a>(<a class="code" href="classllvm_1_1GlobalValue.html#a9141f967188383108a69cc1b8ed3c195a7eade123587a08e674f2ca72e2443771">GlobalValue::HiddenVisibility</a>);</div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;}</div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160; </div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;<span class="keywordtype">void</span> DevirtModule::exportConstant(VTableSlot Slot, <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;uint64_t&gt;</a> <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>,</div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;                                  <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> Name, <a class="code" href="classuint32__t.html">uint32_t</a> Const,</div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;                                  <a class="code" href="classuint32__t.html">uint32_t</a> &amp;Storage) {</div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;  <span class="keywordflow">if</span> (shouldExportConstantsAsAbsoluteSymbols()) {</div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;    exportGlobal(</div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;        Slot, <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>, Name,</div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;        <a class="code" href="classllvm_1_1ConstantExpr.html#a02560cda155aaed54314383bed827d60">ConstantExpr::getIntToPtr</a>(<a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(<a class="code" href="NVVMIntrRange_8cpp.html#abc8aecb5b627f6a91fc2fb09762d2a41">Int32Ty</a>, Const), Int8PtrTy));</div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;  }</div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160; </div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;  Storage = <a class="code" href="namespacellvm_1_1codeview.html#acf5c2920c8a10eeb1d8c5d3a9c2adfb6a79ceee9f8e3c1f0cc74223e05d2448bf">Const</a>;</div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;}</div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160; </div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;<a class="code" href="classllvm_1_1Constant.html">Constant</a> *DevirtModule::importGlobal(VTableSlot Slot, <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;uint64_t&gt;</a> <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>,</div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;                                     <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> Name) {</div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;  <a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> =</div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;      <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getOrInsertGlobal(getGlobalName(Slot, <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>, Name), Int8Arr0Ty);</div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;  <span class="keyword">auto</span> *GV = dyn_cast&lt;GlobalVariable&gt;(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>);</div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;  <span class="keywordflow">if</span> (GV)</div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;    GV-&gt;setVisibility(<a class="code" href="classllvm_1_1GlobalValue.html#a9141f967188383108a69cc1b8ed3c195a7eade123587a08e674f2ca72e2443771">GlobalValue::HiddenVisibility</a>);</div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>;</div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;}</div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160; </div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;<a class="code" href="classllvm_1_1Constant.html">Constant</a> *DevirtModule::importConstant(VTableSlot Slot, <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;uint64_t&gt;</a> <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>,</div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;                                       <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> Name, <a class="code" href="classllvm_1_1IntegerType.html">IntegerType</a> *IntTy,</div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;                                       <a class="code" href="classuint32__t.html">uint32_t</a> Storage) {</div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;  <span class="keywordflow">if</span> (!shouldExportConstantsAsAbsoluteSymbols())</div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(IntTy, Storage);</div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160; </div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;  <a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = importGlobal(Slot, <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>, Name);</div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;  <span class="keyword">auto</span> *GV = cast&lt;GlobalVariable&gt;(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;stripPointerCasts());</div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;  <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = <a class="code" href="classllvm_1_1ConstantExpr.html#a652380f28d1a7011e05d0787b6024d48">ConstantExpr::getPtrToInt</a>(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>, IntTy);</div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160; </div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;  <span class="comment">// We only need to set metadata if the global is newly created, in which</span></div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;  <span class="comment">// case it would not have hidden visibility.</span></div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;  <span class="keywordflow">if</span> (GV-&gt;hasMetadata(LLVMContext::MD_absolute_symbol))</div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>;</div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160; </div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;  <span class="keyword">auto</span> SetAbsRange = [&amp;](<a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> Min, <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> <a class="code" href="namespacellvm_1_1pdb.html#a81a0fae24e6bdfe240da4249a8da5978a6a061313d22e51e0f25b7cd4dc065233">Max</a>) {</div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;    <span class="keyword">auto</span> *MinC = <a class="code" href="classllvm_1_1ConstantAsMetadata.html#a703ab6c3e14ff7565866468d731f537a">ConstantAsMetadata::get</a>(<a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(IntPtrTy, Min));</div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;    <span class="keyword">auto</span> *MaxC = <a class="code" href="classllvm_1_1ConstantAsMetadata.html#a703ab6c3e14ff7565866468d731f537a">ConstantAsMetadata::get</a>(<a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(IntPtrTy, Max));</div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;    GV-&gt;setMetadata(LLVMContext::MD_absolute_symbol,</div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;                    <a class="code" href="classllvm_1_1MDNode.html#a7d10a7b9b7f40b04d27ed97c38ea1950">MDNode::get</a>(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getContext(), {MinC, MaxC}));</div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;  };</div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;  <span class="keywordtype">unsigned</span> AbsWidth = IntTy-&gt;<a class="code" href="classllvm_1_1IntegerType.html#a90b790ccb1af4ea5ccd69db4b8cd2d81">getBitWidth</a>();</div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;  <span class="keywordflow">if</span> (AbsWidth == IntPtrTy-&gt;<a class="code" href="classllvm_1_1IntegerType.html#a90b790ccb1af4ea5ccd69db4b8cd2d81">getBitWidth</a>())</div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;    SetAbsRange(~0ull, ~0ull); <span class="comment">// Full set.</span></div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;    SetAbsRange(0, 1ull &lt;&lt; AbsWidth);</div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>;</div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;}</div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160; </div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;<span class="keywordtype">void</span> DevirtModule::applyUniqueRetValOpt(CallSiteInfo &amp;CSInfo, <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> FnName,</div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;                                        <span class="keywordtype">bool</span> IsOne,</div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;                                        <a class="code" href="classllvm_1_1Constant.html">Constant</a> *UniqueMemberAddr) {</div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;&amp;Call : CSInfo.CallSites) {</div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;    <span class="keywordflow">if</span> (!OptimizedCalls.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">insert</a>(&amp;<a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>.CB).second)</div>
<div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;    <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>(&amp;<a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>.CB);</div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1X86.html#a86730e94ae6fdf0fe3145b2acc88dea8ac9b4c62f6dc1bc5caf3c768b687cbf7e">Cmp</a> =</div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;        <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>.CreateICmp(IsOne ? <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78baa719225e2de4059f93fd3209e1f48218">ICmpInst::ICMP_EQ</a> : <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bac17897ebf2f6a6986280fc3bdf28a30a">ICmpInst::ICMP_NE</a>, <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>.VTable,</div>
<div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;                     <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>.CreateBitCast(UniqueMemberAddr, <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>.VTable-&gt;getType()));</div>
<div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;    <a class="code" href="namespacellvm_1_1X86.html#a86730e94ae6fdf0fe3145b2acc88dea8ac9b4c62f6dc1bc5caf3c768b687cbf7e">Cmp</a> = <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>.CreateZExt(Cmp, <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>.CB.getType());</div>
<div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;    NumUniqueRetVal++;</div>
<div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;    <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>.replaceAndErase(<span class="stringliteral">&quot;unique-ret-val&quot;</span>, FnName, RemarksEnabled, OREGetter,</div>
<div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;                         Cmp);</div>
<div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;  }</div>
<div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;  CSInfo.markDevirt();</div>
<div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;}</div>
<div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160; </div>
<div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;<a class="code" href="classllvm_1_1Constant.html">Constant</a> *DevirtModule::getMemberAddr(<span class="keyword">const</span> <a class="code" href="structllvm_1_1wholeprogramdevirt_1_1TypeMemberInfo.html">TypeMemberInfo</a> *M) {</div>
<div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;  <a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = <a class="code" href="classllvm_1_1ConstantExpr.html#ae79d05dd3d0b05e080e08f8c5c33f880">ConstantExpr::getBitCast</a>(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>-&gt;Bits-&gt;GV, Int8PtrTy);</div>
<div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantExpr.html#abae3f750ce4d2edcea30f08fe9e29721">ConstantExpr::getGetElementPtr</a>(Int8Ty, <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>,</div>
<div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;                                        <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(Int64Ty, <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>-&gt;Offset));</div>
<div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;}</div>
<div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160; </div>
<div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;<span class="keywordtype">bool</span> DevirtModule::tryUniqueRetValOpt(</div>
<div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>, <a class="code" href="classllvm_1_1MutableArrayRef.html">MutableArrayRef&lt;VirtualCallTarget&gt;</a> TargetsForSlot,</div>
<div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;    CallSiteInfo &amp;CSInfo, <a class="code" href="structllvm_1_1WholeProgramDevirtResolution_1_1ByArg.html">WholeProgramDevirtResolution::ByArg</a> *Res,</div>
<div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;    VTableSlot Slot, <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;uint64_t&gt;</a> <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>) {</div>
<div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;  <span class="comment">// IsOne controls whether we look for a 0 or a 1.</span></div>
<div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;  <span class="keyword">auto</span> tryUniqueRetValOptFor = [&amp;](<span class="keywordtype">bool</span> IsOne) {</div>
<div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;    <span class="keyword">const</span> <a class="code" href="structllvm_1_1wholeprogramdevirt_1_1TypeMemberInfo.html">TypeMemberInfo</a> *UniqueMember = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="structllvm_1_1wholeprogramdevirt_1_1VirtualCallTarget.html">VirtualCallTarget</a> &amp;<a class="code" href="classllvm_1_1Target.html">Target</a> : TargetsForSlot) {</div>
<div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Target.html">Target</a>.RetVal == (IsOne ? 1 : 0)) {</div>
<div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;        <span class="keywordflow">if</span> (UniqueMember)</div>
<div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;        UniqueMember = <a class="code" href="classllvm_1_1Target.html">Target</a>.TM;</div>
<div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;      }</div>
<div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;    }</div>
<div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160; </div>
<div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;    <span class="comment">// We should have found a unique member or bailed out by now. We already</span></div>
<div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;    <span class="comment">// checked for a uniform return value in tryUniformRetValOpt.</span></div>
<div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(UniqueMember);</div>
<div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160; </div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;    <a class="code" href="classllvm_1_1Constant.html">Constant</a> *UniqueMemberAddr = getMemberAddr(UniqueMember);</div>
<div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;    <span class="keywordflow">if</span> (CSInfo.isExported()) {</div>
<div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;      Res-&gt;<a class="code" href="structllvm_1_1WholeProgramDevirtResolution_1_1ByArg.html#acf13a890a40972d903f329d37c5ad98a">TheKind</a> = <a class="code" href="structllvm_1_1WholeProgramDevirtResolution_1_1ByArg.html#a73c235c3b51fc129ec890391feccd47ea8bf72562c0a17a25f9e07863e68543b3">WholeProgramDevirtResolution::ByArg::UniqueRetVal</a>;</div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;      Res-&gt;<a class="code" href="structllvm_1_1WholeProgramDevirtResolution_1_1ByArg.html#ac1e46342d3d79c56fb3b498722a66f18">Info</a> = IsOne;</div>
<div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160; </div>
<div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;      exportGlobal(Slot, <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>, <span class="stringliteral">&quot;unique_member&quot;</span>, UniqueMemberAddr);</div>
<div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;    }</div>
<div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160; </div>
<div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;    <span class="comment">// Replace each call with the comparison.</span></div>
<div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;    applyUniqueRetValOpt(CSInfo, TargetsForSlot[0].Fn-&gt;getName(), IsOne,</div>
<div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;                         UniqueMemberAddr);</div>
<div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160; </div>
<div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;    <span class="comment">// Update devirtualization statistics for targets.</span></div>
<div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;    <span class="keywordflow">if</span> (RemarksEnabled || <a class="code" href="namespacellvm.html#a846137dc22b3b399b62f606698f3ed59">AreStatisticsEnabled</a>())</div>
<div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;&amp;<a class="code" href="classllvm_1_1Target.html">Target</a> : TargetsForSlot)</div>
<div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;        <a class="code" href="classllvm_1_1Target.html">Target</a>.WasDevirt = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160; </div>
<div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;  };</div>
<div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160; </div>
<div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> == 1) {</div>
<div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;    <span class="keywordflow">if</span> (tryUniqueRetValOptFor(<span class="keyword">true</span>))</div>
<div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;    <span class="keywordflow">if</span> (tryUniqueRetValOptFor(<span class="keyword">false</span>))</div>
<div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;  }</div>
<div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;}</div>
<div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160; </div>
<div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;<span class="keywordtype">void</span> DevirtModule::applyVirtualConstProp(CallSiteInfo &amp;CSInfo, <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> FnName,</div>
<div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;                                         <a class="code" href="classllvm_1_1Constant.html">Constant</a> *Byte, <a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a1ef22e535a2fc701cdafaffe74fc7490">Bit</a>) {</div>
<div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> Call : CSInfo.CallSites) {</div>
<div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;    <span class="keywordflow">if</span> (!OptimizedCalls.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">insert</a>(&amp;<a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>.CB).second)</div>
<div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;    <span class="keyword">auto</span> *RetType = cast&lt;IntegerType&gt;(<a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>.CB.getType());</div>
<div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;    <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>(&amp;<a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>.CB);</div>
<div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a> =</div>
<div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;        <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>.CreateGEP(Int8Ty, <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>.CreateBitCast(<a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>.VTable, Int8PtrTy), Byte);</div>
<div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;    <span class="keywordflow">if</span> (RetType-&gt;getBitWidth() == 1) {</div>
<div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a3c0710aa6b054662f67b480712fa2b95">Bits</a> = <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>.CreateLoad(Int8Ty, <a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>);</div>
<div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *BitsAndBit = <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>.CreateAnd(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a3c0710aa6b054662f67b480712fa2b95">Bits</a>, <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a1ef22e535a2fc701cdafaffe74fc7490">Bit</a>);</div>
<div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;      <span class="keyword">auto</span> IsBitSet = <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>.CreateICmpNE(BitsAndBit, <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(Int8Ty, 0));</div>
<div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;      NumVirtConstProp1Bit++;</div>
<div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;      <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>.replaceAndErase(<span class="stringliteral">&quot;virtual-const-prop-1-bit&quot;</span>, FnName, RemarksEnabled,</div>
<div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;                           OREGetter, IsBitSet);</div>
<div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *ValAddr = <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>.CreateBitCast(<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>, RetType-&gt;getPointerTo());</div>
<div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *Val = <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>.CreateLoad(RetType, ValAddr);</div>
<div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;      NumVirtConstProp++;</div>
<div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;      <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>.replaceAndErase(<span class="stringliteral">&quot;virtual-const-prop&quot;</span>, FnName, RemarksEnabled,</div>
<div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;                           OREGetter, Val);</div>
<div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;    }</div>
<div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;  }</div>
<div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;  CSInfo.markDevirt();</div>
<div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;}</div>
<div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160; </div>
<div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;<span class="keywordtype">bool</span> DevirtModule::tryVirtualConstProp(</div>
<div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;    <a class="code" href="classllvm_1_1MutableArrayRef.html">MutableArrayRef&lt;VirtualCallTarget&gt;</a> TargetsForSlot, VTableSlotInfo &amp;SlotInfo,</div>
<div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;    <a class="code" href="structllvm_1_1WholeProgramDevirtResolution.html">WholeProgramDevirtResolution</a> *Res, VTableSlot Slot) {</div>
<div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;  <span class="comment">// This only works if the function returns an integer.</span></div>
<div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;  <span class="keyword">auto</span> RetType = dyn_cast&lt;IntegerType&gt;(TargetsForSlot[0].Fn-&gt;getReturnType());</div>
<div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;  <span class="keywordflow">if</span> (!RetType)</div>
<div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> = RetType-&gt;getBitWidth();</div>
<div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> &gt; 64)</div>
<div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160; </div>
<div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;  <span class="comment">// Make sure that each function is defined, does not access memory, takes at</span></div>
<div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;  <span class="comment">// least one argument, does not use its first argument (which we assume is</span></div>
<div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;  <span class="comment">// &#39;this&#39;), and has the same return type.</span></div>
<div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;  <span class="comment">// Note that we test whether this copy of the function is readnone, rather</span></div>
<div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;  <span class="comment">// than testing function attributes, which must hold for any copy of the</span></div>
<div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;  <span class="comment">// function, even a less optimized version substituted at link time. This is</span></div>
<div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;  <span class="comment">// sound because the virtual constant propagation optimizations effectively</span></div>
<div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;  <span class="comment">// inline all implementations of the virtual function into each call site,</span></div>
<div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;  <span class="comment">// rather than using function attributes to perform local optimization.</span></div>
<div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="structllvm_1_1wholeprogramdevirt_1_1VirtualCallTarget.html">VirtualCallTarget</a> &amp;<a class="code" href="classllvm_1_1Target.html">Target</a> : TargetsForSlot) {</div>
<div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Target.html">Target</a>.Fn-&gt;isDeclaration() ||</div>
<div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;        !<a class="code" href="namespacellvm.html#a12a40c8120b4946a2935d16867203310">computeFunctionBodyMemoryAccess</a>(*<a class="code" href="classllvm_1_1Target.html">Target</a>.Fn, AARGetter(*<a class="code" href="classllvm_1_1Target.html">Target</a>.Fn))</div>
<div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;             .<a class="code" href="classllvm_1_1MemoryEffects.html#a5e215734f00c96489db57a352b0439cc">doesNotAccessMemory</a>() ||</div>
<div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;        <a class="code" href="classllvm_1_1Target.html">Target</a>.Fn-&gt;arg_empty() || !<a class="code" href="classllvm_1_1Target.html">Target</a>.Fn-&gt;arg_begin()-&gt;use_empty() ||</div>
<div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;        <a class="code" href="classllvm_1_1Target.html">Target</a>.Fn-&gt;getReturnType() != RetType)</div>
<div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;  }</div>
<div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160; </div>
<div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;&amp;CSByConstantArg : SlotInfo.ConstCSInfo) {</div>
<div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;    <span class="keywordflow">if</span> (!tryEvaluateFunctionsWithArgs(TargetsForSlot, CSByConstantArg.first))</div>
<div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160; </div>
<div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;    <a class="code" href="structllvm_1_1WholeProgramDevirtResolution_1_1ByArg.html">WholeProgramDevirtResolution::ByArg</a> *ResByArg = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;    <span class="keywordflow">if</span> (Res)</div>
<div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;      ResByArg = &amp;Res-&gt;<a class="code" href="structllvm_1_1WholeProgramDevirtResolution.html#a1c0a0ec1654585583572f16e799176dc">ResByArg</a>[CSByConstantArg.first];</div>
<div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160; </div>
<div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;    <span class="keywordflow">if</span> (tryUniformRetValOpt(TargetsForSlot, CSByConstantArg.second, ResByArg))</div>
<div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160; </div>
<div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;    <span class="keywordflow">if</span> (tryUniqueRetValOpt(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>, TargetsForSlot, CSByConstantArg.second,</div>
<div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;                           ResByArg, Slot, CSByConstantArg.first))</div>
<div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160; </div>
<div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;    <span class="comment">// Find an allocation offset in bits in all vtables associated with the</span></div>
<div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;    <span class="comment">// type.</span></div>
<div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;    <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> AllocBefore =</div>
<div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;        <a class="code" href="namespacellvm_1_1wholeprogramdevirt.html#a8ab22ea42eaf359bb9eb8382c0afc616">findLowestOffset</a>(TargetsForSlot, <span class="comment">/*IsAfter=*/</span><span class="keyword">false</span>, <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>);</div>
<div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;    <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> AllocAfter =</div>
<div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;        <a class="code" href="namespacellvm_1_1wholeprogramdevirt.html#a8ab22ea42eaf359bb9eb8382c0afc616">findLowestOffset</a>(TargetsForSlot, <span class="comment">/*IsAfter=*/</span><span class="keyword">true</span>, <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>);</div>
<div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160; </div>
<div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;    <span class="comment">// Calculate the total amount of padding needed to store a value at both</span></div>
<div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;    <span class="comment">// ends of the object.</span></div>
<div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;    <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> TotalPaddingBefore = 0, TotalPaddingAfter = 0;</div>
<div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;&amp;<a class="code" href="classllvm_1_1Target.html">Target</a> : TargetsForSlot) {</div>
<div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;      TotalPaddingBefore += std::max&lt;int64_t&gt;(</div>
<div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;          (AllocBefore + 7) / 8 - <a class="code" href="classllvm_1_1Target.html">Target</a>.allocatedBeforeBytes() - 1, 0);</div>
<div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;      TotalPaddingAfter += std::max&lt;int64_t&gt;(</div>
<div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;          (AllocAfter + 7) / 8 - <a class="code" href="classllvm_1_1Target.html">Target</a>.allocatedAfterBytes() - 1, 0);</div>
<div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;    }</div>
<div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160; </div>
<div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;    <span class="comment">// If the amount of padding is too large, give up.</span></div>
<div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;    <span class="comment">// FIXME: do something smarter here.</span></div>
<div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a57f2ca0e57f4f7b13f56f9aa16af3e0d">std::min</a>(TotalPaddingBefore, TotalPaddingAfter) &gt; 128)</div>
<div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160; </div>
<div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;    <span class="comment">// Calculate the offset to the value as a (possibly negative) byte offset</span></div>
<div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;    <span class="comment">// and (if applicable) a bit offset, and store the values in the targets.</span></div>
<div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;    int64_t OffsetByte;</div>
<div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;    <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> OffsetBit;</div>
<div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;    <span class="keywordflow">if</span> (TotalPaddingBefore &lt;= TotalPaddingAfter)</div>
<div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;      <a class="code" href="namespacellvm_1_1wholeprogramdevirt.html#aec5b7edd995ed899e28075c82b29b360">setBeforeReturnValues</a>(TargetsForSlot, AllocBefore, <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>, OffsetByte,</div>
<div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;                            OffsetBit);</div>
<div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;      <a class="code" href="namespacellvm_1_1wholeprogramdevirt.html#adbbe3d32693c7f00b25a8574e596cde8">setAfterReturnValues</a>(TargetsForSlot, AllocAfter, <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>, OffsetByte,</div>
<div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;                           OffsetBit);</div>
<div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160; </div>
<div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;    <span class="keywordflow">if</span> (RemarksEnabled || <a class="code" href="namespacellvm.html#a846137dc22b3b399b62f606698f3ed59">AreStatisticsEnabled</a>())</div>
<div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;&amp;<a class="code" href="classllvm_1_1Target.html">Target</a> : TargetsForSlot)</div>
<div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;        <a class="code" href="classllvm_1_1Target.html">Target</a>.WasDevirt = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160; </div>
<div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160; </div>
<div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;    <span class="keywordflow">if</span> (CSByConstantArg.second.isExported()) {</div>
<div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;      ResByArg-&gt;<a class="code" href="structllvm_1_1WholeProgramDevirtResolution_1_1ByArg.html#acf13a890a40972d903f329d37c5ad98a">TheKind</a> = <a class="code" href="structllvm_1_1WholeProgramDevirtResolution_1_1ByArg.html#a73c235c3b51fc129ec890391feccd47ea7382e969306ae2118ae88db2a241e833">WholeProgramDevirtResolution::ByArg::VirtualConstProp</a>;</div>
<div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;      exportConstant(Slot, CSByConstantArg.first, <span class="stringliteral">&quot;byte&quot;</span>, OffsetByte,</div>
<div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;                     ResByArg-&gt;<a class="code" href="structllvm_1_1WholeProgramDevirtResolution_1_1ByArg.html#afcc8593fe943d570b5a3fe549132fdff">Byte</a>);</div>
<div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;      exportConstant(Slot, CSByConstantArg.first, <span class="stringliteral">&quot;bit&quot;</span>, 1ULL &lt;&lt; OffsetBit,</div>
<div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;                     ResByArg-&gt;<a class="code" href="structllvm_1_1WholeProgramDevirtResolution_1_1ByArg.html#a74a555cfcbd8d83cdbf785f01b88be68">Bit</a>);</div>
<div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;    }</div>
<div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160; </div>
<div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;    <span class="comment">// Rewrite each call to a load from OffsetByte/OffsetBit.</span></div>
<div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;    <a class="code" href="classllvm_1_1Constant.html">Constant</a> *ByteConst = <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(<a class="code" href="NVVMIntrRange_8cpp.html#abc8aecb5b627f6a91fc2fb09762d2a41">Int32Ty</a>, OffsetByte);</div>
<div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;    <a class="code" href="classllvm_1_1Constant.html">Constant</a> *BitConst = <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(Int8Ty, 1ULL &lt;&lt; OffsetBit);</div>
<div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;    applyVirtualConstProp(CSByConstantArg.second,</div>
<div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;                          TargetsForSlot[0].Fn-&gt;getName(), ByteConst, BitConst);</div>
<div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;  }</div>
<div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;}</div>
<div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160; </div>
<div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;<span class="keywordtype">void</span> DevirtModule::rebuildGlobal(<a class="code" href="structllvm_1_1wholeprogramdevirt_1_1VTableBits.html">VTableBits</a> &amp;<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>) {</div>
<div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>.Before.Bytes.empty() &amp;&amp; <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>.After.Bytes.empty())</div>
<div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160; </div>
<div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;  <span class="comment">// Align the before byte array to the global&#39;s minimum alignment so that we</span></div>
<div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;  <span class="comment">// don&#39;t break any alignment requirements on the global.</span></div>
<div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;  <a class="code" href="structllvm_1_1Align.html">Align</a> Alignment = <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getDataLayout().getValueOrABITypeAlignment(</div>
<div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;      <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>.GV-&gt;getAlign(), <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>.GV-&gt;getValueType());</div>
<div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;  <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>.Before.Bytes.resize(<a class="code" href="namespacellvm.html#ab102f0f12dd38aeea5906b1d80c792ff">alignTo</a>(<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>.Before.Bytes.size(), Alignment));</div>
<div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160; </div>
<div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;  <span class="comment">// Before was stored in reverse order; flip it now.</span></div>
<div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 0, Size = <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>.Before.Bytes.size(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != Size / 2; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</div>
<div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;    <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>.Before.Bytes[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>], <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>.Before.Bytes[Size - 1 - <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>]);</div>
<div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160; </div>
<div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;  <span class="comment">// Build an anonymous global containing the before bytes, followed by the</span></div>
<div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;  <span class="comment">// original initializer, followed by the after bytes.</span></div>
<div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;  <span class="keyword">auto</span> NewInit = <a class="code" href="classllvm_1_1ConstantStruct.html#a801ba6ad994f4c40b17055d228312be7">ConstantStruct::getAnon</a>(</div>
<div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;      {<a class="code" href="classllvm_1_1ConstantDataArray.html#acea0f5c18b4593bf27592dfcfe59de6f">ConstantDataArray::get</a>(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getContext(), <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>.Before.Bytes),</div>
<div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;       <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>.GV-&gt;getInitializer(),</div>
<div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;       <a class="code" href="classllvm_1_1ConstantDataArray.html#acea0f5c18b4593bf27592dfcfe59de6f">ConstantDataArray::get</a>(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getContext(), <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>.After.Bytes)});</div>
<div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;  <span class="keyword">auto</span> NewGV =</div>
<div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;      <span class="keyword">new</span> <a class="code" href="classllvm_1_1GlobalVariable.html">GlobalVariable</a>(M, NewInit-&gt;getType(), <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>.GV-&gt;isConstant(),</div>
<div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;                         <a class="code" href="classllvm_1_1GlobalValue.html#aedfa75f0c85c4aa85b257f066fbea57ca04ed141708c0fd16723d212502b046ae">GlobalVariable::PrivateLinkage</a>, NewInit, <span class="stringliteral">&quot;&quot;</span>, <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>.GV);</div>
<div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;  NewGV-&gt;setSection(<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>.GV-&gt;getSection());</div>
<div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;  NewGV-&gt;setComdat(<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>.GV-&gt;getComdat());</div>
<div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;  NewGV-&gt;setAlignment(<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>.GV-&gt;getAlign());</div>
<div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160; </div>
<div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;  <span class="comment">// Copy the original vtable&#39;s metadata to the anonymous global, adjusting</span></div>
<div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;  <span class="comment">// offsets as required.</span></div>
<div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;  NewGV-&gt;copyMetadata(<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>.GV, <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>.Before.Bytes.size());</div>
<div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160; </div>
<div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;  <span class="comment">// Build an alias named after the original global, pointing at the second</span></div>
<div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;  <span class="comment">// element (the original initializer).</span></div>
<div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;  <span class="keyword">auto</span> Alias = <a class="code" href="classllvm_1_1GlobalAlias.html#a8a638534b520f72ab7f2c886da739a6c">GlobalAlias::create</a>(</div>
<div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;      <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>.GV-&gt;getInitializer()-&gt;getType(), 0, <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>.GV-&gt;getLinkage(), <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;      <a class="code" href="classllvm_1_1ConstantExpr.html#abae3f750ce4d2edcea30f08fe9e29721">ConstantExpr::getGetElementPtr</a>(</div>
<div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;          NewInit-&gt;getType(), NewGV,</div>
<div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;          <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;Constant *&gt;</a>{ConstantInt::get(Int32Ty, 0),</div>
<div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;                               ConstantInt::get(Int32Ty, 1)}),</div>
<div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;      &amp;M);</div>
<div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;  Alias-&gt;setVisibility(<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>.GV-&gt;getVisibility());</div>
<div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;  Alias-&gt;takeName(<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>.GV);</div>
<div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160; </div>
<div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;  <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>.GV-&gt;replaceAllUsesWith(Alias);</div>
<div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;  <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>.GV-&gt;eraseFromParent();</div>
<div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;}</div>
<div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160; </div>
<div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;<span class="keywordtype">bool</span> DevirtModule::areRemarksEnabled() {</div>
<div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> &amp;FL = <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getFunctionList();</div>
<div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1Function.html">Function</a> &amp;Fn : FL) {</div>
<div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;    <span class="keywordflow">if</span> (Fn.empty())</div>
<div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;    <span class="keyword">auto</span> DI = <a class="code" href="classllvm_1_1OptimizationRemark.html">OptimizationRemark</a>(<a class="code" href="WholeProgramDevirt_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">DEBUG_TYPE</a>, <span class="stringliteral">&quot;&quot;</span>, <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a>(), &amp;Fn.front());</div>
<div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;    <span class="keywordflow">return</span> DI.isEnabled();</div>
<div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;  }</div>
<div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;}</div>
<div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160; </div>
<div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;<span class="keywordtype">void</span> DevirtModule::scanTypeTestUsers(</div>
<div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;    <a class="code" href="classllvm_1_1Function.html">Function</a> *TypeTestFunc,</div>
<div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;    <a class="code" href="classllvm_1_1DenseMap.html">DenseMap</a>&lt;<a class="code" href="classllvm_1_1Metadata.html">Metadata</a> *, std::set&lt;TypeMemberInfo&gt;&gt; &amp;TypeIdMap) {</div>
<div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;  <span class="comment">// Find all virtual calls via a virtual table pointer %p under an assumption</span></div>
<div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;  <span class="comment">// of the form llvm.assume(llvm.type.test(%p, %md)). This indicates that %p</span></div>
<div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;  <span class="comment">// points to a member of the type identifier %md. Group calls by (type ID,</span></div>
<div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;  <span class="comment">// offset) pair (effectively the identity of the virtual function) and store</span></div>
<div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;  <span class="comment">// to CallSlots.</span></div>
<div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Use.html">Use</a> &amp;U : <a class="code" href="namespacellvm.html#a8154638df88e4eaa568b67b23d463dac">llvm::make_early_inc_range</a>(TypeTestFunc-&gt;<a class="code" href="classllvm_1_1Value.html#aecb93439702247fe5353a9966f7cefcd">uses</a>())) {</div>
<div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;    <span class="keyword">auto</span> *CI = dyn_cast&lt;CallInst&gt;(U.getUser());</div>
<div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;    <span class="keywordflow">if</span> (!CI)</div>
<div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160; </div>
<div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;    <span class="comment">// Search for virtual calls based on %p and add them to DevirtCalls.</span></div>
<div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;DevirtCallSite, 1&gt;</a> DevirtCalls;</div>
<div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;CallInst *, 1&gt;</a> Assumes;</div>
<div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;    <span class="keyword">auto</span> &amp;DT = LookupDomTree(*CI-&gt;getFunction());</div>
<div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;    <a class="code" href="namespacellvm.html#af88f364cd09c715e8853a1027c7180ef">findDevirtualizableCallsForTypeTest</a>(DevirtCalls, Assumes, CI, DT);</div>
<div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160; </div>
<div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;    <a class="code" href="classllvm_1_1Metadata.html">Metadata</a> *TypeId =</div>
<div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;        cast&lt;MetadataAsValue&gt;(CI-&gt;getArgOperand(1))-&gt;getMetadata();</div>
<div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;    <span class="comment">// If we found any, add them to CallSlots.</span></div>
<div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;    <span class="keywordflow">if</span> (!Assumes.empty()) {</div>
<div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a> = CI-&gt;getArgOperand(0)-&gt;stripPointerCasts();</div>
<div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="structllvm_1_1DevirtCallSite.html">DevirtCallSite</a> Call : DevirtCalls)</div>
<div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;        CallSlots[{TypeId, <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>.Offset}].addCallSite(<a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>, <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>.CB, <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;    }</div>
<div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160; </div>
<div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;    <span class="keyword">auto</span> RemoveTypeTestAssumes = [&amp;]() {</div>
<div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;      <span class="comment">// We no longer need the assumes or the type test.</span></div>
<div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">auto</span> *Assume : Assumes)</div>
<div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;        Assume-&gt;eraseFromParent();</div>
<div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;      <span class="comment">// We can&#39;t use RecursivelyDeleteTriviallyDeadInstructions here because we</span></div>
<div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;      <span class="comment">// may use the vtable argument later.</span></div>
<div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;      <span class="keywordflow">if</span> (CI-&gt;use_empty())</div>
<div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;        CI-&gt;eraseFromParent();</div>
<div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;    };</div>
<div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160; </div>
<div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;    <span class="comment">// At this point we could remove all type test assume sequences, as they</span></div>
<div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;    <span class="comment">// were originally inserted for WPD. However, we can keep these in the</span></div>
<div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;    <span class="comment">// code stream for later analysis (e.g. to help drive more efficient ICP</span></div>
<div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;    <span class="comment">// sequences). They will eventually be removed by a second LowerTypeTests</span></div>
<div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;    <span class="comment">// invocation that cleans them up. In order to do this correctly, the first</span></div>
<div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;    <span class="comment">// LowerTypeTests invocation needs to know that they have &quot;Unknown&quot; type</span></div>
<div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;    <span class="comment">// test resolution, so that they aren&#39;t treated as Unsat and lowered to</span></div>
<div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;    <span class="comment">// False, which will break any uses on assumes. Below we remove any type</span></div>
<div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;    <span class="comment">// test assumes that will not be treated as Unknown by LTT.</span></div>
<div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160; </div>
<div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;    <span class="comment">// The type test assumes will be treated by LTT as Unsat if the type id is</span></div>
<div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;    <span class="comment">// not used on a global (in which case it has no entry in the TypeIdMap).</span></div>
<div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;    <span class="keywordflow">if</span> (!TypeIdMap.count(TypeId))</div>
<div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;      RemoveTypeTestAssumes();</div>
<div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160; </div>
<div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;    <span class="comment">// For ThinLTO importing, we need to remove the type test assumes if this is</span></div>
<div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;    <span class="comment">// an MDString type id without a corresponding TypeIdSummary. Any</span></div>
<div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;    <span class="comment">// non-MDString type ids are ignored and treated as Unknown by LTT, so their</span></div>
<div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;    <span class="comment">// type test assumes can be kept. If the MDString type id is missing a</span></div>
<div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;    <span class="comment">// TypeIdSummary (e.g. because there was no use on a vcall, preventing the</span></div>
<div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;    <span class="comment">// exporting phase of WPD from analyzing it), then it would be treated as</span></div>
<div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;    <span class="comment">// Unsat by LTT and we need to remove its type test assumes here. If not</span></div>
<div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;    <span class="comment">// used on a vcall we don&#39;t need them for later optimization use in any</span></div>
<div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;    <span class="comment">// case.</span></div>
<div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ImportSummary &amp;&amp; isa&lt;MDString&gt;(TypeId)) {</div>
<div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;      <span class="keyword">const</span> <a class="code" href="structllvm_1_1TypeIdSummary.html">TypeIdSummary</a> *TidSummary =</div>
<div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;          ImportSummary-&gt;<a class="code" href="classllvm_1_1ModuleSummaryIndex.html#a93625f7cbb3fd8673797e565a453c0ec">getTypeIdSummary</a>(cast&lt;MDString&gt;(TypeId)-&gt;getString());</div>
<div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;      <span class="keywordflow">if</span> (!TidSummary)</div>
<div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;        RemoveTypeTestAssumes();</div>
<div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;        <span class="comment">// If one was created it should not be Unsat, because if we reached here</span></div>
<div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;        <span class="comment">// the type id was used on a global.</span></div>
<div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;        <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(TidSummary-&gt;<a class="code" href="structllvm_1_1TypeIdSummary.html#a80bc0b8f2041f3a3839f393f1a6aae33">TTRes</a>.<a class="code" href="structllvm_1_1TypeTestResolution.html#a66ff82a2443a6f422cd95843084564f6">TheKind</a> != <a class="code" href="structllvm_1_1TypeTestResolution.html#a3a09256c2858f8b38ce2b9481c528beda5826b981efc11834692037f016343fca">TypeTestResolution::Unsat</a>);</div>
<div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;    }</div>
<div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;  }</div>
<div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;}</div>
<div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160; </div>
<div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;<span class="keywordtype">void</span> DevirtModule::scanTypeCheckedLoadUsers(<a class="code" href="classllvm_1_1Function.html">Function</a> *TypeCheckedLoadFunc) {</div>
<div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;  <a class="code" href="classllvm_1_1Function.html">Function</a> *TypeTestFunc = <a class="code" href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">Intrinsic::getDeclaration</a>(&amp;M, Intrinsic::type_test);</div>
<div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160; </div>
<div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Use.html">Use</a> &amp;U : <a class="code" href="namespacellvm.html#a8154638df88e4eaa568b67b23d463dac">llvm::make_early_inc_range</a>(TypeCheckedLoadFunc-&gt;<a class="code" href="classllvm_1_1Value.html#aecb93439702247fe5353a9966f7cefcd">uses</a>())) {</div>
<div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;    <span class="keyword">auto</span> *CI = dyn_cast&lt;CallInst&gt;(U.getUser());</div>
<div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;    <span class="keywordflow">if</span> (!CI)</div>
<div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160; </div>
<div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a> = CI-&gt;getArgOperand(0);</div>
<div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1AMDGPU_1_1Hwreg.html#a6110fc30bc7311a6cf99814530362e21">Offset</a> = CI-&gt;getArgOperand(1);</div>
<div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *TypeIdValue = CI-&gt;getArgOperand(2);</div>
<div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;    <a class="code" href="classllvm_1_1Metadata.html">Metadata</a> *TypeId = cast&lt;MetadataAsValue&gt;(TypeIdValue)-&gt;getMetadata();</div>
<div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160; </div>
<div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;DevirtCallSite, 1&gt;</a> DevirtCalls;</div>
<div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Instruction *, 1&gt;</a> LoadedPtrs;</div>
<div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Instruction *, 1&gt;</a> Preds;</div>
<div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;    <span class="keywordtype">bool</span> HasNonCallUses = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;    <span class="keyword">auto</span> &amp;DT = LookupDomTree(*CI-&gt;getFunction());</div>
<div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;    <a class="code" href="namespacellvm.html#a8148654fcf3528ef06d7a0e28b57b952">findDevirtualizableCallsForTypeCheckedLoad</a>(DevirtCalls, LoadedPtrs, Preds,</div>
<div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;                                               HasNonCallUses, CI, DT);</div>
<div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160; </div>
<div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;    <span class="comment">// Start by generating &quot;pessimistic&quot; code that explicitly loads the function</span></div>
<div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160;    <span class="comment">// pointer from the vtable and performs the type check. If possible, we will</span></div>
<div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;    <span class="comment">// eliminate the load and the type check later.</span></div>
<div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160; </div>
<div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;    <span class="comment">// If possible, only generate the load at the point where it is used.</span></div>
<div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;    <span class="comment">// This helps avoid unnecessary spills.</span></div>
<div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;    <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> LoadB(</div>
<div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;        (LoadedPtrs.size() == 1 &amp;&amp; !HasNonCallUses) ? LoadedPtrs[0] : CI);</div>
<div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="HexagonCommonGEP_8cpp.html#ad532e8710e50302e0a376b61c91fa91d">GEP</a> = LoadB.CreateGEP(Int8Ty, <a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>, Offset);</div>
<div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *GEPPtr = LoadB.CreateBitCast(<a class="code" href="HexagonCommonGEP_8cpp.html#ad532e8710e50302e0a376b61c91fa91d">GEP</a>, <a class="code" href="classllvm_1_1PointerType.html#a8db49fd5069f21d514e7bb0fd11f0902">PointerType::getUnqual</a>(Int8PtrTy));</div>
<div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *LoadedValue = LoadB.CreateLoad(Int8PtrTy, GEPPtr);</div>
<div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160; </div>
<div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *LoadedPtr : LoadedPtrs) {</div>
<div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160;      LoadedPtr-&gt;<a class="code" href="classllvm_1_1Value.html#a3ab5fc45117b450e8bb04e564cb6e5f2">replaceAllUsesWith</a>(LoadedValue);</div>
<div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160;      LoadedPtr-&gt;eraseFromParent();</div>
<div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160;    }</div>
<div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160; </div>
<div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;    <span class="comment">// Likewise for the type test.</span></div>
<div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;    <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> CallB((Preds.size() == 1 &amp;&amp; !HasNonCallUses) ? Preds[0] : CI);</div>
<div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160;    <a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *TypeTestCall = CallB.CreateCall(TypeTestFunc, {<a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>, TypeIdValue});</div>
<div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160; </div>
<div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *Pred : Preds) {</div>
<div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160;      Pred-&gt;<a class="code" href="classllvm_1_1Value.html#a3ab5fc45117b450e8bb04e564cb6e5f2">replaceAllUsesWith</a>(TypeTestCall);</div>
<div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160;      Pred-&gt;eraseFromParent();</div>
<div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160;    }</div>
<div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160; </div>
<div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;    <span class="comment">// We have already erased any extractvalue instructions that refer to the</span></div>
<div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160;    <span class="comment">// intrinsic call, but the intrinsic may have other non-extractvalue uses</span></div>
<div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;    <span class="comment">// (although this is unlikely). In that case, explicitly build a pair and</span></div>
<div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160;    <span class="comment">// RAUW it.</span></div>
<div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160;    <span class="keywordflow">if</span> (!CI-&gt;use_empty()) {</div>
<div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *Pair = <a class="code" href="classllvm_1_1PoisonValue.html#a1bf08613fb664a2e377a9a72c59a6b66">PoisonValue::get</a>(CI-&gt;getType());</div>
<div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160;      <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>(CI);</div>
<div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;      Pair = <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>.CreateInsertValue(Pair, LoadedValue, {0});</div>
<div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;      Pair = <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>.CreateInsertValue(Pair, TypeTestCall, {1});</div>
<div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;      CI-&gt;replaceAllUsesWith(Pair);</div>
<div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;    }</div>
<div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160; </div>
<div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;    <span class="comment">// The number of unsafe uses is initially the number of uses.</span></div>
<div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;    <span class="keyword">auto</span> &amp;NumUnsafeUses = NumUnsafeUsesForTypeTest[TypeTestCall];</div>
<div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;    NumUnsafeUses = DevirtCalls.size();</div>
<div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160; </div>
<div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160;    <span class="comment">// If the function pointer has a non-call user, we cannot eliminate the type</span></div>
<div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;    <span class="comment">// check, as one of those users may eventually call the pointer. Increment</span></div>
<div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;    <span class="comment">// the unsafe use count to make sure it cannot reach zero.</span></div>
<div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;    <span class="keywordflow">if</span> (HasNonCallUses)</div>
<div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;      ++NumUnsafeUses;</div>
<div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="structllvm_1_1DevirtCallSite.html">DevirtCallSite</a> Call : DevirtCalls) {</div>
<div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;      CallSlots[{TypeId, <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>.Offset}].addCallSite(<a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>, <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>.CB,</div>
<div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;                                                   &amp;NumUnsafeUses);</div>
<div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;    }</div>
<div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160; </div>
<div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;    CI-&gt;eraseFromParent();</div>
<div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;  }</div>
<div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;}</div>
<div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160; </div>
<div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;<span class="keywordtype">void</span> DevirtModule::importResolution(VTableSlot Slot, VTableSlotInfo &amp;SlotInfo) {</div>
<div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;  <span class="keyword">auto</span> *TypeId = dyn_cast&lt;MDString&gt;(<a class="code" href="namespacellvm_1_1pdb.html#a5dbb1abfb6d3c14555304f9c56703234a9234cc57c43f272b55a94b0069fe62d1">Slot</a>.TypeID);</div>
<div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;  <span class="keywordflow">if</span> (!TypeId)</div>
<div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;  <span class="keyword">const</span> <a class="code" href="structllvm_1_1TypeIdSummary.html">TypeIdSummary</a> *TidSummary =</div>
<div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;      ImportSummary-&gt;<a class="code" href="classllvm_1_1ModuleSummaryIndex.html#a93625f7cbb3fd8673797e565a453c0ec">getTypeIdSummary</a>(TypeId-&gt;getString());</div>
<div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;  <span class="keywordflow">if</span> (!TidSummary)</div>
<div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;  <span class="keyword">auto</span> ResI = TidSummary-&gt;<a class="code" href="structllvm_1_1TypeIdSummary.html#a01d5759cee861fcfca3b26ff5927e83c">WPDRes</a>.find(<a class="code" href="namespacellvm_1_1pdb.html#a5dbb1abfb6d3c14555304f9c56703234a9234cc57c43f272b55a94b0069fe62d1">Slot</a>.ByteOffset);</div>
<div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;  <span class="keywordflow">if</span> (ResI == TidSummary-&gt;<a class="code" href="structllvm_1_1TypeIdSummary.html#a01d5759cee861fcfca3b26ff5927e83c">WPDRes</a>.end())</div>
<div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;  <span class="keyword">const</span> <a class="code" href="structllvm_1_1WholeProgramDevirtResolution.html">WholeProgramDevirtResolution</a> &amp;Res = ResI-&gt;second;</div>
<div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160; </div>
<div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;  <span class="keywordflow">if</span> (Res.<a class="code" href="structllvm_1_1WholeProgramDevirtResolution.html#a11bddbadb47e3bd7803ded5d4f4248fc">TheKind</a> == <a class="code" href="structllvm_1_1WholeProgramDevirtResolution.html#ae992643f8965e97ffbc353b083615208a05ee7e7ff849410d68ccfd73e177387f">WholeProgramDevirtResolution::SingleImpl</a>) {</div>
<div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!Res.<a class="code" href="structllvm_1_1WholeProgramDevirtResolution.html#ab97c12959c5cc7b46b115da7e1ac5047">SingleImplName</a>.empty());</div>
<div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;    <span class="comment">// The type of the function in the declaration is irrelevant because every</span></div>
<div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160;    <span class="comment">// call site will cast it to the correct type.</span></div>
<div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;    <a class="code" href="classllvm_1_1Constant.html">Constant</a> *SingleImpl =</div>
<div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;        cast&lt;Constant&gt;(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getOrInsertFunction(Res.<a class="code" href="structllvm_1_1WholeProgramDevirtResolution.html#ab97c12959c5cc7b46b115da7e1ac5047">SingleImplName</a>,</div>
<div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;                                             <a class="code" href="classllvm_1_1Type.html#a6e20e76960d952de088354cbcd14c3ab">Type::getVoidTy</a>(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getContext()))</div>
<div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160;                           .getCallee());</div>
<div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160; </div>
<div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;    <span class="comment">// This is the import phase so we should not be exporting anything.</span></div>
<div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;    <span class="keywordtype">bool</span> IsExported = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160;    applySingleImplDevirt(SlotInfo, SingleImpl, IsExported);</div>
<div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!IsExported);</div>
<div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160;  }</div>
<div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160; </div>
<div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;CSByConstantArg : SlotInfo.ConstCSInfo) {</div>
<div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;    <span class="keyword">auto</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = Res.<a class="code" href="structllvm_1_1WholeProgramDevirtResolution.html#a1c0a0ec1654585583572f16e799176dc">ResByArg</a>.find(CSByConstantArg.first);</div>
<div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> == Res.<a class="code" href="structllvm_1_1WholeProgramDevirtResolution.html#a1c0a0ec1654585583572f16e799176dc">ResByArg</a>.end())</div>
<div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160;    <span class="keyword">auto</span> &amp;ResByArg = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;second;</div>
<div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160;    <span class="comment">// FIXME: We should figure out what to do about the &quot;function name&quot; argument</span></div>
<div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;    <span class="comment">// to the apply* functions, as the function names are unavailable during the</span></div>
<div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160;    <span class="comment">// importing phase. For now we just pass the empty string. This does not</span></div>
<div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;    <span class="comment">// impact correctness because the function names are just used for remarks.</span></div>
<div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;    <span class="keywordflow">switch</span> (ResByArg.<a class="code" href="structllvm_1_1WholeProgramDevirtResolution_1_1ByArg.html#acf13a890a40972d903f329d37c5ad98a">TheKind</a>) {</div>
<div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="structllvm_1_1WholeProgramDevirtResolution_1_1ByArg.html#a73c235c3b51fc129ec890391feccd47ea635d252c06de8cd5c96ebcf3d8989ccf">WholeProgramDevirtResolution::ByArg::UniformRetVal</a>:</div>
<div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160;      applyUniformRetValOpt(CSByConstantArg.second, <span class="stringliteral">&quot;&quot;</span>, ResByArg.<a class="code" href="structllvm_1_1WholeProgramDevirtResolution_1_1ByArg.html#ac1e46342d3d79c56fb3b498722a66f18">Info</a>);</div>
<div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02039"></a><span class="lineno"> 2039</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="structllvm_1_1WholeProgramDevirtResolution_1_1ByArg.html#a73c235c3b51fc129ec890391feccd47ea8bf72562c0a17a25f9e07863e68543b3">WholeProgramDevirtResolution::ByArg::UniqueRetVal</a>: {</div>
<div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160;      <a class="code" href="classllvm_1_1Constant.html">Constant</a> *UniqueMemberAddr =</div>
<div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160;          importGlobal(Slot, CSByConstantArg.first, <span class="stringliteral">&quot;unique_member&quot;</span>);</div>
<div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160;      applyUniqueRetValOpt(CSByConstantArg.second, <span class="stringliteral">&quot;&quot;</span>, ResByArg.<a class="code" href="structllvm_1_1WholeProgramDevirtResolution_1_1ByArg.html#ac1e46342d3d79c56fb3b498722a66f18">Info</a>,</div>
<div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160;                           UniqueMemberAddr);</div>
<div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160;    }</div>
<div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="structllvm_1_1WholeProgramDevirtResolution_1_1ByArg.html#a73c235c3b51fc129ec890391feccd47ea7382e969306ae2118ae88db2a241e833">WholeProgramDevirtResolution::ByArg::VirtualConstProp</a>: {</div>
<div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160;      <a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="namespacellvm_1_1codeview.html#a9cf141c9194799e2fa2d92de4c6e8ff0aa245c3230debe5c956484ecc6fa93877">Byte</a> = importConstant(Slot, CSByConstantArg.first, <span class="stringliteral">&quot;byte&quot;</span>,</div>
<div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160;                                      <a class="code" href="NVVMIntrRange_8cpp.html#abc8aecb5b627f6a91fc2fb09762d2a41">Int32Ty</a>, ResByArg.<a class="code" href="structllvm_1_1WholeProgramDevirtResolution_1_1ByArg.html#afcc8593fe943d570b5a3fe549132fdff">Byte</a>);</div>
<div class="line"><a name="l02049"></a><span class="lineno"> 2049</span>&#160;      <a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a1ef22e535a2fc701cdafaffe74fc7490">Bit</a> = importConstant(Slot, CSByConstantArg.first, <span class="stringliteral">&quot;bit&quot;</span>, Int8Ty,</div>
<div class="line"><a name="l02050"></a><span class="lineno"> 2050</span>&#160;                                     ResByArg.<a class="code" href="structllvm_1_1WholeProgramDevirtResolution_1_1ByArg.html#a74a555cfcbd8d83cdbf785f01b88be68">Bit</a>);</div>
<div class="line"><a name="l02051"></a><span class="lineno"> 2051</span>&#160;      applyVirtualConstProp(CSByConstantArg.second, <span class="stringliteral">&quot;&quot;</span>, Byte, <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a1ef22e535a2fc701cdafaffe74fc7490">Bit</a>);</div>
<div class="line"><a name="l02052"></a><span class="lineno"> 2052</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02053"></a><span class="lineno"> 2053</span>&#160;    }</div>
<div class="line"><a name="l02054"></a><span class="lineno"> 2054</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l02055"></a><span class="lineno"> 2055</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02056"></a><span class="lineno"> 2056</span>&#160;    }</div>
<div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160;  }</div>
<div class="line"><a name="l02058"></a><span class="lineno"> 2058</span>&#160; </div>
<div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160;  <span class="keywordflow">if</span> (Res.<a class="code" href="structllvm_1_1WholeProgramDevirtResolution.html#a11bddbadb47e3bd7803ded5d4f4248fc">TheKind</a> == <a class="code" href="structllvm_1_1WholeProgramDevirtResolution.html#ae992643f8965e97ffbc353b083615208ac74c33fab6fb30be2bf7db1f86b0853d">WholeProgramDevirtResolution::BranchFunnel</a>) {</div>
<div class="line"><a name="l02060"></a><span class="lineno"> 2060</span>&#160;    <span class="comment">// The type of the function is irrelevant, because it&#39;s bitcast at calls</span></div>
<div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160;    <span class="comment">// anyhow.</span></div>
<div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160;    <a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="namespacellvm_1_1HexagonISD.html#ab37bf6c49bc26c43ddd958218f63ba00a6aef1658dc627ec13f4fc59382463d9e">JT</a> = cast&lt;Constant&gt;(</div>
<div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160;        <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getOrInsertFunction(getGlobalName(Slot, {}, <span class="stringliteral">&quot;branch_funnel&quot;</span>),</div>
<div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160;                              <a class="code" href="classllvm_1_1Type.html#a6e20e76960d952de088354cbcd14c3ab">Type::getVoidTy</a>(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getContext()))</div>
<div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160;            .getCallee());</div>
<div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160;    <span class="keywordtype">bool</span> IsExported = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160;    applyICallBranchFunnel(SlotInfo, <a class="code" href="namespacellvm_1_1HexagonISD.html#ab37bf6c49bc26c43ddd958218f63ba00a6aef1658dc627ec13f4fc59382463d9e">JT</a>, IsExported);</div>
<div class="line"><a name="l02068"></a><span class="lineno"> 2068</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!IsExported);</div>
<div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160;  }</div>
<div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160;}</div>
<div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160; </div>
<div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160;<span class="keywordtype">void</span> DevirtModule::removeRedundantTypeTests() {</div>
<div class="line"><a name="l02073"></a><span class="lineno"> 2073</span>&#160;  <span class="keyword">auto</span> True = <a class="code" href="classllvm_1_1ConstantInt.html#a82dbbd8e3688b0bc1eedb338864d0d0c">ConstantInt::getTrue</a>(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getContext());</div>
<div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;&amp;U : NumUnsafeUsesForTypeTest) {</div>
<div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160;    <span class="keywordflow">if</span> (U.second == 0) {</div>
<div class="line"><a name="l02076"></a><span class="lineno"> 2076</span>&#160;      U.first-&gt;replaceAllUsesWith(True);</div>
<div class="line"><a name="l02077"></a><span class="lineno"> 2077</span>&#160;      U.first-&gt;eraseFromParent();</div>
<div class="line"><a name="l02078"></a><span class="lineno"> 2078</span>&#160;    }</div>
<div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160;  }</div>
<div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160;}</div>
<div class="line"><a name="l02081"></a><span class="lineno"> 2081</span>&#160; </div>
<div class="line"><a name="l02082"></a><span class="lineno"> 2082</span>&#160;<a class="code" href="structllvm_1_1ValueInfo.html">ValueInfo</a></div>
<div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160;DevirtModule::lookUpFunctionValueInfo(<a class="code" href="classllvm_1_1Function.html">Function</a> *TheFn,</div>
<div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160;                                      <a class="code" href="classllvm_1_1ModuleSummaryIndex.html">ModuleSummaryIndex</a> *ExportSummary) {</div>
<div class="line"><a name="l02085"></a><span class="lineno"> 2085</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((ExportSummary != <span class="keyword">nullptr</span>) &amp;&amp;</div>
<div class="line"><a name="l02086"></a><span class="lineno"> 2086</span>&#160;         <span class="stringliteral">&quot;Caller guarantees ExportSummary is not nullptr&quot;</span>);</div>
<div class="line"><a name="l02087"></a><span class="lineno"> 2087</span>&#160; </div>
<div class="line"><a name="l02088"></a><span class="lineno"> 2088</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> TheFnGUID = TheFn-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a97918d8b2f03a703571385ca2d0fe5cd">getGUID</a>();</div>
<div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> TheFnGUIDWithExportedName = <a class="code" href="classllvm_1_1GlobalValue.html#a71ee7e63264e4997a3340a781d44832e">GlobalValue::getGUID</a>(TheFn-&gt;<a class="code" href="classllvm_1_1Value.html#adb5c319f5905c1d3ca9eb5df546388c5">getName</a>());</div>
<div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160;  <span class="comment">// Look up ValueInfo with the GUID in the current linkage.</span></div>
<div class="line"><a name="l02091"></a><span class="lineno"> 2091</span>&#160;  <a class="code" href="structllvm_1_1ValueInfo.html">ValueInfo</a> TheFnVI = ExportSummary-&gt;<a class="code" href="classllvm_1_1ModuleSummaryIndex.html#a62fac0638e2f98e3a85a13fd8deefdc5">getValueInfo</a>(TheFnGUID);</div>
<div class="line"><a name="l02092"></a><span class="lineno"> 2092</span>&#160;  <span class="comment">// If no entry is found and GUID is different from GUID computed using</span></div>
<div class="line"><a name="l02093"></a><span class="lineno"> 2093</span>&#160;  <span class="comment">// exported name, look up ValueInfo with the exported name unconditionally.</span></div>
<div class="line"><a name="l02094"></a><span class="lineno"> 2094</span>&#160;  <span class="comment">// This is a fallback.</span></div>
<div class="line"><a name="l02095"></a><span class="lineno"> 2095</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l02096"></a><span class="lineno"> 2096</span>&#160;  <span class="comment">// The reason to have a fallback:</span></div>
<div class="line"><a name="l02097"></a><span class="lineno"> 2097</span>&#160;  <span class="comment">// 1. LTO could enable global value internalization via</span></div>
<div class="line"><a name="l02098"></a><span class="lineno"> 2098</span>&#160;  <span class="comment">// `enable-lto-internalization`.</span></div>
<div class="line"><a name="l02099"></a><span class="lineno"> 2099</span>&#160;  <span class="comment">// 2. The GUID in ExportedSummary is computed using exported name.</span></div>
<div class="line"><a name="l02100"></a><span class="lineno"> 2100</span>&#160;  <span class="keywordflow">if</span> ((!TheFnVI) &amp;&amp; (TheFnGUID != TheFnGUIDWithExportedName)) {</div>
<div class="line"><a name="l02101"></a><span class="lineno"> 2101</span>&#160;    TheFnVI = ExportSummary-&gt;<a class="code" href="classllvm_1_1ModuleSummaryIndex.html#a62fac0638e2f98e3a85a13fd8deefdc5">getValueInfo</a>(TheFnGUIDWithExportedName);</div>
<div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160;  }</div>
<div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160;  <span class="keywordflow">return</span> TheFnVI;</div>
<div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160;}</div>
<div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160; </div>
<div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="ModuleSummaryAnalysis_8cpp.html#aaeceda7c9243e01a0888f44e2f3e7ba3">DevirtModule::mustBeUnreachableFunction</a>(</div>
<div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160;    <a class="code" href="classllvm_1_1Function.html">Function</a> *<span class="keyword">const</span> <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, <a class="code" href="classllvm_1_1ModuleSummaryIndex.html">ModuleSummaryIndex</a> *ExportSummary) {</div>
<div class="line"><a name="l02108"></a><span class="lineno"> 2108</span>&#160;  <span class="comment">// First, learn unreachability by analyzing function IR.</span></div>
<div class="line"><a name="l02109"></a><span class="lineno"> 2109</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;isDeclaration()) {</div>
<div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160;    <span class="comment">// A function must be unreachable if its entry block ends with an</span></div>
<div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160;    <span class="comment">// &#39;unreachable&#39;.</span></div>
<div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160;    <span class="keywordflow">return</span> isa&lt;UnreachableInst&gt;(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getEntryBlock().getTerminator());</div>
<div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160;  }</div>
<div class="line"><a name="l02114"></a><span class="lineno"> 2114</span>&#160;  <span class="comment">// Learn unreachability from ExportSummary if ExportSummary is present.</span></div>
<div class="line"><a name="l02115"></a><span class="lineno"> 2115</span>&#160;  <span class="keywordflow">return</span> ExportSummary &amp;&amp;</div>
<div class="line"><a name="l02116"></a><span class="lineno"> 2116</span>&#160;         <a class="code" href="ModuleSummaryAnalysis_8cpp.html#aaeceda7c9243e01a0888f44e2f3e7ba3">::mustBeUnreachableFunction</a>(</div>
<div class="line"><a name="l02117"></a><span class="lineno"> 2117</span>&#160;             DevirtModule::lookUpFunctionValueInfo(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, ExportSummary));</div>
<div class="line"><a name="l02118"></a><span class="lineno"> 2118</span>&#160;}</div>
<div class="line"><a name="l02119"></a><span class="lineno"> 2119</span>&#160; </div>
<div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="namespacellvm_1_1dxil_1_1PointerTypeAnalysis.html#ae574a4c1d84b9e67bc94489f356805b4">DevirtModule::run</a>() {</div>
<div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160;  <span class="comment">// If only some of the modules were split, we cannot correctly perform</span></div>
<div class="line"><a name="l02122"></a><span class="lineno"> 2122</span>&#160;  <span class="comment">// this transformation. We already checked for the presense of type tests</span></div>
<div class="line"><a name="l02123"></a><span class="lineno"> 2123</span>&#160;  <span class="comment">// with partially split modules during the thin link, and would have emitted</span></div>
<div class="line"><a name="l02124"></a><span class="lineno"> 2124</span>&#160;  <span class="comment">// an error if any were found, so here we can simply return.</span></div>
<div class="line"><a name="l02125"></a><span class="lineno"> 2125</span>&#160;  <span class="keywordflow">if</span> ((ExportSummary &amp;&amp; ExportSummary-&gt;<a class="code" href="classllvm_1_1ModuleSummaryIndex.html#a789cb293a347a50218bd41a96ae4c914">partiallySplitLTOUnits</a>()) ||</div>
<div class="line"><a name="l02126"></a><span class="lineno"> 2126</span>&#160;      (ImportSummary &amp;&amp; ImportSummary-&gt;<a class="code" href="classllvm_1_1ModuleSummaryIndex.html#a789cb293a347a50218bd41a96ae4c914">partiallySplitLTOUnits</a>()))</div>
<div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02128"></a><span class="lineno"> 2128</span>&#160; </div>
<div class="line"><a name="l02129"></a><span class="lineno"> 2129</span>&#160;  <a class="code" href="classllvm_1_1Function.html">Function</a> *TypeTestFunc =</div>
<div class="line"><a name="l02130"></a><span class="lineno"> 2130</span>&#160;      <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getFunction(<a class="code" href="namespacellvm_1_1Intrinsic.html#a7157f9fa9dd11f234ec3c58517cb6d96">Intrinsic::getName</a>(Intrinsic::type_test));</div>
<div class="line"><a name="l02131"></a><span class="lineno"> 2131</span>&#160;  <a class="code" href="classllvm_1_1Function.html">Function</a> *TypeCheckedLoadFunc =</div>
<div class="line"><a name="l02132"></a><span class="lineno"> 2132</span>&#160;      <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getFunction(<a class="code" href="namespacellvm_1_1Intrinsic.html#a7157f9fa9dd11f234ec3c58517cb6d96">Intrinsic::getName</a>(Intrinsic::type_checked_load));</div>
<div class="line"><a name="l02133"></a><span class="lineno"> 2133</span>&#160;  <a class="code" href="classllvm_1_1Function.html">Function</a> *AssumeFunc = <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getFunction(<a class="code" href="namespacellvm_1_1Intrinsic.html#a7157f9fa9dd11f234ec3c58517cb6d96">Intrinsic::getName</a>(Intrinsic::assume));</div>
<div class="line"><a name="l02134"></a><span class="lineno"> 2134</span>&#160; </div>
<div class="line"><a name="l02135"></a><span class="lineno"> 2135</span>&#160;  <span class="comment">// Normally if there are no users of the devirtualization intrinsics in the</span></div>
<div class="line"><a name="l02136"></a><span class="lineno"> 2136</span>&#160;  <span class="comment">// module, this pass has nothing to do. But if we are exporting, we also need</span></div>
<div class="line"><a name="l02137"></a><span class="lineno"> 2137</span>&#160;  <span class="comment">// to handle any users that appear only in the function summaries.</span></div>
<div class="line"><a name="l02138"></a><span class="lineno"> 2138</span>&#160;  <span class="keywordflow">if</span> (!ExportSummary &amp;&amp;</div>
<div class="line"><a name="l02139"></a><span class="lineno"> 2139</span>&#160;      (!TypeTestFunc || TypeTestFunc-&gt;<a class="code" href="classllvm_1_1Value.html#a9d7de807ebdfe1819df3ff6cb0f16158">use_empty</a>() || !AssumeFunc ||</div>
<div class="line"><a name="l02140"></a><span class="lineno"> 2140</span>&#160;       AssumeFunc-&gt;<a class="code" href="classllvm_1_1Value.html#a9d7de807ebdfe1819df3ff6cb0f16158">use_empty</a>()) &amp;&amp;</div>
<div class="line"><a name="l02141"></a><span class="lineno"> 2141</span>&#160;      (!TypeCheckedLoadFunc || TypeCheckedLoadFunc-&gt;<a class="code" href="classllvm_1_1Value.html#a9d7de807ebdfe1819df3ff6cb0f16158">use_empty</a>()))</div>
<div class="line"><a name="l02142"></a><span class="lineno"> 2142</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02143"></a><span class="lineno"> 2143</span>&#160; </div>
<div class="line"><a name="l02144"></a><span class="lineno"> 2144</span>&#160;  <span class="comment">// Rebuild type metadata into a map for easy lookup.</span></div>
<div class="line"><a name="l02145"></a><span class="lineno"> 2145</span>&#160;  std::vector&lt;VTableBits&gt; <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a3c0710aa6b054662f67b480712fa2b95">Bits</a>;</div>
<div class="line"><a name="l02146"></a><span class="lineno"> 2146</span>&#160;  <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;Metadata *, std::set&lt;TypeMemberInfo&gt;</a>&gt; TypeIdMap;</div>
<div class="line"><a name="l02147"></a><span class="lineno"> 2147</span>&#160;  buildTypeIdentifierMap(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a3c0710aa6b054662f67b480712fa2b95">Bits</a>, TypeIdMap);</div>
<div class="line"><a name="l02148"></a><span class="lineno"> 2148</span>&#160; </div>
<div class="line"><a name="l02149"></a><span class="lineno"> 2149</span>&#160;  <span class="keywordflow">if</span> (TypeTestFunc &amp;&amp; AssumeFunc)</div>
<div class="line"><a name="l02150"></a><span class="lineno"> 2150</span>&#160;    scanTypeTestUsers(TypeTestFunc, TypeIdMap);</div>
<div class="line"><a name="l02151"></a><span class="lineno"> 2151</span>&#160; </div>
<div class="line"><a name="l02152"></a><span class="lineno"> 2152</span>&#160;  <span class="keywordflow">if</span> (TypeCheckedLoadFunc)</div>
<div class="line"><a name="l02153"></a><span class="lineno"> 2153</span>&#160;    scanTypeCheckedLoadUsers(TypeCheckedLoadFunc);</div>
<div class="line"><a name="l02154"></a><span class="lineno"> 2154</span>&#160; </div>
<div class="line"><a name="l02155"></a><span class="lineno"> 2155</span>&#160;  <span class="keywordflow">if</span> (ImportSummary) {</div>
<div class="line"><a name="l02156"></a><span class="lineno"> 2156</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> : CallSlots)</div>
<div class="line"><a name="l02157"></a><span class="lineno"> 2157</span>&#160;      importResolution(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>.first, <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>.second);</div>
<div class="line"><a name="l02158"></a><span class="lineno"> 2158</span>&#160; </div>
<div class="line"><a name="l02159"></a><span class="lineno"> 2159</span>&#160;    removeRedundantTypeTests();</div>
<div class="line"><a name="l02160"></a><span class="lineno"> 2160</span>&#160; </div>
<div class="line"><a name="l02161"></a><span class="lineno"> 2161</span>&#160;    <span class="comment">// We have lowered or deleted the type intrinsics, so we will no longer have</span></div>
<div class="line"><a name="l02162"></a><span class="lineno"> 2162</span>&#160;    <span class="comment">// enough information to reason about the liveness of virtual function</span></div>
<div class="line"><a name="l02163"></a><span class="lineno"> 2163</span>&#160;    <span class="comment">// pointers in GlobalDCE.</span></div>
<div class="line"><a name="l02164"></a><span class="lineno"> 2164</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1GlobalVariable.html">GlobalVariable</a> &amp;GV : <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.globals())</div>
<div class="line"><a name="l02165"></a><span class="lineno"> 2165</span>&#160;      GV.eraseMetadata(LLVMContext::MD_vcall_visibility);</div>
<div class="line"><a name="l02166"></a><span class="lineno"> 2166</span>&#160; </div>
<div class="line"><a name="l02167"></a><span class="lineno"> 2167</span>&#160;    <span class="comment">// The rest of the code is only necessary when exporting or during regular</span></div>
<div class="line"><a name="l02168"></a><span class="lineno"> 2168</span>&#160;    <span class="comment">// LTO, so we are done.</span></div>
<div class="line"><a name="l02169"></a><span class="lineno"> 2169</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02170"></a><span class="lineno"> 2170</span>&#160;  }</div>
<div class="line"><a name="l02171"></a><span class="lineno"> 2171</span>&#160; </div>
<div class="line"><a name="l02172"></a><span class="lineno"> 2172</span>&#160;  <span class="keywordflow">if</span> (TypeIdMap.<a class="code" href="classllvm_1_1DenseMapBase.html#a49c487a9395a6c384be8544cfb2cfccf">empty</a>())</div>
<div class="line"><a name="l02173"></a><span class="lineno"> 2173</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02174"></a><span class="lineno"> 2174</span>&#160; </div>
<div class="line"><a name="l02175"></a><span class="lineno"> 2175</span>&#160;  <span class="comment">// Collect information from summary about which calls to try to devirtualize.</span></div>
<div class="line"><a name="l02176"></a><span class="lineno"> 2176</span>&#160;  <span class="keywordflow">if</span> (ExportSummary) {</div>
<div class="line"><a name="l02177"></a><span class="lineno"> 2177</span>&#160;    <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;GlobalValue::GUID, TinyPtrVector&lt;Metadata *&gt;</a>&gt; MetadataByGUID;</div>
<div class="line"><a name="l02178"></a><span class="lineno"> 2178</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> : TypeIdMap) {</div>
<div class="line"><a name="l02179"></a><span class="lineno"> 2179</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">auto</span> *TypeId = dyn_cast&lt;MDString&gt;(<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.first))</div>
<div class="line"><a name="l02180"></a><span class="lineno"> 2180</span>&#160;        MetadataByGUID[<a class="code" href="classllvm_1_1GlobalValue.html#a71ee7e63264e4997a3340a781d44832e">GlobalValue::getGUID</a>(TypeId-&gt;getString())].push_back(</div>
<div class="line"><a name="l02181"></a><span class="lineno"> 2181</span>&#160;            TypeId);</div>
<div class="line"><a name="l02182"></a><span class="lineno"> 2182</span>&#160;    }</div>
<div class="line"><a name="l02183"></a><span class="lineno"> 2183</span>&#160; </div>
<div class="line"><a name="l02184"></a><span class="lineno"> 2184</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> : *ExportSummary) {</div>
<div class="line"><a name="l02185"></a><span class="lineno"> 2185</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> : <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.second.SummaryList) {</div>
<div class="line"><a name="l02186"></a><span class="lineno"> 2186</span>&#160;        <span class="keyword">auto</span> *<a class="code" href="namespacellvm_1_1X86AS.html#aea2591d7d017866934bcf72ee3dc8a31a5b3a782ccae295a254e2794ad30ad07f">FS</a> = dyn_cast&lt;FunctionSummary&gt;(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>.get());</div>
<div class="line"><a name="l02187"></a><span class="lineno"> 2187</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1X86AS.html#aea2591d7d017866934bcf72ee3dc8a31a5b3a782ccae295a254e2794ad30ad07f">FS</a>)</div>
<div class="line"><a name="l02188"></a><span class="lineno"> 2188</span>&#160;          <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02189"></a><span class="lineno"> 2189</span>&#160;        <span class="comment">// FIXME: Only add live functions.</span></div>
<div class="line"><a name="l02190"></a><span class="lineno"> 2190</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="structllvm_1_1FunctionSummary_1_1VFuncId.html">FunctionSummary::VFuncId</a> VF : <a class="code" href="namespacellvm_1_1X86AS.html#aea2591d7d017866934bcf72ee3dc8a31a5b3a782ccae295a254e2794ad30ad07f">FS</a>-&gt;type_test_assume_vcalls()) {</div>
<div class="line"><a name="l02191"></a><span class="lineno"> 2191</span>&#160;          <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Metadata.html">Metadata</a> *MD : MetadataByGUID[VF.GUID]) {</div>
<div class="line"><a name="l02192"></a><span class="lineno"> 2192</span>&#160;            CallSlots[{MD, VF.Offset}].CSInfo.addSummaryTypeTestAssumeUser(<a class="code" href="namespacellvm_1_1X86AS.html#aea2591d7d017866934bcf72ee3dc8a31a5b3a782ccae295a254e2794ad30ad07f">FS</a>);</div>
<div class="line"><a name="l02193"></a><span class="lineno"> 2193</span>&#160;          }</div>
<div class="line"><a name="l02194"></a><span class="lineno"> 2194</span>&#160;        }</div>
<div class="line"><a name="l02195"></a><span class="lineno"> 2195</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="structllvm_1_1FunctionSummary_1_1VFuncId.html">FunctionSummary::VFuncId</a> VF : <a class="code" href="namespacellvm_1_1X86AS.html#aea2591d7d017866934bcf72ee3dc8a31a5b3a782ccae295a254e2794ad30ad07f">FS</a>-&gt;type_checked_load_vcalls()) {</div>
<div class="line"><a name="l02196"></a><span class="lineno"> 2196</span>&#160;          <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Metadata.html">Metadata</a> *MD : MetadataByGUID[VF.GUID]) {</div>
<div class="line"><a name="l02197"></a><span class="lineno"> 2197</span>&#160;            CallSlots[{MD, VF.Offset}].CSInfo.addSummaryTypeCheckedLoadUser(<a class="code" href="namespacellvm_1_1X86AS.html#aea2591d7d017866934bcf72ee3dc8a31a5b3a782ccae295a254e2794ad30ad07f">FS</a>);</div>
<div class="line"><a name="l02198"></a><span class="lineno"> 2198</span>&#160;          }</div>
<div class="line"><a name="l02199"></a><span class="lineno"> 2199</span>&#160;        }</div>
<div class="line"><a name="l02200"></a><span class="lineno"> 2200</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="structllvm_1_1FunctionSummary_1_1ConstVCall.html">FunctionSummary::ConstVCall</a> &amp;<a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28a0be9a5b045e14f589506ab6372ab6592">VC</a> :</div>
<div class="line"><a name="l02201"></a><span class="lineno"> 2201</span>&#160;             <a class="code" href="namespacellvm_1_1X86AS.html#aea2591d7d017866934bcf72ee3dc8a31a5b3a782ccae295a254e2794ad30ad07f">FS</a>-&gt;type_test_assume_const_vcalls()) {</div>
<div class="line"><a name="l02202"></a><span class="lineno"> 2202</span>&#160;          <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Metadata.html">Metadata</a> *MD : MetadataByGUID[<a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28a0be9a5b045e14f589506ab6372ab6592">VC</a>.VFunc.GUID]) {</div>
<div class="line"><a name="l02203"></a><span class="lineno"> 2203</span>&#160;            CallSlots[{MD, <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28a0be9a5b045e14f589506ab6372ab6592">VC</a>.VFunc.Offset}]</div>
<div class="line"><a name="l02204"></a><span class="lineno"> 2204</span>&#160;                .ConstCSInfo[<a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28a0be9a5b045e14f589506ab6372ab6592">VC</a>.Args]</div>
<div class="line"><a name="l02205"></a><span class="lineno"> 2205</span>&#160;                .addSummaryTypeTestAssumeUser(<a class="code" href="namespacellvm_1_1X86AS.html#aea2591d7d017866934bcf72ee3dc8a31a5b3a782ccae295a254e2794ad30ad07f">FS</a>);</div>
<div class="line"><a name="l02206"></a><span class="lineno"> 2206</span>&#160;          }</div>
<div class="line"><a name="l02207"></a><span class="lineno"> 2207</span>&#160;        }</div>
<div class="line"><a name="l02208"></a><span class="lineno"> 2208</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="structllvm_1_1FunctionSummary_1_1ConstVCall.html">FunctionSummary::ConstVCall</a> &amp;<a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28a0be9a5b045e14f589506ab6372ab6592">VC</a> :</div>
<div class="line"><a name="l02209"></a><span class="lineno"> 2209</span>&#160;             <a class="code" href="namespacellvm_1_1X86AS.html#aea2591d7d017866934bcf72ee3dc8a31a5b3a782ccae295a254e2794ad30ad07f">FS</a>-&gt;type_checked_load_const_vcalls()) {</div>
<div class="line"><a name="l02210"></a><span class="lineno"> 2210</span>&#160;          <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Metadata.html">Metadata</a> *MD : MetadataByGUID[<a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28a0be9a5b045e14f589506ab6372ab6592">VC</a>.VFunc.GUID]) {</div>
<div class="line"><a name="l02211"></a><span class="lineno"> 2211</span>&#160;            CallSlots[{MD, <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28a0be9a5b045e14f589506ab6372ab6592">VC</a>.VFunc.Offset}]</div>
<div class="line"><a name="l02212"></a><span class="lineno"> 2212</span>&#160;                .ConstCSInfo[<a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28a0be9a5b045e14f589506ab6372ab6592">VC</a>.Args]</div>
<div class="line"><a name="l02213"></a><span class="lineno"> 2213</span>&#160;                .addSummaryTypeCheckedLoadUser(<a class="code" href="namespacellvm_1_1X86AS.html#aea2591d7d017866934bcf72ee3dc8a31a5b3a782ccae295a254e2794ad30ad07f">FS</a>);</div>
<div class="line"><a name="l02214"></a><span class="lineno"> 2214</span>&#160;          }</div>
<div class="line"><a name="l02215"></a><span class="lineno"> 2215</span>&#160;        }</div>
<div class="line"><a name="l02216"></a><span class="lineno"> 2216</span>&#160;      }</div>
<div class="line"><a name="l02217"></a><span class="lineno"> 2217</span>&#160;    }</div>
<div class="line"><a name="l02218"></a><span class="lineno"> 2218</span>&#160;  }</div>
<div class="line"><a name="l02219"></a><span class="lineno"> 2219</span>&#160; </div>
<div class="line"><a name="l02220"></a><span class="lineno"> 2220</span>&#160;  <span class="comment">// For each (type, offset) pair:</span></div>
<div class="line"><a name="l02221"></a><span class="lineno"> 2221</span>&#160;  <span class="keywordtype">bool</span> DidVirtualConstProp = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02222"></a><span class="lineno"> 2222</span>&#160;  std::map&lt;std::string, Function*&gt; DevirtTargets;</div>
<div class="line"><a name="l02223"></a><span class="lineno"> 2223</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> : CallSlots) {</div>
<div class="line"><a name="l02224"></a><span class="lineno"> 2224</span>&#160;    <span class="comment">// Search each of the members of the type identifier for the virtual</span></div>
<div class="line"><a name="l02225"></a><span class="lineno"> 2225</span>&#160;    <span class="comment">// function implementation at offset S.first.ByteOffset, and add to</span></div>
<div class="line"><a name="l02226"></a><span class="lineno"> 2226</span>&#160;    <span class="comment">// TargetsForSlot.</span></div>
<div class="line"><a name="l02227"></a><span class="lineno"> 2227</span>&#160;    std::vector&lt;VirtualCallTarget&gt; TargetsForSlot;</div>
<div class="line"><a name="l02228"></a><span class="lineno"> 2228</span>&#160;    <a class="code" href="structllvm_1_1WholeProgramDevirtResolution.html">WholeProgramDevirtResolution</a> *Res = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02229"></a><span class="lineno"> 2229</span>&#160;    <span class="keyword">const</span> std::set&lt;TypeMemberInfo&gt; &amp;TypeMemberInfos = TypeIdMap[<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>.first.TypeID];</div>
<div class="line"><a name="l02230"></a><span class="lineno"> 2230</span>&#160;    <span class="keywordflow">if</span> (ExportSummary &amp;&amp; isa&lt;MDString&gt;(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>.first.TypeID) &amp;&amp;</div>
<div class="line"><a name="l02231"></a><span class="lineno"> 2231</span>&#160;        TypeMemberInfos.size())</div>
<div class="line"><a name="l02232"></a><span class="lineno"> 2232</span>&#160;      <span class="comment">// For any type id used on a global&#39;s type metadata, create the type id</span></div>
<div class="line"><a name="l02233"></a><span class="lineno"> 2233</span>&#160;      <span class="comment">// summary resolution regardless of whether we can devirtualize, so that</span></div>
<div class="line"><a name="l02234"></a><span class="lineno"> 2234</span>&#160;      <span class="comment">// lower type tests knows the type id is not Unsat. If it was not used on</span></div>
<div class="line"><a name="l02235"></a><span class="lineno"> 2235</span>&#160;      <span class="comment">// a global&#39;s type metadata, the TypeIdMap entry set will be empty, and</span></div>
<div class="line"><a name="l02236"></a><span class="lineno"> 2236</span>&#160;      <span class="comment">// we don&#39;t want to create an entry (with the default Unknown type</span></div>
<div class="line"><a name="l02237"></a><span class="lineno"> 2237</span>&#160;      <span class="comment">// resolution), which can prevent detection of the Unsat.</span></div>
<div class="line"><a name="l02238"></a><span class="lineno"> 2238</span>&#160;      Res = &amp;ExportSummary</div>
<div class="line"><a name="l02239"></a><span class="lineno"> 2239</span>&#160;                 -&gt;getOrInsertTypeIdSummary(</div>
<div class="line"><a name="l02240"></a><span class="lineno"> 2240</span>&#160;                     cast&lt;MDString&gt;(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>.first.TypeID)-&gt;getString())</div>
<div class="line"><a name="l02241"></a><span class="lineno"> 2241</span>&#160;                 .WPDRes[<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>.first.ByteOffset];</div>
<div class="line"><a name="l02242"></a><span class="lineno"> 2242</span>&#160;    <span class="keywordflow">if</span> (tryFindVirtualCallTargets(TargetsForSlot, TypeMemberInfos,</div>
<div class="line"><a name="l02243"></a><span class="lineno"> 2243</span>&#160;                                  <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>.first.ByteOffset, ExportSummary)) {</div>
<div class="line"><a name="l02244"></a><span class="lineno"> 2244</span>&#160; </div>
<div class="line"><a name="l02245"></a><span class="lineno"> 2245</span>&#160;      <span class="keywordflow">if</span> (!trySingleImplDevirt(ExportSummary, TargetsForSlot, <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>.second, Res)) {</div>
<div class="line"><a name="l02246"></a><span class="lineno"> 2246</span>&#160;        DidVirtualConstProp |=</div>
<div class="line"><a name="l02247"></a><span class="lineno"> 2247</span>&#160;            tryVirtualConstProp(TargetsForSlot, <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>.second, Res, <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>.first);</div>
<div class="line"><a name="l02248"></a><span class="lineno"> 2248</span>&#160; </div>
<div class="line"><a name="l02249"></a><span class="lineno"> 2249</span>&#160;        tryICallBranchFunnel(TargetsForSlot, <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>.second, Res, <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>.first);</div>
<div class="line"><a name="l02250"></a><span class="lineno"> 2250</span>&#160;      }</div>
<div class="line"><a name="l02251"></a><span class="lineno"> 2251</span>&#160; </div>
<div class="line"><a name="l02252"></a><span class="lineno"> 2252</span>&#160;      <span class="comment">// Collect functions devirtualized at least for one call site for stats.</span></div>
<div class="line"><a name="l02253"></a><span class="lineno"> 2253</span>&#160;      <span class="keywordflow">if</span> (RemarksEnabled || <a class="code" href="namespacellvm.html#a846137dc22b3b399b62f606698f3ed59">AreStatisticsEnabled</a>())</div>
<div class="line"><a name="l02254"></a><span class="lineno"> 2254</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;<a class="code" href="classT.html">T</a> : TargetsForSlot)</div>
<div class="line"><a name="l02255"></a><span class="lineno"> 2255</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="classT.html">T</a>.WasDevirt)</div>
<div class="line"><a name="l02256"></a><span class="lineno"> 2256</span>&#160;            DevirtTargets[std::string(<a class="code" href="classT.html">T</a>.Fn-&gt;getName())] = <a class="code" href="classT.html">T</a>.Fn;</div>
<div class="line"><a name="l02257"></a><span class="lineno"> 2257</span>&#160;    }</div>
<div class="line"><a name="l02258"></a><span class="lineno"> 2258</span>&#160; </div>
<div class="line"><a name="l02259"></a><span class="lineno"> 2259</span>&#160;    <span class="comment">// CFI-specific: if we are exporting and any llvm.type.checked.load</span></div>
<div class="line"><a name="l02260"></a><span class="lineno"> 2260</span>&#160;    <span class="comment">// intrinsics were *not* devirtualized, we need to add the resulting</span></div>
<div class="line"><a name="l02261"></a><span class="lineno"> 2261</span>&#160;    <span class="comment">// llvm.type.test intrinsics to the function summaries so that the</span></div>
<div class="line"><a name="l02262"></a><span class="lineno"> 2262</span>&#160;    <span class="comment">// LowerTypeTests pass will export them.</span></div>
<div class="line"><a name="l02263"></a><span class="lineno"> 2263</span>&#160;    <span class="keywordflow">if</span> (ExportSummary &amp;&amp; isa&lt;MDString&gt;(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>.first.TypeID)) {</div>
<div class="line"><a name="l02264"></a><span class="lineno"> 2264</span>&#160;      <span class="keyword">auto</span> GUID =</div>
<div class="line"><a name="l02265"></a><span class="lineno"> 2265</span>&#160;          <a class="code" href="classllvm_1_1GlobalValue.html#a71ee7e63264e4997a3340a781d44832e">GlobalValue::getGUID</a>(cast&lt;MDString&gt;(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>.first.TypeID)-&gt;getString());</div>
<div class="line"><a name="l02266"></a><span class="lineno"> 2266</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">auto</span> *<a class="code" href="namespacellvm_1_1X86AS.html#aea2591d7d017866934bcf72ee3dc8a31a5b3a782ccae295a254e2794ad30ad07f">FS</a> : <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>.second.CSInfo.SummaryTypeCheckedLoadUsers)</div>
<div class="line"><a name="l02267"></a><span class="lineno"> 2267</span>&#160;        <a class="code" href="namespacellvm_1_1X86AS.html#aea2591d7d017866934bcf72ee3dc8a31a5b3a782ccae295a254e2794ad30ad07f">FS</a>-&gt;addTypeTest(GUID);</div>
<div class="line"><a name="l02268"></a><span class="lineno"> 2268</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;CCS : <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>.second.ConstCSInfo)</div>
<div class="line"><a name="l02269"></a><span class="lineno"> 2269</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">auto</span> *<a class="code" href="namespacellvm_1_1X86AS.html#aea2591d7d017866934bcf72ee3dc8a31a5b3a782ccae295a254e2794ad30ad07f">FS</a> : CCS.second.SummaryTypeCheckedLoadUsers)</div>
<div class="line"><a name="l02270"></a><span class="lineno"> 2270</span>&#160;          <a class="code" href="namespacellvm_1_1X86AS.html#aea2591d7d017866934bcf72ee3dc8a31a5b3a782ccae295a254e2794ad30ad07f">FS</a>-&gt;addTypeTest(GUID);</div>
<div class="line"><a name="l02271"></a><span class="lineno"> 2271</span>&#160;    }</div>
<div class="line"><a name="l02272"></a><span class="lineno"> 2272</span>&#160;  }</div>
<div class="line"><a name="l02273"></a><span class="lineno"> 2273</span>&#160; </div>
<div class="line"><a name="l02274"></a><span class="lineno"> 2274</span>&#160;  <span class="keywordflow">if</span> (RemarksEnabled) {</div>
<div class="line"><a name="l02275"></a><span class="lineno"> 2275</span>&#160;    <span class="comment">// Generate remarks for each devirtualized function.</span></div>
<div class="line"><a name="l02276"></a><span class="lineno"> 2276</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;DT : DevirtTargets) {</div>
<div class="line"><a name="l02277"></a><span class="lineno"> 2277</span>&#160;      <a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> = DT.second;</div>
<div class="line"><a name="l02278"></a><span class="lineno"> 2278</span>&#160; </div>
<div class="line"><a name="l02279"></a><span class="lineno"> 2279</span>&#160;      <span class="keyword">using namespace </span>ore;</div>
<div class="line"><a name="l02280"></a><span class="lineno"> 2280</span>&#160;      OREGetter(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>).emit(<a class="code" href="classllvm_1_1OptimizationRemark.html">OptimizationRemark</a>(<a class="code" href="WholeProgramDevirt_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">DEBUG_TYPE</a>, <span class="stringliteral">&quot;Devirtualized&quot;</span>, <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>)</div>
<div class="line"><a name="l02281"></a><span class="lineno"> 2281</span>&#160;                        &lt;&lt; <span class="stringliteral">&quot;devirtualized &quot;</span></div>
<div class="line"><a name="l02282"></a><span class="lineno"> 2282</span>&#160;                        &lt;&lt; <a class="code" href="namespacellvm_1_1ore.html#a8f5533240c6722d987a2443cba42019d">NV</a>(<span class="stringliteral">&quot;FunctionName&quot;</span>, DT.first));</div>
<div class="line"><a name="l02283"></a><span class="lineno"> 2283</span>&#160;    }</div>
<div class="line"><a name="l02284"></a><span class="lineno"> 2284</span>&#160;  }</div>
<div class="line"><a name="l02285"></a><span class="lineno"> 2285</span>&#160; </div>
<div class="line"><a name="l02286"></a><span class="lineno"> 2286</span>&#160;  NumDevirtTargets += DevirtTargets.size();</div>
<div class="line"><a name="l02287"></a><span class="lineno"> 2287</span>&#160; </div>
<div class="line"><a name="l02288"></a><span class="lineno"> 2288</span>&#160;  removeRedundantTypeTests();</div>
<div class="line"><a name="l02289"></a><span class="lineno"> 2289</span>&#160; </div>
<div class="line"><a name="l02290"></a><span class="lineno"> 2290</span>&#160;  <span class="comment">// Rebuild each global we touched as part of virtual constant propagation to</span></div>
<div class="line"><a name="l02291"></a><span class="lineno"> 2291</span>&#160;  <span class="comment">// include the before and after bytes.</span></div>
<div class="line"><a name="l02292"></a><span class="lineno"> 2292</span>&#160;  <span class="keywordflow">if</span> (DidVirtualConstProp)</div>
<div class="line"><a name="l02293"></a><span class="lineno"> 2293</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="structllvm_1_1wholeprogramdevirt_1_1VTableBits.html">VTableBits</a> &amp;<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a> : <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a3c0710aa6b054662f67b480712fa2b95">Bits</a>)</div>
<div class="line"><a name="l02294"></a><span class="lineno"> 2294</span>&#160;      rebuildGlobal(<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>);</div>
<div class="line"><a name="l02295"></a><span class="lineno"> 2295</span>&#160; </div>
<div class="line"><a name="l02296"></a><span class="lineno"> 2296</span>&#160;  <span class="comment">// We have lowered or deleted the type intrinsics, so we will no longer have</span></div>
<div class="line"><a name="l02297"></a><span class="lineno"> 2297</span>&#160;  <span class="comment">// enough information to reason about the liveness of virtual function</span></div>
<div class="line"><a name="l02298"></a><span class="lineno"> 2298</span>&#160;  <span class="comment">// pointers in GlobalDCE.</span></div>
<div class="line"><a name="l02299"></a><span class="lineno"> 2299</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1GlobalVariable.html">GlobalVariable</a> &amp;GV : <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.globals())</div>
<div class="line"><a name="l02300"></a><span class="lineno"> 2300</span>&#160;    GV.eraseMetadata(LLVMContext::MD_vcall_visibility);</div>
<div class="line"><a name="l02301"></a><span class="lineno"> 2301</span>&#160; </div>
<div class="line"><a name="l02302"></a><span class="lineno"> 2302</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02303"></a><span class="lineno"> 2303</span>&#160;}</div>
<div class="line"><a name="l02304"></a><span class="lineno"> 2304</span>&#160; </div>
<div class="line"><a name="l02305"></a><span class="lineno"> 2305</span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacellvm_1_1dxil_1_1PointerTypeAnalysis.html#ae574a4c1d84b9e67bc94489f356805b4">DevirtIndex::run</a>() {</div>
<div class="line"><a name="l02306"></a><span class="lineno"> 2306</span>&#160;  <span class="keywordflow">if</span> (ExportSummary.typeIdCompatibleVtableMap().empty())</div>
<div class="line"><a name="l02307"></a><span class="lineno"> 2307</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02308"></a><span class="lineno"> 2308</span>&#160; </div>
<div class="line"><a name="l02309"></a><span class="lineno"> 2309</span>&#160;  <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;GlobalValue::GUID, std::vector&lt;StringRef&gt;</a>&gt; NameByGUID;</div>
<div class="line"><a name="l02310"></a><span class="lineno"> 2310</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> : ExportSummary.typeIdCompatibleVtableMap()) {</div>
<div class="line"><a name="l02311"></a><span class="lineno"> 2311</span>&#160;    NameByGUID[<a class="code" href="classllvm_1_1GlobalValue.html#a71ee7e63264e4997a3340a781d44832e">GlobalValue::getGUID</a>(<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.first)].push_back(<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.first);</div>
<div class="line"><a name="l02312"></a><span class="lineno"> 2312</span>&#160;    <span class="comment">// Create the type id summary resolution regardlness of whether we can</span></div>
<div class="line"><a name="l02313"></a><span class="lineno"> 2313</span>&#160;    <span class="comment">// devirtualize, so that lower type tests knows the type id is used on</span></div>
<div class="line"><a name="l02314"></a><span class="lineno"> 2314</span>&#160;    <span class="comment">// a global and not Unsat. We do this here rather than in the loop over the</span></div>
<div class="line"><a name="l02315"></a><span class="lineno"> 2315</span>&#160;    <span class="comment">// CallSlots, since that handling will only see type tests that directly</span></div>
<div class="line"><a name="l02316"></a><span class="lineno"> 2316</span>&#160;    <span class="comment">// feed assumes, and we would miss any that aren&#39;t currently handled by WPD</span></div>
<div class="line"><a name="l02317"></a><span class="lineno"> 2317</span>&#160;    <span class="comment">// (such as type tests that feed assumes via phis).</span></div>
<div class="line"><a name="l02318"></a><span class="lineno"> 2318</span>&#160;    ExportSummary.getOrInsertTypeIdSummary(<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.first);</div>
<div class="line"><a name="l02319"></a><span class="lineno"> 2319</span>&#160;  }</div>
<div class="line"><a name="l02320"></a><span class="lineno"> 2320</span>&#160; </div>
<div class="line"><a name="l02321"></a><span class="lineno"> 2321</span>&#160;  <span class="comment">// Collect information from summary about which calls to try to devirtualize.</span></div>
<div class="line"><a name="l02322"></a><span class="lineno"> 2322</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> : ExportSummary) {</div>
<div class="line"><a name="l02323"></a><span class="lineno"> 2323</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> : <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.second.SummaryList) {</div>
<div class="line"><a name="l02324"></a><span class="lineno"> 2324</span>&#160;      <span class="keyword">auto</span> *<a class="code" href="namespacellvm_1_1X86AS.html#aea2591d7d017866934bcf72ee3dc8a31a5b3a782ccae295a254e2794ad30ad07f">FS</a> = dyn_cast&lt;FunctionSummary&gt;(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>.get());</div>
<div class="line"><a name="l02325"></a><span class="lineno"> 2325</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1X86AS.html#aea2591d7d017866934bcf72ee3dc8a31a5b3a782ccae295a254e2794ad30ad07f">FS</a>)</div>
<div class="line"><a name="l02326"></a><span class="lineno"> 2326</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02327"></a><span class="lineno"> 2327</span>&#160;      <span class="comment">// FIXME: Only add live functions.</span></div>
<div class="line"><a name="l02328"></a><span class="lineno"> 2328</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="structllvm_1_1FunctionSummary_1_1VFuncId.html">FunctionSummary::VFuncId</a> VF : <a class="code" href="namespacellvm_1_1X86AS.html#aea2591d7d017866934bcf72ee3dc8a31a5b3a782ccae295a254e2794ad30ad07f">FS</a>-&gt;type_test_assume_vcalls()) {</div>
<div class="line"><a name="l02329"></a><span class="lineno"> 2329</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1StringRef.html">StringRef</a> Name : NameByGUID[VF.GUID]) {</div>
<div class="line"><a name="l02330"></a><span class="lineno"> 2330</span>&#160;          CallSlots[{<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>, VF.Offset}].CSInfo.addSummaryTypeTestAssumeUser(<a class="code" href="namespacellvm_1_1X86AS.html#aea2591d7d017866934bcf72ee3dc8a31a5b3a782ccae295a254e2794ad30ad07f">FS</a>);</div>
<div class="line"><a name="l02331"></a><span class="lineno"> 2331</span>&#160;        }</div>
<div class="line"><a name="l02332"></a><span class="lineno"> 2332</span>&#160;      }</div>
<div class="line"><a name="l02333"></a><span class="lineno"> 2333</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="structllvm_1_1FunctionSummary_1_1VFuncId.html">FunctionSummary::VFuncId</a> VF : <a class="code" href="namespacellvm_1_1X86AS.html#aea2591d7d017866934bcf72ee3dc8a31a5b3a782ccae295a254e2794ad30ad07f">FS</a>-&gt;type_checked_load_vcalls()) {</div>
<div class="line"><a name="l02334"></a><span class="lineno"> 2334</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1StringRef.html">StringRef</a> Name : NameByGUID[VF.GUID]) {</div>
<div class="line"><a name="l02335"></a><span class="lineno"> 2335</span>&#160;          CallSlots[{<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>, VF.Offset}].CSInfo.addSummaryTypeCheckedLoadUser(<a class="code" href="namespacellvm_1_1X86AS.html#aea2591d7d017866934bcf72ee3dc8a31a5b3a782ccae295a254e2794ad30ad07f">FS</a>);</div>
<div class="line"><a name="l02336"></a><span class="lineno"> 2336</span>&#160;        }</div>
<div class="line"><a name="l02337"></a><span class="lineno"> 2337</span>&#160;      }</div>
<div class="line"><a name="l02338"></a><span class="lineno"> 2338</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="structllvm_1_1FunctionSummary_1_1ConstVCall.html">FunctionSummary::ConstVCall</a> &amp;<a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28a0be9a5b045e14f589506ab6372ab6592">VC</a> :</div>
<div class="line"><a name="l02339"></a><span class="lineno"> 2339</span>&#160;           <a class="code" href="namespacellvm_1_1X86AS.html#aea2591d7d017866934bcf72ee3dc8a31a5b3a782ccae295a254e2794ad30ad07f">FS</a>-&gt;type_test_assume_const_vcalls()) {</div>
<div class="line"><a name="l02340"></a><span class="lineno"> 2340</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1StringRef.html">StringRef</a> Name : NameByGUID[<a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28a0be9a5b045e14f589506ab6372ab6592">VC</a>.VFunc.GUID]) {</div>
<div class="line"><a name="l02341"></a><span class="lineno"> 2341</span>&#160;          CallSlots[{<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>, <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28a0be9a5b045e14f589506ab6372ab6592">VC</a>.VFunc.Offset}]</div>
<div class="line"><a name="l02342"></a><span class="lineno"> 2342</span>&#160;              .ConstCSInfo[<a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28a0be9a5b045e14f589506ab6372ab6592">VC</a>.Args]</div>
<div class="line"><a name="l02343"></a><span class="lineno"> 2343</span>&#160;              .addSummaryTypeTestAssumeUser(<a class="code" href="namespacellvm_1_1X86AS.html#aea2591d7d017866934bcf72ee3dc8a31a5b3a782ccae295a254e2794ad30ad07f">FS</a>);</div>
<div class="line"><a name="l02344"></a><span class="lineno"> 2344</span>&#160;        }</div>
<div class="line"><a name="l02345"></a><span class="lineno"> 2345</span>&#160;      }</div>
<div class="line"><a name="l02346"></a><span class="lineno"> 2346</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="structllvm_1_1FunctionSummary_1_1ConstVCall.html">FunctionSummary::ConstVCall</a> &amp;<a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28a0be9a5b045e14f589506ab6372ab6592">VC</a> :</div>
<div class="line"><a name="l02347"></a><span class="lineno"> 2347</span>&#160;           <a class="code" href="namespacellvm_1_1X86AS.html#aea2591d7d017866934bcf72ee3dc8a31a5b3a782ccae295a254e2794ad30ad07f">FS</a>-&gt;type_checked_load_const_vcalls()) {</div>
<div class="line"><a name="l02348"></a><span class="lineno"> 2348</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1StringRef.html">StringRef</a> Name : NameByGUID[<a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28a0be9a5b045e14f589506ab6372ab6592">VC</a>.VFunc.GUID]) {</div>
<div class="line"><a name="l02349"></a><span class="lineno"> 2349</span>&#160;          CallSlots[{<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>, <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28a0be9a5b045e14f589506ab6372ab6592">VC</a>.VFunc.Offset}]</div>
<div class="line"><a name="l02350"></a><span class="lineno"> 2350</span>&#160;              .ConstCSInfo[<a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28a0be9a5b045e14f589506ab6372ab6592">VC</a>.Args]</div>
<div class="line"><a name="l02351"></a><span class="lineno"> 2351</span>&#160;              .addSummaryTypeCheckedLoadUser(<a class="code" href="namespacellvm_1_1X86AS.html#aea2591d7d017866934bcf72ee3dc8a31a5b3a782ccae295a254e2794ad30ad07f">FS</a>);</div>
<div class="line"><a name="l02352"></a><span class="lineno"> 2352</span>&#160;        }</div>
<div class="line"><a name="l02353"></a><span class="lineno"> 2353</span>&#160;      }</div>
<div class="line"><a name="l02354"></a><span class="lineno"> 2354</span>&#160;    }</div>
<div class="line"><a name="l02355"></a><span class="lineno"> 2355</span>&#160;  }</div>
<div class="line"><a name="l02356"></a><span class="lineno"> 2356</span>&#160; </div>
<div class="line"><a name="l02357"></a><span class="lineno"> 2357</span>&#160;  std::set&lt;ValueInfo&gt; DevirtTargets;</div>
<div class="line"><a name="l02358"></a><span class="lineno"> 2358</span>&#160;  <span class="comment">// For each (type, offset) pair:</span></div>
<div class="line"><a name="l02359"></a><span class="lineno"> 2359</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> : CallSlots) {</div>
<div class="line"><a name="l02360"></a><span class="lineno"> 2360</span>&#160;    <span class="comment">// Search each of the members of the type identifier for the virtual</span></div>
<div class="line"><a name="l02361"></a><span class="lineno"> 2361</span>&#160;    <span class="comment">// function implementation at offset S.first.ByteOffset, and add to</span></div>
<div class="line"><a name="l02362"></a><span class="lineno"> 2362</span>&#160;    <span class="comment">// TargetsForSlot.</span></div>
<div class="line"><a name="l02363"></a><span class="lineno"> 2363</span>&#160;    std::vector&lt;ValueInfo&gt; TargetsForSlot;</div>
<div class="line"><a name="l02364"></a><span class="lineno"> 2364</span>&#160;    <span class="keyword">auto</span> TidSummary = ExportSummary.getTypeIdCompatibleVtableSummary(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>.first.TypeID);</div>
<div class="line"><a name="l02365"></a><span class="lineno"> 2365</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(TidSummary);</div>
<div class="line"><a name="l02366"></a><span class="lineno"> 2366</span>&#160;    <span class="comment">// The type id summary would have been created while building the NameByGUID</span></div>
<div class="line"><a name="l02367"></a><span class="lineno"> 2367</span>&#160;    <span class="comment">// map earlier.</span></div>
<div class="line"><a name="l02368"></a><span class="lineno"> 2368</span>&#160;    <a class="code" href="structllvm_1_1WholeProgramDevirtResolution.html">WholeProgramDevirtResolution</a> *Res =</div>
<div class="line"><a name="l02369"></a><span class="lineno"> 2369</span>&#160;        &amp;ExportSummary.getTypeIdSummary(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>.first.TypeID)</div>
<div class="line"><a name="l02370"></a><span class="lineno"> 2370</span>&#160;             -&gt;WPDRes[<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>.first.ByteOffset];</div>
<div class="line"><a name="l02371"></a><span class="lineno"> 2371</span>&#160;    <span class="keywordflow">if</span> (tryFindVirtualCallTargets(TargetsForSlot, *TidSummary,</div>
<div class="line"><a name="l02372"></a><span class="lineno"> 2372</span>&#160;                                  <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>.first.ByteOffset)) {</div>
<div class="line"><a name="l02373"></a><span class="lineno"> 2373</span>&#160; </div>
<div class="line"><a name="l02374"></a><span class="lineno"> 2374</span>&#160;      <span class="keywordflow">if</span> (!trySingleImplDevirt(TargetsForSlot, <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>.first, <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>.second, Res,</div>
<div class="line"><a name="l02375"></a><span class="lineno"> 2375</span>&#160;                               DevirtTargets))</div>
<div class="line"><a name="l02376"></a><span class="lineno"> 2376</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02377"></a><span class="lineno"> 2377</span>&#160;    }</div>
<div class="line"><a name="l02378"></a><span class="lineno"> 2378</span>&#160;  }</div>
<div class="line"><a name="l02379"></a><span class="lineno"> 2379</span>&#160; </div>
<div class="line"><a name="l02380"></a><span class="lineno"> 2380</span>&#160;  <span class="comment">// Optionally have the thin link print message for each devirtualized</span></div>
<div class="line"><a name="l02381"></a><span class="lineno"> 2381</span>&#160;  <span class="comment">// function.</span></div>
<div class="line"><a name="l02382"></a><span class="lineno"> 2382</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="WholeProgramDevirt_8cpp.html#a97077477d41e7efa4168b4cb7167919a">PrintSummaryDevirt</a>)</div>
<div class="line"><a name="l02383"></a><span class="lineno"> 2383</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;DT : DevirtTargets)</div>
<div class="line"><a name="l02384"></a><span class="lineno"> 2384</span>&#160;      <a class="code" href="namespacellvm.html#a9a7b5c68c90f85baaedaa854cc5002cc">errs</a>() &lt;&lt; <span class="stringliteral">&quot;Devirtualized call to &quot;</span> &lt;&lt; DT &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l02385"></a><span class="lineno"> 2385</span>&#160; </div>
<div class="line"><a name="l02386"></a><span class="lineno"> 2386</span>&#160;  NumDevirtTargets += DevirtTargets.size();</div>
<div class="line"><a name="l02387"></a><span class="lineno"> 2387</span>&#160;}</div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="astructllvm_1_1WholeProgramDevirtResolution_html_a1c0a0ec1654585583572f16e799176dc"><div class="ttname"><a href="structllvm_1_1WholeProgramDevirtResolution.html#a1c0a0ec1654585583572f16e799176dc">llvm::WholeProgramDevirtResolution::ResByArg</a></div><div class="ttdeci">std::map&lt; std::vector&lt; uint64_t &gt;, ByArg &gt; ResByArg</div><div class="ttdoc">Resolutions for calls with all constant integer arguments (excluding the first argument,...</div><div class="ttdef"><b>Definition:</b> <a href="ModuleSummaryIndex_8h_source.html#l01142">ModuleSummaryIndex.h:1142</a></div></div>
<div class="ttc" id="anamespacellvm_1_1Check_html_a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396"><div class="ttname"><a href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">llvm::Check::Size</a></div><div class="ttdeci">@ Size</div><div class="ttdef"><b>Definition:</b> <a href="FileCheck_8h_source.html#l00077">FileCheck.h:77</a></div></div>
<div class="ttc" id="anamespacellvm_1_1codeview_html_a9cf141c9194799e2fa2d92de4c6e8ff0aa245c3230debe5c956484ecc6fa93877"><div class="ttname"><a href="namespacellvm_1_1codeview.html#a9cf141c9194799e2fa2d92de4c6e8ff0aa245c3230debe5c956484ecc6fa93877">llvm::codeview::SimpleTypeKind::Byte</a></div><div class="ttdeci">@ Byte</div></div>
<div class="ttc" id="aclassllvm_1_1PreservedAnalyses_html"><div class="ttname"><a href="classllvm_1_1PreservedAnalyses.html">llvm::PreservedAnalyses</a></div><div class="ttdoc">A set of analyses that are preserved following a run of a transformation pass.</div><div class="ttdef"><b>Definition:</b> <a href="PassManager_8h_source.html#l00152">PassManager.h:152</a></div></div>
<div class="ttc" id="anamespacellvm_html_ab102f0f12dd38aeea5906b1d80c792ff"><div class="ttname"><a href="namespacellvm.html#ab102f0f12dd38aeea5906b1d80c792ff">llvm::alignTo</a></div><div class="ttdeci">uint64_t alignTo(uint64_t Size, Align A)</div><div class="ttdoc">Returns a multiple of A needed to store Size bytes.</div><div class="ttdef"><b>Definition:</b> <a href="Alignment_8h_source.html#l00155">Alignment.h:155</a></div></div>
<div class="ttc" id="aNVVMIntrRange_8cpp_html_abc8aecb5b627f6a91fc2fb09762d2a41"><div class="ttname"><a href="NVVMIntrRange_8cpp.html#abc8aecb5b627f6a91fc2fb09762d2a41">Int32Ty</a></div><div class="ttdeci">IntegerType * Int32Ty</div><div class="ttdef"><b>Definition:</b> <a href="NVVMIntrRange_8cpp_source.html#l00067">NVVMIntrRange.cpp:67</a></div></div>
<div class="ttc" id="anamespacellvm_html_a59739a4f15fb2ec57a6b7fcfe938546bae55d43eabeefe5a8271b4a3c898bd18f"><div class="ttname"><a href="namespacellvm.html#a59739a4f15fb2ec57a6b7fcfe938546bae55d43eabeefe5a8271b4a3c898bd18f">llvm::errc::invalid_argument</a></div><div class="ttdeci">@ invalid_argument</div></div>
<div class="ttc" id="aAssumptionCache_8h_html"><div class="ttname"><a href="AssumptionCache_8h.html">AssumptionCache.h</a></div></div>
<div class="ttc" id="astructllvm_1_1ValueInfo_html_a739c29bde92d1f2335367a1279e74898"><div class="ttname"><a href="structllvm_1_1ValueInfo.html#a739c29bde92d1f2335367a1279e74898">llvm::ValueInfo::getSummaryList</a></div><div class="ttdeci">ArrayRef&lt; std::unique_ptr&lt; GlobalValueSummary &gt; &gt; getSummaryList() const</div><div class="ttdef"><b>Definition:</b> <a href="ModuleSummaryIndex_8h_source.html#l00188">ModuleSummaryIndex.h:188</a></div></div>
<div class="ttc" id="aclassllvm_1_1AAManager_html"><div class="ttname"><a href="classllvm_1_1AAManager.html">llvm::AAManager</a></div><div class="ttdoc">A manager for alias analyses.</div><div class="ttdef"><b>Definition:</b> <a href="AliasAnalysis_8h_source.html#l00885">AliasAnalysis.h:885</a></div></div>
<div class="ttc" id="aREADME__ALTIVEC_8txt_html_a9d3ba236d13373cde794da2023acc7a0"><div class="ttname"><a href="README__ALTIVEC_8txt.html#a9d3ba236d13373cde794da2023acc7a0">Attrs</a></div><div class="ttdeci">Function Attrs</div><div class="ttdef"><b>Definition:</b> <a href="README__ALTIVEC_8txt_source.html#l00215">README_ALTIVEC.txt:215</a></div></div>
<div class="ttc" id="anamespacellvm_1_1wholeprogramdevirt_html_adbbe3d32693c7f00b25a8574e596cde8"><div class="ttname"><a href="namespacellvm_1_1wholeprogramdevirt.html#adbbe3d32693c7f00b25a8574e596cde8">llvm::wholeprogramdevirt::setAfterReturnValues</a></div><div class="ttdeci">void setAfterReturnValues(MutableArrayRef&lt; VirtualCallTarget &gt; Targets, uint64_t AllocAfter, unsigned BitWidth, int64_t &amp;OffsetByte, uint64_t &amp;OffsetBit)</div><div class="ttdef"><b>Definition:</b> <a href="WholeProgramDevirt_8cpp_source.html#l00299">WholeProgramDevirt.cpp:299</a></div></div>
<div class="ttc" id="aMathExtras_8h_html"><div class="ttname"><a href="MathExtras_8h.html">MathExtras.h</a></div></div>
<div class="ttc" id="anamespacellvm_html"><div class="ttname"><a href="namespacellvm.html">llvm</a></div><div class="ttdoc">This is an optimization pass for GlobalISel generic memory operations.</div><div class="ttdef"><b>Definition:</b> <a href="AddressRanges_8h_source.html#l00018">AddressRanges.h:18</a></div></div>
<div class="ttc" id="aclassllvm_1_1Attribute_html_adf4d22686e85732b2fef71e3c45531c6"><div class="ttname"><a href="classllvm_1_1Attribute.html#adf4d22686e85732b2fef71e3c45531c6">llvm::Attribute::isValid</a></div><div class="ttdeci">bool isValid() const</div><div class="ttdoc">Return true if the attribute is any kind of attribute.</div><div class="ttdef"><b>Definition:</b> <a href="Attributes_8h_source.html#l00185">Attributes.h:185</a></div></div>
<div class="ttc" id="alib_2Target_2X86_2README_8txt_html_ac88fe1d3a61b056a4f64fbbb156a62ff"><div class="ttname"><a href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a></div><div class="ttdeci">We currently emits eax Perhaps this is what we really should generate is Is imull three or four cycles eax eax The current instruction priority is based on pattern complexity The former is more complex because it folds a load so the latter will not be emitted Perhaps we should use AddedComplexity to give LEA32r a higher priority We should always try to match LEA first since the LEA matching code does some estimate to determine whether the match is profitable if we care more about code then imull is better It s two bytes shorter than movl leal On a Pentium M</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2X86_2README_8txt_source.html#l00252">README.txt:252</a></div></div>
<div class="ttc" id="aclassllvm_1_1CmpInst_html_a2be3583dac92a031fa1458d4d992c78baa719225e2de4059f93fd3209e1f48218"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78baa719225e2de4059f93fd3209e1f48218">llvm::CmpInst::ICMP_EQ</a></div><div class="ttdeci">@ ICMP_EQ</div><div class="ttdoc">equal</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00739">InstrTypes.h:739</a></div></div>
<div class="ttc" id="anamespacellvm_html_a02981de53fb6ffd384d39addc4d25f37"><div class="ttname"><a href="namespacellvm.html#a02981de53fb6ffd384d39addc4d25f37">llvm::drop_begin</a></div><div class="ttdeci">auto drop_begin(T &amp;&amp;RangeOrContainer, size_t N=1)</div><div class="ttdoc">Return a range covering RangeOrContainer with the first N elements excluded.</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l00386">STLExtras.h:386</a></div></div>
<div class="ttc" id="anamespacellvm_1_1wholeprogramdevirt_html_a8ab22ea42eaf359bb9eb8382c0afc616"><div class="ttname"><a href="namespacellvm_1_1wholeprogramdevirt.html#a8ab22ea42eaf359bb9eb8382c0afc616">llvm::wholeprogramdevirt::findLowestOffset</a></div><div class="ttdeci">uint64_t findLowestOffset(ArrayRef&lt; VirtualCallTarget &gt; Targets, bool IsAfter, uint64_t Size)</div><div class="ttdef"><b>Definition:</b> <a href="WholeProgramDevirt_8cpp_source.html#l00210">WholeProgramDevirt.cpp:210</a></div></div>
<div class="ttc" id="astructllvm_1_1WholeProgramDevirtResolution_1_1ByArg_html_acf13a890a40972d903f329d37c5ad98a"><div class="ttname"><a href="structllvm_1_1WholeProgramDevirtResolution_1_1ByArg.html#acf13a890a40972d903f329d37c5ad98a">llvm::WholeProgramDevirtResolution::ByArg::TheKind</a></div><div class="ttdeci">enum llvm::WholeProgramDevirtResolution::ByArg::Kind TheKind</div></div>
<div class="ttc" id="aclassllvm_1_1MemoryBuffer_html_aa98611beefe78f907beeee7305cc8174"><div class="ttname"><a href="classllvm_1_1MemoryBuffer.html#aa98611beefe78f907beeee7305cc8174">llvm::MemoryBuffer::getFile</a></div><div class="ttdeci">static ErrorOr&lt; std::unique_ptr&lt; MemoryBuffer &gt; &gt; getFile(const Twine &amp;Filename, bool IsText=false, bool RequiresNullTerminator=true, bool IsVolatile=false, std::optional&lt; Align &gt; Alignment=std::nullopt)</div><div class="ttdoc">Open the specified file as a MemoryBuffer, returning a new MemoryBuffer if successful,...</div><div class="ttdef"><b>Definition:</b> <a href="MemoryBuffer_8cpp_source.html#l00248">MemoryBuffer.cpp:248</a></div></div>
<div class="ttc" id="aFileSystem_8h_html"><div class="ttname"><a href="FileSystem_8h.html">FileSystem.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1sys_1_1fs_html_a662978c0cdf81de0d448032f142a3695a8ae6a0a158ab49e5bbe92cbc2cabcbcd"><div class="ttname"><a href="namespacellvm_1_1sys_1_1fs.html#a662978c0cdf81de0d448032f142a3695a8ae6a0a158ab49e5bbe92cbc2cabcbcd">llvm::sys::fs::OF_None</a></div><div class="ttdeci">@ OF_None</div><div class="ttdef"><b>Definition:</b> <a href="FileSystem_8h_source.html#l00757">FileSystem.h:757</a></div></div>
<div class="ttc" id="astructllvm_1_1DenseMapInfo_3_01VTableSlotSummary_01_4_html_a521955039ce21eb486aefe1a705a7da3"><div class="ttname"><a href="structllvm_1_1DenseMapInfo_3_01VTableSlotSummary_01_4.html#a521955039ce21eb486aefe1a705a7da3">llvm::DenseMapInfo&lt; VTableSlotSummary &gt;::getHashValue</a></div><div class="ttdeci">static unsigned getHashValue(const VTableSlotSummary &amp;I)</div><div class="ttdef"><b>Definition:</b> <a href="WholeProgramDevirt_8cpp_source.html#l00362">WholeProgramDevirt.cpp:362</a></div></div>
<div class="ttc" id="aMetadata_8h_html"><div class="ttname"><a href="Metadata_8h.html">Metadata.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1ModuleSummaryIndex_html_af8be100904c0e077cd3075ebb53b4abe"><div class="ttname"><a href="classllvm_1_1ModuleSummaryIndex.html#af8be100904c0e077cd3075ebb53b4abe">llvm::ModuleSummaryIndex::getModuleHash</a></div><div class="ttdeci">const ModuleHash &amp; getModuleHash(const StringRef ModPath) const</div><div class="ttdoc">Get the module SHA1 hash recorded for the given module path.</div><div class="ttdef"><b>Definition:</b> <a href="ModuleSummaryIndex_8h_source.html#l01606">ModuleSummaryIndex.h:1606</a></div></div>
<div class="ttc" id="aclassllvm_1_1AnalysisManager_html_ab9d3d5412c20747fd0110a046604f09a"><div class="ttname"><a href="classllvm_1_1AnalysisManager.html#ab9d3d5412c20747fd0110a046604f09a">llvm::AnalysisManager::getResult</a></div><div class="ttdeci">PassT::Result &amp; getResult(IRUnitT &amp;IR, ExtraArgTs... ExtraArgs)</div><div class="ttdoc">Get the result of an analysis pass for a given IR unit.</div><div class="ttdef"><b>Definition:</b> <a href="PassManager_8h_source.html#l00774">PassManager.h:774</a></div></div>
<div class="ttc" id="aWholeProgramDevirt_8cpp_html_a5379d9e695d760a179812db0a2bc002e"><div class="ttname"><a href="WholeProgramDevirt_8cpp.html#a5379d9e695d760a179812db0a2bc002e">ClSummaryAction</a></div><div class="ttdeci">static cl::opt&lt; PassSummaryAction &gt; ClSummaryAction(&quot;wholeprogramdevirt-summary-action&quot;, cl::desc(&quot;What to do with the summary when running this pass&quot;), cl::values(clEnumValN(PassSummaryAction::None, &quot;none&quot;, &quot;Do nothing&quot;), clEnumValN(PassSummaryAction::Import, &quot;import&quot;, &quot;Import typeid resolutions from summary and globals&quot;), clEnumValN(PassSummaryAction::Export, &quot;export&quot;, &quot;Export typeid resolutions to summary and globals&quot;)), cl::Hidden)</div></div>
<div class="ttc" id="anamespacellvm_1_1HexagonISD_html_ab37bf6c49bc26c43ddd958218f63ba00a6aef1658dc627ec13f4fc59382463d9e"><div class="ttname"><a href="namespacellvm_1_1HexagonISD.html#ab37bf6c49bc26c43ddd958218f63ba00a6aef1658dc627ec13f4fc59382463d9e">llvm::HexagonISD::JT</a></div><div class="ttdeci">@ JT</div><div class="ttdef"><b>Definition:</b> <a href="HexagonISelLowering_8h_source.html#l00052">HexagonISelLowering.h:52</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html_a9141f967188383108a69cc1b8ed3c195a7eade123587a08e674f2ca72e2443771"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#a9141f967188383108a69cc1b8ed3c195a7eade123587a08e674f2ca72e2443771">llvm::GlobalValue::HiddenVisibility</a></div><div class="ttdeci">@ HiddenVisibility</div><div class="ttdoc">The GV is hidden.</div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00064">GlobalValue.h:64</a></div></div>
<div class="ttc" id="aclassT_html"><div class="ttname"><a href="classT.html">T</a></div></div>
<div class="ttc" id="aclassllvm_1_1Function_html"><div class="ttname"><a href="classllvm_1_1Function.html">llvm::Function</a></div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00059">Function.h:59</a></div></div>
<div class="ttc" id="aclassllvm_1_1Attribute_html"><div class="ttname"><a href="classllvm_1_1Attribute.html">llvm::Attribute</a></div><div class="ttdef"><b>Definition:</b> <a href="Attributes_8h_source.html#l00067">Attributes.h:67</a></div></div>
<div class="ttc" id="aREADME-SSE_8txt_html_a63d206a063eefcdf8c318ded97b65020"><div class="ttname"><a href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a></div><div class="ttdeci">This currently compiles esp xmm0 movsd esp eax eax esp ret We should use not the dag combiner This is because dagcombine2 needs to be able to see through the X86ISD::Wrapper which DAGCombine can t really do The code for turning x load into a single vector load is target independent and should be moved to the dag combiner The code for turning x load into a vector load can only handle a direct load from a global or a direct load from the stack It should be generalized to handle any load from P</div><div class="ttdef"><b>Definition:</b> <a href="README-SSE_8txt_source.html#l00411">README-SSE.txt:411</a></div></div>
<div class="ttc" id="aPass_8h_html"><div class="ttname"><a href="Pass_8h.html">Pass.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalVarSummary_html"><div class="ttname"><a href="classllvm_1_1GlobalVarSummary.html">llvm::GlobalVarSummary</a></div><div class="ttdoc">Global variable summary information to aid decisions and implementation of importing.</div><div class="ttdef"><b>Definition:</b> <a href="ModuleSummaryIndex_8h_source.html#l01005">ModuleSummaryIndex.h:1005</a></div></div>
<div class="ttc" id="aclassllvm_1_1raw__string__ostream_html"><div class="ttname"><a href="classllvm_1_1raw__string__ostream.html">llvm::raw_string_ostream</a></div><div class="ttdoc">A raw_ostream that writes to an std::string.</div><div class="ttdef"><b>Definition:</b> <a href="raw__ostream_8h_source.html#l00642">raw_ostream.h:642</a></div></div>
<div class="ttc" id="aclassllvm_1_1Target_html"><div class="ttname"><a href="classllvm_1_1Target.html">llvm::Target</a></div><div class="ttdoc">Target - Wrapper for Target specific information.</div><div class="ttdef"><b>Definition:</b> <a href="TargetRegistry_8h_source.html#l00149">TargetRegistry.h:149</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVector_html"><div class="ttname"><a href="classllvm_1_1SmallVector.html">llvm::SmallVector</a></div><div class="ttdoc">This is a 'vector' (really, a variable-sized array), optimized for the case when the array is small.</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l01199">SmallVector.h:1199</a></div></div>
<div class="ttc" id="aStatistic_8h_html"><div class="ttname"><a href="Statistic_8h.html">Statistic.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html_a308b65a044b4f53e31a2026a81c991d2"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#a308b65a044b4f53e31a2026a81c991d2">llvm::GlobalValue::isLocalLinkage</a></div><div class="ttdeci">static bool isLocalLinkage(LinkageTypes Linkage)</div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00404">GlobalValue.h:404</a></div></div>
<div class="ttc" id="anamespacellvm_1_1cl_html_ac96f30ba8b117dbd380b88ab8a03732baa2d228ea7bc126361de56c03e7edc3a8"><div class="ttname"><a href="namespacellvm_1_1cl.html#ac96f30ba8b117dbd380b88ab8a03732baa2d228ea7bc126361de56c03e7edc3a8">llvm::cl::CommaSeparated</a></div><div class="ttdeci">@ CommaSeparated</div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00164">CommandLine.h:164</a></div></div>
<div class="ttc" id="anamespacellvm_html_a65f58c8b24f0074e11abf26e154b0cc1"><div class="ttname"><a href="namespacellvm.html#a65f58c8b24f0074e11abf26e154b0cc1">llvm::runWholeProgramDevirtOnIndex</a></div><div class="ttdeci">void runWholeProgramDevirtOnIndex(ModuleSummaryIndex &amp;Summary, std::set&lt; GlobalValue::GUID &gt; &amp;ExportedGUIDs, std::map&lt; ValueInfo, std::vector&lt; VTableSlotSummary &gt;&gt; &amp;LocalWPDTargetsMap)</div><div class="ttdoc">Perform index-based whole program devirtualization on the Summary index.</div><div class="ttdef"><b>Definition:</b> <a href="WholeProgramDevirt_8cpp_source.html#l00854">WholeProgramDevirt.cpp:854</a></div></div>
<div class="ttc" id="astructllvm_1_1TypeTestResolution_html_a3a09256c2858f8b38ce2b9481c528beda5826b981efc11834692037f016343fca"><div class="ttname"><a href="structllvm_1_1TypeTestResolution.html#a3a09256c2858f8b38ce2b9481c528beda5826b981efc11834692037f016343fca">llvm::TypeTestResolution::Unsat</a></div><div class="ttdeci">@ Unsat</div><div class="ttdoc">Unsatisfiable type (i.e. no global has this type metadata)</div><div class="ttdef"><b>Definition:</b> <a href="ModuleSummaryIndex_8h_source.html#l01083">ModuleSummaryIndex.h:1083</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantExpr_html_abae3f750ce4d2edcea30f08fe9e29721"><div class="ttname"><a href="classllvm_1_1ConstantExpr.html#abae3f750ce4d2edcea30f08fe9e29721">llvm::ConstantExpr::getGetElementPtr</a></div><div class="ttdeci">static Constant * getGetElementPtr(Type *Ty, Constant *C, ArrayRef&lt; Constant * &gt; IdxList, bool InBounds=false, std::optional&lt; unsigned &gt; InRangeIndex=std::nullopt, Type *OnlyIfReducedTy=nullptr)</div><div class="ttdoc">Getelementptr form.</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8h_source.html#l01245">Constants.h:1245</a></div></div>
<div class="ttc" id="anamespacellvm_1_1Intrinsic_html_a7157f9fa9dd11f234ec3c58517cb6d96"><div class="ttname"><a href="namespacellvm_1_1Intrinsic.html#a7157f9fa9dd11f234ec3c58517cb6d96">llvm::Intrinsic::getName</a></div><div class="ttdeci">StringRef getName(ID id)</div><div class="ttdoc">Return the LLVM name for an intrinsic, such as &quot;llvm.ppc.altivec.lvx&quot;.</div><div class="ttdef"><b>Definition:</b> <a href="Function_8cpp_source.html#l00975">Function.cpp:975</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRBuilder_html"><div class="ttname"><a href="classllvm_1_1IRBuilder.html">llvm::IRBuilder&lt;&gt;</a></div></div>
<div class="ttc" id="aMapVector_8h_html"><div class="ttname"><a href="MapVector_8h.html">MapVector.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalVariable_html"><div class="ttname"><a href="classllvm_1_1GlobalVariable.html">llvm::GlobalVariable</a></div><div class="ttdef"><b>Definition:</b> <a href="GlobalVariable_8h_source.html#l00039">GlobalVariable.h:39</a></div></div>
<div class="ttc" id="aclassllvm_1_1CmpInst_html_a2be3583dac92a031fa1458d4d992c78bac17897ebf2f6a6986280fc3bdf28a30a"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78bac17897ebf2f6a6986280fc3bdf28a30a">llvm::CmpInst::ICMP_NE</a></div><div class="ttdeci">@ ICMP_NE</div><div class="ttdoc">not equal</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00740">InstrTypes.h:740</a></div></div>
<div class="ttc" id="aWholeProgramDevirt_8cpp_html_af64cbf40f5425f76b44ed1b06c4e324d"><div class="ttname"><a href="WholeProgramDevirt_8cpp.html#af64cbf40f5425f76b44ed1b06c4e324d">ClReadSummary</a></div><div class="ttdeci">static cl::opt&lt; std::string &gt; ClReadSummary(&quot;wholeprogramdevirt-read-summary&quot;, cl::desc(&quot;Read summary from given bitcode or YAML file before running pass&quot;), cl::Hidden)</div></div>
<div class="ttc" id="aclassllvm_1_1ConstantExpr_html_ae79d05dd3d0b05e080e08f8c5c33f880"><div class="ttname"><a href="classllvm_1_1ConstantExpr.html#ae79d05dd3d0b05e080e08f8c5c33f880">llvm::ConstantExpr::getBitCast</a></div><div class="ttdeci">static Constant * getBitCast(Constant *C, Type *Ty, bool OnlyIfReduced=false)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l02229">Constants.cpp:2229</a></div></div>
<div class="ttc" id="aclassllvm_1_1FunctionType_html_a7e89b55242c964ae61b7850e99cacef0"><div class="ttname"><a href="classllvm_1_1FunctionType.html#a7e89b55242c964ae61b7850e99cacef0">llvm::FunctionType::get</a></div><div class="ttdeci">static FunctionType * get(Type *Result, ArrayRef&lt; Type * &gt; Params, bool isVarArg)</div><div class="ttdoc">This static method is the primary way of constructing a FunctionType.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00363">Type.cpp:363</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalAlias_html"><div class="ttname"><a href="classllvm_1_1GlobalAlias.html">llvm::GlobalAlias</a></div><div class="ttdef"><b>Definition:</b> <a href="GlobalAlias_8h_source.html#l00028">GlobalAlias.h:28</a></div></div>
<div class="ttc" id="aclassllvm_1_1AttributeList_html_a5cc6492c8f2e06a8bae9dc0d121fab9f"><div class="ttname"><a href="classllvm_1_1AttributeList.html#a5cc6492c8f2e06a8bae9dc0d121fab9f">llvm::AttributeList::get</a></div><div class="ttdeci">static AttributeList get(LLVMContext &amp;C, ArrayRef&lt; std::pair&lt; unsigned, Attribute &gt;&gt; Attrs)</div><div class="ttdoc">Create an AttributeList with the specified parameters in it.</div><div class="ttdef"><b>Definition:</b> <a href="Attributes_8cpp_source.html#l01132">Attributes.cpp:1132</a></div></div>
<div class="ttc" id="aSupport_2Error_8h_html"><div class="ttname"><a href="Support_2Error_8h.html">Error.h</a></div></div>
<div class="ttc" id="aOptimizationRemarkEmitter_8h_html"><div class="ttname"><a href="OptimizationRemarkEmitter_8h.html">OptimizationRemarkEmitter.h</a></div></div>
<div class="ttc" id="astructllvm_1_1wholeprogramdevirt_1_1VirtualCallTarget_html_a8ffb6a27ddb40038bb7d2af62edbc6d9"><div class="ttname"><a href="structllvm_1_1wholeprogramdevirt_1_1VirtualCallTarget.html#a8ffb6a27ddb40038bb7d2af62edbc6d9">llvm::wholeprogramdevirt::VirtualCallTarget::VirtualCallTarget</a></div><div class="ttdeci">VirtualCallTarget(Function *Fn, const TypeMemberInfo *TM)</div><div class="ttdef"><b>Definition:</b> <a href="WholeProgramDevirt_8cpp_source.html#l00316">WholeProgramDevirt.cpp:316</a></div></div>
<div class="ttc" id="aclassllvm_1_1DominatorTree_html"><div class="ttname"><a href="classllvm_1_1DominatorTree.html">llvm::DominatorTree</a></div><div class="ttdoc">Concrete subclass of DominatorTreeBase that is used to compute a normal dominator tree.</div><div class="ttdef"><b>Definition:</b> <a href="Dominators_8h_source.html#l00166">Dominators.h:166</a></div></div>
<div class="ttc" id="aclassllvm_1_1Triple_html"><div class="ttname"><a href="classllvm_1_1Triple.html">llvm::Triple</a></div><div class="ttdoc">Triple - Helper class for working with autoconf configuration names.</div><div class="ttdef"><b>Definition:</b> <a href="Triple_8h_source.html#l00044">Triple.h:44</a></div></div>
<div class="ttc" id="aPassBuilderBindings_8cpp_html_a83c7e5ca51099e4efa895791a02fb0ed"><div class="ttname"><a href="PassBuilderBindings_8cpp.html#a83c7e5ca51099e4efa895791a02fb0ed">FAM</a></div><div class="ttdeci">FunctionAnalysisManager FAM</div><div class="ttdef"><b>Definition:</b> <a href="PassBuilderBindings_8cpp_source.html#l00059">PassBuilderBindings.cpp:59</a></div></div>
<div class="ttc" id="anamespacellvm_1_1cl_html_a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6"><div class="ttname"><a href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">llvm::cl::Hidden</a></div><div class="ttdeci">@ Hidden</div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00138">CommandLine.h:138</a></div></div>
<div class="ttc" id="astructllvm_1_1VTableSlotSummary_html"><div class="ttname"><a href="structllvm_1_1VTableSlotSummary.html">llvm::VTableSlotSummary</a></div><div class="ttdef"><b>Definition:</b> <a href="WholeProgramDevirt_8h_source.html#l00238">WholeProgramDevirt.h:238</a></div></div>
<div class="ttc" id="aErrc_8h_html"><div class="ttname"><a href="Errc_8h.html">Errc.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1PreservedAnalyses_html_a03797a73044a81cbc6a3409d6c72ee8f"><div class="ttname"><a href="classllvm_1_1PreservedAnalyses.html#a03797a73044a81cbc6a3409d6c72ee8f">llvm::PreservedAnalyses::none</a></div><div class="ttdeci">static PreservedAnalyses none()</div><div class="ttdoc">Convenience factory function for the empty preserved set.</div><div class="ttdef"><b>Definition:</b> <a href="PassManager_8h_source.html#l00155">PassManager.h:155</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html"><div class="ttname"><a href="classllvm_1_1Type.html">llvm::Type</a></div><div class="ttdoc">The instances of the Type class are immutable: once they are created, they are never changed.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00045">Type.h:45</a></div></div>
<div class="ttc" id="aDenseMap_8h_html"><div class="ttname"><a href="DenseMap_8h.html">DenseMap.h</a></div></div>
<div class="ttc" id="aModule_8h_html"><div class="ttname"><a href="Module_8h.html">Module.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1Triple_html_a547abd13f7a3c063aa72c8192a868154a13d8ce5e71051718a537277c6a594062"><div class="ttname"><a href="classllvm_1_1Triple.html#a547abd13f7a3c063aa72c8192a868154a13d8ce5e71051718a537277c6a594062">llvm::Triple::x86_64</a></div><div class="ttdeci">@ x86_64</div><div class="ttdef"><b>Definition:</b> <a href="Triple_8h_source.html#l00086">Triple.h:86</a></div></div>
<div class="ttc" id="aclassllvm_1_1AttributeList_html"><div class="ttname"><a href="classllvm_1_1AttributeList.html">llvm::AttributeList</a></div><div class="ttdef"><b>Definition:</b> <a href="Attributes_8h_source.html#l00432">Attributes.h:432</a></div></div>
<div class="ttc" id="anamespacellvm_1_1tgtok_html_abbc5259d649363016626e2529fabe0c5a3c0710aa6b054662f67b480712fa2b95"><div class="ttname"><a href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a3c0710aa6b054662f67b480712fa2b95">llvm::tgtok::Bits</a></div><div class="ttdeci">@ Bits</div><div class="ttdef"><b>Definition:</b> <a href="TGLexer_8h_source.html#l00050">TGLexer.h:50</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallBase_html_ae0c55761fce39dd71617690b04385193"><div class="ttname"><a href="classllvm_1_1CallBase.html#ae0c55761fce39dd71617690b04385193">llvm::CallBase::getAttributes</a></div><div class="ttdeci">AttributeList getAttributes() const</div><div class="ttdoc">Return the parameter attributes for this call.</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l01484">InstrTypes.h:1484</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallBase_html_a5e4a09f80c7cd5283dbbc7256d122d12"><div class="ttname"><a href="classllvm_1_1CallBase.html#a5e4a09f80c7cd5283dbbc7256d122d12">llvm::CallBase::getFunctionType</a></div><div class="ttdeci">FunctionType * getFunctionType() const</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l01264">InstrTypes.h:1264</a></div></div>
<div class="ttc" id="astructllvm_1_1TypeIdOffsetVtableInfo_html"><div class="ttname"><a href="structllvm_1_1TypeIdOffsetVtableInfo.html">llvm::TypeIdOffsetVtableInfo</a></div><div class="ttdoc">The following data structures summarize type metadata information.</div><div class="ttdef"><b>Definition:</b> <a href="ModuleSummaryIndex_8h_source.html#l01184">ModuleSummaryIndex.h:1184</a></div></div>
<div class="ttc" id="aclassllvm_1_1ExitOnError_html"><div class="ttname"><a href="classllvm_1_1ExitOnError.html">llvm::ExitOnError</a></div><div class="ttdoc">Helper for check-and-exit error handling.</div><div class="ttdef"><b>Definition:</b> <a href="Support_2Error_8h_source.html#l01355">Error.h:1355</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobPattern_html"><div class="ttname"><a href="classllvm_1_1GlobPattern.html">llvm::GlobPattern</a></div><div class="ttdef"><b>Definition:</b> <a href="GlobPattern_8h_source.html#l00029">GlobPattern.h:29</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantAsMetadata_html_a703ab6c3e14ff7565866468d731f537a"><div class="ttname"><a href="classllvm_1_1ConstantAsMetadata.html#a703ab6c3e14ff7565866468d731f537a">llvm::ConstantAsMetadata::get</a></div><div class="ttdeci">static ConstantAsMetadata * get(Constant *C)</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l00419">Metadata.h:419</a></div></div>
<div class="ttc" id="aclassllvm_1_1ModuleSummaryIndex_html_a93625f7cbb3fd8673797e565a453c0ec"><div class="ttname"><a href="classllvm_1_1ModuleSummaryIndex.html#a93625f7cbb3fd8673797e565a453c0ec">llvm::ModuleSummaryIndex::getTypeIdSummary</a></div><div class="ttdeci">const TypeIdSummary * getTypeIdSummary(StringRef TypeId) const</div><div class="ttdoc">This returns either a pointer to the type id summary (if present in the summary map) or null (if not ...</div><div class="ttdef"><b>Definition:</b> <a href="ModuleSummaryIndex_8h_source.html#l01676">ModuleSummaryIndex.h:1676</a></div></div>
<div class="ttc" id="aclassllvm_1_1MapVector_html"><div class="ttname"><a href="classllvm_1_1MapVector.html">llvm::MapVector</a></div><div class="ttdoc">This class implements a map that also provides access to all stored values in a deterministic order.</div><div class="ttdef"><b>Definition:</b> <a href="MapVector_8h_source.html#l00037">MapVector.h:37</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallPtrSet_html"><div class="ttname"><a href="classllvm_1_1SmallPtrSet.html">llvm::SmallPtrSet</a></div><div class="ttdoc">SmallPtrSet - This class implements a set which is optimized for holding SmallSize or less elements.</div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00450">SmallPtrSet.h:450</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ore_html_a8f5533240c6722d987a2443cba42019d"><div class="ttname"><a href="namespacellvm_1_1ore.html#a8f5533240c6722d987a2443cba42019d">llvm::ore::NV</a></div><div class="ttdeci">DiagnosticInfoOptimizationBase::Argument NV</div><div class="ttdef"><b>Definition:</b> <a href="OptimizationRemarkEmitter_8h_source.html#l00136">OptimizationRemarkEmitter.h:136</a></div></div>
<div class="ttc" id="anamespacellvm_html_ab4d4bc901fedd8857f647dcc2c0d71de"><div class="ttname"><a href="namespacellvm.html#ab4d4bc901fedd8857f647dcc2c0d71de">llvm::max</a></div><div class="ttdeci">Expected&lt; ExpressionValue &gt; max(const ExpressionValue &amp;Lhs, const ExpressionValue &amp;Rhs)</div><div class="ttdef"><b>Definition:</b> <a href="FileCheck_8cpp_source.html#l00337">FileCheck.cpp:337</a></div></div>
<div class="ttc" id="anamespacellvm_html_a9a7b5c68c90f85baaedaa854cc5002cc"><div class="ttname"><a href="namespacellvm.html#a9a7b5c68c90f85baaedaa854cc5002cc">llvm::errs</a></div><div class="ttdeci">raw_fd_ostream &amp; errs()</div><div class="ttdoc">This returns a reference to a raw_ostream for standard error.</div><div class="ttdef"><b>Definition:</b> <a href="raw__ostream_8cpp_source.html#l00899">raw_ostream.cpp:899</a></div></div>
<div class="ttc" id="aclassllvm_1_1Expected_html"><div class="ttname"><a href="classllvm_1_1Expected.html">llvm::Expected</a></div><div class="ttdoc">Tagged union holding either a T or a Error.</div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8h_source.html#l00041">APFloat.h:41</a></div></div>
<div class="ttc" id="aX86PartialReduction_8cpp_html_a87b8bfbbe9d8f7146d7f20a5fb42efd0"><div class="ttname"><a href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a></div><div class="ttdeci">Value * RHS</div><div class="ttdef"><b>Definition:</b> <a href="X86PartialReduction_8cpp_source.html#l00076">X86PartialReduction.cpp:76</a></div></div>
<div class="ttc" id="anamespacellvm_html_a59316b66df2176ff19458e2d624b98ad"><div class="ttname"><a href="namespacellvm.html#a59316b66df2176ff19458e2d624b98ad">llvm::getModuleSummaryIndex</a></div><div class="ttdeci">Expected&lt; std::unique_ptr&lt; ModuleSummaryIndex &gt; &gt; getModuleSummaryIndex(MemoryBufferRef Buffer)</div><div class="ttdoc">Parse the specified bitcode buffer, returning the module summary index.</div><div class="ttdef"><b>Definition:</b> <a href="BitcodeReader_8cpp_source.html#l08205">BitcodeReader.cpp:8205</a></div></div>
<div class="ttc" id="aclassllvm_1_1ArrayType_html"><div class="ttname"><a href="classllvm_1_1ArrayType.html">llvm::ArrayType</a></div><div class="ttdoc">Class to represent array types.</div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00357">DerivedTypes.h:357</a></div></div>
<div class="ttc" id="aWholeProgramDevirt_8cpp_html_a3f84f6f1a3f90b174404388b1bce971a"><div class="ttname"><a href="WholeProgramDevirt_8cpp.html#a3f84f6f1a3f90b174404388b1bce971a">checkCombinedSummaryForTesting</a></div><div class="ttdeci">static Error checkCombinedSummaryForTesting(ModuleSummaryIndex *Summary)</div><div class="ttdef"><b>Definition:</b> <a href="WholeProgramDevirt_8cpp_source.html#l00888">WholeProgramDevirt.cpp:888</a></div></div>
<div class="ttc" id="aBasicAliasAnalysis_8h_html"><div class="ttname"><a href="BasicAliasAnalysis_8h.html">BasicAliasAnalysis.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallInst_html_ad682514c13f12f1a8d759d422fce6aefa2c3fc2c37f5db1dd777fad4e0d33ec7e"><div class="ttname"><a href="classllvm_1_1CallInst.html#ad682514c13f12f1a8d759d422fce6aefa2c3fc2c37f5db1dd777fad4e0d33ec7e">llvm::CallInst::TCK_MustTail</a></div><div class="ttdeci">@ TCK_MustTail</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01663">Instructions.h:1663</a></div></div>
<div class="ttc" id="aclassllvm_1_1detail_1_1DenseSetImpl_html_afe504aa31a6a354cec13f5b32d0b1d9d"><div class="ttname"><a href="classllvm_1_1detail_1_1DenseSetImpl.html#afe504aa31a6a354cec13f5b32d0b1d9d">llvm::detail::DenseSetImpl::count</a></div><div class="ttdeci">size_type count(const_arg_type_t&lt; ValueT &gt; V) const</div><div class="ttdoc">Return 1 if the specified key is in the set, 0 otherwise.</div><div class="ttdef"><b>Definition:</b> <a href="DenseSet_8h_source.html#l00097">DenseSet.h:97</a></div></div>
<div class="ttc" id="aPassRegistry_8h_html"><div class="ttname"><a href="PassRegistry_8h.html">PassRegistry.h</a></div></div>
<div class="ttc" id="anamespacellvm_html_aee0e70be66536b9ef7b65ae2e5a45959"><div class="ttname"><a href="namespacellvm.html#aee0e70be66536b9ef7b65ae2e5a45959">llvm::consumeError</a></div><div class="ttdeci">void consumeError(Error Err)</div><div class="ttdoc">Consume a Error without doing anything.</div><div class="ttdef"><b>Definition:</b> <a href="Support_2Error_8h_source.html#l01043">Error.h:1043</a></div></div>
<div class="ttc" id="anamespacellvm_html_a38a0bdae7fb49d99f161aa6de0379d7ea0095a9fa74d1713e43e370a7d7846224"><div class="ttname"><a href="namespacellvm.html#a38a0bdae7fb49d99f161aa6de0379d7ea0095a9fa74d1713e43e370a7d7846224">llvm::PassSummaryAction::Export</a></div><div class="ttdeci">@ Export</div><div class="ttdoc">Export information to summary.</div></div>
<div class="ttc" id="aclassllvm_1_1MDNode_html_a7d10a7b9b7f40b04d27ed97c38ea1950"><div class="ttname"><a href="classllvm_1_1MDNode.html#a7d10a7b9b7f40b04d27ed97c38ea1950">llvm::MDNode::get</a></div><div class="ttdeci">static MDTuple * get(LLVMContext &amp;Context, ArrayRef&lt; Metadata * &gt; MDs)</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l01399">Metadata.h:1399</a></div></div>
<div class="ttc" id="aMD5_8cpp_html_a96d73bbd7af15cb1fc38c3f4a3bd82e9"><div class="ttname"><a href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a></div><div class="ttdeci">#define F(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00055">MD5.cpp:55</a></div></div>
<div class="ttc" id="aclassllvm_1_1FunctionType_html_aa9d770048c7ab9e08222a50b7bc1be1c"><div class="ttname"><a href="classllvm_1_1FunctionType.html#aa9d770048c7ab9e08222a50b7bc1be1c">llvm::FunctionType::isVarArg</a></div><div class="ttdeci">bool isVarArg() const</div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00123">DerivedTypes.h:123</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html_a9247a212ea89acc9573fa7e7f557eaba"><div class="ttname"><a href="classllvm_1_1Instruction.html#a9247a212ea89acc9573fa7e7f557eaba">llvm::Instruction::setMetadata</a></div><div class="ttdeci">void setMetadata(unsigned KindID, MDNode *Node)</div><div class="ttdoc">Set the metadata of the specified kind to the specified node.</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8cpp_source.html#l01455">Metadata.cpp:1455</a></div></div>
<div class="ttc" id="astructllvm_1_1WholeProgramDevirtPass_html_af94d9399906155205bf6afa17427d5c7"><div class="ttname"><a href="structllvm_1_1WholeProgramDevirtPass.html#af94d9399906155205bf6afa17427d5c7">llvm::WholeProgramDevirtPass::run</a></div><div class="ttdeci">PreservedAnalyses run(Module &amp;M, ModuleAnalysisManager &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="WholeProgramDevirt_8cpp_source.html#l00751">WholeProgramDevirt.cpp:751</a></div></div>
<div class="ttc" id="aclassllvm_1_1BasicBlock_html"><div class="ttname"><a href="classllvm_1_1BasicBlock.html">llvm::BasicBlock</a></div><div class="ttdoc">LLVM Basic Block Representation.</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8h_source.html#l00055">BasicBlock.h:55</a></div></div>
<div class="ttc" id="astructllvm_1_1FunctionSummary_1_1ConstVCall_html"><div class="ttname"><a href="structllvm_1_1FunctionSummary_1_1ConstVCall.html">llvm::FunctionSummary::ConstVCall</a></div><div class="ttdoc">A specification for a virtual function call with all constant integer arguments.</div><div class="ttdef"><b>Definition:</b> <a href="ModuleSummaryIndex_8h_source.html#l00611">ModuleSummaryIndex.h:611</a></div></div>
<div class="ttc" id="anamespacellvm_1_1wholeprogramdevirt_html_aec5b7edd995ed899e28075c82b29b360"><div class="ttname"><a href="namespacellvm_1_1wholeprogramdevirt.html#aec5b7edd995ed899e28075c82b29b360">llvm::wholeprogramdevirt::setBeforeReturnValues</a></div><div class="ttdeci">void setBeforeReturnValues(MutableArrayRef&lt; VirtualCallTarget &gt; Targets, uint64_t AllocBefore, unsigned BitWidth, int64_t &amp;OffsetByte, uint64_t &amp;OffsetBit)</div><div class="ttdef"><b>Definition:</b> <a href="WholeProgramDevirt_8cpp_source.html#l00282">WholeProgramDevirt.cpp:282</a></div></div>
<div class="ttc" id="aWholeProgramDevirt_8cpp_html_addb6a617cedbc1f40ead7688012ee5b3"><div class="ttname"><a href="WholeProgramDevirt_8cpp.html#addb6a617cedbc1f40ead7688012ee5b3">DevirtCheckMode</a></div><div class="ttdeci">static cl::opt&lt; WPDCheckMode &gt; DevirtCheckMode(&quot;wholeprogramdevirt-check&quot;, cl::Hidden, cl::desc(&quot;Type of checking for incorrect devirtualizations&quot;), cl::values(clEnumValN(WPDCheckMode::None, &quot;none&quot;, &quot;No checking&quot;), clEnumValN(WPDCheckMode::Trap, &quot;trap&quot;, &quot;Trap when incorrect&quot;), clEnumValN(WPDCheckMode::Fallback, &quot;fallback&quot;, &quot;Fallback to indirect when incorrect&quot;)))</div></div>
<div class="ttc" id="aAMDGPULibCalls_8cpp_html_afecf1cc1292b07f57d343c0f4d682044"><div class="ttname"><a href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a></div><div class="ttdeci">amdgpu Simplify well known AMD library false FunctionCallee Value * Arg</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPULibCalls_8cpp_source.html#l00187">AMDGPULibCalls.cpp:187</a></div></div>
<div class="ttc" id="anamespacellvm_html_a73257f51950d9ea50955e3fb9c724a25"><div class="ttname"><a href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">llvm::get</a></div><div class="ttdeci">decltype(auto) get(const PointerIntPair&lt; PointerTy, IntBits, IntType, PtrTraits, Info &gt; &amp;Pair)</div><div class="ttdef"><b>Definition:</b> <a href="PointerIntPair_8h_source.html#l00234">PointerIntPair.h:234</a></div></div>
<div class="ttc" id="aIR_2Instruction_8h_html"><div class="ttname"><a href="IR_2Instruction_8h.html">Instruction.h</a></div></div>
<div class="ttc" id="aCommandLine_8h_html"><div class="ttname"><a href="CommandLine_8h.html">CommandLine.h</a></div></div>
<div class="ttc" id="aX86PartialReduction_8cpp_html_a9e1483f7215664a2315c53c3558d9a8d"><div class="ttname"><a href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a></div><div class="ttdeci">Value * LHS</div><div class="ttdef"><b>Definition:</b> <a href="X86PartialReduction_8cpp_source.html#l00075">X86PartialReduction.cpp:75</a></div></div>
<div class="ttc" id="astructllvm_1_1DenseMapInfo_html"><div class="ttname"><a href="structllvm_1_1DenseMapInfo.html">llvm::DenseMapInfo</a></div><div class="ttdoc">An information struct used to provide DenseMap with the various necessary components for a given valu...</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00034">APInt.h:34</a></div></div>
<div class="ttc" id="anamespacellvm_html_a846137dc22b3b399b62f606698f3ed59"><div class="ttname"><a href="namespacellvm.html#a846137dc22b3b399b62f606698f3ed59">llvm::AreStatisticsEnabled</a></div><div class="ttdeci">bool AreStatisticsEnabled()</div><div class="ttdoc">Check if statistics are enabled.</div><div class="ttdef"><b>Definition:</b> <a href="Statistic_8cpp_source.html#l00139">Statistic.cpp:139</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AArch64CC_html_abfa1f7dce576430da99eed57807c7f28a0be9a5b045e14f589506ab6372ab6592"><div class="ttname"><a href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28a0be9a5b045e14f589506ab6372ab6592">llvm::AArch64CC::VC</a></div><div class="ttdeci">@ VC</div><div class="ttdef"><b>Definition:</b> <a href="AArch64BaseInfo_8h_source.html#l00262">AArch64BaseInfo.h:262</a></div></div>
<div class="ttc" id="aclassllvm_1_1MutableArrayRef_html"><div class="ttname"><a href="classllvm_1_1MutableArrayRef.html">llvm::MutableArrayRef</a></div><div class="ttdoc">MutableArrayRef - Represent a mutable reference to an array (0 or more elements consecutively in memo...</div><div class="ttdef"><b>Definition:</b> <a href="ArrayRef_8h_source.html#l00027">ArrayRef.h:27</a></div></div>
<div class="ttc" id="aConstants_8h_html"><div class="ttname"><a href="Constants_8h.html">Constants.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html_a25d956d9e0beadd47ce4bc255dfa811d"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">llvm::PatternMatch::match</a></div><div class="ttdeci">bool match(Val *V, const Pattern &amp;P)</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00049">PatternMatch.h:49</a></div></div>
<div class="ttc" id="aclassllvm_1_1AAResults_html"><div class="ttname"><a href="classllvm_1_1AAResults.html">llvm::AAResults</a></div><div class="ttdef"><b>Definition:</b> <a href="AliasAnalysis_8h_source.html#l00294">AliasAnalysis.h:294</a></div></div>
<div class="ttc" id="aBitcodeWriter_8h_html"><div class="ttname"><a href="BitcodeWriter_8h.html">BitcodeWriter.h</a></div></div>
<div class="ttc" id="aAMDGPUBaseInfo_8cpp_html_ad18f9973176b870e59d30b81d8a1091e"><div class="ttname"><a href="AMDGPUBaseInfo_8cpp.html#ad18f9973176b870e59d30b81d8a1091e">Intr</a></div><div class="ttdeci">unsigned Intr</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUBaseInfo_8cpp_source.html#l02664">AMDGPUBaseInfo.cpp:2664</a></div></div>
<div class="ttc" id="aIntrinsics_8h_html"><div class="ttname"><a href="Intrinsics_8h.html">Intrinsics.h</a></div></div>
<div class="ttc" id="aREADME__ALTIVEC_8txt_html_a9aacd9146afe44bf656cd664e2a88c8c"><div class="ttname"><a href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a></div><div class="ttdeci">(vector float) vec_cmpeq(*A, *B) C</div><div class="ttdef"><b>Definition:</b> <a href="README__ALTIVEC_8txt_source.html#l00086">README_ALTIVEC.txt:86</a></div></div>
<div class="ttc" id="aWholeProgramDevirt_8cpp_html_ad78e062f62e0d6e453941fb4ca843e4d"><div class="ttname"><a href="WholeProgramDevirt_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">DEBUG_TYPE</a></div><div class="ttdeci">#define DEBUG_TYPE</div><div class="ttdef"><b>Definition:</b> <a href="WholeProgramDevirt_8cpp_source.html#l00111">WholeProgramDevirt.cpp:111</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantExpr_html_a02560cda155aaed54314383bed827d60"><div class="ttname"><a href="classllvm_1_1ConstantExpr.html#a02560cda155aaed54314383bed827d60">llvm::ConstantExpr::getIntToPtr</a></div><div class="ttdeci">static Constant * getIntToPtr(Constant *C, Type *Ty, bool OnlyIfReduced=false)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l02215">Constants.cpp:2215</a></div></div>
<div class="ttc" id="aInstrTypes_8h_html"><div class="ttname"><a href="InstrTypes_8h.html">InstrTypes.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallBase_html_a83b8c9e572130f403445c0b0f69b837c"><div class="ttname"><a href="classllvm_1_1CallBase.html#a83b8c9e572130f403445c0b0f69b837c">llvm::CallBase::getCalledFunction</a></div><div class="ttdeci">Function * getCalledFunction() const</div><div class="ttdoc">Returns the function called, or null if this is an indirect function invocation or the function signa...</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l01406">InstrTypes.h:1406</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalObject_html"><div class="ttname"><a href="classllvm_1_1GlobalObject.html">llvm::GlobalObject</a></div><div class="ttdef"><b>Definition:</b> <a href="GlobalObject_8h_source.html#l00027">GlobalObject.h:27</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallBase_html_a9da3b29e8e71b9be4645874e1721207a"><div class="ttname"><a href="classllvm_1_1CallBase.html#a9da3b29e8e71b9be4645874e1721207a">llvm::CallBase::setAttributes</a></div><div class="ttdeci">void setAttributes(AttributeList A)</div><div class="ttdoc">Set the parameter attributes for this call.</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l01488">InstrTypes.h:1488</a></div></div>
<div class="ttc" id="anamespacellvm_html_ad10875fd499e8e285aaeef615e9b11aa"><div class="ttname"><a href="namespacellvm.html#ad10875fd499e8e285aaeef615e9b11aa">llvm::errorCodeToError</a></div><div class="ttdeci">Error errorCodeToError(std::error_code EC)</div><div class="ttdoc">Helper for converting an std::error_code to a Error.</div><div class="ttdef"><b>Definition:</b> <a href="Testing_2Support_2Error_8cpp_source.html#l00092">Error.cpp:92</a></div></div>
<div class="ttc" id="aclassllvm_1_1MDBuilder_html_ad910125a9cfd76aaad7f69469df22f66"><div class="ttname"><a href="classllvm_1_1MDBuilder.html#ad910125a9cfd76aaad7f69469df22f66">llvm::MDBuilder::createBranchWeights</a></div><div class="ttdeci">MDNode * createBranchWeights(uint32_t TrueWeight, uint32_t FalseWeight)</div><div class="ttdoc">Return metadata containing two branch weights.</div><div class="ttdef"><b>Definition:</b> <a href="MDBuilder_8cpp_source.html#l00037">MDBuilder.cpp:37</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallInst_html_a850d8262cd900958b3153c4aa080b2bb"><div class="ttname"><a href="classllvm_1_1CallInst.html#a850d8262cd900958b3153c4aa080b2bb">llvm::CallInst::Create</a></div><div class="ttdeci">static CallInst * Create(FunctionType *Ty, Value *F, const Twine &amp;NameStr=&quot;&quot;, Instruction *InsertBefore=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01528">Instructions.h:1528</a></div></div>
<div class="ttc" id="anamespacellvm_html_a38a0bdae7fb49d99f161aa6de0379d7ea6adf97f83acf6453d4a6a4b1070f3754"><div class="ttname"><a href="namespacellvm.html#a38a0bdae7fb49d99f161aa6de0379d7ea6adf97f83acf6453d4a6a4b1070f3754">llvm::PassSummaryAction::None</a></div><div class="ttdeci">@ None</div><div class="ttdoc">Do nothing.</div></div>
<div class="ttc" id="aTypeMetadataUtils_8h_html"><div class="ttname"><a href="TypeMetadataUtils_8h.html">TypeMetadataUtils.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantExpr_html_a652380f28d1a7011e05d0787b6024d48"><div class="ttname"><a href="classllvm_1_1ConstantExpr.html#a652380f28d1a7011e05d0787b6024d48">llvm::ConstantExpr::getPtrToInt</a></div><div class="ttdeci">static Constant * getPtrToInt(Constant *C, Type *Ty, bool OnlyIfReduced=false)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l02201">Constants.cpp:2201</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_aecb93439702247fe5353a9966f7cefcd"><div class="ttname"><a href="classllvm_1_1Value.html#aecb93439702247fe5353a9966f7cefcd">llvm::Value::uses</a></div><div class="ttdeci">iterator_range&lt; use_iterator &gt; uses()</div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00376">Value.h:376</a></div></div>
<div class="ttc" id="aDenseSet_8h_html"><div class="ttname"><a href="DenseSet_8h.html">DenseSet.h</a></div></div>
<div class="ttc" id="anamespacefalse_html"><div class="ttname"><a href="namespacefalse.html">false</a></div><div class="ttdef"><b>Definition:</b> <a href="StackSlotColoring_8cpp_source.html#l00141">StackSlotColoring.cpp:141</a></div></div>
<div class="ttc" id="anamespacellvm_1_1dwarf_html_a5d3c920b66ea797d6adb243862fdf47a"><div class="ttname"><a href="namespacellvm_1_1dwarf.html#a5d3c920b66ea797d6adb243862fdf47a">llvm::dwarf::Index</a></div><div class="ttdeci">Index</div><div class="ttdef"><b>Definition:</b> <a href="Dwarf_8h_source.html#l00550">Dwarf.h:550</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalObject_html_acf0971ce854ef3c526eb7e33d52391a8"><div class="ttname"><a href="classllvm_1_1GlobalObject.html#acf0971ce854ef3c526eb7e33d52391a8">llvm::GlobalObject::getComdat</a></div><div class="ttdeci">const Comdat * getComdat() const</div><div class="ttdef"><b>Definition:</b> <a href="GlobalObject_8h_source.html#l00128">GlobalObject.h:128</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemoryEffects_html_a5e215734f00c96489db57a352b0439cc"><div class="ttname"><a href="classllvm_1_1MemoryEffects.html#a5e215734f00c96489db57a352b0439cc">llvm::MemoryEffects::doesNotAccessMemory</a></div><div class="ttdeci">bool doesNotAccessMemory() const</div><div class="ttdoc">Whether this function accesses no memory.</div><div class="ttdef"><b>Definition:</b> <a href="ModRef_8h_source.html#l00191">ModRef.h:191</a></div></div>
<div class="ttc" id="astructllvm_1_1DenseMapInfo_3_01VTableSlotSummary_01_4_html_acf42248bcf4df8d7901dd4305ff8a1d9"><div class="ttname"><a href="structllvm_1_1DenseMapInfo_3_01VTableSlotSummary_01_4.html#acf42248bcf4df8d7901dd4305ff8a1d9">llvm::DenseMapInfo&lt; VTableSlotSummary &gt;::isEqual</a></div><div class="ttdeci">static bool isEqual(const VTableSlotSummary &amp;LHS, const VTableSlotSummary &amp;RHS)</div><div class="ttdef"><b>Definition:</b> <a href="WholeProgramDevirt_8cpp_source.html#l00366">WholeProgramDevirt.cpp:366</a></div></div>
<div class="ttc" id="aBuiltinGCs_8cpp_html_a7abf5fb4071cb25dbce06dfb5ee3c937"><div class="ttname"><a href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a></div><div class="ttdeci">static GCRegistry::Add&lt; OcamlGC &gt; B(&quot;ocaml&quot;, &quot;ocaml 3.10-compatible GC&quot;)</div></div>
<div class="ttc" id="aclassllvm_1_1Function_html_a4c319db4fe05c27cfe55bd133a87414d"><div class="ttname"><a href="classllvm_1_1Function.html#a4c319db4fe05c27cfe55bd133a87414d">llvm::Function::getFnAttribute</a></div><div class="ttdeci">Attribute getFnAttribute(Attribute::AttrKind Kind) const</div><div class="ttdoc">Return the attribute for the given attribute kind.</div><div class="ttdef"><b>Definition:</b> <a href="Function_8cpp_source.html#l00666">Function.cpp:666</a></div></div>
<div class="ttc" id="aclassllvm_1_1IntegerType_html"><div class="ttname"><a href="classllvm_1_1IntegerType.html">llvm::IntegerType</a></div><div class="ttdoc">Class to represent integer types.</div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00040">DerivedTypes.h:40</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html"><div class="ttname"><a href="classllvm_1_1Instruction.html">llvm::Instruction</a></div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8h_source.html#l00041">Instruction.h:41</a></div></div>
<div class="ttc" id="astructllvm_1_1WholeProgramDevirtResolution_1_1ByArg_html_afcc8593fe943d570b5a3fe549132fdff"><div class="ttname"><a href="structllvm_1_1WholeProgramDevirtResolution_1_1ByArg.html#afcc8593fe943d570b5a3fe549132fdff">llvm::WholeProgramDevirtResolution::ByArg::Byte</a></div><div class="ttdeci">uint32_t Byte</div><div class="ttdef"><b>Definition:</b> <a href="ModuleSummaryIndex_8h_source.html#l01136">ModuleSummaryIndex.h:1136</a></div></div>
<div class="ttc" id="aMDBuilder_8h_html"><div class="ttname"><a href="MDBuilder_8h.html">MDBuilder.h</a></div></div>
<div class="ttc" id="anamespacellvm_html_a0bf75467957937ad23ad7be19f489934"><div class="ttname"><a href="namespacellvm.html#a0bf75467957937ad23ad7be19f489934">llvm::STATISTIC</a></div><div class="ttdeci">STATISTIC(NumFunctions, &quot;Total number of functions&quot;)</div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_a35ee267850af7c235474a8c46c7ac5af"><div class="ttname"><a href="classllvm_1_1Value.html#a35ee267850af7c235474a8c46c7ac5af">llvm::Value::setName</a></div><div class="ttdeci">void setName(const Twine &amp;Name)</div><div class="ttdoc">Change the name of the value.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8cpp_source.html#l00375">Value.cpp:375</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantInt_html_a969709dd49c28865a482d8b870f87c46"><div class="ttname"><a href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">llvm::ConstantInt::get</a></div><div class="ttdeci">static Constant * get(Type *Ty, uint64_t V, bool IsSigned=false)</div><div class="ttdoc">If Ty is a vector type, return a Constant with a splat of the given value.</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l00887">Constants.cpp:887</a></div></div>
<div class="ttc" id="aclassllvm_1_1FunctionType_html_a0400b7a6fcffcd3892d7bb6de435674a"><div class="ttname"><a href="classllvm_1_1FunctionType.html#a0400b7a6fcffcd3892d7bb6de435674a">llvm::FunctionType::params</a></div><div class="ttdeci">ArrayRef&lt; Type * &gt; params() const</div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00130">DerivedTypes.h:130</a></div></div>
<div class="ttc" id="aWholeProgramDevirt_8cpp_html_aa8309e74a87a287dfe316da0535c4722"><div class="ttname"><a href="WholeProgramDevirt_8cpp.html#aa8309e74a87a287dfe316da0535c4722">AddCalls</a></div><div class="ttdeci">static bool AddCalls(VTableSlotInfo &amp;SlotInfo, const ValueInfo &amp;Callee)</div><div class="ttdef"><b>Definition:</b> <a href="WholeProgramDevirt_8cpp_source.html#l01174">WholeProgramDevirt.cpp:1174</a></div></div>
<div class="ttc" id="aDebugLoc_8h_html"><div class="ttname"><a href="DebugLoc_8h.html">DebugLoc.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalObject_html_ab0fc6ae566ff5de33790f565a2abe49aa938bd45f40d238428b91833b85ecd22a"><div class="ttname"><a href="classllvm_1_1GlobalObject.html#ab0fc6ae566ff5de33790f565a2abe49aa938bd45f40d238428b91833b85ecd22a">llvm::GlobalObject::VCallVisibilityPublic</a></div><div class="ttdeci">@ VCallVisibilityPublic</div><div class="ttdef"><b>Definition:</b> <a href="GlobalObject_8h_source.html#l00034">GlobalObject.h:34</a></div></div>
<div class="ttc" id="astructllvm_1_1WholeProgramDevirtResolution_html_ae992643f8965e97ffbc353b083615208ac74c33fab6fb30be2bf7db1f86b0853d"><div class="ttname"><a href="structllvm_1_1WholeProgramDevirtResolution.html#ae992643f8965e97ffbc353b083615208ac74c33fab6fb30be2bf7db1f86b0853d">llvm::WholeProgramDevirtResolution::BranchFunnel</a></div><div class="ttdeci">@ BranchFunnel</div><div class="ttdoc">When retpoline mitigation is enabled, use a branch funnel that is defined in the merged module.</div><div class="ttdef"><b>Definition:</b> <a href="ModuleSummaryIndex_8h_source.html#l01112">ModuleSummaryIndex.h:1112</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html_aedfa75f0c85c4aa85b257f066fbea57ca1511edd03e02d1f3dd277a3c6abf6ad5"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#aedfa75f0c85c4aa85b257f066fbea57ca1511edd03e02d1f3dd277a3c6abf6ad5">llvm::GlobalValue::InternalLinkage</a></div><div class="ttdeci">@ InternalLinkage</div><div class="ttdoc">Rename collisions when linking (static functions).</div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00055">GlobalValue.h:55</a></div></div>
<div class="ttc" id="astructllvm_1_1Align_html"><div class="ttname"><a href="structllvm_1_1Align.html">llvm::Align</a></div><div class="ttdoc">This struct is a compact representation of a valid (non-zero power of two) alignment.</div><div class="ttdef"><b>Definition:</b> <a href="Alignment_8h_source.html#l00039">Alignment.h:39</a></div></div>
<div class="ttc" id="anamespacellvm_1_1MCID_html_ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f"><div class="ttname"><a href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">llvm::MCID::Call</a></div><div class="ttdeci">@ Call</div><div class="ttdef"><b>Definition:</b> <a href="MCInstrDesc_8h_source.html#l00156">MCInstrDesc.h:156</a></div></div>
<div class="ttc" id="aclassllvm_1_1Comdat_html"><div class="ttname"><a href="classllvm_1_1Comdat.html">llvm::Comdat</a></div><div class="ttdef"><b>Definition:</b> <a href="IR_2Comdat_8h_source.html#l00033">Comdat.h:33</a></div></div>
<div class="ttc" id="aclassllvm_1_1Metadata_html"><div class="ttname"><a href="classllvm_1_1Metadata.html">llvm::Metadata</a></div><div class="ttdoc">Root of the metadata hierarchy.</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l00061">Metadata.h:61</a></div></div>
<div class="ttc" id="aWholeProgramDevirt_8cpp_html_a0e65aef39009b683d7acb5884ae47421ac9d3e887722f2bc482bcca9d41c512af"><div class="ttname"><a href="WholeProgramDevirt_8cpp.html#a0e65aef39009b683d7acb5884ae47421ac9d3e887722f2bc482bcca9d41c512af">None</a></div><div class="ttdeci">@ None</div><div class="ttdef"><b>Definition:</b> <a href="WholeProgramDevirt_8cpp_source.html#l00180">WholeProgramDevirt.cpp:180</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallBase_html_a3ff92cec76009e859cb0c419d6e8ba5f"><div class="ttname"><a href="classllvm_1_1CallBase.html#a3ff92cec76009e859cb0c419d6e8ba5f">llvm::CallBase::getCallingConv</a></div><div class="ttdeci">CallingConv::ID getCallingConv() const</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l01465">InstrTypes.h:1465</a></div></div>
<div class="ttc" id="aclassllvm_1_1Attribute_html_a968930aea9d9efa8d46dd890fce75643"><div class="ttname"><a href="classllvm_1_1Attribute.html#a968930aea9d9efa8d46dd890fce75643">llvm::Attribute::getValueAsString</a></div><div class="ttdeci">StringRef getValueAsString() const</div><div class="ttdoc">Return the attribute's value as a string.</div><div class="ttdef"><b>Definition:</b> <a href="Attributes_8cpp_source.html#l00312">Attributes.cpp:312</a></div></div>
<div class="ttc" id="aclassllvm_1_1ArrayRef_html_ace7bdce94e806bb8870626657630dab0"><div class="ttname"><a href="classllvm_1_1ArrayRef.html#ace7bdce94e806bb8870626657630dab0">llvm::ArrayRef::slice</a></div><div class="ttdeci">ArrayRef&lt; T &gt; slice(size_t N, size_t M) const</div><div class="ttdoc">slice(n, m) - Chop off the first N elements of the array, and keep M elements in the array.</div><div class="ttdef"><b>Definition:</b> <a href="ArrayRef_8h_source.html#l00193">ArrayRef.h:193</a></div></div>
<div class="ttc" id="anamespacellvm_html_a84163d559062da6b736ab943644e0a16"><div class="ttname"><a href="namespacellvm.html#a84163d559062da6b736ab943644e0a16">llvm::versionCallSite</a></div><div class="ttdeci">CallBase &amp; versionCallSite(CallBase &amp;CB, Value *Callee, MDNode *BranchWeights)</div><div class="ttdoc">Predicate and clone the given call site.</div><div class="ttdef"><b>Definition:</b> <a href="CallPromotionUtils_8cpp_source.html#l00282">CallPromotionUtils.cpp:282</a></div></div>
<div class="ttc" id="anamespacellvm_html_a38a0bdae7fb49d99f161aa6de0379d7ea72d6d7a1885885bb55a565fd1070581a"><div class="ttname"><a href="namespacellvm.html#a38a0bdae7fb49d99f161aa6de0379d7ea72d6d7a1885885bb55a565fd1070581a">llvm::PassSummaryAction::Import</a></div><div class="ttdeci">@ Import</div><div class="ttdoc">Import information from summary.</div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_a9d7de807ebdfe1819df3ff6cb0f16158"><div class="ttname"><a href="classllvm_1_1Value.html#a9d7de807ebdfe1819df3ff6cb0f16158">llvm::Value::use_empty</a></div><div class="ttdeci">bool use_empty() const</div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00344">Value.h:344</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html_a97918d8b2f03a703571385ca2d0fe5cd"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#a97918d8b2f03a703571385ca2d0fe5cd">llvm::GlobalValue::getGUID</a></div><div class="ttdeci">static GUID getGUID(StringRef GlobalName)</div><div class="ttdoc">Return a 64-bit global unique ID constructed from global value name (i.e.</div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00587">GlobalValue.h:587</a></div></div>
<div class="ttc" id="anamespacellvm_html_a12a40c8120b4946a2935d16867203310"><div class="ttname"><a href="namespacellvm.html#a12a40c8120b4946a2935d16867203310">llvm::computeFunctionBodyMemoryAccess</a></div><div class="ttdeci">MemoryEffects computeFunctionBodyMemoryAccess(Function &amp;F, AAResults &amp;AAR)</div><div class="ttdoc">Returns the memory access properties of this copy of the function.</div><div class="ttdef"><b>Definition:</b> <a href="FunctionAttrs_8cpp_source.html#l00233">FunctionAttrs.cpp:233</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallBase_html_afac5b39bcbb90d660f83d9b4bd8c6d95"><div class="ttname"><a href="classllvm_1_1CallBase.html#afac5b39bcbb90d660f83d9b4bd8c6d95">llvm::CallBase::getCaller</a></div><div class="ttdeci">Function * getCaller()</div><div class="ttdoc">Helper to get the caller (the parent function).</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8cpp_source.html#l00293">Instructions.cpp:293</a></div></div>
<div class="ttc" id="aEvaluator_8h_html"><div class="ttname"><a href="Evaluator_8h.html">Evaluator.h</a></div></div>
<div class="ttc" id="astructllvm_1_1CalleeInfo_html"><div class="ttname"><a href="structllvm_1_1CalleeInfo.html">llvm::CalleeInfo</a></div><div class="ttdoc">Class to accumulate and hold information about a callee.</div><div class="ttdef"><b>Definition:</b> <a href="ModuleSummaryIndex_8h_source.html#l00058">ModuleSummaryIndex.h:58</a></div></div>
<div class="ttc" id="astructllvm_1_1WholeProgramDevirtResolution_html_ae992643f8965e97ffbc353b083615208a05ee7e7ff849410d68ccfd73e177387f"><div class="ttname"><a href="structllvm_1_1WholeProgramDevirtResolution.html#ae992643f8965e97ffbc353b083615208a05ee7e7ff849410d68ccfd73e177387f">llvm::WholeProgramDevirtResolution::SingleImpl</a></div><div class="ttdeci">@ SingleImpl</div><div class="ttdoc">Single implementation devirtualization.</div><div class="ttdef"><b>Definition:</b> <a href="ModuleSummaryIndex_8h_source.html#l01111">ModuleSummaryIndex.h:1111</a></div></div>
<div class="ttc" id="astructllvm_1_1ValueInfo_html"><div class="ttname"><a href="structllvm_1_1ValueInfo.html">llvm::ValueInfo</a></div><div class="ttdoc">Struct that holds a reference to a particular GUID in a global value summary.</div><div class="ttdef"><b>Definition:</b> <a href="ModuleSummaryIndex_8h_source.html#l00169">ModuleSummaryIndex.h:169</a></div></div>
<div class="ttc" id="anamespacellvm_1_1dxil_1_1PointerTypeAnalysis_html_ae574a4c1d84b9e67bc94489f356805b4"><div class="ttname"><a href="namespacellvm_1_1dxil_1_1PointerTypeAnalysis.html#ae574a4c1d84b9e67bc94489f356805b4">llvm::dxil::PointerTypeAnalysis::run</a></div><div class="ttdeci">PointerTypeMap run(const Module &amp;M)</div><div class="ttdoc">Compute the PointerTypeMap for the module M.</div><div class="ttdef"><b>Definition:</b> <a href="PointerTypeAnalysis_8cpp_source.html#l00189">PointerTypeAnalysis.cpp:189</a></div></div>
<div class="ttc" id="anamespacellvm_1_1sys_1_1fs_html_a662978c0cdf81de0d448032f142a3695ab505c2c79499fbe180989bffbf108a50"><div class="ttname"><a href="namespacellvm_1_1sys_1_1fs.html#a662978c0cdf81de0d448032f142a3695ab505c2c79499fbe180989bffbf108a50">llvm::sys::fs::OF_TextWithCRLF</a></div><div class="ttdeci">@ OF_TextWithCRLF</div><div class="ttdoc">The file should be opened in text mode and use a carriage linefeed '\r '.</div><div class="ttdef"><b>Definition:</b> <a href="FileSystem_8h_source.html#l00770">FileSystem.h:770</a></div></div>
<div class="ttc" id="aADT_2tmp_8txt_html_a07ed0bfaa124c15897944fe3eaa971ab"><div class="ttname"><a href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a></div><div class="ttdeci">Class for arbitrary precision integers APInt is a functional replacement for common case unsigned integer type like unsigned long or uint64_t</div><div class="ttdef"><b>Definition:</b> <a href="ADT_2tmp_8txt_source.html#l00001">tmp.txt:1</a></div></div>
<div class="ttc" id="astructllvm_1_1WholeProgramDevirtResolution_html_ab97c12959c5cc7b46b115da7e1ac5047"><div class="ttname"><a href="structllvm_1_1WholeProgramDevirtResolution.html#ab97c12959c5cc7b46b115da7e1ac5047">llvm::WholeProgramDevirtResolution::SingleImplName</a></div><div class="ttdeci">std::string SingleImplName</div><div class="ttdef"><b>Definition:</b> <a href="ModuleSummaryIndex_8h_source.html#l01117">ModuleSummaryIndex.h:1117</a></div></div>
<div class="ttc" id="anamespacellvm_html_aa8a135c4b979f0de23ee9086e85228f5"><div class="ttname"><a href="namespacellvm.html#aa8a135c4b979f0de23ee9086e85228f5">llvm::updateVCallVisibilityInIndex</a></div><div class="ttdeci">void updateVCallVisibilityInIndex(ModuleSummaryIndex &amp;Index, bool WholeProgramVisibilityEnabledInLTO, const DenseSet&lt; GlobalValue::GUID &gt; &amp;DynamicExportSymbols)</div><div class="ttdoc">If whole program visibility asserted, then upgrade all public vcall visibility metadata on vtable def...</div><div class="ttdef"><b>Definition:</b> <a href="WholeProgramDevirt_8cpp_source.html#l00834">WholeProgramDevirt.cpp:834</a></div></div>
<div class="ttc" id="aclassllvm_1_1function__ref_html"><div class="ttname"><a href="classllvm_1_1function__ref.html">llvm::function_ref</a></div><div class="ttdoc">An efficient, type-erasing, non-owning reference to a callable.</div><div class="ttdef"><b>Definition:</b> <a href="STLFunctionalExtras_8h_source.html#l00036">STLFunctionalExtras.h:36</a></div></div>
<div class="ttc" id="astructllvm_1_1WholeProgramDevirtResolution_1_1ByArg_html_a73c235c3b51fc129ec890391feccd47ea635d252c06de8cd5c96ebcf3d8989ccf"><div class="ttname"><a href="structllvm_1_1WholeProgramDevirtResolution_1_1ByArg.html#a73c235c3b51fc129ec890391feccd47ea635d252c06de8cd5c96ebcf3d8989ccf">llvm::WholeProgramDevirtResolution::ByArg::UniformRetVal</a></div><div class="ttdeci">@ UniformRetVal</div><div class="ttdoc">Uniform return value optimization.</div><div class="ttdef"><b>Definition:</b> <a href="ModuleSummaryIndex_8h_source.html#l01122">ModuleSummaryIndex.h:1122</a></div></div>
<div class="ttc" id="aCombinerHelper_8cpp_html_a4743a8a472e0491e534c1efd2935a1a9"><div class="ttname"><a href="CombinerHelper_8cpp.html#a4743a8a472e0491e534c1efd2935a1a9">isBigEndian</a></div><div class="ttdeci">static std::optional&lt; bool &gt; isBigEndian(const SmallDenseMap&lt; int64_t, int64_t, 8 &gt; &amp;MemOffset2Idx, int64_t LowestIdx)</div><div class="ttdoc">Given a map from byte offsets in memory to indices in a load/store, determine if that map corresponds...</div><div class="ttdef"><b>Definition:</b> <a href="CombinerHelper_8cpp_source.html#l00112">CombinerHelper.cpp:112</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseSet_html"><div class="ttname"><a href="classllvm_1_1DenseSet.html">llvm::DenseSet&lt; GlobalValue::GUID &gt;</a></div></div>
<div class="ttc" id="anamespacellvm_1_1tgtok_html_abbc5259d649363016626e2529fabe0c5a5fa7b4069ef3bd1ceb9f2caa315cf5ac"><div class="ttname"><a href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a5fa7b4069ef3bd1ceb9f2caa315cf5ac">llvm::tgtok::In</a></div><div class="ttdeci">@ In</div><div class="ttdef"><b>Definition:</b> <a href="TGLexer_8h_source.html#l00051">TGLexer.h:51</a></div></div>
<div class="ttc" id="aMips16HardFloat_8cpp_html_a80cca3528193bd0d53e43a6d030f0ea0"><div class="ttname"><a href="Mips16HardFloat_8cpp.html#a80cca3528193bd0d53e43a6d030f0ea0">TypeID</a></div><div class="ttdeci">Type::TypeID TypeID</div><div class="ttdef"><b>Definition:</b> <a href="Mips16HardFloat_8cpp_source.html#l00103">Mips16HardFloat.cpp:103</a></div></div>
<div class="ttc" id="aclassllvm_1_1cl_1_1opt_html"><div class="ttname"><a href="classllvm_1_1cl_1_1opt.html">llvm::cl::opt</a></div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l01410">CommandLine.h:1410</a></div></div>
<div class="ttc" id="astructllvm_1_1FunctionSummary_1_1VFuncId_html"><div class="ttname"><a href="structllvm_1_1FunctionSummary_1_1VFuncId.html">llvm::FunctionSummary::VFuncId</a></div><div class="ttdoc">An &quot;identifier&quot; for a virtual function.</div><div class="ttdef"><b>Definition:</b> <a href="ModuleSummaryIndex_8h_source.html#l00603">ModuleSummaryIndex.h:603</a></div></div>
<div class="ttc" id="astructllvm_1_1CalleeInfo_html_a2413e35985411a461b9ab03c17c01caaa4194726ee334e1085d93e002837b73f0"><div class="ttname"><a href="structllvm_1_1CalleeInfo.html#a2413e35985411a461b9ab03c17c01caaa4194726ee334e1085d93e002837b73f0">llvm::CalleeInfo::HotnessType::Hot</a></div><div class="ttdeci">@ Hot</div></div>
<div class="ttc" id="aclassllvm_1_1Triple_html_a83e907e55fa50e093caa96a0aff96201a456b64e26b8bcdbd8294689615d8a055"><div class="ttname"><a href="classllvm_1_1Triple.html#a83e907e55fa50e093caa96a0aff96201a456b64e26b8bcdbd8294689615d8a055">llvm::Triple::ELF</a></div><div class="ttdeci">@ ELF</div><div class="ttdef"><b>Definition:</b> <a href="Triple_8h_source.html#l00284">Triple.h:284</a></div></div>
<div class="ttc" id="aSIInstrInfo_8cpp_html_a0dfd55eaf0bcb495f09ecf8c55b256b2a97bce951e4585a39601c04d86bb14ffd"><div class="ttname"><a href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a97bce951e4585a39601c04d86bb14ffd">VI</a></div><div class="ttdeci">@ VI</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l07994">SIInstrInfo.cpp:7994</a></div></div>
<div class="ttc" id="aclassllvm_1_1Constant_html"><div class="ttname"><a href="classllvm_1_1Constant.html">llvm::Constant</a></div><div class="ttdoc">This is an important base class in LLVM.</div><div class="ttdef"><b>Definition:</b> <a href="Constant_8h_source.html#l00041">Constant.h:41</a></div></div>
<div class="ttc" id="anamespacellvm_1_1cl_html_a8fa743aa76b6902028f8a643dfb87171"><div class="ttname"><a href="namespacellvm_1_1cl.html#a8fa743aa76b6902028f8a643dfb87171">llvm::cl::values</a></div><div class="ttdeci">ValuesClass values(OptsTy... Options)</div><div class="ttdoc">Helper to build a ValuesClass by forwarding a variable number of arguments as an initializer list to ...</div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00703">CommandLine.h:703</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html_ae6b978645b8ac72d1a35e1298ffdd4f0"><div class="ttname"><a href="classllvm_1_1Instruction.html#ae6b978645b8ac72d1a35e1298ffdd4f0">llvm::Instruction::eraseFromParent</a></div><div class="ttdeci">SymbolTableList&lt; Instruction &gt;::iterator eraseFromParent()</div><div class="ttdoc">This method unlinks 'this' from the containing basic block and deletes it.</div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8cpp_source.html#l00082">Instruction.cpp:82</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1Hwreg_html_a6110fc30bc7311a6cf99814530362e21"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1Hwreg.html#a6110fc30bc7311a6cf99814530362e21">llvm::AMDGPU::Hwreg::Offset</a></div><div class="ttdeci">Offset</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00432">SIDefines.h:432</a></div></div>
<div class="ttc" id="aclassllvm_1_1PointerType_html_a8db49fd5069f21d514e7bb0fd11f0902"><div class="ttname"><a href="classllvm_1_1PointerType.html#a8db49fd5069f21d514e7bb0fd11f0902">llvm::PointerType::getUnqual</a></div><div class="ttdeci">static PointerType * getUnqual(Type *ElementType)</div><div class="ttdoc">This constructs a pointer to an object of the specified type in the default address space (address sp...</div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00651">DerivedTypes.h:651</a></div></div>
<div class="ttc" id="aELFObjHandler_8cpp_html_a9df82a8be2f17e80535a8937bf23e022"><div class="ttname"><a href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a></div><div class="ttdeci">uint64_t Addr</div><div class="ttdef"><b>Definition:</b> <a href="ELFObjHandler_8cpp_source.html#l00079">ELFObjHandler.cpp:79</a></div></div>
<div class="ttc" id="astructllvm_1_1wholeprogramdevirt_1_1VirtualCallTarget_html"><div class="ttname"><a href="structllvm_1_1wholeprogramdevirt_1_1VirtualCallTarget.html">llvm::wholeprogramdevirt::VirtualCallTarget</a></div><div class="ttdef"><b>Definition:</b> <a href="WholeProgramDevirt_8h_source.html#l00120">WholeProgramDevirt.h:120</a></div></div>
<div class="ttc" id="aclassllvm_1_1AttributeSet_html_ae8ed437b15a7ca943716e5284a9cb9a6"><div class="ttname"><a href="classllvm_1_1AttributeSet.html#ae8ed437b15a7ca943716e5284a9cb9a6">llvm::AttributeSet::get</a></div><div class="ttdeci">static AttributeSet get(LLVMContext &amp;C, const AttrBuilder &amp;B)</div><div class="ttdef"><b>Definition:</b> <a href="Attributes_8cpp_source.html#l00693">Attributes.cpp:693</a></div></div>
<div class="ttc" id="aWholeProgramDevirt_8cpp_html_a97077477d41e7efa4168b4cb7167919a"><div class="ttname"><a href="WholeProgramDevirt_8cpp.html#a97077477d41e7efa4168b4cb7167919a">PrintSummaryDevirt</a></div><div class="ttdeci">static cl::opt&lt; bool &gt; PrintSummaryDevirt(&quot;wholeprogramdevirt-print-index-based&quot;, cl::Hidden, cl::desc(&quot;Print index-based devirtualization messages&quot;))</div></div>
<div class="ttc" id="aTransforms_2IPO_8h_html"><div class="ttname"><a href="Transforms_2IPO_8h.html">IPO.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1ModuleSummaryIndex_html_a62fac0638e2f98e3a85a13fd8deefdc5"><div class="ttname"><a href="classllvm_1_1ModuleSummaryIndex.html#a62fac0638e2f98e3a85a13fd8deefdc5">llvm::ModuleSummaryIndex::getValueInfo</a></div><div class="ttdeci">ValueInfo getValueInfo(const GlobalValueSummaryMapTy::value_type &amp;R) const</div><div class="ttdoc">Return a ValueInfo for the index value_type (convenient when iterating index).</div><div class="ttdef"><b>Definition:</b> <a href="ModuleSummaryIndex_8h_source.html#l01468">ModuleSummaryIndex.h:1468</a></div></div>
<div class="ttc" id="alib_2Target_2ARM_2README_8txt_html_ad3a99906764c35b2694ae90fa57744a5"><div class="ttname"><a href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">move</a></div><div class="ttdeci">compiles ldr LCPI1_0 ldr ldr mov lsr tst moveq r1 ldr LCPI1_1 and r0 bx lr It would be better to do something like to fold the shift into the conditional move</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2ARM_2README_8txt_source.html#l00546">README.txt:546</a></div></div>
<div class="ttc" id="aclassllvm_1_1BranchInst_html_a38df51256d4b415b6a817b5e1c6d4d36"><div class="ttname"><a href="classllvm_1_1BranchInst.html#a38df51256d4b415b6a817b5e1c6d4d36">llvm::BranchInst::Create</a></div><div class="ttdeci">static BranchInst * Create(BasicBlock *IfTrue, Instruction *InsertBefore=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l03195">Instructions.h:3195</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMap_html"><div class="ttname"><a href="classllvm_1_1DenseMap.html">llvm::DenseMap</a></div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00714">DenseMap.h:714</a></div></div>
<div class="ttc" id="aclassllvm_1_1ErrorSuccess_html"><div class="ttname"><a href="classllvm_1_1ErrorSuccess.html">llvm::ErrorSuccess</a></div><div class="ttdoc">Subclass of Error for the sole purpose of identifying the success path in the type system.</div><div class="ttdef"><b>Definition:</b> <a href="Support_2Error_8h_source.html#l00328">Error.h:328</a></div></div>
<div class="ttc" id="astructllvm_1_1DenseMapInfo_3_01VTableSlot_01_4_html_a1c80e25a1ca5f47d5db81fb5fe90b3c9"><div class="ttname"><a href="structllvm_1_1DenseMapInfo_3_01VTableSlot_01_4.html#a1c80e25a1ca5f47d5db81fb5fe90b3c9">llvm::DenseMapInfo&lt; VTableSlot &gt;::getTombstoneKey</a></div><div class="ttdeci">static VTableSlot getTombstoneKey()</div><div class="ttdef"><b>Definition:</b> <a href="WholeProgramDevirt_8cpp_source.html#l00339">WholeProgramDevirt.cpp:339</a></div></div>
<div class="ttc" id="aMD5_8cpp_html_ac0eafdc9ee161b71e7af98af736952fd"><div class="ttname"><a href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a></div><div class="ttdeci">#define I(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00058">MD5.cpp:58</a></div></div>
<div class="ttc" id="aclassllvm_1_1Evaluator_html"><div class="ttname"><a href="classllvm_1_1Evaluator.html">llvm::Evaluator</a></div><div class="ttdoc">This class evaluates LLVM IR, producing the Constant representing each SSA instruction.</div><div class="ttdef"><b>Definition:</b> <a href="Evaluator_8h_source.html#l00037">Evaluator.h:37</a></div></div>
<div class="ttc" id="aWholeProgramDevirt_8cpp_html_a09aa44ba0a37c23ebb70a447f004645a"><div class="ttname"><a href="WholeProgramDevirt_8cpp.html#a09aa44ba0a37c23ebb70a447f004645a">WholeProgramVisibility</a></div><div class="ttdeci">static cl::opt&lt; bool &gt; WholeProgramVisibility(&quot;whole-program-visibility&quot;, cl::Hidden, cl::desc(&quot;Enable whole program visibility&quot;))</div><div class="ttdoc">Provide a way to force enable whole program visibility in tests.</div></div>
<div class="ttc" id="anamespacellvm_1_1cl_html_a10a041239ae1870cfcc064bfaa79fb65"><div class="ttname"><a href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">llvm::cl::init</a></div><div class="ttdeci">initializer&lt; Ty &gt; init(const Ty &amp;Val)</div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00445">CommandLine.h:445</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8154638df88e4eaa568b67b23d463dac"><div class="ttname"><a href="namespacellvm.html#a8154638df88e4eaa568b67b23d463dac">llvm::make_early_inc_range</a></div><div class="ttdeci">iterator_range&lt; early_inc_iterator_impl&lt; detail::IterOfRange&lt; RangeT &gt; &gt; &gt; make_early_inc_range(RangeT &amp;&amp;Range)</div><div class="ttdoc">Make a range that does early increment to allow mutation of the underlying range without disrupting i...</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l00721">STLExtras.h:721</a></div></div>
<div class="ttc" id="astructllvm_1_1DenseMapInfo_3_01VTableSlotSummary_01_4_html_ae865988944d12c74816611b169387dd1"><div class="ttname"><a href="structllvm_1_1DenseMapInfo_3_01VTableSlotSummary_01_4.html#ae865988944d12c74816611b169387dd1">llvm::DenseMapInfo&lt; VTableSlotSummary &gt;::getEmptyKey</a></div><div class="ttdeci">static VTableSlotSummary getEmptyKey()</div><div class="ttdef"><b>Definition:</b> <a href="WholeProgramDevirt_8cpp_source.html#l00354">WholeProgramDevirt.cpp:354</a></div></div>
<div class="ttc" id="astructllvm_1_1WholeProgramDevirtResolution_1_1ByArg_html_a73c235c3b51fc129ec890391feccd47ea8bf72562c0a17a25f9e07863e68543b3"><div class="ttname"><a href="structllvm_1_1WholeProgramDevirtResolution_1_1ByArg.html#a73c235c3b51fc129ec890391feccd47ea8bf72562c0a17a25f9e07863e68543b3">llvm::WholeProgramDevirtResolution::ByArg::UniqueRetVal</a></div><div class="ttdeci">@ UniqueRetVal</div><div class="ttdoc">Unique return value optimization.</div><div class="ttdef"><b>Definition:</b> <a href="ModuleSummaryIndex_8h_source.html#l01123">ModuleSummaryIndex.h:1123</a></div></div>
<div class="ttc" id="aclassllvm_1_1PointerType_html"><div class="ttname"><a href="classllvm_1_1PointerType.html">llvm::PointerType</a></div><div class="ttdoc">Class to represent pointers.</div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00632">DerivedTypes.h:632</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html_a687973de03d041e04b50a76d19d4fd36"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#a687973de03d041e04b50a76d19d4fd36">llvm::GlobalValue::setLinkage</a></div><div class="ttdeci">void setLinkage(LinkageTypes LT)</div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00532">GlobalValue.h:532</a></div></div>
<div class="ttc" id="aArrayRef_8h_html"><div class="ttname"><a href="ArrayRef_8h.html">ArrayRef.h</a></div></div>
<div class="ttc" id="aWholeProgramDevirt_8cpp_html_ac61cdf9180068a01724750e24003fda8"><div class="ttname"><a href="WholeProgramDevirt_8cpp.html#ac61cdf9180068a01724750e24003fda8">ClWriteSummary</a></div><div class="ttdeci">static cl::opt&lt; std::string &gt; ClWriteSummary(&quot;wholeprogramdevirt-write-summary&quot;, cl::desc(&quot;Write summary to given bitcode or YAML file after running pass. &quot; &quot;Output file format is deduced from extension: *.bc means writing &quot; &quot;bitcode, otherwise YAML&quot;), cl::Hidden)</div></div>
<div class="ttc" id="anamespacellvm_1_1pdb_html_a33e853ec74d48b1340d1d4bae772d30ba5fe1b444a36c9acc94c001c1add97722"><div class="ttname"><a href="namespacellvm_1_1pdb.html#a33e853ec74d48b1340d1d4bae772d30ba5fe1b444a36c9acc94c001c1add97722">llvm::pdb::PDB_SymType::VTable</a></div><div class="ttdeci">@ VTable</div></div>
<div class="ttc" id="anamespacellvm_1_1logicalview_html_a8d87e69e124542d3338b631934cdbea9a290612199861c31d1036b185b4e69b75"><div class="ttname"><a href="namespacellvm_1_1logicalview.html#a8d87e69e124542d3338b631934cdbea9a290612199861c31d1036b185b4e69b75">llvm::logicalview::LVPrintKind::Summary</a></div><div class="ttdeci">@ Summary</div></div>
<div class="ttc" id="astructllvm_1_1TypeIdSummary_html"><div class="ttname"><a href="structllvm_1_1TypeIdSummary.html">llvm::TypeIdSummary</a></div><div class="ttdef"><b>Definition:</b> <a href="ModuleSummaryIndex_8h_source.html#l01145">ModuleSummaryIndex.h:1145</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantStruct_html_a801ba6ad994f4c40b17055d228312be7"><div class="ttname"><a href="classllvm_1_1ConstantStruct.html#a801ba6ad994f4c40b17055d228312be7">llvm::ConstantStruct::getAnon</a></div><div class="ttdeci">static Constant * getAnon(ArrayRef&lt; Constant * &gt; V, bool Packed=false)</div><div class="ttdoc">Return an anonymous struct that has the specified elements.</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8h_source.html#l00462">Constants.h:462</a></div></div>
<div class="ttc" id="aclassllvm_1_1Function_html_a6adbed68009f582caa84cdfd2adf36f1"><div class="ttname"><a href="classllvm_1_1Function.html#a6adbed68009f582caa84cdfd2adf36f1">llvm::Function::Create</a></div><div class="ttdeci">static Function * Create(FunctionType *Ty, LinkageTypes Linkage, unsigned AddrSpace, const Twine &amp;N=&quot;&quot;, Module *M=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00136">Function.h:136</a></div></div>
<div class="ttc" id="aIRBuilder_8h_html"><div class="ttname"><a href="IRBuilder_8h.html">IRBuilder.h</a></div></div>
<div class="ttc" id="astructllvm_1_1DevirtCallSite_html"><div class="ttname"><a href="structllvm_1_1DevirtCallSite.html">llvm::DevirtCallSite</a></div><div class="ttdoc">A call site that could be devirtualized.</div><div class="ttdef"><b>Definition:</b> <a href="TypeMetadataUtils_8h_source.html#l00038">TypeMetadataUtils.h:38</a></div></div>
<div class="ttc" id="aSILowerControlFlow_8cpp_html_a4868c5d81c5ccc98c47aeab6244346a0"><div class="ttname"><a href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a></div><div class="ttdeci">assert(ImpDefSCC.getReg()==AMDGPU::SCC &amp;&amp;ImpDefSCC.isDef())</div></div>
<div class="ttc" id="anamespacestd_html_ab8424022895aee3e366fb9a32f2883cb"><div class="ttname"><a href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a></div><div class="ttdeci">void swap(llvm::BitVector &amp;LHS, llvm::BitVector &amp;RHS)</div><div class="ttdoc">Implement std::swap in terms of BitVector swap.</div><div class="ttdef"><b>Definition:</b> <a href="BitVector_8h_source.html#l00853">BitVector.h:853</a></div></div>
<div class="ttc" id="anamespacellvm_1_1X86AS_html_aea2591d7d017866934bcf72ee3dc8a31a5b3a782ccae295a254e2794ad30ad07f"><div class="ttname"><a href="namespacellvm_1_1X86AS.html#aea2591d7d017866934bcf72ee3dc8a31a5b3a782ccae295a254e2794ad30ad07f">llvm::X86AS::FS</a></div><div class="ttdeci">@ FS</div><div class="ttdef"><b>Definition:</b> <a href="X86_8h_source.html#l00201">X86.h:201</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html_a3ba1af4b9d9faa4a33729bbbecee83d1"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#a3ba1af4b9d9faa4a33729bbbecee83d1">llvm::GlobalValue::hasLocalLinkage</a></div><div class="ttdeci">bool hasLocalLinkage() const</div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00523">GlobalValue.h:523</a></div></div>
<div class="ttc" id="anamespacellvm_1_1codeview_html_a2e1cbb0e2bd7a35ed99c31853dc45374a3fd6b696867d70225deda7868308679b"><div class="ttname"><a href="namespacellvm_1_1codeview.html#a2e1cbb0e2bd7a35ed99c31853dc45374a3fd6b696867d70225deda7868308679b">llvm::codeview::CompileSym2Flags::EC</a></div><div class="ttdeci">@ EC</div></div>
<div class="ttc" id="aTargetLibraryInfo_8cpp_html_aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053"><div class="ttname"><a href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a></div><div class="ttdeci">@ Ptr</div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8cpp_source.html#l00062">TargetLibraryInfo.cpp:62</a></div></div>
<div class="ttc" id="aiterator__range_8h_html"><div class="ttname"><a href="iterator__range_8h.html">iterator_range.h</a></div></div>
<div class="ttc" id="anamespacellvm_html_ac6624a6c4b26485258e3602e2f79c28b"><div class="ttname"><a href="namespacellvm.html#ac6624a6c4b26485258e3602e2f79c28b">llvm::updateIndexWPDForExports</a></div><div class="ttdeci">void updateIndexWPDForExports(ModuleSummaryIndex &amp;Summary, function_ref&lt; bool(StringRef, ValueInfo)&gt; isExported, std::map&lt; ValueInfo, std::vector&lt; VTableSlotSummary &gt;&gt; &amp;LocalWPDTargetsMap)</div><div class="ttdoc">Call after cross-module importing to update the recorded single impl devirt target names for any loca...</div><div class="ttdef"><b>Definition:</b> <a href="WholeProgramDevirt_8cpp_source.html#l00860">WholeProgramDevirt.cpp:860</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html_a578061260691a59a9e7b0455fd68359c"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#a578061260691a59a9e7b0455fd68359c">llvm::GlobalValue::isAvailableExternallyLinkage</a></div><div class="ttdeci">static bool isAvailableExternallyLinkage(LinkageTypes Linkage)</div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00374">GlobalValue.h:374</a></div></div>
<div class="ttc" id="aclassllvm_1_1Module_html"><div class="ttname"><a href="classllvm_1_1Module.html">llvm::Module</a></div><div class="ttdoc">A Module instance is used to store all the information related to an LLVM module.</div><div class="ttdef"><b>Definition:</b> <a href="Module_8h_source.html#l00065">Module.h:65</a></div></div>
<div class="ttc" id="aclassllvm_1_1MDNode_html"><div class="ttname"><a href="classllvm_1_1MDNode.html">llvm::MDNode</a></div><div class="ttdoc">Metadata node.</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l00943">Metadata.h:943</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMapBase_html_a49c487a9395a6c384be8544cfb2cfccf"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#a49c487a9395a6c384be8544cfb2cfccf">llvm::DenseMapBase&lt; DenseMap&lt; KeyT, ValueT, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;, KeyT, ValueT, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;::empty</a></div><div class="ttdeci">bool empty() const</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00098">DenseMap.h:98</a></div></div>
<div class="ttc" id="aAssumeBundleBuilder_8cpp_html_afb136e0532bcaed86521b462e6538d62"><div class="ttname"><a href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a></div><div class="ttdeci">assume Assume Builder</div><div class="ttdef"><b>Definition:</b> <a href="AssumeBundleBuilder_8cpp_source.html#l00651">AssumeBundleBuilder.cpp:651</a></div></div>
<div class="ttc" id="aclassllvm_1_1ModuleSummaryIndex_html_a789cb293a347a50218bd41a96ae4c914"><div class="ttname"><a href="classllvm_1_1ModuleSummaryIndex.html#a789cb293a347a50218bd41a96ae4c914">llvm::ModuleSummaryIndex::partiallySplitLTOUnits</a></div><div class="ttdeci">bool partiallySplitLTOUnits() const</div><div class="ttdef"><b>Definition:</b> <a href="ModuleSummaryIndex_8h_source.html#l01456">ModuleSummaryIndex.h:1456</a></div></div>
<div class="ttc" id="aTriple_8h_html"><div class="ttname"><a href="Triple_8h.html">Triple.h</a></div></div>
<div class="ttc" id="aWholeProgramDevirt_8cpp_html_a0e65aef39009b683d7acb5884ae47421aad98505ec3c6cabbb406c37037410854"><div class="ttname"><a href="WholeProgramDevirt_8cpp.html#a0e65aef39009b683d7acb5884ae47421aad98505ec3c6cabbb406c37037410854">Fallback</a></div><div class="ttdeci">@ Fallback</div><div class="ttdef"><b>Definition:</b> <a href="WholeProgramDevirt_8cpp_source.html#l00180">WholeProgramDevirt.cpp:180</a></div></div>
<div class="ttc" id="aclassllvm_1_1ArrayRef_html"><div class="ttname"><a href="classllvm_1_1ArrayRef.html">llvm::ArrayRef</a></div><div class="ttdoc">ArrayRef - Represent a constant reference to an array (0 or more elements consecutively in memory),...</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00033">APInt.h:33</a></div></div>
<div class="ttc" id="anamespacellvm_html_a2567770c1286c10fe6fa51c2a61574cf"><div class="ttname"><a href="namespacellvm.html#a2567770c1286c10fe6fa51c2a61574cf">llvm::updateVCallVisibilityInModule</a></div><div class="ttdeci">void updateVCallVisibilityInModule(Module &amp;M, bool WholeProgramVisibilityEnabledInLTO, const DenseSet&lt; GlobalValue::GUID &gt; &amp;DynamicExportSymbols)</div><div class="ttdoc">If whole program visibility asserted, then upgrade all public vcall visibility metadata on vtable def...</div><div class="ttdef"><b>Definition:</b> <a href="WholeProgramDevirt_8cpp_source.html#l00786">WholeProgramDevirt.cpp:786</a></div></div>
<div class="ttc" id="aModuleSummaryIndexYAML_8h_html"><div class="ttname"><a href="ModuleSummaryIndexYAML_8h.html">ModuleSummaryIndexYAML.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1logicalview_html_a90c9f20715929cbe06c523bf8546c38baf2d346b1bb7c1c85ab6f7f21e3666b9f"><div class="ttname"><a href="namespacellvm_1_1logicalview.html#a90c9f20715929cbe06c523bf8546c38baf2d346b1bb7c1c85ab6f7f21e3666b9f">llvm::logicalview::LVCompareKind::Types</a></div><div class="ttdeci">@ Types</div></div>
<div class="ttc" id="aclassllvm_1_1OptimizationRemarkEmitter_html"><div class="ttname"><a href="classllvm_1_1OptimizationRemarkEmitter.html">llvm::OptimizationRemarkEmitter</a></div><div class="ttdoc">The optimization diagnostic interface.</div><div class="ttdef"><b>Definition:</b> <a href="OptimizationRemarkEmitter_8h_source.html#l00033">OptimizationRemarkEmitter.h:33</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobPattern_html_acfcab3a1df3f61c5ff0ffd1d6a1125b3"><div class="ttname"><a href="classllvm_1_1GlobPattern.html#acfcab3a1df3f61c5ff0ffd1d6a1125b3">llvm::GlobPattern::create</a></div><div class="ttdeci">static Expected&lt; GlobPattern &gt; create(StringRef Pat)</div><div class="ttdef"><b>Definition:</b> <a href="GlobPattern_8cpp_source.html#l00107">GlobPattern.cpp:107</a></div></div>
<div class="ttc" id="anamespacellvm_html_a57f2ca0e57f4f7b13f56f9aa16af3e0d"><div class="ttname"><a href="namespacellvm.html#a57f2ca0e57f4f7b13f56f9aa16af3e0d">llvm::min</a></div><div class="ttdeci">Expected&lt; ExpressionValue &gt; min(const ExpressionValue &amp;Lhs, const ExpressionValue &amp;Rhs)</div><div class="ttdef"><b>Definition:</b> <a href="FileCheck_8cpp_source.html#l00357">FileCheck.cpp:357</a></div></div>
<div class="ttc" id="aDataLayout_8h_html"><div class="ttname"><a href="DataLayout_8h.html">DataLayout.h</a></div></div>
<div class="ttc" id="aBasicBlockSections_8cpp_html_a5fd0741d696f28faf65b33f6c6af8fda"><div class="ttname"><a href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a></div><div class="ttdeci">SmallVector&lt; MachineOperand, 4 &gt; Cond</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlockSections_8cpp_source.html#l00137">BasicBlockSections.cpp:137</a></div></div>
<div class="ttc" id="aclassllvm_1_1StringRef_html"><div class="ttname"><a href="classllvm_1_1StringRef.html">llvm::StringRef</a></div><div class="ttdoc">StringRef - Represent a constant reference to a string, i.e.</div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00050">StringRef.h:50</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_a6393a2d4fe7e10b28a0dcc35f881567b"><div class="ttname"><a href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">llvm::Value::getType</a></div><div class="ttdeci">Type * getType() const</div><div class="ttdoc">All values are typed, get the type of this value.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00255">Value.h:255</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantDataArray_html_acea0f5c18b4593bf27592dfcfe59de6f"><div class="ttname"><a href="classllvm_1_1ConstantDataArray.html#acea0f5c18b4593bf27592dfcfe59de6f">llvm::ConstantDataArray::get</a></div><div class="ttdeci">static Constant * get(LLVMContext &amp;Context, ArrayRef&lt; ElementTy &gt; Elts)</div><div class="ttdoc">get() constructor - Return a constant with array type with an element count and element type matching...</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8h_source.html#l00691">Constants.h:691</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_a3ab5fc45117b450e8bb04e564cb6e5f2"><div class="ttname"><a href="classllvm_1_1Value.html#a3ab5fc45117b450e8bb04e564cb6e5f2">llvm::Value::replaceAllUsesWith</a></div><div class="ttdeci">void replaceAllUsesWith(Value *V)</div><div class="ttdoc">Change all uses of this to point to a new Value.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8cpp_source.html#l00532">Value.cpp:532</a></div></div>
<div class="ttc" id="aclassllvm_1_1BasicBlock_html_ace940beeee97c222f836fe0ac70f6cf5"><div class="ttname"><a href="classllvm_1_1BasicBlock.html#ace940beeee97c222f836fe0ac70f6cf5">llvm::BasicBlock::Create</a></div><div class="ttdeci">static BasicBlock * Create(LLVMContext &amp;Context, const Twine &amp;Name=&quot;&quot;, Function *Parent=nullptr, BasicBlock *InsertBefore=nullptr)</div><div class="ttdoc">Creates a new BasicBlock.</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8h_source.html#l00105">BasicBlock.h:105</a></div></div>
<div class="ttc" id="aBasicAliasAnalysis_8cpp_html_a2675de1d8479c7b00387979714da43f7"><div class="ttname"><a href="BasicAliasAnalysis_8cpp.html#a2675de1d8479c7b00387979714da43f7">getParent</a></div><div class="ttdeci">static const Function * getParent(const Value *V)</div><div class="ttdef"><b>Definition:</b> <a href="BasicAliasAnalysis_8cpp_source.html#l00806">BasicAliasAnalysis.cpp:806</a></div></div>
<div class="ttc" id="aclassuint32__t_html"><div class="ttname"><a href="classuint32__t.html">uint32_t</a></div></div>
<div class="ttc" id="anamespacellvm_html_a39d3d23a084c4544ee5903203db10e8a"><div class="ttname"><a href="namespacellvm.html#a39d3d23a084c4544ee5903203db10e8a">llvm::append_range</a></div><div class="ttdeci">void append_range(Container &amp;C, Range &amp;&amp;R)</div><div class="ttdoc">Wrapper function to append a range to a container.</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l02014">STLExtras.h:2014</a></div></div>
<div class="ttc" id="aCommandLine_8h_html_a187fd767976b311c09dff5e05ac0c1bc"><div class="ttname"><a href="CommandLine_8h.html#a187fd767976b311c09dff5e05ac0c1bc">clEnumValN</a></div><div class="ttdeci">#define clEnumValN(ENUMVAL, FLAGNAME, DESC)</div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00678">CommandLine.h:678</a></div></div>
<div class="ttc" id="alib_2Target_2ARM_2README_8txt_html_a1b45f45820a60c09244a87eb59824aec"><div class="ttname"><a href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a></div><div class="ttdeci">add sub stmia L5 ldr r0 bl L_printf $stub Instead of a and a wouldn t it be better to do three moves *Return an aggregate type is even return S</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2ARM_2README_8txt_source.html#l00210">README.txt:210</a></div></div>
<div class="ttc" id="aCallPromotionUtils_8h_html"><div class="ttname"><a href="CallPromotionUtils_8h.html">CallPromotionUtils.h</a></div></div>
<div class="ttc" id="anamespacellvm_html_aece951c826ceca9caa27c444dfaa9193"><div class="ttname"><a href="namespacellvm.html#aece951c826ceca9caa27c444dfaa9193">llvm::TypeIdCompatibleVtableInfo</a></div><div class="ttdeci">std::vector&lt; TypeIdOffsetVtableInfo &gt; TypeIdCompatibleVtableInfo</div><div class="ttdoc">List of vtable definitions decorated by a particular type identifier, and their corresponding offsets...</div><div class="ttdef"><b>Definition:</b> <a href="ModuleSummaryIndex_8h_source.html#l01195">ModuleSummaryIndex.h:1195</a></div></div>
<div class="ttc" id="aWholeProgramDevirt_8cpp_html_a0e65aef39009b683d7acb5884ae47421a178e499decd0c21272bc34e4b3056eab"><div class="ttname"><a href="WholeProgramDevirt_8cpp.html#a0e65aef39009b683d7acb5884ae47421a178e499decd0c21272bc34e4b3056eab">Trap</a></div><div class="ttdeci">@ Trap</div><div class="ttdef"><b>Definition:</b> <a href="WholeProgramDevirt_8cpp_source.html#l00180">WholeProgramDevirt.cpp:180</a></div></div>
<div class="ttc" id="astructllvm_1_1TypeTestResolution_html_a66ff82a2443a6f422cd95843084564f6"><div class="ttname"><a href="structllvm_1_1TypeTestResolution.html#a66ff82a2443a6f422cd95843084564f6">llvm::TypeTestResolution::TheKind</a></div><div class="ttdeci">enum llvm::TypeTestResolution::Kind TheKind</div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_adb5c319f5905c1d3ca9eb5df546388c5"><div class="ttname"><a href="classllvm_1_1Value.html#adb5c319f5905c1d3ca9eb5df546388c5">llvm::Value::getName</a></div><div class="ttdeci">StringRef getName() const</div><div class="ttdoc">Return a constant reference to the value's name.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8cpp_source.html#l00308">Value.cpp:308</a></div></div>
<div class="ttc" id="aclassllvm_1_1raw__fd__ostream_html"><div class="ttname"><a href="classllvm_1_1raw__fd__ostream.html">llvm::raw_fd_ostream</a></div><div class="ttdoc">A raw_ostream that writes to a file descriptor.</div><div class="ttdef"><b>Definition:</b> <a href="raw__ostream_8h_source.html#l00454">raw_ostream.h:454</a></div></div>
<div class="ttc" id="aclassllvm_1_1Constant_html_a0ebfdc2c511407c9ba517ccde6cad85f"><div class="ttname"><a href="classllvm_1_1Constant.html#a0ebfdc2c511407c9ba517ccde6cad85f">llvm::Constant::stripPointerCasts</a></div><div class="ttdeci">const Constant * stripPointerCasts() const</div><div class="ttdef"><b>Definition:</b> <a href="Constant_8h_source.html#l00213">Constant.h:213</a></div></div>
<div class="ttc" id="aSampleProfWriter_8cpp_html_ac5f3689931c7238da06ba00cf1002c62"><div class="ttname"><a href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a></div><div class="ttdeci">raw_pwrite_stream &amp; OS</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfWriter_8cpp_source.html#l00053">SampleProfWriter.cpp:53</a></div></div>
<div class="ttc" id="anamespacellvm_1_1Intrinsic_html_aefa39f6b622360ce4e947feb9f671b73"><div class="ttname"><a href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">llvm::Intrinsic::getDeclaration</a></div><div class="ttdeci">Function * getDeclaration(Module *M, ID id, ArrayRef&lt; Type * &gt; Tys=std::nullopt)</div><div class="ttdoc">Create or insert an LLVM Function declaration for an intrinsic, and return it.</div><div class="ttdef"><b>Definition:</b> <a href="Function_8cpp_source.html#l01502">Function.cpp:1502</a></div></div>
<div class="ttc" id="aAMDGPULibCalls_8cpp_html_a537c835c34f0b44b6ad2696643754390"><div class="ttname"><a href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a></div><div class="ttdeci">amdgpu Simplify well known AMD library false FunctionCallee Callee</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPULibCalls_8cpp_source.html#l00187">AMDGPULibCalls.cpp:187</a></div></div>
<div class="ttc" id="aGlobPattern_8h_html"><div class="ttname"><a href="GlobPattern_8h.html">GlobPattern.h</a></div></div>
<div class="ttc" id="astructllvm_1_1DenseMapInfo_3_01VTableSlotSummary_01_4_html_ad09107f738d6745fda7cb3ba4cfb6224"><div class="ttname"><a href="structllvm_1_1DenseMapInfo_3_01VTableSlotSummary_01_4.html#ad09107f738d6745fda7cb3ba4cfb6224">llvm::DenseMapInfo&lt; VTableSlotSummary &gt;::getTombstoneKey</a></div><div class="ttdeci">static VTableSlotSummary getTombstoneKey()</div><div class="ttdef"><b>Definition:</b> <a href="WholeProgramDevirt_8cpp_source.html#l00358">WholeProgramDevirt.cpp:358</a></div></div>
<div class="ttc" id="astructllvm_1_1WholeProgramDevirtResolution_1_1ByArg_html"><div class="ttname"><a href="structllvm_1_1WholeProgramDevirtResolution_1_1ByArg.html">llvm::WholeProgramDevirtResolution::ByArg</a></div><div class="ttdef"><b>Definition:</b> <a href="ModuleSummaryIndex_8h_source.html#l01119">ModuleSummaryIndex.h:1119</a></div></div>
<div class="ttc" id="aclassllvm_1_1FunctionSummary_html"><div class="ttname"><a href="classllvm_1_1FunctionSummary.html">llvm::FunctionSummary</a></div><div class="ttdoc">Function summary information to aid decisions and implementation of importing.</div><div class="ttdef"><b>Definition:</b> <a href="ModuleSummaryIndex_8h_source.html#l00587">ModuleSummaryIndex.h:587</a></div></div>
<div class="ttc" id="anamespacellvm_html_a4d2fd926089a58d482fb67a362e11bad"><div class="ttname"><a href="namespacellvm.html#a4d2fd926089a58d482fb67a362e11bad">llvm::createStringError</a></div><div class="ttdeci">Error createStringError(std::error_code EC, char const *Fmt, const Ts &amp;... Vals)</div><div class="ttdoc">Create formatted StringError object.</div><div class="ttdef"><b>Definition:</b> <a href="Support_2Error_8h_source.html#l01246">Error.h:1246</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantInt_html_a82dbbd8e3688b0bc1eedb338864d0d0c"><div class="ttname"><a href="classllvm_1_1ConstantInt.html#a82dbbd8e3688b0bc1eedb338864d0d0c">llvm::ConstantInt::getTrue</a></div><div class="ttdeci">static ConstantInt * getTrue(LLVMContext &amp;Context)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l00835">Constants.cpp:835</a></div></div>
<div class="ttc" id="anamespacellvm_html_a2b7d080131b5979a4b5b98080af92cb1"><div class="ttname"><a href="namespacellvm.html#a2b7d080131b5979a4b5b98080af92cb1">llvm::writeIndexToFile</a></div><div class="ttdeci">void writeIndexToFile(const ModuleSummaryIndex &amp;Index, raw_ostream &amp;Out, const std::map&lt; std::string, GVSummaryMapTy &gt; *ModuleToSummariesForIndex=nullptr)</div><div class="ttdoc">Write the specified module summary index to the given raw output stream, where it will be written in ...</div><div class="ttdef"><b>Definition:</b> <a href="BitcodeWriter_8cpp_source.html#l04925">BitcodeWriter.cpp:4925</a></div></div>
<div class="ttc" id="anamespacellvm_1_1GraphProgram_html_a0ad4685976f8c4d4a697a53fbe05d10b"><div class="ttname"><a href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">llvm::GraphProgram::Name</a></div><div class="ttdeci">Name</div><div class="ttdef"><b>Definition:</b> <a href="GraphWriter_8h_source.html#l00050">GraphWriter.h:50</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AArch64CC_html_abfa1f7dce576430da99eed57807c7f28a9f54e5976c204d779cee3d87cabf0b02"><div class="ttname"><a href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28a9f54e5976c204d779cee3d87cabf0b02">llvm::AArch64CC::VS</a></div><div class="ttdeci">@ VS</div><div class="ttdef"><b>Definition:</b> <a href="AArch64BaseInfo_8h_source.html#l00261">AArch64BaseInfo.h:261</a></div></div>
<div class="ttc" id="aclassllvm_1_1Constant_html_aa6574d526b3e38a28f688a7bb4325c2c"><div class="ttname"><a href="classllvm_1_1Constant.html#aa6574d526b3e38a28f688a7bb4325c2c">llvm::Constant::getNullValue</a></div><div class="ttdeci">static Constant * getNullValue(Type *Ty)</div><div class="ttdoc">Constructor to create a '0' constant of arbitrary type.</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l00356">Constants.cpp:356</a></div></div>
<div class="ttc" id="anamespacellvm_html_aebf1ed936ad0e792e159d7a4ae1b7f07"><div class="ttname"><a href="namespacellvm.html#aebf1ed936ad0e792e159d7a4ae1b7f07">llvm::None</a></div><div class="ttdeci">constexpr std::nullopt_t None</div><div class="ttdef"><b>Definition:</b> <a href="None_8h_source.html#l00028">None.h:28</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8148654fcf3528ef06d7a0e28b57b952"><div class="ttname"><a href="namespacellvm.html#a8148654fcf3528ef06d7a0e28b57b952">llvm::findDevirtualizableCallsForTypeCheckedLoad</a></div><div class="ttdeci">void findDevirtualizableCallsForTypeCheckedLoad(SmallVectorImpl&lt; DevirtCallSite &gt; &amp;DevirtCalls, SmallVectorImpl&lt; Instruction * &gt; &amp;LoadedPtrs, SmallVectorImpl&lt; Instruction * &gt; &amp;Preds, bool &amp;HasNonCallUses, const CallInst *CI, DominatorTree &amp;DT)</div><div class="ttdoc">Given a call to the intrinsic @llvm.type.checked.load, find all devirtualizable call sites based on t...</div><div class="ttdef"><b>Definition:</b> <a href="TypeMetadataUtils_8cpp_source.html#l00096">TypeMetadataUtils.cpp:96</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalAlias_html_a8a638534b520f72ab7f2c886da739a6c"><div class="ttname"><a href="classllvm_1_1GlobalAlias.html#a8a638534b520f72ab7f2c886da739a6c">llvm::GlobalAlias::create</a></div><div class="ttdeci">static GlobalAlias * create(Type *Ty, unsigned AddressSpace, LinkageTypes Linkage, const Twine &amp;Name, Constant *Aliasee, Module *Parent)</div><div class="ttdoc">If a parent module is specified, the alias is automatically inserted into the end of the specified mo...</div><div class="ttdef"><b>Definition:</b> <a href="Globals_8cpp_source.html#l00520">Globals.cpp:520</a></div></div>
<div class="ttc" id="aclassllvm_1_1PreservedAnalyses_html_a1258a1ff55557c27684010ebd7283712"><div class="ttname"><a href="classllvm_1_1PreservedAnalyses.html#a1258a1ff55557c27684010ebd7283712">llvm::PreservedAnalyses::all</a></div><div class="ttdeci">static PreservedAnalyses all()</div><div class="ttdoc">Construct a special preserved set that preserves all passes.</div><div class="ttdef"><b>Definition:</b> <a href="PassManager_8h_source.html#l00158">PassManager.h:158</a></div></div>
<div class="ttc" id="anamespacellvm_1_1X86_html_a86730e94ae6fdf0fe3145b2acc88dea8ac9b4c62f6dc1bc5caf3c768b687cbf7e"><div class="ttname"><a href="namespacellvm_1_1X86.html#a86730e94ae6fdf0fe3145b2acc88dea8ac9b4c62f6dc1bc5caf3c768b687cbf7e">llvm::X86::FirstMacroFusionInstKind::Cmp</a></div><div class="ttdeci">@ Cmp</div></div>
<div class="ttc" id="aclassllvm_1_1Error_html"><div class="ttname"><a href="classllvm_1_1Error.html">llvm::Error</a></div><div class="ttdoc">Lightweight error class with error context and mandatory checking.</div><div class="ttdef"><b>Definition:</b> <a href="Support_2Error_8h_source.html#l00156">Error.h:156</a></div></div>
<div class="ttc" id="aWholeProgramDevirt_8cpp_html_a5f82072adfb8567901f8e70a68ea1af7"><div class="ttname"><a href="WholeProgramDevirt_8cpp.html#a5f82072adfb8567901f8e70a68ea1af7">SkipFunctionNames</a></div><div class="ttdeci">static cl::list&lt; std::string &gt; SkipFunctionNames(&quot;wholeprogramdevirt-skip&quot;, cl::desc(&quot;Prevent function(s) from being devirtualized&quot;), cl::Hidden, cl::CommaSeparated)</div><div class="ttdoc">Provide way to prevent certain function from being devirtualized.</div></div>
<div class="ttc" id="aGlobalVariable_8h_html"><div class="ttname"><a href="GlobalVariable_8h.html">GlobalVariable.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html_a71ee7e63264e4997a3340a781d44832e"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#a71ee7e63264e4997a3340a781d44832e">llvm::GlobalValue::getGUID</a></div><div class="ttdeci">GUID getGUID() const</div><div class="ttdoc">Return a 64-bit global unique ID constructed from global value name (i.e.</div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00591">GlobalValue.h:591</a></div></div>
<div class="ttc" id="aCasting_8h_html"><div class="ttname"><a href="Casting_8h.html">Casting.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1pdb_html_a5dbb1abfb6d3c14555304f9c56703234a9234cc57c43f272b55a94b0069fe62d1"><div class="ttname"><a href="namespacellvm_1_1pdb.html#a5dbb1abfb6d3c14555304f9c56703234a9234cc57c43f272b55a94b0069fe62d1">llvm::pdb::PDB_LocType::Slot</a></div><div class="ttdeci">@ Slot</div></div>
<div class="ttc" id="aFunction_8h_html"><div class="ttname"><a href="Function_8h.html">Function.h</a></div></div>
<div class="ttc" id="anamespacellvm_html_abee0df5f7f703bb4462aba260ba0a60f"><div class="ttname"><a href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">llvm::BitWidth</a></div><div class="ttdeci">constexpr unsigned BitWidth</div><div class="ttdef"><b>Definition:</b> <a href="BitmaskEnum_8h_source.html#l00147">BitmaskEnum.h:147</a></div></div>
<div class="ttc" id="astructllvm_1_1wholeprogramdevirt_1_1VTableBits_html"><div class="ttname"><a href="structllvm_1_1wholeprogramdevirt_1_1VTableBits.html">llvm::wholeprogramdevirt::VTableBits</a></div><div class="ttdef"><b>Definition:</b> <a href="WholeProgramDevirt_8h_source.html#l00089">WholeProgramDevirt.h:89</a></div></div>
<div class="ttc" id="astructllvm_1_1WholeProgramDevirtResolution_1_1ByArg_html_ac1e46342d3d79c56fb3b498722a66f18"><div class="ttname"><a href="structllvm_1_1WholeProgramDevirtResolution_1_1ByArg.html#ac1e46342d3d79c56fb3b498722a66f18">llvm::WholeProgramDevirtResolution::ByArg::Info</a></div><div class="ttdeci">uint64_t Info</div><div class="ttdoc">Additional information for the resolution:</div><div class="ttdef"><b>Definition:</b> <a href="ModuleSummaryIndex_8h_source.html#l01131">ModuleSummaryIndex.h:1131</a></div></div>
<div class="ttc" id="astructllvm_1_1WholeProgramDevirtResolution_1_1ByArg_html_a73c235c3b51fc129ec890391feccd47ea7382e969306ae2118ae88db2a241e833"><div class="ttname"><a href="structllvm_1_1WholeProgramDevirtResolution_1_1ByArg.html#a73c235c3b51fc129ec890391feccd47ea7382e969306ae2118ae88db2a241e833">llvm::WholeProgramDevirtResolution::ByArg::VirtualConstProp</a></div><div class="ttdeci">@ VirtualConstProp</div><div class="ttdoc">Virtual constant propagation.</div><div class="ttdef"><b>Definition:</b> <a href="ModuleSummaryIndex_8h_source.html#l01124">ModuleSummaryIndex.h:1124</a></div></div>
<div class="ttc" id="astructllvm_1_1DenseMapInfo_3_01VTableSlot_01_4_html_a24348df7590289de0c324dfb6994fa1a"><div class="ttname"><a href="structllvm_1_1DenseMapInfo_3_01VTableSlot_01_4.html#a24348df7590289de0c324dfb6994fa1a">llvm::DenseMapInfo&lt; VTableSlot &gt;::getEmptyKey</a></div><div class="ttdeci">static VTableSlot getEmptyKey()</div><div class="ttdef"><b>Definition:</b> <a href="WholeProgramDevirt_8cpp_source.html#l00335">WholeProgramDevirt.cpp:335</a></div></div>
<div class="ttc" id="aclassllvm_1_1ReturnInst_html_a8c4c3b7c7daea37c75c50563654bf934"><div class="ttname"><a href="classllvm_1_1ReturnInst.html#a8c4c3b7c7daea37c75c50563654bf934">llvm::ReturnInst::Create</a></div><div class="ttdeci">static ReturnInst * Create(LLVMContext &amp;C, Value *retVal=nullptr, Instruction *InsertBefore=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l03084">Instructions.h:3084</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallBase_html_a0efb2d7a831e24212063c504045d3203"><div class="ttname"><a href="classllvm_1_1CallBase.html#a0efb2d7a831e24212063c504045d3203">llvm::CallBase::arg_empty</a></div><div class="ttdeci">bool arg_empty() const</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l01348">InstrTypes.h:1348</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallBase_html_a7ac9329ef7292ee640d87f45ce7ae05c"><div class="ttname"><a href="classllvm_1_1CallBase.html#a7ac9329ef7292ee640d87f45ce7ae05c">llvm::CallBase::getCalledOperand</a></div><div class="ttdeci">Value * getCalledOperand() const</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l01399">InstrTypes.h:1399</a></div></div>
<div class="ttc" id="aWholeProgramDevirt_8h_html"><div class="ttname"><a href="WholeProgramDevirt_8h.html">WholeProgramDevirt.h</a></div></div>
<div class="ttc" id="aGlobalAlias_8h_html"><div class="ttname"><a href="GlobalAlias_8h.html">GlobalAlias.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1codeview_html_acf5c2920c8a10eeb1d8c5d3a9c2adfb6a79ceee9f8e3c1f0cc74223e05d2448bf"><div class="ttname"><a href="namespacellvm_1_1codeview.html#acf5c2920c8a10eeb1d8c5d3a9c2adfb6a79ceee9f8e3c1f0cc74223e05d2448bf">llvm::codeview::ModifierOptions::Const</a></div><div class="ttdeci">@ Const</div></div>
<div class="ttc" id="aclassllvm_1_1CallBase_html_ad70fe60b7ed052c6a74863944b518251"><div class="ttname"><a href="classllvm_1_1CallBase.html#ad70fe60b7ed052c6a74863944b518251">llvm::CallBase::setCalledOperand</a></div><div class="ttdeci">void setCalledOperand(Value *V)</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l01442">InstrTypes.h:1442</a></div></div>
<div class="ttc" id="aclassllvm_1_1StringRef_html_a83a294111af6d4412163b209725ca556"><div class="ttname"><a href="classllvm_1_1StringRef.html#a83a294111af6d4412163b209725ca556">llvm::StringRef::contains</a></div><div class="ttdeci">bool contains(StringRef Other) const</div><div class="ttdoc">Return true if the given string is a substring of *this, and false otherwise.</div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00423">StringRef.h:423</a></div></div>
<div class="ttc" id="aclassllvm_1_1MDBuilder_html"><div class="ttname"><a href="classllvm_1_1MDBuilder.html">llvm::MDBuilder</a></div><div class="ttdef"><b>Definition:</b> <a href="MDBuilder_8h_source.html#l00036">MDBuilder.h:36</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html_aedfa75f0c85c4aa85b257f066fbea57ca6c93794d7b99cd433e96c53eadb15a6e"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#aedfa75f0c85c4aa85b257f066fbea57ca6c93794d7b99cd433e96c53eadb15a6e">llvm::GlobalValue::ExternalLinkage</a></div><div class="ttdeci">@ ExternalLinkage</div><div class="ttdoc">Externally visible function.</div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00048">GlobalValue.h:48</a></div></div>
<div class="ttc" id="aclassllvm_1_1Comdat_html_ad8e5834e05be0104c4d64a3b4edeb51b"><div class="ttname"><a href="classllvm_1_1Comdat.html#ad8e5834e05be0104c4d64a3b4edeb51b">llvm::Comdat::setSelectionKind</a></div><div class="ttdeci">void setSelectionKind(SelectionKind Val)</div><div class="ttdef"><b>Definition:</b> <a href="IR_2Comdat_8h_source.html#l00047">Comdat.h:47</a></div></div>
<div class="ttc" id="aclassllvm_1_1DominatorTreeAnalysis_html"><div class="ttname"><a href="classllvm_1_1DominatorTreeAnalysis.html">llvm::DominatorTreeAnalysis</a></div><div class="ttdoc">Analysis pass which computes a DominatorTree.</div><div class="ttdef"><b>Definition:</b> <a href="Dominators_8h_source.html#l00279">Dominators.h:279</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_a6e20e76960d952de088354cbcd14c3ab"><div class="ttname"><a href="classllvm_1_1Type.html#a6e20e76960d952de088354cbcd14c3ab">llvm::Type::getVoidTy</a></div><div class="ttdeci">static Type * getVoidTy(LLVMContext &amp;C)</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00224">Type.cpp:224</a></div></div>
<div class="ttc" id="astructllvm_1_1TypeIdSummary_html_a01d5759cee861fcfca3b26ff5927e83c"><div class="ttname"><a href="structllvm_1_1TypeIdSummary.html#a01d5759cee861fcfca3b26ff5927e83c">llvm::TypeIdSummary::WPDRes</a></div><div class="ttdeci">std::map&lt; uint64_t, WholeProgramDevirtResolution &gt; WPDRes</div><div class="ttdoc">Mapping from byte offset to whole-program devirt resolution for that (typeid, byte offset) pair.</div><div class="ttdef"><b>Definition:</b> <a href="ModuleSummaryIndex_8h_source.html#l01150">ModuleSummaryIndex.h:1150</a></div></div>
<div class="ttc" id="astructllvm_1_1WholeProgramDevirtResolution_html_a11bddbadb47e3bd7803ded5d4f4248fc"><div class="ttname"><a href="structllvm_1_1WholeProgramDevirtResolution.html#a11bddbadb47e3bd7803ded5d4f4248fc">llvm::WholeProgramDevirtResolution::TheKind</a></div><div class="ttdeci">enum llvm::WholeProgramDevirtResolution::Kind TheKind</div></div>
<div class="ttc" id="aModuleSummaryAnalysis_8cpp_html_aaeceda7c9243e01a0888f44e2f3e7ba3"><div class="ttname"><a href="ModuleSummaryAnalysis_8cpp.html#aaeceda7c9243e01a0888f44e2f3e7ba3">mustBeUnreachableFunction</a></div><div class="ttdeci">static bool mustBeUnreachableFunction(const Function &amp;F)</div><div class="ttdef"><b>Definition:</b> <a href="ModuleSummaryAnalysis_8cpp_source.html#l00246">ModuleSummaryAnalysis.cpp:246</a></div></div>
<div class="ttc" id="anamespacellvm_html_a57d2f9ee99e9e68cff564d0d579c8163"><div class="ttname"><a href="namespacellvm.html#a57d2f9ee99e9e68cff564d0d579c8163">llvm::countr_zero</a></div><div class="ttdeci">int countr_zero(T Val)</div><div class="ttdoc">Count number of 0's from the least significant bit to the most stopping at the first 1.</div><div class="ttdef"><b>Definition:</b> <a href="bit_8h_source.html#l00179">bit.h:179</a></div></div>
<div class="ttc" id="aclassllvm_1_1OptimizationRemark_html"><div class="ttname"><a href="classllvm_1_1OptimizationRemark.html">llvm::OptimizationRemark</a></div><div class="ttdoc">Diagnostic information for applied optimization remarks.</div><div class="ttdef"><b>Definition:</b> <a href="DiagnosticInfo_8h_source.html#l00689">DiagnosticInfo.h:689</a></div></div>
<div class="ttc" id="aWholeProgramDevirt_8cpp_html_aab71164459dcf6010a84f5968f1f05a5"><div class="ttname"><a href="WholeProgramDevirt_8cpp.html#aab71164459dcf6010a84f5968f1f05a5">DisableWholeProgramVisibility</a></div><div class="ttdeci">static cl::opt&lt; bool &gt; DisableWholeProgramVisibility(&quot;disable-whole-program-visibility&quot;, cl::Hidden, cl::desc(&quot;Disable whole program visibility (overrides enabling options)&quot;))</div><div class="ttdoc">Provide a way to force disable whole program for debugging or workarounds, when enabled via the linke...</div></div>
<div class="ttc" id="anamespacellvm_html_a2c35a79774d2952408b854ec6fef10f3"><div class="ttname"><a href="namespacellvm.html#a2c35a79774d2952408b854ec6fef10f3">llvm::errorOrToExpected</a></div><div class="ttdeci">Expected&lt; T &gt; errorOrToExpected(ErrorOr&lt; T &gt; &amp;&amp;EO)</div><div class="ttdoc">Convert an ErrorOr&lt;T&gt; to an Expected&lt;T&gt;.</div><div class="ttdef"><b>Definition:</b> <a href="Support_2Error_8h_source.html#l01186">Error.h:1186</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html_aedfa75f0c85c4aa85b257f066fbea57ca04ed141708c0fd16723d212502b046ae"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#aedfa75f0c85c4aa85b257f066fbea57ca04ed141708c0fd16723d212502b046ae">llvm::GlobalValue::PrivateLinkage</a></div><div class="ttdeci">@ PrivateLinkage</div><div class="ttdoc">Like Internal, but omit from symbol table.</div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00056">GlobalValue.h:56</a></div></div>
<div class="ttc" id="aInstructions_8h_html"><div class="ttname"><a href="Instructions_8h.html">Instructions.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1pdb_html_a81a0fae24e6bdfe240da4249a8da5978a6a061313d22e51e0f25b7cd4dc065233"><div class="ttname"><a href="namespacellvm_1_1pdb.html#a81a0fae24e6bdfe240da4249a8da5978a6a061313d22e51e0f25b7cd4dc065233">llvm::pdb::DbgHeaderType::Max</a></div><div class="ttdeci">@ Max</div></div>
<div class="ttc" id="astructllvm_1_1TypeIdSummary_html_a80bc0b8f2041f3a3839f393f1a6aae33"><div class="ttname"><a href="structllvm_1_1TypeIdSummary.html#a80bc0b8f2041f3a3839f393f1a6aae33">llvm::TypeIdSummary::TTRes</a></div><div class="ttdeci">TypeTestResolution TTRes</div><div class="ttdef"><b>Definition:</b> <a href="ModuleSummaryIndex_8h_source.html#l01146">ModuleSummaryIndex.h:1146</a></div></div>
<div class="ttc" id="aSmallVector_8h_html"><div class="ttname"><a href="SmallVector_8h.html">SmallVector.h</a></div></div>
<div class="ttc" id="anamespacellvm_html_a714c6f3608e37d0dba17cdc086dc16d2"><div class="ttname"><a href="namespacellvm.html#a714c6f3608e37d0dba17cdc086dc16d2">llvm::updatePublicTypeTestCalls</a></div><div class="ttdeci">void updatePublicTypeTestCalls(Module &amp;M, bool WholeProgramVisibilityEnabledInLTO)</div><div class="ttdef"><b>Definition:</b> <a href="WholeProgramDevirt_8cpp_source.html#l00804">WholeProgramDevirt.cpp:804</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html_ab4f3bf98b5054831b608852e33427814"><div class="ttname"><a href="classllvm_1_1Instruction.html#ab4f3bf98b5054831b608852e33427814">llvm::Instruction::getDebugLoc</a></div><div class="ttdeci">const DebugLoc &amp; getDebugLoc() const</div><div class="ttdoc">Return the debug location for this node as a DebugLoc.</div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8h_source.html#l00358">Instruction.h:358</a></div></div>
<div class="ttc" id="aclassllvm_1_1ModuleSummaryIndex_html"><div class="ttname"><a href="classllvm_1_1ModuleSummaryIndex.html">llvm::ModuleSummaryIndex</a></div><div class="ttdoc">Class to hold module path string table and global value map, and encapsulate methods for operating on...</div><div class="ttdef"><b>Definition:</b> <a href="ModuleSummaryIndex_8h_source.html#l01199">ModuleSummaryIndex.h:1199</a></div></div>
<div class="ttc" id="anamespacellvm_html_af9ea314c7ebcfef667f1d7b67fe09c69"><div class="ttname"><a href="namespacellvm.html#af9ea314c7ebcfef667f1d7b67fe09c69">llvm::getPointerAtOffset</a></div><div class="ttdeci">Constant * getPointerAtOffset(Constant *I, uint64_t Offset, Module &amp;M, Constant *TopLevelGlobal=nullptr)</div><div class="ttdoc">Processes a Constant recursively looking into elements of arrays, structs and expressions to find a t...</div><div class="ttdef"><b>Definition:</b> <a href="TypeMetadataUtils_8cpp_source.html#l00130">TypeMetadataUtils.cpp:130</a></div></div>
<div class="ttc" id="aclassllvm_1_1ModuleSummaryIndex_html_ab2a95e6bf06c717c20fc64f6c1e5a2fa"><div class="ttname"><a href="classllvm_1_1ModuleSummaryIndex.html#ab2a95e6bf06c717c20fc64f6c1e5a2fa">llvm::ModuleSummaryIndex::getGlobalNameForLocal</a></div><div class="ttdeci">static std::string getGlobalNameForLocal(StringRef Name, ModuleHash ModHash)</div><div class="ttdoc">Convenience method for creating a promoted global name for the given value name of a local,...</div><div class="ttdef"><b>Definition:</b> <a href="ModuleSummaryIndex_8h_source.html#l01614">ModuleSummaryIndex.h:1614</a></div></div>
<div class="ttc" id="aDominators_8h_html"><div class="ttname"><a href="Dominators_8h.html">Dominators.h</a></div></div>
<div class="ttc" id="astructllvm_1_1DenseMapInfo_3_01VTableSlot_01_4_html_ac275573a4efb8234904988c491c2a2ea"><div class="ttname"><a href="structllvm_1_1DenseMapInfo_3_01VTableSlot_01_4.html#ac275573a4efb8234904988c491c2a2ea">llvm::DenseMapInfo&lt; VTableSlot &gt;::isEqual</a></div><div class="ttdeci">static bool isEqual(const VTableSlot &amp;LHS, const VTableSlot &amp;RHS)</div><div class="ttdef"><b>Definition:</b> <a href="WholeProgramDevirt_8cpp_source.html#l00347">WholeProgramDevirt.cpp:347</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html_a1a7f07aaef6a3bee130bf0e0f0536802"><div class="ttname"><a href="classllvm_1_1Instruction.html#a1a7f07aaef6a3bee130bf0e0f0536802">llvm::Instruction::getParent</a></div><div class="ttdeci">const BasicBlock * getParent() const</div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8h_source.html#l00090">Instruction.h:90</a></div></div>
<div class="ttc" id="astructllvm_1_1DenseMapInfo_3_01VTableSlot_01_4_html_af4a2d208e6fb17c220461fd87d8b8a62"><div class="ttname"><a href="structllvm_1_1DenseMapInfo_3_01VTableSlot_01_4.html#af4a2d208e6fb17c220461fd87d8b8a62">llvm::DenseMapInfo&lt; VTableSlot &gt;::getHashValue</a></div><div class="ttdeci">static unsigned getHashValue(const VTableSlot &amp;I)</div><div class="ttdef"><b>Definition:</b> <a href="WholeProgramDevirt_8cpp_source.html#l00343">WholeProgramDevirt.cpp:343</a></div></div>
<div class="ttc" id="aclassllvm_1_1ArrayRef_html_a85ffb6531d4cda988ea81f18d4e56fb7"><div class="ttname"><a href="classllvm_1_1ArrayRef.html#a85ffb6531d4cda988ea81f18d4e56fb7">llvm::ArrayRef::size</a></div><div class="ttdeci">size_t size() const</div><div class="ttdoc">size - Get the array size.</div><div class="ttdef"><b>Definition:</b> <a href="ArrayRef_8h_source.html#l00163">ArrayRef.h:163</a></div></div>
<div class="ttc" id="aclassllvm_1_1IntegerType_html_a90b790ccb1af4ea5ccd69db4b8cd2d81"><div class="ttname"><a href="classllvm_1_1IntegerType.html#a90b790ccb1af4ea5ccd69db4b8cd2d81">llvm::IntegerType::getBitWidth</a></div><div class="ttdeci">unsigned getBitWidth() const</div><div class="ttdoc">Get the number of bits in this IntegerType.</div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00072">DerivedTypes.h:72</a></div></div>
<div class="ttc" id="anamespacellvm_1_1tgtok_html_abbc5259d649363016626e2529fabe0c5a1ef22e535a2fc701cdafaffe74fc7490"><div class="ttname"><a href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a1ef22e535a2fc701cdafaffe74fc7490">llvm::tgtok::Bit</a></div><div class="ttdeci">@ Bit</div><div class="ttdef"><b>Definition:</b> <a href="TGLexer_8h_source.html#l00050">TGLexer.h:50</a></div></div>
<div class="ttc" id="aDenseMapInfo_8h_html"><div class="ttname"><a href="DenseMapInfo_8h.html">DenseMapInfo.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallBase_html"><div class="ttname"><a href="classllvm_1_1CallBase.html">llvm::CallBase</a></div><div class="ttdoc">Base class for all callable instructions (InvokeInst and CallInst) Holds everything related to callin...</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l01184">InstrTypes.h:1184</a></div></div>
<div class="ttc" id="aDerivedTypes_8h_html"><div class="ttname"><a href="DerivedTypes_8h.html">DerivedTypes.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1AnalysisManager_html"><div class="ttname"><a href="classllvm_1_1AnalysisManager.html">llvm::AnalysisManager</a></div><div class="ttdoc">A container for analyses that lazily runs them and caches their results.</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8h_source.html#l00042">InstructionSimplify.h:42</a></div></div>
<div class="ttc" id="aPassBuilderBindings_8cpp_html_ab76052bb166c65901edb603a3e1f03ab"><div class="ttname"><a href="PassBuilderBindings_8cpp.html#ab76052bb166c65901edb603a3e1f03ab">TM</a></div><div class="ttdeci">const char LLVMTargetMachineRef TM</div><div class="ttdef"><b>Definition:</b> <a href="PassBuilderBindings_8cpp_source.html#l00047">PassBuilderBindings.cpp:47</a></div></div>
<div class="ttc" id="aclassllvm_1_1InnerAnalysisManagerProxy_html"><div class="ttname"><a href="classllvm_1_1InnerAnalysisManagerProxy.html">llvm::InnerAnalysisManagerProxy</a></div><div class="ttdoc">An analysis over an &quot;outer&quot; IR unit that provides access to an analysis manager over an &quot;inner&quot; IR un...</div><div class="ttdef"><b>Definition:</b> <a href="PassManager_8h_source.html#l00931">PassManager.h:931</a></div></div>
<div class="ttc" id="astructllvm_1_1WholeProgramDevirtResolution_html"><div class="ttname"><a href="structllvm_1_1WholeProgramDevirtResolution.html">llvm::WholeProgramDevirtResolution</a></div><div class="ttdef"><b>Definition:</b> <a href="ModuleSummaryIndex_8h_source.html#l01108">ModuleSummaryIndex.h:1108</a></div></div>
<div class="ttc" id="astructllvm_1_1wholeprogramdevirt_1_1TypeMemberInfo_html"><div class="ttname"><a href="structllvm_1_1wholeprogramdevirt_1_1TypeMemberInfo.html">llvm::wholeprogramdevirt::TypeMemberInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="WholeProgramDevirt_8h_source.html#l00107">WholeProgramDevirt.h:107</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallInst_html"><div class="ttname"><a href="classllvm_1_1CallInst.html">llvm::CallInst</a></div><div class="ttdoc">This class represents a function call, abstracting a target machine's calling convention.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01485">Instructions.h:1485</a></div></div>
<div class="ttc" id="alib_2CodeGen_2README_8txt_html_a09776db24cf586ec9f1e18f3bae14099"><div class="ttname"><a href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a></div><div class="ttdeci">Common register allocation spilling lr str ldr sxth r3 ldr mla r4 can lr mov lr str ldr sxth r3 mla r4 and then merge mul and lr str ldr sxth r3 mla r4 It also increase the likelihood the store may become dead bb27 Successors according to LLVM BB</div><div class="ttdef"><b>Definition:</b> <a href="lib_2CodeGen_2README_8txt_source.html#l00039">README.txt:39</a></div></div>
<div class="ttc" id="aHexagonCommonGEP_8cpp_html_ad532e8710e50302e0a376b61c91fa91d"><div class="ttname"><a href="HexagonCommonGEP_8cpp.html#ad532e8710e50302e0a376b61c91fa91d">GEP</a></div><div class="ttdeci">Hexagon Common GEP</div><div class="ttdef"><b>Definition:</b> <a href="HexagonCommonGEP_8cpp_source.html#l00171">HexagonCommonGEP.cpp:171</a></div></div>
<div class="ttc" id="aLLVMContext_8h_html"><div class="ttname"><a href="LLVMContext_8h.html">LLVMContext.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1DebugLoc_html"><div class="ttname"><a href="classllvm_1_1DebugLoc.html">llvm::DebugLoc</a></div><div class="ttdoc">A debug info location.</div><div class="ttdef"><b>Definition:</b> <a href="DebugLoc_8h_source.html#l00033">DebugLoc.h:33</a></div></div>
<div class="ttc" id="anamespacellvm_html_ae2aea60aed775d05692317bf4855c291"><div class="ttname"><a href="namespacellvm.html#ae2aea60aed775d05692317bf4855c291">llvm::SplitBlockAndInsertIfThen</a></div><div class="ttdeci">Instruction * SplitBlockAndInsertIfThen(Value *Cond, Instruction *SplitBefore, bool Unreachable, MDNode *BranchWeights, DominatorTree *DT, LoopInfo *LI=nullptr, BasicBlock *ThenBlock=nullptr)</div><div class="ttdoc">Split the containing block at the specified instruction - everything before SplitBefore stays in the ...</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlockUtils_8cpp_source.html#l01542">BasicBlockUtils.cpp:1542</a></div></div>
<div class="ttc" id="anamespacellvm_html_a5539cdf767bc394f56b5b8374c6b17d3"><div class="ttname"><a href="namespacellvm.html#a5539cdf767bc394f56b5b8374c6b17d3">llvm::hasWholeProgramVisibility</a></div><div class="ttdeci">bool hasWholeProgramVisibility(bool WholeProgramVisibilityEnabledInLTO)</div><div class="ttdef"><b>Definition:</b> <a href="WholeProgramDevirt_8cpp_source.html#l00778">WholeProgramDevirt.cpp:778</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_a5e9e1c0dd93557be1b4ad72860f3cbda"><div class="ttname"><a href="classllvm_1_1Type.html#a5e9e1c0dd93557be1b4ad72860f3cbda">llvm::Type::TypeID</a></div><div class="ttdeci">TypeID</div><div class="ttdoc">Definitions of all of the base types for the Type system.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00054">Type.h:54</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key_html_a1958a762261549463a280bac3274d6d5"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">llvm::AMDGPU::HSAMD::Kernel::Key::Args</a></div><div class="ttdeci">constexpr char Args[]</div><div class="ttdoc">Key for Kernel::Metadata::mArgs.</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUMetadata_8h_source.html#l00394">AMDGPUMetadata.h:394</a></div></div>
<div class="ttc" id="aWholeProgramDevirt_8cpp_html_a0e65aef39009b683d7acb5884ae47421"><div class="ttname"><a href="WholeProgramDevirt_8cpp.html#a0e65aef39009b683d7acb5884ae47421">WPDCheckMode</a></div><div class="ttdeci">WPDCheckMode</div><div class="ttdoc">Mechanism to add runtime checking of devirtualization decisions, optionally trapping or falling back ...</div><div class="ttdef"><b>Definition:</b> <a href="WholeProgramDevirt_8cpp_source.html#l00180">WholeProgramDevirt.cpp:180</a></div></div>
<div class="ttc" id="astructllvm_1_1cl_1_1desc_html"><div class="ttname"><a href="structllvm_1_1cl_1_1desc.html">llvm::cl::desc</a></div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00411">CommandLine.h:411</a></div></div>
<div class="ttc" id="aBitcodeReader_8h_html"><div class="ttname"><a href="BitcodeReader_8h.html">BitcodeReader.h</a></div></div>
<div class="ttc" id="aBasicBlockUtils_8h_html"><div class="ttname"><a href="BasicBlockUtils_8h.html">BasicBlockUtils.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1pdb_html_a33e853ec74d48b1340d1d4bae772d30bae1e4c8c9ccd9fc39c391da4bcd093fb2"><div class="ttname"><a href="namespacellvm_1_1pdb.html#a33e853ec74d48b1340d1d4bae772d30bae1e4c8c9ccd9fc39c391da4bcd093fb2">llvm::pdb::PDB_SymType::Block</a></div><div class="ttdeci">@ Block</div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html_aa242d8ab89216c14beab812e07009b2a"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#aa242d8ab89216c14beab812e07009b2a">llvm::GlobalValue::setVisibility</a></div><div class="ttdeci">void setVisibility(VisibilityTypes V)</div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00250">GlobalValue.h:250</a></div></div>
<div class="ttc" id="aInitializePasses_8h_html"><div class="ttname"><a href="InitializePasses_8h.html">InitializePasses.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1OptimizationRemarkEmitterAnalysis_html"><div class="ttname"><a href="classllvm_1_1OptimizationRemarkEmitterAnalysis.html">llvm::OptimizationRemarkEmitterAnalysis</a></div><div class="ttdef"><b>Definition:</b> <a href="OptimizationRemarkEmitter_8h_source.html#l00164">OptimizationRemarkEmitter.h:164</a></div></div>
<div class="ttc" id="astructllvm_1_1WholeProgramDevirtResolution_1_1ByArg_html_a74a555cfcbd8d83cdbf785f01b88be68"><div class="ttname"><a href="structllvm_1_1WholeProgramDevirtResolution_1_1ByArg.html#a74a555cfcbd8d83cdbf785f01b88be68">llvm::WholeProgramDevirtResolution::ByArg::Bit</a></div><div class="ttdeci">uint32_t Bit</div><div class="ttdef"><b>Definition:</b> <a href="ModuleSummaryIndex_8h_source.html#l01137">ModuleSummaryIndex.h:1137</a></div></div>
<div class="ttc" id="aclassllvm_1_1FunctionType_html_ac453ad79a3d50950bac79bc9dff85918"><div class="ttname"><a href="classllvm_1_1FunctionType.html#ac453ad79a3d50950bac79bc9dff85918">llvm::FunctionType::getReturnType</a></div><div class="ttdeci">Type * getReturnType() const</div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00124">DerivedTypes.h:124</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html"><div class="ttname"><a href="classllvm_1_1Value.html">llvm::Value</a></div><div class="ttdoc">LLVM Value Representation.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00074">Value.h:74</a></div></div>
<div class="ttc" id="aFunctionAttrs_8h_html"><div class="ttname"><a href="FunctionAttrs_8h.html">FunctionAttrs.h</a></div></div>
<div class="ttc" id="aWholeProgramDevirt_8cpp_html_aaf0cd70cef0167d0914961b3ea9b72b9"><div class="ttname"><a href="WholeProgramDevirt_8cpp.html#aaf0cd70cef0167d0914961b3ea9b72b9">ClThreshold</a></div><div class="ttdeci">static cl::opt&lt; unsigned &gt; ClThreshold(&quot;wholeprogramdevirt-branch-funnel-threshold&quot;, cl::Hidden, cl::init(10), cl::desc(&quot;Maximum number of call targets per &quot; &quot;call site to enable branch funnels&quot;))</div></div>
<div class="ttc" id="aclassllvm_1_1GlobalObject_html_ab0fc6ae566ff5de33790f565a2abe49aa1813ba0b69ff32dfebfbf5d134d0ed95"><div class="ttname"><a href="classllvm_1_1GlobalObject.html#ab0fc6ae566ff5de33790f565a2abe49aa1813ba0b69ff32dfebfbf5d134d0ed95">llvm::GlobalObject::VCallVisibilityLinkageUnit</a></div><div class="ttdeci">@ VCallVisibilityLinkageUnit</div><div class="ttdef"><b>Definition:</b> <a href="GlobalObject_8h_source.html#l00037">GlobalObject.h:37</a></div></div>
<div class="ttc" id="anamespacellvm_html_af88f364cd09c715e8853a1027c7180ef"><div class="ttname"><a href="namespacellvm.html#af88f364cd09c715e8853a1027c7180ef">llvm::findDevirtualizableCallsForTypeTest</a></div><div class="ttdeci">void findDevirtualizableCallsForTypeTest(SmallVectorImpl&lt; DevirtCallSite &gt; &amp;DevirtCalls, SmallVectorImpl&lt; CallInst * &gt; &amp;Assumes, const CallInst *CI, DominatorTree &amp;DT)</div><div class="ttdoc">Given a call to the intrinsic @llvm.type.test, find all devirtualizable call sites based on the call ...</div><div class="ttdef"><b>Definition:</b> <a href="TypeMetadataUtils_8cpp_source.html#l00074">TypeMetadataUtils.cpp:74</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallBase_html_ac63dbb4994494c46f025715272cdb81e"><div class="ttname"><a href="classllvm_1_1CallBase.html#ac63dbb4994494c46f025715272cdb81e">llvm::CallBase::args</a></div><div class="ttdeci">iterator_range&lt; User::op_iterator &gt; args()</div><div class="ttdoc">Iteration adapter for range-for loops.</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l01342">InstrTypes.h:1342</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallBase_html_a0851b4de29686e9c3918449b054cfada"><div class="ttname"><a href="classllvm_1_1CallBase.html#a0851b4de29686e9c3918449b054cfada">llvm::CallBase::setCallingConv</a></div><div class="ttdeci">void setCallingConv(CallingConv::ID CC)</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l01469">InstrTypes.h:1469</a></div></div>
<div class="ttc" id="aclassllvm_1_1FunctionType_html"><div class="ttname"><a href="classllvm_1_1FunctionType.html">llvm::FunctionType</a></div><div class="ttdoc">Class to represent function types.</div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00103">DerivedTypes.h:103</a></div></div>
<div class="ttc" id="aclassllvm_1_1Use_html"><div class="ttname"><a href="classllvm_1_1Use.html">llvm::Use</a></div><div class="ttdoc">A Use represents the edge between a Value definition and its users.</div><div class="ttdef"><b>Definition:</b> <a href="Use_8h_source.html#l00043">Use.h:43</a></div></div>
<div class="ttc" id="aclassllvm_1_1Function_html_a969eb757b1e43b455d4a8d0f603e695b"><div class="ttname"><a href="classllvm_1_1Function.html#a969eb757b1e43b455d4a8d0f603e695b">llvm::Function::size</a></div><div class="ttdeci">size_t size() const</div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00756">Function.h:756</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallPtrSetImpl_html_a6bc6fb89fe2e91c25559a8631f56e27e"><div class="ttname"><a href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">llvm::SmallPtrSetImpl::insert</a></div><div class="ttdeci">std::pair&lt; iterator, bool &gt; insert(PtrType Ptr)</div><div class="ttdoc">Inserts Ptr if and only if there is no element in the container equal to Ptr.</div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00365">SmallPtrSet.h:365</a></div></div>
<div class="ttc" id="aclassllvm_1_1PoisonValue_html_a1bf08613fb664a2e377a9a72c59a6b66"><div class="ttname"><a href="classllvm_1_1PoisonValue.html#a1bf08613fb664a2e377a9a72c59a6b66">llvm::PoisonValue::get</a></div><div class="ttdeci">static PoisonValue * get(Type *T)</div><div class="ttdoc">Static factory methods - Return an 'poison' object of the specified type.</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l01759">Constants.cpp:1759</a></div></div>
<div class="ttc" id="aclassllvm_1_1ModuleSummaryIndex_html_a46016ac4cd1bf8dd3e4554419a5addfc"><div class="ttname"><a href="classllvm_1_1ModuleSummaryIndex.html#a46016ac4cd1bf8dd3e4554419a5addfc">llvm::ModuleSummaryIndex::getRegularLTOModuleName</a></div><div class="ttdeci">static constexpr const char * getRegularLTOModuleName()</div><div class="ttdef"><b>Definition:</b> <a href="ModuleSummaryIndex_8h_source.html#l01311">ModuleSummaryIndex.h:1311</a></div></div>
<div class="ttc" id="aclassllvm_1_1cl_1_1list_html"><div class="ttname"><a href="classllvm_1_1cl_1_1list.html">llvm::cl::list</a></div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l01646">CommandLine.h:1646</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Aug 7 2023 10:27:16 for LLVM by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
