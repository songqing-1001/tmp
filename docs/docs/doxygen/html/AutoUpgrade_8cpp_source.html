<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LLVM: lib/IR/AutoUpgrade.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LLVM
   &#160;<span id="projectnumber">17.0.0git</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_bfcfa2223a05221bedc89835a6573260.html">IR</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">AutoUpgrade.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="AutoUpgrade_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//===-- AutoUpgrade.cpp - Implement auto-upgrade helper functions ---------===//</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// Part of the LLVM Project, under the Apache License v2.0 with LLVM Exceptions.</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">// See https://llvm.org/LICENSE.txt for license information.</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// SPDX-License-Identifier: Apache-2.0 WITH LLVM-exception</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">// This file implements the auto-upgrade helper functions.</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">// This is where deprecated IR intrinsics and other IR features are updated to</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">// current specifications.</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160; </div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="AutoUpgrade_8h.html">llvm/IR/AutoUpgrade.h</a>&quot;</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="StringSwitch_8h.html">llvm/ADT/StringSwitch.h</a>&quot;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Constants_8h.html">llvm/IR/Constants.h</a>&quot;</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="IR_2DebugInfo_8h.html">llvm/IR/DebugInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DiagnosticInfo_8h.html">llvm/IR/DiagnosticInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Function_8h.html">llvm/IR/Function.h</a>&quot;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="IRBuilder_8h.html">llvm/IR/IRBuilder.h</a>&quot;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="InstVisitor_8h.html">llvm/IR/InstVisitor.h</a>&quot;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="IR_2Instruction_8h.html">llvm/IR/Instruction.h</a>&quot;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="IntrinsicInst_8h.html">llvm/IR/IntrinsicInst.h</a>&quot;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Intrinsics_8h.html">llvm/IR/Intrinsics.h</a>&quot;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;llvm/IR/IntrinsicsAArch64.h&quot;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;llvm/IR/IntrinsicsARM.h&quot;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;llvm/IR/IntrinsicsX86.h&quot;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="LLVMContext_8h.html">llvm/IR/LLVMContext.h</a>&quot;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Module_8h.html">llvm/IR/Module.h</a>&quot;</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Verifier_8h.html">llvm/IR/Verifier.h</a>&quot;</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Support_2ErrorHandling_8h.html">llvm/Support/ErrorHandling.h</a>&quot;</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Regex_8h.html">llvm/Support/Regex.h</a>&quot;</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Triple_8h.html">llvm/TargetParser/Triple.h</a>&quot;</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &lt;cstring&gt;</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacellvm.html">llvm</a>;</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160; </div>
<div class="line"><a name="l00038"></a><span class="lineno"><a class="line" href="AutoUpgrade_8cpp.html#ac03fa12298f2b2ef59db774839aa630f">   38</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="AutoUpgrade_8cpp.html#ac03fa12298f2b2ef59db774839aa630f">rename</a>(<a class="code" href="classllvm_1_1GlobalValue.html">GlobalValue</a> *GV) { GV-&gt;<a class="code" href="classllvm_1_1Value.html#a35ee267850af7c235474a8c46c7ac5af">setName</a>(GV-&gt;<a class="code" href="classllvm_1_1Value.html#adb5c319f5905c1d3ca9eb5df546388c5">getName</a>() + <span class="stringliteral">&quot;.old&quot;</span>); }</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160; </div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="comment">// Upgrade the declarations of the SSE4.1 ptest intrinsics whose arguments have</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="comment">// changed their type from v4f32 to v2i64.</span></div>
<div class="line"><a name="l00042"></a><span class="lineno"><a class="line" href="AutoUpgrade_8cpp.html#a0f32cc86b7ef9e28dc19685e6b28b1d1">   42</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="AutoUpgrade_8cpp.html#a0f32cc86b7ef9e28dc19685e6b28b1d1">UpgradePTESTIntrinsic</a>(<a class="code" href="classllvm_1_1Function.html">Function</a>* <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, <a class="code" href="namespacellvm_1_1Intrinsic.html#a80add6b3b1cdaec560907995127adc16">Intrinsic::ID</a> IID,</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;                                  <a class="code" href="classllvm_1_1Function.html">Function</a> *&amp;NewFn) {</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;  <span class="comment">// Check whether this is an old version of the function, which received</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;  <span class="comment">// v4f32 arguments.</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *Arg0Type = <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getFunctionType()-&gt;getParamType(0);</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;  <span class="keywordflow">if</span> (Arg0Type != <a class="code" href="classllvm_1_1FixedVectorType.html#af9a870d5df50fe0133a410b7c9114c80">FixedVectorType::get</a>(<a class="code" href="classllvm_1_1Type.html#ad5e0fe0efdd88f98a5b5eb512d5351c2">Type::getFloatTy</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getContext()), 4))</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160; </div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;  <span class="comment">// Yes, it&#39;s old, replace it with new version.</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;  <a class="code" href="AutoUpgrade_8cpp.html#ac03fa12298f2b2ef59db774839aa630f">rename</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;  NewFn = <a class="code" href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">Intrinsic::getDeclaration</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getParent(), IID);</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;}</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160; </div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="comment">// Upgrade the declarations of intrinsic functions whose 8-bit immediate mask</span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="comment">// arguments have changed their type from i32 to i8.</span></div>
<div class="line"><a name="l00058"></a><span class="lineno"><a class="line" href="AutoUpgrade_8cpp.html#a83de8b7abeb3720f57ce5bb604614e63">   58</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="AutoUpgrade_8cpp.html#a83de8b7abeb3720f57ce5bb604614e63">UpgradeX86IntrinsicsWith8BitMask</a>(<a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, <a class="code" href="namespacellvm_1_1Intrinsic.html#a80add6b3b1cdaec560907995127adc16">Intrinsic::ID</a> IID,</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;                                             <a class="code" href="classllvm_1_1Function.html">Function</a> *&amp;NewFn) {</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;  <span class="comment">// Check that the last argument is an i32.</span></div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *LastArgType = <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getFunctionType()-&gt;getParamType(</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;     <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getFunctionType()-&gt;getNumParams() - 1);</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;  <span class="keywordflow">if</span> (!LastArgType-&gt;<a class="code" href="classllvm_1_1Type.html#ac6d28a9b11139182134a9618028a0d07">isIntegerTy</a>(32))</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160; </div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;  <span class="comment">// Move this function aside and map down.</span></div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;  <a class="code" href="AutoUpgrade_8cpp.html#ac03fa12298f2b2ef59db774839aa630f">rename</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;  NewFn = <a class="code" href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">Intrinsic::getDeclaration</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getParent(), IID);</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;}</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160; </div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="comment">// Upgrade the declaration of fp compare intrinsics that change return type</span></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="comment">// from scalar to vXi1 mask.</span></div>
<div class="line"><a name="l00074"></a><span class="lineno"><a class="line" href="AutoUpgrade_8cpp.html#a496d349b63e703d1466e7dea54746222">   74</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="AutoUpgrade_8cpp.html#a496d349b63e703d1466e7dea54746222">UpgradeX86MaskedFPCompare</a>(<a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, <a class="code" href="namespacellvm_1_1Intrinsic.html#a80add6b3b1cdaec560907995127adc16">Intrinsic::ID</a> IID,</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;                                      <a class="code" href="classllvm_1_1Function.html">Function</a> *&amp;NewFn) {</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;  <span class="comment">// Check if the return type is a vector.</span></div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getReturnType()-&gt;isVectorTy())</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160; </div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;  <a class="code" href="AutoUpgrade_8cpp.html#ac03fa12298f2b2ef59db774839aa630f">rename</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;  NewFn = <a class="code" href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">Intrinsic::getDeclaration</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getParent(), IID);</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;}</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160; </div>
<div class="line"><a name="l00085"></a><span class="lineno"><a class="line" href="AutoUpgrade_8cpp.html#a3d01e2a7400aef4c068c8efabfbd5273">   85</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="AutoUpgrade_8cpp.html#a3d01e2a7400aef4c068c8efabfbd5273">UpgradeX86BF16Intrinsic</a>(<a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, <a class="code" href="namespacellvm_1_1Intrinsic.html#a80add6b3b1cdaec560907995127adc16">Intrinsic::ID</a> IID,</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;                                    <a class="code" href="classllvm_1_1Function.html">Function</a> *&amp;NewFn) {</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getReturnType()-&gt;getScalarType()-&gt;isBFloatTy())</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160; </div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;  <a class="code" href="AutoUpgrade_8cpp.html#ac03fa12298f2b2ef59db774839aa630f">rename</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;  NewFn = <a class="code" href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">Intrinsic::getDeclaration</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getParent(), IID);</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;}</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160; </div>
<div class="line"><a name="l00095"></a><span class="lineno"><a class="line" href="AutoUpgrade_8cpp.html#ae5383b17ad4db3db85c32605138edf2e">   95</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="AutoUpgrade_8cpp.html#ae5383b17ad4db3db85c32605138edf2e">UpgradeX86BF16DPIntrinsic</a>(<a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, <a class="code" href="namespacellvm_1_1Intrinsic.html#a80add6b3b1cdaec560907995127adc16">Intrinsic::ID</a> IID,</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;                                      <a class="code" href="classllvm_1_1Function.html">Function</a> *&amp;NewFn) {</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getFunctionType()-&gt;getParamType(1)-&gt;getScalarType()-&gt;isBFloatTy())</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160; </div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;  <a class="code" href="AutoUpgrade_8cpp.html#ac03fa12298f2b2ef59db774839aa630f">rename</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;  NewFn = <a class="code" href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">Intrinsic::getDeclaration</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getParent(), IID);</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;}</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160; </div>
<div class="line"><a name="l00105"></a><span class="lineno"><a class="line" href="AutoUpgrade_8cpp.html#ad81a5e7d072d3285ed58e9e81798bd82">  105</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="AutoUpgrade_8cpp.html#ad81a5e7d072d3285ed58e9e81798bd82">ShouldUpgradeX86Intrinsic</a>(<a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> Name) {</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;  <span class="comment">// All of the intrinsics matches below should be marked with which llvm</span></div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;  <span class="comment">// version started autoupgrading them. At some point in the future we would</span></div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;  <span class="comment">// like to use this information to remove upgrade code for some older</span></div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;  <span class="comment">// intrinsics. It is currently undecided how we will determine that future</span></div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;  <span class="comment">// point.</span></div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;  <span class="keywordflow">if</span> (Name == <span class="stringliteral">&quot;addcarryx.u32&quot;</span> || <span class="comment">// Added in 8.0</span></div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;      Name == <span class="stringliteral">&quot;addcarryx.u64&quot;</span> || <span class="comment">// Added in 8.0</span></div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;      Name == <span class="stringliteral">&quot;addcarry.u32&quot;</span> || <span class="comment">// Added in 8.0</span></div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;      Name == <span class="stringliteral">&quot;addcarry.u64&quot;</span> || <span class="comment">// Added in 8.0</span></div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;      Name == <span class="stringliteral">&quot;subborrow.u32&quot;</span> || <span class="comment">// Added in 8.0</span></div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;      Name == <span class="stringliteral">&quot;subborrow.u64&quot;</span> || <span class="comment">// Added in 8.0</span></div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;      Name.startswith(<span class="stringliteral">&quot;sse2.padds.&quot;</span>) || <span class="comment">// Added in 8.0</span></div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;      Name.startswith(<span class="stringliteral">&quot;sse2.psubs.&quot;</span>) || <span class="comment">// Added in 8.0</span></div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;      Name.startswith(<span class="stringliteral">&quot;sse2.paddus.&quot;</span>) || <span class="comment">// Added in 8.0</span></div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;      Name.startswith(<span class="stringliteral">&quot;sse2.psubus.&quot;</span>) || <span class="comment">// Added in 8.0</span></div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx2.padds.&quot;</span>) || <span class="comment">// Added in 8.0</span></div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx2.psubs.&quot;</span>) || <span class="comment">// Added in 8.0</span></div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx2.paddus.&quot;</span>) || <span class="comment">// Added in 8.0</span></div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx2.psubus.&quot;</span>) || <span class="comment">// Added in 8.0</span></div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.padds.&quot;</span>) || <span class="comment">// Added in 8.0</span></div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.psubs.&quot;</span>) || <span class="comment">// Added in 8.0</span></div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.padds.&quot;</span>) || <span class="comment">// Added in 8.0</span></div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.psubs.&quot;</span>) || <span class="comment">// Added in 8.0</span></div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.paddus.&quot;</span>) || <span class="comment">// Added in 8.0</span></div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.psubus.&quot;</span>) || <span class="comment">// Added in 8.0</span></div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;      Name==<span class="stringliteral">&quot;ssse3.pabs.b.128&quot;</span> || <span class="comment">// Added in 6.0</span></div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;      Name==<span class="stringliteral">&quot;ssse3.pabs.w.128&quot;</span> || <span class="comment">// Added in 6.0</span></div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;      Name==<span class="stringliteral">&quot;ssse3.pabs.d.128&quot;</span> || <span class="comment">// Added in 6.0</span></div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;      Name.startswith(<span class="stringliteral">&quot;fma4.vfmadd.s&quot;</span>) || <span class="comment">// Added in 7.0</span></div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;      Name.startswith(<span class="stringliteral">&quot;fma.vfmadd.&quot;</span>) || <span class="comment">// Added in 7.0</span></div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;      Name.startswith(<span class="stringliteral">&quot;fma.vfmsub.&quot;</span>) || <span class="comment">// Added in 7.0</span></div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;      Name.startswith(<span class="stringliteral">&quot;fma.vfmsubadd.&quot;</span>) || <span class="comment">// Added in 7.0</span></div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;      Name.startswith(<span class="stringliteral">&quot;fma.vfnmadd.&quot;</span>) || <span class="comment">// Added in 7.0</span></div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;      Name.startswith(<span class="stringliteral">&quot;fma.vfnmsub.&quot;</span>) || <span class="comment">// Added in 7.0</span></div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.vfmadd.&quot;</span>) || <span class="comment">// Added in 7.0</span></div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.vfnmadd.&quot;</span>) || <span class="comment">// Added in 7.0</span></div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.vfnmsub.&quot;</span>) || <span class="comment">// Added in 7.0</span></div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask3.vfmadd.&quot;</span>) || <span class="comment">// Added in 7.0</span></div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.maskz.vfmadd.&quot;</span>) || <span class="comment">// Added in 7.0</span></div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask3.vfmsub.&quot;</span>) || <span class="comment">// Added in 7.0</span></div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask3.vfnmsub.&quot;</span>) || <span class="comment">// Added in 7.0</span></div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.vfmaddsub.&quot;</span>) || <span class="comment">// Added in 7.0</span></div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.maskz.vfmaddsub.&quot;</span>) || <span class="comment">// Added in 7.0</span></div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask3.vfmaddsub.&quot;</span>) || <span class="comment">// Added in 7.0</span></div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask3.vfmsubadd.&quot;</span>) || <span class="comment">// Added in 7.0</span></div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.shuf.i&quot;</span>) || <span class="comment">// Added in 6.0</span></div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.shuf.f&quot;</span>) || <span class="comment">// Added in 6.0</span></div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.kunpck&quot;</span>) || <span class="comment">//added in 6.0</span></div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx2.pabs.&quot;</span>) || <span class="comment">// Added in 6.0</span></div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.pabs.&quot;</span>) || <span class="comment">// Added in 6.0</span></div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.broadcastm&quot;</span>) || <span class="comment">// Added in 6.0</span></div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;      Name == <span class="stringliteral">&quot;sse.sqrt.ss&quot;</span> || <span class="comment">// Added in 7.0</span></div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;      Name == <span class="stringliteral">&quot;sse2.sqrt.sd&quot;</span> || <span class="comment">// Added in 7.0</span></div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.sqrt.p&quot;</span>) || <span class="comment">// Added in 7.0</span></div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx.sqrt.p&quot;</span>) || <span class="comment">// Added in 7.0</span></div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;      Name.startswith(<span class="stringliteral">&quot;sse2.sqrt.p&quot;</span>) || <span class="comment">// Added in 7.0</span></div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;      Name.startswith(<span class="stringliteral">&quot;sse.sqrt.p&quot;</span>) || <span class="comment">// Added in 7.0</span></div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.pbroadcast&quot;</span>) || <span class="comment">// Added in 6.0</span></div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;      Name.startswith(<span class="stringliteral">&quot;sse2.pcmpeq.&quot;</span>) || <span class="comment">// Added in 3.1</span></div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;      Name.startswith(<span class="stringliteral">&quot;sse2.pcmpgt.&quot;</span>) || <span class="comment">// Added in 3.1</span></div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx2.pcmpeq.&quot;</span>) || <span class="comment">// Added in 3.1</span></div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx2.pcmpgt.&quot;</span>) || <span class="comment">// Added in 3.1</span></div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.pcmpeq.&quot;</span>) || <span class="comment">// Added in 3.9</span></div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.pcmpgt.&quot;</span>) || <span class="comment">// Added in 3.9</span></div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx.vperm2f128.&quot;</span>) || <span class="comment">// Added in 6.0</span></div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;      Name == <span class="stringliteral">&quot;avx2.vperm2i128&quot;</span> || <span class="comment">// Added in 6.0</span></div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;      Name == <span class="stringliteral">&quot;sse.add.ss&quot;</span> || <span class="comment">// Added in 4.0</span></div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;      Name == <span class="stringliteral">&quot;sse2.add.sd&quot;</span> || <span class="comment">// Added in 4.0</span></div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;      Name == <span class="stringliteral">&quot;sse.sub.ss&quot;</span> || <span class="comment">// Added in 4.0</span></div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;      Name == <span class="stringliteral">&quot;sse2.sub.sd&quot;</span> || <span class="comment">// Added in 4.0</span></div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;      Name == <span class="stringliteral">&quot;sse.mul.ss&quot;</span> || <span class="comment">// Added in 4.0</span></div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;      Name == <span class="stringliteral">&quot;sse2.mul.sd&quot;</span> || <span class="comment">// Added in 4.0</span></div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;      Name == <span class="stringliteral">&quot;sse.div.ss&quot;</span> || <span class="comment">// Added in 4.0</span></div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;      Name == <span class="stringliteral">&quot;sse2.div.sd&quot;</span> || <span class="comment">// Added in 4.0</span></div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;      Name == <span class="stringliteral">&quot;sse41.pmaxsb&quot;</span> || <span class="comment">// Added in 3.9</span></div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;      Name == <span class="stringliteral">&quot;sse2.pmaxs.w&quot;</span> || <span class="comment">// Added in 3.9</span></div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;      Name == <span class="stringliteral">&quot;sse41.pmaxsd&quot;</span> || <span class="comment">// Added in 3.9</span></div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;      Name == <span class="stringliteral">&quot;sse2.pmaxu.b&quot;</span> || <span class="comment">// Added in 3.9</span></div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;      Name == <span class="stringliteral">&quot;sse41.pmaxuw&quot;</span> || <span class="comment">// Added in 3.9</span></div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;      Name == <span class="stringliteral">&quot;sse41.pmaxud&quot;</span> || <span class="comment">// Added in 3.9</span></div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;      Name == <span class="stringliteral">&quot;sse41.pminsb&quot;</span> || <span class="comment">// Added in 3.9</span></div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;      Name == <span class="stringliteral">&quot;sse2.pmins.w&quot;</span> || <span class="comment">// Added in 3.9</span></div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;      Name == <span class="stringliteral">&quot;sse41.pminsd&quot;</span> || <span class="comment">// Added in 3.9</span></div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;      Name == <span class="stringliteral">&quot;sse2.pminu.b&quot;</span> || <span class="comment">// Added in 3.9</span></div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;      Name == <span class="stringliteral">&quot;sse41.pminuw&quot;</span> || <span class="comment">// Added in 3.9</span></div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;      Name == <span class="stringliteral">&quot;sse41.pminud&quot;</span> || <span class="comment">// Added in 3.9</span></div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;      Name == <span class="stringliteral">&quot;avx512.kand.w&quot;</span> || <span class="comment">// Added in 7.0</span></div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;      Name == <span class="stringliteral">&quot;avx512.kandn.w&quot;</span> || <span class="comment">// Added in 7.0</span></div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;      Name == <span class="stringliteral">&quot;avx512.knot.w&quot;</span> || <span class="comment">// Added in 7.0</span></div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;      Name == <span class="stringliteral">&quot;avx512.kor.w&quot;</span> || <span class="comment">// Added in 7.0</span></div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;      Name == <span class="stringliteral">&quot;avx512.kxor.w&quot;</span> || <span class="comment">// Added in 7.0</span></div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;      Name == <span class="stringliteral">&quot;avx512.kxnor.w&quot;</span> || <span class="comment">// Added in 7.0</span></div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;      Name == <span class="stringliteral">&quot;avx512.kortestc.w&quot;</span> || <span class="comment">// Added in 7.0</span></div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;      Name == <span class="stringliteral">&quot;avx512.kortestz.w&quot;</span> || <span class="comment">// Added in 7.0</span></div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.pshuf.b.&quot;</span>) || <span class="comment">// Added in 4.0</span></div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx2.pmax&quot;</span>) || <span class="comment">// Added in 3.9</span></div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx2.pmin&quot;</span>) || <span class="comment">// Added in 3.9</span></div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.pmax&quot;</span>) || <span class="comment">// Added in 4.0</span></div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.pmin&quot;</span>) || <span class="comment">// Added in 4.0</span></div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx2.vbroadcast&quot;</span>) || <span class="comment">// Added in 3.8</span></div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx2.pbroadcast&quot;</span>) || <span class="comment">// Added in 3.8</span></div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx.vpermil.&quot;</span>) || <span class="comment">// Added in 3.1</span></div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;      Name.startswith(<span class="stringliteral">&quot;sse2.pshuf&quot;</span>) || <span class="comment">// Added in 3.9</span></div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.pbroadcast&quot;</span>) || <span class="comment">// Added in 3.9</span></div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.broadcast.s&quot;</span>) || <span class="comment">// Added in 3.9</span></div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.movddup&quot;</span>) || <span class="comment">// Added in 3.9</span></div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.movshdup&quot;</span>) || <span class="comment">// Added in 3.9</span></div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.movsldup&quot;</span>) || <span class="comment">// Added in 3.9</span></div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.pshuf.d.&quot;</span>) || <span class="comment">// Added in 3.9</span></div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.pshufl.w.&quot;</span>) || <span class="comment">// Added in 3.9</span></div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.pshufh.w.&quot;</span>) || <span class="comment">// Added in 3.9</span></div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.shuf.p&quot;</span>) || <span class="comment">// Added in 4.0</span></div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.vpermil.p&quot;</span>) || <span class="comment">// Added in 3.9</span></div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.perm.df.&quot;</span>) || <span class="comment">// Added in 3.9</span></div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.perm.di.&quot;</span>) || <span class="comment">// Added in 3.9</span></div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.punpckl&quot;</span>) || <span class="comment">// Added in 3.9</span></div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.punpckh&quot;</span>) || <span class="comment">// Added in 3.9</span></div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.unpckl.&quot;</span>) || <span class="comment">// Added in 3.9</span></div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.unpckh.&quot;</span>) || <span class="comment">// Added in 3.9</span></div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.pand.&quot;</span>) || <span class="comment">// Added in 3.9</span></div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.pandn.&quot;</span>) || <span class="comment">// Added in 3.9</span></div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.por.&quot;</span>) || <span class="comment">// Added in 3.9</span></div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.pxor.&quot;</span>) || <span class="comment">// Added in 3.9</span></div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.and.&quot;</span>) || <span class="comment">// Added in 3.9</span></div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.andn.&quot;</span>) || <span class="comment">// Added in 3.9</span></div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.or.&quot;</span>) || <span class="comment">// Added in 3.9</span></div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.xor.&quot;</span>) || <span class="comment">// Added in 3.9</span></div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.padd.&quot;</span>) || <span class="comment">// Added in 4.0</span></div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.psub.&quot;</span>) || <span class="comment">// Added in 4.0</span></div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.pmull.&quot;</span>) || <span class="comment">// Added in 4.0</span></div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.cvtdq2pd.&quot;</span>) || <span class="comment">// Added in 4.0</span></div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.cvtudq2pd.&quot;</span>) || <span class="comment">// Added in 4.0</span></div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.cvtudq2ps.&quot;</span>) || <span class="comment">// Added in 7.0 updated 9.0</span></div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.cvtqq2pd.&quot;</span>) || <span class="comment">// Added in 7.0 updated 9.0</span></div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.cvtuqq2pd.&quot;</span>) || <span class="comment">// Added in 7.0 updated 9.0</span></div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.cvtdq2ps.&quot;</span>) || <span class="comment">// Added in 7.0 updated 9.0</span></div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;      Name == <span class="stringliteral">&quot;avx512.mask.vcvtph2ps.128&quot;</span> || <span class="comment">// Added in 11.0</span></div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;      Name == <span class="stringliteral">&quot;avx512.mask.vcvtph2ps.256&quot;</span> || <span class="comment">// Added in 11.0</span></div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;      Name == <span class="stringliteral">&quot;avx512.mask.cvtqq2ps.256&quot;</span> || <span class="comment">// Added in 9.0</span></div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;      Name == <span class="stringliteral">&quot;avx512.mask.cvtqq2ps.512&quot;</span> || <span class="comment">// Added in 9.0</span></div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;      Name == <span class="stringliteral">&quot;avx512.mask.cvtuqq2ps.256&quot;</span> || <span class="comment">// Added in 9.0</span></div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;      Name == <span class="stringliteral">&quot;avx512.mask.cvtuqq2ps.512&quot;</span> || <span class="comment">// Added in 9.0</span></div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;      Name == <span class="stringliteral">&quot;avx512.mask.cvtpd2dq.256&quot;</span> || <span class="comment">// Added in 7.0</span></div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;      Name == <span class="stringliteral">&quot;avx512.mask.cvtpd2ps.256&quot;</span> || <span class="comment">// Added in 7.0</span></div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;      Name == <span class="stringliteral">&quot;avx512.mask.cvttpd2dq.256&quot;</span> || <span class="comment">// Added in 7.0</span></div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;      Name == <span class="stringliteral">&quot;avx512.mask.cvttps2dq.128&quot;</span> || <span class="comment">// Added in 7.0</span></div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;      Name == <span class="stringliteral">&quot;avx512.mask.cvttps2dq.256&quot;</span> || <span class="comment">// Added in 7.0</span></div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;      Name == <span class="stringliteral">&quot;avx512.mask.cvtps2pd.128&quot;</span> || <span class="comment">// Added in 7.0</span></div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;      Name == <span class="stringliteral">&quot;avx512.mask.cvtps2pd.256&quot;</span> || <span class="comment">// Added in 7.0</span></div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;      Name == <span class="stringliteral">&quot;avx512.cvtusi2sd&quot;</span> || <span class="comment">// Added in 7.0</span></div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.permvar.&quot;</span>) || <span class="comment">// Added in 7.0</span></div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;      Name == <span class="stringliteral">&quot;sse2.pmulu.dq&quot;</span> || <span class="comment">// Added in 7.0</span></div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;      Name == <span class="stringliteral">&quot;sse41.pmuldq&quot;</span> || <span class="comment">// Added in 7.0</span></div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;      Name == <span class="stringliteral">&quot;avx2.pmulu.dq&quot;</span> || <span class="comment">// Added in 7.0</span></div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;      Name == <span class="stringliteral">&quot;avx2.pmul.dq&quot;</span> || <span class="comment">// Added in 7.0</span></div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;      Name == <span class="stringliteral">&quot;avx512.pmulu.dq.512&quot;</span> || <span class="comment">// Added in 7.0</span></div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;      Name == <span class="stringliteral">&quot;avx512.pmul.dq.512&quot;</span> || <span class="comment">// Added in 7.0</span></div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.pmul.dq.&quot;</span>) || <span class="comment">// Added in 4.0</span></div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.pmulu.dq.&quot;</span>) || <span class="comment">// Added in 4.0</span></div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.pmul.hr.sw.&quot;</span>) || <span class="comment">// Added in 7.0</span></div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.pmulh.w.&quot;</span>) || <span class="comment">// Added in 7.0</span></div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.pmulhu.w.&quot;</span>) || <span class="comment">// Added in 7.0</span></div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.pmaddw.d.&quot;</span>) || <span class="comment">// Added in 7.0</span></div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.pmaddubs.w.&quot;</span>) || <span class="comment">// Added in 7.0</span></div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.packsswb.&quot;</span>) || <span class="comment">// Added in 5.0</span></div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.packssdw.&quot;</span>) || <span class="comment">// Added in 5.0</span></div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.packuswb.&quot;</span>) || <span class="comment">// Added in 5.0</span></div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.packusdw.&quot;</span>) || <span class="comment">// Added in 5.0</span></div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.cmp.b&quot;</span>) || <span class="comment">// Added in 5.0</span></div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.cmp.d&quot;</span>) || <span class="comment">// Added in 5.0</span></div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.cmp.q&quot;</span>) || <span class="comment">// Added in 5.0</span></div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.cmp.w&quot;</span>) || <span class="comment">// Added in 5.0</span></div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.cmp.p&quot;</span>) || <span class="comment">// Added in 12.0</span></div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.ucmp.&quot;</span>) || <span class="comment">// Added in 5.0</span></div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.cvtb2mask.&quot;</span>) || <span class="comment">// Added in 7.0</span></div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.cvtw2mask.&quot;</span>) || <span class="comment">// Added in 7.0</span></div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.cvtd2mask.&quot;</span>) || <span class="comment">// Added in 7.0</span></div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.cvtq2mask.&quot;</span>) || <span class="comment">// Added in 7.0</span></div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.vpermilvar.&quot;</span>) || <span class="comment">// Added in 4.0</span></div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.psll.d&quot;</span>) || <span class="comment">// Added in 4.0</span></div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.psll.q&quot;</span>) || <span class="comment">// Added in 4.0</span></div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.psll.w&quot;</span>) || <span class="comment">// Added in 4.0</span></div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.psra.d&quot;</span>) || <span class="comment">// Added in 4.0</span></div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.psra.q&quot;</span>) || <span class="comment">// Added in 4.0</span></div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.psra.w&quot;</span>) || <span class="comment">// Added in 4.0</span></div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.psrl.d&quot;</span>) || <span class="comment">// Added in 4.0</span></div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.psrl.q&quot;</span>) || <span class="comment">// Added in 4.0</span></div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.psrl.w&quot;</span>) || <span class="comment">// Added in 4.0</span></div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.pslli&quot;</span>) || <span class="comment">// Added in 4.0</span></div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.psrai&quot;</span>) || <span class="comment">// Added in 4.0</span></div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.psrli&quot;</span>) || <span class="comment">// Added in 4.0</span></div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.psllv&quot;</span>) || <span class="comment">// Added in 4.0</span></div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.psrav&quot;</span>) || <span class="comment">// Added in 4.0</span></div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.psrlv&quot;</span>) || <span class="comment">// Added in 4.0</span></div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;      Name.startswith(<span class="stringliteral">&quot;sse41.pmovsx&quot;</span>) || <span class="comment">// Added in 3.8</span></div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;      Name.startswith(<span class="stringliteral">&quot;sse41.pmovzx&quot;</span>) || <span class="comment">// Added in 3.9</span></div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx2.pmovsx&quot;</span>) || <span class="comment">// Added in 3.9</span></div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx2.pmovzx&quot;</span>) || <span class="comment">// Added in 3.9</span></div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.pmovsx&quot;</span>) || <span class="comment">// Added in 4.0</span></div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.pmovzx&quot;</span>) || <span class="comment">// Added in 4.0</span></div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.lzcnt.&quot;</span>) || <span class="comment">// Added in 5.0</span></div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.pternlog.&quot;</span>) || <span class="comment">// Added in 7.0</span></div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.maskz.pternlog.&quot;</span>) || <span class="comment">// Added in 7.0</span></div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.vpmadd52&quot;</span>) || <span class="comment">// Added in 7.0</span></div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.maskz.vpmadd52&quot;</span>) || <span class="comment">// Added in 7.0</span></div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.vpermi2var.&quot;</span>) || <span class="comment">// Added in 7.0</span></div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.vpermt2var.&quot;</span>) || <span class="comment">// Added in 7.0</span></div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.maskz.vpermt2var.&quot;</span>) || <span class="comment">// Added in 7.0</span></div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.vpdpbusd.&quot;</span>) || <span class="comment">// Added in 7.0</span></div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.maskz.vpdpbusd.&quot;</span>) || <span class="comment">// Added in 7.0</span></div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.vpdpbusds.&quot;</span>) || <span class="comment">// Added in 7.0</span></div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.maskz.vpdpbusds.&quot;</span>) || <span class="comment">// Added in 7.0</span></div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.vpdpwssd.&quot;</span>) || <span class="comment">// Added in 7.0</span></div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.maskz.vpdpwssd.&quot;</span>) || <span class="comment">// Added in 7.0</span></div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.vpdpwssds.&quot;</span>) || <span class="comment">// Added in 7.0</span></div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.maskz.vpdpwssds.&quot;</span>) || <span class="comment">// Added in 7.0</span></div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.dbpsadbw.&quot;</span>) || <span class="comment">// Added in 7.0</span></div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.vpshld.&quot;</span>) || <span class="comment">// Added in 7.0</span></div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.vpshrd.&quot;</span>) || <span class="comment">// Added in 7.0</span></div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.vpshldv.&quot;</span>) || <span class="comment">// Added in 8.0</span></div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.vpshrdv.&quot;</span>) || <span class="comment">// Added in 8.0</span></div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.maskz.vpshldv.&quot;</span>) || <span class="comment">// Added in 8.0</span></div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.maskz.vpshrdv.&quot;</span>) || <span class="comment">// Added in 8.0</span></div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.vpshld.&quot;</span>) || <span class="comment">// Added in 8.0</span></div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.vpshrd.&quot;</span>) || <span class="comment">// Added in 8.0</span></div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.add.p&quot;</span>) || <span class="comment">// Added in 7.0. 128/256 in 4.0</span></div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.sub.p&quot;</span>) || <span class="comment">// Added in 7.0. 128/256 in 4.0</span></div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.mul.p&quot;</span>) || <span class="comment">// Added in 7.0. 128/256 in 4.0</span></div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.div.p&quot;</span>) || <span class="comment">// Added in 7.0. 128/256 in 4.0</span></div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.max.p&quot;</span>) || <span class="comment">// Added in 7.0. 128/256 in 5.0</span></div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.min.p&quot;</span>) || <span class="comment">// Added in 7.0. 128/256 in 5.0</span></div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.fpclass.p&quot;</span>) || <span class="comment">// Added in 7.0</span></div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.vpshufbitqmb.&quot;</span>) || <span class="comment">// Added in 8.0</span></div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.pmultishift.qb.&quot;</span>) || <span class="comment">// Added in 8.0</span></div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.conflict.&quot;</span>) || <span class="comment">// Added in 9.0</span></div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;      Name == <span class="stringliteral">&quot;avx512.mask.pmov.qd.256&quot;</span> || <span class="comment">// Added in 9.0</span></div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;      Name == <span class="stringliteral">&quot;avx512.mask.pmov.qd.512&quot;</span> || <span class="comment">// Added in 9.0</span></div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;      Name == <span class="stringliteral">&quot;avx512.mask.pmov.wb.256&quot;</span> || <span class="comment">// Added in 9.0</span></div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;      Name == <span class="stringliteral">&quot;avx512.mask.pmov.wb.512&quot;</span> || <span class="comment">// Added in 9.0</span></div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;      Name == <span class="stringliteral">&quot;sse.cvtsi2ss&quot;</span> || <span class="comment">// Added in 7.0</span></div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;      Name == <span class="stringliteral">&quot;sse.cvtsi642ss&quot;</span> || <span class="comment">// Added in 7.0</span></div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;      Name == <span class="stringliteral">&quot;sse2.cvtsi2sd&quot;</span> || <span class="comment">// Added in 7.0</span></div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;      Name == <span class="stringliteral">&quot;sse2.cvtsi642sd&quot;</span> || <span class="comment">// Added in 7.0</span></div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;      Name == <span class="stringliteral">&quot;sse2.cvtss2sd&quot;</span> || <span class="comment">// Added in 7.0</span></div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;      Name == <span class="stringliteral">&quot;sse2.cvtdq2pd&quot;</span> || <span class="comment">// Added in 3.9</span></div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;      Name == <span class="stringliteral">&quot;sse2.cvtdq2ps&quot;</span> || <span class="comment">// Added in 7.0</span></div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;      Name == <span class="stringliteral">&quot;sse2.cvtps2pd&quot;</span> || <span class="comment">// Added in 3.9</span></div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;      Name == <span class="stringliteral">&quot;avx.cvtdq2.pd.256&quot;</span> || <span class="comment">// Added in 3.9</span></div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;      Name == <span class="stringliteral">&quot;avx.cvtdq2.ps.256&quot;</span> || <span class="comment">// Added in 7.0</span></div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;      Name == <span class="stringliteral">&quot;avx.cvt.ps2.pd.256&quot;</span> || <span class="comment">// Added in 3.9</span></div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;      Name.startswith(<span class="stringliteral">&quot;vcvtph2ps.&quot;</span>) || <span class="comment">// Added in 11.0</span></div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx.vinsertf128.&quot;</span>) || <span class="comment">// Added in 3.7</span></div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;      Name == <span class="stringliteral">&quot;avx2.vinserti128&quot;</span> || <span class="comment">// Added in 3.7</span></div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.insert&quot;</span>) || <span class="comment">// Added in 4.0</span></div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx.vextractf128.&quot;</span>) || <span class="comment">// Added in 3.7</span></div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;      Name == <span class="stringliteral">&quot;avx2.vextracti128&quot;</span> || <span class="comment">// Added in 3.7</span></div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.vextract&quot;</span>) || <span class="comment">// Added in 4.0</span></div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;      Name.startswith(<span class="stringliteral">&quot;sse4a.movnt.&quot;</span>) || <span class="comment">// Added in 3.9</span></div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx.movnt.&quot;</span>) || <span class="comment">// Added in 3.2</span></div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.storent.&quot;</span>) || <span class="comment">// Added in 3.9</span></div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;      Name == <span class="stringliteral">&quot;sse41.movntdqa&quot;</span> || <span class="comment">// Added in 5.0</span></div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;      Name == <span class="stringliteral">&quot;avx2.movntdqa&quot;</span> || <span class="comment">// Added in 5.0</span></div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;      Name == <span class="stringliteral">&quot;avx512.movntdqa&quot;</span> || <span class="comment">// Added in 5.0</span></div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;      Name == <span class="stringliteral">&quot;sse2.storel.dq&quot;</span> || <span class="comment">// Added in 3.9</span></div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;      Name.startswith(<span class="stringliteral">&quot;sse.storeu.&quot;</span>) || <span class="comment">// Added in 3.9</span></div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;      Name.startswith(<span class="stringliteral">&quot;sse2.storeu.&quot;</span>) || <span class="comment">// Added in 3.9</span></div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx.storeu.&quot;</span>) || <span class="comment">// Added in 3.9</span></div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.storeu.&quot;</span>) || <span class="comment">// Added in 3.9</span></div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.store.p&quot;</span>) || <span class="comment">// Added in 3.9</span></div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.store.b.&quot;</span>) || <span class="comment">// Added in 3.9</span></div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.store.w.&quot;</span>) || <span class="comment">// Added in 3.9</span></div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.store.d.&quot;</span>) || <span class="comment">// Added in 3.9</span></div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.store.q.&quot;</span>) || <span class="comment">// Added in 3.9</span></div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;      Name == <span class="stringliteral">&quot;avx512.mask.store.ss&quot;</span> || <span class="comment">// Added in 7.0</span></div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.loadu.&quot;</span>) || <span class="comment">// Added in 3.9</span></div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.load.&quot;</span>) || <span class="comment">// Added in 3.9</span></div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.expand.load.&quot;</span>) || <span class="comment">// Added in 7.0</span></div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.compress.store.&quot;</span>) || <span class="comment">// Added in 7.0</span></div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.expand.b&quot;</span>) || <span class="comment">// Added in 9.0</span></div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.expand.w&quot;</span>) || <span class="comment">// Added in 9.0</span></div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.expand.d&quot;</span>) || <span class="comment">// Added in 9.0</span></div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.expand.q&quot;</span>) || <span class="comment">// Added in 9.0</span></div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.expand.p&quot;</span>) || <span class="comment">// Added in 9.0</span></div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.compress.b&quot;</span>) || <span class="comment">// Added in 9.0</span></div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.compress.w&quot;</span>) || <span class="comment">// Added in 9.0</span></div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.compress.d&quot;</span>) || <span class="comment">// Added in 9.0</span></div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.compress.q&quot;</span>) || <span class="comment">// Added in 9.0</span></div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.compress.p&quot;</span>) || <span class="comment">// Added in 9.0</span></div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;      Name == <span class="stringliteral">&quot;sse42.crc32.64.8&quot;</span> || <span class="comment">// Added in 3.4</span></div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx.vbroadcast.s&quot;</span>) || <span class="comment">// Added in 3.5</span></div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.vbroadcast.s&quot;</span>) || <span class="comment">// Added in 7.0</span></div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.palignr.&quot;</span>) || <span class="comment">// Added in 3.9</span></div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.valign.&quot;</span>) || <span class="comment">// Added in 4.0</span></div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;      Name.startswith(<span class="stringliteral">&quot;sse2.psll.dq&quot;</span>) || <span class="comment">// Added in 3.7</span></div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;      Name.startswith(<span class="stringliteral">&quot;sse2.psrl.dq&quot;</span>) || <span class="comment">// Added in 3.7</span></div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx2.psll.dq&quot;</span>) || <span class="comment">// Added in 3.7</span></div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx2.psrl.dq&quot;</span>) || <span class="comment">// Added in 3.7</span></div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.psll.dq&quot;</span>) || <span class="comment">// Added in 3.9</span></div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.psrl.dq&quot;</span>) || <span class="comment">// Added in 3.9</span></div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;      Name == <span class="stringliteral">&quot;sse41.pblendw&quot;</span> || <span class="comment">// Added in 3.7</span></div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;      Name.startswith(<span class="stringliteral">&quot;sse41.blendp&quot;</span>) || <span class="comment">// Added in 3.7</span></div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx.blend.p&quot;</span>) || <span class="comment">// Added in 3.7</span></div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;      Name == <span class="stringliteral">&quot;avx2.pblendw&quot;</span> || <span class="comment">// Added in 3.7</span></div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx2.pblendd.&quot;</span>) || <span class="comment">// Added in 3.7</span></div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx.vbroadcastf128&quot;</span>) || <span class="comment">// Added in 4.0</span></div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;      Name == <span class="stringliteral">&quot;avx2.vbroadcasti128&quot;</span> || <span class="comment">// Added in 3.7</span></div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.broadcastf32x4.&quot;</span>) || <span class="comment">// Added in 6.0</span></div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.broadcastf64x2.&quot;</span>) || <span class="comment">// Added in 6.0</span></div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.broadcastf32x8.&quot;</span>) || <span class="comment">// Added in 6.0</span></div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.broadcastf64x4.&quot;</span>) || <span class="comment">// Added in 6.0</span></div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.broadcasti32x4.&quot;</span>) || <span class="comment">// Added in 6.0</span></div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.broadcasti64x2.&quot;</span>) || <span class="comment">// Added in 6.0</span></div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.broadcasti32x8.&quot;</span>) || <span class="comment">// Added in 6.0</span></div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.broadcasti64x4.&quot;</span>) || <span class="comment">// Added in 6.0</span></div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;      Name == <span class="stringliteral">&quot;xop.vpcmov&quot;</span> || <span class="comment">// Added in 3.8</span></div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;      Name == <span class="stringliteral">&quot;xop.vpcmov.256&quot;</span> || <span class="comment">// Added in 5.0</span></div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.move.s&quot;</span>) || <span class="comment">// Added in 4.0</span></div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.cvtmask2&quot;</span>) || <span class="comment">// Added in 5.0</span></div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;      Name.startswith(<span class="stringliteral">&quot;xop.vpcom&quot;</span>) || <span class="comment">// Added in 3.2, Updated in 9.0</span></div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;      Name.startswith(<span class="stringliteral">&quot;xop.vprot&quot;</span>) || <span class="comment">// Added in 8.0</span></div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.prol&quot;</span>) || <span class="comment">// Added in 8.0</span></div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.pror&quot;</span>) || <span class="comment">// Added in 8.0</span></div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.prorv.&quot;</span>) || <span class="comment">// Added in 8.0</span></div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.pror.&quot;</span>) ||  <span class="comment">// Added in 8.0</span></div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.prolv.&quot;</span>) || <span class="comment">// Added in 8.0</span></div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.prol.&quot;</span>) ||  <span class="comment">// Added in 8.0</span></div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.ptestm&quot;</span>) || <span class="comment">//Added in 6.0</span></div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.ptestnm&quot;</span>) || <span class="comment">//Added in 6.0</span></div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;      Name.startswith(<span class="stringliteral">&quot;avx512.mask.pavg&quot;</span>)) <span class="comment">// Added in 6.0</span></div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160; </div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;}</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160; </div>
<div class="line"><a name="l00440"></a><span class="lineno"><a class="line" href="AutoUpgrade_8cpp.html#a6323b0c36af4c6f73cce3e417d864a80">  440</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="AutoUpgrade_8cpp.html#a6323b0c36af4c6f73cce3e417d864a80">UpgradeX86IntrinsicFunction</a>(<a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> Name,</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;                                        <a class="code" href="classllvm_1_1Function.html">Function</a> *&amp;NewFn) {</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;  <span class="comment">// Only handle intrinsics that start with &quot;x86.&quot;.</span></div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;  <span class="keywordflow">if</span> (!Name.startswith(<span class="stringliteral">&quot;x86.&quot;</span>))</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;  <span class="comment">// Remove &quot;x86.&quot; prefix.</span></div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;  Name = Name.substr(4);</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160; </div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="AutoUpgrade_8cpp.html#ad81a5e7d072d3285ed58e9e81798bd82">ShouldUpgradeX86Intrinsic</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, Name)) {</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;    NewFn = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;  }</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160; </div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;  <span class="keywordflow">if</span> (Name == <span class="stringliteral">&quot;rdtscp&quot;</span>) { <span class="comment">// Added in 8.0</span></div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;    <span class="comment">// If this intrinsic has 0 operands, it&#39;s the new version.</span></div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getFunctionType()-&gt;getNumParams() == 0)</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160; </div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;    <a class="code" href="AutoUpgrade_8cpp.html#ac03fa12298f2b2ef59db774839aa630f">rename</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    NewFn = <a class="code" href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">Intrinsic::getDeclaration</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getParent(),</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;                                      Intrinsic::x86_rdtscp);</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;  }</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160; </div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;  <span class="comment">// SSE4.1 ptest functions may have an old signature.</span></div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;  <span class="keywordflow">if</span> (Name.startswith(<span class="stringliteral">&quot;sse41.ptest&quot;</span>)) { <span class="comment">// Added in 3.2</span></div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;    <span class="keywordflow">if</span> (Name.substr(11) == <span class="stringliteral">&quot;c&quot;</span>)</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="AutoUpgrade_8cpp.html#a0f32cc86b7ef9e28dc19685e6b28b1d1">UpgradePTESTIntrinsic</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, Intrinsic::x86_sse41_ptestc, NewFn);</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;    <span class="keywordflow">if</span> (Name.substr(11) == <span class="stringliteral">&quot;z&quot;</span>)</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="AutoUpgrade_8cpp.html#a0f32cc86b7ef9e28dc19685e6b28b1d1">UpgradePTESTIntrinsic</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, Intrinsic::x86_sse41_ptestz, NewFn);</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;    <span class="keywordflow">if</span> (Name.substr(11) == <span class="stringliteral">&quot;nzc&quot;</span>)</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="AutoUpgrade_8cpp.html#a0f32cc86b7ef9e28dc19685e6b28b1d1">UpgradePTESTIntrinsic</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, Intrinsic::x86_sse41_ptestnzc, NewFn);</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;  }</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;  <span class="comment">// Several blend and other instructions with masks used the wrong number of</span></div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;  <span class="comment">// bits.</span></div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;  <span class="keywordflow">if</span> (Name == <span class="stringliteral">&quot;sse41.insertps&quot;</span>) <span class="comment">// Added in 3.6</span></div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="AutoUpgrade_8cpp.html#a83de8b7abeb3720f57ce5bb604614e63">UpgradeX86IntrinsicsWith8BitMask</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, Intrinsic::x86_sse41_insertps,</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;                                            NewFn);</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;  <span class="keywordflow">if</span> (Name == <span class="stringliteral">&quot;sse41.dppd&quot;</span>) <span class="comment">// Added in 3.6</span></div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="AutoUpgrade_8cpp.html#a83de8b7abeb3720f57ce5bb604614e63">UpgradeX86IntrinsicsWith8BitMask</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, Intrinsic::x86_sse41_dppd,</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;                                            NewFn);</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;  <span class="keywordflow">if</span> (Name == <span class="stringliteral">&quot;sse41.dpps&quot;</span>) <span class="comment">// Added in 3.6</span></div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="AutoUpgrade_8cpp.html#a83de8b7abeb3720f57ce5bb604614e63">UpgradeX86IntrinsicsWith8BitMask</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, Intrinsic::x86_sse41_dpps,</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;                                            NewFn);</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;  <span class="keywordflow">if</span> (Name == <span class="stringliteral">&quot;sse41.mpsadbw&quot;</span>) <span class="comment">// Added in 3.6</span></div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="AutoUpgrade_8cpp.html#a83de8b7abeb3720f57ce5bb604614e63">UpgradeX86IntrinsicsWith8BitMask</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, Intrinsic::x86_sse41_mpsadbw,</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;                                            NewFn);</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;  <span class="keywordflow">if</span> (Name == <span class="stringliteral">&quot;avx.dp.ps.256&quot;</span>) <span class="comment">// Added in 3.6</span></div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="AutoUpgrade_8cpp.html#a83de8b7abeb3720f57ce5bb604614e63">UpgradeX86IntrinsicsWith8BitMask</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, Intrinsic::x86_avx_dp_ps_256,</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;                                            NewFn);</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;  <span class="keywordflow">if</span> (Name == <span class="stringliteral">&quot;avx2.mpsadbw&quot;</span>) <span class="comment">// Added in 3.6</span></div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="AutoUpgrade_8cpp.html#a83de8b7abeb3720f57ce5bb604614e63">UpgradeX86IntrinsicsWith8BitMask</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, Intrinsic::x86_avx2_mpsadbw,</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;                                            NewFn);</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;  <span class="keywordflow">if</span> (Name == <span class="stringliteral">&quot;avx512.mask.cmp.pd.128&quot;</span>) <span class="comment">// Added in 7.0</span></div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="AutoUpgrade_8cpp.html#a496d349b63e703d1466e7dea54746222">UpgradeX86MaskedFPCompare</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, Intrinsic::x86_avx512_mask_cmp_pd_128,</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;                                     NewFn);</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;  <span class="keywordflow">if</span> (Name == <span class="stringliteral">&quot;avx512.mask.cmp.pd.256&quot;</span>) <span class="comment">// Added in 7.0</span></div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="AutoUpgrade_8cpp.html#a496d349b63e703d1466e7dea54746222">UpgradeX86MaskedFPCompare</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, Intrinsic::x86_avx512_mask_cmp_pd_256,</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;                                     NewFn);</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;  <span class="keywordflow">if</span> (Name == <span class="stringliteral">&quot;avx512.mask.cmp.pd.512&quot;</span>) <span class="comment">// Added in 7.0</span></div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="AutoUpgrade_8cpp.html#a496d349b63e703d1466e7dea54746222">UpgradeX86MaskedFPCompare</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, Intrinsic::x86_avx512_mask_cmp_pd_512,</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;                                     NewFn);</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;  <span class="keywordflow">if</span> (Name == <span class="stringliteral">&quot;avx512.mask.cmp.ps.128&quot;</span>) <span class="comment">// Added in 7.0</span></div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="AutoUpgrade_8cpp.html#a496d349b63e703d1466e7dea54746222">UpgradeX86MaskedFPCompare</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, Intrinsic::x86_avx512_mask_cmp_ps_128,</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;                                     NewFn);</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;  <span class="keywordflow">if</span> (Name == <span class="stringliteral">&quot;avx512.mask.cmp.ps.256&quot;</span>) <span class="comment">// Added in 7.0</span></div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="AutoUpgrade_8cpp.html#a496d349b63e703d1466e7dea54746222">UpgradeX86MaskedFPCompare</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, Intrinsic::x86_avx512_mask_cmp_ps_256,</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;                                     NewFn);</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;  <span class="keywordflow">if</span> (Name == <span class="stringliteral">&quot;avx512.mask.cmp.ps.512&quot;</span>) <span class="comment">// Added in 7.0</span></div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="AutoUpgrade_8cpp.html#a496d349b63e703d1466e7dea54746222">UpgradeX86MaskedFPCompare</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, Intrinsic::x86_avx512_mask_cmp_ps_512,</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;                                     NewFn);</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;  <span class="keywordflow">if</span> (Name == <span class="stringliteral">&quot;avx512bf16.cvtne2ps2bf16.128&quot;</span>) <span class="comment">// Added in 9.0</span></div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="AutoUpgrade_8cpp.html#a3d01e2a7400aef4c068c8efabfbd5273">UpgradeX86BF16Intrinsic</a>(</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;        <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, Intrinsic::x86_avx512bf16_cvtne2ps2bf16_128, NewFn);</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;  <span class="keywordflow">if</span> (Name == <span class="stringliteral">&quot;avx512bf16.cvtne2ps2bf16.256&quot;</span>) <span class="comment">// Added in 9.0</span></div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="AutoUpgrade_8cpp.html#a3d01e2a7400aef4c068c8efabfbd5273">UpgradeX86BF16Intrinsic</a>(</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;        <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, Intrinsic::x86_avx512bf16_cvtne2ps2bf16_256, NewFn);</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;  <span class="keywordflow">if</span> (Name == <span class="stringliteral">&quot;avx512bf16.cvtne2ps2bf16.512&quot;</span>) <span class="comment">// Added in 9.0</span></div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="AutoUpgrade_8cpp.html#a3d01e2a7400aef4c068c8efabfbd5273">UpgradeX86BF16Intrinsic</a>(</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;        <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, Intrinsic::x86_avx512bf16_cvtne2ps2bf16_512, NewFn);</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;  <span class="keywordflow">if</span> (Name == <span class="stringliteral">&quot;avx512bf16.mask.cvtneps2bf16.128&quot;</span>) <span class="comment">// Added in 9.0</span></div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="AutoUpgrade_8cpp.html#a3d01e2a7400aef4c068c8efabfbd5273">UpgradeX86BF16Intrinsic</a>(</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;        <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, Intrinsic::x86_avx512bf16_mask_cvtneps2bf16_128, NewFn);</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;  <span class="keywordflow">if</span> (Name == <span class="stringliteral">&quot;avx512bf16.cvtneps2bf16.256&quot;</span>) <span class="comment">// Added in 9.0</span></div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="AutoUpgrade_8cpp.html#a3d01e2a7400aef4c068c8efabfbd5273">UpgradeX86BF16Intrinsic</a>(</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;        <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, Intrinsic::x86_avx512bf16_cvtneps2bf16_256, NewFn);</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;  <span class="keywordflow">if</span> (Name == <span class="stringliteral">&quot;avx512bf16.cvtneps2bf16.512&quot;</span>) <span class="comment">// Added in 9.0</span></div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="AutoUpgrade_8cpp.html#a3d01e2a7400aef4c068c8efabfbd5273">UpgradeX86BF16Intrinsic</a>(</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;        <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, Intrinsic::x86_avx512bf16_cvtneps2bf16_512, NewFn);</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;  <span class="keywordflow">if</span> (Name == <span class="stringliteral">&quot;avx512bf16.dpbf16ps.128&quot;</span>) <span class="comment">// Added in 9.0</span></div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="AutoUpgrade_8cpp.html#ae5383b17ad4db3db85c32605138edf2e">UpgradeX86BF16DPIntrinsic</a>(</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;        <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, Intrinsic::x86_avx512bf16_dpbf16ps_128, NewFn);</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;  <span class="keywordflow">if</span> (Name == <span class="stringliteral">&quot;avx512bf16.dpbf16ps.256&quot;</span>) <span class="comment">// Added in 9.0</span></div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="AutoUpgrade_8cpp.html#ae5383b17ad4db3db85c32605138edf2e">UpgradeX86BF16DPIntrinsic</a>(</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;        <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, Intrinsic::x86_avx512bf16_dpbf16ps_256, NewFn);</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;  <span class="keywordflow">if</span> (Name == <span class="stringliteral">&quot;avx512bf16.dpbf16ps.512&quot;</span>) <span class="comment">// Added in 9.0</span></div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="AutoUpgrade_8cpp.html#ae5383b17ad4db3db85c32605138edf2e">UpgradeX86BF16DPIntrinsic</a>(</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;        <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, Intrinsic::x86_avx512bf16_dpbf16ps_512, NewFn);</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160; </div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;  <span class="comment">// frcz.ss/sd may need to have an argument dropped. Added in 3.2</span></div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;  <span class="keywordflow">if</span> (Name.startswith(<span class="stringliteral">&quot;xop.vfrcz.ss&quot;</span>) &amp;&amp; <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;arg_size() == 2) {</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;    <a class="code" href="AutoUpgrade_8cpp.html#ac03fa12298f2b2ef59db774839aa630f">rename</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;    NewFn = <a class="code" href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">Intrinsic::getDeclaration</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getParent(),</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;                                      Intrinsic::x86_xop_vfrcz_ss);</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;  }</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;  <span class="keywordflow">if</span> (Name.startswith(<span class="stringliteral">&quot;xop.vfrcz.sd&quot;</span>) &amp;&amp; <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;arg_size() == 2) {</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;    <a class="code" href="AutoUpgrade_8cpp.html#ac03fa12298f2b2ef59db774839aa630f">rename</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;    NewFn = <a class="code" href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">Intrinsic::getDeclaration</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getParent(),</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;                                      Intrinsic::x86_xop_vfrcz_sd);</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;  }</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;  <span class="comment">// Upgrade any XOP PERMIL2 index operand still using a float/double vector.</span></div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;  <span class="keywordflow">if</span> (Name.startswith(<span class="stringliteral">&quot;xop.vpermil2&quot;</span>)) { <span class="comment">// Added in 3.9</span></div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;    <span class="keyword">auto</span> Idx = <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getFunctionType()-&gt;getParamType(2);</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;    <span class="keywordflow">if</span> (Idx-&gt;isFPOrFPVectorTy()) {</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;      <a class="code" href="AutoUpgrade_8cpp.html#ac03fa12298f2b2ef59db774839aa630f">rename</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;      <span class="keywordtype">unsigned</span> IdxSize = Idx-&gt;getPrimitiveSizeInBits();</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;      <span class="keywordtype">unsigned</span> EltSize = Idx-&gt;getScalarSizeInBits();</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;      <a class="code" href="namespacellvm_1_1Intrinsic.html#a80add6b3b1cdaec560907995127adc16">Intrinsic::ID</a> Permil2ID;</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;      <span class="keywordflow">if</span> (EltSize == 64 &amp;&amp; IdxSize == 128)</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;        Permil2ID = Intrinsic::x86_xop_vpermil2pd;</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (EltSize == 32 &amp;&amp; IdxSize == 128)</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;        Permil2ID = Intrinsic::x86_xop_vpermil2ps;</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (EltSize == 64 &amp;&amp; IdxSize == 256)</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;        Permil2ID = Intrinsic::x86_xop_vpermil2pd_256;</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;        Permil2ID = Intrinsic::x86_xop_vpermil2ps_256;</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;      NewFn = <a class="code" href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">Intrinsic::getDeclaration</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getParent(), Permil2ID);</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;    }</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;  }</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160; </div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;  <span class="keywordflow">if</span> (Name == <span class="stringliteral">&quot;seh.recoverfp&quot;</span>) {</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;    NewFn = <a class="code" href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">Intrinsic::getDeclaration</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getParent(), Intrinsic::eh_recoverfp);</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;  }</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160; </div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;}</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160; </div>
<div class="line"><a name="l00581"></a><span class="lineno"><a class="line" href="AutoUpgrade_8cpp.html#a3df76924c826200f06bd78ceb7191a4d">  581</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="AutoUpgrade_8cpp.html#a3df76924c826200f06bd78ceb7191a4d">UpgradeIntrinsicFunction1</a>(<a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, <a class="code" href="classllvm_1_1Function.html">Function</a> *&amp;NewFn) {</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> &amp;&amp; <span class="stringliteral">&quot;Illegal to upgrade a non-existent Function.&quot;</span>);</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160; </div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;  <span class="comment">// Quickly eliminate it, if it&#39;s not a candidate.</span></div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;  <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> Name = <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getName();</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;  <span class="keywordflow">if</span> (Name.size() &lt;= 7 || !Name.startswith(<span class="stringliteral">&quot;llvm.&quot;</span>))</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;  Name = Name.substr(5); <span class="comment">// Strip off &quot;llvm.&quot;</span></div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160; </div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;  <span class="keywordflow">switch</span> (Name[0]) {</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;  <span class="keywordflow">default</span>: <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;  <span class="keywordflow">case</span> <span class="charliteral">&#39;a&#39;</span>: {</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;    <span class="keywordflow">if</span> (Name.startswith(<span class="stringliteral">&quot;arm.rbit&quot;</span>) || Name.startswith(<span class="stringliteral">&quot;aarch64.rbit&quot;</span>)) {</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;      NewFn = <a class="code" href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">Intrinsic::getDeclaration</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getParent(), Intrinsic::bitreverse,</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;                                        <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;arg_begin()-&gt;getType());</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;    }</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;    <span class="keywordflow">if</span> (Name.startswith(<span class="stringliteral">&quot;aarch64.neon.frintn&quot;</span>)) {</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;      NewFn = <a class="code" href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">Intrinsic::getDeclaration</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getParent(), Intrinsic::roundeven,</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;                                        <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;arg_begin()-&gt;getType());</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;    }</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;    <span class="keywordflow">if</span> (Name.startswith(<span class="stringliteral">&quot;aarch64.neon.rbit&quot;</span>)) {</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;      NewFn = <a class="code" href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">Intrinsic::getDeclaration</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getParent(), Intrinsic::bitreverse,</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;                                        <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;arg_begin()-&gt;getType());</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;    }</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;    <span class="keywordflow">if</span> (Name == <span class="stringliteral">&quot;aarch64.sve.bfdot.lane&quot;</span>) {</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;      NewFn = <a class="code" href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">Intrinsic::getDeclaration</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getParent(),</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;                                        Intrinsic::aarch64_sve_bfdot_lane_v2);</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;    }</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;    <span class="keywordflow">if</span> (Name == <span class="stringliteral">&quot;aarch64.sve.bfmlalb.lane&quot;</span>) {</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;      NewFn = <a class="code" href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">Intrinsic::getDeclaration</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getParent(),</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;                                        Intrinsic::aarch64_sve_bfmlalb_lane_v2);</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;    }</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;    <span class="keywordflow">if</span> (Name == <span class="stringliteral">&quot;aarch64.sve.bfmlalt.lane&quot;</span>) {</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;      NewFn = <a class="code" href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">Intrinsic::getDeclaration</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getParent(),</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;                                        Intrinsic::aarch64_sve_bfmlalt_lane_v2);</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;    }</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classllvm_1_1Regex.html">Regex</a> LdRegex(<span class="stringliteral">&quot;^aarch64\\.sve\\.ld[234](.nxv[a-z0-9]+|$)&quot;</span>);</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;    <span class="keywordflow">if</span> (LdRegex.<a class="code" href="classllvm_1_1Regex.html#ae787b71e8d775a2b662d04e913489d8d">match</a>(Name)) {</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;      <a class="code" href="classllvm_1_1Type.html">Type</a> *ScalarTy =</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;          dyn_cast&lt;VectorType&gt;(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getReturnType())-&gt;getElementType();</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;      <a class="code" href="classllvm_1_1ElementCount.html">ElementCount</a> EC =</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;          dyn_cast&lt;VectorType&gt;(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;arg_begin()-&gt;getType())-&gt;getElementCount();</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;      <a class="code" href="classllvm_1_1Type.html">Type</a> *Ty = <a class="code" href="classllvm_1_1VectorType.html#a8c90e6c50e795b17466482a04947690e">VectorType::get</a>(ScalarTy, EC);</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;      <a class="code" href="namespacellvm_1_1Intrinsic.html#a80add6b3b1cdaec560907995127adc16">Intrinsic::ID</a> <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a> =</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;          <a class="code" href="classllvm_1_1StringSwitch.html">StringSwitch&lt;Intrinsic::ID&gt;</a>(Name)</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;              .<a class="code" href="classllvm_1_1StringSwitch.html#adcca0c9d8e5e7fab87046096d4f89d47">StartsWith</a>(<span class="stringliteral">&quot;aarch64.sve.ld2&quot;</span>, Intrinsic::aarch64_sve_ld2_sret)</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;              .<a class="code" href="classllvm_1_1StringSwitch.html#adcca0c9d8e5e7fab87046096d4f89d47">StartsWith</a>(<span class="stringliteral">&quot;aarch64.sve.ld3&quot;</span>, Intrinsic::aarch64_sve_ld3_sret)</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;              .<a class="code" href="classllvm_1_1StringSwitch.html#adcca0c9d8e5e7fab87046096d4f89d47">StartsWith</a>(<span class="stringliteral">&quot;aarch64.sve.ld4&quot;</span>, Intrinsic::aarch64_sve_ld4_sret)</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;              .<a class="code" href="classllvm_1_1StringSwitch.html#a7f0e82e8a818ca43926fceb49be81661">Default</a>(<a class="code" href="namespacellvm_1_1Intrinsic.html#a35fedf4db6d756bd82501607f93c1e79aab5fb650050f184fa7c19c26abde5226">Intrinsic::not_intrinsic</a>);</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;      NewFn = <a class="code" href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">Intrinsic::getDeclaration</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getParent(), <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>, Ty);</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;    }</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;    <span class="keywordflow">if</span> (Name.startswith(<span class="stringliteral">&quot;aarch64.sve.tuple.get&quot;</span>)) {</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;      <a class="code" href="classllvm_1_1Type.html">Type</a> *Tys[] = {<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getReturnType(), <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;arg_begin()-&gt;getType()};</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;      NewFn = <a class="code" href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">Intrinsic::getDeclaration</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getParent(),</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;                                        Intrinsic::vector_extract, Tys);</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;    }</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;    <span class="keywordflow">if</span> (Name.startswith(<span class="stringliteral">&quot;aarch64.sve.tuple.set&quot;</span>)) {</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;      <span class="keyword">auto</span> <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a> = <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getFunctionType()-&gt;params();</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;      <a class="code" href="classllvm_1_1Type.html">Type</a> *Tys[] = {<a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>[0], <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>[2], <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>[1]};</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;      NewFn = <a class="code" href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">Intrinsic::getDeclaration</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getParent(),</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;                                        Intrinsic::vector_insert, Tys);</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;    }</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classllvm_1_1Regex.html">Regex</a> CreateTupleRegex(</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;        <span class="stringliteral">&quot;^aarch64\\.sve\\.tuple\\.create[234](.nxv[a-z0-9]+|$)&quot;</span>);</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;    <span class="keywordflow">if</span> (CreateTupleRegex.<a class="code" href="classllvm_1_1Regex.html#ae787b71e8d775a2b662d04e913489d8d">match</a>(Name)) {</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;      <span class="keyword">auto</span> <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a> = <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getFunctionType()-&gt;params();</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;      <a class="code" href="classllvm_1_1Type.html">Type</a> *Tys[] = {<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getReturnType(), <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>[1]};</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;      NewFn = <a class="code" href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">Intrinsic::getDeclaration</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getParent(),</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;                                        Intrinsic::vector_insert, Tys);</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;    }</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;    <span class="keywordflow">if</span> (Name.startswith(<span class="stringliteral">&quot;arm.neon.vclz&quot;</span>)) {</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;      <a class="code" href="classllvm_1_1Type.html">Type</a>* <a class="code" href="NVPTXLowerArgs_8cpp.html#a4d6da696b3c753c5e5fbcc4d21d4cb71">args</a>[2] = {</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;        <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;arg_begin()-&gt;getType(),</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;        <a class="code" href="classllvm_1_1Type.html#aa75984a442f2379de0c66018201fa628">Type::getInt1Ty</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getContext())</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;      };</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;      <span class="comment">// Can&#39;t use Intrinsic::getDeclaration here as it adds a &quot;.i1&quot; to</span></div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;      <span class="comment">// the end of the name. Change name from llvm.arm.neon.vclz.* to</span></div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;      <span class="comment">//  llvm.ctlz.*</span></div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;      <a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a>* fType = <a class="code" href="classllvm_1_1FunctionType.html#a7e89b55242c964ae61b7850e99cacef0">FunctionType::get</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getReturnType(), <a class="code" href="NVPTXLowerArgs_8cpp.html#a4d6da696b3c753c5e5fbcc4d21d4cb71">args</a>, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;      NewFn = <a class="code" href="classllvm_1_1Function.html#a6adbed68009f582caa84cdfd2adf36f1">Function::Create</a>(fType, <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getLinkage(), <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getAddressSpace(),</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;                               <span class="stringliteral">&quot;llvm.ctlz.&quot;</span> + Name.substr(14), <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getParent());</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;    }</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;    <span class="keywordflow">if</span> (Name.startswith(<span class="stringliteral">&quot;arm.neon.vcnt&quot;</span>)) {</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;      NewFn = <a class="code" href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">Intrinsic::getDeclaration</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getParent(), Intrinsic::ctpop,</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;                                        <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;arg_begin()-&gt;getType());</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;    }</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classllvm_1_1Regex.html">Regex</a> vstRegex(<span class="stringliteral">&quot;^arm\\.neon\\.vst([1234]|[234]lane)\\.v[a-z0-9]*$&quot;</span>);</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;    <span class="keywordflow">if</span> (vstRegex.<a class="code" href="classllvm_1_1Regex.html#ae787b71e8d775a2b662d04e913489d8d">match</a>(Name)) {</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;      <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="namespacellvm_1_1Intrinsic.html#a80add6b3b1cdaec560907995127adc16">Intrinsic::ID</a> StoreInts[] = {Intrinsic::arm_neon_vst1,</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;                                                Intrinsic::arm_neon_vst2,</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;                                                Intrinsic::arm_neon_vst3,</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;                                                Intrinsic::arm_neon_vst4};</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160; </div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;      <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="namespacellvm_1_1Intrinsic.html#a80add6b3b1cdaec560907995127adc16">Intrinsic::ID</a> StoreLaneInts[] = {</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;        Intrinsic::arm_neon_vst2lane, Intrinsic::arm_neon_vst3lane,</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;        Intrinsic::arm_neon_vst4lane</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;      };</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160; </div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;      <span class="keyword">auto</span> fArgs = <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getFunctionType()-&gt;params();</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;      <a class="code" href="classllvm_1_1Type.html">Type</a> *Tys[] = {fArgs[0], fArgs[1]};</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;      <span class="keywordflow">if</span> (!Name.contains(<span class="stringliteral">&quot;lane&quot;</span>))</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;        NewFn = <a class="code" href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">Intrinsic::getDeclaration</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getParent(),</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;                                          StoreInts[fArgs.size() - 3], Tys);</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;        NewFn = <a class="code" href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">Intrinsic::getDeclaration</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getParent(),</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;                                          StoreLaneInts[fArgs.size() - 5], Tys);</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;    }</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;    <span class="keywordflow">if</span> (Name == <span class="stringliteral">&quot;aarch64.thread.pointer&quot;</span> || Name == <span class="stringliteral">&quot;arm.thread.pointer&quot;</span>) {</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;      NewFn = <a class="code" href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">Intrinsic::getDeclaration</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getParent(), Intrinsic::thread_pointer);</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;    }</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;    <span class="keywordflow">if</span> (Name.startswith(<span class="stringliteral">&quot;arm.neon.vqadds.&quot;</span>)) {</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;      NewFn = <a class="code" href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">Intrinsic::getDeclaration</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getParent(), Intrinsic::sadd_sat,</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;                                        <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;arg_begin()-&gt;getType());</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;    }</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;    <span class="keywordflow">if</span> (Name.startswith(<span class="stringliteral">&quot;arm.neon.vqaddu.&quot;</span>)) {</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;      NewFn = <a class="code" href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">Intrinsic::getDeclaration</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getParent(), Intrinsic::uadd_sat,</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;                                        <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;arg_begin()-&gt;getType());</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;    }</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;    <span class="keywordflow">if</span> (Name.startswith(<span class="stringliteral">&quot;arm.neon.vqsubs.&quot;</span>)) {</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;      NewFn = <a class="code" href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">Intrinsic::getDeclaration</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getParent(), Intrinsic::ssub_sat,</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;                                        <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;arg_begin()-&gt;getType());</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;    }</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;    <span class="keywordflow">if</span> (Name.startswith(<span class="stringliteral">&quot;arm.neon.vqsubu.&quot;</span>)) {</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;      NewFn = <a class="code" href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">Intrinsic::getDeclaration</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getParent(), Intrinsic::usub_sat,</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;                                        <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;arg_begin()-&gt;getType());</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;    }</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;    <span class="keywordflow">if</span> (Name.startswith(<span class="stringliteral">&quot;aarch64.neon.addp&quot;</span>)) {</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;arg_size() != 2)</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;        <span class="keywordflow">break</span>; <span class="comment">// Invalid IR.</span></div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;      <a class="code" href="classllvm_1_1VectorType.html">VectorType</a> *Ty = dyn_cast&lt;VectorType&gt;(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getReturnType());</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;      <span class="keywordflow">if</span> (Ty &amp;&amp; Ty-&gt;<a class="code" href="classllvm_1_1VectorType.html#a12e23c3d619db313388fe11dc76eb23f">getElementType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#aac5759c83abd6a4af236401a7cfe7a0f">isFloatingPointTy</a>()) {</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;        NewFn = <a class="code" href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">Intrinsic::getDeclaration</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getParent(),</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;                                          Intrinsic::aarch64_neon_faddp, Ty);</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;      }</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;    }</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160; </div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;    <span class="comment">// Changed in 12.0: bfdot accept v4bf16 and v8bf16 instead of v8i8 and v16i8</span></div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;    <span class="comment">// respectively</span></div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;    <span class="keywordflow">if</span> ((Name.startswith(<span class="stringliteral">&quot;arm.neon.bfdot.&quot;</span>) ||</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;         Name.startswith(<span class="stringliteral">&quot;aarch64.neon.bfdot.&quot;</span>)) &amp;&amp;</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;        Name.endswith(<span class="stringliteral">&quot;i8&quot;</span>)) {</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;      <a class="code" href="namespacellvm_1_1Intrinsic.html#a80add6b3b1cdaec560907995127adc16">Intrinsic::ID</a> IID =</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;          <a class="code" href="classllvm_1_1StringSwitch.html">StringSwitch&lt;Intrinsic::ID&gt;</a>(Name)</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;              .<a class="code" href="classllvm_1_1StringSwitch.html#aa691974996d9be968506bca2cc1229bd">Cases</a>(<span class="stringliteral">&quot;arm.neon.bfdot.v2f32.v8i8&quot;</span>,</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;                     <span class="stringliteral">&quot;arm.neon.bfdot.v4f32.v16i8&quot;</span>,</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;                     Intrinsic::arm_neon_bfdot)</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;              .<a class="code" href="classllvm_1_1StringSwitch.html#aa691974996d9be968506bca2cc1229bd">Cases</a>(<span class="stringliteral">&quot;aarch64.neon.bfdot.v2f32.v8i8&quot;</span>,</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;                     <span class="stringliteral">&quot;aarch64.neon.bfdot.v4f32.v16i8&quot;</span>,</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;                     Intrinsic::aarch64_neon_bfdot)</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;              .<a class="code" href="classllvm_1_1StringSwitch.html#a7f0e82e8a818ca43926fceb49be81661">Default</a>(<a class="code" href="namespacellvm_1_1Intrinsic.html#a35fedf4db6d756bd82501607f93c1e79aab5fb650050f184fa7c19c26abde5226">Intrinsic::not_intrinsic</a>);</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;      <span class="keywordflow">if</span> (IID == <a class="code" href="namespacellvm_1_1Intrinsic.html#a35fedf4db6d756bd82501607f93c1e79aab5fb650050f184fa7c19c26abde5226">Intrinsic::not_intrinsic</a>)</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160; </div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;      <span class="keywordtype">size_t</span> OperandWidth = <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getReturnType()-&gt;getPrimitiveSizeInBits();</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((OperandWidth == 64 || OperandWidth == 128) &amp;&amp;</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;             <span class="stringliteral">&quot;Unexpected operand width&quot;</span>);</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;      <a class="code" href="classllvm_1_1LLVMContext.html">LLVMContext</a> &amp;Ctx = <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getParent()-&gt;getContext();</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;      std::array&lt;Type *, 2&gt; Tys {{</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;        <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getReturnType(),</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;        <a class="code" href="classllvm_1_1FixedVectorType.html#af9a870d5df50fe0133a410b7c9114c80">FixedVectorType::get</a>(<a class="code" href="classllvm_1_1Type.html#ae3aa33c6054ec18e1d6bc6466d1b4103">Type::getBFloatTy</a>(Ctx), OperandWidth / 16)</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;      }};</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;      NewFn = <a class="code" href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">Intrinsic::getDeclaration</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getParent(), IID, Tys);</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;    }</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160; </div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;    <span class="comment">// Changed in 12.0: bfmmla, bfmlalb and bfmlalt are not polymorphic anymore</span></div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;    <span class="comment">// and accept v8bf16 instead of v16i8</span></div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;    <span class="keywordflow">if</span> ((Name.startswith(<span class="stringliteral">&quot;arm.neon.bfm&quot;</span>) ||</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;         Name.startswith(<span class="stringliteral">&quot;aarch64.neon.bfm&quot;</span>)) &amp;&amp;</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;        Name.endswith(<span class="stringliteral">&quot;.v4f32.v16i8&quot;</span>)) {</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;      <a class="code" href="namespacellvm_1_1Intrinsic.html#a80add6b3b1cdaec560907995127adc16">Intrinsic::ID</a> IID =</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;          <a class="code" href="classllvm_1_1StringSwitch.html">StringSwitch&lt;Intrinsic::ID&gt;</a>(Name)</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;              .<a class="code" href="classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">&quot;arm.neon.bfmmla.v4f32.v16i8&quot;</span>,</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;                    Intrinsic::arm_neon_bfmmla)</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;              .<a class="code" href="classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">&quot;arm.neon.bfmlalb.v4f32.v16i8&quot;</span>,</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;                    Intrinsic::arm_neon_bfmlalb)</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;              .<a class="code" href="classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">&quot;arm.neon.bfmlalt.v4f32.v16i8&quot;</span>,</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;                    Intrinsic::arm_neon_bfmlalt)</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;              .<a class="code" href="classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">&quot;aarch64.neon.bfmmla.v4f32.v16i8&quot;</span>,</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;                    Intrinsic::aarch64_neon_bfmmla)</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;              .<a class="code" href="classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">&quot;aarch64.neon.bfmlalb.v4f32.v16i8&quot;</span>,</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;                    Intrinsic::aarch64_neon_bfmlalb)</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;              .<a class="code" href="classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">&quot;aarch64.neon.bfmlalt.v4f32.v16i8&quot;</span>,</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;                    Intrinsic::aarch64_neon_bfmlalt)</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;              .<a class="code" href="classllvm_1_1StringSwitch.html#a7f0e82e8a818ca43926fceb49be81661">Default</a>(<a class="code" href="namespacellvm_1_1Intrinsic.html#a35fedf4db6d756bd82501607f93c1e79aab5fb650050f184fa7c19c26abde5226">Intrinsic::not_intrinsic</a>);</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;      <span class="keywordflow">if</span> (IID == <a class="code" href="namespacellvm_1_1Intrinsic.html#a35fedf4db6d756bd82501607f93c1e79aab5fb650050f184fa7c19c26abde5226">Intrinsic::not_intrinsic</a>)</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160; </div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;      std::array&lt;Type *, 0&gt; Tys;</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;      NewFn = <a class="code" href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">Intrinsic::getDeclaration</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getParent(), IID, Tys);</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;    }</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160; </div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;    <span class="keywordflow">if</span> (Name == <span class="stringliteral">&quot;arm.mve.vctp64&quot;</span> &amp;&amp;</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;        cast&lt;FixedVectorType&gt;(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getReturnType())-&gt;getNumElements() == 4) {</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;      <span class="comment">// A vctp64 returning a v4i1 is converted to return a v2i1. Rename the</span></div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;      <span class="comment">// function and deal with it below in UpgradeIntrinsicCall.</span></div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;      <a class="code" href="AutoUpgrade_8cpp.html#ac03fa12298f2b2ef59db774839aa630f">rename</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;    }</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;    <span class="comment">// These too are changed to accept a v2i1 insteead of the old v4i1.</span></div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;    <span class="keywordflow">if</span> (Name == <span class="stringliteral">&quot;arm.mve.mull.int.predicated.v2i64.v4i32.v4i1&quot;</span> ||</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;        Name == <span class="stringliteral">&quot;arm.mve.vqdmull.predicated.v2i64.v4i32.v4i1&quot;</span> ||</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;        Name == <span class="stringliteral">&quot;arm.mve.vldr.gather.base.predicated.v2i64.v2i64.v4i1&quot;</span> ||</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;        Name == <span class="stringliteral">&quot;arm.mve.vldr.gather.base.wb.predicated.v2i64.v2i64.v4i1&quot;</span> ||</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;        Name ==</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;            <span class="stringliteral">&quot;arm.mve.vldr.gather.offset.predicated.v2i64.p0i64.v2i64.v4i1&quot;</span> ||</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;        Name == <span class="stringliteral">&quot;arm.mve.vldr.gather.offset.predicated.v2i64.p0.v2i64.v4i1&quot;</span> ||</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;        Name == <span class="stringliteral">&quot;arm.mve.vstr.scatter.base.predicated.v2i64.v2i64.v4i1&quot;</span> ||</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;        Name == <span class="stringliteral">&quot;arm.mve.vstr.scatter.base.wb.predicated.v2i64.v2i64.v4i1&quot;</span> ||</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;        Name ==</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;            <span class="stringliteral">&quot;arm.mve.vstr.scatter.offset.predicated.p0i64.v2i64.v2i64.v4i1&quot;</span> ||</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;        Name == <span class="stringliteral">&quot;arm.mve.vstr.scatter.offset.predicated.p0.v2i64.v2i64.v4i1&quot;</span> ||</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;        Name == <span class="stringliteral">&quot;arm.cde.vcx1q.predicated.v2i64.v4i1&quot;</span> ||</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;        Name == <span class="stringliteral">&quot;arm.cde.vcx1qa.predicated.v2i64.v4i1&quot;</span> ||</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;        Name == <span class="stringliteral">&quot;arm.cde.vcx2q.predicated.v2i64.v4i1&quot;</span> ||</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;        Name == <span class="stringliteral">&quot;arm.cde.vcx2qa.predicated.v2i64.v4i1&quot;</span> ||</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;        Name == <span class="stringliteral">&quot;arm.cde.vcx3q.predicated.v2i64.v4i1&quot;</span> ||</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;        Name == <span class="stringliteral">&quot;arm.cde.vcx3qa.predicated.v2i64.v4i1&quot;</span>)</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160; </div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;    <span class="keywordflow">if</span> (Name == <span class="stringliteral">&quot;amdgcn.alignbit&quot;</span>) {</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;      <span class="comment">// Target specific intrinsic became redundant</span></div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;      NewFn = <a class="code" href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">Intrinsic::getDeclaration</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getParent(), Intrinsic::fshr,</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;                                        {F-&gt;getReturnType()});</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;    }</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160; </div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;  }</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160; </div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;  <span class="keywordflow">case</span> <span class="charliteral">&#39;c&#39;</span>: {</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;    <span class="keywordflow">if</span> (Name.startswith(<span class="stringliteral">&quot;ctlz.&quot;</span>) &amp;&amp; <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;arg_size() == 1) {</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;      <a class="code" href="AutoUpgrade_8cpp.html#ac03fa12298f2b2ef59db774839aa630f">rename</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;      NewFn = <a class="code" href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">Intrinsic::getDeclaration</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getParent(), Intrinsic::ctlz,</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;                                        <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;arg_begin()-&gt;getType());</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;    }</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;    <span class="keywordflow">if</span> (Name.startswith(<span class="stringliteral">&quot;cttz.&quot;</span>) &amp;&amp; <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;arg_size() == 1) {</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;      <a class="code" href="AutoUpgrade_8cpp.html#ac03fa12298f2b2ef59db774839aa630f">rename</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;      NewFn = <a class="code" href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">Intrinsic::getDeclaration</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getParent(), Intrinsic::cttz,</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;                                        <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;arg_begin()-&gt;getType());</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;    }</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;  }</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;  <span class="keywordflow">case</span> <span class="charliteral">&#39;d&#39;</span>: {</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;    <span class="keywordflow">if</span> (Name == <span class="stringliteral">&quot;dbg.value&quot;</span> &amp;&amp; <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;arg_size() == 4) {</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;      <a class="code" href="AutoUpgrade_8cpp.html#ac03fa12298f2b2ef59db774839aa630f">rename</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;      NewFn = <a class="code" href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">Intrinsic::getDeclaration</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getParent(), Intrinsic::dbg_value);</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;    }</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;  }</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;  <span class="keywordflow">case</span> <span class="charliteral">&#39;e&#39;</span>: {</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;    <span class="keywordflow">if</span> (Name.startswith(<span class="stringliteral">&quot;experimental.vector.extract.&quot;</span>)) {</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;      <a class="code" href="AutoUpgrade_8cpp.html#ac03fa12298f2b2ef59db774839aa630f">rename</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;      <a class="code" href="classllvm_1_1Type.html">Type</a> *Tys[] = {<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getReturnType(), <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;arg_begin()-&gt;getType()};</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;      NewFn = <a class="code" href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">Intrinsic::getDeclaration</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getParent(),</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;                                        Intrinsic::vector_extract, Tys);</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;    }</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160; </div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;    <span class="keywordflow">if</span> (Name.startswith(<span class="stringliteral">&quot;experimental.vector.insert.&quot;</span>)) {</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;      <a class="code" href="AutoUpgrade_8cpp.html#ac03fa12298f2b2ef59db774839aa630f">rename</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;      <span class="keyword">auto</span> <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a> = <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getFunctionType()-&gt;params();</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;      <a class="code" href="classllvm_1_1Type.html">Type</a> *Tys[] = {<a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>[0], <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>[1]};</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;      NewFn = <a class="code" href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">Intrinsic::getDeclaration</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getParent(),</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;                                        Intrinsic::vector_insert, Tys);</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;    }</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160; </div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;StringRef, 2&gt;</a> <a class="code" href="X86InstrFMA3Info_8cpp.html#ab138684de9096eb96683328900f78e48">Groups</a>;</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classllvm_1_1Regex.html">Regex</a> R(<span class="stringliteral">&quot;^experimental.vector.reduce.([a-z]+)\\.[a-z][0-9]+&quot;</span>);</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;    <span class="keywordflow">if</span> (R.match(Name, &amp;<a class="code" href="X86InstrFMA3Info_8cpp.html#ab138684de9096eb96683328900f78e48">Groups</a>)) {</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;      <a class="code" href="namespacellvm_1_1Intrinsic.html#a80add6b3b1cdaec560907995127adc16">Intrinsic::ID</a> <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>;</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;      <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a> = <a class="code" href="classllvm_1_1StringSwitch.html">StringSwitch&lt;Intrinsic::ID&gt;</a>(<a class="code" href="X86InstrFMA3Info_8cpp.html#ab138684de9096eb96683328900f78e48">Groups</a>[1])</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;               .<a class="code" href="classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">&quot;add&quot;</span>, Intrinsic::vector_reduce_add)</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;               .<a class="code" href="classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">&quot;mul&quot;</span>, Intrinsic::vector_reduce_mul)</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;               .<a class="code" href="classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">&quot;and&quot;</span>, Intrinsic::vector_reduce_and)</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;               .<a class="code" href="classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">&quot;or&quot;</span>, Intrinsic::vector_reduce_or)</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;               .<a class="code" href="classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">&quot;xor&quot;</span>, Intrinsic::vector_reduce_xor)</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;               .<a class="code" href="classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">&quot;smax&quot;</span>, Intrinsic::vector_reduce_smax)</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;               .<a class="code" href="classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">&quot;smin&quot;</span>, Intrinsic::vector_reduce_smin)</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;               .<a class="code" href="classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">&quot;umax&quot;</span>, Intrinsic::vector_reduce_umax)</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;               .<a class="code" href="classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">&quot;umin&quot;</span>, Intrinsic::vector_reduce_umin)</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;               .<a class="code" href="classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">&quot;fmax&quot;</span>, Intrinsic::vector_reduce_fmax)</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;               .<a class="code" href="classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">&quot;fmin&quot;</span>, Intrinsic::vector_reduce_fmin)</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;               .<a class="code" href="classllvm_1_1StringSwitch.html#a7f0e82e8a818ca43926fceb49be81661">Default</a>(<a class="code" href="namespacellvm_1_1Intrinsic.html#a35fedf4db6d756bd82501607f93c1e79aab5fb650050f184fa7c19c26abde5226">Intrinsic::not_intrinsic</a>);</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a> != <a class="code" href="namespacellvm_1_1Intrinsic.html#a35fedf4db6d756bd82501607f93c1e79aab5fb650050f184fa7c19c26abde5226">Intrinsic::not_intrinsic</a>) {</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;        <a class="code" href="AutoUpgrade_8cpp.html#ac03fa12298f2b2ef59db774839aa630f">rename</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;        <span class="keyword">auto</span> <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a> = <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getFunctionType()-&gt;params();</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;        NewFn = <a class="code" href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">Intrinsic::getDeclaration</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getParent(), <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>, {Args[0]});</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;      }</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;    }</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classllvm_1_1Regex.html">Regex</a> <a class="code" href="MathExtras_8h.html#a9211f62d8e1e6de999eaa63ec0f6ae02">R2</a>(</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;        <span class="stringliteral">&quot;^experimental.vector.reduce.v2.([a-z]+)\\.[fi][0-9]+&quot;</span>);</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;    <a class="code" href="X86InstrFMA3Info_8cpp.html#ab138684de9096eb96683328900f78e48">Groups</a>.clear();</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="MathExtras_8h.html#a9211f62d8e1e6de999eaa63ec0f6ae02">R2</a>.match(Name, &amp;<a class="code" href="X86InstrFMA3Info_8cpp.html#ab138684de9096eb96683328900f78e48">Groups</a>)) {</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;      <a class="code" href="namespacellvm_1_1Intrinsic.html#a80add6b3b1cdaec560907995127adc16">Intrinsic::ID</a> <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a> = <a class="code" href="namespacellvm_1_1Intrinsic.html#a35fedf4db6d756bd82501607f93c1e79aab5fb650050f184fa7c19c26abde5226">Intrinsic::not_intrinsic</a>;</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="X86InstrFMA3Info_8cpp.html#ab138684de9096eb96683328900f78e48">Groups</a>[1] == <span class="stringliteral">&quot;fadd&quot;</span>)</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;        <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a> = Intrinsic::vector_reduce_fadd;</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="X86InstrFMA3Info_8cpp.html#ab138684de9096eb96683328900f78e48">Groups</a>[1] == <span class="stringliteral">&quot;fmul&quot;</span>)</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;        <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a> = Intrinsic::vector_reduce_fmul;</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a> != <a class="code" href="namespacellvm_1_1Intrinsic.html#a35fedf4db6d756bd82501607f93c1e79aab5fb650050f184fa7c19c26abde5226">Intrinsic::not_intrinsic</a>) {</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;        <a class="code" href="AutoUpgrade_8cpp.html#ac03fa12298f2b2ef59db774839aa630f">rename</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;        <span class="keyword">auto</span> <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a> = <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getFunctionType()-&gt;params();</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;        <a class="code" href="classllvm_1_1Type.html">Type</a> *Tys[] = {<a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>[1]};</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;        NewFn = <a class="code" href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">Intrinsic::getDeclaration</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getParent(), <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>, Tys);</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;      }</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;    }</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;  }</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;  <span class="keywordflow">case</span> <span class="charliteral">&#39;f&#39;</span>:</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;    <span class="keywordflow">if</span> (Name.startswith(<span class="stringliteral">&quot;flt.rounds&quot;</span>)) {</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;      <a class="code" href="AutoUpgrade_8cpp.html#ac03fa12298f2b2ef59db774839aa630f">rename</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;      NewFn = <a class="code" href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">Intrinsic::getDeclaration</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getParent(), Intrinsic::get_rounding);</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;    }</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;  <span class="keywordflow">case</span> <span class="charliteral">&#39;i&#39;</span>:</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;  <span class="keywordflow">case</span> <span class="charliteral">&#39;l&#39;</span>: {</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;    <span class="keywordtype">bool</span> IsLifetimeStart = Name.startswith(<span class="stringliteral">&quot;lifetime.start&quot;</span>);</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;    <span class="keywordflow">if</span> (IsLifetimeStart || Name.startswith(<span class="stringliteral">&quot;invariant.start&quot;</span>)) {</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;      <a class="code" href="namespacellvm_1_1Intrinsic.html#a80add6b3b1cdaec560907995127adc16">Intrinsic::ID</a> <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a> = IsLifetimeStart ?</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;        Intrinsic::lifetime_start : Intrinsic::invariant_start;</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;      <span class="keyword">auto</span> <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a> = <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getFunctionType()-&gt;params();</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;      <a class="code" href="classllvm_1_1Type.html">Type</a>* ObjectPtr[1] = {<a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>[1]};</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getName() != <a class="code" href="namespacellvm_1_1Intrinsic.html#a7157f9fa9dd11f234ec3c58517cb6d96">Intrinsic::getName</a>(<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>, ObjectPtr, <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getParent())) {</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;        <a class="code" href="AutoUpgrade_8cpp.html#ac03fa12298f2b2ef59db774839aa630f">rename</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;        NewFn = <a class="code" href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">Intrinsic::getDeclaration</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getParent(), <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>, ObjectPtr);</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;      }</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;    }</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160; </div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;    <span class="keywordtype">bool</span> IsLifetimeEnd = Name.startswith(<span class="stringliteral">&quot;lifetime.end&quot;</span>);</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;    <span class="keywordflow">if</span> (IsLifetimeEnd || Name.startswith(<span class="stringliteral">&quot;invariant.end&quot;</span>)) {</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;      <a class="code" href="namespacellvm_1_1Intrinsic.html#a80add6b3b1cdaec560907995127adc16">Intrinsic::ID</a> <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a> = IsLifetimeEnd ?</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;        Intrinsic::lifetime_end : Intrinsic::invariant_end;</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160; </div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;      <span class="keyword">auto</span> <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a> = <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getFunctionType()-&gt;params();</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;      <a class="code" href="classllvm_1_1Type.html">Type</a>* ObjectPtr[1] = {<a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>[IsLifetimeEnd ? 1 : 2]};</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getName() != <a class="code" href="namespacellvm_1_1Intrinsic.html#a7157f9fa9dd11f234ec3c58517cb6d96">Intrinsic::getName</a>(<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>, ObjectPtr, <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getParent())) {</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;        <a class="code" href="AutoUpgrade_8cpp.html#ac03fa12298f2b2ef59db774839aa630f">rename</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;        NewFn = <a class="code" href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">Intrinsic::getDeclaration</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getParent(), <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>, ObjectPtr);</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;      }</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;    }</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;    <span class="keywordflow">if</span> (Name.startswith(<span class="stringliteral">&quot;invariant.group.barrier&quot;</span>)) {</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;      <span class="comment">// Rename invariant.group.barrier to launder.invariant.group</span></div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;      <span class="keyword">auto</span> <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a> = <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getFunctionType()-&gt;params();</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;      <a class="code" href="classllvm_1_1Type.html">Type</a>* ObjectPtr[1] = {<a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>[0]};</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;      <a class="code" href="AutoUpgrade_8cpp.html#ac03fa12298f2b2ef59db774839aa630f">rename</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;      NewFn = <a class="code" href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">Intrinsic::getDeclaration</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getParent(),</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;          Intrinsic::launder_invariant_group, ObjectPtr);</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160; </div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;    }</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160; </div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;  }</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;  <span class="keywordflow">case</span> <span class="charliteral">&#39;m&#39;</span>: {</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;    <span class="keywordflow">if</span> (Name.startswith(<span class="stringliteral">&quot;masked.load.&quot;</span>)) {</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;      <a class="code" href="classllvm_1_1Type.html">Type</a> *Tys[] = { <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getReturnType(), <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;arg_begin()-&gt;getType() };</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getName() !=</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;          <a class="code" href="namespacellvm_1_1Intrinsic.html#a7157f9fa9dd11f234ec3c58517cb6d96">Intrinsic::getName</a>(Intrinsic::masked_load, Tys, <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getParent())) {</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;        <a class="code" href="AutoUpgrade_8cpp.html#ac03fa12298f2b2ef59db774839aa630f">rename</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;        NewFn = <a class="code" href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">Intrinsic::getDeclaration</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getParent(),</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;                                          Intrinsic::masked_load,</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;                                          Tys);</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;      }</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;    }</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;    <span class="keywordflow">if</span> (Name.startswith(<span class="stringliteral">&quot;masked.store.&quot;</span>)) {</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;      <span class="keyword">auto</span> <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a> = <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getFunctionType()-&gt;params();</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;      <a class="code" href="classllvm_1_1Type.html">Type</a> *Tys[] = { <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>[0], <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>[1] };</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getName() !=</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;          <a class="code" href="namespacellvm_1_1Intrinsic.html#a7157f9fa9dd11f234ec3c58517cb6d96">Intrinsic::getName</a>(Intrinsic::masked_store, Tys, <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getParent())) {</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;        <a class="code" href="AutoUpgrade_8cpp.html#ac03fa12298f2b2ef59db774839aa630f">rename</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;        NewFn = <a class="code" href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">Intrinsic::getDeclaration</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getParent(),</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;                                          Intrinsic::masked_store,</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;                                          Tys);</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;      }</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;    }</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;    <span class="comment">// Renaming gather/scatter intrinsics with no address space overloading</span></div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;    <span class="comment">// to the new overload which includes an address space</span></div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;    <span class="keywordflow">if</span> (Name.startswith(<span class="stringliteral">&quot;masked.gather.&quot;</span>)) {</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;      <a class="code" href="classllvm_1_1Type.html">Type</a> *Tys[] = {<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getReturnType(), <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;arg_begin()-&gt;getType()};</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getName() !=</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;          <a class="code" href="namespacellvm_1_1Intrinsic.html#a7157f9fa9dd11f234ec3c58517cb6d96">Intrinsic::getName</a>(Intrinsic::masked_gather, Tys, <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getParent())) {</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;        <a class="code" href="AutoUpgrade_8cpp.html#ac03fa12298f2b2ef59db774839aa630f">rename</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;        NewFn = <a class="code" href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">Intrinsic::getDeclaration</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getParent(),</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;                                          Intrinsic::masked_gather, Tys);</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;      }</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;    }</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;    <span class="keywordflow">if</span> (Name.startswith(<span class="stringliteral">&quot;masked.scatter.&quot;</span>)) {</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;      <span class="keyword">auto</span> <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a> = <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getFunctionType()-&gt;params();</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;      <a class="code" href="classllvm_1_1Type.html">Type</a> *Tys[] = {<a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>[0], <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>[1]};</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getName() !=</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;          <a class="code" href="namespacellvm_1_1Intrinsic.html#a7157f9fa9dd11f234ec3c58517cb6d96">Intrinsic::getName</a>(Intrinsic::masked_scatter, Tys, <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getParent())) {</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;        <a class="code" href="AutoUpgrade_8cpp.html#ac03fa12298f2b2ef59db774839aa630f">rename</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;        NewFn = <a class="code" href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">Intrinsic::getDeclaration</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getParent(),</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;                                          Intrinsic::masked_scatter, Tys);</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;      }</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;    }</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;    <span class="comment">// Updating the memory intrinsics (memcpy/memmove/memset) that have an</span></div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;    <span class="comment">// alignment parameter to embedding the alignment as an attribute of</span></div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;    <span class="comment">// the pointer args.</span></div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;    <span class="keywordflow">if</span> (Name.startswith(<span class="stringliteral">&quot;memcpy.&quot;</span>) &amp;&amp; <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;arg_size() == 5) {</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;      <a class="code" href="AutoUpgrade_8cpp.html#ac03fa12298f2b2ef59db774839aa630f">rename</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;      <span class="comment">// Get the types of dest, src, and len</span></div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;      <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;Type *&gt;</a> ParamTypes = <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getFunctionType()-&gt;params().slice(0, 3);</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;      NewFn = <a class="code" href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">Intrinsic::getDeclaration</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getParent(), <a class="code" href="lib_2Target_2ARM_2README_8txt.html#ae2bb081d94f22e64ca6bc4bd58512a93">Intrinsic::memcpy</a>,</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;                                        ParamTypes);</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;    }</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;    <span class="keywordflow">if</span> (Name.startswith(<span class="stringliteral">&quot;memmove.&quot;</span>) &amp;&amp; <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;arg_size() == 5) {</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;      <a class="code" href="AutoUpgrade_8cpp.html#ac03fa12298f2b2ef59db774839aa630f">rename</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;      <span class="comment">// Get the types of dest, src, and len</span></div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;      <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;Type *&gt;</a> ParamTypes = <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getFunctionType()-&gt;params().slice(0, 3);</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;      NewFn = <a class="code" href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">Intrinsic::getDeclaration</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getParent(), Intrinsic::memmove,</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;                                        ParamTypes);</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;    }</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;    <span class="keywordflow">if</span> (Name.startswith(<span class="stringliteral">&quot;memset.&quot;</span>) &amp;&amp; <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;arg_size() == 5) {</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;      <a class="code" href="AutoUpgrade_8cpp.html#ac03fa12298f2b2ef59db774839aa630f">rename</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;      <span class="comment">// Get the types of dest, and len</span></div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;      <span class="keyword">const</span> <span class="keyword">auto</span> *FT = <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getFunctionType();</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;      <a class="code" href="classllvm_1_1Type.html">Type</a> *ParamTypes[2] = {</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;          FT-&gt;getParamType(0), <span class="comment">// Dest</span></div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;          FT-&gt;getParamType(2)  <span class="comment">// len</span></div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;      };</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;      NewFn = <a class="code" href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">Intrinsic::getDeclaration</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getParent(), Intrinsic::memset,</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;                                        ParamTypes);</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;    }</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;  }</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;  <span class="keywordflow">case</span> <span class="charliteral">&#39;n&#39;</span>: {</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;    <span class="keywordflow">if</span> (Name.startswith(<span class="stringliteral">&quot;nvvm.&quot;</span>)) {</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;      Name = Name.substr(5);</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160; </div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;      <span class="comment">// The following nvvm intrinsics correspond exactly to an LLVM intrinsic.</span></div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;      <a class="code" href="namespacellvm_1_1Intrinsic.html#a80add6b3b1cdaec560907995127adc16">Intrinsic::ID</a> IID = <a class="code" href="classllvm_1_1StringSwitch.html">StringSwitch&lt;Intrinsic::ID&gt;</a>(Name)</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;                              .<a class="code" href="classllvm_1_1StringSwitch.html#aa691974996d9be968506bca2cc1229bd">Cases</a>(<span class="stringliteral">&quot;brev32&quot;</span>, <span class="stringliteral">&quot;brev64&quot;</span>, Intrinsic::bitreverse)</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;                              .<a class="code" href="classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">&quot;clz.i&quot;</span>, Intrinsic::ctlz)</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;                              .<a class="code" href="classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">&quot;popc.i&quot;</span>, Intrinsic::ctpop)</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;                              .<a class="code" href="classllvm_1_1StringSwitch.html#a7f0e82e8a818ca43926fceb49be81661">Default</a>(<a class="code" href="namespacellvm_1_1Intrinsic.html#a35fedf4db6d756bd82501607f93c1e79aab5fb650050f184fa7c19c26abde5226">Intrinsic::not_intrinsic</a>);</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;      <span class="keywordflow">if</span> (IID != <a class="code" href="namespacellvm_1_1Intrinsic.html#a35fedf4db6d756bd82501607f93c1e79aab5fb650050f184fa7c19c26abde5226">Intrinsic::not_intrinsic</a> &amp;&amp; <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;arg_size() == 1) {</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;        NewFn = <a class="code" href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">Intrinsic::getDeclaration</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getParent(), IID,</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;                                          {F-&gt;getReturnType()});</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;      }</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160; </div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;      <span class="comment">// The following nvvm intrinsics correspond exactly to an LLVM idiom, but</span></div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;      <span class="comment">// not to an intrinsic alone.  We expand them in UpgradeIntrinsicCall.</span></div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;      <span class="comment">//</span></div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;      <span class="comment">// TODO: We could add lohi.i2d.</span></div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;      <span class="keywordtype">bool</span> Expand = <a class="code" href="classllvm_1_1StringSwitch.html">StringSwitch&lt;bool&gt;</a>(Name)</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;                        .<a class="code" href="classllvm_1_1StringSwitch.html#aa691974996d9be968506bca2cc1229bd">Cases</a>(<span class="stringliteral">&quot;abs.i&quot;</span>, <span class="stringliteral">&quot;abs.ll&quot;</span>, <span class="keyword">true</span>)</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;                        .<a class="code" href="classllvm_1_1StringSwitch.html#aa691974996d9be968506bca2cc1229bd">Cases</a>(<span class="stringliteral">&quot;clz.ll&quot;</span>, <span class="stringliteral">&quot;popc.ll&quot;</span>, <span class="stringliteral">&quot;h2f&quot;</span>, <span class="keyword">true</span>)</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;                        .<a class="code" href="classllvm_1_1StringSwitch.html#aa691974996d9be968506bca2cc1229bd">Cases</a>(<span class="stringliteral">&quot;max.i&quot;</span>, <span class="stringliteral">&quot;max.ll&quot;</span>, <span class="stringliteral">&quot;max.ui&quot;</span>, <span class="stringliteral">&quot;max.ull&quot;</span>, <span class="keyword">true</span>)</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;                        .<a class="code" href="classllvm_1_1StringSwitch.html#aa691974996d9be968506bca2cc1229bd">Cases</a>(<span class="stringliteral">&quot;min.i&quot;</span>, <span class="stringliteral">&quot;min.ll&quot;</span>, <span class="stringliteral">&quot;min.ui&quot;</span>, <span class="stringliteral">&quot;min.ull&quot;</span>, <span class="keyword">true</span>)</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;                        .<a class="code" href="classllvm_1_1StringSwitch.html#adcca0c9d8e5e7fab87046096d4f89d47">StartsWith</a>(<span class="stringliteral">&quot;atomic.load.add.f32.p&quot;</span>, <span class="keyword">true</span>)</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;                        .<a class="code" href="classllvm_1_1StringSwitch.html#adcca0c9d8e5e7fab87046096d4f89d47">StartsWith</a>(<span class="stringliteral">&quot;atomic.load.add.f64.p&quot;</span>, <span class="keyword">true</span>)</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;                        .<a class="code" href="classllvm_1_1StringSwitch.html#a7f0e82e8a818ca43926fceb49be81661">Default</a>(<span class="keyword">false</span>);</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;      <span class="keywordflow">if</span> (Expand) {</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;        NewFn = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;      }</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;    }</div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;  }</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;  <span class="keywordflow">case</span> <span class="charliteral">&#39;o&#39;</span>:</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;    <span class="comment">// We only need to change the name to match the mangling including the</span></div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;    <span class="comment">// address space.</span></div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;    <span class="keywordflow">if</span> (Name.startswith(<span class="stringliteral">&quot;objectsize.&quot;</span>)) {</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;      <a class="code" href="classllvm_1_1Type.html">Type</a> *Tys[2] = { <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getReturnType(), <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;arg_begin()-&gt;getType() };</div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;arg_size() == 2 || <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;arg_size() == 3 ||</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;          <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getName() !=</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;              <a class="code" href="namespacellvm_1_1Intrinsic.html#a7157f9fa9dd11f234ec3c58517cb6d96">Intrinsic::getName</a>(Intrinsic::objectsize, Tys, <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getParent())) {</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;        <a class="code" href="AutoUpgrade_8cpp.html#ac03fa12298f2b2ef59db774839aa630f">rename</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;        NewFn = <a class="code" href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">Intrinsic::getDeclaration</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getParent(), Intrinsic::objectsize,</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;                                          Tys);</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;      }</div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;    }</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160; </div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;  <span class="keywordflow">case</span> <span class="charliteral">&#39;p&#39;</span>:</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;    <span class="keywordflow">if</span> (Name == <span class="stringliteral">&quot;prefetch&quot;</span>) {</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;      <span class="comment">// Handle address space overloading.</span></div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;      <a class="code" href="classllvm_1_1Type.html">Type</a> *Tys[] = {<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;arg_begin()-&gt;getType()};</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getName() !=</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;          <a class="code" href="namespacellvm_1_1Intrinsic.html#a7157f9fa9dd11f234ec3c58517cb6d96">Intrinsic::getName</a>(<a class="code" href="LoopDataPrefetch_8cpp.html#af1aa8156fe6dc9478d31e05cf3c1eb9b">Intrinsic::prefetch</a>, Tys, <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getParent())) {</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;        <a class="code" href="AutoUpgrade_8cpp.html#ac03fa12298f2b2ef59db774839aa630f">rename</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;        NewFn =</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;            <a class="code" href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">Intrinsic::getDeclaration</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getParent(), <a class="code" href="LoopDataPrefetch_8cpp.html#af1aa8156fe6dc9478d31e05cf3c1eb9b">Intrinsic::prefetch</a>, Tys);</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;      }</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Name.startswith(<span class="stringliteral">&quot;ptr.annotation.&quot;</span>) &amp;&amp; <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;arg_size() == 4) {</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;      <a class="code" href="AutoUpgrade_8cpp.html#ac03fa12298f2b2ef59db774839aa630f">rename</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;      NewFn = <a class="code" href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">Intrinsic::getDeclaration</a>(</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;          <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getParent(), Intrinsic::ptr_annotation,</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;          {F-&gt;arg_begin()-&gt;getType(), F-&gt;getArg(1)-&gt;getType()});</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;    }</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160; </div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;  <span class="keywordflow">case</span> <span class="charliteral">&#39;s&#39;</span>:</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;    <span class="keywordflow">if</span> (Name == <span class="stringliteral">&quot;stackprotectorcheck&quot;</span>) {</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;      NewFn = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;    }</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160; </div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;  <span class="keywordflow">case</span> <span class="charliteral">&#39;v&#39;</span>: {</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;    <span class="keywordflow">if</span> (Name == <span class="stringliteral">&quot;var.annotation&quot;</span> &amp;&amp; <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;arg_size() == 4) {</div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;      <a class="code" href="AutoUpgrade_8cpp.html#ac03fa12298f2b2ef59db774839aa630f">rename</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;      NewFn = <a class="code" href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">Intrinsic::getDeclaration</a>(</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;          <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getParent(), Intrinsic::var_annotation,</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;          {{F-&gt;arg_begin()-&gt;getType(), F-&gt;getArg(1)-&gt;getType()}});</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;    }</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;  }</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160; </div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;  <span class="keywordflow">case</span> <span class="charliteral">&#39;x&#39;</span>:</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="AutoUpgrade_8cpp.html#a6323b0c36af4c6f73cce3e417d864a80">UpgradeX86IntrinsicFunction</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, Name, NewFn))</div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;  }</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160; </div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;  <span class="keyword">auto</span> *<a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">ST</a> = dyn_cast&lt;StructType&gt;(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getReturnType());</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">ST</a> &amp;&amp; (!<a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">ST</a>-&gt;isLiteral() || <a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">ST</a>-&gt;isPacked())) {</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;    <span class="comment">// Replace return type with literal non-packed struct. Only do this for</span></div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;    <span class="comment">// intrinsics declared to return a struct, not for intrinsics with</span></div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;    <span class="comment">// overloaded return type, in which case the exact struct type will be</span></div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;    <span class="comment">// mangled into the name.</span></div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Intrinsic::IITDescriptor&gt;</a> Desc;</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;    <a class="code" href="namespacellvm_1_1Intrinsic.html#a264036c4b5fffd4ce40a5414d587d26b">Intrinsic::getIntrinsicInfoTableEntries</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getIntrinsicID(), Desc);</div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;    <span class="keywordflow">if</span> (Desc.front().Kind == <a class="code" href="structllvm_1_1Intrinsic_1_1IITDescriptor.html#a4bdf4f1a432b628d6c78a4942244c0fcab4f1ac6b37c7049da733e72ef90eabcd">Intrinsic::IITDescriptor::Struct</a>) {</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;      <span class="keyword">auto</span> *FT = <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getFunctionType();</div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;      <span class="keyword">auto</span> *NewST = <a class="code" href="classllvm_1_1StructType.html#a18fc4545474c6ebb6f7c547f64f4fb31">StructType::get</a>(<a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">ST</a>-&gt;getContext(), <a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">ST</a>-&gt;elements());</div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;      <span class="keyword">auto</span> *NewFT = <a class="code" href="classllvm_1_1FunctionType.html#a7e89b55242c964ae61b7850e99cacef0">FunctionType::get</a>(NewST, FT-&gt;params(), FT-&gt;isVarArg());</div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;      std::string <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> = <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getName().str();</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;      <a class="code" href="AutoUpgrade_8cpp.html#ac03fa12298f2b2ef59db774839aa630f">rename</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;      NewFn = <a class="code" href="classllvm_1_1Function.html#a6adbed68009f582caa84cdfd2adf36f1">Function::Create</a>(NewFT, <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getLinkage(), <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getAddressSpace(),</div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;                               Name, <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getParent());</div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160; </div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;      <span class="comment">// The new function may also need remangling.</span></div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">auto</span> Result = <a class="code" href="namespacellvm_1_1Intrinsic.html#a3ce5fd3a8d74ecd38fdb5e27f85d2d61">llvm::Intrinsic::remangleIntrinsicFunction</a>(NewFn))</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;        NewFn = *<a class="code" href="namespacellvm_1_1ms__demangle.html#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">Result</a>;</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;    }</div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;  }</div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160; </div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;  <span class="comment">// Remangle our intrinsic since we upgrade the mangling</span></div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;  <span class="keyword">auto</span> <a class="code" href="namespacellvm_1_1ms__demangle.html#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">Result</a> = <a class="code" href="namespacellvm_1_1Intrinsic.html#a3ce5fd3a8d74ecd38fdb5e27f85d2d61">llvm::Intrinsic::remangleIntrinsicFunction</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;  <span class="keywordflow">if</span> (Result != std::nullopt) {</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;    NewFn = *<a class="code" href="namespacellvm_1_1ms__demangle.html#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">Result</a>;</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;  }</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160; </div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;  <span class="comment">//  This may not belong here. This function is effectively being overloaded</span></div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;  <span class="comment">//  to both detect an intrinsic which needs upgrading, and to provide the</span></div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;  <span class="comment">//  upgraded form of the intrinsic. We should perhaps have two separate</span></div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;  <span class="comment">//  functions for this.</span></div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;}</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160; </div>
<div class="line"><a name="l01175"></a><span class="lineno"><a class="line" href="namespacellvm.html#a2abe514fb0b09ac996c305db8ceee5d0"> 1175</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="namespacellvm.html#a2abe514fb0b09ac996c305db8ceee5d0">llvm::UpgradeIntrinsicFunction</a>(<a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, <a class="code" href="classllvm_1_1Function.html">Function</a> *&amp;NewFn) {</div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;  NewFn = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;  <span class="keywordtype">bool</span> Upgraded = <a class="code" href="AutoUpgrade_8cpp.html#a3df76924c826200f06bd78ceb7191a4d">UpgradeIntrinsicFunction1</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, NewFn);</div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> != NewFn &amp;&amp; <span class="stringliteral">&quot;Intrinsic function upgraded to the same function&quot;</span>);</div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160; </div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;  <span class="comment">// Upgrade intrinsic attributes.  This does not change the function.</span></div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;  <span class="keywordflow">if</span> (NewFn)</div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;    <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> = NewFn;</div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1Intrinsic.html#a80add6b3b1cdaec560907995127adc16">Intrinsic::ID</a> <span class="keywordtype">id</span> = <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getIntrinsicID())</div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;    <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;setAttributes(<a class="code" href="namespacellvm_1_1Intrinsic.html#a89cda2218259523c41863fc1175d6907">Intrinsic::getAttributes</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getContext(), <span class="keywordtype">id</span>));</div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;  <span class="keywordflow">return</span> Upgraded;</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;}</div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160; </div>
<div class="line"><a name="l01188"></a><span class="lineno"><a class="line" href="namespacellvm.html#a95b7e7311ec52352ada27699c3c9c470"> 1188</a></span>&#160;<a class="code" href="classllvm_1_1GlobalVariable.html">GlobalVariable</a> *<a class="code" href="namespacellvm.html#a95b7e7311ec52352ada27699c3c9c470">llvm::UpgradeGlobalVariable</a>(<a class="code" href="classllvm_1_1GlobalVariable.html">GlobalVariable</a> *GV) {</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;  <span class="keywordflow">if</span> (!(GV-&gt;<a class="code" href="classllvm_1_1Value.html#ad9d88ae321b98d8a3b7f394977ae6d7f">hasName</a>() &amp;&amp; (GV-&gt;<a class="code" href="classllvm_1_1Value.html#adb5c319f5905c1d3ca9eb5df546388c5">getName</a>() == <span class="stringliteral">&quot;llvm.global_ctors&quot;</span> ||</div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;                          GV-&gt;<a class="code" href="classllvm_1_1Value.html#adb5c319f5905c1d3ca9eb5df546388c5">getName</a>() == <span class="stringliteral">&quot;llvm.global_dtors&quot;</span>)) ||</div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;      !GV-&gt;<a class="code" href="classllvm_1_1GlobalVariable.html#a1c66d4eff947253e7610a66379974d63">hasInitializer</a>())</div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;  <a class="code" href="classllvm_1_1ArrayType.html">ArrayType</a> *ATy = dyn_cast&lt;ArrayType&gt;(GV-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a29e0b1c558b350347e2652b35b26fea8">getValueType</a>());</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;  <span class="keywordflow">if</span> (!ATy)</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;  <a class="code" href="classllvm_1_1StructType.html">StructType</a> *STy = dyn_cast&lt;StructType&gt;(ATy-&gt;<a class="code" href="classllvm_1_1ArrayType.html#a7e5e750381e3dfafd746e95a0843bff7">getElementType</a>());</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;  <span class="keywordflow">if</span> (!STy || STy-&gt;<a class="code" href="classllvm_1_1StructType.html#a858efd7b61654c0de28c56f9adafa13d">getNumElements</a>() != 2)</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160; </div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;  <a class="code" href="classllvm_1_1LLVMContext.html">LLVMContext</a> &amp;<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = GV-&gt;<a class="code" href="classllvm_1_1Value.html#ab3fc0225d8aaf8434026c3573f961f2c">getContext</a>();</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;  <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> IRB(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>);</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;  <span class="keyword">auto</span> EltTy = <a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#aa91241c8c54738377749dc47ee489e0d">StructType::get</a>(STy-&gt;<a class="code" href="classllvm_1_1StructType.html#a6cb66137274f95e4bf6b324b8af9ab56">getElementType</a>(0), STy-&gt;<a class="code" href="classllvm_1_1StructType.html#a6cb66137274f95e4bf6b324b8af9ab56">getElementType</a>(1),</div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;                               IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a7badbb741cd23e73ad063428c9cd5fea">getInt8PtrTy</a>());</div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;  <a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="classllvm_1_1Init.html">Init</a> = GV-&gt;<a class="code" href="classllvm_1_1GlobalVariable.html#a0e5946885029c1bce1350d34f2539b1b">getInitializer</a>();</div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> = <a class="code" href="classllvm_1_1Init.html">Init</a>-&gt;getNumOperands();</div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;  std::vector&lt;Constant *&gt; NewCtors(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;    <span class="keyword">auto</span> Ctor = cast&lt;Constant&gt;(<a class="code" href="classllvm_1_1Init.html">Init</a>-&gt;getOperand(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>));</div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;    NewCtors[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#aa91241c8c54738377749dc47ee489e0d">ConstantStruct::get</a>(</div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;        EltTy, Ctor-&gt;getAggregateElement(0u), Ctor-&gt;getAggregateElement(1),</div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;        Constant::getNullValue(IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a7badbb741cd23e73ad063428c9cd5fea">getInt8PtrTy</a>()));</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;  }</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;  <a class="code" href="classllvm_1_1Constant.html">Constant</a> *NewInit = <a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#aa91241c8c54738377749dc47ee489e0d">ConstantArray::get</a>(<a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#aa91241c8c54738377749dc47ee489e0d">ArrayType::get</a>(EltTy, <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>), NewCtors);</div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160; </div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="classllvm_1_1GlobalVariable.html">GlobalVariable</a>(NewInit-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>(), <span class="keyword">false</span>, GV-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a3547d58a060ee2e4a29cbea85bef91af">getLinkage</a>(),</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;                            NewInit, GV-&gt;<a class="code" href="classllvm_1_1Value.html#adb5c319f5905c1d3ca9eb5df546388c5">getName</a>());</div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;}</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160; </div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;<span class="comment">// Handles upgrading SSE2/AVX2/AVX512BW PSLLDQ intrinsics by converting them</span></div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;<span class="comment">// to byte shuffles.</span></div>
<div class="line"><a name="l01221"></a><span class="lineno"><a class="line" href="AutoUpgrade_8cpp.html#aee37db83318739047aa85bf8775cbf47"> 1221</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="AutoUpgrade_8cpp.html#aee37db83318739047aa85bf8775cbf47">UpgradeX86PSLLDQIntrinsics</a>(<a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>,</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;                                         <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, <span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#a8db36c82f32d6f6a4d35a00e55be03a8">Shift</a>) {</div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;  <span class="keyword">auto</span> *ResultTy = cast&lt;FixedVectorType&gt;(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>-&gt;getType());</div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;  <span class="keywordtype">unsigned</span> NumElts = ResultTy-&gt;getNumElements() * 8;</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160; </div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;  <span class="comment">// Bitcast from a 64-bit element type to a byte element type.</span></div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *VecTy = <a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#aa91241c8c54738377749dc47ee489e0d">FixedVectorType::get</a>(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.getInt8Ty(), NumElts);</div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;  <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateBitCast(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, VecTy, <span class="stringliteral">&quot;cast&quot;</span>);</div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160; </div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;  <span class="comment">// We&#39;ll be shuffling in zeroes.</span></div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *Res = Constant::getNullValue(VecTy);</div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160; </div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;  <span class="comment">// If shift is less than 16, emit a shuffle to move the bytes. Otherwise,</span></div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;  <span class="comment">// we&#39;ll just return the zero vector.</span></div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="lib_2Target_2README_8txt.html#a8db36c82f32d6f6a4d35a00e55be03a8">Shift</a> &lt; 16) {</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;    <span class="keywordtype">int</span> Idxs[64];</div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;    <span class="comment">// 256/512-bit version is split into 2/4 16-byte lanes.</span></div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#ac3ac4028df71f10fda029660ef66594d">l</a> = 0; <a class="code" href="lib_2Target_2README_8txt.html#ac3ac4028df71f10fda029660ef66594d">l</a> != NumElts; <a class="code" href="lib_2Target_2README_8txt.html#ac3ac4028df71f10fda029660ef66594d">l</a> += 16)</div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != 16; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;        <span class="keywordtype">unsigned</span> Idx = NumElts + <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> - <a class="code" href="lib_2Target_2README_8txt.html#a8db36c82f32d6f6a4d35a00e55be03a8">Shift</a>;</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;        <span class="keywordflow">if</span> (Idx &lt; NumElts)</div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;          Idx -= NumElts - 16; <span class="comment">// end of lane, switch operand.</span></div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;        Idxs[<a class="code" href="lib_2Target_2README_8txt.html#ac3ac4028df71f10fda029660ef66594d">l</a> + <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>] = Idx + <a class="code" href="lib_2Target_2README_8txt.html#ac3ac4028df71f10fda029660ef66594d">l</a>;</div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;      }</div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160; </div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;    Res = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateShuffleVector(Res, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, <a class="code" href="namespacellvm.html#ab9c6b351507d3c0730f4290919d43a12">ArrayRef</a>(Idxs, NumElts));</div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;  }</div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160; </div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;  <span class="comment">// Bitcast back to a 64-bit element type.</span></div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateBitCast(Res, ResultTy, <span class="stringliteral">&quot;cast&quot;</span>);</div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;}</div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160; </div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;<span class="comment">// Handles upgrading SSE2/AVX2/AVX512BW PSRLDQ intrinsics by converting them</span></div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;<span class="comment">// to byte shuffles.</span></div>
<div class="line"><a name="l01255"></a><span class="lineno"><a class="line" href="AutoUpgrade_8cpp.html#abdb3bd0d46fe91dd59fdb7ec81044d17"> 1255</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="AutoUpgrade_8cpp.html#abdb3bd0d46fe91dd59fdb7ec81044d17">UpgradeX86PSRLDQIntrinsics</a>(<a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>,</div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;                                         <span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#a8db36c82f32d6f6a4d35a00e55be03a8">Shift</a>) {</div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;  <span class="keyword">auto</span> *ResultTy = cast&lt;FixedVectorType&gt;(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>-&gt;getType());</div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;  <span class="keywordtype">unsigned</span> NumElts = ResultTy-&gt;getNumElements() * 8;</div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160; </div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;  <span class="comment">// Bitcast from a 64-bit element type to a byte element type.</span></div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *VecTy = <a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#aa91241c8c54738377749dc47ee489e0d">FixedVectorType::get</a>(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.getInt8Ty(), NumElts);</div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;  <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateBitCast(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, VecTy, <span class="stringliteral">&quot;cast&quot;</span>);</div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160; </div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;  <span class="comment">// We&#39;ll be shuffling in zeroes.</span></div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *Res = Constant::getNullValue(VecTy);</div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160; </div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;  <span class="comment">// If shift is less than 16, emit a shuffle to move the bytes. Otherwise,</span></div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;  <span class="comment">// we&#39;ll just return the zero vector.</span></div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="lib_2Target_2README_8txt.html#a8db36c82f32d6f6a4d35a00e55be03a8">Shift</a> &lt; 16) {</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;    <span class="keywordtype">int</span> Idxs[64];</div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;    <span class="comment">// 256/512-bit version is split into 2/4 16-byte lanes.</span></div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#ac3ac4028df71f10fda029660ef66594d">l</a> = 0; <a class="code" href="lib_2Target_2README_8txt.html#ac3ac4028df71f10fda029660ef66594d">l</a> != NumElts; <a class="code" href="lib_2Target_2README_8txt.html#ac3ac4028df71f10fda029660ef66594d">l</a> += 16)</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != 16; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;        <span class="keywordtype">unsigned</span> Idx = <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> + <a class="code" href="lib_2Target_2README_8txt.html#a8db36c82f32d6f6a4d35a00e55be03a8">Shift</a>;</div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;        <span class="keywordflow">if</span> (Idx &gt;= 16)</div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;          Idx += NumElts - 16; <span class="comment">// end of lane, switch operand.</span></div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;        Idxs[<a class="code" href="lib_2Target_2README_8txt.html#ac3ac4028df71f10fda029660ef66594d">l</a> + <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>] = Idx + <a class="code" href="lib_2Target_2README_8txt.html#ac3ac4028df71f10fda029660ef66594d">l</a>;</div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;      }</div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160; </div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;    Res = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateShuffleVector(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, Res, <a class="code" href="namespacellvm.html#ab9c6b351507d3c0730f4290919d43a12">ArrayRef</a>(Idxs, NumElts));</div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;  }</div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160; </div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;  <span class="comment">// Bitcast back to a 64-bit element type.</span></div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateBitCast(Res, ResultTy, <span class="stringliteral">&quot;cast&quot;</span>);</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;}</div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160; </div>
<div class="line"><a name="l01287"></a><span class="lineno"><a class="line" href="AutoUpgrade_8cpp.html#af631ff2d8f998127c4f43154c07ebcba"> 1287</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="AutoUpgrade_8cpp.html#af631ff2d8f998127c4f43154c07ebcba">getX86MaskVec</a>(<a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>,</div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;                            <span class="keywordtype">unsigned</span> NumElts) {</div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="namespacellvm.html#a6dec2b5d3e04b47adf4d918d678e81c9">isPowerOf2_32</a>(NumElts) &amp;&amp; <span class="stringliteral">&quot;Expected power-of-2 mask elements&quot;</span>);</div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;  <a class="code" href="classllvm_1_1VectorType.html">llvm::VectorType</a> *MaskTy = <a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#aa91241c8c54738377749dc47ee489e0d">FixedVectorType::get</a>(</div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;      <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.getInt1Ty(), cast&lt;IntegerType&gt;(<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>-&gt;getType())-&gt;getBitWidth());</div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;  <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a> = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateBitCast(<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>, MaskTy);</div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160; </div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;  <span class="comment">// If we have less than 8 elements (1, 2 or 4), then the starting mask was an</span></div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;  <span class="comment">// i8 and we need to extract down to the right number of elements.</span></div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;  <span class="keywordflow">if</span> (NumElts &lt;= 4) {</div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;    <span class="keywordtype">int</span> Indices[4];</div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != NumElts; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;      Indices[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;    <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a> = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateShuffleVector(<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>, <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>, <a class="code" href="namespacellvm.html#ab9c6b351507d3c0730f4290919d43a12">ArrayRef</a>(Indices, NumElts),</div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;                                       <span class="stringliteral">&quot;extract&quot;</span>);</div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;  }</div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160; </div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>;</div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;}</div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160; </div>
<div class="line"><a name="l01307"></a><span class="lineno"><a class="line" href="AutoUpgrade_8cpp.html#a8184e757708d747af9b314cdfe238b2c"> 1307</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="AutoUpgrade_8cpp.html#a8184e757708d747af9b314cdfe238b2c">EmitX86Select</a>(<a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>,</div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;                            <a class="code" href="classllvm_1_1Value.html">Value</a> *Op0, <a class="code" href="classllvm_1_1Value.html">Value</a> *Op1) {</div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;  <span class="comment">// If the mask is all ones just emit the first operation.</span></div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = dyn_cast&lt;Constant&gt;(<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>))</div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;isAllOnesValue())</div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;      <span class="keywordflow">return</span> Op0;</div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160; </div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;  <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a> = <a class="code" href="AutoUpgrade_8cpp.html#af631ff2d8f998127c4f43154c07ebcba">getX86MaskVec</a>(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>,</div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;                       cast&lt;FixedVectorType&gt;(Op0-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>())-&gt;getNumElements());</div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateSelect(<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>, Op0, Op1);</div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;}</div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160; </div>
<div class="line"><a name="l01319"></a><span class="lineno"><a class="line" href="AutoUpgrade_8cpp.html#a8a4e993486880e6b320b0dee4ce41938"> 1319</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="AutoUpgrade_8cpp.html#a8a4e993486880e6b320b0dee4ce41938">EmitX86ScalarSelect</a>(<a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>,</div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;                                  <a class="code" href="classllvm_1_1Value.html">Value</a> *Op0, <a class="code" href="classllvm_1_1Value.html">Value</a> *Op1) {</div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;  <span class="comment">// If the mask is all ones just emit the first operation.</span></div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = dyn_cast&lt;Constant&gt;(<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>))</div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;isAllOnesValue())</div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;      <span class="keywordflow">return</span> Op0;</div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160; </div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;  <span class="keyword">auto</span> *MaskTy = <a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#aa91241c8c54738377749dc47ee489e0d">FixedVectorType::get</a>(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.getInt1Ty(),</div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;                                      <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>-&gt;getType()-&gt;getIntegerBitWidth());</div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;  <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a> = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateBitCast(<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>, MaskTy);</div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;  <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a> = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateExtractElement(<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>, (<a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a>)0);</div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateSelect(<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>, Op0, Op1);</div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;}</div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160; </div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;<span class="comment">// Handle autoupgrade for masked PALIGNR and VALIGND/Q intrinsics.</span></div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;<span class="comment">// PALIGNR handles large immediates by shifting while VALIGN masks the immediate</span></div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;<span class="comment">// so we need to handle both cases. VALIGN also doesn&#39;t have 128-bit lanes.</span></div>
<div class="line"><a name="l01336"></a><span class="lineno"><a class="line" href="AutoUpgrade_8cpp.html#a33838167472af973190c867098e7bc49"> 1336</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="AutoUpgrade_8cpp.html#a33838167472af973190c867098e7bc49">UpgradeX86ALIGNIntrinsics</a>(<a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, <a class="code" href="classllvm_1_1Value.html">Value</a> *Op0,</div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;                                        <a class="code" href="classllvm_1_1Value.html">Value</a> *Op1, <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="lib_2Target_2README_8txt.html#a8db36c82f32d6f6a4d35a00e55be03a8">Shift</a>,</div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;                                        <a class="code" href="classllvm_1_1Value.html">Value</a> *Passthru, <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>,</div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;                                        <span class="keywordtype">bool</span> IsVALIGN) {</div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;  <span class="keywordtype">unsigned</span> ShiftVal = cast&lt;llvm::ConstantInt&gt;(<a class="code" href="lib_2Target_2README_8txt.html#a8db36c82f32d6f6a4d35a00e55be03a8">Shift</a>)-&gt;getZExtValue();</div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160; </div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;  <span class="keywordtype">unsigned</span> NumElts = cast&lt;FixedVectorType&gt;(Op0-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>())-&gt;getNumElements();</div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((IsVALIGN || NumElts % 16 == 0) &amp;&amp; <span class="stringliteral">&quot;Illegal NumElts for PALIGNR!&quot;</span>);</div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((!IsVALIGN || NumElts &lt;= 16) &amp;&amp; <span class="stringliteral">&quot;NumElts too large for VALIGN!&quot;</span>);</div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="namespacellvm.html#a6dec2b5d3e04b47adf4d918d678e81c9">isPowerOf2_32</a>(NumElts) &amp;&amp; <span class="stringliteral">&quot;NumElts not a power of 2!&quot;</span>);</div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160; </div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;  <span class="comment">// Mask the immediate for VALIGN.</span></div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;  <span class="keywordflow">if</span> (IsVALIGN)</div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;    ShiftVal &amp;= (NumElts - 1);</div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160; </div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;  <span class="comment">// If palignr is shifting the pair of vectors more than the size of two</span></div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;  <span class="comment">// lanes, emit zero.</span></div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;  <span class="keywordflow">if</span> (ShiftVal &gt;= 32)</div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Constant.html#aa6574d526b3e38a28f688a7bb4325c2c">llvm::Constant::getNullValue</a>(Op0-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160; </div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;  <span class="comment">// If palignr is shifting the pair of input vectors more than one lane,</span></div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;  <span class="comment">// but less than two lanes, convert to shifting in zeroes.</span></div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;  <span class="keywordflow">if</span> (ShiftVal &gt; 16) {</div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;    ShiftVal -= 16;</div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;    Op1 = Op0;</div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;    Op0 = <a class="code" href="classllvm_1_1Constant.html#aa6574d526b3e38a28f688a7bb4325c2c">llvm::Constant::getNullValue</a>(Op0-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;  }</div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160; </div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;  <span class="keywordtype">int</span> Indices[64];</div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;  <span class="comment">// 256-bit palignr operates on 128-bit lanes so we need to handle that</span></div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#ac3ac4028df71f10fda029660ef66594d">l</a> = 0; <a class="code" href="lib_2Target_2README_8txt.html#ac3ac4028df71f10fda029660ef66594d">l</a> &lt; NumElts; <a class="code" href="lib_2Target_2README_8txt.html#ac3ac4028df71f10fda029660ef66594d">l</a> += 16) {</div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != 16; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;      <span class="keywordtype">unsigned</span> Idx = ShiftVal + <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;      <span class="keywordflow">if</span> (!IsVALIGN &amp;&amp; Idx &gt;= 16) <span class="comment">// Disable wrap for VALIGN.</span></div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;        Idx += NumElts - 16; <span class="comment">// End of lane, switch operand.</span></div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;      Indices[<a class="code" href="lib_2Target_2README_8txt.html#ac3ac4028df71f10fda029660ef66594d">l</a> + <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>] = Idx + <a class="code" href="lib_2Target_2README_8txt.html#ac3ac4028df71f10fda029660ef66594d">l</a>;</div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;    }</div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;  }</div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160; </div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="structllvm_1_1Align.html">Align</a> = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateShuffleVector(</div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;      Op1, Op0, <a class="code" href="namespacellvm.html#ab9c6b351507d3c0730f4290919d43a12">ArrayRef</a>(Indices, NumElts), <span class="stringliteral">&quot;palignr&quot;</span>);</div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160; </div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="AutoUpgrade_8cpp.html#a8184e757708d747af9b314cdfe238b2c">EmitX86Select</a>(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>, <a class="code" href="structllvm_1_1Align.html">Align</a>, Passthru);</div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;}</div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160; </div>
<div class="line"><a name="l01381"></a><span class="lineno"><a class="line" href="AutoUpgrade_8cpp.html#afd7206e4af4e3dad368b1501e9404a15"> 1381</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="AutoUpgrade_8cpp.html#afd7206e4af4e3dad368b1501e9404a15">UpgradeX86VPERMT2Intrinsics</a>(<a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, <a class="code" href="classllvm_1_1CallBase.html">CallBase</a> &amp;CI,</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;                                          <span class="keywordtype">bool</span> ZeroMask, <span class="keywordtype">bool</span> IndexForm) {</div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *Ty = CI.<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>();</div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;  <span class="keywordtype">unsigned</span> VecWidth = Ty-&gt;<a class="code" href="classllvm_1_1Type.html#a833daf718a49c5cd637d8c9ddeaebe07">getPrimitiveSizeInBits</a>();</div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;  <span class="keywordtype">unsigned</span> EltWidth = Ty-&gt;<a class="code" href="classllvm_1_1Type.html#a9f382207d841377156d4c7868b66b9a5">getScalarSizeInBits</a>();</div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;  <span class="keywordtype">bool</span> IsFloat = Ty-&gt;<a class="code" href="classllvm_1_1Type.html#ad0709baa705ae62c4e09cdd47fb4b420">isFPOrFPVectorTy</a>();</div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;  <a class="code" href="namespacellvm_1_1Intrinsic.html#a80add6b3b1cdaec560907995127adc16">Intrinsic::ID</a> IID;</div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;  <span class="keywordflow">if</span> (VecWidth == 128 &amp;&amp; EltWidth == 32 &amp;&amp; IsFloat)</div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;    IID = Intrinsic::x86_avx512_vpermi2var_ps_128;</div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (VecWidth == 128 &amp;&amp; EltWidth == 32 &amp;&amp; !IsFloat)</div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;    IID = Intrinsic::x86_avx512_vpermi2var_d_128;</div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (VecWidth == 128 &amp;&amp; EltWidth == 64 &amp;&amp; IsFloat)</div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;    IID = Intrinsic::x86_avx512_vpermi2var_pd_128;</div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (VecWidth == 128 &amp;&amp; EltWidth == 64 &amp;&amp; !IsFloat)</div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;    IID = Intrinsic::x86_avx512_vpermi2var_q_128;</div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (VecWidth == 256 &amp;&amp; EltWidth == 32 &amp;&amp; IsFloat)</div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;    IID = Intrinsic::x86_avx512_vpermi2var_ps_256;</div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (VecWidth == 256 &amp;&amp; EltWidth == 32 &amp;&amp; !IsFloat)</div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;    IID = Intrinsic::x86_avx512_vpermi2var_d_256;</div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (VecWidth == 256 &amp;&amp; EltWidth == 64 &amp;&amp; IsFloat)</div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;    IID = Intrinsic::x86_avx512_vpermi2var_pd_256;</div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (VecWidth == 256 &amp;&amp; EltWidth == 64 &amp;&amp; !IsFloat)</div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;    IID = Intrinsic::x86_avx512_vpermi2var_q_256;</div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (VecWidth == 512 &amp;&amp; EltWidth == 32 &amp;&amp; IsFloat)</div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;    IID = Intrinsic::x86_avx512_vpermi2var_ps_512;</div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (VecWidth == 512 &amp;&amp; EltWidth == 32 &amp;&amp; !IsFloat)</div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;    IID = Intrinsic::x86_avx512_vpermi2var_d_512;</div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (VecWidth == 512 &amp;&amp; EltWidth == 64 &amp;&amp; IsFloat)</div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;    IID = Intrinsic::x86_avx512_vpermi2var_pd_512;</div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (VecWidth == 512 &amp;&amp; EltWidth == 64 &amp;&amp; !IsFloat)</div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;    IID = Intrinsic::x86_avx512_vpermi2var_q_512;</div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (VecWidth == 128 &amp;&amp; EltWidth == 16)</div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;    IID = Intrinsic::x86_avx512_vpermi2var_hi_128;</div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (VecWidth == 256 &amp;&amp; EltWidth == 16)</div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;    IID = Intrinsic::x86_avx512_vpermi2var_hi_256;</div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (VecWidth == 512 &amp;&amp; EltWidth == 16)</div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;    IID = Intrinsic::x86_avx512_vpermi2var_hi_512;</div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (VecWidth == 128 &amp;&amp; EltWidth == 8)</div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;    IID = Intrinsic::x86_avx512_vpermi2var_qi_128;</div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (VecWidth == 256 &amp;&amp; EltWidth == 8)</div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;    IID = Intrinsic::x86_avx512_vpermi2var_qi_256;</div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (VecWidth == 512 &amp;&amp; EltWidth == 8)</div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;    IID = Intrinsic::x86_avx512_vpermi2var_qi_512;</div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;    <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unexpected intrinsic&quot;</span>);</div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160; </div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>[] = { CI.<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0) , CI.<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1),</div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;                    CI.<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(2) };</div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160; </div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;  <span class="comment">// If this isn&#39;t index form we need to swap operand 0 and 1.</span></div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;  <span class="keywordflow">if</span> (!IndexForm)</div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;    <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>[0], <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>[1]);</div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160; </div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateCall(<a class="code" href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">Intrinsic::getDeclaration</a>(CI.<a class="code" href="classllvm_1_1Instruction.html#a4ba3a5be6c0e9b9e8a525de055836733">getModule</a>(), IID),</div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;                                <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>);</div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *PassThru = ZeroMask ? <a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#aa91241c8c54738377749dc47ee489e0d">ConstantAggregateZero::get</a>(Ty)</div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;                             : <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateBitCast(CI.<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1),</div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;                                                     Ty);</div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="AutoUpgrade_8cpp.html#a8184e757708d747af9b314cdfe238b2c">EmitX86Select</a>(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, CI.<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(3), V, PassThru);</div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;}</div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160; </div>
<div class="line"><a name="l01442"></a><span class="lineno"><a class="line" href="AutoUpgrade_8cpp.html#ab9b8f71727ce7537929fb2c0901afe2e"> 1442</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="AutoUpgrade_8cpp.html#ab9b8f71727ce7537929fb2c0901afe2e">UpgradeX86BinaryIntrinsics</a>(<a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, <a class="code" href="classllvm_1_1CallBase.html">CallBase</a> &amp;CI,</div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;                                         <a class="code" href="namespacellvm_1_1Intrinsic.html#a80add6b3b1cdaec560907995127adc16">Intrinsic::ID</a> IID) {</div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *Ty = CI.<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>();</div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *Op0 = CI.<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(0);</div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *Op1 = CI.<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(1);</div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;  <a class="code" href="classllvm_1_1Function.html">Function</a> *Intrin = <a class="code" href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">Intrinsic::getDeclaration</a>(CI.<a class="code" href="classllvm_1_1Instruction.html#a4ba3a5be6c0e9b9e8a525de055836733">getModule</a>(), IID, Ty);</div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *Res = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateCall(Intrin, {Op0, Op1});</div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160; </div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;  <span class="keywordflow">if</span> (CI.<a class="code" href="classllvm_1_1CallBase.html#adde2ea00dd2613ee41bfe91908e4e68e">arg_size</a>() == 4) { <span class="comment">// For masked intrinsics.</span></div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *VecSrc = CI.<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(2);</div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a> = CI.<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(3);</div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;    Res = <a class="code" href="AutoUpgrade_8cpp.html#a8184e757708d747af9b314cdfe238b2c">EmitX86Select</a>(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>, Res, VecSrc);</div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;  }</div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;  <span class="keywordflow">return</span> Res;</div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;}</div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160; </div>
<div class="line"><a name="l01458"></a><span class="lineno"><a class="line" href="AutoUpgrade_8cpp.html#a53ed383dc1484814ef3ae100e28fbaaa"> 1458</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="AutoUpgrade_8cpp.html#a53ed383dc1484814ef3ae100e28fbaaa">upgradeX86Rotate</a>(<a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, <a class="code" href="classllvm_1_1CallBase.html">CallBase</a> &amp;CI,</div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;                               <span class="keywordtype">bool</span> IsRotateRight) {</div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *Ty = CI.<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>();</div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *Src = CI.<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0);</div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *Amt = CI.<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1);</div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160; </div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;  <span class="comment">// Amount may be scalar immediate, in which case create a splat vector.</span></div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;  <span class="comment">// Funnel shifts amounts are treated as modulo and types are all power-of-2 so</span></div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;  <span class="comment">// we only care about the lowest log2 bits anyway.</span></div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;  <span class="keywordflow">if</span> (Amt-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>() != Ty) {</div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;    <span class="keywordtype">unsigned</span> NumElts = cast&lt;FixedVectorType&gt;(Ty)-&gt;getNumElements();</div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;    Amt = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateIntCast(Amt, Ty-&gt;<a class="code" href="classllvm_1_1Type.html#a4abb39a66573f61fda80469faa5d861d">getScalarType</a>(), <span class="keyword">false</span>);</div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;    Amt = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateVectorSplat(NumElts, Amt);</div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;  }</div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160; </div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;  <a class="code" href="namespacellvm_1_1Intrinsic.html#a80add6b3b1cdaec560907995127adc16">Intrinsic::ID</a> IID = IsRotateRight ? Intrinsic::fshr : Intrinsic::fshl;</div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;  <a class="code" href="classllvm_1_1Function.html">Function</a> *Intrin = <a class="code" href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">Intrinsic::getDeclaration</a>(CI.<a class="code" href="classllvm_1_1Instruction.html#a4ba3a5be6c0e9b9e8a525de055836733">getModule</a>(), IID, Ty);</div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *Res = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateCall(Intrin, {Src, Src, Amt});</div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160; </div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;  <span class="keywordflow">if</span> (CI.<a class="code" href="classllvm_1_1CallBase.html#adde2ea00dd2613ee41bfe91908e4e68e">arg_size</a>() == 4) { <span class="comment">// For masked intrinsics.</span></div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *VecSrc = CI.<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(2);</div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a> = CI.<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(3);</div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;    Res = <a class="code" href="AutoUpgrade_8cpp.html#a8184e757708d747af9b314cdfe238b2c">EmitX86Select</a>(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>, Res, VecSrc);</div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;  }</div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;  <span class="keywordflow">return</span> Res;</div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;}</div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160; </div>
<div class="line"><a name="l01485"></a><span class="lineno"><a class="line" href="AutoUpgrade_8cpp.html#a145400e704b87735b32fb17acd06aa55"> 1485</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="AutoUpgrade_8cpp.html#a145400e704b87735b32fb17acd06aa55">upgradeX86vpcom</a>(<a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, <a class="code" href="classllvm_1_1CallBase.html">CallBase</a> &amp;CI, <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>,</div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;                              <span class="keywordtype">bool</span> IsSigned) {</div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *Ty = CI.<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>();</div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a> = CI.<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0);</div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a> = CI.<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1);</div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160; </div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;  <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">CmpInst::Predicate</a> Pred;</div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;  <span class="keywordflow">switch</span> (<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>) {</div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;  <span class="keywordflow">case</span> 0x0:</div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;    Pred = IsSigned ? ICmpInst::ICMP_SLT : ICmpInst::ICMP_ULT;</div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;  <span class="keywordflow">case</span> 0x1:</div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;    Pred = IsSigned ? ICmpInst::ICMP_SLE : ICmpInst::ICMP_ULE;</div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;  <span class="keywordflow">case</span> 0x2:</div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;    Pred = IsSigned ? ICmpInst::ICMP_SGT : ICmpInst::ICMP_UGT;</div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;  <span class="keywordflow">case</span> 0x3:</div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;    Pred = IsSigned ? ICmpInst::ICMP_SGE : ICmpInst::ICMP_UGE;</div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;  <span class="keywordflow">case</span> 0x4:</div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;    Pred = ICmpInst::ICMP_EQ;</div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;  <span class="keywordflow">case</span> 0x5:</div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;    Pred = ICmpInst::ICMP_NE;</div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;  <span class="keywordflow">case</span> 0x6:</div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;    <span class="keywordflow">return</span> Constant::getNullValue(Ty); <span class="comment">// FALSE</span></div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;  <span class="keywordflow">case</span> 0x7:</div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;    <span class="keywordflow">return</span> Constant::getAllOnesValue(Ty); <span class="comment">// TRUE</span></div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;    <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unknown XOP vpcom/vpcomu predicate&quot;</span>);</div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;  }</div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160; </div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *Cmp = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateICmp(Pred, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1MipsISD.html#a422daf9aa810935178671306b651d69ba88a797f57846adb2c382b3732b471913">Ext</a> = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateSExt(Cmp, Ty);</div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1MipsISD.html#a422daf9aa810935178671306b651d69ba88a797f57846adb2c382b3732b471913">Ext</a>;</div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;}</div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160; </div>
<div class="line"><a name="l01524"></a><span class="lineno"><a class="line" href="AutoUpgrade_8cpp.html#a47a1bbffaafe7bbf2441a0fd19765346"> 1524</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="AutoUpgrade_8cpp.html#a47a1bbffaafe7bbf2441a0fd19765346">upgradeX86ConcatShift</a>(<a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, <a class="code" href="classllvm_1_1CallBase.html">CallBase</a> &amp;CI,</div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;                                    <span class="keywordtype">bool</span> IsShiftRight, <span class="keywordtype">bool</span> ZeroMask) {</div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *Ty = CI.<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>();</div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *Op0 = CI.<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0);</div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *Op1 = CI.<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1);</div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *Amt = CI.<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(2);</div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160; </div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;  <span class="keywordflow">if</span> (IsShiftRight)</div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;    <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(Op0, Op1);</div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160; </div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;  <span class="comment">// Amount may be scalar immediate, in which case create a splat vector.</span></div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;  <span class="comment">// Funnel shifts amounts are treated as modulo and types are all power-of-2 so</span></div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;  <span class="comment">// we only care about the lowest log2 bits anyway.</span></div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;  <span class="keywordflow">if</span> (Amt-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>() != Ty) {</div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;    <span class="keywordtype">unsigned</span> NumElts = cast&lt;FixedVectorType&gt;(Ty)-&gt;getNumElements();</div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;    Amt = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateIntCast(Amt, Ty-&gt;<a class="code" href="classllvm_1_1Type.html#a4abb39a66573f61fda80469faa5d861d">getScalarType</a>(), <span class="keyword">false</span>);</div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;    Amt = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateVectorSplat(NumElts, Amt);</div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;  }</div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160; </div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;  <a class="code" href="namespacellvm_1_1Intrinsic.html#a80add6b3b1cdaec560907995127adc16">Intrinsic::ID</a> IID = IsShiftRight ? Intrinsic::fshr : Intrinsic::fshl;</div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;  <a class="code" href="classllvm_1_1Function.html">Function</a> *Intrin = <a class="code" href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">Intrinsic::getDeclaration</a>(CI.<a class="code" href="classllvm_1_1Instruction.html#a4ba3a5be6c0e9b9e8a525de055836733">getModule</a>(), IID, Ty);</div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *Res = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateCall(Intrin, {Op0, Op1, Amt});</div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160; </div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;  <span class="keywordtype">unsigned</span> NumArgs = CI.<a class="code" href="classllvm_1_1CallBase.html#adde2ea00dd2613ee41bfe91908e4e68e">arg_size</a>();</div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;  <span class="keywordflow">if</span> (NumArgs &gt;= 4) { <span class="comment">// For masked intrinsics.</span></div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *VecSrc = NumArgs == 5 ? CI.<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(3) :</div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;                    ZeroMask     ? <a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#aa91241c8c54738377749dc47ee489e0d">ConstantAggregateZero::get</a>(CI.<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()) :</div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;                                   CI.<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0);</div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a> = CI.<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(NumArgs - 1);</div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;    Res = <a class="code" href="AutoUpgrade_8cpp.html#a8184e757708d747af9b314cdfe238b2c">EmitX86Select</a>(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>, Res, VecSrc);</div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;  }</div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;  <span class="keywordflow">return</span> Res;</div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;}</div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160; </div>
<div class="line"><a name="l01558"></a><span class="lineno"><a class="line" href="AutoUpgrade_8cpp.html#a70b4a8cbdc04d346c3b8ca76951d76a7"> 1558</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="AutoUpgrade_8cpp.html#a70b4a8cbdc04d346c3b8ca76951d76a7">UpgradeMaskedStore</a>(<a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>,</div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;                                 <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>, <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#ae551fe3e2b167b36005b26473e993884a26aa2e7865f749b52f3b77991776c40d">Data</a>, <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>,</div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;                                 <span class="keywordtype">bool</span> Aligned) {</div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;  <span class="comment">// Cast the pointer to the right type.</span></div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;  <a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a> = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateBitCast(<a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>,</div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;                              <a class="code" href="classllvm_1_1PointerType.html#a8db49fd5069f21d514e7bb0fd11f0902">llvm::PointerType::getUnqual</a>(<a class="code" href="namespacellvm.html#ae551fe3e2b167b36005b26473e993884a26aa2e7865f749b52f3b77991776c40d">Data</a>-&gt;getType()));</div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;  <span class="keyword">const</span> <a class="code" href="structllvm_1_1Align.html">Align</a> Alignment =</div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;      <a class="code" href="namespacellvm.html#a264176188c0aadccd3ca5b6929b5a2e1a1d5b772bea21e5e949413e09eedf17de">Aligned</a></div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;          ? <a class="code" href="ELFObjHandler_8cpp.html#a043cdaf7b89aaeeb127be5d93411637f">Align</a>(<a class="code" href="namespacellvm.html#ae551fe3e2b167b36005b26473e993884a26aa2e7865f749b52f3b77991776c40d">Data</a>-&gt;getType()-&gt;getPrimitiveSizeInBits().getFixedValue() / 8)</div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;          : <a class="code" href="ELFObjHandler_8cpp.html#a043cdaf7b89aaeeb127be5d93411637f">Align</a>(1);</div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160; </div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;  <span class="comment">// If the mask is all ones just emit a regular store.</span></div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = dyn_cast&lt;Constant&gt;(<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>))</div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;isAllOnesValue())</div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateAlignedStore(<a class="code" href="namespacellvm.html#ae551fe3e2b167b36005b26473e993884a26aa2e7865f749b52f3b77991776c40d">Data</a>, <a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>, Alignment);</div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160; </div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;  <span class="comment">// Convert the mask from an integer type to a vector of i1.</span></div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;  <span class="keywordtype">unsigned</span> NumElts = cast&lt;FixedVectorType&gt;(<a class="code" href="namespacellvm.html#ae551fe3e2b167b36005b26473e993884a26aa2e7865f749b52f3b77991776c40d">Data</a>-&gt;getType())-&gt;getNumElements();</div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;  <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a> = <a class="code" href="AutoUpgrade_8cpp.html#af631ff2d8f998127c4f43154c07ebcba">getX86MaskVec</a>(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>, NumElts);</div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateMaskedStore(<a class="code" href="namespacellvm.html#ae551fe3e2b167b36005b26473e993884a26aa2e7865f749b52f3b77991776c40d">Data</a>, <a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>, Alignment, <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>);</div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;}</div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160; </div>
<div class="line"><a name="l01580"></a><span class="lineno"><a class="line" href="AutoUpgrade_8cpp.html#a9323ac9042db2ec1427acd85c3919f89"> 1580</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="AutoUpgrade_8cpp.html#a9323ac9042db2ec1427acd85c3919f89">UpgradeMaskedLoad</a>(<a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>,</div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;                                <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>, <a class="code" href="classllvm_1_1Value.html">Value</a> *Passthru, <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>,</div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;                                <span class="keywordtype">bool</span> Aligned) {</div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *ValTy = Passthru-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>();</div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;  <span class="comment">// Cast the pointer to the right type.</span></div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;  <a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a> = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateBitCast(<a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>, <a class="code" href="classllvm_1_1PointerType.html#a8db49fd5069f21d514e7bb0fd11f0902">llvm::PointerType::getUnqual</a>(ValTy));</div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;  <span class="keyword">const</span> <a class="code" href="structllvm_1_1Align.html">Align</a> Alignment =</div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;      <a class="code" href="namespacellvm.html#a264176188c0aadccd3ca5b6929b5a2e1a1d5b772bea21e5e949413e09eedf17de">Aligned</a></div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;          ? <a class="code" href="ELFObjHandler_8cpp.html#a043cdaf7b89aaeeb127be5d93411637f">Align</a>(</div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;                Passthru-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a833daf718a49c5cd637d8c9ddeaebe07">getPrimitiveSizeInBits</a>().<a class="code" href="classllvm_1_1details_1_1FixedOrScalableQuantity.html#a33880aaca0ad05e5f1557f079305bde5">getFixedValue</a>() /</div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;                8)</div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;          : <a class="code" href="ELFObjHandler_8cpp.html#a043cdaf7b89aaeeb127be5d93411637f">Align</a>(1);</div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160; </div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;  <span class="comment">// If the mask is all ones just emit a regular store.</span></div>
<div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = dyn_cast&lt;Constant&gt;(<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>))</div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;isAllOnesValue())</div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateAlignedLoad(ValTy, <a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>, Alignment);</div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160; </div>
<div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;  <span class="comment">// Convert the mask from an integer type to a vector of i1.</span></div>
<div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;  <span class="keywordtype">unsigned</span> NumElts = cast&lt;FixedVectorType&gt;(ValTy)-&gt;getNumElements();</div>
<div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;  <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a> = <a class="code" href="AutoUpgrade_8cpp.html#af631ff2d8f998127c4f43154c07ebcba">getX86MaskVec</a>(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>, NumElts);</div>
<div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateMaskedLoad(ValTy, <a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>, Alignment, <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>, Passthru);</div>
<div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;}</div>
<div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160; </div>
<div class="line"><a name="l01604"></a><span class="lineno"><a class="line" href="AutoUpgrade_8cpp.html#a89c8f20d6d07b4eebc86a50d7e47ef57"> 1604</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="AutoUpgrade_8cpp.html#a89c8f20d6d07b4eebc86a50d7e47ef57">upgradeAbs</a>(<a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, <a class="code" href="classllvm_1_1CallBase.html">CallBase</a> &amp;CI) {</div>
<div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *Ty = CI.<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>();</div>
<div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *Op0 = CI.<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0);</div>
<div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;  <a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> = <a class="code" href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">Intrinsic::getDeclaration</a>(CI.<a class="code" href="classllvm_1_1Instruction.html#a4ba3a5be6c0e9b9e8a525de055836733">getModule</a>(), <a class="code" href="namespacellvm.html#a2816e84a08c108d18bc4665bc1817e01">Intrinsic::abs</a>, Ty);</div>
<div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *Res = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateCall(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, {Op0, <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.getInt1(<span class="keyword">false</span>)});</div>
<div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;  <span class="keywordflow">if</span> (CI.<a class="code" href="classllvm_1_1CallBase.html#adde2ea00dd2613ee41bfe91908e4e68e">arg_size</a>() == 3)</div>
<div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;    Res = <a class="code" href="AutoUpgrade_8cpp.html#a8184e757708d747af9b314cdfe238b2c">EmitX86Select</a>(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, CI.<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(2), Res, CI.<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1));</div>
<div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;  <span class="keywordflow">return</span> Res;</div>
<div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;}</div>
<div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160; </div>
<div class="line"><a name="l01614"></a><span class="lineno"><a class="line" href="AutoUpgrade_8cpp.html#a09d7ff4a54fa200f2eec3251645cadba"> 1614</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="AutoUpgrade_8cpp.html#a09d7ff4a54fa200f2eec3251645cadba">upgradePMULDQ</a>(<a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, <a class="code" href="classllvm_1_1CallBase.html">CallBase</a> &amp;CI, <span class="keywordtype">bool</span> IsSigned) {</div>
<div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *Ty = CI.<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>();</div>
<div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160; </div>
<div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;  <span class="comment">// Arguments have a vXi32 type so cast to vXi64.</span></div>
<div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a> = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateBitCast(CI.<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0), Ty);</div>
<div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a> = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateBitCast(CI.<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1), Ty);</div>
<div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160; </div>
<div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;  <span class="keywordflow">if</span> (IsSigned) {</div>
<div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;    <span class="comment">// Shift left then arithmetic shift right.</span></div>
<div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;    <a class="code" href="classllvm_1_1Constant.html">Constant</a> *ShiftAmt = <a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#aa91241c8c54738377749dc47ee489e0d">ConstantInt::get</a>(Ty, 32);</div>
<div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;    <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a> = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateShl(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, ShiftAmt);</div>
<div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;    <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a> = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateAShr(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, ShiftAmt);</div>
<div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;    <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a> = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateShl(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, ShiftAmt);</div>
<div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;    <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a> = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateAShr(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, ShiftAmt);</div>
<div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;    <span class="comment">// Clear the upper bits.</span></div>
<div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;    <a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a> = <a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#aa91241c8c54738377749dc47ee489e0d">ConstantInt::get</a>(Ty, 0xffffffff);</div>
<div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;    <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a> = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateAnd(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>);</div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;    <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a> = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateAnd(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>);</div>
<div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;  }</div>
<div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160; </div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *Res = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateMul(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160; </div>
<div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;  <span class="keywordflow">if</span> (CI.<a class="code" href="classllvm_1_1CallBase.html#adde2ea00dd2613ee41bfe91908e4e68e">arg_size</a>() == 4)</div>
<div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;    Res = <a class="code" href="AutoUpgrade_8cpp.html#a8184e757708d747af9b314cdfe238b2c">EmitX86Select</a>(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, CI.<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(3), Res, CI.<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(2));</div>
<div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160; </div>
<div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;  <span class="keywordflow">return</span> Res;</div>
<div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;}</div>
<div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160; </div>
<div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;<span class="comment">// Applying mask on vector of i1&#39;s and make sure result is at least 8 bits wide.</span></div>
<div class="line"><a name="l01644"></a><span class="lineno"><a class="line" href="AutoUpgrade_8cpp.html#a6c619e6daaa1556965750a89419eaf87"> 1644</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="AutoUpgrade_8cpp.html#a6c619e6daaa1556965750a89419eaf87">ApplyX86MaskOn1BitsVec</a>(<a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, <a class="code" href="classllvm_1_1Value.html">Value</a> *Vec,</div>
<div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;                                     <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>) {</div>
<div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;  <span class="keywordtype">unsigned</span> NumElts = cast&lt;FixedVectorType&gt;(Vec-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>())-&gt;getNumElements();</div>
<div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>) {</div>
<div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = dyn_cast&lt;Constant&gt;(<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>);</div>
<div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> || !<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;isAllOnesValue())</div>
<div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;      Vec = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateAnd(Vec, <a class="code" href="AutoUpgrade_8cpp.html#af631ff2d8f998127c4f43154c07ebcba">getX86MaskVec</a>(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>, NumElts));</div>
<div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;  }</div>
<div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160; </div>
<div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;  <span class="keywordflow">if</span> (NumElts &lt; 8) {</div>
<div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;    <span class="keywordtype">int</span> Indices[8];</div>
<div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != NumElts; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;      Indices[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = NumElts; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != 8; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;      Indices[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>] = NumElts + <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> % NumElts;</div>
<div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;    Vec = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateShuffleVector(Vec,</div>
<div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;                                      Constant::getNullValue(Vec-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()),</div>
<div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;                                      Indices);</div>
<div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;  }</div>
<div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateBitCast(Vec, <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.getIntNTy(<a class="code" href="namespacellvm.html#ab4d4bc901fedd8857f647dcc2c0d71de">std::max</a>(NumElts, 8U)));</div>
<div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;}</div>
<div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160; </div>
<div class="line"><a name="l01666"></a><span class="lineno"><a class="line" href="AutoUpgrade_8cpp.html#a37575081a284565225e7286c89daea0a"> 1666</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="AutoUpgrade_8cpp.html#a37575081a284565225e7286c89daea0a">upgradeMaskedCompare</a>(<a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, <a class="code" href="classllvm_1_1CallBase.html">CallBase</a> &amp;CI,</div>
<div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;                                   <span class="keywordtype">unsigned</span> <a class="code" href="RISCVRedundantCopyElimination_8cpp.html#a77c69067ae8279bc00ab8757731e90d7">CC</a>, <span class="keywordtype">bool</span> <a class="code" href="NVPTXISelLowering_8cpp.html#ae1a90b5d85643644483b2ca70da4d13faed3fa7a5efe80dad3ea3d86cc14be246">Signed</a>) {</div>
<div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *Op0 = CI.<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0);</div>
<div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;  <span class="keywordtype">unsigned</span> NumElts = cast&lt;FixedVectorType&gt;(Op0-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>())-&gt;getNumElements();</div>
<div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160; </div>
<div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *Cmp;</div>
<div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="RISCVRedundantCopyElimination_8cpp.html#a77c69067ae8279bc00ab8757731e90d7">CC</a> == 3) {</div>
<div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;    Cmp = Constant::getNullValue(</div>
<div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;        <a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#aa91241c8c54738377749dc47ee489e0d">FixedVectorType::get</a>(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.getInt1Ty(), NumElts));</div>
<div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="RISCVRedundantCopyElimination_8cpp.html#a77c69067ae8279bc00ab8757731e90d7">CC</a> == 7) {</div>
<div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;    Cmp = Constant::getAllOnesValue(</div>
<div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;        <a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#aa91241c8c54738377749dc47ee489e0d">FixedVectorType::get</a>(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.getInt1Ty(), NumElts));</div>
<div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;    <a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355">ICmpInst::Predicate</a> Pred;</div>
<div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="RISCVRedundantCopyElimination_8cpp.html#a77c69067ae8279bc00ab8757731e90d7">CC</a>) {</div>
<div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;    <span class="keywordflow">default</span>: <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unknown condition code&quot;</span>);</div>
<div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;    <span class="keywordflow">case</span> 0: Pred = ICmpInst::ICMP_EQ;  <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;    <span class="keywordflow">case</span> 1: Pred = <a class="code" href="NVPTXISelLowering_8cpp.html#ae1a90b5d85643644483b2ca70da4d13faed3fa7a5efe80dad3ea3d86cc14be246">Signed</a> ? ICmpInst::ICMP_SLT : ICmpInst::ICMP_ULT; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;    <span class="keywordflow">case</span> 2: Pred = <a class="code" href="NVPTXISelLowering_8cpp.html#ae1a90b5d85643644483b2ca70da4d13faed3fa7a5efe80dad3ea3d86cc14be246">Signed</a> ? ICmpInst::ICMP_SLE : ICmpInst::ICMP_ULE; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;    <span class="keywordflow">case</span> 4: Pred = ICmpInst::ICMP_NE;  <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;    <span class="keywordflow">case</span> 5: Pred = <a class="code" href="NVPTXISelLowering_8cpp.html#ae1a90b5d85643644483b2ca70da4d13faed3fa7a5efe80dad3ea3d86cc14be246">Signed</a> ? ICmpInst::ICMP_SGE : ICmpInst::ICMP_UGE; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;    <span class="keywordflow">case</span> 6: Pred = <a class="code" href="NVPTXISelLowering_8cpp.html#ae1a90b5d85643644483b2ca70da4d13faed3fa7a5efe80dad3ea3d86cc14be246">Signed</a> ? ICmpInst::ICMP_SGT : ICmpInst::ICMP_UGT; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;    }</div>
<div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;    Cmp = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateICmp(Pred, Op0, CI.<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1));</div>
<div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;  }</div>
<div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160; </div>
<div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a> = CI.<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(CI.<a class="code" href="classllvm_1_1CallBase.html#adde2ea00dd2613ee41bfe91908e4e68e">arg_size</a>() - 1);</div>
<div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160; </div>
<div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="AutoUpgrade_8cpp.html#a6c619e6daaa1556965750a89419eaf87">ApplyX86MaskOn1BitsVec</a>(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, Cmp, <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>);</div>
<div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;}</div>
<div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160; </div>
<div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;<span class="comment">// Replace a masked intrinsic with an older unmasked intrinsic.</span></div>
<div class="line"><a name="l01698"></a><span class="lineno"><a class="line" href="AutoUpgrade_8cpp.html#a00c0cd34e371d18fb5133e081402564d"> 1698</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="AutoUpgrade_8cpp.html#a00c0cd34e371d18fb5133e081402564d">UpgradeX86MaskedShift</a>(<a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, <a class="code" href="classllvm_1_1CallBase.html">CallBase</a> &amp;CI,</div>
<div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;                                    <a class="code" href="namespacellvm_1_1Intrinsic.html#a80add6b3b1cdaec560907995127adc16">Intrinsic::ID</a> IID) {</div>
<div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;  <a class="code" href="classllvm_1_1Function.html">Function</a> *Intrin = <a class="code" href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">Intrinsic::getDeclaration</a>(CI.<a class="code" href="classllvm_1_1Instruction.html#a4ba3a5be6c0e9b9e8a525de055836733">getModule</a>(), IID);</div>
<div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *Rep = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateCall(Intrin,</div>
<div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;                                 { CI.<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0), CI.<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1) });</div>
<div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="AutoUpgrade_8cpp.html#a8184e757708d747af9b314cdfe238b2c">EmitX86Select</a>(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, CI.<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(3), Rep, CI.<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(2));</div>
<div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;}</div>
<div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160; </div>
<div class="line"><a name="l01706"></a><span class="lineno"><a class="line" href="AutoUpgrade_8cpp.html#a5a66c3e8803b67b779af084294195f55"> 1706</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a>* <a class="code" href="AutoUpgrade_8cpp.html#a5a66c3e8803b67b779af084294195f55">upgradeMaskedMove</a>(<a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, <a class="code" href="classllvm_1_1CallBase.html">CallBase</a> &amp;CI) {</div>
<div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a>* <a class="code" href="README__ALTIVEC_8txt.html#a015846b6188ce15e08cd94c74a9df1a3">A</a> = CI.<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0);</div>
<div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a>* <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a> = CI.<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1);</div>
<div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a>* Src = CI.<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(2);</div>
<div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a>* <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a> = CI.<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(3);</div>
<div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160; </div>
<div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a>* AndNode = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateAnd(<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>, <a class="code" href="classllvm_1_1APInt.html">APInt</a>(8, 1));</div>
<div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a>* Cmp = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateIsNotNull(AndNode);</div>
<div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a>* Extract1 = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateExtractElement(<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>, (<a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a>)0);</div>
<div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a>* Extract2 = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateExtractElement(Src, (<a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a>)0);</div>
<div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a>* <a class="code" href="AMDGPURegBankSelect_8cpp.html#a14e0c000ed52e5fc187d4a885914cc1a">Select</a> = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateSelect(Cmp, Extract1, Extract2);</div>
<div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateInsertElement(<a class="code" href="README__ALTIVEC_8txt.html#a015846b6188ce15e08cd94c74a9df1a3">A</a>, <a class="code" href="AMDGPURegBankSelect_8cpp.html#a14e0c000ed52e5fc187d4a885914cc1a">Select</a>, (<a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a>)0);</div>
<div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;}</div>
<div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160; </div>
<div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160; </div>
<div class="line"><a name="l01721"></a><span class="lineno"><a class="line" href="AutoUpgrade_8cpp.html#a145a85533c28374b3be83c6d3ba6be4e"> 1721</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a>* <a class="code" href="AutoUpgrade_8cpp.html#a145a85533c28374b3be83c6d3ba6be4e">UpgradeMaskToInt</a>(<a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, <a class="code" href="classllvm_1_1CallBase.html">CallBase</a> &amp;CI) {</div>
<div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a>* <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> = CI.<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0);</div>
<div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a>* ReturnOp = CI.<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>();</div>
<div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;  <span class="keywordtype">unsigned</span> NumElts = cast&lt;FixedVectorType&gt;(CI.<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>())-&gt;getNumElements();</div>
<div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a> = <a class="code" href="AutoUpgrade_8cpp.html#af631ff2d8f998127c4f43154c07ebcba">getX86MaskVec</a>(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, NumElts);</div>
<div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateSExt(<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>, ReturnOp, <span class="stringliteral">&quot;vpmovm2&quot;</span>);</div>
<div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;}</div>
<div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160; </div>
<div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;<span class="comment">// Replace intrinsic with unmasked version and a select.</span></div>
<div class="line"><a name="l01730"></a><span class="lineno"><a class="line" href="AutoUpgrade_8cpp.html#ad9d7a82ba140ac920458705124372cd6"> 1730</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="AutoUpgrade_8cpp.html#ad9d7a82ba140ac920458705124372cd6">upgradeAVX512MaskToSelect</a>(<a class="code" href="classllvm_1_1StringRef.html">StringRef</a> <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>, <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>,</div>
<div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;                                      <a class="code" href="classllvm_1_1CallBase.html">CallBase</a> &amp;CI, <a class="code" href="classllvm_1_1Value.html">Value</a> *&amp;Rep) {</div>
<div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;  <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> = <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.substr(12); <span class="comment">// Remove avx512.mask.</span></div>
<div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160; </div>
<div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;  <span class="keywordtype">unsigned</span> VecWidth = CI.<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a833daf718a49c5cd637d8c9ddeaebe07">getPrimitiveSizeInBits</a>();</div>
<div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;  <span class="keywordtype">unsigned</span> EltWidth = CI.<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a9f382207d841377156d4c7868b66b9a5">getScalarSizeInBits</a>();</div>
<div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;  <a class="code" href="namespacellvm_1_1Intrinsic.html#a80add6b3b1cdaec560907995127adc16">Intrinsic::ID</a> IID;</div>
<div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;max.p&quot;</span>)) {</div>
<div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;    <span class="keywordflow">if</span> (VecWidth == 128 &amp;&amp; EltWidth == 32)</div>
<div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;      IID = Intrinsic::x86_sse_max_ps;</div>
<div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (VecWidth == 128 &amp;&amp; EltWidth == 64)</div>
<div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;      IID = Intrinsic::x86_sse2_max_pd;</div>
<div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (VecWidth == 256 &amp;&amp; EltWidth == 32)</div>
<div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;      IID = Intrinsic::x86_avx_max_ps_256;</div>
<div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (VecWidth == 256 &amp;&amp; EltWidth == 64)</div>
<div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;      IID = Intrinsic::x86_avx_max_pd_256;</div>
<div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;      <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unexpected intrinsic&quot;</span>);</div>
<div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;min.p&quot;</span>)) {</div>
<div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;    <span class="keywordflow">if</span> (VecWidth == 128 &amp;&amp; EltWidth == 32)</div>
<div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;      IID = Intrinsic::x86_sse_min_ps;</div>
<div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (VecWidth == 128 &amp;&amp; EltWidth == 64)</div>
<div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;      IID = Intrinsic::x86_sse2_min_pd;</div>
<div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (VecWidth == 256 &amp;&amp; EltWidth == 32)</div>
<div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;      IID = Intrinsic::x86_avx_min_ps_256;</div>
<div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (VecWidth == 256 &amp;&amp; EltWidth == 64)</div>
<div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;      IID = Intrinsic::x86_avx_min_pd_256;</div>
<div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;      <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unexpected intrinsic&quot;</span>);</div>
<div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;pshuf.b.&quot;</span>)) {</div>
<div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;    <span class="keywordflow">if</span> (VecWidth == 128)</div>
<div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;      IID = Intrinsic::x86_ssse3_pshuf_b_128;</div>
<div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (VecWidth == 256)</div>
<div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;      IID = Intrinsic::x86_avx2_pshuf_b;</div>
<div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (VecWidth == 512)</div>
<div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;      IID = Intrinsic::x86_avx512_pshuf_b_512;</div>
<div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;      <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unexpected intrinsic&quot;</span>);</div>
<div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;pmul.hr.sw.&quot;</span>)) {</div>
<div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;    <span class="keywordflow">if</span> (VecWidth == 128)</div>
<div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;      IID = Intrinsic::x86_ssse3_pmul_hr_sw_128;</div>
<div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (VecWidth == 256)</div>
<div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;      IID = Intrinsic::x86_avx2_pmul_hr_sw;</div>
<div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (VecWidth == 512)</div>
<div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;      IID = Intrinsic::x86_avx512_pmul_hr_sw_512;</div>
<div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;      <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unexpected intrinsic&quot;</span>);</div>
<div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;pmulh.w.&quot;</span>)) {</div>
<div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;    <span class="keywordflow">if</span> (VecWidth == 128)</div>
<div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;      IID = Intrinsic::x86_sse2_pmulh_w;</div>
<div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (VecWidth == 256)</div>
<div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;      IID = Intrinsic::x86_avx2_pmulh_w;</div>
<div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (VecWidth == 512)</div>
<div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;      IID = Intrinsic::x86_avx512_pmulh_w_512;</div>
<div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;      <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unexpected intrinsic&quot;</span>);</div>
<div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;pmulhu.w.&quot;</span>)) {</div>
<div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;    <span class="keywordflow">if</span> (VecWidth == 128)</div>
<div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;      IID = Intrinsic::x86_sse2_pmulhu_w;</div>
<div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (VecWidth == 256)</div>
<div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;      IID = Intrinsic::x86_avx2_pmulhu_w;</div>
<div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (VecWidth == 512)</div>
<div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;      IID = Intrinsic::x86_avx512_pmulhu_w_512;</div>
<div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;      <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unexpected intrinsic&quot;</span>);</div>
<div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;pmaddw.d.&quot;</span>)) {</div>
<div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;    <span class="keywordflow">if</span> (VecWidth == 128)</div>
<div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;      IID = Intrinsic::x86_sse2_pmadd_wd;</div>
<div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (VecWidth == 256)</div>
<div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;      IID = Intrinsic::x86_avx2_pmadd_wd;</div>
<div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (VecWidth == 512)</div>
<div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;      IID = Intrinsic::x86_avx512_pmaddw_d_512;</div>
<div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;      <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unexpected intrinsic&quot;</span>);</div>
<div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;pmaddubs.w.&quot;</span>)) {</div>
<div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;    <span class="keywordflow">if</span> (VecWidth == 128)</div>
<div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;      IID = Intrinsic::x86_ssse3_pmadd_ub_sw_128;</div>
<div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (VecWidth == 256)</div>
<div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;      IID = Intrinsic::x86_avx2_pmadd_ub_sw;</div>
<div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (VecWidth == 512)</div>
<div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;      IID = Intrinsic::x86_avx512_pmaddubs_w_512;</div>
<div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;      <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unexpected intrinsic&quot;</span>);</div>
<div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;packsswb.&quot;</span>)) {</div>
<div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;    <span class="keywordflow">if</span> (VecWidth == 128)</div>
<div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;      IID = Intrinsic::x86_sse2_packsswb_128;</div>
<div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (VecWidth == 256)</div>
<div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;      IID = Intrinsic::x86_avx2_packsswb;</div>
<div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (VecWidth == 512)</div>
<div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;      IID = Intrinsic::x86_avx512_packsswb_512;</div>
<div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;      <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unexpected intrinsic&quot;</span>);</div>
<div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;packssdw.&quot;</span>)) {</div>
<div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;    <span class="keywordflow">if</span> (VecWidth == 128)</div>
<div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;      IID = Intrinsic::x86_sse2_packssdw_128;</div>
<div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (VecWidth == 256)</div>
<div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;      IID = Intrinsic::x86_avx2_packssdw;</div>
<div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (VecWidth == 512)</div>
<div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;      IID = Intrinsic::x86_avx512_packssdw_512;</div>
<div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;      <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unexpected intrinsic&quot;</span>);</div>
<div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;packuswb.&quot;</span>)) {</div>
<div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;    <span class="keywordflow">if</span> (VecWidth == 128)</div>
<div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;      IID = Intrinsic::x86_sse2_packuswb_128;</div>
<div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (VecWidth == 256)</div>
<div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;      IID = Intrinsic::x86_avx2_packuswb;</div>
<div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (VecWidth == 512)</div>
<div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;      IID = Intrinsic::x86_avx512_packuswb_512;</div>
<div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;      <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unexpected intrinsic&quot;</span>);</div>
<div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;packusdw.&quot;</span>)) {</div>
<div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;    <span class="keywordflow">if</span> (VecWidth == 128)</div>
<div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;      IID = Intrinsic::x86_sse41_packusdw;</div>
<div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (VecWidth == 256)</div>
<div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;      IID = Intrinsic::x86_avx2_packusdw;</div>
<div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (VecWidth == 512)</div>
<div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;      IID = Intrinsic::x86_avx512_packusdw_512;</div>
<div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;      <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unexpected intrinsic&quot;</span>);</div>
<div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;vpermilvar.&quot;</span>)) {</div>
<div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;    <span class="keywordflow">if</span> (VecWidth == 128 &amp;&amp; EltWidth == 32)</div>
<div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;      IID = Intrinsic::x86_avx_vpermilvar_ps;</div>
<div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (VecWidth == 128 &amp;&amp; EltWidth == 64)</div>
<div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;      IID = Intrinsic::x86_avx_vpermilvar_pd;</div>
<div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (VecWidth == 256 &amp;&amp; EltWidth == 32)</div>
<div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;      IID = Intrinsic::x86_avx_vpermilvar_ps_256;</div>
<div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (VecWidth == 256 &amp;&amp; EltWidth == 64)</div>
<div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;      IID = Intrinsic::x86_avx_vpermilvar_pd_256;</div>
<div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (VecWidth == 512 &amp;&amp; EltWidth == 32)</div>
<div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;      IID = Intrinsic::x86_avx512_vpermilvar_ps_512;</div>
<div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (VecWidth == 512 &amp;&amp; EltWidth == 64)</div>
<div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;      IID = Intrinsic::x86_avx512_vpermilvar_pd_512;</div>
<div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;      <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unexpected intrinsic&quot;</span>);</div>
<div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> == <span class="stringliteral">&quot;cvtpd2dq.256&quot;</span>) {</div>
<div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;    IID = Intrinsic::x86_avx_cvt_pd2dq_256;</div>
<div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> == <span class="stringliteral">&quot;cvtpd2ps.256&quot;</span>) {</div>
<div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;    IID = Intrinsic::x86_avx_cvt_pd2_ps_256;</div>
<div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> == <span class="stringliteral">&quot;cvttpd2dq.256&quot;</span>) {</div>
<div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;    IID = Intrinsic::x86_avx_cvtt_pd2dq_256;</div>
<div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> == <span class="stringliteral">&quot;cvttps2dq.128&quot;</span>) {</div>
<div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;    IID = Intrinsic::x86_sse2_cvttps2dq;</div>
<div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> == <span class="stringliteral">&quot;cvttps2dq.256&quot;</span>) {</div>
<div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;    IID = Intrinsic::x86_avx_cvtt_ps2dq_256;</div>
<div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;permvar.&quot;</span>)) {</div>
<div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;    <span class="keywordtype">bool</span> IsFloat = CI.<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#ad0709baa705ae62c4e09cdd47fb4b420">isFPOrFPVectorTy</a>();</div>
<div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;    <span class="keywordflow">if</span> (VecWidth == 256 &amp;&amp; EltWidth == 32 &amp;&amp; IsFloat)</div>
<div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;      IID = Intrinsic::x86_avx2_permps;</div>
<div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (VecWidth == 256 &amp;&amp; EltWidth == 32 &amp;&amp; !IsFloat)</div>
<div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;      IID = Intrinsic::x86_avx2_permd;</div>
<div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (VecWidth == 256 &amp;&amp; EltWidth == 64 &amp;&amp; IsFloat)</div>
<div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;      IID = Intrinsic::x86_avx512_permvar_df_256;</div>
<div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (VecWidth == 256 &amp;&amp; EltWidth == 64 &amp;&amp; !IsFloat)</div>
<div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;      IID = Intrinsic::x86_avx512_permvar_di_256;</div>
<div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (VecWidth == 512 &amp;&amp; EltWidth == 32 &amp;&amp; IsFloat)</div>
<div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;      IID = Intrinsic::x86_avx512_permvar_sf_512;</div>
<div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (VecWidth == 512 &amp;&amp; EltWidth == 32 &amp;&amp; !IsFloat)</div>
<div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;      IID = Intrinsic::x86_avx512_permvar_si_512;</div>
<div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (VecWidth == 512 &amp;&amp; EltWidth == 64 &amp;&amp; IsFloat)</div>
<div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;      IID = Intrinsic::x86_avx512_permvar_df_512;</div>
<div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (VecWidth == 512 &amp;&amp; EltWidth == 64 &amp;&amp; !IsFloat)</div>
<div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;      IID = Intrinsic::x86_avx512_permvar_di_512;</div>
<div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (VecWidth == 128 &amp;&amp; EltWidth == 16)</div>
<div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;      IID = Intrinsic::x86_avx512_permvar_hi_128;</div>
<div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (VecWidth == 256 &amp;&amp; EltWidth == 16)</div>
<div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;      IID = Intrinsic::x86_avx512_permvar_hi_256;</div>
<div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (VecWidth == 512 &amp;&amp; EltWidth == 16)</div>
<div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;      IID = Intrinsic::x86_avx512_permvar_hi_512;</div>
<div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (VecWidth == 128 &amp;&amp; EltWidth == 8)</div>
<div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;      IID = Intrinsic::x86_avx512_permvar_qi_128;</div>
<div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (VecWidth == 256 &amp;&amp; EltWidth == 8)</div>
<div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;      IID = Intrinsic::x86_avx512_permvar_qi_256;</div>
<div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (VecWidth == 512 &amp;&amp; EltWidth == 8)</div>
<div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;      IID = Intrinsic::x86_avx512_permvar_qi_512;</div>
<div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;      <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unexpected intrinsic&quot;</span>);</div>
<div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;dbpsadbw.&quot;</span>)) {</div>
<div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;    <span class="keywordflow">if</span> (VecWidth == 128)</div>
<div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;      IID = Intrinsic::x86_avx512_dbpsadbw_128;</div>
<div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (VecWidth == 256)</div>
<div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;      IID = Intrinsic::x86_avx512_dbpsadbw_256;</div>
<div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (VecWidth == 512)</div>
<div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;      IID = Intrinsic::x86_avx512_dbpsadbw_512;</div>
<div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;      <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unexpected intrinsic&quot;</span>);</div>
<div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;pmultishift.qb.&quot;</span>)) {</div>
<div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;    <span class="keywordflow">if</span> (VecWidth == 128)</div>
<div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;      IID = Intrinsic::x86_avx512_pmultishift_qb_128;</div>
<div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (VecWidth == 256)</div>
<div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;      IID = Intrinsic::x86_avx512_pmultishift_qb_256;</div>
<div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (VecWidth == 512)</div>
<div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;      IID = Intrinsic::x86_avx512_pmultishift_qb_512;</div>
<div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;      <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unexpected intrinsic&quot;</span>);</div>
<div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;conflict.&quot;</span>)) {</div>
<div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>[9] == <span class="charliteral">&#39;d&#39;</span> &amp;&amp; VecWidth == 128)</div>
<div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;      IID = Intrinsic::x86_avx512_conflict_d_128;</div>
<div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>[9] == <span class="charliteral">&#39;d&#39;</span> &amp;&amp; VecWidth == 256)</div>
<div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;      IID = Intrinsic::x86_avx512_conflict_d_256;</div>
<div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>[9] == <span class="charliteral">&#39;d&#39;</span> &amp;&amp; VecWidth == 512)</div>
<div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;      IID = Intrinsic::x86_avx512_conflict_d_512;</div>
<div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>[9] == <span class="charliteral">&#39;q&#39;</span> &amp;&amp; VecWidth == 128)</div>
<div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;      IID = Intrinsic::x86_avx512_conflict_q_128;</div>
<div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>[9] == <span class="charliteral">&#39;q&#39;</span> &amp;&amp; VecWidth == 256)</div>
<div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;      IID = Intrinsic::x86_avx512_conflict_q_256;</div>
<div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>[9] == <span class="charliteral">&#39;q&#39;</span> &amp;&amp; VecWidth == 512)</div>
<div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;      IID = Intrinsic::x86_avx512_conflict_q_512;</div>
<div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;      <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unexpected intrinsic&quot;</span>);</div>
<div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;pavg.&quot;</span>)) {</div>
<div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>[5] == <span class="charliteral">&#39;b&#39;</span> &amp;&amp; VecWidth == 128)</div>
<div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;      IID = Intrinsic::x86_sse2_pavg_b;</div>
<div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>[5] == <span class="charliteral">&#39;b&#39;</span> &amp;&amp; VecWidth == 256)</div>
<div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160;      IID = Intrinsic::x86_avx2_pavg_b;</div>
<div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>[5] == <span class="charliteral">&#39;b&#39;</span> &amp;&amp; VecWidth == 512)</div>
<div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;      IID = Intrinsic::x86_avx512_pavg_b_512;</div>
<div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>[5] == <span class="charliteral">&#39;w&#39;</span> &amp;&amp; VecWidth == 128)</div>
<div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;      IID = Intrinsic::x86_sse2_pavg_w;</div>
<div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>[5] == <span class="charliteral">&#39;w&#39;</span> &amp;&amp; VecWidth == 256)</div>
<div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;      IID = Intrinsic::x86_avx2_pavg_w;</div>
<div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>[5] == <span class="charliteral">&#39;w&#39;</span> &amp;&amp; VecWidth == 512)</div>
<div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;      IID = Intrinsic::x86_avx512_pavg_w_512;</div>
<div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160;      <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unexpected intrinsic&quot;</span>);</div>
<div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160;  } <span class="keywordflow">else</span></div>
<div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160; </div>
<div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Value *, 4&gt;</a> <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>(CI.<a class="code" href="classllvm_1_1CallBase.html#ac63dbb4994494c46f025715272cdb81e">args</a>());</div>
<div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160;  <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>.pop_back();</div>
<div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;  <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>.pop_back();</div>
<div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;  Rep = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateCall(<a class="code" href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">Intrinsic::getDeclaration</a>(CI.<a class="code" href="classllvm_1_1Instruction.html#a4ba3a5be6c0e9b9e8a525de055836733">getModule</a>(), IID),</div>
<div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160;                           <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>);</div>
<div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160;  <span class="keywordtype">unsigned</span> NumArgs = CI.<a class="code" href="classllvm_1_1CallBase.html#adde2ea00dd2613ee41bfe91908e4e68e">arg_size</a>();</div>
<div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160;  Rep = <a class="code" href="AutoUpgrade_8cpp.html#a8184e757708d747af9b314cdfe238b2c">EmitX86Select</a>(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, CI.<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(NumArgs - 1), Rep,</div>
<div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160;                      CI.<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(NumArgs - 2));</div>
<div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160;}</div>
<div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;<span class="comment">/// Upgrade comment in call to inline asm that represents an objc retain release</span></div>
<div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160;<span class="comment">/// marker.</span></div>
<div class="line"><a name="l01970"></a><span class="lineno"><a class="line" href="namespacellvm.html#a1c6fc8ba1563e284eedf98783ea96259"> 1970</a></span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="namespacellvm.html#a1c6fc8ba1563e284eedf98783ea96259">llvm::UpgradeInlineAsmString</a>(std::string *AsmStr) {</div>
<div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160;  <span class="keywordtype">size_t</span> Pos;</div>
<div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160;  <span class="keywordflow">if</span> (AsmStr-&gt;find(<span class="stringliteral">&quot;mov\tfp&quot;</span>) == 0 &amp;&amp;</div>
<div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160;      AsmStr-&gt;find(<span class="stringliteral">&quot;objc_retainAutoreleaseReturnValue&quot;</span>) != std::string::npos &amp;&amp;</div>
<div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160;      (Pos = AsmStr-&gt;find(<span class="stringliteral">&quot;# marker&quot;</span>)) != std::string::npos) {</div>
<div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;    AsmStr-&gt;replace(Pos, 1, <span class="stringliteral">&quot;;&quot;</span>);</div>
<div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;  }</div>
<div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;}</div>
<div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160; </div>
<div class="line"><a name="l01979"></a><span class="lineno"><a class="line" href="AutoUpgrade_8cpp.html#ad24d706631614be574fa27dd0f59b575"> 1979</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="AutoUpgrade_8cpp.html#ad24d706631614be574fa27dd0f59b575">UpgradeARMIntrinsicCall</a>(<a class="code" href="classllvm_1_1StringRef.html">StringRef</a> <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>, <a class="code" href="classllvm_1_1CallBase.html">CallBase</a> *CI, <a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>,</div>
<div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;                                      <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>) {</div>
<div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> == <span class="stringliteral">&quot;mve.vctp64.old&quot;</span>) {</div>
<div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;    <span class="comment">// Replace the old v4i1 vctp64 with a v2i1 vctp and predicate-casts to the</span></div>
<div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160;    <span class="comment">// correct type.</span></div>
<div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *VCTP = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateCall(</div>
<div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;        <a class="code" href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">Intrinsic::getDeclaration</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getParent(), Intrinsic::arm_mve_vctp64),</div>
<div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;        CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0), CI-&gt;<a class="code" href="classllvm_1_1Value.html#adb5c319f5905c1d3ca9eb5df546388c5">getName</a>());</div>
<div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a> = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateCall(</div>
<div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;        <a class="code" href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">Intrinsic::getDeclaration</a>(</div>
<div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;            <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getParent(), Intrinsic::arm_mve_pred_v2i,</div>
<div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;            {VectorType::get(Builder.getInt1Ty(), 2, false)}),</div>
<div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;        VCTP);</div>
<div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateCall(</div>
<div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;        <a class="code" href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">Intrinsic::getDeclaration</a>(</div>
<div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;            <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getParent(), Intrinsic::arm_mve_pred_i2v,</div>
<div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;            {VectorType::get(Builder.getInt1Ty(), 4, false)}),</div>
<div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;        <a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>);</div>
<div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> == <span class="stringliteral">&quot;mve.mull.int.predicated.v2i64.v4i32.v4i1&quot;</span> ||</div>
<div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;             <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> == <span class="stringliteral">&quot;mve.vqdmull.predicated.v2i64.v4i32.v4i1&quot;</span> ||</div>
<div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;             <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> == <span class="stringliteral">&quot;mve.vldr.gather.base.predicated.v2i64.v2i64.v4i1&quot;</span> ||</div>
<div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;             <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> == <span class="stringliteral">&quot;mve.vldr.gather.base.wb.predicated.v2i64.v2i64.v4i1&quot;</span> ||</div>
<div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;             <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> ==</div>
<div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;                 <span class="stringliteral">&quot;mve.vldr.gather.offset.predicated.v2i64.p0i64.v2i64.v4i1&quot;</span> ||</div>
<div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;             <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> == <span class="stringliteral">&quot;mve.vldr.gather.offset.predicated.v2i64.p0.v2i64.v4i1&quot;</span> ||</div>
<div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;             <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> == <span class="stringliteral">&quot;mve.vstr.scatter.base.predicated.v2i64.v2i64.v4i1&quot;</span> ||</div>
<div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;             <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> == <span class="stringliteral">&quot;mve.vstr.scatter.base.wb.predicated.v2i64.v2i64.v4i1&quot;</span> ||</div>
<div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;             <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> ==</div>
<div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;                 <span class="stringliteral">&quot;mve.vstr.scatter.offset.predicated.p0i64.v2i64.v2i64.v4i1&quot;</span> ||</div>
<div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;             <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> == <span class="stringliteral">&quot;mve.vstr.scatter.offset.predicated.p0.v2i64.v2i64.v4i1&quot;</span> ||</div>
<div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;             <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> == <span class="stringliteral">&quot;cde.vcx1q.predicated.v2i64.v4i1&quot;</span> ||</div>
<div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;             <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> == <span class="stringliteral">&quot;cde.vcx1qa.predicated.v2i64.v4i1&quot;</span> ||</div>
<div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;             <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> == <span class="stringliteral">&quot;cde.vcx2q.predicated.v2i64.v4i1&quot;</span> ||</div>
<div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;             <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> == <span class="stringliteral">&quot;cde.vcx2qa.predicated.v2i64.v4i1&quot;</span> ||</div>
<div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;             <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> == <span class="stringliteral">&quot;cde.vcx3q.predicated.v2i64.v4i1&quot;</span> ||</div>
<div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160;             <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> == <span class="stringliteral">&quot;cde.vcx3qa.predicated.v2i64.v4i1&quot;</span>) {</div>
<div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;    std::vector&lt;Type *&gt; Tys;</div>
<div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a> = CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ac62778065b99372cc62cf994b967e7e8">getIntrinsicID</a>();</div>
<div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;    <a class="code" href="classllvm_1_1Type.html">Type</a> *V2I1Ty = <a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#aa91241c8c54738377749dc47ee489e0d">FixedVectorType::get</a>(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.getInt1Ty(), 2);</div>
<div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>) {</div>
<div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;    <span class="keywordflow">case</span> Intrinsic::arm_mve_mull_int_predicated:</div>
<div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;    <span class="keywordflow">case</span> Intrinsic::arm_mve_vqdmull_predicated:</div>
<div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;    <span class="keywordflow">case</span> Intrinsic::arm_mve_vldr_gather_base_predicated:</div>
<div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160;      Tys = {CI-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>(), CI-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(0)-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>(), V2I1Ty};</div>
<div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160;    <span class="keywordflow">case</span> Intrinsic::arm_mve_vldr_gather_base_wb_predicated:</div>
<div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160;    <span class="keywordflow">case</span> Intrinsic::arm_mve_vstr_scatter_base_predicated:</div>
<div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160;    <span class="keywordflow">case</span> Intrinsic::arm_mve_vstr_scatter_base_wb_predicated:</div>
<div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;      Tys = {CI-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(0)-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>(), CI-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(0)-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>(),</div>
<div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160;             V2I1Ty};</div>
<div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160;    <span class="keywordflow">case</span> Intrinsic::arm_mve_vldr_gather_offset_predicated:</div>
<div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160;      Tys = {CI-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>(), CI-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(0)-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>(),</div>
<div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;             CI-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(1)-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>(), V2I1Ty};</div>
<div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;    <span class="keywordflow">case</span> Intrinsic::arm_mve_vstr_scatter_offset_predicated:</div>
<div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;      Tys = {CI-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(0)-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>(), CI-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(1)-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>(),</div>
<div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160;             CI-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(2)-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>(), V2I1Ty};</div>
<div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160;    <span class="keywordflow">case</span> Intrinsic::arm_cde_vcx1q_predicated:</div>
<div class="line"><a name="l02039"></a><span class="lineno"> 2039</span>&#160;    <span class="keywordflow">case</span> Intrinsic::arm_cde_vcx1qa_predicated:</div>
<div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160;    <span class="keywordflow">case</span> Intrinsic::arm_cde_vcx2q_predicated:</div>
<div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160;    <span class="keywordflow">case</span> Intrinsic::arm_cde_vcx2qa_predicated:</div>
<div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160;    <span class="keywordflow">case</span> Intrinsic::arm_cde_vcx3q_predicated:</div>
<div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160;    <span class="keywordflow">case</span> Intrinsic::arm_cde_vcx3qa_predicated:</div>
<div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160;      Tys = {CI-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(1)-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>(), V2I1Ty};</div>
<div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160;      <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unhandled Intrinsic!&quot;</span>);</div>
<div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160;    }</div>
<div class="line"><a name="l02049"></a><span class="lineno"> 2049</span>&#160; </div>
<div class="line"><a name="l02050"></a><span class="lineno"> 2050</span>&#160;    std::vector&lt;Value *&gt; Ops;</div>
<div class="line"><a name="l02051"></a><span class="lineno"> 2051</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> : CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ac63dbb4994494c46f025715272cdb81e">args</a>()) {</div>
<div class="line"><a name="l02052"></a><span class="lineno"> 2052</span>&#160;      <a class="code" href="classllvm_1_1Type.html">Type</a> *Ty = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>-&gt;getType();</div>
<div class="line"><a name="l02053"></a><span class="lineno"> 2053</span>&#160;      <span class="keywordflow">if</span> (Ty-&gt;<a class="code" href="classllvm_1_1Type.html#a9f382207d841377156d4c7868b66b9a5">getScalarSizeInBits</a>() == 1) {</div>
<div class="line"><a name="l02054"></a><span class="lineno"> 2054</span>&#160;        <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a> = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateCall(</div>
<div class="line"><a name="l02055"></a><span class="lineno"> 2055</span>&#160;            <a class="code" href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">Intrinsic::getDeclaration</a>(</div>
<div class="line"><a name="l02056"></a><span class="lineno"> 2056</span>&#160;                <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getParent(), Intrinsic::arm_mve_pred_v2i,</div>
<div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160;                {VectorType::get(Builder.getInt1Ty(), 4, false)}),</div>
<div class="line"><a name="l02058"></a><span class="lineno"> 2058</span>&#160;            <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>);</div>
<div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160;        <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateCall(</div>
<div class="line"><a name="l02060"></a><span class="lineno"> 2060</span>&#160;            <a class="code" href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">Intrinsic::getDeclaration</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getParent(),</div>
<div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160;                                      Intrinsic::arm_mve_pred_i2v, {V2I1Ty}),</div>
<div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160;            <a class="code" href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>);</div>
<div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160;      }</div>
<div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160;      Ops.push_back(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>);</div>
<div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160;    }</div>
<div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160; </div>
<div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160;    <a class="code" href="classllvm_1_1Function.html">Function</a> *Fn = <a class="code" href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">Intrinsic::getDeclaration</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getParent(), <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>, Tys);</div>
<div class="line"><a name="l02068"></a><span class="lineno"> 2068</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateCall(Fn, Ops, CI-&gt;<a class="code" href="classllvm_1_1Value.html#adb5c319f5905c1d3ca9eb5df546388c5">getName</a>());</div>
<div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160;  }</div>
<div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160;  <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unknown function for ARM CallBase upgrade.&quot;</span>);</div>
<div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160;}</div>
<div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l02073"></a><span class="lineno"> 2073</span>&#160;<span class="comment">/// Upgrade a call to an old intrinsic. All argument and return casting must be</span></div>
<div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160;<span class="comment">/// provided to seamlessly integrate with existing context.</span></div>
<div class="line"><a name="l02075"></a><span class="lineno"><a class="line" href="namespacellvm.html#a085e92ed481e12744fdf1740b4751327"> 2075</a></span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="namespacellvm.html#a085e92ed481e12744fdf1740b4751327">llvm::UpgradeIntrinsicCall</a>(<a class="code" href="classllvm_1_1CallBase.html">CallBase</a> *CI, <a class="code" href="classllvm_1_1Function.html">Function</a> *NewFn) {</div>
<div class="line"><a name="l02076"></a><span class="lineno"> 2076</span>&#160;  <span class="comment">// Note dyn_cast to Function is not quite the same as getCalledFunction, which</span></div>
<div class="line"><a name="l02077"></a><span class="lineno"> 2077</span>&#160;  <span class="comment">// checks the callee&#39;s function type matches. It&#39;s likely we need to handle</span></div>
<div class="line"><a name="l02078"></a><span class="lineno"> 2078</span>&#160;  <span class="comment">// type changes here.</span></div>
<div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160;  <a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> = dyn_cast&lt;Function&gt;(CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#a7ac9329ef7292ee640d87f45ce7ae05c">getCalledOperand</a>());</div>
<div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>)</div>
<div class="line"><a name="l02081"></a><span class="lineno"> 2081</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02082"></a><span class="lineno"> 2082</span>&#160; </div>
<div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160;  <a class="code" href="classllvm_1_1LLVMContext.html">LLVMContext</a> &amp;<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = CI-&gt;<a class="code" href="classllvm_1_1Value.html#ab3fc0225d8aaf8434026c3573f961f2c">getContext</a>();</div>
<div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160;  <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>);</div>
<div class="line"><a name="l02085"></a><span class="lineno"> 2085</span>&#160;  <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.SetInsertPoint(CI-&gt;<a class="code" href="classllvm_1_1Instruction.html#a1a7f07aaef6a3bee130bf0e0f0536802">getParent</a>(), CI-&gt;<a class="code" href="classllvm_1_1ilist__node__impl.html#af719fc783be6589465137d997701a432">getIterator</a>());</div>
<div class="line"><a name="l02086"></a><span class="lineno"> 2086</span>&#160; </div>
<div class="line"><a name="l02087"></a><span class="lineno"> 2087</span>&#160;  <span class="keywordflow">if</span> (!NewFn) {</div>
<div class="line"><a name="l02088"></a><span class="lineno"> 2088</span>&#160;    <span class="comment">// Get the Function&#39;s name.</span></div>
<div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160;    <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> = <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getName();</div>
<div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160; </div>
<div class="line"><a name="l02091"></a><span class="lineno"> 2091</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;llvm.&quot;</span>) &amp;&amp; <span class="stringliteral">&quot;Intrinsic doesn&#39;t start with &#39;llvm.&#39;&quot;</span>);</div>
<div class="line"><a name="l02092"></a><span class="lineno"> 2092</span>&#160;    <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> = <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.substr(5);</div>
<div class="line"><a name="l02093"></a><span class="lineno"> 2093</span>&#160; </div>
<div class="line"><a name="l02094"></a><span class="lineno"> 2094</span>&#160;    <span class="keywordtype">bool</span> IsX86 = <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;x86.&quot;</span>);</div>
<div class="line"><a name="l02095"></a><span class="lineno"> 2095</span>&#160;    <span class="keywordflow">if</span> (IsX86)</div>
<div class="line"><a name="l02096"></a><span class="lineno"> 2096</span>&#160;      <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> = <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.substr(4);</div>
<div class="line"><a name="l02097"></a><span class="lineno"> 2097</span>&#160;    <span class="keywordtype">bool</span> IsNVVM = <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;nvvm.&quot;</span>);</div>
<div class="line"><a name="l02098"></a><span class="lineno"> 2098</span>&#160;    <span class="keywordflow">if</span> (IsNVVM)</div>
<div class="line"><a name="l02099"></a><span class="lineno"> 2099</span>&#160;      <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> = <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.substr(5);</div>
<div class="line"><a name="l02100"></a><span class="lineno"> 2100</span>&#160;    <span class="keywordtype">bool</span> IsARM = <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;arm.&quot;</span>);</div>
<div class="line"><a name="l02101"></a><span class="lineno"> 2101</span>&#160;    <span class="keywordflow">if</span> (IsARM)</div>
<div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160;      <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> = <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.substr(4);</div>
<div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160; </div>
<div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160;    <span class="keywordflow">if</span> (IsX86 &amp;&amp; <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;sse4a.movnt.&quot;</span>)) {</div>
<div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160;      <a class="code" href="classllvm_1_1Module.html">Module</a> *<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a> = <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getParent();</div>
<div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160;      <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Metadata *, 1&gt;</a> Elts;</div>
<div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160;      Elts.push_back(</div>
<div class="line"><a name="l02108"></a><span class="lineno"> 2108</span>&#160;          <a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#aa91241c8c54738377749dc47ee489e0d">ConstantAsMetadata::get</a>(<a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#aa91241c8c54738377749dc47ee489e0d">ConstantInt::get</a>(Type::getInt32Ty(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>), 1)));</div>
<div class="line"><a name="l02109"></a><span class="lineno"> 2109</span>&#160;      <a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *Node = <a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#aa91241c8c54738377749dc47ee489e0d">MDNode::get</a>(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>, Elts);</div>
<div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160; </div>
<div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *Arg0 = CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0);</div>
<div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *Arg1 = CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1);</div>
<div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160; </div>
<div class="line"><a name="l02114"></a><span class="lineno"> 2114</span>&#160;      <span class="comment">// Nontemporal (unaligned) store of the 0&#39;th element of the float/double</span></div>
<div class="line"><a name="l02115"></a><span class="lineno"> 2115</span>&#160;      <span class="comment">// vector.</span></div>
<div class="line"><a name="l02116"></a><span class="lineno"> 2116</span>&#160;      <a class="code" href="classllvm_1_1Type.html">Type</a> *SrcEltTy = cast&lt;VectorType&gt;(Arg1-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>())-&gt;getElementType();</div>
<div class="line"><a name="l02117"></a><span class="lineno"> 2117</span>&#160;      <a class="code" href="classllvm_1_1PointerType.html">PointerType</a> *EltPtrTy = PointerType::getUnqual(SrcEltTy);</div>
<div class="line"><a name="l02118"></a><span class="lineno"> 2118</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a> = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateBitCast(Arg0, EltPtrTy, <span class="stringliteral">&quot;cast&quot;</span>);</div>
<div class="line"><a name="l02119"></a><span class="lineno"> 2119</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *Extract =</div>
<div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160;          <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateExtractElement(Arg1, (<a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a>)0, <span class="stringliteral">&quot;extractelement&quot;</span>);</div>
<div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160; </div>
<div class="line"><a name="l02122"></a><span class="lineno"> 2122</span>&#160;      <a class="code" href="classllvm_1_1StoreInst.html">StoreInst</a> *<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a> = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateAlignedStore(Extract, <a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>, <a class="code" href="ELFObjHandler_8cpp.html#a043cdaf7b89aaeeb127be5d93411637f">Align</a>(1));</div>
<div class="line"><a name="l02123"></a><span class="lineno"> 2123</span>&#160;      <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>-&gt;setMetadata(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>-&gt;getMDKindID(<span class="stringliteral">&quot;nontemporal&quot;</span>), Node);</div>
<div class="line"><a name="l02124"></a><span class="lineno"> 2124</span>&#160; </div>
<div class="line"><a name="l02125"></a><span class="lineno"> 2125</span>&#160;      <span class="comment">// Remove intrinsic.</span></div>
<div class="line"><a name="l02126"></a><span class="lineno"> 2126</span>&#160;      CI-&gt;<a class="code" href="classllvm_1_1Instruction.html#ae6b978645b8ac72d1a35e1298ffdd4f0">eraseFromParent</a>();</div>
<div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02128"></a><span class="lineno"> 2128</span>&#160;    }</div>
<div class="line"><a name="l02129"></a><span class="lineno"> 2129</span>&#160; </div>
<div class="line"><a name="l02130"></a><span class="lineno"> 2130</span>&#160;    <span class="keywordflow">if</span> (IsX86 &amp;&amp; (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx.movnt.&quot;</span>) ||</div>
<div class="line"><a name="l02131"></a><span class="lineno"> 2131</span>&#160;                  <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.storent.&quot;</span>))) {</div>
<div class="line"><a name="l02132"></a><span class="lineno"> 2132</span>&#160;      <a class="code" href="classllvm_1_1Module.html">Module</a> *<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a> = <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getParent();</div>
<div class="line"><a name="l02133"></a><span class="lineno"> 2133</span>&#160;      <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Metadata *, 1&gt;</a> Elts;</div>
<div class="line"><a name="l02134"></a><span class="lineno"> 2134</span>&#160;      Elts.push_back(</div>
<div class="line"><a name="l02135"></a><span class="lineno"> 2135</span>&#160;          <a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#aa91241c8c54738377749dc47ee489e0d">ConstantAsMetadata::get</a>(<a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#aa91241c8c54738377749dc47ee489e0d">ConstantInt::get</a>(Type::getInt32Ty(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>), 1)));</div>
<div class="line"><a name="l02136"></a><span class="lineno"> 2136</span>&#160;      <a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *Node = <a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#aa91241c8c54738377749dc47ee489e0d">MDNode::get</a>(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>, Elts);</div>
<div class="line"><a name="l02137"></a><span class="lineno"> 2137</span>&#160; </div>
<div class="line"><a name="l02138"></a><span class="lineno"> 2138</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *Arg0 = CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0);</div>
<div class="line"><a name="l02139"></a><span class="lineno"> 2139</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *Arg1 = CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1);</div>
<div class="line"><a name="l02140"></a><span class="lineno"> 2140</span>&#160; </div>
<div class="line"><a name="l02141"></a><span class="lineno"> 2141</span>&#160;      <span class="comment">// Convert the type of the pointer to a pointer to the stored type.</span></div>
<div class="line"><a name="l02142"></a><span class="lineno"> 2142</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *BC = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateBitCast(Arg0,</div>
<div class="line"><a name="l02143"></a><span class="lineno"> 2143</span>&#160;                                        PointerType::getUnqual(Arg1-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()),</div>
<div class="line"><a name="l02144"></a><span class="lineno"> 2144</span>&#160;                                        <span class="stringliteral">&quot;cast&quot;</span>);</div>
<div class="line"><a name="l02145"></a><span class="lineno"> 2145</span>&#160;      <a class="code" href="classllvm_1_1StoreInst.html">StoreInst</a> *<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a> = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateAlignedStore(</div>
<div class="line"><a name="l02146"></a><span class="lineno"> 2146</span>&#160;          Arg1, BC,</div>
<div class="line"><a name="l02147"></a><span class="lineno"> 2147</span>&#160;          <a class="code" href="ELFObjHandler_8cpp.html#a043cdaf7b89aaeeb127be5d93411637f">Align</a>(Arg1-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a833daf718a49c5cd637d8c9ddeaebe07">getPrimitiveSizeInBits</a>().<a class="code" href="classllvm_1_1details_1_1FixedOrScalableQuantity.html#a33880aaca0ad05e5f1557f079305bde5">getFixedValue</a>() / 8));</div>
<div class="line"><a name="l02148"></a><span class="lineno"> 2148</span>&#160;      <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>-&gt;setMetadata(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>-&gt;getMDKindID(<span class="stringliteral">&quot;nontemporal&quot;</span>), Node);</div>
<div class="line"><a name="l02149"></a><span class="lineno"> 2149</span>&#160; </div>
<div class="line"><a name="l02150"></a><span class="lineno"> 2150</span>&#160;      <span class="comment">// Remove intrinsic.</span></div>
<div class="line"><a name="l02151"></a><span class="lineno"> 2151</span>&#160;      CI-&gt;<a class="code" href="classllvm_1_1Instruction.html#ae6b978645b8ac72d1a35e1298ffdd4f0">eraseFromParent</a>();</div>
<div class="line"><a name="l02152"></a><span class="lineno"> 2152</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02153"></a><span class="lineno"> 2153</span>&#160;    }</div>
<div class="line"><a name="l02154"></a><span class="lineno"> 2154</span>&#160; </div>
<div class="line"><a name="l02155"></a><span class="lineno"> 2155</span>&#160;    <span class="keywordflow">if</span> (IsX86 &amp;&amp; <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> == <span class="stringliteral">&quot;sse2.storel.dq&quot;</span>) {</div>
<div class="line"><a name="l02156"></a><span class="lineno"> 2156</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *Arg0 = CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0);</div>
<div class="line"><a name="l02157"></a><span class="lineno"> 2157</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *Arg1 = CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1);</div>
<div class="line"><a name="l02158"></a><span class="lineno"> 2158</span>&#160; </div>
<div class="line"><a name="l02159"></a><span class="lineno"> 2159</span>&#160;      <span class="keyword">auto</span> *NewVecTy = <a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#aa91241c8c54738377749dc47ee489e0d">FixedVectorType::get</a>(Type::getInt64Ty(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>), 2);</div>
<div class="line"><a name="l02160"></a><span class="lineno"> 2160</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *BC0 = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateBitCast(Arg1, NewVecTy, <span class="stringliteral">&quot;cast&quot;</span>);</div>
<div class="line"><a name="l02161"></a><span class="lineno"> 2161</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *Elt = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateExtractElement(BC0, (<a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a>)0);</div>
<div class="line"><a name="l02162"></a><span class="lineno"> 2162</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *BC = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateBitCast(Arg0,</div>
<div class="line"><a name="l02163"></a><span class="lineno"> 2163</span>&#160;                                        PointerType::getUnqual(Elt-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()),</div>
<div class="line"><a name="l02164"></a><span class="lineno"> 2164</span>&#160;                                        <span class="stringliteral">&quot;cast&quot;</span>);</div>
<div class="line"><a name="l02165"></a><span class="lineno"> 2165</span>&#160;      <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateAlignedStore(Elt, BC, <a class="code" href="ELFObjHandler_8cpp.html#a043cdaf7b89aaeeb127be5d93411637f">Align</a>(1));</div>
<div class="line"><a name="l02166"></a><span class="lineno"> 2166</span>&#160; </div>
<div class="line"><a name="l02167"></a><span class="lineno"> 2167</span>&#160;      <span class="comment">// Remove intrinsic.</span></div>
<div class="line"><a name="l02168"></a><span class="lineno"> 2168</span>&#160;      CI-&gt;<a class="code" href="classllvm_1_1Instruction.html#ae6b978645b8ac72d1a35e1298ffdd4f0">eraseFromParent</a>();</div>
<div class="line"><a name="l02169"></a><span class="lineno"> 2169</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02170"></a><span class="lineno"> 2170</span>&#160;    }</div>
<div class="line"><a name="l02171"></a><span class="lineno"> 2171</span>&#160; </div>
<div class="line"><a name="l02172"></a><span class="lineno"> 2172</span>&#160;    <span class="keywordflow">if</span> (IsX86 &amp;&amp; (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;sse.storeu.&quot;</span>) ||</div>
<div class="line"><a name="l02173"></a><span class="lineno"> 2173</span>&#160;                  <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;sse2.storeu.&quot;</span>) ||</div>
<div class="line"><a name="l02174"></a><span class="lineno"> 2174</span>&#160;                  <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx.storeu.&quot;</span>))) {</div>
<div class="line"><a name="l02175"></a><span class="lineno"> 2175</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *Arg0 = CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0);</div>
<div class="line"><a name="l02176"></a><span class="lineno"> 2176</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *Arg1 = CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1);</div>
<div class="line"><a name="l02177"></a><span class="lineno"> 2177</span>&#160; </div>
<div class="line"><a name="l02178"></a><span class="lineno"> 2178</span>&#160;      Arg0 = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateBitCast(Arg0,</div>
<div class="line"><a name="l02179"></a><span class="lineno"> 2179</span>&#160;                                   PointerType::getUnqual(Arg1-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()),</div>
<div class="line"><a name="l02180"></a><span class="lineno"> 2180</span>&#160;                                   <span class="stringliteral">&quot;cast&quot;</span>);</div>
<div class="line"><a name="l02181"></a><span class="lineno"> 2181</span>&#160;      <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateAlignedStore(Arg1, Arg0, <a class="code" href="ELFObjHandler_8cpp.html#a043cdaf7b89aaeeb127be5d93411637f">Align</a>(1));</div>
<div class="line"><a name="l02182"></a><span class="lineno"> 2182</span>&#160; </div>
<div class="line"><a name="l02183"></a><span class="lineno"> 2183</span>&#160;      <span class="comment">// Remove intrinsic.</span></div>
<div class="line"><a name="l02184"></a><span class="lineno"> 2184</span>&#160;      CI-&gt;<a class="code" href="classllvm_1_1Instruction.html#ae6b978645b8ac72d1a35e1298ffdd4f0">eraseFromParent</a>();</div>
<div class="line"><a name="l02185"></a><span class="lineno"> 2185</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02186"></a><span class="lineno"> 2186</span>&#160;    }</div>
<div class="line"><a name="l02187"></a><span class="lineno"> 2187</span>&#160; </div>
<div class="line"><a name="l02188"></a><span class="lineno"> 2188</span>&#160;    <span class="keywordflow">if</span> (IsX86 &amp;&amp; <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> == <span class="stringliteral">&quot;avx512.mask.store.ss&quot;</span>) {</div>
<div class="line"><a name="l02189"></a><span class="lineno"> 2189</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a> = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateAnd(CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(2), <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.getInt8(1));</div>
<div class="line"><a name="l02190"></a><span class="lineno"> 2190</span>&#160;      <a class="code" href="AutoUpgrade_8cpp.html#a70b4a8cbdc04d346c3b8ca76951d76a7">UpgradeMaskedStore</a>(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0), CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1),</div>
<div class="line"><a name="l02191"></a><span class="lineno"> 2191</span>&#160;                         <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>, <span class="keyword">false</span>);</div>
<div class="line"><a name="l02192"></a><span class="lineno"> 2192</span>&#160; </div>
<div class="line"><a name="l02193"></a><span class="lineno"> 2193</span>&#160;      <span class="comment">// Remove intrinsic.</span></div>
<div class="line"><a name="l02194"></a><span class="lineno"> 2194</span>&#160;      CI-&gt;<a class="code" href="classllvm_1_1Instruction.html#ae6b978645b8ac72d1a35e1298ffdd4f0">eraseFromParent</a>();</div>
<div class="line"><a name="l02195"></a><span class="lineno"> 2195</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02196"></a><span class="lineno"> 2196</span>&#160;    }</div>
<div class="line"><a name="l02197"></a><span class="lineno"> 2197</span>&#160; </div>
<div class="line"><a name="l02198"></a><span class="lineno"> 2198</span>&#160;    <span class="keywordflow">if</span> (IsX86 &amp;&amp; (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.mask.store&quot;</span>))) {</div>
<div class="line"><a name="l02199"></a><span class="lineno"> 2199</span>&#160;      <span class="comment">// &quot;avx512.mask.storeu.&quot; or &quot;avx512.mask.store.&quot;</span></div>
<div class="line"><a name="l02200"></a><span class="lineno"> 2200</span>&#160;      <span class="keywordtype">bool</span> <a class="code" href="namespacellvm.html#a264176188c0aadccd3ca5b6929b5a2e1a1d5b772bea21e5e949413e09eedf17de">Aligned</a> = <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>[17] != <span class="charliteral">&#39;u&#39;</span>; <span class="comment">// &quot;avx512.mask.storeu&quot;.</span></div>
<div class="line"><a name="l02201"></a><span class="lineno"> 2201</span>&#160;      <a class="code" href="AutoUpgrade_8cpp.html#a70b4a8cbdc04d346c3b8ca76951d76a7">UpgradeMaskedStore</a>(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0), CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1),</div>
<div class="line"><a name="l02202"></a><span class="lineno"> 2202</span>&#160;                         CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(2), <a class="code" href="namespacellvm.html#a264176188c0aadccd3ca5b6929b5a2e1a1d5b772bea21e5e949413e09eedf17de">Aligned</a>);</div>
<div class="line"><a name="l02203"></a><span class="lineno"> 2203</span>&#160; </div>
<div class="line"><a name="l02204"></a><span class="lineno"> 2204</span>&#160;      <span class="comment">// Remove intrinsic.</span></div>
<div class="line"><a name="l02205"></a><span class="lineno"> 2205</span>&#160;      CI-&gt;<a class="code" href="classllvm_1_1Instruction.html#ae6b978645b8ac72d1a35e1298ffdd4f0">eraseFromParent</a>();</div>
<div class="line"><a name="l02206"></a><span class="lineno"> 2206</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02207"></a><span class="lineno"> 2207</span>&#160;    }</div>
<div class="line"><a name="l02208"></a><span class="lineno"> 2208</span>&#160; </div>
<div class="line"><a name="l02209"></a><span class="lineno"> 2209</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *Rep;</div>
<div class="line"><a name="l02210"></a><span class="lineno"> 2210</span>&#160;    <span class="comment">// Upgrade packed integer vector compare intrinsics to compare instructions.</span></div>
<div class="line"><a name="l02211"></a><span class="lineno"> 2211</span>&#160;    <span class="keywordflow">if</span> (IsX86 &amp;&amp; (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;sse2.pcmp&quot;</span>) ||</div>
<div class="line"><a name="l02212"></a><span class="lineno"> 2212</span>&#160;                  <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx2.pcmp&quot;</span>))) {</div>
<div class="line"><a name="l02213"></a><span class="lineno"> 2213</span>&#160;      <span class="comment">// &quot;sse2.pcpmpeq.&quot; &quot;sse2.pcmpgt.&quot; &quot;avx2.pcmpeq.&quot; or &quot;avx2.pcmpgt.&quot;</span></div>
<div class="line"><a name="l02214"></a><span class="lineno"> 2214</span>&#160;      <span class="keywordtype">bool</span> CmpEq = <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>[9] == <span class="charliteral">&#39;e&#39;</span>;</div>
<div class="line"><a name="l02215"></a><span class="lineno"> 2215</span>&#160;      Rep = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateICmp(CmpEq ? ICmpInst::ICMP_EQ : ICmpInst::ICMP_SGT,</div>
<div class="line"><a name="l02216"></a><span class="lineno"> 2216</span>&#160;                               CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0), CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1));</div>
<div class="line"><a name="l02217"></a><span class="lineno"> 2217</span>&#160;      Rep = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateSExt(Rep, CI-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>(), <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l02218"></a><span class="lineno"> 2218</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsX86 &amp;&amp; (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.broadcastm&quot;</span>))) {</div>
<div class="line"><a name="l02219"></a><span class="lineno"> 2219</span>&#160;      <a class="code" href="classllvm_1_1Type.html">Type</a> *ExtTy = Type::getInt32Ty(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>);</div>
<div class="line"><a name="l02220"></a><span class="lineno"> 2220</span>&#160;      <span class="keywordflow">if</span> (CI-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(0)-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#ac6d28a9b11139182134a9618028a0d07">isIntegerTy</a>(8))</div>
<div class="line"><a name="l02221"></a><span class="lineno"> 2221</span>&#160;        ExtTy = Type::getInt64Ty(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>);</div>
<div class="line"><a name="l02222"></a><span class="lineno"> 2222</span>&#160;      <span class="keywordtype">unsigned</span> NumElts = CI-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a833daf718a49c5cd637d8c9ddeaebe07">getPrimitiveSizeInBits</a>() /</div>
<div class="line"><a name="l02223"></a><span class="lineno"> 2223</span>&#160;                         ExtTy-&gt;<a class="code" href="classllvm_1_1Type.html#a833daf718a49c5cd637d8c9ddeaebe07">getPrimitiveSizeInBits</a>();</div>
<div class="line"><a name="l02224"></a><span class="lineno"> 2224</span>&#160;      Rep = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateZExt(CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0), ExtTy);</div>
<div class="line"><a name="l02225"></a><span class="lineno"> 2225</span>&#160;      Rep = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateVectorSplat(NumElts, Rep);</div>
<div class="line"><a name="l02226"></a><span class="lineno"> 2226</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsX86 &amp;&amp; (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> == <span class="stringliteral">&quot;sse.sqrt.ss&quot;</span> ||</div>
<div class="line"><a name="l02227"></a><span class="lineno"> 2227</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> == <span class="stringliteral">&quot;sse2.sqrt.sd&quot;</span>)) {</div>
<div class="line"><a name="l02228"></a><span class="lineno"> 2228</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *Vec = CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0);</div>
<div class="line"><a name="l02229"></a><span class="lineno"> 2229</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *Elt0 = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateExtractElement(Vec, (<a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a>)0);</div>
<div class="line"><a name="l02230"></a><span class="lineno"> 2230</span>&#160;      <a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="AMDGPUBaseInfo_8cpp.html#ad18f9973176b870e59d30b81d8a1091e">Intr</a> = <a class="code" href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">Intrinsic::getDeclaration</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getParent(),</div>
<div class="line"><a name="l02231"></a><span class="lineno"> 2231</span>&#160;                                                 Intrinsic::sqrt, Elt0-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l02232"></a><span class="lineno"> 2232</span>&#160;      Elt0 = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateCall(<a class="code" href="AMDGPUBaseInfo_8cpp.html#ad18f9973176b870e59d30b81d8a1091e">Intr</a>, Elt0);</div>
<div class="line"><a name="l02233"></a><span class="lineno"> 2233</span>&#160;      Rep = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateInsertElement(Vec, Elt0, (<a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a>)0);</div>
<div class="line"><a name="l02234"></a><span class="lineno"> 2234</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsX86 &amp;&amp; (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx.sqrt.p&quot;</span>) ||</div>
<div class="line"><a name="l02235"></a><span class="lineno"> 2235</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;sse2.sqrt.p&quot;</span>) ||</div>
<div class="line"><a name="l02236"></a><span class="lineno"> 2236</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;sse.sqrt.p&quot;</span>))) {</div>
<div class="line"><a name="l02237"></a><span class="lineno"> 2237</span>&#160;      Rep = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateCall(<a class="code" href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">Intrinsic::getDeclaration</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getParent(),</div>
<div class="line"><a name="l02238"></a><span class="lineno"> 2238</span>&#160;                                                         Intrinsic::sqrt,</div>
<div class="line"><a name="l02239"></a><span class="lineno"> 2239</span>&#160;                                                         CI-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()),</div>
<div class="line"><a name="l02240"></a><span class="lineno"> 2240</span>&#160;                               {CI-&gt;getArgOperand(0)});</div>
<div class="line"><a name="l02241"></a><span class="lineno"> 2241</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsX86 &amp;&amp; (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.mask.sqrt.p&quot;</span>))) {</div>
<div class="line"><a name="l02242"></a><span class="lineno"> 2242</span>&#160;      <span class="keywordflow">if</span> (CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#adde2ea00dd2613ee41bfe91908e4e68e">arg_size</a>() == 4 &amp;&amp;</div>
<div class="line"><a name="l02243"></a><span class="lineno"> 2243</span>&#160;          (!isa&lt;ConstantInt&gt;(CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(3)) ||</div>
<div class="line"><a name="l02244"></a><span class="lineno"> 2244</span>&#160;           cast&lt;ConstantInt&gt;(CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(3))-&gt;getZExtValue() != 4)) {</div>
<div class="line"><a name="l02245"></a><span class="lineno"> 2245</span>&#160;        <a class="code" href="namespacellvm_1_1Intrinsic.html#a80add6b3b1cdaec560907995127adc16">Intrinsic::ID</a> IID = <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>[18] == <span class="charliteral">&#39;s&#39;</span> ? Intrinsic::x86_avx512_sqrt_ps_512</div>
<div class="line"><a name="l02246"></a><span class="lineno"> 2246</span>&#160;                                            : Intrinsic::x86_avx512_sqrt_pd_512;</div>
<div class="line"><a name="l02247"></a><span class="lineno"> 2247</span>&#160; </div>
<div class="line"><a name="l02248"></a><span class="lineno"> 2248</span>&#160;        <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>[] = { CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0), CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(3) };</div>
<div class="line"><a name="l02249"></a><span class="lineno"> 2249</span>&#160;        Rep = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateCall(<a class="code" href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">Intrinsic::getDeclaration</a>(CI-&gt;<a class="code" href="classllvm_1_1Instruction.html#a4ba3a5be6c0e9b9e8a525de055836733">getModule</a>(),</div>
<div class="line"><a name="l02250"></a><span class="lineno"> 2250</span>&#160;                                                           IID), <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>);</div>
<div class="line"><a name="l02251"></a><span class="lineno"> 2251</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02252"></a><span class="lineno"> 2252</span>&#160;        Rep = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateCall(<a class="code" href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">Intrinsic::getDeclaration</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getParent(),</div>
<div class="line"><a name="l02253"></a><span class="lineno"> 2253</span>&#160;                                                           Intrinsic::sqrt,</div>
<div class="line"><a name="l02254"></a><span class="lineno"> 2254</span>&#160;                                                           CI-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()),</div>
<div class="line"><a name="l02255"></a><span class="lineno"> 2255</span>&#160;                                 {CI-&gt;getArgOperand(0)});</div>
<div class="line"><a name="l02256"></a><span class="lineno"> 2256</span>&#160;      }</div>
<div class="line"><a name="l02257"></a><span class="lineno"> 2257</span>&#160;      Rep = <a class="code" href="AutoUpgrade_8cpp.html#a8184e757708d747af9b314cdfe238b2c">EmitX86Select</a>(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(2), Rep,</div>
<div class="line"><a name="l02258"></a><span class="lineno"> 2258</span>&#160;                          CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1));</div>
<div class="line"><a name="l02259"></a><span class="lineno"> 2259</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsX86 &amp;&amp; (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.ptestm&quot;</span>) ||</div>
<div class="line"><a name="l02260"></a><span class="lineno"> 2260</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.ptestnm&quot;</span>))) {</div>
<div class="line"><a name="l02261"></a><span class="lineno"> 2261</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *Op0 = CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0);</div>
<div class="line"><a name="l02262"></a><span class="lineno"> 2262</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *Op1 = CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1);</div>
<div class="line"><a name="l02263"></a><span class="lineno"> 2263</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a> = CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(2);</div>
<div class="line"><a name="l02264"></a><span class="lineno"> 2264</span>&#160;      Rep = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateAnd(Op0, Op1);</div>
<div class="line"><a name="l02265"></a><span class="lineno"> 2265</span>&#160;      <a class="code" href="classllvm_1_1Type.html">llvm::Type</a> *Ty = Op0-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>();</div>
<div class="line"><a name="l02266"></a><span class="lineno"> 2266</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *Zero = <a class="code" href="classllvm_1_1Constant.html#aa6574d526b3e38a28f688a7bb4325c2c">llvm::Constant::getNullValue</a>(Ty);</div>
<div class="line"><a name="l02267"></a><span class="lineno"> 2267</span>&#160;      <a class="code" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">ICmpInst::Predicate</a> Pred =</div>
<div class="line"><a name="l02268"></a><span class="lineno"> 2268</span>&#160;        <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.ptestm&quot;</span>) ? ICmpInst::ICMP_NE : ICmpInst::ICMP_EQ;</div>
<div class="line"><a name="l02269"></a><span class="lineno"> 2269</span>&#160;      Rep = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateICmp(Pred, Rep, Zero);</div>
<div class="line"><a name="l02270"></a><span class="lineno"> 2270</span>&#160;      Rep = <a class="code" href="AutoUpgrade_8cpp.html#a6c619e6daaa1556965750a89419eaf87">ApplyX86MaskOn1BitsVec</a>(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, Rep, <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>);</div>
<div class="line"><a name="l02271"></a><span class="lineno"> 2271</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsX86 &amp;&amp; (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.mask.pbroadcast&quot;</span>))){</div>
<div class="line"><a name="l02272"></a><span class="lineno"> 2272</span>&#160;      <span class="keywordtype">unsigned</span> NumElts = cast&lt;FixedVectorType&gt;(CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1)-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>())</div>
<div class="line"><a name="l02273"></a><span class="lineno"> 2273</span>&#160;                             -&gt;getNumElements();</div>
<div class="line"><a name="l02274"></a><span class="lineno"> 2274</span>&#160;      Rep = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateVectorSplat(NumElts, CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0));</div>
<div class="line"><a name="l02275"></a><span class="lineno"> 2275</span>&#160;      Rep = <a class="code" href="AutoUpgrade_8cpp.html#a8184e757708d747af9b314cdfe238b2c">EmitX86Select</a>(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(2), Rep,</div>
<div class="line"><a name="l02276"></a><span class="lineno"> 2276</span>&#160;                          CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1));</div>
<div class="line"><a name="l02277"></a><span class="lineno"> 2277</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsX86 &amp;&amp; (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.kunpck&quot;</span>))) {</div>
<div class="line"><a name="l02278"></a><span class="lineno"> 2278</span>&#160;      <span class="keywordtype">unsigned</span> NumElts = CI-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a9f382207d841377156d4c7868b66b9a5">getScalarSizeInBits</a>();</div>
<div class="line"><a name="l02279"></a><span class="lineno"> 2279</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a> = <a class="code" href="AutoUpgrade_8cpp.html#af631ff2d8f998127c4f43154c07ebcba">getX86MaskVec</a>(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0), NumElts);</div>
<div class="line"><a name="l02280"></a><span class="lineno"> 2280</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a> = <a class="code" href="AutoUpgrade_8cpp.html#af631ff2d8f998127c4f43154c07ebcba">getX86MaskVec</a>(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1), NumElts);</div>
<div class="line"><a name="l02281"></a><span class="lineno"> 2281</span>&#160;      <span class="keywordtype">int</span> Indices[64];</div>
<div class="line"><a name="l02282"></a><span class="lineno"> 2282</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != NumElts; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><a name="l02283"></a><span class="lineno"> 2283</span>&#160;        Indices[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l02284"></a><span class="lineno"> 2284</span>&#160; </div>
<div class="line"><a name="l02285"></a><span class="lineno"> 2285</span>&#160;      <span class="comment">// First extract half of each vector. This gives better codegen than</span></div>
<div class="line"><a name="l02286"></a><span class="lineno"> 2286</span>&#160;      <span class="comment">// doing it in a single shuffle.</span></div>
<div class="line"><a name="l02287"></a><span class="lineno"> 2287</span>&#160;      <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a> =</div>
<div class="line"><a name="l02288"></a><span class="lineno"> 2288</span>&#160;          <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateShuffleVector(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="namespacellvm.html#ab9c6b351507d3c0730f4290919d43a12">ArrayRef</a>(Indices, NumElts / 2));</div>
<div class="line"><a name="l02289"></a><span class="lineno"> 2289</span>&#160;      <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a> =</div>
<div class="line"><a name="l02290"></a><span class="lineno"> 2290</span>&#160;          <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateShuffleVector(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, <a class="code" href="namespacellvm.html#ab9c6b351507d3c0730f4290919d43a12">ArrayRef</a>(Indices, NumElts / 2));</div>
<div class="line"><a name="l02291"></a><span class="lineno"> 2291</span>&#160;      <span class="comment">// Concat the vectors.</span></div>
<div class="line"><a name="l02292"></a><span class="lineno"> 2292</span>&#160;      <span class="comment">// NOTE: Operands have to be swapped to match intrinsic definition.</span></div>
<div class="line"><a name="l02293"></a><span class="lineno"> 2293</span>&#160;      Rep = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateShuffleVector(<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="namespacellvm.html#ab9c6b351507d3c0730f4290919d43a12">ArrayRef</a>(Indices, NumElts));</div>
<div class="line"><a name="l02294"></a><span class="lineno"> 2294</span>&#160;      Rep = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateBitCast(Rep, CI-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l02295"></a><span class="lineno"> 2295</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsX86 &amp;&amp; <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> == <span class="stringliteral">&quot;avx512.kand.w&quot;</span>) {</div>
<div class="line"><a name="l02296"></a><span class="lineno"> 2296</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a> = <a class="code" href="AutoUpgrade_8cpp.html#af631ff2d8f998127c4f43154c07ebcba">getX86MaskVec</a>(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0), 16);</div>
<div class="line"><a name="l02297"></a><span class="lineno"> 2297</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a> = <a class="code" href="AutoUpgrade_8cpp.html#af631ff2d8f998127c4f43154c07ebcba">getX86MaskVec</a>(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1), 16);</div>
<div class="line"><a name="l02298"></a><span class="lineno"> 2298</span>&#160;      Rep = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateAnd(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l02299"></a><span class="lineno"> 2299</span>&#160;      Rep = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateBitCast(Rep, CI-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l02300"></a><span class="lineno"> 2300</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsX86 &amp;&amp; <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> == <span class="stringliteral">&quot;avx512.kandn.w&quot;</span>) {</div>
<div class="line"><a name="l02301"></a><span class="lineno"> 2301</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a> = <a class="code" href="AutoUpgrade_8cpp.html#af631ff2d8f998127c4f43154c07ebcba">getX86MaskVec</a>(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0), 16);</div>
<div class="line"><a name="l02302"></a><span class="lineno"> 2302</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a> = <a class="code" href="AutoUpgrade_8cpp.html#af631ff2d8f998127c4f43154c07ebcba">getX86MaskVec</a>(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1), 16);</div>
<div class="line"><a name="l02303"></a><span class="lineno"> 2303</span>&#160;      <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a> = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateNot(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>);</div>
<div class="line"><a name="l02304"></a><span class="lineno"> 2304</span>&#160;      Rep = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateAnd(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l02305"></a><span class="lineno"> 2305</span>&#160;      Rep = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateBitCast(Rep, CI-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l02306"></a><span class="lineno"> 2306</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsX86 &amp;&amp; <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> == <span class="stringliteral">&quot;avx512.kor.w&quot;</span>) {</div>
<div class="line"><a name="l02307"></a><span class="lineno"> 2307</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a> = <a class="code" href="AutoUpgrade_8cpp.html#af631ff2d8f998127c4f43154c07ebcba">getX86MaskVec</a>(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0), 16);</div>
<div class="line"><a name="l02308"></a><span class="lineno"> 2308</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a> = <a class="code" href="AutoUpgrade_8cpp.html#af631ff2d8f998127c4f43154c07ebcba">getX86MaskVec</a>(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1), 16);</div>
<div class="line"><a name="l02309"></a><span class="lineno"> 2309</span>&#160;      Rep = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateOr(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l02310"></a><span class="lineno"> 2310</span>&#160;      Rep = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateBitCast(Rep, CI-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l02311"></a><span class="lineno"> 2311</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsX86 &amp;&amp; <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> == <span class="stringliteral">&quot;avx512.kxor.w&quot;</span>) {</div>
<div class="line"><a name="l02312"></a><span class="lineno"> 2312</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a> = <a class="code" href="AutoUpgrade_8cpp.html#af631ff2d8f998127c4f43154c07ebcba">getX86MaskVec</a>(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0), 16);</div>
<div class="line"><a name="l02313"></a><span class="lineno"> 2313</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a> = <a class="code" href="AutoUpgrade_8cpp.html#af631ff2d8f998127c4f43154c07ebcba">getX86MaskVec</a>(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1), 16);</div>
<div class="line"><a name="l02314"></a><span class="lineno"> 2314</span>&#160;      Rep = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateXor(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l02315"></a><span class="lineno"> 2315</span>&#160;      Rep = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateBitCast(Rep, CI-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l02316"></a><span class="lineno"> 2316</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsX86 &amp;&amp; <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> == <span class="stringliteral">&quot;avx512.kxnor.w&quot;</span>) {</div>
<div class="line"><a name="l02317"></a><span class="lineno"> 2317</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a> = <a class="code" href="AutoUpgrade_8cpp.html#af631ff2d8f998127c4f43154c07ebcba">getX86MaskVec</a>(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0), 16);</div>
<div class="line"><a name="l02318"></a><span class="lineno"> 2318</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a> = <a class="code" href="AutoUpgrade_8cpp.html#af631ff2d8f998127c4f43154c07ebcba">getX86MaskVec</a>(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1), 16);</div>
<div class="line"><a name="l02319"></a><span class="lineno"> 2319</span>&#160;      <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a> = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateNot(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>);</div>
<div class="line"><a name="l02320"></a><span class="lineno"> 2320</span>&#160;      Rep = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateXor(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l02321"></a><span class="lineno"> 2321</span>&#160;      Rep = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateBitCast(Rep, CI-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l02322"></a><span class="lineno"> 2322</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsX86 &amp;&amp; <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> == <span class="stringliteral">&quot;avx512.knot.w&quot;</span>) {</div>
<div class="line"><a name="l02323"></a><span class="lineno"> 2323</span>&#160;      Rep = <a class="code" href="AutoUpgrade_8cpp.html#af631ff2d8f998127c4f43154c07ebcba">getX86MaskVec</a>(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0), 16);</div>
<div class="line"><a name="l02324"></a><span class="lineno"> 2324</span>&#160;      Rep = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateNot(Rep);</div>
<div class="line"><a name="l02325"></a><span class="lineno"> 2325</span>&#160;      Rep = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateBitCast(Rep, CI-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l02326"></a><span class="lineno"> 2326</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsX86 &amp;&amp;</div>
<div class="line"><a name="l02327"></a><span class="lineno"> 2327</span>&#160;               (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> == <span class="stringliteral">&quot;avx512.kortestz.w&quot;</span> || <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> == <span class="stringliteral">&quot;avx512.kortestc.w&quot;</span>)) {</div>
<div class="line"><a name="l02328"></a><span class="lineno"> 2328</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a> = <a class="code" href="AutoUpgrade_8cpp.html#af631ff2d8f998127c4f43154c07ebcba">getX86MaskVec</a>(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0), 16);</div>
<div class="line"><a name="l02329"></a><span class="lineno"> 2329</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a> = <a class="code" href="AutoUpgrade_8cpp.html#af631ff2d8f998127c4f43154c07ebcba">getX86MaskVec</a>(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1), 16);</div>
<div class="line"><a name="l02330"></a><span class="lineno"> 2330</span>&#160;      Rep = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateOr(<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</div>
<div class="line"><a name="l02331"></a><span class="lineno"> 2331</span>&#160;      Rep = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateBitCast(Rep, <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.getInt16Ty());</div>
<div class="line"><a name="l02332"></a><span class="lineno"> 2332</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>;</div>
<div class="line"><a name="l02333"></a><span class="lineno"> 2333</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>[14] == <span class="charliteral">&#39;c&#39;</span>)</div>
<div class="line"><a name="l02334"></a><span class="lineno"> 2334</span>&#160;        <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = ConstantInt::getAllOnesValue(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.getInt16Ty());</div>
<div class="line"><a name="l02335"></a><span class="lineno"> 2335</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l02336"></a><span class="lineno"> 2336</span>&#160;        <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = ConstantInt::getNullValue(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.getInt16Ty());</div>
<div class="line"><a name="l02337"></a><span class="lineno"> 2337</span>&#160;      Rep = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateICmpEQ(Rep, <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>);</div>
<div class="line"><a name="l02338"></a><span class="lineno"> 2338</span>&#160;      Rep = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateZExt(Rep, <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.getInt32Ty());</div>
<div class="line"><a name="l02339"></a><span class="lineno"> 2339</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsX86 &amp;&amp; (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> == <span class="stringliteral">&quot;sse.add.ss&quot;</span> || <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> == <span class="stringliteral">&quot;sse2.add.sd&quot;</span> ||</div>
<div class="line"><a name="l02340"></a><span class="lineno"> 2340</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> == <span class="stringliteral">&quot;sse.sub.ss&quot;</span> || <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> == <span class="stringliteral">&quot;sse2.sub.sd&quot;</span> ||</div>
<div class="line"><a name="l02341"></a><span class="lineno"> 2341</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> == <span class="stringliteral">&quot;sse.mul.ss&quot;</span> || <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> == <span class="stringliteral">&quot;sse2.mul.sd&quot;</span> ||</div>
<div class="line"><a name="l02342"></a><span class="lineno"> 2342</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> == <span class="stringliteral">&quot;sse.div.ss&quot;</span> || <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> == <span class="stringliteral">&quot;sse2.div.sd&quot;</span>)) {</div>
<div class="line"><a name="l02343"></a><span class="lineno"> 2343</span>&#160;      <a class="code" href="classllvm_1_1Type.html">Type</a> *I32Ty = Type::getInt32Ty(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>);</div>
<div class="line"><a name="l02344"></a><span class="lineno"> 2344</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *Elt0 = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateExtractElement(CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0),</div>
<div class="line"><a name="l02345"></a><span class="lineno"> 2345</span>&#160;                                                 <a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#aa91241c8c54738377749dc47ee489e0d">ConstantInt::get</a>(I32Ty, 0));</div>
<div class="line"><a name="l02346"></a><span class="lineno"> 2346</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *Elt1 = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateExtractElement(CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1),</div>
<div class="line"><a name="l02347"></a><span class="lineno"> 2347</span>&#160;                                                 <a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#aa91241c8c54738377749dc47ee489e0d">ConstantInt::get</a>(I32Ty, 0));</div>
<div class="line"><a name="l02348"></a><span class="lineno"> 2348</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *EltOp;</div>
<div class="line"><a name="l02349"></a><span class="lineno"> 2349</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.contains(<span class="stringliteral">&quot;.add.&quot;</span>))</div>
<div class="line"><a name="l02350"></a><span class="lineno"> 2350</span>&#160;        EltOp = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateFAdd(Elt0, Elt1);</div>
<div class="line"><a name="l02351"></a><span class="lineno"> 2351</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.contains(<span class="stringliteral">&quot;.sub.&quot;</span>))</div>
<div class="line"><a name="l02352"></a><span class="lineno"> 2352</span>&#160;        EltOp = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateFSub(Elt0, Elt1);</div>
<div class="line"><a name="l02353"></a><span class="lineno"> 2353</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.contains(<span class="stringliteral">&quot;.mul.&quot;</span>))</div>
<div class="line"><a name="l02354"></a><span class="lineno"> 2354</span>&#160;        EltOp = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateFMul(Elt0, Elt1);</div>
<div class="line"><a name="l02355"></a><span class="lineno"> 2355</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l02356"></a><span class="lineno"> 2356</span>&#160;        EltOp = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateFDiv(Elt0, Elt1);</div>
<div class="line"><a name="l02357"></a><span class="lineno"> 2357</span>&#160;      Rep = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateInsertElement(CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0), EltOp,</div>
<div class="line"><a name="l02358"></a><span class="lineno"> 2358</span>&#160;                                        <a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#aa91241c8c54738377749dc47ee489e0d">ConstantInt::get</a>(I32Ty, 0));</div>
<div class="line"><a name="l02359"></a><span class="lineno"> 2359</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsX86 &amp;&amp; <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.mask.pcmp&quot;</span>)) {</div>
<div class="line"><a name="l02360"></a><span class="lineno"> 2360</span>&#160;      <span class="comment">// &quot;avx512.mask.pcmpeq.&quot; or &quot;avx512.mask.pcmpgt.&quot;</span></div>
<div class="line"><a name="l02361"></a><span class="lineno"> 2361</span>&#160;      <span class="keywordtype">bool</span> CmpEq = <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>[16] == <span class="charliteral">&#39;e&#39;</span>;</div>
<div class="line"><a name="l02362"></a><span class="lineno"> 2362</span>&#160;      Rep = <a class="code" href="AutoUpgrade_8cpp.html#a37575081a284565225e7286c89daea0a">upgradeMaskedCompare</a>(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, *CI, CmpEq ? 0 : 6, <span class="keyword">true</span>);</div>
<div class="line"><a name="l02363"></a><span class="lineno"> 2363</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsX86 &amp;&amp; <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.mask.vpshufbitqmb.&quot;</span>)) {</div>
<div class="line"><a name="l02364"></a><span class="lineno"> 2364</span>&#160;      <a class="code" href="classllvm_1_1Type.html">Type</a> *OpTy = CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0)-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>();</div>
<div class="line"><a name="l02365"></a><span class="lineno"> 2365</span>&#160;      <span class="keywordtype">unsigned</span> VecWidth = OpTy-&gt;<a class="code" href="classllvm_1_1Type.html#a833daf718a49c5cd637d8c9ddeaebe07">getPrimitiveSizeInBits</a>();</div>
<div class="line"><a name="l02366"></a><span class="lineno"> 2366</span>&#160;      <a class="code" href="namespacellvm_1_1Intrinsic.html#a80add6b3b1cdaec560907995127adc16">Intrinsic::ID</a> IID;</div>
<div class="line"><a name="l02367"></a><span class="lineno"> 2367</span>&#160;      <span class="keywordflow">switch</span> (VecWidth) {</div>
<div class="line"><a name="l02368"></a><span class="lineno"> 2368</span>&#160;      <span class="keywordflow">default</span>: <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unexpected intrinsic&quot;</span>);</div>
<div class="line"><a name="l02369"></a><span class="lineno"> 2369</span>&#160;      <span class="keywordflow">case</span> 128: IID = Intrinsic::x86_avx512_vpshufbitqmb_128; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02370"></a><span class="lineno"> 2370</span>&#160;      <span class="keywordflow">case</span> 256: IID = Intrinsic::x86_avx512_vpshufbitqmb_256; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02371"></a><span class="lineno"> 2371</span>&#160;      <span class="keywordflow">case</span> 512: IID = Intrinsic::x86_avx512_vpshufbitqmb_512; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02372"></a><span class="lineno"> 2372</span>&#160;      }</div>
<div class="line"><a name="l02373"></a><span class="lineno"> 2373</span>&#160; </div>
<div class="line"><a name="l02374"></a><span class="lineno"> 2374</span>&#160;      Rep = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateCall(<a class="code" href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">Intrinsic::getDeclaration</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getParent(), IID),</div>
<div class="line"><a name="l02375"></a><span class="lineno"> 2375</span>&#160;                               { CI-&gt;getOperand(0), CI-&gt;getArgOperand(1) });</div>
<div class="line"><a name="l02376"></a><span class="lineno"> 2376</span>&#160;      Rep = <a class="code" href="AutoUpgrade_8cpp.html#a6c619e6daaa1556965750a89419eaf87">ApplyX86MaskOn1BitsVec</a>(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, Rep, CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(2));</div>
<div class="line"><a name="l02377"></a><span class="lineno"> 2377</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsX86 &amp;&amp; <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.mask.fpclass.p&quot;</span>)) {</div>
<div class="line"><a name="l02378"></a><span class="lineno"> 2378</span>&#160;      <a class="code" href="classllvm_1_1Type.html">Type</a> *OpTy = CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0)-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>();</div>
<div class="line"><a name="l02379"></a><span class="lineno"> 2379</span>&#160;      <span class="keywordtype">unsigned</span> VecWidth = OpTy-&gt;<a class="code" href="classllvm_1_1Type.html#a833daf718a49c5cd637d8c9ddeaebe07">getPrimitiveSizeInBits</a>();</div>
<div class="line"><a name="l02380"></a><span class="lineno"> 2380</span>&#160;      <span class="keywordtype">unsigned</span> EltWidth = OpTy-&gt;<a class="code" href="classllvm_1_1Type.html#a9f382207d841377156d4c7868b66b9a5">getScalarSizeInBits</a>();</div>
<div class="line"><a name="l02381"></a><span class="lineno"> 2381</span>&#160;      <a class="code" href="namespacellvm_1_1Intrinsic.html#a80add6b3b1cdaec560907995127adc16">Intrinsic::ID</a> IID;</div>
<div class="line"><a name="l02382"></a><span class="lineno"> 2382</span>&#160;      <span class="keywordflow">if</span> (VecWidth == 128 &amp;&amp; EltWidth == 32)</div>
<div class="line"><a name="l02383"></a><span class="lineno"> 2383</span>&#160;        IID = Intrinsic::x86_avx512_fpclass_ps_128;</div>
<div class="line"><a name="l02384"></a><span class="lineno"> 2384</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (VecWidth == 256 &amp;&amp; EltWidth == 32)</div>
<div class="line"><a name="l02385"></a><span class="lineno"> 2385</span>&#160;        IID = Intrinsic::x86_avx512_fpclass_ps_256;</div>
<div class="line"><a name="l02386"></a><span class="lineno"> 2386</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (VecWidth == 512 &amp;&amp; EltWidth == 32)</div>
<div class="line"><a name="l02387"></a><span class="lineno"> 2387</span>&#160;        IID = Intrinsic::x86_avx512_fpclass_ps_512;</div>
<div class="line"><a name="l02388"></a><span class="lineno"> 2388</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (VecWidth == 128 &amp;&amp; EltWidth == 64)</div>
<div class="line"><a name="l02389"></a><span class="lineno"> 2389</span>&#160;        IID = Intrinsic::x86_avx512_fpclass_pd_128;</div>
<div class="line"><a name="l02390"></a><span class="lineno"> 2390</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (VecWidth == 256 &amp;&amp; EltWidth == 64)</div>
<div class="line"><a name="l02391"></a><span class="lineno"> 2391</span>&#160;        IID = Intrinsic::x86_avx512_fpclass_pd_256;</div>
<div class="line"><a name="l02392"></a><span class="lineno"> 2392</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (VecWidth == 512 &amp;&amp; EltWidth == 64)</div>
<div class="line"><a name="l02393"></a><span class="lineno"> 2393</span>&#160;        IID = Intrinsic::x86_avx512_fpclass_pd_512;</div>
<div class="line"><a name="l02394"></a><span class="lineno"> 2394</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l02395"></a><span class="lineno"> 2395</span>&#160;        <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unexpected intrinsic&quot;</span>);</div>
<div class="line"><a name="l02396"></a><span class="lineno"> 2396</span>&#160; </div>
<div class="line"><a name="l02397"></a><span class="lineno"> 2397</span>&#160;      Rep = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateCall(<a class="code" href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">Intrinsic::getDeclaration</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getParent(), IID),</div>
<div class="line"><a name="l02398"></a><span class="lineno"> 2398</span>&#160;                               { CI-&gt;getOperand(0), CI-&gt;getArgOperand(1) });</div>
<div class="line"><a name="l02399"></a><span class="lineno"> 2399</span>&#160;      Rep = <a class="code" href="AutoUpgrade_8cpp.html#a6c619e6daaa1556965750a89419eaf87">ApplyX86MaskOn1BitsVec</a>(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, Rep, CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(2));</div>
<div class="line"><a name="l02400"></a><span class="lineno"> 2400</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsX86 &amp;&amp; <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.cmp.p&quot;</span>)) {</div>
<div class="line"><a name="l02401"></a><span class="lineno"> 2401</span>&#160;      <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Value *, 4&gt;</a> <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>(CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ac63dbb4994494c46f025715272cdb81e">args</a>());</div>
<div class="line"><a name="l02402"></a><span class="lineno"> 2402</span>&#160;      <a class="code" href="classllvm_1_1Type.html">Type</a> *OpTy = <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>[0]-&gt;getType();</div>
<div class="line"><a name="l02403"></a><span class="lineno"> 2403</span>&#160;      <span class="keywordtype">unsigned</span> VecWidth = OpTy-&gt;<a class="code" href="classllvm_1_1Type.html#a833daf718a49c5cd637d8c9ddeaebe07">getPrimitiveSizeInBits</a>();</div>
<div class="line"><a name="l02404"></a><span class="lineno"> 2404</span>&#160;      <span class="keywordtype">unsigned</span> EltWidth = OpTy-&gt;<a class="code" href="classllvm_1_1Type.html#a9f382207d841377156d4c7868b66b9a5">getScalarSizeInBits</a>();</div>
<div class="line"><a name="l02405"></a><span class="lineno"> 2405</span>&#160;      <a class="code" href="namespacellvm_1_1Intrinsic.html#a80add6b3b1cdaec560907995127adc16">Intrinsic::ID</a> IID;</div>
<div class="line"><a name="l02406"></a><span class="lineno"> 2406</span>&#160;      <span class="keywordflow">if</span> (VecWidth == 128 &amp;&amp; EltWidth == 32)</div>
<div class="line"><a name="l02407"></a><span class="lineno"> 2407</span>&#160;        IID = Intrinsic::x86_avx512_mask_cmp_ps_128;</div>
<div class="line"><a name="l02408"></a><span class="lineno"> 2408</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (VecWidth == 256 &amp;&amp; EltWidth == 32)</div>
<div class="line"><a name="l02409"></a><span class="lineno"> 2409</span>&#160;        IID = Intrinsic::x86_avx512_mask_cmp_ps_256;</div>
<div class="line"><a name="l02410"></a><span class="lineno"> 2410</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (VecWidth == 512 &amp;&amp; EltWidth == 32)</div>
<div class="line"><a name="l02411"></a><span class="lineno"> 2411</span>&#160;        IID = Intrinsic::x86_avx512_mask_cmp_ps_512;</div>
<div class="line"><a name="l02412"></a><span class="lineno"> 2412</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (VecWidth == 128 &amp;&amp; EltWidth == 64)</div>
<div class="line"><a name="l02413"></a><span class="lineno"> 2413</span>&#160;        IID = Intrinsic::x86_avx512_mask_cmp_pd_128;</div>
<div class="line"><a name="l02414"></a><span class="lineno"> 2414</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (VecWidth == 256 &amp;&amp; EltWidth == 64)</div>
<div class="line"><a name="l02415"></a><span class="lineno"> 2415</span>&#160;        IID = Intrinsic::x86_avx512_mask_cmp_pd_256;</div>
<div class="line"><a name="l02416"></a><span class="lineno"> 2416</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (VecWidth == 512 &amp;&amp; EltWidth == 64)</div>
<div class="line"><a name="l02417"></a><span class="lineno"> 2417</span>&#160;        IID = Intrinsic::x86_avx512_mask_cmp_pd_512;</div>
<div class="line"><a name="l02418"></a><span class="lineno"> 2418</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l02419"></a><span class="lineno"> 2419</span>&#160;        <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unexpected intrinsic&quot;</span>);</div>
<div class="line"><a name="l02420"></a><span class="lineno"> 2420</span>&#160; </div>
<div class="line"><a name="l02421"></a><span class="lineno"> 2421</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a> = Constant::getAllOnesValue(CI-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l02422"></a><span class="lineno"> 2422</span>&#160;      <span class="keywordflow">if</span> (VecWidth == 512)</div>
<div class="line"><a name="l02423"></a><span class="lineno"> 2423</span>&#160;        <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>, <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>.back());</div>
<div class="line"><a name="l02424"></a><span class="lineno"> 2424</span>&#160;      <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>.push_back(<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>);</div>
<div class="line"><a name="l02425"></a><span class="lineno"> 2425</span>&#160; </div>
<div class="line"><a name="l02426"></a><span class="lineno"> 2426</span>&#160;      Rep = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateCall(<a class="code" href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">Intrinsic::getDeclaration</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getParent(), IID),</div>
<div class="line"><a name="l02427"></a><span class="lineno"> 2427</span>&#160;                               <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>);</div>
<div class="line"><a name="l02428"></a><span class="lineno"> 2428</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsX86 &amp;&amp; <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.mask.cmp.&quot;</span>)) {</div>
<div class="line"><a name="l02429"></a><span class="lineno"> 2429</span>&#160;      <span class="comment">// Integer compare intrinsics.</span></div>
<div class="line"><a name="l02430"></a><span class="lineno"> 2430</span>&#160;      <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> = cast&lt;ConstantInt&gt;(CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(2))-&gt;getZExtValue();</div>
<div class="line"><a name="l02431"></a><span class="lineno"> 2431</span>&#160;      Rep = <a class="code" href="AutoUpgrade_8cpp.html#a37575081a284565225e7286c89daea0a">upgradeMaskedCompare</a>(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, *CI, <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>, <span class="keyword">true</span>);</div>
<div class="line"><a name="l02432"></a><span class="lineno"> 2432</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsX86 &amp;&amp; <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.mask.ucmp.&quot;</span>)) {</div>
<div class="line"><a name="l02433"></a><span class="lineno"> 2433</span>&#160;      <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> = cast&lt;ConstantInt&gt;(CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(2))-&gt;getZExtValue();</div>
<div class="line"><a name="l02434"></a><span class="lineno"> 2434</span>&#160;      Rep = <a class="code" href="AutoUpgrade_8cpp.html#a37575081a284565225e7286c89daea0a">upgradeMaskedCompare</a>(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, *CI, <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>, <span class="keyword">false</span>);</div>
<div class="line"><a name="l02435"></a><span class="lineno"> 2435</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsX86 &amp;&amp; (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.cvtb2mask.&quot;</span>) ||</div>
<div class="line"><a name="l02436"></a><span class="lineno"> 2436</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.cvtw2mask.&quot;</span>) ||</div>
<div class="line"><a name="l02437"></a><span class="lineno"> 2437</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.cvtd2mask.&quot;</span>) ||</div>
<div class="line"><a name="l02438"></a><span class="lineno"> 2438</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.cvtq2mask.&quot;</span>))) {</div>
<div class="line"><a name="l02439"></a><span class="lineno"> 2439</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> = CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0);</div>
<div class="line"><a name="l02440"></a><span class="lineno"> 2440</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *Zero = <a class="code" href="classllvm_1_1Constant.html#aa6574d526b3e38a28f688a7bb4325c2c">llvm::Constant::getNullValue</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>-&gt;getType());</div>
<div class="line"><a name="l02441"></a><span class="lineno"> 2441</span>&#160;      Rep = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateICmp(ICmpInst::ICMP_SLT, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, Zero);</div>
<div class="line"><a name="l02442"></a><span class="lineno"> 2442</span>&#160;      Rep = <a class="code" href="AutoUpgrade_8cpp.html#a6c619e6daaa1556965750a89419eaf87">ApplyX86MaskOn1BitsVec</a>(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, Rep, <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l02443"></a><span class="lineno"> 2443</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>(IsX86 &amp;&amp; (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> == <span class="stringliteral">&quot;ssse3.pabs.b.128&quot;</span> ||</div>
<div class="line"><a name="l02444"></a><span class="lineno"> 2444</span>&#160;                        <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> == <span class="stringliteral">&quot;ssse3.pabs.w.128&quot;</span> ||</div>
<div class="line"><a name="l02445"></a><span class="lineno"> 2445</span>&#160;                        <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> == <span class="stringliteral">&quot;ssse3.pabs.d.128&quot;</span> ||</div>
<div class="line"><a name="l02446"></a><span class="lineno"> 2446</span>&#160;                        <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx2.pabs&quot;</span>) ||</div>
<div class="line"><a name="l02447"></a><span class="lineno"> 2447</span>&#160;                        <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.mask.pabs&quot;</span>))) {</div>
<div class="line"><a name="l02448"></a><span class="lineno"> 2448</span>&#160;      Rep = <a class="code" href="AutoUpgrade_8cpp.html#a89c8f20d6d07b4eebc86a50d7e47ef57">upgradeAbs</a>(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, *CI);</div>
<div class="line"><a name="l02449"></a><span class="lineno"> 2449</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsX86 &amp;&amp; (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> == <span class="stringliteral">&quot;sse41.pmaxsb&quot;</span> ||</div>
<div class="line"><a name="l02450"></a><span class="lineno"> 2450</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> == <span class="stringliteral">&quot;sse2.pmaxs.w&quot;</span> ||</div>
<div class="line"><a name="l02451"></a><span class="lineno"> 2451</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> == <span class="stringliteral">&quot;sse41.pmaxsd&quot;</span> ||</div>
<div class="line"><a name="l02452"></a><span class="lineno"> 2452</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx2.pmaxs&quot;</span>) ||</div>
<div class="line"><a name="l02453"></a><span class="lineno"> 2453</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.mask.pmaxs&quot;</span>))) {</div>
<div class="line"><a name="l02454"></a><span class="lineno"> 2454</span>&#160;      Rep = <a class="code" href="AutoUpgrade_8cpp.html#ab9b8f71727ce7537929fb2c0901afe2e">UpgradeX86BinaryIntrinsics</a>(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, *CI, <a class="code" href="namespacellvm_1_1APIntOps.html#afee2477c062b67b487941ee0f4ff95ba">Intrinsic::smax</a>);</div>
<div class="line"><a name="l02455"></a><span class="lineno"> 2455</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsX86 &amp;&amp; (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> == <span class="stringliteral">&quot;sse2.pmaxu.b&quot;</span> ||</div>
<div class="line"><a name="l02456"></a><span class="lineno"> 2456</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> == <span class="stringliteral">&quot;sse41.pmaxuw&quot;</span> ||</div>
<div class="line"><a name="l02457"></a><span class="lineno"> 2457</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> == <span class="stringliteral">&quot;sse41.pmaxud&quot;</span> ||</div>
<div class="line"><a name="l02458"></a><span class="lineno"> 2458</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx2.pmaxu&quot;</span>) ||</div>
<div class="line"><a name="l02459"></a><span class="lineno"> 2459</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.mask.pmaxu&quot;</span>))) {</div>
<div class="line"><a name="l02460"></a><span class="lineno"> 2460</span>&#160;      Rep = <a class="code" href="AutoUpgrade_8cpp.html#ab9b8f71727ce7537929fb2c0901afe2e">UpgradeX86BinaryIntrinsics</a>(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, *CI, <a class="code" href="namespacellvm_1_1APIntOps.html#a071b3581888d9e3b0b05cec58f152a91">Intrinsic::umax</a>);</div>
<div class="line"><a name="l02461"></a><span class="lineno"> 2461</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsX86 &amp;&amp; (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> == <span class="stringliteral">&quot;sse41.pminsb&quot;</span> ||</div>
<div class="line"><a name="l02462"></a><span class="lineno"> 2462</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> == <span class="stringliteral">&quot;sse2.pmins.w&quot;</span> ||</div>
<div class="line"><a name="l02463"></a><span class="lineno"> 2463</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> == <span class="stringliteral">&quot;sse41.pminsd&quot;</span> ||</div>
<div class="line"><a name="l02464"></a><span class="lineno"> 2464</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx2.pmins&quot;</span>) ||</div>
<div class="line"><a name="l02465"></a><span class="lineno"> 2465</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.mask.pmins&quot;</span>))) {</div>
<div class="line"><a name="l02466"></a><span class="lineno"> 2466</span>&#160;      Rep = <a class="code" href="AutoUpgrade_8cpp.html#ab9b8f71727ce7537929fb2c0901afe2e">UpgradeX86BinaryIntrinsics</a>(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, *CI, <a class="code" href="namespacellvm_1_1APIntOps.html#a87e2895d880926d0b9a2128b3acfc9dd">Intrinsic::smin</a>);</div>
<div class="line"><a name="l02467"></a><span class="lineno"> 2467</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsX86 &amp;&amp; (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> == <span class="stringliteral">&quot;sse2.pminu.b&quot;</span> ||</div>
<div class="line"><a name="l02468"></a><span class="lineno"> 2468</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> == <span class="stringliteral">&quot;sse41.pminuw&quot;</span> ||</div>
<div class="line"><a name="l02469"></a><span class="lineno"> 2469</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> == <span class="stringliteral">&quot;sse41.pminud&quot;</span> ||</div>
<div class="line"><a name="l02470"></a><span class="lineno"> 2470</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx2.pminu&quot;</span>) ||</div>
<div class="line"><a name="l02471"></a><span class="lineno"> 2471</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.mask.pminu&quot;</span>))) {</div>
<div class="line"><a name="l02472"></a><span class="lineno"> 2472</span>&#160;      Rep = <a class="code" href="AutoUpgrade_8cpp.html#ab9b8f71727ce7537929fb2c0901afe2e">UpgradeX86BinaryIntrinsics</a>(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, *CI, <a class="code" href="namespacellvm_1_1APIntOps.html#aa606171b17bdde9015fa656e226ca9e0">Intrinsic::umin</a>);</div>
<div class="line"><a name="l02473"></a><span class="lineno"> 2473</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsX86 &amp;&amp; (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> == <span class="stringliteral">&quot;sse2.pmulu.dq&quot;</span> ||</div>
<div class="line"><a name="l02474"></a><span class="lineno"> 2474</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> == <span class="stringliteral">&quot;avx2.pmulu.dq&quot;</span> ||</div>
<div class="line"><a name="l02475"></a><span class="lineno"> 2475</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> == <span class="stringliteral">&quot;avx512.pmulu.dq.512&quot;</span> ||</div>
<div class="line"><a name="l02476"></a><span class="lineno"> 2476</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.mask.pmulu.dq.&quot;</span>))) {</div>
<div class="line"><a name="l02477"></a><span class="lineno"> 2477</span>&#160;      Rep = <a class="code" href="AutoUpgrade_8cpp.html#a09d7ff4a54fa200f2eec3251645cadba">upgradePMULDQ</a>(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, *CI, <span class="comment">/*Signed*/</span><span class="keyword">false</span>);</div>
<div class="line"><a name="l02478"></a><span class="lineno"> 2478</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsX86 &amp;&amp; (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> == <span class="stringliteral">&quot;sse41.pmuldq&quot;</span> ||</div>
<div class="line"><a name="l02479"></a><span class="lineno"> 2479</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> == <span class="stringliteral">&quot;avx2.pmul.dq&quot;</span> ||</div>
<div class="line"><a name="l02480"></a><span class="lineno"> 2480</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> == <span class="stringliteral">&quot;avx512.pmul.dq.512&quot;</span> ||</div>
<div class="line"><a name="l02481"></a><span class="lineno"> 2481</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.mask.pmul.dq.&quot;</span>))) {</div>
<div class="line"><a name="l02482"></a><span class="lineno"> 2482</span>&#160;      Rep = <a class="code" href="AutoUpgrade_8cpp.html#a09d7ff4a54fa200f2eec3251645cadba">upgradePMULDQ</a>(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, *CI, <span class="comment">/*Signed*/</span><span class="keyword">true</span>);</div>
<div class="line"><a name="l02483"></a><span class="lineno"> 2483</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsX86 &amp;&amp; (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> == <span class="stringliteral">&quot;sse.cvtsi2ss&quot;</span> ||</div>
<div class="line"><a name="l02484"></a><span class="lineno"> 2484</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> == <span class="stringliteral">&quot;sse2.cvtsi2sd&quot;</span> ||</div>
<div class="line"><a name="l02485"></a><span class="lineno"> 2485</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> == <span class="stringliteral">&quot;sse.cvtsi642ss&quot;</span> ||</div>
<div class="line"><a name="l02486"></a><span class="lineno"> 2486</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> == <span class="stringliteral">&quot;sse2.cvtsi642sd&quot;</span>)) {</div>
<div class="line"><a name="l02487"></a><span class="lineno"> 2487</span>&#160;      Rep = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateSIToFP(</div>
<div class="line"><a name="l02488"></a><span class="lineno"> 2488</span>&#160;          CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1),</div>
<div class="line"><a name="l02489"></a><span class="lineno"> 2489</span>&#160;          cast&lt;VectorType&gt;(CI-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>())-&gt;getElementType());</div>
<div class="line"><a name="l02490"></a><span class="lineno"> 2490</span>&#160;      Rep = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateInsertElement(CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0), Rep, (<a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a>)0);</div>
<div class="line"><a name="l02491"></a><span class="lineno"> 2491</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsX86 &amp;&amp; <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> == <span class="stringliteral">&quot;avx512.cvtusi2sd&quot;</span>) {</div>
<div class="line"><a name="l02492"></a><span class="lineno"> 2492</span>&#160;      Rep = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateUIToFP(</div>
<div class="line"><a name="l02493"></a><span class="lineno"> 2493</span>&#160;          CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1),</div>
<div class="line"><a name="l02494"></a><span class="lineno"> 2494</span>&#160;          cast&lt;VectorType&gt;(CI-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>())-&gt;getElementType());</div>
<div class="line"><a name="l02495"></a><span class="lineno"> 2495</span>&#160;      Rep = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateInsertElement(CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0), Rep, (<a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a>)0);</div>
<div class="line"><a name="l02496"></a><span class="lineno"> 2496</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsX86 &amp;&amp; <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> == <span class="stringliteral">&quot;sse2.cvtss2sd&quot;</span>) {</div>
<div class="line"><a name="l02497"></a><span class="lineno"> 2497</span>&#160;      Rep = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateExtractElement(CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1), (<a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a>)0);</div>
<div class="line"><a name="l02498"></a><span class="lineno"> 2498</span>&#160;      Rep = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateFPExt(</div>
<div class="line"><a name="l02499"></a><span class="lineno"> 2499</span>&#160;          Rep, cast&lt;VectorType&gt;(CI-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>())-&gt;getElementType());</div>
<div class="line"><a name="l02500"></a><span class="lineno"> 2500</span>&#160;      Rep = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateInsertElement(CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0), Rep, (<a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a>)0);</div>
<div class="line"><a name="l02501"></a><span class="lineno"> 2501</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsX86 &amp;&amp; (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> == <span class="stringliteral">&quot;sse2.cvtdq2pd&quot;</span> ||</div>
<div class="line"><a name="l02502"></a><span class="lineno"> 2502</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> == <span class="stringliteral">&quot;sse2.cvtdq2ps&quot;</span> ||</div>
<div class="line"><a name="l02503"></a><span class="lineno"> 2503</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> == <span class="stringliteral">&quot;avx.cvtdq2.pd.256&quot;</span> ||</div>
<div class="line"><a name="l02504"></a><span class="lineno"> 2504</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> == <span class="stringliteral">&quot;avx.cvtdq2.ps.256&quot;</span> ||</div>
<div class="line"><a name="l02505"></a><span class="lineno"> 2505</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.mask.cvtdq2pd.&quot;</span>) ||</div>
<div class="line"><a name="l02506"></a><span class="lineno"> 2506</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.mask.cvtudq2pd.&quot;</span>) ||</div>
<div class="line"><a name="l02507"></a><span class="lineno"> 2507</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.mask.cvtdq2ps.&quot;</span>) ||</div>
<div class="line"><a name="l02508"></a><span class="lineno"> 2508</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.mask.cvtudq2ps.&quot;</span>) ||</div>
<div class="line"><a name="l02509"></a><span class="lineno"> 2509</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.mask.cvtqq2pd.&quot;</span>) ||</div>
<div class="line"><a name="l02510"></a><span class="lineno"> 2510</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.mask.cvtuqq2pd.&quot;</span>) ||</div>
<div class="line"><a name="l02511"></a><span class="lineno"> 2511</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> == <span class="stringliteral">&quot;avx512.mask.cvtqq2ps.256&quot;</span> ||</div>
<div class="line"><a name="l02512"></a><span class="lineno"> 2512</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> == <span class="stringliteral">&quot;avx512.mask.cvtqq2ps.512&quot;</span> ||</div>
<div class="line"><a name="l02513"></a><span class="lineno"> 2513</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> == <span class="stringliteral">&quot;avx512.mask.cvtuqq2ps.256&quot;</span> ||</div>
<div class="line"><a name="l02514"></a><span class="lineno"> 2514</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> == <span class="stringliteral">&quot;avx512.mask.cvtuqq2ps.512&quot;</span> ||</div>
<div class="line"><a name="l02515"></a><span class="lineno"> 2515</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> == <span class="stringliteral">&quot;sse2.cvtps2pd&quot;</span> ||</div>
<div class="line"><a name="l02516"></a><span class="lineno"> 2516</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> == <span class="stringliteral">&quot;avx.cvt.ps2.pd.256&quot;</span> ||</div>
<div class="line"><a name="l02517"></a><span class="lineno"> 2517</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> == <span class="stringliteral">&quot;avx512.mask.cvtps2pd.128&quot;</span> ||</div>
<div class="line"><a name="l02518"></a><span class="lineno"> 2518</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> == <span class="stringliteral">&quot;avx512.mask.cvtps2pd.256&quot;</span>)) {</div>
<div class="line"><a name="l02519"></a><span class="lineno"> 2519</span>&#160;      <span class="keyword">auto</span> *DstTy = cast&lt;FixedVectorType&gt;(CI-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l02520"></a><span class="lineno"> 2520</span>&#160;      Rep = CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0);</div>
<div class="line"><a name="l02521"></a><span class="lineno"> 2521</span>&#160;      <span class="keyword">auto</span> *SrcTy = cast&lt;FixedVectorType&gt;(Rep-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l02522"></a><span class="lineno"> 2522</span>&#160; </div>
<div class="line"><a name="l02523"></a><span class="lineno"> 2523</span>&#160;      <span class="keywordtype">unsigned</span> NumDstElts = DstTy-&gt;getNumElements();</div>
<div class="line"><a name="l02524"></a><span class="lineno"> 2524</span>&#160;      <span class="keywordflow">if</span> (NumDstElts &lt; SrcTy-&gt;getNumElements()) {</div>
<div class="line"><a name="l02525"></a><span class="lineno"> 2525</span>&#160;        <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(NumDstElts == 2 &amp;&amp; <span class="stringliteral">&quot;Unexpected vector size&quot;</span>);</div>
<div class="line"><a name="l02526"></a><span class="lineno"> 2526</span>&#160;        Rep = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateShuffleVector(Rep, Rep, <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;int&gt;</a>{0, 1});</div>
<div class="line"><a name="l02527"></a><span class="lineno"> 2527</span>&#160;      }</div>
<div class="line"><a name="l02528"></a><span class="lineno"> 2528</span>&#160; </div>
<div class="line"><a name="l02529"></a><span class="lineno"> 2529</span>&#160;      <span class="keywordtype">bool</span> IsPS2PD = SrcTy-&gt;getElementType()-&gt;isFloatTy();</div>
<div class="line"><a name="l02530"></a><span class="lineno"> 2530</span>&#160;      <span class="keywordtype">bool</span> IsUnsigned = (StringRef::npos != <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.find(<span class="stringliteral">&quot;cvtu&quot;</span>));</div>
<div class="line"><a name="l02531"></a><span class="lineno"> 2531</span>&#160;      <span class="keywordflow">if</span> (IsPS2PD)</div>
<div class="line"><a name="l02532"></a><span class="lineno"> 2532</span>&#160;        Rep = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateFPExt(Rep, DstTy, <span class="stringliteral">&quot;cvtps2pd&quot;</span>);</div>
<div class="line"><a name="l02533"></a><span class="lineno"> 2533</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#adde2ea00dd2613ee41bfe91908e4e68e">arg_size</a>() == 4 &amp;&amp;</div>
<div class="line"><a name="l02534"></a><span class="lineno"> 2534</span>&#160;               (!isa&lt;ConstantInt&gt;(CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(3)) ||</div>
<div class="line"><a name="l02535"></a><span class="lineno"> 2535</span>&#160;                cast&lt;ConstantInt&gt;(CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(3))-&gt;getZExtValue() != 4)) {</div>
<div class="line"><a name="l02536"></a><span class="lineno"> 2536</span>&#160;        <a class="code" href="namespacellvm_1_1Intrinsic.html#a80add6b3b1cdaec560907995127adc16">Intrinsic::ID</a> IID = IsUnsigned ? Intrinsic::x86_avx512_uitofp_round</div>
<div class="line"><a name="l02537"></a><span class="lineno"> 2537</span>&#160;                                       : Intrinsic::x86_avx512_sitofp_round;</div>
<div class="line"><a name="l02538"></a><span class="lineno"> 2538</span>&#160;        <a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> = <a class="code" href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">Intrinsic::getDeclaration</a>(CI-&gt;<a class="code" href="classllvm_1_1Instruction.html#a4ba3a5be6c0e9b9e8a525de055836733">getModule</a>(), IID,</div>
<div class="line"><a name="l02539"></a><span class="lineno"> 2539</span>&#160;                                                { DstTy, SrcTy });</div>
<div class="line"><a name="l02540"></a><span class="lineno"> 2540</span>&#160;        Rep = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateCall(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, { Rep, CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(3) });</div>
<div class="line"><a name="l02541"></a><span class="lineno"> 2541</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02542"></a><span class="lineno"> 2542</span>&#160;        Rep = IsUnsigned ? <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateUIToFP(Rep, DstTy, <span class="stringliteral">&quot;cvt&quot;</span>)</div>
<div class="line"><a name="l02543"></a><span class="lineno"> 2543</span>&#160;                         : <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateSIToFP(Rep, DstTy, <span class="stringliteral">&quot;cvt&quot;</span>);</div>
<div class="line"><a name="l02544"></a><span class="lineno"> 2544</span>&#160;      }</div>
<div class="line"><a name="l02545"></a><span class="lineno"> 2545</span>&#160; </div>
<div class="line"><a name="l02546"></a><span class="lineno"> 2546</span>&#160;      <span class="keywordflow">if</span> (CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#adde2ea00dd2613ee41bfe91908e4e68e">arg_size</a>() &gt;= 3)</div>
<div class="line"><a name="l02547"></a><span class="lineno"> 2547</span>&#160;        Rep = <a class="code" href="AutoUpgrade_8cpp.html#a8184e757708d747af9b314cdfe238b2c">EmitX86Select</a>(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(2), Rep,</div>
<div class="line"><a name="l02548"></a><span class="lineno"> 2548</span>&#160;                            CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1));</div>
<div class="line"><a name="l02549"></a><span class="lineno"> 2549</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsX86 &amp;&amp; (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.mask.vcvtph2ps.&quot;</span>) ||</div>
<div class="line"><a name="l02550"></a><span class="lineno"> 2550</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;vcvtph2ps.&quot;</span>))) {</div>
<div class="line"><a name="l02551"></a><span class="lineno"> 2551</span>&#160;      <span class="keyword">auto</span> *DstTy = cast&lt;FixedVectorType&gt;(CI-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l02552"></a><span class="lineno"> 2552</span>&#160;      Rep = CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0);</div>
<div class="line"><a name="l02553"></a><span class="lineno"> 2553</span>&#160;      <span class="keyword">auto</span> *SrcTy = cast&lt;FixedVectorType&gt;(Rep-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l02554"></a><span class="lineno"> 2554</span>&#160;      <span class="keywordtype">unsigned</span> NumDstElts = DstTy-&gt;getNumElements();</div>
<div class="line"><a name="l02555"></a><span class="lineno"> 2555</span>&#160;      <span class="keywordflow">if</span> (NumDstElts != SrcTy-&gt;getNumElements()) {</div>
<div class="line"><a name="l02556"></a><span class="lineno"> 2556</span>&#160;        <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(NumDstElts == 4 &amp;&amp; <span class="stringliteral">&quot;Unexpected vector size&quot;</span>);</div>
<div class="line"><a name="l02557"></a><span class="lineno"> 2557</span>&#160;        Rep = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateShuffleVector(Rep, Rep, <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;int&gt;</a>{0, 1, 2, 3});</div>
<div class="line"><a name="l02558"></a><span class="lineno"> 2558</span>&#160;      }</div>
<div class="line"><a name="l02559"></a><span class="lineno"> 2559</span>&#160;      Rep = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateBitCast(</div>
<div class="line"><a name="l02560"></a><span class="lineno"> 2560</span>&#160;          Rep, <a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#aa91241c8c54738377749dc47ee489e0d">FixedVectorType::get</a>(Type::getHalfTy(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>), NumDstElts));</div>
<div class="line"><a name="l02561"></a><span class="lineno"> 2561</span>&#160;      Rep = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateFPExt(Rep, DstTy, <span class="stringliteral">&quot;cvtph2ps&quot;</span>);</div>
<div class="line"><a name="l02562"></a><span class="lineno"> 2562</span>&#160;      <span class="keywordflow">if</span> (CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#adde2ea00dd2613ee41bfe91908e4e68e">arg_size</a>() &gt;= 3)</div>
<div class="line"><a name="l02563"></a><span class="lineno"> 2563</span>&#160;        Rep = <a class="code" href="AutoUpgrade_8cpp.html#a8184e757708d747af9b314cdfe238b2c">EmitX86Select</a>(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(2), Rep,</div>
<div class="line"><a name="l02564"></a><span class="lineno"> 2564</span>&#160;                            CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1));</div>
<div class="line"><a name="l02565"></a><span class="lineno"> 2565</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsX86 &amp;&amp; <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.mask.load&quot;</span>)) {</div>
<div class="line"><a name="l02566"></a><span class="lineno"> 2566</span>&#160;      <span class="comment">// &quot;avx512.mask.loadu.&quot; or &quot;avx512.mask.load.&quot;</span></div>
<div class="line"><a name="l02567"></a><span class="lineno"> 2567</span>&#160;      <span class="keywordtype">bool</span> <a class="code" href="namespacellvm.html#a264176188c0aadccd3ca5b6929b5a2e1a1d5b772bea21e5e949413e09eedf17de">Aligned</a> = <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>[16] != <span class="charliteral">&#39;u&#39;</span>; <span class="comment">// &quot;avx512.mask.loadu&quot;.</span></div>
<div class="line"><a name="l02568"></a><span class="lineno"> 2568</span>&#160;      Rep =</div>
<div class="line"><a name="l02569"></a><span class="lineno"> 2569</span>&#160;          <a class="code" href="AutoUpgrade_8cpp.html#a9323ac9042db2ec1427acd85c3919f89">UpgradeMaskedLoad</a>(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0), CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1),</div>
<div class="line"><a name="l02570"></a><span class="lineno"> 2570</span>&#160;                            CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(2), <a class="code" href="namespacellvm.html#a264176188c0aadccd3ca5b6929b5a2e1a1d5b772bea21e5e949413e09eedf17de">Aligned</a>);</div>
<div class="line"><a name="l02571"></a><span class="lineno"> 2571</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsX86 &amp;&amp; <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.mask.expand.load.&quot;</span>)) {</div>
<div class="line"><a name="l02572"></a><span class="lineno"> 2572</span>&#160;      <span class="keyword">auto</span> *ResultTy = cast&lt;FixedVectorType&gt;(CI-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l02573"></a><span class="lineno"> 2573</span>&#160;      <a class="code" href="classllvm_1_1Type.html">Type</a> *PtrTy = ResultTy-&gt;getElementType();</div>
<div class="line"><a name="l02574"></a><span class="lineno"> 2574</span>&#160; </div>
<div class="line"><a name="l02575"></a><span class="lineno"> 2575</span>&#160;      <span class="comment">// Cast the pointer to element type.</span></div>
<div class="line"><a name="l02576"></a><span class="lineno"> 2576</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a> = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateBitCast(CI-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(0),</div>
<div class="line"><a name="l02577"></a><span class="lineno"> 2577</span>&#160;                                         <a class="code" href="classllvm_1_1PointerType.html#a8db49fd5069f21d514e7bb0fd11f0902">llvm::PointerType::getUnqual</a>(PtrTy));</div>
<div class="line"><a name="l02578"></a><span class="lineno"> 2578</span>&#160; </div>
<div class="line"><a name="l02579"></a><span class="lineno"> 2579</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *MaskVec = <a class="code" href="AutoUpgrade_8cpp.html#af631ff2d8f998127c4f43154c07ebcba">getX86MaskVec</a>(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(2),</div>
<div class="line"><a name="l02580"></a><span class="lineno"> 2580</span>&#160;                                     ResultTy-&gt;getNumElements());</div>
<div class="line"><a name="l02581"></a><span class="lineno"> 2581</span>&#160; </div>
<div class="line"><a name="l02582"></a><span class="lineno"> 2582</span>&#160;      <a class="code" href="classllvm_1_1Function.html">Function</a> *ELd = <a class="code" href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">Intrinsic::getDeclaration</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getParent(),</div>
<div class="line"><a name="l02583"></a><span class="lineno"> 2583</span>&#160;                                                Intrinsic::masked_expandload,</div>
<div class="line"><a name="l02584"></a><span class="lineno"> 2584</span>&#160;                                                ResultTy);</div>
<div class="line"><a name="l02585"></a><span class="lineno"> 2585</span>&#160;      Rep = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateCall(ELd, { <a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>, MaskVec, CI-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(1) });</div>
<div class="line"><a name="l02586"></a><span class="lineno"> 2586</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsX86 &amp;&amp; <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.mask.compress.store.&quot;</span>)) {</div>
<div class="line"><a name="l02587"></a><span class="lineno"> 2587</span>&#160;      <span class="keyword">auto</span> *ResultTy = cast&lt;VectorType&gt;(CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1)-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l02588"></a><span class="lineno"> 2588</span>&#160;      <a class="code" href="classllvm_1_1Type.html">Type</a> *PtrTy = ResultTy-&gt;getElementType();</div>
<div class="line"><a name="l02589"></a><span class="lineno"> 2589</span>&#160; </div>
<div class="line"><a name="l02590"></a><span class="lineno"> 2590</span>&#160;      <span class="comment">// Cast the pointer to element type.</span></div>
<div class="line"><a name="l02591"></a><span class="lineno"> 2591</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a> = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateBitCast(CI-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(0),</div>
<div class="line"><a name="l02592"></a><span class="lineno"> 2592</span>&#160;                                         <a class="code" href="classllvm_1_1PointerType.html#a8db49fd5069f21d514e7bb0fd11f0902">llvm::PointerType::getUnqual</a>(PtrTy));</div>
<div class="line"><a name="l02593"></a><span class="lineno"> 2593</span>&#160; </div>
<div class="line"><a name="l02594"></a><span class="lineno"> 2594</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *MaskVec =</div>
<div class="line"><a name="l02595"></a><span class="lineno"> 2595</span>&#160;          <a class="code" href="AutoUpgrade_8cpp.html#af631ff2d8f998127c4f43154c07ebcba">getX86MaskVec</a>(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(2),</div>
<div class="line"><a name="l02596"></a><span class="lineno"> 2596</span>&#160;                        cast&lt;FixedVectorType&gt;(ResultTy)-&gt;getNumElements());</div>
<div class="line"><a name="l02597"></a><span class="lineno"> 2597</span>&#160; </div>
<div class="line"><a name="l02598"></a><span class="lineno"> 2598</span>&#160;      <a class="code" href="classllvm_1_1Function.html">Function</a> *CSt = <a class="code" href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">Intrinsic::getDeclaration</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getParent(),</div>
<div class="line"><a name="l02599"></a><span class="lineno"> 2599</span>&#160;                                                Intrinsic::masked_compressstore,</div>
<div class="line"><a name="l02600"></a><span class="lineno"> 2600</span>&#160;                                                ResultTy);</div>
<div class="line"><a name="l02601"></a><span class="lineno"> 2601</span>&#160;      Rep = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateCall(CSt, { CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1), <a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>, MaskVec });</div>
<div class="line"><a name="l02602"></a><span class="lineno"> 2602</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsX86 &amp;&amp; (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.mask.compress.&quot;</span>) ||</div>
<div class="line"><a name="l02603"></a><span class="lineno"> 2603</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.mask.expand.&quot;</span>))) {</div>
<div class="line"><a name="l02604"></a><span class="lineno"> 2604</span>&#160;      <span class="keyword">auto</span> *ResultTy = cast&lt;FixedVectorType&gt;(CI-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l02605"></a><span class="lineno"> 2605</span>&#160; </div>
<div class="line"><a name="l02606"></a><span class="lineno"> 2606</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *MaskVec = <a class="code" href="AutoUpgrade_8cpp.html#af631ff2d8f998127c4f43154c07ebcba">getX86MaskVec</a>(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(2),</div>
<div class="line"><a name="l02607"></a><span class="lineno"> 2607</span>&#160;                                     ResultTy-&gt;getNumElements());</div>
<div class="line"><a name="l02608"></a><span class="lineno"> 2608</span>&#160; </div>
<div class="line"><a name="l02609"></a><span class="lineno"> 2609</span>&#160;      <span class="keywordtype">bool</span> IsCompress = <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>[12] == <span class="charliteral">&#39;c&#39;</span>;</div>
<div class="line"><a name="l02610"></a><span class="lineno"> 2610</span>&#160;      <a class="code" href="namespacellvm_1_1Intrinsic.html#a80add6b3b1cdaec560907995127adc16">Intrinsic::ID</a> IID = IsCompress ? Intrinsic::x86_avx512_mask_compress</div>
<div class="line"><a name="l02611"></a><span class="lineno"> 2611</span>&#160;                                     : Intrinsic::x86_avx512_mask_expand;</div>
<div class="line"><a name="l02612"></a><span class="lineno"> 2612</span>&#160;      <a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="AMDGPUBaseInfo_8cpp.html#ad18f9973176b870e59d30b81d8a1091e">Intr</a> = <a class="code" href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">Intrinsic::getDeclaration</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getParent(), IID, ResultTy);</div>
<div class="line"><a name="l02613"></a><span class="lineno"> 2613</span>&#160;      Rep = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateCall(<a class="code" href="AMDGPUBaseInfo_8cpp.html#ad18f9973176b870e59d30b81d8a1091e">Intr</a>, { CI-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(0), CI-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(1),</div>
<div class="line"><a name="l02614"></a><span class="lineno"> 2614</span>&#160;                                       MaskVec });</div>
<div class="line"><a name="l02615"></a><span class="lineno"> 2615</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsX86 &amp;&amp; <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;xop.vpcom&quot;</span>)) {</div>
<div class="line"><a name="l02616"></a><span class="lineno"> 2616</span>&#160;      <span class="keywordtype">bool</span> IsSigned;</div>
<div class="line"><a name="l02617"></a><span class="lineno"> 2617</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.endswith(<span class="stringliteral">&quot;ub&quot;</span>) || <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.endswith(<span class="stringliteral">&quot;uw&quot;</span>) || <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.endswith(<span class="stringliteral">&quot;ud&quot;</span>) ||</div>
<div class="line"><a name="l02618"></a><span class="lineno"> 2618</span>&#160;          <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.endswith(<span class="stringliteral">&quot;uq&quot;</span>))</div>
<div class="line"><a name="l02619"></a><span class="lineno"> 2619</span>&#160;        IsSigned = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02620"></a><span class="lineno"> 2620</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.endswith(<span class="stringliteral">&quot;b&quot;</span>) || <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.endswith(<span class="stringliteral">&quot;w&quot;</span>) || <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.endswith(<span class="stringliteral">&quot;d&quot;</span>) ||</div>
<div class="line"><a name="l02621"></a><span class="lineno"> 2621</span>&#160;               <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.endswith(<span class="stringliteral">&quot;q&quot;</span>))</div>
<div class="line"><a name="l02622"></a><span class="lineno"> 2622</span>&#160;        IsSigned = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02623"></a><span class="lineno"> 2623</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l02624"></a><span class="lineno"> 2624</span>&#160;        <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unknown suffix&quot;</span>);</div>
<div class="line"><a name="l02625"></a><span class="lineno"> 2625</span>&#160; </div>
<div class="line"><a name="l02626"></a><span class="lineno"> 2626</span>&#160;      <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>;</div>
<div class="line"><a name="l02627"></a><span class="lineno"> 2627</span>&#160;      <span class="keywordflow">if</span> (CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#adde2ea00dd2613ee41bfe91908e4e68e">arg_size</a>() == 3) {</div>
<div class="line"><a name="l02628"></a><span class="lineno"> 2628</span>&#160;        <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> = cast&lt;ConstantInt&gt;(CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(2))-&gt;getZExtValue();</div>
<div class="line"><a name="l02629"></a><span class="lineno"> 2629</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02630"></a><span class="lineno"> 2630</span>&#160;        <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> = <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.substr(9); <span class="comment">// strip off &quot;xop.vpcom&quot;</span></div>
<div class="line"><a name="l02631"></a><span class="lineno"> 2631</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;lt&quot;</span>))</div>
<div class="line"><a name="l02632"></a><span class="lineno"> 2632</span>&#160;          <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> = 0;</div>
<div class="line"><a name="l02633"></a><span class="lineno"> 2633</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;le&quot;</span>))</div>
<div class="line"><a name="l02634"></a><span class="lineno"> 2634</span>&#160;          <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> = 1;</div>
<div class="line"><a name="l02635"></a><span class="lineno"> 2635</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;gt&quot;</span>))</div>
<div class="line"><a name="l02636"></a><span class="lineno"> 2636</span>&#160;          <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> = 2;</div>
<div class="line"><a name="l02637"></a><span class="lineno"> 2637</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;ge&quot;</span>))</div>
<div class="line"><a name="l02638"></a><span class="lineno"> 2638</span>&#160;          <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> = 3;</div>
<div class="line"><a name="l02639"></a><span class="lineno"> 2639</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;eq&quot;</span>))</div>
<div class="line"><a name="l02640"></a><span class="lineno"> 2640</span>&#160;          <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> = 4;</div>
<div class="line"><a name="l02641"></a><span class="lineno"> 2641</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;ne&quot;</span>))</div>
<div class="line"><a name="l02642"></a><span class="lineno"> 2642</span>&#160;          <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> = 5;</div>
<div class="line"><a name="l02643"></a><span class="lineno"> 2643</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;false&quot;</span>))</div>
<div class="line"><a name="l02644"></a><span class="lineno"> 2644</span>&#160;          <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> = 6;</div>
<div class="line"><a name="l02645"></a><span class="lineno"> 2645</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;true&quot;</span>))</div>
<div class="line"><a name="l02646"></a><span class="lineno"> 2646</span>&#160;          <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> = 7;</div>
<div class="line"><a name="l02647"></a><span class="lineno"> 2647</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l02648"></a><span class="lineno"> 2648</span>&#160;          <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unknown condition&quot;</span>);</div>
<div class="line"><a name="l02649"></a><span class="lineno"> 2649</span>&#160;      }</div>
<div class="line"><a name="l02650"></a><span class="lineno"> 2650</span>&#160; </div>
<div class="line"><a name="l02651"></a><span class="lineno"> 2651</span>&#160;      Rep = <a class="code" href="AutoUpgrade_8cpp.html#a145400e704b87735b32fb17acd06aa55">upgradeX86vpcom</a>(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, *CI, <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>, IsSigned);</div>
<div class="line"><a name="l02652"></a><span class="lineno"> 2652</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsX86 &amp;&amp; <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;xop.vpcmov&quot;</span>)) {</div>
<div class="line"><a name="l02653"></a><span class="lineno"> 2653</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *Sel = CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(2);</div>
<div class="line"><a name="l02654"></a><span class="lineno"> 2654</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *NotSel = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateNot(Sel);</div>
<div class="line"><a name="l02655"></a><span class="lineno"> 2655</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *Sel0 = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateAnd(CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0), Sel);</div>
<div class="line"><a name="l02656"></a><span class="lineno"> 2656</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *Sel1 = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateAnd(CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1), NotSel);</div>
<div class="line"><a name="l02657"></a><span class="lineno"> 2657</span>&#160;      Rep = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateOr(Sel0, Sel1);</div>
<div class="line"><a name="l02658"></a><span class="lineno"> 2658</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsX86 &amp;&amp; (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;xop.vprot&quot;</span>) ||</div>
<div class="line"><a name="l02659"></a><span class="lineno"> 2659</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.prol&quot;</span>) ||</div>
<div class="line"><a name="l02660"></a><span class="lineno"> 2660</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.mask.prol&quot;</span>))) {</div>
<div class="line"><a name="l02661"></a><span class="lineno"> 2661</span>&#160;      Rep = <a class="code" href="AutoUpgrade_8cpp.html#a53ed383dc1484814ef3ae100e28fbaaa">upgradeX86Rotate</a>(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, *CI, <span class="keyword">false</span>);</div>
<div class="line"><a name="l02662"></a><span class="lineno"> 2662</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsX86 &amp;&amp; (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.pror&quot;</span>) ||</div>
<div class="line"><a name="l02663"></a><span class="lineno"> 2663</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.mask.pror&quot;</span>))) {</div>
<div class="line"><a name="l02664"></a><span class="lineno"> 2664</span>&#160;      Rep = <a class="code" href="AutoUpgrade_8cpp.html#a53ed383dc1484814ef3ae100e28fbaaa">upgradeX86Rotate</a>(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, *CI, <span class="keyword">true</span>);</div>
<div class="line"><a name="l02665"></a><span class="lineno"> 2665</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsX86 &amp;&amp; (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.vpshld.&quot;</span>) ||</div>
<div class="line"><a name="l02666"></a><span class="lineno"> 2666</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.mask.vpshld&quot;</span>) ||</div>
<div class="line"><a name="l02667"></a><span class="lineno"> 2667</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.maskz.vpshld&quot;</span>))) {</div>
<div class="line"><a name="l02668"></a><span class="lineno"> 2668</span>&#160;      <span class="keywordtype">bool</span> ZeroMask = <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>[11] == <span class="charliteral">&#39;z&#39;</span>;</div>
<div class="line"><a name="l02669"></a><span class="lineno"> 2669</span>&#160;      Rep = <a class="code" href="AutoUpgrade_8cpp.html#a47a1bbffaafe7bbf2441a0fd19765346">upgradeX86ConcatShift</a>(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, *CI, <span class="keyword">false</span>, ZeroMask);</div>
<div class="line"><a name="l02670"></a><span class="lineno"> 2670</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsX86 &amp;&amp; (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.vpshrd.&quot;</span>) ||</div>
<div class="line"><a name="l02671"></a><span class="lineno"> 2671</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.mask.vpshrd&quot;</span>) ||</div>
<div class="line"><a name="l02672"></a><span class="lineno"> 2672</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.maskz.vpshrd&quot;</span>))) {</div>
<div class="line"><a name="l02673"></a><span class="lineno"> 2673</span>&#160;      <span class="keywordtype">bool</span> ZeroMask = <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>[11] == <span class="charliteral">&#39;z&#39;</span>;</div>
<div class="line"><a name="l02674"></a><span class="lineno"> 2674</span>&#160;      Rep = <a class="code" href="AutoUpgrade_8cpp.html#a47a1bbffaafe7bbf2441a0fd19765346">upgradeX86ConcatShift</a>(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, *CI, <span class="keyword">true</span>, ZeroMask);</div>
<div class="line"><a name="l02675"></a><span class="lineno"> 2675</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsX86 &amp;&amp; <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> == <span class="stringliteral">&quot;sse42.crc32.64.8&quot;</span>) {</div>
<div class="line"><a name="l02676"></a><span class="lineno"> 2676</span>&#160;      <a class="code" href="classllvm_1_1Function.html">Function</a> *CRC32 = <a class="code" href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">Intrinsic::getDeclaration</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getParent(),</div>
<div class="line"><a name="l02677"></a><span class="lineno"> 2677</span>&#160;                                               Intrinsic::x86_sse42_crc32_32_8);</div>
<div class="line"><a name="l02678"></a><span class="lineno"> 2678</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *Trunc0 = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateTrunc(CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0), Type::getInt32Ty(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>));</div>
<div class="line"><a name="l02679"></a><span class="lineno"> 2679</span>&#160;      Rep = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateCall(CRC32, {Trunc0, CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1)});</div>
<div class="line"><a name="l02680"></a><span class="lineno"> 2680</span>&#160;      Rep = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateZExt(Rep, CI-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>(), <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l02681"></a><span class="lineno"> 2681</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsX86 &amp;&amp; (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx.vbroadcast.s&quot;</span>) ||</div>
<div class="line"><a name="l02682"></a><span class="lineno"> 2682</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.vbroadcast.s&quot;</span>))) {</div>
<div class="line"><a name="l02683"></a><span class="lineno"> 2683</span>&#160;      <span class="comment">// Replace broadcasts with a series of insertelements.</span></div>
<div class="line"><a name="l02684"></a><span class="lineno"> 2684</span>&#160;      <span class="keyword">auto</span> *VecTy = cast&lt;FixedVectorType&gt;(CI-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l02685"></a><span class="lineno"> 2685</span>&#160;      <a class="code" href="classllvm_1_1Type.html">Type</a> *EltTy = VecTy-&gt;getElementType();</div>
<div class="line"><a name="l02686"></a><span class="lineno"> 2686</span>&#160;      <span class="keywordtype">unsigned</span> EltNum = VecTy-&gt;getNumElements();</div>
<div class="line"><a name="l02687"></a><span class="lineno"> 2687</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *Cast = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateBitCast(CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0),</div>
<div class="line"><a name="l02688"></a><span class="lineno"> 2688</span>&#160;                                          EltTy-&gt;<a class="code" href="classllvm_1_1Type.html#adc01a7457de85fc52a3bb860d7e1c6a4">getPointerTo</a>());</div>
<div class="line"><a name="l02689"></a><span class="lineno"> 2689</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a> = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateLoad(EltTy, Cast);</div>
<div class="line"><a name="l02690"></a><span class="lineno"> 2690</span>&#160;      <a class="code" href="classllvm_1_1Type.html">Type</a> *I32Ty = Type::getInt32Ty(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>);</div>
<div class="line"><a name="l02691"></a><span class="lineno"> 2691</span>&#160;      Rep = <a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#aa91241c8c54738377749dc47ee489e0d">PoisonValue::get</a>(VecTy);</div>
<div class="line"><a name="l02692"></a><span class="lineno"> 2692</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 0; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> &lt; EltNum; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</div>
<div class="line"><a name="l02693"></a><span class="lineno"> 2693</span>&#160;        Rep = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateInsertElement(Rep, <a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>,</div>
<div class="line"><a name="l02694"></a><span class="lineno"> 2694</span>&#160;                                          <a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#aa91241c8c54738377749dc47ee489e0d">ConstantInt::get</a>(I32Ty, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>));</div>
<div class="line"><a name="l02695"></a><span class="lineno"> 2695</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsX86 &amp;&amp; (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;sse41.pmovsx&quot;</span>) ||</div>
<div class="line"><a name="l02696"></a><span class="lineno"> 2696</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;sse41.pmovzx&quot;</span>) ||</div>
<div class="line"><a name="l02697"></a><span class="lineno"> 2697</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx2.pmovsx&quot;</span>) ||</div>
<div class="line"><a name="l02698"></a><span class="lineno"> 2698</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx2.pmovzx&quot;</span>) ||</div>
<div class="line"><a name="l02699"></a><span class="lineno"> 2699</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.mask.pmovsx&quot;</span>) ||</div>
<div class="line"><a name="l02700"></a><span class="lineno"> 2700</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.mask.pmovzx&quot;</span>))) {</div>
<div class="line"><a name="l02701"></a><span class="lineno"> 2701</span>&#160;      <span class="keyword">auto</span> *DstTy = cast&lt;FixedVectorType&gt;(CI-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l02702"></a><span class="lineno"> 2702</span>&#160;      <span class="keywordtype">unsigned</span> NumDstElts = DstTy-&gt;getNumElements();</div>
<div class="line"><a name="l02703"></a><span class="lineno"> 2703</span>&#160; </div>
<div class="line"><a name="l02704"></a><span class="lineno"> 2704</span>&#160;      <span class="comment">// Extract a subvector of the first NumDstElts lanes and sign/zero extend.</span></div>
<div class="line"><a name="l02705"></a><span class="lineno"> 2705</span>&#160;      <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;int, 8&gt;</a> ShuffleMask(NumDstElts);</div>
<div class="line"><a name="l02706"></a><span class="lineno"> 2706</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != NumDstElts; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><a name="l02707"></a><span class="lineno"> 2707</span>&#160;        ShuffleMask[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l02708"></a><span class="lineno"> 2708</span>&#160; </div>
<div class="line"><a name="l02709"></a><span class="lineno"> 2709</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *SV =</div>
<div class="line"><a name="l02710"></a><span class="lineno"> 2710</span>&#160;          <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateShuffleVector(CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0), ShuffleMask);</div>
<div class="line"><a name="l02711"></a><span class="lineno"> 2711</span>&#160; </div>
<div class="line"><a name="l02712"></a><span class="lineno"> 2712</span>&#160;      <span class="keywordtype">bool</span> DoSext = (StringRef::npos != <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.find(<span class="stringliteral">&quot;pmovsx&quot;</span>));</div>
<div class="line"><a name="l02713"></a><span class="lineno"> 2713</span>&#160;      Rep = DoSext ? <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateSExt(SV, DstTy)</div>
<div class="line"><a name="l02714"></a><span class="lineno"> 2714</span>&#160;                   : <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateZExt(SV, DstTy);</div>
<div class="line"><a name="l02715"></a><span class="lineno"> 2715</span>&#160;      <span class="comment">// If there are 3 arguments, it&#39;s a masked intrinsic so we need a select.</span></div>
<div class="line"><a name="l02716"></a><span class="lineno"> 2716</span>&#160;      <span class="keywordflow">if</span> (CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#adde2ea00dd2613ee41bfe91908e4e68e">arg_size</a>() == 3)</div>
<div class="line"><a name="l02717"></a><span class="lineno"> 2717</span>&#160;        Rep = <a class="code" href="AutoUpgrade_8cpp.html#a8184e757708d747af9b314cdfe238b2c">EmitX86Select</a>(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(2), Rep,</div>
<div class="line"><a name="l02718"></a><span class="lineno"> 2718</span>&#160;                            CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1));</div>
<div class="line"><a name="l02719"></a><span class="lineno"> 2719</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> == <span class="stringliteral">&quot;avx512.mask.pmov.qd.256&quot;</span> ||</div>
<div class="line"><a name="l02720"></a><span class="lineno"> 2720</span>&#160;               <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> == <span class="stringliteral">&quot;avx512.mask.pmov.qd.512&quot;</span> ||</div>
<div class="line"><a name="l02721"></a><span class="lineno"> 2721</span>&#160;               <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> == <span class="stringliteral">&quot;avx512.mask.pmov.wb.256&quot;</span> ||</div>
<div class="line"><a name="l02722"></a><span class="lineno"> 2722</span>&#160;               <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> == <span class="stringliteral">&quot;avx512.mask.pmov.wb.512&quot;</span>) {</div>
<div class="line"><a name="l02723"></a><span class="lineno"> 2723</span>&#160;      <a class="code" href="classllvm_1_1Type.html">Type</a> *Ty = CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1)-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>();</div>
<div class="line"><a name="l02724"></a><span class="lineno"> 2724</span>&#160;      Rep = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateTrunc(CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0), Ty);</div>
<div class="line"><a name="l02725"></a><span class="lineno"> 2725</span>&#160;      Rep = <a class="code" href="AutoUpgrade_8cpp.html#a8184e757708d747af9b314cdfe238b2c">EmitX86Select</a>(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(2), Rep,</div>
<div class="line"><a name="l02726"></a><span class="lineno"> 2726</span>&#160;                          CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1));</div>
<div class="line"><a name="l02727"></a><span class="lineno"> 2727</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsX86 &amp;&amp; (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx.vbroadcastf128&quot;</span>) ||</div>
<div class="line"><a name="l02728"></a><span class="lineno"> 2728</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> == <span class="stringliteral">&quot;avx2.vbroadcasti128&quot;</span>)) {</div>
<div class="line"><a name="l02729"></a><span class="lineno"> 2729</span>&#160;      <span class="comment">// Replace vbroadcastf128/vbroadcasti128 with a vector load+shuffle.</span></div>
<div class="line"><a name="l02730"></a><span class="lineno"> 2730</span>&#160;      <a class="code" href="classllvm_1_1Type.html">Type</a> *EltTy = cast&lt;VectorType&gt;(CI-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>())-&gt;getElementType();</div>
<div class="line"><a name="l02731"></a><span class="lineno"> 2731</span>&#160;      <span class="keywordtype">unsigned</span> NumSrcElts = 128 / EltTy-&gt;<a class="code" href="classllvm_1_1Type.html#a833daf718a49c5cd637d8c9ddeaebe07">getPrimitiveSizeInBits</a>();</div>
<div class="line"><a name="l02732"></a><span class="lineno"> 2732</span>&#160;      <span class="keyword">auto</span> *VT = <a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#aa91241c8c54738377749dc47ee489e0d">FixedVectorType::get</a>(EltTy, NumSrcElts);</div>
<div class="line"><a name="l02733"></a><span class="lineno"> 2733</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreatePointerCast(CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0),</div>
<div class="line"><a name="l02734"></a><span class="lineno"> 2734</span>&#160;                                            PointerType::getUnqual(VT));</div>
<div class="line"><a name="l02735"></a><span class="lineno"> 2735</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a> = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateAlignedLoad(VT, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, <a class="code" href="ELFObjHandler_8cpp.html#a043cdaf7b89aaeeb127be5d93411637f">Align</a>(1));</div>
<div class="line"><a name="l02736"></a><span class="lineno"> 2736</span>&#160;      <span class="keywordflow">if</span> (NumSrcElts == 2)</div>
<div class="line"><a name="l02737"></a><span class="lineno"> 2737</span>&#160;        Rep = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateShuffleVector(<a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>, <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;int&gt;</a>{0, 1, 0, 1});</div>
<div class="line"><a name="l02738"></a><span class="lineno"> 2738</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l02739"></a><span class="lineno"> 2739</span>&#160;        Rep = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateShuffleVector(</div>
<div class="line"><a name="l02740"></a><span class="lineno"> 2740</span>&#160;            <a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Load</a>, <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;int&gt;</a>{0, 1, 2, 3, 0, 1, 2, 3});</div>
<div class="line"><a name="l02741"></a><span class="lineno"> 2741</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsX86 &amp;&amp; (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.mask.shuf.i&quot;</span>) ||</div>
<div class="line"><a name="l02742"></a><span class="lineno"> 2742</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.mask.shuf.f&quot;</span>))) {</div>
<div class="line"><a name="l02743"></a><span class="lineno"> 2743</span>&#160;      <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> = cast&lt;ConstantInt&gt;(CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(2))-&gt;getZExtValue();</div>
<div class="line"><a name="l02744"></a><span class="lineno"> 2744</span>&#160;      <a class="code" href="classllvm_1_1Type.html">Type</a> *VT = CI-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>();</div>
<div class="line"><a name="l02745"></a><span class="lineno"> 2745</span>&#160;      <span class="keywordtype">unsigned</span> NumLanes = VT-&gt;<a class="code" href="classllvm_1_1Type.html#a833daf718a49c5cd637d8c9ddeaebe07">getPrimitiveSizeInBits</a>() / 128;</div>
<div class="line"><a name="l02746"></a><span class="lineno"> 2746</span>&#160;      <span class="keywordtype">unsigned</span> NumElementsInLane = 128 / VT-&gt;<a class="code" href="classllvm_1_1Type.html#a9f382207d841377156d4c7868b66b9a5">getScalarSizeInBits</a>();</div>
<div class="line"><a name="l02747"></a><span class="lineno"> 2747</span>&#160;      <span class="keywordtype">unsigned</span> ControlBitsMask = NumLanes - 1;</div>
<div class="line"><a name="l02748"></a><span class="lineno"> 2748</span>&#160;      <span class="keywordtype">unsigned</span> NumControlBits = NumLanes / 2;</div>
<div class="line"><a name="l02749"></a><span class="lineno"> 2749</span>&#160;      <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;int, 8&gt;</a> ShuffleMask(0);</div>
<div class="line"><a name="l02750"></a><span class="lineno"> 2750</span>&#160; </div>
<div class="line"><a name="l02751"></a><span class="lineno"> 2751</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#ac3ac4028df71f10fda029660ef66594d">l</a> = 0; <a class="code" href="lib_2Target_2README_8txt.html#ac3ac4028df71f10fda029660ef66594d">l</a> != NumLanes; ++<a class="code" href="lib_2Target_2README_8txt.html#ac3ac4028df71f10fda029660ef66594d">l</a>) {</div>
<div class="line"><a name="l02752"></a><span class="lineno"> 2752</span>&#160;        <span class="keywordtype">unsigned</span> LaneMask = (<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> &gt;&gt; (<a class="code" href="lib_2Target_2README_8txt.html#ac3ac4028df71f10fda029660ef66594d">l</a> * NumControlBits)) &amp; ControlBitsMask;</div>
<div class="line"><a name="l02753"></a><span class="lineno"> 2753</span>&#160;        <span class="comment">// We actually need the other source.</span></div>
<div class="line"><a name="l02754"></a><span class="lineno"> 2754</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="lib_2Target_2README_8txt.html#ac3ac4028df71f10fda029660ef66594d">l</a> &gt;= NumLanes / 2)</div>
<div class="line"><a name="l02755"></a><span class="lineno"> 2755</span>&#160;          LaneMask += NumLanes;</div>
<div class="line"><a name="l02756"></a><span class="lineno"> 2756</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != NumElementsInLane; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><a name="l02757"></a><span class="lineno"> 2757</span>&#160;          ShuffleMask.push_back(LaneMask * NumElementsInLane + <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l02758"></a><span class="lineno"> 2758</span>&#160;      }</div>
<div class="line"><a name="l02759"></a><span class="lineno"> 2759</span>&#160;      Rep = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateShuffleVector(CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0),</div>
<div class="line"><a name="l02760"></a><span class="lineno"> 2760</span>&#160;                                        CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1), ShuffleMask);</div>
<div class="line"><a name="l02761"></a><span class="lineno"> 2761</span>&#160;      Rep = <a class="code" href="AutoUpgrade_8cpp.html#a8184e757708d747af9b314cdfe238b2c">EmitX86Select</a>(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(4), Rep,</div>
<div class="line"><a name="l02762"></a><span class="lineno"> 2762</span>&#160;                          CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(3));</div>
<div class="line"><a name="l02763"></a><span class="lineno"> 2763</span>&#160;    }<span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsX86 &amp;&amp; (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.mask.broadcastf&quot;</span>) ||</div>
<div class="line"><a name="l02764"></a><span class="lineno"> 2764</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.mask.broadcasti&quot;</span>))) {</div>
<div class="line"><a name="l02765"></a><span class="lineno"> 2765</span>&#160;      <span class="keywordtype">unsigned</span> NumSrcElts =</div>
<div class="line"><a name="l02766"></a><span class="lineno"> 2766</span>&#160;          cast&lt;FixedVectorType&gt;(CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0)-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>())</div>
<div class="line"><a name="l02767"></a><span class="lineno"> 2767</span>&#160;              -&gt;getNumElements();</div>
<div class="line"><a name="l02768"></a><span class="lineno"> 2768</span>&#160;      <span class="keywordtype">unsigned</span> NumDstElts =</div>
<div class="line"><a name="l02769"></a><span class="lineno"> 2769</span>&#160;          cast&lt;FixedVectorType&gt;(CI-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>())-&gt;getNumElements();</div>
<div class="line"><a name="l02770"></a><span class="lineno"> 2770</span>&#160; </div>
<div class="line"><a name="l02771"></a><span class="lineno"> 2771</span>&#160;      <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;int, 8&gt;</a> ShuffleMask(NumDstElts);</div>
<div class="line"><a name="l02772"></a><span class="lineno"> 2772</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != NumDstElts; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><a name="l02773"></a><span class="lineno"> 2773</span>&#160;        ShuffleMask[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> % NumSrcElts;</div>
<div class="line"><a name="l02774"></a><span class="lineno"> 2774</span>&#160; </div>
<div class="line"><a name="l02775"></a><span class="lineno"> 2775</span>&#160;      Rep = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateShuffleVector(CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0),</div>
<div class="line"><a name="l02776"></a><span class="lineno"> 2776</span>&#160;                                        CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0),</div>
<div class="line"><a name="l02777"></a><span class="lineno"> 2777</span>&#160;                                        ShuffleMask);</div>
<div class="line"><a name="l02778"></a><span class="lineno"> 2778</span>&#160;      Rep = <a class="code" href="AutoUpgrade_8cpp.html#a8184e757708d747af9b314cdfe238b2c">EmitX86Select</a>(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(2), Rep,</div>
<div class="line"><a name="l02779"></a><span class="lineno"> 2779</span>&#160;                          CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1));</div>
<div class="line"><a name="l02780"></a><span class="lineno"> 2780</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsX86 &amp;&amp; (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx2.pbroadcast&quot;</span>) ||</div>
<div class="line"><a name="l02781"></a><span class="lineno"> 2781</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx2.vbroadcast&quot;</span>) ||</div>
<div class="line"><a name="l02782"></a><span class="lineno"> 2782</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.pbroadcast&quot;</span>) ||</div>
<div class="line"><a name="l02783"></a><span class="lineno"> 2783</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.mask.broadcast.s&quot;</span>))) {</div>
<div class="line"><a name="l02784"></a><span class="lineno"> 2784</span>&#160;      <span class="comment">// Replace vp?broadcasts with a vector shuffle.</span></div>
<div class="line"><a name="l02785"></a><span class="lineno"> 2785</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> = CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0);</div>
<div class="line"><a name="l02786"></a><span class="lineno"> 2786</span>&#160;      <a class="code" href="classllvm_1_1ElementCount.html">ElementCount</a> EC = cast&lt;VectorType&gt;(CI-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>())-&gt;getElementCount();</div>
<div class="line"><a name="l02787"></a><span class="lineno"> 2787</span>&#160;      <a class="code" href="classllvm_1_1Type.html">Type</a> *MaskTy = <a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#aa91241c8c54738377749dc47ee489e0d">VectorType::get</a>(Type::getInt32Ty(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>), EC);</div>
<div class="line"><a name="l02788"></a><span class="lineno"> 2788</span>&#160;      <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;int, 8&gt;</a> <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>;</div>
<div class="line"><a name="l02789"></a><span class="lineno"> 2789</span>&#160;      ShuffleVectorInst::getShuffleMask(Constant::getNullValue(MaskTy), <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>);</div>
<div class="line"><a name="l02790"></a><span class="lineno"> 2790</span>&#160;      Rep = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateShuffleVector(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>);</div>
<div class="line"><a name="l02791"></a><span class="lineno"> 2791</span>&#160; </div>
<div class="line"><a name="l02792"></a><span class="lineno"> 2792</span>&#160;      <span class="keywordflow">if</span> (CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#adde2ea00dd2613ee41bfe91908e4e68e">arg_size</a>() == 3)</div>
<div class="line"><a name="l02793"></a><span class="lineno"> 2793</span>&#160;        Rep = <a class="code" href="AutoUpgrade_8cpp.html#a8184e757708d747af9b314cdfe238b2c">EmitX86Select</a>(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(2), Rep,</div>
<div class="line"><a name="l02794"></a><span class="lineno"> 2794</span>&#160;                            CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1));</div>
<div class="line"><a name="l02795"></a><span class="lineno"> 2795</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsX86 &amp;&amp; (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;sse2.padds.&quot;</span>) ||</div>
<div class="line"><a name="l02796"></a><span class="lineno"> 2796</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx2.padds.&quot;</span>) ||</div>
<div class="line"><a name="l02797"></a><span class="lineno"> 2797</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.padds.&quot;</span>) ||</div>
<div class="line"><a name="l02798"></a><span class="lineno"> 2798</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.mask.padds.&quot;</span>))) {</div>
<div class="line"><a name="l02799"></a><span class="lineno"> 2799</span>&#160;      Rep = <a class="code" href="AutoUpgrade_8cpp.html#ab9b8f71727ce7537929fb2c0901afe2e">UpgradeX86BinaryIntrinsics</a>(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, *CI, Intrinsic::sadd_sat);</div>
<div class="line"><a name="l02800"></a><span class="lineno"> 2800</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsX86 &amp;&amp; (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;sse2.psubs.&quot;</span>) ||</div>
<div class="line"><a name="l02801"></a><span class="lineno"> 2801</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx2.psubs.&quot;</span>) ||</div>
<div class="line"><a name="l02802"></a><span class="lineno"> 2802</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.psubs.&quot;</span>) ||</div>
<div class="line"><a name="l02803"></a><span class="lineno"> 2803</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.mask.psubs.&quot;</span>))) {</div>
<div class="line"><a name="l02804"></a><span class="lineno"> 2804</span>&#160;      Rep = <a class="code" href="AutoUpgrade_8cpp.html#ab9b8f71727ce7537929fb2c0901afe2e">UpgradeX86BinaryIntrinsics</a>(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, *CI, Intrinsic::ssub_sat);</div>
<div class="line"><a name="l02805"></a><span class="lineno"> 2805</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsX86 &amp;&amp; (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;sse2.paddus.&quot;</span>) ||</div>
<div class="line"><a name="l02806"></a><span class="lineno"> 2806</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx2.paddus.&quot;</span>) ||</div>
<div class="line"><a name="l02807"></a><span class="lineno"> 2807</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.mask.paddus.&quot;</span>))) {</div>
<div class="line"><a name="l02808"></a><span class="lineno"> 2808</span>&#160;      Rep = <a class="code" href="AutoUpgrade_8cpp.html#ab9b8f71727ce7537929fb2c0901afe2e">UpgradeX86BinaryIntrinsics</a>(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, *CI, Intrinsic::uadd_sat);</div>
<div class="line"><a name="l02809"></a><span class="lineno"> 2809</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsX86 &amp;&amp; (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;sse2.psubus.&quot;</span>) ||</div>
<div class="line"><a name="l02810"></a><span class="lineno"> 2810</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx2.psubus.&quot;</span>) ||</div>
<div class="line"><a name="l02811"></a><span class="lineno"> 2811</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.mask.psubus.&quot;</span>))) {</div>
<div class="line"><a name="l02812"></a><span class="lineno"> 2812</span>&#160;      Rep = <a class="code" href="AutoUpgrade_8cpp.html#ab9b8f71727ce7537929fb2c0901afe2e">UpgradeX86BinaryIntrinsics</a>(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, *CI, Intrinsic::usub_sat);</div>
<div class="line"><a name="l02813"></a><span class="lineno"> 2813</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsX86 &amp;&amp; <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.mask.palignr.&quot;</span>)) {</div>
<div class="line"><a name="l02814"></a><span class="lineno"> 2814</span>&#160;      Rep = <a class="code" href="AutoUpgrade_8cpp.html#a33838167472af973190c867098e7bc49">UpgradeX86ALIGNIntrinsics</a>(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0),</div>
<div class="line"><a name="l02815"></a><span class="lineno"> 2815</span>&#160;                                      CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1),</div>
<div class="line"><a name="l02816"></a><span class="lineno"> 2816</span>&#160;                                      CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(2),</div>
<div class="line"><a name="l02817"></a><span class="lineno"> 2817</span>&#160;                                      CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(3),</div>
<div class="line"><a name="l02818"></a><span class="lineno"> 2818</span>&#160;                                      CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(4),</div>
<div class="line"><a name="l02819"></a><span class="lineno"> 2819</span>&#160;                                      <span class="keyword">false</span>);</div>
<div class="line"><a name="l02820"></a><span class="lineno"> 2820</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsX86 &amp;&amp; <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.mask.valign.&quot;</span>)) {</div>
<div class="line"><a name="l02821"></a><span class="lineno"> 2821</span>&#160;      Rep = <a class="code" href="AutoUpgrade_8cpp.html#a33838167472af973190c867098e7bc49">UpgradeX86ALIGNIntrinsics</a>(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0),</div>
<div class="line"><a name="l02822"></a><span class="lineno"> 2822</span>&#160;                                      CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1),</div>
<div class="line"><a name="l02823"></a><span class="lineno"> 2823</span>&#160;                                      CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(2),</div>
<div class="line"><a name="l02824"></a><span class="lineno"> 2824</span>&#160;                                      CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(3),</div>
<div class="line"><a name="l02825"></a><span class="lineno"> 2825</span>&#160;                                      CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(4),</div>
<div class="line"><a name="l02826"></a><span class="lineno"> 2826</span>&#160;                                      <span class="keyword">true</span>);</div>
<div class="line"><a name="l02827"></a><span class="lineno"> 2827</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsX86 &amp;&amp; (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> == <span class="stringliteral">&quot;sse2.psll.dq&quot;</span> ||</div>
<div class="line"><a name="l02828"></a><span class="lineno"> 2828</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> == <span class="stringliteral">&quot;avx2.psll.dq&quot;</span>)) {</div>
<div class="line"><a name="l02829"></a><span class="lineno"> 2829</span>&#160;      <span class="comment">// 128/256-bit shift left specified in bits.</span></div>
<div class="line"><a name="l02830"></a><span class="lineno"> 2830</span>&#160;      <span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#a8db36c82f32d6f6a4d35a00e55be03a8">Shift</a> = cast&lt;ConstantInt&gt;(CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1))-&gt;getZExtValue();</div>
<div class="line"><a name="l02831"></a><span class="lineno"> 2831</span>&#160;      Rep = <a class="code" href="AutoUpgrade_8cpp.html#aee37db83318739047aa85bf8775cbf47">UpgradeX86PSLLDQIntrinsics</a>(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0),</div>
<div class="line"><a name="l02832"></a><span class="lineno"> 2832</span>&#160;                                       <a class="code" href="lib_2Target_2README_8txt.html#a8db36c82f32d6f6a4d35a00e55be03a8">Shift</a> / 8); <span class="comment">// Shift is in bits.</span></div>
<div class="line"><a name="l02833"></a><span class="lineno"> 2833</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsX86 &amp;&amp; (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> == <span class="stringliteral">&quot;sse2.psrl.dq&quot;</span> ||</div>
<div class="line"><a name="l02834"></a><span class="lineno"> 2834</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> == <span class="stringliteral">&quot;avx2.psrl.dq&quot;</span>)) {</div>
<div class="line"><a name="l02835"></a><span class="lineno"> 2835</span>&#160;      <span class="comment">// 128/256-bit shift right specified in bits.</span></div>
<div class="line"><a name="l02836"></a><span class="lineno"> 2836</span>&#160;      <span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#a8db36c82f32d6f6a4d35a00e55be03a8">Shift</a> = cast&lt;ConstantInt&gt;(CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1))-&gt;getZExtValue();</div>
<div class="line"><a name="l02837"></a><span class="lineno"> 2837</span>&#160;      Rep = <a class="code" href="AutoUpgrade_8cpp.html#abdb3bd0d46fe91dd59fdb7ec81044d17">UpgradeX86PSRLDQIntrinsics</a>(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0),</div>
<div class="line"><a name="l02838"></a><span class="lineno"> 2838</span>&#160;                                       <a class="code" href="lib_2Target_2README_8txt.html#a8db36c82f32d6f6a4d35a00e55be03a8">Shift</a> / 8); <span class="comment">// Shift is in bits.</span></div>
<div class="line"><a name="l02839"></a><span class="lineno"> 2839</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsX86 &amp;&amp; (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> == <span class="stringliteral">&quot;sse2.psll.dq.bs&quot;</span> ||</div>
<div class="line"><a name="l02840"></a><span class="lineno"> 2840</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> == <span class="stringliteral">&quot;avx2.psll.dq.bs&quot;</span> ||</div>
<div class="line"><a name="l02841"></a><span class="lineno"> 2841</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> == <span class="stringliteral">&quot;avx512.psll.dq.512&quot;</span>)) {</div>
<div class="line"><a name="l02842"></a><span class="lineno"> 2842</span>&#160;      <span class="comment">// 128/256/512-bit shift left specified in bytes.</span></div>
<div class="line"><a name="l02843"></a><span class="lineno"> 2843</span>&#160;      <span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#a8db36c82f32d6f6a4d35a00e55be03a8">Shift</a> = cast&lt;ConstantInt&gt;(CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1))-&gt;getZExtValue();</div>
<div class="line"><a name="l02844"></a><span class="lineno"> 2844</span>&#160;      Rep = <a class="code" href="AutoUpgrade_8cpp.html#aee37db83318739047aa85bf8775cbf47">UpgradeX86PSLLDQIntrinsics</a>(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0), <a class="code" href="lib_2Target_2README_8txt.html#a8db36c82f32d6f6a4d35a00e55be03a8">Shift</a>);</div>
<div class="line"><a name="l02845"></a><span class="lineno"> 2845</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsX86 &amp;&amp; (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> == <span class="stringliteral">&quot;sse2.psrl.dq.bs&quot;</span> ||</div>
<div class="line"><a name="l02846"></a><span class="lineno"> 2846</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> == <span class="stringliteral">&quot;avx2.psrl.dq.bs&quot;</span> ||</div>
<div class="line"><a name="l02847"></a><span class="lineno"> 2847</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> == <span class="stringliteral">&quot;avx512.psrl.dq.512&quot;</span>)) {</div>
<div class="line"><a name="l02848"></a><span class="lineno"> 2848</span>&#160;      <span class="comment">// 128/256/512-bit shift right specified in bytes.</span></div>
<div class="line"><a name="l02849"></a><span class="lineno"> 2849</span>&#160;      <span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#a8db36c82f32d6f6a4d35a00e55be03a8">Shift</a> = cast&lt;ConstantInt&gt;(CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1))-&gt;getZExtValue();</div>
<div class="line"><a name="l02850"></a><span class="lineno"> 2850</span>&#160;      Rep = <a class="code" href="AutoUpgrade_8cpp.html#abdb3bd0d46fe91dd59fdb7ec81044d17">UpgradeX86PSRLDQIntrinsics</a>(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0), <a class="code" href="lib_2Target_2README_8txt.html#a8db36c82f32d6f6a4d35a00e55be03a8">Shift</a>);</div>
<div class="line"><a name="l02851"></a><span class="lineno"> 2851</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsX86 &amp;&amp; (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> == <span class="stringliteral">&quot;sse41.pblendw&quot;</span> ||</div>
<div class="line"><a name="l02852"></a><span class="lineno"> 2852</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;sse41.blendp&quot;</span>) ||</div>
<div class="line"><a name="l02853"></a><span class="lineno"> 2853</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx.blend.p&quot;</span>) ||</div>
<div class="line"><a name="l02854"></a><span class="lineno"> 2854</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> == <span class="stringliteral">&quot;avx2.pblendw&quot;</span> ||</div>
<div class="line"><a name="l02855"></a><span class="lineno"> 2855</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx2.pblendd.&quot;</span>))) {</div>
<div class="line"><a name="l02856"></a><span class="lineno"> 2856</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *Op0 = CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0);</div>
<div class="line"><a name="l02857"></a><span class="lineno"> 2857</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *Op1 = CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1);</div>
<div class="line"><a name="l02858"></a><span class="lineno"> 2858</span>&#160;      <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> = cast &lt;ConstantInt&gt;(CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(2))-&gt;getZExtValue();</div>
<div class="line"><a name="l02859"></a><span class="lineno"> 2859</span>&#160;      <span class="keyword">auto</span> *VecTy = cast&lt;FixedVectorType&gt;(CI-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l02860"></a><span class="lineno"> 2860</span>&#160;      <span class="keywordtype">unsigned</span> NumElts = VecTy-&gt;getNumElements();</div>
<div class="line"><a name="l02861"></a><span class="lineno"> 2861</span>&#160; </div>
<div class="line"><a name="l02862"></a><span class="lineno"> 2862</span>&#160;      <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;int, 16&gt;</a> Idxs(NumElts);</div>
<div class="line"><a name="l02863"></a><span class="lineno"> 2863</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != NumElts; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><a name="l02864"></a><span class="lineno"> 2864</span>&#160;        Idxs[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>] = ((<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> &gt;&gt; (<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>%8)) &amp; 1) ? <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> + NumElts : <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l02865"></a><span class="lineno"> 2865</span>&#160; </div>
<div class="line"><a name="l02866"></a><span class="lineno"> 2866</span>&#160;      Rep = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateShuffleVector(Op0, Op1, Idxs);</div>
<div class="line"><a name="l02867"></a><span class="lineno"> 2867</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsX86 &amp;&amp; (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx.vinsertf128.&quot;</span>) ||</div>
<div class="line"><a name="l02868"></a><span class="lineno"> 2868</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> == <span class="stringliteral">&quot;avx2.vinserti128&quot;</span> ||</div>
<div class="line"><a name="l02869"></a><span class="lineno"> 2869</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.mask.insert&quot;</span>))) {</div>
<div class="line"><a name="l02870"></a><span class="lineno"> 2870</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *Op0 = CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0);</div>
<div class="line"><a name="l02871"></a><span class="lineno"> 2871</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *Op1 = CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1);</div>
<div class="line"><a name="l02872"></a><span class="lineno"> 2872</span>&#160;      <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> = cast&lt;ConstantInt&gt;(CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(2))-&gt;getZExtValue();</div>
<div class="line"><a name="l02873"></a><span class="lineno"> 2873</span>&#160;      <span class="keywordtype">unsigned</span> DstNumElts =</div>
<div class="line"><a name="l02874"></a><span class="lineno"> 2874</span>&#160;          cast&lt;FixedVectorType&gt;(CI-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>())-&gt;getNumElements();</div>
<div class="line"><a name="l02875"></a><span class="lineno"> 2875</span>&#160;      <span class="keywordtype">unsigned</span> SrcNumElts =</div>
<div class="line"><a name="l02876"></a><span class="lineno"> 2876</span>&#160;          cast&lt;FixedVectorType&gt;(Op1-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>())-&gt;getNumElements();</div>
<div class="line"><a name="l02877"></a><span class="lineno"> 2877</span>&#160;      <span class="keywordtype">unsigned</span> Scale = DstNumElts / SrcNumElts;</div>
<div class="line"><a name="l02878"></a><span class="lineno"> 2878</span>&#160; </div>
<div class="line"><a name="l02879"></a><span class="lineno"> 2879</span>&#160;      <span class="comment">// Mask off the high bits of the immediate value; hardware ignores those.</span></div>
<div class="line"><a name="l02880"></a><span class="lineno"> 2880</span>&#160;      <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> = <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> % Scale;</div>
<div class="line"><a name="l02881"></a><span class="lineno"> 2881</span>&#160; </div>
<div class="line"><a name="l02882"></a><span class="lineno"> 2882</span>&#160;      <span class="comment">// Extend the second operand into a vector the size of the destination.</span></div>
<div class="line"><a name="l02883"></a><span class="lineno"> 2883</span>&#160;      <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;int, 8&gt;</a> Idxs(DstNumElts);</div>
<div class="line"><a name="l02884"></a><span class="lineno"> 2884</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != SrcNumElts; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><a name="l02885"></a><span class="lineno"> 2885</span>&#160;        Idxs[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l02886"></a><span class="lineno"> 2886</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = SrcNumElts; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != DstNumElts; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><a name="l02887"></a><span class="lineno"> 2887</span>&#160;        Idxs[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>] = SrcNumElts;</div>
<div class="line"><a name="l02888"></a><span class="lineno"> 2888</span>&#160;      Rep = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateShuffleVector(Op1, Idxs);</div>
<div class="line"><a name="l02889"></a><span class="lineno"> 2889</span>&#160; </div>
<div class="line"><a name="l02890"></a><span class="lineno"> 2890</span>&#160;      <span class="comment">// Insert the second operand into the first operand.</span></div>
<div class="line"><a name="l02891"></a><span class="lineno"> 2891</span>&#160; </div>
<div class="line"><a name="l02892"></a><span class="lineno"> 2892</span>&#160;      <span class="comment">// Note that there is no guarantee that instruction lowering will actually</span></div>
<div class="line"><a name="l02893"></a><span class="lineno"> 2893</span>&#160;      <span class="comment">// produce a vinsertf128 instruction for the created shuffles. In</span></div>
<div class="line"><a name="l02894"></a><span class="lineno"> 2894</span>&#160;      <span class="comment">// particular, the 0 immediate case involves no lane changes, so it can</span></div>
<div class="line"><a name="l02895"></a><span class="lineno"> 2895</span>&#160;      <span class="comment">// be handled as a blend.</span></div>
<div class="line"><a name="l02896"></a><span class="lineno"> 2896</span>&#160; </div>
<div class="line"><a name="l02897"></a><span class="lineno"> 2897</span>&#160;      <span class="comment">// Example of shuffle mask for 32-bit elements:</span></div>
<div class="line"><a name="l02898"></a><span class="lineno"> 2898</span>&#160;      <span class="comment">// Imm = 1  &lt;i32 0, i32 1, i32 2,  i32 3,  i32 8, i32 9, i32 10, i32 11&gt;</span></div>
<div class="line"><a name="l02899"></a><span class="lineno"> 2899</span>&#160;      <span class="comment">// Imm = 0  &lt;i32 8, i32 9, i32 10, i32 11, i32 4, i32 5, i32 6,  i32 7 &gt;</span></div>
<div class="line"><a name="l02900"></a><span class="lineno"> 2900</span>&#160; </div>
<div class="line"><a name="l02901"></a><span class="lineno"> 2901</span>&#160;      <span class="comment">// First fill with identify mask.</span></div>
<div class="line"><a name="l02902"></a><span class="lineno"> 2902</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != DstNumElts; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><a name="l02903"></a><span class="lineno"> 2903</span>&#160;        Idxs[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l02904"></a><span class="lineno"> 2904</span>&#160;      <span class="comment">// Then replace the elements where we need to insert.</span></div>
<div class="line"><a name="l02905"></a><span class="lineno"> 2905</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != SrcNumElts; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><a name="l02906"></a><span class="lineno"> 2906</span>&#160;        Idxs[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> + <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> * SrcNumElts] = <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> + DstNumElts;</div>
<div class="line"><a name="l02907"></a><span class="lineno"> 2907</span>&#160;      Rep = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateShuffleVector(Op0, Rep, Idxs);</div>
<div class="line"><a name="l02908"></a><span class="lineno"> 2908</span>&#160; </div>
<div class="line"><a name="l02909"></a><span class="lineno"> 2909</span>&#160;      <span class="comment">// If the intrinsic has a mask operand, handle that.</span></div>
<div class="line"><a name="l02910"></a><span class="lineno"> 2910</span>&#160;      <span class="keywordflow">if</span> (CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#adde2ea00dd2613ee41bfe91908e4e68e">arg_size</a>() == 5)</div>
<div class="line"><a name="l02911"></a><span class="lineno"> 2911</span>&#160;        Rep = <a class="code" href="AutoUpgrade_8cpp.html#a8184e757708d747af9b314cdfe238b2c">EmitX86Select</a>(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(4), Rep,</div>
<div class="line"><a name="l02912"></a><span class="lineno"> 2912</span>&#160;                            CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(3));</div>
<div class="line"><a name="l02913"></a><span class="lineno"> 2913</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsX86 &amp;&amp; (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx.vextractf128.&quot;</span>) ||</div>
<div class="line"><a name="l02914"></a><span class="lineno"> 2914</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> == <span class="stringliteral">&quot;avx2.vextracti128&quot;</span> ||</div>
<div class="line"><a name="l02915"></a><span class="lineno"> 2915</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.mask.vextract&quot;</span>))) {</div>
<div class="line"><a name="l02916"></a><span class="lineno"> 2916</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *Op0 = CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0);</div>
<div class="line"><a name="l02917"></a><span class="lineno"> 2917</span>&#160;      <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> = cast&lt;ConstantInt&gt;(CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1))-&gt;getZExtValue();</div>
<div class="line"><a name="l02918"></a><span class="lineno"> 2918</span>&#160;      <span class="keywordtype">unsigned</span> DstNumElts =</div>
<div class="line"><a name="l02919"></a><span class="lineno"> 2919</span>&#160;          cast&lt;FixedVectorType&gt;(CI-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>())-&gt;getNumElements();</div>
<div class="line"><a name="l02920"></a><span class="lineno"> 2920</span>&#160;      <span class="keywordtype">unsigned</span> SrcNumElts =</div>
<div class="line"><a name="l02921"></a><span class="lineno"> 2921</span>&#160;          cast&lt;FixedVectorType&gt;(Op0-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>())-&gt;getNumElements();</div>
<div class="line"><a name="l02922"></a><span class="lineno"> 2922</span>&#160;      <span class="keywordtype">unsigned</span> Scale = SrcNumElts / DstNumElts;</div>
<div class="line"><a name="l02923"></a><span class="lineno"> 2923</span>&#160; </div>
<div class="line"><a name="l02924"></a><span class="lineno"> 2924</span>&#160;      <span class="comment">// Mask off the high bits of the immediate value; hardware ignores those.</span></div>
<div class="line"><a name="l02925"></a><span class="lineno"> 2925</span>&#160;      <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> = <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> % Scale;</div>
<div class="line"><a name="l02926"></a><span class="lineno"> 2926</span>&#160; </div>
<div class="line"><a name="l02927"></a><span class="lineno"> 2927</span>&#160;      <span class="comment">// Get indexes for the subvector of the input vector.</span></div>
<div class="line"><a name="l02928"></a><span class="lineno"> 2928</span>&#160;      <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;int, 8&gt;</a> Idxs(DstNumElts);</div>
<div class="line"><a name="l02929"></a><span class="lineno"> 2929</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != DstNumElts; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l02930"></a><span class="lineno"> 2930</span>&#160;        Idxs[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> + (<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> * DstNumElts);</div>
<div class="line"><a name="l02931"></a><span class="lineno"> 2931</span>&#160;      }</div>
<div class="line"><a name="l02932"></a><span class="lineno"> 2932</span>&#160;      Rep = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateShuffleVector(Op0, Op0, Idxs);</div>
<div class="line"><a name="l02933"></a><span class="lineno"> 2933</span>&#160; </div>
<div class="line"><a name="l02934"></a><span class="lineno"> 2934</span>&#160;      <span class="comment">// If the intrinsic has a mask operand, handle that.</span></div>
<div class="line"><a name="l02935"></a><span class="lineno"> 2935</span>&#160;      <span class="keywordflow">if</span> (CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#adde2ea00dd2613ee41bfe91908e4e68e">arg_size</a>() == 4)</div>
<div class="line"><a name="l02936"></a><span class="lineno"> 2936</span>&#160;        Rep = <a class="code" href="AutoUpgrade_8cpp.html#a8184e757708d747af9b314cdfe238b2c">EmitX86Select</a>(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(3), Rep,</div>
<div class="line"><a name="l02937"></a><span class="lineno"> 2937</span>&#160;                            CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(2));</div>
<div class="line"><a name="l02938"></a><span class="lineno"> 2938</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!IsX86 &amp;&amp; <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> == <span class="stringliteral">&quot;stackprotectorcheck&quot;</span>) {</div>
<div class="line"><a name="l02939"></a><span class="lineno"> 2939</span>&#160;      Rep = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02940"></a><span class="lineno"> 2940</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsX86 &amp;&amp; (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.mask.perm.df.&quot;</span>) ||</div>
<div class="line"><a name="l02941"></a><span class="lineno"> 2941</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.mask.perm.di.&quot;</span>))) {</div>
<div class="line"><a name="l02942"></a><span class="lineno"> 2942</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *Op0 = CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0);</div>
<div class="line"><a name="l02943"></a><span class="lineno"> 2943</span>&#160;      <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> = cast&lt;ConstantInt&gt;(CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1))-&gt;getZExtValue();</div>
<div class="line"><a name="l02944"></a><span class="lineno"> 2944</span>&#160;      <span class="keyword">auto</span> *VecTy = cast&lt;FixedVectorType&gt;(CI-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l02945"></a><span class="lineno"> 2945</span>&#160;      <span class="keywordtype">unsigned</span> NumElts = VecTy-&gt;getNumElements();</div>
<div class="line"><a name="l02946"></a><span class="lineno"> 2946</span>&#160; </div>
<div class="line"><a name="l02947"></a><span class="lineno"> 2947</span>&#160;      <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;int, 8&gt;</a> Idxs(NumElts);</div>
<div class="line"><a name="l02948"></a><span class="lineno"> 2948</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != NumElts; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><a name="l02949"></a><span class="lineno"> 2949</span>&#160;        Idxs[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>] = (<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> &amp; ~0<a class="code" href="README-SSE_8txt.html#a11ca92463dc5dfc09bbe2ba2f3ea0c96">x3</a>) + ((<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> &gt;&gt; (2 * (<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> &amp; 0x3))) &amp; 3);</div>
<div class="line"><a name="l02950"></a><span class="lineno"> 2950</span>&#160; </div>
<div class="line"><a name="l02951"></a><span class="lineno"> 2951</span>&#160;      Rep = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateShuffleVector(Op0, Op0, Idxs);</div>
<div class="line"><a name="l02952"></a><span class="lineno"> 2952</span>&#160; </div>
<div class="line"><a name="l02953"></a><span class="lineno"> 2953</span>&#160;      <span class="keywordflow">if</span> (CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#adde2ea00dd2613ee41bfe91908e4e68e">arg_size</a>() == 4)</div>
<div class="line"><a name="l02954"></a><span class="lineno"> 2954</span>&#160;        Rep = <a class="code" href="AutoUpgrade_8cpp.html#a8184e757708d747af9b314cdfe238b2c">EmitX86Select</a>(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(3), Rep,</div>
<div class="line"><a name="l02955"></a><span class="lineno"> 2955</span>&#160;                            CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(2));</div>
<div class="line"><a name="l02956"></a><span class="lineno"> 2956</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsX86 &amp;&amp; (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx.vperm2f128.&quot;</span>) ||</div>
<div class="line"><a name="l02957"></a><span class="lineno"> 2957</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> == <span class="stringliteral">&quot;avx2.vperm2i128&quot;</span>)) {</div>
<div class="line"><a name="l02958"></a><span class="lineno"> 2958</span>&#160;      <span class="comment">// The immediate permute control byte looks like this:</span></div>
<div class="line"><a name="l02959"></a><span class="lineno"> 2959</span>&#160;      <span class="comment">//    [1:0] - select 128 bits from sources for low half of destination</span></div>
<div class="line"><a name="l02960"></a><span class="lineno"> 2960</span>&#160;      <span class="comment">//    [2]   - ignore</span></div>
<div class="line"><a name="l02961"></a><span class="lineno"> 2961</span>&#160;      <span class="comment">//    [3]   - zero low half of destination</span></div>
<div class="line"><a name="l02962"></a><span class="lineno"> 2962</span>&#160;      <span class="comment">//    [5:4] - select 128 bits from sources for high half of destination</span></div>
<div class="line"><a name="l02963"></a><span class="lineno"> 2963</span>&#160;      <span class="comment">//    [6]   - ignore</span></div>
<div class="line"><a name="l02964"></a><span class="lineno"> 2964</span>&#160;      <span class="comment">//    [7]   - zero high half of destination</span></div>
<div class="line"><a name="l02965"></a><span class="lineno"> 2965</span>&#160; </div>
<div class="line"><a name="l02966"></a><span class="lineno"> 2966</span>&#160;      uint8_t <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> = cast&lt;ConstantInt&gt;(CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(2))-&gt;getZExtValue();</div>
<div class="line"><a name="l02967"></a><span class="lineno"> 2967</span>&#160; </div>
<div class="line"><a name="l02968"></a><span class="lineno"> 2968</span>&#160;      <span class="keywordtype">unsigned</span> NumElts = cast&lt;FixedVectorType&gt;(CI-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>())-&gt;getNumElements();</div>
<div class="line"><a name="l02969"></a><span class="lineno"> 2969</span>&#160;      <span class="keywordtype">unsigned</span> HalfSize = NumElts / 2;</div>
<div class="line"><a name="l02970"></a><span class="lineno"> 2970</span>&#160;      <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;int, 8&gt;</a> ShuffleMask(NumElts);</div>
<div class="line"><a name="l02971"></a><span class="lineno"> 2971</span>&#160; </div>
<div class="line"><a name="l02972"></a><span class="lineno"> 2972</span>&#160;      <span class="comment">// Determine which operand(s) are actually in use for this instruction.</span></div>
<div class="line"><a name="l02973"></a><span class="lineno"> 2973</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *V0 = (<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> &amp; 0x02) ? CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1) : CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0);</div>
<div class="line"><a name="l02974"></a><span class="lineno"> 2974</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *V1 = (<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> &amp; 0x20) ? CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1) : CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0);</div>
<div class="line"><a name="l02975"></a><span class="lineno"> 2975</span>&#160; </div>
<div class="line"><a name="l02976"></a><span class="lineno"> 2976</span>&#160;      <span class="comment">// If needed, replace operands based on zero mask.</span></div>
<div class="line"><a name="l02977"></a><span class="lineno"> 2977</span>&#160;      V0 = (<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> &amp; 0x08) ? <a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#aa91241c8c54738377749dc47ee489e0d">ConstantAggregateZero::get</a>(CI-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()) : V0;</div>
<div class="line"><a name="l02978"></a><span class="lineno"> 2978</span>&#160;      V1 = (<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> &amp; 0x80) ? <a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#aa91241c8c54738377749dc47ee489e0d">ConstantAggregateZero::get</a>(CI-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()) : V1;</div>
<div class="line"><a name="l02979"></a><span class="lineno"> 2979</span>&#160; </div>
<div class="line"><a name="l02980"></a><span class="lineno"> 2980</span>&#160;      <span class="comment">// Permute low half of result.</span></div>
<div class="line"><a name="l02981"></a><span class="lineno"> 2981</span>&#160;      <span class="keywordtype">unsigned</span> StartIndex = (<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> &amp; 0x01) ? HalfSize : 0;</div>
<div class="line"><a name="l02982"></a><span class="lineno"> 2982</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; HalfSize; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><a name="l02983"></a><span class="lineno"> 2983</span>&#160;        ShuffleMask[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>] = StartIndex + <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l02984"></a><span class="lineno"> 2984</span>&#160; </div>
<div class="line"><a name="l02985"></a><span class="lineno"> 2985</span>&#160;      <span class="comment">// Permute high half of result.</span></div>
<div class="line"><a name="l02986"></a><span class="lineno"> 2986</span>&#160;      StartIndex = (<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> &amp; 0x10) ? HalfSize : 0;</div>
<div class="line"><a name="l02987"></a><span class="lineno"> 2987</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; HalfSize; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><a name="l02988"></a><span class="lineno"> 2988</span>&#160;        ShuffleMask[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> + HalfSize] = NumElts + StartIndex + <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l02989"></a><span class="lineno"> 2989</span>&#160; </div>
<div class="line"><a name="l02990"></a><span class="lineno"> 2990</span>&#160;      Rep = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateShuffleVector(V0, V1, ShuffleMask);</div>
<div class="line"><a name="l02991"></a><span class="lineno"> 2991</span>&#160; </div>
<div class="line"><a name="l02992"></a><span class="lineno"> 2992</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsX86 &amp;&amp; (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx.vpermil.&quot;</span>) ||</div>
<div class="line"><a name="l02993"></a><span class="lineno"> 2993</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> == <span class="stringliteral">&quot;sse2.pshuf.d&quot;</span> ||</div>
<div class="line"><a name="l02994"></a><span class="lineno"> 2994</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.mask.vpermil.p&quot;</span>) ||</div>
<div class="line"><a name="l02995"></a><span class="lineno"> 2995</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.mask.pshuf.d.&quot;</span>))) {</div>
<div class="line"><a name="l02996"></a><span class="lineno"> 2996</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *Op0 = CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0);</div>
<div class="line"><a name="l02997"></a><span class="lineno"> 2997</span>&#160;      <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> = cast&lt;ConstantInt&gt;(CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1))-&gt;getZExtValue();</div>
<div class="line"><a name="l02998"></a><span class="lineno"> 2998</span>&#160;      <span class="keyword">auto</span> *VecTy = cast&lt;FixedVectorType&gt;(CI-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l02999"></a><span class="lineno"> 2999</span>&#160;      <span class="keywordtype">unsigned</span> NumElts = VecTy-&gt;getNumElements();</div>
<div class="line"><a name="l03000"></a><span class="lineno"> 3000</span>&#160;      <span class="comment">// Calculate the size of each index in the immediate.</span></div>
<div class="line"><a name="l03001"></a><span class="lineno"> 3001</span>&#160;      <span class="keywordtype">unsigned</span> IdxSize = 64 / VecTy-&gt;getScalarSizeInBits();</div>
<div class="line"><a name="l03002"></a><span class="lineno"> 3002</span>&#160;      <span class="keywordtype">unsigned</span> IdxMask = ((1 &lt;&lt; IdxSize) - 1);</div>
<div class="line"><a name="l03003"></a><span class="lineno"> 3003</span>&#160; </div>
<div class="line"><a name="l03004"></a><span class="lineno"> 3004</span>&#160;      <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;int, 8&gt;</a> Idxs(NumElts);</div>
<div class="line"><a name="l03005"></a><span class="lineno"> 3005</span>&#160;      <span class="comment">// Lookup the bits for this element, wrapping around the immediate every</span></div>
<div class="line"><a name="l03006"></a><span class="lineno"> 3006</span>&#160;      <span class="comment">// 8-bits. Elements are grouped into sets of 2 or 4 elements so we need</span></div>
<div class="line"><a name="l03007"></a><span class="lineno"> 3007</span>&#160;      <span class="comment">// to offset by the first index of each group.</span></div>
<div class="line"><a name="l03008"></a><span class="lineno"> 3008</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != NumElts; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><a name="l03009"></a><span class="lineno"> 3009</span>&#160;        Idxs[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>] = ((<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> &gt;&gt; ((<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> * IdxSize) % 8)) &amp; IdxMask) | (<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> &amp; ~IdxMask);</div>
<div class="line"><a name="l03010"></a><span class="lineno"> 3010</span>&#160; </div>
<div class="line"><a name="l03011"></a><span class="lineno"> 3011</span>&#160;      Rep = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateShuffleVector(Op0, Op0, Idxs);</div>
<div class="line"><a name="l03012"></a><span class="lineno"> 3012</span>&#160; </div>
<div class="line"><a name="l03013"></a><span class="lineno"> 3013</span>&#160;      <span class="keywordflow">if</span> (CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#adde2ea00dd2613ee41bfe91908e4e68e">arg_size</a>() == 4)</div>
<div class="line"><a name="l03014"></a><span class="lineno"> 3014</span>&#160;        Rep = <a class="code" href="AutoUpgrade_8cpp.html#a8184e757708d747af9b314cdfe238b2c">EmitX86Select</a>(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(3), Rep,</div>
<div class="line"><a name="l03015"></a><span class="lineno"> 3015</span>&#160;                            CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(2));</div>
<div class="line"><a name="l03016"></a><span class="lineno"> 3016</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsX86 &amp;&amp; (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> == <span class="stringliteral">&quot;sse2.pshufl.w&quot;</span> ||</div>
<div class="line"><a name="l03017"></a><span class="lineno"> 3017</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.mask.pshufl.w.&quot;</span>))) {</div>
<div class="line"><a name="l03018"></a><span class="lineno"> 3018</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *Op0 = CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0);</div>
<div class="line"><a name="l03019"></a><span class="lineno"> 3019</span>&#160;      <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> = cast&lt;ConstantInt&gt;(CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1))-&gt;getZExtValue();</div>
<div class="line"><a name="l03020"></a><span class="lineno"> 3020</span>&#160;      <span class="keywordtype">unsigned</span> NumElts = cast&lt;FixedVectorType&gt;(CI-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>())-&gt;getNumElements();</div>
<div class="line"><a name="l03021"></a><span class="lineno"> 3021</span>&#160; </div>
<div class="line"><a name="l03022"></a><span class="lineno"> 3022</span>&#160;      <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;int, 16&gt;</a> Idxs(NumElts);</div>
<div class="line"><a name="l03023"></a><span class="lineno"> 3023</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#ac3ac4028df71f10fda029660ef66594d">l</a> = 0; <a class="code" href="lib_2Target_2README_8txt.html#ac3ac4028df71f10fda029660ef66594d">l</a> != NumElts; <a class="code" href="lib_2Target_2README_8txt.html#ac3ac4028df71f10fda029660ef66594d">l</a> += 8) {</div>
<div class="line"><a name="l03024"></a><span class="lineno"> 3024</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != 4; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><a name="l03025"></a><span class="lineno"> 3025</span>&#160;          Idxs[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> + <a class="code" href="lib_2Target_2README_8txt.html#ac3ac4028df71f10fda029660ef66594d">l</a>] = ((<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> &gt;&gt; (2 * <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)) &amp; 0<a class="code" href="README-SSE_8txt.html#a11ca92463dc5dfc09bbe2ba2f3ea0c96">x3</a>) + <a class="code" href="lib_2Target_2README_8txt.html#ac3ac4028df71f10fda029660ef66594d">l</a>;</div>
<div class="line"><a name="l03026"></a><span class="lineno"> 3026</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 4; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != 8; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><a name="l03027"></a><span class="lineno"> 3027</span>&#160;          Idxs[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> + <a class="code" href="lib_2Target_2README_8txt.html#ac3ac4028df71f10fda029660ef66594d">l</a>] = <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> + <a class="code" href="lib_2Target_2README_8txt.html#ac3ac4028df71f10fda029660ef66594d">l</a>;</div>
<div class="line"><a name="l03028"></a><span class="lineno"> 3028</span>&#160;      }</div>
<div class="line"><a name="l03029"></a><span class="lineno"> 3029</span>&#160; </div>
<div class="line"><a name="l03030"></a><span class="lineno"> 3030</span>&#160;      Rep = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateShuffleVector(Op0, Op0, Idxs);</div>
<div class="line"><a name="l03031"></a><span class="lineno"> 3031</span>&#160; </div>
<div class="line"><a name="l03032"></a><span class="lineno"> 3032</span>&#160;      <span class="keywordflow">if</span> (CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#adde2ea00dd2613ee41bfe91908e4e68e">arg_size</a>() == 4)</div>
<div class="line"><a name="l03033"></a><span class="lineno"> 3033</span>&#160;        Rep = <a class="code" href="AutoUpgrade_8cpp.html#a8184e757708d747af9b314cdfe238b2c">EmitX86Select</a>(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(3), Rep,</div>
<div class="line"><a name="l03034"></a><span class="lineno"> 3034</span>&#160;                            CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(2));</div>
<div class="line"><a name="l03035"></a><span class="lineno"> 3035</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsX86 &amp;&amp; (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> == <span class="stringliteral">&quot;sse2.pshufh.w&quot;</span> ||</div>
<div class="line"><a name="l03036"></a><span class="lineno"> 3036</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.mask.pshufh.w.&quot;</span>))) {</div>
<div class="line"><a name="l03037"></a><span class="lineno"> 3037</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *Op0 = CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0);</div>
<div class="line"><a name="l03038"></a><span class="lineno"> 3038</span>&#160;      <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> = cast&lt;ConstantInt&gt;(CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1))-&gt;getZExtValue();</div>
<div class="line"><a name="l03039"></a><span class="lineno"> 3039</span>&#160;      <span class="keywordtype">unsigned</span> NumElts = cast&lt;FixedVectorType&gt;(CI-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>())-&gt;getNumElements();</div>
<div class="line"><a name="l03040"></a><span class="lineno"> 3040</span>&#160; </div>
<div class="line"><a name="l03041"></a><span class="lineno"> 3041</span>&#160;      <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;int, 16&gt;</a> Idxs(NumElts);</div>
<div class="line"><a name="l03042"></a><span class="lineno"> 3042</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#ac3ac4028df71f10fda029660ef66594d">l</a> = 0; <a class="code" href="lib_2Target_2README_8txt.html#ac3ac4028df71f10fda029660ef66594d">l</a> != NumElts; <a class="code" href="lib_2Target_2README_8txt.html#ac3ac4028df71f10fda029660ef66594d">l</a> += 8) {</div>
<div class="line"><a name="l03043"></a><span class="lineno"> 3043</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != 4; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><a name="l03044"></a><span class="lineno"> 3044</span>&#160;          Idxs[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> + <a class="code" href="lib_2Target_2README_8txt.html#ac3ac4028df71f10fda029660ef66594d">l</a>] = <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> + <a class="code" href="lib_2Target_2README_8txt.html#ac3ac4028df71f10fda029660ef66594d">l</a>;</div>
<div class="line"><a name="l03045"></a><span class="lineno"> 3045</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != 4; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><a name="l03046"></a><span class="lineno"> 3046</span>&#160;          Idxs[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> + <a class="code" href="lib_2Target_2README_8txt.html#ac3ac4028df71f10fda029660ef66594d">l</a> + 4] = ((<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> &gt;&gt; (2 * <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)) &amp; 0<a class="code" href="README-SSE_8txt.html#a11ca92463dc5dfc09bbe2ba2f3ea0c96">x3</a>) + 4 + <a class="code" href="lib_2Target_2README_8txt.html#ac3ac4028df71f10fda029660ef66594d">l</a>;</div>
<div class="line"><a name="l03047"></a><span class="lineno"> 3047</span>&#160;      }</div>
<div class="line"><a name="l03048"></a><span class="lineno"> 3048</span>&#160; </div>
<div class="line"><a name="l03049"></a><span class="lineno"> 3049</span>&#160;      Rep = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateShuffleVector(Op0, Op0, Idxs);</div>
<div class="line"><a name="l03050"></a><span class="lineno"> 3050</span>&#160; </div>
<div class="line"><a name="l03051"></a><span class="lineno"> 3051</span>&#160;      <span class="keywordflow">if</span> (CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#adde2ea00dd2613ee41bfe91908e4e68e">arg_size</a>() == 4)</div>
<div class="line"><a name="l03052"></a><span class="lineno"> 3052</span>&#160;        Rep = <a class="code" href="AutoUpgrade_8cpp.html#a8184e757708d747af9b314cdfe238b2c">EmitX86Select</a>(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(3), Rep,</div>
<div class="line"><a name="l03053"></a><span class="lineno"> 3053</span>&#160;                            CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(2));</div>
<div class="line"><a name="l03054"></a><span class="lineno"> 3054</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsX86 &amp;&amp; <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.mask.shuf.p&quot;</span>)) {</div>
<div class="line"><a name="l03055"></a><span class="lineno"> 3055</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *Op0 = CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0);</div>
<div class="line"><a name="l03056"></a><span class="lineno"> 3056</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *Op1 = CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1);</div>
<div class="line"><a name="l03057"></a><span class="lineno"> 3057</span>&#160;      <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> = cast&lt;ConstantInt&gt;(CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(2))-&gt;getZExtValue();</div>
<div class="line"><a name="l03058"></a><span class="lineno"> 3058</span>&#160;      <span class="keywordtype">unsigned</span> NumElts = cast&lt;FixedVectorType&gt;(CI-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>())-&gt;getNumElements();</div>
<div class="line"><a name="l03059"></a><span class="lineno"> 3059</span>&#160; </div>
<div class="line"><a name="l03060"></a><span class="lineno"> 3060</span>&#160;      <span class="keywordtype">unsigned</span> NumLaneElts = 128/CI-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a9f382207d841377156d4c7868b66b9a5">getScalarSizeInBits</a>();</div>
<div class="line"><a name="l03061"></a><span class="lineno"> 3061</span>&#160;      <span class="keywordtype">unsigned</span> HalfLaneElts = NumLaneElts / 2;</div>
<div class="line"><a name="l03062"></a><span class="lineno"> 3062</span>&#160; </div>
<div class="line"><a name="l03063"></a><span class="lineno"> 3063</span>&#160;      <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;int, 16&gt;</a> Idxs(NumElts);</div>
<div class="line"><a name="l03064"></a><span class="lineno"> 3064</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != NumElts; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l03065"></a><span class="lineno"> 3065</span>&#160;        <span class="comment">// Base index is the starting element of the lane.</span></div>
<div class="line"><a name="l03066"></a><span class="lineno"> 3066</span>&#160;        Idxs[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> - (<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> % NumLaneElts);</div>
<div class="line"><a name="l03067"></a><span class="lineno"> 3067</span>&#160;        <span class="comment">// If we are half way through the lane switch to the other source.</span></div>
<div class="line"><a name="l03068"></a><span class="lineno"> 3068</span>&#160;        <span class="keywordflow">if</span> ((<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> % NumLaneElts) &gt;= HalfLaneElts)</div>
<div class="line"><a name="l03069"></a><span class="lineno"> 3069</span>&#160;          Idxs[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>] += NumElts;</div>
<div class="line"><a name="l03070"></a><span class="lineno"> 3070</span>&#160;        <span class="comment">// Now select the specific element. By adding HalfLaneElts bits from</span></div>
<div class="line"><a name="l03071"></a><span class="lineno"> 3071</span>&#160;        <span class="comment">// the immediate. Wrapping around the immediate every 8-bits.</span></div>
<div class="line"><a name="l03072"></a><span class="lineno"> 3072</span>&#160;        Idxs[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>] += (<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> &gt;&gt; ((<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> * HalfLaneElts) % 8)) &amp; ((1 &lt;&lt; HalfLaneElts) - 1);</div>
<div class="line"><a name="l03073"></a><span class="lineno"> 3073</span>&#160;      }</div>
<div class="line"><a name="l03074"></a><span class="lineno"> 3074</span>&#160; </div>
<div class="line"><a name="l03075"></a><span class="lineno"> 3075</span>&#160;      Rep = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateShuffleVector(Op0, Op1, Idxs);</div>
<div class="line"><a name="l03076"></a><span class="lineno"> 3076</span>&#160; </div>
<div class="line"><a name="l03077"></a><span class="lineno"> 3077</span>&#160;      Rep = <a class="code" href="AutoUpgrade_8cpp.html#a8184e757708d747af9b314cdfe238b2c">EmitX86Select</a>(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(4), Rep,</div>
<div class="line"><a name="l03078"></a><span class="lineno"> 3078</span>&#160;                          CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(3));</div>
<div class="line"><a name="l03079"></a><span class="lineno"> 3079</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsX86 &amp;&amp; (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.mask.movddup&quot;</span>) ||</div>
<div class="line"><a name="l03080"></a><span class="lineno"> 3080</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.mask.movshdup&quot;</span>) ||</div>
<div class="line"><a name="l03081"></a><span class="lineno"> 3081</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.mask.movsldup&quot;</span>))) {</div>
<div class="line"><a name="l03082"></a><span class="lineno"> 3082</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *Op0 = CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0);</div>
<div class="line"><a name="l03083"></a><span class="lineno"> 3083</span>&#160;      <span class="keywordtype">unsigned</span> NumElts = cast&lt;FixedVectorType&gt;(CI-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>())-&gt;getNumElements();</div>
<div class="line"><a name="l03084"></a><span class="lineno"> 3084</span>&#160;      <span class="keywordtype">unsigned</span> NumLaneElts = 128/CI-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a9f382207d841377156d4c7868b66b9a5">getScalarSizeInBits</a>();</div>
<div class="line"><a name="l03085"></a><span class="lineno"> 3085</span>&#160; </div>
<div class="line"><a name="l03086"></a><span class="lineno"> 3086</span>&#160;      <span class="keywordtype">unsigned</span> <a class="code" href="ELFObjHandler_8cpp.html#a250e66aa31a03567cc345ca1bc463b8c">Offset</a> = 0;</div>
<div class="line"><a name="l03087"></a><span class="lineno"> 3087</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.mask.movshdup.&quot;</span>))</div>
<div class="line"><a name="l03088"></a><span class="lineno"> 3088</span>&#160;        <a class="code" href="ELFObjHandler_8cpp.html#a250e66aa31a03567cc345ca1bc463b8c">Offset</a> = 1;</div>
<div class="line"><a name="l03089"></a><span class="lineno"> 3089</span>&#160; </div>
<div class="line"><a name="l03090"></a><span class="lineno"> 3090</span>&#160;      <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;int, 16&gt;</a> Idxs(NumElts);</div>
<div class="line"><a name="l03091"></a><span class="lineno"> 3091</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#ac3ac4028df71f10fda029660ef66594d">l</a> = 0; <a class="code" href="lib_2Target_2README_8txt.html#ac3ac4028df71f10fda029660ef66594d">l</a> != NumElts; <a class="code" href="lib_2Target_2README_8txt.html#ac3ac4028df71f10fda029660ef66594d">l</a> += NumLaneElts)</div>
<div class="line"><a name="l03092"></a><span class="lineno"> 3092</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != NumLaneElts; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> += 2) {</div>
<div class="line"><a name="l03093"></a><span class="lineno"> 3093</span>&#160;          Idxs[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> + <a class="code" href="lib_2Target_2README_8txt.html#ac3ac4028df71f10fda029660ef66594d">l</a> + 0] = <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> + <a class="code" href="lib_2Target_2README_8txt.html#ac3ac4028df71f10fda029660ef66594d">l</a> + <a class="code" href="ELFObjHandler_8cpp.html#a250e66aa31a03567cc345ca1bc463b8c">Offset</a>;</div>
<div class="line"><a name="l03094"></a><span class="lineno"> 3094</span>&#160;          Idxs[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> + <a class="code" href="lib_2Target_2README_8txt.html#ac3ac4028df71f10fda029660ef66594d">l</a> + 1] = <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> + <a class="code" href="lib_2Target_2README_8txt.html#ac3ac4028df71f10fda029660ef66594d">l</a> + <a class="code" href="ELFObjHandler_8cpp.html#a250e66aa31a03567cc345ca1bc463b8c">Offset</a>;</div>
<div class="line"><a name="l03095"></a><span class="lineno"> 3095</span>&#160;        }</div>
<div class="line"><a name="l03096"></a><span class="lineno"> 3096</span>&#160; </div>
<div class="line"><a name="l03097"></a><span class="lineno"> 3097</span>&#160;      Rep = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateShuffleVector(Op0, Op0, Idxs);</div>
<div class="line"><a name="l03098"></a><span class="lineno"> 3098</span>&#160; </div>
<div class="line"><a name="l03099"></a><span class="lineno"> 3099</span>&#160;      Rep = <a class="code" href="AutoUpgrade_8cpp.html#a8184e757708d747af9b314cdfe238b2c">EmitX86Select</a>(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(2), Rep,</div>
<div class="line"><a name="l03100"></a><span class="lineno"> 3100</span>&#160;                          CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1));</div>
<div class="line"><a name="l03101"></a><span class="lineno"> 3101</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsX86 &amp;&amp; (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.mask.punpckl&quot;</span>) ||</div>
<div class="line"><a name="l03102"></a><span class="lineno"> 3102</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.mask.unpckl.&quot;</span>))) {</div>
<div class="line"><a name="l03103"></a><span class="lineno"> 3103</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *Op0 = CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0);</div>
<div class="line"><a name="l03104"></a><span class="lineno"> 3104</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *Op1 = CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1);</div>
<div class="line"><a name="l03105"></a><span class="lineno"> 3105</span>&#160;      <span class="keywordtype">int</span> NumElts = cast&lt;FixedVectorType&gt;(CI-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>())-&gt;getNumElements();</div>
<div class="line"><a name="l03106"></a><span class="lineno"> 3106</span>&#160;      <span class="keywordtype">int</span> NumLaneElts = 128/CI-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a9f382207d841377156d4c7868b66b9a5">getScalarSizeInBits</a>();</div>
<div class="line"><a name="l03107"></a><span class="lineno"> 3107</span>&#160; </div>
<div class="line"><a name="l03108"></a><span class="lineno"> 3108</span>&#160;      <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;int, 64&gt;</a> Idxs(NumElts);</div>
<div class="line"><a name="l03109"></a><span class="lineno"> 3109</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="lib_2Target_2README_8txt.html#ac3ac4028df71f10fda029660ef66594d">l</a> = 0; <a class="code" href="lib_2Target_2README_8txt.html#ac3ac4028df71f10fda029660ef66594d">l</a> != NumElts; <a class="code" href="lib_2Target_2README_8txt.html#ac3ac4028df71f10fda029660ef66594d">l</a> += NumLaneElts)</div>
<div class="line"><a name="l03110"></a><span class="lineno"> 3110</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != NumLaneElts; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><a name="l03111"></a><span class="lineno"> 3111</span>&#160;          Idxs[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> + <a class="code" href="lib_2Target_2README_8txt.html#ac3ac4028df71f10fda029660ef66594d">l</a>] = <a class="code" href="lib_2Target_2README_8txt.html#ac3ac4028df71f10fda029660ef66594d">l</a> + (<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> / 2) + NumElts * (<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> % 2);</div>
<div class="line"><a name="l03112"></a><span class="lineno"> 3112</span>&#160; </div>
<div class="line"><a name="l03113"></a><span class="lineno"> 3113</span>&#160;      Rep = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateShuffleVector(Op0, Op1, Idxs);</div>
<div class="line"><a name="l03114"></a><span class="lineno"> 3114</span>&#160; </div>
<div class="line"><a name="l03115"></a><span class="lineno"> 3115</span>&#160;      Rep = <a class="code" href="AutoUpgrade_8cpp.html#a8184e757708d747af9b314cdfe238b2c">EmitX86Select</a>(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(3), Rep,</div>
<div class="line"><a name="l03116"></a><span class="lineno"> 3116</span>&#160;                          CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(2));</div>
<div class="line"><a name="l03117"></a><span class="lineno"> 3117</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsX86 &amp;&amp; (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.mask.punpckh&quot;</span>) ||</div>
<div class="line"><a name="l03118"></a><span class="lineno"> 3118</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.mask.unpckh.&quot;</span>))) {</div>
<div class="line"><a name="l03119"></a><span class="lineno"> 3119</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *Op0 = CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0);</div>
<div class="line"><a name="l03120"></a><span class="lineno"> 3120</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *Op1 = CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1);</div>
<div class="line"><a name="l03121"></a><span class="lineno"> 3121</span>&#160;      <span class="keywordtype">int</span> NumElts = cast&lt;FixedVectorType&gt;(CI-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>())-&gt;getNumElements();</div>
<div class="line"><a name="l03122"></a><span class="lineno"> 3122</span>&#160;      <span class="keywordtype">int</span> NumLaneElts = 128/CI-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a9f382207d841377156d4c7868b66b9a5">getScalarSizeInBits</a>();</div>
<div class="line"><a name="l03123"></a><span class="lineno"> 3123</span>&#160; </div>
<div class="line"><a name="l03124"></a><span class="lineno"> 3124</span>&#160;      <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;int, 64&gt;</a> Idxs(NumElts);</div>
<div class="line"><a name="l03125"></a><span class="lineno"> 3125</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="lib_2Target_2README_8txt.html#ac3ac4028df71f10fda029660ef66594d">l</a> = 0; <a class="code" href="lib_2Target_2README_8txt.html#ac3ac4028df71f10fda029660ef66594d">l</a> != NumElts; <a class="code" href="lib_2Target_2README_8txt.html#ac3ac4028df71f10fda029660ef66594d">l</a> += NumLaneElts)</div>
<div class="line"><a name="l03126"></a><span class="lineno"> 3126</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != NumLaneElts; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><a name="l03127"></a><span class="lineno"> 3127</span>&#160;          Idxs[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> + <a class="code" href="lib_2Target_2README_8txt.html#ac3ac4028df71f10fda029660ef66594d">l</a>] = (NumLaneElts / 2) + <a class="code" href="lib_2Target_2README_8txt.html#ac3ac4028df71f10fda029660ef66594d">l</a> + (<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> / 2) + NumElts * (<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> % 2);</div>
<div class="line"><a name="l03128"></a><span class="lineno"> 3128</span>&#160; </div>
<div class="line"><a name="l03129"></a><span class="lineno"> 3129</span>&#160;      Rep = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateShuffleVector(Op0, Op1, Idxs);</div>
<div class="line"><a name="l03130"></a><span class="lineno"> 3130</span>&#160; </div>
<div class="line"><a name="l03131"></a><span class="lineno"> 3131</span>&#160;      Rep = <a class="code" href="AutoUpgrade_8cpp.html#a8184e757708d747af9b314cdfe238b2c">EmitX86Select</a>(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(3), Rep,</div>
<div class="line"><a name="l03132"></a><span class="lineno"> 3132</span>&#160;                          CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(2));</div>
<div class="line"><a name="l03133"></a><span class="lineno"> 3133</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsX86 &amp;&amp; (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.mask.and.&quot;</span>) ||</div>
<div class="line"><a name="l03134"></a><span class="lineno"> 3134</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.mask.pand.&quot;</span>))) {</div>
<div class="line"><a name="l03135"></a><span class="lineno"> 3135</span>&#160;      <a class="code" href="classllvm_1_1VectorType.html">VectorType</a> *FTy = cast&lt;VectorType&gt;(CI-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l03136"></a><span class="lineno"> 3136</span>&#160;      <a class="code" href="classllvm_1_1VectorType.html">VectorType</a> *ITy = VectorType::getInteger(FTy);</div>
<div class="line"><a name="l03137"></a><span class="lineno"> 3137</span>&#160;      Rep = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateAnd(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateBitCast(CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0), ITy),</div>
<div class="line"><a name="l03138"></a><span class="lineno"> 3138</span>&#160;                              <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateBitCast(CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1), ITy));</div>
<div class="line"><a name="l03139"></a><span class="lineno"> 3139</span>&#160;      Rep = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateBitCast(Rep, FTy);</div>
<div class="line"><a name="l03140"></a><span class="lineno"> 3140</span>&#160;      Rep = <a class="code" href="AutoUpgrade_8cpp.html#a8184e757708d747af9b314cdfe238b2c">EmitX86Select</a>(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(3), Rep,</div>
<div class="line"><a name="l03141"></a><span class="lineno"> 3141</span>&#160;                          CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(2));</div>
<div class="line"><a name="l03142"></a><span class="lineno"> 3142</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsX86 &amp;&amp; (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.mask.andn.&quot;</span>) ||</div>
<div class="line"><a name="l03143"></a><span class="lineno"> 3143</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.mask.pandn.&quot;</span>))) {</div>
<div class="line"><a name="l03144"></a><span class="lineno"> 3144</span>&#160;      <a class="code" href="classllvm_1_1VectorType.html">VectorType</a> *FTy = cast&lt;VectorType&gt;(CI-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l03145"></a><span class="lineno"> 3145</span>&#160;      <a class="code" href="classllvm_1_1VectorType.html">VectorType</a> *ITy = VectorType::getInteger(FTy);</div>
<div class="line"><a name="l03146"></a><span class="lineno"> 3146</span>&#160;      Rep = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateNot(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateBitCast(CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0), ITy));</div>
<div class="line"><a name="l03147"></a><span class="lineno"> 3147</span>&#160;      Rep = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateAnd(Rep,</div>
<div class="line"><a name="l03148"></a><span class="lineno"> 3148</span>&#160;                              <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateBitCast(CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1), ITy));</div>
<div class="line"><a name="l03149"></a><span class="lineno"> 3149</span>&#160;      Rep = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateBitCast(Rep, FTy);</div>
<div class="line"><a name="l03150"></a><span class="lineno"> 3150</span>&#160;      Rep = <a class="code" href="AutoUpgrade_8cpp.html#a8184e757708d747af9b314cdfe238b2c">EmitX86Select</a>(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(3), Rep,</div>
<div class="line"><a name="l03151"></a><span class="lineno"> 3151</span>&#160;                          CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(2));</div>
<div class="line"><a name="l03152"></a><span class="lineno"> 3152</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsX86 &amp;&amp; (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.mask.or.&quot;</span>) ||</div>
<div class="line"><a name="l03153"></a><span class="lineno"> 3153</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.mask.por.&quot;</span>))) {</div>
<div class="line"><a name="l03154"></a><span class="lineno"> 3154</span>&#160;      <a class="code" href="classllvm_1_1VectorType.html">VectorType</a> *FTy = cast&lt;VectorType&gt;(CI-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l03155"></a><span class="lineno"> 3155</span>&#160;      <a class="code" href="classllvm_1_1VectorType.html">VectorType</a> *ITy = VectorType::getInteger(FTy);</div>
<div class="line"><a name="l03156"></a><span class="lineno"> 3156</span>&#160;      Rep = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateOr(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateBitCast(CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0), ITy),</div>
<div class="line"><a name="l03157"></a><span class="lineno"> 3157</span>&#160;                             <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateBitCast(CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1), ITy));</div>
<div class="line"><a name="l03158"></a><span class="lineno"> 3158</span>&#160;      Rep = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateBitCast(Rep, FTy);</div>
<div class="line"><a name="l03159"></a><span class="lineno"> 3159</span>&#160;      Rep = <a class="code" href="AutoUpgrade_8cpp.html#a8184e757708d747af9b314cdfe238b2c">EmitX86Select</a>(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(3), Rep,</div>
<div class="line"><a name="l03160"></a><span class="lineno"> 3160</span>&#160;                          CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(2));</div>
<div class="line"><a name="l03161"></a><span class="lineno"> 3161</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsX86 &amp;&amp; (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.mask.xor.&quot;</span>) ||</div>
<div class="line"><a name="l03162"></a><span class="lineno"> 3162</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.mask.pxor.&quot;</span>))) {</div>
<div class="line"><a name="l03163"></a><span class="lineno"> 3163</span>&#160;      <a class="code" href="classllvm_1_1VectorType.html">VectorType</a> *FTy = cast&lt;VectorType&gt;(CI-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l03164"></a><span class="lineno"> 3164</span>&#160;      <a class="code" href="classllvm_1_1VectorType.html">VectorType</a> *ITy = VectorType::getInteger(FTy);</div>
<div class="line"><a name="l03165"></a><span class="lineno"> 3165</span>&#160;      Rep = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateXor(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateBitCast(CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0), ITy),</div>
<div class="line"><a name="l03166"></a><span class="lineno"> 3166</span>&#160;                              <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateBitCast(CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1), ITy));</div>
<div class="line"><a name="l03167"></a><span class="lineno"> 3167</span>&#160;      Rep = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateBitCast(Rep, FTy);</div>
<div class="line"><a name="l03168"></a><span class="lineno"> 3168</span>&#160;      Rep = <a class="code" href="AutoUpgrade_8cpp.html#a8184e757708d747af9b314cdfe238b2c">EmitX86Select</a>(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(3), Rep,</div>
<div class="line"><a name="l03169"></a><span class="lineno"> 3169</span>&#160;                          CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(2));</div>
<div class="line"><a name="l03170"></a><span class="lineno"> 3170</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsX86 &amp;&amp; <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.mask.padd.&quot;</span>)) {</div>
<div class="line"><a name="l03171"></a><span class="lineno"> 3171</span>&#160;      Rep = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateAdd(CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0), CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1));</div>
<div class="line"><a name="l03172"></a><span class="lineno"> 3172</span>&#160;      Rep = <a class="code" href="AutoUpgrade_8cpp.html#a8184e757708d747af9b314cdfe238b2c">EmitX86Select</a>(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(3), Rep,</div>
<div class="line"><a name="l03173"></a><span class="lineno"> 3173</span>&#160;                          CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(2));</div>
<div class="line"><a name="l03174"></a><span class="lineno"> 3174</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsX86 &amp;&amp; <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.mask.psub.&quot;</span>)) {</div>
<div class="line"><a name="l03175"></a><span class="lineno"> 3175</span>&#160;      Rep = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateSub(CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0), CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1));</div>
<div class="line"><a name="l03176"></a><span class="lineno"> 3176</span>&#160;      Rep = <a class="code" href="AutoUpgrade_8cpp.html#a8184e757708d747af9b314cdfe238b2c">EmitX86Select</a>(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(3), Rep,</div>
<div class="line"><a name="l03177"></a><span class="lineno"> 3177</span>&#160;                          CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(2));</div>
<div class="line"><a name="l03178"></a><span class="lineno"> 3178</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsX86 &amp;&amp; <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.mask.pmull.&quot;</span>)) {</div>
<div class="line"><a name="l03179"></a><span class="lineno"> 3179</span>&#160;      Rep = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateMul(CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0), CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1));</div>
<div class="line"><a name="l03180"></a><span class="lineno"> 3180</span>&#160;      Rep = <a class="code" href="AutoUpgrade_8cpp.html#a8184e757708d747af9b314cdfe238b2c">EmitX86Select</a>(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(3), Rep,</div>
<div class="line"><a name="l03181"></a><span class="lineno"> 3181</span>&#160;                          CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(2));</div>
<div class="line"><a name="l03182"></a><span class="lineno"> 3182</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsX86 &amp;&amp; <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.mask.add.p&quot;</span>)) {</div>
<div class="line"><a name="l03183"></a><span class="lineno"> 3183</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.endswith(<span class="stringliteral">&quot;.512&quot;</span>)) {</div>
<div class="line"><a name="l03184"></a><span class="lineno"> 3184</span>&#160;        <a class="code" href="namespacellvm_1_1Intrinsic.html#a80add6b3b1cdaec560907995127adc16">Intrinsic::ID</a> IID;</div>
<div class="line"><a name="l03185"></a><span class="lineno"> 3185</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>[17] == <span class="charliteral">&#39;s&#39;</span>)</div>
<div class="line"><a name="l03186"></a><span class="lineno"> 3186</span>&#160;          IID = Intrinsic::x86_avx512_add_ps_512;</div>
<div class="line"><a name="l03187"></a><span class="lineno"> 3187</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l03188"></a><span class="lineno"> 3188</span>&#160;          IID = Intrinsic::x86_avx512_add_pd_512;</div>
<div class="line"><a name="l03189"></a><span class="lineno"> 3189</span>&#160; </div>
<div class="line"><a name="l03190"></a><span class="lineno"> 3190</span>&#160;        Rep = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateCall(<a class="code" href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">Intrinsic::getDeclaration</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getParent(), IID),</div>
<div class="line"><a name="l03191"></a><span class="lineno"> 3191</span>&#160;                                 { CI-&gt;getArgOperand(0), CI-&gt;getArgOperand(1),</div>
<div class="line"><a name="l03192"></a><span class="lineno"> 3192</span>&#160;                                   CI-&gt;getArgOperand(4) });</div>
<div class="line"><a name="l03193"></a><span class="lineno"> 3193</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03194"></a><span class="lineno"> 3194</span>&#160;        Rep = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateFAdd(CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0), CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1));</div>
<div class="line"><a name="l03195"></a><span class="lineno"> 3195</span>&#160;      }</div>
<div class="line"><a name="l03196"></a><span class="lineno"> 3196</span>&#160;      Rep = <a class="code" href="AutoUpgrade_8cpp.html#a8184e757708d747af9b314cdfe238b2c">EmitX86Select</a>(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(3), Rep,</div>
<div class="line"><a name="l03197"></a><span class="lineno"> 3197</span>&#160;                          CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(2));</div>
<div class="line"><a name="l03198"></a><span class="lineno"> 3198</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsX86 &amp;&amp; <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.mask.div.p&quot;</span>)) {</div>
<div class="line"><a name="l03199"></a><span class="lineno"> 3199</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.endswith(<span class="stringliteral">&quot;.512&quot;</span>)) {</div>
<div class="line"><a name="l03200"></a><span class="lineno"> 3200</span>&#160;        <a class="code" href="namespacellvm_1_1Intrinsic.html#a80add6b3b1cdaec560907995127adc16">Intrinsic::ID</a> IID;</div>
<div class="line"><a name="l03201"></a><span class="lineno"> 3201</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>[17] == <span class="charliteral">&#39;s&#39;</span>)</div>
<div class="line"><a name="l03202"></a><span class="lineno"> 3202</span>&#160;          IID = Intrinsic::x86_avx512_div_ps_512;</div>
<div class="line"><a name="l03203"></a><span class="lineno"> 3203</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l03204"></a><span class="lineno"> 3204</span>&#160;          IID = Intrinsic::x86_avx512_div_pd_512;</div>
<div class="line"><a name="l03205"></a><span class="lineno"> 3205</span>&#160; </div>
<div class="line"><a name="l03206"></a><span class="lineno"> 3206</span>&#160;        Rep = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateCall(<a class="code" href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">Intrinsic::getDeclaration</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getParent(), IID),</div>
<div class="line"><a name="l03207"></a><span class="lineno"> 3207</span>&#160;                                 { CI-&gt;getArgOperand(0), CI-&gt;getArgOperand(1),</div>
<div class="line"><a name="l03208"></a><span class="lineno"> 3208</span>&#160;                                   CI-&gt;getArgOperand(4) });</div>
<div class="line"><a name="l03209"></a><span class="lineno"> 3209</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03210"></a><span class="lineno"> 3210</span>&#160;        Rep = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateFDiv(CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0), CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1));</div>
<div class="line"><a name="l03211"></a><span class="lineno"> 3211</span>&#160;      }</div>
<div class="line"><a name="l03212"></a><span class="lineno"> 3212</span>&#160;      Rep = <a class="code" href="AutoUpgrade_8cpp.html#a8184e757708d747af9b314cdfe238b2c">EmitX86Select</a>(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(3), Rep,</div>
<div class="line"><a name="l03213"></a><span class="lineno"> 3213</span>&#160;                          CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(2));</div>
<div class="line"><a name="l03214"></a><span class="lineno"> 3214</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsX86 &amp;&amp; <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.mask.mul.p&quot;</span>)) {</div>
<div class="line"><a name="l03215"></a><span class="lineno"> 3215</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.endswith(<span class="stringliteral">&quot;.512&quot;</span>)) {</div>
<div class="line"><a name="l03216"></a><span class="lineno"> 3216</span>&#160;        <a class="code" href="namespacellvm_1_1Intrinsic.html#a80add6b3b1cdaec560907995127adc16">Intrinsic::ID</a> IID;</div>
<div class="line"><a name="l03217"></a><span class="lineno"> 3217</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>[17] == <span class="charliteral">&#39;s&#39;</span>)</div>
<div class="line"><a name="l03218"></a><span class="lineno"> 3218</span>&#160;          IID = Intrinsic::x86_avx512_mul_ps_512;</div>
<div class="line"><a name="l03219"></a><span class="lineno"> 3219</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l03220"></a><span class="lineno"> 3220</span>&#160;          IID = Intrinsic::x86_avx512_mul_pd_512;</div>
<div class="line"><a name="l03221"></a><span class="lineno"> 3221</span>&#160; </div>
<div class="line"><a name="l03222"></a><span class="lineno"> 3222</span>&#160;        Rep = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateCall(<a class="code" href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">Intrinsic::getDeclaration</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getParent(), IID),</div>
<div class="line"><a name="l03223"></a><span class="lineno"> 3223</span>&#160;                                 { CI-&gt;getArgOperand(0), CI-&gt;getArgOperand(1),</div>
<div class="line"><a name="l03224"></a><span class="lineno"> 3224</span>&#160;                                   CI-&gt;getArgOperand(4) });</div>
<div class="line"><a name="l03225"></a><span class="lineno"> 3225</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03226"></a><span class="lineno"> 3226</span>&#160;        Rep = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateFMul(CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0), CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1));</div>
<div class="line"><a name="l03227"></a><span class="lineno"> 3227</span>&#160;      }</div>
<div class="line"><a name="l03228"></a><span class="lineno"> 3228</span>&#160;      Rep = <a class="code" href="AutoUpgrade_8cpp.html#a8184e757708d747af9b314cdfe238b2c">EmitX86Select</a>(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(3), Rep,</div>
<div class="line"><a name="l03229"></a><span class="lineno"> 3229</span>&#160;                          CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(2));</div>
<div class="line"><a name="l03230"></a><span class="lineno"> 3230</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsX86 &amp;&amp; <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.mask.sub.p&quot;</span>)) {</div>
<div class="line"><a name="l03231"></a><span class="lineno"> 3231</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.endswith(<span class="stringliteral">&quot;.512&quot;</span>)) {</div>
<div class="line"><a name="l03232"></a><span class="lineno"> 3232</span>&#160;        <a class="code" href="namespacellvm_1_1Intrinsic.html#a80add6b3b1cdaec560907995127adc16">Intrinsic::ID</a> IID;</div>
<div class="line"><a name="l03233"></a><span class="lineno"> 3233</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>[17] == <span class="charliteral">&#39;s&#39;</span>)</div>
<div class="line"><a name="l03234"></a><span class="lineno"> 3234</span>&#160;          IID = Intrinsic::x86_avx512_sub_ps_512;</div>
<div class="line"><a name="l03235"></a><span class="lineno"> 3235</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l03236"></a><span class="lineno"> 3236</span>&#160;          IID = Intrinsic::x86_avx512_sub_pd_512;</div>
<div class="line"><a name="l03237"></a><span class="lineno"> 3237</span>&#160; </div>
<div class="line"><a name="l03238"></a><span class="lineno"> 3238</span>&#160;        Rep = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateCall(<a class="code" href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">Intrinsic::getDeclaration</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getParent(), IID),</div>
<div class="line"><a name="l03239"></a><span class="lineno"> 3239</span>&#160;                                 { CI-&gt;getArgOperand(0), CI-&gt;getArgOperand(1),</div>
<div class="line"><a name="l03240"></a><span class="lineno"> 3240</span>&#160;                                   CI-&gt;getArgOperand(4) });</div>
<div class="line"><a name="l03241"></a><span class="lineno"> 3241</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03242"></a><span class="lineno"> 3242</span>&#160;        Rep = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateFSub(CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0), CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1));</div>
<div class="line"><a name="l03243"></a><span class="lineno"> 3243</span>&#160;      }</div>
<div class="line"><a name="l03244"></a><span class="lineno"> 3244</span>&#160;      Rep = <a class="code" href="AutoUpgrade_8cpp.html#a8184e757708d747af9b314cdfe238b2c">EmitX86Select</a>(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(3), Rep,</div>
<div class="line"><a name="l03245"></a><span class="lineno"> 3245</span>&#160;                          CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(2));</div>
<div class="line"><a name="l03246"></a><span class="lineno"> 3246</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsX86 &amp;&amp; (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.mask.max.p&quot;</span>) ||</div>
<div class="line"><a name="l03247"></a><span class="lineno"> 3247</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.mask.min.p&quot;</span>)) &amp;&amp;</div>
<div class="line"><a name="l03248"></a><span class="lineno"> 3248</span>&#160;               <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.drop_front(18) == <span class="stringliteral">&quot;.512&quot;</span>) {</div>
<div class="line"><a name="l03249"></a><span class="lineno"> 3249</span>&#160;      <span class="keywordtype">bool</span> IsDouble = <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>[17] == <span class="charliteral">&#39;d&#39;</span>;</div>
<div class="line"><a name="l03250"></a><span class="lineno"> 3250</span>&#160;      <span class="keywordtype">bool</span> IsMin = <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>[13] == <span class="charliteral">&#39;i&#39;</span>;</div>
<div class="line"><a name="l03251"></a><span class="lineno"> 3251</span>&#160;      <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="namespacellvm_1_1Intrinsic.html#a80add6b3b1cdaec560907995127adc16">Intrinsic::ID</a> MinMaxTbl[2][2] = {</div>
<div class="line"><a name="l03252"></a><span class="lineno"> 3252</span>&#160;        { Intrinsic::x86_avx512_max_ps_512, Intrinsic::x86_avx512_max_pd_512 },</div>
<div class="line"><a name="l03253"></a><span class="lineno"> 3253</span>&#160;        { Intrinsic::x86_avx512_min_ps_512, Intrinsic::x86_avx512_min_pd_512 }</div>
<div class="line"><a name="l03254"></a><span class="lineno"> 3254</span>&#160;      };</div>
<div class="line"><a name="l03255"></a><span class="lineno"> 3255</span>&#160;      <a class="code" href="namespacellvm_1_1Intrinsic.html#a80add6b3b1cdaec560907995127adc16">Intrinsic::ID</a> IID = MinMaxTbl[IsMin][IsDouble];</div>
<div class="line"><a name="l03256"></a><span class="lineno"> 3256</span>&#160; </div>
<div class="line"><a name="l03257"></a><span class="lineno"> 3257</span>&#160;      Rep = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateCall(<a class="code" href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">Intrinsic::getDeclaration</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getParent(), IID),</div>
<div class="line"><a name="l03258"></a><span class="lineno"> 3258</span>&#160;                               { CI-&gt;getArgOperand(0), CI-&gt;getArgOperand(1),</div>
<div class="line"><a name="l03259"></a><span class="lineno"> 3259</span>&#160;                                 CI-&gt;getArgOperand(4) });</div>
<div class="line"><a name="l03260"></a><span class="lineno"> 3260</span>&#160;      Rep = <a class="code" href="AutoUpgrade_8cpp.html#a8184e757708d747af9b314cdfe238b2c">EmitX86Select</a>(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(3), Rep,</div>
<div class="line"><a name="l03261"></a><span class="lineno"> 3261</span>&#160;                          CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(2));</div>
<div class="line"><a name="l03262"></a><span class="lineno"> 3262</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsX86 &amp;&amp; <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.mask.lzcnt.&quot;</span>)) {</div>
<div class="line"><a name="l03263"></a><span class="lineno"> 3263</span>&#160;      Rep = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateCall(<a class="code" href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">Intrinsic::getDeclaration</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getParent(),</div>
<div class="line"><a name="l03264"></a><span class="lineno"> 3264</span>&#160;                                                         Intrinsic::ctlz,</div>
<div class="line"><a name="l03265"></a><span class="lineno"> 3265</span>&#160;                                                         CI-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()),</div>
<div class="line"><a name="l03266"></a><span class="lineno"> 3266</span>&#160;                               { CI-&gt;getArgOperand(0), Builder.getInt1(false) });</div>
<div class="line"><a name="l03267"></a><span class="lineno"> 3267</span>&#160;      Rep = <a class="code" href="AutoUpgrade_8cpp.html#a8184e757708d747af9b314cdfe238b2c">EmitX86Select</a>(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(2), Rep,</div>
<div class="line"><a name="l03268"></a><span class="lineno"> 3268</span>&#160;                          CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1));</div>
<div class="line"><a name="l03269"></a><span class="lineno"> 3269</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsX86 &amp;&amp; <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.mask.psll&quot;</span>)) {</div>
<div class="line"><a name="l03270"></a><span class="lineno"> 3270</span>&#160;      <span class="keywordtype">bool</span> IsImmediate = <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>[16] == <span class="charliteral">&#39;i&#39;</span> ||</div>
<div class="line"><a name="l03271"></a><span class="lineno"> 3271</span>&#160;                         (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.size() &gt; 18 &amp;&amp; <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>[18] == <span class="charliteral">&#39;i&#39;</span>);</div>
<div class="line"><a name="l03272"></a><span class="lineno"> 3272</span>&#160;      <span class="keywordtype">bool</span> IsVariable = <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>[16] == <span class="charliteral">&#39;v&#39;</span>;</div>
<div class="line"><a name="l03273"></a><span class="lineno"> 3273</span>&#160;      <span class="keywordtype">char</span> <a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a> = <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>[16] == <span class="charliteral">&#39;.&#39;</span> ? <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>[17] :</div>
<div class="line"><a name="l03274"></a><span class="lineno"> 3274</span>&#160;                  <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>[17] == <span class="charliteral">&#39;.&#39;</span> ? <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>[18] :</div>
<div class="line"><a name="l03275"></a><span class="lineno"> 3275</span>&#160;                  <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>[18] == <span class="charliteral">&#39;.&#39;</span> ? <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>[19] :</div>
<div class="line"><a name="l03276"></a><span class="lineno"> 3276</span>&#160;                                    <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>[20];</div>
<div class="line"><a name="l03277"></a><span class="lineno"> 3277</span>&#160; </div>
<div class="line"><a name="l03278"></a><span class="lineno"> 3278</span>&#160;      <a class="code" href="namespacellvm_1_1Intrinsic.html#a80add6b3b1cdaec560907995127adc16">Intrinsic::ID</a> IID;</div>
<div class="line"><a name="l03279"></a><span class="lineno"> 3279</span>&#160;      <span class="keywordflow">if</span> (IsVariable &amp;&amp; <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>[17] != <span class="charliteral">&#39;.&#39;</span>) {</div>
<div class="line"><a name="l03280"></a><span class="lineno"> 3280</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a> == <span class="charliteral">&#39;d&#39;</span> &amp;&amp; <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>[17] == <span class="charliteral">&#39;2&#39;</span>) <span class="comment">// avx512.mask.psllv2.di</span></div>
<div class="line"><a name="l03281"></a><span class="lineno"> 3281</span>&#160;          IID = Intrinsic::x86_avx2_psllv_q;</div>
<div class="line"><a name="l03282"></a><span class="lineno"> 3282</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a> == <span class="charliteral">&#39;d&#39;</span> &amp;&amp; <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>[17] == <span class="charliteral">&#39;4&#39;</span>) <span class="comment">// avx512.mask.psllv4.di</span></div>
<div class="line"><a name="l03283"></a><span class="lineno"> 3283</span>&#160;          IID = Intrinsic::x86_avx2_psllv_q_256;</div>
<div class="line"><a name="l03284"></a><span class="lineno"> 3284</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a> == <span class="charliteral">&#39;s&#39;</span> &amp;&amp; <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>[17] == <span class="charliteral">&#39;4&#39;</span>) <span class="comment">// avx512.mask.psllv4.si</span></div>
<div class="line"><a name="l03285"></a><span class="lineno"> 3285</span>&#160;          IID = Intrinsic::x86_avx2_psllv_d;</div>
<div class="line"><a name="l03286"></a><span class="lineno"> 3286</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a> == <span class="charliteral">&#39;s&#39;</span> &amp;&amp; <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>[17] == <span class="charliteral">&#39;8&#39;</span>) <span class="comment">// avx512.mask.psllv8.si</span></div>
<div class="line"><a name="l03287"></a><span class="lineno"> 3287</span>&#160;          IID = Intrinsic::x86_avx2_psllv_d_256;</div>
<div class="line"><a name="l03288"></a><span class="lineno"> 3288</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a> == <span class="charliteral">&#39;h&#39;</span> &amp;&amp; <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>[17] == <span class="charliteral">&#39;8&#39;</span>) <span class="comment">// avx512.mask.psllv8.hi</span></div>
<div class="line"><a name="l03289"></a><span class="lineno"> 3289</span>&#160;          IID = Intrinsic::x86_avx512_psllv_w_128;</div>
<div class="line"><a name="l03290"></a><span class="lineno"> 3290</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a> == <span class="charliteral">&#39;h&#39;</span> &amp;&amp; <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>[17] == <span class="charliteral">&#39;1&#39;</span>) <span class="comment">// avx512.mask.psllv16.hi</span></div>
<div class="line"><a name="l03291"></a><span class="lineno"> 3291</span>&#160;          IID = Intrinsic::x86_avx512_psllv_w_256;</div>
<div class="line"><a name="l03292"></a><span class="lineno"> 3292</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>[17] == <span class="charliteral">&#39;3&#39;</span> &amp;&amp; <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>[18] == <span class="charliteral">&#39;2&#39;</span>) <span class="comment">// avx512.mask.psllv32hi</span></div>
<div class="line"><a name="l03293"></a><span class="lineno"> 3293</span>&#160;          IID = Intrinsic::x86_avx512_psllv_w_512;</div>
<div class="line"><a name="l03294"></a><span class="lineno"> 3294</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l03295"></a><span class="lineno"> 3295</span>&#160;          <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unexpected size&quot;</span>);</div>
<div class="line"><a name="l03296"></a><span class="lineno"> 3296</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.endswith(<span class="stringliteral">&quot;.128&quot;</span>)) {</div>
<div class="line"><a name="l03297"></a><span class="lineno"> 3297</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a> == <span class="charliteral">&#39;d&#39;</span>) <span class="comment">// avx512.mask.psll.d.128, avx512.mask.psll.di.128</span></div>
<div class="line"><a name="l03298"></a><span class="lineno"> 3298</span>&#160;          IID = IsImmediate ? Intrinsic::x86_sse2_pslli_d</div>
<div class="line"><a name="l03299"></a><span class="lineno"> 3299</span>&#160;                            : Intrinsic::x86_sse2_psll_d;</div>
<div class="line"><a name="l03300"></a><span class="lineno"> 3300</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a> == <span class="charliteral">&#39;q&#39;</span>) <span class="comment">// avx512.mask.psll.q.128, avx512.mask.psll.qi.128</span></div>
<div class="line"><a name="l03301"></a><span class="lineno"> 3301</span>&#160;          IID = IsImmediate ? Intrinsic::x86_sse2_pslli_q</div>
<div class="line"><a name="l03302"></a><span class="lineno"> 3302</span>&#160;                            : Intrinsic::x86_sse2_psll_q;</div>
<div class="line"><a name="l03303"></a><span class="lineno"> 3303</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a> == <span class="charliteral">&#39;w&#39;</span>) <span class="comment">// avx512.mask.psll.w.128, avx512.mask.psll.wi.128</span></div>
<div class="line"><a name="l03304"></a><span class="lineno"> 3304</span>&#160;          IID = IsImmediate ? Intrinsic::x86_sse2_pslli_w</div>
<div class="line"><a name="l03305"></a><span class="lineno"> 3305</span>&#160;                            : Intrinsic::x86_sse2_psll_w;</div>
<div class="line"><a name="l03306"></a><span class="lineno"> 3306</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l03307"></a><span class="lineno"> 3307</span>&#160;          <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unexpected size&quot;</span>);</div>
<div class="line"><a name="l03308"></a><span class="lineno"> 3308</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.endswith(<span class="stringliteral">&quot;.256&quot;</span>)) {</div>
<div class="line"><a name="l03309"></a><span class="lineno"> 3309</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a> == <span class="charliteral">&#39;d&#39;</span>) <span class="comment">// avx512.mask.psll.d.256, avx512.mask.psll.di.256</span></div>
<div class="line"><a name="l03310"></a><span class="lineno"> 3310</span>&#160;          IID = IsImmediate ? Intrinsic::x86_avx2_pslli_d</div>
<div class="line"><a name="l03311"></a><span class="lineno"> 3311</span>&#160;                            : Intrinsic::x86_avx2_psll_d;</div>
<div class="line"><a name="l03312"></a><span class="lineno"> 3312</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a> == <span class="charliteral">&#39;q&#39;</span>) <span class="comment">// avx512.mask.psll.q.256, avx512.mask.psll.qi.256</span></div>
<div class="line"><a name="l03313"></a><span class="lineno"> 3313</span>&#160;          IID = IsImmediate ? Intrinsic::x86_avx2_pslli_q</div>
<div class="line"><a name="l03314"></a><span class="lineno"> 3314</span>&#160;                            : Intrinsic::x86_avx2_psll_q;</div>
<div class="line"><a name="l03315"></a><span class="lineno"> 3315</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a> == <span class="charliteral">&#39;w&#39;</span>) <span class="comment">// avx512.mask.psll.w.256, avx512.mask.psll.wi.256</span></div>
<div class="line"><a name="l03316"></a><span class="lineno"> 3316</span>&#160;          IID = IsImmediate ? Intrinsic::x86_avx2_pslli_w</div>
<div class="line"><a name="l03317"></a><span class="lineno"> 3317</span>&#160;                            : Intrinsic::x86_avx2_psll_w;</div>
<div class="line"><a name="l03318"></a><span class="lineno"> 3318</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l03319"></a><span class="lineno"> 3319</span>&#160;          <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unexpected size&quot;</span>);</div>
<div class="line"><a name="l03320"></a><span class="lineno"> 3320</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03321"></a><span class="lineno"> 3321</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a> == <span class="charliteral">&#39;d&#39;</span>) <span class="comment">// psll.di.512, pslli.d, psll.d, psllv.d.512</span></div>
<div class="line"><a name="l03322"></a><span class="lineno"> 3322</span>&#160;          IID = IsImmediate ? Intrinsic::x86_avx512_pslli_d_512 :</div>
<div class="line"><a name="l03323"></a><span class="lineno"> 3323</span>&#160;                IsVariable  ? Intrinsic::x86_avx512_psllv_d_512 :</div>
<div class="line"><a name="l03324"></a><span class="lineno"> 3324</span>&#160;                              Intrinsic::x86_avx512_psll_d_512;</div>
<div class="line"><a name="l03325"></a><span class="lineno"> 3325</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a> == <span class="charliteral">&#39;q&#39;</span>) <span class="comment">// psll.qi.512, pslli.q, psll.q, psllv.q.512</span></div>
<div class="line"><a name="l03326"></a><span class="lineno"> 3326</span>&#160;          IID = IsImmediate ? Intrinsic::x86_avx512_pslli_q_512 :</div>
<div class="line"><a name="l03327"></a><span class="lineno"> 3327</span>&#160;                IsVariable  ? Intrinsic::x86_avx512_psllv_q_512 :</div>
<div class="line"><a name="l03328"></a><span class="lineno"> 3328</span>&#160;                              Intrinsic::x86_avx512_psll_q_512;</div>
<div class="line"><a name="l03329"></a><span class="lineno"> 3329</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a> == <span class="charliteral">&#39;w&#39;</span>) <span class="comment">// psll.wi.512, pslli.w, psll.w</span></div>
<div class="line"><a name="l03330"></a><span class="lineno"> 3330</span>&#160;          IID = IsImmediate ? Intrinsic::x86_avx512_pslli_w_512</div>
<div class="line"><a name="l03331"></a><span class="lineno"> 3331</span>&#160;                            : Intrinsic::x86_avx512_psll_w_512;</div>
<div class="line"><a name="l03332"></a><span class="lineno"> 3332</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l03333"></a><span class="lineno"> 3333</span>&#160;          <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unexpected size&quot;</span>);</div>
<div class="line"><a name="l03334"></a><span class="lineno"> 3334</span>&#160;      }</div>
<div class="line"><a name="l03335"></a><span class="lineno"> 3335</span>&#160; </div>
<div class="line"><a name="l03336"></a><span class="lineno"> 3336</span>&#160;      Rep = <a class="code" href="AutoUpgrade_8cpp.html#a00c0cd34e371d18fb5133e081402564d">UpgradeX86MaskedShift</a>(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, *CI, IID);</div>
<div class="line"><a name="l03337"></a><span class="lineno"> 3337</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsX86 &amp;&amp; <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.mask.psrl&quot;</span>)) {</div>
<div class="line"><a name="l03338"></a><span class="lineno"> 3338</span>&#160;      <span class="keywordtype">bool</span> IsImmediate = <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>[16] == <span class="charliteral">&#39;i&#39;</span> ||</div>
<div class="line"><a name="l03339"></a><span class="lineno"> 3339</span>&#160;                         (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.size() &gt; 18 &amp;&amp; <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>[18] == <span class="charliteral">&#39;i&#39;</span>);</div>
<div class="line"><a name="l03340"></a><span class="lineno"> 3340</span>&#160;      <span class="keywordtype">bool</span> IsVariable = <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>[16] == <span class="charliteral">&#39;v&#39;</span>;</div>
<div class="line"><a name="l03341"></a><span class="lineno"> 3341</span>&#160;      <span class="keywordtype">char</span> <a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a> = <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>[16] == <span class="charliteral">&#39;.&#39;</span> ? <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>[17] :</div>
<div class="line"><a name="l03342"></a><span class="lineno"> 3342</span>&#160;                  <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>[17] == <span class="charliteral">&#39;.&#39;</span> ? <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>[18] :</div>
<div class="line"><a name="l03343"></a><span class="lineno"> 3343</span>&#160;                  <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>[18] == <span class="charliteral">&#39;.&#39;</span> ? <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>[19] :</div>
<div class="line"><a name="l03344"></a><span class="lineno"> 3344</span>&#160;                                    <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>[20];</div>
<div class="line"><a name="l03345"></a><span class="lineno"> 3345</span>&#160; </div>
<div class="line"><a name="l03346"></a><span class="lineno"> 3346</span>&#160;      <a class="code" href="namespacellvm_1_1Intrinsic.html#a80add6b3b1cdaec560907995127adc16">Intrinsic::ID</a> IID;</div>
<div class="line"><a name="l03347"></a><span class="lineno"> 3347</span>&#160;      <span class="keywordflow">if</span> (IsVariable &amp;&amp; <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>[17] != <span class="charliteral">&#39;.&#39;</span>) {</div>
<div class="line"><a name="l03348"></a><span class="lineno"> 3348</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a> == <span class="charliteral">&#39;d&#39;</span> &amp;&amp; <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>[17] == <span class="charliteral">&#39;2&#39;</span>) <span class="comment">// avx512.mask.psrlv2.di</span></div>
<div class="line"><a name="l03349"></a><span class="lineno"> 3349</span>&#160;          IID = Intrinsic::x86_avx2_psrlv_q;</div>
<div class="line"><a name="l03350"></a><span class="lineno"> 3350</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a> == <span class="charliteral">&#39;d&#39;</span> &amp;&amp; <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>[17] == <span class="charliteral">&#39;4&#39;</span>) <span class="comment">// avx512.mask.psrlv4.di</span></div>
<div class="line"><a name="l03351"></a><span class="lineno"> 3351</span>&#160;          IID = Intrinsic::x86_avx2_psrlv_q_256;</div>
<div class="line"><a name="l03352"></a><span class="lineno"> 3352</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a> == <span class="charliteral">&#39;s&#39;</span> &amp;&amp; <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>[17] == <span class="charliteral">&#39;4&#39;</span>) <span class="comment">// avx512.mask.psrlv4.si</span></div>
<div class="line"><a name="l03353"></a><span class="lineno"> 3353</span>&#160;          IID = Intrinsic::x86_avx2_psrlv_d;</div>
<div class="line"><a name="l03354"></a><span class="lineno"> 3354</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a> == <span class="charliteral">&#39;s&#39;</span> &amp;&amp; <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>[17] == <span class="charliteral">&#39;8&#39;</span>) <span class="comment">// avx512.mask.psrlv8.si</span></div>
<div class="line"><a name="l03355"></a><span class="lineno"> 3355</span>&#160;          IID = Intrinsic::x86_avx2_psrlv_d_256;</div>
<div class="line"><a name="l03356"></a><span class="lineno"> 3356</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a> == <span class="charliteral">&#39;h&#39;</span> &amp;&amp; <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>[17] == <span class="charliteral">&#39;8&#39;</span>) <span class="comment">// avx512.mask.psrlv8.hi</span></div>
<div class="line"><a name="l03357"></a><span class="lineno"> 3357</span>&#160;          IID = Intrinsic::x86_avx512_psrlv_w_128;</div>
<div class="line"><a name="l03358"></a><span class="lineno"> 3358</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a> == <span class="charliteral">&#39;h&#39;</span> &amp;&amp; <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>[17] == <span class="charliteral">&#39;1&#39;</span>) <span class="comment">// avx512.mask.psrlv16.hi</span></div>
<div class="line"><a name="l03359"></a><span class="lineno"> 3359</span>&#160;          IID = Intrinsic::x86_avx512_psrlv_w_256;</div>
<div class="line"><a name="l03360"></a><span class="lineno"> 3360</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>[17] == <span class="charliteral">&#39;3&#39;</span> &amp;&amp; <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>[18] == <span class="charliteral">&#39;2&#39;</span>) <span class="comment">// avx512.mask.psrlv32hi</span></div>
<div class="line"><a name="l03361"></a><span class="lineno"> 3361</span>&#160;          IID = Intrinsic::x86_avx512_psrlv_w_512;</div>
<div class="line"><a name="l03362"></a><span class="lineno"> 3362</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l03363"></a><span class="lineno"> 3363</span>&#160;          <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unexpected size&quot;</span>);</div>
<div class="line"><a name="l03364"></a><span class="lineno"> 3364</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.endswith(<span class="stringliteral">&quot;.128&quot;</span>)) {</div>
<div class="line"><a name="l03365"></a><span class="lineno"> 3365</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a> == <span class="charliteral">&#39;d&#39;</span>) <span class="comment">// avx512.mask.psrl.d.128, avx512.mask.psrl.di.128</span></div>
<div class="line"><a name="l03366"></a><span class="lineno"> 3366</span>&#160;          IID = IsImmediate ? Intrinsic::x86_sse2_psrli_d</div>
<div class="line"><a name="l03367"></a><span class="lineno"> 3367</span>&#160;                            : Intrinsic::x86_sse2_psrl_d;</div>
<div class="line"><a name="l03368"></a><span class="lineno"> 3368</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a> == <span class="charliteral">&#39;q&#39;</span>) <span class="comment">// avx512.mask.psrl.q.128, avx512.mask.psrl.qi.128</span></div>
<div class="line"><a name="l03369"></a><span class="lineno"> 3369</span>&#160;          IID = IsImmediate ? Intrinsic::x86_sse2_psrli_q</div>
<div class="line"><a name="l03370"></a><span class="lineno"> 3370</span>&#160;                            : Intrinsic::x86_sse2_psrl_q;</div>
<div class="line"><a name="l03371"></a><span class="lineno"> 3371</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a> == <span class="charliteral">&#39;w&#39;</span>) <span class="comment">// avx512.mask.psrl.w.128, avx512.mask.psrl.wi.128</span></div>
<div class="line"><a name="l03372"></a><span class="lineno"> 3372</span>&#160;          IID = IsImmediate ? Intrinsic::x86_sse2_psrli_w</div>
<div class="line"><a name="l03373"></a><span class="lineno"> 3373</span>&#160;                            : Intrinsic::x86_sse2_psrl_w;</div>
<div class="line"><a name="l03374"></a><span class="lineno"> 3374</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l03375"></a><span class="lineno"> 3375</span>&#160;          <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unexpected size&quot;</span>);</div>
<div class="line"><a name="l03376"></a><span class="lineno"> 3376</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.endswith(<span class="stringliteral">&quot;.256&quot;</span>)) {</div>
<div class="line"><a name="l03377"></a><span class="lineno"> 3377</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a> == <span class="charliteral">&#39;d&#39;</span>) <span class="comment">// avx512.mask.psrl.d.256, avx512.mask.psrl.di.256</span></div>
<div class="line"><a name="l03378"></a><span class="lineno"> 3378</span>&#160;          IID = IsImmediate ? Intrinsic::x86_avx2_psrli_d</div>
<div class="line"><a name="l03379"></a><span class="lineno"> 3379</span>&#160;                            : Intrinsic::x86_avx2_psrl_d;</div>
<div class="line"><a name="l03380"></a><span class="lineno"> 3380</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a> == <span class="charliteral">&#39;q&#39;</span>) <span class="comment">// avx512.mask.psrl.q.256, avx512.mask.psrl.qi.256</span></div>
<div class="line"><a name="l03381"></a><span class="lineno"> 3381</span>&#160;          IID = IsImmediate ? Intrinsic::x86_avx2_psrli_q</div>
<div class="line"><a name="l03382"></a><span class="lineno"> 3382</span>&#160;                            : Intrinsic::x86_avx2_psrl_q;</div>
<div class="line"><a name="l03383"></a><span class="lineno"> 3383</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a> == <span class="charliteral">&#39;w&#39;</span>) <span class="comment">// avx512.mask.psrl.w.256, avx512.mask.psrl.wi.256</span></div>
<div class="line"><a name="l03384"></a><span class="lineno"> 3384</span>&#160;          IID = IsImmediate ? Intrinsic::x86_avx2_psrli_w</div>
<div class="line"><a name="l03385"></a><span class="lineno"> 3385</span>&#160;                            : Intrinsic::x86_avx2_psrl_w;</div>
<div class="line"><a name="l03386"></a><span class="lineno"> 3386</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l03387"></a><span class="lineno"> 3387</span>&#160;          <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unexpected size&quot;</span>);</div>
<div class="line"><a name="l03388"></a><span class="lineno"> 3388</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03389"></a><span class="lineno"> 3389</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a> == <span class="charliteral">&#39;d&#39;</span>) <span class="comment">// psrl.di.512, psrli.d, psrl.d, psrl.d.512</span></div>
<div class="line"><a name="l03390"></a><span class="lineno"> 3390</span>&#160;          IID = IsImmediate ? Intrinsic::x86_avx512_psrli_d_512 :</div>
<div class="line"><a name="l03391"></a><span class="lineno"> 3391</span>&#160;                IsVariable  ? Intrinsic::x86_avx512_psrlv_d_512 :</div>
<div class="line"><a name="l03392"></a><span class="lineno"> 3392</span>&#160;                              Intrinsic::x86_avx512_psrl_d_512;</div>
<div class="line"><a name="l03393"></a><span class="lineno"> 3393</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a> == <span class="charliteral">&#39;q&#39;</span>) <span class="comment">// psrl.qi.512, psrli.q, psrl.q, psrl.q.512</span></div>
<div class="line"><a name="l03394"></a><span class="lineno"> 3394</span>&#160;          IID = IsImmediate ? Intrinsic::x86_avx512_psrli_q_512 :</div>
<div class="line"><a name="l03395"></a><span class="lineno"> 3395</span>&#160;                IsVariable  ? Intrinsic::x86_avx512_psrlv_q_512 :</div>
<div class="line"><a name="l03396"></a><span class="lineno"> 3396</span>&#160;                              Intrinsic::x86_avx512_psrl_q_512;</div>
<div class="line"><a name="l03397"></a><span class="lineno"> 3397</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a> == <span class="charliteral">&#39;w&#39;</span>) <span class="comment">// psrl.wi.512, psrli.w, psrl.w)</span></div>
<div class="line"><a name="l03398"></a><span class="lineno"> 3398</span>&#160;          IID = IsImmediate ? Intrinsic::x86_avx512_psrli_w_512</div>
<div class="line"><a name="l03399"></a><span class="lineno"> 3399</span>&#160;                            : Intrinsic::x86_avx512_psrl_w_512;</div>
<div class="line"><a name="l03400"></a><span class="lineno"> 3400</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l03401"></a><span class="lineno"> 3401</span>&#160;          <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unexpected size&quot;</span>);</div>
<div class="line"><a name="l03402"></a><span class="lineno"> 3402</span>&#160;      }</div>
<div class="line"><a name="l03403"></a><span class="lineno"> 3403</span>&#160; </div>
<div class="line"><a name="l03404"></a><span class="lineno"> 3404</span>&#160;      Rep = <a class="code" href="AutoUpgrade_8cpp.html#a00c0cd34e371d18fb5133e081402564d">UpgradeX86MaskedShift</a>(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, *CI, IID);</div>
<div class="line"><a name="l03405"></a><span class="lineno"> 3405</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsX86 &amp;&amp; <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.mask.psra&quot;</span>)) {</div>
<div class="line"><a name="l03406"></a><span class="lineno"> 3406</span>&#160;      <span class="keywordtype">bool</span> IsImmediate = <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>[16] == <span class="charliteral">&#39;i&#39;</span> ||</div>
<div class="line"><a name="l03407"></a><span class="lineno"> 3407</span>&#160;                         (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.size() &gt; 18 &amp;&amp; <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>[18] == <span class="charliteral">&#39;i&#39;</span>);</div>
<div class="line"><a name="l03408"></a><span class="lineno"> 3408</span>&#160;      <span class="keywordtype">bool</span> IsVariable = <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>[16] == <span class="charliteral">&#39;v&#39;</span>;</div>
<div class="line"><a name="l03409"></a><span class="lineno"> 3409</span>&#160;      <span class="keywordtype">char</span> <a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a> = <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>[16] == <span class="charliteral">&#39;.&#39;</span> ? <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>[17] :</div>
<div class="line"><a name="l03410"></a><span class="lineno"> 3410</span>&#160;                  <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>[17] == <span class="charliteral">&#39;.&#39;</span> ? <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>[18] :</div>
<div class="line"><a name="l03411"></a><span class="lineno"> 3411</span>&#160;                  <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>[18] == <span class="charliteral">&#39;.&#39;</span> ? <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>[19] :</div>
<div class="line"><a name="l03412"></a><span class="lineno"> 3412</span>&#160;                                    <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>[20];</div>
<div class="line"><a name="l03413"></a><span class="lineno"> 3413</span>&#160; </div>
<div class="line"><a name="l03414"></a><span class="lineno"> 3414</span>&#160;      <a class="code" href="namespacellvm_1_1Intrinsic.html#a80add6b3b1cdaec560907995127adc16">Intrinsic::ID</a> IID;</div>
<div class="line"><a name="l03415"></a><span class="lineno"> 3415</span>&#160;      <span class="keywordflow">if</span> (IsVariable &amp;&amp; <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>[17] != <span class="charliteral">&#39;.&#39;</span>) {</div>
<div class="line"><a name="l03416"></a><span class="lineno"> 3416</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a> == <span class="charliteral">&#39;s&#39;</span> &amp;&amp; <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>[17] == <span class="charliteral">&#39;4&#39;</span>) <span class="comment">// avx512.mask.psrav4.si</span></div>
<div class="line"><a name="l03417"></a><span class="lineno"> 3417</span>&#160;          IID = Intrinsic::x86_avx2_psrav_d;</div>
<div class="line"><a name="l03418"></a><span class="lineno"> 3418</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a> == <span class="charliteral">&#39;s&#39;</span> &amp;&amp; <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>[17] == <span class="charliteral">&#39;8&#39;</span>) <span class="comment">// avx512.mask.psrav8.si</span></div>
<div class="line"><a name="l03419"></a><span class="lineno"> 3419</span>&#160;          IID = Intrinsic::x86_avx2_psrav_d_256;</div>
<div class="line"><a name="l03420"></a><span class="lineno"> 3420</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a> == <span class="charliteral">&#39;h&#39;</span> &amp;&amp; <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>[17] == <span class="charliteral">&#39;8&#39;</span>) <span class="comment">// avx512.mask.psrav8.hi</span></div>
<div class="line"><a name="l03421"></a><span class="lineno"> 3421</span>&#160;          IID = Intrinsic::x86_avx512_psrav_w_128;</div>
<div class="line"><a name="l03422"></a><span class="lineno"> 3422</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a> == <span class="charliteral">&#39;h&#39;</span> &amp;&amp; <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>[17] == <span class="charliteral">&#39;1&#39;</span>) <span class="comment">// avx512.mask.psrav16.hi</span></div>
<div class="line"><a name="l03423"></a><span class="lineno"> 3423</span>&#160;          IID = Intrinsic::x86_avx512_psrav_w_256;</div>
<div class="line"><a name="l03424"></a><span class="lineno"> 3424</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>[17] == <span class="charliteral">&#39;3&#39;</span> &amp;&amp; <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>[18] == <span class="charliteral">&#39;2&#39;</span>) <span class="comment">// avx512.mask.psrav32hi</span></div>
<div class="line"><a name="l03425"></a><span class="lineno"> 3425</span>&#160;          IID = Intrinsic::x86_avx512_psrav_w_512;</div>
<div class="line"><a name="l03426"></a><span class="lineno"> 3426</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l03427"></a><span class="lineno"> 3427</span>&#160;          <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unexpected size&quot;</span>);</div>
<div class="line"><a name="l03428"></a><span class="lineno"> 3428</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.endswith(<span class="stringliteral">&quot;.128&quot;</span>)) {</div>
<div class="line"><a name="l03429"></a><span class="lineno"> 3429</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a> == <span class="charliteral">&#39;d&#39;</span>) <span class="comment">// avx512.mask.psra.d.128, avx512.mask.psra.di.128</span></div>
<div class="line"><a name="l03430"></a><span class="lineno"> 3430</span>&#160;          IID = IsImmediate ? Intrinsic::x86_sse2_psrai_d</div>
<div class="line"><a name="l03431"></a><span class="lineno"> 3431</span>&#160;                            : Intrinsic::x86_sse2_psra_d;</div>
<div class="line"><a name="l03432"></a><span class="lineno"> 3432</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a> == <span class="charliteral">&#39;q&#39;</span>) <span class="comment">// avx512.mask.psra.q.128, avx512.mask.psra.qi.128</span></div>
<div class="line"><a name="l03433"></a><span class="lineno"> 3433</span>&#160;          IID = IsImmediate ? Intrinsic::x86_avx512_psrai_q_128 :</div>
<div class="line"><a name="l03434"></a><span class="lineno"> 3434</span>&#160;                IsVariable  ? Intrinsic::x86_avx512_psrav_q_128 :</div>
<div class="line"><a name="l03435"></a><span class="lineno"> 3435</span>&#160;                              Intrinsic::x86_avx512_psra_q_128;</div>
<div class="line"><a name="l03436"></a><span class="lineno"> 3436</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a> == <span class="charliteral">&#39;w&#39;</span>) <span class="comment">// avx512.mask.psra.w.128, avx512.mask.psra.wi.128</span></div>
<div class="line"><a name="l03437"></a><span class="lineno"> 3437</span>&#160;          IID = IsImmediate ? Intrinsic::x86_sse2_psrai_w</div>
<div class="line"><a name="l03438"></a><span class="lineno"> 3438</span>&#160;                            : Intrinsic::x86_sse2_psra_w;</div>
<div class="line"><a name="l03439"></a><span class="lineno"> 3439</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l03440"></a><span class="lineno"> 3440</span>&#160;          <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unexpected size&quot;</span>);</div>
<div class="line"><a name="l03441"></a><span class="lineno"> 3441</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.endswith(<span class="stringliteral">&quot;.256&quot;</span>)) {</div>
<div class="line"><a name="l03442"></a><span class="lineno"> 3442</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a> == <span class="charliteral">&#39;d&#39;</span>) <span class="comment">// avx512.mask.psra.d.256, avx512.mask.psra.di.256</span></div>
<div class="line"><a name="l03443"></a><span class="lineno"> 3443</span>&#160;          IID = IsImmediate ? Intrinsic::x86_avx2_psrai_d</div>
<div class="line"><a name="l03444"></a><span class="lineno"> 3444</span>&#160;                            : Intrinsic::x86_avx2_psra_d;</div>
<div class="line"><a name="l03445"></a><span class="lineno"> 3445</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a> == <span class="charliteral">&#39;q&#39;</span>) <span class="comment">// avx512.mask.psra.q.256, avx512.mask.psra.qi.256</span></div>
<div class="line"><a name="l03446"></a><span class="lineno"> 3446</span>&#160;          IID = IsImmediate ? Intrinsic::x86_avx512_psrai_q_256 :</div>
<div class="line"><a name="l03447"></a><span class="lineno"> 3447</span>&#160;                IsVariable  ? Intrinsic::x86_avx512_psrav_q_256 :</div>
<div class="line"><a name="l03448"></a><span class="lineno"> 3448</span>&#160;                              Intrinsic::x86_avx512_psra_q_256;</div>
<div class="line"><a name="l03449"></a><span class="lineno"> 3449</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a> == <span class="charliteral">&#39;w&#39;</span>) <span class="comment">// avx512.mask.psra.w.256, avx512.mask.psra.wi.256</span></div>
<div class="line"><a name="l03450"></a><span class="lineno"> 3450</span>&#160;          IID = IsImmediate ? Intrinsic::x86_avx2_psrai_w</div>
<div class="line"><a name="l03451"></a><span class="lineno"> 3451</span>&#160;                            : Intrinsic::x86_avx2_psra_w;</div>
<div class="line"><a name="l03452"></a><span class="lineno"> 3452</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l03453"></a><span class="lineno"> 3453</span>&#160;          <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unexpected size&quot;</span>);</div>
<div class="line"><a name="l03454"></a><span class="lineno"> 3454</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03455"></a><span class="lineno"> 3455</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a> == <span class="charliteral">&#39;d&#39;</span>) <span class="comment">// psra.di.512, psrai.d, psra.d, psrav.d.512</span></div>
<div class="line"><a name="l03456"></a><span class="lineno"> 3456</span>&#160;          IID = IsImmediate ? Intrinsic::x86_avx512_psrai_d_512 :</div>
<div class="line"><a name="l03457"></a><span class="lineno"> 3457</span>&#160;                IsVariable  ? Intrinsic::x86_avx512_psrav_d_512 :</div>
<div class="line"><a name="l03458"></a><span class="lineno"> 3458</span>&#160;                              Intrinsic::x86_avx512_psra_d_512;</div>
<div class="line"><a name="l03459"></a><span class="lineno"> 3459</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a> == <span class="charliteral">&#39;q&#39;</span>) <span class="comment">// psra.qi.512, psrai.q, psra.q</span></div>
<div class="line"><a name="l03460"></a><span class="lineno"> 3460</span>&#160;          IID = IsImmediate ? Intrinsic::x86_avx512_psrai_q_512 :</div>
<div class="line"><a name="l03461"></a><span class="lineno"> 3461</span>&#160;                IsVariable  ? Intrinsic::x86_avx512_psrav_q_512 :</div>
<div class="line"><a name="l03462"></a><span class="lineno"> 3462</span>&#160;                              Intrinsic::x86_avx512_psra_q_512;</div>
<div class="line"><a name="l03463"></a><span class="lineno"> 3463</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a> == <span class="charliteral">&#39;w&#39;</span>) <span class="comment">// psra.wi.512, psrai.w, psra.w</span></div>
<div class="line"><a name="l03464"></a><span class="lineno"> 3464</span>&#160;          IID = IsImmediate ? Intrinsic::x86_avx512_psrai_w_512</div>
<div class="line"><a name="l03465"></a><span class="lineno"> 3465</span>&#160;                            : Intrinsic::x86_avx512_psra_w_512;</div>
<div class="line"><a name="l03466"></a><span class="lineno"> 3466</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l03467"></a><span class="lineno"> 3467</span>&#160;          <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unexpected size&quot;</span>);</div>
<div class="line"><a name="l03468"></a><span class="lineno"> 3468</span>&#160;      }</div>
<div class="line"><a name="l03469"></a><span class="lineno"> 3469</span>&#160; </div>
<div class="line"><a name="l03470"></a><span class="lineno"> 3470</span>&#160;      Rep = <a class="code" href="AutoUpgrade_8cpp.html#a00c0cd34e371d18fb5133e081402564d">UpgradeX86MaskedShift</a>(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, *CI, IID);</div>
<div class="line"><a name="l03471"></a><span class="lineno"> 3471</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsX86 &amp;&amp; <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.mask.move.s&quot;</span>)) {</div>
<div class="line"><a name="l03472"></a><span class="lineno"> 3472</span>&#160;      Rep = <a class="code" href="AutoUpgrade_8cpp.html#a5a66c3e8803b67b779af084294195f55">upgradeMaskedMove</a>(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, *CI);</div>
<div class="line"><a name="l03473"></a><span class="lineno"> 3473</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsX86 &amp;&amp; <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.cvtmask2&quot;</span>)) {</div>
<div class="line"><a name="l03474"></a><span class="lineno"> 3474</span>&#160;      Rep = <a class="code" href="AutoUpgrade_8cpp.html#a145a85533c28374b3be83c6d3ba6be4e">UpgradeMaskToInt</a>(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, *CI);</div>
<div class="line"><a name="l03475"></a><span class="lineno"> 3475</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsX86 &amp;&amp; <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.endswith(<span class="stringliteral">&quot;.movntdqa&quot;</span>)) {</div>
<div class="line"><a name="l03476"></a><span class="lineno"> 3476</span>&#160;      <a class="code" href="classllvm_1_1Module.html">Module</a> *<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a> = <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getParent();</div>
<div class="line"><a name="l03477"></a><span class="lineno"> 3477</span>&#160;      <a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *Node = <a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#aa91241c8c54738377749dc47ee489e0d">MDNode::get</a>(</div>
<div class="line"><a name="l03478"></a><span class="lineno"> 3478</span>&#160;          <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>, <a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#aa91241c8c54738377749dc47ee489e0d">ConstantAsMetadata::get</a>(<a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#aa91241c8c54738377749dc47ee489e0d">ConstantInt::get</a>(Type::getInt32Ty(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>), 1)));</div>
<div class="line"><a name="l03479"></a><span class="lineno"> 3479</span>&#160; </div>
<div class="line"><a name="l03480"></a><span class="lineno"> 3480</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a> = CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0);</div>
<div class="line"><a name="l03481"></a><span class="lineno"> 3481</span>&#160; </div>
<div class="line"><a name="l03482"></a><span class="lineno"> 3482</span>&#160;      <span class="comment">// Convert the type of the pointer to a pointer to the stored type.</span></div>
<div class="line"><a name="l03483"></a><span class="lineno"> 3483</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *BC = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateBitCast(</div>
<div class="line"><a name="l03484"></a><span class="lineno"> 3484</span>&#160;          <a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>, PointerType::getUnqual(CI-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()), <span class="stringliteral">&quot;cast&quot;</span>);</div>
<div class="line"><a name="l03485"></a><span class="lineno"> 3485</span>&#160;      <a class="code" href="classllvm_1_1LoadInst.html">LoadInst</a> *LI = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateAlignedLoad(</div>
<div class="line"><a name="l03486"></a><span class="lineno"> 3486</span>&#160;          CI-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>(), BC,</div>
<div class="line"><a name="l03487"></a><span class="lineno"> 3487</span>&#160;          <a class="code" href="structllvm_1_1Align.html">Align</a>(CI-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a833daf718a49c5cd637d8c9ddeaebe07">getPrimitiveSizeInBits</a>().<a class="code" href="classllvm_1_1details_1_1FixedOrScalableQuantity.html#a33880aaca0ad05e5f1557f079305bde5">getFixedValue</a>() / 8));</div>
<div class="line"><a name="l03488"></a><span class="lineno"> 3488</span>&#160;      LI-&gt;<a class="code" href="classllvm_1_1Instruction.html#a9247a212ea89acc9573fa7e7f557eaba">setMetadata</a>(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>-&gt;getMDKindID(<span class="stringliteral">&quot;nontemporal&quot;</span>), Node);</div>
<div class="line"><a name="l03489"></a><span class="lineno"> 3489</span>&#160;      Rep = LI;</div>
<div class="line"><a name="l03490"></a><span class="lineno"> 3490</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsX86 &amp;&amp; (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;fma.vfmadd.&quot;</span>) ||</div>
<div class="line"><a name="l03491"></a><span class="lineno"> 3491</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;fma.vfmsub.&quot;</span>) ||</div>
<div class="line"><a name="l03492"></a><span class="lineno"> 3492</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;fma.vfnmadd.&quot;</span>) ||</div>
<div class="line"><a name="l03493"></a><span class="lineno"> 3493</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;fma.vfnmsub.&quot;</span>))) {</div>
<div class="line"><a name="l03494"></a><span class="lineno"> 3494</span>&#160;      <span class="keywordtype">bool</span> NegMul = <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>[6] == <span class="charliteral">&#39;n&#39;</span>;</div>
<div class="line"><a name="l03495"></a><span class="lineno"> 3495</span>&#160;      <span class="keywordtype">bool</span> NegAcc = NegMul ? <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>[8] == <span class="charliteral">&#39;s&#39;</span> : <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>[7] == <span class="charliteral">&#39;s&#39;</span>;</div>
<div class="line"><a name="l03496"></a><span class="lineno"> 3496</span>&#160;      <span class="keywordtype">bool</span> IsScalar = NegMul ? <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>[12] == <span class="charliteral">&#39;s&#39;</span> : <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>[11] == <span class="charliteral">&#39;s&#39;</span>;</div>
<div class="line"><a name="l03497"></a><span class="lineno"> 3497</span>&#160; </div>
<div class="line"><a name="l03498"></a><span class="lineno"> 3498</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *Ops[] = { CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0), CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1),</div>
<div class="line"><a name="l03499"></a><span class="lineno"> 3499</span>&#160;                       CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(2) };</div>
<div class="line"><a name="l03500"></a><span class="lineno"> 3500</span>&#160; </div>
<div class="line"><a name="l03501"></a><span class="lineno"> 3501</span>&#160;      <span class="keywordflow">if</span> (IsScalar) {</div>
<div class="line"><a name="l03502"></a><span class="lineno"> 3502</span>&#160;        Ops[0] = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateExtractElement(Ops[0], (<a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a>)0);</div>
<div class="line"><a name="l03503"></a><span class="lineno"> 3503</span>&#160;        Ops[1] = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateExtractElement(Ops[1], (<a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a>)0);</div>
<div class="line"><a name="l03504"></a><span class="lineno"> 3504</span>&#160;        Ops[2] = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateExtractElement(Ops[2], (<a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a>)0);</div>
<div class="line"><a name="l03505"></a><span class="lineno"> 3505</span>&#160;      }</div>
<div class="line"><a name="l03506"></a><span class="lineno"> 3506</span>&#160; </div>
<div class="line"><a name="l03507"></a><span class="lineno"> 3507</span>&#160;      <span class="keywordflow">if</span> (NegMul &amp;&amp; !IsScalar)</div>
<div class="line"><a name="l03508"></a><span class="lineno"> 3508</span>&#160;        Ops[0] = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateFNeg(Ops[0]);</div>
<div class="line"><a name="l03509"></a><span class="lineno"> 3509</span>&#160;      <span class="keywordflow">if</span> (NegMul &amp;&amp; IsScalar)</div>
<div class="line"><a name="l03510"></a><span class="lineno"> 3510</span>&#160;        Ops[1] = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateFNeg(Ops[1]);</div>
<div class="line"><a name="l03511"></a><span class="lineno"> 3511</span>&#160;      <span class="keywordflow">if</span> (NegAcc)</div>
<div class="line"><a name="l03512"></a><span class="lineno"> 3512</span>&#160;        Ops[2] = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateFNeg(Ops[2]);</div>
<div class="line"><a name="l03513"></a><span class="lineno"> 3513</span>&#160; </div>
<div class="line"><a name="l03514"></a><span class="lineno"> 3514</span>&#160;      Rep = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateCall(<a class="code" href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">Intrinsic::getDeclaration</a>(CI-&gt;<a class="code" href="classllvm_1_1Instruction.html#a4ba3a5be6c0e9b9e8a525de055836733">getModule</a>(),</div>
<div class="line"><a name="l03515"></a><span class="lineno"> 3515</span>&#160;                                                         Intrinsic::fma,</div>
<div class="line"><a name="l03516"></a><span class="lineno"> 3516</span>&#160;                                                         Ops[0]-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()),</div>
<div class="line"><a name="l03517"></a><span class="lineno"> 3517</span>&#160;                               Ops);</div>
<div class="line"><a name="l03518"></a><span class="lineno"> 3518</span>&#160; </div>
<div class="line"><a name="l03519"></a><span class="lineno"> 3519</span>&#160;      <span class="keywordflow">if</span> (IsScalar)</div>
<div class="line"><a name="l03520"></a><span class="lineno"> 3520</span>&#160;        Rep = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateInsertElement(CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0), Rep,</div>
<div class="line"><a name="l03521"></a><span class="lineno"> 3521</span>&#160;                                          (<a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a>)0);</div>
<div class="line"><a name="l03522"></a><span class="lineno"> 3522</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsX86 &amp;&amp; <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;fma4.vfmadd.s&quot;</span>)) {</div>
<div class="line"><a name="l03523"></a><span class="lineno"> 3523</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *Ops[] = { CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0), CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1),</div>
<div class="line"><a name="l03524"></a><span class="lineno"> 3524</span>&#160;                       CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(2) };</div>
<div class="line"><a name="l03525"></a><span class="lineno"> 3525</span>&#160; </div>
<div class="line"><a name="l03526"></a><span class="lineno"> 3526</span>&#160;      Ops[0] = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateExtractElement(Ops[0], (<a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a>)0);</div>
<div class="line"><a name="l03527"></a><span class="lineno"> 3527</span>&#160;      Ops[1] = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateExtractElement(Ops[1], (<a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a>)0);</div>
<div class="line"><a name="l03528"></a><span class="lineno"> 3528</span>&#160;      Ops[2] = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateExtractElement(Ops[2], (<a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a>)0);</div>
<div class="line"><a name="l03529"></a><span class="lineno"> 3529</span>&#160; </div>
<div class="line"><a name="l03530"></a><span class="lineno"> 3530</span>&#160;      Rep = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateCall(<a class="code" href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">Intrinsic::getDeclaration</a>(CI-&gt;<a class="code" href="classllvm_1_1Instruction.html#a4ba3a5be6c0e9b9e8a525de055836733">getModule</a>(),</div>
<div class="line"><a name="l03531"></a><span class="lineno"> 3531</span>&#160;                                                         Intrinsic::fma,</div>
<div class="line"><a name="l03532"></a><span class="lineno"> 3532</span>&#160;                                                         Ops[0]-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()),</div>
<div class="line"><a name="l03533"></a><span class="lineno"> 3533</span>&#160;                               Ops);</div>
<div class="line"><a name="l03534"></a><span class="lineno"> 3534</span>&#160; </div>
<div class="line"><a name="l03535"></a><span class="lineno"> 3535</span>&#160;      Rep = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateInsertElement(Constant::getNullValue(CI-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()),</div>
<div class="line"><a name="l03536"></a><span class="lineno"> 3536</span>&#160;                                        Rep, (<a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a>)0);</div>
<div class="line"><a name="l03537"></a><span class="lineno"> 3537</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsX86 &amp;&amp; (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.mask.vfmadd.s&quot;</span>) ||</div>
<div class="line"><a name="l03538"></a><span class="lineno"> 3538</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.maskz.vfmadd.s&quot;</span>) ||</div>
<div class="line"><a name="l03539"></a><span class="lineno"> 3539</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.mask3.vfmadd.s&quot;</span>) ||</div>
<div class="line"><a name="l03540"></a><span class="lineno"> 3540</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.mask3.vfmsub.s&quot;</span>) ||</div>
<div class="line"><a name="l03541"></a><span class="lineno"> 3541</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.mask3.vfnmsub.s&quot;</span>))) {</div>
<div class="line"><a name="l03542"></a><span class="lineno"> 3542</span>&#160;      <span class="keywordtype">bool</span> IsMask3 = <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>[11] == <span class="charliteral">&#39;3&#39;</span>;</div>
<div class="line"><a name="l03543"></a><span class="lineno"> 3543</span>&#160;      <span class="keywordtype">bool</span> IsMaskZ = <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>[11] == <span class="charliteral">&#39;z&#39;</span>;</div>
<div class="line"><a name="l03544"></a><span class="lineno"> 3544</span>&#160;      <span class="comment">// Drop the &quot;avx512.mask.&quot; to make it easier.</span></div>
<div class="line"><a name="l03545"></a><span class="lineno"> 3545</span>&#160;      <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> = <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.drop_front(IsMask3 || IsMaskZ ? 13 : 12);</div>
<div class="line"><a name="l03546"></a><span class="lineno"> 3546</span>&#160;      <span class="keywordtype">bool</span> NegMul = <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>[2] == <span class="charliteral">&#39;n&#39;</span>;</div>
<div class="line"><a name="l03547"></a><span class="lineno"> 3547</span>&#160;      <span class="keywordtype">bool</span> NegAcc = NegMul ? <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>[4] == <span class="charliteral">&#39;s&#39;</span> : <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>[3] == <span class="charliteral">&#39;s&#39;</span>;</div>
<div class="line"><a name="l03548"></a><span class="lineno"> 3548</span>&#160; </div>
<div class="line"><a name="l03549"></a><span class="lineno"> 3549</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="README__ALTIVEC_8txt.html#a015846b6188ce15e08cd94c74a9df1a3">A</a> = CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0);</div>
<div class="line"><a name="l03550"></a><span class="lineno"> 3550</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a> = CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1);</div>
<div class="line"><a name="l03551"></a><span class="lineno"> 3551</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(2);</div>
<div class="line"><a name="l03552"></a><span class="lineno"> 3552</span>&#160; </div>
<div class="line"><a name="l03553"></a><span class="lineno"> 3553</span>&#160;      <span class="keywordflow">if</span> (NegMul &amp;&amp; (IsMask3 || IsMaskZ))</div>
<div class="line"><a name="l03554"></a><span class="lineno"> 3554</span>&#160;        <a class="code" href="README__ALTIVEC_8txt.html#a015846b6188ce15e08cd94c74a9df1a3">A</a> = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateFNeg(<a class="code" href="README__ALTIVEC_8txt.html#a015846b6188ce15e08cd94c74a9df1a3">A</a>);</div>
<div class="line"><a name="l03555"></a><span class="lineno"> 3555</span>&#160;      <span class="keywordflow">if</span> (NegMul &amp;&amp; !(IsMask3 || IsMaskZ))</div>
<div class="line"><a name="l03556"></a><span class="lineno"> 3556</span>&#160;        <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a> = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateFNeg(<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>);</div>
<div class="line"><a name="l03557"></a><span class="lineno"> 3557</span>&#160;      <span class="keywordflow">if</span> (NegAcc)</div>
<div class="line"><a name="l03558"></a><span class="lineno"> 3558</span>&#160;        <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateFNeg(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>);</div>
<div class="line"><a name="l03559"></a><span class="lineno"> 3559</span>&#160; </div>
<div class="line"><a name="l03560"></a><span class="lineno"> 3560</span>&#160;      <a class="code" href="README__ALTIVEC_8txt.html#a015846b6188ce15e08cd94c74a9df1a3">A</a> = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateExtractElement(<a class="code" href="README__ALTIVEC_8txt.html#a015846b6188ce15e08cd94c74a9df1a3">A</a>, (<a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a>)0);</div>
<div class="line"><a name="l03561"></a><span class="lineno"> 3561</span>&#160;      <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a> = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateExtractElement(<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>, (<a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a>)0);</div>
<div class="line"><a name="l03562"></a><span class="lineno"> 3562</span>&#160;      <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateExtractElement(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>, (<a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a>)0);</div>
<div class="line"><a name="l03563"></a><span class="lineno"> 3563</span>&#160; </div>
<div class="line"><a name="l03564"></a><span class="lineno"> 3564</span>&#160;      <span class="keywordflow">if</span> (!isa&lt;ConstantInt&gt;(CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(4)) ||</div>
<div class="line"><a name="l03565"></a><span class="lineno"> 3565</span>&#160;          cast&lt;ConstantInt&gt;(CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(4))-&gt;getZExtValue() != 4) {</div>
<div class="line"><a name="l03566"></a><span class="lineno"> 3566</span>&#160;        <a class="code" href="classllvm_1_1Value.html">Value</a> *Ops[] = { <a class="code" href="README__ALTIVEC_8txt.html#a015846b6188ce15e08cd94c74a9df1a3">A</a>, <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>, <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>, CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(4) };</div>
<div class="line"><a name="l03567"></a><span class="lineno"> 3567</span>&#160; </div>
<div class="line"><a name="l03568"></a><span class="lineno"> 3568</span>&#160;        <a class="code" href="namespacellvm_1_1Intrinsic.html#a80add6b3b1cdaec560907995127adc16">Intrinsic::ID</a> IID;</div>
<div class="line"><a name="l03569"></a><span class="lineno"> 3569</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.back() == <span class="charliteral">&#39;d&#39;</span>)</div>
<div class="line"><a name="l03570"></a><span class="lineno"> 3570</span>&#160;          IID = Intrinsic::x86_avx512_vfmadd_f64;</div>
<div class="line"><a name="l03571"></a><span class="lineno"> 3571</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l03572"></a><span class="lineno"> 3572</span>&#160;          IID = Intrinsic::x86_avx512_vfmadd_f32;</div>
<div class="line"><a name="l03573"></a><span class="lineno"> 3573</span>&#160;        <a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a293ca68b3b2ce80eef991de822822254">FMA</a> = <a class="code" href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">Intrinsic::getDeclaration</a>(CI-&gt;<a class="code" href="classllvm_1_1Instruction.html#a4ba3a5be6c0e9b9e8a525de055836733">getModule</a>(), IID);</div>
<div class="line"><a name="l03574"></a><span class="lineno"> 3574</span>&#160;        Rep = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateCall(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a293ca68b3b2ce80eef991de822822254">FMA</a>, Ops);</div>
<div class="line"><a name="l03575"></a><span class="lineno"> 3575</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03576"></a><span class="lineno"> 3576</span>&#160;        <a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a293ca68b3b2ce80eef991de822822254">FMA</a> = <a class="code" href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">Intrinsic::getDeclaration</a>(CI-&gt;<a class="code" href="classllvm_1_1Instruction.html#a4ba3a5be6c0e9b9e8a525de055836733">getModule</a>(),</div>
<div class="line"><a name="l03577"></a><span class="lineno"> 3577</span>&#160;                                                  Intrinsic::fma,</div>
<div class="line"><a name="l03578"></a><span class="lineno"> 3578</span>&#160;                                                  <a class="code" href="README__ALTIVEC_8txt.html#a015846b6188ce15e08cd94c74a9df1a3">A</a>-&gt;getType());</div>
<div class="line"><a name="l03579"></a><span class="lineno"> 3579</span>&#160;        Rep = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateCall(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a293ca68b3b2ce80eef991de822822254">FMA</a>, { <a class="code" href="README__ALTIVEC_8txt.html#a015846b6188ce15e08cd94c74a9df1a3">A</a>, <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>, <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> });</div>
<div class="line"><a name="l03580"></a><span class="lineno"> 3580</span>&#160;      }</div>
<div class="line"><a name="l03581"></a><span class="lineno"> 3581</span>&#160; </div>
<div class="line"><a name="l03582"></a><span class="lineno"> 3582</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *PassThru = IsMaskZ ? Constant::getNullValue(Rep-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()) :</div>
<div class="line"><a name="l03583"></a><span class="lineno"> 3583</span>&#160;                        IsMask3 ? <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> : <a class="code" href="README__ALTIVEC_8txt.html#a015846b6188ce15e08cd94c74a9df1a3">A</a>;</div>
<div class="line"><a name="l03584"></a><span class="lineno"> 3584</span>&#160; </div>
<div class="line"><a name="l03585"></a><span class="lineno"> 3585</span>&#160;      <span class="comment">// For Mask3 with NegAcc, we need to create a new extractelement that</span></div>
<div class="line"><a name="l03586"></a><span class="lineno"> 3586</span>&#160;      <span class="comment">// avoids the negation above.</span></div>
<div class="line"><a name="l03587"></a><span class="lineno"> 3587</span>&#160;      <span class="keywordflow">if</span> (NegAcc &amp;&amp; IsMask3)</div>
<div class="line"><a name="l03588"></a><span class="lineno"> 3588</span>&#160;        PassThru = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateExtractElement(CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(2),</div>
<div class="line"><a name="l03589"></a><span class="lineno"> 3589</span>&#160;                                                (<a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a>)0);</div>
<div class="line"><a name="l03590"></a><span class="lineno"> 3590</span>&#160; </div>
<div class="line"><a name="l03591"></a><span class="lineno"> 3591</span>&#160;      Rep = <a class="code" href="AutoUpgrade_8cpp.html#a8a4e993486880e6b320b0dee4ce41938">EmitX86ScalarSelect</a>(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(3),</div>
<div class="line"><a name="l03592"></a><span class="lineno"> 3592</span>&#160;                                Rep, PassThru);</div>
<div class="line"><a name="l03593"></a><span class="lineno"> 3593</span>&#160;      Rep = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateInsertElement(CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(IsMask3 ? 2 : 0),</div>
<div class="line"><a name="l03594"></a><span class="lineno"> 3594</span>&#160;                                        Rep, (<a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a>)0);</div>
<div class="line"><a name="l03595"></a><span class="lineno"> 3595</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsX86 &amp;&amp; (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.mask.vfmadd.p&quot;</span>) ||</div>
<div class="line"><a name="l03596"></a><span class="lineno"> 3596</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.mask.vfnmadd.p&quot;</span>) ||</div>
<div class="line"><a name="l03597"></a><span class="lineno"> 3597</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.mask.vfnmsub.p&quot;</span>) ||</div>
<div class="line"><a name="l03598"></a><span class="lineno"> 3598</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.mask3.vfmadd.p&quot;</span>) ||</div>
<div class="line"><a name="l03599"></a><span class="lineno"> 3599</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.mask3.vfmsub.p&quot;</span>) ||</div>
<div class="line"><a name="l03600"></a><span class="lineno"> 3600</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.mask3.vfnmsub.p&quot;</span>) ||</div>
<div class="line"><a name="l03601"></a><span class="lineno"> 3601</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.maskz.vfmadd.p&quot;</span>))) {</div>
<div class="line"><a name="l03602"></a><span class="lineno"> 3602</span>&#160;      <span class="keywordtype">bool</span> IsMask3 = <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>[11] == <span class="charliteral">&#39;3&#39;</span>;</div>
<div class="line"><a name="l03603"></a><span class="lineno"> 3603</span>&#160;      <span class="keywordtype">bool</span> IsMaskZ = <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>[11] == <span class="charliteral">&#39;z&#39;</span>;</div>
<div class="line"><a name="l03604"></a><span class="lineno"> 3604</span>&#160;      <span class="comment">// Drop the &quot;avx512.mask.&quot; to make it easier.</span></div>
<div class="line"><a name="l03605"></a><span class="lineno"> 3605</span>&#160;      <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> = <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.drop_front(IsMask3 || IsMaskZ ? 13 : 12);</div>
<div class="line"><a name="l03606"></a><span class="lineno"> 3606</span>&#160;      <span class="keywordtype">bool</span> NegMul = <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>[2] == <span class="charliteral">&#39;n&#39;</span>;</div>
<div class="line"><a name="l03607"></a><span class="lineno"> 3607</span>&#160;      <span class="keywordtype">bool</span> NegAcc = NegMul ? <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>[4] == <span class="charliteral">&#39;s&#39;</span> : <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>[3] == <span class="charliteral">&#39;s&#39;</span>;</div>
<div class="line"><a name="l03608"></a><span class="lineno"> 3608</span>&#160; </div>
<div class="line"><a name="l03609"></a><span class="lineno"> 3609</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="README__ALTIVEC_8txt.html#a015846b6188ce15e08cd94c74a9df1a3">A</a> = CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0);</div>
<div class="line"><a name="l03610"></a><span class="lineno"> 3610</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a> = CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1);</div>
<div class="line"><a name="l03611"></a><span class="lineno"> 3611</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(2);</div>
<div class="line"><a name="l03612"></a><span class="lineno"> 3612</span>&#160; </div>
<div class="line"><a name="l03613"></a><span class="lineno"> 3613</span>&#160;      <span class="keywordflow">if</span> (NegMul &amp;&amp; (IsMask3 || IsMaskZ))</div>
<div class="line"><a name="l03614"></a><span class="lineno"> 3614</span>&#160;        <a class="code" href="README__ALTIVEC_8txt.html#a015846b6188ce15e08cd94c74a9df1a3">A</a> = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateFNeg(<a class="code" href="README__ALTIVEC_8txt.html#a015846b6188ce15e08cd94c74a9df1a3">A</a>);</div>
<div class="line"><a name="l03615"></a><span class="lineno"> 3615</span>&#160;      <span class="keywordflow">if</span> (NegMul &amp;&amp; !(IsMask3 || IsMaskZ))</div>
<div class="line"><a name="l03616"></a><span class="lineno"> 3616</span>&#160;        <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a> = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateFNeg(<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>);</div>
<div class="line"><a name="l03617"></a><span class="lineno"> 3617</span>&#160;      <span class="keywordflow">if</span> (NegAcc)</div>
<div class="line"><a name="l03618"></a><span class="lineno"> 3618</span>&#160;        <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateFNeg(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>);</div>
<div class="line"><a name="l03619"></a><span class="lineno"> 3619</span>&#160; </div>
<div class="line"><a name="l03620"></a><span class="lineno"> 3620</span>&#160;      <span class="keywordflow">if</span> (CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#adde2ea00dd2613ee41bfe91908e4e68e">arg_size</a>() == 5 &amp;&amp;</div>
<div class="line"><a name="l03621"></a><span class="lineno"> 3621</span>&#160;          (!isa&lt;ConstantInt&gt;(CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(4)) ||</div>
<div class="line"><a name="l03622"></a><span class="lineno"> 3622</span>&#160;           cast&lt;ConstantInt&gt;(CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(4))-&gt;getZExtValue() != 4)) {</div>
<div class="line"><a name="l03623"></a><span class="lineno"> 3623</span>&#160;        <a class="code" href="namespacellvm_1_1Intrinsic.html#a80add6b3b1cdaec560907995127adc16">Intrinsic::ID</a> IID;</div>
<div class="line"><a name="l03624"></a><span class="lineno"> 3624</span>&#160;        <span class="comment">// Check the character before &quot;.512&quot; in string.</span></div>
<div class="line"><a name="l03625"></a><span class="lineno"> 3625</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>[<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.size()-5] == <span class="charliteral">&#39;s&#39;</span>)</div>
<div class="line"><a name="l03626"></a><span class="lineno"> 3626</span>&#160;          IID = Intrinsic::x86_avx512_vfmadd_ps_512;</div>
<div class="line"><a name="l03627"></a><span class="lineno"> 3627</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l03628"></a><span class="lineno"> 3628</span>&#160;          IID = Intrinsic::x86_avx512_vfmadd_pd_512;</div>
<div class="line"><a name="l03629"></a><span class="lineno"> 3629</span>&#160; </div>
<div class="line"><a name="l03630"></a><span class="lineno"> 3630</span>&#160;        Rep = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateCall(<a class="code" href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">Intrinsic::getDeclaration</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getParent(), IID),</div>
<div class="line"><a name="l03631"></a><span class="lineno"> 3631</span>&#160;                                 { A, B, C, CI-&gt;getArgOperand(4) });</div>
<div class="line"><a name="l03632"></a><span class="lineno"> 3632</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03633"></a><span class="lineno"> 3633</span>&#160;        <a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a293ca68b3b2ce80eef991de822822254">FMA</a> = <a class="code" href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">Intrinsic::getDeclaration</a>(CI-&gt;<a class="code" href="classllvm_1_1Instruction.html#a4ba3a5be6c0e9b9e8a525de055836733">getModule</a>(),</div>
<div class="line"><a name="l03634"></a><span class="lineno"> 3634</span>&#160;                                                  Intrinsic::fma,</div>
<div class="line"><a name="l03635"></a><span class="lineno"> 3635</span>&#160;                                                  <a class="code" href="README__ALTIVEC_8txt.html#a015846b6188ce15e08cd94c74a9df1a3">A</a>-&gt;getType());</div>
<div class="line"><a name="l03636"></a><span class="lineno"> 3636</span>&#160;        Rep = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateCall(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a293ca68b3b2ce80eef991de822822254">FMA</a>, { <a class="code" href="README__ALTIVEC_8txt.html#a015846b6188ce15e08cd94c74a9df1a3">A</a>, <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>, <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> });</div>
<div class="line"><a name="l03637"></a><span class="lineno"> 3637</span>&#160;      }</div>
<div class="line"><a name="l03638"></a><span class="lineno"> 3638</span>&#160; </div>
<div class="line"><a name="l03639"></a><span class="lineno"> 3639</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *PassThru = IsMaskZ ? <a class="code" href="classllvm_1_1Constant.html#aa6574d526b3e38a28f688a7bb4325c2c">llvm::Constant::getNullValue</a>(CI-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()) :</div>
<div class="line"><a name="l03640"></a><span class="lineno"> 3640</span>&#160;                        IsMask3 ? CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(2) :</div>
<div class="line"><a name="l03641"></a><span class="lineno"> 3641</span>&#160;                                  CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0);</div>
<div class="line"><a name="l03642"></a><span class="lineno"> 3642</span>&#160; </div>
<div class="line"><a name="l03643"></a><span class="lineno"> 3643</span>&#160;      Rep = <a class="code" href="AutoUpgrade_8cpp.html#a8184e757708d747af9b314cdfe238b2c">EmitX86Select</a>(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(3), Rep, PassThru);</div>
<div class="line"><a name="l03644"></a><span class="lineno"> 3644</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsX86 &amp;&amp;  <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;fma.vfmsubadd.p&quot;</span>)) {</div>
<div class="line"><a name="l03645"></a><span class="lineno"> 3645</span>&#160;      <span class="keywordtype">unsigned</span> VecWidth = CI-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a833daf718a49c5cd637d8c9ddeaebe07">getPrimitiveSizeInBits</a>();</div>
<div class="line"><a name="l03646"></a><span class="lineno"> 3646</span>&#160;      <span class="keywordtype">unsigned</span> EltWidth = CI-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a9f382207d841377156d4c7868b66b9a5">getScalarSizeInBits</a>();</div>
<div class="line"><a name="l03647"></a><span class="lineno"> 3647</span>&#160;      <a class="code" href="namespacellvm_1_1Intrinsic.html#a80add6b3b1cdaec560907995127adc16">Intrinsic::ID</a> IID;</div>
<div class="line"><a name="l03648"></a><span class="lineno"> 3648</span>&#160;      <span class="keywordflow">if</span> (VecWidth == 128 &amp;&amp; EltWidth == 32)</div>
<div class="line"><a name="l03649"></a><span class="lineno"> 3649</span>&#160;        IID = Intrinsic::x86_fma_vfmaddsub_ps;</div>
<div class="line"><a name="l03650"></a><span class="lineno"> 3650</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (VecWidth == 256 &amp;&amp; EltWidth == 32)</div>
<div class="line"><a name="l03651"></a><span class="lineno"> 3651</span>&#160;        IID = Intrinsic::x86_fma_vfmaddsub_ps_256;</div>
<div class="line"><a name="l03652"></a><span class="lineno"> 3652</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (VecWidth == 128 &amp;&amp; EltWidth == 64)</div>
<div class="line"><a name="l03653"></a><span class="lineno"> 3653</span>&#160;        IID = Intrinsic::x86_fma_vfmaddsub_pd;</div>
<div class="line"><a name="l03654"></a><span class="lineno"> 3654</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (VecWidth == 256 &amp;&amp; EltWidth == 64)</div>
<div class="line"><a name="l03655"></a><span class="lineno"> 3655</span>&#160;        IID = Intrinsic::x86_fma_vfmaddsub_pd_256;</div>
<div class="line"><a name="l03656"></a><span class="lineno"> 3656</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l03657"></a><span class="lineno"> 3657</span>&#160;        <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unexpected intrinsic&quot;</span>);</div>
<div class="line"><a name="l03658"></a><span class="lineno"> 3658</span>&#160; </div>
<div class="line"><a name="l03659"></a><span class="lineno"> 3659</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *Ops[] = { CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0), CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1),</div>
<div class="line"><a name="l03660"></a><span class="lineno"> 3660</span>&#160;                       CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(2) };</div>
<div class="line"><a name="l03661"></a><span class="lineno"> 3661</span>&#160;      Ops[2] = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateFNeg(Ops[2]);</div>
<div class="line"><a name="l03662"></a><span class="lineno"> 3662</span>&#160;      Rep = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateCall(<a class="code" href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">Intrinsic::getDeclaration</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getParent(), IID),</div>
<div class="line"><a name="l03663"></a><span class="lineno"> 3663</span>&#160;                               Ops);</div>
<div class="line"><a name="l03664"></a><span class="lineno"> 3664</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsX86 &amp;&amp; (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.mask.vfmaddsub.p&quot;</span>) ||</div>
<div class="line"><a name="l03665"></a><span class="lineno"> 3665</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.mask3.vfmaddsub.p&quot;</span>) ||</div>
<div class="line"><a name="l03666"></a><span class="lineno"> 3666</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.maskz.vfmaddsub.p&quot;</span>) ||</div>
<div class="line"><a name="l03667"></a><span class="lineno"> 3667</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.mask3.vfmsubadd.p&quot;</span>))) {</div>
<div class="line"><a name="l03668"></a><span class="lineno"> 3668</span>&#160;      <span class="keywordtype">bool</span> IsMask3 = <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>[11] == <span class="charliteral">&#39;3&#39;</span>;</div>
<div class="line"><a name="l03669"></a><span class="lineno"> 3669</span>&#160;      <span class="keywordtype">bool</span> IsMaskZ = <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>[11] == <span class="charliteral">&#39;z&#39;</span>;</div>
<div class="line"><a name="l03670"></a><span class="lineno"> 3670</span>&#160;      <span class="comment">// Drop the &quot;avx512.mask.&quot; to make it easier.</span></div>
<div class="line"><a name="l03671"></a><span class="lineno"> 3671</span>&#160;      <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> = <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.drop_front(IsMask3 || IsMaskZ ? 13 : 12);</div>
<div class="line"><a name="l03672"></a><span class="lineno"> 3672</span>&#160;      <span class="keywordtype">bool</span> IsSubAdd = <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>[3] == <span class="charliteral">&#39;s&#39;</span>;</div>
<div class="line"><a name="l03673"></a><span class="lineno"> 3673</span>&#160;      <span class="keywordflow">if</span> (CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#adde2ea00dd2613ee41bfe91908e4e68e">arg_size</a>() == 5) {</div>
<div class="line"><a name="l03674"></a><span class="lineno"> 3674</span>&#160;        <a class="code" href="namespacellvm_1_1Intrinsic.html#a80add6b3b1cdaec560907995127adc16">Intrinsic::ID</a> IID;</div>
<div class="line"><a name="l03675"></a><span class="lineno"> 3675</span>&#160;        <span class="comment">// Check the character before &quot;.512&quot; in string.</span></div>
<div class="line"><a name="l03676"></a><span class="lineno"> 3676</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>[<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.size()-5] == <span class="charliteral">&#39;s&#39;</span>)</div>
<div class="line"><a name="l03677"></a><span class="lineno"> 3677</span>&#160;          IID = Intrinsic::x86_avx512_vfmaddsub_ps_512;</div>
<div class="line"><a name="l03678"></a><span class="lineno"> 3678</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l03679"></a><span class="lineno"> 3679</span>&#160;          IID = Intrinsic::x86_avx512_vfmaddsub_pd_512;</div>
<div class="line"><a name="l03680"></a><span class="lineno"> 3680</span>&#160; </div>
<div class="line"><a name="l03681"></a><span class="lineno"> 3681</span>&#160;        <a class="code" href="classllvm_1_1Value.html">Value</a> *Ops[] = { CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0), CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1),</div>
<div class="line"><a name="l03682"></a><span class="lineno"> 3682</span>&#160;                         CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(2), CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(4) };</div>
<div class="line"><a name="l03683"></a><span class="lineno"> 3683</span>&#160;        <span class="keywordflow">if</span> (IsSubAdd)</div>
<div class="line"><a name="l03684"></a><span class="lineno"> 3684</span>&#160;          Ops[2] = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateFNeg(Ops[2]);</div>
<div class="line"><a name="l03685"></a><span class="lineno"> 3685</span>&#160; </div>
<div class="line"><a name="l03686"></a><span class="lineno"> 3686</span>&#160;        Rep = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateCall(<a class="code" href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">Intrinsic::getDeclaration</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getParent(), IID),</div>
<div class="line"><a name="l03687"></a><span class="lineno"> 3687</span>&#160;                                 Ops);</div>
<div class="line"><a name="l03688"></a><span class="lineno"> 3688</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03689"></a><span class="lineno"> 3689</span>&#160;        <span class="keywordtype">int</span> NumElts = cast&lt;FixedVectorType&gt;(CI-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>())-&gt;getNumElements();</div>
<div class="line"><a name="l03690"></a><span class="lineno"> 3690</span>&#160; </div>
<div class="line"><a name="l03691"></a><span class="lineno"> 3691</span>&#160;        <a class="code" href="classllvm_1_1Value.html">Value</a> *Ops[] = { CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0), CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1),</div>
<div class="line"><a name="l03692"></a><span class="lineno"> 3692</span>&#160;                         CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(2) };</div>
<div class="line"><a name="l03693"></a><span class="lineno"> 3693</span>&#160; </div>
<div class="line"><a name="l03694"></a><span class="lineno"> 3694</span>&#160;        <a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a293ca68b3b2ce80eef991de822822254">FMA</a> = <a class="code" href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">Intrinsic::getDeclaration</a>(CI-&gt;<a class="code" href="classllvm_1_1Instruction.html#a4ba3a5be6c0e9b9e8a525de055836733">getModule</a>(), Intrinsic::fma,</div>
<div class="line"><a name="l03695"></a><span class="lineno"> 3695</span>&#160;                                                  Ops[0]-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l03696"></a><span class="lineno"> 3696</span>&#160;        <a class="code" href="classllvm_1_1Value.html">Value</a> *Odd = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateCall(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a293ca68b3b2ce80eef991de822822254">FMA</a>, Ops);</div>
<div class="line"><a name="l03697"></a><span class="lineno"> 3697</span>&#160;        Ops[2] = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateFNeg(Ops[2]);</div>
<div class="line"><a name="l03698"></a><span class="lineno"> 3698</span>&#160;        <a class="code" href="classllvm_1_1Value.html">Value</a> *Even = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateCall(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a293ca68b3b2ce80eef991de822822254">FMA</a>, Ops);</div>
<div class="line"><a name="l03699"></a><span class="lineno"> 3699</span>&#160; </div>
<div class="line"><a name="l03700"></a><span class="lineno"> 3700</span>&#160;        <span class="keywordflow">if</span> (IsSubAdd)</div>
<div class="line"><a name="l03701"></a><span class="lineno"> 3701</span>&#160;          <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(Even, Odd);</div>
<div class="line"><a name="l03702"></a><span class="lineno"> 3702</span>&#160; </div>
<div class="line"><a name="l03703"></a><span class="lineno"> 3703</span>&#160;        <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;int, 32&gt;</a> Idxs(NumElts);</div>
<div class="line"><a name="l03704"></a><span class="lineno"> 3704</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != NumElts; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><a name="l03705"></a><span class="lineno"> 3705</span>&#160;          Idxs[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> + (<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> % 2) * NumElts;</div>
<div class="line"><a name="l03706"></a><span class="lineno"> 3706</span>&#160; </div>
<div class="line"><a name="l03707"></a><span class="lineno"> 3707</span>&#160;        Rep = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateShuffleVector(Even, Odd, Idxs);</div>
<div class="line"><a name="l03708"></a><span class="lineno"> 3708</span>&#160;      }</div>
<div class="line"><a name="l03709"></a><span class="lineno"> 3709</span>&#160; </div>
<div class="line"><a name="l03710"></a><span class="lineno"> 3710</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *PassThru = IsMaskZ ? <a class="code" href="classllvm_1_1Constant.html#aa6574d526b3e38a28f688a7bb4325c2c">llvm::Constant::getNullValue</a>(CI-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()) :</div>
<div class="line"><a name="l03711"></a><span class="lineno"> 3711</span>&#160;                        IsMask3 ? CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(2) :</div>
<div class="line"><a name="l03712"></a><span class="lineno"> 3712</span>&#160;                                  CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0);</div>
<div class="line"><a name="l03713"></a><span class="lineno"> 3713</span>&#160; </div>
<div class="line"><a name="l03714"></a><span class="lineno"> 3714</span>&#160;      Rep = <a class="code" href="AutoUpgrade_8cpp.html#a8184e757708d747af9b314cdfe238b2c">EmitX86Select</a>(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(3), Rep, PassThru);</div>
<div class="line"><a name="l03715"></a><span class="lineno"> 3715</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsX86 &amp;&amp; (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.mask.pternlog.&quot;</span>) ||</div>
<div class="line"><a name="l03716"></a><span class="lineno"> 3716</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.maskz.pternlog.&quot;</span>))) {</div>
<div class="line"><a name="l03717"></a><span class="lineno"> 3717</span>&#160;      <span class="keywordtype">bool</span> ZeroMask = <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>[11] == <span class="charliteral">&#39;z&#39;</span>;</div>
<div class="line"><a name="l03718"></a><span class="lineno"> 3718</span>&#160;      <span class="keywordtype">unsigned</span> VecWidth = CI-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a833daf718a49c5cd637d8c9ddeaebe07">getPrimitiveSizeInBits</a>();</div>
<div class="line"><a name="l03719"></a><span class="lineno"> 3719</span>&#160;      <span class="keywordtype">unsigned</span> EltWidth = CI-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a9f382207d841377156d4c7868b66b9a5">getScalarSizeInBits</a>();</div>
<div class="line"><a name="l03720"></a><span class="lineno"> 3720</span>&#160;      <a class="code" href="namespacellvm_1_1Intrinsic.html#a80add6b3b1cdaec560907995127adc16">Intrinsic::ID</a> IID;</div>
<div class="line"><a name="l03721"></a><span class="lineno"> 3721</span>&#160;      <span class="keywordflow">if</span> (VecWidth == 128 &amp;&amp; EltWidth == 32)</div>
<div class="line"><a name="l03722"></a><span class="lineno"> 3722</span>&#160;        IID = Intrinsic::x86_avx512_pternlog_d_128;</div>
<div class="line"><a name="l03723"></a><span class="lineno"> 3723</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (VecWidth == 256 &amp;&amp; EltWidth == 32)</div>
<div class="line"><a name="l03724"></a><span class="lineno"> 3724</span>&#160;        IID = Intrinsic::x86_avx512_pternlog_d_256;</div>
<div class="line"><a name="l03725"></a><span class="lineno"> 3725</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (VecWidth == 512 &amp;&amp; EltWidth == 32)</div>
<div class="line"><a name="l03726"></a><span class="lineno"> 3726</span>&#160;        IID = Intrinsic::x86_avx512_pternlog_d_512;</div>
<div class="line"><a name="l03727"></a><span class="lineno"> 3727</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (VecWidth == 128 &amp;&amp; EltWidth == 64)</div>
<div class="line"><a name="l03728"></a><span class="lineno"> 3728</span>&#160;        IID = Intrinsic::x86_avx512_pternlog_q_128;</div>
<div class="line"><a name="l03729"></a><span class="lineno"> 3729</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (VecWidth == 256 &amp;&amp; EltWidth == 64)</div>
<div class="line"><a name="l03730"></a><span class="lineno"> 3730</span>&#160;        IID = Intrinsic::x86_avx512_pternlog_q_256;</div>
<div class="line"><a name="l03731"></a><span class="lineno"> 3731</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (VecWidth == 512 &amp;&amp; EltWidth == 64)</div>
<div class="line"><a name="l03732"></a><span class="lineno"> 3732</span>&#160;        IID = Intrinsic::x86_avx512_pternlog_q_512;</div>
<div class="line"><a name="l03733"></a><span class="lineno"> 3733</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l03734"></a><span class="lineno"> 3734</span>&#160;        <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unexpected intrinsic&quot;</span>);</div>
<div class="line"><a name="l03735"></a><span class="lineno"> 3735</span>&#160; </div>
<div class="line"><a name="l03736"></a><span class="lineno"> 3736</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>[] = { CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0) , CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1),</div>
<div class="line"><a name="l03737"></a><span class="lineno"> 3737</span>&#160;                        CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(2), CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(3) };</div>
<div class="line"><a name="l03738"></a><span class="lineno"> 3738</span>&#160;      Rep = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateCall(<a class="code" href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">Intrinsic::getDeclaration</a>(CI-&gt;<a class="code" href="classllvm_1_1Instruction.html#a4ba3a5be6c0e9b9e8a525de055836733">getModule</a>(), IID),</div>
<div class="line"><a name="l03739"></a><span class="lineno"> 3739</span>&#160;                               <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>);</div>
<div class="line"><a name="l03740"></a><span class="lineno"> 3740</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *PassThru = ZeroMask ? <a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#aa91241c8c54738377749dc47ee489e0d">ConstantAggregateZero::get</a>(CI-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>())</div>
<div class="line"><a name="l03741"></a><span class="lineno"> 3741</span>&#160;                                 : CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0);</div>
<div class="line"><a name="l03742"></a><span class="lineno"> 3742</span>&#160;      Rep = <a class="code" href="AutoUpgrade_8cpp.html#a8184e757708d747af9b314cdfe238b2c">EmitX86Select</a>(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(4), Rep, PassThru);</div>
<div class="line"><a name="l03743"></a><span class="lineno"> 3743</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsX86 &amp;&amp; (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.mask.vpmadd52&quot;</span>) ||</div>
<div class="line"><a name="l03744"></a><span class="lineno"> 3744</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.maskz.vpmadd52&quot;</span>))) {</div>
<div class="line"><a name="l03745"></a><span class="lineno"> 3745</span>&#160;      <span class="keywordtype">bool</span> ZeroMask = <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>[11] == <span class="charliteral">&#39;z&#39;</span>;</div>
<div class="line"><a name="l03746"></a><span class="lineno"> 3746</span>&#160;      <span class="keywordtype">bool</span> <a class="code" href="NVVMIntrRange_8cpp.html#a7df34dbf636f2fbbb00f2b86eccdb1eb">High</a> = <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>[20] == <span class="charliteral">&#39;h&#39;</span> || <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>[21] == <span class="charliteral">&#39;h&#39;</span>;</div>
<div class="line"><a name="l03747"></a><span class="lineno"> 3747</span>&#160;      <span class="keywordtype">unsigned</span> VecWidth = CI-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a833daf718a49c5cd637d8c9ddeaebe07">getPrimitiveSizeInBits</a>();</div>
<div class="line"><a name="l03748"></a><span class="lineno"> 3748</span>&#160;      <a class="code" href="namespacellvm_1_1Intrinsic.html#a80add6b3b1cdaec560907995127adc16">Intrinsic::ID</a> IID;</div>
<div class="line"><a name="l03749"></a><span class="lineno"> 3749</span>&#160;      <span class="keywordflow">if</span> (VecWidth == 128 &amp;&amp; !<a class="code" href="NVVMIntrRange_8cpp.html#a7df34dbf636f2fbbb00f2b86eccdb1eb">High</a>)</div>
<div class="line"><a name="l03750"></a><span class="lineno"> 3750</span>&#160;        IID = Intrinsic::x86_avx512_vpmadd52l_uq_128;</div>
<div class="line"><a name="l03751"></a><span class="lineno"> 3751</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (VecWidth == 256 &amp;&amp; !<a class="code" href="NVVMIntrRange_8cpp.html#a7df34dbf636f2fbbb00f2b86eccdb1eb">High</a>)</div>
<div class="line"><a name="l03752"></a><span class="lineno"> 3752</span>&#160;        IID = Intrinsic::x86_avx512_vpmadd52l_uq_256;</div>
<div class="line"><a name="l03753"></a><span class="lineno"> 3753</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (VecWidth == 512 &amp;&amp; !<a class="code" href="NVVMIntrRange_8cpp.html#a7df34dbf636f2fbbb00f2b86eccdb1eb">High</a>)</div>
<div class="line"><a name="l03754"></a><span class="lineno"> 3754</span>&#160;        IID = Intrinsic::x86_avx512_vpmadd52l_uq_512;</div>
<div class="line"><a name="l03755"></a><span class="lineno"> 3755</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (VecWidth == 128 &amp;&amp; <a class="code" href="NVVMIntrRange_8cpp.html#a7df34dbf636f2fbbb00f2b86eccdb1eb">High</a>)</div>
<div class="line"><a name="l03756"></a><span class="lineno"> 3756</span>&#160;        IID = Intrinsic::x86_avx512_vpmadd52h_uq_128;</div>
<div class="line"><a name="l03757"></a><span class="lineno"> 3757</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (VecWidth == 256 &amp;&amp; <a class="code" href="NVVMIntrRange_8cpp.html#a7df34dbf636f2fbbb00f2b86eccdb1eb">High</a>)</div>
<div class="line"><a name="l03758"></a><span class="lineno"> 3758</span>&#160;        IID = Intrinsic::x86_avx512_vpmadd52h_uq_256;</div>
<div class="line"><a name="l03759"></a><span class="lineno"> 3759</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (VecWidth == 512 &amp;&amp; <a class="code" href="NVVMIntrRange_8cpp.html#a7df34dbf636f2fbbb00f2b86eccdb1eb">High</a>)</div>
<div class="line"><a name="l03760"></a><span class="lineno"> 3760</span>&#160;        IID = Intrinsic::x86_avx512_vpmadd52h_uq_512;</div>
<div class="line"><a name="l03761"></a><span class="lineno"> 3761</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l03762"></a><span class="lineno"> 3762</span>&#160;        <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unexpected intrinsic&quot;</span>);</div>
<div class="line"><a name="l03763"></a><span class="lineno"> 3763</span>&#160; </div>
<div class="line"><a name="l03764"></a><span class="lineno"> 3764</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>[] = { CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0) , CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1),</div>
<div class="line"><a name="l03765"></a><span class="lineno"> 3765</span>&#160;                        CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(2) };</div>
<div class="line"><a name="l03766"></a><span class="lineno"> 3766</span>&#160;      Rep = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateCall(<a class="code" href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">Intrinsic::getDeclaration</a>(CI-&gt;<a class="code" href="classllvm_1_1Instruction.html#a4ba3a5be6c0e9b9e8a525de055836733">getModule</a>(), IID),</div>
<div class="line"><a name="l03767"></a><span class="lineno"> 3767</span>&#160;                               <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>);</div>
<div class="line"><a name="l03768"></a><span class="lineno"> 3768</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *PassThru = ZeroMask ? <a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#aa91241c8c54738377749dc47ee489e0d">ConstantAggregateZero::get</a>(CI-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>())</div>
<div class="line"><a name="l03769"></a><span class="lineno"> 3769</span>&#160;                                 : CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0);</div>
<div class="line"><a name="l03770"></a><span class="lineno"> 3770</span>&#160;      Rep = <a class="code" href="AutoUpgrade_8cpp.html#a8184e757708d747af9b314cdfe238b2c">EmitX86Select</a>(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(3), Rep, PassThru);</div>
<div class="line"><a name="l03771"></a><span class="lineno"> 3771</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsX86 &amp;&amp; (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.mask.vpermi2var.&quot;</span>) ||</div>
<div class="line"><a name="l03772"></a><span class="lineno"> 3772</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.mask.vpermt2var.&quot;</span>) ||</div>
<div class="line"><a name="l03773"></a><span class="lineno"> 3773</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.maskz.vpermt2var.&quot;</span>))) {</div>
<div class="line"><a name="l03774"></a><span class="lineno"> 3774</span>&#160;      <span class="keywordtype">bool</span> ZeroMask = <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>[11] == <span class="charliteral">&#39;z&#39;</span>;</div>
<div class="line"><a name="l03775"></a><span class="lineno"> 3775</span>&#160;      <span class="keywordtype">bool</span> IndexForm = <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>[17] == <span class="charliteral">&#39;i&#39;</span>;</div>
<div class="line"><a name="l03776"></a><span class="lineno"> 3776</span>&#160;      Rep = <a class="code" href="AutoUpgrade_8cpp.html#afd7206e4af4e3dad368b1501e9404a15">UpgradeX86VPERMT2Intrinsics</a>(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, *CI, ZeroMask, IndexForm);</div>
<div class="line"><a name="l03777"></a><span class="lineno"> 3777</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsX86 &amp;&amp; (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.mask.vpdpbusd.&quot;</span>) ||</div>
<div class="line"><a name="l03778"></a><span class="lineno"> 3778</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.maskz.vpdpbusd.&quot;</span>) ||</div>
<div class="line"><a name="l03779"></a><span class="lineno"> 3779</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.mask.vpdpbusds.&quot;</span>) ||</div>
<div class="line"><a name="l03780"></a><span class="lineno"> 3780</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.maskz.vpdpbusds.&quot;</span>))) {</div>
<div class="line"><a name="l03781"></a><span class="lineno"> 3781</span>&#160;      <span class="keywordtype">bool</span> ZeroMask = <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>[11] == <span class="charliteral">&#39;z&#39;</span>;</div>
<div class="line"><a name="l03782"></a><span class="lineno"> 3782</span>&#160;      <span class="keywordtype">bool</span> IsSaturating = <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>[ZeroMask ? 21 : 20] == <span class="charliteral">&#39;s&#39;</span>;</div>
<div class="line"><a name="l03783"></a><span class="lineno"> 3783</span>&#160;      <span class="keywordtype">unsigned</span> VecWidth = CI-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a833daf718a49c5cd637d8c9ddeaebe07">getPrimitiveSizeInBits</a>();</div>
<div class="line"><a name="l03784"></a><span class="lineno"> 3784</span>&#160;      <a class="code" href="namespacellvm_1_1Intrinsic.html#a80add6b3b1cdaec560907995127adc16">Intrinsic::ID</a> IID;</div>
<div class="line"><a name="l03785"></a><span class="lineno"> 3785</span>&#160;      <span class="keywordflow">if</span> (VecWidth == 128 &amp;&amp; !IsSaturating)</div>
<div class="line"><a name="l03786"></a><span class="lineno"> 3786</span>&#160;        IID = Intrinsic::x86_avx512_vpdpbusd_128;</div>
<div class="line"><a name="l03787"></a><span class="lineno"> 3787</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (VecWidth == 256 &amp;&amp; !IsSaturating)</div>
<div class="line"><a name="l03788"></a><span class="lineno"> 3788</span>&#160;        IID = Intrinsic::x86_avx512_vpdpbusd_256;</div>
<div class="line"><a name="l03789"></a><span class="lineno"> 3789</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (VecWidth == 512 &amp;&amp; !IsSaturating)</div>
<div class="line"><a name="l03790"></a><span class="lineno"> 3790</span>&#160;        IID = Intrinsic::x86_avx512_vpdpbusd_512;</div>
<div class="line"><a name="l03791"></a><span class="lineno"> 3791</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (VecWidth == 128 &amp;&amp; IsSaturating)</div>
<div class="line"><a name="l03792"></a><span class="lineno"> 3792</span>&#160;        IID = Intrinsic::x86_avx512_vpdpbusds_128;</div>
<div class="line"><a name="l03793"></a><span class="lineno"> 3793</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (VecWidth == 256 &amp;&amp; IsSaturating)</div>
<div class="line"><a name="l03794"></a><span class="lineno"> 3794</span>&#160;        IID = Intrinsic::x86_avx512_vpdpbusds_256;</div>
<div class="line"><a name="l03795"></a><span class="lineno"> 3795</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (VecWidth == 512 &amp;&amp; IsSaturating)</div>
<div class="line"><a name="l03796"></a><span class="lineno"> 3796</span>&#160;        IID = Intrinsic::x86_avx512_vpdpbusds_512;</div>
<div class="line"><a name="l03797"></a><span class="lineno"> 3797</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l03798"></a><span class="lineno"> 3798</span>&#160;        <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unexpected intrinsic&quot;</span>);</div>
<div class="line"><a name="l03799"></a><span class="lineno"> 3799</span>&#160; </div>
<div class="line"><a name="l03800"></a><span class="lineno"> 3800</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>[] = { CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0), CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1),</div>
<div class="line"><a name="l03801"></a><span class="lineno"> 3801</span>&#160;                        CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(2)  };</div>
<div class="line"><a name="l03802"></a><span class="lineno"> 3802</span>&#160;      Rep = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateCall(<a class="code" href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">Intrinsic::getDeclaration</a>(CI-&gt;<a class="code" href="classllvm_1_1Instruction.html#a4ba3a5be6c0e9b9e8a525de055836733">getModule</a>(), IID),</div>
<div class="line"><a name="l03803"></a><span class="lineno"> 3803</span>&#160;                               <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>);</div>
<div class="line"><a name="l03804"></a><span class="lineno"> 3804</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *PassThru = ZeroMask ? <a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#aa91241c8c54738377749dc47ee489e0d">ConstantAggregateZero::get</a>(CI-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>())</div>
<div class="line"><a name="l03805"></a><span class="lineno"> 3805</span>&#160;                                 : CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0);</div>
<div class="line"><a name="l03806"></a><span class="lineno"> 3806</span>&#160;      Rep = <a class="code" href="AutoUpgrade_8cpp.html#a8184e757708d747af9b314cdfe238b2c">EmitX86Select</a>(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(3), Rep, PassThru);</div>
<div class="line"><a name="l03807"></a><span class="lineno"> 3807</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsX86 &amp;&amp; (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.mask.vpdpwssd.&quot;</span>) ||</div>
<div class="line"><a name="l03808"></a><span class="lineno"> 3808</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.maskz.vpdpwssd.&quot;</span>) ||</div>
<div class="line"><a name="l03809"></a><span class="lineno"> 3809</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.mask.vpdpwssds.&quot;</span>) ||</div>
<div class="line"><a name="l03810"></a><span class="lineno"> 3810</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.maskz.vpdpwssds.&quot;</span>))) {</div>
<div class="line"><a name="l03811"></a><span class="lineno"> 3811</span>&#160;      <span class="keywordtype">bool</span> ZeroMask = <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>[11] == <span class="charliteral">&#39;z&#39;</span>;</div>
<div class="line"><a name="l03812"></a><span class="lineno"> 3812</span>&#160;      <span class="keywordtype">bool</span> IsSaturating = <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>[ZeroMask ? 21 : 20] == <span class="charliteral">&#39;s&#39;</span>;</div>
<div class="line"><a name="l03813"></a><span class="lineno"> 3813</span>&#160;      <span class="keywordtype">unsigned</span> VecWidth = CI-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a833daf718a49c5cd637d8c9ddeaebe07">getPrimitiveSizeInBits</a>();</div>
<div class="line"><a name="l03814"></a><span class="lineno"> 3814</span>&#160;      <a class="code" href="namespacellvm_1_1Intrinsic.html#a80add6b3b1cdaec560907995127adc16">Intrinsic::ID</a> IID;</div>
<div class="line"><a name="l03815"></a><span class="lineno"> 3815</span>&#160;      <span class="keywordflow">if</span> (VecWidth == 128 &amp;&amp; !IsSaturating)</div>
<div class="line"><a name="l03816"></a><span class="lineno"> 3816</span>&#160;        IID = Intrinsic::x86_avx512_vpdpwssd_128;</div>
<div class="line"><a name="l03817"></a><span class="lineno"> 3817</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (VecWidth == 256 &amp;&amp; !IsSaturating)</div>
<div class="line"><a name="l03818"></a><span class="lineno"> 3818</span>&#160;        IID = Intrinsic::x86_avx512_vpdpwssd_256;</div>
<div class="line"><a name="l03819"></a><span class="lineno"> 3819</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (VecWidth == 512 &amp;&amp; !IsSaturating)</div>
<div class="line"><a name="l03820"></a><span class="lineno"> 3820</span>&#160;        IID = Intrinsic::x86_avx512_vpdpwssd_512;</div>
<div class="line"><a name="l03821"></a><span class="lineno"> 3821</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (VecWidth == 128 &amp;&amp; IsSaturating)</div>
<div class="line"><a name="l03822"></a><span class="lineno"> 3822</span>&#160;        IID = Intrinsic::x86_avx512_vpdpwssds_128;</div>
<div class="line"><a name="l03823"></a><span class="lineno"> 3823</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (VecWidth == 256 &amp;&amp; IsSaturating)</div>
<div class="line"><a name="l03824"></a><span class="lineno"> 3824</span>&#160;        IID = Intrinsic::x86_avx512_vpdpwssds_256;</div>
<div class="line"><a name="l03825"></a><span class="lineno"> 3825</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (VecWidth == 512 &amp;&amp; IsSaturating)</div>
<div class="line"><a name="l03826"></a><span class="lineno"> 3826</span>&#160;        IID = Intrinsic::x86_avx512_vpdpwssds_512;</div>
<div class="line"><a name="l03827"></a><span class="lineno"> 3827</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l03828"></a><span class="lineno"> 3828</span>&#160;        <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unexpected intrinsic&quot;</span>);</div>
<div class="line"><a name="l03829"></a><span class="lineno"> 3829</span>&#160; </div>
<div class="line"><a name="l03830"></a><span class="lineno"> 3830</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>[] = { CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0), CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1),</div>
<div class="line"><a name="l03831"></a><span class="lineno"> 3831</span>&#160;                        CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(2)  };</div>
<div class="line"><a name="l03832"></a><span class="lineno"> 3832</span>&#160;      Rep = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateCall(<a class="code" href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">Intrinsic::getDeclaration</a>(CI-&gt;<a class="code" href="classllvm_1_1Instruction.html#a4ba3a5be6c0e9b9e8a525de055836733">getModule</a>(), IID),</div>
<div class="line"><a name="l03833"></a><span class="lineno"> 3833</span>&#160;                               <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>);</div>
<div class="line"><a name="l03834"></a><span class="lineno"> 3834</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *PassThru = ZeroMask ? <a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#aa91241c8c54738377749dc47ee489e0d">ConstantAggregateZero::get</a>(CI-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>())</div>
<div class="line"><a name="l03835"></a><span class="lineno"> 3835</span>&#160;                                 : CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0);</div>
<div class="line"><a name="l03836"></a><span class="lineno"> 3836</span>&#160;      Rep = <a class="code" href="AutoUpgrade_8cpp.html#a8184e757708d747af9b314cdfe238b2c">EmitX86Select</a>(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(3), Rep, PassThru);</div>
<div class="line"><a name="l03837"></a><span class="lineno"> 3837</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsX86 &amp;&amp; (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> == <span class="stringliteral">&quot;addcarryx.u32&quot;</span> || <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> == <span class="stringliteral">&quot;addcarryx.u64&quot;</span> ||</div>
<div class="line"><a name="l03838"></a><span class="lineno"> 3838</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> == <span class="stringliteral">&quot;addcarry.u32&quot;</span> || <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> == <span class="stringliteral">&quot;addcarry.u64&quot;</span> ||</div>
<div class="line"><a name="l03839"></a><span class="lineno"> 3839</span>&#160;                         <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> == <span class="stringliteral">&quot;subborrow.u32&quot;</span> || <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> == <span class="stringliteral">&quot;subborrow.u64&quot;</span>)) {</div>
<div class="line"><a name="l03840"></a><span class="lineno"> 3840</span>&#160;      <a class="code" href="namespacellvm_1_1Intrinsic.html#a80add6b3b1cdaec560907995127adc16">Intrinsic::ID</a> IID;</div>
<div class="line"><a name="l03841"></a><span class="lineno"> 3841</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>[0] == <span class="charliteral">&#39;a&#39;</span> &amp;&amp; <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.back() == <span class="charliteral">&#39;2&#39;</span>)</div>
<div class="line"><a name="l03842"></a><span class="lineno"> 3842</span>&#160;        IID = Intrinsic::x86_addcarry_32;</div>
<div class="line"><a name="l03843"></a><span class="lineno"> 3843</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>[0] == <span class="charliteral">&#39;a&#39;</span> &amp;&amp; <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.back() == <span class="charliteral">&#39;4&#39;</span>)</div>
<div class="line"><a name="l03844"></a><span class="lineno"> 3844</span>&#160;        IID = Intrinsic::x86_addcarry_64;</div>
<div class="line"><a name="l03845"></a><span class="lineno"> 3845</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>[0] == <span class="charliteral">&#39;s&#39;</span> &amp;&amp; <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.back() == <span class="charliteral">&#39;2&#39;</span>)</div>
<div class="line"><a name="l03846"></a><span class="lineno"> 3846</span>&#160;        IID = Intrinsic::x86_subborrow_32;</div>
<div class="line"><a name="l03847"></a><span class="lineno"> 3847</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>[0] == <span class="charliteral">&#39;s&#39;</span> &amp;&amp; <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.back() == <span class="charliteral">&#39;4&#39;</span>)</div>
<div class="line"><a name="l03848"></a><span class="lineno"> 3848</span>&#160;        IID = Intrinsic::x86_subborrow_64;</div>
<div class="line"><a name="l03849"></a><span class="lineno"> 3849</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l03850"></a><span class="lineno"> 3850</span>&#160;        <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unexpected intrinsic&quot;</span>);</div>
<div class="line"><a name="l03851"></a><span class="lineno"> 3851</span>&#160; </div>
<div class="line"><a name="l03852"></a><span class="lineno"> 3852</span>&#160;      <span class="comment">// Make a call with 3 operands.</span></div>
<div class="line"><a name="l03853"></a><span class="lineno"> 3853</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>[] = { CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0), CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1),</div>
<div class="line"><a name="l03854"></a><span class="lineno"> 3854</span>&#160;                        CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(2)};</div>
<div class="line"><a name="l03855"></a><span class="lineno"> 3855</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *NewCall = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateCall(</div>
<div class="line"><a name="l03856"></a><span class="lineno"> 3856</span>&#160;                                <a class="code" href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">Intrinsic::getDeclaration</a>(CI-&gt;<a class="code" href="classllvm_1_1Instruction.html#a4ba3a5be6c0e9b9e8a525de055836733">getModule</a>(), IID),</div>
<div class="line"><a name="l03857"></a><span class="lineno"> 3857</span>&#160;                                <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>);</div>
<div class="line"><a name="l03858"></a><span class="lineno"> 3858</span>&#160; </div>
<div class="line"><a name="l03859"></a><span class="lineno"> 3859</span>&#160;      <span class="comment">// Extract the second result and store it.</span></div>
<div class="line"><a name="l03860"></a><span class="lineno"> 3860</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#ae551fe3e2b167b36005b26473e993884a26aa2e7865f749b52f3b77991776c40d">Data</a> = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateExtractValue(NewCall, 1);</div>
<div class="line"><a name="l03861"></a><span class="lineno"> 3861</span>&#160;      <span class="comment">// Cast the pointer to the right type.</span></div>
<div class="line"><a name="l03862"></a><span class="lineno"> 3862</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a> = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateBitCast(CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(3),</div>
<div class="line"><a name="l03863"></a><span class="lineno"> 3863</span>&#160;                                 <a class="code" href="classllvm_1_1PointerType.html#a8db49fd5069f21d514e7bb0fd11f0902">llvm::PointerType::getUnqual</a>(<a class="code" href="namespacellvm.html#ae551fe3e2b167b36005b26473e993884a26aa2e7865f749b52f3b77991776c40d">Data</a>-&gt;getType()));</div>
<div class="line"><a name="l03864"></a><span class="lineno"> 3864</span>&#160;      <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateAlignedStore(<a class="code" href="namespacellvm.html#ae551fe3e2b167b36005b26473e993884a26aa2e7865f749b52f3b77991776c40d">Data</a>, <a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>, <a class="code" href="ELFObjHandler_8cpp.html#a043cdaf7b89aaeeb127be5d93411637f">Align</a>(1));</div>
<div class="line"><a name="l03865"></a><span class="lineno"> 3865</span>&#160;      <span class="comment">// Replace the original call result with the first result of the new call.</span></div>
<div class="line"><a name="l03866"></a><span class="lineno"> 3866</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *CF = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateExtractValue(NewCall, 0);</div>
<div class="line"><a name="l03867"></a><span class="lineno"> 3867</span>&#160; </div>
<div class="line"><a name="l03868"></a><span class="lineno"> 3868</span>&#160;      CI-&gt;<a class="code" href="classllvm_1_1Value.html#a3ab5fc45117b450e8bb04e564cb6e5f2">replaceAllUsesWith</a>(CF);</div>
<div class="line"><a name="l03869"></a><span class="lineno"> 3869</span>&#160;      Rep = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l03870"></a><span class="lineno"> 3870</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsX86 &amp;&amp; <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;avx512.mask.&quot;</span>) &amp;&amp;</div>
<div class="line"><a name="l03871"></a><span class="lineno"> 3871</span>&#160;               <a class="code" href="AutoUpgrade_8cpp.html#ad9d7a82ba140ac920458705124372cd6">upgradeAVX512MaskToSelect</a>(<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>, <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, *CI, Rep)) {</div>
<div class="line"><a name="l03872"></a><span class="lineno"> 3872</span>&#160;      <span class="comment">// Rep will be updated by the call in the condition.</span></div>
<div class="line"><a name="l03873"></a><span class="lineno"> 3873</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsNVVM &amp;&amp; (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> == <span class="stringliteral">&quot;abs.i&quot;</span> || <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> == <span class="stringliteral">&quot;abs.ll&quot;</span>)) {</div>
<div class="line"><a name="l03874"></a><span class="lineno"> 3874</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a> = CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0);</div>
<div class="line"><a name="l03875"></a><span class="lineno"> 3875</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *Neg = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateNeg(<a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>, <span class="stringliteral">&quot;neg&quot;</span>);</div>
<div class="line"><a name="l03876"></a><span class="lineno"> 3876</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *Cmp = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateICmpSGE(</div>
<div class="line"><a name="l03877"></a><span class="lineno"> 3877</span>&#160;          <a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>, <a class="code" href="classllvm_1_1Constant.html#aa6574d526b3e38a28f688a7bb4325c2c">llvm::Constant::getNullValue</a>(<a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>-&gt;getType()), <span class="stringliteral">&quot;abs.cond&quot;</span>);</div>
<div class="line"><a name="l03878"></a><span class="lineno"> 3878</span>&#160;      Rep = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateSelect(Cmp, <a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>, Neg, <span class="stringliteral">&quot;abs&quot;</span>);</div>
<div class="line"><a name="l03879"></a><span class="lineno"> 3879</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsNVVM &amp;&amp; (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;atomic.load.add.f32.p&quot;</span>) ||</div>
<div class="line"><a name="l03880"></a><span class="lineno"> 3880</span>&#160;                          <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;atomic.load.add.f64.p&quot;</span>))) {</div>
<div class="line"><a name="l03881"></a><span class="lineno"> 3881</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a> = CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0);</div>
<div class="line"><a name="l03882"></a><span class="lineno"> 3882</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *Val = CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1);</div>
<div class="line"><a name="l03883"></a><span class="lineno"> 3883</span>&#160;      Rep = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateAtomicRMW(AtomicRMWInst::FAdd, <a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>, Val, <a class="code" href="structllvm_1_1MaybeAlign.html">MaybeAlign</a>(),</div>
<div class="line"><a name="l03884"></a><span class="lineno"> 3884</span>&#160;                                    AtomicOrdering::SequentiallyConsistent);</div>
<div class="line"><a name="l03885"></a><span class="lineno"> 3885</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsNVVM &amp;&amp; (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> == <span class="stringliteral">&quot;max.i&quot;</span> || <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> == <span class="stringliteral">&quot;max.ll&quot;</span> ||</div>
<div class="line"><a name="l03886"></a><span class="lineno"> 3886</span>&#160;                          <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> == <span class="stringliteral">&quot;max.ui&quot;</span> || <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> == <span class="stringliteral">&quot;max.ull&quot;</span>)) {</div>
<div class="line"><a name="l03887"></a><span class="lineno"> 3887</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *Arg0 = CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0);</div>
<div class="line"><a name="l03888"></a><span class="lineno"> 3888</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *Arg1 = CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1);</div>
<div class="line"><a name="l03889"></a><span class="lineno"> 3889</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *Cmp = <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.endswith(<span class="stringliteral">&quot;.ui&quot;</span>) || <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.endswith(<span class="stringliteral">&quot;.ull&quot;</span>)</div>
<div class="line"><a name="l03890"></a><span class="lineno"> 3890</span>&#160;                       ? <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateICmpUGE(Arg0, Arg1, <span class="stringliteral">&quot;max.cond&quot;</span>)</div>
<div class="line"><a name="l03891"></a><span class="lineno"> 3891</span>&#160;                       : <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateICmpSGE(Arg0, Arg1, <span class="stringliteral">&quot;max.cond&quot;</span>);</div>
<div class="line"><a name="l03892"></a><span class="lineno"> 3892</span>&#160;      Rep = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateSelect(Cmp, Arg0, Arg1, <span class="stringliteral">&quot;max&quot;</span>);</div>
<div class="line"><a name="l03893"></a><span class="lineno"> 3893</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsNVVM &amp;&amp; (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> == <span class="stringliteral">&quot;min.i&quot;</span> || <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> == <span class="stringliteral">&quot;min.ll&quot;</span> ||</div>
<div class="line"><a name="l03894"></a><span class="lineno"> 3894</span>&#160;                          <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> == <span class="stringliteral">&quot;min.ui&quot;</span> || <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> == <span class="stringliteral">&quot;min.ull&quot;</span>)) {</div>
<div class="line"><a name="l03895"></a><span class="lineno"> 3895</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *Arg0 = CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0);</div>
<div class="line"><a name="l03896"></a><span class="lineno"> 3896</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *Arg1 = CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1);</div>
<div class="line"><a name="l03897"></a><span class="lineno"> 3897</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *Cmp = <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.endswith(<span class="stringliteral">&quot;.ui&quot;</span>) || <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.endswith(<span class="stringliteral">&quot;.ull&quot;</span>)</div>
<div class="line"><a name="l03898"></a><span class="lineno"> 3898</span>&#160;                       ? <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateICmpULE(Arg0, Arg1, <span class="stringliteral">&quot;min.cond&quot;</span>)</div>
<div class="line"><a name="l03899"></a><span class="lineno"> 3899</span>&#160;                       : <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateICmpSLE(Arg0, Arg1, <span class="stringliteral">&quot;min.cond&quot;</span>);</div>
<div class="line"><a name="l03900"></a><span class="lineno"> 3900</span>&#160;      Rep = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateSelect(Cmp, Arg0, Arg1, <span class="stringliteral">&quot;min&quot;</span>);</div>
<div class="line"><a name="l03901"></a><span class="lineno"> 3901</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsNVVM &amp;&amp; <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> == <span class="stringliteral">&quot;clz.ll&quot;</span>) {</div>
<div class="line"><a name="l03902"></a><span class="lineno"> 3902</span>&#160;      <span class="comment">// llvm.nvvm.clz.ll returns an i32, but llvm.ctlz.i64 and returns an i64.</span></div>
<div class="line"><a name="l03903"></a><span class="lineno"> 3903</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a> = CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0);</div>
<div class="line"><a name="l03904"></a><span class="lineno"> 3904</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *Ctlz = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateCall(</div>
<div class="line"><a name="l03905"></a><span class="lineno"> 3905</span>&#160;          <a class="code" href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">Intrinsic::getDeclaration</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getParent(), Intrinsic::ctlz,</div>
<div class="line"><a name="l03906"></a><span class="lineno"> 3906</span>&#160;                                    {Arg-&gt;getType()}),</div>
<div class="line"><a name="l03907"></a><span class="lineno"> 3907</span>&#160;          {Arg, Builder.getFalse()}, <span class="stringliteral">&quot;ctlz&quot;</span>);</div>
<div class="line"><a name="l03908"></a><span class="lineno"> 3908</span>&#160;      Rep = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateTrunc(Ctlz, <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.getInt32Ty(), <span class="stringliteral">&quot;ctlz.trunc&quot;</span>);</div>
<div class="line"><a name="l03909"></a><span class="lineno"> 3909</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsNVVM &amp;&amp; <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> == <span class="stringliteral">&quot;popc.ll&quot;</span>) {</div>
<div class="line"><a name="l03910"></a><span class="lineno"> 3910</span>&#160;      <span class="comment">// llvm.nvvm.popc.ll returns an i32, but llvm.ctpop.i64 and returns an</span></div>
<div class="line"><a name="l03911"></a><span class="lineno"> 3911</span>&#160;      <span class="comment">// i64.</span></div>
<div class="line"><a name="l03912"></a><span class="lineno"> 3912</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a> = CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0);</div>
<div class="line"><a name="l03913"></a><span class="lineno"> 3913</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *Popc = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateCall(</div>
<div class="line"><a name="l03914"></a><span class="lineno"> 3914</span>&#160;          <a class="code" href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">Intrinsic::getDeclaration</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getParent(), Intrinsic::ctpop,</div>
<div class="line"><a name="l03915"></a><span class="lineno"> 3915</span>&#160;                                    {Arg-&gt;getType()}),</div>
<div class="line"><a name="l03916"></a><span class="lineno"> 3916</span>&#160;          <a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>, <span class="stringliteral">&quot;ctpop&quot;</span>);</div>
<div class="line"><a name="l03917"></a><span class="lineno"> 3917</span>&#160;      Rep = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateTrunc(Popc, <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.getInt32Ty(), <span class="stringliteral">&quot;ctpop.trunc&quot;</span>);</div>
<div class="line"><a name="l03918"></a><span class="lineno"> 3918</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsNVVM &amp;&amp; <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> == <span class="stringliteral">&quot;h2f&quot;</span>) {</div>
<div class="line"><a name="l03919"></a><span class="lineno"> 3919</span>&#160;      Rep = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateCall(<a class="code" href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">Intrinsic::getDeclaration</a>(</div>
<div class="line"><a name="l03920"></a><span class="lineno"> 3920</span>&#160;                                   <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getParent(), Intrinsic::convert_from_fp16,</div>
<div class="line"><a name="l03921"></a><span class="lineno"> 3921</span>&#160;                                   {Builder.getFloatTy()}),</div>
<div class="line"><a name="l03922"></a><span class="lineno"> 3922</span>&#160;                               CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0), <span class="stringliteral">&quot;h2f&quot;</span>);</div>
<div class="line"><a name="l03923"></a><span class="lineno"> 3923</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsARM) {</div>
<div class="line"><a name="l03924"></a><span class="lineno"> 3924</span>&#160;      Rep = <a class="code" href="AutoUpgrade_8cpp.html#ad24d706631614be574fa27dd0f59b575">UpgradeARMIntrinsicCall</a>(<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>, CI, <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>);</div>
<div class="line"><a name="l03925"></a><span class="lineno"> 3925</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03926"></a><span class="lineno"> 3926</span>&#160;      <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unknown function for CallBase upgrade.&quot;</span>);</div>
<div class="line"><a name="l03927"></a><span class="lineno"> 3927</span>&#160;    }</div>
<div class="line"><a name="l03928"></a><span class="lineno"> 3928</span>&#160; </div>
<div class="line"><a name="l03929"></a><span class="lineno"> 3929</span>&#160;    <span class="keywordflow">if</span> (Rep)</div>
<div class="line"><a name="l03930"></a><span class="lineno"> 3930</span>&#160;      CI-&gt;<a class="code" href="classllvm_1_1Value.html#a3ab5fc45117b450e8bb04e564cb6e5f2">replaceAllUsesWith</a>(Rep);</div>
<div class="line"><a name="l03931"></a><span class="lineno"> 3931</span>&#160;    CI-&gt;<a class="code" href="classllvm_1_1Instruction.html#ae6b978645b8ac72d1a35e1298ffdd4f0">eraseFromParent</a>();</div>
<div class="line"><a name="l03932"></a><span class="lineno"> 3932</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03933"></a><span class="lineno"> 3933</span>&#160;  }</div>
<div class="line"><a name="l03934"></a><span class="lineno"> 3934</span>&#160; </div>
<div class="line"><a name="l03935"></a><span class="lineno"> 3935</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> &amp;DefaultCase = [&amp;]() -&gt; <span class="keywordtype">void</span> {</div>
<div class="line"><a name="l03936"></a><span class="lineno"> 3936</span>&#160;    <span class="keywordflow">if</span> (CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#a5e4a09f80c7cd5283dbbc7256d122d12">getFunctionType</a>() == NewFn-&gt;<a class="code" href="classllvm_1_1Function.html#adf50671db83d2813e0d897ea2cfc9102">getFunctionType</a>()) {</div>
<div class="line"><a name="l03937"></a><span class="lineno"> 3937</span>&#160;      <span class="comment">// Handle generic mangling change.</span></div>
<div class="line"><a name="l03938"></a><span class="lineno"> 3938</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(</div>
<div class="line"><a name="l03939"></a><span class="lineno"> 3939</span>&#160;          (CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#a83b8c9e572130f403445c0b0f69b837c">getCalledFunction</a>()-&gt;<a class="code" href="classllvm_1_1Value.html#adb5c319f5905c1d3ca9eb5df546388c5">getName</a>() != NewFn-&gt;<a class="code" href="classllvm_1_1Value.html#adb5c319f5905c1d3ca9eb5df546388c5">getName</a>()) &amp;&amp;</div>
<div class="line"><a name="l03940"></a><span class="lineno"> 3940</span>&#160;          <span class="stringliteral">&quot;Unknown function for CallBase upgrade and isn&#39;t just a name change&quot;</span>);</div>
<div class="line"><a name="l03941"></a><span class="lineno"> 3941</span>&#160;      CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#aee56a5257c4899bf97c5957d87a732e3">setCalledFunction</a>(NewFn);</div>
<div class="line"><a name="l03942"></a><span class="lineno"> 3942</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03943"></a><span class="lineno"> 3943</span>&#160;    }</div>
<div class="line"><a name="l03944"></a><span class="lineno"> 3944</span>&#160; </div>
<div class="line"><a name="l03945"></a><span class="lineno"> 3945</span>&#160;    <span class="comment">// This must be an upgrade from a named to a literal struct.</span></div>
<div class="line"><a name="l03946"></a><span class="lineno"> 3946</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> *OldST = dyn_cast&lt;StructType&gt;(CI-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>())) {</div>
<div class="line"><a name="l03947"></a><span class="lineno"> 3947</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(OldST != NewFn-&gt;<a class="code" href="classllvm_1_1Function.html#aaea88376352c42347dceccdd5ab1c20c">getReturnType</a>() &amp;&amp;</div>
<div class="line"><a name="l03948"></a><span class="lineno"> 3948</span>&#160;             <span class="stringliteral">&quot;Return type must have changed&quot;</span>);</div>
<div class="line"><a name="l03949"></a><span class="lineno"> 3949</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(OldST-&gt;getNumElements() ==</div>
<div class="line"><a name="l03950"></a><span class="lineno"> 3950</span>&#160;                 cast&lt;StructType&gt;(NewFn-&gt;<a class="code" href="classllvm_1_1Function.html#aaea88376352c42347dceccdd5ab1c20c">getReturnType</a>())-&gt;getNumElements() &amp;&amp;</div>
<div class="line"><a name="l03951"></a><span class="lineno"> 3951</span>&#160;             <span class="stringliteral">&quot;Must have same number of elements&quot;</span>);</div>
<div class="line"><a name="l03952"></a><span class="lineno"> 3952</span>&#160; </div>
<div class="line"><a name="l03953"></a><span class="lineno"> 3953</span>&#160;      <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Value *&gt;</a> <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>(CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ac63dbb4994494c46f025715272cdb81e">args</a>());</div>
<div class="line"><a name="l03954"></a><span class="lineno"> 3954</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *NewCI = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateCall(NewFn, <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>);</div>
<div class="line"><a name="l03955"></a><span class="lineno"> 3955</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *Res = <a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#aa91241c8c54738377749dc47ee489e0d">PoisonValue::get</a>(OldST);</div>
<div class="line"><a name="l03956"></a><span class="lineno"> 3956</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> Idx = 0; Idx &lt; OldST-&gt;getNumElements(); ++Idx) {</div>
<div class="line"><a name="l03957"></a><span class="lineno"> 3957</span>&#160;        <a class="code" href="classllvm_1_1Value.html">Value</a> *Elem = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateExtractValue(NewCI, Idx);</div>
<div class="line"><a name="l03958"></a><span class="lineno"> 3958</span>&#160;        Res = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateInsertValue(Res, Elem, Idx);</div>
<div class="line"><a name="l03959"></a><span class="lineno"> 3959</span>&#160;      }</div>
<div class="line"><a name="l03960"></a><span class="lineno"> 3960</span>&#160;      CI-&gt;<a class="code" href="classllvm_1_1Value.html#a3ab5fc45117b450e8bb04e564cb6e5f2">replaceAllUsesWith</a>(Res);</div>
<div class="line"><a name="l03961"></a><span class="lineno"> 3961</span>&#160;      CI-&gt;<a class="code" href="classllvm_1_1Instruction.html#ae6b978645b8ac72d1a35e1298ffdd4f0">eraseFromParent</a>();</div>
<div class="line"><a name="l03962"></a><span class="lineno"> 3962</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03963"></a><span class="lineno"> 3963</span>&#160;    }</div>
<div class="line"><a name="l03964"></a><span class="lineno"> 3964</span>&#160; </div>
<div class="line"><a name="l03965"></a><span class="lineno"> 3965</span>&#160;    <span class="comment">// We&#39;re probably about to produce something invalid. Let the verifier catch</span></div>
<div class="line"><a name="l03966"></a><span class="lineno"> 3966</span>&#160;    <span class="comment">// it instead of dying here.</span></div>
<div class="line"><a name="l03967"></a><span class="lineno"> 3967</span>&#160;    CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ad70fe60b7ed052c6a74863944b518251">setCalledOperand</a>(</div>
<div class="line"><a name="l03968"></a><span class="lineno"> 3968</span>&#160;        ConstantExpr::getPointerCast(NewFn, CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#a7ac9329ef7292ee640d87f45ce7ae05c">getCalledOperand</a>()-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()));</div>
<div class="line"><a name="l03969"></a><span class="lineno"> 3969</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03970"></a><span class="lineno"> 3970</span>&#160;  };</div>
<div class="line"><a name="l03971"></a><span class="lineno"> 3971</span>&#160;  <a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *NewCall = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l03972"></a><span class="lineno"> 3972</span>&#160;  <span class="keywordflow">switch</span> (NewFn-&gt;<a class="code" href="classllvm_1_1Function.html#a4d0a7baab8d078065b2de10e3460892a">getIntrinsicID</a>()) {</div>
<div class="line"><a name="l03973"></a><span class="lineno"> 3973</span>&#160;  <span class="keywordflow">default</span>: {</div>
<div class="line"><a name="l03974"></a><span class="lineno"> 3974</span>&#160;    DefaultCase();</div>
<div class="line"><a name="l03975"></a><span class="lineno"> 3975</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03976"></a><span class="lineno"> 3976</span>&#160;  }</div>
<div class="line"><a name="l03977"></a><span class="lineno"> 3977</span>&#160;  <span class="keywordflow">case</span> Intrinsic::arm_neon_vst1:</div>
<div class="line"><a name="l03978"></a><span class="lineno"> 3978</span>&#160;  <span class="keywordflow">case</span> Intrinsic::arm_neon_vst2:</div>
<div class="line"><a name="l03979"></a><span class="lineno"> 3979</span>&#160;  <span class="keywordflow">case</span> Intrinsic::arm_neon_vst3:</div>
<div class="line"><a name="l03980"></a><span class="lineno"> 3980</span>&#160;  <span class="keywordflow">case</span> Intrinsic::arm_neon_vst4:</div>
<div class="line"><a name="l03981"></a><span class="lineno"> 3981</span>&#160;  <span class="keywordflow">case</span> Intrinsic::arm_neon_vst2lane:</div>
<div class="line"><a name="l03982"></a><span class="lineno"> 3982</span>&#160;  <span class="keywordflow">case</span> Intrinsic::arm_neon_vst3lane:</div>
<div class="line"><a name="l03983"></a><span class="lineno"> 3983</span>&#160;  <span class="keywordflow">case</span> Intrinsic::arm_neon_vst4lane: {</div>
<div class="line"><a name="l03984"></a><span class="lineno"> 3984</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Value *, 4&gt;</a> <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>(CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ac63dbb4994494c46f025715272cdb81e">args</a>());</div>
<div class="line"><a name="l03985"></a><span class="lineno"> 3985</span>&#160;    NewCall = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateCall(NewFn, <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>);</div>
<div class="line"><a name="l03986"></a><span class="lineno"> 3986</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03987"></a><span class="lineno"> 3987</span>&#160;  }</div>
<div class="line"><a name="l03988"></a><span class="lineno"> 3988</span>&#160;  <span class="keywordflow">case</span> Intrinsic::aarch64_sve_bfmlalb_lane_v2:</div>
<div class="line"><a name="l03989"></a><span class="lineno"> 3989</span>&#160;  <span class="keywordflow">case</span> Intrinsic::aarch64_sve_bfmlalt_lane_v2:</div>
<div class="line"><a name="l03990"></a><span class="lineno"> 3990</span>&#160;  <span class="keywordflow">case</span> Intrinsic::aarch64_sve_bfdot_lane_v2: {</div>
<div class="line"><a name="l03991"></a><span class="lineno"> 3991</span>&#160;    <a class="code" href="classllvm_1_1LLVMContext.html">LLVMContext</a> &amp;Ctx = <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getParent()-&gt;getContext();</div>
<div class="line"><a name="l03992"></a><span class="lineno"> 3992</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Value *, 4&gt;</a> <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>(CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ac63dbb4994494c46f025715272cdb81e">args</a>());</div>
<div class="line"><a name="l03993"></a><span class="lineno"> 3993</span>&#160;    <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>[3] = <a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#aa91241c8c54738377749dc47ee489e0d">ConstantInt::get</a>(Type::getInt32Ty(Ctx),</div>
<div class="line"><a name="l03994"></a><span class="lineno"> 3994</span>&#160;                               cast&lt;ConstantInt&gt;(<a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>[3])-&gt;getZExtValue());</div>
<div class="line"><a name="l03995"></a><span class="lineno"> 3995</span>&#160;    NewCall = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateCall(NewFn, <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>);</div>
<div class="line"><a name="l03996"></a><span class="lineno"> 3996</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03997"></a><span class="lineno"> 3997</span>&#160;  }</div>
<div class="line"><a name="l03998"></a><span class="lineno"> 3998</span>&#160;  <span class="keywordflow">case</span> Intrinsic::aarch64_sve_ld3_sret:</div>
<div class="line"><a name="l03999"></a><span class="lineno"> 3999</span>&#160;  <span class="keywordflow">case</span> Intrinsic::aarch64_sve_ld4_sret:</div>
<div class="line"><a name="l04000"></a><span class="lineno"> 4000</span>&#160;  <span class="keywordflow">case</span> Intrinsic::aarch64_sve_ld2_sret: {</div>
<div class="line"><a name="l04001"></a><span class="lineno"> 4001</span>&#160;    <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> = <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getName();</div>
<div class="line"><a name="l04002"></a><span class="lineno"> 4002</span>&#160;    <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> = <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.substr(5);</div>
<div class="line"><a name="l04003"></a><span class="lineno"> 4003</span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> = <a class="code" href="classllvm_1_1StringSwitch.html">StringSwitch&lt;unsigned&gt;</a>(<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>)</div>
<div class="line"><a name="l04004"></a><span class="lineno"> 4004</span>&#160;                     .<a class="code" href="classllvm_1_1StringSwitch.html#adcca0c9d8e5e7fab87046096d4f89d47">StartsWith</a>(<span class="stringliteral">&quot;aarch64.sve.ld2&quot;</span>, 2)</div>
<div class="line"><a name="l04005"></a><span class="lineno"> 4005</span>&#160;                     .<a class="code" href="classllvm_1_1StringSwitch.html#adcca0c9d8e5e7fab87046096d4f89d47">StartsWith</a>(<span class="stringliteral">&quot;aarch64.sve.ld3&quot;</span>, 3)</div>
<div class="line"><a name="l04006"></a><span class="lineno"> 4006</span>&#160;                     .<a class="code" href="classllvm_1_1StringSwitch.html#adcca0c9d8e5e7fab87046096d4f89d47">StartsWith</a>(<span class="stringliteral">&quot;aarch64.sve.ld4&quot;</span>, 4)</div>
<div class="line"><a name="l04007"></a><span class="lineno"> 4007</span>&#160;                     .<a class="code" href="classllvm_1_1StringSwitch.html#a7f0e82e8a818ca43926fceb49be81661">Default</a>(0);</div>
<div class="line"><a name="l04008"></a><span class="lineno"> 4008</span>&#160;    <a class="code" href="classllvm_1_1ScalableVectorType.html">ScalableVectorType</a> *RetTy =</div>
<div class="line"><a name="l04009"></a><span class="lineno"> 4009</span>&#160;        dyn_cast&lt;ScalableVectorType&gt;(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getReturnType());</div>
<div class="line"><a name="l04010"></a><span class="lineno"> 4010</span>&#160;    <span class="keywordtype">unsigned</span> MinElts = RetTy-&gt;<a class="code" href="classllvm_1_1ScalableVectorType.html#a7d023efe1bca32cc811885cc20a53ca7">getMinNumElements</a>() / <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>;</div>
<div class="line"><a name="l04011"></a><span class="lineno"> 4011</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Value *, 2&gt;</a> <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>(CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ac63dbb4994494c46f025715272cdb81e">args</a>());</div>
<div class="line"><a name="l04012"></a><span class="lineno"> 4012</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *NewLdCall = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateCall(NewFn, <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>);</div>
<div class="line"><a name="l04013"></a><span class="lineno"> 4013</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1MipsISD.html#a422daf9aa810935178671306b651d69ba366e1eac31eeb1a1892d62ccfc0c8cf8">Ret</a> = <a class="code" href="classllvm_1_1PoisonValue.html#a1bf08613fb664a2e377a9a72c59a6b66">llvm::PoisonValue::get</a>(RetTy);</div>
<div class="line"><a name="l04014"></a><span class="lineno"> 4014</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 0; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> &lt; <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>++) {</div>
<div class="line"><a name="l04015"></a><span class="lineno"> 4015</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *Idx = <a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#aa91241c8c54738377749dc47ee489e0d">ConstantInt::get</a>(Type::getInt64Ty(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>), <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> * MinElts);</div>
<div class="line"><a name="l04016"></a><span class="lineno"> 4016</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *SRet = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateExtractValue(NewLdCall, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l04017"></a><span class="lineno"> 4017</span>&#160;      <a class="code" href="namespacellvm_1_1MipsISD.html#a422daf9aa810935178671306b651d69ba366e1eac31eeb1a1892d62ccfc0c8cf8">Ret</a> = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateInsertVector(RetTy, <a class="code" href="namespacellvm_1_1MipsISD.html#a422daf9aa810935178671306b651d69ba366e1eac31eeb1a1892d62ccfc0c8cf8">Ret</a>, SRet, Idx);</div>
<div class="line"><a name="l04018"></a><span class="lineno"> 4018</span>&#160;    }</div>
<div class="line"><a name="l04019"></a><span class="lineno"> 4019</span>&#160;    NewCall = dyn_cast&lt;CallInst&gt;(<a class="code" href="namespacellvm_1_1MipsISD.html#a422daf9aa810935178671306b651d69ba366e1eac31eeb1a1892d62ccfc0c8cf8">Ret</a>);</div>
<div class="line"><a name="l04020"></a><span class="lineno"> 4020</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04021"></a><span class="lineno"> 4021</span>&#160;  }</div>
<div class="line"><a name="l04022"></a><span class="lineno"> 4022</span>&#160; </div>
<div class="line"><a name="l04023"></a><span class="lineno"> 4023</span>&#160;  <span class="keywordflow">case</span> Intrinsic::vector_extract: {</div>
<div class="line"><a name="l04024"></a><span class="lineno"> 4024</span>&#160;    <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> = <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getName();</div>
<div class="line"><a name="l04025"></a><span class="lineno"> 4025</span>&#160;    <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> = <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.substr(5); <span class="comment">// Strip llvm</span></div>
<div class="line"><a name="l04026"></a><span class="lineno"> 4026</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;aarch64.sve.tuple.get&quot;</span>)) {</div>
<div class="line"><a name="l04027"></a><span class="lineno"> 4027</span>&#160;      DefaultCase();</div>
<div class="line"><a name="l04028"></a><span class="lineno"> 4028</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04029"></a><span class="lineno"> 4029</span>&#160;    }</div>
<div class="line"><a name="l04030"></a><span class="lineno"> 4030</span>&#160;    <a class="code" href="classllvm_1_1ScalableVectorType.html">ScalableVectorType</a> *RetTy =</div>
<div class="line"><a name="l04031"></a><span class="lineno"> 4031</span>&#160;        dyn_cast&lt;ScalableVectorType&gt;(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getReturnType());</div>
<div class="line"><a name="l04032"></a><span class="lineno"> 4032</span>&#160;    <span class="keywordtype">unsigned</span> MinElts = RetTy-&gt;<a class="code" href="classllvm_1_1ScalableVectorType.html#a7d023efe1bca32cc811885cc20a53ca7">getMinNumElements</a>();</div>
<div class="line"><a name="l04033"></a><span class="lineno"> 4033</span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = cast&lt;ConstantInt&gt;(CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1))-&gt;getZExtValue();</div>
<div class="line"><a name="l04034"></a><span class="lineno"> 4034</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *NewIdx = <a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#aa91241c8c54738377749dc47ee489e0d">ConstantInt::get</a>(Type::getInt64Ty(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>), <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> * MinElts);</div>
<div class="line"><a name="l04035"></a><span class="lineno"> 4035</span>&#160;    NewCall = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateCall(NewFn, {CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0), NewIdx});</div>
<div class="line"><a name="l04036"></a><span class="lineno"> 4036</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04037"></a><span class="lineno"> 4037</span>&#160;  }</div>
<div class="line"><a name="l04038"></a><span class="lineno"> 4038</span>&#160; </div>
<div class="line"><a name="l04039"></a><span class="lineno"> 4039</span>&#160;  <span class="keywordflow">case</span> Intrinsic::vector_insert: {</div>
<div class="line"><a name="l04040"></a><span class="lineno"> 4040</span>&#160;    <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> = <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getName();</div>
<div class="line"><a name="l04041"></a><span class="lineno"> 4041</span>&#160;    <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> = <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.substr(5);</div>
<div class="line"><a name="l04042"></a><span class="lineno"> 4042</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;aarch64.sve.tuple&quot;</span>)) {</div>
<div class="line"><a name="l04043"></a><span class="lineno"> 4043</span>&#160;      DefaultCase();</div>
<div class="line"><a name="l04044"></a><span class="lineno"> 4044</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04045"></a><span class="lineno"> 4045</span>&#160;    }</div>
<div class="line"><a name="l04046"></a><span class="lineno"> 4046</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;aarch64.sve.tuple.set&quot;</span>)) {</div>
<div class="line"><a name="l04047"></a><span class="lineno"> 4047</span>&#160;      <span class="keywordtype">unsigned</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = dyn_cast&lt;ConstantInt&gt;(CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1))-&gt;getZExtValue();</div>
<div class="line"><a name="l04048"></a><span class="lineno"> 4048</span>&#160;      <a class="code" href="classllvm_1_1ScalableVectorType.html">ScalableVectorType</a> *Ty =</div>
<div class="line"><a name="l04049"></a><span class="lineno"> 4049</span>&#160;          dyn_cast&lt;ScalableVectorType&gt;(CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(2)-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l04050"></a><span class="lineno"> 4050</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *NewIdx =</div>
<div class="line"><a name="l04051"></a><span class="lineno"> 4051</span>&#160;          <a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#aa91241c8c54738377749dc47ee489e0d">ConstantInt::get</a>(Type::getInt64Ty(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>), <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> * Ty-&gt;<a class="code" href="classllvm_1_1ScalableVectorType.html#a7d023efe1bca32cc811885cc20a53ca7">getMinNumElements</a>());</div>
<div class="line"><a name="l04052"></a><span class="lineno"> 4052</span>&#160;      NewCall = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateCall(</div>
<div class="line"><a name="l04053"></a><span class="lineno"> 4053</span>&#160;          NewFn, {CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0), CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(2), NewIdx});</div>
<div class="line"><a name="l04054"></a><span class="lineno"> 4054</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04055"></a><span class="lineno"> 4055</span>&#160;    }</div>
<div class="line"><a name="l04056"></a><span class="lineno"> 4056</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(<span class="stringliteral">&quot;aarch64.sve.tuple.create&quot;</span>)) {</div>
<div class="line"><a name="l04057"></a><span class="lineno"> 4057</span>&#160;      <span class="keywordtype">unsigned</span> <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> = <a class="code" href="classllvm_1_1StringSwitch.html">StringSwitch&lt;unsigned&gt;</a>(<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>)</div>
<div class="line"><a name="l04058"></a><span class="lineno"> 4058</span>&#160;                       .<a class="code" href="classllvm_1_1StringSwitch.html#adcca0c9d8e5e7fab87046096d4f89d47">StartsWith</a>(<span class="stringliteral">&quot;aarch64.sve.tuple.create2&quot;</span>, 2)</div>
<div class="line"><a name="l04059"></a><span class="lineno"> 4059</span>&#160;                       .<a class="code" href="classllvm_1_1StringSwitch.html#adcca0c9d8e5e7fab87046096d4f89d47">StartsWith</a>(<span class="stringliteral">&quot;aarch64.sve.tuple.create3&quot;</span>, 3)</div>
<div class="line"><a name="l04060"></a><span class="lineno"> 4060</span>&#160;                       .<a class="code" href="classllvm_1_1StringSwitch.html#adcca0c9d8e5e7fab87046096d4f89d47">StartsWith</a>(<span class="stringliteral">&quot;aarch64.sve.tuple.create4&quot;</span>, 4)</div>
<div class="line"><a name="l04061"></a><span class="lineno"> 4061</span>&#160;                       .<a class="code" href="classllvm_1_1StringSwitch.html#a7f0e82e8a818ca43926fceb49be81661">Default</a>(0);</div>
<div class="line"><a name="l04062"></a><span class="lineno"> 4062</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> &gt; 1 &amp;&amp; <span class="stringliteral">&quot;Create is expected to be between 2-4&quot;</span>);</div>
<div class="line"><a name="l04063"></a><span class="lineno"> 4063</span>&#160;      <a class="code" href="classllvm_1_1ScalableVectorType.html">ScalableVectorType</a> *RetTy =</div>
<div class="line"><a name="l04064"></a><span class="lineno"> 4064</span>&#160;          dyn_cast&lt;ScalableVectorType&gt;(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getReturnType());</div>
<div class="line"><a name="l04065"></a><span class="lineno"> 4065</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1MipsISD.html#a422daf9aa810935178671306b651d69ba366e1eac31eeb1a1892d62ccfc0c8cf8">Ret</a> = <a class="code" href="classllvm_1_1PoisonValue.html#a1bf08613fb664a2e377a9a72c59a6b66">llvm::PoisonValue::get</a>(RetTy);</div>
<div class="line"><a name="l04066"></a><span class="lineno"> 4066</span>&#160;      <span class="keywordtype">unsigned</span> MinElts = RetTy-&gt;<a class="code" href="classllvm_1_1ScalableVectorType.html#a7d023efe1bca32cc811885cc20a53ca7">getMinNumElements</a>() / <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>;</div>
<div class="line"><a name="l04067"></a><span class="lineno"> 4067</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 0; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> &lt; <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>++) {</div>
<div class="line"><a name="l04068"></a><span class="lineno"> 4068</span>&#160;        <a class="code" href="classllvm_1_1Value.html">Value</a> *Idx = <a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#aa91241c8c54738377749dc47ee489e0d">ConstantInt::get</a>(Type::getInt64Ty(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>), <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> * MinElts);</div>
<div class="line"><a name="l04069"></a><span class="lineno"> 4069</span>&#160;        <a class="code" href="classllvm_1_1Value.html">Value</a> *V = CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l04070"></a><span class="lineno"> 4070</span>&#160;        <a class="code" href="namespacellvm_1_1MipsISD.html#a422daf9aa810935178671306b651d69ba366e1eac31eeb1a1892d62ccfc0c8cf8">Ret</a> = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateInsertVector(RetTy, <a class="code" href="namespacellvm_1_1MipsISD.html#a422daf9aa810935178671306b651d69ba366e1eac31eeb1a1892d62ccfc0c8cf8">Ret</a>, V, Idx);</div>
<div class="line"><a name="l04071"></a><span class="lineno"> 4071</span>&#160;      }</div>
<div class="line"><a name="l04072"></a><span class="lineno"> 4072</span>&#160;      NewCall = dyn_cast&lt;CallInst&gt;(<a class="code" href="namespacellvm_1_1MipsISD.html#a422daf9aa810935178671306b651d69ba366e1eac31eeb1a1892d62ccfc0c8cf8">Ret</a>);</div>
<div class="line"><a name="l04073"></a><span class="lineno"> 4073</span>&#160;    }</div>
<div class="line"><a name="l04074"></a><span class="lineno"> 4074</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04075"></a><span class="lineno"> 4075</span>&#160;  }</div>
<div class="line"><a name="l04076"></a><span class="lineno"> 4076</span>&#160; </div>
<div class="line"><a name="l04077"></a><span class="lineno"> 4077</span>&#160;  <span class="keywordflow">case</span> Intrinsic::arm_neon_bfdot:</div>
<div class="line"><a name="l04078"></a><span class="lineno"> 4078</span>&#160;  <span class="keywordflow">case</span> Intrinsic::arm_neon_bfmmla:</div>
<div class="line"><a name="l04079"></a><span class="lineno"> 4079</span>&#160;  <span class="keywordflow">case</span> Intrinsic::arm_neon_bfmlalb:</div>
<div class="line"><a name="l04080"></a><span class="lineno"> 4080</span>&#160;  <span class="keywordflow">case</span> Intrinsic::arm_neon_bfmlalt:</div>
<div class="line"><a name="l04081"></a><span class="lineno"> 4081</span>&#160;  <span class="keywordflow">case</span> Intrinsic::aarch64_neon_bfdot:</div>
<div class="line"><a name="l04082"></a><span class="lineno"> 4082</span>&#160;  <span class="keywordflow">case</span> Intrinsic::aarch64_neon_bfmmla:</div>
<div class="line"><a name="l04083"></a><span class="lineno"> 4083</span>&#160;  <span class="keywordflow">case</span> Intrinsic::aarch64_neon_bfmlalb:</div>
<div class="line"><a name="l04084"></a><span class="lineno"> 4084</span>&#160;  <span class="keywordflow">case</span> Intrinsic::aarch64_neon_bfmlalt: {</div>
<div class="line"><a name="l04085"></a><span class="lineno"> 4085</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Value *, 3&gt;</a> <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>;</div>
<div class="line"><a name="l04086"></a><span class="lineno"> 4086</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#adde2ea00dd2613ee41bfe91908e4e68e">arg_size</a>() == 3 &amp;&amp;</div>
<div class="line"><a name="l04087"></a><span class="lineno"> 4087</span>&#160;           <span class="stringliteral">&quot;Mismatch between function args and call args&quot;</span>);</div>
<div class="line"><a name="l04088"></a><span class="lineno"> 4088</span>&#160;    <span class="keywordtype">size_t</span> OperandWidth =</div>
<div class="line"><a name="l04089"></a><span class="lineno"> 4089</span>&#160;        CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1)-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a833daf718a49c5cd637d8c9ddeaebe07">getPrimitiveSizeInBits</a>();</div>
<div class="line"><a name="l04090"></a><span class="lineno"> 4090</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((OperandWidth == 64 || OperandWidth == 128) &amp;&amp;</div>
<div class="line"><a name="l04091"></a><span class="lineno"> 4091</span>&#160;           <span class="stringliteral">&quot;Unexpected operand width&quot;</span>);</div>
<div class="line"><a name="l04092"></a><span class="lineno"> 4092</span>&#160;    <a class="code" href="classllvm_1_1Type.html">Type</a> *NewTy = <a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#aa91241c8c54738377749dc47ee489e0d">FixedVectorType::get</a>(Type::getBFloatTy(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>), OperandWidth / 16);</div>
<div class="line"><a name="l04093"></a><span class="lineno"> 4093</span>&#160;    <span class="keyword">auto</span> Iter = CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ac63dbb4994494c46f025715272cdb81e">args</a>().begin();</div>
<div class="line"><a name="l04094"></a><span class="lineno"> 4094</span>&#160;    <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>.push_back(*Iter++);</div>
<div class="line"><a name="l04095"></a><span class="lineno"> 4095</span>&#160;    <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>.push_back(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateBitCast(*Iter++, NewTy));</div>
<div class="line"><a name="l04096"></a><span class="lineno"> 4096</span>&#160;    <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>.push_back(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateBitCast(*Iter++, NewTy));</div>
<div class="line"><a name="l04097"></a><span class="lineno"> 4097</span>&#160;    NewCall = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateCall(NewFn, <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>);</div>
<div class="line"><a name="l04098"></a><span class="lineno"> 4098</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04099"></a><span class="lineno"> 4099</span>&#160;  }</div>
<div class="line"><a name="l04100"></a><span class="lineno"> 4100</span>&#160; </div>
<div class="line"><a name="l04101"></a><span class="lineno"> 4101</span>&#160;  <span class="keywordflow">case</span> Intrinsic::bitreverse:</div>
<div class="line"><a name="l04102"></a><span class="lineno"> 4102</span>&#160;    NewCall = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateCall(NewFn, {CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0)});</div>
<div class="line"><a name="l04103"></a><span class="lineno"> 4103</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04104"></a><span class="lineno"> 4104</span>&#160; </div>
<div class="line"><a name="l04105"></a><span class="lineno"> 4105</span>&#160;  <span class="keywordflow">case</span> Intrinsic::ctlz:</div>
<div class="line"><a name="l04106"></a><span class="lineno"> 4106</span>&#160;  <span class="keywordflow">case</span> Intrinsic::cttz:</div>
<div class="line"><a name="l04107"></a><span class="lineno"> 4107</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#adde2ea00dd2613ee41bfe91908e4e68e">arg_size</a>() == 1 &amp;&amp;</div>
<div class="line"><a name="l04108"></a><span class="lineno"> 4108</span>&#160;           <span class="stringliteral">&quot;Mismatch between function args and call args&quot;</span>);</div>
<div class="line"><a name="l04109"></a><span class="lineno"> 4109</span>&#160;    NewCall =</div>
<div class="line"><a name="l04110"></a><span class="lineno"> 4110</span>&#160;        <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateCall(NewFn, {CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0), <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.getFalse()});</div>
<div class="line"><a name="l04111"></a><span class="lineno"> 4111</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04112"></a><span class="lineno"> 4112</span>&#160; </div>
<div class="line"><a name="l04113"></a><span class="lineno"> 4113</span>&#160;  <span class="keywordflow">case</span> Intrinsic::objectsize: {</div>
<div class="line"><a name="l04114"></a><span class="lineno"> 4114</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *NullIsUnknownSize =</div>
<div class="line"><a name="l04115"></a><span class="lineno"> 4115</span>&#160;        CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#adde2ea00dd2613ee41bfe91908e4e68e">arg_size</a>() == 2 ? <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.getFalse() : CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(2);</div>
<div class="line"><a name="l04116"></a><span class="lineno"> 4116</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#ab7af0c09900daed62bbdb01dba180f7ca971fd8cc345d8bd9f92e9f7d88fdf20c">Dynamic</a> =</div>
<div class="line"><a name="l04117"></a><span class="lineno"> 4117</span>&#160;        CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#adde2ea00dd2613ee41bfe91908e4e68e">arg_size</a>() &lt; 4 ? <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.getFalse() : CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(3);</div>
<div class="line"><a name="l04118"></a><span class="lineno"> 4118</span>&#160;    NewCall = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateCall(</div>
<div class="line"><a name="l04119"></a><span class="lineno"> 4119</span>&#160;        NewFn, {CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0), CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1), NullIsUnknownSize, <a class="code" href="namespacellvm.html#ab7af0c09900daed62bbdb01dba180f7ca971fd8cc345d8bd9f92e9f7d88fdf20c">Dynamic</a>});</div>
<div class="line"><a name="l04120"></a><span class="lineno"> 4120</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04121"></a><span class="lineno"> 4121</span>&#160;  }</div>
<div class="line"><a name="l04122"></a><span class="lineno"> 4122</span>&#160; </div>
<div class="line"><a name="l04123"></a><span class="lineno"> 4123</span>&#160;  <span class="keywordflow">case</span> Intrinsic::ctpop:</div>
<div class="line"><a name="l04124"></a><span class="lineno"> 4124</span>&#160;    NewCall = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateCall(NewFn, {CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0)});</div>
<div class="line"><a name="l04125"></a><span class="lineno"> 4125</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04126"></a><span class="lineno"> 4126</span>&#160; </div>
<div class="line"><a name="l04127"></a><span class="lineno"> 4127</span>&#160;  <span class="keywordflow">case</span> Intrinsic::convert_from_fp16:</div>
<div class="line"><a name="l04128"></a><span class="lineno"> 4128</span>&#160;    NewCall = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateCall(NewFn, {CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0)});</div>
<div class="line"><a name="l04129"></a><span class="lineno"> 4129</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04130"></a><span class="lineno"> 4130</span>&#160; </div>
<div class="line"><a name="l04131"></a><span class="lineno"> 4131</span>&#160;  <span class="keywordflow">case</span> Intrinsic::dbg_value:</div>
<div class="line"><a name="l04132"></a><span class="lineno"> 4132</span>&#160;    <span class="comment">// Upgrade from the old version that had an extra offset argument.</span></div>
<div class="line"><a name="l04133"></a><span class="lineno"> 4133</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#adde2ea00dd2613ee41bfe91908e4e68e">arg_size</a>() == 4);</div>
<div class="line"><a name="l04134"></a><span class="lineno"> 4134</span>&#160;    <span class="comment">// Drop nonzero offsets instead of attempting to upgrade them.</span></div>
<div class="line"><a name="l04135"></a><span class="lineno"> 4135</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> *<a class="code" href="ELFObjHandler_8cpp.html#a250e66aa31a03567cc345ca1bc463b8c">Offset</a> = dyn_cast_or_null&lt;Constant&gt;(CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1)))</div>
<div class="line"><a name="l04136"></a><span class="lineno"> 4136</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="ELFObjHandler_8cpp.html#a250e66aa31a03567cc345ca1bc463b8c">Offset</a>-&gt;isZeroValue()) {</div>
<div class="line"><a name="l04137"></a><span class="lineno"> 4137</span>&#160;        NewCall = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateCall(</div>
<div class="line"><a name="l04138"></a><span class="lineno"> 4138</span>&#160;            NewFn,</div>
<div class="line"><a name="l04139"></a><span class="lineno"> 4139</span>&#160;            {CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0), CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(2), CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(3)});</div>
<div class="line"><a name="l04140"></a><span class="lineno"> 4140</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04141"></a><span class="lineno"> 4141</span>&#160;      }</div>
<div class="line"><a name="l04142"></a><span class="lineno"> 4142</span>&#160;    CI-&gt;<a class="code" href="classllvm_1_1Instruction.html#ae6b978645b8ac72d1a35e1298ffdd4f0">eraseFromParent</a>();</div>
<div class="line"><a name="l04143"></a><span class="lineno"> 4143</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04144"></a><span class="lineno"> 4144</span>&#160; </div>
<div class="line"><a name="l04145"></a><span class="lineno"> 4145</span>&#160;  <span class="keywordflow">case</span> Intrinsic::ptr_annotation:</div>
<div class="line"><a name="l04146"></a><span class="lineno"> 4146</span>&#160;    <span class="comment">// Upgrade from versions that lacked the annotation attribute argument.</span></div>
<div class="line"><a name="l04147"></a><span class="lineno"> 4147</span>&#160;    <span class="keywordflow">if</span> (CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#adde2ea00dd2613ee41bfe91908e4e68e">arg_size</a>() != 4) {</div>
<div class="line"><a name="l04148"></a><span class="lineno"> 4148</span>&#160;      DefaultCase();</div>
<div class="line"><a name="l04149"></a><span class="lineno"> 4149</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04150"></a><span class="lineno"> 4150</span>&#160;    }</div>
<div class="line"><a name="l04151"></a><span class="lineno"> 4151</span>&#160; </div>
<div class="line"><a name="l04152"></a><span class="lineno"> 4152</span>&#160;    <span class="comment">// Create a new call with an added null annotation attribute argument.</span></div>
<div class="line"><a name="l04153"></a><span class="lineno"> 4153</span>&#160;    NewCall = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateCall(</div>
<div class="line"><a name="l04154"></a><span class="lineno"> 4154</span>&#160;        NewFn,</div>
<div class="line"><a name="l04155"></a><span class="lineno"> 4155</span>&#160;        {CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0), CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1), CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(2),</div>
<div class="line"><a name="l04156"></a><span class="lineno"> 4156</span>&#160;         CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(3), Constant::getNullValue(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.getInt8PtrTy())});</div>
<div class="line"><a name="l04157"></a><span class="lineno"> 4157</span>&#160;    NewCall-&gt;<a class="code" href="classllvm_1_1Value.html#ae855357b6c5e6e7ed1869272708a3a84">takeName</a>(CI);</div>
<div class="line"><a name="l04158"></a><span class="lineno"> 4158</span>&#160;    CI-&gt;<a class="code" href="classllvm_1_1Value.html#a3ab5fc45117b450e8bb04e564cb6e5f2">replaceAllUsesWith</a>(NewCall);</div>
<div class="line"><a name="l04159"></a><span class="lineno"> 4159</span>&#160;    CI-&gt;<a class="code" href="classllvm_1_1Instruction.html#ae6b978645b8ac72d1a35e1298ffdd4f0">eraseFromParent</a>();</div>
<div class="line"><a name="l04160"></a><span class="lineno"> 4160</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04161"></a><span class="lineno"> 4161</span>&#160; </div>
<div class="line"><a name="l04162"></a><span class="lineno"> 4162</span>&#160;  <span class="keywordflow">case</span> Intrinsic::var_annotation:</div>
<div class="line"><a name="l04163"></a><span class="lineno"> 4163</span>&#160;    <span class="comment">// Upgrade from versions that lacked the annotation attribute argument.</span></div>
<div class="line"><a name="l04164"></a><span class="lineno"> 4164</span>&#160;    <span class="keywordflow">if</span> (CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#adde2ea00dd2613ee41bfe91908e4e68e">arg_size</a>() != 4) {</div>
<div class="line"><a name="l04165"></a><span class="lineno"> 4165</span>&#160;      DefaultCase();</div>
<div class="line"><a name="l04166"></a><span class="lineno"> 4166</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04167"></a><span class="lineno"> 4167</span>&#160;    }</div>
<div class="line"><a name="l04168"></a><span class="lineno"> 4168</span>&#160;    <span class="comment">// Create a new call with an added null annotation attribute argument.</span></div>
<div class="line"><a name="l04169"></a><span class="lineno"> 4169</span>&#160;    NewCall = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateCall(</div>
<div class="line"><a name="l04170"></a><span class="lineno"> 4170</span>&#160;        NewFn,</div>
<div class="line"><a name="l04171"></a><span class="lineno"> 4171</span>&#160;        {CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0), CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1), CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(2),</div>
<div class="line"><a name="l04172"></a><span class="lineno"> 4172</span>&#160;         CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(3), Constant::getNullValue(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.getInt8PtrTy())});</div>
<div class="line"><a name="l04173"></a><span class="lineno"> 4173</span>&#160;    NewCall-&gt;<a class="code" href="classllvm_1_1Value.html#ae855357b6c5e6e7ed1869272708a3a84">takeName</a>(CI);</div>
<div class="line"><a name="l04174"></a><span class="lineno"> 4174</span>&#160;    CI-&gt;<a class="code" href="classllvm_1_1Value.html#a3ab5fc45117b450e8bb04e564cb6e5f2">replaceAllUsesWith</a>(NewCall);</div>
<div class="line"><a name="l04175"></a><span class="lineno"> 4175</span>&#160;    CI-&gt;<a class="code" href="classllvm_1_1Instruction.html#ae6b978645b8ac72d1a35e1298ffdd4f0">eraseFromParent</a>();</div>
<div class="line"><a name="l04176"></a><span class="lineno"> 4176</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04177"></a><span class="lineno"> 4177</span>&#160; </div>
<div class="line"><a name="l04178"></a><span class="lineno"> 4178</span>&#160;  <span class="keywordflow">case</span> Intrinsic::x86_xop_vfrcz_ss:</div>
<div class="line"><a name="l04179"></a><span class="lineno"> 4179</span>&#160;  <span class="keywordflow">case</span> Intrinsic::x86_xop_vfrcz_sd:</div>
<div class="line"><a name="l04180"></a><span class="lineno"> 4180</span>&#160;    NewCall = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateCall(NewFn, {CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1)});</div>
<div class="line"><a name="l04181"></a><span class="lineno"> 4181</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04182"></a><span class="lineno"> 4182</span>&#160; </div>
<div class="line"><a name="l04183"></a><span class="lineno"> 4183</span>&#160;  <span class="keywordflow">case</span> Intrinsic::x86_xop_vpermil2pd:</div>
<div class="line"><a name="l04184"></a><span class="lineno"> 4184</span>&#160;  <span class="keywordflow">case</span> Intrinsic::x86_xop_vpermil2ps:</div>
<div class="line"><a name="l04185"></a><span class="lineno"> 4185</span>&#160;  <span class="keywordflow">case</span> Intrinsic::x86_xop_vpermil2pd_256:</div>
<div class="line"><a name="l04186"></a><span class="lineno"> 4186</span>&#160;  <span class="keywordflow">case</span> Intrinsic::x86_xop_vpermil2ps_256: {</div>
<div class="line"><a name="l04187"></a><span class="lineno"> 4187</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Value *, 4&gt;</a> <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>(CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ac63dbb4994494c46f025715272cdb81e">args</a>());</div>
<div class="line"><a name="l04188"></a><span class="lineno"> 4188</span>&#160;    <a class="code" href="classllvm_1_1VectorType.html">VectorType</a> *FltIdxTy = cast&lt;VectorType&gt;(<a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>[2]-&gt;<a class="code" href="M68kELFObjectWriter_8cpp.html#ae4a8bc3879d2282eefd72b16b12c2a37">getType</a>());</div>
<div class="line"><a name="l04189"></a><span class="lineno"> 4189</span>&#160;    <a class="code" href="classllvm_1_1VectorType.html">VectorType</a> *IntIdxTy = VectorType::getInteger(FltIdxTy);</div>
<div class="line"><a name="l04190"></a><span class="lineno"> 4190</span>&#160;    <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>[2] = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateBitCast(<a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>[2], IntIdxTy);</div>
<div class="line"><a name="l04191"></a><span class="lineno"> 4191</span>&#160;    NewCall = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateCall(NewFn, <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>);</div>
<div class="line"><a name="l04192"></a><span class="lineno"> 4192</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04193"></a><span class="lineno"> 4193</span>&#160;  }</div>
<div class="line"><a name="l04194"></a><span class="lineno"> 4194</span>&#160; </div>
<div class="line"><a name="l04195"></a><span class="lineno"> 4195</span>&#160;  <span class="keywordflow">case</span> Intrinsic::x86_sse41_ptestc:</div>
<div class="line"><a name="l04196"></a><span class="lineno"> 4196</span>&#160;  <span class="keywordflow">case</span> Intrinsic::x86_sse41_ptestz:</div>
<div class="line"><a name="l04197"></a><span class="lineno"> 4197</span>&#160;  <span class="keywordflow">case</span> Intrinsic::x86_sse41_ptestnzc: {</div>
<div class="line"><a name="l04198"></a><span class="lineno"> 4198</span>&#160;    <span class="comment">// The arguments for these intrinsics used to be v4f32, and changed</span></div>
<div class="line"><a name="l04199"></a><span class="lineno"> 4199</span>&#160;    <span class="comment">// to v2i64. This is purely a nop, since those are bitwise intrinsics.</span></div>
<div class="line"><a name="l04200"></a><span class="lineno"> 4200</span>&#160;    <span class="comment">// So, the only thing required is a bitcast for both arguments.</span></div>
<div class="line"><a name="l04201"></a><span class="lineno"> 4201</span>&#160;    <span class="comment">// First, check the arguments have the old type.</span></div>
<div class="line"><a name="l04202"></a><span class="lineno"> 4202</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *Arg0 = CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0);</div>
<div class="line"><a name="l04203"></a><span class="lineno"> 4203</span>&#160;    <span class="keywordflow">if</span> (Arg0-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>() != <a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#aa91241c8c54738377749dc47ee489e0d">FixedVectorType::get</a>(Type::getFloatTy(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>), 4))</div>
<div class="line"><a name="l04204"></a><span class="lineno"> 4204</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04205"></a><span class="lineno"> 4205</span>&#160; </div>
<div class="line"><a name="l04206"></a><span class="lineno"> 4206</span>&#160;    <span class="comment">// Old intrinsic, add bitcasts</span></div>
<div class="line"><a name="l04207"></a><span class="lineno"> 4207</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *Arg1 = CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1);</div>
<div class="line"><a name="l04208"></a><span class="lineno"> 4208</span>&#160; </div>
<div class="line"><a name="l04209"></a><span class="lineno"> 4209</span>&#160;    <span class="keyword">auto</span> *NewVecTy = <a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#aa91241c8c54738377749dc47ee489e0d">FixedVectorType::get</a>(Type::getInt64Ty(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>), 2);</div>
<div class="line"><a name="l04210"></a><span class="lineno"> 4210</span>&#160; </div>
<div class="line"><a name="l04211"></a><span class="lineno"> 4211</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *BC0 = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateBitCast(Arg0, NewVecTy, <span class="stringliteral">&quot;cast&quot;</span>);</div>
<div class="line"><a name="l04212"></a><span class="lineno"> 4212</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *BC1 = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateBitCast(Arg1, NewVecTy, <span class="stringliteral">&quot;cast&quot;</span>);</div>
<div class="line"><a name="l04213"></a><span class="lineno"> 4213</span>&#160; </div>
<div class="line"><a name="l04214"></a><span class="lineno"> 4214</span>&#160;    NewCall = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateCall(NewFn, {BC0, BC1});</div>
<div class="line"><a name="l04215"></a><span class="lineno"> 4215</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04216"></a><span class="lineno"> 4216</span>&#160;  }</div>
<div class="line"><a name="l04217"></a><span class="lineno"> 4217</span>&#160; </div>
<div class="line"><a name="l04218"></a><span class="lineno"> 4218</span>&#160;  <span class="keywordflow">case</span> Intrinsic::x86_rdtscp: {</div>
<div class="line"><a name="l04219"></a><span class="lineno"> 4219</span>&#160;    <span class="comment">// This used to take 1 arguments. If we have no arguments, it is already</span></div>
<div class="line"><a name="l04220"></a><span class="lineno"> 4220</span>&#160;    <span class="comment">// upgraded.</span></div>
<div class="line"><a name="l04221"></a><span class="lineno"> 4221</span>&#160;    <span class="keywordflow">if</span> (CI-&gt;<a class="code" href="classllvm_1_1User.html#addec638786f763d967811b45cb662f1f">getNumOperands</a>() == 0)</div>
<div class="line"><a name="l04222"></a><span class="lineno"> 4222</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04223"></a><span class="lineno"> 4223</span>&#160; </div>
<div class="line"><a name="l04224"></a><span class="lineno"> 4224</span>&#160;    NewCall = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateCall(NewFn);</div>
<div class="line"><a name="l04225"></a><span class="lineno"> 4225</span>&#160;    <span class="comment">// Extract the second result and store it.</span></div>
<div class="line"><a name="l04226"></a><span class="lineno"> 4226</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#ae551fe3e2b167b36005b26473e993884a26aa2e7865f749b52f3b77991776c40d">Data</a> = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateExtractValue(NewCall, 1);</div>
<div class="line"><a name="l04227"></a><span class="lineno"> 4227</span>&#160;    <span class="comment">// Cast the pointer to the right type.</span></div>
<div class="line"><a name="l04228"></a><span class="lineno"> 4228</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a> = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateBitCast(CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0),</div>
<div class="line"><a name="l04229"></a><span class="lineno"> 4229</span>&#160;                                 <a class="code" href="classllvm_1_1PointerType.html#a8db49fd5069f21d514e7bb0fd11f0902">llvm::PointerType::getUnqual</a>(<a class="code" href="namespacellvm.html#ae551fe3e2b167b36005b26473e993884a26aa2e7865f749b52f3b77991776c40d">Data</a>-&gt;getType()));</div>
<div class="line"><a name="l04230"></a><span class="lineno"> 4230</span>&#160;    <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateAlignedStore(<a class="code" href="namespacellvm.html#ae551fe3e2b167b36005b26473e993884a26aa2e7865f749b52f3b77991776c40d">Data</a>, <a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>, <a class="code" href="ELFObjHandler_8cpp.html#a043cdaf7b89aaeeb127be5d93411637f">Align</a>(1));</div>
<div class="line"><a name="l04231"></a><span class="lineno"> 4231</span>&#160;    <span class="comment">// Replace the original call result with the first result of the new call.</span></div>
<div class="line"><a name="l04232"></a><span class="lineno"> 4232</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *TSC = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateExtractValue(NewCall, 0);</div>
<div class="line"><a name="l04233"></a><span class="lineno"> 4233</span>&#160; </div>
<div class="line"><a name="l04234"></a><span class="lineno"> 4234</span>&#160;    NewCall-&gt;<a class="code" href="classllvm_1_1Value.html#ae855357b6c5e6e7ed1869272708a3a84">takeName</a>(CI);</div>
<div class="line"><a name="l04235"></a><span class="lineno"> 4235</span>&#160;    CI-&gt;<a class="code" href="classllvm_1_1Value.html#a3ab5fc45117b450e8bb04e564cb6e5f2">replaceAllUsesWith</a>(TSC);</div>
<div class="line"><a name="l04236"></a><span class="lineno"> 4236</span>&#160;    CI-&gt;<a class="code" href="classllvm_1_1Instruction.html#ae6b978645b8ac72d1a35e1298ffdd4f0">eraseFromParent</a>();</div>
<div class="line"><a name="l04237"></a><span class="lineno"> 4237</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04238"></a><span class="lineno"> 4238</span>&#160;  }</div>
<div class="line"><a name="l04239"></a><span class="lineno"> 4239</span>&#160; </div>
<div class="line"><a name="l04240"></a><span class="lineno"> 4240</span>&#160;  <span class="keywordflow">case</span> Intrinsic::x86_sse41_insertps:</div>
<div class="line"><a name="l04241"></a><span class="lineno"> 4241</span>&#160;  <span class="keywordflow">case</span> Intrinsic::x86_sse41_dppd:</div>
<div class="line"><a name="l04242"></a><span class="lineno"> 4242</span>&#160;  <span class="keywordflow">case</span> Intrinsic::x86_sse41_dpps:</div>
<div class="line"><a name="l04243"></a><span class="lineno"> 4243</span>&#160;  <span class="keywordflow">case</span> Intrinsic::x86_sse41_mpsadbw:</div>
<div class="line"><a name="l04244"></a><span class="lineno"> 4244</span>&#160;  <span class="keywordflow">case</span> Intrinsic::x86_avx_dp_ps_256:</div>
<div class="line"><a name="l04245"></a><span class="lineno"> 4245</span>&#160;  <span class="keywordflow">case</span> Intrinsic::x86_avx2_mpsadbw: {</div>
<div class="line"><a name="l04246"></a><span class="lineno"> 4246</span>&#160;    <span class="comment">// Need to truncate the last argument from i32 to i8 -- this argument models</span></div>
<div class="line"><a name="l04247"></a><span class="lineno"> 4247</span>&#160;    <span class="comment">// an inherently 8-bit immediate operand to these x86 instructions.</span></div>
<div class="line"><a name="l04248"></a><span class="lineno"> 4248</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Value *, 4&gt;</a> <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>(CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ac63dbb4994494c46f025715272cdb81e">args</a>());</div>
<div class="line"><a name="l04249"></a><span class="lineno"> 4249</span>&#160; </div>
<div class="line"><a name="l04250"></a><span class="lineno"> 4250</span>&#160;    <span class="comment">// Replace the last argument with a trunc.</span></div>
<div class="line"><a name="l04251"></a><span class="lineno"> 4251</span>&#160;    <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>.back() = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateTrunc(<a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>.back(), Type::getInt8Ty(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>), <span class="stringliteral">&quot;trunc&quot;</span>);</div>
<div class="line"><a name="l04252"></a><span class="lineno"> 4252</span>&#160;    NewCall = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateCall(NewFn, <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>);</div>
<div class="line"><a name="l04253"></a><span class="lineno"> 4253</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04254"></a><span class="lineno"> 4254</span>&#160;  }</div>
<div class="line"><a name="l04255"></a><span class="lineno"> 4255</span>&#160; </div>
<div class="line"><a name="l04256"></a><span class="lineno"> 4256</span>&#160;  <span class="keywordflow">case</span> Intrinsic::x86_avx512_mask_cmp_pd_128:</div>
<div class="line"><a name="l04257"></a><span class="lineno"> 4257</span>&#160;  <span class="keywordflow">case</span> Intrinsic::x86_avx512_mask_cmp_pd_256:</div>
<div class="line"><a name="l04258"></a><span class="lineno"> 4258</span>&#160;  <span class="keywordflow">case</span> Intrinsic::x86_avx512_mask_cmp_pd_512:</div>
<div class="line"><a name="l04259"></a><span class="lineno"> 4259</span>&#160;  <span class="keywordflow">case</span> Intrinsic::x86_avx512_mask_cmp_ps_128:</div>
<div class="line"><a name="l04260"></a><span class="lineno"> 4260</span>&#160;  <span class="keywordflow">case</span> Intrinsic::x86_avx512_mask_cmp_ps_256:</div>
<div class="line"><a name="l04261"></a><span class="lineno"> 4261</span>&#160;  <span class="keywordflow">case</span> Intrinsic::x86_avx512_mask_cmp_ps_512: {</div>
<div class="line"><a name="l04262"></a><span class="lineno"> 4262</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Value *, 4&gt;</a> <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>(CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ac63dbb4994494c46f025715272cdb81e">args</a>());</div>
<div class="line"><a name="l04263"></a><span class="lineno"> 4263</span>&#160;    <span class="keywordtype">unsigned</span> NumElts =</div>
<div class="line"><a name="l04264"></a><span class="lineno"> 4264</span>&#160;        cast&lt;FixedVectorType&gt;(<a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>[0]-&gt;<a class="code" href="M68kELFObjectWriter_8cpp.html#ae4a8bc3879d2282eefd72b16b12c2a37">getType</a>())-&gt;getNumElements();</div>
<div class="line"><a name="l04265"></a><span class="lineno"> 4265</span>&#160;    <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>[3] = <a class="code" href="AutoUpgrade_8cpp.html#af631ff2d8f998127c4f43154c07ebcba">getX86MaskVec</a>(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>[3], NumElts);</div>
<div class="line"><a name="l04266"></a><span class="lineno"> 4266</span>&#160; </div>
<div class="line"><a name="l04267"></a><span class="lineno"> 4267</span>&#160;    NewCall = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateCall(NewFn, <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>);</div>
<div class="line"><a name="l04268"></a><span class="lineno"> 4268</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *Res = <a class="code" href="AutoUpgrade_8cpp.html#a6c619e6daaa1556965750a89419eaf87">ApplyX86MaskOn1BitsVec</a>(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>, NewCall, <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l04269"></a><span class="lineno"> 4269</span>&#160; </div>
<div class="line"><a name="l04270"></a><span class="lineno"> 4270</span>&#160;    NewCall-&gt;<a class="code" href="classllvm_1_1Value.html#ae855357b6c5e6e7ed1869272708a3a84">takeName</a>(CI);</div>
<div class="line"><a name="l04271"></a><span class="lineno"> 4271</span>&#160;    CI-&gt;<a class="code" href="classllvm_1_1Value.html#a3ab5fc45117b450e8bb04e564cb6e5f2">replaceAllUsesWith</a>(Res);</div>
<div class="line"><a name="l04272"></a><span class="lineno"> 4272</span>&#160;    CI-&gt;<a class="code" href="classllvm_1_1Instruction.html#ae6b978645b8ac72d1a35e1298ffdd4f0">eraseFromParent</a>();</div>
<div class="line"><a name="l04273"></a><span class="lineno"> 4273</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04274"></a><span class="lineno"> 4274</span>&#160;  }</div>
<div class="line"><a name="l04275"></a><span class="lineno"> 4275</span>&#160; </div>
<div class="line"><a name="l04276"></a><span class="lineno"> 4276</span>&#160;  <span class="keywordflow">case</span> Intrinsic::x86_avx512bf16_cvtne2ps2bf16_128:</div>
<div class="line"><a name="l04277"></a><span class="lineno"> 4277</span>&#160;  <span class="keywordflow">case</span> Intrinsic::x86_avx512bf16_cvtne2ps2bf16_256:</div>
<div class="line"><a name="l04278"></a><span class="lineno"> 4278</span>&#160;  <span class="keywordflow">case</span> Intrinsic::x86_avx512bf16_cvtne2ps2bf16_512:</div>
<div class="line"><a name="l04279"></a><span class="lineno"> 4279</span>&#160;  <span class="keywordflow">case</span> Intrinsic::x86_avx512bf16_mask_cvtneps2bf16_128:</div>
<div class="line"><a name="l04280"></a><span class="lineno"> 4280</span>&#160;  <span class="keywordflow">case</span> Intrinsic::x86_avx512bf16_cvtneps2bf16_256:</div>
<div class="line"><a name="l04281"></a><span class="lineno"> 4281</span>&#160;  <span class="keywordflow">case</span> Intrinsic::x86_avx512bf16_cvtneps2bf16_512: {</div>
<div class="line"><a name="l04282"></a><span class="lineno"> 4282</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Value *, 4&gt;</a> <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>(CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ac63dbb4994494c46f025715272cdb81e">args</a>());</div>
<div class="line"><a name="l04283"></a><span class="lineno"> 4283</span>&#160;    <span class="keywordtype">unsigned</span> NumElts = cast&lt;FixedVectorType&gt;(CI-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>())-&gt;getNumElements();</div>
<div class="line"><a name="l04284"></a><span class="lineno"> 4284</span>&#160;    <span class="keywordflow">if</span> (NewFn-&gt;<a class="code" href="classllvm_1_1Function.html#a4d0a7baab8d078065b2de10e3460892a">getIntrinsicID</a>() ==</div>
<div class="line"><a name="l04285"></a><span class="lineno"> 4285</span>&#160;        Intrinsic::x86_avx512bf16_mask_cvtneps2bf16_128)</div>
<div class="line"><a name="l04286"></a><span class="lineno"> 4286</span>&#160;      <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>[1] = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateBitCast(</div>
<div class="line"><a name="l04287"></a><span class="lineno"> 4287</span>&#160;          <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>[1], <a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#aa91241c8c54738377749dc47ee489e0d">FixedVectorType::get</a>(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.getBFloatTy(), NumElts));</div>
<div class="line"><a name="l04288"></a><span class="lineno"> 4288</span>&#160; </div>
<div class="line"><a name="l04289"></a><span class="lineno"> 4289</span>&#160;    NewCall = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateCall(NewFn, <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>);</div>
<div class="line"><a name="l04290"></a><span class="lineno"> 4290</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *Res = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateBitCast(</div>
<div class="line"><a name="l04291"></a><span class="lineno"> 4291</span>&#160;        NewCall, <a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#aa91241c8c54738377749dc47ee489e0d">FixedVectorType::get</a>(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.getInt16Ty(), NumElts));</div>
<div class="line"><a name="l04292"></a><span class="lineno"> 4292</span>&#160; </div>
<div class="line"><a name="l04293"></a><span class="lineno"> 4293</span>&#160;    NewCall-&gt;<a class="code" href="classllvm_1_1Value.html#ae855357b6c5e6e7ed1869272708a3a84">takeName</a>(CI);</div>
<div class="line"><a name="l04294"></a><span class="lineno"> 4294</span>&#160;    CI-&gt;<a class="code" href="classllvm_1_1Value.html#a3ab5fc45117b450e8bb04e564cb6e5f2">replaceAllUsesWith</a>(Res);</div>
<div class="line"><a name="l04295"></a><span class="lineno"> 4295</span>&#160;    CI-&gt;<a class="code" href="classllvm_1_1Instruction.html#ae6b978645b8ac72d1a35e1298ffdd4f0">eraseFromParent</a>();</div>
<div class="line"><a name="l04296"></a><span class="lineno"> 4296</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04297"></a><span class="lineno"> 4297</span>&#160;  }</div>
<div class="line"><a name="l04298"></a><span class="lineno"> 4298</span>&#160;  <span class="keywordflow">case</span> Intrinsic::x86_avx512bf16_dpbf16ps_128:</div>
<div class="line"><a name="l04299"></a><span class="lineno"> 4299</span>&#160;  <span class="keywordflow">case</span> Intrinsic::x86_avx512bf16_dpbf16ps_256:</div>
<div class="line"><a name="l04300"></a><span class="lineno"> 4300</span>&#160;  <span class="keywordflow">case</span> Intrinsic::x86_avx512bf16_dpbf16ps_512:{</div>
<div class="line"><a name="l04301"></a><span class="lineno"> 4301</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Value *, 4&gt;</a> <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>(CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ac63dbb4994494c46f025715272cdb81e">args</a>());</div>
<div class="line"><a name="l04302"></a><span class="lineno"> 4302</span>&#160;    <span class="keywordtype">unsigned</span> NumElts =</div>
<div class="line"><a name="l04303"></a><span class="lineno"> 4303</span>&#160;        cast&lt;FixedVectorType&gt;(CI-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>())-&gt;getNumElements() * 2;</div>
<div class="line"><a name="l04304"></a><span class="lineno"> 4304</span>&#160;    <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>[1] = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateBitCast(</div>
<div class="line"><a name="l04305"></a><span class="lineno"> 4305</span>&#160;        <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>[1], <a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#aa91241c8c54738377749dc47ee489e0d">FixedVectorType::get</a>(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.getBFloatTy(), NumElts));</div>
<div class="line"><a name="l04306"></a><span class="lineno"> 4306</span>&#160;    <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>[2] = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateBitCast(</div>
<div class="line"><a name="l04307"></a><span class="lineno"> 4307</span>&#160;        <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>[2], <a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#aa91241c8c54738377749dc47ee489e0d">FixedVectorType::get</a>(<a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.getBFloatTy(), NumElts));</div>
<div class="line"><a name="l04308"></a><span class="lineno"> 4308</span>&#160; </div>
<div class="line"><a name="l04309"></a><span class="lineno"> 4309</span>&#160;    NewCall = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateCall(NewFn, <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>);</div>
<div class="line"><a name="l04310"></a><span class="lineno"> 4310</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04311"></a><span class="lineno"> 4311</span>&#160;  }</div>
<div class="line"><a name="l04312"></a><span class="lineno"> 4312</span>&#160; </div>
<div class="line"><a name="l04313"></a><span class="lineno"> 4313</span>&#160;  <span class="keywordflow">case</span> Intrinsic::thread_pointer: {</div>
<div class="line"><a name="l04314"></a><span class="lineno"> 4314</span>&#160;    NewCall = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateCall(NewFn, {});</div>
<div class="line"><a name="l04315"></a><span class="lineno"> 4315</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04316"></a><span class="lineno"> 4316</span>&#160;  }</div>
<div class="line"><a name="l04317"></a><span class="lineno"> 4317</span>&#160; </div>
<div class="line"><a name="l04318"></a><span class="lineno"> 4318</span>&#160;  <span class="keywordflow">case</span> Intrinsic::invariant_start:</div>
<div class="line"><a name="l04319"></a><span class="lineno"> 4319</span>&#160;  <span class="keywordflow">case</span> Intrinsic::invariant_end: {</div>
<div class="line"><a name="l04320"></a><span class="lineno"> 4320</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Value *, 4&gt;</a> <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>(CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ac63dbb4994494c46f025715272cdb81e">args</a>());</div>
<div class="line"><a name="l04321"></a><span class="lineno"> 4321</span>&#160;    NewCall = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateCall(NewFn, <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>);</div>
<div class="line"><a name="l04322"></a><span class="lineno"> 4322</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04323"></a><span class="lineno"> 4323</span>&#160;  }</div>
<div class="line"><a name="l04324"></a><span class="lineno"> 4324</span>&#160;  <span class="keywordflow">case</span> Intrinsic::masked_load:</div>
<div class="line"><a name="l04325"></a><span class="lineno"> 4325</span>&#160;  <span class="keywordflow">case</span> Intrinsic::masked_store:</div>
<div class="line"><a name="l04326"></a><span class="lineno"> 4326</span>&#160;  <span class="keywordflow">case</span> Intrinsic::masked_gather:</div>
<div class="line"><a name="l04327"></a><span class="lineno"> 4327</span>&#160;  <span class="keywordflow">case</span> Intrinsic::masked_scatter: {</div>
<div class="line"><a name="l04328"></a><span class="lineno"> 4328</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Value *, 4&gt;</a> <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>(CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ac63dbb4994494c46f025715272cdb81e">args</a>());</div>
<div class="line"><a name="l04329"></a><span class="lineno"> 4329</span>&#160;    NewCall = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateCall(NewFn, <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>);</div>
<div class="line"><a name="l04330"></a><span class="lineno"> 4330</span>&#160;    NewCall-&gt;<a class="code" href="classllvm_1_1Instruction.html#aec6eaa1e49f48c178e0ab9c030b5971e">copyMetadata</a>(*CI);</div>
<div class="line"><a name="l04331"></a><span class="lineno"> 4331</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04332"></a><span class="lineno"> 4332</span>&#160;  }</div>
<div class="line"><a name="l04333"></a><span class="lineno"> 4333</span>&#160; </div>
<div class="line"><a name="l04334"></a><span class="lineno"> 4334</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="lib_2Target_2ARM_2README_8txt.html#ae2bb081d94f22e64ca6bc4bd58512a93">Intrinsic::memcpy</a>:</div>
<div class="line"><a name="l04335"></a><span class="lineno"> 4335</span>&#160;  <span class="keywordflow">case</span> Intrinsic::memmove:</div>
<div class="line"><a name="l04336"></a><span class="lineno"> 4336</span>&#160;  <span class="keywordflow">case</span> Intrinsic::memset: {</div>
<div class="line"><a name="l04337"></a><span class="lineno"> 4337</span>&#160;    <span class="comment">// We have to make sure that the call signature is what we&#39;re expecting.</span></div>
<div class="line"><a name="l04338"></a><span class="lineno"> 4338</span>&#160;    <span class="comment">// We only want to change the old signatures by removing the alignment arg:</span></div>
<div class="line"><a name="l04339"></a><span class="lineno"> 4339</span>&#160;    <span class="comment">//  @llvm.mem[cpy|move]...(i8*, i8*, i[32|i64], i32, i1)</span></div>
<div class="line"><a name="l04340"></a><span class="lineno"> 4340</span>&#160;    <span class="comment">//    -&gt; @llvm.mem[cpy|move]...(i8*, i8*, i[32|i64], i1)</span></div>
<div class="line"><a name="l04341"></a><span class="lineno"> 4341</span>&#160;    <span class="comment">//  @llvm.memset...(i8*, i8, i[32|64], i32, i1)</span></div>
<div class="line"><a name="l04342"></a><span class="lineno"> 4342</span>&#160;    <span class="comment">//    -&gt; @llvm.memset...(i8*, i8, i[32|64], i1)</span></div>
<div class="line"><a name="l04343"></a><span class="lineno"> 4343</span>&#160;    <span class="comment">// Note: i8*&#39;s in the above can be any pointer type</span></div>
<div class="line"><a name="l04344"></a><span class="lineno"> 4344</span>&#160;    <span class="keywordflow">if</span> (CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#adde2ea00dd2613ee41bfe91908e4e68e">arg_size</a>() != 5) {</div>
<div class="line"><a name="l04345"></a><span class="lineno"> 4345</span>&#160;      DefaultCase();</div>
<div class="line"><a name="l04346"></a><span class="lineno"> 4346</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04347"></a><span class="lineno"> 4347</span>&#160;    }</div>
<div class="line"><a name="l04348"></a><span class="lineno"> 4348</span>&#160;    <span class="comment">// Remove alignment argument (3), and add alignment attributes to the</span></div>
<div class="line"><a name="l04349"></a><span class="lineno"> 4349</span>&#160;    <span class="comment">// dest/src pointers.</span></div>
<div class="line"><a name="l04350"></a><span class="lineno"> 4350</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>[4] = {CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(0), CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(1),</div>
<div class="line"><a name="l04351"></a><span class="lineno"> 4351</span>&#160;                      CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(2), CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(4)};</div>
<div class="line"><a name="l04352"></a><span class="lineno"> 4352</span>&#160;    NewCall = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateCall(NewFn, <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>);</div>
<div class="line"><a name="l04353"></a><span class="lineno"> 4353</span>&#160;    <a class="code" href="classllvm_1_1AttributeList.html">AttributeList</a> OldAttrs = CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ae0c55761fce39dd71617690b04385193">getAttributes</a>();</div>
<div class="line"><a name="l04354"></a><span class="lineno"> 4354</span>&#160;    <a class="code" href="classllvm_1_1AttributeList.html">AttributeList</a> NewAttrs = <a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#aa91241c8c54738377749dc47ee489e0d">AttributeList::get</a>(</div>
<div class="line"><a name="l04355"></a><span class="lineno"> 4355</span>&#160;        <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>, OldAttrs.<a class="code" href="classllvm_1_1AttributeList.html#a1cf553641e8527095ae4c8ec88a2cd92">getFnAttrs</a>(), OldAttrs.<a class="code" href="classllvm_1_1AttributeList.html#a5604157867b3d226260f6388b987e49a">getRetAttrs</a>(),</div>
<div class="line"><a name="l04356"></a><span class="lineno"> 4356</span>&#160;        {OldAttrs.getParamAttrs(0), OldAttrs.getParamAttrs(1),</div>
<div class="line"><a name="l04357"></a><span class="lineno"> 4357</span>&#160;         OldAttrs.getParamAttrs(2), OldAttrs.getParamAttrs(4)});</div>
<div class="line"><a name="l04358"></a><span class="lineno"> 4358</span>&#160;    NewCall-&gt;<a class="code" href="classllvm_1_1CallBase.html#a9da3b29e8e71b9be4645874e1721207a">setAttributes</a>(NewAttrs);</div>
<div class="line"><a name="l04359"></a><span class="lineno"> 4359</span>&#160;    <span class="keyword">auto</span> *MemCI = cast&lt;MemIntrinsic&gt;(NewCall);</div>
<div class="line"><a name="l04360"></a><span class="lineno"> 4360</span>&#160;    <span class="comment">// All mem intrinsics support dest alignment.</span></div>
<div class="line"><a name="l04361"></a><span class="lineno"> 4361</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *<a class="code" href="structllvm_1_1Align.html">Align</a> = cast&lt;ConstantInt&gt;(CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(3));</div>
<div class="line"><a name="l04362"></a><span class="lineno"> 4362</span>&#160;    MemCI-&gt;setDestAlignment(<a class="code" href="structllvm_1_1Align.html">Align</a>-&gt;getMaybeAlignValue());</div>
<div class="line"><a name="l04363"></a><span class="lineno"> 4363</span>&#160;    <span class="comment">// Memcpy/Memmove also support source alignment.</span></div>
<div class="line"><a name="l04364"></a><span class="lineno"> 4364</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> *MTI = dyn_cast&lt;MemTransferInst&gt;(MemCI))</div>
<div class="line"><a name="l04365"></a><span class="lineno"> 4365</span>&#160;      MTI-&gt;setSourceAlignment(<a class="code" href="structllvm_1_1Align.html">Align</a>-&gt;getMaybeAlignValue());</div>
<div class="line"><a name="l04366"></a><span class="lineno"> 4366</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04367"></a><span class="lineno"> 4367</span>&#160;  }</div>
<div class="line"><a name="l04368"></a><span class="lineno"> 4368</span>&#160;  }</div>
<div class="line"><a name="l04369"></a><span class="lineno"> 4369</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(NewCall &amp;&amp; <span class="stringliteral">&quot;Should have either set this variable or returned through &quot;</span></div>
<div class="line"><a name="l04370"></a><span class="lineno"> 4370</span>&#160;                    <span class="stringliteral">&quot;the default case&quot;</span>);</div>
<div class="line"><a name="l04371"></a><span class="lineno"> 4371</span>&#160;  NewCall-&gt;<a class="code" href="classllvm_1_1Value.html#ae855357b6c5e6e7ed1869272708a3a84">takeName</a>(CI);</div>
<div class="line"><a name="l04372"></a><span class="lineno"> 4372</span>&#160;  CI-&gt;<a class="code" href="classllvm_1_1Value.html#a3ab5fc45117b450e8bb04e564cb6e5f2">replaceAllUsesWith</a>(NewCall);</div>
<div class="line"><a name="l04373"></a><span class="lineno"> 4373</span>&#160;  CI-&gt;<a class="code" href="classllvm_1_1Instruction.html#ae6b978645b8ac72d1a35e1298ffdd4f0">eraseFromParent</a>();</div>
<div class="line"><a name="l04374"></a><span class="lineno"> 4374</span>&#160;}</div>
<div class="line"><a name="l04375"></a><span class="lineno"> 4375</span>&#160; </div>
<div class="line"><a name="l04376"></a><span class="lineno"><a class="line" href="namespacellvm.html#a37ebeca7ea2d3fdb9b4d3d6c0fc801f5"> 4376</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacellvm.html#a37ebeca7ea2d3fdb9b4d3d6c0fc801f5">llvm::UpgradeCallsToIntrinsic</a>(<a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>) {</div>
<div class="line"><a name="l04377"></a><span class="lineno"> 4377</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> &amp;&amp; <span class="stringliteral">&quot;Illegal attempt to upgrade a non-existent intrinsic.&quot;</span>);</div>
<div class="line"><a name="l04378"></a><span class="lineno"> 4378</span>&#160; </div>
<div class="line"><a name="l04379"></a><span class="lineno"> 4379</span>&#160;  <span class="comment">// Check if this function should be upgraded and get the replacement function</span></div>
<div class="line"><a name="l04380"></a><span class="lineno"> 4380</span>&#160;  <span class="comment">// if there is one.</span></div>
<div class="line"><a name="l04381"></a><span class="lineno"> 4381</span>&#160;  <a class="code" href="classllvm_1_1Function.html">Function</a> *NewFn;</div>
<div class="line"><a name="l04382"></a><span class="lineno"> 4382</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a2abe514fb0b09ac996c305db8ceee5d0">UpgradeIntrinsicFunction</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, NewFn)) {</div>
<div class="line"><a name="l04383"></a><span class="lineno"> 4383</span>&#160;    <span class="comment">// Replace all users of the old function with the new function or new</span></div>
<div class="line"><a name="l04384"></a><span class="lineno"> 4384</span>&#160;    <span class="comment">// instructions. This is not a range loop because the call is deleted.</span></div>
<div class="line"><a name="l04385"></a><span class="lineno"> 4385</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1User.html">User</a> *U : <a class="code" href="namespacellvm.html#a8154638df88e4eaa568b67b23d463dac">make_early_inc_range</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;users()))</div>
<div class="line"><a name="l04386"></a><span class="lineno"> 4386</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1CallBase.html">CallBase</a> *CB = dyn_cast&lt;CallBase&gt;(U))</div>
<div class="line"><a name="l04387"></a><span class="lineno"> 4387</span>&#160;        <a class="code" href="namespacellvm.html#a085e92ed481e12744fdf1740b4751327">UpgradeIntrinsicCall</a>(CB, NewFn);</div>
<div class="line"><a name="l04388"></a><span class="lineno"> 4388</span>&#160; </div>
<div class="line"><a name="l04389"></a><span class="lineno"> 4389</span>&#160;    <span class="comment">// Remove old function, no longer used, from the module.</span></div>
<div class="line"><a name="l04390"></a><span class="lineno"> 4390</span>&#160;    <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;eraseFromParent();</div>
<div class="line"><a name="l04391"></a><span class="lineno"> 4391</span>&#160;  }</div>
<div class="line"><a name="l04392"></a><span class="lineno"> 4392</span>&#160;}</div>
<div class="line"><a name="l04393"></a><span class="lineno"> 4393</span>&#160; </div>
<div class="line"><a name="l04394"></a><span class="lineno"><a class="line" href="namespacellvm.html#ae7ee47904c2a7f2c3af3824c90b5a2ec"> 4394</a></span>&#160;<a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *<a class="code" href="namespacellvm.html#ae7ee47904c2a7f2c3af3824c90b5a2ec">llvm::UpgradeTBAANode</a>(<a class="code" href="classllvm_1_1MDNode.html">MDNode</a> &amp;MD) {</div>
<div class="line"><a name="l04395"></a><span class="lineno"> 4395</span>&#160;  <span class="comment">// Check if the tag uses struct-path aware TBAA format.</span></div>
<div class="line"><a name="l04396"></a><span class="lineno"> 4396</span>&#160;  <span class="keywordflow">if</span> (isa&lt;MDNode&gt;(MD.<a class="code" href="classllvm_1_1MDNode.html#a6cbc0453586a25c057a32161b38b8ce4">getOperand</a>(0)) &amp;&amp; MD.<a class="code" href="classllvm_1_1MDNode.html#aa4068e37ec583962685e3567dc102ae5">getNumOperands</a>() &gt;= 3)</div>
<div class="line"><a name="l04397"></a><span class="lineno"> 4397</span>&#160;    <span class="keywordflow">return</span> &amp;MD;</div>
<div class="line"><a name="l04398"></a><span class="lineno"> 4398</span>&#160; </div>
<div class="line"><a name="l04399"></a><span class="lineno"> 4399</span>&#160;  <span class="keyword">auto</span> &amp;<a class="code" href="NVVMIntrRange_8cpp.html#afad351d7bf10ac0446b64e7827634e94">Context</a> = MD.<a class="code" href="classllvm_1_1MDNode.html#a936739514bcdb01ddd2826fa70cf15a5">getContext</a>();</div>
<div class="line"><a name="l04400"></a><span class="lineno"> 4400</span>&#160;  <span class="keywordflow">if</span> (MD.<a class="code" href="classllvm_1_1MDNode.html#aa4068e37ec583962685e3567dc102ae5">getNumOperands</a>() == 3) {</div>
<div class="line"><a name="l04401"></a><span class="lineno"> 4401</span>&#160;    <a class="code" href="classllvm_1_1Metadata.html">Metadata</a> *Elts[] = {MD.<a class="code" href="classllvm_1_1MDNode.html#a6cbc0453586a25c057a32161b38b8ce4">getOperand</a>(0), MD.<a class="code" href="classllvm_1_1MDNode.html#a6cbc0453586a25c057a32161b38b8ce4">getOperand</a>(1)};</div>
<div class="line"><a name="l04402"></a><span class="lineno"> 4402</span>&#160;    <a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *ScalarType = <a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#aa91241c8c54738377749dc47ee489e0d">MDNode::get</a>(<a class="code" href="NVVMIntrRange_8cpp.html#afad351d7bf10ac0446b64e7827634e94">Context</a>, Elts);</div>
<div class="line"><a name="l04403"></a><span class="lineno"> 4403</span>&#160;    <span class="comment">// Create a MDNode &lt;ScalarType, ScalarType, offset 0, const&gt;</span></div>
<div class="line"><a name="l04404"></a><span class="lineno"> 4404</span>&#160;    <a class="code" href="classllvm_1_1Metadata.html">Metadata</a> *Elts2[] = {ScalarType, ScalarType,</div>
<div class="line"><a name="l04405"></a><span class="lineno"> 4405</span>&#160;                         <a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#aa91241c8c54738377749dc47ee489e0d">ConstantAsMetadata::get</a>(</div>
<div class="line"><a name="l04406"></a><span class="lineno"> 4406</span>&#160;                             Constant::getNullValue(Type::getInt64Ty(<a class="code" href="NVVMIntrRange_8cpp.html#afad351d7bf10ac0446b64e7827634e94">Context</a>))),</div>
<div class="line"><a name="l04407"></a><span class="lineno"> 4407</span>&#160;                         MD.<a class="code" href="classllvm_1_1MDNode.html#a6cbc0453586a25c057a32161b38b8ce4">getOperand</a>(2)};</div>
<div class="line"><a name="l04408"></a><span class="lineno"> 4408</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#aa91241c8c54738377749dc47ee489e0d">MDNode::get</a>(<a class="code" href="NVVMIntrRange_8cpp.html#afad351d7bf10ac0446b64e7827634e94">Context</a>, Elts2);</div>
<div class="line"><a name="l04409"></a><span class="lineno"> 4409</span>&#160;  }</div>
<div class="line"><a name="l04410"></a><span class="lineno"> 4410</span>&#160;  <span class="comment">// Create a MDNode &lt;MD, MD, offset 0&gt;</span></div>
<div class="line"><a name="l04411"></a><span class="lineno"> 4411</span>&#160;  <a class="code" href="classllvm_1_1Metadata.html">Metadata</a> *Elts[] = {&amp;MD, &amp;MD, <a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#aa91241c8c54738377749dc47ee489e0d">ConstantAsMetadata::get</a>(Constant::getNullValue(</div>
<div class="line"><a name="l04412"></a><span class="lineno"> 4412</span>&#160;                                    Type::getInt64Ty(<a class="code" href="NVVMIntrRange_8cpp.html#afad351d7bf10ac0446b64e7827634e94">Context</a>)))};</div>
<div class="line"><a name="l04413"></a><span class="lineno"> 4413</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#aa91241c8c54738377749dc47ee489e0d">MDNode::get</a>(<a class="code" href="NVVMIntrRange_8cpp.html#afad351d7bf10ac0446b64e7827634e94">Context</a>, Elts);</div>
<div class="line"><a name="l04414"></a><span class="lineno"> 4414</span>&#160;}</div>
<div class="line"><a name="l04415"></a><span class="lineno"> 4415</span>&#160; </div>
<div class="line"><a name="l04416"></a><span class="lineno"><a class="line" href="namespacellvm.html#aac20eb5c6ac0036298cbfb44d3b9cc82"> 4416</a></span>&#160;<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="namespacellvm.html#aac20eb5c6ac0036298cbfb44d3b9cc82">llvm::UpgradeBitCastInst</a>(<span class="keywordtype">unsigned</span> Opc, <a class="code" href="classllvm_1_1Value.html">Value</a> *V, <a class="code" href="classllvm_1_1Type.html">Type</a> *DestTy,</div>
<div class="line"><a name="l04417"></a><span class="lineno"> 4417</span>&#160;                                      <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *&amp;Temp) {</div>
<div class="line"><a name="l04418"></a><span class="lineno"> 4418</span>&#160;  <span class="keywordflow">if</span> (Opc != Instruction::BitCast)</div>
<div class="line"><a name="l04419"></a><span class="lineno"> 4419</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l04420"></a><span class="lineno"> 4420</span>&#160; </div>
<div class="line"><a name="l04421"></a><span class="lineno"> 4421</span>&#160;  Temp = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l04422"></a><span class="lineno"> 4422</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *SrcTy = V-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>();</div>
<div class="line"><a name="l04423"></a><span class="lineno"> 4423</span>&#160;  <span class="keywordflow">if</span> (SrcTy-&gt;<a class="code" href="classllvm_1_1Type.html#ab03652069eab17006c51f00c261a6a44">isPtrOrPtrVectorTy</a>() &amp;&amp; DestTy-&gt;<a class="code" href="classllvm_1_1Type.html#ab03652069eab17006c51f00c261a6a44">isPtrOrPtrVectorTy</a>() &amp;&amp;</div>
<div class="line"><a name="l04424"></a><span class="lineno"> 4424</span>&#160;      SrcTy-&gt;<a class="code" href="classllvm_1_1Type.html#a5ab2d0b0f0b8ceec3b907184e7567197">getPointerAddressSpace</a>() != DestTy-&gt;<a class="code" href="classllvm_1_1Type.html#a5ab2d0b0f0b8ceec3b907184e7567197">getPointerAddressSpace</a>()) {</div>
<div class="line"><a name="l04425"></a><span class="lineno"> 4425</span>&#160;    <a class="code" href="classllvm_1_1LLVMContext.html">LLVMContext</a> &amp;<a class="code" href="NVVMIntrRange_8cpp.html#afad351d7bf10ac0446b64e7827634e94">Context</a> = V-&gt;<a class="code" href="classllvm_1_1Value.html#ab3fc0225d8aaf8434026c3573f961f2c">getContext</a>();</div>
<div class="line"><a name="l04426"></a><span class="lineno"> 4426</span>&#160; </div>
<div class="line"><a name="l04427"></a><span class="lineno"> 4427</span>&#160;    <span class="comment">// We have no information about target data layout, so we assume that</span></div>
<div class="line"><a name="l04428"></a><span class="lineno"> 4428</span>&#160;    <span class="comment">// the maximum pointer size is 64bit.</span></div>
<div class="line"><a name="l04429"></a><span class="lineno"> 4429</span>&#160;    <a class="code" href="classllvm_1_1Type.html">Type</a> *MidTy = Type::getInt64Ty(<a class="code" href="NVVMIntrRange_8cpp.html#afad351d7bf10ac0446b64e7827634e94">Context</a>);</div>
<div class="line"><a name="l04430"></a><span class="lineno"> 4430</span>&#160;    Temp = CastInst::Create(Instruction::PtrToInt, V, MidTy);</div>
<div class="line"><a name="l04431"></a><span class="lineno"> 4431</span>&#160; </div>
<div class="line"><a name="l04432"></a><span class="lineno"> 4432</span>&#160;    <span class="keywordflow">return</span> CastInst::Create(Instruction::IntToPtr, Temp, DestTy);</div>
<div class="line"><a name="l04433"></a><span class="lineno"> 4433</span>&#160;  }</div>
<div class="line"><a name="l04434"></a><span class="lineno"> 4434</span>&#160; </div>
<div class="line"><a name="l04435"></a><span class="lineno"> 4435</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l04436"></a><span class="lineno"> 4436</span>&#160;}</div>
<div class="line"><a name="l04437"></a><span class="lineno"> 4437</span>&#160; </div>
<div class="line"><a name="l04438"></a><span class="lineno"><a class="line" href="namespacellvm.html#a5352cd5bd63b8038b094b324190f3a8a"> 4438</a></span>&#160;<a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="namespacellvm.html#a5352cd5bd63b8038b094b324190f3a8a">llvm::UpgradeBitCastExpr</a>(<span class="keywordtype">unsigned</span> Opc, <a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>, <a class="code" href="classllvm_1_1Type.html">Type</a> *DestTy) {</div>
<div class="line"><a name="l04439"></a><span class="lineno"> 4439</span>&#160;  <span class="keywordflow">if</span> (Opc != Instruction::BitCast)</div>
<div class="line"><a name="l04440"></a><span class="lineno"> 4440</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l04441"></a><span class="lineno"> 4441</span>&#160; </div>
<div class="line"><a name="l04442"></a><span class="lineno"> 4442</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *SrcTy = <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;getType();</div>
<div class="line"><a name="l04443"></a><span class="lineno"> 4443</span>&#160;  <span class="keywordflow">if</span> (SrcTy-&gt;<a class="code" href="classllvm_1_1Type.html#ab03652069eab17006c51f00c261a6a44">isPtrOrPtrVectorTy</a>() &amp;&amp; DestTy-&gt;<a class="code" href="classllvm_1_1Type.html#ab03652069eab17006c51f00c261a6a44">isPtrOrPtrVectorTy</a>() &amp;&amp;</div>
<div class="line"><a name="l04444"></a><span class="lineno"> 4444</span>&#160;      SrcTy-&gt;<a class="code" href="classllvm_1_1Type.html#a5ab2d0b0f0b8ceec3b907184e7567197">getPointerAddressSpace</a>() != DestTy-&gt;<a class="code" href="classllvm_1_1Type.html#a5ab2d0b0f0b8ceec3b907184e7567197">getPointerAddressSpace</a>()) {</div>
<div class="line"><a name="l04445"></a><span class="lineno"> 4445</span>&#160;    <a class="code" href="classllvm_1_1LLVMContext.html">LLVMContext</a> &amp;<a class="code" href="NVVMIntrRange_8cpp.html#afad351d7bf10ac0446b64e7827634e94">Context</a> = <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;getContext();</div>
<div class="line"><a name="l04446"></a><span class="lineno"> 4446</span>&#160; </div>
<div class="line"><a name="l04447"></a><span class="lineno"> 4447</span>&#160;    <span class="comment">// We have no information about target data layout, so we assume that</span></div>
<div class="line"><a name="l04448"></a><span class="lineno"> 4448</span>&#160;    <span class="comment">// the maximum pointer size is 64bit.</span></div>
<div class="line"><a name="l04449"></a><span class="lineno"> 4449</span>&#160;    <a class="code" href="classllvm_1_1Type.html">Type</a> *MidTy = Type::getInt64Ty(<a class="code" href="NVVMIntrRange_8cpp.html#afad351d7bf10ac0446b64e7827634e94">Context</a>);</div>
<div class="line"><a name="l04450"></a><span class="lineno"> 4450</span>&#160; </div>
<div class="line"><a name="l04451"></a><span class="lineno"> 4451</span>&#160;    <span class="keywordflow">return</span> ConstantExpr::getIntToPtr(ConstantExpr::getPtrToInt(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>, MidTy),</div>
<div class="line"><a name="l04452"></a><span class="lineno"> 4452</span>&#160;                                     DestTy);</div>
<div class="line"><a name="l04453"></a><span class="lineno"> 4453</span>&#160;  }</div>
<div class="line"><a name="l04454"></a><span class="lineno"> 4454</span>&#160; </div>
<div class="line"><a name="l04455"></a><span class="lineno"> 4455</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l04456"></a><span class="lineno"> 4456</span>&#160;}</div>
<div class="line"><a name="l04457"></a><span class="lineno"> 4457</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l04458"></a><span class="lineno"> 4458</span>&#160;<span class="comment">/// Check the debug info version number, if it is out-dated, drop the debug</span></div>
<div class="line"><a name="l04459"></a><span class="lineno"> 4459</span>&#160;<span class="comment">/// info. Return true if module is modified.</span></div>
<div class="line"><a name="l04460"></a><span class="lineno"><a class="line" href="namespacellvm.html#ad3c29183c5faa7f5a352807af8aca268"> 4460</a></span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> <a class="code" href="namespacellvm.html#ad3c29183c5faa7f5a352807af8aca268">llvm::UpgradeDebugInfo</a>(<a class="code" href="classllvm_1_1Module.html">Module</a> &amp;<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>) {</div>
<div class="line"><a name="l04461"></a><span class="lineno"> 4461</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1IndexedInstrProf.html#a3890d6a47a6ff8b8c4ecc8a1f9040a04">Version</a> = <a class="code" href="namespacellvm.html#a96bf50345388bc1f2d3727ac83477b05">getDebugMetadataVersionFromModule</a>(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>);</div>
<div class="line"><a name="l04462"></a><span class="lineno"> 4462</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1IndexedInstrProf.html#a3890d6a47a6ff8b8c4ecc8a1f9040a04">Version</a> == <a class="code" href="namespacellvm.html#aeff8da57698622ba29e5228d5ffe8bf3a141a51821a2860389357334148e2fd62">DEBUG_METADATA_VERSION</a>) {</div>
<div class="line"><a name="l04463"></a><span class="lineno"> 4463</span>&#160;    <span class="keywordtype">bool</span> BrokenDebugInfo = <span class="keyword">false</span>;</div>
<div class="line"><a name="l04464"></a><span class="lineno"> 4464</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#af8c14262d42a312c9026452162c9e0a6">verifyModule</a>(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>, &amp;<a class="code" href="namespacellvm.html#a9a7b5c68c90f85baaedaa854cc5002cc">llvm::errs</a>(), &amp;BrokenDebugInfo))</div>
<div class="line"><a name="l04465"></a><span class="lineno"> 4465</span>&#160;      <a class="code" href="namespacellvm.html#a7f2a3d4dcfee70225988aec53ff1e173">report_fatal_error</a>(<span class="stringliteral">&quot;Broken module found, compilation aborted!&quot;</span>);</div>
<div class="line"><a name="l04466"></a><span class="lineno"> 4466</span>&#160;    <span class="keywordflow">if</span> (!BrokenDebugInfo)</div>
<div class="line"><a name="l04467"></a><span class="lineno"> 4467</span>&#160;      <span class="comment">// Everything is ok.</span></div>
<div class="line"><a name="l04468"></a><span class="lineno"> 4468</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04469"></a><span class="lineno"> 4469</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04470"></a><span class="lineno"> 4470</span>&#160;      <span class="comment">// Diagnose malformed debug info.</span></div>
<div class="line"><a name="l04471"></a><span class="lineno"> 4471</span>&#160;      <a class="code" href="classllvm_1_1DiagnosticInfoIgnoringInvalidDebugMetadata.html">DiagnosticInfoIgnoringInvalidDebugMetadata</a> Diag(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>);</div>
<div class="line"><a name="l04472"></a><span class="lineno"> 4472</span>&#160;      <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getContext().diagnose(Diag);</div>
<div class="line"><a name="l04473"></a><span class="lineno"> 4473</span>&#160;    }</div>
<div class="line"><a name="l04474"></a><span class="lineno"> 4474</span>&#160;  }</div>
<div class="line"><a name="l04475"></a><span class="lineno"> 4475</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="LoopDeletion_8cpp.html#a0f1c83c3d08d80b12c424962a5e94ce8a35e0c8c0b180c95d4e122e55ed62cc64">Modified</a> = <a class="code" href="namespacellvm.html#a9b2f025559a0b80366b74285cf25c01e">StripDebugInfo</a>(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>);</div>
<div class="line"><a name="l04476"></a><span class="lineno"> 4476</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="LoopDeletion_8cpp.html#a0f1c83c3d08d80b12c424962a5e94ce8a35e0c8c0b180c95d4e122e55ed62cc64">Modified</a> &amp;&amp; <a class="code" href="namespacellvm_1_1IndexedInstrProf.html#a3890d6a47a6ff8b8c4ecc8a1f9040a04">Version</a> != <a class="code" href="namespacellvm.html#aeff8da57698622ba29e5228d5ffe8bf3a141a51821a2860389357334148e2fd62">DEBUG_METADATA_VERSION</a>) {</div>
<div class="line"><a name="l04477"></a><span class="lineno"> 4477</span>&#160;    <span class="comment">// Diagnose a version mismatch.</span></div>
<div class="line"><a name="l04478"></a><span class="lineno"> 4478</span>&#160;    <a class="code" href="classllvm_1_1DiagnosticInfoDebugMetadataVersion.html">DiagnosticInfoDebugMetadataVersion</a> DiagVersion(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>, <a class="code" href="namespacellvm_1_1IndexedInstrProf.html#a3890d6a47a6ff8b8c4ecc8a1f9040a04">Version</a>);</div>
<div class="line"><a name="l04479"></a><span class="lineno"> 4479</span>&#160;    <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getContext().diagnose(DiagVersion);</div>
<div class="line"><a name="l04480"></a><span class="lineno"> 4480</span>&#160;  }</div>
<div class="line"><a name="l04481"></a><span class="lineno"> 4481</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="LoopDeletion_8cpp.html#a0f1c83c3d08d80b12c424962a5e94ce8a35e0c8c0b180c95d4e122e55ed62cc64">Modified</a>;</div>
<div class="line"><a name="l04482"></a><span class="lineno"> 4482</span>&#160;}</div>
<div class="line"><a name="l04483"></a><span class="lineno"> 4483</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l04484"></a><span class="lineno"> 4484</span>&#160;<span class="comment">/// This checks for objc retain release marker which should be upgraded. It</span></div>
<div class="line"><a name="l04485"></a><span class="lineno"> 4485</span>&#160;<span class="comment">/// returns true if module is modified.</span></div>
<div class="line"><a name="l04486"></a><span class="lineno"><a class="line" href="AutoUpgrade_8cpp.html#ad5ce441da7ca13cf4d18b18831ee5e03"> 4486</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="AutoUpgrade_8cpp.html#ad5ce441da7ca13cf4d18b18831ee5e03">UpgradeRetainReleaseMarker</a>(<a class="code" href="classllvm_1_1Module.html">Module</a> &amp;<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>) {</div>
<div class="line"><a name="l04487"></a><span class="lineno"> 4487</span>&#160;  <span class="keywordtype">bool</span> Changed = <span class="keyword">false</span>;</div>
<div class="line"><a name="l04488"></a><span class="lineno"> 4488</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span> *MarkerKey = <span class="stringliteral">&quot;clang.arc.retainAutoreleasedReturnValueMarker&quot;</span>;</div>
<div class="line"><a name="l04489"></a><span class="lineno"> 4489</span>&#160;  <a class="code" href="classllvm_1_1NamedMDNode.html">NamedMDNode</a> *ModRetainReleaseMarker = <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getNamedMetadata(MarkerKey);</div>
<div class="line"><a name="l04490"></a><span class="lineno"> 4490</span>&#160;  <span class="keywordflow">if</span> (ModRetainReleaseMarker) {</div>
<div class="line"><a name="l04491"></a><span class="lineno"> 4491</span>&#160;    <a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> = ModRetainReleaseMarker-&gt;<a class="code" href="classllvm_1_1NamedMDNode.html#aa24b566603d206b0e74bf63daf521078">getOperand</a>(0);</div>
<div class="line"><a name="l04492"></a><span class="lineno"> 4492</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>) {</div>
<div class="line"><a name="l04493"></a><span class="lineno"> 4493</span>&#160;      <a class="code" href="classllvm_1_1MDString.html">MDString</a> *<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a> = dyn_cast_or_null&lt;MDString&gt;(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>-&gt;getOperand(0));</div>
<div class="line"><a name="l04494"></a><span class="lineno"> 4494</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>) {</div>
<div class="line"><a name="l04495"></a><span class="lineno"> 4495</span>&#160;        <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;StringRef, 4&gt;</a> ValueComp;</div>
<div class="line"><a name="l04496"></a><span class="lineno"> 4496</span>&#160;        <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>-&gt;getString().split(ValueComp, <span class="stringliteral">&quot;#&quot;</span>);</div>
<div class="line"><a name="l04497"></a><span class="lineno"> 4497</span>&#160;        <span class="keywordflow">if</span> (ValueComp.size() == 2) {</div>
<div class="line"><a name="l04498"></a><span class="lineno"> 4498</span>&#160;          std::string NewValue = ValueComp[0].str() + <span class="stringliteral">&quot;;&quot;</span> + ValueComp[1].str();</div>
<div class="line"><a name="l04499"></a><span class="lineno"> 4499</span>&#160;          <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a> = <a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#aa91241c8c54738377749dc47ee489e0d">MDString::get</a>(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getContext(), NewValue);</div>
<div class="line"><a name="l04500"></a><span class="lineno"> 4500</span>&#160;        }</div>
<div class="line"><a name="l04501"></a><span class="lineno"> 4501</span>&#160;        <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.addModuleFlag(<a class="code" href="namespacellvm_1_1lltok.html#af353621f14cb4b4b3af5ffaff84076b1a3766a4dce43f4efc7208a749cc7ac605">Module::Error</a>, MarkerKey, <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>);</div>
<div class="line"><a name="l04502"></a><span class="lineno"> 4502</span>&#160;        <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.eraseNamedMetadata(ModRetainReleaseMarker);</div>
<div class="line"><a name="l04503"></a><span class="lineno"> 4503</span>&#160;        Changed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l04504"></a><span class="lineno"> 4504</span>&#160;      }</div>
<div class="line"><a name="l04505"></a><span class="lineno"> 4505</span>&#160;    }</div>
<div class="line"><a name="l04506"></a><span class="lineno"> 4506</span>&#160;  }</div>
<div class="line"><a name="l04507"></a><span class="lineno"> 4507</span>&#160;  <span class="keywordflow">return</span> Changed;</div>
<div class="line"><a name="l04508"></a><span class="lineno"> 4508</span>&#160;}</div>
<div class="line"><a name="l04509"></a><span class="lineno"> 4509</span>&#160; </div>
<div class="line"><a name="l04510"></a><span class="lineno"><a class="line" href="namespacellvm.html#aef10fb11205c2a096e040dd6b75148eb"> 4510</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacellvm.html#aef10fb11205c2a096e040dd6b75148eb">llvm::UpgradeARCRuntime</a>(<a class="code" href="classllvm_1_1Module.html">Module</a> &amp;<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>) {</div>
<div class="line"><a name="l04511"></a><span class="lineno"> 4511</span>&#160;  <span class="comment">// This lambda converts normal function calls to ARC runtime functions to</span></div>
<div class="line"><a name="l04512"></a><span class="lineno"> 4512</span>&#160;  <span class="comment">// intrinsic calls.</span></div>
<div class="line"><a name="l04513"></a><span class="lineno"> 4513</span>&#160;  <span class="keyword">auto</span> UpgradeToIntrinsic = [&amp;](<span class="keyword">const</span> <span class="keywordtype">char</span> *OldFunc,</div>
<div class="line"><a name="l04514"></a><span class="lineno"> 4514</span>&#160;                                <a class="code" href="namespacellvm_1_1Intrinsic.html#a80add6b3b1cdaec560907995127adc16">llvm::Intrinsic::ID</a> IntrinsicFunc) {</div>
<div class="line"><a name="l04515"></a><span class="lineno"> 4515</span>&#160;    <a class="code" href="classllvm_1_1Function.html">Function</a> *Fn = <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getFunction(OldFunc);</div>
<div class="line"><a name="l04516"></a><span class="lineno"> 4516</span>&#160; </div>
<div class="line"><a name="l04517"></a><span class="lineno"> 4517</span>&#160;    <span class="keywordflow">if</span> (!Fn)</div>
<div class="line"><a name="l04518"></a><span class="lineno"> 4518</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04519"></a><span class="lineno"> 4519</span>&#160; </div>
<div class="line"><a name="l04520"></a><span class="lineno"> 4520</span>&#160;    <a class="code" href="classllvm_1_1Function.html">Function</a> *NewFn = <a class="code" href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">llvm::Intrinsic::getDeclaration</a>(&amp;<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>, IntrinsicFunc);</div>
<div class="line"><a name="l04521"></a><span class="lineno"> 4521</span>&#160; </div>
<div class="line"><a name="l04522"></a><span class="lineno"> 4522</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1User.html">User</a> *U : <a class="code" href="namespacellvm.html#a8154638df88e4eaa568b67b23d463dac">make_early_inc_range</a>(Fn-&gt;<a class="code" href="classllvm_1_1Value.html#ab4e0512c7e1c7adaa56677e3155685f1">users</a>())) {</div>
<div class="line"><a name="l04523"></a><span class="lineno"> 4523</span>&#160;      <a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *CI = dyn_cast&lt;CallInst&gt;(U);</div>
<div class="line"><a name="l04524"></a><span class="lineno"> 4524</span>&#160;      <span class="keywordflow">if</span> (!CI || CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#a83b8c9e572130f403445c0b0f69b837c">getCalledFunction</a>() != Fn)</div>
<div class="line"><a name="l04525"></a><span class="lineno"> 4525</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l04526"></a><span class="lineno"> 4526</span>&#160; </div>
<div class="line"><a name="l04527"></a><span class="lineno"> 4527</span>&#160;      <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>(CI-&gt;<a class="code" href="classllvm_1_1Instruction.html#a1a7f07aaef6a3bee130bf0e0f0536802">getParent</a>(), CI-&gt;<a class="code" href="classllvm_1_1ilist__node__impl.html#af719fc783be6589465137d997701a432">getIterator</a>());</div>
<div class="line"><a name="l04528"></a><span class="lineno"> 4528</span>&#160;      <a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a> *NewFuncTy = NewFn-&gt;<a class="code" href="classllvm_1_1Function.html#adf50671db83d2813e0d897ea2cfc9102">getFunctionType</a>();</div>
<div class="line"><a name="l04529"></a><span class="lineno"> 4529</span>&#160;      <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Value *, 2&gt;</a> <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>;</div>
<div class="line"><a name="l04530"></a><span class="lineno"> 4530</span>&#160; </div>
<div class="line"><a name="l04531"></a><span class="lineno"> 4531</span>&#160;      <span class="comment">// Don&#39;t upgrade the intrinsic if it&#39;s not valid to bitcast the return</span></div>
<div class="line"><a name="l04532"></a><span class="lineno"> 4532</span>&#160;      <span class="comment">// value to the return type of the old function.</span></div>
<div class="line"><a name="l04533"></a><span class="lineno"> 4533</span>&#160;      <span class="keywordflow">if</span> (NewFuncTy-&gt;<a class="code" href="classllvm_1_1FunctionType.html#ac453ad79a3d50950bac79bc9dff85918">getReturnType</a>() != CI-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>() &amp;&amp;</div>
<div class="line"><a name="l04534"></a><span class="lineno"> 4534</span>&#160;          !CastInst::castIsValid(Instruction::BitCast, CI,</div>
<div class="line"><a name="l04535"></a><span class="lineno"> 4535</span>&#160;                                 NewFuncTy-&gt;<a class="code" href="classllvm_1_1FunctionType.html#ac453ad79a3d50950bac79bc9dff85918">getReturnType</a>()))</div>
<div class="line"><a name="l04536"></a><span class="lineno"> 4536</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l04537"></a><span class="lineno"> 4537</span>&#160; </div>
<div class="line"><a name="l04538"></a><span class="lineno"> 4538</span>&#160;      <span class="keywordtype">bool</span> InvalidCast = <span class="keyword">false</span>;</div>
<div class="line"><a name="l04539"></a><span class="lineno"> 4539</span>&#160; </div>
<div class="line"><a name="l04540"></a><span class="lineno"> 4540</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 0, <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#adde2ea00dd2613ee41bfe91908e4e68e">arg_size</a>(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l04541"></a><span class="lineno"> 4541</span>&#160;        <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a> = CI-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l04542"></a><span class="lineno"> 4542</span>&#160; </div>
<div class="line"><a name="l04543"></a><span class="lineno"> 4543</span>&#160;        <span class="comment">// Bitcast argument to the parameter type of the new function if it&#39;s</span></div>
<div class="line"><a name="l04544"></a><span class="lineno"> 4544</span>&#160;        <span class="comment">// not a variadic argument.</span></div>
<div class="line"><a name="l04545"></a><span class="lineno"> 4545</span>&#160;        <span class="keywordflow">if</span> (I &lt; NewFuncTy-&gt;getNumParams()) {</div>
<div class="line"><a name="l04546"></a><span class="lineno"> 4546</span>&#160;          <span class="comment">// Don&#39;t upgrade the intrinsic if it&#39;s not valid to bitcast the argument</span></div>
<div class="line"><a name="l04547"></a><span class="lineno"> 4547</span>&#160;          <span class="comment">// to the parameter type of the new function.</span></div>
<div class="line"><a name="l04548"></a><span class="lineno"> 4548</span>&#160;          <span class="keywordflow">if</span> (!CastInst::castIsValid(Instruction::BitCast, <a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>,</div>
<div class="line"><a name="l04549"></a><span class="lineno"> 4549</span>&#160;                                     NewFuncTy-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a20cdc3911828248e70dbeae018106b76">getParamType</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>))) {</div>
<div class="line"><a name="l04550"></a><span class="lineno"> 4550</span>&#160;            InvalidCast = <span class="keyword">true</span>;</div>
<div class="line"><a name="l04551"></a><span class="lineno"> 4551</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04552"></a><span class="lineno"> 4552</span>&#160;          }</div>
<div class="line"><a name="l04553"></a><span class="lineno"> 4553</span>&#160;          <a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a> = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateBitCast(<a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>, NewFuncTy-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a20cdc3911828248e70dbeae018106b76">getParamType</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>));</div>
<div class="line"><a name="l04554"></a><span class="lineno"> 4554</span>&#160;        }</div>
<div class="line"><a name="l04555"></a><span class="lineno"> 4555</span>&#160;        <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>.push_back(<a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>);</div>
<div class="line"><a name="l04556"></a><span class="lineno"> 4556</span>&#160;      }</div>
<div class="line"><a name="l04557"></a><span class="lineno"> 4557</span>&#160; </div>
<div class="line"><a name="l04558"></a><span class="lineno"> 4558</span>&#160;      <span class="keywordflow">if</span> (InvalidCast)</div>
<div class="line"><a name="l04559"></a><span class="lineno"> 4559</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l04560"></a><span class="lineno"> 4560</span>&#160; </div>
<div class="line"><a name="l04561"></a><span class="lineno"> 4561</span>&#160;      <span class="comment">// Create a call instruction that calls the new function.</span></div>
<div class="line"><a name="l04562"></a><span class="lineno"> 4562</span>&#160;      <a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *NewCall = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateCall(NewFuncTy, NewFn, <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">Args</a>);</div>
<div class="line"><a name="l04563"></a><span class="lineno"> 4563</span>&#160;      NewCall-&gt;<a class="code" href="classllvm_1_1CallInst.html#a68573712cd73746e416002907c9af79b">setTailCallKind</a>(cast&lt;CallInst&gt;(CI)-&gt;getTailCallKind());</div>
<div class="line"><a name="l04564"></a><span class="lineno"> 4564</span>&#160;      NewCall-&gt;<a class="code" href="classllvm_1_1Value.html#ae855357b6c5e6e7ed1869272708a3a84">takeName</a>(CI);</div>
<div class="line"><a name="l04565"></a><span class="lineno"> 4565</span>&#160; </div>
<div class="line"><a name="l04566"></a><span class="lineno"> 4566</span>&#160;      <span class="comment">// Bitcast the return value back to the type of the old call.</span></div>
<div class="line"><a name="l04567"></a><span class="lineno"> 4567</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *NewRetVal = <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.CreateBitCast(NewCall, CI-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>());</div>
<div class="line"><a name="l04568"></a><span class="lineno"> 4568</span>&#160; </div>
<div class="line"><a name="l04569"></a><span class="lineno"> 4569</span>&#160;      <span class="keywordflow">if</span> (!CI-&gt;<a class="code" href="classllvm_1_1Value.html#a9d7de807ebdfe1819df3ff6cb0f16158">use_empty</a>())</div>
<div class="line"><a name="l04570"></a><span class="lineno"> 4570</span>&#160;        CI-&gt;<a class="code" href="classllvm_1_1Value.html#a3ab5fc45117b450e8bb04e564cb6e5f2">replaceAllUsesWith</a>(NewRetVal);</div>
<div class="line"><a name="l04571"></a><span class="lineno"> 4571</span>&#160;      CI-&gt;<a class="code" href="classllvm_1_1Instruction.html#ae6b978645b8ac72d1a35e1298ffdd4f0">eraseFromParent</a>();</div>
<div class="line"><a name="l04572"></a><span class="lineno"> 4572</span>&#160;    }</div>
<div class="line"><a name="l04573"></a><span class="lineno"> 4573</span>&#160; </div>
<div class="line"><a name="l04574"></a><span class="lineno"> 4574</span>&#160;    <span class="keywordflow">if</span> (Fn-&gt;<a class="code" href="classllvm_1_1Value.html#a9d7de807ebdfe1819df3ff6cb0f16158">use_empty</a>())</div>
<div class="line"><a name="l04575"></a><span class="lineno"> 4575</span>&#160;      Fn-&gt;<a class="code" href="classllvm_1_1Function.html#a8969dec86d24dd579f8ecc963e1dc8b4">eraseFromParent</a>();</div>
<div class="line"><a name="l04576"></a><span class="lineno"> 4576</span>&#160;  };</div>
<div class="line"><a name="l04577"></a><span class="lineno"> 4577</span>&#160; </div>
<div class="line"><a name="l04578"></a><span class="lineno"> 4578</span>&#160;  <span class="comment">// Unconditionally convert a call to &quot;clang.arc.use&quot; to a call to</span></div>
<div class="line"><a name="l04579"></a><span class="lineno"> 4579</span>&#160;  <span class="comment">// &quot;llvm.objc.clang.arc.use&quot;.</span></div>
<div class="line"><a name="l04580"></a><span class="lineno"> 4580</span>&#160;  UpgradeToIntrinsic(<span class="stringliteral">&quot;clang.arc.use&quot;</span>, llvm::Intrinsic::objc_clang_arc_use);</div>
<div class="line"><a name="l04581"></a><span class="lineno"> 4581</span>&#160; </div>
<div class="line"><a name="l04582"></a><span class="lineno"> 4582</span>&#160;  <span class="comment">// Upgrade the retain release marker. If there is no need to upgrade</span></div>
<div class="line"><a name="l04583"></a><span class="lineno"> 4583</span>&#160;  <span class="comment">// the marker, that means either the module is already new enough to contain</span></div>
<div class="line"><a name="l04584"></a><span class="lineno"> 4584</span>&#160;  <span class="comment">// new intrinsics or it is not ARC. There is no need to upgrade runtime call.</span></div>
<div class="line"><a name="l04585"></a><span class="lineno"> 4585</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="AutoUpgrade_8cpp.html#ad5ce441da7ca13cf4d18b18831ee5e03">UpgradeRetainReleaseMarker</a>(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>))</div>
<div class="line"><a name="l04586"></a><span class="lineno"> 4586</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04587"></a><span class="lineno"> 4587</span>&#160; </div>
<div class="line"><a name="l04588"></a><span class="lineno"> 4588</span>&#160;  std::pair&lt;const char *, llvm::Intrinsic::ID&gt; RuntimeFuncs[] = {</div>
<div class="line"><a name="l04589"></a><span class="lineno"> 4589</span>&#160;      {<span class="stringliteral">&quot;objc_autorelease&quot;</span>, llvm::Intrinsic::objc_autorelease},</div>
<div class="line"><a name="l04590"></a><span class="lineno"> 4590</span>&#160;      {<span class="stringliteral">&quot;objc_autoreleasePoolPop&quot;</span>, llvm::Intrinsic::objc_autoreleasePoolPop},</div>
<div class="line"><a name="l04591"></a><span class="lineno"> 4591</span>&#160;      {<span class="stringliteral">&quot;objc_autoreleasePoolPush&quot;</span>, llvm::Intrinsic::objc_autoreleasePoolPush},</div>
<div class="line"><a name="l04592"></a><span class="lineno"> 4592</span>&#160;      {<span class="stringliteral">&quot;objc_autoreleaseReturnValue&quot;</span>,</div>
<div class="line"><a name="l04593"></a><span class="lineno"> 4593</span>&#160;       llvm::Intrinsic::objc_autoreleaseReturnValue},</div>
<div class="line"><a name="l04594"></a><span class="lineno"> 4594</span>&#160;      {<span class="stringliteral">&quot;objc_copyWeak&quot;</span>, llvm::Intrinsic::objc_copyWeak},</div>
<div class="line"><a name="l04595"></a><span class="lineno"> 4595</span>&#160;      {<span class="stringliteral">&quot;objc_destroyWeak&quot;</span>, llvm::Intrinsic::objc_destroyWeak},</div>
<div class="line"><a name="l04596"></a><span class="lineno"> 4596</span>&#160;      {<span class="stringliteral">&quot;objc_initWeak&quot;</span>, llvm::Intrinsic::objc_initWeak},</div>
<div class="line"><a name="l04597"></a><span class="lineno"> 4597</span>&#160;      {<span class="stringliteral">&quot;objc_loadWeak&quot;</span>, llvm::Intrinsic::objc_loadWeak},</div>
<div class="line"><a name="l04598"></a><span class="lineno"> 4598</span>&#160;      {<span class="stringliteral">&quot;objc_loadWeakRetained&quot;</span>, llvm::Intrinsic::objc_loadWeakRetained},</div>
<div class="line"><a name="l04599"></a><span class="lineno"> 4599</span>&#160;      {<span class="stringliteral">&quot;objc_moveWeak&quot;</span>, llvm::Intrinsic::objc_moveWeak},</div>
<div class="line"><a name="l04600"></a><span class="lineno"> 4600</span>&#160;      {<span class="stringliteral">&quot;objc_release&quot;</span>, llvm::Intrinsic::objc_release},</div>
<div class="line"><a name="l04601"></a><span class="lineno"> 4601</span>&#160;      {<span class="stringliteral">&quot;objc_retain&quot;</span>, llvm::Intrinsic::objc_retain},</div>
<div class="line"><a name="l04602"></a><span class="lineno"> 4602</span>&#160;      {<span class="stringliteral">&quot;objc_retainAutorelease&quot;</span>, llvm::Intrinsic::objc_retainAutorelease},</div>
<div class="line"><a name="l04603"></a><span class="lineno"> 4603</span>&#160;      {<span class="stringliteral">&quot;objc_retainAutoreleaseReturnValue&quot;</span>,</div>
<div class="line"><a name="l04604"></a><span class="lineno"> 4604</span>&#160;       llvm::Intrinsic::objc_retainAutoreleaseReturnValue},</div>
<div class="line"><a name="l04605"></a><span class="lineno"> 4605</span>&#160;      {<span class="stringliteral">&quot;objc_retainAutoreleasedReturnValue&quot;</span>,</div>
<div class="line"><a name="l04606"></a><span class="lineno"> 4606</span>&#160;       llvm::Intrinsic::objc_retainAutoreleasedReturnValue},</div>
<div class="line"><a name="l04607"></a><span class="lineno"> 4607</span>&#160;      {<span class="stringliteral">&quot;objc_retainBlock&quot;</span>, llvm::Intrinsic::objc_retainBlock},</div>
<div class="line"><a name="l04608"></a><span class="lineno"> 4608</span>&#160;      {<span class="stringliteral">&quot;objc_storeStrong&quot;</span>, llvm::Intrinsic::objc_storeStrong},</div>
<div class="line"><a name="l04609"></a><span class="lineno"> 4609</span>&#160;      {<span class="stringliteral">&quot;objc_storeWeak&quot;</span>, llvm::Intrinsic::objc_storeWeak},</div>
<div class="line"><a name="l04610"></a><span class="lineno"> 4610</span>&#160;      {<span class="stringliteral">&quot;objc_unsafeClaimAutoreleasedReturnValue&quot;</span>,</div>
<div class="line"><a name="l04611"></a><span class="lineno"> 4611</span>&#160;       llvm::Intrinsic::objc_unsafeClaimAutoreleasedReturnValue},</div>
<div class="line"><a name="l04612"></a><span class="lineno"> 4612</span>&#160;      {<span class="stringliteral">&quot;objc_retainedObject&quot;</span>, llvm::Intrinsic::objc_retainedObject},</div>
<div class="line"><a name="l04613"></a><span class="lineno"> 4613</span>&#160;      {<span class="stringliteral">&quot;objc_unretainedObject&quot;</span>, llvm::Intrinsic::objc_unretainedObject},</div>
<div class="line"><a name="l04614"></a><span class="lineno"> 4614</span>&#160;      {<span class="stringliteral">&quot;objc_unretainedPointer&quot;</span>, llvm::Intrinsic::objc_unretainedPointer},</div>
<div class="line"><a name="l04615"></a><span class="lineno"> 4615</span>&#160;      {<span class="stringliteral">&quot;objc_retain_autorelease&quot;</span>, llvm::Intrinsic::objc_retain_autorelease},</div>
<div class="line"><a name="l04616"></a><span class="lineno"> 4616</span>&#160;      {<span class="stringliteral">&quot;objc_sync_enter&quot;</span>, llvm::Intrinsic::objc_sync_enter},</div>
<div class="line"><a name="l04617"></a><span class="lineno"> 4617</span>&#160;      {<span class="stringliteral">&quot;objc_sync_exit&quot;</span>, llvm::Intrinsic::objc_sync_exit},</div>
<div class="line"><a name="l04618"></a><span class="lineno"> 4618</span>&#160;      {<span class="stringliteral">&quot;objc_arc_annotation_topdown_bbstart&quot;</span>,</div>
<div class="line"><a name="l04619"></a><span class="lineno"> 4619</span>&#160;       llvm::Intrinsic::objc_arc_annotation_topdown_bbstart},</div>
<div class="line"><a name="l04620"></a><span class="lineno"> 4620</span>&#160;      {<span class="stringliteral">&quot;objc_arc_annotation_topdown_bbend&quot;</span>,</div>
<div class="line"><a name="l04621"></a><span class="lineno"> 4621</span>&#160;       llvm::Intrinsic::objc_arc_annotation_topdown_bbend},</div>
<div class="line"><a name="l04622"></a><span class="lineno"> 4622</span>&#160;      {<span class="stringliteral">&quot;objc_arc_annotation_bottomup_bbstart&quot;</span>,</div>
<div class="line"><a name="l04623"></a><span class="lineno"> 4623</span>&#160;       llvm::Intrinsic::objc_arc_annotation_bottomup_bbstart},</div>
<div class="line"><a name="l04624"></a><span class="lineno"> 4624</span>&#160;      {<span class="stringliteral">&quot;objc_arc_annotation_bottomup_bbend&quot;</span>,</div>
<div class="line"><a name="l04625"></a><span class="lineno"> 4625</span>&#160;       llvm::Intrinsic::objc_arc_annotation_bottomup_bbend}};</div>
<div class="line"><a name="l04626"></a><span class="lineno"> 4626</span>&#160; </div>
<div class="line"><a name="l04627"></a><span class="lineno"> 4627</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> : RuntimeFuncs)</div>
<div class="line"><a name="l04628"></a><span class="lineno"> 4628</span>&#160;    UpgradeToIntrinsic(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.first, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.second);</div>
<div class="line"><a name="l04629"></a><span class="lineno"> 4629</span>&#160;}</div>
<div class="line"><a name="l04630"></a><span class="lineno"> 4630</span>&#160; </div>
<div class="line"><a name="l04631"></a><span class="lineno"><a class="line" href="namespacellvm.html#a40c011ab750e2b4ea0d6b8076345cb0c"> 4631</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="namespacellvm.html#a40c011ab750e2b4ea0d6b8076345cb0c">llvm::UpgradeModuleFlags</a>(<a class="code" href="classllvm_1_1Module.html">Module</a> &amp;<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>) {</div>
<div class="line"><a name="l04632"></a><span class="lineno"> 4632</span>&#160;  <a class="code" href="classllvm_1_1NamedMDNode.html">NamedMDNode</a> *ModFlags = <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getModuleFlagsMetadata();</div>
<div class="line"><a name="l04633"></a><span class="lineno"> 4633</span>&#160;  <span class="keywordflow">if</span> (!ModFlags)</div>
<div class="line"><a name="l04634"></a><span class="lineno"> 4634</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04635"></a><span class="lineno"> 4635</span>&#160; </div>
<div class="line"><a name="l04636"></a><span class="lineno"> 4636</span>&#160;  <span class="keywordtype">bool</span> HasObjCFlag = <span class="keyword">false</span>, HasClassProperties = <span class="keyword">false</span>, Changed = <span class="keyword">false</span>;</div>
<div class="line"><a name="l04637"></a><span class="lineno"> 4637</span>&#160;  <span class="keywordtype">bool</span> HasSwiftVersionFlag = <span class="keyword">false</span>;</div>
<div class="line"><a name="l04638"></a><span class="lineno"> 4638</span>&#160;  uint8_t SwiftMajorVersion, SwiftMinorVersion;</div>
<div class="line"><a name="l04639"></a><span class="lineno"> 4639</span>&#160;  <a class="code" href="classuint32__t.html">uint32_t</a> SwiftABIVersion;</div>
<div class="line"><a name="l04640"></a><span class="lineno"> 4640</span>&#160;  <span class="keyword">auto</span> Int8Ty = Type::getInt8Ty(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getContext());</div>
<div class="line"><a name="l04641"></a><span class="lineno"> 4641</span>&#160;  <span class="keyword">auto</span> <a class="code" href="NVVMIntrRange_8cpp.html#abc8aecb5b627f6a91fc2fb09762d2a41">Int32Ty</a> = Type::getInt32Ty(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getContext());</div>
<div class="line"><a name="l04642"></a><span class="lineno"> 4642</span>&#160; </div>
<div class="line"><a name="l04643"></a><span class="lineno"> 4643</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 0, <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = ModFlags-&gt;<a class="code" href="classllvm_1_1NamedMDNode.html#acde8007e0e69969423e2de52343b702f">getNumOperands</a>(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l04644"></a><span class="lineno"> 4644</span>&#160;    <a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> = ModFlags-&gt;<a class="code" href="classllvm_1_1NamedMDNode.html#aa24b566603d206b0e74bf63daf521078">getOperand</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l04645"></a><span class="lineno"> 4645</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>-&gt;getNumOperands() != 3)</div>
<div class="line"><a name="l04646"></a><span class="lineno"> 4646</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l04647"></a><span class="lineno"> 4647</span>&#160;    <a class="code" href="classllvm_1_1MDString.html">MDString</a> *<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a> = dyn_cast_or_null&lt;MDString&gt;(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>-&gt;getOperand(1));</div>
<div class="line"><a name="l04648"></a><span class="lineno"> 4648</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>)</div>
<div class="line"><a name="l04649"></a><span class="lineno"> 4649</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l04650"></a><span class="lineno"> 4650</span>&#160;    <span class="keyword">auto</span> SetBehavior = [&amp;](<a class="code" href="classllvm_1_1Module.html#a0a5c55e12c97b80021330fe82b642293">Module::ModFlagBehavior</a> <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>) {</div>
<div class="line"><a name="l04651"></a><span class="lineno"> 4651</span>&#160;      <a class="code" href="classllvm_1_1Metadata.html">Metadata</a> *Ops[3] = {<a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#aa91241c8c54738377749dc47ee489e0d">ConstantAsMetadata::get</a>(<a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#aa91241c8c54738377749dc47ee489e0d">ConstantInt::get</a>(</div>
<div class="line"><a name="l04652"></a><span class="lineno"> 4652</span>&#160;                              Type::getInt32Ty(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getContext()), <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>)),</div>
<div class="line"><a name="l04653"></a><span class="lineno"> 4653</span>&#160;                          <a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#aa91241c8c54738377749dc47ee489e0d">MDString::get</a>(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getContext(), <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>-&gt;getString()),</div>
<div class="line"><a name="l04654"></a><span class="lineno"> 4654</span>&#160;                          <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>-&gt;getOperand(2)};</div>
<div class="line"><a name="l04655"></a><span class="lineno"> 4655</span>&#160;      ModFlags-&gt;<a class="code" href="classllvm_1_1NamedMDNode.html#a543df3cb1eda9d491a7822ef4216e3b1">setOperand</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#aa91241c8c54738377749dc47ee489e0d">MDNode::get</a>(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getContext(), Ops));</div>
<div class="line"><a name="l04656"></a><span class="lineno"> 4656</span>&#160;      Changed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l04657"></a><span class="lineno"> 4657</span>&#160;    };</div>
<div class="line"><a name="l04658"></a><span class="lineno"> 4658</span>&#160; </div>
<div class="line"><a name="l04659"></a><span class="lineno"> 4659</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>-&gt;getString() == <span class="stringliteral">&quot;Objective-C Image Info Version&quot;</span>)</div>
<div class="line"><a name="l04660"></a><span class="lineno"> 4660</span>&#160;      HasObjCFlag = <span class="keyword">true</span>;</div>
<div class="line"><a name="l04661"></a><span class="lineno"> 4661</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>-&gt;getString() == <span class="stringliteral">&quot;Objective-C Class Properties&quot;</span>)</div>
<div class="line"><a name="l04662"></a><span class="lineno"> 4662</span>&#160;      HasClassProperties = <span class="keyword">true</span>;</div>
<div class="line"><a name="l04663"></a><span class="lineno"> 4663</span>&#160;    <span class="comment">// Upgrade PIC from Error/Max to Min.</span></div>
<div class="line"><a name="l04664"></a><span class="lineno"> 4664</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>-&gt;getString() == <span class="stringliteral">&quot;PIC Level&quot;</span>) {</div>
<div class="line"><a name="l04665"></a><span class="lineno"> 4665</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">auto</span> *Behavior =</div>
<div class="line"><a name="l04666"></a><span class="lineno"> 4666</span>&#160;              mdconst::dyn_extract_or_null&lt;ConstantInt&gt;(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>-&gt;getOperand(0))) {</div>
<div class="line"><a name="l04667"></a><span class="lineno"> 4667</span>&#160;        <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> V = Behavior-&gt;<a class="code" href="classllvm_1_1APInt.html#ab01d8694a759a934e01f1c558c3ce862">getLimitedValue</a>();</div>
<div class="line"><a name="l04668"></a><span class="lineno"> 4668</span>&#160;        <span class="keywordflow">if</span> (V == <a class="code" href="namespacellvm_1_1lltok.html#af353621f14cb4b4b3af5ffaff84076b1a3766a4dce43f4efc7208a749cc7ac605">Module::Error</a> || V == Module::Max)</div>
<div class="line"><a name="l04669"></a><span class="lineno"> 4669</span>&#160;          SetBehavior(Module::Min);</div>
<div class="line"><a name="l04670"></a><span class="lineno"> 4670</span>&#160;      }</div>
<div class="line"><a name="l04671"></a><span class="lineno"> 4671</span>&#160;    }</div>
<div class="line"><a name="l04672"></a><span class="lineno"> 4672</span>&#160;    <span class="comment">// Upgrade &quot;PIE Level&quot; from Error to Max.</span></div>
<div class="line"><a name="l04673"></a><span class="lineno"> 4673</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>-&gt;getString() == <span class="stringliteral">&quot;PIE Level&quot;</span>)</div>
<div class="line"><a name="l04674"></a><span class="lineno"> 4674</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">auto</span> *Behavior =</div>
<div class="line"><a name="l04675"></a><span class="lineno"> 4675</span>&#160;              mdconst::dyn_extract_or_null&lt;ConstantInt&gt;(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>-&gt;getOperand(0)))</div>
<div class="line"><a name="l04676"></a><span class="lineno"> 4676</span>&#160;        <span class="keywordflow">if</span> (Behavior-&gt;getLimitedValue() == <a class="code" href="namespacellvm_1_1lltok.html#af353621f14cb4b4b3af5ffaff84076b1a3766a4dce43f4efc7208a749cc7ac605">Module::Error</a>)</div>
<div class="line"><a name="l04677"></a><span class="lineno"> 4677</span>&#160;          SetBehavior(Module::Max);</div>
<div class="line"><a name="l04678"></a><span class="lineno"> 4678</span>&#160; </div>
<div class="line"><a name="l04679"></a><span class="lineno"> 4679</span>&#160;    <span class="comment">// Upgrade branch protection and return address signing module flags. The</span></div>
<div class="line"><a name="l04680"></a><span class="lineno"> 4680</span>&#160;    <span class="comment">// module flag behavior for these fields were Error and now they are Min.</span></div>
<div class="line"><a name="l04681"></a><span class="lineno"> 4681</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>-&gt;getString() == <span class="stringliteral">&quot;branch-target-enforcement&quot;</span> ||</div>
<div class="line"><a name="l04682"></a><span class="lineno"> 4682</span>&#160;        <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>-&gt;getString().startswith(<span class="stringliteral">&quot;sign-return-address&quot;</span>)) {</div>
<div class="line"><a name="l04683"></a><span class="lineno"> 4683</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">auto</span> *Behavior =</div>
<div class="line"><a name="l04684"></a><span class="lineno"> 4684</span>&#160;              mdconst::dyn_extract_or_null&lt;ConstantInt&gt;(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>-&gt;getOperand(0))) {</div>
<div class="line"><a name="l04685"></a><span class="lineno"> 4685</span>&#160;        <span class="keywordflow">if</span> (Behavior-&gt;getLimitedValue() == <a class="code" href="namespacellvm_1_1lltok.html#af353621f14cb4b4b3af5ffaff84076b1a3766a4dce43f4efc7208a749cc7ac605">Module::Error</a>) {</div>
<div class="line"><a name="l04686"></a><span class="lineno"> 4686</span>&#160;          <a class="code" href="classllvm_1_1Type.html">Type</a> *<a class="code" href="NVVMIntrRange_8cpp.html#abc8aecb5b627f6a91fc2fb09762d2a41">Int32Ty</a> = Type::getInt32Ty(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getContext());</div>
<div class="line"><a name="l04687"></a><span class="lineno"> 4687</span>&#160;          <a class="code" href="classllvm_1_1Metadata.html">Metadata</a> *Ops[3] = {</div>
<div class="line"><a name="l04688"></a><span class="lineno"> 4688</span>&#160;              <a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#aa91241c8c54738377749dc47ee489e0d">ConstantAsMetadata::get</a>(<a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#aa91241c8c54738377749dc47ee489e0d">ConstantInt::get</a>(<a class="code" href="NVVMIntrRange_8cpp.html#abc8aecb5b627f6a91fc2fb09762d2a41">Int32Ty</a>, Module::Min)),</div>
<div class="line"><a name="l04689"></a><span class="lineno"> 4689</span>&#160;              <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>-&gt;getOperand(1), <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>-&gt;getOperand(2)};</div>
<div class="line"><a name="l04690"></a><span class="lineno"> 4690</span>&#160;          ModFlags-&gt;<a class="code" href="classllvm_1_1NamedMDNode.html#a543df3cb1eda9d491a7822ef4216e3b1">setOperand</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#aa91241c8c54738377749dc47ee489e0d">MDNode::get</a>(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getContext(), Ops));</div>
<div class="line"><a name="l04691"></a><span class="lineno"> 4691</span>&#160;          Changed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l04692"></a><span class="lineno"> 4692</span>&#160;        }</div>
<div class="line"><a name="l04693"></a><span class="lineno"> 4693</span>&#160;      }</div>
<div class="line"><a name="l04694"></a><span class="lineno"> 4694</span>&#160;    }</div>
<div class="line"><a name="l04695"></a><span class="lineno"> 4695</span>&#160; </div>
<div class="line"><a name="l04696"></a><span class="lineno"> 4696</span>&#160;    <span class="comment">// Upgrade Objective-C Image Info Section. Removed the whitespce in the</span></div>
<div class="line"><a name="l04697"></a><span class="lineno"> 4697</span>&#160;    <span class="comment">// section name so that llvm-lto will not complain about mismatching</span></div>
<div class="line"><a name="l04698"></a><span class="lineno"> 4698</span>&#160;    <span class="comment">// module flags that is functionally the same.</span></div>
<div class="line"><a name="l04699"></a><span class="lineno"> 4699</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>-&gt;getString() == <span class="stringliteral">&quot;Objective-C Image Info Section&quot;</span>) {</div>
<div class="line"><a name="l04700"></a><span class="lineno"> 4700</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">auto</span> *<a class="code" href="classllvm_1_1Value.html">Value</a> = dyn_cast_or_null&lt;MDString&gt;(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>-&gt;getOperand(2))) {</div>
<div class="line"><a name="l04701"></a><span class="lineno"> 4701</span>&#160;        <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;StringRef, 4&gt;</a> ValueComp;</div>
<div class="line"><a name="l04702"></a><span class="lineno"> 4702</span>&#160;        <a class="code" href="classllvm_1_1Value.html">Value</a>-&gt;getString().split(ValueComp, <span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><a name="l04703"></a><span class="lineno"> 4703</span>&#160;        <span class="keywordflow">if</span> (ValueComp.size() != 1) {</div>
<div class="line"><a name="l04704"></a><span class="lineno"> 4704</span>&#160;          std::string NewValue;</div>
<div class="line"><a name="l04705"></a><span class="lineno"> 4705</span>&#160;          <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> : ValueComp)</div>
<div class="line"><a name="l04706"></a><span class="lineno"> 4706</span>&#160;            NewValue += <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>.str();</div>
<div class="line"><a name="l04707"></a><span class="lineno"> 4707</span>&#160;          <a class="code" href="classllvm_1_1Metadata.html">Metadata</a> *Ops[3] = {<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>-&gt;getOperand(0), <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>-&gt;getOperand(1),</div>
<div class="line"><a name="l04708"></a><span class="lineno"> 4708</span>&#160;                              <a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#aa91241c8c54738377749dc47ee489e0d">MDString::get</a>(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getContext(), NewValue)};</div>
<div class="line"><a name="l04709"></a><span class="lineno"> 4709</span>&#160;          ModFlags-&gt;<a class="code" href="classllvm_1_1NamedMDNode.html#a543df3cb1eda9d491a7822ef4216e3b1">setOperand</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#aa91241c8c54738377749dc47ee489e0d">MDNode::get</a>(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getContext(), Ops));</div>
<div class="line"><a name="l04710"></a><span class="lineno"> 4710</span>&#160;          Changed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l04711"></a><span class="lineno"> 4711</span>&#160;        }</div>
<div class="line"><a name="l04712"></a><span class="lineno"> 4712</span>&#160;      }</div>
<div class="line"><a name="l04713"></a><span class="lineno"> 4713</span>&#160;    }</div>
<div class="line"><a name="l04714"></a><span class="lineno"> 4714</span>&#160; </div>
<div class="line"><a name="l04715"></a><span class="lineno"> 4715</span>&#160;    <span class="comment">// IRUpgrader turns a i32 type &quot;Objective-C Garbage Collection&quot; into i8 value.</span></div>
<div class="line"><a name="l04716"></a><span class="lineno"> 4716</span>&#160;    <span class="comment">// If the higher bits are set, it adds new module flag for swift info.</span></div>
<div class="line"><a name="l04717"></a><span class="lineno"> 4717</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>-&gt;getString() == <span class="stringliteral">&quot;Objective-C Garbage Collection&quot;</span>) {</div>
<div class="line"><a name="l04718"></a><span class="lineno"> 4718</span>&#160;      <span class="keyword">auto</span> Md = dyn_cast&lt;ConstantAsMetadata&gt;(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>-&gt;getOperand(2));</div>
<div class="line"><a name="l04719"></a><span class="lineno"> 4719</span>&#160;      <span class="keywordflow">if</span> (Md) {</div>
<div class="line"><a name="l04720"></a><span class="lineno"> 4720</span>&#160;        <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Md-&gt;getValue() &amp;&amp; <span class="stringliteral">&quot;Expected non-empty metadata&quot;</span>);</div>
<div class="line"><a name="l04721"></a><span class="lineno"> 4721</span>&#160;        <span class="keyword">auto</span> <a class="code" href="classllvm_1_1Type.html">Type</a> = Md-&gt;getValue()-&gt;getType();</div>
<div class="line"><a name="l04722"></a><span class="lineno"> 4722</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Type.html">Type</a> == Int8Ty)</div>
<div class="line"><a name="l04723"></a><span class="lineno"> 4723</span>&#160;          <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l04724"></a><span class="lineno"> 4724</span>&#160;        <span class="keywordtype">unsigned</span> Val = Md-&gt;getValue()-&gt;getUniqueInteger().getZExtValue();</div>
<div class="line"><a name="l04725"></a><span class="lineno"> 4725</span>&#160;        <span class="keywordflow">if</span> ((Val &amp; 0xff) != Val) {</div>
<div class="line"><a name="l04726"></a><span class="lineno"> 4726</span>&#160;          HasSwiftVersionFlag = <span class="keyword">true</span>;</div>
<div class="line"><a name="l04727"></a><span class="lineno"> 4727</span>&#160;          SwiftABIVersion = (Val &amp; 0xff00) &gt;&gt; 8;</div>
<div class="line"><a name="l04728"></a><span class="lineno"> 4728</span>&#160;          SwiftMajorVersion = (Val &amp; 0xff000000) &gt;&gt; 24;</div>
<div class="line"><a name="l04729"></a><span class="lineno"> 4729</span>&#160;          SwiftMinorVersion = (Val &amp; 0xff0000) &gt;&gt; 16;</div>
<div class="line"><a name="l04730"></a><span class="lineno"> 4730</span>&#160;        }</div>
<div class="line"><a name="l04731"></a><span class="lineno"> 4731</span>&#160;        <a class="code" href="classllvm_1_1Metadata.html">Metadata</a> *Ops[3] = {</div>
<div class="line"><a name="l04732"></a><span class="lineno"> 4732</span>&#160;          <a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#aa91241c8c54738377749dc47ee489e0d">ConstantAsMetadata::get</a>(<a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#aa91241c8c54738377749dc47ee489e0d">ConstantInt::get</a>(<a class="code" href="NVVMIntrRange_8cpp.html#abc8aecb5b627f6a91fc2fb09762d2a41">Int32Ty</a>,<a class="code" href="namespacellvm_1_1lltok.html#af353621f14cb4b4b3af5ffaff84076b1a3766a4dce43f4efc7208a749cc7ac605">Module::Error</a>)),</div>
<div class="line"><a name="l04733"></a><span class="lineno"> 4733</span>&#160;          <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>-&gt;getOperand(1),</div>
<div class="line"><a name="l04734"></a><span class="lineno"> 4734</span>&#160;          <a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#aa91241c8c54738377749dc47ee489e0d">ConstantAsMetadata::get</a>(<a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#aa91241c8c54738377749dc47ee489e0d">ConstantInt::get</a>(Int8Ty,Val &amp; 0xff))};</div>
<div class="line"><a name="l04735"></a><span class="lineno"> 4735</span>&#160;        ModFlags-&gt;<a class="code" href="classllvm_1_1NamedMDNode.html#a543df3cb1eda9d491a7822ef4216e3b1">setOperand</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#aa91241c8c54738377749dc47ee489e0d">MDNode::get</a>(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getContext(), Ops));</div>
<div class="line"><a name="l04736"></a><span class="lineno"> 4736</span>&#160;        Changed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l04737"></a><span class="lineno"> 4737</span>&#160;      }</div>
<div class="line"><a name="l04738"></a><span class="lineno"> 4738</span>&#160;    }</div>
<div class="line"><a name="l04739"></a><span class="lineno"> 4739</span>&#160;  }</div>
<div class="line"><a name="l04740"></a><span class="lineno"> 4740</span>&#160; </div>
<div class="line"><a name="l04741"></a><span class="lineno"> 4741</span>&#160;  <span class="comment">// &quot;Objective-C Class Properties&quot; is recently added for Objective-C. We</span></div>
<div class="line"><a name="l04742"></a><span class="lineno"> 4742</span>&#160;  <span class="comment">// upgrade ObjC bitcodes to contain a &quot;Objective-C Class Properties&quot; module</span></div>
<div class="line"><a name="l04743"></a><span class="lineno"> 4743</span>&#160;  <span class="comment">// flag of value 0, so we can correclty downgrade this flag when trying to</span></div>
<div class="line"><a name="l04744"></a><span class="lineno"> 4744</span>&#160;  <span class="comment">// link an ObjC bitcode without this module flag with an ObjC bitcode with</span></div>
<div class="line"><a name="l04745"></a><span class="lineno"> 4745</span>&#160;  <span class="comment">// this module flag.</span></div>
<div class="line"><a name="l04746"></a><span class="lineno"> 4746</span>&#160;  <span class="keywordflow">if</span> (HasObjCFlag &amp;&amp; !HasClassProperties) {</div>
<div class="line"><a name="l04747"></a><span class="lineno"> 4747</span>&#160;    <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.addModuleFlag(<a class="code" href="classllvm_1_1Module.html#a0a5c55e12c97b80021330fe82b642293a2aba8031539d1446aff14d13c7deea69">llvm::Module::Override</a>, <span class="stringliteral">&quot;Objective-C Class Properties&quot;</span>,</div>
<div class="line"><a name="l04748"></a><span class="lineno"> 4748</span>&#160;                    (<a class="code" href="classuint32__t.html">uint32_t</a>)0);</div>
<div class="line"><a name="l04749"></a><span class="lineno"> 4749</span>&#160;    Changed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l04750"></a><span class="lineno"> 4750</span>&#160;  }</div>
<div class="line"><a name="l04751"></a><span class="lineno"> 4751</span>&#160; </div>
<div class="line"><a name="l04752"></a><span class="lineno"> 4752</span>&#160;  <span class="keywordflow">if</span> (HasSwiftVersionFlag) {</div>
<div class="line"><a name="l04753"></a><span class="lineno"> 4753</span>&#160;    <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.addModuleFlag(<a class="code" href="namespacellvm_1_1lltok.html#af353621f14cb4b4b3af5ffaff84076b1a3766a4dce43f4efc7208a749cc7ac605">Module::Error</a>, <span class="stringliteral">&quot;Swift ABI Version&quot;</span>,</div>
<div class="line"><a name="l04754"></a><span class="lineno"> 4754</span>&#160;                    SwiftABIVersion);</div>
<div class="line"><a name="l04755"></a><span class="lineno"> 4755</span>&#160;    <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.addModuleFlag(<a class="code" href="namespacellvm_1_1lltok.html#af353621f14cb4b4b3af5ffaff84076b1a3766a4dce43f4efc7208a749cc7ac605">Module::Error</a>, <span class="stringliteral">&quot;Swift Major Version&quot;</span>,</div>
<div class="line"><a name="l04756"></a><span class="lineno"> 4756</span>&#160;                    <a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#aa91241c8c54738377749dc47ee489e0d">ConstantInt::get</a>(Int8Ty, SwiftMajorVersion));</div>
<div class="line"><a name="l04757"></a><span class="lineno"> 4757</span>&#160;    <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.addModuleFlag(<a class="code" href="namespacellvm_1_1lltok.html#af353621f14cb4b4b3af5ffaff84076b1a3766a4dce43f4efc7208a749cc7ac605">Module::Error</a>, <span class="stringliteral">&quot;Swift Minor Version&quot;</span>,</div>
<div class="line"><a name="l04758"></a><span class="lineno"> 4758</span>&#160;                    <a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#aa91241c8c54738377749dc47ee489e0d">ConstantInt::get</a>(Int8Ty, SwiftMinorVersion));</div>
<div class="line"><a name="l04759"></a><span class="lineno"> 4759</span>&#160;    Changed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l04760"></a><span class="lineno"> 4760</span>&#160;  }</div>
<div class="line"><a name="l04761"></a><span class="lineno"> 4761</span>&#160; </div>
<div class="line"><a name="l04762"></a><span class="lineno"> 4762</span>&#160;  <span class="keywordflow">return</span> Changed;</div>
<div class="line"><a name="l04763"></a><span class="lineno"> 4763</span>&#160;}</div>
<div class="line"><a name="l04764"></a><span class="lineno"> 4764</span>&#160; </div>
<div class="line"><a name="l04765"></a><span class="lineno"><a class="line" href="namespacellvm.html#a08f09f6a0568054ba5a1db783b6eeae5"> 4765</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacellvm.html#a08f09f6a0568054ba5a1db783b6eeae5">llvm::UpgradeSectionAttributes</a>(<a class="code" href="classllvm_1_1Module.html">Module</a> &amp;<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>) {</div>
<div class="line"><a name="l04766"></a><span class="lineno"> 4766</span>&#160;  <span class="keyword">auto</span> TrimSpaces = [](<a class="code" href="classllvm_1_1StringRef.html">StringRef</a> <a class="code" href="namespacellvm_1_1ARMBuildAttrs.html#aea10ca6bf098a425d51ac7fe65d30ed6a69c8a3bdf3f5753779a342f0cd97c090">Section</a>) -&gt; std::string {</div>
<div class="line"><a name="l04767"></a><span class="lineno"> 4767</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;StringRef, 5&gt;</a> Components;</div>
<div class="line"><a name="l04768"></a><span class="lineno"> 4768</span>&#160;    <a class="code" href="namespacellvm_1_1ARMBuildAttrs.html#aea10ca6bf098a425d51ac7fe65d30ed6a69c8a3bdf3f5753779a342f0cd97c090">Section</a>.split(Components, <span class="charliteral">&#39;,&#39;</span>);</div>
<div class="line"><a name="l04769"></a><span class="lineno"> 4769</span>&#160; </div>
<div class="line"><a name="l04770"></a><span class="lineno"> 4770</span>&#160;    <a class="code" href="classllvm_1_1SmallString.html">SmallString&lt;32&gt;</a> Buffer;</div>
<div class="line"><a name="l04771"></a><span class="lineno"> 4771</span>&#160;    <a class="code" href="classllvm_1_1raw__svector__ostream.html">raw_svector_ostream</a> <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>(Buffer);</div>
<div class="line"><a name="l04772"></a><span class="lineno"> 4772</span>&#160; </div>
<div class="line"><a name="l04773"></a><span class="lineno"> 4773</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> <a class="code" href="namespacellvm_1_1AMDGPU_1_1VOPD.html#aaea90d62530ed55360573a3373c684a6">Component</a> : Components)</div>
<div class="line"><a name="l04774"></a><span class="lineno"> 4774</span>&#160;      <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="charliteral">&#39;,&#39;</span> &lt;&lt; <a class="code" href="namespacellvm_1_1AMDGPU_1_1VOPD.html#aaea90d62530ed55360573a3373c684a6">Component</a>.trim();</div>
<div class="line"><a name="l04775"></a><span class="lineno"> 4775</span>&#160; </div>
<div class="line"><a name="l04776"></a><span class="lineno"> 4776</span>&#160;    <span class="keywordflow">return</span> std::string(<a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>.str().substr(1));</div>
<div class="line"><a name="l04777"></a><span class="lineno"> 4777</span>&#160;  };</div>
<div class="line"><a name="l04778"></a><span class="lineno"> 4778</span>&#160; </div>
<div class="line"><a name="l04779"></a><span class="lineno"> 4779</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;GV : <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.globals()) {</div>
<div class="line"><a name="l04780"></a><span class="lineno"> 4780</span>&#160;    <span class="keywordflow">if</span> (!GV.hasSection())</div>
<div class="line"><a name="l04781"></a><span class="lineno"> 4781</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l04782"></a><span class="lineno"> 4782</span>&#160; </div>
<div class="line"><a name="l04783"></a><span class="lineno"> 4783</span>&#160;    <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> <a class="code" href="namespacellvm_1_1ARMBuildAttrs.html#aea10ca6bf098a425d51ac7fe65d30ed6a69c8a3bdf3f5753779a342f0cd97c090">Section</a> = GV.getSection();</div>
<div class="line"><a name="l04784"></a><span class="lineno"> 4784</span>&#160; </div>
<div class="line"><a name="l04785"></a><span class="lineno"> 4785</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1ARMBuildAttrs.html#aea10ca6bf098a425d51ac7fe65d30ed6a69c8a3bdf3f5753779a342f0cd97c090">Section</a>.startswith(<span class="stringliteral">&quot;__DATA, __objc_catlist&quot;</span>))</div>
<div class="line"><a name="l04786"></a><span class="lineno"> 4786</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l04787"></a><span class="lineno"> 4787</span>&#160; </div>
<div class="line"><a name="l04788"></a><span class="lineno"> 4788</span>&#160;    <span class="comment">// __DATA, __objc_catlist, regular, no_dead_strip</span></div>
<div class="line"><a name="l04789"></a><span class="lineno"> 4789</span>&#160;    <span class="comment">// __DATA,__objc_catlist,regular,no_dead_strip</span></div>
<div class="line"><a name="l04790"></a><span class="lineno"> 4790</span>&#160;    GV.setSection(TrimSpaces(<a class="code" href="namespacellvm_1_1ARMBuildAttrs.html#aea10ca6bf098a425d51ac7fe65d30ed6a69c8a3bdf3f5753779a342f0cd97c090">Section</a>));</div>
<div class="line"><a name="l04791"></a><span class="lineno"> 4791</span>&#160;  }</div>
<div class="line"><a name="l04792"></a><span class="lineno"> 4792</span>&#160;}</div>
<div class="line"><a name="l04793"></a><span class="lineno"> 4793</span>&#160; </div>
<div class="line"><a name="l04794"></a><span class="lineno"> 4794</span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l04795"></a><span class="lineno"> 4795</span>&#160;<span class="comment">// Prior to LLVM 10.0, the strictfp attribute could be used on individual</span></div>
<div class="line"><a name="l04796"></a><span class="lineno"> 4796</span>&#160;<span class="comment">// callsites within a function that did not also have the strictfp attribute.</span></div>
<div class="line"><a name="l04797"></a><span class="lineno"> 4797</span>&#160;<span class="comment">// Since 10.0, if strict FP semantics are needed within a function, the</span></div>
<div class="line"><a name="l04798"></a><span class="lineno"> 4798</span>&#160;<span class="comment">// function must have the strictfp attribute and all calls within the function</span></div>
<div class="line"><a name="l04799"></a><span class="lineno"> 4799</span>&#160;<span class="comment">// must also have the strictfp attribute. This latter restriction is</span></div>
<div class="line"><a name="l04800"></a><span class="lineno"> 4800</span>&#160;<span class="comment">// necessary to prevent unwanted libcall simplification when a function is</span></div>
<div class="line"><a name="l04801"></a><span class="lineno"> 4801</span>&#160;<span class="comment">// being cloned (such as for inlining).</span></div>
<div class="line"><a name="l04802"></a><span class="lineno"> 4802</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l04803"></a><span class="lineno"> 4803</span>&#160;<span class="comment">// The &quot;dangling&quot; strictfp attribute usage was only used to prevent constant</span></div>
<div class="line"><a name="l04804"></a><span class="lineno"> 4804</span>&#160;<span class="comment">// folding and other libcall simplification. The nobuiltin attribute on the</span></div>
<div class="line"><a name="l04805"></a><span class="lineno"> 4805</span>&#160;<span class="comment">// callsite has the same effect.</span></div>
<div class="line"><a name="l04806"></a><span class="lineno"> 4806</span>&#160;<span class="keyword">struct </span>StrictFPUpgradeVisitor : <span class="keyword">public</span> <a class="code" href="classllvm_1_1InstVisitor.html">InstVisitor</a>&lt;StrictFPUpgradeVisitor&gt; {</div>
<div class="line"><a name="l04807"></a><span class="lineno"> 4807</span>&#160;  StrictFPUpgradeVisitor() = <span class="keywordflow">default</span>;</div>
<div class="line"><a name="l04808"></a><span class="lineno"> 4808</span>&#160; </div>
<div class="line"><a name="l04809"></a><span class="lineno"> 4809</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classllvm_1_1InstVisitor.html#a22ae80c2045ac48274ba65b1d91d89e7">visitCallBase</a>(<a class="code" href="classllvm_1_1CallBase.html">CallBase</a> &amp;<a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>) {</div>
<div class="line"><a name="l04810"></a><span class="lineno"> 4810</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>.isStrictFP())</div>
<div class="line"><a name="l04811"></a><span class="lineno"> 4811</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04812"></a><span class="lineno"> 4812</span>&#160;    <span class="keywordflow">if</span> (isa&lt;ConstrainedFPIntrinsic&gt;(&amp;<a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>))</div>
<div class="line"><a name="l04813"></a><span class="lineno"> 4813</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04814"></a><span class="lineno"> 4814</span>&#160;    <span class="comment">// If we get here, the caller doesn&#39;t have the strictfp attribute</span></div>
<div class="line"><a name="l04815"></a><span class="lineno"> 4815</span>&#160;    <span class="comment">// but this callsite does. Replace the strictfp attribute with nobuiltin.</span></div>
<div class="line"><a name="l04816"></a><span class="lineno"> 4816</span>&#160;    <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>.removeFnAttr(Attribute::StrictFP);</div>
<div class="line"><a name="l04817"></a><span class="lineno"> 4817</span>&#160;    <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>.addFnAttr(Attribute::NoBuiltin);</div>
<div class="line"><a name="l04818"></a><span class="lineno"> 4818</span>&#160;  }</div>
<div class="line"><a name="l04819"></a><span class="lineno"> 4819</span>&#160;};</div>
<div class="line"><a name="l04820"></a><span class="lineno"> 4820</span>&#160;} <span class="comment">// namespace</span></div>
<div class="line"><a name="l04821"></a><span class="lineno"> 4821</span>&#160; </div>
<div class="line"><a name="l04822"></a><span class="lineno"><a class="line" href="namespacellvm.html#ad73f9adce7cce90507a082ae3b30eb36"> 4822</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacellvm.html#ad73f9adce7cce90507a082ae3b30eb36">llvm::UpgradeFunctionAttributes</a>(<a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>) {</div>
<div class="line"><a name="l04823"></a><span class="lineno"> 4823</span>&#160;  <span class="comment">// If a function definition doesn&#39;t have the strictfp attribute,</span></div>
<div class="line"><a name="l04824"></a><span class="lineno"> 4824</span>&#160;  <span class="comment">// convert any callsite strictfp attributes to nobuiltin.</span></div>
<div class="line"><a name="l04825"></a><span class="lineno"> 4825</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.isDeclaration() &amp;&amp; !<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.hasFnAttribute(Attribute::StrictFP)) {</div>
<div class="line"><a name="l04826"></a><span class="lineno"> 4826</span>&#160;    StrictFPUpgradeVisitor SFPV;</div>
<div class="line"><a name="l04827"></a><span class="lineno"> 4827</span>&#160;    SFPV.visit(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l04828"></a><span class="lineno"> 4828</span>&#160;  }</div>
<div class="line"><a name="l04829"></a><span class="lineno"> 4829</span>&#160; </div>
<div class="line"><a name="l04830"></a><span class="lineno"> 4830</span>&#160;  <span class="comment">// Remove all incompatibile attributes from function.</span></div>
<div class="line"><a name="l04831"></a><span class="lineno"> 4831</span>&#160;  <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.removeRetAttrs(<a class="code" href="namespacellvm_1_1AttributeFuncs.html#ae48bd752d74f193a0651b89931b28025">AttributeFuncs::typeIncompatible</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.getReturnType()));</div>
<div class="line"><a name="l04832"></a><span class="lineno"> 4832</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a> : <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.args())</div>
<div class="line"><a name="l04833"></a><span class="lineno"> 4833</span>&#160;    <a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>.removeAttrs(<a class="code" href="namespacellvm_1_1AttributeFuncs.html#ae48bd752d74f193a0651b89931b28025">AttributeFuncs::typeIncompatible</a>(<a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>.getType()));</div>
<div class="line"><a name="l04834"></a><span class="lineno"> 4834</span>&#160;}</div>
<div class="line"><a name="l04835"></a><span class="lineno"> 4835</span>&#160; </div>
<div class="line"><a name="l04836"></a><span class="lineno"><a class="line" href="AutoUpgrade_8cpp.html#a906a7515b5e0d0eae63408ba09662ec3"> 4836</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="AutoUpgrade_8cpp.html#a906a7515b5e0d0eae63408ba09662ec3">isOldLoopArgument</a>(<a class="code" href="classllvm_1_1Metadata.html">Metadata</a> *MD) {</div>
<div class="line"><a name="l04837"></a><span class="lineno"> 4837</span>&#160;  <span class="keyword">auto</span> *<a class="code" href="classT.html">T</a> = dyn_cast_or_null&lt;MDTuple&gt;(MD);</div>
<div class="line"><a name="l04838"></a><span class="lineno"> 4838</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classT.html">T</a>)</div>
<div class="line"><a name="l04839"></a><span class="lineno"> 4839</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04840"></a><span class="lineno"> 4840</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classT.html">T</a>-&gt;getNumOperands() &lt; 1)</div>
<div class="line"><a name="l04841"></a><span class="lineno"> 4841</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04842"></a><span class="lineno"> 4842</span>&#160;  <span class="keyword">auto</span> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> = dyn_cast_or_null&lt;MDString&gt;(<a class="code" href="classT.html">T</a>-&gt;getOperand(0));</div>
<div class="line"><a name="l04843"></a><span class="lineno"> 4843</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>)</div>
<div class="line"><a name="l04844"></a><span class="lineno"> 4844</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04845"></a><span class="lineno"> 4845</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>-&gt;getString().startswith(<span class="stringliteral">&quot;llvm.vectorizer.&quot;</span>);</div>
<div class="line"><a name="l04846"></a><span class="lineno"> 4846</span>&#160;}</div>
<div class="line"><a name="l04847"></a><span class="lineno"> 4847</span>&#160; </div>
<div class="line"><a name="l04848"></a><span class="lineno"><a class="line" href="AutoUpgrade_8cpp.html#ac51e32c0b3527179cca0f630b1129278"> 4848</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1MDString.html">MDString</a> *<a class="code" href="AutoUpgrade_8cpp.html#ac51e32c0b3527179cca0f630b1129278">upgradeLoopTag</a>(<a class="code" href="classllvm_1_1LLVMContext.html">LLVMContext</a> &amp;<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>, <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> OldTag) {</div>
<div class="line"><a name="l04849"></a><span class="lineno"> 4849</span>&#160;  <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> OldPrefix = <span class="stringliteral">&quot;llvm.vectorizer.&quot;</span>;</div>
<div class="line"><a name="l04850"></a><span class="lineno"> 4850</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(OldTag.<a class="code" href="classllvm_1_1StringRef.html#a84cd09ccc918883d51a387f0e0f374f3">startswith</a>(OldPrefix) &amp;&amp; <span class="stringliteral">&quot;Expected old prefix&quot;</span>);</div>
<div class="line"><a name="l04851"></a><span class="lineno"> 4851</span>&#160; </div>
<div class="line"><a name="l04852"></a><span class="lineno"> 4852</span>&#160;  <span class="keywordflow">if</span> (OldTag == <span class="stringliteral">&quot;llvm.vectorizer.unroll&quot;</span>)</div>
<div class="line"><a name="l04853"></a><span class="lineno"> 4853</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#aa91241c8c54738377749dc47ee489e0d">MDString::get</a>(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>, <span class="stringliteral">&quot;llvm.loop.interleave.count&quot;</span>);</div>
<div class="line"><a name="l04854"></a><span class="lineno"> 4854</span>&#160; </div>
<div class="line"><a name="l04855"></a><span class="lineno"> 4855</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#aa91241c8c54738377749dc47ee489e0d">MDString::get</a>(</div>
<div class="line"><a name="l04856"></a><span class="lineno"> 4856</span>&#160;      <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>, (<a class="code" href="classllvm_1_1Twine.html">Twine</a>(<span class="stringliteral">&quot;llvm.loop.vectorize.&quot;</span>) + OldTag.<a class="code" href="classllvm_1_1StringRef.html#a3fb2867a1e9fa36e135d9ee4dffb0167">drop_front</a>(OldPrefix.<a class="code" href="classllvm_1_1StringRef.html#a5db9240c74644c67759dd0f901fc3c7d">size</a>()))</div>
<div class="line"><a name="l04857"></a><span class="lineno"> 4857</span>&#160;             .str());</div>
<div class="line"><a name="l04858"></a><span class="lineno"> 4858</span>&#160;}</div>
<div class="line"><a name="l04859"></a><span class="lineno"> 4859</span>&#160; </div>
<div class="line"><a name="l04860"></a><span class="lineno"><a class="line" href="AutoUpgrade_8cpp.html#ae97df9129273b982b5178a522d8e8179"> 4860</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1Metadata.html">Metadata</a> *<a class="code" href="AutoUpgrade_8cpp.html#ae97df9129273b982b5178a522d8e8179">upgradeLoopArgument</a>(<a class="code" href="classllvm_1_1Metadata.html">Metadata</a> *MD) {</div>
<div class="line"><a name="l04861"></a><span class="lineno"> 4861</span>&#160;  <span class="keyword">auto</span> *<a class="code" href="classT.html">T</a> = dyn_cast_or_null&lt;MDTuple&gt;(MD);</div>
<div class="line"><a name="l04862"></a><span class="lineno"> 4862</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classT.html">T</a>)</div>
<div class="line"><a name="l04863"></a><span class="lineno"> 4863</span>&#160;    <span class="keywordflow">return</span> MD;</div>
<div class="line"><a name="l04864"></a><span class="lineno"> 4864</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classT.html">T</a>-&gt;getNumOperands() &lt; 1)</div>
<div class="line"><a name="l04865"></a><span class="lineno"> 4865</span>&#160;    <span class="keywordflow">return</span> MD;</div>
<div class="line"><a name="l04866"></a><span class="lineno"> 4866</span>&#160;  <span class="keyword">auto</span> *OldTag = dyn_cast_or_null&lt;MDString&gt;(<a class="code" href="classT.html">T</a>-&gt;getOperand(0));</div>
<div class="line"><a name="l04867"></a><span class="lineno"> 4867</span>&#160;  <span class="keywordflow">if</span> (!OldTag)</div>
<div class="line"><a name="l04868"></a><span class="lineno"> 4868</span>&#160;    <span class="keywordflow">return</span> MD;</div>
<div class="line"><a name="l04869"></a><span class="lineno"> 4869</span>&#160;  <span class="keywordflow">if</span> (!OldTag-&gt;getString().startswith(<span class="stringliteral">&quot;llvm.vectorizer.&quot;</span>))</div>
<div class="line"><a name="l04870"></a><span class="lineno"> 4870</span>&#160;    <span class="keywordflow">return</span> MD;</div>
<div class="line"><a name="l04871"></a><span class="lineno"> 4871</span>&#160; </div>
<div class="line"><a name="l04872"></a><span class="lineno"> 4872</span>&#160;  <span class="comment">// This has an old tag.  Upgrade it.</span></div>
<div class="line"><a name="l04873"></a><span class="lineno"> 4873</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Metadata *, 8&gt;</a> Ops;</div>
<div class="line"><a name="l04874"></a><span class="lineno"> 4874</span>&#160;  Ops.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a499ea32ca1b8d16cedfe01d1e5b08f29">reserve</a>(<a class="code" href="classT.html">T</a>-&gt;getNumOperands());</div>
<div class="line"><a name="l04875"></a><span class="lineno"> 4875</span>&#160;  Ops.push_back(<a class="code" href="AutoUpgrade_8cpp.html#ac51e32c0b3527179cca0f630b1129278">upgradeLoopTag</a>(<a class="code" href="classT.html">T</a>-&gt;getContext(), OldTag-&gt;getString()));</div>
<div class="line"><a name="l04876"></a><span class="lineno"> 4876</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 1, <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = <a class="code" href="classT.html">T</a>-&gt;getNumOperands(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</div>
<div class="line"><a name="l04877"></a><span class="lineno"> 4877</span>&#160;    Ops.push_back(<a class="code" href="classT.html">T</a>-&gt;getOperand(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>));</div>
<div class="line"><a name="l04878"></a><span class="lineno"> 4878</span>&#160; </div>
<div class="line"><a name="l04879"></a><span class="lineno"> 4879</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#aa91241c8c54738377749dc47ee489e0d">MDTuple::get</a>(<a class="code" href="classT.html">T</a>-&gt;getContext(), Ops);</div>
<div class="line"><a name="l04880"></a><span class="lineno"> 4880</span>&#160;}</div>
<div class="line"><a name="l04881"></a><span class="lineno"> 4881</span>&#160; </div>
<div class="line"><a name="l04882"></a><span class="lineno"><a class="line" href="namespacellvm.html#a331b2acd066a224f2e98163aee07bf96"> 4882</a></span>&#160;<a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *<a class="code" href="namespacellvm.html#a331b2acd066a224f2e98163aee07bf96">llvm::upgradeInstructionLoopAttachment</a>(<a class="code" href="classllvm_1_1MDNode.html">MDNode</a> &amp;<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>) {</div>
<div class="line"><a name="l04883"></a><span class="lineno"> 4883</span>&#160;  <span class="keyword">auto</span> *<a class="code" href="classT.html">T</a> = dyn_cast&lt;MDTuple&gt;(&amp;<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l04884"></a><span class="lineno"> 4884</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classT.html">T</a>)</div>
<div class="line"><a name="l04885"></a><span class="lineno"> 4885</span>&#160;    <span class="keywordflow">return</span> &amp;<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>;</div>
<div class="line"><a name="l04886"></a><span class="lineno"> 4886</span>&#160; </div>
<div class="line"><a name="l04887"></a><span class="lineno"> 4887</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a7dc3069afa2ce5ea62ac2eb183e51c00">none_of</a>(<a class="code" href="classT.html">T</a>-&gt;operands(), <a class="code" href="AutoUpgrade_8cpp.html#a906a7515b5e0d0eae63408ba09662ec3">isOldLoopArgument</a>))</div>
<div class="line"><a name="l04888"></a><span class="lineno"> 4888</span>&#160;    <span class="keywordflow">return</span> &amp;<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>;</div>
<div class="line"><a name="l04889"></a><span class="lineno"> 4889</span>&#160; </div>
<div class="line"><a name="l04890"></a><span class="lineno"> 4890</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Metadata *, 8&gt;</a> Ops;</div>
<div class="line"><a name="l04891"></a><span class="lineno"> 4891</span>&#160;  Ops.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a499ea32ca1b8d16cedfe01d1e5b08f29">reserve</a>(<a class="code" href="classT.html">T</a>-&gt;getNumOperands());</div>
<div class="line"><a name="l04892"></a><span class="lineno"> 4892</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Metadata.html">Metadata</a> *MD : <a class="code" href="classT.html">T</a>-&gt;operands())</div>
<div class="line"><a name="l04893"></a><span class="lineno"> 4893</span>&#160;    Ops.push_back(<a class="code" href="AutoUpgrade_8cpp.html#ae97df9129273b982b5178a522d8e8179">upgradeLoopArgument</a>(MD));</div>
<div class="line"><a name="l04894"></a><span class="lineno"> 4894</span>&#160; </div>
<div class="line"><a name="l04895"></a><span class="lineno"> 4895</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#aa91241c8c54738377749dc47ee489e0d">MDTuple::get</a>(<a class="code" href="classT.html">T</a>-&gt;getContext(), Ops);</div>
<div class="line"><a name="l04896"></a><span class="lineno"> 4896</span>&#160;}</div>
<div class="line"><a name="l04897"></a><span class="lineno"> 4897</span>&#160; </div>
<div class="line"><a name="l04898"></a><span class="lineno"><a class="line" href="namespacellvm.html#a7d22c115f5634f10ef137c93c762ebca"> 4898</a></span>&#160;std::string <a class="code" href="namespacellvm.html#a7d22c115f5634f10ef137c93c762ebca">llvm::UpgradeDataLayoutString</a>(<a class="code" href="classllvm_1_1StringRef.html">StringRef</a> <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> TT) {</div>
<div class="line"><a name="l04899"></a><span class="lineno"> 4899</span>&#160;  <a class="code" href="classllvm_1_1Triple.html">Triple</a> <a class="code" href="Mips16ISelLowering_8cpp.html#a0acb682b8260ab1c60b918599864e2e5">T</a>(TT);</div>
<div class="line"><a name="l04900"></a><span class="lineno"> 4900</span>&#160;  <span class="comment">// For AMDGPU we uprgrade older DataLayouts to include the default globals</span></div>
<div class="line"><a name="l04901"></a><span class="lineno"> 4901</span>&#160;  <span class="comment">// address space of 1.</span></div>
<div class="line"><a name="l04902"></a><span class="lineno"> 4902</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classT.html">T</a>.isAMDGPU() &amp;&amp; !<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>.contains(<span class="stringliteral">&quot;-G&quot;</span>) &amp;&amp; !<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>.startswith(<span class="stringliteral">&quot;G&quot;</span>)) {</div>
<div class="line"><a name="l04903"></a><span class="lineno"> 4903</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a095ce2d870dadf620a4c887ecc0efef8">empty</a>() ? std::string(<span class="stringliteral">&quot;G1&quot;</span>) : (<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a> + <span class="stringliteral">&quot;-G1&quot;</span>).str();</div>
<div class="line"><a name="l04904"></a><span class="lineno"> 4904</span>&#160;  }</div>
<div class="line"><a name="l04905"></a><span class="lineno"> 4905</span>&#160; </div>
<div class="line"><a name="l04906"></a><span class="lineno"> 4906</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classT.html">T</a>.isRISCV64()) {</div>
<div class="line"><a name="l04907"></a><span class="lineno"> 4907</span>&#160;    <span class="comment">// Make i32 a native type for 64-bit RISC-V.</span></div>
<div class="line"><a name="l04908"></a><span class="lineno"> 4908</span>&#160;    <span class="keyword">auto</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>.find(<span class="stringliteral">&quot;-n64-&quot;</span>);</div>
<div class="line"><a name="l04909"></a><span class="lineno"> 4909</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != StringRef::npos)</div>
<div class="line"><a name="l04910"></a><span class="lineno"> 4910</span>&#160;      <span class="keywordflow">return</span> (<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>.take_front(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) + <span class="stringliteral">&quot;-n32:64-&quot;</span> + <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>.drop_front(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> + 5)).str();</div>
<div class="line"><a name="l04911"></a><span class="lineno"> 4911</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>.str();</div>
<div class="line"><a name="l04912"></a><span class="lineno"> 4912</span>&#160;  }</div>
<div class="line"><a name="l04913"></a><span class="lineno"> 4913</span>&#160; </div>
<div class="line"><a name="l04914"></a><span class="lineno"> 4914</span>&#160;  std::string Res = <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>.str();</div>
<div class="line"><a name="l04915"></a><span class="lineno"> 4915</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classT.html">T</a>.isX86())</div>
<div class="line"><a name="l04916"></a><span class="lineno"> 4916</span>&#160;    <span class="keywordflow">return</span> Res;</div>
<div class="line"><a name="l04917"></a><span class="lineno"> 4917</span>&#160; </div>
<div class="line"><a name="l04918"></a><span class="lineno"> 4918</span>&#160;  <span class="comment">// If the datalayout matches the expected format, add pointer size address</span></div>
<div class="line"><a name="l04919"></a><span class="lineno"> 4919</span>&#160;  <span class="comment">// spaces to the datalayout.</span></div>
<div class="line"><a name="l04920"></a><span class="lineno"> 4920</span>&#160;  std::string AddrSpaces = <span class="stringliteral">&quot;-p270:32:32-p271:32:32-p272:64:64&quot;</span>;</div>
<div class="line"><a name="l04921"></a><span class="lineno"> 4921</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>.contains(AddrSpaces)) {</div>
<div class="line"><a name="l04922"></a><span class="lineno"> 4922</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;StringRef, 4&gt;</a> <a class="code" href="X86InstrFMA3Info_8cpp.html#ab138684de9096eb96683328900f78e48">Groups</a>;</div>
<div class="line"><a name="l04923"></a><span class="lineno"> 4923</span>&#160;    <a class="code" href="classllvm_1_1Regex.html">Regex</a> <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731">R</a>(<span class="stringliteral">&quot;(e-m:[a-z](-p:32:32)?)(-[if]64:.*$)&quot;</span>);</div>
<div class="line"><a name="l04924"></a><span class="lineno"> 4924</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731">R</a>.match(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, &amp;<a class="code" href="X86InstrFMA3Info_8cpp.html#ab138684de9096eb96683328900f78e48">Groups</a>))</div>
<div class="line"><a name="l04925"></a><span class="lineno"> 4925</span>&#160;      Res = (<a class="code" href="X86InstrFMA3Info_8cpp.html#ab138684de9096eb96683328900f78e48">Groups</a>[1] + AddrSpaces + <a class="code" href="X86InstrFMA3Info_8cpp.html#ab138684de9096eb96683328900f78e48">Groups</a>[3]).str();</div>
<div class="line"><a name="l04926"></a><span class="lineno"> 4926</span>&#160;  }</div>
<div class="line"><a name="l04927"></a><span class="lineno"> 4927</span>&#160; </div>
<div class="line"><a name="l04928"></a><span class="lineno"> 4928</span>&#160;  <span class="comment">// For 32-bit MSVC targets, raise the alignment of f80 values to 16 bytes.</span></div>
<div class="line"><a name="l04929"></a><span class="lineno"> 4929</span>&#160;  <span class="comment">// Raising the alignment is safe because Clang did not produce f80 values in</span></div>
<div class="line"><a name="l04930"></a><span class="lineno"> 4930</span>&#160;  <span class="comment">// the MSVC environment before this upgrade was added.</span></div>
<div class="line"><a name="l04931"></a><span class="lineno"> 4931</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classT.html">T</a>.isWindowsMSVCEnvironment() &amp;&amp; !<a class="code" href="classT.html">T</a>.isArch64Bit()) {</div>
<div class="line"><a name="l04932"></a><span class="lineno"> 4932</span>&#160;    <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> <a class="code" href="namespacellvm.html#a9db8c44b250b90e3ab7e4d144e7c9c2ea60baadb22e80b147e4885ad16760e569">Ref</a> = Res;</div>
<div class="line"><a name="l04933"></a><span class="lineno"> 4933</span>&#160;    <span class="keyword">auto</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = <a class="code" href="namespacellvm.html#a9db8c44b250b90e3ab7e4d144e7c9c2ea60baadb22e80b147e4885ad16760e569">Ref</a>.find(<span class="stringliteral">&quot;-f80:32-&quot;</span>);</div>
<div class="line"><a name="l04934"></a><span class="lineno"> 4934</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != StringRef::npos)</div>
<div class="line"><a name="l04935"></a><span class="lineno"> 4935</span>&#160;      Res = (<a class="code" href="namespacellvm.html#a9db8c44b250b90e3ab7e4d144e7c9c2ea60baadb22e80b147e4885ad16760e569">Ref</a>.take_front(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) + <span class="stringliteral">&quot;-f80:128-&quot;</span> + <a class="code" href="namespacellvm.html#a9db8c44b250b90e3ab7e4d144e7c9c2ea60baadb22e80b147e4885ad16760e569">Ref</a>.drop_front(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> + 8)).str();</div>
<div class="line"><a name="l04936"></a><span class="lineno"> 4936</span>&#160;  }</div>
<div class="line"><a name="l04937"></a><span class="lineno"> 4937</span>&#160; </div>
<div class="line"><a name="l04938"></a><span class="lineno"> 4938</span>&#160;  <span class="keywordflow">return</span> Res;</div>
<div class="line"><a name="l04939"></a><span class="lineno"> 4939</span>&#160;}</div>
<div class="line"><a name="l04940"></a><span class="lineno"> 4940</span>&#160; </div>
<div class="line"><a name="l04941"></a><span class="lineno"><a class="line" href="namespacellvm.html#a34c89c416395df723a937ace993f511a"> 4941</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacellvm.html#a34c89c416395df723a937ace993f511a">llvm::UpgradeAttributes</a>(<a class="code" href="classllvm_1_1AttrBuilder.html">AttrBuilder</a> &amp;<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>) {</div>
<div class="line"><a name="l04942"></a><span class="lineno"> 4942</span>&#160;  <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> FramePointer;</div>
<div class="line"><a name="l04943"></a><span class="lineno"> 4943</span>&#160;  <a class="code" href="classllvm_1_1Attribute.html">Attribute</a> <a class="code" href="README__ALTIVEC_8txt.html#a015846b6188ce15e08cd94c74a9df1a3">A</a> = <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>.getAttribute(<span class="stringliteral">&quot;no-frame-pointer-elim&quot;</span>);</div>
<div class="line"><a name="l04944"></a><span class="lineno"> 4944</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="README__ALTIVEC_8txt.html#a015846b6188ce15e08cd94c74a9df1a3">A</a>.isValid()) {</div>
<div class="line"><a name="l04945"></a><span class="lineno"> 4945</span>&#160;    <span class="comment">// The value can be &quot;true&quot; or &quot;false&quot;.</span></div>
<div class="line"><a name="l04946"></a><span class="lineno"> 4946</span>&#160;    FramePointer = <a class="code" href="README__ALTIVEC_8txt.html#a015846b6188ce15e08cd94c74a9df1a3">A</a>.getValueAsString() == <span class="stringliteral">&quot;true&quot;</span> ? <span class="stringliteral">&quot;all&quot;</span> : <span class="stringliteral">&quot;none&quot;</span>;</div>
<div class="line"><a name="l04947"></a><span class="lineno"> 4947</span>&#160;    <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>.removeAttribute(<span class="stringliteral">&quot;no-frame-pointer-elim&quot;</span>);</div>
<div class="line"><a name="l04948"></a><span class="lineno"> 4948</span>&#160;  }</div>
<div class="line"><a name="l04949"></a><span class="lineno"> 4949</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>.contains(<span class="stringliteral">&quot;no-frame-pointer-elim-non-leaf&quot;</span>)) {</div>
<div class="line"><a name="l04950"></a><span class="lineno"> 4950</span>&#160;    <span class="comment">// The value is ignored. &quot;no-frame-pointer-elim&quot;=&quot;true&quot; takes priority.</span></div>
<div class="line"><a name="l04951"></a><span class="lineno"> 4951</span>&#160;    <span class="keywordflow">if</span> (FramePointer != <span class="stringliteral">&quot;all&quot;</span>)</div>
<div class="line"><a name="l04952"></a><span class="lineno"> 4952</span>&#160;      FramePointer = <span class="stringliteral">&quot;non-leaf&quot;</span>;</div>
<div class="line"><a name="l04953"></a><span class="lineno"> 4953</span>&#160;    <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>.removeAttribute(<span class="stringliteral">&quot;no-frame-pointer-elim-non-leaf&quot;</span>);</div>
<div class="line"><a name="l04954"></a><span class="lineno"> 4954</span>&#160;  }</div>
<div class="line"><a name="l04955"></a><span class="lineno"> 4955</span>&#160;  <span class="keywordflow">if</span> (!FramePointer.<a class="code" href="classllvm_1_1StringRef.html#a2dc80c585ad5882da8cae7b5968f7e74">empty</a>())</div>
<div class="line"><a name="l04956"></a><span class="lineno"> 4956</span>&#160;    <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>.addAttribute(<span class="stringliteral">&quot;frame-pointer&quot;</span>, FramePointer);</div>
<div class="line"><a name="l04957"></a><span class="lineno"> 4957</span>&#160; </div>
<div class="line"><a name="l04958"></a><span class="lineno"> 4958</span>&#160;  <a class="code" href="README__ALTIVEC_8txt.html#a015846b6188ce15e08cd94c74a9df1a3">A</a> = <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>.getAttribute(<span class="stringliteral">&quot;null-pointer-is-valid&quot;</span>);</div>
<div class="line"><a name="l04959"></a><span class="lineno"> 4959</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="README__ALTIVEC_8txt.html#a015846b6188ce15e08cd94c74a9df1a3">A</a>.isValid()) {</div>
<div class="line"><a name="l04960"></a><span class="lineno"> 4960</span>&#160;    <span class="comment">// The value can be &quot;true&quot; or &quot;false&quot;.</span></div>
<div class="line"><a name="l04961"></a><span class="lineno"> 4961</span>&#160;    <span class="keywordtype">bool</span> NullPointerIsValid = <a class="code" href="README__ALTIVEC_8txt.html#a015846b6188ce15e08cd94c74a9df1a3">A</a>.getValueAsString() == <span class="stringliteral">&quot;true&quot;</span>;</div>
<div class="line"><a name="l04962"></a><span class="lineno"> 4962</span>&#160;    <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>.removeAttribute(<span class="stringliteral">&quot;null-pointer-is-valid&quot;</span>);</div>
<div class="line"><a name="l04963"></a><span class="lineno"> 4963</span>&#160;    <span class="keywordflow">if</span> (NullPointerIsValid)</div>
<div class="line"><a name="l04964"></a><span class="lineno"> 4964</span>&#160;      <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>.addAttribute(Attribute::NullPointerIsValid);</div>
<div class="line"><a name="l04965"></a><span class="lineno"> 4965</span>&#160;  }</div>
<div class="line"><a name="l04966"></a><span class="lineno"> 4966</span>&#160;}</div>
<div class="line"><a name="l04967"></a><span class="lineno"> 4967</span>&#160; </div>
<div class="line"><a name="l04968"></a><span class="lineno"><a class="line" href="namespacellvm.html#a4fcfc9df3719d7267a6a71bb8174d970"> 4968</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacellvm.html#a4fcfc9df3719d7267a6a71bb8174d970">llvm::UpgradeOperandBundles</a>(std::vector&lt;OperandBundleDef&gt; &amp;Bundles) {</div>
<div class="line"><a name="l04969"></a><span class="lineno"> 4969</span>&#160; </div>
<div class="line"><a name="l04970"></a><span class="lineno"> 4970</span>&#160;  <span class="comment">// clang.arc.attachedcall bundles are now required to have an operand.</span></div>
<div class="line"><a name="l04971"></a><span class="lineno"> 4971</span>&#160;  <span class="comment">// If they don&#39;t, it&#39;s okay to drop them entirely: when there is an operand,</span></div>
<div class="line"><a name="l04972"></a><span class="lineno"> 4972</span>&#160;  <span class="comment">// the &quot;attachedcall&quot; is meaningful and required, but without an operand,</span></div>
<div class="line"><a name="l04973"></a><span class="lineno"> 4973</span>&#160;  <span class="comment">// it&#39;s just a marker NOP.  Dropping it merely prevents an optimization.</span></div>
<div class="line"><a name="l04974"></a><span class="lineno"> 4974</span>&#160;  <a class="code" href="namespacellvm.html#ac9a7de5a04920954ac964059cfc428ad">erase_if</a>(Bundles, [&amp;](<a class="code" href="classllvm_1_1OperandBundleDefT.html">OperandBundleDef</a> &amp;OBD) {</div>
<div class="line"><a name="l04975"></a><span class="lineno"> 4975</span>&#160;    <span class="keywordflow">return</span> OBD.<a class="code" href="classllvm_1_1OperandBundleDefT.html#aafd670922cb0e577561bb2aec9677683">getTag</a>() == <span class="stringliteral">&quot;clang.arc.attachedcall&quot;</span> &amp;&amp;</div>
<div class="line"><a name="l04976"></a><span class="lineno"> 4976</span>&#160;           OBD.<a class="code" href="classllvm_1_1OperandBundleDefT.html#a6e0b6975a94fc062039122dc1058363b">inputs</a>().empty();</div>
<div class="line"><a name="l04977"></a><span class="lineno"> 4977</span>&#160;  });</div>
<div class="line"><a name="l04978"></a><span class="lineno"> 4978</span>&#160;}</div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="anamespacellvm_1_1Check_html_a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396"><div class="ttname"><a href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">llvm::Check::Size</a></div><div class="ttdeci">@ Size</div><div class="ttdef"><b>Definition:</b> <a href="FileCheck_8h_source.html#l00077">FileCheck.h:77</a></div></div>
<div class="ttc" id="aclassllvm_1_1StringSwitch_html_a2ae03c6da16f46a816d2cb1720603882"><div class="ttname"><a href="classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">llvm::StringSwitch::Case</a></div><div class="ttdeci">StringSwitch &amp; Case(StringLiteral S, T Value)</div><div class="ttdef"><b>Definition:</b> <a href="StringSwitch_8h_source.html#l00069">StringSwitch.h:69</a></div></div>
<div class="ttc" id="alib_2Target_2README_8txt_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">i</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2README_8txt_source.html#l00029">README.txt:29</a></div></div>
<div class="ttc" id="aAutoUpgrade_8cpp_html_a00c0cd34e371d18fb5133e081402564d"><div class="ttname"><a href="AutoUpgrade_8cpp.html#a00c0cd34e371d18fb5133e081402564d">UpgradeX86MaskedShift</a></div><div class="ttdeci">static Value * UpgradeX86MaskedShift(IRBuilder&lt;&gt; &amp;Builder, CallBase &amp;CI, Intrinsic::ID IID)</div><div class="ttdef"><b>Definition:</b> <a href="AutoUpgrade_8cpp_source.html#l01698">AutoUpgrade.cpp:1698</a></div></div>
<div class="ttc" id="aNVVMIntrRange_8cpp_html_abc8aecb5b627f6a91fc2fb09762d2a41"><div class="ttname"><a href="NVVMIntrRange_8cpp.html#abc8aecb5b627f6a91fc2fb09762d2a41">Int32Ty</a></div><div class="ttdeci">IntegerType * Int32Ty</div><div class="ttdef"><b>Definition:</b> <a href="NVVMIntrRange_8cpp_source.html#l00067">NVVMIntrRange.cpp:67</a></div></div>
<div class="ttc" id="anamespacellvm_html_a331b2acd066a224f2e98163aee07bf96"><div class="ttname"><a href="namespacellvm.html#a331b2acd066a224f2e98163aee07bf96">llvm::upgradeInstructionLoopAttachment</a></div><div class="ttdeci">MDNode * upgradeInstructionLoopAttachment(MDNode &amp;N)</div><div class="ttdoc">Upgrade the loop attachment metadata node.</div><div class="ttdef"><b>Definition:</b> <a href="AutoUpgrade_8cpp_source.html#l04882">AutoUpgrade.cpp:4882</a></div></div>
<div class="ttc" id="aAutoUpgrade_8cpp_html_a0f32cc86b7ef9e28dc19685e6b28b1d1"><div class="ttname"><a href="AutoUpgrade_8cpp.html#a0f32cc86b7ef9e28dc19685e6b28b1d1">UpgradePTESTIntrinsic</a></div><div class="ttdeci">static bool UpgradePTESTIntrinsic(Function *F, Intrinsic::ID IID, Function *&amp;NewFn)</div><div class="ttdef"><b>Definition:</b> <a href="AutoUpgrade_8cpp_source.html#l00042">AutoUpgrade.cpp:42</a></div></div>
<div class="ttc" id="anamespacellvm_html_a37ebeca7ea2d3fdb9b4d3d6c0fc801f5"><div class="ttname"><a href="namespacellvm.html#a37ebeca7ea2d3fdb9b4d3d6c0fc801f5">llvm::UpgradeCallsToIntrinsic</a></div><div class="ttdeci">void UpgradeCallsToIntrinsic(Function *F)</div><div class="ttdoc">This is an auto-upgrade hook for any old intrinsic function syntaxes which need to have both the func...</div><div class="ttdef"><b>Definition:</b> <a href="AutoUpgrade_8cpp_source.html#l04376">AutoUpgrade.cpp:4376</a></div></div>
<div class="ttc" id="aNVPTXISelLowering_8cpp_html_ae1a90b5d85643644483b2ca70da4d13faed3fa7a5efe80dad3ea3d86cc14be246"><div class="ttname"><a href="NVPTXISelLowering_8cpp.html#ae1a90b5d85643644483b2ca70da4d13faed3fa7a5efe80dad3ea3d86cc14be246">Signed</a></div><div class="ttdeci">@ Signed</div><div class="ttdef"><b>Definition:</b> <a href="NVPTXISelLowering_8cpp_source.html#l04884">NVPTXISelLowering.cpp:4884</a></div></div>
<div class="ttc" id="aclassllvm_1_1StringSwitch_html_adcca0c9d8e5e7fab87046096d4f89d47"><div class="ttname"><a href="classllvm_1_1StringSwitch.html#adcca0c9d8e5e7fab87046096d4f89d47">llvm::StringSwitch::StartsWith</a></div><div class="ttdeci">StringSwitch &amp; StartsWith(StringLiteral S, T Value)</div><div class="ttdef"><b>Definition:</b> <a href="StringSwitch_8h_source.html#l00083">StringSwitch.h:83</a></div></div>
<div class="ttc" id="aclassllvm_1_1OperandBundleDefT_html_a6e0b6975a94fc062039122dc1058363b"><div class="ttname"><a href="classllvm_1_1OperandBundleDefT.html#a6e0b6975a94fc062039122dc1058363b">llvm::OperandBundleDefT::inputs</a></div><div class="ttdeci">ArrayRef&lt; InputTy &gt; inputs() const</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l01152">InstrTypes.h:1152</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalableVectorType_html"><div class="ttname"><a href="classllvm_1_1ScalableVectorType.html">llvm::ScalableVectorType</a></div><div class="ttdoc">Class to represent scalable SIMD vectors.</div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00572">DerivedTypes.h:572</a></div></div>
<div class="ttc" id="anamespacellvm_html_a9b2f025559a0b80366b74285cf25c01e"><div class="ttname"><a href="namespacellvm.html#a9b2f025559a0b80366b74285cf25c01e">llvm::StripDebugInfo</a></div><div class="ttdeci">bool StripDebugInfo(Module &amp;M)</div><div class="ttdoc">Strip debug info in the module if it exists.</div><div class="ttdef"><b>Definition:</b> <a href="DebugInfo_8cpp_source.html#l00557">DebugInfo.cpp:557</a></div></div>
<div class="ttc" id="anamespacellvm_html"><div class="ttname"><a href="namespacellvm.html">llvm</a></div><div class="ttdoc">This is an optimization pass for GlobalISel generic memory operations.</div><div class="ttdef"><b>Definition:</b> <a href="AddressRanges_8h_source.html#l00018">AddressRanges.h:18</a></div></div>
<div class="ttc" id="anamespacellvm_html_a2abe514fb0b09ac996c305db8ceee5d0"><div class="ttname"><a href="namespacellvm.html#a2abe514fb0b09ac996c305db8ceee5d0">llvm::UpgradeIntrinsicFunction</a></div><div class="ttdeci">bool UpgradeIntrinsicFunction(Function *F, Function *&amp;NewFn)</div><div class="ttdoc">This is a more granular function that simply checks an intrinsic function for upgrading,...</div><div class="ttdef"><b>Definition:</b> <a href="AutoUpgrade_8cpp_source.html#l01175">AutoUpgrade.cpp:1175</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_aa75984a442f2379de0c66018201fa628"><div class="ttname"><a href="classllvm_1_1Type.html#aa75984a442f2379de0c66018201fa628">llvm::Type::getInt1Ty</a></div><div class="ttdeci">static IntegerType * getInt1Ty(LLVMContext &amp;C)</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00238">Type.cpp:238</a></div></div>
<div class="ttc" id="alib_2Target_2X86_2README_8txt_html_ac88fe1d3a61b056a4f64fbbb156a62ff"><div class="ttname"><a href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a></div><div class="ttdeci">We currently emits eax Perhaps this is what we really should generate is Is imull three or four cycles eax eax The current instruction priority is based on pattern complexity The former is more complex because it folds a load so the latter will not be emitted Perhaps we should use AddedComplexity to give LEA32r a higher priority We should always try to match LEA first since the LEA matching code does some estimate to determine whether the match is profitable if we care more about code then imull is better It s two bytes shorter than movl leal On a Pentium M</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2X86_2README_8txt_source.html#l00252">README.txt:252</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html_a4ba3a5be6c0e9b9e8a525de055836733"><div class="ttname"><a href="classllvm_1_1Instruction.html#a4ba3a5be6c0e9b9e8a525de055836733">llvm::Instruction::getModule</a></div><div class="ttdeci">const Module * getModule() const</div><div class="ttdoc">Return the module owning the function this instruction belongs to or nullptr it the function does not...</div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8cpp_source.html#l00070">Instruction.cpp:70</a></div></div>
<div class="ttc" id="anamespacellvm_html_a7dc3069afa2ce5ea62ac2eb183e51c00"><div class="ttname"><a href="namespacellvm.html#a7dc3069afa2ce5ea62ac2eb183e51c00">llvm::none_of</a></div><div class="ttdeci">bool none_of(R &amp;&amp;Range, UnaryPredicate P)</div><div class="ttdoc">Provide wrappers to std::none_of which take ranges instead of having to pass begin/end explicitly.</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l01749">STLExtras.h:1749</a></div></div>
<div class="ttc" id="aclassllvm_1_1NamedMDNode_html"><div class="ttname"><a href="classllvm_1_1NamedMDNode.html">llvm::NamedMDNode</a></div><div class="ttdoc">A tuple of MDNodes.</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l01587">Metadata.h:1587</a></div></div>
<div class="ttc" id="anamespacellvm_1_1lltok_html_af353621f14cb4b4b3af5ffaff84076b1a3766a4dce43f4efc7208a749cc7ac605"><div class="ttname"><a href="namespacellvm_1_1lltok.html#af353621f14cb4b4b3af5ffaff84076b1a3766a4dce43f4efc7208a749cc7ac605">llvm::lltok::Error</a></div><div class="ttdeci">@ Error</div><div class="ttdef"><b>Definition:</b> <a href="LLToken_8h_source.html#l00021">LLToken.h:21</a></div></div>
<div class="ttc" id="anamespacellvm_html_a5352cd5bd63b8038b094b324190f3a8a"><div class="ttname"><a href="namespacellvm.html#a5352cd5bd63b8038b094b324190f3a8a">llvm::UpgradeBitCastExpr</a></div><div class="ttdeci">Constant * UpgradeBitCastExpr(unsigned Opc, Constant *C, Type *DestTy)</div><div class="ttdoc">This is an auto-upgrade for bitcast constant expression between pointers with different address space...</div><div class="ttdef"><b>Definition:</b> <a href="AutoUpgrade_8cpp_source.html#l04438">AutoUpgrade.cpp:4438</a></div></div>
<div class="ttc" id="aclassllvm_1_1StructType_html_a18fc4545474c6ebb6f7c547f64f4fb31"><div class="ttname"><a href="classllvm_1_1StructType.html#a18fc4545474c6ebb6f7c547f64f4fb31">llvm::StructType::get</a></div><div class="ttdeci">static StructType * get(LLVMContext &amp;Context, ArrayRef&lt; Type * &gt; Elements, bool isPacked=false)</div><div class="ttdoc">This static method is the primary way to create a literal StructType.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00408">Type.cpp:408</a></div></div>
<div class="ttc" id="aclassllvm_1_1NamedMDNode_html_acde8007e0e69969423e2de52343b702f"><div class="ttname"><a href="classllvm_1_1NamedMDNode.html#acde8007e0e69969423e2de52343b702f">llvm::NamedMDNode::getNumOperands</a></div><div class="ttdeci">unsigned getNumOperands() const</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8cpp_source.html#l01211">Metadata.cpp:1211</a></div></div>
<div class="ttc" id="aclassllvm_1_1CmpInst_html_a2be3583dac92a031fa1458d4d992c78b"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">llvm::CmpInst::Predicate</a></div><div class="ttdeci">Predicate</div><div class="ttdoc">This enumeration lists the possible predicates for CmpInst subclasses.</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00718">InstrTypes.h:718</a></div></div>
<div class="ttc" id="anamespacellvm_html_ad3c29183c5faa7f5a352807af8aca268"><div class="ttname"><a href="namespacellvm.html#ad3c29183c5faa7f5a352807af8aca268">llvm::UpgradeDebugInfo</a></div><div class="ttdeci">bool UpgradeDebugInfo(Module &amp;M)</div><div class="ttdoc">Check the debug info version number, if it is out-dated, drop the debug info.</div><div class="ttdef"><b>Definition:</b> <a href="AutoUpgrade_8cpp_source.html#l04460">AutoUpgrade.cpp:4460</a></div></div>
<div class="ttc" id="aIntrinsicInst_8h_html"><div class="ttname"><a href="IntrinsicInst_8h.html">IntrinsicInst.h</a></div></div>
<div class="ttc" id="aAutoUpgrade_8cpp_html_ab9b8f71727ce7537929fb2c0901afe2e"><div class="ttname"><a href="AutoUpgrade_8cpp.html#ab9b8f71727ce7537929fb2c0901afe2e">UpgradeX86BinaryIntrinsics</a></div><div class="ttdeci">static Value * UpgradeX86BinaryIntrinsics(IRBuilder&lt;&gt; &amp;Builder, CallBase &amp;CI, Intrinsic::ID IID)</div><div class="ttdef"><b>Definition:</b> <a href="AutoUpgrade_8cpp_source.html#l01442">AutoUpgrade.cpp:1442</a></div></div>
<div class="ttc" id="aclassllvm_1_1ElementCount_html"><div class="ttname"><a href="classllvm_1_1ElementCount.html">llvm::ElementCount</a></div><div class="ttdef"><b>Definition:</b> <a href="TypeSize_8h_source.html#l00279">TypeSize.h:279</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html_a3547d58a060ee2e4a29cbea85bef91af"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#a3547d58a060ee2e4a29cbea85bef91af">llvm::GlobalValue::getLinkage</a></div><div class="ttdeci">LinkageTypes getLinkage() const</div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00541">GlobalValue.h:541</a></div></div>
<div class="ttc" id="aclassT_html"><div class="ttname"><a href="classT.html">T</a></div></div>
<div class="ttc" id="aclassllvm_1_1Function_html"><div class="ttname"><a href="classllvm_1_1Function.html">llvm::Function</a></div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00059">Function.h:59</a></div></div>
<div class="ttc" id="aclassllvm_1_1Attribute_html"><div class="ttname"><a href="classllvm_1_1Attribute.html">llvm::Attribute</a></div><div class="ttdef"><b>Definition:</b> <a href="Attributes_8h_source.html#l00067">Attributes.h:67</a></div></div>
<div class="ttc" id="aAutoUpgrade_8cpp_html_a145400e704b87735b32fb17acd06aa55"><div class="ttname"><a href="AutoUpgrade_8cpp.html#a145400e704b87735b32fb17acd06aa55">upgradeX86vpcom</a></div><div class="ttdeci">static Value * upgradeX86vpcom(IRBuilder&lt;&gt; &amp;Builder, CallBase &amp;CI, unsigned Imm, bool IsSigned)</div><div class="ttdef"><b>Definition:</b> <a href="AutoUpgrade_8cpp_source.html#l01485">AutoUpgrade.cpp:1485</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallBase_html_aee56a5257c4899bf97c5957d87a732e3"><div class="ttname"><a href="classllvm_1_1CallBase.html#aee56a5257c4899bf97c5957d87a732e3">llvm::CallBase::setCalledFunction</a></div><div class="ttdeci">void setCalledFunction(Function *Fn)</div><div class="ttdoc">Sets the function called, including updating the function type.</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l01445">InstrTypes.h:1445</a></div></div>
<div class="ttc" id="alib_2Target_2README_8txt_html_a2a2df5a25b9c703e74e82b48a75d0c3d"><div class="ttname"><a href="lib_2Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a></div><div class="ttdeci">instcombine should handle this C2 when C1</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2README_8txt_source.html#l00263">README.txt:263</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_a4abb39a66573f61fda80469faa5d861d"><div class="ttname"><a href="classllvm_1_1Type.html#a4abb39a66573f61fda80469faa5d861d">llvm::Type::getScalarType</a></div><div class="ttdeci">Type * getScalarType() const</div><div class="ttdoc">If this is a vector type, return the element type, otherwise return 'this'.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00341">Type.h:341</a></div></div>
<div class="ttc" id="aclassllvm_1_1Function_html_a8969dec86d24dd579f8ecc963e1dc8b4"><div class="ttname"><a href="classllvm_1_1Function.html#a8969dec86d24dd579f8ecc963e1dc8b4">llvm::Function::eraseFromParent</a></div><div class="ttdeci">void eraseFromParent()</div><div class="ttdoc">eraseFromParent - This method unlinks 'this' from the containing module and deletes it.</div><div class="ttdef"><b>Definition:</b> <a href="Function_8cpp_source.html#l00362">Function.cpp:362</a></div></div>
<div class="ttc" id="aNVVMIntrRange_8cpp_html_a7df34dbf636f2fbbb00f2b86eccdb1eb"><div class="ttname"><a href="NVVMIntrRange_8cpp.html#a7df34dbf636f2fbbb00f2b86eccdb1eb">High</a></div><div class="ttdeci">uint64_t High</div><div class="ttdef"><b>Definition:</b> <a href="NVVMIntrRange_8cpp_source.html#l00061">NVVMIntrRange.cpp:61</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVector_html"><div class="ttname"><a href="classllvm_1_1SmallVector.html">llvm::SmallVector</a></div><div class="ttdoc">This is a 'vector' (really, a variable-sized array), optimized for the case when the array is small.</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l01199">SmallVector.h:1199</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallInst_html_a68573712cd73746e416002907c9af79b"><div class="ttname"><a href="classllvm_1_1CallInst.html#a68573712cd73746e416002907c9af79b">llvm::CallInst::setTailCallKind</a></div><div class="ttdeci">void setTailCallKind(TailCallKind TCK)</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01686">Instructions.h:1686</a></div></div>
<div class="ttc" id="aNVPTXLowerArgs_8cpp_html_a4d6da696b3c753c5e5fbcc4d21d4cb71"><div class="ttname"><a href="NVPTXLowerArgs_8cpp.html#a4d6da696b3c753c5e5fbcc4d21d4cb71">args</a></div><div class="ttdeci">nvptx lower args</div><div class="ttdef"><b>Definition:</b> <a href="NVPTXLowerArgs_8cpp_source.html#l00146">NVPTXLowerArgs.cpp:146</a></div></div>
<div class="ttc" id="aAutoUpgrade_8cpp_html_afd7206e4af4e3dad368b1501e9404a15"><div class="ttname"><a href="AutoUpgrade_8cpp.html#afd7206e4af4e3dad368b1501e9404a15">UpgradeX86VPERMT2Intrinsics</a></div><div class="ttdeci">static Value * UpgradeX86VPERMT2Intrinsics(IRBuilder&lt;&gt; &amp;Builder, CallBase &amp;CI, bool ZeroMask, bool IndexForm)</div><div class="ttdef"><b>Definition:</b> <a href="AutoUpgrade_8cpp_source.html#l01381">AutoUpgrade.cpp:1381</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_ad9d88ae321b98d8a3b7f394977ae6d7f"><div class="ttname"><a href="classllvm_1_1Value.html#ad9d88ae321b98d8a3b7f394977ae6d7f">llvm::Value::hasName</a></div><div class="ttdeci">bool hasName() const</div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00261">Value.h:261</a></div></div>
<div class="ttc" id="aSupport_2ErrorHandling_8h_html"><div class="ttname"><a href="Support_2ErrorHandling_8h.html">ErrorHandling.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_a5ab2d0b0f0b8ceec3b907184e7567197"><div class="ttname"><a href="classllvm_1_1Type.html#a5ab2d0b0f0b8ceec3b907184e7567197">llvm::Type::getPointerAddressSpace</a></div><div class="ttdeci">unsigned getPointerAddressSpace() const</div><div class="ttdoc">Get the address space of this pointer or pointer vector type.</div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00729">DerivedTypes.h:729</a></div></div>
<div class="ttc" id="anamespacellvm_1_1Intrinsic_html_a7157f9fa9dd11f234ec3c58517cb6d96"><div class="ttname"><a href="namespacellvm_1_1Intrinsic.html#a7157f9fa9dd11f234ec3c58517cb6d96">llvm::Intrinsic::getName</a></div><div class="ttdeci">StringRef getName(ID id)</div><div class="ttdoc">Return the LLVM name for an intrinsic, such as &quot;llvm.ppc.altivec.lvx&quot;.</div><div class="ttdef"><b>Definition:</b> <a href="Function_8cpp_source.html#l00975">Function.cpp:975</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRBuilder_html"><div class="ttname"><a href="classllvm_1_1IRBuilder.html">llvm::IRBuilder&lt;&gt;</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalVariable_html"><div class="ttname"><a href="classllvm_1_1GlobalVariable.html">llvm::GlobalVariable</a></div><div class="ttdef"><b>Definition:</b> <a href="GlobalVariable_8h_source.html#l00039">GlobalVariable.h:39</a></div></div>
<div class="ttc" id="anamespacellvm_html_ac9a7de5a04920954ac964059cfc428ad"><div class="ttname"><a href="namespacellvm.html#ac9a7de5a04920954ac964059cfc428ad">llvm::erase_if</a></div><div class="ttdeci">void erase_if(Container &amp;C, UnaryPredicate P)</div><div class="ttdoc">Provide a container algorithm similar to C++ Library Fundamentals v2's erase_if which is equivalent t...</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l01998">STLExtras.h:1998</a></div></div>
<div class="ttc" id="aclassllvm_1_1FunctionType_html_a7e89b55242c964ae61b7850e99cacef0"><div class="ttname"><a href="classllvm_1_1FunctionType.html#a7e89b55242c964ae61b7850e99cacef0">llvm::FunctionType::get</a></div><div class="ttdeci">static FunctionType * get(Type *Result, ArrayRef&lt; Type * &gt; Params, bool isVarArg)</div><div class="ttdoc">This static method is the primary way of constructing a FunctionType.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00363">Type.cpp:363</a></div></div>
<div class="ttc" id="aclassllvm_1_1InstVisitor_html_a22ae80c2045ac48274ba65b1d91d89e7"><div class="ttname"><a href="classllvm_1_1InstVisitor.html#a22ae80c2045ac48274ba65b1d91d89e7">llvm::InstVisitor::visitCallBase</a></div><div class="ttdeci">RetTy visitCallBase(CallBase &amp;I)</div><div class="ttdef"><b>Definition:</b> <a href="InstVisitor_8h_source.html#l00267">InstVisitor.h:267</a></div></div>
<div class="ttc" id="aclassllvm_1_1Triple_html"><div class="ttname"><a href="classllvm_1_1Triple.html">llvm::Triple</a></div><div class="ttdoc">Triple - Helper class for working with autoconf configuration names.</div><div class="ttdef"><b>Definition:</b> <a href="Triple_8h_source.html#l00044">Triple.h:44</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a293ca68b3b2ce80eef991de822822254"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a293ca68b3b2ce80eef991de822822254">llvm::ISD::FMA</a></div><div class="ttdeci">@ FMA</div><div class="ttdoc">FMA - Perform a * b + c with no intermediate rounding step.</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00482">ISDOpcodes.h:482</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_ad0709baa705ae62c4e09cdd47fb4b420"><div class="ttname"><a href="classllvm_1_1Type.html#ad0709baa705ae62c4e09cdd47fb4b420">llvm::Type::isFPOrFPVectorTy</a></div><div class="ttdeci">bool isFPOrFPVectorTy() const</div><div class="ttdoc">Return true if this is a FP type or a vector of FP.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00210">Type.h:210</a></div></div>
<div class="ttc" id="aAutoUpgrade_8cpp_html_a3df76924c826200f06bd78ceb7191a4d"><div class="ttname"><a href="AutoUpgrade_8cpp.html#a3df76924c826200f06bd78ceb7191a4d">UpgradeIntrinsicFunction1</a></div><div class="ttdeci">static bool UpgradeIntrinsicFunction1(Function *F, Function *&amp;NewFn)</div><div class="ttdef"><b>Definition:</b> <a href="AutoUpgrade_8cpp_source.html#l00581">AutoUpgrade.cpp:581</a></div></div>
<div class="ttc" id="aclassllvm_1_1NamedMDNode_html_a543df3cb1eda9d491a7822ef4216e3b1"><div class="ttname"><a href="classllvm_1_1NamedMDNode.html#a543df3cb1eda9d491a7822ef4216e3b1">llvm::NamedMDNode::setOperand</a></div><div class="ttdeci">void setOperand(unsigned I, MDNode *New)</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8cpp_source.html#l01223">Metadata.cpp:1223</a></div></div>
<div class="ttc" id="alib_2Target_2README_8txt_html_a8db36c82f32d6f6a4d35a00e55be03a8"><div class="ttname"><a href="lib_2Target_2README_8txt.html#a8db36c82f32d6f6a4d35a00e55be03a8">Shift</a></div><div class="ttdeci">bool Shift</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2README_8txt_source.html#l00468">README.txt:468</a></div></div>
<div class="ttc" id="aAutoUpgrade_8cpp_html_a145a85533c28374b3be83c6d3ba6be4e"><div class="ttname"><a href="AutoUpgrade_8cpp.html#a145a85533c28374b3be83c6d3ba6be4e">UpgradeMaskToInt</a></div><div class="ttdeci">static Value * UpgradeMaskToInt(IRBuilder&lt;&gt; &amp;Builder, CallBase &amp;CI)</div><div class="ttdef"><b>Definition:</b> <a href="AutoUpgrade_8cpp_source.html#l01721">AutoUpgrade.cpp:1721</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html"><div class="ttname"><a href="classllvm_1_1Type.html">llvm::Type</a></div><div class="ttdoc">The instances of the Type class are immutable: once they are created, they are never changed.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00045">Type.h:45</a></div></div>
<div class="ttc" id="aModule_8h_html"><div class="ttname"><a href="Module_8h.html">Module.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1AttributeList_html"><div class="ttname"><a href="classllvm_1_1AttributeList.html">llvm::AttributeList</a></div><div class="ttdef"><b>Definition:</b> <a href="Attributes_8h_source.html#l00432">Attributes.h:432</a></div></div>
<div class="ttc" id="aX86InstrFMA3Info_8cpp_html_ab138684de9096eb96683328900f78e48"><div class="ttname"><a href="X86InstrFMA3Info_8cpp.html#ab138684de9096eb96683328900f78e48">Groups</a></div><div class="ttdeci">static const X86InstrFMA3Group Groups[]</div><div class="ttdef"><b>Definition:</b> <a href="X86InstrFMA3Info_8cpp_source.html#l00073">X86InstrFMA3Info.cpp:73</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallBase_html_ae0c55761fce39dd71617690b04385193"><div class="ttname"><a href="classllvm_1_1CallBase.html#ae0c55761fce39dd71617690b04385193">llvm::CallBase::getAttributes</a></div><div class="ttdeci">AttributeList getAttributes() const</div><div class="ttdoc">Return the parameter attributes for this call.</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l01484">InstrTypes.h:1484</a></div></div>
<div class="ttc" id="aclassllvm_1_1OperandBundleDefT_html"><div class="ttname"><a href="classllvm_1_1OperandBundleDefT.html">llvm::OperandBundleDefT</a></div><div class="ttdoc">A container for an operand bundle being viewed as a set of values rather than a set of uses.</div><div class="ttdef"><b>Definition:</b> <a href="AutoUpgrade_8h_source.html#l00032">AutoUpgrade.h:32</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallBase_html_a5e4a09f80c7cd5283dbbc7256d122d12"><div class="ttname"><a href="classllvm_1_1CallBase.html#a5e4a09f80c7cd5283dbbc7256d122d12">llvm::CallBase::getFunctionType</a></div><div class="ttdeci">FunctionType * getFunctionType() const</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l01264">InstrTypes.h:1264</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1VOPD_html_aaea90d62530ed55360573a3373c684a6"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1VOPD.html#aaea90d62530ed55360573a3373c684a6">llvm::AMDGPU::VOPD::Component</a></div><div class="ttdeci">Component</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUBaseInfo_8h_source.html#l00553">AMDGPUBaseInfo.h:553</a></div></div>
<div class="ttc" id="anamespacellvm_html_a4fcfc9df3719d7267a6a71bb8174d970"><div class="ttname"><a href="namespacellvm.html#a4fcfc9df3719d7267a6a71bb8174d970">llvm::UpgradeOperandBundles</a></div><div class="ttdeci">void UpgradeOperandBundles(std::vector&lt; OperandBundleDef &gt; &amp;OperandBundles)</div><div class="ttdoc">Upgrade operand bundles (without knowing about their user instruction).</div><div class="ttdef"><b>Definition:</b> <a href="AutoUpgrade_8cpp_source.html#l04968">AutoUpgrade.cpp:4968</a></div></div>
<div class="ttc" id="aclassllvm_1_1AttributeList_html_a1cf553641e8527095ae4c8ec88a2cd92"><div class="ttname"><a href="classllvm_1_1AttributeList.html#a1cf553641e8527095ae4c8ec88a2cd92">llvm::AttributeList::getFnAttrs</a></div><div class="ttdeci">AttributeSet getFnAttrs() const</div><div class="ttdoc">The function attributes are returned.</div><div class="ttdef"><b>Definition:</b> <a href="Attributes_8cpp_source.html#l01462">Attributes.cpp:1462</a></div></div>
<div class="ttc" id="aAutoUpgrade_8cpp_html_abdb3bd0d46fe91dd59fdb7ec81044d17"><div class="ttname"><a href="AutoUpgrade_8cpp.html#abdb3bd0d46fe91dd59fdb7ec81044d17">UpgradeX86PSRLDQIntrinsics</a></div><div class="ttdeci">static Value * UpgradeX86PSRLDQIntrinsics(IRBuilder&lt;&gt; &amp;Builder, Value *Op, unsigned Shift)</div><div class="ttdef"><b>Definition:</b> <a href="AutoUpgrade_8cpp_source.html#l01255">AutoUpgrade.cpp:1255</a></div></div>
<div class="ttc" id="aMips16ISelLowering_8cpp_html_a0acb682b8260ab1c60b918599864e2e5"><div class="ttname"><a href="Mips16ISelLowering_8cpp.html#a0acb682b8260ab1c60b918599864e2e5">T</a></div><div class="ttdeci">#define T</div><div class="ttdef"><b>Definition:</b> <a href="Mips16ISelLowering_8cpp_source.html#l00341">Mips16ISelLowering.cpp:341</a></div></div>
<div class="ttc" id="aELFObjHandler_8cpp_html_a250e66aa31a03567cc345ca1bc463b8c"><div class="ttname"><a href="ELFObjHandler_8cpp.html#a250e66aa31a03567cc345ca1bc463b8c">Offset</a></div><div class="ttdeci">uint64_t Offset</div><div class="ttdef"><b>Definition:</b> <a href="ELFObjHandler_8cpp_source.html#l00080">ELFObjHandler.cpp:80</a></div></div>
<div class="ttc" id="anamespacellvm_1_1Intrinsic_html_a89cda2218259523c41863fc1175d6907"><div class="ttname"><a href="namespacellvm_1_1Intrinsic.html#a89cda2218259523c41863fc1175d6907">llvm::Intrinsic::getAttributes</a></div><div class="ttdeci">AttributeList getAttributes(LLVMContext &amp;C, ID id)</div><div class="ttdoc">Return the attributes for an intrinsic.</div></div>
<div class="ttc" id="aAutoUpgrade_8cpp_html_a89c8f20d6d07b4eebc86a50d7e47ef57"><div class="ttname"><a href="AutoUpgrade_8cpp.html#a89c8f20d6d07b4eebc86a50d7e47ef57">upgradeAbs</a></div><div class="ttdeci">static Value * upgradeAbs(IRBuilder&lt;&gt; &amp;Builder, CallBase &amp;CI)</div><div class="ttdef"><b>Definition:</b> <a href="AutoUpgrade_8cpp_source.html#l01604">AutoUpgrade.cpp:1604</a></div></div>
<div class="ttc" id="aclassllvm_1_1VectorType_html_a12e23c3d619db313388fe11dc76eb23f"><div class="ttname"><a href="classllvm_1_1VectorType.html#a12e23c3d619db313388fe11dc76eb23f">llvm::VectorType::getElementType</a></div><div class="ttdeci">Type * getElementType() const</div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00422">DerivedTypes.h:422</a></div></div>
<div class="ttc" id="aAutoUpgrade_8cpp_html_a09d7ff4a54fa200f2eec3251645cadba"><div class="ttname"><a href="AutoUpgrade_8cpp.html#a09d7ff4a54fa200f2eec3251645cadba">upgradePMULDQ</a></div><div class="ttdeci">static Value * upgradePMULDQ(IRBuilder&lt;&gt; &amp;Builder, CallBase &amp;CI, bool IsSigned)</div><div class="ttdef"><b>Definition:</b> <a href="AutoUpgrade_8cpp_source.html#l01614">AutoUpgrade.cpp:1614</a></div></div>
<div class="ttc" id="anamespacellvm_html_ab4d4bc901fedd8857f647dcc2c0d71de"><div class="ttname"><a href="namespacellvm.html#ab4d4bc901fedd8857f647dcc2c0d71de">llvm::max</a></div><div class="ttdeci">Expected&lt; ExpressionValue &gt; max(const ExpressionValue &amp;Lhs, const ExpressionValue &amp;Rhs)</div><div class="ttdef"><b>Definition:</b> <a href="FileCheck_8cpp_source.html#l00337">FileCheck.cpp:337</a></div></div>
<div class="ttc" id="anamespacellvm_html_a9a7b5c68c90f85baaedaa854cc5002cc"><div class="ttname"><a href="namespacellvm.html#a9a7b5c68c90f85baaedaa854cc5002cc">llvm::errs</a></div><div class="ttdeci">raw_fd_ostream &amp; errs()</div><div class="ttdoc">This returns a reference to a raw_ostream for standard error.</div><div class="ttdef"><b>Definition:</b> <a href="raw__ostream_8cpp_source.html#l00899">raw_ostream.cpp:899</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html_aec6eaa1e49f48c178e0ab9c030b5971e"><div class="ttname"><a href="classllvm_1_1Instruction.html#aec6eaa1e49f48c178e0ab9c030b5971e">llvm::Instruction::copyMetadata</a></div><div class="ttdeci">void copyMetadata(const Instruction &amp;SrcInst, ArrayRef&lt; unsigned &gt; WL=ArrayRef&lt; unsigned &gt;())</div><div class="ttdoc">Copy metadata from SrcInst to this instruction.</div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8cpp_source.html#l00882">Instruction.cpp:882</a></div></div>
<div class="ttc" id="anamespacellvm_1_1Intrinsic_html_a3ce5fd3a8d74ecd38fdb5e27f85d2d61"><div class="ttname"><a href="namespacellvm_1_1Intrinsic.html#a3ce5fd3a8d74ecd38fdb5e27f85d2d61">llvm::Intrinsic::remangleIntrinsicFunction</a></div><div class="ttdeci">std::optional&lt; Function * &gt; remangleIntrinsicFunction(Function *F)</div><div class="ttdef"><b>Definition:</b> <a href="Function_8cpp_source.html#l01867">Function.cpp:1867</a></div></div>
<div class="ttc" id="anamespacellvm_1_1MipsISD_html_a422daf9aa810935178671306b651d69ba366e1eac31eeb1a1892d62ccfc0c8cf8"><div class="ttname"><a href="namespacellvm_1_1MipsISD.html#a422daf9aa810935178671306b651d69ba366e1eac31eeb1a1892d62ccfc0c8cf8">llvm::MipsISD::Ret</a></div><div class="ttdeci">@ Ret</div><div class="ttdef"><b>Definition:</b> <a href="MipsISelLowering_8h_source.html#l00119">MipsISelLowering.h:119</a></div></div>
<div class="ttc" id="anamespacellvm_1_1Intrinsic_html_a35fedf4db6d756bd82501607f93c1e79aab5fb650050f184fa7c19c26abde5226"><div class="ttname"><a href="namespacellvm_1_1Intrinsic.html#a35fedf4db6d756bd82501607f93c1e79aab5fb650050f184fa7c19c26abde5226">llvm::Intrinsic::not_intrinsic</a></div><div class="ttdeci">@ not_intrinsic</div><div class="ttdef"><b>Definition:</b> <a href="Intrinsics_8h_source.html#l00044">Intrinsics.h:44</a></div></div>
<div class="ttc" id="aAMDGPURegBankSelect_8cpp_html_a14e0c000ed52e5fc187d4a885914cc1a"><div class="ttname"><a href="AMDGPURegBankSelect_8cpp.html#a14e0c000ed52e5fc187d4a885914cc1a">Select</a></div><div class="ttdeci">amdgpu AMDGPU Register Bank Select</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPURegBankSelect_8cpp_source.html#l00045">AMDGPURegBankSelect.cpp:45</a></div></div>
<div class="ttc" id="aX86PartialReduction_8cpp_html_a87b8bfbbe9d8f7146d7f20a5fb42efd0"><div class="ttname"><a href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a></div><div class="ttdeci">Value * RHS</div><div class="ttdef"><b>Definition:</b> <a href="X86PartialReduction_8cpp_source.html#l00076">X86PartialReduction.cpp:76</a></div></div>
<div class="ttc" id="aclassllvm_1_1ArrayType_html"><div class="ttname"><a href="classllvm_1_1ArrayType.html">llvm::ArrayType</a></div><div class="ttdoc">Class to represent array types.</div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00357">DerivedTypes.h:357</a></div></div>
<div class="ttc" id="anamespacellvm_html_a6dec2b5d3e04b47adf4d918d678e81c9"><div class="ttname"><a href="namespacellvm.html#a6dec2b5d3e04b47adf4d918d678e81c9">llvm::isPowerOf2_32</a></div><div class="ttdeci">constexpr bool isPowerOf2_32(uint32_t Value)</div><div class="ttdoc">Return true if the argument is a power of two &gt; 0.</div><div class="ttdef"><b>Definition:</b> <a href="MathExtras_8h_source.html#l00292">MathExtras.h:292</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_aac5759c83abd6a4af236401a7cfe7a0f"><div class="ttname"><a href="classllvm_1_1Type.html#aac5759c83abd6a4af236401a7cfe7a0f">llvm::Type::isFloatingPointTy</a></div><div class="ttdeci">bool isFloatingPointTy() const</div><div class="ttdoc">Return true if this is one of the floating-point types.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00185">Type.h:185</a></div></div>
<div class="ttc" id="aAutoUpgrade_8cpp_html_a8184e757708d747af9b314cdfe238b2c"><div class="ttname"><a href="AutoUpgrade_8cpp.html#a8184e757708d747af9b314cdfe238b2c">EmitX86Select</a></div><div class="ttdeci">static Value * EmitX86Select(IRBuilder&lt;&gt; &amp;Builder, Value *Mask, Value *Op0, Value *Op1)</div><div class="ttdef"><b>Definition:</b> <a href="AutoUpgrade_8cpp_source.html#l01307">AutoUpgrade.cpp:1307</a></div></div>
<div class="ttc" id="aclassllvm_1_1Module_html_a0a5c55e12c97b80021330fe82b642293a2aba8031539d1446aff14d13c7deea69"><div class="ttname"><a href="classllvm_1_1Module.html#a0a5c55e12c97b80021330fe82b642293a2aba8031539d1446aff14d13c7deea69">llvm::Module::Override</a></div><div class="ttdeci">@ Override</div><div class="ttdoc">Uses the specified value, regardless of the behavior or value of the other module.</div><div class="ttdef"><b>Definition:</b> <a href="Module_8h_source.html#l00136">Module.h:136</a></div></div>
<div class="ttc" id="anamespacellvm_1_1SPII_html_a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f"><div class="ttname"><a href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">llvm::SPII::Load</a></div><div class="ttdeci">@ Load</div><div class="ttdef"><b>Definition:</b> <a href="SparcInstrInfo_8h_source.html#l00032">SparcInstrInfo.h:32</a></div></div>
<div class="ttc" id="anamespacellvm_html_a34c89c416395df723a937ace993f511a"><div class="ttname"><a href="namespacellvm.html#a34c89c416395df723a937ace993f511a">llvm::UpgradeAttributes</a></div><div class="ttdeci">void UpgradeAttributes(AttrBuilder &amp;B)</div><div class="ttdoc">Upgrade attributes that changed format or kind.</div><div class="ttdef"><b>Definition:</b> <a href="AutoUpgrade_8cpp_source.html#l04941">AutoUpgrade.cpp:4941</a></div></div>
<div class="ttc" id="aclassllvm_1_1Regex_html_ae787b71e8d775a2b662d04e913489d8d"><div class="ttname"><a href="classllvm_1_1Regex.html#ae787b71e8d775a2b662d04e913489d8d">llvm::Regex::match</a></div><div class="ttdeci">bool match(StringRef String, SmallVectorImpl&lt; StringRef &gt; *Matches=nullptr, std::string *Error=nullptr) const</div><div class="ttdoc">matches - Match the regex against a given String.</div><div class="ttdef"><b>Definition:</b> <a href="Regex_8cpp_source.html#l00086">Regex.cpp:86</a></div></div>
<div class="ttc" id="anamespacellvm_html_ae551fe3e2b167b36005b26473e993884a26aa2e7865f749b52f3b77991776c40d"><div class="ttname"><a href="namespacellvm.html#ae551fe3e2b167b36005b26473e993884a26aa2e7865f749b52f3b77991776c40d">llvm::Data</a></div><div class="ttdeci">@ Data</div><div class="ttdef"><b>Definition:</b> <a href="SIMachineScheduler_8h_source.html#l00055">SIMachineScheduler.h:55</a></div></div>
<div class="ttc" id="aAutoUpgrade_8cpp_html_ad24d706631614be574fa27dd0f59b575"><div class="ttname"><a href="AutoUpgrade_8cpp.html#ad24d706631614be574fa27dd0f59b575">UpgradeARMIntrinsicCall</a></div><div class="ttdeci">static Value * UpgradeARMIntrinsicCall(StringRef Name, CallBase *CI, Function *F, IRBuilder&lt;&gt; &amp;Builder)</div><div class="ttdef"><b>Definition:</b> <a href="AutoUpgrade_8cpp_source.html#l01979">AutoUpgrade.cpp:1979</a></div></div>
<div class="ttc" id="anamespacellvm_1_1APIntOps_html_aa606171b17bdde9015fa656e226ca9e0"><div class="ttname"><a href="namespacellvm_1_1APIntOps.html#aa606171b17bdde9015fa656e226ca9e0">llvm::APIntOps::umin</a></div><div class="ttdeci">const APInt &amp; umin(const APInt &amp;A, const APInt &amp;B)</div><div class="ttdoc">Determine the smaller of two APInts considered to be unsigned.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l02185">APInt.h:2185</a></div></div>
<div class="ttc" id="aMD5_8cpp_html_a96d73bbd7af15cb1fc38c3f4a3bd82e9"><div class="ttname"><a href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a></div><div class="ttdeci">#define F(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00055">MD5.cpp:55</a></div></div>
<div class="ttc" id="anamespacellvm_1_1RISCVFenceField_html_a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731"><div class="ttname"><a href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731">llvm::RISCVFenceField::R</a></div><div class="ttdeci">@ R</div><div class="ttdef"><b>Definition:</b> <a href="RISCVBaseInfo_8h_source.html#l00278">RISCVBaseInfo.h:278</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalVariable_html_a1c66d4eff947253e7610a66379974d63"><div class="ttname"><a href="classllvm_1_1GlobalVariable.html#a1c66d4eff947253e7610a66379974d63">llvm::GlobalVariable::hasInitializer</a></div><div class="ttdeci">bool hasInitializer() const</div><div class="ttdoc">Definitions have initializers, declarations don't.</div><div class="ttdef"><b>Definition:</b> <a href="GlobalVariable_8h_source.html#l00091">GlobalVariable.h:91</a></div></div>
<div class="ttc" id="aAutoUpgrade_8cpp_html_aee37db83318739047aa85bf8775cbf47"><div class="ttname"><a href="AutoUpgrade_8cpp.html#aee37db83318739047aa85bf8775cbf47">UpgradeX86PSLLDQIntrinsics</a></div><div class="ttdeci">static Value * UpgradeX86PSLLDQIntrinsics(IRBuilder&lt;&gt; &amp;Builder, Value *Op, unsigned Shift)</div><div class="ttdef"><b>Definition:</b> <a href="AutoUpgrade_8cpp_source.html#l01221">AutoUpgrade.cpp:1221</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html_a9247a212ea89acc9573fa7e7f557eaba"><div class="ttname"><a href="classllvm_1_1Instruction.html#a9247a212ea89acc9573fa7e7f557eaba">llvm::Instruction::setMetadata</a></div><div class="ttdeci">void setMetadata(unsigned KindID, MDNode *Node)</div><div class="ttdoc">Set the metadata of the specified kind to the specified node.</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8cpp_source.html#l01455">Metadata.cpp:1455</a></div></div>
<div class="ttc" id="anamespacellvm_html_aef10fb11205c2a096e040dd6b75148eb"><div class="ttname"><a href="namespacellvm.html#aef10fb11205c2a096e040dd6b75148eb">llvm::UpgradeARCRuntime</a></div><div class="ttdeci">void UpgradeARCRuntime(Module &amp;M)</div><div class="ttdoc">Convert calls to ARC runtime functions to intrinsic calls and upgrade the old retain release marker t...</div><div class="ttdef"><b>Definition:</b> <a href="AutoUpgrade_8cpp_source.html#l04510">AutoUpgrade.cpp:4510</a></div></div>
<div class="ttc" id="aclassllvm_1_1MDNode_html_aa4068e37ec583962685e3567dc102ae5"><div class="ttname"><a href="classllvm_1_1MDNode.html#aa4068e37ec583962685e3567dc102ae5">llvm::MDNode::getNumOperands</a></div><div class="ttdeci">unsigned getNumOperands() const</div><div class="ttdoc">Return number of MDNode operands.</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l01297">Metadata.h:1297</a></div></div>
<div class="ttc" id="aNVVMIntrRange_8cpp_html_afad351d7bf10ac0446b64e7827634e94"><div class="ttname"><a href="NVVMIntrRange_8cpp.html#afad351d7bf10ac0446b64e7827634e94">Context</a></div><div class="ttdeci">LLVMContext &amp; Context</div><div class="ttdef"><b>Definition:</b> <a href="NVVMIntrRange_8cpp_source.html#l00066">NVVMIntrRange.cpp:66</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ARMBuildAttrs_html_aea10ca6bf098a425d51ac7fe65d30ed6a69c8a3bdf3f5753779a342f0cd97c090"><div class="ttname"><a href="namespacellvm_1_1ARMBuildAttrs.html#aea10ca6bf098a425d51ac7fe65d30ed6a69c8a3bdf3f5753779a342f0cd97c090">llvm::ARMBuildAttrs::Section</a></div><div class="ttdeci">@ Section</div><div class="ttdoc">Legacy Tags.</div><div class="ttdef"><b>Definition:</b> <a href="ARMBuildAttributes_8h_source.html#l00082">ARMBuildAttributes.h:82</a></div></div>
<div class="ttc" id="aAutoUpgrade_8cpp_html_a70b4a8cbdc04d346c3b8ca76951d76a7"><div class="ttname"><a href="AutoUpgrade_8cpp.html#a70b4a8cbdc04d346c3b8ca76951d76a7">UpgradeMaskedStore</a></div><div class="ttdeci">static Value * UpgradeMaskedStore(IRBuilder&lt;&gt; &amp;Builder, Value *Ptr, Value *Data, Value *Mask, bool Aligned)</div><div class="ttdef"><b>Definition:</b> <a href="AutoUpgrade_8cpp_source.html#l01558">AutoUpgrade.cpp:1558</a></div></div>
<div class="ttc" id="aAMDGPULibCalls_8cpp_html_afecf1cc1292b07f57d343c0f4d682044"><div class="ttname"><a href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a></div><div class="ttdeci">amdgpu Simplify well known AMD library false FunctionCallee Value * Arg</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPULibCalls_8cpp_source.html#l00187">AMDGPULibCalls.cpp:187</a></div></div>
<div class="ttc" id="anamespacellvm_1_1BitmaskEnumDetail_html_a91efa71de05b0c2d00730a0279f58658"><div class="ttname"><a href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">llvm::BitmaskEnumDetail::Mask</a></div><div class="ttdeci">constexpr std::underlying_type_t&lt; E &gt; Mask()</div><div class="ttdoc">Get a bitmask with 1s in all places up to the high-order bit of E's largest value.</div><div class="ttdef"><b>Definition:</b> <a href="BitmaskEnum_8h_source.html#l00080">BitmaskEnum.h:80</a></div></div>
<div class="ttc" id="aIR_2Instruction_8h_html"><div class="ttname"><a href="IR_2Instruction_8h.html">Instruction.h</a></div></div>
<div class="ttc" id="aX86PartialReduction_8cpp_html_a9e1483f7215664a2315c53c3558d9a8d"><div class="ttname"><a href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a></div><div class="ttdeci">Value * LHS</div><div class="ttdef"><b>Definition:</b> <a href="X86PartialReduction_8cpp_source.html#l00075">X86PartialReduction.cpp:75</a></div></div>
<div class="ttc" id="aREADME-SSE_8txt_html_a11ca92463dc5dfc09bbe2ba2f3ea0c96"><div class="ttname"><a href="README-SSE_8txt.html#a11ca92463dc5dfc09bbe2ba2f3ea0c96">x3</a></div><div class="ttdeci">In x86 we generate this spiffy xmm0 xmm0 ret in x86 we generate this which could be xmm1 movss xmm1 xmm0 ret In sse4 we could use insertps to make both better Here s another testcase that could use x3</div><div class="ttdef"><b>Definition:</b> <a href="README-SSE_8txt_source.html#l00547">README-SSE.txt:547</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantInt_html"><div class="ttname"><a href="classllvm_1_1ConstantInt.html">llvm::ConstantInt</a></div><div class="ttdoc">This is the shared class of boolean and integer constants.</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8h_source.html#l00078">Constants.h:78</a></div></div>
<div class="ttc" id="aMathExtras_8h_html_a9211f62d8e1e6de999eaa63ec0f6ae02"><div class="ttname"><a href="MathExtras_8h.html#a9211f62d8e1e6de999eaa63ec0f6ae02">R2</a></div><div class="ttdeci">#define R2(n)</div></div>
<div class="ttc" id="anamespacellvm_html_aac20eb5c6ac0036298cbfb44d3b9cc82"><div class="ttname"><a href="namespacellvm.html#aac20eb5c6ac0036298cbfb44d3b9cc82">llvm::UpgradeBitCastInst</a></div><div class="ttdeci">Instruction * UpgradeBitCastInst(unsigned Opc, Value *V, Type *DestTy, Instruction *&amp;Temp)</div><div class="ttdoc">This is an auto-upgrade for bitcast between pointers with different address spaces: the instruction i...</div><div class="ttdef"><b>Definition:</b> <a href="AutoUpgrade_8cpp_source.html#l04416">AutoUpgrade.cpp:4416</a></div></div>
<div class="ttc" id="aclassllvm_1_1StringRef_html_a84cd09ccc918883d51a387f0e0f374f3"><div class="ttname"><a href="classllvm_1_1StringRef.html#a84cd09ccc918883d51a387f0e0f374f3">llvm::StringRef::startswith</a></div><div class="ttdeci">bool startswith(StringRef Prefix) const</div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00261">StringRef.h:261</a></div></div>
<div class="ttc" id="anamespacellvm_html_a9db8c44b250b90e3ab7e4d144e7c9c2ea60baadb22e80b147e4885ad16760e569"><div class="ttname"><a href="namespacellvm.html#a9db8c44b250b90e3ab7e4d144e7c9c2ea60baadb22e80b147e4885ad16760e569">llvm::ModRefInfo::Ref</a></div><div class="ttdeci">@ Ref</div><div class="ttdoc">The access may reference the value stored in memory.</div></div>
<div class="ttc" id="aConstants_8h_html"><div class="ttname"><a href="Constants_8h.html">Constants.h</a></div></div>
<div class="ttc" id="aBuiltinGCs_8cpp_html_a6742d2e0a668baf1196ec69e158d5f15"><div class="ttname"><a href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a></div><div class="ttdeci">static GCRegistry::Add&lt; CoreCLRGC &gt; E(&quot;coreclr&quot;, &quot;CoreCLR-compatible GC&quot;)</div></div>
<div class="ttc" id="aclassllvm_1_1User_html"><div class="ttname"><a href="classllvm_1_1User.html">llvm::User</a></div><div class="ttdef"><b>Definition:</b> <a href="User_8h_source.html#l00044">User.h:44</a></div></div>
<div class="ttc" id="aAMDGPUBaseInfo_8cpp_html_ad18f9973176b870e59d30b81d8a1091e"><div class="ttname"><a href="AMDGPUBaseInfo_8cpp.html#ad18f9973176b870e59d30b81d8a1091e">Intr</a></div><div class="ttdeci">unsigned Intr</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUBaseInfo_8cpp_source.html#l02664">AMDGPUBaseInfo.cpp:2664</a></div></div>
<div class="ttc" id="aIntrinsics_8h_html"><div class="ttname"><a href="Intrinsics_8h.html">Intrinsics.h</a></div></div>
<div class="ttc" id="aREADME__ALTIVEC_8txt_html_a9aacd9146afe44bf656cd664e2a88c8c"><div class="ttname"><a href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a></div><div class="ttdeci">(vector float) vec_cmpeq(*A, *B) C</div><div class="ttdef"><b>Definition:</b> <a href="README__ALTIVEC_8txt_source.html#l00086">README_ALTIVEC.txt:86</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallBase_html_a83b8c9e572130f403445c0b0f69b837c"><div class="ttname"><a href="classllvm_1_1CallBase.html#a83b8c9e572130f403445c0b0f69b837c">llvm::CallBase::getCalledFunction</a></div><div class="ttdeci">Function * getCalledFunction() const</div><div class="ttdoc">Returns the function called, or null if this is an indirect function invocation or the function signa...</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l01406">InstrTypes.h:1406</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallBase_html_a9da3b29e8e71b9be4645874e1721207a"><div class="ttname"><a href="classllvm_1_1CallBase.html#a9da3b29e8e71b9be4645874e1721207a">llvm::CallBase::setAttributes</a></div><div class="ttdeci">void setAttributes(AttributeList A)</div><div class="ttdoc">Set the parameter attributes for this call.</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l01488">InstrTypes.h:1488</a></div></div>
<div class="ttc" id="aSIInstrInfo_8cpp_html_a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791"><div class="ttname"><a href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a></div><div class="ttdeci">@ SI</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l07993">SIInstrInfo.cpp:7993</a></div></div>
<div class="ttc" id="aAutoUpgrade_8cpp_html_ad9d7a82ba140ac920458705124372cd6"><div class="ttname"><a href="AutoUpgrade_8cpp.html#ad9d7a82ba140ac920458705124372cd6">upgradeAVX512MaskToSelect</a></div><div class="ttdeci">static bool upgradeAVX512MaskToSelect(StringRef Name, IRBuilder&lt;&gt; &amp;Builder, CallBase &amp;CI, Value *&amp;Rep)</div><div class="ttdef"><b>Definition:</b> <a href="AutoUpgrade_8cpp_source.html#l01730">AutoUpgrade.cpp:1730</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ms__demangle_html_afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e"><div class="ttname"><a href="namespacellvm_1_1ms__demangle.html#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">llvm::ms_demangle::QualifierMangleMode::Result</a></div><div class="ttdeci">@ Result</div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_ab01d8694a759a934e01f1c558c3ce862"><div class="ttname"><a href="classllvm_1_1APInt.html#ab01d8694a759a934e01f1c558c3ce862">llvm::APInt::getLimitedValue</a></div><div class="ttdeci">uint64_t getLimitedValue(uint64_t Limit=UINT64_MAX) const</div><div class="ttdoc">If this value is smaller than the specified limit, return it, otherwise return the limit value.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00463">APInt.h:463</a></div></div>
<div class="ttc" id="alib_2Target_2README_8txt_html_ac3ac4028df71f10fda029660ef66594d"><div class="ttname"><a href="lib_2Target_2README_8txt.html#ac3ac4028df71f10fda029660ef66594d">l</a></div><div class="ttdeci">This requires reassociating to forms of expressions that are already something that reassoc doesn t think about yet These two functions should generate the same code on big endian int * l</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2README_8txt_source.html#l00100">README.txt:100</a></div></div>
<div class="ttc" id="astructllvm_1_1MaybeAlign_html"><div class="ttname"><a href="structllvm_1_1MaybeAlign.html">llvm::MaybeAlign</a></div><div class="ttdoc">This struct is a compact representation of a valid (power of two) or undefined (0) alignment.</div><div class="ttdef"><b>Definition:</b> <a href="Alignment_8h_source.html#l00117">Alignment.h:117</a></div></div>
<div class="ttc" id="aBuiltinGCs_8cpp_html_a7abf5fb4071cb25dbce06dfb5ee3c937"><div class="ttname"><a href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a></div><div class="ttdeci">static GCRegistry::Add&lt; OcamlGC &gt; B(&quot;ocaml&quot;, &quot;ocaml 3.10-compatible GC&quot;)</div></div>
<div class="ttc" id="anamespacellvm_html_ae7ee47904c2a7f2c3af3824c90b5a2ec"><div class="ttname"><a href="namespacellvm.html#ae7ee47904c2a7f2c3af3824c90b5a2ec">llvm::UpgradeTBAANode</a></div><div class="ttdeci">MDNode * UpgradeTBAANode(MDNode &amp;TBAANode)</div><div class="ttdoc">If the given TBAA tag uses the scalar TBAA format, create a new node corresponding to the upgrade to ...</div><div class="ttdef"><b>Definition:</b> <a href="AutoUpgrade_8cpp_source.html#l04394">AutoUpgrade.cpp:4394</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html"><div class="ttname"><a href="classllvm_1_1Instruction.html">llvm::Instruction</a></div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8h_source.html#l00041">Instruction.h:41</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_a9f382207d841377156d4c7868b66b9a5"><div class="ttname"><a href="classllvm_1_1Type.html#a9f382207d841377156d4c7868b66b9a5">llvm::Type::getScalarSizeInBits</a></div><div class="ttdeci">unsigned getScalarSizeInBits() const LLVM_READONLY</div><div class="ttdoc">If this is a vector type, return the getPrimitiveSizeInBits value for the element type.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00188">Type.cpp:188</a></div></div>
<div class="ttc" id="anamespacellvm_html_a08f09f6a0568054ba5a1db783b6eeae5"><div class="ttname"><a href="namespacellvm.html#a08f09f6a0568054ba5a1db783b6eeae5">llvm::UpgradeSectionAttributes</a></div><div class="ttdeci">void UpgradeSectionAttributes(Module &amp;M)</div><div class="ttdef"><b>Definition:</b> <a href="AutoUpgrade_8cpp_source.html#l04765">AutoUpgrade.cpp:4765</a></div></div>
<div class="ttc" id="anamespacellvm_html_a7f2a3d4dcfee70225988aec53ff1e173"><div class="ttname"><a href="namespacellvm.html#a7f2a3d4dcfee70225988aec53ff1e173">llvm::report_fatal_error</a></div><div class="ttdeci">void report_fatal_error(Error Err, bool gen_crash_diag=true)</div><div class="ttdoc">Report a serious error, calling any installed error handler.</div><div class="ttdef"><b>Definition:</b> <a href="Testing_2Support_2Error_8cpp_source.html#l00145">Error.cpp:145</a></div></div>
<div class="ttc" id="aAutoUpgrade_8cpp_html_a47a1bbffaafe7bbf2441a0fd19765346"><div class="ttname"><a href="AutoUpgrade_8cpp.html#a47a1bbffaafe7bbf2441a0fd19765346">upgradeX86ConcatShift</a></div><div class="ttdeci">static Value * upgradeX86ConcatShift(IRBuilder&lt;&gt; &amp;Builder, CallBase &amp;CI, bool IsShiftRight, bool ZeroMask)</div><div class="ttdef"><b>Definition:</b> <a href="AutoUpgrade_8cpp_source.html#l01524">AutoUpgrade.cpp:1524</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_a35ee267850af7c235474a8c46c7ac5af"><div class="ttname"><a href="classllvm_1_1Value.html#a35ee267850af7c235474a8c46c7ac5af">llvm::Value::setName</a></div><div class="ttdeci">void setName(const Twine &amp;Name)</div><div class="ttdoc">Change the name of the value.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8cpp_source.html#l00375">Value.cpp:375</a></div></div>
<div class="ttc" id="aLoopDeletion_8cpp_html_a0f1c83c3d08d80b12c424962a5e94ce8a35e0c8c0b180c95d4e122e55ed62cc64"><div class="ttname"><a href="LoopDeletion_8cpp.html#a0f1c83c3d08d80b12c424962a5e94ce8a35e0c8c0b180c95d4e122e55ed62cc64">LoopDeletionResult::Modified</a></div><div class="ttdeci">@ Modified</div></div>
<div class="ttc" id="anamespacellvm_1_1IndexedInstrProf_html_a3890d6a47a6ff8b8c4ecc8a1f9040a04"><div class="ttname"><a href="namespacellvm_1_1IndexedInstrProf.html#a3890d6a47a6ff8b8c4ecc8a1f9040a04">llvm::IndexedInstrProf::Version</a></div><div class="ttdeci">const uint64_t Version</div><div class="ttdef"><b>Definition:</b> <a href="InstrProf_8h_source.html#l01058">InstrProf.h:1058</a></div></div>
<div class="ttc" id="anamespacellvm_html_ad73f9adce7cce90507a082ae3b30eb36"><div class="ttname"><a href="namespacellvm.html#ad73f9adce7cce90507a082ae3b30eb36">llvm::UpgradeFunctionAttributes</a></div><div class="ttdeci">void UpgradeFunctionAttributes(Function &amp;F)</div><div class="ttdoc">Correct any IR that is relying on old function attribute behavior.</div><div class="ttdef"><b>Definition:</b> <a href="AutoUpgrade_8cpp_source.html#l04822">AutoUpgrade.cpp:4822</a></div></div>
<div class="ttc" id="aELFObjHandler_8cpp_html_a043cdaf7b89aaeeb127be5d93411637f"><div class="ttname"><a href="ELFObjHandler_8cpp.html#a043cdaf7b89aaeeb127be5d93411637f">Align</a></div><div class="ttdeci">uint64_t Align</div><div class="ttdef"><b>Definition:</b> <a href="ELFObjHandler_8cpp_source.html#l00082">ELFObjHandler.cpp:82</a></div></div>
<div class="ttc" id="aAutoUpgrade_8cpp_html_ad81a5e7d072d3285ed58e9e81798bd82"><div class="ttname"><a href="AutoUpgrade_8cpp.html#ad81a5e7d072d3285ed58e9e81798bd82">ShouldUpgradeX86Intrinsic</a></div><div class="ttdeci">static bool ShouldUpgradeX86Intrinsic(Function *F, StringRef Name)</div><div class="ttdef"><b>Definition:</b> <a href="AutoUpgrade_8cpp_source.html#l00105">AutoUpgrade.cpp:105</a></div></div>
<div class="ttc" id="aclassllvm_1_1FixedVectorType_html_af9a870d5df50fe0133a410b7c9114c80"><div class="ttname"><a href="classllvm_1_1FixedVectorType.html#af9a870d5df50fe0133a410b7c9114c80">llvm::FixedVectorType::get</a></div><div class="ttdeci">static FixedVectorType * get(Type *ElementType, unsigned NumElts)</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00686">Type.cpp:686</a></div></div>
<div class="ttc" id="astructllvm_1_1Align_html"><div class="ttname"><a href="structllvm_1_1Align.html">llvm::Align</a></div><div class="ttdoc">This struct is a compact representation of a valid (non-zero power of two) alignment.</div><div class="ttdef"><b>Definition:</b> <a href="Alignment_8h_source.html#l00039">Alignment.h:39</a></div></div>
<div class="ttc" id="anamespacellvm_1_1MCID_html_ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f"><div class="ttname"><a href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">llvm::MCID::Call</a></div><div class="ttdeci">@ Call</div><div class="ttdef"><b>Definition:</b> <a href="MCInstrDesc_8h_source.html#l00156">MCInstrDesc.h:156</a></div></div>
<div class="ttc" id="aclassllvm_1_1Metadata_html"><div class="ttname"><a href="classllvm_1_1Metadata.html">llvm::Metadata</a></div><div class="ttdoc">Root of the metadata hierarchy.</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l00061">Metadata.h:61</a></div></div>
<div class="ttc" id="anamespacellvm_html_aeff8da57698622ba29e5228d5ffe8bf3a141a51821a2860389357334148e2fd62"><div class="ttname"><a href="namespacellvm.html#aeff8da57698622ba29e5228d5ffe8bf3a141a51821a2860389357334148e2fd62">llvm::DEBUG_METADATA_VERSION</a></div><div class="ttdeci">@ DEBUG_METADATA_VERSION</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l00051">Metadata.h:51</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_a9d7de807ebdfe1819df3ff6cb0f16158"><div class="ttname"><a href="classllvm_1_1Value.html#a9d7de807ebdfe1819df3ff6cb0f16158">llvm::Value::use_empty</a></div><div class="ttdeci">bool use_empty() const</div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00344">Value.h:344</a></div></div>
<div class="ttc" id="anamespacellvm_1_1CallingConv_html_a188c0836f8c3528401f1c236fd93b977"><div class="ttname"><a href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">llvm::CallingConv::ID</a></div><div class="ttdeci">unsigned ID</div><div class="ttdoc">LLVM IR allows to use arbitrary numbers as calling convention identifiers.</div><div class="ttdef"><b>Definition:</b> <a href="CallingConv_8h_source.html#l00024">CallingConv.h:24</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallString_html"><div class="ttname"><a href="classllvm_1_1SmallString.html">llvm::SmallString&lt; 32 &gt;</a></div></div>
<div class="ttc" id="aAutoUpgrade_8cpp_html_a9323ac9042db2ec1427acd85c3919f89"><div class="ttname"><a href="AutoUpgrade_8cpp.html#a9323ac9042db2ec1427acd85c3919f89">UpgradeMaskedLoad</a></div><div class="ttdeci">static Value * UpgradeMaskedLoad(IRBuilder&lt;&gt; &amp;Builder, Value *Ptr, Value *Passthru, Value *Mask, bool Aligned)</div><div class="ttdef"><b>Definition:</b> <a href="AutoUpgrade_8cpp_source.html#l01580">AutoUpgrade.cpp:1580</a></div></div>
<div class="ttc" id="aADT_2tmp_8txt_html_a07ed0bfaa124c15897944fe3eaa971ab"><div class="ttname"><a href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a></div><div class="ttdeci">Class for arbitrary precision integers APInt is a functional replacement for common case unsigned integer type like unsigned long or uint64_t</div><div class="ttdef"><b>Definition:</b> <a href="ADT_2tmp_8txt_source.html#l00001">tmp.txt:1</a></div></div>
<div class="ttc" id="aAutoUpgrade_8cpp_html_ae97df9129273b982b5178a522d8e8179"><div class="ttname"><a href="AutoUpgrade_8cpp.html#ae97df9129273b982b5178a522d8e8179">upgradeLoopArgument</a></div><div class="ttdeci">static Metadata * upgradeLoopArgument(Metadata *MD)</div><div class="ttdef"><b>Definition:</b> <a href="AutoUpgrade_8cpp_source.html#l04860">AutoUpgrade.cpp:4860</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_ac6d28a9b11139182134a9618028a0d07"><div class="ttname"><a href="classllvm_1_1Type.html#ac6d28a9b11139182134a9618028a0d07">llvm::Type::isIntegerTy</a></div><div class="ttdeci">bool isIntegerTy() const</div><div class="ttdoc">True if this is an instance of IntegerType.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00222">Type.h:222</a></div></div>
<div class="ttc" id="aclassllvm_1_1MDNode_html_a6cbc0453586a25c057a32161b38b8ce4"><div class="ttname"><a href="classllvm_1_1MDNode.html#a6cbc0453586a25c057a32161b38b8ce4">llvm::MDNode::getOperand</a></div><div class="ttdeci">const MDOperand &amp; getOperand(unsigned I) const</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l01291">Metadata.h:1291</a></div></div>
<div class="ttc" id="aclassllvm_1_1StringRef_html_a2dc80c585ad5882da8cae7b5968f7e74"><div class="ttname"><a href="classllvm_1_1StringRef.html#a2dc80c585ad5882da8cae7b5968f7e74">llvm::StringRef::empty</a></div><div class="ttdeci">constexpr bool empty() const</div><div class="ttdoc">empty - Check if the string is empty.</div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00134">StringRef.h:134</a></div></div>
<div class="ttc" id="aclassllvm_1_1VectorType_html"><div class="ttname"><a href="classllvm_1_1VectorType.html">llvm::VectorType</a></div><div class="ttdoc">Base class of all SIMD vector types.</div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00389">DerivedTypes.h:389</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PPC_html_a14028f7fe73a11dabc6583510cc0a355"><div class="ttname"><a href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355">llvm::PPC::Predicate</a></div><div class="ttdeci">Predicate</div><div class="ttdoc">Predicate - These are &quot;(BI &lt;&lt; 5) | BO&quot; for various predicates.</div><div class="ttdef"><b>Definition:</b> <a href="PPCPredicates_8h_source.html#l00026">PPCPredicates.h:26</a></div></div>
<div class="ttc" id="aclassllvm_1_1StoreInst_html"><div class="ttname"><a href="classllvm_1_1StoreInst.html">llvm::StoreInst</a></div><div class="ttdoc">An instruction for storing to memory.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00301">Instructions.h:301</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html"><div class="ttname"><a href="classllvm_1_1GlobalValue.html">llvm::GlobalValue</a></div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00044">GlobalValue.h:44</a></div></div>
<div class="ttc" id="aclassllvm_1_1AttributeList_html_a5604157867b3d226260f6388b987e49a"><div class="ttname"><a href="classllvm_1_1AttributeList.html#a5604157867b3d226260f6388b987e49a">llvm::AttributeList::getRetAttrs</a></div><div class="ttdeci">AttributeSet getRetAttrs() const</div><div class="ttdoc">The attributes for the ret value are returned.</div><div class="ttdef"><b>Definition:</b> <a href="Attributes_8cpp_source.html#l01458">Attributes.cpp:1458</a></div></div>
<div class="ttc" id="anamespacellvm_1_1MipsISD_html_a422daf9aa810935178671306b651d69ba88a797f57846adb2c382b3732b471913"><div class="ttname"><a href="namespacellvm_1_1MipsISD.html#a422daf9aa810935178671306b651d69ba88a797f57846adb2c382b3732b471913">llvm::MipsISD::Ext</a></div><div class="ttdeci">@ Ext</div><div class="ttdef"><b>Definition:</b> <a href="MipsISelLowering_8h_source.html#l00159">MipsISelLowering.h:159</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalVariable_html_a0e5946885029c1bce1350d34f2539b1b"><div class="ttname"><a href="classllvm_1_1GlobalVariable.html#a0e5946885029c1bce1350d34f2539b1b">llvm::GlobalVariable::getInitializer</a></div><div class="ttdeci">const Constant * getInitializer() const</div><div class="ttdoc">getInitializer - Return the initializer for this global variable.</div><div class="ttdef"><b>Definition:</b> <a href="GlobalVariable_8h_source.html#l00135">GlobalVariable.h:135</a></div></div>
<div class="ttc" id="aclassllvm_1_1Constant_html"><div class="ttname"><a href="classllvm_1_1Constant.html">llvm::Constant</a></div><div class="ttdoc">This is an important base class in LLVM.</div><div class="ttdef"><b>Definition:</b> <a href="Constant_8h_source.html#l00041">Constant.h:41</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html_ae6b978645b8ac72d1a35e1298ffdd4f0"><div class="ttname"><a href="classllvm_1_1Instruction.html#ae6b978645b8ac72d1a35e1298ffdd4f0">llvm::Instruction::eraseFromParent</a></div><div class="ttdeci">SymbolTableList&lt; Instruction &gt;::iterator eraseFromParent()</div><div class="ttdoc">This method unlinks 'this' from the containing basic block and deletes it.</div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8cpp_source.html#l00082">Instruction.cpp:82</a></div></div>
<div class="ttc" id="aclassllvm_1_1Function_html_aaea88376352c42347dceccdd5ab1c20c"><div class="ttname"><a href="classllvm_1_1Function.html#aaea88376352c42347dceccdd5ab1c20c">llvm::Function::getReturnType</a></div><div class="ttdeci">Type * getReturnType() const</div><div class="ttdoc">Returns the type of the ret val.</div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00179">Function.h:179</a></div></div>
<div class="ttc" id="aclassllvm_1_1PointerType_html_a8db49fd5069f21d514e7bb0fd11f0902"><div class="ttname"><a href="classllvm_1_1PointerType.html#a8db49fd5069f21d514e7bb0fd11f0902">llvm::PointerType::getUnqual</a></div><div class="ttdeci">static PointerType * getUnqual(Type *ElementType)</div><div class="ttdoc">This constructs a pointer to an object of the specified type in the default address space (address sp...</div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00651">DerivedTypes.h:651</a></div></div>
<div class="ttc" id="aAutoUpgrade_8cpp_html_a8a4e993486880e6b320b0dee4ce41938"><div class="ttname"><a href="AutoUpgrade_8cpp.html#a8a4e993486880e6b320b0dee4ce41938">EmitX86ScalarSelect</a></div><div class="ttdeci">static Value * EmitX86ScalarSelect(IRBuilder&lt;&gt; &amp;Builder, Value *Mask, Value *Op0, Value *Op1)</div><div class="ttdef"><b>Definition:</b> <a href="AutoUpgrade_8cpp_source.html#l01319">AutoUpgrade.cpp:1319</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ARM__MB_html_ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2"><div class="ttname"><a href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">llvm::ARM_MB::ST</a></div><div class="ttdeci">@ ST</div><div class="ttdef"><b>Definition:</b> <a href="MCTargetDesc_2ARMBaseInfo_8h_source.html#l00073">ARMBaseInfo.h:73</a></div></div>
<div class="ttc" id="aELFObjHandler_8cpp_html_a9df82a8be2f17e80535a8937bf23e022"><div class="ttname"><a href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a></div><div class="ttdeci">uint64_t Addr</div><div class="ttdef"><b>Definition:</b> <a href="ELFObjHandler_8cpp_source.html#l00079">ELFObjHandler.cpp:79</a></div></div>
<div class="ttc" id="anamespacellvm_1_1Intrinsic_html_a264036c4b5fffd4ce40a5414d587d26b"><div class="ttname"><a href="namespacellvm_1_1Intrinsic.html#a264036c4b5fffd4ce40a5414d587d26b">llvm::Intrinsic::getIntrinsicInfoTableEntries</a></div><div class="ttdeci">void getIntrinsicInfoTableEntries(ID id, SmallVectorImpl&lt; IITDescriptor &gt; &amp;T)</div><div class="ttdoc">Return the IIT table descriptor for the specified intrinsic into an array of IITDescriptors.</div><div class="ttdef"><b>Definition:</b> <a href="Function_8cpp_source.html#l01332">Function.cpp:1332</a></div></div>
<div class="ttc" id="aAutoUpgrade_8cpp_html_a5a66c3e8803b67b779af084294195f55"><div class="ttname"><a href="AutoUpgrade_8cpp.html#a5a66c3e8803b67b779af084294195f55">upgradeMaskedMove</a></div><div class="ttdeci">static Value * upgradeMaskedMove(IRBuilder&lt;&gt; &amp;Builder, CallBase &amp;CI)</div><div class="ttdef"><b>Definition:</b> <a href="AutoUpgrade_8cpp_source.html#l01706">AutoUpgrade.cpp:1706</a></div></div>
<div class="ttc" id="aclassllvm_1_1LLVMContext_html"><div class="ttname"><a href="classllvm_1_1LLVMContext.html">llvm::LLVMContext</a></div><div class="ttdoc">This is an important class for using LLVM in a threaded context.</div><div class="ttdef"><b>Definition:</b> <a href="LLVMContext_8h_source.html#l00067">LLVMContext.h:67</a></div></div>
<div class="ttc" id="aIR_2DebugInfo_8h_html"><div class="ttname"><a href="IR_2DebugInfo_8h.html">DebugInfo.h</a></div></div>
<div class="ttc" id="aMD5_8cpp_html_ac0eafdc9ee161b71e7af98af736952fd"><div class="ttname"><a href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a></div><div class="ttdeci">#define I(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00058">MD5.cpp:58</a></div></div>
<div class="ttc" id="aclassllvm_1_1AttrBuilder_html"><div class="ttname"><a href="classllvm_1_1AttrBuilder.html">llvm::AttrBuilder</a></div><div class="ttdef"><b>Definition:</b> <a href="Attributes_8h_source.html#l01040">Attributes.h:1040</a></div></div>
<div class="ttc" id="aclassllvm_1_1FunctionType_html_a20cdc3911828248e70dbeae018106b76"><div class="ttname"><a href="classllvm_1_1FunctionType.html#a20cdc3911828248e70dbeae018106b76">llvm::FunctionType::getParamType</a></div><div class="ttdeci">Type * getParamType(unsigned i) const</div><div class="ttdoc">Parameter type accessors.</div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00135">DerivedTypes.h:135</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRBuilderBase_html_a7badbb741cd23e73ad063428c9cd5fea"><div class="ttname"><a href="classllvm_1_1IRBuilderBase.html#a7badbb741cd23e73ad063428c9cd5fea">llvm::IRBuilderBase::getInt8PtrTy</a></div><div class="ttdeci">PointerType * getInt8PtrTy(unsigned AddrSpace=0)</div><div class="ttdoc">Fetch the type representing a pointer to an 8-bit integer value.</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l00560">IRBuilder.h:560</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8154638df88e4eaa568b67b23d463dac"><div class="ttname"><a href="namespacellvm.html#a8154638df88e4eaa568b67b23d463dac">llvm::make_early_inc_range</a></div><div class="ttdeci">iterator_range&lt; early_inc_iterator_impl&lt; detail::IterOfRange&lt; RangeT &gt; &gt; &gt; make_early_inc_range(RangeT &amp;&amp;Range)</div><div class="ttdoc">Make a range that does early increment to allow mutation of the underlying range without disrupting i...</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l00721">STLExtras.h:721</a></div></div>
<div class="ttc" id="aclassllvm_1_1PointerType_html"><div class="ttname"><a href="classllvm_1_1PointerType.html">llvm::PointerType</a></div><div class="ttdoc">Class to represent pointers.</div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00632">DerivedTypes.h:632</a></div></div>
<div class="ttc" id="anamespacellvm_html_a085e92ed481e12744fdf1740b4751327"><div class="ttname"><a href="namespacellvm.html#a085e92ed481e12744fdf1740b4751327">llvm::UpgradeIntrinsicCall</a></div><div class="ttdeci">void UpgradeIntrinsicCall(CallBase *CB, Function *NewFn)</div><div class="ttdoc">This is the complement to the above, replacing a specific call to an intrinsic function with a call t...</div><div class="ttdef"><b>Definition:</b> <a href="AutoUpgrade_8cpp_source.html#l02075">AutoUpgrade.cpp:2075</a></div></div>
<div class="ttc" id="aAutoUpgrade_8cpp_html_a33838167472af973190c867098e7bc49"><div class="ttname"><a href="AutoUpgrade_8cpp.html#a33838167472af973190c867098e7bc49">UpgradeX86ALIGNIntrinsics</a></div><div class="ttdeci">static Value * UpgradeX86ALIGNIntrinsics(IRBuilder&lt;&gt; &amp;Builder, Value *Op0, Value *Op1, Value *Shift, Value *Passthru, Value *Mask, bool IsVALIGN)</div><div class="ttdef"><b>Definition:</b> <a href="AutoUpgrade_8cpp_source.html#l01336">AutoUpgrade.cpp:1336</a></div></div>
<div class="ttc" id="aclassllvm_1_1details_1_1FixedOrScalableQuantity_html_a33880aaca0ad05e5f1557f079305bde5"><div class="ttname"><a href="classllvm_1_1details_1_1FixedOrScalableQuantity.html#a33880aaca0ad05e5f1557f079305bde5">llvm::details::FixedOrScalableQuantity::getFixedValue</a></div><div class="ttdeci">constexpr ScalarTy getFixedValue() const</div><div class="ttdef"><b>Definition:</b> <a href="TypeSize_8h_source.html#l00182">TypeSize.h:182</a></div></div>
<div class="ttc" id="aclassllvm_1_1NamedMDNode_html_aa24b566603d206b0e74bf63daf521078"><div class="ttname"><a href="classllvm_1_1NamedMDNode.html#aa24b566603d206b0e74bf63daf521078">llvm::NamedMDNode::getOperand</a></div><div class="ttdeci">MDNode * getOperand(unsigned i) const</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8cpp_source.html#l01215">Metadata.cpp:1215</a></div></div>
<div class="ttc" id="anamespacellvm_html_a264176188c0aadccd3ca5b6929b5a2e1a1d5b772bea21e5e949413e09eedf17de"><div class="ttname"><a href="namespacellvm.html#a264176188c0aadccd3ca5b6929b5a2e1a1d5b772bea21e5e949413e09eedf17de">llvm::AllocFnKind::Aligned</a></div><div class="ttdeci">@ Aligned</div></div>
<div class="ttc" id="aclassllvm_1_1Function_html_a6adbed68009f582caa84cdfd2adf36f1"><div class="ttname"><a href="classllvm_1_1Function.html#a6adbed68009f582caa84cdfd2adf36f1">llvm::Function::Create</a></div><div class="ttdeci">static Function * Create(FunctionType *Ty, LinkageTypes Linkage, unsigned AddrSpace, const Twine &amp;N=&quot;&quot;, Module *M=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00136">Function.h:136</a></div></div>
<div class="ttc" id="aIRBuilder_8h_html"><div class="ttname"><a href="IRBuilder_8h.html">IRBuilder.h</a></div></div>
<div class="ttc" id="aSILowerControlFlow_8cpp_html_a4868c5d81c5ccc98c47aeab6244346a0"><div class="ttname"><a href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a></div><div class="ttdeci">assert(ImpDefSCC.getReg()==AMDGPU::SCC &amp;&amp;ImpDefSCC.isDef())</div></div>
<div class="ttc" id="aRegex_8h_html"><div class="ttname"><a href="Regex_8h.html">Regex.h</a></div></div>
<div class="ttc" id="anamespacestd_html_ab8424022895aee3e366fb9a32f2883cb"><div class="ttname"><a href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a></div><div class="ttdeci">void swap(llvm::BitVector &amp;LHS, llvm::BitVector &amp;RHS)</div><div class="ttdoc">Implement std::swap in terms of BitVector swap.</div><div class="ttdef"><b>Definition:</b> <a href="BitVector_8h_source.html#l00853">BitVector.h:853</a></div></div>
<div class="ttc" id="alib_2Target_2ARM_2README_8txt_html_ae2bb081d94f22e64ca6bc4bd58512a93"><div class="ttname"><a href="lib_2Target_2ARM_2README_8txt.html#ae2bb081d94f22e64ca6bc4bd58512a93">memcpy</a></div><div class="ttdeci">&lt;%struct.s * &gt; cast struct s *S to sbyte *&lt; sbyte * &gt; sbyte uint cast struct s *agg result to sbyte *&lt; sbyte * &gt; sbyte uint cast struct s *memtmp to sbyte *&lt; sbyte * &gt; sbyte uint ret void llc ends up issuing two memcpy or custom lower memcpy(of small size) to be ldmia/stmia. I think option 2 is better but the current register allocator cannot allocate a chunk of registers at a time. A feasible temporary solution is to use specific physical registers at the lowering time for small(&lt;</div></div>
<div class="ttc" id="aTargetLibraryInfo_8cpp_html_aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053"><div class="ttname"><a href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a></div><div class="ttdeci">@ Ptr</div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8cpp_source.html#l00062">TargetLibraryInfo.cpp:62</a></div></div>
<div class="ttc" id="aclassllvm_1_1Module_html"><div class="ttname"><a href="classllvm_1_1Module.html">llvm::Module</a></div><div class="ttdoc">A Module instance is used to store all the information related to an LLVM module.</div><div class="ttdef"><b>Definition:</b> <a href="Module_8h_source.html#l00065">Module.h:65</a></div></div>
<div class="ttc" id="aclassllvm_1_1MDNode_html"><div class="ttname"><a href="classllvm_1_1MDNode.html">llvm::MDNode</a></div><div class="ttdoc">Metadata node.</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l00943">Metadata.h:943</a></div></div>
<div class="ttc" id="aAutoUpgrade_8cpp_html_a906a7515b5e0d0eae63408ba09662ec3"><div class="ttname"><a href="AutoUpgrade_8cpp.html#a906a7515b5e0d0eae63408ba09662ec3">isOldLoopArgument</a></div><div class="ttdeci">static bool isOldLoopArgument(Metadata *MD)</div><div class="ttdef"><b>Definition:</b> <a href="AutoUpgrade_8cpp_source.html#l04836">AutoUpgrade.cpp:4836</a></div></div>
<div class="ttc" id="aAssumeBundleBuilder_8cpp_html_afb136e0532bcaed86521b462e6538d62"><div class="ttname"><a href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a></div><div class="ttdeci">assume Assume Builder</div><div class="ttdef"><b>Definition:</b> <a href="AssumeBundleBuilder_8cpp_source.html#l00651">AssumeBundleBuilder.cpp:651</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html"><div class="ttname"><a href="classllvm_1_1APInt.html">llvm::APInt</a></div><div class="ttdoc">Class for arbitrary precision integers.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00075">APInt.h:75</a></div></div>
<div class="ttc" id="aM68kELFObjectWriter_8cpp_html_ae4a8bc3879d2282eefd72b16b12c2a37"><div class="ttname"><a href="M68kELFObjectWriter_8cpp.html#ae4a8bc3879d2282eefd72b16b12c2a37">getType</a></div><div class="ttdeci">static M68kRelType getType(unsigned Kind, MCSymbolRefExpr::VariantKind &amp;Modifier, bool &amp;IsPCRel)</div><div class="ttdef"><b>Definition:</b> <a href="M68kELFObjectWriter_8cpp_source.html#l00048">M68kELFObjectWriter.cpp:48</a></div></div>
<div class="ttc" id="aTriple_8h_html"><div class="ttname"><a href="Triple_8h.html">Triple.h</a></div></div>
<div class="ttc" id="aLoopDataPrefetch_8cpp_html_af1aa8156fe6dc9478d31e05cf3c1eb9b"><div class="ttname"><a href="LoopDataPrefetch_8cpp.html#af1aa8156fe6dc9478d31e05cf3c1eb9b">prefetch</a></div><div class="ttdeci">loop data prefetch</div><div class="ttdef"><b>Definition:</b> <a href="LoopDataPrefetch_8cpp_source.html#l00149">LoopDataPrefetch.cpp:149</a></div></div>
<div class="ttc" id="aclassllvm_1_1Function_html_a4d0a7baab8d078065b2de10e3460892a"><div class="ttname"><a href="classllvm_1_1Function.html#a4d0a7baab8d078065b2de10e3460892a">llvm::Function::getIntrinsicID</a></div><div class="ttdeci">Intrinsic::ID getIntrinsicID() const LLVM_READONLY</div><div class="ttdoc">getIntrinsicID - This method returns the ID number of the specified function, or Intrinsic::not_intri...</div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00204">Function.h:204</a></div></div>
<div class="ttc" id="anamespacellvm_1_1APIntOps_html_a87e2895d880926d0b9a2128b3acfc9dd"><div class="ttname"><a href="namespacellvm_1_1APIntOps.html#a87e2895d880926d0b9a2128b3acfc9dd">llvm::APIntOps::smin</a></div><div class="ttdeci">const APInt &amp; smin(const APInt &amp;A, const APInt &amp;B)</div><div class="ttdoc">Determine the smaller of two APInts considered to be signed.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l02175">APInt.h:2175</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallBase_html_ac62778065b99372cc62cf994b967e7e8"><div class="ttname"><a href="classllvm_1_1CallBase.html#ac62778065b99372cc62cf994b967e7e8">llvm::CallBase::getIntrinsicID</a></div><div class="ttdeci">Intrinsic::ID getIntrinsicID() const</div><div class="ttdoc">Returns the intrinsic ID of the intrinsic called or Intrinsic::not_intrinsic if the called function i...</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8cpp_source.html#l00322">Instructions.cpp:322</a></div></div>
<div class="ttc" id="aAutoUpgrade_8cpp_html_a6323b0c36af4c6f73cce3e417d864a80"><div class="ttname"><a href="AutoUpgrade_8cpp.html#a6323b0c36af4c6f73cce3e417d864a80">UpgradeX86IntrinsicFunction</a></div><div class="ttdeci">static bool UpgradeX86IntrinsicFunction(Function *F, StringRef Name, Function *&amp;NewFn)</div><div class="ttdef"><b>Definition:</b> <a href="AutoUpgrade_8cpp_source.html#l00440">AutoUpgrade.cpp:440</a></div></div>
<div class="ttc" id="aAutoUpgrade_8cpp_html_ae5383b17ad4db3db85c32605138edf2e"><div class="ttname"><a href="AutoUpgrade_8cpp.html#ae5383b17ad4db3db85c32605138edf2e">UpgradeX86BF16DPIntrinsic</a></div><div class="ttdeci">static bool UpgradeX86BF16DPIntrinsic(Function *F, Intrinsic::ID IID, Function *&amp;NewFn)</div><div class="ttdef"><b>Definition:</b> <a href="AutoUpgrade_8cpp_source.html#l00095">AutoUpgrade.cpp:95</a></div></div>
<div class="ttc" id="aclassllvm_1_1ArrayRef_html"><div class="ttname"><a href="classllvm_1_1ArrayRef.html">llvm::ArrayRef</a></div><div class="ttdoc">ArrayRef - Represent a constant reference to an array (0 or more elements consecutively in memory),...</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00033">APInt.h:33</a></div></div>
<div class="ttc" id="aclassllvm_1_1StructType_html"><div class="ttname"><a href="classllvm_1_1StructType.html">llvm::StructType</a></div><div class="ttdoc">Class to represent struct types.</div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00213">DerivedTypes.h:213</a></div></div>
<div class="ttc" id="aclassllvm_1_1StringRef_html"><div class="ttname"><a href="classllvm_1_1StringRef.html">llvm::StringRef</a></div><div class="ttdoc">StringRef - Represent a constant reference to a string, i.e.</div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00050">StringRef.h:50</a></div></div>
<div class="ttc" id="aInstVisitor_8h_html"><div class="ttname"><a href="InstVisitor_8h.html">InstVisitor.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1DiagnosticInfoIgnoringInvalidDebugMetadata_html"><div class="ttname"><a href="classllvm_1_1DiagnosticInfoIgnoringInvalidDebugMetadata.html">llvm::DiagnosticInfoIgnoringInvalidDebugMetadata</a></div><div class="ttdoc">Diagnostic information for stripping invalid debug metadata.</div><div class="ttdef"><b>Definition:</b> <a href="DiagnosticInfo_8h_source.html#l00213">DiagnosticInfo.h:213</a></div></div>
<div class="ttc" id="aSupport_2ErrorHandling_8h_html_ace243f5c25697a1107cce46626b3dc94"><div class="ttname"><a href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a></div><div class="ttdeci">#define llvm_unreachable(msg)</div><div class="ttdoc">Marks that the current location is not supposed to be reachable.</div><div class="ttdef"><b>Definition:</b> <a href="Support_2ErrorHandling_8h_source.html#l00143">ErrorHandling.h:143</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_a6393a2d4fe7e10b28a0dcc35f881567b"><div class="ttname"><a href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">llvm::Value::getType</a></div><div class="ttdeci">Type * getType() const</div><div class="ttdoc">All values are typed, get the type of this value.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00255">Value.h:255</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_a3ab5fc45117b450e8bb04e564cb6e5f2"><div class="ttname"><a href="classllvm_1_1Value.html#a3ab5fc45117b450e8bb04e564cb6e5f2">llvm::Value::replaceAllUsesWith</a></div><div class="ttdeci">void replaceAllUsesWith(Value *V)</div><div class="ttdoc">Change all uses of this to point to a new Value.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8cpp_source.html#l00532">Value.cpp:532</a></div></div>
<div class="ttc" id="aREADME__ALTIVEC_8txt_html_a015846b6188ce15e08cd94c74a9df1a3"><div class="ttname"><a href="README__ALTIVEC_8txt.html#a015846b6188ce15e08cd94c74a9df1a3">A</a></div><div class="ttdeci">* A</div><div class="ttdef"><b>Definition:</b> <a href="README__ALTIVEC_8txt_source.html#l00089">README_ALTIVEC.txt:89</a></div></div>
<div class="ttc" id="anamespacellvm_html_ab7af0c09900daed62bbdb01dba180f7ca971fd8cc345d8bd9f92e9f7d88fdf20c"><div class="ttname"><a href="namespacellvm.html#ab7af0c09900daed62bbdb01dba180f7ca971fd8cc345d8bd9f92e9f7d88fdf20c">llvm::RoundingMode::Dynamic</a></div><div class="ttdeci">@ Dynamic</div><div class="ttdoc">Denotes mode unknown at compile time.</div></div>
<div class="ttc" id="aclassuint32__t_html"><div class="ttname"><a href="classuint32__t.html">uint32_t</a></div></div>
<div class="ttc" id="aAutoUpgrade_8cpp_html_a83de8b7abeb3720f57ce5bb604614e63"><div class="ttname"><a href="AutoUpgrade_8cpp.html#a83de8b7abeb3720f57ce5bb604614e63">UpgradeX86IntrinsicsWith8BitMask</a></div><div class="ttdeci">static bool UpgradeX86IntrinsicsWith8BitMask(Function *F, Intrinsic::ID IID, Function *&amp;NewFn)</div><div class="ttdef"><b>Definition:</b> <a href="AutoUpgrade_8cpp_source.html#l00058">AutoUpgrade.cpp:58</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_ab3fc0225d8aaf8434026c3573f961f2c"><div class="ttname"><a href="classllvm_1_1Value.html#ab3fc0225d8aaf8434026c3573f961f2c">llvm::Value::getContext</a></div><div class="ttdeci">LLVMContext &amp; getContext() const</div><div class="ttdoc">All values hold a context through their type.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8cpp_source.html#l00994">Value.cpp:994</a></div></div>
<div class="ttc" id="aclassllvm_1_1ilist__node__impl_html_af719fc783be6589465137d997701a432"><div class="ttname"><a href="classllvm_1_1ilist__node__impl.html#af719fc783be6589465137d997701a432">llvm::ilist_node_impl::getIterator</a></div><div class="ttdeci">self_iterator getIterator()</div><div class="ttdef"><b>Definition:</b> <a href="ilist__node_8h_source.html#l00082">ilist_node.h:82</a></div></div>
<div class="ttc" id="aAArch64SLSHardening_8cpp_html_ad467c4ab9119043f9b7750ab986be61a"><div class="ttname"><a href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a></div><div class="ttdeci">MachineBasicBlock MachineBasicBlock::iterator DebugLoc DL</div><div class="ttdef"><b>Definition:</b> <a href="AArch64SLSHardening_8cpp_source.html#l00076">AArch64SLSHardening.cpp:76</a></div></div>
<div class="ttc" id="aAutoUpgrade_8cpp_html_a3d01e2a7400aef4c068c8efabfbd5273"><div class="ttname"><a href="AutoUpgrade_8cpp.html#a3d01e2a7400aef4c068c8efabfbd5273">UpgradeX86BF16Intrinsic</a></div><div class="ttdeci">static bool UpgradeX86BF16Intrinsic(Function *F, Intrinsic::ID IID, Function *&amp;NewFn)</div><div class="ttdef"><b>Definition:</b> <a href="AutoUpgrade_8cpp_source.html#l00085">AutoUpgrade.cpp:85</a></div></div>
<div class="ttc" id="alib_2Target_2ARM_2README_8txt_html_a1b45f45820a60c09244a87eb59824aec"><div class="ttname"><a href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a></div><div class="ttdeci">add sub stmia L5 ldr r0 bl L_printf $stub Instead of a and a wouldn t it be better to do three moves *Return an aggregate type is even return S</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2ARM_2README_8txt_source.html#l00210">README.txt:210</a></div></div>
<div class="ttc" id="aclassllvm_1_1InstVisitor_html"><div class="ttname"><a href="classllvm_1_1InstVisitor.html">llvm::InstVisitor</a></div><div class="ttdoc">Base class for instruction visitors.</div><div class="ttdef"><b>Definition:</b> <a href="InstVisitor_8h_source.html#l00078">InstVisitor.h:78</a></div></div>
<div class="ttc" id="aRISCVRedundantCopyElimination_8cpp_html_a77c69067ae8279bc00ab8757731e90d7"><div class="ttname"><a href="RISCVRedundantCopyElimination_8cpp.html#a77c69067ae8279bc00ab8757731e90d7">CC</a></div><div class="ttdeci">auto CC</div><div class="ttdef"><b>Definition:</b> <a href="RISCVRedundantCopyElimination_8cpp_source.html#l00079">RISCVRedundantCopyElimination.cpp:79</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_ab03652069eab17006c51f00c261a6a44"><div class="ttname"><a href="classllvm_1_1Type.html#ab03652069eab17006c51f00c261a6a44">llvm::Type::isPtrOrPtrVectorTy</a></div><div class="ttdeci">bool isPtrOrPtrVectorTy() const</div><div class="ttdoc">Return true if this is a pointer type or a vector of pointer types.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00255">Type.h:255</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_adb5c319f5905c1d3ca9eb5df546388c5"><div class="ttname"><a href="classllvm_1_1Value.html#adb5c319f5905c1d3ca9eb5df546388c5">llvm::Value::getName</a></div><div class="ttdeci">StringRef getName() const</div><div class="ttdoc">Return a constant reference to the value's name.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8cpp_source.html#l00308">Value.cpp:308</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoadInst_html"><div class="ttname"><a href="classllvm_1_1LoadInst.html">llvm::LoadInst</a></div><div class="ttdoc">An instruction for reading from memory.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00177">Instructions.h:177</a></div></div>
<div class="ttc" id="aclassllvm_1_1StringSwitch_html_aa691974996d9be968506bca2cc1229bd"><div class="ttname"><a href="classllvm_1_1StringSwitch.html#aa691974996d9be968506bca2cc1229bd">llvm::StringSwitch::Cases</a></div><div class="ttdeci">StringSwitch &amp; Cases(StringLiteral S0, StringLiteral S1, T Value)</div><div class="ttdef"><b>Definition:</b> <a href="StringSwitch_8h_source.html#l00090">StringSwitch.h:90</a></div></div>
<div class="ttc" id="aAutoUpgrade_8cpp_html_a53ed383dc1484814ef3ae100e28fbaaa"><div class="ttname"><a href="AutoUpgrade_8cpp.html#a53ed383dc1484814ef3ae100e28fbaaa">upgradeX86Rotate</a></div><div class="ttdeci">static Value * upgradeX86Rotate(IRBuilder&lt;&gt; &amp;Builder, CallBase &amp;CI, bool IsRotateRight)</div><div class="ttdef"><b>Definition:</b> <a href="AutoUpgrade_8cpp_source.html#l01458">AutoUpgrade.cpp:1458</a></div></div>
<div class="ttc" id="aclassllvm_1_1Init_html"><div class="ttname"><a href="classllvm_1_1Init.html">llvm::Init</a></div><div class="ttdef"><b>Definition:</b> <a href="Record_8h_source.html#l00282">Record.h:282</a></div></div>
<div class="ttc" id="aSampleProfWriter_8cpp_html_ac5f3689931c7238da06ba00cf1002c62"><div class="ttname"><a href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a></div><div class="ttdeci">raw_pwrite_stream &amp; OS</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfWriter_8cpp_source.html#l00053">SampleProfWriter.cpp:53</a></div></div>
<div class="ttc" id="aclassllvm_1_1StructType_html_a858efd7b61654c0de28c56f9adafa13d"><div class="ttname"><a href="classllvm_1_1StructType.html#a858efd7b61654c0de28c56f9adafa13d">llvm::StructType::getNumElements</a></div><div class="ttdeci">unsigned getNumElements() const</div><div class="ttdoc">Random access to the elements.</div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00327">DerivedTypes.h:327</a></div></div>
<div class="ttc" id="anamespacellvm_1_1Intrinsic_html_aefa39f6b622360ce4e947feb9f671b73"><div class="ttname"><a href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">llvm::Intrinsic::getDeclaration</a></div><div class="ttdeci">Function * getDeclaration(Module *M, ID id, ArrayRef&lt; Type * &gt; Tys=std::nullopt)</div><div class="ttdoc">Create or insert an LLVM Function declaration for an intrinsic, and return it.</div><div class="ttdef"><b>Definition:</b> <a href="Function_8cpp_source.html#l01502">Function.cpp:1502</a></div></div>
<div class="ttc" id="aAutoUpgrade_8cpp_html_ac51e32c0b3527179cca0f630b1129278"><div class="ttname"><a href="AutoUpgrade_8cpp.html#ac51e32c0b3527179cca0f630b1129278">upgradeLoopTag</a></div><div class="ttdeci">static MDString * upgradeLoopTag(LLVMContext &amp;C, StringRef OldTag)</div><div class="ttdef"><b>Definition:</b> <a href="AutoUpgrade_8cpp_source.html#l04848">AutoUpgrade.cpp:4848</a></div></div>
<div class="ttc" id="aAutoUpgrade_8cpp_html_ad5ce441da7ca13cf4d18b18831ee5e03"><div class="ttname"><a href="AutoUpgrade_8cpp.html#ad5ce441da7ca13cf4d18b18831ee5e03">UpgradeRetainReleaseMarker</a></div><div class="ttdeci">static bool UpgradeRetainReleaseMarker(Module &amp;M)</div><div class="ttdoc">This checks for objc retain release marker which should be upgraded.</div><div class="ttdef"><b>Definition:</b> <a href="AutoUpgrade_8cpp_source.html#l04486">AutoUpgrade.cpp:4486</a></div></div>
<div class="ttc" id="aclassllvm_1_1MDNode_html_a936739514bcdb01ddd2826fa70cf15a5"><div class="ttname"><a href="classllvm_1_1MDNode.html#a936739514bcdb01ddd2826fa70cf15a5">llvm::MDNode::getContext</a></div><div class="ttdeci">LLVMContext &amp; getContext() const</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l01107">Metadata.h:1107</a></div></div>
<div class="ttc" id="aclassllvm_1_1StringRef_html_a5db9240c74644c67759dd0f901fc3c7d"><div class="ttname"><a href="classllvm_1_1StringRef.html#a5db9240c74644c67759dd0f901fc3c7d">llvm::StringRef::size</a></div><div class="ttdeci">constexpr size_t size() const</div><div class="ttdoc">size - Get the string size.</div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00137">StringRef.h:137</a></div></div>
<div class="ttc" id="anamespacellvm_1_1APIntOps_html_a071b3581888d9e3b0b05cec58f152a91"><div class="ttname"><a href="namespacellvm_1_1APIntOps.html#a071b3581888d9e3b0b05cec58f152a91">llvm::APIntOps::umax</a></div><div class="ttdeci">const APInt &amp; umax(const APInt &amp;A, const APInt &amp;B)</div><div class="ttdoc">Determine the larger of two APInts considered to be unsigned.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l02190">APInt.h:2190</a></div></div>
<div class="ttc" id="aclassllvm_1_1Twine_html"><div class="ttname"><a href="classllvm_1_1Twine.html">llvm::Twine</a></div><div class="ttdoc">Twine - A lightweight data structure for efficiently representing the concatenation of temporary valu...</div><div class="ttdef"><b>Definition:</b> <a href="Twine_8h_source.html#l00081">Twine.h:81</a></div></div>
<div class="ttc" id="aAutoUpgrade_8cpp_html_a496d349b63e703d1466e7dea54746222"><div class="ttname"><a href="AutoUpgrade_8cpp.html#a496d349b63e703d1466e7dea54746222">UpgradeX86MaskedFPCompare</a></div><div class="ttdeci">static bool UpgradeX86MaskedFPCompare(Function *F, Intrinsic::ID IID, Function *&amp;NewFn)</div><div class="ttdef"><b>Definition:</b> <a href="AutoUpgrade_8cpp_source.html#l00074">AutoUpgrade.cpp:74</a></div></div>
<div class="ttc" id="aVerifier_8h_html"><div class="ttname"><a href="Verifier_8h.html">Verifier.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalableVectorType_html_a7d023efe1bca32cc811885cc20a53ca7"><div class="ttname"><a href="classllvm_1_1ScalableVectorType.html#a7d023efe1bca32cc811885cc20a53ca7">llvm::ScalableVectorType::getMinNumElements</a></div><div class="ttdeci">uint64_t getMinNumElements() const</div><div class="ttdoc">Get the minimum number of elements in this vector.</div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00620">DerivedTypes.h:620</a></div></div>
<div class="ttc" id="anamespacellvm_1_1GraphProgram_html_a0ad4685976f8c4d4a697a53fbe05d10b"><div class="ttname"><a href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">llvm::GraphProgram::Name</a></div><div class="ttdeci">Name</div><div class="ttdef"><b>Definition:</b> <a href="GraphWriter_8h_source.html#l00050">GraphWriter.h:50</a></div></div>
<div class="ttc" id="aclassllvm_1_1Constant_html_aa6574d526b3e38a28f688a7bb4325c2c"><div class="ttname"><a href="classllvm_1_1Constant.html#aa6574d526b3e38a28f688a7bb4325c2c">llvm::Constant::getNullValue</a></div><div class="ttdeci">static Constant * getNullValue(Type *Ty)</div><div class="ttdoc">Constructor to create a '0' constant of arbitrary type.</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l00356">Constants.cpp:356</a></div></div>
<div class="ttc" id="aclassllvm_1_1OperandBundleDefT_html_aafd670922cb0e577561bb2aec9677683"><div class="ttname"><a href="classllvm_1_1OperandBundleDefT.html#aafd670922cb0e577561bb2aec9677683">llvm::OperandBundleDefT::getTag</a></div><div class="ttdeci">StringRef getTag() const</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l01160">InstrTypes.h:1160</a></div></div>
<div class="ttc" id="alib_2Target_2PowerPC_2README_8txt_html_aa91241c8c54738377749dc47ee489e0d"><div class="ttname"><a href="lib_2Target_2PowerPC_2README_8txt.html#aa91241c8c54738377749dc47ee489e0d">get</a></div><div class="ttdeci">Should compile to something r4 addze r3 instead we get</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2PowerPC_2README_8txt_source.html#l00024">README.txt:24</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1SendMsg_html_a8594419a4ddfad2c9a79279c490e466d"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">llvm::AMDGPU::SendMsg::Op</a></div><div class="ttdeci">Op</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00357">SIDefines.h:357</a></div></div>
<div class="ttc" id="aAutoUpgrade_8cpp_html_af631ff2d8f998127c4f43154c07ebcba"><div class="ttname"><a href="AutoUpgrade_8cpp.html#af631ff2d8f998127c4f43154c07ebcba">getX86MaskVec</a></div><div class="ttdeci">static Value * getX86MaskVec(IRBuilder&lt;&gt; &amp;Builder, Value *Mask, unsigned NumElts)</div><div class="ttdef"><b>Definition:</b> <a href="AutoUpgrade_8cpp_source.html#l01287">AutoUpgrade.cpp:1287</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallBase_html_adde2ea00dd2613ee41bfe91908e4e68e"><div class="ttname"><a href="classllvm_1_1CallBase.html#adde2ea00dd2613ee41bfe91908e4e68e">llvm::CallBase::arg_size</a></div><div class="ttdeci">unsigned arg_size() const</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l01349">InstrTypes.h:1349</a></div></div>
<div class="ttc" id="aDiagnosticInfo_8h_html"><div class="ttname"><a href="DiagnosticInfo_8h.html">DiagnosticInfo.h</a></div></div>
<div class="ttc" id="aFunction_8h_html"><div class="ttname"><a href="Function_8h.html">Function.h</a></div></div>
<div class="ttc" id="aAutoUpgrade_8cpp_html_a37575081a284565225e7286c89daea0a"><div class="ttname"><a href="AutoUpgrade_8cpp.html#a37575081a284565225e7286c89daea0a">upgradeMaskedCompare</a></div><div class="ttdeci">static Value * upgradeMaskedCompare(IRBuilder&lt;&gt; &amp;Builder, CallBase &amp;CI, unsigned CC, bool Signed)</div><div class="ttdef"><b>Definition:</b> <a href="AutoUpgrade_8cpp_source.html#l01666">AutoUpgrade.cpp:1666</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_adc01a7457de85fc52a3bb860d7e1c6a4"><div class="ttname"><a href="classllvm_1_1Type.html#adc01a7457de85fc52a3bb860d7e1c6a4">llvm::Type::getPointerTo</a></div><div class="ttdeci">PointerType * getPointerTo(unsigned AddrSpace=0) const</div><div class="ttdoc">Return a pointer to the current type.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00776">Type.cpp:776</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AttributeFuncs_html_ae48bd752d74f193a0651b89931b28025"><div class="ttname"><a href="namespacellvm_1_1AttributeFuncs.html#ae48bd752d74f193a0651b89931b28025">llvm::AttributeFuncs::typeIncompatible</a></div><div class="ttdeci">AttributeMask typeIncompatible(Type *Ty, AttributeSafetyKind ASK=ASK_ALL)</div><div class="ttdoc">Which attributes cannot be applied to a type.</div><div class="ttdef"><b>Definition:</b> <a href="Attributes_8cpp_source.html#l01889">Attributes.cpp:1889</a></div></div>
<div class="ttc" id="aclassllvm_1_1Function_html_adf50671db83d2813e0d897ea2cfc9102"><div class="ttname"><a href="classllvm_1_1Function.html#adf50671db83d2813e0d897ea2cfc9102">llvm::Function::getFunctionType</a></div><div class="ttdeci">FunctionType * getFunctionType() const</div><div class="ttdoc">Returns the FunctionType for me.</div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00174">Function.h:174</a></div></div>
<div class="ttc" id="aStringSwitch_8h_html"><div class="ttname"><a href="StringSwitch_8h.html">StringSwitch.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_ae3aa33c6054ec18e1d6bc6466d1b4103"><div class="ttname"><a href="classllvm_1_1Type.html#ae3aa33c6054ec18e1d6bc6466d1b4103">llvm::Type::getBFloatTy</a></div><div class="ttdeci">static Type * getBFloatTy(LLVMContext &amp;C)</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00227">Type.cpp:227</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallBase_html_a7ac9329ef7292ee640d87f45ce7ae05c"><div class="ttname"><a href="classllvm_1_1CallBase.html#a7ac9329ef7292ee640d87f45ce7ae05c">llvm::CallBase::getCalledOperand</a></div><div class="ttdeci">Value * getCalledOperand() const</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l01399">InstrTypes.h:1399</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallBase_html_ad70fe60b7ed052c6a74863944b518251"><div class="ttname"><a href="classllvm_1_1CallBase.html#ad70fe60b7ed052c6a74863944b518251">llvm::CallBase::setCalledOperand</a></div><div class="ttdeci">void setCalledOperand(Value *V)</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l01442">InstrTypes.h:1442</a></div></div>
<div class="ttc" id="anamespacellvm_1_1RISCVMatInt_html_a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c"><div class="ttname"><a href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">llvm::RISCVMatInt::Imm</a></div><div class="ttdeci">@ Imm</div><div class="ttdef"><b>Definition:</b> <a href="RISCVMatInt_8h_source.html#l00023">RISCVMatInt.h:23</a></div></div>
<div class="ttc" id="astructllvm_1_1Intrinsic_1_1IITDescriptor_html_a4bdf4f1a432b628d6c78a4942244c0fcab4f1ac6b37c7049da733e72ef90eabcd"><div class="ttname"><a href="structllvm_1_1Intrinsic_1_1IITDescriptor.html#a4bdf4f1a432b628d6c78a4942244c0fcab4f1ac6b37c7049da733e72ef90eabcd">llvm::Intrinsic::IITDescriptor::Struct</a></div><div class="ttdeci">@ Struct</div><div class="ttdef"><b>Definition:</b> <a href="Intrinsics_8h_source.html#l00125">Intrinsics.h:125</a></div></div>
<div class="ttc" id="aclassllvm_1_1User_html_addec638786f763d967811b45cb662f1f"><div class="ttname"><a href="classllvm_1_1User.html#addec638786f763d967811b45cb662f1f">llvm::User::getNumOperands</a></div><div class="ttdeci">unsigned getNumOperands() const</div><div class="ttdef"><b>Definition:</b> <a href="User_8h_source.html#l00191">User.h:191</a></div></div>
<div class="ttc" id="anamespacellvm_html_a40c011ab750e2b4ea0d6b8076345cb0c"><div class="ttname"><a href="namespacellvm.html#a40c011ab750e2b4ea0d6b8076345cb0c">llvm::UpgradeModuleFlags</a></div><div class="ttdeci">bool UpgradeModuleFlags(Module &amp;M)</div><div class="ttdoc">This checks for module flags which should be upgraded.</div><div class="ttdef"><b>Definition:</b> <a href="AutoUpgrade_8cpp_source.html#l04631">AutoUpgrade.cpp:4631</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallBase_html_ab2caa29167597390ab2fc3cf30d70389"><div class="ttname"><a href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">llvm::CallBase::getArgOperand</a></div><div class="ttdeci">Value * getArgOperand(unsigned i) const</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l01351">InstrTypes.h:1351</a></div></div>
<div class="ttc" id="aregcomp_8c_html_a0240ac851181b84ac374872dc5434ee4"><div class="ttname"><a href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a></div><div class="ttdeci">#define N</div></div>
<div class="ttc" id="aAutoUpgrade_8cpp_html_ac03fa12298f2b2ef59db774839aa630f"><div class="ttname"><a href="AutoUpgrade_8cpp.html#ac03fa12298f2b2ef59db774839aa630f">rename</a></div><div class="ttdeci">static void rename(GlobalValue *GV)</div><div class="ttdef"><b>Definition:</b> <a href="AutoUpgrade_8cpp_source.html#l00038">AutoUpgrade.cpp:38</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html_a1a7f07aaef6a3bee130bf0e0f0536802"><div class="ttname"><a href="classllvm_1_1Instruction.html#a1a7f07aaef6a3bee130bf0e0f0536802">llvm::Instruction::getParent</a></div><div class="ttdeci">const BasicBlock * getParent() const</div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8h_source.html#l00090">Instruction.h:90</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_a095ce2d870dadf620a4c887ecc0efef8"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#a095ce2d870dadf620a4c887ecc0efef8">llvm::MachineBasicBlock::empty</a></div><div class="ttdeci">bool empty() const</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00281">MachineBasicBlock.h:281</a></div></div>
<div class="ttc" id="aclassllvm_1_1raw__svector__ostream_html"><div class="ttname"><a href="classllvm_1_1raw__svector__ostream.html">llvm::raw_svector_ostream</a></div><div class="ttdoc">A raw_ostream that writes to an SmallVector or SmallString.</div><div class="ttdef"><b>Definition:</b> <a href="raw__ostream_8h_source.html#l00672">raw_ostream.h:672</a></div></div>
<div class="ttc" id="aAutoUpgrade_8h_html"><div class="ttname"><a href="AutoUpgrade_8h.html">AutoUpgrade.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1StructType_html_a6cb66137274f95e4bf6b324b8af9ab56"><div class="ttname"><a href="classllvm_1_1StructType.html#a6cb66137274f95e4bf6b324b8af9ab56">llvm::StructType::getElementType</a></div><div class="ttdeci">Type * getElementType(unsigned N) const</div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00328">DerivedTypes.h:328</a></div></div>
<div class="ttc" id="aclassllvm_1_1StringSwitch_html_a7f0e82e8a818ca43926fceb49be81661"><div class="ttname"><a href="classllvm_1_1StringSwitch.html#a7f0e82e8a818ca43926fceb49be81661">llvm::StringSwitch::Default</a></div><div class="ttdeci">R Default(T Value)</div><div class="ttdef"><b>Definition:</b> <a href="StringSwitch_8h_source.html#l00182">StringSwitch.h:182</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallBase_html"><div class="ttname"><a href="classllvm_1_1CallBase.html">llvm::CallBase</a></div><div class="ttdoc">Base class for all callable instructions (InvokeInst and CallInst) Holds everything related to callin...</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l01184">InstrTypes.h:1184</a></div></div>
<div class="ttc" id="anamespacellvm_html_ab9c6b351507d3c0730f4290919d43a12"><div class="ttname"><a href="namespacellvm.html#ab9c6b351507d3c0730f4290919d43a12">llvm::ArrayRef</a></div><div class="ttdeci">ArrayRef(const T &amp;OneElt) -&gt; ArrayRef&lt; T &gt;</div></div>
<div class="ttc" id="aclassllvm_1_1StringSwitch_html"><div class="ttname"><a href="classllvm_1_1StringSwitch.html">llvm::StringSwitch</a></div><div class="ttdoc">A switch()-like statement whose cases are string literals.</div><div class="ttdef"><b>Definition:</b> <a href="StringSwitch_8h_source.html#l00044">StringSwitch.h:44</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html_a29e0b1c558b350347e2652b35b26fea8"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#a29e0b1c558b350347e2652b35b26fea8">llvm::GlobalValue::getValueType</a></div><div class="ttdeci">Type * getValueType() const</div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00292">GlobalValue.h:292</a></div></div>
<div class="ttc" id="anamespacellvm_html_a1c6fc8ba1563e284eedf98783ea96259"><div class="ttname"><a href="namespacellvm.html#a1c6fc8ba1563e284eedf98783ea96259">llvm::UpgradeInlineAsmString</a></div><div class="ttdeci">void UpgradeInlineAsmString(std::string *AsmStr)</div><div class="ttdoc">Upgrade comment in call to inline asm that represents an objc retain release marker.</div><div class="ttdef"><b>Definition:</b> <a href="AutoUpgrade_8cpp_source.html#l01970">AutoUpgrade.cpp:1970</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallInst_html"><div class="ttname"><a href="classllvm_1_1CallInst.html">llvm::CallInst</a></div><div class="ttdoc">This class represents a function call, abstracting a target machine's calling convention.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01485">Instructions.h:1485</a></div></div>
<div class="ttc" id="aclassllvm_1_1DiagnosticInfoDebugMetadataVersion_html"><div class="ttname"><a href="classllvm_1_1DiagnosticInfoDebugMetadataVersion.html">llvm::DiagnosticInfoDebugMetadataVersion</a></div><div class="ttdoc">Diagnostic information for debug metadata version reporting.</div><div class="ttdef"><b>Definition:</b> <a href="DiagnosticInfo_8h_source.html#l00186">DiagnosticInfo.h:186</a></div></div>
<div class="ttc" id="anamespacellvm_html_a96bf50345388bc1f2d3727ac83477b05"><div class="ttname"><a href="namespacellvm.html#a96bf50345388bc1f2d3727ac83477b05">llvm::getDebugMetadataVersionFromModule</a></div><div class="ttdeci">unsigned getDebugMetadataVersionFromModule(const Module &amp;M)</div><div class="ttdoc">Return Debug Info Metadata Version by checking module flags.</div><div class="ttdef"><b>Definition:</b> <a href="DebugInfo_8cpp_source.html#l00889">DebugInfo.cpp:889</a></div></div>
<div class="ttc" id="aLLVMContext_8h_html"><div class="ttname"><a href="LLVMContext_8h.html">LLVMContext.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_ae855357b6c5e6e7ed1869272708a3a84"><div class="ttname"><a href="classllvm_1_1Value.html#ae855357b6c5e6e7ed1869272708a3a84">llvm::Value::takeName</a></div><div class="ttdeci">void takeName(Value *V)</div><div class="ttdoc">Transfer the name from V to this value.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8cpp_source.html#l00381">Value.cpp:381</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key_html_a1958a762261549463a280bac3274d6d5"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#a1958a762261549463a280bac3274d6d5">llvm::AMDGPU::HSAMD::Kernel::Key::Args</a></div><div class="ttdeci">constexpr char Args[]</div><div class="ttdoc">Key for Kernel::Metadata::mArgs.</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUMetadata_8h_source.html#l00394">AMDGPUMetadata.h:394</a></div></div>
<div class="ttc" id="aclassllvm_1_1User_html_abe1de1520a21f77ac57cc210bf0fb0b4"><div class="ttname"><a href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">llvm::User::getOperand</a></div><div class="ttdeci">Value * getOperand(unsigned i) const</div><div class="ttdef"><b>Definition:</b> <a href="User_8h_source.html#l00169">User.h:169</a></div></div>
<div class="ttc" id="aclassllvm_1_1Regex_html"><div class="ttname"><a href="classllvm_1_1Regex.html">llvm::Regex</a></div><div class="ttdef"><b>Definition:</b> <a href="Regex_8h_source.html#l00028">Regex.h:28</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVectorImpl_html_a499ea32ca1b8d16cedfe01d1e5b08f29"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html#a499ea32ca1b8d16cedfe01d1e5b08f29">llvm::SmallVectorImpl::reserve</a></div><div class="ttdeci">void reserve(size_type N)</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00667">SmallVector.h:667</a></div></div>
<div class="ttc" id="aclassllvm_1_1MDString_html"><div class="ttname"><a href="classllvm_1_1MDString.html">llvm::MDString</a></div><div class="ttdoc">A single uniqued string.</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l00611">Metadata.h:611</a></div></div>
<div class="ttc" id="anamespacellvm_html_a95b7e7311ec52352ada27699c3c9c470"><div class="ttname"><a href="namespacellvm.html#a95b7e7311ec52352ada27699c3c9c470">llvm::UpgradeGlobalVariable</a></div><div class="ttdeci">GlobalVariable * UpgradeGlobalVariable(GlobalVariable *GV)</div><div class="ttdoc">This checks for global variables which should be upgraded.</div><div class="ttdef"><b>Definition:</b> <a href="AutoUpgrade_8cpp_source.html#l01188">AutoUpgrade.cpp:1188</a></div></div>
<div class="ttc" id="anamespacellvm_html_a2816e84a08c108d18bc4665bc1817e01"><div class="ttname"><a href="namespacellvm.html#a2816e84a08c108d18bc4665bc1817e01">llvm::abs</a></div><div class="ttdeci">APFloat abs(APFloat X)</div><div class="ttdoc">Returns the absolute value of the argument.</div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8h_source.html#l01332">APFloat.h:1332</a></div></div>
<div class="ttc" id="aAutoUpgrade_8cpp_html_a6c619e6daaa1556965750a89419eaf87"><div class="ttname"><a href="AutoUpgrade_8cpp.html#a6c619e6daaa1556965750a89419eaf87">ApplyX86MaskOn1BitsVec</a></div><div class="ttdeci">static Value * ApplyX86MaskOn1BitsVec(IRBuilder&lt;&gt; &amp;Builder, Value *Vec, Value *Mask)</div><div class="ttdef"><b>Definition:</b> <a href="AutoUpgrade_8cpp_source.html#l01644">AutoUpgrade.cpp:1644</a></div></div>
<div class="ttc" id="anamespacellvm_html_a7d22c115f5634f10ef137c93c762ebca"><div class="ttname"><a href="namespacellvm.html#a7d22c115f5634f10ef137c93c762ebca">llvm::UpgradeDataLayoutString</a></div><div class="ttdeci">std::string UpgradeDataLayoutString(StringRef DL, StringRef Triple)</div><div class="ttdoc">Upgrade the datalayout string by adding a section for address space pointers.</div><div class="ttdef"><b>Definition:</b> <a href="AutoUpgrade_8cpp_source.html#l04898">AutoUpgrade.cpp:4898</a></div></div>
<div class="ttc" id="aclassllvm_1_1FunctionType_html_ac453ad79a3d50950bac79bc9dff85918"><div class="ttname"><a href="classllvm_1_1FunctionType.html#ac453ad79a3d50950bac79bc9dff85918">llvm::FunctionType::getReturnType</a></div><div class="ttdeci">Type * getReturnType() const</div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00124">DerivedTypes.h:124</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html"><div class="ttname"><a href="classllvm_1_1Value.html">llvm::Value</a></div><div class="ttdoc">LLVM Value Representation.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00074">Value.h:74</a></div></div>
<div class="ttc" id="aclassllvm_1_1VectorType_html_a8c90e6c50e795b17466482a04947690e"><div class="ttname"><a href="classllvm_1_1VectorType.html#a8c90e6c50e795b17466482a04947690e">llvm::VectorType::get</a></div><div class="ttdeci">static VectorType * get(Type *ElementType, ElementCount EC)</div><div class="ttdoc">This static method is the primary way to construct an VectorType.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00670">Type.cpp:670</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_ab4e0512c7e1c7adaa56677e3155685f1"><div class="ttname"><a href="classllvm_1_1Value.html#ab4e0512c7e1c7adaa56677e3155685f1">llvm::Value::users</a></div><div class="ttdeci">iterator_range&lt; user_iterator &gt; users()</div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00421">Value.h:421</a></div></div>
<div class="ttc" id="aclassllvm_1_1Module_html_a0a5c55e12c97b80021330fe82b642293"><div class="ttname"><a href="classllvm_1_1Module.html#a0a5c55e12c97b80021330fe82b642293">llvm::Module::ModFlagBehavior</a></div><div class="ttdeci">ModFlagBehavior</div><div class="ttdoc">This enumeration defines the supported behaviors of module flags.</div><div class="ttdef"><b>Definition:</b> <a href="Module_8h_source.html#l00115">Module.h:115</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_ad5e0fe0efdd88f98a5b5eb512d5351c2"><div class="ttname"><a href="classllvm_1_1Type.html#ad5e0fe0efdd88f98a5b5eb512d5351c2">llvm::Type::getFloatTy</a></div><div class="ttdeci">static Type * getFloatTy(LLVMContext &amp;C)</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00228">Type.cpp:228</a></div></div>
<div class="ttc" id="anamespacellvm_1_1APIntOps_html_afee2477c062b67b487941ee0f4ff95ba"><div class="ttname"><a href="namespacellvm_1_1APIntOps.html#afee2477c062b67b487941ee0f4ff95ba">llvm::APIntOps::smax</a></div><div class="ttdeci">const APInt &amp; smax(const APInt &amp;A, const APInt &amp;B)</div><div class="ttdoc">Determine the larger of two APInts considered to be signed.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l02180">APInt.h:2180</a></div></div>
<div class="ttc" id="aclassllvm_1_1StringRef_html_a3fb2867a1e9fa36e135d9ee4dffb0167"><div class="ttname"><a href="classllvm_1_1StringRef.html#a3fb2867a1e9fa36e135d9ee4dffb0167">llvm::StringRef::drop_front</a></div><div class="ttdeci">StringRef drop_front(size_t N=1) const</div><div class="ttdoc">Return a StringRef equal to 'this' but with the first N elements dropped.</div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00597">StringRef.h:597</a></div></div>
<div class="ttc" id="aclassllvm_1_1ArrayType_html_a7e5e750381e3dfafd746e95a0843bff7"><div class="ttname"><a href="classllvm_1_1ArrayType.html#a7e5e750381e3dfafd746e95a0843bff7">llvm::ArrayType::getElementType</a></div><div class="ttdeci">Type * getElementType() const</div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00370">DerivedTypes.h:370</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallBase_html_ac63dbb4994494c46f025715272cdb81e"><div class="ttname"><a href="classllvm_1_1CallBase.html#ac63dbb4994494c46f025715272cdb81e">llvm::CallBase::args</a></div><div class="ttdeci">iterator_range&lt; User::op_iterator &gt; args()</div><div class="ttdoc">Iteration adapter for range-for loops.</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l01342">InstrTypes.h:1342</a></div></div>
<div class="ttc" id="anamespacellvm_html_af8c14262d42a312c9026452162c9e0a6"><div class="ttname"><a href="namespacellvm.html#af8c14262d42a312c9026452162c9e0a6">llvm::verifyModule</a></div><div class="ttdeci">bool verifyModule(const Module &amp;M, raw_ostream *OS=nullptr, bool *BrokenDebugInfo=nullptr)</div><div class="ttdoc">Check a module for errors.</div><div class="ttdef"><b>Definition:</b> <a href="Verifier_8cpp_source.html#l06439">Verifier.cpp:6439</a></div></div>
<div class="ttc" id="aclassllvm_1_1FunctionType_html"><div class="ttname"><a href="classllvm_1_1FunctionType.html">llvm::FunctionType</a></div><div class="ttdoc">Class to represent function types.</div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00103">DerivedTypes.h:103</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_a833daf718a49c5cd637d8c9ddeaebe07"><div class="ttname"><a href="classllvm_1_1Type.html#a833daf718a49c5cd637d8c9ddeaebe07">llvm::Type::getPrimitiveSizeInBits</a></div><div class="ttdeci">TypeSize getPrimitiveSizeInBits() const LLVM_READONLY</div><div class="ttdoc">Return the basic size of this type if it is a primitive type.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00163">Type.cpp:163</a></div></div>
<div class="ttc" id="anamespacellvm_1_1Intrinsic_html_a80add6b3b1cdaec560907995127adc16"><div class="ttname"><a href="namespacellvm_1_1Intrinsic.html#a80add6b3b1cdaec560907995127adc16">llvm::Intrinsic::ID</a></div><div class="ttdeci">unsigned ID</div><div class="ttdef"><b>Definition:</b> <a href="TargetTransformInfo_8h_source.html#l00039">TargetTransformInfo.h:39</a></div></div>
<div class="ttc" id="aclassllvm_1_1PoisonValue_html_a1bf08613fb664a2e377a9a72c59a6b66"><div class="ttname"><a href="classllvm_1_1PoisonValue.html#a1bf08613fb664a2e377a9a72c59a6b66">llvm::PoisonValue::get</a></div><div class="ttdeci">static PoisonValue * get(Type *T)</div><div class="ttdoc">Static factory methods - Return an 'poison' object of the specified type.</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l01759">Constants.cpp:1759</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Aug 7 2023 10:04:50 for LLVM by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
