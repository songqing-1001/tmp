<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LLVM: include/llvm/Transforms/IPO/IROutliner.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LLVM
   &#160;<span id="projectnumber">17.0.0git</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="dir_dcde91663b8816e1e2311938ccd8f690.html">llvm</a></li><li class="navelem"><a class="el" href="dir_5625ec55672b6ae9c183a884d9f7b761.html">Transforms</a></li><li class="navelem"><a class="el" href="dir_c428120a13b4fcfa67c4846e4714add6.html">IPO</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">IROutliner.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="IROutliner_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//===- IROutliner.h - Extract similar IR regions into functions --*- C++ -*-==//</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// Part of the LLVM Project, under the Apache License v2.0 with LLVM Exceptions.</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">// See https://llvm.org/LICENSE.txt for license information.</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// SPDX-License-Identifier: Apache-2.0 WITH LLVM-exception</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">// \file</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">// The interface file for the IROutliner which is used by the IROutliner Pass.</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">// The outliner uses the IRSimilarityIdentifier to identify the similar regions</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">// of code.  It evaluates each set of IRSimilarityCandidates with an estimate of</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">// whether it will provide code size reduction.  Each region is extracted using</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment">// the code extractor.  These extracted functions are consolidated into a single</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment">// function and called from the extracted call site.</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment">// For example:</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment">// \code</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment">//   %1 = add i32 %a, %b</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment">//   %2 = add i32 %b, %a</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment">//   %3 = add i32 %b, %a</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment">//   %4 = add i32 %a, %b</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment">// \endcode</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment">// would become function</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment">// \code</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="comment">// define internal void outlined_ir_function(i32 %0, i32 %1) {</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="comment">//   %1 = add i32 %0, %1</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="comment">//   %2 = add i32 %1, %0</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="comment">//   ret void</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="comment">// }</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="comment">// \endcode</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="comment">// with calls:</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="comment">// \code</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="comment">//   call void outlined_ir_function(i32 %a, i32 %b)</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="comment">//   call void outlined_ir_function(i32 %b, i32 %a)</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="comment">// \endcode</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160; </div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">#ifndef LLVM_TRANSFORMS_IPO_IROUTLINER_H</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor">#define LLVM_TRANSFORMS_IPO_IROUTLINER_H</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160; </div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="IRSimilarityIdentifier_8h.html">llvm/Analysis/IRSimilarityIdentifier.h</a>&quot;</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="PassManager_8h.html">llvm/IR/PassManager.h</a>&quot;</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="InstructionCost_8h.html">llvm/Support/InstructionCost.h</a>&quot;</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="CodeExtractor_8h.html">llvm/Transforms/Utils/CodeExtractor.h</a>&quot;</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160; </div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="keyword">struct </span><a class="code" href="structOutlinableGroup.html">OutlinableGroup</a>;</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160; </div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacellvm.html">llvm</a> {</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacellvm_1_1ms__demangle.html#a1c7534e329bd2e3760c37d8123909e63">CallingConv</a>;</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="keyword">using namespace </span>IRSimilarity;</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160; </div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="keyword">class </span><a class="code" href="MachineCheckDebugify_8cpp.html#a85892acfa8970627e9bd9c9815f15c25">Module</a>;</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="keyword">class </span>TargetTransformInfo;</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="keyword">class </span>OptimizationRemarkEmitter;</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="comment">/// The OutlinableRegion holds all the information for a specific region, or</span></div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="comment">/// sequence of instructions. This includes what values need to be hoisted to</span></div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="comment">/// arguments from the extracted function, inputs and outputs to the region, and</span></div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="comment">/// mapping from the extracted function arguments to overall function arguments.</span></div>
<div class="line"><a name="l00063"></a><span class="lineno"><a class="line" href="structllvm_1_1OutlinableRegion.html">   63</a></span>&#160;<span class="comment"></span><span class="keyword">struct </span><a class="code" href="structllvm_1_1OutlinableRegion.html">OutlinableRegion</a> {<span class="comment"></span></div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="comment">  /// Describes the region of code.</span></div>
<div class="line"><a name="l00065"></a><span class="lineno"><a class="line" href="structllvm_1_1OutlinableRegion.html#a9db9e67d9d8c8f5c0cd2b8a64915f884">   65</a></span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1IRSimilarity_1_1IRSimilarityCandidate.html">IRSimilarityCandidate</a> *Candidate = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="comment">  /// If this region is outlined, the front and back IRInstructionData could</span></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="comment">  /// potentially become invalidated if the only new instruction is a call.</span></div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="comment">  /// This ensures that we replace in the instruction in the IRInstructionData.</span></div>
<div class="line"><a name="l00070"></a><span class="lineno"><a class="line" href="structllvm_1_1OutlinableRegion.html#a3a11fa118fe02011d314e8c435ab430e">   70</a></span>&#160;<span class="comment"></span>  <a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionData.html">IRInstructionData</a> *NewFront = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00071"></a><span class="lineno"><a class="line" href="structllvm_1_1OutlinableRegion.html#af3864a66e1f77cc31e2b1acbdc12bf89">   71</a></span>&#160;  <a class="code" href="structllvm_1_1IRSimilarity_1_1IRInstructionData.html">IRInstructionData</a> *NewBack = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="comment">  /// The number of extracted inputs from the CodeExtractor.</span></div>
<div class="line"><a name="l00074"></a><span class="lineno"><a class="line" href="structllvm_1_1OutlinableRegion.html#aa0bef07845f31f2c494f8e0565741dc9">   74</a></span>&#160;<span class="comment"></span>  <span class="keywordtype">unsigned</span> NumExtractedInputs = 0;</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="comment">  /// The corresponding BasicBlock with the appropriate stores for this</span></div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="comment">  /// OutlinableRegion in the overall function.</span></div>
<div class="line"><a name="l00078"></a><span class="lineno"><a class="line" href="structllvm_1_1OutlinableRegion.html#a262d2672038afdeba85e23a30ea4c22d">   78</a></span>&#160;<span class="comment"></span>  <span class="keywordtype">unsigned</span> OutputBlockNum = -1;</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="comment">  /// Mapping the extracted argument number to the argument number in the</span></div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="comment">  /// overall function.  Since there will be inputs, such as elevated constants</span></div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="comment">  /// that are not the same in each region in a SimilarityGroup, or values that</span></div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="comment">  /// cannot be sunk into the extracted section in every region, we must keep</span></div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="comment">  /// track of which extracted argument maps to which overall argument.</span></div>
<div class="line"><a name="l00085"></a><span class="lineno"><a class="line" href="structllvm_1_1OutlinableRegion.html#a7fd87f1e5fd502c0726451f97e8badf1">   85</a></span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;unsigned, unsigned&gt;</a> <a class="code" href="structllvm_1_1OutlinableRegion.html#a7fd87f1e5fd502c0726451f97e8badf1">ExtractedArgToAgg</a>;</div>
<div class="line"><a name="l00086"></a><span class="lineno"><a class="line" href="structllvm_1_1OutlinableRegion.html#a1e3fe29ac364265774e50fc0cecbda5c">   86</a></span>&#160;  <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;unsigned, unsigned&gt;</a> <a class="code" href="structllvm_1_1OutlinableRegion.html#a1e3fe29ac364265774e50fc0cecbda5c">AggArgToExtracted</a>;</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="comment">  /// Values in the outlined functions will often be replaced by arguments. When</span></div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;<span class="comment">  /// finding corresponding values from one region to another, the found value</span></div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;<span class="comment">  /// will be the value the argument previously replaced.  This structure maps</span></div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;<span class="comment">  /// any replaced values for the region to the aggregate aggregate argument</span></div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;<span class="comment">  /// in the overall function.</span></div>
<div class="line"><a name="l00093"></a><span class="lineno"><a class="line" href="structllvm_1_1OutlinableRegion.html#aa6e8e852e322a0a5383c6f0fce17daa2">   93</a></span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;Value *, Value *&gt;</a> <a class="code" href="structllvm_1_1OutlinableRegion.html#aa6e8e852e322a0a5383c6f0fce17daa2">RemappedArguments</a>;</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;<span class="comment">  /// Marks whether we need to change the order of the arguments when mapping</span></div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;<span class="comment">  /// the old extracted function call to the new aggregate outlined function</span></div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;<span class="comment">  /// call.</span></div>
<div class="line"><a name="l00098"></a><span class="lineno"><a class="line" href="structllvm_1_1OutlinableRegion.html#a73d359ff9ba96a1a4576533dbb8d91b9">   98</a></span>&#160;<span class="comment"></span>  <span class="keywordtype">bool</span> ChangedArgOrder = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;<span class="comment">  /// Marks whether this region ends in a branch, there is special handling</span></div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;<span class="comment">  /// required for the following basic blocks in this case.</span></div>
<div class="line"><a name="l00102"></a><span class="lineno"><a class="line" href="structllvm_1_1OutlinableRegion.html#ad9bf08399ff5638f26f2f4eac57e03b2">  102</a></span>&#160;<span class="comment"></span>  <span class="keywordtype">bool</span> EndsInBranch = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;<span class="comment">  /// The PHIBlocks with their corresponding return block based on the return</span></div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;<span class="comment">  /// value as the key.</span></div>
<div class="line"><a name="l00106"></a><span class="lineno"><a class="line" href="structllvm_1_1OutlinableRegion.html#aa6c689b51914b57c17eac0a2dbbacda6">  106</a></span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;Value *, BasicBlock *&gt;</a> <a class="code" href="structllvm_1_1OutlinableRegion.html#aa6c689b51914b57c17eac0a2dbbacda6">PHIBlocks</a>;</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;<span class="comment">  /// Mapping of the argument number in the deduplicated function</span></div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;<span class="comment">  /// to a given constant, which is used when creating the arguments to the call</span></div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;<span class="comment">  /// to the newly created deduplicated function.  This is handled separately</span></div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;<span class="comment">  /// since the CodeExtractor does not recognize constants.</span></div>
<div class="line"><a name="l00112"></a><span class="lineno"><a class="line" href="structllvm_1_1OutlinableRegion.html#a0b119747211b5b2e6b4dbe6c50eb84fb">  112</a></span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;unsigned, Constant *&gt;</a> <a class="code" href="structllvm_1_1OutlinableRegion.html#a0b119747211b5b2e6b4dbe6c50eb84fb">AggArgToConstant</a>;</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;<span class="comment">  /// The global value numbers that are used as outputs for this section. Once</span></div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;<span class="comment">  /// extracted, each output will be stored to an output register.  This</span></div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;<span class="comment">  /// documents the global value numbers that are used in this pattern.</span></div>
<div class="line"><a name="l00117"></a><span class="lineno"><a class="line" href="structllvm_1_1OutlinableRegion.html#a3c92ed5a8ec132b80f7737cba8bad0e8">  117</a></span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;unsigned, 4&gt;</a> <a class="code" href="structllvm_1_1OutlinableRegion.html#a3c92ed5a8ec132b80f7737cba8bad0e8">GVNStores</a>;</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;<span class="comment">  /// Used to create an outlined function.</span></div>
<div class="line"><a name="l00120"></a><span class="lineno"><a class="line" href="structllvm_1_1OutlinableRegion.html#a06ee910ecb16eaaab4f069fa05c2a95a">  120</a></span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1CodeExtractor.html">CodeExtractor</a> *CE = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;<span class="comment">  /// The call site of the extracted region.</span></div>
<div class="line"><a name="l00123"></a><span class="lineno"><a class="line" href="structllvm_1_1OutlinableRegion.html#a018669f7b1d6a21106f47398a087c30a">  123</a></span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *Call = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;<span class="comment">  /// The function for the extracted region.</span></div>
<div class="line"><a name="l00126"></a><span class="lineno"><a class="line" href="structllvm_1_1OutlinableRegion.html#ad5dce467e0d3954ba812f2e9611810b4">  126</a></span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1Function.html">Function</a> *ExtractedFunction = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;<span class="comment">  /// Flag for whether we have split out the IRSimilarityCanidate. That is,</span></div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;<span class="comment">  /// make the region contained the IRSimilarityCandidate its own BasicBlock.</span></div>
<div class="line"><a name="l00130"></a><span class="lineno"><a class="line" href="structllvm_1_1OutlinableRegion.html#a6a1b95a7f7c90784102fd63ffaa0ea00">  130</a></span>&#160;<span class="comment"></span>  <span class="keywordtype">bool</span> CandidateSplit = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;<span class="comment">  /// Flag for whether we should not consider this region for extraction.</span></div>
<div class="line"><a name="l00133"></a><span class="lineno"><a class="line" href="structllvm_1_1OutlinableRegion.html#a737734321cd2dd3896e64015cab7ab95">  133</a></span>&#160;<span class="comment"></span>  <span class="keywordtype">bool</span> IgnoreRegion = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;<span class="comment">  /// The BasicBlock that is before the start of the region BasicBlock,</span></div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;<span class="comment">  /// only defined when the region has been split.</span></div>
<div class="line"><a name="l00137"></a><span class="lineno"><a class="line" href="structllvm_1_1OutlinableRegion.html#a8f2224bfd6ac276c27b61578415e67df">  137</a></span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *PrevBB = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;<span class="comment">  /// The BasicBlock that contains the starting instruction of the region.</span></div>
<div class="line"><a name="l00140"></a><span class="lineno"><a class="line" href="structllvm_1_1OutlinableRegion.html#aeea36f22dc87339b7be65179d3f249b6">  140</a></span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *StartBB = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;<span class="comment">  /// The BasicBlock that contains the ending instruction of the region.</span></div>
<div class="line"><a name="l00143"></a><span class="lineno"><a class="line" href="structllvm_1_1OutlinableRegion.html#a92e2737e736f30a9984ccd08bbb902c7">  143</a></span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *EndBB = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;<span class="comment">  /// The BasicBlock that is after the start of the region BasicBlock,</span></div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;<span class="comment">  /// only defined when the region has been split.</span></div>
<div class="line"><a name="l00147"></a><span class="lineno"><a class="line" href="structllvm_1_1OutlinableRegion.html#a23d6f80b1fe2abb20b13b3c30864f423">  147</a></span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *FollowBB = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;<span class="comment">  /// The Outlinable Group that contains this region and structurally similar</span></div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;<span class="comment">  /// regions to this region.</span></div>
<div class="line"><a name="l00151"></a><span class="lineno"><a class="line" href="structllvm_1_1OutlinableRegion.html#acd706032a3800a5ee7c3ee8f83390996">  151</a></span>&#160;<span class="comment"></span>  <a class="code" href="structOutlinableGroup.html">OutlinableGroup</a> *Parent = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160; </div>
<div class="line"><a name="l00153"></a><span class="lineno"><a class="line" href="structllvm_1_1OutlinableRegion.html#ad3f327e6f6a42e9b7729a16fbba4bc58">  153</a></span>&#160;  <a class="code" href="structllvm_1_1OutlinableRegion.html#ad3f327e6f6a42e9b7729a16fbba4bc58">OutlinableRegion</a>(<a class="code" href="classllvm_1_1IRSimilarity_1_1IRSimilarityCandidate.html">IRSimilarityCandidate</a> &amp;<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>, <a class="code" href="structOutlinableGroup.html">OutlinableGroup</a> &amp;Group)</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;      : Candidate(&amp;<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>), Parent(&amp;Group) {</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    StartBB = <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>.getStartBB();</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    EndBB = <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>.getEndBB();</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;  }</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;<span class="comment">  /// For the contained region, split the parent BasicBlock at the starting and</span></div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;<span class="comment">  /// ending instructions of the contained IRSimilarityCandidate.</span></div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> splitCandidate();</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;<span class="comment">  /// For the contained region, reattach the BasicBlock at the starting and</span></div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;<span class="comment">  /// ending instructions of the contained IRSimilarityCandidate, or if the</span></div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;<span class="comment">  /// function has been extracted, the start and end of the BasicBlock</span></div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;<span class="comment">  /// containing the called function.</span></div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> reattachCandidate();</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;<span class="comment">  /// Find a corresponding value for \p V in similar OutlinableRegion \p Other.</span></div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;<span class="comment">  /// \param Other [in] - The OutlinableRegion to find the corresponding Value</span></div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;<span class="comment">  /// in.</span></div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;<span class="comment">  /// \param V [in] - The Value to look for in the other region.</span></div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;<span class="comment">  /// \return The corresponding Value to \p V if it exists, otherwise nullptr.</span></div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1Value.html">Value</a> *findCorrespondingValueIn(<span class="keyword">const</span> <a class="code" href="structllvm_1_1OutlinableRegion.html">OutlinableRegion</a> &amp;Other, <a class="code" href="classllvm_1_1Value.html">Value</a> *V);</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;<span class="comment">  /// Find a corresponding BasicBlock for \p BB in similar OutlinableRegion \p Other.</span></div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;<span class="comment">  /// \param Other [in] - The OutlinableRegion to find the corresponding</span></div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;<span class="comment">  /// BasicBlock in.</span></div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;<span class="comment">  /// \param BB [in] - The BasicBlock to look for in the other region.</span></div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;<span class="comment">  /// \return The corresponding Value to \p V if it exists, otherwise nullptr.</span></div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *findCorrespondingBlockIn(<span class="keyword">const</span> <a class="code" href="structllvm_1_1OutlinableRegion.html">OutlinableRegion</a> &amp;Other,</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;                                       <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>);</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;<span class="comment">  /// Get the size of the code removed from the region.</span></div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;<span class="comment">  /// \param [in] TTI - The TargetTransformInfo for the parent function.</span></div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;<span class="comment">  /// \returns the code size of the region</span></div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1InstructionCost.html">InstructionCost</a> getBenefit(<a class="code" href="classllvm_1_1TargetTransformInfo.html">TargetTransformInfo</a> &amp;<a class="code" href="classllvm_1_1TargetTransformInfo.html">TTI</a>);</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;};</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;<span class="comment">/// This class is a pass that identifies similarity in a Module, extracts</span></div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;<span class="comment">/// instances of the similarity, and then consolidating the similar regions</span></div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;<span class="comment">/// in an effort to reduce code size.  It uses the IRSimilarityIdentifier pass</span></div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;<span class="comment">/// to identify the similar regions of code, and then extracts the similar</span></div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;<span class="comment">/// sections into a single function.  See the above for an example as to</span></div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;<span class="comment">/// how code is extracted and consolidated into a single function.</span></div>
<div class="line"><a name="l00199"></a><span class="lineno"><a class="line" href="classllvm_1_1IROutliner.html">  199</a></span>&#160;<span class="comment"></span><span class="keyword">class </span><a class="code" href="classllvm_1_1IROutliner.html">IROutliner</a> {</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00201"></a><span class="lineno"><a class="line" href="classllvm_1_1IROutliner.html#a4dfb1b9b4add772840b18038df972d59">  201</a></span>&#160;  <a class="code" href="classllvm_1_1IROutliner.html#a4dfb1b9b4add772840b18038df972d59">IROutliner</a>(<a class="code" href="classllvm_1_1function__ref.html">function_ref</a>&lt;<a class="code" href="classllvm_1_1TargetTransformInfo.html">TargetTransformInfo</a> &amp;(<a class="code" href="classllvm_1_1Function.html">Function</a> &amp;)&gt; GTTI,</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;             <a class="code" href="classllvm_1_1function__ref.html">function_ref</a>&lt;<a class="code" href="classllvm_1_1IRSimilarity_1_1IRSimilarityIdentifier.html">IRSimilarityIdentifier</a> &amp;(<a class="code" href="classllvm_1_1Module.html">Module</a> &amp;)&gt; GIRSI,</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;             <a class="code" href="classllvm_1_1function__ref.html">function_ref</a>&lt;<a class="code" href="classllvm_1_1OptimizationRemarkEmitter.html">OptimizationRemarkEmitter</a> &amp;(<a class="code" href="classllvm_1_1Function.html">Function</a> &amp;)&gt; GORE)</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;      : getTTI(GTTI), getIRSI(GIRSI), getORE(GORE) {</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    </div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    <span class="comment">// Check that the DenseMap implementation has not changed.</span></div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="structllvm_1_1DenseMapInfo.html">DenseMapInfo&lt;unsigned&gt;::getEmptyKey</a>() == (<span class="keywordtype">unsigned</span>)-1 &amp;&amp;</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;           <span class="stringliteral">&quot;DenseMapInfo&lt;unsigned&gt;&#39;s empty key isn&#39;t -1!&quot;</span>);</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="structllvm_1_1DenseMapInfo.html">DenseMapInfo&lt;unsigned&gt;::getTombstoneKey</a>() == (<span class="keywordtype">unsigned</span>)-2 &amp;&amp;</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;           <span class="stringliteral">&quot;DenseMapInfo&lt;unsigned&gt;&#39;s tombstone key isn&#39;t -2!&quot;</span>);</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;  }</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="namespacellvm_1_1dxil_1_1PointerTypeAnalysis.html#ae574a4c1d84b9e67bc94489f356805b4">run</a>(<a class="code" href="classllvm_1_1Module.html">Module</a> &amp;M);</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160; </div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;<span class="keyword">private</span>:<span class="comment"></span></div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;<span class="comment">  /// Find repeated similar code sequences in \p M and outline them into new</span></div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;<span class="comment">  /// Functions.</span></div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;<span class="comment">  /// \param [in] M - The module to outline from.</span></div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;<span class="comment">  /// \returns The number of Functions created.</span></div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;<span class="comment"></span>  <span class="keywordtype">unsigned</span> doOutline(<a class="code" href="classllvm_1_1Module.html">Module</a> &amp;M);</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;<span class="comment">  /// Check whether an OutlinableRegion is incompatible with code already</span></div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;<span class="comment">  /// outlined. OutlinableRegions are incomptaible when there are overlapping</span></div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;<span class="comment">  /// instructions, or code that has not been recorded has been added to the</span></div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;<span class="comment">  /// instructions.</span></div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;<span class="comment">  /// \param [in] Region - The OutlinableRegion to check for conflicts with</span></div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;<span class="comment">  /// already outlined code.</span></div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;<span class="comment">  /// \returns whether the region can safely be outlined.</span></div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;<span class="comment"></span>  <span class="keywordtype">bool</span> isCompatibleWithAlreadyOutlinedCode(<span class="keyword">const</span> <a class="code" href="structllvm_1_1OutlinableRegion.html">OutlinableRegion</a> &amp;<a class="code" href="classllvm_1_1Region.html">Region</a>);</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;<span class="comment">  /// Remove all the IRSimilarityCandidates from \p CandidateVec that have</span></div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;<span class="comment">  /// instructions contained in a previously outlined region and put the</span></div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;<span class="comment">  /// remaining regions in \p CurrentGroup.</span></div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;<span class="comment">  /// \param [in] CandidateVec - List of similarity candidates for regions with</span></div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;<span class="comment">  /// the same similarity structure.</span></div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;<span class="comment">  /// \param [in,out] CurrentGroup - Contains the potential sections to</span></div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;<span class="comment">  /// be outlined.</span></div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span></div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;  pruneIncompatibleRegions(std::vector&lt;IRSimilarityCandidate&gt; &amp;CandidateVec,</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;                           <a class="code" href="structOutlinableGroup.html">OutlinableGroup</a> &amp;CurrentGroup);</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;<span class="comment">  /// Create the function based on the overall types found in the current</span></div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;<span class="comment">  /// regions being outlined.</span></div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;<span class="comment">  /// \param M - The module to outline from.</span></div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;<span class="comment">  /// \param [in,out] CG - The OutlinableGroup for the regions to be outlined.</span></div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;<span class="comment">  /// \param [in] FunctionNameSuffix - How many functions have we previously</span></div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;<span class="comment">  /// created.</span></div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;<span class="comment">  /// \returns the newly created function.</span></div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1Function.html">Function</a> *createFunction(<a class="code" href="classllvm_1_1Module.html">Module</a> &amp;M, <a class="code" href="structOutlinableGroup.html">OutlinableGroup</a> &amp;CG,</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;                           <span class="keywordtype">unsigned</span> FunctionNameSuffix);</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;<span class="comment">  /// Identify the needed extracted inputs in a section, and add to the overall</span></div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;<span class="comment">  /// function if needed.</span></div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;<span class="comment">  /// \param [in] M - The module to outline from.</span></div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;<span class="comment">  /// \param [in,out] Region - The region to be extracted.</span></div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;<span class="comment">  /// \param [in] NotSame - The global value numbers of the Values in the region</span></div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;<span class="comment">  /// that do not have the same Constant in each strucutrally similar region.</span></div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> findAddInputsOutputs(<a class="code" href="classllvm_1_1Module.html">Module</a> &amp;M, <a class="code" href="structllvm_1_1OutlinableRegion.html">OutlinableRegion</a> &amp;<a class="code" href="classllvm_1_1Region.html">Region</a>,</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;                            <a class="code" href="classllvm_1_1DenseSet.html">DenseSet&lt;unsigned&gt;</a> &amp;NotSame);</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;<span class="comment">  /// Find the number of instructions that will be removed by extracting the</span></div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;<span class="comment">  /// OutlinableRegions in \p CurrentGroup.</span></div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;<span class="comment">  /// \param [in] CurrentGroup - The collection of OutlinableRegions to be</span></div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;<span class="comment">  /// analyzed.</span></div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;<span class="comment">  /// \returns the number of outlined instructions across all regions.</span></div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1InstructionCost.html">InstructionCost</a> findBenefitFromAllRegions(<a class="code" href="structOutlinableGroup.html">OutlinableGroup</a> &amp;CurrentGroup);</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;<span class="comment">  /// Find the number of instructions that will be added by reloading arguments.</span></div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;<span class="comment">  /// \param [in] CurrentGroup - The collection of OutlinableRegions to be</span></div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;<span class="comment">  /// analyzed.</span></div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;<span class="comment">  /// \returns the number of added reload instructions across all regions.</span></div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1InstructionCost.html">InstructionCost</a> findCostOutputReloads(<a class="code" href="structOutlinableGroup.html">OutlinableGroup</a> &amp;CurrentGroup);</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;<span class="comment">  /// Find the cost and the benefit of \p CurrentGroup and save it back to</span></div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;<span class="comment">  /// \p CurrentGroup.</span></div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;<span class="comment">  /// \param [in] M - The module being analyzed</span></div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;<span class="comment">  /// \param [in,out] CurrentGroup - The overall outlined section</span></div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> findCostBenefit(<a class="code" href="classllvm_1_1Module.html">Module</a> &amp;M, <a class="code" href="structOutlinableGroup.html">OutlinableGroup</a> &amp;CurrentGroup);</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;<span class="comment">  /// Update the output mapping based on the load instruction, and the outputs</span></div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;<span class="comment">  /// of the extracted function.</span></div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;<span class="comment">  /// \param Region - The region extracted</span></div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;<span class="comment">  /// \param Outputs - The outputs from the extracted function.</span></div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;<span class="comment">  /// \param LI - The load instruction used to update the mapping.</span></div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> updateOutputMapping(<a class="code" href="structllvm_1_1OutlinableRegion.html">OutlinableRegion</a> &amp;<a class="code" href="classllvm_1_1Region.html">Region</a>,</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;                           <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;Value *&gt;</a> Outputs, <a class="code" href="classllvm_1_1LoadInst.html">LoadInst</a> *LI);</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;<span class="comment">  /// Extract \p Region into its own function.</span></div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;<span class="comment">  /// \param [in] Region - The region to be extracted into its own function.</span></div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;<span class="comment">  /// \returns True if it was successfully outlined.</span></div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;<span class="comment"></span>  <span class="keywordtype">bool</span> extractSection(<a class="code" href="structllvm_1_1OutlinableRegion.html">OutlinableRegion</a> &amp;<a class="code" href="classllvm_1_1Region.html">Region</a>);</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;<span class="comment">  /// For the similarities found, and the extracted sections, create a single</span></div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;<span class="comment">  /// outlined function with appropriate output blocks as necessary.</span></div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;<span class="comment">  /// \param [in] M - The module to outline from</span></div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;<span class="comment">  /// \param [in] CurrentGroup - The set of extracted sections to consolidate.</span></div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;<span class="comment">  /// \param [in,out] FuncsToRemove - List of functions to remove from the</span></div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;<span class="comment">  /// module after outlining is completed.</span></div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;<span class="comment">  /// \param [in,out] OutlinedFunctionNum - the number of new outlined</span></div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;<span class="comment">  /// functions.</span></div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> deduplicateExtractedSections(<a class="code" href="classllvm_1_1Module.html">Module</a> &amp;M, <a class="code" href="structOutlinableGroup.html">OutlinableGroup</a> &amp;CurrentGroup,</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;                                    std::vector&lt;Function *&gt; &amp;FuncsToRemove,</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;                                    <span class="keywordtype">unsigned</span> &amp;OutlinedFunctionNum);</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;<span class="comment">  /// If true, enables us to outline from functions that have LinkOnceFromODR</span></div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;<span class="comment">  /// linkages.</span></div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;<span class="comment"></span>  <span class="keywordtype">bool</span> OutlineFromLinkODRs = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;<span class="comment">  /// If false, we do not worry if the cost is greater than the benefit.  This</span></div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;<span class="comment">  /// is for debugging and testing, so that we can test small cases to ensure</span></div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;<span class="comment">  /// that the outlining is being done correctly.</span></div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;<span class="comment"></span>  <span class="keywordtype">bool</span> CostModel = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;<span class="comment">  /// The set of outlined Instructions, identified by their location in the</span></div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;<span class="comment">  /// sequential ordering of instructions in a Module.</span></div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1DenseSet.html">DenseSet&lt;unsigned&gt;</a> Outlined;</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;<span class="comment">  /// TargetTransformInfo lambda for target specific information.</span></div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1function__ref.html">function_ref</a>&lt;<a class="code" href="classllvm_1_1TargetTransformInfo.html">TargetTransformInfo</a> &amp;(<a class="code" href="classllvm_1_1Function.html">Function</a> &amp;)&gt; getTTI;</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;<span class="comment">  /// A mapping from newly created reloaded output values to the original value.</span></div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;<span class="comment">  /// If an value is replace by an output from an outlined region, this maps</span></div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;<span class="comment">  /// that Value, back to its original Value.</span></div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;Value *, Value *&gt;</a> OutputMappings;</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;<span class="comment">  /// IRSimilarityIdentifier lambda to retrieve IRSimilarityIdentifier.</span></div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1function__ref.html">function_ref</a>&lt;<a class="code" href="classllvm_1_1IRSimilarity_1_1IRSimilarityIdentifier.html">IRSimilarityIdentifier</a> &amp;(<a class="code" href="classllvm_1_1Module.html">Module</a> &amp;)&gt; getIRSI;</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;<span class="comment">  /// The optimization remark emitter for the pass.</span></div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1function__ref.html">function_ref</a>&lt;<a class="code" href="classllvm_1_1OptimizationRemarkEmitter.html">OptimizationRemarkEmitter</a> &amp;(<a class="code" href="classllvm_1_1Function.html">Function</a> &amp;)&gt; getORE;</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;<span class="comment">  /// The memory allocator used to allocate the CodeExtractors.</span></div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1SpecificBumpPtrAllocator.html">SpecificBumpPtrAllocator&lt;CodeExtractor&gt;</a> ExtractorAllocator;</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;<span class="comment">  /// The memory allocator used to allocate the OutlinableRegions.</span></div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1SpecificBumpPtrAllocator.html">SpecificBumpPtrAllocator&lt;OutlinableRegion&gt;</a> RegionAllocator;</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;<span class="comment">  /// The memory allocator used to allocate new IRInstructionData.</span></div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1SpecificBumpPtrAllocator.html">SpecificBumpPtrAllocator&lt;IRInstructionData&gt;</a> InstDataAllocator;</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;<span class="comment">  /// Custom InstVisitor to classify different instructions for whether it can</span></div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;<span class="comment">  /// be analyzed for similarity.  This is needed as there may be instruction we</span></div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;<span class="comment">  /// can identify as having similarity, but are more complicated to outline.</span></div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;<span class="comment"></span>  <span class="keyword">struct </span>InstructionAllowed : <span class="keyword">public</span> <a class="code" href="classllvm_1_1InstVisitor.html">InstVisitor</a>&lt;InstructionAllowed, bool&gt; {</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    InstructionAllowed() = <span class="keywordflow">default</span>;</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160; </div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    <span class="keywordtype">bool</span> visitBranchInst(<a class="code" href="classllvm_1_1BranchInst.html">BranchInst</a> &amp;BI) { <span class="keywordflow">return</span> EnableBranches; }</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    <span class="keywordtype">bool</span> visitPHINode(PHINode &amp;PN) { <span class="keywordflow">return</span> EnableBranches; }</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;    <span class="comment">// TODO: Handle allocas.</span></div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    <span class="keywordtype">bool</span> visitAllocaInst(AllocaInst &amp;AI) { <span class="keywordflow">return</span> <span class="keyword">false</span>; }</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    <span class="comment">// VAArg instructions are not allowed since this could cause difficulty when</span></div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    <span class="comment">// differentiating between different sets of variable instructions in</span></div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    <span class="comment">// the deduplicated outlined regions.</span></div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    <span class="keywordtype">bool</span> visitVAArgInst(VAArgInst &amp;<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a97bce951e4585a39601c04d86bb14ffd">VI</a>) { <span class="keywordflow">return</span> <span class="keyword">false</span>; }</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;    <span class="comment">// We exclude all exception handling cases since they are so context</span></div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;    <span class="comment">// dependent.</span></div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;    <span class="keywordtype">bool</span> visitLandingPadInst(LandingPadInst &amp;LPI) { <span class="keywordflow">return</span> <span class="keyword">false</span>; }</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;    <span class="keywordtype">bool</span> visitFuncletPadInst(FuncletPadInst &amp;FPI) { <span class="keywordflow">return</span> <span class="keyword">false</span>; }</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    <span class="comment">// DebugInfo should be included in the regions, but should not be</span></div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;    <span class="comment">// analyzed for similarity as it has no bearing on the outcome of the</span></div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;    <span class="comment">// program.</span></div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    <span class="keywordtype">bool</span> visitDbgInfoIntrinsic(DbgInfoIntrinsic &amp;DII) { <span class="keywordflow">return</span> <span class="keyword">true</span>; }</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    <span class="comment">// TODO: Handle specific intrinsics individually from those that can be</span></div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    <span class="comment">// handled.</span></div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    <span class="keywordtype">bool</span> IntrinsicInst(IntrinsicInst &amp;II) { <span class="keywordflow">return</span> EnableIntrinsics; }</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    <span class="comment">// We only handle CallInsts that are not indirect, since we cannot guarantee</span></div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    <span class="comment">// that they have a name in these cases.</span></div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    <span class="keywordtype">bool</span> visitCallInst(CallInst &amp;CI) {</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;      <a class="code" href="namespacellvm_1_1codeview.html#adfebd8c4ae29ccd84c600c1e65d6b807a86408593c34af77fdd90df932f8b5261">Function</a> *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> = CI.getCalledFunction();</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;      <span class="keywordtype">bool</span> IsIndirectCall = CI.isIndirectCall();</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;      <span class="keywordflow">if</span> (IsIndirectCall &amp;&amp; !EnableIndirectCalls)</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> &amp;&amp; !IsIndirectCall)</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;      <span class="comment">// Returning twice can cause issues with the state of the function call</span></div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;      <span class="comment">// that were not expected when the function was used, so we do not include</span></div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;      <span class="comment">// the call in outlined functions.</span></div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;      <span class="keywordflow">if</span> (CI.canReturnTwice())</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;      <span class="comment">// TODO: Update the outliner to capture whether the outlined function</span></div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;      <span class="comment">// needs these extra attributes.</span></div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160; </div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;      <span class="comment">// Functions marked with the swifttailcc and tailcc calling conventions</span></div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;      <span class="comment">// require special handling when outlining musttail functions.  The</span></div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;      <span class="comment">// calling convention must be passed down to the outlined function as</span></div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;      <span class="comment">// well. Further, there is special handling for musttail calls as well,</span></div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;      <span class="comment">// requiring a return call directly after.  For now, the outliner does not</span></div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;      <span class="comment">// support this.</span></div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;      <span class="keywordtype">bool</span> IsTailCC = CI.getCallingConv() == <a class="code" href="namespacellvm_1_1CallingConv.html#a5b166ae228ebbfdb96736d6022f3feedae64b7afe33922c60d78fea3c08697daa">CallingConv::SwiftTail</a> ||</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;                      CI.getCallingConv() == <a class="code" href="namespacellvm_1_1CallingConv.html#a5b166ae228ebbfdb96736d6022f3feedad6e9c0ff694f0fca0222e79e772b647e">CallingConv::Tail</a>;</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;      <span class="keywordflow">if</span> (IsTailCC &amp;&amp; !EnableMustTailCalls)</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;      <span class="keywordflow">if</span> (CI.isMustTailCall() &amp;&amp; !EnableMustTailCalls)</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;      <span class="comment">// The outliner can only handle musttail items if it is also accompanied</span></div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;      <span class="comment">// by the tailcc or swifttailcc calling convention.</span></div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;      <span class="keywordflow">if</span> (CI.isMustTailCall() &amp;&amp; !IsTailCC)</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;    }</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;    <span class="comment">// TODO: Handle FreezeInsts.  Since a frozen value could be frozen inside</span></div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;    <span class="comment">// the outlined region, and then returned as an output, this will have to be</span></div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    <span class="comment">// handled differently.</span></div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;    <span class="keywordtype">bool</span> visitFreezeInst(FreezeInst &amp;CI) { <span class="keywordflow">return</span> <span class="keyword">false</span>; }</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;    <span class="comment">// TODO: We do not current handle similarity that changes the control flow.</span></div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;    <span class="keywordtype">bool</span> visitInvokeInst(InvokeInst &amp;II) { <span class="keywordflow">return</span> <span class="keyword">false</span>; }</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;    <span class="comment">// TODO: We do not current handle similarity that changes the control flow.</span></div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    <span class="keywordtype">bool</span> visitCallBrInst(CallBrInst &amp;CBI) { <span class="keywordflow">return</span> <span class="keyword">false</span>; }</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;    <span class="comment">// TODO: Handle interblock similarity.</span></div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;    <span class="keywordtype">bool</span> visitTerminator(Instruction &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) { <span class="keywordflow">return</span> <span class="keyword">false</span>; }</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    <span class="keywordtype">bool</span> visitInstruction(Instruction &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) { <span class="keywordflow">return</span> <span class="keyword">true</span>; }</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160; </div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;    <span class="comment">// The flag variable that marks whether we should allow branch instructions</span></div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;    <span class="comment">// to be outlined.</span></div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;    <span class="keywordtype">bool</span> EnableBranches = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160; </div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    <span class="comment">// The flag variable that marks whether we should allow indirect calls</span></div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    <span class="comment">// to be outlined.</span></div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;    <span class="keywordtype">bool</span> EnableIndirectCalls = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160; </div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;    <span class="comment">// The flag variable that marks whether we should allow intrinsics</span></div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;    <span class="comment">// instructions to be outlined.</span></div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;    <span class="keywordtype">bool</span> EnableIntrinsics = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160; </div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;    <span class="comment">// The flag variable that marks whether we should allow musttail calls.</span></div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;    <span class="keywordtype">bool</span> EnableMustTailCalls = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;  };</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;<span class="comment">  /// A InstVisitor used to exclude certain instructions from being outlined.</span></div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;<span class="comment"></span>  InstructionAllowed InstructionClassifier;</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;};</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;<span class="comment">/// Pass to outline similar regions.</span></div>
<div class="line"><a name="l00444"></a><span class="lineno"><a class="line" href="classllvm_1_1IROutlinerPass.html">  444</a></span>&#160;<span class="comment"></span><span class="keyword">class </span><a class="code" href="classllvm_1_1IROutlinerPass.html">IROutlinerPass</a> : <span class="keyword">public</span> <a class="code" href="structllvm_1_1PassInfoMixin.html">PassInfoMixin</a>&lt;IROutlinerPass&gt; {</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;  <a class="code" href="classllvm_1_1PreservedAnalyses.html">PreservedAnalyses</a> <a class="code" href="namespacellvm_1_1dxil_1_1PointerTypeAnalysis.html#ae574a4c1d84b9e67bc94489f356805b4">run</a>(<a class="code" href="classllvm_1_1Module.html">Module</a> &amp;<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>, <a class="code" href="classllvm_1_1AnalysisManager.html">ModuleAnalysisManager</a> &amp;AM);</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;};</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160; </div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;} <span class="comment">// end namespace llvm</span></div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160; </div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;<span class="preprocessor">#endif // LLVM_TRANSFORMS_IPO_IROUTLINER_H</span></div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="aclassllvm_1_1InstructionCost_html"><div class="ttname"><a href="classllvm_1_1InstructionCost.html">llvm::InstructionCost</a></div><div class="ttdef"><b>Definition:</b> <a href="InstructionCost_8h_source.html#l00029">InstructionCost.h:29</a></div></div>
<div class="ttc" id="aclassllvm_1_1PreservedAnalyses_html"><div class="ttname"><a href="classllvm_1_1PreservedAnalyses.html">llvm::PreservedAnalyses</a></div><div class="ttdoc">A set of analyses that are preserved following a run of a transformation pass.</div><div class="ttdef"><b>Definition:</b> <a href="PassManager_8h_source.html#l00152">PassManager.h:152</a></div></div>
<div class="ttc" id="anamespacellvm_html"><div class="ttname"><a href="namespacellvm.html">llvm</a></div><div class="ttdoc">This is an optimization pass for GlobalISel generic memory operations.</div><div class="ttdef"><b>Definition:</b> <a href="AddressRanges_8h_source.html#l00018">AddressRanges.h:18</a></div></div>
<div class="ttc" id="alib_2Target_2X86_2README_8txt_html_ac88fe1d3a61b056a4f64fbbb156a62ff"><div class="ttname"><a href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a></div><div class="ttdeci">We currently emits eax Perhaps this is what we really should generate is Is imull three or four cycles eax eax The current instruction priority is based on pattern complexity The former is more complex because it folds a load so the latter will not be emitted Perhaps we should use AddedComplexity to give LEA32r a higher priority We should always try to match LEA first since the LEA matching code does some estimate to determine whether the match is profitable if we care more about code then imull is better It s two bytes shorter than movl leal On a Pentium M</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2X86_2README_8txt_source.html#l00252">README.txt:252</a></div></div>
<div class="ttc" id="astructllvm_1_1PassInfoMixin_html"><div class="ttname"><a href="structllvm_1_1PassInfoMixin.html">llvm::PassInfoMixin</a></div><div class="ttdoc">A CRTP mix-in to automatically provide informational APIs needed for passes.</div><div class="ttdef"><b>Definition:</b> <a href="PassManager_8h_source.html#l00371">PassManager.h:371</a></div></div>
<div class="ttc" id="aclassllvm_1_1Function_html"><div class="ttname"><a href="classllvm_1_1Function.html">llvm::Function</a></div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00059">Function.h:59</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVector_html"><div class="ttname"><a href="classllvm_1_1SmallVector.html">llvm::SmallVector&lt; unsigned, 4 &gt;</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetTransformInfo_html"><div class="ttname"><a href="classllvm_1_1TargetTransformInfo.html">llvm::TargetTransformInfo</a></div><div class="ttdoc">This pass provides access to the codegen interfaces that are needed for IR-level transformations.</div><div class="ttdef"><b>Definition:</b> <a href="TargetTransformInfo_8h_source.html#l00196">TargetTransformInfo.h:196</a></div></div>
<div class="ttc" id="aclassllvm_1_1SpecificBumpPtrAllocator_html"><div class="ttname"><a href="classllvm_1_1SpecificBumpPtrAllocator.html">llvm::SpecificBumpPtrAllocator</a></div><div class="ttdoc">A BumpPtrAllocator that allows only elements of a specific type to be allocated.</div><div class="ttdef"><b>Definition:</b> <a href="Allocator_8h_source.html#l00382">Allocator.h:382</a></div></div>
<div class="ttc" id="aCodeExtractor_8h_html"><div class="ttname"><a href="CodeExtractor_8h.html">CodeExtractor.h</a></div></div>
<div class="ttc" id="aMD5_8cpp_html_a96d73bbd7af15cb1fc38c3f4a3bd82e9"><div class="ttname"><a href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a></div><div class="ttdeci">#define F(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00055">MD5.cpp:55</a></div></div>
<div class="ttc" id="aclassllvm_1_1BasicBlock_html"><div class="ttname"><a href="classllvm_1_1BasicBlock.html">llvm::BasicBlock</a></div><div class="ttdoc">LLVM Basic Block Representation.</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8h_source.html#l00055">BasicBlock.h:55</a></div></div>
<div class="ttc" id="astructllvm_1_1DenseMapInfo_html"><div class="ttname"><a href="structllvm_1_1DenseMapInfo.html">llvm::DenseMapInfo</a></div><div class="ttdoc">An information struct used to provide DenseMap with the various necessary components for a given valu...</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00034">APInt.h:34</a></div></div>
<div class="ttc" id="aclassllvm_1_1IROutliner_html_a4dfb1b9b4add772840b18038df972d59"><div class="ttname"><a href="classllvm_1_1IROutliner.html#a4dfb1b9b4add772840b18038df972d59">llvm::IROutliner::IROutliner</a></div><div class="ttdeci">IROutliner(function_ref&lt; TargetTransformInfo &amp;(Function &amp;)&gt; GTTI, function_ref&lt; IRSimilarityIdentifier &amp;(Module &amp;)&gt; GIRSI, function_ref&lt; OptimizationRemarkEmitter &amp;(Function &amp;)&gt; GORE)</div><div class="ttdef"><b>Definition:</b> <a href="IROutliner_8h_source.html#l00201">IROutliner.h:201</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ms__demangle_html_a1c7534e329bd2e3760c37d8123909e63"><div class="ttname"><a href="namespacellvm_1_1ms__demangle.html#a1c7534e329bd2e3760c37d8123909e63">llvm::ms_demangle::CallingConv</a></div><div class="ttdeci">CallingConv</div><div class="ttdef"><b>Definition:</b> <a href="MicrosoftDemangleNodes_8h_source.html#l00058">MicrosoftDemangleNodes.h:58</a></div></div>
<div class="ttc" id="astructllvm_1_1OutlinableRegion_html_ad3f327e6f6a42e9b7729a16fbba4bc58"><div class="ttname"><a href="structllvm_1_1OutlinableRegion.html#ad3f327e6f6a42e9b7729a16fbba4bc58">llvm::OutlinableRegion::OutlinableRegion</a></div><div class="ttdeci">OutlinableRegion(IRSimilarityCandidate &amp;C, OutlinableGroup &amp;Group)</div><div class="ttdef"><b>Definition:</b> <a href="IROutliner_8h_source.html#l00153">IROutliner.h:153</a></div></div>
<div class="ttc" id="aREADME__ALTIVEC_8txt_html_a9aacd9146afe44bf656cd664e2a88c8c"><div class="ttname"><a href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a></div><div class="ttdeci">(vector float) vec_cmpeq(*A, *B) C</div><div class="ttdef"><b>Definition:</b> <a href="README__ALTIVEC_8txt_source.html#l00086">README_ALTIVEC.txt:86</a></div></div>
<div class="ttc" id="anamespacellvm_1_1dxil_1_1PointerTypeAnalysis_html_ae574a4c1d84b9e67bc94489f356805b4"><div class="ttname"><a href="namespacellvm_1_1dxil_1_1PointerTypeAnalysis.html#ae574a4c1d84b9e67bc94489f356805b4">llvm::dxil::PointerTypeAnalysis::run</a></div><div class="ttdeci">PointerTypeMap run(const Module &amp;M)</div><div class="ttdoc">Compute the PointerTypeMap for the module M.</div><div class="ttdef"><b>Definition:</b> <a href="PointerTypeAnalysis_8cpp_source.html#l00189">PointerTypeAnalysis.cpp:189</a></div></div>
<div class="ttc" id="aclassllvm_1_1function__ref_html"><div class="ttname"><a href="classllvm_1_1function__ref.html">llvm::function_ref</a></div><div class="ttdoc">An efficient, type-erasing, non-owning reference to a callable.</div><div class="ttdef"><b>Definition:</b> <a href="STLFunctionalExtras_8h_source.html#l00036">STLFunctionalExtras.h:36</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseSet_html"><div class="ttname"><a href="classllvm_1_1DenseSet.html">llvm::DenseSet&lt; unsigned &gt;</a></div></div>
<div class="ttc" id="aSIInstrInfo_8cpp_html_a0dfd55eaf0bcb495f09ecf8c55b256b2a97bce951e4585a39601c04d86bb14ffd"><div class="ttname"><a href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a97bce951e4585a39601c04d86bb14ffd">VI</a></div><div class="ttdeci">@ VI</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l07994">SIInstrInfo.cpp:7994</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMap_html"><div class="ttname"><a href="classllvm_1_1DenseMap.html">llvm::DenseMap&lt; unsigned, unsigned &gt;</a></div></div>
<div class="ttc" id="aMD5_8cpp_html_ac0eafdc9ee161b71e7af98af736952fd"><div class="ttname"><a href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a></div><div class="ttdeci">#define I(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00058">MD5.cpp:58</a></div></div>
<div class="ttc" id="astructllvm_1_1OutlinableRegion_html_a3c92ed5a8ec132b80f7737cba8bad0e8"><div class="ttname"><a href="structllvm_1_1OutlinableRegion.html#a3c92ed5a8ec132b80f7737cba8bad0e8">llvm::OutlinableRegion::GVNStores</a></div><div class="ttdeci">SmallVector&lt; unsigned, 4 &gt; GVNStores</div><div class="ttdoc">The global value numbers that are used as outputs for this section.</div><div class="ttdef"><b>Definition:</b> <a href="IROutliner_8h_source.html#l00117">IROutliner.h:117</a></div></div>
<div class="ttc" id="aSILowerControlFlow_8cpp_html_a4868c5d81c5ccc98c47aeab6244346a0"><div class="ttname"><a href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a></div><div class="ttdeci">assert(ImpDefSCC.getReg()==AMDGPU::SCC &amp;&amp;ImpDefSCC.isDef())</div></div>
<div class="ttc" id="astructllvm_1_1IRSimilarity_1_1IRInstructionData_html"><div class="ttname"><a href="structllvm_1_1IRSimilarity_1_1IRInstructionData.html">llvm::IRSimilarity::IRInstructionData</a></div><div class="ttdoc">This provides the utilities for hashing an Instruction to an unsigned integer.</div><div class="ttdef"><b>Definition:</b> <a href="IRSimilarityIdentifier_8h_source.html#l00115">IRSimilarityIdentifier.h:115</a></div></div>
<div class="ttc" id="aclassllvm_1_1Module_html"><div class="ttname"><a href="classllvm_1_1Module.html">llvm::Module</a></div><div class="ttdoc">A Module instance is used to store all the information related to an LLVM module.</div><div class="ttdef"><b>Definition:</b> <a href="Module_8h_source.html#l00065">Module.h:65</a></div></div>
<div class="ttc" id="aInstructionCost_8h_html"><div class="ttname"><a href="InstructionCost_8h.html">InstructionCost.h</a></div></div>
<div class="ttc" id="astructOutlinableGroup_html"><div class="ttname"><a href="structOutlinableGroup.html">OutlinableGroup</a></div><div class="ttdoc">The OutlinableGroup holds all the overarching information for outlining a set of regions that are str...</div><div class="ttdef"><b>Definition:</b> <a href="IROutliner_8cpp_source.html#l00074">IROutliner.cpp:74</a></div></div>
<div class="ttc" id="aclassllvm_1_1ArrayRef_html"><div class="ttname"><a href="classllvm_1_1ArrayRef.html">llvm::ArrayRef</a></div><div class="ttdoc">ArrayRef - Represent a constant reference to an array (0 or more elements consecutively in memory),...</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00033">APInt.h:33</a></div></div>
<div class="ttc" id="aclassllvm_1_1OptimizationRemarkEmitter_html"><div class="ttname"><a href="classllvm_1_1OptimizationRemarkEmitter.html">llvm::OptimizationRemarkEmitter</a></div><div class="ttdoc">The optimization diagnostic interface.</div><div class="ttdef"><b>Definition:</b> <a href="OptimizationRemarkEmitter_8h_source.html#l00033">OptimizationRemarkEmitter.h:33</a></div></div>
<div class="ttc" id="astructllvm_1_1OutlinableRegion_html_a7fd87f1e5fd502c0726451f97e8badf1"><div class="ttname"><a href="structllvm_1_1OutlinableRegion.html#a7fd87f1e5fd502c0726451f97e8badf1">llvm::OutlinableRegion::ExtractedArgToAgg</a></div><div class="ttdeci">DenseMap&lt; unsigned, unsigned &gt; ExtractedArgToAgg</div><div class="ttdoc">Mapping the extracted argument number to the argument number in the overall function.</div><div class="ttdef"><b>Definition:</b> <a href="IROutliner_8h_source.html#l00085">IROutliner.h:85</a></div></div>
<div class="ttc" id="aclassllvm_1_1CodeExtractor_html"><div class="ttname"><a href="classllvm_1_1CodeExtractor.html">llvm::CodeExtractor</a></div><div class="ttdoc">Utility class for extracting code into a new function.</div><div class="ttdef"><b>Definition:</b> <a href="CodeExtractor_8h_source.html#l00085">CodeExtractor.h:85</a></div></div>
<div class="ttc" id="astructllvm_1_1OutlinableRegion_html_aa6c689b51914b57c17eac0a2dbbacda6"><div class="ttname"><a href="structllvm_1_1OutlinableRegion.html#aa6c689b51914b57c17eac0a2dbbacda6">llvm::OutlinableRegion::PHIBlocks</a></div><div class="ttdeci">DenseMap&lt; Value *, BasicBlock * &gt; PHIBlocks</div><div class="ttdoc">The PHIBlocks with their corresponding return block based on the return value as the key.</div><div class="ttdef"><b>Definition:</b> <a href="IROutliner_8h_source.html#l00106">IROutliner.h:106</a></div></div>
<div class="ttc" id="aclassllvm_1_1InstVisitor_html"><div class="ttname"><a href="classllvm_1_1InstVisitor.html">llvm::InstVisitor</a></div><div class="ttdoc">Base class for instruction visitors.</div><div class="ttdef"><b>Definition:</b> <a href="InstVisitor_8h_source.html#l00078">InstVisitor.h:78</a></div></div>
<div class="ttc" id="aMachineCheckDebugify_8cpp_html_a85892acfa8970627e9bd9c9815f15c25"><div class="ttname"><a href="MachineCheckDebugify_8cpp.html#a85892acfa8970627e9bd9c9815f15c25">Module</a></div><div class="ttdeci">Machine Check Debug Module</div><div class="ttdef"><b>Definition:</b> <a href="MachineCheckDebugify_8cpp_source.html#l00122">MachineCheckDebugify.cpp:122</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoadInst_html"><div class="ttname"><a href="classllvm_1_1LoadInst.html">llvm::LoadInst</a></div><div class="ttdoc">An instruction for reading from memory.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00177">Instructions.h:177</a></div></div>
<div class="ttc" id="aclassllvm_1_1IROutlinerPass_html"><div class="ttname"><a href="classllvm_1_1IROutlinerPass.html">llvm::IROutlinerPass</a></div><div class="ttdoc">Pass to outline similar regions.</div><div class="ttdef"><b>Definition:</b> <a href="IROutliner_8h_source.html#l00444">IROutliner.h:444</a></div></div>
<div class="ttc" id="astructllvm_1_1OutlinableRegion_html_a1e3fe29ac364265774e50fc0cecbda5c"><div class="ttname"><a href="structllvm_1_1OutlinableRegion.html#a1e3fe29ac364265774e50fc0cecbda5c">llvm::OutlinableRegion::AggArgToExtracted</a></div><div class="ttdeci">DenseMap&lt; unsigned, unsigned &gt; AggArgToExtracted</div><div class="ttdef"><b>Definition:</b> <a href="IROutliner_8h_source.html#l00086">IROutliner.h:86</a></div></div>
<div class="ttc" id="anamespacellvm_1_1CallingConv_html_a5b166ae228ebbfdb96736d6022f3feedae64b7afe33922c60d78fea3c08697daa"><div class="ttname"><a href="namespacellvm_1_1CallingConv.html#a5b166ae228ebbfdb96736d6022f3feedae64b7afe33922c60d78fea3c08697daa">llvm::CallingConv::SwiftTail</a></div><div class="ttdeci">@ SwiftTail</div><div class="ttdoc">This follows the Swift calling convention in how arguments are passed but guarantees tail calls will ...</div><div class="ttdef"><b>Definition:</b> <a href="CallingConv_8h_source.html#l00087">CallingConv.h:87</a></div></div>
<div class="ttc" id="astructllvm_1_1OutlinableRegion_html"><div class="ttname"><a href="structllvm_1_1OutlinableRegion.html">llvm::OutlinableRegion</a></div><div class="ttdoc">The OutlinableRegion holds all the information for a specific region, or sequence of instructions.</div><div class="ttdef"><b>Definition:</b> <a href="IROutliner_8h_source.html#l00063">IROutliner.h:63</a></div></div>
<div class="ttc" id="aIRSimilarityIdentifier_8h_html"><div class="ttname"><a href="IRSimilarityIdentifier_8h.html">IRSimilarityIdentifier.h</a></div></div>
<div class="ttc" id="aPassManager_8h_html"><div class="ttname"><a href="PassManager_8h.html">PassManager.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRSimilarity_1_1IRSimilarityCandidate_html"><div class="ttname"><a href="classllvm_1_1IRSimilarity_1_1IRSimilarityCandidate.html">llvm::IRSimilarity::IRSimilarityCandidate</a></div><div class="ttdoc">This is a class that wraps a range of IRInstructionData from one point to another in the vector of IR...</div><div class="ttdef"><b>Definition:</b> <a href="IRSimilarityIdentifier_8h_source.html#l00649">IRSimilarityIdentifier.h:649</a></div></div>
<div class="ttc" id="aclassllvm_1_1AnalysisManager_html"><div class="ttname"><a href="classllvm_1_1AnalysisManager.html">llvm::AnalysisManager</a></div><div class="ttdoc">A container for analyses that lazily runs them and caches their results.</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8h_source.html#l00042">InstructionSimplify.h:42</a></div></div>
<div class="ttc" id="aclassllvm_1_1IROutliner_html"><div class="ttname"><a href="classllvm_1_1IROutliner.html">llvm::IROutliner</a></div><div class="ttdoc">This class is a pass that identifies similarity in a Module, extracts instances of the similarity,...</div><div class="ttdef"><b>Definition:</b> <a href="IROutliner_8h_source.html#l00199">IROutliner.h:199</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallInst_html"><div class="ttname"><a href="classllvm_1_1CallInst.html">llvm::CallInst</a></div><div class="ttdoc">This class represents a function call, abstracting a target machine's calling convention.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01485">Instructions.h:1485</a></div></div>
<div class="ttc" id="alib_2CodeGen_2README_8txt_html_a09776db24cf586ec9f1e18f3bae14099"><div class="ttname"><a href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a></div><div class="ttdeci">Common register allocation spilling lr str ldr sxth r3 ldr mla r4 can lr mov lr str ldr sxth r3 mla r4 and then merge mul and lr str ldr sxth r3 mla r4 It also increase the likelihood the store may become dead bb27 Successors according to LLVM BB</div><div class="ttdef"><b>Definition:</b> <a href="lib_2CodeGen_2README_8txt_source.html#l00039">README.txt:39</a></div></div>
<div class="ttc" id="anamespacellvm_1_1CallingConv_html_a5b166ae228ebbfdb96736d6022f3feedad6e9c0ff694f0fca0222e79e772b647e"><div class="ttname"><a href="namespacellvm_1_1CallingConv.html#a5b166ae228ebbfdb96736d6022f3feedad6e9c0ff694f0fca0222e79e772b647e">llvm::CallingConv::Tail</a></div><div class="ttdeci">@ Tail</div><div class="ttdoc">Attemps to make calls as fast as possible while guaranteeing that tail call optimization can always b...</div><div class="ttdef"><b>Definition:</b> <a href="CallingConv_8h_source.html#l00076">CallingConv.h:76</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRSimilarity_1_1IRSimilarityIdentifier_html"><div class="ttname"><a href="classllvm_1_1IRSimilarity_1_1IRSimilarityIdentifier.html">llvm::IRSimilarity::IRSimilarityIdentifier</a></div><div class="ttdoc">This class puts all the pieces of the IRInstructionData, IRInstructionMapper, IRSimilarityCandidate t...</div><div class="ttdef"><b>Definition:</b> <a href="IRSimilarityIdentifier_8h_source.html#l00979">IRSimilarityIdentifier.h:979</a></div></div>
<div class="ttc" id="aclassllvm_1_1Region_html"><div class="ttname"><a href="classllvm_1_1Region.html">llvm::Region</a></div><div class="ttdef"><b>Definition:</b> <a href="RegionInfo_8h_source.html#l00889">RegionInfo.h:889</a></div></div>
<div class="ttc" id="aclassllvm_1_1BranchInst_html"><div class="ttname"><a href="classllvm_1_1BranchInst.html">llvm::BranchInst</a></div><div class="ttdoc">Conditional or Unconditional Branch instruction.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l03139">Instructions.h:3139</a></div></div>
<div class="ttc" id="astructllvm_1_1OutlinableRegion_html_aa6e8e852e322a0a5383c6f0fce17daa2"><div class="ttname"><a href="structllvm_1_1OutlinableRegion.html#aa6e8e852e322a0a5383c6f0fce17daa2">llvm::OutlinableRegion::RemappedArguments</a></div><div class="ttdeci">DenseMap&lt; Value *, Value * &gt; RemappedArguments</div><div class="ttdoc">Values in the outlined functions will often be replaced by arguments.</div><div class="ttdef"><b>Definition:</b> <a href="IROutliner_8h_source.html#l00093">IROutliner.h:93</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html"><div class="ttname"><a href="classllvm_1_1Value.html">llvm::Value</a></div><div class="ttdoc">LLVM Value Representation.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00074">Value.h:74</a></div></div>
<div class="ttc" id="astructllvm_1_1OutlinableRegion_html_a0b119747211b5b2e6b4dbe6c50eb84fb"><div class="ttname"><a href="structllvm_1_1OutlinableRegion.html#a0b119747211b5b2e6b4dbe6c50eb84fb">llvm::OutlinableRegion::AggArgToConstant</a></div><div class="ttdeci">DenseMap&lt; unsigned, Constant * &gt; AggArgToConstant</div><div class="ttdoc">Mapping of the argument number in the deduplicated function to a given constant, which is used when c...</div><div class="ttdef"><b>Definition:</b> <a href="IROutliner_8h_source.html#l00112">IROutliner.h:112</a></div></div>
<div class="ttc" id="anamespacellvm_1_1codeview_html_adfebd8c4ae29ccd84c600c1e65d6b807a86408593c34af77fdd90df932f8b5261"><div class="ttname"><a href="namespacellvm_1_1codeview.html#adfebd8c4ae29ccd84c600c1e65d6b807a86408593c34af77fdd90df932f8b5261">llvm::codeview::PublicSymFlags::Function</a></div><div class="ttdeci">@ Function</div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Aug 7 2023 09:48:06 for LLVM by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
