<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LLVM: lib/CodeGen/LiveDebugValues/VarLocBasedImpl.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LLVM
   &#160;<span id="projectnumber">17.0.0git</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_1e8ad0574bd6e387992681ee57691a07.html">CodeGen</a></li><li class="navelem"><a class="el" href="dir_49f0d8a15731052f086a3a1176b385c7.html">LiveDebugValues</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">VarLocBasedImpl.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="VarLocBasedImpl_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//===- VarLocBasedImpl.cpp - Tracking Debug Value MIs with VarLoc class----===//</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// Part of the LLVM Project, under the Apache License v2.0 with LLVM Exceptions.</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">// See https://llvm.org/LICENSE.txt for license information.</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// SPDX-License-Identifier: Apache-2.0 WITH LLVM-exception</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span><span class="comment"></span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">/// \file VarLocBasedImpl.cpp</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">/// LiveDebugValues is an optimistic &quot;available expressions&quot; dataflow</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">/// algorithm. The set of expressions is the set of machine locations</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">/// (registers, spill slots, constants, and target indices) that a variable</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">/// fragment might be located, qualified by a DIExpression and indirect-ness</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment">/// flag, while each variable is identified by a DebugVariable object. The</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment">/// availability of an expression begins when a DBG_VALUE instruction specifies</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment">/// the location of a DebugVariable, and continues until that location is</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment">/// clobbered or re-specified by a different DBG_VALUE for the same</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment">/// DebugVariable.</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment">/// The output of LiveDebugValues is additional DBG_VALUE instructions,</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment">/// placed to extend variable locations as far they&#39;re available. This file</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment">/// and the VarLocBasedLDV class is an implementation that explicitly tracks</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment">/// locations, using the VarLoc class.</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment">/// The canonical &quot;available expressions&quot; problem doesn&#39;t have expression</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="comment">/// clobbering, instead when a variable is re-assigned, any expressions using</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="comment">/// that variable get invalidated. LiveDebugValues can map onto &quot;available</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="comment">/// expressions&quot; by having every register represented by a variable, which is</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="comment">/// used in an expression that becomes available at a DBG_VALUE instruction.</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="comment">/// When the register is clobbered, its variable is effectively reassigned, and</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="comment">/// expressions computed from it become unavailable. A similar construct is</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="comment">/// needed when a DebugVariable has its location re-specified, to invalidate</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="comment">/// all other locations for that DebugVariable.</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="comment">/// Using the dataflow analysis to compute the available expressions, we create</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="comment">/// a DBG_VALUE at the beginning of each block where the expression is</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="comment">/// live-in. This propagates variable locations into every basic block where</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="comment">/// the location can be determined, rather than only having DBG_VALUEs in blocks</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="comment">/// where locations are specified due to an assignment or some optimization.</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="comment">/// Movements of values between registers and spill slots are annotated with</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="comment">/// DBG_VALUEs too to track variable values bewteen locations. All this allows</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="comment">/// DbgEntityHistoryCalculator to focus on only the locations within individual</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="comment">/// blocks, facilitating testing and improving modularity.</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="comment">/// We follow an optimisic dataflow approach, with this lattice:</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="comment">/// \verbatim</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="comment">///                    ┬ &quot;Unknown&quot;</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="comment">///                          |</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="comment">///                          v</span></div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="comment">///                         True</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="comment">///                          |</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="comment">///                          v</span></div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="comment">///                      ⊥ False</span></div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="comment">/// \endverbatim With &quot;True&quot; signifying that the expression is available (and</span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="comment">/// thus a DebugVariable&#39;s location is the corresponding register), while</span></div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="comment">/// &quot;False&quot; signifies that the expression is unavailable. &quot;Unknown&quot;s never</span></div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="comment">/// survive to the end of the analysis (see below).</span></div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="comment">/// Formally, all DebugVariable locations that are live-out of a block are</span></div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="comment">/// initialized to \top.  A blocks live-in values take the meet of the lattice</span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="comment">/// value for every predecessors live-outs, except for the entry block, where</span></div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="comment">/// all live-ins are \bot. The usual dataflow propagation occurs: the transfer</span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="comment">/// function for a block assigns an expression for a DebugVariable to be &quot;True&quot;</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="comment">/// if a DBG_VALUE in the block specifies it; &quot;False&quot; if the location is</span></div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="comment">/// clobbered; or the live-in value if it is unaffected by the block. We</span></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="comment">/// visit each block in reverse post order until a fixedpoint is reached. The</span></div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="comment">/// solution produced is maximal.</span></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="comment">/// Intuitively, we start by assuming that every expression / variable location</span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="comment">/// is at least &quot;True&quot;, and then propagate &quot;False&quot; from the entry block and any</span></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="comment">/// clobbers until there are no more changes to make. This gives us an accurate</span></div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="comment">/// solution because all incorrect locations will have a &quot;False&quot; propagated into</span></div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="comment">/// them. It also gives us a solution that copes well with loops by assuming</span></div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="comment">/// that variable locations are live-through every loop, and then removing those</span></div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="comment">/// that are not through dataflow.</span></div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="comment">/// Within LiveDebugValues: each variable location is represented by a</span></div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="comment">/// VarLoc object that identifies the source variable, the set of</span></div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="comment">/// machine-locations that currently describe it (a single location for</span></div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="comment">/// DBG_VALUE or multiple for DBG_VALUE_LIST), and the DBG_VALUE inst that</span></div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="comment">/// specifies the location. Each VarLoc is indexed in the (function-scope) \p</span></div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="comment">/// VarLocMap, giving each VarLoc a set of unique indexes, each of which</span></div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="comment">/// corresponds to one of the VarLoc&#39;s machine-locations and can be used to</span></div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="comment">/// lookup the VarLoc in the VarLocMap. Rather than operate directly on machine</span></div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="comment">/// locations, the dataflow analysis in this pass identifies locations by their</span></div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="comment">/// indices in the VarLocMap, meaning all the variable locations in a block can</span></div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;<span class="comment">/// be described by a sparse vector of VarLocMap indicies.</span></div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;<span class="comment">/// All the storage for the dataflow analysis is local to the ExtendRanges</span></div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;<span class="comment">/// method and passed down to helper methods. &quot;OutLocs&quot; and &quot;InLocs&quot; record the</span></div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;<span class="comment">/// in and out lattice values for each block. &quot;OpenRanges&quot; maintains a list of</span></div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;<span class="comment">/// variable locations and, with the &quot;process&quot; method, evaluates the transfer</span></div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;<span class="comment">/// function of each block. &quot;flushPendingLocs&quot; installs debug value instructions</span></div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;<span class="comment">/// for each live-in location at the start of blocks, while &quot;Transfers&quot; records</span></div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;<span class="comment">/// transfers of values between machine-locations.</span></div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;<span class="comment">/// We avoid explicitly representing the &quot;Unknown&quot; (\top) lattice value in the</span></div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;<span class="comment">/// implementation. Instead, unvisited blocks implicitly have all lattice</span></div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;<span class="comment">/// values set as &quot;Unknown&quot;. After being visited, there will be path back to</span></div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;<span class="comment">/// the entry block where the lattice value is &quot;False&quot;, and as the transfer</span></div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;<span class="comment">/// function cannot make new &quot;Unknown&quot; locations, there are no scenarios where</span></div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;<span class="comment">/// a block can have an &quot;Unknown&quot; location after being visited. Similarly, we</span></div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;<span class="comment">/// don&#39;t enumerate all possible variable locations before exploring the</span></div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;<span class="comment">/// function: when a new location is discovered, all blocks previously explored</span></div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;<span class="comment">/// were implicitly &quot;False&quot; but unrecorded, and become explicitly &quot;False&quot; when</span></div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;<span class="comment">/// a new VarLoc is created with its bit not set in predecessor InLocs or</span></div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;<span class="comment">/// OutLocs.</span></div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;<span class="comment"></span><span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160; </div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="LiveDebugValues_8h.html">LiveDebugValues.h</a>&quot;</span></div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160; </div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="CoalescingBitVector_8h.html">llvm/ADT/CoalescingBitVector.h</a>&quot;</span></div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DenseMap_8h.html">llvm/ADT/DenseMap.h</a>&quot;</span></div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="PostOrderIterator_8h.html">llvm/ADT/PostOrderIterator.h</a>&quot;</span></div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SmallPtrSet_8h.html">llvm/ADT/SmallPtrSet.h</a>&quot;</span></div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SmallSet_8h.html">llvm/ADT/SmallSet.h</a>&quot;</span></div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SmallVector_8h.html">llvm/ADT/SmallVector.h</a>&quot;</span></div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Statistic_8h.html">llvm/ADT/Statistic.h</a>&quot;</span></div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Dwarf_8h.html">llvm/BinaryFormat/Dwarf.h</a>&quot;</span></div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="LexicalScopes_8h.html">llvm/CodeGen/LexicalScopes.h</a>&quot;</span></div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineBasicBlock_8h.html">llvm/CodeGen/MachineBasicBlock.h</a>&quot;</span></div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineFunction_8h.html">llvm/CodeGen/MachineFunction.h</a>&quot;</span></div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineInstr_8h.html">llvm/CodeGen/MachineInstr.h</a>&quot;</span></div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineInstrBuilder_8h.html">llvm/CodeGen/MachineInstrBuilder.h</a>&quot;</span></div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineMemOperand_8h.html">llvm/CodeGen/MachineMemOperand.h</a>&quot;</span></div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineOperand_8h.html">llvm/CodeGen/MachineOperand.h</a>&quot;</span></div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="PseudoSourceValue_8h.html">llvm/CodeGen/PseudoSourceValue.h</a>&quot;</span></div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TargetFrameLowering_8h.html">llvm/CodeGen/TargetFrameLowering.h</a>&quot;</span></div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TargetInstrInfo_8h.html">llvm/CodeGen/TargetInstrInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TargetLowering_8h.html">llvm/CodeGen/TargetLowering.h</a>&quot;</span></div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TargetPassConfig_8h.html">llvm/CodeGen/TargetPassConfig.h</a>&quot;</span></div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TargetRegisterInfo_8h.html">llvm/CodeGen/TargetRegisterInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TargetSubtargetInfo_8h.html">llvm/CodeGen/TargetSubtargetInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;<span class="preprocessor">#include &quot;llvm/Config/llvm-config.h&quot;</span></div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DebugInfoMetadata_8h.html">llvm/IR/DebugInfoMetadata.h</a>&quot;</span></div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DebugLoc_8h.html">llvm/IR/DebugLoc.h</a>&quot;</span></div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Function_8h.html">llvm/IR/Function.h</a>&quot;</span></div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MCRegisterInfo_8h.html">llvm/MC/MCRegisterInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Casting_8h.html">llvm/Support/Casting.h</a>&quot;</span></div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Debug_8h.html">llvm/Support/Debug.h</a>&quot;</span></div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TypeSize_8h.html">llvm/Support/TypeSize.h</a>&quot;</span></div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="raw__ostream_8h.html">llvm/Support/raw_ostream.h</a>&quot;</span></div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Target_2TargetMachine_8h.html">llvm/Target/TargetMachine.h</a>&quot;</span></div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;<span class="preprocessor">#include &lt;algorithm&gt;</span></div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;<span class="preprocessor">#include &lt;cassert&gt;</span></div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;<span class="preprocessor">#include &lt;cstdint&gt;</span></div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;<span class="preprocessor">#include &lt;functional&gt;</span></div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;<span class="preprocessor">#include &lt;map&gt;</span></div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;<span class="preprocessor">#include &lt;optional&gt;</span></div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;<span class="preprocessor">#include &lt;queue&gt;</span></div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;<span class="preprocessor">#include &lt;tuple&gt;</span></div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;<span class="preprocessor">#include &lt;utility&gt;</span></div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;<span class="preprocessor">#include &lt;vector&gt;</span></div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160; </div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacellvm.html">llvm</a>;</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160; </div>
<div class="line"><a name="l00160"></a><span class="lineno"><a class="line" href="VarLocBasedImpl_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">  160</a></span>&#160;<span class="preprocessor">#define DEBUG_TYPE &quot;livedebugvalues&quot;</span></div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160; </div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;<a class="code" href="namespacellvm.html#a0bf75467957937ad23ad7be19f489934">STATISTIC</a>(NumInserted, <span class="stringliteral">&quot;Number of DBG_VALUE instructions inserted&quot;</span>);</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;<span class="comment">/// If \p Op is a stack or frame register return true, otherwise return false.</span></div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;<span class="comment">/// This is used to avoid basing the debug entry values on the registers, since</span></div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;<span class="comment">/// we do not support it at the moment.</span></div>
<div class="line"><a name="l00167"></a><span class="lineno"><a class="line" href="VarLocBasedImpl_8cpp.html#a33f3613fb6558bae2f0d2bdd87e18dfa">  167</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="VarLocBasedImpl_8cpp.html#a33f3613fb6558bae2f0d2bdd87e18dfa">isRegOtherThanSPAndFP</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>,</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;                                  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>,</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;                                  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterInfo.html">TargetRegisterInfo</a> *<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>) {</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.isReg())</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160; </div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> *MF = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getParent()-&gt;getParent();</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetLowering.html">TargetLowering</a> *TLI = MF-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#a325f6b611ef9ec06798d3b4eb9572093">getSubtarget</a>().<a class="code" href="classllvm_1_1TargetSubtargetInfo.html#a129ede6f18326075504d4bd0439fd517">getTargetLowering</a>();</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> SP = TLI-&gt;<a class="code" href="classllvm_1_1TargetLoweringBase.html#a5de0162fac7c57cab62e5bb81f0b5542">getStackPointerRegisterToSaveRestore</a>();</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> <a class="code" href="AArch64ISelDAGToDAG_8cpp.html#a2098a5fa6ada61b6c4a1f210ad84e4a1a4ebada6a2af2bcba53ded1d7b414f081">FP</a> = <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>-&gt;<a class="code" href="classllvm_1_1TargetRegisterInfo.html#aefb3b77455d0e0f2e1e8b56604c63c0c">getFrameRegister</a>(*MF);</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a> = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getReg();</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160; </div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a> &amp;&amp; <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a> != SP &amp;&amp; <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a> != <a class="code" href="AArch64ISelDAGToDAG_8cpp.html#a2098a5fa6ada61b6c4a1f210ad84e4a1a4ebada6a2af2bcba53ded1d7b414f081">FP</a>;</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;}</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160; </div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160; </div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;<span class="comment">// Max out the number of statically allocated elements in DefinedRegsSet, as</span></div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;<span class="comment">// this prevents fallback to std::set::count() operations.</span></div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;<span class="keyword">using</span> DefinedRegsSet = <a class="code" href="classllvm_1_1SmallSet.html">SmallSet&lt;Register, 32&gt;</a>;</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160; </div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;<span class="comment">// The IDs in this set correspond to MachineLocs in VarLocs, as well as VarLocs</span></div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;<span class="comment">// that represent Entry Values; every VarLoc in the set will also appear</span></div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;<span class="comment">// exactly once at Location=0.</span></div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;<span class="comment">// As a result, each VarLoc may appear more than once in this &quot;set&quot;, but each</span></div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;<span class="comment">// range corresponding to a Reg, SpillLoc, or EntryValue type will still be a</span></div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;<span class="comment">// &quot;true&quot; set (i.e. each VarLoc may appear only once), and the range Location=0</span></div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;<span class="comment">// is the set of all VarLocs.</span></div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;<span class="keyword">using</span> VarLocSet = <a class="code" href="classllvm_1_1CoalescingBitVector.html">CoalescingBitVector&lt;uint64_t&gt;</a>;</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;<span class="comment">/// A type-checked pair of {Register Location (or 0), Index}, used to index</span></div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;<span class="comment">/// into a \ref VarLocMap. This can be efficiently converted to a 64-bit int</span></div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;<span class="comment">/// for insertion into a \ref VarLocSet, and efficiently converted back. The</span></div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;<span class="comment">/// type-checker helps ensure that the conversions aren&#39;t lossy.</span></div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;<span class="comment">/// Why encode a location /into/ the VarLocMap index? This makes it possible</span></div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;<span class="comment">/// to find the open VarLocs killed by a register def very quickly. This is a</span></div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;<span class="comment">/// performance-critical operation for LiveDebugValues.</span></div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;<span class="comment"></span><span class="keyword">struct </span>LocIndex {</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;  <span class="keyword">using</span> u32_location_t = <a class="code" href="classuint32__t.html">uint32_t</a>;</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;  <span class="keyword">using</span> u32_index_t = <a class="code" href="classuint32__t.html">uint32_t</a>;</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160; </div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;  u32_location_t <a class="code" href="namespacellvm_1_1logicalview.html#a9696bc411b0a7022c2cc78bff5173ceface5bf551379459c1c61d2a204061c455">Location</a>; <span class="comment">// Physical registers live in the range [1;2^30) (see</span></div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;                           <span class="comment">// \ref MCRegister), so we have plenty of range left</span></div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;                           <span class="comment">// here to encode non-register locations.</span></div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;  u32_index_t <a class="code" href="ELFObjHandler_8cpp.html#aef61945034b9431b804748fc317c5548">Index</a>;</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;<span class="comment">  /// The location that has an entry for every VarLoc in the map.</span></div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;<span class="comment"></span>  <span class="keyword">static</span> constexpr u32_location_t kUniversalLocation = 0;</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;<span class="comment">  /// The first location that is reserved for VarLocs with locations of kind</span></div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;<span class="comment">  /// RegisterKind.</span></div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;<span class="comment"></span>  <span class="keyword">static</span> constexpr u32_location_t kFirstRegLocation = 1;</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;<span class="comment">  /// The first location greater than 0 that is not reserved for VarLocs with</span></div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;<span class="comment">  /// locations of kind RegisterKind.</span></div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;<span class="comment"></span>  <span class="keyword">static</span> constexpr u32_location_t kFirstInvalidRegLocation = 1 &lt;&lt; 30;</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;<span class="comment">  /// A special location reserved for VarLocs with locations of kind</span></div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;<span class="comment">  /// SpillLocKind.</span></div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;<span class="comment"></span>  <span class="keyword">static</span> constexpr u32_location_t kSpillLocation = kFirstInvalidRegLocation;</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;<span class="comment">  /// A special location reserved for VarLocs of kind EntryValueBackupKind and</span></div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;<span class="comment">  /// EntryValueCopyBackupKind.</span></div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;<span class="comment"></span>  <span class="keyword">static</span> constexpr u32_location_t kEntryValueBackupLocation =</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;      kFirstInvalidRegLocation + 1;</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;<span class="comment">  /// A special location reserved for VarLocs with locations of kind</span></div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;<span class="comment">  /// WasmLocKind.</span></div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;<span class="comment">  /// TODO Placing all Wasm target index locations in this single kWasmLocation</span></div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;<span class="comment">  /// may cause slowdown in compilation time in very large functions. Consider</span></div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;<span class="comment">  /// giving a each target index/offset pair its own u32_location_t if this</span></div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;<span class="comment">  /// becomes a problem.</span></div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;<span class="comment"></span>  <span class="keyword">static</span> constexpr u32_location_t kWasmLocation = kFirstInvalidRegLocation + 2;</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160; </div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;  LocIndex(u32_location_t Location, u32_index_t <a class="code" href="namespacellvm_1_1dwarf.html#a5d3c920b66ea797d6adb243862fdf47a">Index</a>)</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;      : <a class="code" href="namespacellvm_1_1logicalview.html#a9696bc411b0a7022c2cc78bff5173ceface5bf551379459c1c61d2a204061c455">Location</a>(<a class="code" href="namespacellvm_1_1logicalview.html#a9696bc411b0a7022c2cc78bff5173ceface5bf551379459c1c61d2a204061c455">Location</a>), <a class="code" href="namespacellvm_1_1dwarf.html#a5d3c920b66ea797d6adb243862fdf47a">Index</a>(<a class="code" href="namespacellvm_1_1dwarf.html#a5d3c920b66ea797d6adb243862fdf47a">Index</a>) {}</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160; </div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;  <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> getAsRawInteger()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    <span class="keywordflow">return</span> (<span class="keyword">static_cast&lt;</span><a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a><span class="keyword">&gt;</span>(Location) &lt;&lt; 32) | <a class="code" href="ELFObjHandler_8cpp.html#aef61945034b9431b804748fc317c5548">Index</a>;</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;  }</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160; </div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;  <span class="keyword">template</span>&lt;<span class="keyword">typename</span> IntT&gt; <span class="keyword">static</span> LocIndex fromRawInteger(IntT <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>) {</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    static_assert(std::is_unsigned_v&lt;IntT&gt; &amp;&amp; <span class="keyword">sizeof</span>(<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>) == <span class="keyword">sizeof</span>(<a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a>),</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;                  <span class="stringliteral">&quot;Cannot convert raw integer to LocIndex&quot;</span>);</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    <span class="keywordflow">return</span> {<span class="keyword">static_cast&lt;</span>u32_location_t<span class="keyword">&gt;</span>(<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a> &gt;&gt; 32),</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;            <span class="keyword">static_cast&lt;</span>u32_index_t<span class="keyword">&gt;</span>(<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>)};</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;  }</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;<span class="comment">  /// Get the start of the interval reserved for VarLocs of kind RegisterKind</span></div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;<span class="comment">  /// which reside in \p Reg. The end is at rawIndexForReg(Reg+1)-1.</span></div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;<span class="comment"></span>  <span class="keyword">static</span> <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> rawIndexForReg(<a class="code" href="classllvm_1_1Register.html">Register</a> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>) {</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    <span class="keywordflow">return</span> LocIndex(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, 0).getAsRawInteger();</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;  }</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;<span class="comment">  /// Return a range covering all set indices in the interval reserved for</span></div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;<span class="comment">  /// \p Location in \p Set.</span></div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;<span class="comment"></span>  <span class="keyword">static</span> <span class="keyword">auto</span> indexRangeForLocation(<span class="keyword">const</span> VarLocSet &amp;Set,</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;                                    u32_location_t Location) {</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> Start = LocIndex(Location, 0).getAsRawInteger();</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> End = LocIndex(Location + 1, 0).getAsRawInteger();</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    <span class="keywordflow">return</span> Set.half_open_range(Start, End);</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;  }</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;};</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160; </div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;<span class="comment">// Simple Set for storing all the VarLoc Indices at a Location bucket.</span></div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;<span class="keyword">using</span> VarLocsInRange = <a class="code" href="classllvm_1_1SmallSet.html">SmallSet&lt;LocIndex::u32_index_t, 32&gt;</a>;</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;<span class="comment">// Vector of all `LocIndex`s for a given VarLoc; the same Location should not</span></div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;<span class="comment">// appear in any two of these, as each VarLoc appears at most once in any</span></div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;<span class="comment">// Location bucket.</span></div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;<span class="keyword">using</span> LocIndices = <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;LocIndex, 2&gt;</a>;</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160; </div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;<span class="keyword">class </span>VarLocBasedLDV : <span class="keyword">public</span> <a class="code" href="classllvm_1_1SharedLiveDebugValues_1_1LDVImpl.html">LDVImpl</a> {</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;<span class="keyword">private</span>:</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterInfo.html">TargetRegisterInfo</a> *<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>;</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetInstrInfo.html">TargetInstrInfo</a> *<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>;</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetFrameLowering.html">TargetFrameLowering</a> *TFI;</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;  <a class="code" href="classllvm_1_1TargetPassConfig.html">TargetPassConfig</a> *TPC;</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;  <a class="code" href="classllvm_1_1BitVector.html">BitVector</a> CalleeSavedRegs;</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;  <a class="code" href="classllvm_1_1LexicalScopes.html">LexicalScopes</a> <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28afdd8238d6005774fe2bb9067de76eb8c">LS</a>;</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;  <a class="code" href="RegAllocBasic_8cpp.html#ad5d00e1d77644d95847b9bf8da12b759">VarLocSet::Allocator</a> Alloc;</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160; </div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *LastNonDbgMI;</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160; </div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;  <span class="keyword">enum struct</span> TransferKind { TransferCopy, TransferSpill, TransferRestore };</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160; </div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;  <span class="keyword">using</span> FragmentInfo = <a class="code" href="structllvm_1_1DIExpression_1_1FragmentInfo.html">DIExpression::FragmentInfo</a>;</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;  <span class="keyword">using</span> OptFragmentInfo = std::optional&lt;DIExpression::FragmentInfo&gt;;</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;<span class="comment">  /// A pair of debug variable and value location.</span></div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;<span class="comment"></span>  <span class="keyword">struct </span>VarLoc {</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    <span class="comment">// The location at which a spilled variable resides. It consists of a</span></div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    <span class="comment">// register and an offset.</span></div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    <span class="keyword">struct </span><a class="code" href="structLiveDebugValues_1_1SpillLoc.html">SpillLoc</a> {</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;      <span class="keywordtype">unsigned</span> SpillBase;</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;      <a class="code" href="classllvm_1_1StackOffset.html">StackOffset</a> SpillOffset;</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;      <span class="keywordtype">bool</span> <a class="code" href="namespacellvm.html#a4d812a2dd18aa186c164447e20e348e7">operator==</a>(<span class="keyword">const</span> <a class="code" href="structLiveDebugValues_1_1SpillLoc.html">SpillLoc</a> &amp;Other)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;        <span class="keywordflow">return</span> SpillBase == <a class="code" href="ELFYAML_8cpp.html#a941c34da9850676ce3380813c636cff2">Other</a>.SpillBase &amp;&amp; SpillOffset == <a class="code" href="ELFYAML_8cpp.html#a941c34da9850676ce3380813c636cff2">Other</a>.SpillOffset;</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;      }</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;      <span class="keywordtype">bool</span> <a class="code" href="namespacellvm.html#a2f883c895f4d244f4ed56ed8a8c160c1">operator!=</a>(<span class="keyword">const</span> <a class="code" href="structLiveDebugValues_1_1SpillLoc.html">SpillLoc</a> &amp;Other)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;        <span class="keywordflow">return</span> !(*<span class="keyword">this</span> == <a class="code" href="ELFYAML_8cpp.html#a941c34da9850676ce3380813c636cff2">Other</a>);</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;      }</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    };</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160; </div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    <span class="comment">// Target indices used for wasm-specific locations.</span></div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    <span class="keyword">struct </span>WasmLoc {</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;      <span class="comment">// One of TargetIndex values defined in WebAssembly.h. We deal with</span></div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;      <span class="comment">// local-related TargetIndex in this analysis (TI_LOCAL and</span></div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;      <span class="comment">// TI_LOCAL_INDIRECT). Stack operands (TI_OPERAND_STACK) will be handled</span></div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;      <span class="comment">// separately WebAssemblyDebugFixup pass, and we don&#39;t associate debug</span></div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;      <span class="comment">// info with values in global operands (TI_GLOBAL_RELOC) at the moment.</span></div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;      <span class="keywordtype">int</span> <a class="code" href="ELFObjHandler_8cpp.html#aef61945034b9431b804748fc317c5548">Index</a>;</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;      int64_t <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>;</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;      <span class="keywordtype">bool</span> <a class="code" href="namespacellvm.html#a4d812a2dd18aa186c164447e20e348e7">operator==</a>(<span class="keyword">const</span> WasmLoc &amp;Other)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1dwarf.html#a5d3c920b66ea797d6adb243862fdf47a">Index</a> == <a class="code" href="ELFYAML_8cpp.html#a941c34da9850676ce3380813c636cff2">Other</a>.Index &amp;&amp; <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> == <a class="code" href="ELFYAML_8cpp.html#a941c34da9850676ce3380813c636cff2">Other</a>.Offset;</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;      }</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;      <span class="keywordtype">bool</span> <a class="code" href="namespacellvm.html#a2f883c895f4d244f4ed56ed8a8c160c1">operator!=</a>(<span class="keyword">const</span> WasmLoc &amp;Other)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> !(*<span class="keyword">this</span> == <a class="code" href="ELFYAML_8cpp.html#a941c34da9850676ce3380813c636cff2">Other</a>); }</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    };</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;<span class="comment">    /// Identity of the variable at this location.</span></div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;<span class="comment"></span>    <span class="keyword">const</span> <a class="code" href="classllvm_1_1DebugVariable.html">DebugVariable</a> Var;</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;<span class="comment">    /// The expression applied to this location.</span></div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;<span class="comment"></span>    <span class="keyword">const</span> <a class="code" href="classllvm_1_1DIExpression.html">DIExpression</a> *Expr;</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;<span class="comment">    /// DBG_VALUE to clone var/expr information from if this location</span></div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;<span class="comment">    /// is moved.</span></div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;<span class="comment"></span>    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>;</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160; </div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    <span class="keyword">enum class</span> MachineLocKind {</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;      InvalidKind = 0,</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;      RegisterKind,</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;      SpillLocKind,</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;      ImmediateKind,</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;      WasmLocKind</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    };</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160; </div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    <span class="keyword">enum class</span> EntryValueLocKind {</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;      NonEntryValueKind = 0,</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;      EntryValueKind,</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;      EntryValueBackupKind,</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;      EntryValueCopyBackupKind</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    } EVKind = EntryValueLocKind::NonEntryValueKind;</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;<span class="comment">    /// The value location. Stored separately to avoid repeatedly</span></div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;<span class="comment">    /// extracting it from MI.</span></div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;<span class="comment"></span>    <span class="keyword">union </span>MachineLocValue {</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;      <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> RegNo;</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;      <a class="code" href="structLiveDebugValues_1_1SpillLoc.html">SpillLoc</a> SpillLocation;</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;      <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> Hash;</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;      int64_t Immediate;</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1ConstantFP.html">ConstantFP</a> *FPImm;</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *CImm;</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;      WasmLoc WasmLocation;</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;      MachineLocValue() : Hash(0) {}</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    };</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;<span class="comment">    /// A single machine location; its Kind is either a register, spill</span></div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;<span class="comment">    /// location, or immediate value.</span></div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;<span class="comment">    /// If the VarLoc is not a NonEntryValueKind, then it will use only a</span></div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;<span class="comment">    /// single MachineLoc of RegisterKind.</span></div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;<span class="comment"></span>    <span class="keyword">struct </span>MachineLoc {</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;      MachineLocKind <a class="code" href="namespacellvm_1_1lltok.html#af353621f14cb4b4b3af5ffaff84076b1">Kind</a>;</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;      MachineLocValue <a class="code" href="namespacellvm_1_1TargetStackID.html#a71392100eb15ba746b1f898986f5d8a5">Value</a>;</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;      <span class="keywordtype">bool</span> <a class="code" href="namespacellvm.html#a4d812a2dd18aa186c164447e20e348e7">operator==</a>(<span class="keyword">const</span> MachineLoc &amp;Other)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;        <span class="keywordflow">if</span> (Kind != <a class="code" href="ELFYAML_8cpp.html#a941c34da9850676ce3380813c636cff2">Other</a>.Kind)</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;        <span class="keywordflow">switch</span> (Kind) {</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;        <span class="keywordflow">case</span> MachineLocKind::SpillLocKind:</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Value.html">Value</a>.SpillLocation == <a class="code" href="ELFYAML_8cpp.html#a941c34da9850676ce3380813c636cff2">Other</a>.Value.SpillLocation;</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;        <span class="keywordflow">case</span> MachineLocKind::WasmLocKind:</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Value.html">Value</a>.WasmLocation == <a class="code" href="ELFYAML_8cpp.html#a941c34da9850676ce3380813c636cff2">Other</a>.Value.WasmLocation;</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;        <span class="keywordflow">case</span> MachineLocKind::RegisterKind:</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;        <span class="keywordflow">case</span> MachineLocKind::ImmediateKind:</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Value.html">Value</a>.Hash == <a class="code" href="ELFYAML_8cpp.html#a941c34da9850676ce3380813c636cff2">Other</a>.Value.Hash;</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;          <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Invalid kind&quot;</span>);</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;        }</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;      }</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;      <span class="keywordtype">bool</span> <a class="code" href="namespacellvm.html#a061b224a1a3c3486fd854e5009a858c9">operator&lt;</a>(<span class="keyword">const</span> MachineLoc &amp;Other)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;        <span class="keywordflow">switch</span> (Kind) {</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;        <span class="keywordflow">case</span> MachineLocKind::SpillLocKind:</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;          <span class="keywordflow">return</span> std::make_tuple(</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;                     Kind, <a class="code" href="classllvm_1_1Value.html">Value</a>.SpillLocation.SpillBase,</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;                     <a class="code" href="classllvm_1_1Value.html">Value</a>.SpillLocation.SpillOffset.getFixed(),</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;                     <a class="code" href="classllvm_1_1Value.html">Value</a>.SpillLocation.SpillOffset.getScalable()) &lt;</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;                 std::make_tuple(</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;                     <a class="code" href="ELFYAML_8cpp.html#a941c34da9850676ce3380813c636cff2">Other</a>.Kind, <a class="code" href="ELFYAML_8cpp.html#a941c34da9850676ce3380813c636cff2">Other</a>.Value.SpillLocation.SpillBase,</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;                     <a class="code" href="ELFYAML_8cpp.html#a941c34da9850676ce3380813c636cff2">Other</a>.Value.SpillLocation.SpillOffset.getFixed(),</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;                     <a class="code" href="ELFYAML_8cpp.html#a941c34da9850676ce3380813c636cff2">Other</a>.Value.SpillLocation.SpillOffset.getScalable());</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;        <span class="keywordflow">case</span> MachineLocKind::WasmLocKind:</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;          <span class="keywordflow">return</span> std::make_tuple(Kind, <a class="code" href="classllvm_1_1Value.html">Value</a>.WasmLocation.Index,</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;                                 <a class="code" href="classllvm_1_1Value.html">Value</a>.WasmLocation.Offset) &lt;</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;                 std::make_tuple(<a class="code" href="ELFYAML_8cpp.html#a941c34da9850676ce3380813c636cff2">Other</a>.Kind, <a class="code" href="ELFYAML_8cpp.html#a941c34da9850676ce3380813c636cff2">Other</a>.Value.WasmLocation.Index,</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;                                 <a class="code" href="ELFYAML_8cpp.html#a941c34da9850676ce3380813c636cff2">Other</a>.Value.WasmLocation.Offset);</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;        <span class="keywordflow">case</span> MachineLocKind::RegisterKind:</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;        <span class="keywordflow">case</span> MachineLocKind::ImmediateKind:</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;          <span class="keywordflow">return</span> std::tie(Kind, <a class="code" href="classllvm_1_1Value.html">Value</a>.Hash) &lt;</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;                 std::tie(<a class="code" href="ELFYAML_8cpp.html#a941c34da9850676ce3380813c636cff2">Other</a>.Kind, <a class="code" href="ELFYAML_8cpp.html#a941c34da9850676ce3380813c636cff2">Other</a>.Value.Hash);</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;          <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Invalid kind&quot;</span>);</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;        }</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;      }</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;    };</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;<span class="comment">    /// The set of machine locations used to determine the variable&#39;s value, in</span></div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;<span class="comment">    /// conjunction with Expr. Initially populated with MI&#39;s debug operands,</span></div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;<span class="comment">    /// but may be transformed independently afterwards.</span></div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;<span class="comment"></span>    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;MachineLoc, 8&gt;</a> Locs;<span class="comment"></span></div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;<span class="comment">    /// Used to map the index of each location in Locs back to the index of its</span></div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;<span class="comment">    /// original debug operand in MI. Used when multiple location operands are</span></div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;<span class="comment">    /// coalesced and the original MI&#39;s operands need to be accessed while</span></div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;<span class="comment">    /// emitting a debug value.</span></div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;<span class="comment"></span>    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;unsigned, 8&gt;</a> OrigLocMap;</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160; </div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;    VarLoc(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>)</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;        : Var(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getDebugVariable(), <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getDebugExpression(),</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;              <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.<a class="code" href="MachineInstrBundle_8cpp.html#af44c9b089359803924e0b92bea3b6d03">getDebugLoc</a>()-&gt;getInlinedAt()),</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;          Expr(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getDebugExpression()), <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>) {</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.isDebugValue() &amp;&amp; <span class="stringliteral">&quot;not a DBG_VALUE&quot;</span>);</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.isDebugValueList() || <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getNumOperands() == 4) &amp;&amp;</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;             <span class="stringliteral">&quot;malformed DBG_VALUE&quot;</span>);</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> : <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.debug_operands()) {</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;        MachineLoc <a class="code" href="InlineOrder_8cpp.html#a7ee6f0cb51c3b9056199e9a0001fe8c3ad01fd9b01e9dde8bd3dc247afbfb7218">ML</a> = GetLocForOp(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>);</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;        <span class="keyword">auto</span> It = <a class="code" href="namespacellvm.html#a086e9fbdb06276db7753101a08a63adf">find</a>(Locs, ML);</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;        <span class="keywordflow">if</span> (It == Locs.end()) {</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;          Locs.push_back(ML);</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;          OrigLocMap.push_back(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getDebugOperandIndex(&amp;<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>));</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;          <span class="comment">// ML duplicates an element in Locs; replace references to Op</span></div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;          <span class="comment">// with references to the duplicating element.</span></div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;          <span class="keywordtype">unsigned</span> OpIdx = Locs.size();</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;          <span class="keywordtype">unsigned</span> DuplicatingIdx = std::distance(Locs.begin(), It);</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;          Expr = <a class="code" href="classllvm_1_1DIExpression.html#a9c14a49c489d623a8174f48b368cd3e8">DIExpression::replaceArg</a>(Expr, OpIdx, DuplicatingIdx);</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;        }</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;      }</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160; </div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;      <span class="comment">// We create the debug entry values from the factory functions rather</span></div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;      <span class="comment">// than from this ctor.</span></div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(EVKind != EntryValueLocKind::EntryValueKind &amp;&amp;</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;             !isEntryBackupLoc());</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;    }</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160; </div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;    <span class="keyword">static</span> MachineLoc GetLocForOp(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>) {</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;      MachineLocKind <a class="code" href="namespacellvm_1_1lltok.html#af353621f14cb4b4b3af5ffaff84076b1">Kind</a>;</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;      MachineLocValue Loc;</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.isReg()) {</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;        <a class="code" href="namespacellvm_1_1lltok.html#af353621f14cb4b4b3af5ffaff84076b1">Kind</a> = MachineLocKind::RegisterKind;</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;        Loc.RegNo = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getReg();</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.isImm()) {</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;        <a class="code" href="namespacellvm_1_1lltok.html#af353621f14cb4b4b3af5ffaff84076b1">Kind</a> = MachineLocKind::ImmediateKind;</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;        Loc.Immediate = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getImm();</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.isFPImm()) {</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;        <a class="code" href="namespacellvm_1_1lltok.html#af353621f14cb4b4b3af5ffaff84076b1">Kind</a> = MachineLocKind::ImmediateKind;</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;        Loc.FPImm = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getFPImm();</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.isCImm()) {</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;        <a class="code" href="namespacellvm_1_1lltok.html#af353621f14cb4b4b3af5ffaff84076b1">Kind</a> = MachineLocKind::ImmediateKind;</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;        Loc.CImm = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getCImm();</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.isTargetIndex()) {</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;        <a class="code" href="namespacellvm_1_1lltok.html#af353621f14cb4b4b3af5ffaff84076b1">Kind</a> = MachineLocKind::WasmLocKind;</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;        Loc.WasmLocation = {<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getIndex(), <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getOffset()};</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;      } <span class="keywordflow">else</span></div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;        <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Invalid Op kind for MachineLoc.&quot;</span>);</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;      <span class="keywordflow">return</span> {<a class="code" href="namespacellvm_1_1lltok.html#af353621f14cb4b4b3af5ffaff84076b1">Kind</a>, Loc};</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;    }</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;<span class="comment">    /// Take the variable and machine-location in DBG_VALUE MI, and build an</span></div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;<span class="comment">    /// entry location using the given expression.</span></div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;<span class="comment"></span>    <span class="keyword">static</span> VarLoc CreateEntryLoc(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>,</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;                                 <span class="keyword">const</span> <a class="code" href="classllvm_1_1DIExpression.html">DIExpression</a> *EntryExpr, <a class="code" href="classllvm_1_1Register.html">Register</a> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>) {</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;      VarLoc VL(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(VL.Locs.size() == 1 &amp;&amp;</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;             VL.Locs[0].Kind == MachineLocKind::RegisterKind);</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;      VL.EVKind = EntryValueLocKind::EntryValueKind;</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;      VL.Expr = EntryExpr;</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;      VL.Locs[0].Value.RegNo = <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>;</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;      <span class="keywordflow">return</span> VL;</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;    }</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;<span class="comment">    /// Take the variable and machine-location from the DBG_VALUE (from the</span></div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;<span class="comment">    /// function entry), and build an entry value backup location. The backup</span></div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;<span class="comment">    /// location will turn into the normal location if the backup is valid at</span></div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;<span class="comment">    /// the time of the primary location clobbering.</span></div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;<span class="comment"></span>    <span class="keyword">static</span> VarLoc CreateEntryBackupLoc(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>,</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;                                       <span class="keyword">const</span> <a class="code" href="classllvm_1_1DIExpression.html">DIExpression</a> *EntryExpr) {</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;      VarLoc VL(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(VL.Locs.size() == 1 &amp;&amp;</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;             VL.Locs[0].Kind == MachineLocKind::RegisterKind);</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;      VL.EVKind = EntryValueLocKind::EntryValueBackupKind;</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;      VL.Expr = EntryExpr;</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;      <span class="keywordflow">return</span> VL;</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;    }</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;<span class="comment">    /// Take the variable and machine-location from the DBG_VALUE (from the</span></div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;<span class="comment">    /// function entry), and build a copy of an entry value backup location by</span></div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;<span class="comment">    /// setting the register location to NewReg.</span></div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;<span class="comment"></span>    <span class="keyword">static</span> VarLoc CreateEntryCopyBackupLoc(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>,</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;                                           <span class="keyword">const</span> <a class="code" href="classllvm_1_1DIExpression.html">DIExpression</a> *EntryExpr,</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;                                           <a class="code" href="classllvm_1_1Register.html">Register</a> NewReg) {</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;      VarLoc VL(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(VL.Locs.size() == 1 &amp;&amp;</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;             VL.Locs[0].Kind == MachineLocKind::RegisterKind);</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;      VL.EVKind = EntryValueLocKind::EntryValueCopyBackupKind;</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;      VL.Expr = EntryExpr;</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;      VL.Locs[0].Value.RegNo = NewReg;</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;      <span class="keywordflow">return</span> VL;</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;    }</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;<span class="comment">    /// Copy the register location in DBG_VALUE MI, updating the register to</span></div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;<span class="comment">    /// be NewReg.</span></div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;<span class="comment"></span>    <span class="keyword">static</span> VarLoc CreateCopyLoc(<span class="keyword">const</span> VarLoc &amp;OldVL, <span class="keyword">const</span> MachineLoc &amp;OldML,</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;                                <a class="code" href="classllvm_1_1Register.html">Register</a> NewReg) {</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;      VarLoc VL = OldVL;</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;      <span class="keywordflow">for</span> (MachineLoc &amp;ML : VL.Locs)</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;        <span class="keywordflow">if</span> (ML == OldML) {</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;          <a class="code" href="InlineOrder_8cpp.html#a7ee6f0cb51c3b9056199e9a0001fe8c3ad01fd9b01e9dde8bd3dc247afbfb7218">ML</a>.Kind = MachineLocKind::RegisterKind;</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;          <a class="code" href="InlineOrder_8cpp.html#a7ee6f0cb51c3b9056199e9a0001fe8c3ad01fd9b01e9dde8bd3dc247afbfb7218">ML</a>.Value.RegNo = NewReg;</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;          <span class="keywordflow">return</span> VL;</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;        }</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;      <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Should have found OldML in new VarLoc.&quot;</span>);</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;    }</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;<span class="comment">    /// Take the variable described by DBG_VALUE* MI, and create a VarLoc</span></div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;<span class="comment">    /// locating it in the specified spill location.</span></div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;<span class="comment"></span>    <span class="keyword">static</span> VarLoc CreateSpillLoc(<span class="keyword">const</span> VarLoc &amp;OldVL, <span class="keyword">const</span> MachineLoc &amp;OldML,</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;                                 <span class="keywordtype">unsigned</span> SpillBase, <a class="code" href="classllvm_1_1StackOffset.html">StackOffset</a> SpillOffset) {</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;      VarLoc VL = OldVL;</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;      <span class="keywordflow">for</span> (MachineLoc &amp;ML : VL.Locs)</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;        <span class="keywordflow">if</span> (ML == OldML) {</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;          <a class="code" href="InlineOrder_8cpp.html#a7ee6f0cb51c3b9056199e9a0001fe8c3ad01fd9b01e9dde8bd3dc247afbfb7218">ML</a>.Kind = MachineLocKind::SpillLocKind;</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;          <a class="code" href="InlineOrder_8cpp.html#a7ee6f0cb51c3b9056199e9a0001fe8c3ad01fd9b01e9dde8bd3dc247afbfb7218">ML</a>.Value.SpillLocation = {SpillBase, SpillOffset};</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;          <span class="keywordflow">return</span> VL;</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;        }</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;      <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Should have found OldML in new VarLoc.&quot;</span>);</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;    }</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;<span class="comment">    /// Create a DBG_VALUE representing this VarLoc in the given function.</span></div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;<span class="comment">    /// Copies variable-specific information such as DILocalVariable and</span></div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;<span class="comment">    /// inlining information from the original DBG_VALUE instruction, which may</span></div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;<span class="comment">    /// have been several transfers ago.</span></div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;<span class="comment"></span>    <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *BuildDbgValue(<a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!isEntryBackupLoc() &amp;&amp;</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;             <span class="stringliteral">&quot;Tried to produce DBG_VALUE for backup VarLoc&quot;</span>);</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> &amp;DbgLoc = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getDebugLoc();</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;      <span class="keywordtype">bool</span> <a class="code" href="namespacellvm_1_1objcopy.html#a88eeb89876019c1a9f2540275fb96457a0b5ca9d0c6dbcbb3e299361cd4e4a79c">Indirect</a> = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.isIndirectDebugValue();</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;      <span class="keyword">const</span> <span class="keyword">auto</span> &amp;IID = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getDesc();</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1DILocalVariable.html">DILocalVariable</a> *Var = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getDebugVariable();</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;      NumInserted++;</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160; </div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1DIExpression.html">DIExpression</a> *DIExpr = Expr;</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;      <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;MachineOperand, 8&gt;</a> MOs;</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 0, <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = Locs.size(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> &lt; <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;        MachineLocKind LocKind = Locs[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>].Kind;</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;        MachineLocValue Loc = Locs[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>].Value;</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;Orig = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getDebugOperand(OrigLocMap[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>]);</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;        <span class="keywordflow">switch</span> (LocKind) {</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;        <span class="keywordflow">case</span> MachineLocKind::RegisterKind:</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;          <span class="comment">// An entry value is a register location -- but with an updated</span></div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;          <span class="comment">// expression. The register location of such DBG_VALUE is always the</span></div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;          <span class="comment">// one from the entry DBG_VALUE, it does not matter if the entry value</span></div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;          <span class="comment">// was copied in to another register due to some optimizations.</span></div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;          <span class="comment">// Non-entry value register locations are like the source</span></div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;          <span class="comment">// DBG_VALUE, but with the register number from this VarLoc.</span></div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;          MOs.push_back(<a class="code" href="classllvm_1_1MachineOperand.html#af2c351dad09a71aa08e1d85c67ae6e53">MachineOperand::CreateReg</a>(</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;              EVKind == EntryValueLocKind::EntryValueKind ? Orig.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>()</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;                                                          : <a class="code" href="classllvm_1_1Register.html">Register</a>(Loc.RegNo),</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;              <span class="keyword">false</span>));</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;        <span class="keywordflow">case</span> MachineLocKind::SpillLocKind: {</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;          <span class="comment">// Spills are indirect DBG_VALUEs, with a base register and offset.</span></div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;          <span class="comment">// Use the original DBG_VALUEs expression to build the spilt location</span></div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;          <span class="comment">// on top of. FIXME: spill locations created before this pass runs</span></div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;          <span class="comment">// are not recognized, and not handled here.</span></div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;          <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1sampleprof.html#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a> = Loc.SpillLocation.SpillBase;</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;          <span class="keyword">auto</span> *<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a> = MF.<a class="code" href="classllvm_1_1MachineFunction.html#a325f6b611ef9ec06798d3b4eb9572093">getSubtarget</a>().<a class="code" href="classllvm_1_1TargetSubtargetInfo.html#a87849514193302b75f50a8092f94b98a">getRegisterInfo</a>();</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.isNonListDebugValue()) {</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;            <span class="keyword">auto</span> Deref = <a class="code" href="namespacellvm_1_1objcopy.html#a88eeb89876019c1a9f2540275fb96457a0b5ca9d0c6dbcbb3e299361cd4e4a79c">Indirect</a> ? <a class="code" href="classllvm_1_1DIExpression.html#a6472489551b8960cc115a93d95eef9f6a9778207fdbedcd56192301c38b5ffe4c">DIExpression::DerefAfter</a> : 0;</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;            DIExpr = <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>-&gt;<a class="code" href="classllvm_1_1TargetRegisterInfo.html#ac6859ef2a1c57ce668658e21fe90bfad">prependOffsetExpression</a>(</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;                DIExpr, <a class="code" href="classllvm_1_1DIExpression.html#a6472489551b8960cc115a93d95eef9f6a4ce0a0358c0de36a6ea4413d7abcbca8">DIExpression::ApplyOffset</a> | Deref,</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;                Loc.SpillLocation.SpillOffset);</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;            <a class="code" href="namespacellvm_1_1objcopy.html#a88eeb89876019c1a9f2540275fb96457a0b5ca9d0c6dbcbb3e299361cd4e4a79c">Indirect</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;          } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;            <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;uint64_t, 4&gt;</a> Ops;</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;            <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>-&gt;<a class="code" href="classllvm_1_1TargetRegisterInfo.html#af2460aaecee28b4a96ea41286e8aa406">getOffsetOpcodes</a>(Loc.SpillLocation.SpillOffset, Ops);</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;            Ops.push_back(dwarf::DW_OP_deref);</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;            DIExpr = <a class="code" href="classllvm_1_1DIExpression.html#a5f48305fa7d23161515c94bca7c2beb6">DIExpression::appendOpsToArg</a>(DIExpr, Ops, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;          }</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;          MOs.push_back(<a class="code" href="classllvm_1_1MachineOperand.html#af2c351dad09a71aa08e1d85c67ae6e53">MachineOperand::CreateReg</a>(Base, <span class="keyword">false</span>));</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;        }</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;        <span class="keywordflow">case</span> MachineLocKind::ImmediateKind: {</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;          MOs.push_back(Orig);</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;        }</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;        <span class="keywordflow">case</span> MachineLocKind::WasmLocKind: {</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;          MOs.push_back(Orig);</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;        }</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;        <span class="keywordflow">case</span> MachineLocKind::InvalidKind:</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;          <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Tried to produce DBG_VALUE for invalid VarLoc&quot;</span>);</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;        }</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;      }</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(MF, DbgLoc, IID, Indirect, MOs, Var, DIExpr);</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;    }</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;<span class="comment">    /// Is the Loc field a constant or constant object?</span></div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;<span class="comment"></span>    <span class="keywordtype">bool</span> <a class="code" href="AMDGPUInstructionSelector_8cpp.html#a6dee2d9e1e2a288de903228075ac71de">isConstant</a>(MachineLocKind Kind)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1lltok.html#af353621f14cb4b4b3af5ffaff84076b1">Kind</a> == MachineLocKind::ImmediateKind;</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;    }</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;<span class="comment">    /// Check if the Loc field is an entry backup location.</span></div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;<span class="comment"></span>    <span class="keywordtype">bool</span> isEntryBackupLoc()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;      <span class="keywordflow">return</span> EVKind == EntryValueLocKind::EntryValueBackupKind ||</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;             EVKind == EntryValueLocKind::EntryValueCopyBackupKind;</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;    }</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;<span class="comment">    /// If this variable is described by register \p Reg holding the entry</span></div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;<span class="comment">    /// value, return true.</span></div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;<span class="comment"></span>    <span class="keywordtype">bool</span> isEntryValueBackupReg(<a class="code" href="classllvm_1_1Register.html">Register</a> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;      <span class="keywordflow">return</span> EVKind == EntryValueLocKind::EntryValueBackupKind &amp;&amp; usesReg(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>);</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;    }</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;<span class="comment">    /// If this variable is described by register \p Reg holding a copy of the</span></div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;<span class="comment">    /// entry value, return true.</span></div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;<span class="comment"></span>    <span class="keywordtype">bool</span> isEntryValueCopyBackupReg(<a class="code" href="classllvm_1_1Register.html">Register</a> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;      <span class="keywordflow">return</span> EVKind == EntryValueLocKind::EntryValueCopyBackupKind &amp;&amp;</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;             usesReg(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>);</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;    }</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;<span class="comment">    /// If this variable is described in whole or part by \p Reg, return true.</span></div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;<span class="comment"></span>    <span class="keywordtype">bool</span> usesReg(<a class="code" href="classllvm_1_1Register.html">Register</a> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;      MachineLoc RegML;</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;      RegML.Kind = MachineLocKind::RegisterKind;</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;      RegML.Value.RegNo = <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>;</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#acd1cd968cb420c82d70926920fcdc7d7">is_contained</a>(Locs, RegML);</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;    }</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;<span class="comment">    /// If this variable is described in whole or part by \p Reg, return true.</span></div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;<span class="comment"></span>    <span class="keywordtype">unsigned</span> getRegIdx(<a class="code" href="classllvm_1_1Register.html">Register</a> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> Idx = 0; Idx &lt; Locs.size(); ++Idx)</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;        <span class="keywordflow">if</span> (Locs[Idx].Kind == MachineLocKind::RegisterKind &amp;&amp;</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;            <a class="code" href="classllvm_1_1Register.html">Register</a>{<span class="keyword">static_cast&lt;</span><span class="keywordtype">unsigned</span><span class="keyword">&gt;</span>(Locs[Idx].Value.RegNo)} == <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>)</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;          <span class="keywordflow">return</span> Idx;</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;      <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Could not find given Reg in Locs&quot;</span>);</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;    }</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;<span class="comment">    /// If this variable is described in whole or part by 1 or more registers,</span></div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;<span class="comment">    /// add each of them to \p Regs and return true.</span></div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;<span class="comment"></span>    <span class="keywordtype">bool</span> getDescribingRegs(<a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;uint32_t&gt;</a> &amp;Regs)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;      <span class="keywordtype">bool</span> AnyRegs = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;Loc : Locs)</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;        <span class="keywordflow">if</span> (Loc.Kind == MachineLocKind::RegisterKind) {</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;          Regs.push_back(Loc.Value.RegNo);</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;          AnyRegs = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;        }</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;      <span class="keywordflow">return</span> AnyRegs;</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;    }</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160; </div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;    <span class="keywordtype">bool</span> containsSpillLocs()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a61d13d6824ec46c31260a4fd0997eda0">any_of</a>(Locs, [](VarLoc::MachineLoc ML) {</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="InlineOrder_8cpp.html#a7ee6f0cb51c3b9056199e9a0001fe8c3ad01fd9b01e9dde8bd3dc247afbfb7218">ML</a>.Kind == VarLoc::MachineLocKind::SpillLocKind;</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;      });</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;    }</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;<span class="comment">    /// If this variable is described in whole or part by \p SpillLocation,</span></div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;<span class="comment">    /// return true.</span></div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;<span class="comment"></span>    <span class="keywordtype">bool</span> usesSpillLoc(<a class="code" href="structLiveDebugValues_1_1SpillLoc.html">SpillLoc</a> SpillLocation)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;      MachineLoc SpillML;</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;      SpillML.Kind = MachineLocKind::SpillLocKind;</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;      SpillML.Value.SpillLocation = SpillLocation;</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#acd1cd968cb420c82d70926920fcdc7d7">is_contained</a>(Locs, SpillML);</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;    }</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;<span class="comment">    /// If this variable is described in whole or part by \p SpillLocation,</span></div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;<span class="comment">    /// return the index .</span></div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;<span class="comment"></span>    <span class="keywordtype">unsigned</span> getSpillLocIdx(<a class="code" href="structLiveDebugValues_1_1SpillLoc.html">SpillLoc</a> SpillLocation)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> Idx = 0; Idx &lt; Locs.size(); ++Idx)</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;        <span class="keywordflow">if</span> (Locs[Idx].Kind == MachineLocKind::SpillLocKind &amp;&amp;</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;            Locs[Idx].<a class="code" href="classllvm_1_1Value.html">Value</a>.SpillLocation == SpillLocation)</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;          <span class="keywordflow">return</span> Idx;</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;      <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Could not find given SpillLoc in Locs&quot;</span>);</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;    }</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160; </div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;    <span class="keywordtype">bool</span> containsWasmLocs()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a61d13d6824ec46c31260a4fd0997eda0">any_of</a>(Locs, [](VarLoc::MachineLoc ML) {</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="InlineOrder_8cpp.html#a7ee6f0cb51c3b9056199e9a0001fe8c3ad01fd9b01e9dde8bd3dc247afbfb7218">ML</a>.Kind == VarLoc::MachineLocKind::WasmLocKind;</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;      });</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;    }</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;<span class="comment">    /// If this variable is described in whole or part by \p WasmLocation,</span></div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;<span class="comment">    /// return true.</span></div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;<span class="comment"></span>    <span class="keywordtype">bool</span> usesWasmLoc(WasmLoc WasmLocation)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;      MachineLoc WasmML;</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;      WasmML.Kind = MachineLocKind::WasmLocKind;</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;      WasmML.Value.WasmLocation = WasmLocation;</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#acd1cd968cb420c82d70926920fcdc7d7">is_contained</a>(Locs, WasmML);</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;    }</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;<span class="comment">    /// Determine whether the lexical scope of this value&#39;s debug location</span></div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;<span class="comment">    /// dominates MBB.</span></div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;<span class="comment"></span>    <span class="keywordtype">bool</span> <a class="code" href="RegAllocFast_8cpp.html#a0eda39ffaf32662a7ae6f4dbe998711b">dominates</a>(<a class="code" href="classllvm_1_1LexicalScopes.html">LexicalScopes</a> &amp;<a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28afdd8238d6005774fe2bb9067de76eb8c">LS</a>, <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28afdd8238d6005774fe2bb9067de76eb8c">LS</a>.dominates(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getDebugLoc().get(), &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>);</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;    }</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160; </div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;<span class="preprocessor">#if !defined(NDEBUG) || defined(LLVM_ENABLE_DUMP)</span></div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;    <span class="comment">// TRI and TII can be null.</span></div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="namespacellvm.html#a03503773241005f01b090b9862aad304">dump</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterInfo.html">TargetRegisterInfo</a> *<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetInstrInfo.html">TargetInstrInfo</a> *<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>,</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;              <a class="code" href="classllvm_1_1raw__ostream.html">raw_ostream</a> &amp;Out = <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>())<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;      Out &lt;&lt; <span class="stringliteral">&quot;VarLoc(&quot;</span>;</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">const</span> MachineLoc &amp;MLoc : Locs) {</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;        <span class="keywordflow">if</span> (Locs.begin() != &amp;MLoc)</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;          Out &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>;</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;        <span class="keywordflow">switch</span> (MLoc.Kind) {</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;        <span class="keywordflow">case</span> MachineLocKind::RegisterKind:</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;          Out &lt;&lt; <a class="code" href="namespacellvm.html#af085ea923a328b9fa6a1975f1a4ff987">printReg</a>(MLoc.Value.RegNo, <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>);</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;        <span class="keywordflow">case</span> MachineLocKind::SpillLocKind:</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;          Out &lt;&lt; <a class="code" href="namespacellvm.html#af085ea923a328b9fa6a1975f1a4ff987">printReg</a>(MLoc.Value.SpillLocation.SpillBase, <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>);</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;          Out &lt;&lt; <span class="stringliteral">&quot;[&quot;</span> &lt;&lt; MLoc.Value.SpillLocation.SpillOffset.getFixed() &lt;&lt; <span class="stringliteral">&quot; + &quot;</span></div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;              &lt;&lt; MLoc.Value.SpillLocation.SpillOffset.getScalable()</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;              &lt;&lt; <span class="stringliteral">&quot;x vscale&quot;</span></div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;              &lt;&lt; <span class="stringliteral">&quot;]&quot;</span>;</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;        <span class="keywordflow">case</span> MachineLocKind::ImmediateKind:</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;          Out &lt;&lt; MLoc.Value.Immediate;</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;        <span class="keywordflow">case</span> MachineLocKind::WasmLocKind: {</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>) {</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;            <span class="keyword">auto</span> Indices = <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>-&gt;getSerializableTargetIndices();</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;            <span class="keyword">auto</span> Found =</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;                <a class="code" href="namespacellvm.html#ac78c09ae232b2ce188ff590d51e3c268">find_if</a>(Indices, [&amp;](<span class="keyword">const</span> std::pair&lt;int, const char *&gt; &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;                  <span class="keywordflow">return</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.first == MLoc.Value.WasmLocation.Index;</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;                });</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;            <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Found != Indices.end());</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;            Out &lt;&lt; Found-&gt;second;</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;            <span class="keywordflow">if</span> (MLoc.Value.WasmLocation.Offset &gt; 0)</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;              Out &lt;&lt; <span class="stringliteral">&quot; + &quot;</span> &lt;&lt; MLoc.Value.WasmLocation.Offset;</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;          } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;            Out &lt;&lt; <span class="stringliteral">&quot;WasmLoc&quot;</span>;</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;          }</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;        }</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;        <span class="keywordflow">case</span> MachineLocKind::InvalidKind:</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;          <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Invalid VarLoc in dump method&quot;</span>);</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;        }</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;      }</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160; </div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;      Out &lt;&lt; <span class="stringliteral">&quot;, \&quot;&quot;</span> &lt;&lt; Var.getVariable()-&gt;<a class="code" href="classllvm_1_1DIVariable.html#af44724cae4bcd562972facee1cf035a5">getName</a>() &lt;&lt; <span class="stringliteral">&quot;\&quot;, &quot;</span> &lt;&lt; *Expr &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>;</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;      <span class="keywordflow">if</span> (Var.getInlinedAt())</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;        Out &lt;&lt; <span class="stringliteral">&quot;!&quot;</span> &lt;&lt; Var.getInlinedAt()-&gt;<a class="code" href="classllvm_1_1Metadata.html#a91c7b9c7cf6694f41b9030429b582d26">getMetadataID</a>() &lt;&lt; <span class="stringliteral">&quot;)\n&quot;</span>;</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;        Out &lt;&lt; <span class="stringliteral">&quot;(null))&quot;</span>;</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160; </div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;      <span class="keywordflow">if</span> (isEntryBackupLoc())</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;        Out &lt;&lt; <span class="stringliteral">&quot; (backup loc)\n&quot;</span>;</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;        Out &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;    }</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160; </div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="namespacellvm.html#a4d812a2dd18aa186c164447e20e348e7">operator==</a>(<span class="keyword">const</span> VarLoc &amp;Other)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;      <span class="keywordflow">return</span> std::tie(EVKind, Var, Expr, Locs) ==</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;             std::tie(<a class="code" href="ELFYAML_8cpp.html#a941c34da9850676ce3380813c636cff2">Other</a>.EVKind, <a class="code" href="ELFYAML_8cpp.html#a941c34da9850676ce3380813c636cff2">Other</a>.Var, <a class="code" href="ELFYAML_8cpp.html#a941c34da9850676ce3380813c636cff2">Other</a>.Expr, <a class="code" href="ELFYAML_8cpp.html#a941c34da9850676ce3380813c636cff2">Other</a>.Locs);</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;    }</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;<span class="comment">    /// This operator guarantees that VarLocs are sorted by Variable first.</span></div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;<span class="comment"></span>    <span class="keywordtype">bool</span> <a class="code" href="namespacellvm.html#a061b224a1a3c3486fd854e5009a858c9">operator&lt;</a>(<span class="keyword">const</span> VarLoc &amp;Other)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;      <span class="keywordflow">return</span> std::tie(Var, EVKind, Locs, Expr) &lt;</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;             std::tie(<a class="code" href="ELFYAML_8cpp.html#a941c34da9850676ce3380813c636cff2">Other</a>.Var, <a class="code" href="ELFYAML_8cpp.html#a941c34da9850676ce3380813c636cff2">Other</a>.EVKind, <a class="code" href="ELFYAML_8cpp.html#a941c34da9850676ce3380813c636cff2">Other</a>.Locs, <a class="code" href="ELFYAML_8cpp.html#a941c34da9850676ce3380813c636cff2">Other</a>.Expr);</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;    }</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;  };</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160; </div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;<span class="preprocessor">#ifndef NDEBUG</span></div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;  <span class="keyword">using</span> VarVec = <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;VarLoc, 32&gt;</a>;</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;<span class="comment">  /// VarLocMap is used for two things:</span></div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;<span class="comment">  /// 1) Assigning LocIndices to a VarLoc. The LocIndices can be used to</span></div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;<span class="comment">  ///    virtually insert a VarLoc into a VarLocSet.</span></div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;<span class="comment">  /// 2) Given a LocIndex, look up the unique associated VarLoc.</span></div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;<span class="comment"></span>  <span class="keyword">class </span>VarLocMap {<span class="comment"></span></div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;<span class="comment">    /// Map a VarLoc to an index within the vector reserved for its location</span></div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;<span class="comment">    /// within Loc2Vars.</span></div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;<span class="comment"></span>    std::map&lt;VarLoc, LocIndices&gt; Var2Indices;</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;<span class="comment">    /// Map a location to a vector which holds VarLocs which live in that</span></div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;<span class="comment">    /// location.</span></div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;<span class="comment"></span>    <a class="code" href="classllvm_1_1SmallDenseMap.html">SmallDenseMap&lt;LocIndex::u32_location_t, std::vector&lt;VarLoc&gt;</a>&gt; Loc2Vars;</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160; </div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;  <span class="keyword">public</span>:<span class="comment"></span></div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;<span class="comment">    /// Retrieve LocIndices for \p VL.</span></div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;<span class="comment"></span>    LocIndices insert(<span class="keyword">const</span> VarLoc &amp;VL) {</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;      LocIndices &amp;Indices = Var2Indices[VL];</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;      <span class="comment">// If Indices is not empty, VL is already in the map.</span></div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;      <span class="keywordflow">if</span> (!Indices.empty())</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;        <span class="keywordflow">return</span> Indices;</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;      <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;LocIndex::u32_location_t, 4&gt;</a> <a class="code" href="namespacellvm_1_1logicalview.html#a8d4dd8d1ec9d9328d03bb2b99aa74744aeebd338ddbd547e41e4a1296de82963a">Locations</a>;</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;      <span class="comment">// LocIndices are determined by EVKind and MLs; each Register has a</span></div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;      <span class="comment">// unique location, while all SpillLocs use a single bucket, and any EV</span></div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;      <span class="comment">// VarLocs use only the Backup bucket or none at all (except the</span></div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;      <span class="comment">// compulsory entry at the universal location index). LocIndices will</span></div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;      <span class="comment">// always have an index at the universal location index as the last index.</span></div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;      <span class="keywordflow">if</span> (VL.EVKind == VarLoc::EntryValueLocKind::NonEntryValueKind) {</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;        VL.getDescribingRegs(Locations);</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;        <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="namespacellvm.html#a0d10fe510ced2849a8074fe81e5d04ce">all_of</a>(Locations,</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;                      [](<span class="keyword">auto</span> RegNo) {</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;                        <span class="keywordflow">return</span> RegNo &lt; LocIndex::kFirstInvalidRegLocation;</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;                      }) &amp;&amp;</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;               <span class="stringliteral">&quot;Physreg out of range?&quot;</span>);</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;        <span class="keywordflow">if</span> (VL.containsSpillLocs())</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;          <a class="code" href="namespacellvm_1_1logicalview.html#a8d4dd8d1ec9d9328d03bb2b99aa74744aeebd338ddbd547e41e4a1296de82963a">Locations</a>.push_back(LocIndex::kSpillLocation);</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;        <span class="keywordflow">if</span> (VL.containsWasmLocs())</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;          <a class="code" href="namespacellvm_1_1logicalview.html#a8d4dd8d1ec9d9328d03bb2b99aa74744aeebd338ddbd547e41e4a1296de82963a">Locations</a>.push_back(LocIndex::kWasmLocation);</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (VL.EVKind != VarLoc::EntryValueLocKind::EntryValueKind) {</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;        <a class="code" href="classuint32__t.html">LocIndex::u32_location_t</a> Loc = LocIndex::kEntryValueBackupLocation;</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;        <a class="code" href="namespacellvm_1_1logicalview.html#a8d4dd8d1ec9d9328d03bb2b99aa74744aeebd338ddbd547e41e4a1296de82963a">Locations</a>.push_back(Loc);</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;      }</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;      <a class="code" href="namespacellvm_1_1logicalview.html#a8d4dd8d1ec9d9328d03bb2b99aa74744aeebd338ddbd547e41e4a1296de82963a">Locations</a>.push_back(LocIndex::kUniversalLocation);</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classuint32__t.html">LocIndex::u32_location_t</a> Location : Locations) {</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;        <span class="keyword">auto</span> &amp;Vars = Loc2Vars[<a class="code" href="namespacellvm_1_1logicalview.html#a9696bc411b0a7022c2cc78bff5173ceface5bf551379459c1c61d2a204061c455">Location</a>];</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;        Indices.push_back(</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;            {<a class="code" href="namespacellvm_1_1logicalview.html#a9696bc411b0a7022c2cc78bff5173ceface5bf551379459c1c61d2a204061c455">Location</a>, <span class="keyword">static_cast&lt;</span><a class="code" href="classuint32__t.html">LocIndex::u32_index_t</a><span class="keyword">&gt;</span>(Vars.size())});</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;        Vars.push_back(VL);</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;      }</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;      <span class="keywordflow">return</span> Indices;</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;    }</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160; </div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;    LocIndices getAllIndices(<span class="keyword">const</span> VarLoc &amp;VL)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;      <span class="keyword">auto</span> IndIt = Var2Indices.<a class="code" href="classllvm_1_1DenseMapBase.html#a0c047f127ed4380a6f383d70bec4eb94">find</a>(VL);</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(IndIt != Var2Indices.end() &amp;&amp; <span class="stringliteral">&quot;VarLoc not tracked&quot;</span>);</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;      <span class="keywordflow">return</span> IndIt-&gt;second;</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;    }</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;<span class="comment">    /// Retrieve the unique VarLoc associated with \p ID.</span></div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;<span class="comment"></span>    <span class="keyword">const</span> VarLoc &amp;operator[](LocIndex <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;      <span class="keyword">auto</span> LocIt = Loc2Vars.<a class="code" href="classllvm_1_1DenseMapBase.html#a0c047f127ed4380a6f383d70bec4eb94">find</a>(<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>.Location);</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(LocIt != Loc2Vars.<a class="code" href="classllvm_1_1DenseMapBase.html#a65520b9c67759099e313d0f4e7b5ff9e">end</a>() &amp;&amp; <span class="stringliteral">&quot;Location not tracked&quot;</span>);</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;      <span class="keywordflow">return</span> LocIt-&gt;second[<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>.Index];</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;    }</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;  };</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160; </div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;  <span class="keyword">using</span> VarLocInMBB =</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;      <a class="code" href="classllvm_1_1SmallDenseMap.html">SmallDenseMap&lt;const MachineBasicBlock *, std::unique_ptr&lt;VarLocSet&gt;</a>&gt;;</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;  <span class="keyword">struct </span>TransferDebugPair {</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;    <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *TransferInst; <span class="comment">///&lt; Instruction where this transfer occurs.</span></div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;<span class="comment"></span>    LocIndex LocationID;        <span class="comment">///&lt; Location number for the transfer dest.</span></div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;<span class="comment"></span>  };</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;  <span class="keyword">using</span> TransferMap = <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;TransferDebugPair, 4&gt;</a>;</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;  <span class="comment">// Types for recording Entry Var Locations emitted by a single MachineInstr,</span></div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;  <span class="comment">// as well as recording MachineInstr which last defined a register.</span></div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;  <span class="keyword">using</span> InstToEntryLocMap = std::multimap&lt;const MachineInstr *, LocIndex&gt;;</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;  <span class="keyword">using</span> RegDefToInstMap = <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;Register, MachineInstr *&gt;</a>;</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160; </div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;  <span class="comment">// Types for recording sets of variable fragments that overlap. For a given</span></div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;  <span class="comment">// local variable, we record all other fragments of that variable that could</span></div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;  <span class="comment">// overlap it, to reduce search time.</span></div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;  <span class="keyword">using</span> <a class="code" href="namespaceLiveDebugValues.html#ae176bcbc75506653f406dbbcb0bdf2bd">FragmentOfVar</a> =</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;      std::pair&lt;const DILocalVariable *, DIExpression::FragmentInfo&gt;;</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;  <span class="keyword">using</span> <a class="code" href="classllvm_1_1DenseMap.html">OverlapMap</a> =</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;      <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;FragmentOfVar, SmallVector&lt;DIExpression::FragmentInfo, 1&gt;</a>&gt;;</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160; </div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;  <span class="comment">// Helper while building OverlapMap, a map of all fragments seen for a given</span></div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;  <span class="comment">// DILocalVariable.</span></div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;  <span class="keyword">using</span> VarToFragments =</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;      <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;const DILocalVariable *, SmallSet&lt;FragmentInfo, 4&gt;</a>&gt;;</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;<span class="comment">  /// Collects all VarLocs from \p CollectFrom. Each unique VarLoc is added</span></div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;<span class="comment">  /// to \p Collected once, in order of insertion into \p VarLocIDs.</span></div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;<span class="comment"></span>  <span class="keyword">static</span> <span class="keywordtype">void</span> collectAllVarLocs(<a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;VarLoc&gt;</a> &amp;Collected,</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;                                <span class="keyword">const</span> VarLocSet &amp;CollectFrom,</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;                                <span class="keyword">const</span> VarLocMap &amp;VarLocIDs);</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;<span class="comment">  /// Get the registers which are used by VarLocs of kind RegisterKind tracked</span></div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;<span class="comment">  /// by \p CollectFrom.</span></div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> getUsedRegs(<span class="keyword">const</span> VarLocSet &amp;CollectFrom,</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;                   <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;Register&gt;</a> &amp;UsedRegs) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;<span class="comment">  /// This holds the working set of currently open ranges. For fast</span></div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;<span class="comment">  /// access, this is done both as a set of VarLocIDs, and a map of</span></div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;<span class="comment">  /// DebugVariable to recent VarLocID. Note that a DBG_VALUE ends all</span></div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;<span class="comment">  /// previous open ranges for the same variable. In addition, we keep</span></div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;<span class="comment">  /// two different maps (Vars/EntryValuesBackupVars), so erase/insert</span></div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;<span class="comment">  /// methods act differently depending on whether a VarLoc is primary</span></div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;<span class="comment">  /// location or backup one. In the case the VarLoc is backup location</span></div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;<span class="comment">  /// we will erase/insert from the EntryValuesBackupVars map, otherwise</span></div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;<span class="comment">  /// we perform the operation on the Vars.</span></div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;<span class="comment"></span>  <span class="keyword">class </span>OpenRangesSet {</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;    <a class="code" href="RegAllocBasic_8cpp.html#ad5d00e1d77644d95847b9bf8da12b759">VarLocSet::Allocator</a> &amp;Alloc;</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;    VarLocSet VarLocs;</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;    <span class="comment">// Map the DebugVariable to recent primary location ID.</span></div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;    <a class="code" href="classllvm_1_1SmallDenseMap.html">SmallDenseMap&lt;DebugVariable, LocIndices, 8&gt;</a> Vars;</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;    <span class="comment">// Map the DebugVariable to recent backup location ID.</span></div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;    <a class="code" href="classllvm_1_1SmallDenseMap.html">SmallDenseMap&lt;DebugVariable, LocIndices, 8&gt;</a> EntryValuesBackupVars;</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;    <a class="code" href="classllvm_1_1DenseMap.html">OverlapMap</a> &amp;OverlappingFragments;</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160; </div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;  <span class="keyword">public</span>:</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;    OpenRangesSet(<a class="code" href="RegAllocBasic_8cpp.html#ad5d00e1d77644d95847b9bf8da12b759">VarLocSet::Allocator</a> &amp;Alloc, <a class="code" href="classllvm_1_1DenseMap.html">OverlapMap</a> &amp;_OLapMap)</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;        : Alloc(Alloc), VarLocs(Alloc), OverlappingFragments(_OLapMap) {}</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160; </div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;    <span class="keyword">const</span> VarLocSet &amp;getVarLocs()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> VarLocs; }</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160; </div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;    <span class="comment">// Fetches all VarLocs in \p VarLocIDs and inserts them into \p Collected.</span></div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;    <span class="comment">// This method is needed to get every VarLoc once, as each VarLoc may have</span></div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;    <span class="comment">// multiple indices in a VarLocMap (corresponding to each applicable</span></div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;    <span class="comment">// location), but all VarLocs appear exactly once at the universal location</span></div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;    <span class="comment">// index.</span></div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;    <span class="keywordtype">void</span> getUniqueVarLocs(<a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;VarLoc&gt;</a> &amp;Collected,</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;                          <span class="keyword">const</span> VarLocMap &amp;VarLocIDs)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;      collectAllVarLocs(Collected, VarLocs, VarLocIDs);</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;    }</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;<span class="comment">    /// Terminate all open ranges for VL.Var by removing it from the set.</span></div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;<span class="comment"></span>    <span class="keywordtype">void</span> erase(<span class="keyword">const</span> VarLoc &amp;VL);</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;<span class="comment">    /// Terminate all open ranges listed as indices in \c KillSet with</span></div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;<span class="comment">    /// \c Location by removing them from the set.</span></div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;<span class="comment"></span>    <span class="keywordtype">void</span> erase(<span class="keyword">const</span> VarLocsInRange &amp;KillSet, <span class="keyword">const</span> VarLocMap &amp;VarLocIDs,</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;               <a class="code" href="classuint32__t.html">LocIndex::u32_location_t</a> Location);</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;<span class="comment">    /// Insert a new range into the set.</span></div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;<span class="comment"></span>    <span class="keywordtype">void</span> insert(LocIndices VarLocIDs, <span class="keyword">const</span> VarLoc &amp;VL);</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;<span class="comment">    /// Insert a set of ranges.</span></div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;<span class="comment"></span>    <span class="keywordtype">void</span> insertFromLocSet(<span class="keyword">const</span> VarLocSet &amp;ToLoad, <span class="keyword">const</span> VarLocMap &amp;Map);</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160; </div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;    std::optional&lt;LocIndices&gt; getEntryValueBackup(<a class="code" href="classllvm_1_1DebugVariable.html">DebugVariable</a> Var);</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;<span class="comment">    /// Empty the set.</span></div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;<span class="comment"></span>    <span class="keywordtype">void</span> <a class="code" href="Coroutines_8cpp.html#ac781ce96aa25ba7f6fd38f72de665450">clear</a>() {</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;      VarLocs.clear();</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;      Vars.<a class="code" href="classllvm_1_1DenseMapBase.html#adf4e7878fc0b3b8dcde545178564190d">clear</a>();</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;      EntryValuesBackupVars.<a class="code" href="classllvm_1_1DenseMapBase.html#adf4e7878fc0b3b8dcde545178564190d">clear</a>();</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;    }</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;<span class="comment">    /// Return whether the set is empty or not.</span></div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;<span class="comment"></span>    <span class="keywordtype">bool</span> empty()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Vars.<a class="code" href="classllvm_1_1DenseMapBase.html#a49c487a9395a6c384be8544cfb2cfccf">empty</a>() == EntryValuesBackupVars.<a class="code" href="classllvm_1_1DenseMapBase.html#a49c487a9395a6c384be8544cfb2cfccf">empty</a>() &amp;&amp;</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;             Vars.<a class="code" href="classllvm_1_1DenseMapBase.html#a49c487a9395a6c384be8544cfb2cfccf">empty</a>() == VarLocs.empty() &amp;&amp;</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;             <span class="stringliteral">&quot;open ranges are inconsistent&quot;</span>);</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;      <span class="keywordflow">return</span> VarLocs.empty();</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;    }</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;<span class="comment">    /// Get an empty range of VarLoc IDs.</span></div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;<span class="comment"></span>    <span class="keyword">auto</span> getEmptyVarLocRange()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1iterator__range.html">iterator_range&lt;VarLocSet::const_iterator&gt;</a>(getVarLocs().<a class="code" href="namespacellvm_1_1sys_1_1path.html#a214ec2f04ffd92636ed4bd2717607a1d">end</a>(),</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;                                                       getVarLocs().<a class="code" href="namespacellvm_1_1sys_1_1path.html#a214ec2f04ffd92636ed4bd2717607a1d">end</a>());</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;    }</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;<span class="comment">    /// Get all set IDs for VarLocs with MLs of kind RegisterKind in \p Reg.</span></div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;<span class="comment"></span>    <span class="keyword">auto</span> getRegisterVarLocs(<a class="code" href="classllvm_1_1Register.html">Register</a> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;      <span class="keywordflow">return</span> LocIndex::indexRangeForLocation(getVarLocs(), <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>);</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;    }</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;<span class="comment">    /// Get all set IDs for VarLocs with MLs of kind SpillLocKind.</span></div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;<span class="comment"></span>    <span class="keyword">auto</span> getSpillVarLocs()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;      <span class="keywordflow">return</span> LocIndex::indexRangeForLocation(getVarLocs(),</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;                                             LocIndex::kSpillLocation);</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;    }</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;<span class="comment">    /// Get all set IDs for VarLocs of EVKind EntryValueBackupKind or</span></div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;<span class="comment">    /// EntryValueCopyBackupKind.</span></div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;<span class="comment"></span>    <span class="keyword">auto</span> getEntryValueBackupVarLocs()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;      <span class="keywordflow">return</span> LocIndex::indexRangeForLocation(</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;          getVarLocs(), LocIndex::kEntryValueBackupLocation);</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;    }</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;<span class="comment">    /// Get all set IDs for VarLocs with MLs of kind WasmLocKind.</span></div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;<span class="comment"></span>    <span class="keyword">auto</span> getWasmVarLocs()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;      <span class="keywordflow">return</span> LocIndex::indexRangeForLocation(getVarLocs(),</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;                                             LocIndex::kWasmLocation);</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;    }</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;  };</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;<span class="comment">  /// Collect all VarLoc IDs from \p CollectFrom for VarLocs with MLs of kind</span></div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;<span class="comment">  /// RegisterKind which are located in any reg in \p Regs. The IDs for each</span></div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;<span class="comment">  /// VarLoc correspond to entries in the universal location bucket, which every</span></div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;<span class="comment">  /// VarLoc has exactly 1 entry for. Insert collected IDs into \p Collected.</span></div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;<span class="comment"></span>  <span class="keyword">static</span> <span class="keywordtype">void</span> collectIDsForRegs(VarLocsInRange &amp;Collected,</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;                                <span class="keyword">const</span> DefinedRegsSet &amp;Regs,</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;                                <span class="keyword">const</span> VarLocSet &amp;CollectFrom,</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;                                <span class="keyword">const</span> VarLocMap &amp;VarLocIDs);</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160; </div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;  VarLocSet &amp;getVarLocsInMBB(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, VarLocInMBB &amp;Locs) {</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;    std::unique_ptr&lt;VarLocSet&gt; &amp;VLS = Locs[<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>];</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;    <span class="keywordflow">if</span> (!VLS)</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;      VLS = std::make_unique&lt;VarLocSet&gt;(Alloc);</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;    <span class="keywordflow">return</span> *VLS;</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;  }</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160; </div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;  <span class="keyword">const</span> VarLocSet &amp;getVarLocsInMBB(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>,</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;                                   <span class="keyword">const</span> VarLocInMBB &amp;Locs)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;    <span class="keyword">auto</span> It = Locs.find(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>);</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(It != Locs.end() &amp;&amp; <span class="stringliteral">&quot;MBB not in map&quot;</span>);</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;    <span class="keywordflow">return</span> *It-&gt;second;</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;  }</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;<span class="comment">  /// Tests whether this instruction is a spill to a stack location.</span></div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;<span class="comment"></span>  <span class="keywordtype">bool</span> isSpillInstruction(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> *MF);</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;<span class="comment">  /// Decide if @MI is a spill instruction and return true if it is. We use 2</span></div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;<span class="comment">  /// criteria to make this decision:</span></div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;<span class="comment">  /// - Is this instruction a store to a spill slot?</span></div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;<span class="comment">  /// - Is there a register operand that is both used and killed?</span></div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;<span class="comment">  /// TODO: Store optimization can fold spills into other stores (including</span></div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;<span class="comment">  /// other spills). We do not handle this yet (more than one memory operand).</span></div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;<span class="comment"></span>  <span class="keywordtype">bool</span> isLocationSpill(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> *MF,</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;                       <a class="code" href="classllvm_1_1Register.html">Register</a> &amp;<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>);</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;<span class="comment">  /// Returns true if the given machine instruction is a debug value which we</span></div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;<span class="comment">  /// can emit entry values for.</span></div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;<span class="comment">  /// Currently, we generate debug entry values only for parameters that are</span></div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;<span class="comment">  /// unmodified throughout the function and located in a register.</span></div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;<span class="comment"></span>  <span class="keywordtype">bool</span> isEntryValueCandidate(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>,</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;                             <span class="keyword">const</span> DefinedRegsSet &amp;Regs) <span class="keyword">const</span>;</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;<span class="comment">  /// If a given instruction is identified as a spill, return the spill location</span></div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;<span class="comment">  /// and set \p Reg to the spilled register.</span></div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;<span class="comment"></span>  std::optional&lt;VarLoc::SpillLoc&gt; isRestoreInstruction(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>,</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;                                                       <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> *MF,</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;                                                       <a class="code" href="classllvm_1_1Register.html">Register</a> &amp;<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>);<span class="comment"></span></div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;<span class="comment">  /// Given a spill instruction, extract the register and offset used to</span></div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;<span class="comment">  /// address the spill location in a target independent way.</span></div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;<span class="comment"></span>  VarLoc::SpillLoc extractSpillBaseRegAndOffset(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;  <span class="keywordtype">void</span> insertTransferDebugPair(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, OpenRangesSet &amp;OpenRanges,</div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;                               TransferMap &amp;Transfers, VarLocMap &amp;VarLocIDs,</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;                               LocIndex OldVarID, TransferKind Kind,</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;                               <span class="keyword">const</span> VarLoc::MachineLoc &amp;OldLoc,</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;                               <a class="code" href="classllvm_1_1Register.html">Register</a> NewReg = <a class="code" href="classllvm_1_1Register.html">Register</a>());</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160; </div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;  <span class="keywordtype">void</span> transferDebugValue(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, OpenRangesSet &amp;OpenRanges,</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;                          VarLocMap &amp;VarLocIDs,</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;                          InstToEntryLocMap &amp;EntryValTransfers,</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;                          RegDefToInstMap &amp;RegSetInstrs);</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;  <span class="keywordtype">void</span> transferSpillOrRestoreInst(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, OpenRangesSet &amp;OpenRanges,</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;                                  VarLocMap &amp;VarLocIDs, TransferMap &amp;Transfers);</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;  <span class="keywordtype">void</span> cleanupEntryValueTransfers(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>,</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;                                  OpenRangesSet &amp;OpenRanges,</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;                                  VarLocMap &amp;VarLocIDs, <span class="keyword">const</span> VarLoc &amp;EntryVL,</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;                                  InstToEntryLocMap &amp;EntryValTransfers);</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;  <span class="keywordtype">void</span> removeEntryValue(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, OpenRangesSet &amp;OpenRanges,</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;                        VarLocMap &amp;VarLocIDs, <span class="keyword">const</span> VarLoc &amp;EntryVL,</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;                        InstToEntryLocMap &amp;EntryValTransfers,</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;                        RegDefToInstMap &amp;RegSetInstrs);</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;  <span class="keywordtype">void</span> emitEntryValues(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, OpenRangesSet &amp;OpenRanges,</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;                       VarLocMap &amp;VarLocIDs,</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;                       InstToEntryLocMap &amp;EntryValTransfers,</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;                       VarLocsInRange &amp;KillSet);</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;  <span class="keywordtype">void</span> recordEntryValue(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>,</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;                        <span class="keyword">const</span> DefinedRegsSet &amp;DefinedRegs,</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;                        OpenRangesSet &amp;OpenRanges, VarLocMap &amp;VarLocIDs);</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;  <span class="keywordtype">void</span> transferRegisterCopy(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, OpenRangesSet &amp;OpenRanges,</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;                            VarLocMap &amp;VarLocIDs, TransferMap &amp;Transfers);</div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;  <span class="keywordtype">void</span> transferRegisterDef(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, OpenRangesSet &amp;OpenRanges,</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;                           VarLocMap &amp;VarLocIDs,</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;                           InstToEntryLocMap &amp;EntryValTransfers,</div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;                           RegDefToInstMap &amp;RegSetInstrs);</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;  <span class="keywordtype">void</span> transferWasmDef(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, OpenRangesSet &amp;OpenRanges,</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;                       VarLocMap &amp;VarLocIDs);</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;  <span class="keywordtype">bool</span> transferTerminator(<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, OpenRangesSet &amp;OpenRanges,</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;                          VarLocInMBB &amp;OutLocs, <span class="keyword">const</span> VarLocMap &amp;VarLocIDs);</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160; </div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;  <span class="keywordtype">void</span> process(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, OpenRangesSet &amp;OpenRanges,</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;               VarLocMap &amp;VarLocIDs, TransferMap &amp;Transfers,</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;               InstToEntryLocMap &amp;EntryValTransfers,</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;               RegDefToInstMap &amp;RegSetInstrs);</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160; </div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;  <span class="keywordtype">void</span> accumulateFragmentMap(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, VarToFragments &amp;SeenFragments,</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;                             <a class="code" href="classllvm_1_1DenseMap.html">OverlapMap</a> &amp;OLapMap);</div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160; </div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;  <span class="keywordtype">bool</span> join(<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, VarLocInMBB &amp;OutLocs, VarLocInMBB &amp;InLocs,</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;            <span class="keyword">const</span> VarLocMap &amp;VarLocIDs,</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;            <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;const MachineBasicBlock *, 16&gt;</a> &amp;Visited,</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;            <a class="code" href="classllvm_1_1SmallPtrSetImpl.html">SmallPtrSetImpl&lt;const MachineBasicBlock *&gt;</a> &amp;ArtificialBlocks);</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;<span class="comment">  /// Create DBG_VALUE insts for inlocs that have been propagated but</span></div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;<span class="comment">  /// had their instruction creation deferred.</span></div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> flushPendingLocs(VarLocInMBB &amp;PendingInLocs, VarLocMap &amp;VarLocIDs);</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160; </div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;  <span class="keywordtype">bool</span> ExtendRanges(<a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF, <a class="code" href="classllvm_1_1MachineDominatorTree.html">MachineDominatorTree</a> *DomTree,</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;                    <a class="code" href="classllvm_1_1TargetPassConfig.html">TargetPassConfig</a> *TPC, <span class="keywordtype">unsigned</span> <a class="code" href="LiveDebugValues_8cpp.html#a17e0338db8e9291e84b419320b8031b4">InputBBLimit</a>,</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;                    <span class="keywordtype">unsigned</span> InputDbgValLimit) <span class="keyword">override</span>;</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160; </div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;<span class="keyword">public</span>:<span class="comment"></span></div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;<span class="comment">  /// Default construct and initialize the pass.</span></div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;<span class="comment"></span>  VarLocBasedLDV();</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160; </div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;  ~VarLocBasedLDV();</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;<span class="comment">  /// Print to ostream with a message.</span></div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> printVarLocInMBB(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF, <span class="keyword">const</span> VarLocInMBB &amp;V,</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;                        <span class="keyword">const</span> VarLocMap &amp;VarLocIDs, <span class="keyword">const</span> <span class="keywordtype">char</span> *msg,</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;                        <a class="code" href="classllvm_1_1raw__ostream.html">raw_ostream</a> &amp;Out) <span class="keyword">const</span>;</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;};</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160; </div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;} <span class="comment">// end anonymous namespace</span></div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160; </div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;<span class="comment">//            Implementation</span></div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160; </div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;VarLocBasedLDV::VarLocBasedLDV() = <span class="keywordflow">default</span>;</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160; </div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;VarLocBasedLDV::~VarLocBasedLDV() = <span class="keywordflow">default</span>;</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;<span class="comment">/// Erase a variable from the set of open ranges, and additionally erase any</span></div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;<span class="comment">/// fragments that may overlap it. If the VarLoc is a backup location, erase</span></div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;<span class="comment">/// the variable from the EntryValuesBackupVars set, indicating we should stop</span></div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;<span class="comment">/// tracking its backup entry location. Otherwise, if the VarLoc is primary</span></div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;<span class="comment">/// location, erase the variable from the Vars set.</span></div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;<span class="comment"></span><span class="keywordtype">void</span> VarLocBasedLDV::OpenRangesSet::erase(<span class="keyword">const</span> VarLoc &amp;VL) {</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;  <span class="comment">// Erasure helper.</span></div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;  <span class="keyword">auto</span> DoErase = [VL, <span class="keyword">this</span>](<a class="code" href="classllvm_1_1DebugVariable.html">DebugVariable</a> VarToErase) {</div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;    <span class="keyword">auto</span> *EraseFrom = VL.isEntryBackupLoc() ? &amp;EntryValuesBackupVars : &amp;Vars;</div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;    <span class="keyword">auto</span> It = EraseFrom-&gt;<a class="code" href="classllvm_1_1DenseMapBase.html#a0c047f127ed4380a6f383d70bec4eb94">find</a>(VarToErase);</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;    <span class="keywordflow">if</span> (It != EraseFrom-&gt;end()) {</div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;      LocIndices IDs = It-&gt;second;</div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;      <span class="keywordflow">for</span> (LocIndex <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a> : IDs)</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;        VarLocs.reset(<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>.getAsRawInteger());</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;      EraseFrom-&gt;erase(It);</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;    }</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;  };</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160; </div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;  <a class="code" href="classllvm_1_1DebugVariable.html">DebugVariable</a> Var = VL.Var;</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160; </div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;  <span class="comment">// Erase the variable/fragment that ends here.</span></div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;  DoErase(Var);</div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160; </div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;  <span class="comment">// Extract the fragment. Interpret an empty fragment as one that covers all</span></div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;  <span class="comment">// possible bits.</span></div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;  FragmentInfo ThisFragment = Var.<a class="code" href="classllvm_1_1DebugVariable.html#acdbb430c0790f598aff0f9c79ea2d4c4">getFragmentOrDefault</a>();</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160; </div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;  <span class="comment">// There may be fragments that overlap the designated fragment. Look them up</span></div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;  <span class="comment">// in the pre-computed overlap map, and erase them too.</span></div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;  <span class="keyword">auto</span> MapIt = OverlappingFragments.<a class="code" href="classllvm_1_1DenseMapBase.html#a0c047f127ed4380a6f383d70bec4eb94">find</a>({Var.<a class="code" href="classllvm_1_1DebugVariable.html#ae5969d48a72e8641cb15bc81a3bb1af8">getVariable</a>(), ThisFragment});</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;  <span class="keywordflow">if</span> (MapIt != OverlappingFragments.<a class="code" href="classllvm_1_1DenseMapBase.html#a65520b9c67759099e313d0f4e7b5ff9e">end</a>()) {</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> Fragment : MapIt-&gt;second) {</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;      VarLocBasedLDV::OptFragmentInfo FragmentHolder;</div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1DebugVariable.html#a2928acad2fcb688e4dffb48eb9252aa4">DebugVariable::isDefaultFragment</a>(Fragment))</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;        FragmentHolder = VarLocBasedLDV::OptFragmentInfo(Fragment);</div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;      DoErase({Var.<a class="code" href="classllvm_1_1DebugVariable.html#ae5969d48a72e8641cb15bc81a3bb1af8">getVariable</a>(), FragmentHolder, Var.<a class="code" href="classllvm_1_1DebugVariable.html#a90b7ea85a03be15ace66f601bf299322">getInlinedAt</a>()});</div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;    }</div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;  }</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;}</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160; </div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;<span class="keywordtype">void</span> VarLocBasedLDV::OpenRangesSet::erase(<span class="keyword">const</span> VarLocsInRange &amp;KillSet,</div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;                                          <span class="keyword">const</span> VarLocMap &amp;VarLocIDs,</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;                                          <a class="code" href="classuint32__t.html">LocIndex::u32_location_t</a> Location) {</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;  VarLocSet RemoveSet(Alloc);</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classuint32__t.html">LocIndex::u32_index_t</a> <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a> : KillSet) {</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;    <span class="keyword">const</span> VarLoc &amp;VL = VarLocIDs[LocIndex(Location, <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>)];</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;    <span class="keyword">auto</span> *EraseFrom = VL.isEntryBackupLoc() ? &amp;EntryValuesBackupVars : &amp;Vars;</div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;    EraseFrom-&gt;<a class="code" href="classllvm_1_1DenseMapBase.html#a1eb8504bab5f794778d82db6ac829923">erase</a>(VL.Var);</div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;    LocIndices VLI = VarLocIDs.getAllIndices(VL);</div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;    <span class="keywordflow">for</span> (LocIndex <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a> : VLI)</div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;      RemoveSet.set(<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>.getAsRawInteger());</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;  }</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;  VarLocs.intersectWithComplement(RemoveSet);</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;}</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160; </div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;<span class="keywordtype">void</span> VarLocBasedLDV::OpenRangesSet::insertFromLocSet(<span class="keyword">const</span> VarLocSet &amp;ToLoad,</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;                                                     <span class="keyword">const</span> VarLocMap &amp;Map) {</div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;  VarLocsInRange UniqueVarLocIDs;</div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;  DefinedRegsSet Regs;</div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;  Regs.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a94d23373106467003722f7d6c17b1528">insert</a>(LocIndex::kUniversalLocation);</div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;  collectIDsForRegs(UniqueVarLocIDs, Regs, ToLoad, Map);</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a> : UniqueVarLocIDs) {</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;    LocIndex Idx = LocIndex::fromRawInteger(<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>);</div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;    <span class="keyword">const</span> VarLoc &amp;VarL = <a class="code" href="namespacellvm_1_1msgpack.html#afdae9da66bac09f4b2bfc0fd9f0559e6a46f3ea056caa3126b91f3f70beea068c">Map</a>[Idx];</div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;    <span class="keyword">const</span> LocIndices Indices = <a class="code" href="namespacellvm_1_1msgpack.html#afdae9da66bac09f4b2bfc0fd9f0559e6a46f3ea056caa3126b91f3f70beea068c">Map</a>.getAllIndices(VarL);</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;    insert(Indices, VarL);</div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;  }</div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;}</div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160; </div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;<span class="keywordtype">void</span> VarLocBasedLDV::OpenRangesSet::insert(LocIndices VarLocIDs,</div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;                                           <span class="keyword">const</span> VarLoc &amp;VL) {</div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;  <span class="keyword">auto</span> *InsertInto = VL.isEntryBackupLoc() ? &amp;EntryValuesBackupVars : &amp;Vars;</div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;  <span class="keywordflow">for</span> (LocIndex <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a> : VarLocIDs)</div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;    VarLocs.set(<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>.getAsRawInteger());</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;  InsertInto-&gt;<a class="code" href="classllvm_1_1DenseMapBase.html#a99f811d53704275b4158c62a2dd138d9">insert</a>({VL.Var, VarLocIDs});</div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;}</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;<span class="comment">/// Return the Loc ID of an entry value backup location, if it exists for the</span></div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;<span class="comment">/// variable.</span></div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;<span class="comment"></span>std::optional&lt;LocIndices&gt;</div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;VarLocBasedLDV::OpenRangesSet::getEntryValueBackup(<a class="code" href="classllvm_1_1DebugVariable.html">DebugVariable</a> Var) {</div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;  <span class="keyword">auto</span> It = EntryValuesBackupVars.<a class="code" href="classllvm_1_1DenseMapBase.html#a0c047f127ed4380a6f383d70bec4eb94">find</a>(Var);</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;  <span class="keywordflow">if</span> (It != EntryValuesBackupVars.<a class="code" href="classllvm_1_1DenseMapBase.html#a65520b9c67759099e313d0f4e7b5ff9e">end</a>())</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;    <span class="keywordflow">return</span> It-&gt;second;</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160; </div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;  <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;}</div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160; </div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;<span class="keywordtype">void</span> VarLocBasedLDV::collectIDsForRegs(VarLocsInRange &amp;Collected,</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;                                       <span class="keyword">const</span> DefinedRegsSet &amp;Regs,</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;                                       <span class="keyword">const</span> VarLocSet &amp;CollectFrom,</div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;                                       <span class="keyword">const</span> VarLocMap &amp;VarLocIDs) {</div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!Regs.empty() &amp;&amp; <span class="stringliteral">&quot;Nothing to collect&quot;</span>);</div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Register, 32&gt;</a> SortedRegs;</div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;  <a class="code" href="namespacellvm.html#a39d3d23a084c4544ee5903203db10e8a">append_range</a>(SortedRegs, Regs);</div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;  <a class="code" href="namespacellvm.html#add1eb5637dd671428b6f138ed3db6428">array_pod_sort</a>(SortedRegs.begin(), SortedRegs.end());</div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;  <span class="keyword">auto</span> It = CollectFrom.find(LocIndex::rawIndexForReg(SortedRegs.front()));</div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;  <span class="keyword">auto</span> End = CollectFrom.end();</div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Register.html">Register</a> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a> : SortedRegs) {</div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;    <span class="comment">// The half-open interval [FirstIndexForReg, FirstInvalidIndex) contains</span></div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;    <span class="comment">// all possible VarLoc IDs for VarLocs with MLs of kind RegisterKind which</span></div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;    <span class="comment">// live in Reg.</span></div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;    <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> FirstIndexForReg = LocIndex::rawIndexForReg(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>);</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;    <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> FirstInvalidIndex = LocIndex::rawIndexForReg(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a> + 1);</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;    It.advanceToLowerBound(FirstIndexForReg);</div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160; </div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;    <span class="comment">// Iterate through that half-open interval and collect all the set IDs.</span></div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;    <span class="keywordflow">for</span> (; It != End &amp;&amp; *It &lt; FirstInvalidIndex; ++It) {</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;      LocIndex ItIdx = LocIndex::fromRawInteger(*It);</div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;      <span class="keyword">const</span> VarLoc &amp;VL = VarLocIDs[ItIdx];</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;      LocIndices LI = VarLocIDs.getAllIndices(VL);</div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;      <span class="comment">// For now, the back index is always the universal location index.</span></div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(LI.back().Location == LocIndex::kUniversalLocation &amp;&amp;</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;             <span class="stringliteral">&quot;Unexpected order of LocIndices for VarLoc; was it inserted into &quot;</span></div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;             <span class="stringliteral">&quot;the VarLocMap correctly?&quot;</span>);</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;      Collected.insert(LI.back().Index);</div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;    }</div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160; </div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;    <span class="keywordflow">if</span> (It == End)</div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;  }</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;}</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160; </div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;<span class="keywordtype">void</span> VarLocBasedLDV::getUsedRegs(<span class="keyword">const</span> VarLocSet &amp;CollectFrom,</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;                                 <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;Register&gt;</a> &amp;UsedRegs)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;  <span class="comment">// All register-based VarLocs are assigned indices greater than or equal to</span></div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;  <span class="comment">// FirstRegIndex.</span></div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;  <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> FirstRegIndex =</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;      LocIndex::rawIndexForReg(LocIndex::kFirstRegLocation);</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;  <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> FirstInvalidIndex =</div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;      LocIndex::rawIndexForReg(LocIndex::kFirstInvalidRegLocation);</div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> It = CollectFrom.find(FirstRegIndex),</div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;            End = CollectFrom.find(FirstInvalidIndex);</div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;       It != End;) {</div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;    <span class="comment">// We found a VarLoc ID for a VarLoc that lives in a register. Figure out</span></div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;    <span class="comment">// which register and add it to UsedRegs.</span></div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;    <a class="code" href="classuint32__t.html">uint32_t</a> FoundReg = LocIndex::fromRawInteger(*It).Location;</div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((UsedRegs.empty() || FoundReg != UsedRegs.back()) &amp;&amp;</div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;           <span class="stringliteral">&quot;Duplicate used reg&quot;</span>);</div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;    UsedRegs.push_back(FoundReg);</div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160; </div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;    <span class="comment">// Skip to the next /set/ register. Note that this finds a lower bound, so</span></div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;    <span class="comment">// even if there aren&#39;t any VarLocs living in `FoundReg+1`, we&#39;re still</span></div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;    <span class="comment">// guaranteed to move on to the next register (or to end()).</span></div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;    <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> NextRegIndex = LocIndex::rawIndexForReg(FoundReg + 1);</div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;    It.advanceToLowerBound(NextRegIndex);</div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;  }</div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;}</div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160; </div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;<span class="comment">//            Debug Range Extension Implementation</span></div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160; </div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;<span class="preprocessor">#ifndef NDEBUG</span></div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;<span class="keywordtype">void</span> VarLocBasedLDV::printVarLocInMBB(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF,</div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;                                       <span class="keyword">const</span> VarLocInMBB &amp;V,</div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;                                       <span class="keyword">const</span> VarLocMap &amp;VarLocIDs,</div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;                                       <span class="keyword">const</span> <span class="keywordtype">char</span> *msg,</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;                                       <a class="code" href="classllvm_1_1raw__ostream.html">raw_ostream</a> &amp;Out)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;  Out &lt;&lt; <span class="charliteral">&#39;\n&#39;</span> &lt;&lt; msg &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a> : MF) {</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;    <span class="keywordflow">if</span> (!V.count(&amp;<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>))</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;    <span class="keyword">const</span> VarLocSet &amp;L = getVarLocsInMBB(&amp;<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>, V);</div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;    <span class="keywordflow">if</span> (L.empty())</div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;VarLoc, 32&gt;</a> VarLocs;</div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;    collectAllVarLocs(VarLocs, L, VarLocIDs);</div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;    Out &lt;&lt; <span class="stringliteral">&quot;MBB: &quot;</span> &lt;&lt; <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>.getNumber() &lt;&lt; <span class="stringliteral">&quot;:\n&quot;</span>;</div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> VarLoc &amp;VL : VarLocs) {</div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;      Out &lt;&lt; <span class="stringliteral">&quot; Var: &quot;</span> &lt;&lt; VL.Var.getVariable()-&gt;getName();</div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;      Out &lt;&lt; <span class="stringliteral">&quot; MI: &quot;</span>;</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;      VL.dump(<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, Out);</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;    }</div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;  }</div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;  Out &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;}</div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160; </div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;VarLocBasedLDV::VarLoc::SpillLoc</div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;VarLocBasedLDV::extractSpillBaseRegAndOffset(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>) {</div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.hasOneMemOperand() &amp;&amp;</div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;         <span class="stringliteral">&quot;Spill instruction does not have exactly one memory operand?&quot;</span>);</div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;  <span class="keyword">auto</span> MMOI = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.memoperands_begin();</div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1PseudoSourceValue.html">PseudoSourceValue</a> *PVal = (*MMOI)-&gt;getPseudoValue();</div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(PVal-&gt;<a class="code" href="classllvm_1_1PseudoSourceValue.html#ab1969256cc373d72874932779a45b46c">kind</a>() == <a class="code" href="classllvm_1_1PseudoSourceValue.html#a9959ffdc41bc31cf2211b8824f79259eaf38d1857511c3f0404c95f65664b36ab">PseudoSourceValue::FixedStack</a> &amp;&amp;</div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;         <span class="stringliteral">&quot;Inconsistent memory operand in spill instruction&quot;</span>);</div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;  <span class="keywordtype">int</span> FI = cast&lt;FixedStackPseudoSourceValue&gt;(PVal)-&gt;getFrameIndex();</div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a> = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getParent();</div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>;</div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;  <a class="code" href="classllvm_1_1StackOffset.html">StackOffset</a> <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> = TFI-&gt;<a class="code" href="classllvm_1_1TargetFrameLowering.html#af88a8f2328543f94aea3ba85d954fafa">getFrameIndexReference</a>(*<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#a4e21760f681d6f97f95c8414e7b83ea5">getParent</a>(), FI, <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>);</div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;  <span class="keywordflow">return</span> {<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>};</div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;}</div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;<span class="comment">/// Do cleanup of \p EntryValTransfers created by \p TRInst, by removing the</span></div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;<span class="comment">/// Transfer, which uses the to-be-deleted \p EntryVL.</span></div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;<span class="comment"></span><span class="keywordtype">void</span> VarLocBasedLDV::cleanupEntryValueTransfers(</div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *TRInst, OpenRangesSet &amp;OpenRanges, VarLocMap &amp;VarLocIDs,</div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;    <span class="keyword">const</span> VarLoc &amp;EntryVL, InstToEntryLocMap &amp;EntryValTransfers) {</div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;  <span class="keywordflow">if</span> (EntryValTransfers.empty() || TRInst == <span class="keyword">nullptr</span>)</div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160; </div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;  <span class="keyword">auto</span> TransRange = EntryValTransfers.equal_range(TRInst);</div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> TDPair : <a class="code" href="namespacellvm.html#ad1a91b49e0c092818a0b82f6cc130a1b">llvm::make_range</a>(TransRange.first, TransRange.second)) {</div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;    <span class="keyword">const</span> VarLoc &amp;EmittedEV = VarLocIDs[TDPair.second];</div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;    <span class="keywordflow">if</span> (std::tie(EntryVL.Var, EntryVL.Locs[0].Value.RegNo, EntryVL.Expr) ==</div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;        std::tie(EmittedEV.Var, EmittedEV.Locs[0].Value.RegNo,</div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;                 EmittedEV.Expr)) {</div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;      OpenRanges.erase(EmittedEV);</div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;      EntryValTransfers.erase(TRInst);</div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;    }</div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;  }</div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;}</div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;<span class="comment">/// Try to salvage the debug entry value if we encounter a new debug value</span></div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;<span class="comment">/// describing the same parameter, otherwise stop tracking the value. Return</span></div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;<span class="comment">/// true if we should stop tracking the entry value and do the cleanup of</span></div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;<span class="comment">/// emitted Entry Value Transfers, otherwise return false.</span></div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;<span class="comment"></span><span class="keywordtype">void</span> VarLocBasedLDV::removeEntryValue(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>,</div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;                                      OpenRangesSet &amp;OpenRanges,</div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;                                      VarLocMap &amp;VarLocIDs,</div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;                                      <span class="keyword">const</span> VarLoc &amp;EntryVL,</div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;                                      InstToEntryLocMap &amp;EntryValTransfers,</div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;                                      RegDefToInstMap &amp;RegSetInstrs) {</div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;  <span class="comment">// Skip the DBG_VALUE which is the debug entry value itself.</span></div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;  <span class="keywordflow">if</span> (&amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a> == &amp;EntryVL.MI)</div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160; </div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;  <span class="comment">// If the parameter&#39;s location is not register location, we can not track</span></div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;  <span class="comment">// the entry value any more. It doesn&#39;t have the TransferInst which defines</span></div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;  <span class="comment">// register, so no Entry Value Transfers have been emitted already.</span></div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getDebugOperand(0).isReg())</div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160; </div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;  <span class="comment">// Try to get non-debug instruction responsible for the DBG_VALUE.</span></div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *TransferInst = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a> = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getDebugOperand(0).getReg();</div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>.isValid() &amp;&amp; RegSetInstrs.find(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>) != RegSetInstrs.end())</div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;    TransferInst = RegSetInstrs.find(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>)-&gt;second;</div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160; </div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;  <span class="comment">// Case of the parameter&#39;s DBG_VALUE at the start of entry MBB.</span></div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;  <span class="keywordflow">if</span> (!TransferInst &amp;&amp; !LastNonDbgMI &amp;&amp; <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getParent()-&gt;isEntryBlock())</div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160; </div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;  <span class="comment">// If the debug expression from the DBG_VALUE is not empty, we can assume the</span></div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;  <span class="comment">// parameter&#39;s value has changed indicating that we should stop tracking its</span></div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;  <span class="comment">// entry value as well.</span></div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getDebugExpression()-&gt;getNumElements() == 0 &amp;&amp; TransferInst) {</div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;    <span class="comment">// If the DBG_VALUE comes from a copy instruction that copies the entry</span></div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;    <span class="comment">// value, it means the parameter&#39;s value has not changed and we should be</span></div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;    <span class="comment">// able to use its entry value.</span></div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;    <span class="comment">// TODO: Try to keep tracking of an entry value if we encounter a propagated</span></div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;    <span class="comment">// DBG_VALUE describing the copy of the entry value. (Propagated entry value</span></div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;    <span class="comment">// does not indicate the parameter modification.)</span></div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;    <span class="keyword">auto</span> DestSrc = <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>-&gt;isCopyInstr(*TransferInst);</div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;    <span class="keywordflow">if</span> (DestSrc) {</div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> *SrcRegOp, *DestRegOp;</div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;      SrcRegOp = DestSrc-&gt;Source;</div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;      DestRegOp = DestSrc-&gt;Destination;</div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a> == DestRegOp-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>()) {</div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a> : OpenRanges.getEntryValueBackupVarLocs()) {</div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;          <span class="keyword">const</span> VarLoc &amp;VL = VarLocIDs[LocIndex::fromRawInteger(<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>)];</div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;          <span class="keywordflow">if</span> (VL.isEntryValueCopyBackupReg(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>) &amp;&amp;</div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;              <span class="comment">// Entry Values should not be variadic.</span></div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;              VL.MI.getDebugOperand(0).getReg() == SrcRegOp-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>())</div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;        }</div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;      }</div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;    }</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;  }</div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160; </div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Deleting a DBG entry value because of: &quot;</span>;</div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;             <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.<a class="code" href="classllvm_1_1Pass.html#a061b4c01e9c189208dbfd3c77fdb9a5c">print</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>(), <span class="comment">/*IsStandalone*/</span> <span class="keyword">false</span>,</div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;                      <span class="comment">/*SkipOpers*/</span> <span class="keyword">false</span>, <span class="comment">/*SkipDebugLoc*/</span> <span class="keyword">false</span>,</div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;                      <span class="comment">/*AddNewLine*/</span> <span class="keyword">true</span>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>));</div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;  cleanupEntryValueTransfers(TransferInst, OpenRanges, VarLocIDs, EntryVL,</div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;                             EntryValTransfers);</div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;  OpenRanges.erase(EntryVL);</div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;}</div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;<span class="comment">/// End all previous ranges related to @MI and start a new range from @MI</span></div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;<span class="comment">/// if it is a DBG_VALUE instr.</span></div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;<span class="comment"></span><span class="keywordtype">void</span> VarLocBasedLDV::transferDebugValue(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>,</div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;                                        OpenRangesSet &amp;OpenRanges,</div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;                                        VarLocMap &amp;VarLocIDs,</div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;                                        InstToEntryLocMap &amp;EntryValTransfers,</div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;                                        RegDefToInstMap &amp;RegSetInstrs) {</div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.isDebugValue())</div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1DILocalVariable.html">DILocalVariable</a> *Var = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getDebugVariable();</div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1DIExpression.html">DIExpression</a> *Expr = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getDebugExpression();</div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1DILocation.html">DILocation</a> *<a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getDebugLoc();</div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1DILocation.html">DILocation</a> *InlinedAt = <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a>-&gt;getInlinedAt();</div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Var-&gt;<a class="code" href="classllvm_1_1DILocalVariable.html#ac8c4cb4dde7067286d3e3ce80bf77224">isValidLocationForIntrinsic</a>(<a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a>) &amp;&amp;</div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;         <span class="stringliteral">&quot;Expected inlined-at fields to agree&quot;</span>);</div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160; </div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;  <a class="code" href="classllvm_1_1DebugVariable.html">DebugVariable</a> V(Var, Expr, InlinedAt);</div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160; </div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;  <span class="comment">// Check if this DBG_VALUE indicates a parameter&#39;s value changing.</span></div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;  <span class="comment">// If that is the case, we should stop tracking its entry value.</span></div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;  <span class="keyword">auto</span> EntryValBackupID = OpenRanges.getEntryValueBackup(V);</div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;  <span class="keywordflow">if</span> (Var-&gt;<a class="code" href="classllvm_1_1DILocalVariable.html#a45c267092569766aa684c6ba3bae9634">isParameter</a>() &amp;&amp; EntryValBackupID) {</div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;    <span class="keyword">const</span> VarLoc &amp;EntryVL = VarLocIDs[EntryValBackupID-&gt;back()];</div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;    removeEntryValue(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, OpenRanges, VarLocIDs, EntryVL, EntryValTransfers,</div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;                     RegSetInstrs);</div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;  }</div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160; </div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a0d10fe510ced2849a8074fe81e5d04ce">all_of</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.debug_operands(), [](<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;MO) {</div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;        return (MO.isReg() &amp;&amp; MO.getReg()) || MO.isImm() || MO.isFPImm() ||</div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;               MO.isCImm() || MO.isTargetIndex();</div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;      })) {</div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;    <span class="comment">// Use normal VarLoc constructor for registers and immediates.</span></div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;    VarLoc VL(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;    <span class="comment">// End all previous ranges of VL.Var.</span></div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;    OpenRanges.erase(VL);</div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160; </div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;    LocIndices IDs = VarLocIDs.insert(VL);</div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;    <span class="comment">// Add the VarLoc to OpenRanges from this DBG_VALUE.</span></div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;    OpenRanges.insert(IDs, VL);</div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.memoperands().size() &gt; 0) {</div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;    <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;DBG_VALUE with mem operand encountered after regalloc?&quot;</span>);</div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;    <span class="comment">// This must be an undefined location. If it has an open range, erase it.</span></div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.isUndefDebugValue() &amp;&amp;</div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;           <span class="stringliteral">&quot;Unexpected non-undef DBG_VALUE encountered&quot;</span>);</div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;    VarLoc VL(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;    OpenRanges.erase(VL);</div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;  }</div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;}</div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160; </div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;<span class="comment">// This should be removed later, doesn&#39;t fit the new design.</span></div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;<span class="keywordtype">void</span> VarLocBasedLDV::collectAllVarLocs(<a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;VarLoc&gt;</a> &amp;Collected,</div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;                                       <span class="keyword">const</span> VarLocSet &amp;CollectFrom,</div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;                                       <span class="keyword">const</span> VarLocMap &amp;VarLocIDs) {</div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;  <span class="comment">// The half-open interval [FirstIndexForReg, FirstInvalidIndex) contains all</span></div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;  <span class="comment">// possible VarLoc IDs for VarLocs with MLs of kind RegisterKind which live</span></div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;  <span class="comment">// in Reg.</span></div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;  <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> FirstIndex = LocIndex::rawIndexForReg(LocIndex::kUniversalLocation);</div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;  <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> FirstInvalidIndex =</div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;      LocIndex::rawIndexForReg(LocIndex::kUniversalLocation + 1);</div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;  <span class="comment">// Iterate through that half-open interval and collect all the set IDs.</span></div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> It = CollectFrom.find(FirstIndex), End = CollectFrom.end();</div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;       It != End &amp;&amp; *It &lt; FirstInvalidIndex; ++It) {</div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;    LocIndex RegIdx = LocIndex::fromRawInteger(*It);</div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;    Collected.push_back(VarLocIDs[RegIdx]);</div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;  }</div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;}</div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;<span class="comment">/// Turn the entry value backup locations into primary locations.</span></div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;<span class="comment"></span><span class="keywordtype">void</span> VarLocBasedLDV::emitEntryValues(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>,</div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;                                     OpenRangesSet &amp;OpenRanges,</div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;                                     VarLocMap &amp;VarLocIDs,</div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;                                     InstToEntryLocMap &amp;EntryValTransfers,</div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;                                     VarLocsInRange &amp;KillSet) {</div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;  <span class="comment">// Do not insert entry value locations after a terminator.</span></div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.isTerminator())</div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160; </div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classuint32__t.html">uint32_t</a> <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a> : KillSet) {</div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;    <span class="comment">// The KillSet IDs are indices for the universal location bucket.</span></div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;    LocIndex Idx = LocIndex(LocIndex::kUniversalLocation, <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>);</div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;    <span class="keyword">const</span> VarLoc &amp;VL = VarLocIDs[Idx];</div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;    <span class="keywordflow">if</span> (!VL.Var.getVariable()-&gt;isParameter())</div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160; </div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;    <span class="keyword">auto</span> DebugVar = VL.Var;</div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;    std::optional&lt;LocIndices&gt; EntryValBackupIDs =</div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;        OpenRanges.getEntryValueBackup(DebugVar);</div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160; </div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;    <span class="comment">// If the parameter has the entry value backup, it means we should</span></div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;    <span class="comment">// be able to use its entry value.</span></div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;    <span class="keywordflow">if</span> (!EntryValBackupIDs)</div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160; </div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;    <span class="keyword">const</span> VarLoc &amp;EntryVL = VarLocIDs[EntryValBackupIDs-&gt;back()];</div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;    VarLoc EntryLoc = VarLoc::CreateEntryLoc(EntryVL.MI, EntryVL.Expr,</div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;                                             EntryVL.Locs[0].Value.RegNo);</div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;    LocIndices EntryValueIDs = VarLocIDs.insert(EntryLoc);</div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(EntryValueIDs.size() == 1 &amp;&amp;</div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;           <span class="stringliteral">&quot;EntryValue loc should not be variadic&quot;</span>);</div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;    EntryValTransfers.insert({&amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, EntryValueIDs.back()});</div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;    OpenRanges.insert(EntryValueIDs, EntryLoc);</div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;  }</div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;}</div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;<span class="comment">/// Create new TransferDebugPair and insert it in \p Transfers. The VarLoc</span></div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;<span class="comment">/// with \p OldVarID should be deleted form \p OpenRanges and replaced with</span></div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;<span class="comment">/// new VarLoc. If \p NewReg is different than default zero value then the</span></div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;<span class="comment">/// new location will be register location created by the copy like instruction,</span></div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;<span class="comment">/// otherwise it is variable&#39;s location on the stack.</span></div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;<span class="comment"></span><span class="keywordtype">void</span> VarLocBasedLDV::insertTransferDebugPair(</div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;    <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, OpenRangesSet &amp;OpenRanges, TransferMap &amp;Transfers,</div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;    VarLocMap &amp;VarLocIDs, LocIndex OldVarID, TransferKind Kind,</div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;    <span class="keyword">const</span> VarLoc::MachineLoc &amp;OldLoc, <a class="code" href="classllvm_1_1Register.html">Register</a> NewReg) {</div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;  <span class="keyword">const</span> VarLoc &amp;OldVarLoc = VarLocIDs[OldVarID];</div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160; </div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;  <span class="keyword">auto</span> ProcessVarLoc = [&amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, &amp;OpenRanges, &amp;Transfers, &amp;VarLocIDs](VarLoc &amp;VL) {</div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;    LocIndices LocIds = VarLocIDs.insert(VL);</div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160; </div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;    <span class="comment">// Close this variable&#39;s previous location range.</span></div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;    OpenRanges.erase(VL);</div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160; </div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;    <span class="comment">// Record the new location as an open range, and a postponed transfer</span></div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;    <span class="comment">// inserting a DBG_VALUE for this location.</span></div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;    OpenRanges.insert(LocIds, VL);</div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.isTerminator() &amp;&amp; <span class="stringliteral">&quot;Cannot insert DBG_VALUE after terminator&quot;</span>);</div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;    TransferDebugPair MIP = {&amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, LocIds.back()};</div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;    Transfers.push_back(MIP);</div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;  };</div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160; </div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;  <span class="comment">// End all previous ranges of VL.Var.</span></div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;  OpenRanges.erase(VarLocIDs[OldVarID]);</div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;  <span class="keywordflow">switch</span> (Kind) {</div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;  <span class="keywordflow">case</span> TransferKind::TransferCopy: {</div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(NewReg &amp;&amp;</div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;           <span class="stringliteral">&quot;No register supplied when handling a copy of a debug value&quot;</span>);</div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;    <span class="comment">// Create a DBG_VALUE instruction to describe the Var in its new</span></div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;    <span class="comment">// register location.</span></div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;    VarLoc VL = VarLoc::CreateCopyLoc(OldVarLoc, OldLoc, NewReg);</div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;    ProcessVarLoc(VL);</div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>({</div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;      <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Creating VarLoc for register copy:&quot;</span>;</div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;      VL.dump(<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>);</div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;    });</div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;  }</div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;  <span class="keywordflow">case</span> TransferKind::TransferSpill: {</div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;    <span class="comment">// Create a DBG_VALUE instruction to describe the Var in its spilled</span></div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;    <span class="comment">// location.</span></div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;    VarLoc::SpillLoc SpillLocation = extractSpillBaseRegAndOffset(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;    VarLoc VL = VarLoc::CreateSpillLoc(</div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;        OldVarLoc, OldLoc, SpillLocation.SpillBase, SpillLocation.SpillOffset);</div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;    ProcessVarLoc(VL);</div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>({</div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;      <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Creating VarLoc for spill:&quot;</span>;</div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;      VL.dump(<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>);</div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;    });</div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;  }</div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;  <span class="keywordflow">case</span> TransferKind::TransferRestore: {</div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(NewReg &amp;&amp;</div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;           <span class="stringliteral">&quot;No register supplied when handling a restore of a debug value&quot;</span>);</div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;    <span class="comment">// DebugInstr refers to the pre-spill location, therefore we can reuse</span></div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;    <span class="comment">// its expression.</span></div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;    VarLoc VL = VarLoc::CreateCopyLoc(OldVarLoc, OldLoc, NewReg);</div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;    ProcessVarLoc(VL);</div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>({</div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;      <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Creating VarLoc for restore:&quot;</span>;</div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;      VL.dump(<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>);</div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;    });</div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;  }</div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;  }</div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;  <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Invalid transfer kind&quot;</span>);</div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;}</div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;<span class="comment">/// A definition of a register may mark the end of a range.</span></div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;<span class="comment"></span><span class="keywordtype">void</span> VarLocBasedLDV::transferRegisterDef(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>,</div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;                                         OpenRangesSet &amp;OpenRanges,</div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;                                         VarLocMap &amp;VarLocIDs,</div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;                                         InstToEntryLocMap &amp;EntryValTransfers,</div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;                                         RegDefToInstMap &amp;RegSetInstrs) {</div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160; </div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;  <span class="comment">// Meta Instructions do not affect the debug liveness of any register they</span></div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;  <span class="comment">// define.</span></div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.isMetaInstruction())</div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160; </div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;  <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> *MF = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getMF();</div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetLowering.html">TargetLowering</a> *TLI = MF-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#a325f6b611ef9ec06798d3b4eb9572093">getSubtarget</a>().<a class="code" href="classllvm_1_1TargetSubtargetInfo.html#a129ede6f18326075504d4bd0439fd517">getTargetLowering</a>();</div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> SP = TLI-&gt;<a class="code" href="classllvm_1_1TargetLoweringBase.html#a5de0162fac7c57cab62e5bb81f0b5542">getStackPointerRegisterToSaveRestore</a>();</div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160; </div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;  <span class="comment">// Find the regs killed by MI, and find regmasks of preserved regs.</span></div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;  DefinedRegsSet DeadRegs;</div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const uint32_t *, 4&gt;</a> RegMasks;</div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;MO : <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.operands()) {</div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;    <span class="comment">// Determine whether the operand is a register def.</span></div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;    <span class="keywordflow">if</span> (MO.<a class="code" href="classllvm_1_1MachineOperand.html#a4c9594c955fec80c73ddd964b5efd554">isReg</a>() &amp;&amp; MO.<a class="code" href="classllvm_1_1MachineOperand.html#a75eb135014670ce946e78739cdc9b51b">isDef</a>() &amp;&amp; MO.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>() &amp;&amp; MO.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>().<a class="code" href="classllvm_1_1Register.html#a13bd3dae94013a7bf38afc9391c8fa8f">isPhysical</a>() &amp;&amp;</div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;        !(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.isCall() &amp;&amp; MO.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>() == SP)) {</div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;      <span class="comment">// Remove ranges of all aliased registers.</span></div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MCRegAliasIterator.html">MCRegAliasIterator</a> RAI(MO.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>(), <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>, <span class="keyword">true</span>); RAI.<a class="code" href="classllvm_1_1MCRegAliasIterator.html#ac336c049c12ead7be5b86e6d046f8ab0">isValid</a>(); ++RAI)</div>
<div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;        <span class="comment">// FIXME: Can we break out of this loop early if no insertion occurs?</span></div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;        DeadRegs.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a94d23373106467003722f7d6c17b1528">insert</a>(*RAI);</div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;      RegSetInstrs.erase(MO.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>());</div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;      RegSetInstrs.insert({MO.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>(), &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>});</div>
<div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (MO.<a class="code" href="classllvm_1_1MachineOperand.html#a55fdcb2a9df9a69067eed1bc17a0b927">isRegMask</a>()) {</div>
<div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;      RegMasks.push_back(MO.<a class="code" href="classllvm_1_1MachineOperand.html#a241be1469eeaecff6550f375c7ce9846">getRegMask</a>());</div>
<div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;    }</div>
<div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;  }</div>
<div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160; </div>
<div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;  <span class="comment">// Erase VarLocs which reside in one of the dead registers. For performance</span></div>
<div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;  <span class="comment">// reasons, it&#39;s critical to not iterate over the full set of open VarLocs.</span></div>
<div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;  <span class="comment">// Iterate over the set of dying/used regs instead.</span></div>
<div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;  <span class="keywordflow">if</span> (!RegMasks.empty()) {</div>
<div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Register, 32&gt;</a> UsedRegs;</div>
<div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;    getUsedRegs(OpenRanges.getVarLocs(), UsedRegs);</div>
<div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Register.html">Register</a> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a> : UsedRegs) {</div>
<div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;      <span class="comment">// Remove ranges of all clobbered registers. Register masks don&#39;t usually</span></div>
<div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;      <span class="comment">// list SP as preserved. Assume that call instructions never clobber SP,</span></div>
<div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;      <span class="comment">// because some backends (e.g., AArch64) never list SP in the regmask.</span></div>
<div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;      <span class="comment">// While the debug info may be off for an instruction or two around</span></div>
<div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;      <span class="comment">// callee-cleanup calls, transferring the DEBUG_VALUE across the call is</span></div>
<div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;      <span class="comment">// still a better user experience.</span></div>
<div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a> == SP)</div>
<div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;      <span class="keywordtype">bool</span> AnyRegMaskKillsReg =</div>
<div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;          <a class="code" href="namespacellvm.html#a61d13d6824ec46c31260a4fd0997eda0">any_of</a>(RegMasks, [<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>](<span class="keyword">const</span> <a class="code" href="classuint32__t.html">uint32_t</a> *RegMask) {</div>
<div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1MachineOperand.html#ae4ecf5483b94e2bb72967b80cc2008d2">MachineOperand::clobbersPhysReg</a>(RegMask, <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>);</div>
<div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;          });</div>
<div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;      <span class="keywordflow">if</span> (AnyRegMaskKillsReg)</div>
<div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;        DeadRegs.insert(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>);</div>
<div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;      <span class="keywordflow">if</span> (AnyRegMaskKillsReg) {</div>
<div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;        RegSetInstrs.erase(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>);</div>
<div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;        RegSetInstrs.insert({<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>});</div>
<div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;      }</div>
<div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;    }</div>
<div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;  }</div>
<div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160; </div>
<div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;  <span class="keywordflow">if</span> (DeadRegs.empty())</div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160; </div>
<div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;  VarLocsInRange KillSet;</div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;  collectIDsForRegs(KillSet, DeadRegs, OpenRanges.getVarLocs(), VarLocIDs);</div>
<div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;  OpenRanges.erase(KillSet, VarLocIDs, LocIndex::kUniversalLocation);</div>
<div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160; </div>
<div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;  <span class="keywordflow">if</span> (TPC) {</div>
<div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;    <span class="keyword">auto</span> &amp;<a class="code" href="PassBuilderBindings_8cpp.html#ab76052bb166c65901edb603a3e1f03ab">TM</a> = TPC-&gt;<a class="code" href="classllvm_1_1TargetPassConfig.html#a2ead47220440ce8f11a2496059534654">getTM</a>&lt;<a class="code" href="classllvm_1_1TargetMachine.html">TargetMachine</a>&gt;();</div>
<div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="PassBuilderBindings_8cpp.html#ab76052bb166c65901edb603a3e1f03ab">TM</a>.Options.ShouldEmitDebugEntryValues())</div>
<div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;      emitEntryValues(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, OpenRanges, VarLocIDs, EntryValTransfers, KillSet);</div>
<div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;  }</div>
<div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;}</div>
<div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160; </div>
<div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;<span class="keywordtype">void</span> VarLocBasedLDV::transferWasmDef(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>,</div>
<div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;                                     OpenRangesSet &amp;OpenRanges,</div>
<div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;                                     VarLocMap &amp;VarLocIDs) {</div>
<div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;  <span class="comment">// If this is not a Wasm local.set or local.tee, which sets local values,</span></div>
<div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;  <span class="comment">// return.</span></div>
<div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="ELFObjHandler_8cpp.html#aef61945034b9431b804748fc317c5548">Index</a>;</div>
<div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;  int64_t <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>;</div>
<div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>-&gt;isExplicitTargetIndexDef(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="namespacellvm_1_1dwarf.html#a5d3c920b66ea797d6adb243862fdf47a">Index</a>, <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>))</div>
<div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160; </div>
<div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;  <span class="comment">// Find the target indices killed by MI, and delete those variable locations</span></div>
<div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;  <span class="comment">// from the open range.</span></div>
<div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;  VarLocsInRange KillSet;</div>
<div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;  VarLoc::WasmLoc Loc{<a class="code" href="ELFObjHandler_8cpp.html#aef61945034b9431b804748fc317c5548">Index</a>, <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>};</div>
<div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a> : OpenRanges.getWasmVarLocs()) {</div>
<div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;    LocIndex Idx = LocIndex::fromRawInteger(<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>);</div>
<div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;    <span class="keyword">const</span> VarLoc &amp;VL = VarLocIDs[Idx];</div>
<div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(VL.containsWasmLocs() &amp;&amp; <span class="stringliteral">&quot;Broken VarLocSet?&quot;</span>);</div>
<div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;    <span class="keywordflow">if</span> (VL.usesWasmLoc(Loc))</div>
<div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;      KillSet.insert(<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>);</div>
<div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;  }</div>
<div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;  OpenRanges.erase(KillSet, VarLocIDs, LocIndex::kWasmLocation);</div>
<div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;}</div>
<div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160; </div>
<div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;<span class="keywordtype">bool</span> VarLocBasedLDV::isSpillInstruction(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>,</div>
<div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;                                         <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> *MF) {</div>
<div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;  <span class="comment">// TODO: Handle multiple stores folded into one.</span></div>
<div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.hasOneMemOperand())</div>
<div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160; </div>
<div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getSpillSize(<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>) &amp;&amp; !<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getFoldedSpillSize(<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>))</div>
<div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>; <span class="comment">// This is not a spill instruction, since no valid size was</span></div>
<div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;                  <span class="comment">// returned from either function.</span></div>
<div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160; </div>
<div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;}</div>
<div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160; </div>
<div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;<span class="keywordtype">bool</span> VarLocBasedLDV::isLocationSpill(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>,</div>
<div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;                                      <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> *MF, <a class="code" href="classllvm_1_1Register.html">Register</a> &amp;<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>) {</div>
<div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;  <span class="keywordflow">if</span> (!isSpillInstruction(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, MF))</div>
<div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160; </div>
<div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;  <span class="keyword">auto</span> isKilledReg = [&amp;](<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> MO, <a class="code" href="classllvm_1_1Register.html">Register</a> &amp;<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>) {</div>
<div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;    <span class="keywordflow">if</span> (!MO.<a class="code" href="classllvm_1_1MachineOperand.html#a4c9594c955fec80c73ddd964b5efd554">isReg</a>() || !MO.<a class="code" href="classllvm_1_1MachineOperand.html#a69544ec8658eadeed98245dc37c3a541">isUse</a>()) {</div>
<div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;      <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a> = 0;</div>
<div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;    }</div>
<div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;    <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a> = MO.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>();</div>
<div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;    <span class="keywordflow">return</span> MO.<a class="code" href="classllvm_1_1MachineOperand.html#a4046212ebc647b17e811837ae4ea3afd">isKill</a>();</div>
<div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;  };</div>
<div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160; </div>
<div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;MO : <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.operands()) {</div>
<div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;    <span class="comment">// In a spill instruction generated by the InlineSpiller the spilled</span></div>
<div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;    <span class="comment">// register has its kill flag set.</span></div>
<div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;    <span class="keywordflow">if</span> (isKilledReg(MO, <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>))</div>
<div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a> != 0) {</div>
<div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;      <span class="comment">// Check whether next instruction kills the spilled register.</span></div>
<div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;      <span class="comment">// FIXME: Current solution does not cover search for killed register in</span></div>
<div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;      <span class="comment">// bundles and instructions further down the chain.</span></div>
<div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;      <span class="keyword">auto</span> NextI = std::next(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getIterator());</div>
<div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;      <span class="comment">// Skip next instruction that points to basic block end iterator.</span></div>
<div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getParent()-&gt;end() == NextI)</div>
<div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;      <a class="code" href="classllvm_1_1Register.html">Register</a> RegNext;</div>
<div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;MONext : NextI-&gt;operands()) {</div>
<div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;        <span class="comment">// Return true if we came across the register from the</span></div>
<div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;        <span class="comment">// previous spill instruction that is killed in NextI.</span></div>
<div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;        <span class="keywordflow">if</span> (isKilledReg(MONext, RegNext) &amp;&amp; RegNext == <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>)</div>
<div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;      }</div>
<div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;    }</div>
<div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;  }</div>
<div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;  <span class="comment">// Return false if we didn&#39;t find spilled register.</span></div>
<div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;}</div>
<div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160; </div>
<div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;std::optional&lt;VarLocBasedLDV::VarLoc::SpillLoc&gt;</div>
<div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;VarLocBasedLDV::isRestoreInstruction(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>,</div>
<div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;                                     <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> *MF, <a class="code" href="classllvm_1_1Register.html">Register</a> &amp;<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>) {</div>
<div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.hasOneMemOperand())</div>
<div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;    <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160; </div>
<div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;  <span class="comment">// FIXME: Handle folded restore instructions with more than one memory</span></div>
<div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;  <span class="comment">// operand.</span></div>
<div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getRestoreSize(<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>)) {</div>
<div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;    <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a> = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(0).getReg();</div>
<div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;    <span class="keywordflow">return</span> extractSpillBaseRegAndOffset(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;  }</div>
<div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;  <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;}</div>
<div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;<span class="comment">/// A spilled register may indicate that we have to end the current range of</span></div>
<div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;<span class="comment">/// a variable and create a new one for the spill location.</span></div>
<div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;<span class="comment">/// A restored register may indicate the reverse situation.</span></div>
<div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;<span class="comment">/// We don&#39;t want to insert any instructions in process(), so we just create</span></div>
<div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;<span class="comment">/// the DBG_VALUE without inserting it and keep track of it in \p Transfers.</span></div>
<div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;<span class="comment">/// It will be inserted into the BB when we&#39;re done iterating over the</span></div>
<div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;<span class="comment">/// instructions.</span></div>
<div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;<span class="comment"></span><span class="keywordtype">void</span> VarLocBasedLDV::transferSpillOrRestoreInst(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>,</div>
<div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;                                                 OpenRangesSet &amp;OpenRanges,</div>
<div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;                                                 VarLocMap &amp;VarLocIDs,</div>
<div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;                                                 TransferMap &amp;Transfers) {</div>
<div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;  <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> *MF = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getMF();</div>
<div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;  TransferKind TKind;</div>
<div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>;</div>
<div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;  std::optional&lt;VarLoc::SpillLoc&gt; Loc;</div>
<div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160; </div>
<div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Examining instruction: &quot;</span>; <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.<a class="code" href="classllvm_1_1Pass.html#aa26f1f3bfe5b5022b1bd495151b3757a">dump</a>(););</div>
<div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160; </div>
<div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;  <span class="comment">// First, if there are any DBG_VALUEs pointing at a spill slot that is</span></div>
<div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;  <span class="comment">// written to, then close the variable location. The value in memory</span></div>
<div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;  <span class="comment">// will have changed.</span></div>
<div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;  VarLocsInRange KillSet;</div>
<div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;  <span class="keywordflow">if</span> (isSpillInstruction(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, MF)) {</div>
<div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;    Loc = extractSpillBaseRegAndOffset(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a> : OpenRanges.getSpillVarLocs()) {</div>
<div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;      LocIndex Idx = LocIndex::fromRawInteger(<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>);</div>
<div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;      <span class="keyword">const</span> VarLoc &amp;VL = VarLocIDs[Idx];</div>
<div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(VL.containsSpillLocs() &amp;&amp; <span class="stringliteral">&quot;Broken VarLocSet?&quot;</span>);</div>
<div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;      <span class="keywordflow">if</span> (VL.usesSpillLoc(*Loc)) {</div>
<div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;        <span class="comment">// This location is overwritten by the current instruction -- terminate</span></div>
<div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;        <span class="comment">// the open range, and insert an explicit DBG_VALUE $noreg.</span></div>
<div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;        <span class="comment">// Doing this at a later stage would require re-interpreting all</span></div>
<div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;        <span class="comment">// DBG_VALUes and DIExpressions to identify whether they point at</span></div>
<div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;        <span class="comment">// memory, and then analysing all memory writes to see if they</span></div>
<div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;        <span class="comment">// overwrite that memory, which is expensive.</span></div>
<div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;        <span class="comment">// At this stage, we already know which DBG_VALUEs are for spills and</span></div>
<div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;        <span class="comment">// where they are located; it&#39;s best to fix handle overwrites now.</span></div>
<div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;        KillSet.insert(<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>);</div>
<div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;        <span class="keywordtype">unsigned</span> SpillLocIdx = VL.getSpillLocIdx(*Loc);</div>
<div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;        VarLoc::MachineLoc OldLoc = VL.Locs[SpillLocIdx];</div>
<div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;        VarLoc UndefVL = VarLoc::CreateCopyLoc(VL, OldLoc, 0);</div>
<div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;        LocIndices UndefLocIDs = VarLocIDs.insert(UndefVL);</div>
<div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;        Transfers.push_back({&amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, UndefLocIDs.back()});</div>
<div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;      }</div>
<div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;    }</div>
<div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;    OpenRanges.erase(KillSet, VarLocIDs, LocIndex::kSpillLocation);</div>
<div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;  }</div>
<div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160; </div>
<div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;  <span class="comment">// Try to recognise spill and restore instructions that may create a new</span></div>
<div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;  <span class="comment">// variable location.</span></div>
<div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;  <span class="keywordflow">if</span> (isLocationSpill(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, MF, <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>)) {</div>
<div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;    TKind = TransferKind::TransferSpill;</div>
<div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Recognized as spill: &quot;</span>; <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.<a class="code" href="classllvm_1_1Pass.html#aa26f1f3bfe5b5022b1bd495151b3757a">dump</a>(););</div>
<div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Register: &quot;</span> &lt;&lt; <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a> &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; <a class="code" href="namespacellvm.html#af085ea923a328b9fa6a1975f1a4ff987">printReg</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>)</div>
<div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;                      &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;    <span class="keywordflow">if</span> (!(Loc = isRestoreInstruction(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, MF, <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>)))</div>
<div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;    TKind = TransferKind::TransferRestore;</div>
<div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Recognized as restore: &quot;</span>; <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.<a class="code" href="classllvm_1_1Pass.html#aa26f1f3bfe5b5022b1bd495151b3757a">dump</a>(););</div>
<div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Register: &quot;</span> &lt;&lt; <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a> &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; <a class="code" href="namespacellvm.html#af085ea923a328b9fa6a1975f1a4ff987">printReg</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>)</div>
<div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;                      &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;  }</div>
<div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;  <span class="comment">// Check if the register or spill location is the location of a debug value.</span></div>
<div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;  <span class="keyword">auto</span> TransferCandidates = OpenRanges.getEmptyVarLocRange();</div>
<div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;  <span class="keywordflow">if</span> (TKind == TransferKind::TransferSpill)</div>
<div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;    TransferCandidates = OpenRanges.getRegisterVarLocs(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>);</div>
<div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (TKind == TransferKind::TransferRestore)</div>
<div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;    TransferCandidates = OpenRanges.getSpillVarLocs();</div>
<div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a> : TransferCandidates) {</div>
<div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;    LocIndex Idx = LocIndex::fromRawInteger(<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>);</div>
<div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;    <span class="keyword">const</span> VarLoc &amp;VL = VarLocIDs[Idx];</div>
<div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="classLiveDebugValues_1_1LocIdx.html">LocIdx</a>;</div>
<div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;    <span class="keywordflow">if</span> (TKind == TransferKind::TransferSpill) {</div>
<div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(VL.usesReg(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>) &amp;&amp; <span class="stringliteral">&quot;Broken VarLocSet?&quot;</span>);</div>
<div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;      <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Spilling Register &quot;</span> &lt;&lt; <a class="code" href="namespacellvm.html#af085ea923a328b9fa6a1975f1a4ff987">printReg</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>) &lt;&lt; <span class="charliteral">&#39;(&#39;</span></div>
<div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;                        &lt;&lt; VL.Var.getVariable()-&gt;getName() &lt;&lt; <span class="stringliteral">&quot;)\n&quot;</span>);</div>
<div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;      <a class="code" href="classLiveDebugValues_1_1LocIdx.html">LocIdx</a> = VL.getRegIdx(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>);</div>
<div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(TKind == TransferKind::TransferRestore &amp;&amp; VL.containsSpillLocs() &amp;&amp;</div>
<div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;             <span class="stringliteral">&quot;Broken VarLocSet?&quot;</span>);</div>
<div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;      <span class="keywordflow">if</span> (!VL.usesSpillLoc(*Loc))</div>
<div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;        <span class="comment">// The spill location is not the location of a debug value.</span></div>
<div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;      <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Restoring Register &quot;</span> &lt;&lt; <a class="code" href="namespacellvm.html#af085ea923a328b9fa6a1975f1a4ff987">printReg</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>) &lt;&lt; <span class="charliteral">&#39;(&#39;</span></div>
<div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;                        &lt;&lt; VL.Var.getVariable()-&gt;getName() &lt;&lt; <span class="stringliteral">&quot;)\n&quot;</span>);</div>
<div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;      <a class="code" href="classLiveDebugValues_1_1LocIdx.html">LocIdx</a> = VL.getSpillLocIdx(*Loc);</div>
<div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;    }</div>
<div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;    VarLoc::MachineLoc MLoc = VL.Locs[<a class="code" href="classLiveDebugValues_1_1LocIdx.html">LocIdx</a>];</div>
<div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;    insertTransferDebugPair(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, OpenRanges, Transfers, VarLocIDs, Idx, TKind,</div>
<div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;                            MLoc, <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>);</div>
<div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;    <span class="comment">// FIXME: A comment should explain why it&#39;s correct to return early here,</span></div>
<div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;    <span class="comment">// if that is in fact correct.</span></div>
<div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;  }</div>
<div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;}</div>
<div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;<span class="comment">/// If \p MI is a register copy instruction, that copies a previously tracked</span></div>
<div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;<span class="comment">/// value from one register to another register that is callee saved, we</span></div>
<div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;<span class="comment">/// create new DBG_VALUE instruction  described with copy destination register.</span></div>
<div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;<span class="comment"></span><span class="keywordtype">void</span> VarLocBasedLDV::transferRegisterCopy(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>,</div>
<div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;                                           OpenRangesSet &amp;OpenRanges,</div>
<div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;                                           VarLocMap &amp;VarLocIDs,</div>
<div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;                                           TransferMap &amp;Transfers) {</div>
<div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;  <span class="keyword">auto</span> DestSrc = <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>-&gt;isCopyInstr(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;  <span class="keywordflow">if</span> (!DestSrc)</div>
<div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160; </div>
<div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> *DestRegOp = DestSrc-&gt;Destination;</div>
<div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> *SrcRegOp = DestSrc-&gt;Source;</div>
<div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160; </div>
<div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;  <span class="keywordflow">if</span> (!DestRegOp-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#a75eb135014670ce946e78739cdc9b51b">isDef</a>())</div>
<div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160; </div>
<div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;  <span class="keyword">auto</span> isCalleeSavedReg = [&amp;](<a class="code" href="classllvm_1_1Register.html">Register</a> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>) {</div>
<div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MCRegAliasIterator.html">MCRegAliasIterator</a> RAI(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>, <span class="keyword">true</span>); RAI.<a class="code" href="classllvm_1_1MCRegAliasIterator.html#ac336c049c12ead7be5b86e6d046f8ab0">isValid</a>(); ++RAI)</div>
<div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;      <span class="keywordflow">if</span> (CalleeSavedRegs.<a class="code" href="classllvm_1_1BitVector.html#a15d63c566878e964c19139b2c76c0dab">test</a>(*RAI))</div>
<div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;  };</div>
<div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160; </div>
<div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> SrcReg = SrcRegOp-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>();</div>
<div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> DestReg = DestRegOp-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>();</div>
<div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160; </div>
<div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;  <span class="comment">// We want to recognize instructions where destination register is callee</span></div>
<div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;  <span class="comment">// saved register. If register that could be clobbered by the call is</span></div>
<div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;  <span class="comment">// included, there would be a great chance that it is going to be clobbered</span></div>
<div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;  <span class="comment">// soon. It is more likely that previous register location, which is callee</span></div>
<div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;  <span class="comment">// saved, is going to stay unclobbered longer, even if it is killed.</span></div>
<div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;  <span class="keywordflow">if</span> (!isCalleeSavedReg(DestReg))</div>
<div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160; </div>
<div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;  <span class="comment">// Remember an entry value movement. If we encounter a new debug value of</span></div>
<div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;  <span class="comment">// a parameter describing only a moving of the value around, rather then</span></div>
<div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;  <span class="comment">// modifying it, we are still able to use the entry value if needed.</span></div>
<div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="VarLocBasedImpl_8cpp.html#a33f3613fb6558bae2f0d2bdd87e18dfa">isRegOtherThanSPAndFP</a>(*DestRegOp, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>)) {</div>
<div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a> : OpenRanges.getEntryValueBackupVarLocs()) {</div>
<div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;      LocIndex Idx = LocIndex::fromRawInteger(<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>);</div>
<div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;      <span class="keyword">const</span> VarLoc &amp;VL = VarLocIDs[Idx];</div>
<div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;      <span class="keywordflow">if</span> (VL.isEntryValueBackupReg(SrcReg)) {</div>
<div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;        <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Copy of the entry value: &quot;</span>; <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.<a class="code" href="classllvm_1_1Pass.html#aa26f1f3bfe5b5022b1bd495151b3757a">dump</a>(););</div>
<div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;        VarLoc EntryValLocCopyBackup =</div>
<div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;            VarLoc::CreateEntryCopyBackupLoc(VL.MI, VL.Expr, DestReg);</div>
<div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;        <span class="comment">// Stop tracking the original entry value.</span></div>
<div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;        OpenRanges.erase(VL);</div>
<div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160; </div>
<div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;        <span class="comment">// Start tracking the entry value copy.</span></div>
<div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;        LocIndices EntryValCopyLocIDs = VarLocIDs.insert(EntryValLocCopyBackup);</div>
<div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;        OpenRanges.insert(EntryValCopyLocIDs, EntryValLocCopyBackup);</div>
<div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;      }</div>
<div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;    }</div>
<div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;  }</div>
<div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160; </div>
<div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;  <span class="keywordflow">if</span> (!SrcRegOp-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#a4046212ebc647b17e811837ae4ea3afd">isKill</a>())</div>
<div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160; </div>
<div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a> : OpenRanges.getRegisterVarLocs(SrcReg)) {</div>
<div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;    LocIndex Idx = LocIndex::fromRawInteger(<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>);</div>
<div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(VarLocIDs[Idx].usesReg(SrcReg) &amp;&amp; <span class="stringliteral">&quot;Broken VarLocSet?&quot;</span>);</div>
<div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;    VarLoc::MachineLocValue Loc;</div>
<div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;    Loc.RegNo = SrcReg;</div>
<div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;    VarLoc::MachineLoc MLoc{VarLoc::MachineLocKind::RegisterKind, Loc};</div>
<div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;    insertTransferDebugPair(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, OpenRanges, Transfers, VarLocIDs, Idx,</div>
<div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;                            TransferKind::TransferCopy, MLoc, DestReg);</div>
<div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;    <span class="comment">// FIXME: A comment should explain why it&#39;s correct to return early here,</span></div>
<div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;    <span class="comment">// if that is in fact correct.</span></div>
<div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;  }</div>
<div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;}</div>
<div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;<span class="comment">/// Terminate all open ranges at the end of the current basic block.</span></div>
<div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> VarLocBasedLDV::transferTerminator(<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *CurMBB,</div>
<div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;                                         OpenRangesSet &amp;OpenRanges,</div>
<div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;                                         VarLocInMBB &amp;OutLocs,</div>
<div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;                                         <span class="keyword">const</span> VarLocMap &amp;VarLocIDs) {</div>
<div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;  <span class="keywordtype">bool</span> Changed = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>({</div>
<div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;    VarVec VarLocs;</div>
<div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;    OpenRanges.getUniqueVarLocs(VarLocs, VarLocIDs);</div>
<div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;    <span class="keywordflow">for</span> (VarLoc &amp;VL : VarLocs) {</div>
<div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;      <span class="comment">// Copy OpenRanges to OutLocs, if not already present.</span></div>
<div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;      <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Add to OutLocs in MBB #&quot;</span> &lt;&lt; CurMBB-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#a3aa22d521bd6a7e6b9f35545dc7b0f1e">getNumber</a>() &lt;&lt; <span class="stringliteral">&quot;:  &quot;</span>;</div>
<div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;      VL.dump(<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>);</div>
<div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;    }</div>
<div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;  });</div>
<div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;  VarLocSet &amp;VLS = getVarLocsInMBB(CurMBB, OutLocs);</div>
<div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;  Changed = VLS != OpenRanges.getVarLocs();</div>
<div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;  <span class="comment">// New OutLocs set may be different due to spill, restore or register</span></div>
<div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;  <span class="comment">// copy instruction processing.</span></div>
<div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;  <span class="keywordflow">if</span> (Changed)</div>
<div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;    VLS = OpenRanges.getVarLocs();</div>
<div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160;  OpenRanges.clear();</div>
<div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;  <span class="keywordflow">return</span> Changed;</div>
<div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;}</div>
<div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;<span class="comment">/// Accumulate a mapping between each DILocalVariable fragment and other</span></div>
<div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;<span class="comment">/// fragments of that DILocalVariable which overlap. This reduces work during</span></div>
<div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;<span class="comment">/// the data-flow stage from &quot;Find any overlapping fragments&quot; to &quot;Check if the</span></div>
<div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;<span class="comment">/// known-to-overlap fragments are present&quot;.</span></div>
<div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;<span class="comment">/// \param MI A previously unprocessed DEBUG_VALUE instruction to analyze for</span></div>
<div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;<span class="comment">///           fragment usage.</span></div>
<div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;<span class="comment">/// \param SeenFragments Map from DILocalVariable to all fragments of that</span></div>
<div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;<span class="comment">///           Variable which are known to exist.</span></div>
<div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160;<span class="comment">/// \param OverlappingFragments The overlap map being constructed, from one</span></div>
<div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;<span class="comment">///           Var/Fragment pair to a vector of fragments known to overlap.</span></div>
<div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;<span class="comment"></span><span class="keywordtype">void</span> VarLocBasedLDV::accumulateFragmentMap(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>,</div>
<div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;                                            VarToFragments &amp;SeenFragments,</div>
<div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;                                            <a class="code" href="classllvm_1_1DenseMap.html">OverlapMap</a> &amp;OverlappingFragments) {</div>
<div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;  <a class="code" href="classllvm_1_1DebugVariable.html">DebugVariable</a> MIVar(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getDebugVariable(), <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getDebugExpression(),</div>
<div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;                      <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getDebugLoc()-&gt;getInlinedAt());</div>
<div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;  FragmentInfo ThisFragment = MIVar.getFragmentOrDefault();</div>
<div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160; </div>
<div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160;  <span class="comment">// If this is the first sighting of this variable, then we are guaranteed</span></div>
<div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160;  <span class="comment">// there are currently no overlapping fragments either. Initialize the set</span></div>
<div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160;  <span class="comment">// of seen fragments, record no overlaps for the current one, and return.</span></div>
<div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160;  <span class="keyword">auto</span> SeenIt = SeenFragments.find(MIVar.getVariable());</div>
<div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160;  <span class="keywordflow">if</span> (SeenIt == SeenFragments.end()) {</div>
<div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160;    <a class="code" href="classllvm_1_1SmallSet.html">SmallSet&lt;FragmentInfo, 4&gt;</a> OneFragment;</div>
<div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160;    OneFragment.<a class="code" href="classllvm_1_1SmallSet.html#a1679469af9bb8ccfbe98441fb8228c79">insert</a>(ThisFragment);</div>
<div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;    SeenFragments.insert({MIVar.getVariable(), OneFragment});</div>
<div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160; </div>
<div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160;    OverlappingFragments.<a class="code" href="classllvm_1_1DenseMapBase.html#a99f811d53704275b4158c62a2dd138d9">insert</a>({{MIVar.getVariable(), ThisFragment}, {}});</div>
<div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160;  }</div>
<div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160; </div>
<div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160;  <span class="comment">// If this particular Variable/Fragment pair already exists in the overlap</span></div>
<div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160;  <span class="comment">// map, it has already been accounted for.</span></div>
<div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;  <span class="keyword">auto</span> IsInOLapMap =</div>
<div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;      OverlappingFragments.<a class="code" href="classllvm_1_1DenseMapBase.html#a99f811d53704275b4158c62a2dd138d9">insert</a>({{MIVar.getVariable(), ThisFragment}, {}});</div>
<div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160;  <span class="keywordflow">if</span> (!IsInOLapMap.second)</div>
<div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160; </div>
<div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160;  <span class="keyword">auto</span> &amp;ThisFragmentsOverlaps = IsInOLapMap.first-&gt;second;</div>
<div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160;  <span class="keyword">auto</span> &amp;AllSeenFragments = SeenIt-&gt;second;</div>
<div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160; </div>
<div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;  <span class="comment">// Otherwise, examine all other seen fragments for this variable, with &quot;this&quot;</span></div>
<div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;  <span class="comment">// fragment being a previously unseen fragment. Record any pair of</span></div>
<div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;  <span class="comment">// overlapping fragments.</span></div>
<div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;ASeenFragment : AllSeenFragments) {</div>
<div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;    <span class="comment">// Does this previously seen fragment overlap?</span></div>
<div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1DIExpression.html#a46d29699ee79b3a3d7359278f6bab01c">DIExpression::fragmentsOverlap</a>(ThisFragment, ASeenFragment)) {</div>
<div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;      <span class="comment">// Yes: Mark the current fragment as being overlapped.</span></div>
<div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;      ThisFragmentsOverlaps.push_back(ASeenFragment);</div>
<div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160;      <span class="comment">// Mark the previously seen fragment as being overlapped by the current</span></div>
<div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160;      <span class="comment">// one.</span></div>
<div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;      <span class="keyword">auto</span> ASeenFragmentsOverlaps =</div>
<div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;          OverlappingFragments.<a class="code" href="classllvm_1_1DenseMapBase.html#a0c047f127ed4380a6f383d70bec4eb94">find</a>({MIVar.getVariable(), ASeenFragment});</div>
<div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(ASeenFragmentsOverlaps != OverlappingFragments.<a class="code" href="classllvm_1_1DenseMapBase.html#a65520b9c67759099e313d0f4e7b5ff9e">end</a>() &amp;&amp;</div>
<div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;             <span class="stringliteral">&quot;Previously seen var fragment has no vector of overlaps&quot;</span>);</div>
<div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;      ASeenFragmentsOverlaps-&gt;second.push_back(ThisFragment);</div>
<div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;    }</div>
<div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;  }</div>
<div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160; </div>
<div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;  AllSeenFragments.insert(ThisFragment);</div>
<div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;}</div>
<div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;<span class="comment">/// This routine creates OpenRanges.</span></div>
<div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;<span class="comment"></span><span class="keywordtype">void</span> VarLocBasedLDV::process(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, OpenRangesSet &amp;OpenRanges,</div>
<div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;                             VarLocMap &amp;VarLocIDs, TransferMap &amp;Transfers,</div>
<div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;                             InstToEntryLocMap &amp;EntryValTransfers,</div>
<div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;                             RegDefToInstMap &amp;RegSetInstrs) {</div>
<div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.isDebugInstr())</div>
<div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;    LastNonDbgMI = &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>;</div>
<div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;  transferDebugValue(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, OpenRanges, VarLocIDs, EntryValTransfers,</div>
<div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;                     RegSetInstrs);</div>
<div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;  transferRegisterDef(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, OpenRanges, VarLocIDs, EntryValTransfers,</div>
<div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;                      RegSetInstrs);</div>
<div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;  transferWasmDef(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, OpenRanges, VarLocIDs);</div>
<div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;  transferRegisterCopy(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, OpenRanges, VarLocIDs, Transfers);</div>
<div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;  transferSpillOrRestoreInst(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, OpenRanges, VarLocIDs, Transfers);</div>
<div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;}</div>
<div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;<span class="comment">/// This routine joins the analysis results of all incoming edges in @MBB by</span></div>
<div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;<span class="comment">/// inserting a new DBG_VALUE instruction at the start of the @MBB - if the same</span></div>
<div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160;<span class="comment">/// source variable in all the predecessors of @MBB reside in the same location.</span></div>
<div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> VarLocBasedLDV::join(</div>
<div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;    <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, VarLocInMBB &amp;OutLocs, VarLocInMBB &amp;InLocs,</div>
<div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;    <span class="keyword">const</span> VarLocMap &amp;VarLocIDs,</div>
<div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160;    <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;const MachineBasicBlock *, 16&gt;</a> &amp;Visited,</div>
<div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;    <a class="code" href="classllvm_1_1SmallPtrSetImpl.html">SmallPtrSetImpl&lt;const MachineBasicBlock *&gt;</a> &amp;ArtificialBlocks) {</div>
<div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;join MBB: &quot;</span> &lt;&lt; <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a3aa22d521bd6a7e6b9f35545dc7b0f1e">getNumber</a>() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160; </div>
<div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160;  VarLocSet InLocsT(Alloc); <span class="comment">// Temporary incoming locations.</span></div>
<div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160; </div>
<div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160;  <span class="comment">// For all predecessors of this MBB, find the set of VarLocs that</span></div>
<div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160;  <span class="comment">// can be joined.</span></div>
<div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160;  <span class="keywordtype">int</span> NumVisited = 0;</div>
<div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a38e79c83dad9b9a5f38c9693371a8709">p</a> : <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#afd9b9b8655c008bf6cd6afb05d41b69e">predecessors</a>()) {</div>
<div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160;    <span class="comment">// Ignore backedges if we have not visited the predecessor yet. As the</span></div>
<div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160;    <span class="comment">// predecessor hasn&#39;t yet had locations propagated into it, most locations</span></div>
<div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160;    <span class="comment">// will not yet be valid, so treat them as all being uninitialized and</span></div>
<div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160;    <span class="comment">// potentially valid. If a location guessed to be correct here is</span></div>
<div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;    <span class="comment">// invalidated later, we will remove it when we revisit this block.</span></div>
<div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160;    <span class="keywordflow">if</span> (!Visited.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a1f475b0df44ebd7169e720fa1bf9169e">count</a>(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a38e79c83dad9b9a5f38c9693371a8709">p</a>)) {</div>
<div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;      <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;  ignoring unvisited pred MBB: &quot;</span> &lt;&lt; <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a38e79c83dad9b9a5f38c9693371a8709">p</a>-&gt;getNumber()</div>
<div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;                        &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160;    }</div>
<div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160;    <span class="keyword">auto</span> OL = OutLocs.find(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a38e79c83dad9b9a5f38c9693371a8709">p</a>);</div>
<div class="line"><a name="l02039"></a><span class="lineno"> 2039</span>&#160;    <span class="comment">// Join is null in case of empty OutLocs from any of the pred.</span></div>
<div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160;    <span class="keywordflow">if</span> (OL == OutLocs.end())</div>
<div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160; </div>
<div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160;    <span class="comment">// Just copy over the Out locs to incoming locs for the first visited</span></div>
<div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160;    <span class="comment">// predecessor, and for all other predecessors join the Out locs.</span></div>
<div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160;    VarLocSet &amp;OutLocVLS = *OL-&gt;second;</div>
<div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160;    <span class="keywordflow">if</span> (!NumVisited)</div>
<div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160;      InLocsT = OutLocVLS;</div>
<div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l02049"></a><span class="lineno"> 2049</span>&#160;      InLocsT &amp;= OutLocVLS;</div>
<div class="line"><a name="l02050"></a><span class="lineno"> 2050</span>&#160; </div>
<div class="line"><a name="l02051"></a><span class="lineno"> 2051</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>({</div>
<div class="line"><a name="l02052"></a><span class="lineno"> 2052</span>&#160;      <span class="keywordflow">if</span> (!InLocsT.empty()) {</div>
<div class="line"><a name="l02053"></a><span class="lineno"> 2053</span>&#160;        VarVec VarLocs;</div>
<div class="line"><a name="l02054"></a><span class="lineno"> 2054</span>&#160;        collectAllVarLocs(VarLocs, InLocsT, VarLocIDs);</div>
<div class="line"><a name="l02055"></a><span class="lineno"> 2055</span>&#160;        for (const VarLoc &amp;VL : VarLocs)</div>
<div class="line"><a name="l02056"></a><span class="lineno"> 2056</span>&#160;          dbgs() &lt;&lt; <span class="stringliteral">&quot;  gathered candidate incoming var: &quot;</span></div>
<div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160;                 &lt;&lt; VL.Var.getVariable()-&gt;getName() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l02058"></a><span class="lineno"> 2058</span>&#160;      }</div>
<div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160;    });</div>
<div class="line"><a name="l02060"></a><span class="lineno"> 2060</span>&#160; </div>
<div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160;    NumVisited++;</div>
<div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160;  }</div>
<div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160; </div>
<div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160;  <span class="comment">// Filter out DBG_VALUES that are out of scope.</span></div>
<div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160;  VarLocSet KillSet(Alloc);</div>
<div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160;  <span class="keywordtype">bool</span> IsArtificial = ArtificialBlocks.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a1f475b0df44ebd7169e720fa1bf9169e">count</a>(&amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>);</div>
<div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160;  <span class="keywordflow">if</span> (!IsArtificial) {</div>
<div class="line"><a name="l02068"></a><span class="lineno"> 2068</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a> : InLocsT) {</div>
<div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160;      LocIndex Idx = LocIndex::fromRawInteger(<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>);</div>
<div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160;      <span class="keywordflow">if</span> (!VarLocIDs[Idx].<a class="code" href="RegAllocFast_8cpp.html#a0eda39ffaf32662a7ae6f4dbe998711b">dominates</a>(<a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28afdd8238d6005774fe2bb9067de76eb8c">LS</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>)) {</div>
<div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160;        KillSet.set(<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>);</div>
<div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160;        <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>({</div>
<div class="line"><a name="l02073"></a><span class="lineno"> 2073</span>&#160;          <span class="keyword">auto</span> <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> = VarLocIDs[Idx].Var.getVariable()-&gt;<a class="code" href="ProvenanceAnalysisEvaluator_8cpp.html#a2ee79648e8bce3ddbb26358ff10e3e82">getName</a>();</div>
<div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160;          <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;  killing &quot;</span> &lt;&lt; <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> &lt;&lt; <span class="stringliteral">&quot;, it doesn&#39;t dominate MBB\n&quot;</span>;</div>
<div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160;        });</div>
<div class="line"><a name="l02076"></a><span class="lineno"> 2076</span>&#160;      }</div>
<div class="line"><a name="l02077"></a><span class="lineno"> 2077</span>&#160;    }</div>
<div class="line"><a name="l02078"></a><span class="lineno"> 2078</span>&#160;  }</div>
<div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160;  InLocsT.intersectWithComplement(KillSet);</div>
<div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160; </div>
<div class="line"><a name="l02081"></a><span class="lineno"> 2081</span>&#160;  <span class="comment">// As we are processing blocks in reverse post-order we</span></div>
<div class="line"><a name="l02082"></a><span class="lineno"> 2082</span>&#160;  <span class="comment">// should have processed at least one predecessor, unless it</span></div>
<div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160;  <span class="comment">// is the entry block which has no predecessor.</span></div>
<div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((NumVisited || <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a877507fda31c207ec36a018784369708">pred_empty</a>()) &amp;&amp;</div>
<div class="line"><a name="l02085"></a><span class="lineno"> 2085</span>&#160;         <span class="stringliteral">&quot;Should have processed at least one predecessor&quot;</span>);</div>
<div class="line"><a name="l02086"></a><span class="lineno"> 2086</span>&#160; </div>
<div class="line"><a name="l02087"></a><span class="lineno"> 2087</span>&#160;  VarLocSet &amp;ILS = getVarLocsInMBB(&amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, InLocs);</div>
<div class="line"><a name="l02088"></a><span class="lineno"> 2088</span>&#160;  <span class="keywordtype">bool</span> Changed = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160;  <span class="keywordflow">if</span> (ILS != InLocsT) {</div>
<div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160;    ILS = InLocsT;</div>
<div class="line"><a name="l02091"></a><span class="lineno"> 2091</span>&#160;    Changed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02092"></a><span class="lineno"> 2092</span>&#160;  }</div>
<div class="line"><a name="l02093"></a><span class="lineno"> 2093</span>&#160; </div>
<div class="line"><a name="l02094"></a><span class="lineno"> 2094</span>&#160;  <span class="keywordflow">return</span> Changed;</div>
<div class="line"><a name="l02095"></a><span class="lineno"> 2095</span>&#160;}</div>
<div class="line"><a name="l02096"></a><span class="lineno"> 2096</span>&#160; </div>
<div class="line"><a name="l02097"></a><span class="lineno"> 2097</span>&#160;<span class="keywordtype">void</span> VarLocBasedLDV::flushPendingLocs(VarLocInMBB &amp;PendingInLocs,</div>
<div class="line"><a name="l02098"></a><span class="lineno"> 2098</span>&#160;                                       VarLocMap &amp;VarLocIDs) {</div>
<div class="line"><a name="l02099"></a><span class="lineno"> 2099</span>&#160;  <span class="comment">// PendingInLocs records all locations propagated into blocks, which have</span></div>
<div class="line"><a name="l02100"></a><span class="lineno"> 2100</span>&#160;  <span class="comment">// not had DBG_VALUE insts created. Go through and create those insts now.</span></div>
<div class="line"><a name="l02101"></a><span class="lineno"> 2101</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;Iter : PendingInLocs) {</div>
<div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160;    <span class="comment">// Map is keyed on a constant pointer, unwrap it so we can insert insts.</span></div>
<div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160;    <span class="keyword">auto</span> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a> = <span class="keyword">const_cast&lt;</span><a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<span class="keyword">&gt;</span>(*Iter.first);</div>
<div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160;    VarLocSet &amp;Pending = *Iter.second;</div>
<div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160; </div>
<div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;VarLoc, 32&gt;</a> VarLocs;</div>
<div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160;    collectAllVarLocs(VarLocs, Pending, VarLocIDs);</div>
<div class="line"><a name="l02108"></a><span class="lineno"> 2108</span>&#160; </div>
<div class="line"><a name="l02109"></a><span class="lineno"> 2109</span>&#160;    <span class="keywordflow">for</span> (VarLoc DiffIt : VarLocs) {</div>
<div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160;      <span class="comment">// The ID location is live-in to MBB -- work out what kind of machine</span></div>
<div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160;      <span class="comment">// location it is and create a DBG_VALUE.</span></div>
<div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160;      <span class="keywordflow">if</span> (DiffIt.isEntryBackupLoc())</div>
<div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02114"></a><span class="lineno"> 2114</span>&#160;      <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a> = DiffIt.BuildDbgValue(*<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a4e21760f681d6f97f95c8414e7b83ea5">getParent</a>());</div>
<div class="line"><a name="l02115"></a><span class="lineno"> 2115</span>&#160;      <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a3435a2381e60e842e915f85c931b7dde">insert</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a172e7bd9150eb0519ef04c796086f93d">instr_begin</a>(), <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l02116"></a><span class="lineno"> 2116</span>&#160; </div>
<div class="line"><a name="l02117"></a><span class="lineno"> 2117</span>&#160;      (void)<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>;</div>
<div class="line"><a name="l02118"></a><span class="lineno"> 2118</span>&#160;      <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Inserted: &quot;</span>; <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;<a class="code" href="classllvm_1_1Pass.html#aa26f1f3bfe5b5022b1bd495151b3757a">dump</a>(););</div>
<div class="line"><a name="l02119"></a><span class="lineno"> 2119</span>&#160;    }</div>
<div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160;  }</div>
<div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160;}</div>
<div class="line"><a name="l02122"></a><span class="lineno"> 2122</span>&#160; </div>
<div class="line"><a name="l02123"></a><span class="lineno"> 2123</span>&#160;<span class="keywordtype">bool</span> VarLocBasedLDV::isEntryValueCandidate(</div>
<div class="line"><a name="l02124"></a><span class="lineno"> 2124</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <span class="keyword">const</span> DefinedRegsSet &amp;DefinedRegs)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l02125"></a><span class="lineno"> 2125</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.isDebugValue() &amp;&amp; <span class="stringliteral">&quot;This must be DBG_VALUE.&quot;</span>);</div>
<div class="line"><a name="l02126"></a><span class="lineno"> 2126</span>&#160; </div>
<div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160;  <span class="comment">// TODO: Add support for local variables that are expressed in terms of</span></div>
<div class="line"><a name="l02128"></a><span class="lineno"> 2128</span>&#160;  <span class="comment">// parameters entry values.</span></div>
<div class="line"><a name="l02129"></a><span class="lineno"> 2129</span>&#160;  <span class="comment">// TODO: Add support for modified arguments that can be expressed</span></div>
<div class="line"><a name="l02130"></a><span class="lineno"> 2130</span>&#160;  <span class="comment">// by using its entry value.</span></div>
<div class="line"><a name="l02131"></a><span class="lineno"> 2131</span>&#160;  <span class="keyword">auto</span> *DIVar = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getDebugVariable();</div>
<div class="line"><a name="l02132"></a><span class="lineno"> 2132</span>&#160;  <span class="keywordflow">if</span> (!DIVar-&gt;isParameter())</div>
<div class="line"><a name="l02133"></a><span class="lineno"> 2133</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02134"></a><span class="lineno"> 2134</span>&#160; </div>
<div class="line"><a name="l02135"></a><span class="lineno"> 2135</span>&#160;  <span class="comment">// Do not consider parameters that belong to an inlined function.</span></div>
<div class="line"><a name="l02136"></a><span class="lineno"> 2136</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getDebugLoc()-&gt;getInlinedAt())</div>
<div class="line"><a name="l02137"></a><span class="lineno"> 2137</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02138"></a><span class="lineno"> 2138</span>&#160; </div>
<div class="line"><a name="l02139"></a><span class="lineno"> 2139</span>&#160;  <span class="comment">// Only consider parameters that are described using registers. Parameters</span></div>
<div class="line"><a name="l02140"></a><span class="lineno"> 2140</span>&#160;  <span class="comment">// that are passed on the stack are not yet supported, so ignore debug</span></div>
<div class="line"><a name="l02141"></a><span class="lineno"> 2141</span>&#160;  <span class="comment">// values that are described by the frame or stack pointer.</span></div>
<div class="line"><a name="l02142"></a><span class="lineno"> 2142</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="VarLocBasedImpl_8cpp.html#a33f3613fb6558bae2f0d2bdd87e18dfa">isRegOtherThanSPAndFP</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getDebugOperand(0), <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>))</div>
<div class="line"><a name="l02143"></a><span class="lineno"> 2143</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02144"></a><span class="lineno"> 2144</span>&#160; </div>
<div class="line"><a name="l02145"></a><span class="lineno"> 2145</span>&#160;  <span class="comment">// If a parameter&#39;s value has been propagated from the caller, then the</span></div>
<div class="line"><a name="l02146"></a><span class="lineno"> 2146</span>&#160;  <span class="comment">// parameter&#39;s DBG_VALUE may be described using a register defined by some</span></div>
<div class="line"><a name="l02147"></a><span class="lineno"> 2147</span>&#160;  <span class="comment">// instruction in the entry block, in which case we shouldn&#39;t create an</span></div>
<div class="line"><a name="l02148"></a><span class="lineno"> 2148</span>&#160;  <span class="comment">// entry value.</span></div>
<div class="line"><a name="l02149"></a><span class="lineno"> 2149</span>&#160;  <span class="keywordflow">if</span> (DefinedRegs.count(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getDebugOperand(0).getReg()))</div>
<div class="line"><a name="l02150"></a><span class="lineno"> 2150</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02151"></a><span class="lineno"> 2151</span>&#160; </div>
<div class="line"><a name="l02152"></a><span class="lineno"> 2152</span>&#160;  <span class="comment">// TODO: Add support for parameters that have a pre-existing debug expressions</span></div>
<div class="line"><a name="l02153"></a><span class="lineno"> 2153</span>&#160;  <span class="comment">// (e.g. fragments).</span></div>
<div class="line"><a name="l02154"></a><span class="lineno"> 2154</span>&#160;  <span class="comment">// A simple deref expression is equivalent to an indirect debug value.</span></div>
<div class="line"><a name="l02155"></a><span class="lineno"> 2155</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1DIExpression.html">DIExpression</a> *Expr = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getDebugExpression();</div>
<div class="line"><a name="l02156"></a><span class="lineno"> 2156</span>&#160;  <span class="keywordflow">if</span> (Expr-&gt;<a class="code" href="classllvm_1_1DIExpression.html#a1b59c8fe81267b338774bf6c542f90ee">getNumElements</a>() &gt; 0 &amp;&amp; !Expr-&gt;<a class="code" href="classllvm_1_1DIExpression.html#a8facdaa3e5cf886085dbc81082bc8d41">isDeref</a>())</div>
<div class="line"><a name="l02157"></a><span class="lineno"> 2157</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02158"></a><span class="lineno"> 2158</span>&#160; </div>
<div class="line"><a name="l02159"></a><span class="lineno"> 2159</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02160"></a><span class="lineno"> 2160</span>&#160;}</div>
<div class="line"><a name="l02161"></a><span class="lineno"> 2161</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l02162"></a><span class="lineno"> 2162</span>&#160;<span class="comment">/// Collect all register defines (including aliases) for the given instruction.</span></div>
<div class="line"><a name="l02163"></a><span class="lineno"><a class="line" href="VarLocBasedImpl_8cpp.html#aef8f01c925c0c7beb94976a8f86a9af1"> 2163</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="VarLocBasedImpl_8cpp.html#aef8f01c925c0c7beb94976a8f86a9af1">collectRegDefs</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, DefinedRegsSet &amp;Regs,</div>
<div class="line"><a name="l02164"></a><span class="lineno"> 2164</span>&#160;                           <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterInfo.html">TargetRegisterInfo</a> *<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>) {</div>
<div class="line"><a name="l02165"></a><span class="lineno"> 2165</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;MO : <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.operands()) {</div>
<div class="line"><a name="l02166"></a><span class="lineno"> 2166</span>&#160;    <span class="keywordflow">if</span> (MO.<a class="code" href="classllvm_1_1MachineOperand.html#a4c9594c955fec80c73ddd964b5efd554">isReg</a>() &amp;&amp; MO.<a class="code" href="classllvm_1_1MachineOperand.html#a75eb135014670ce946e78739cdc9b51b">isDef</a>() &amp;&amp; MO.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>() &amp;&amp; MO.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>().<a class="code" href="classllvm_1_1Register.html#a13bd3dae94013a7bf38afc9391c8fa8f">isPhysical</a>()) {</div>
<div class="line"><a name="l02167"></a><span class="lineno"> 2167</span>&#160;      Regs.insert(MO.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>());</div>
<div class="line"><a name="l02168"></a><span class="lineno"> 2168</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MCRegAliasIterator.html">MCRegAliasIterator</a> AI(MO.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>(), <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>, <span class="keyword">true</span>); AI.<a class="code" href="classllvm_1_1MCRegAliasIterator.html#ac336c049c12ead7be5b86e6d046f8ab0">isValid</a>(); ++AI)</div>
<div class="line"><a name="l02169"></a><span class="lineno"> 2169</span>&#160;        Regs.insert(*AI);</div>
<div class="line"><a name="l02170"></a><span class="lineno"> 2170</span>&#160;    }</div>
<div class="line"><a name="l02171"></a><span class="lineno"> 2171</span>&#160;  }</div>
<div class="line"><a name="l02172"></a><span class="lineno"> 2172</span>&#160;}</div>
<div class="line"><a name="l02173"></a><span class="lineno"> 2173</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l02174"></a><span class="lineno"> 2174</span>&#160;<span class="comment">/// This routine records the entry values of function parameters. The values</span></div>
<div class="line"><a name="l02175"></a><span class="lineno"> 2175</span>&#160;<span class="comment">/// could be used as backup values. If we loose the track of some unmodified</span></div>
<div class="line"><a name="l02176"></a><span class="lineno"> 2176</span>&#160;<span class="comment">/// parameters, the backup values will be used as a primary locations.</span></div>
<div class="line"><a name="l02177"></a><span class="lineno"> 2177</span>&#160;<span class="comment"></span><span class="keywordtype">void</span> VarLocBasedLDV::recordEntryValue(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>,</div>
<div class="line"><a name="l02178"></a><span class="lineno"> 2178</span>&#160;                                       <span class="keyword">const</span> DefinedRegsSet &amp;DefinedRegs,</div>
<div class="line"><a name="l02179"></a><span class="lineno"> 2179</span>&#160;                                       OpenRangesSet &amp;OpenRanges,</div>
<div class="line"><a name="l02180"></a><span class="lineno"> 2180</span>&#160;                                       VarLocMap &amp;VarLocIDs) {</div>
<div class="line"><a name="l02181"></a><span class="lineno"> 2181</span>&#160;  <span class="keywordflow">if</span> (TPC) {</div>
<div class="line"><a name="l02182"></a><span class="lineno"> 2182</span>&#160;    <span class="keyword">auto</span> &amp;<a class="code" href="PassBuilderBindings_8cpp.html#ab76052bb166c65901edb603a3e1f03ab">TM</a> = TPC-&gt;<a class="code" href="classllvm_1_1TargetPassConfig.html#a2ead47220440ce8f11a2496059534654">getTM</a>&lt;<a class="code" href="classllvm_1_1TargetMachine.html">TargetMachine</a>&gt;();</div>
<div class="line"><a name="l02183"></a><span class="lineno"> 2183</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="PassBuilderBindings_8cpp.html#ab76052bb166c65901edb603a3e1f03ab">TM</a>.Options.ShouldEmitDebugEntryValues())</div>
<div class="line"><a name="l02184"></a><span class="lineno"> 2184</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02185"></a><span class="lineno"> 2185</span>&#160;  }</div>
<div class="line"><a name="l02186"></a><span class="lineno"> 2186</span>&#160; </div>
<div class="line"><a name="l02187"></a><span class="lineno"> 2187</span>&#160;  <a class="code" href="classllvm_1_1DebugVariable.html">DebugVariable</a> V(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getDebugVariable(), <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getDebugExpression(),</div>
<div class="line"><a name="l02188"></a><span class="lineno"> 2188</span>&#160;                  <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getDebugLoc()-&gt;getInlinedAt());</div>
<div class="line"><a name="l02189"></a><span class="lineno"> 2189</span>&#160; </div>
<div class="line"><a name="l02190"></a><span class="lineno"> 2190</span>&#160;  <span class="keywordflow">if</span> (!isEntryValueCandidate(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, DefinedRegs) ||</div>
<div class="line"><a name="l02191"></a><span class="lineno"> 2191</span>&#160;      OpenRanges.getEntryValueBackup(V))</div>
<div class="line"><a name="l02192"></a><span class="lineno"> 2192</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02193"></a><span class="lineno"> 2193</span>&#160; </div>
<div class="line"><a name="l02194"></a><span class="lineno"> 2194</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Creating the backup entry location: &quot;</span>; <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.<a class="code" href="classllvm_1_1Pass.html#aa26f1f3bfe5b5022b1bd495151b3757a">dump</a>(););</div>
<div class="line"><a name="l02195"></a><span class="lineno"> 2195</span>&#160; </div>
<div class="line"><a name="l02196"></a><span class="lineno"> 2196</span>&#160;  <span class="comment">// Create the entry value and use it as a backup location until it is</span></div>
<div class="line"><a name="l02197"></a><span class="lineno"> 2197</span>&#160;  <span class="comment">// valid. It is valid until a parameter is not changed.</span></div>
<div class="line"><a name="l02198"></a><span class="lineno"> 2198</span>&#160;  <a class="code" href="classllvm_1_1DIExpression.html">DIExpression</a> *<a class="code" href="classNewExpr.html">NewExpr</a> =</div>
<div class="line"><a name="l02199"></a><span class="lineno"> 2199</span>&#160;      <a class="code" href="classllvm_1_1DIExpression.html#ab804b15bb92ff685d7c1464b2816d608">DIExpression::prepend</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getDebugExpression(), <a class="code" href="classllvm_1_1DIExpression.html#a6472489551b8960cc115a93d95eef9f6a732b32a9387e1f0a0b49cd59b96905ae">DIExpression::EntryValue</a>);</div>
<div class="line"><a name="l02200"></a><span class="lineno"> 2200</span>&#160;  VarLoc EntryValLocAsBackup = VarLoc::CreateEntryBackupLoc(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="classNewExpr.html">NewExpr</a>);</div>
<div class="line"><a name="l02201"></a><span class="lineno"> 2201</span>&#160;  LocIndices EntryValLocIDs = VarLocIDs.insert(EntryValLocAsBackup);</div>
<div class="line"><a name="l02202"></a><span class="lineno"> 2202</span>&#160;  OpenRanges.insert(EntryValLocIDs, EntryValLocAsBackup);</div>
<div class="line"><a name="l02203"></a><span class="lineno"> 2203</span>&#160;}</div>
<div class="line"><a name="l02204"></a><span class="lineno"> 2204</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l02205"></a><span class="lineno"> 2205</span>&#160;<span class="comment">/// Calculate the liveness information for the given machine function and</span></div>
<div class="line"><a name="l02206"></a><span class="lineno"> 2206</span>&#160;<span class="comment">/// extend ranges across basic blocks.</span></div>
<div class="line"><a name="l02207"></a><span class="lineno"> 2207</span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> VarLocBasedLDV::ExtendRanges(<a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF,</div>
<div class="line"><a name="l02208"></a><span class="lineno"> 2208</span>&#160;                                  <a class="code" href="classllvm_1_1MachineDominatorTree.html">MachineDominatorTree</a> *DomTree,</div>
<div class="line"><a name="l02209"></a><span class="lineno"> 2209</span>&#160;                                  <a class="code" href="classllvm_1_1TargetPassConfig.html">TargetPassConfig</a> *TPC, <span class="keywordtype">unsigned</span> <a class="code" href="LiveDebugValues_8cpp.html#a17e0338db8e9291e84b419320b8031b4">InputBBLimit</a>,</div>
<div class="line"><a name="l02210"></a><span class="lineno"> 2210</span>&#160;                                  <span class="keywordtype">unsigned</span> InputDbgValLimit) {</div>
<div class="line"><a name="l02211"></a><span class="lineno"> 2211</span>&#160;  (void)DomTree;</div>
<div class="line"><a name="l02212"></a><span class="lineno"> 2212</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;\nDebug Range Extension: &quot;</span> &lt;&lt; MF.<a class="code" href="classllvm_1_1MachineFunction.html#a3d142c9e7c066059e15232c56dec9e2e">getName</a>() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l02213"></a><span class="lineno"> 2213</span>&#160; </div>
<div class="line"><a name="l02214"></a><span class="lineno"> 2214</span>&#160;  <span class="keywordflow">if</span> (!MF.<a class="code" href="classllvm_1_1MachineFunction.html#a4b21394c138cc5ae719510bb529ee099">getFunction</a>().<a class="code" href="classllvm_1_1Function.html#a4d834f9897d15e3a6349063b5d637cd8">getSubprogram</a>())</div>
<div class="line"><a name="l02215"></a><span class="lineno"> 2215</span>&#160;    <span class="comment">// VarLocBaseLDV will already have removed all DBG_VALUEs.</span></div>
<div class="line"><a name="l02216"></a><span class="lineno"> 2216</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02217"></a><span class="lineno"> 2217</span>&#160; </div>
<div class="line"><a name="l02218"></a><span class="lineno"> 2218</span>&#160;  <span class="comment">// Skip functions from NoDebug compilation units.</span></div>
<div class="line"><a name="l02219"></a><span class="lineno"> 2219</span>&#160;  <span class="keywordflow">if</span> (MF.<a class="code" href="classllvm_1_1MachineFunction.html#a4b21394c138cc5ae719510bb529ee099">getFunction</a>().<a class="code" href="classllvm_1_1Function.html#a4d834f9897d15e3a6349063b5d637cd8">getSubprogram</a>()-&gt;getUnit()-&gt;getEmissionKind() ==</div>
<div class="line"><a name="l02220"></a><span class="lineno"> 2220</span>&#160;      <a class="code" href="classllvm_1_1DICompileUnit.html#abbc2b566b9aa870d5b7131017b7ba66dadb74da0a389a2704e8e01c66ace2913e">DICompileUnit::NoDebug</a>)</div>
<div class="line"><a name="l02221"></a><span class="lineno"> 2221</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02222"></a><span class="lineno"> 2222</span>&#160; </div>
<div class="line"><a name="l02223"></a><span class="lineno"> 2223</span>&#160;  <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a> = MF.<a class="code" href="classllvm_1_1MachineFunction.html#a325f6b611ef9ec06798d3b4eb9572093">getSubtarget</a>().<a class="code" href="classllvm_1_1TargetSubtargetInfo.html#a87849514193302b75f50a8092f94b98a">getRegisterInfo</a>();</div>
<div class="line"><a name="l02224"></a><span class="lineno"> 2224</span>&#160;  <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a> = MF.<a class="code" href="classllvm_1_1MachineFunction.html#a325f6b611ef9ec06798d3b4eb9572093">getSubtarget</a>().<a class="code" href="classllvm_1_1TargetSubtargetInfo.html#ad34f7e3cd7a9add3ab2529e267b48004">getInstrInfo</a>();</div>
<div class="line"><a name="l02225"></a><span class="lineno"> 2225</span>&#160;  TFI = MF.<a class="code" href="classllvm_1_1MachineFunction.html#a325f6b611ef9ec06798d3b4eb9572093">getSubtarget</a>().<a class="code" href="classllvm_1_1TargetSubtargetInfo.html#adbcdb952830bd8c5eeb802ab06dd5bb1">getFrameLowering</a>();</div>
<div class="line"><a name="l02226"></a><span class="lineno"> 2226</span>&#160;  TFI-&gt;<a class="code" href="classllvm_1_1TargetFrameLowering.html#a647fbf2c5d5bb2fe4f4b5b9af7e0ab00">getCalleeSaves</a>(MF, CalleeSavedRegs);</div>
<div class="line"><a name="l02227"></a><span class="lineno"> 2227</span>&#160;  this-&gt;TPC = TPC;</div>
<div class="line"><a name="l02228"></a><span class="lineno"> 2228</span>&#160;  <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28afdd8238d6005774fe2bb9067de76eb8c">LS</a>.initialize(MF);</div>
<div class="line"><a name="l02229"></a><span class="lineno"> 2229</span>&#160; </div>
<div class="line"><a name="l02230"></a><span class="lineno"> 2230</span>&#160;  <span class="keywordtype">bool</span> Changed = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02231"></a><span class="lineno"> 2231</span>&#160;  <span class="keywordtype">bool</span> OLChanged = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02232"></a><span class="lineno"> 2232</span>&#160;  <span class="keywordtype">bool</span> MBBJoined = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02233"></a><span class="lineno"> 2233</span>&#160; </div>
<div class="line"><a name="l02234"></a><span class="lineno"> 2234</span>&#160;  VarLocMap VarLocIDs;         <span class="comment">// Map VarLoc&lt;&gt;unique ID for use in bitvectors.</span></div>
<div class="line"><a name="l02235"></a><span class="lineno"> 2235</span>&#160;  <a class="code" href="classllvm_1_1DenseMap.html">OverlapMap</a> OverlapFragments; <span class="comment">// Map of overlapping variable fragments.</span></div>
<div class="line"><a name="l02236"></a><span class="lineno"> 2236</span>&#160;  OpenRangesSet OpenRanges(Alloc, OverlapFragments);</div>
<div class="line"><a name="l02237"></a><span class="lineno"> 2237</span>&#160;                              <span class="comment">// Ranges that are open until end of bb.</span></div>
<div class="line"><a name="l02238"></a><span class="lineno"> 2238</span>&#160;  VarLocInMBB OutLocs;        <span class="comment">// Ranges that exist beyond bb.</span></div>
<div class="line"><a name="l02239"></a><span class="lineno"> 2239</span>&#160;  VarLocInMBB InLocs;         <span class="comment">// Ranges that are incoming after joining.</span></div>
<div class="line"><a name="l02240"></a><span class="lineno"> 2240</span>&#160;  TransferMap Transfers;      <span class="comment">// DBG_VALUEs associated with transfers (such as</span></div>
<div class="line"><a name="l02241"></a><span class="lineno"> 2241</span>&#160;                              <span class="comment">// spills, copies and restores).</span></div>
<div class="line"><a name="l02242"></a><span class="lineno"> 2242</span>&#160;  <span class="comment">// Map responsible MI to attached Transfer emitted from Backup Entry Value.</span></div>
<div class="line"><a name="l02243"></a><span class="lineno"> 2243</span>&#160;  InstToEntryLocMap EntryValTransfers;</div>
<div class="line"><a name="l02244"></a><span class="lineno"> 2244</span>&#160;  <span class="comment">// Map a Register to the last MI which clobbered it.</span></div>
<div class="line"><a name="l02245"></a><span class="lineno"> 2245</span>&#160;  RegDefToInstMap RegSetInstrs;</div>
<div class="line"><a name="l02246"></a><span class="lineno"> 2246</span>&#160; </div>
<div class="line"><a name="l02247"></a><span class="lineno"> 2247</span>&#160;  VarToFragments SeenFragments;</div>
<div class="line"><a name="l02248"></a><span class="lineno"> 2248</span>&#160; </div>
<div class="line"><a name="l02249"></a><span class="lineno"> 2249</span>&#160;  <span class="comment">// Blocks which are artificial, i.e. blocks which exclusively contain</span></div>
<div class="line"><a name="l02250"></a><span class="lineno"> 2250</span>&#160;  <span class="comment">// instructions without locations, or with line 0 locations.</span></div>
<div class="line"><a name="l02251"></a><span class="lineno"> 2251</span>&#160;  <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;const MachineBasicBlock *, 16&gt;</a> ArtificialBlocks;</div>
<div class="line"><a name="l02252"></a><span class="lineno"> 2252</span>&#160; </div>
<div class="line"><a name="l02253"></a><span class="lineno"> 2253</span>&#160;  <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;unsigned int, MachineBasicBlock *&gt;</a> OrderToBB;</div>
<div class="line"><a name="l02254"></a><span class="lineno"> 2254</span>&#160;  <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;MachineBasicBlock *, unsigned int&gt;</a> BBToOrder;</div>
<div class="line"><a name="l02255"></a><span class="lineno"> 2255</span>&#160;  std::priority_queue&lt;unsigned int, std::vector&lt;unsigned int&gt;,</div>
<div class="line"><a name="l02256"></a><span class="lineno"> 2256</span>&#160;                      std::greater&lt;unsigned int&gt;&gt;</div>
<div class="line"><a name="l02257"></a><span class="lineno"> 2257</span>&#160;      Worklist;</div>
<div class="line"><a name="l02258"></a><span class="lineno"> 2258</span>&#160;  std::priority_queue&lt;unsigned int, std::vector&lt;unsigned int&gt;,</div>
<div class="line"><a name="l02259"></a><span class="lineno"> 2259</span>&#160;                      std::greater&lt;unsigned int&gt;&gt;</div>
<div class="line"><a name="l02260"></a><span class="lineno"> 2260</span>&#160;      Pending;</div>
<div class="line"><a name="l02261"></a><span class="lineno"> 2261</span>&#160; </div>
<div class="line"><a name="l02262"></a><span class="lineno"> 2262</span>&#160;  <span class="comment">// Set of register defines that are seen when traversing the entry block</span></div>
<div class="line"><a name="l02263"></a><span class="lineno"> 2263</span>&#160;  <span class="comment">// looking for debug entry value candidates.</span></div>
<div class="line"><a name="l02264"></a><span class="lineno"> 2264</span>&#160;  DefinedRegsSet DefinedRegs;</div>
<div class="line"><a name="l02265"></a><span class="lineno"> 2265</span>&#160; </div>
<div class="line"><a name="l02266"></a><span class="lineno"> 2266</span>&#160;  <span class="comment">// Only in the case of entry MBB collect DBG_VALUEs representing</span></div>
<div class="line"><a name="l02267"></a><span class="lineno"> 2267</span>&#160;  <span class="comment">// function parameters in order to generate debug entry values for them.</span></div>
<div class="line"><a name="l02268"></a><span class="lineno"> 2268</span>&#160;  <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;First_MBB = *(MF.<a class="code" href="classllvm_1_1MachineFunction.html#ab0789854909cf47f640a85fa2bac29c7">begin</a>());</div>
<div class="line"><a name="l02269"></a><span class="lineno"> 2269</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a> : First_MBB) {</div>
<div class="line"><a name="l02270"></a><span class="lineno"> 2270</span>&#160;    <a class="code" href="VarLocBasedImpl_8cpp.html#aef8f01c925c0c7beb94976a8f86a9af1">collectRegDefs</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, DefinedRegs, <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>);</div>
<div class="line"><a name="l02271"></a><span class="lineno"> 2271</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.isDebugValue())</div>
<div class="line"><a name="l02272"></a><span class="lineno"> 2272</span>&#160;      recordEntryValue(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, DefinedRegs, OpenRanges, VarLocIDs);</div>
<div class="line"><a name="l02273"></a><span class="lineno"> 2273</span>&#160;  }</div>
<div class="line"><a name="l02274"></a><span class="lineno"> 2274</span>&#160; </div>
<div class="line"><a name="l02275"></a><span class="lineno"> 2275</span>&#160;  <span class="comment">// Initialize per-block structures and scan for fragment overlaps.</span></div>
<div class="line"><a name="l02276"></a><span class="lineno"> 2276</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a> : MF)</div>
<div class="line"><a name="l02277"></a><span class="lineno"> 2277</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a> : <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>)</div>
<div class="line"><a name="l02278"></a><span class="lineno"> 2278</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.isDebugValue())</div>
<div class="line"><a name="l02279"></a><span class="lineno"> 2279</span>&#160;        accumulateFragmentMap(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, SeenFragments, OverlapFragments);</div>
<div class="line"><a name="l02280"></a><span class="lineno"> 2280</span>&#160; </div>
<div class="line"><a name="l02281"></a><span class="lineno"> 2281</span>&#160;  <span class="keyword">auto</span> hasNonArtificialLocation = [](<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>) -&gt; <span class="keywordtype">bool</span> {</div>
<div class="line"><a name="l02282"></a><span class="lineno"> 2282</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a> = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getDebugLoc())</div>
<div class="line"><a name="l02283"></a><span class="lineno"> 2283</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>.getLine() != 0;</div>
<div class="line"><a name="l02284"></a><span class="lineno"> 2284</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02285"></a><span class="lineno"> 2285</span>&#160;  };</div>
<div class="line"><a name="l02286"></a><span class="lineno"> 2286</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a> : MF)</div>
<div class="line"><a name="l02287"></a><span class="lineno"> 2287</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a7dc3069afa2ce5ea62ac2eb183e51c00">none_of</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a40bf8f9579717d3f9be7640f1c6d678b">instrs</a>(), hasNonArtificialLocation))</div>
<div class="line"><a name="l02288"></a><span class="lineno"> 2288</span>&#160;      ArtificialBlocks.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">insert</a>(&amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>);</div>
<div class="line"><a name="l02289"></a><span class="lineno"> 2289</span>&#160; </div>
<div class="line"><a name="l02290"></a><span class="lineno"> 2290</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(printVarLocInMBB(MF, OutLocs, VarLocIDs,</div>
<div class="line"><a name="l02291"></a><span class="lineno"> 2291</span>&#160;                              <span class="stringliteral">&quot;OutLocs after initialization&quot;</span>, <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>()));</div>
<div class="line"><a name="l02292"></a><span class="lineno"> 2292</span>&#160; </div>
<div class="line"><a name="l02293"></a><span class="lineno"> 2293</span>&#160;  <a class="code" href="classllvm_1_1ReversePostOrderTraversal.html">ReversePostOrderTraversal&lt;MachineFunction *&gt;</a> RPOT(&amp;MF);</div>
<div class="line"><a name="l02294"></a><span class="lineno"> 2294</span>&#160;  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> RPONumber = 0;</div>
<div class="line"><a name="l02295"></a><span class="lineno"> 2295</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a> : RPOT) {</div>
<div class="line"><a name="l02296"></a><span class="lineno"> 2296</span>&#160;    OrderToBB[RPONumber] = <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>;</div>
<div class="line"><a name="l02297"></a><span class="lineno"> 2297</span>&#160;    BBToOrder[<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>] = RPONumber;</div>
<div class="line"><a name="l02298"></a><span class="lineno"> 2298</span>&#160;    Worklist.push(RPONumber);</div>
<div class="line"><a name="l02299"></a><span class="lineno"> 2299</span>&#160;    ++RPONumber;</div>
<div class="line"><a name="l02300"></a><span class="lineno"> 2300</span>&#160;  }</div>
<div class="line"><a name="l02301"></a><span class="lineno"> 2301</span>&#160; </div>
<div class="line"><a name="l02302"></a><span class="lineno"> 2302</span>&#160;  <span class="keywordflow">if</span> (RPONumber &gt; <a class="code" href="LiveDebugValues_8cpp.html#a17e0338db8e9291e84b419320b8031b4">InputBBLimit</a>) {</div>
<div class="line"><a name="l02303"></a><span class="lineno"> 2303</span>&#160;    <span class="keywordtype">unsigned</span> NumInputDbgValues = 0;</div>
<div class="line"><a name="l02304"></a><span class="lineno"> 2304</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a> : MF)</div>
<div class="line"><a name="l02305"></a><span class="lineno"> 2305</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a> : <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>)</div>
<div class="line"><a name="l02306"></a><span class="lineno"> 2306</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.isDebugValue())</div>
<div class="line"><a name="l02307"></a><span class="lineno"> 2307</span>&#160;          ++NumInputDbgValues;</div>
<div class="line"><a name="l02308"></a><span class="lineno"> 2308</span>&#160;    <span class="keywordflow">if</span> (NumInputDbgValues &gt; InputDbgValLimit) {</div>
<div class="line"><a name="l02309"></a><span class="lineno"> 2309</span>&#160;      <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Disabling VarLocBasedLDV: &quot;</span> &lt;&lt; MF.getName()</div>
<div class="line"><a name="l02310"></a><span class="lineno"> 2310</span>&#160;                        &lt;&lt; <span class="stringliteral">&quot; has &quot;</span> &lt;&lt; RPONumber &lt;&lt; <span class="stringliteral">&quot; basic blocks and &quot;</span></div>
<div class="line"><a name="l02311"></a><span class="lineno"> 2311</span>&#160;                        &lt;&lt; NumInputDbgValues</div>
<div class="line"><a name="l02312"></a><span class="lineno"> 2312</span>&#160;                        &lt;&lt; <span class="stringliteral">&quot; input DBG_VALUEs, exceeding limits.\n&quot;</span>);</div>
<div class="line"><a name="l02313"></a><span class="lineno"> 2313</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02314"></a><span class="lineno"> 2314</span>&#160;    }</div>
<div class="line"><a name="l02315"></a><span class="lineno"> 2315</span>&#160;  }</div>
<div class="line"><a name="l02316"></a><span class="lineno"> 2316</span>&#160; </div>
<div class="line"><a name="l02317"></a><span class="lineno"> 2317</span>&#160;  <span class="comment">// This is a standard &quot;union of predecessor outs&quot; dataflow problem.</span></div>
<div class="line"><a name="l02318"></a><span class="lineno"> 2318</span>&#160;  <span class="comment">// To solve it, we perform join() and process() using the two worklist method</span></div>
<div class="line"><a name="l02319"></a><span class="lineno"> 2319</span>&#160;  <span class="comment">// until the ranges converge.</span></div>
<div class="line"><a name="l02320"></a><span class="lineno"> 2320</span>&#160;  <span class="comment">// Ranges have converged when both worklists are empty.</span></div>
<div class="line"><a name="l02321"></a><span class="lineno"> 2321</span>&#160;  <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;const MachineBasicBlock *, 16&gt;</a> Visited;</div>
<div class="line"><a name="l02322"></a><span class="lineno"> 2322</span>&#160;  <span class="keywordflow">while</span> (!Worklist.empty() || !Pending.empty()) {</div>
<div class="line"><a name="l02323"></a><span class="lineno"> 2323</span>&#160;    <span class="comment">// We track what is on the pending worklist to avoid inserting the same</span></div>
<div class="line"><a name="l02324"></a><span class="lineno"> 2324</span>&#160;    <span class="comment">// thing twice.  We could avoid this with a custom priority queue, but this</span></div>
<div class="line"><a name="l02325"></a><span class="lineno"> 2325</span>&#160;    <span class="comment">// is probably not worth it.</span></div>
<div class="line"><a name="l02326"></a><span class="lineno"> 2326</span>&#160;    <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;MachineBasicBlock *, 16&gt;</a> OnPending;</div>
<div class="line"><a name="l02327"></a><span class="lineno"> 2327</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Processing Worklist\n&quot;</span>);</div>
<div class="line"><a name="l02328"></a><span class="lineno"> 2328</span>&#160;    <span class="keywordflow">while</span> (!Worklist.empty()) {</div>
<div class="line"><a name="l02329"></a><span class="lineno"> 2329</span>&#160;      <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a> = OrderToBB[Worklist.top()];</div>
<div class="line"><a name="l02330"></a><span class="lineno"> 2330</span>&#160;      Worklist.pop();</div>
<div class="line"><a name="l02331"></a><span class="lineno"> 2331</span>&#160;      MBBJoined = join(*<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, OutLocs, InLocs, VarLocIDs, Visited,</div>
<div class="line"><a name="l02332"></a><span class="lineno"> 2332</span>&#160;                       ArtificialBlocks);</div>
<div class="line"><a name="l02333"></a><span class="lineno"> 2333</span>&#160;      MBBJoined |= Visited.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">insert</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>).second;</div>
<div class="line"><a name="l02334"></a><span class="lineno"> 2334</span>&#160;      <span class="keywordflow">if</span> (MBBJoined) {</div>
<div class="line"><a name="l02335"></a><span class="lineno"> 2335</span>&#160;        MBBJoined = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02336"></a><span class="lineno"> 2336</span>&#160;        Changed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02337"></a><span class="lineno"> 2337</span>&#160;        <span class="comment">// Now that we have started to extend ranges across BBs we need to</span></div>
<div class="line"><a name="l02338"></a><span class="lineno"> 2338</span>&#160;        <span class="comment">// examine spill, copy and restore instructions to see whether they</span></div>
<div class="line"><a name="l02339"></a><span class="lineno"> 2339</span>&#160;        <span class="comment">// operate with registers that correspond to user variables.</span></div>
<div class="line"><a name="l02340"></a><span class="lineno"> 2340</span>&#160;        <span class="comment">// First load any pending inlocs.</span></div>
<div class="line"><a name="l02341"></a><span class="lineno"> 2341</span>&#160;        OpenRanges.insertFromLocSet(getVarLocsInMBB(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, InLocs), VarLocIDs);</div>
<div class="line"><a name="l02342"></a><span class="lineno"> 2342</span>&#160;        LastNonDbgMI = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02343"></a><span class="lineno"> 2343</span>&#160;        RegSetInstrs.clear();</div>
<div class="line"><a name="l02344"></a><span class="lineno"> 2344</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a> : *<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>)</div>
<div class="line"><a name="l02345"></a><span class="lineno"> 2345</span>&#160;          process(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, OpenRanges, VarLocIDs, Transfers, EntryValTransfers,</div>
<div class="line"><a name="l02346"></a><span class="lineno"> 2346</span>&#160;                  RegSetInstrs);</div>
<div class="line"><a name="l02347"></a><span class="lineno"> 2347</span>&#160;        OLChanged |= transferTerminator(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, OpenRanges, OutLocs, VarLocIDs);</div>
<div class="line"><a name="l02348"></a><span class="lineno"> 2348</span>&#160; </div>
<div class="line"><a name="l02349"></a><span class="lineno"> 2349</span>&#160;        <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(printVarLocInMBB(MF, OutLocs, VarLocIDs,</div>
<div class="line"><a name="l02350"></a><span class="lineno"> 2350</span>&#160;                                    <span class="stringliteral">&quot;OutLocs after propagating&quot;</span>, <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>()));</div>
<div class="line"><a name="l02351"></a><span class="lineno"> 2351</span>&#160;        <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(printVarLocInMBB(MF, InLocs, VarLocIDs,</div>
<div class="line"><a name="l02352"></a><span class="lineno"> 2352</span>&#160;                                    <span class="stringliteral">&quot;InLocs after propagating&quot;</span>, <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>()));</div>
<div class="line"><a name="l02353"></a><span class="lineno"> 2353</span>&#160; </div>
<div class="line"><a name="l02354"></a><span class="lineno"> 2354</span>&#160;        <span class="keywordflow">if</span> (OLChanged) {</div>
<div class="line"><a name="l02355"></a><span class="lineno"> 2355</span>&#160;          OLChanged = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02356"></a><span class="lineno"> 2356</span>&#160;          <span class="keywordflow">for</span> (<span class="keyword">auto</span> *<a class="code" href="lib_2Target_2README_8txt.html#a5a6a05b7d9e9efb3f7b098c20fa0088a">s</a> : <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#a4d2c96836214c1f13357ffb99125fb4a">successors</a>())</div>
<div class="line"><a name="l02357"></a><span class="lineno"> 2357</span>&#160;            <span class="keywordflow">if</span> (OnPending.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">insert</a>(<a class="code" href="lib_2Target_2README_8txt.html#a5a6a05b7d9e9efb3f7b098c20fa0088a">s</a>).second) {</div>
<div class="line"><a name="l02358"></a><span class="lineno"> 2358</span>&#160;              Pending.push(BBToOrder[<a class="code" href="lib_2Target_2README_8txt.html#a5a6a05b7d9e9efb3f7b098c20fa0088a">s</a>]);</div>
<div class="line"><a name="l02359"></a><span class="lineno"> 2359</span>&#160;            }</div>
<div class="line"><a name="l02360"></a><span class="lineno"> 2360</span>&#160;        }</div>
<div class="line"><a name="l02361"></a><span class="lineno"> 2361</span>&#160;      }</div>
<div class="line"><a name="l02362"></a><span class="lineno"> 2362</span>&#160;    }</div>
<div class="line"><a name="l02363"></a><span class="lineno"> 2363</span>&#160;    Worklist.swap(Pending);</div>
<div class="line"><a name="l02364"></a><span class="lineno"> 2364</span>&#160;    <span class="comment">// At this point, pending must be empty, since it was just the empty</span></div>
<div class="line"><a name="l02365"></a><span class="lineno"> 2365</span>&#160;    <span class="comment">// worklist</span></div>
<div class="line"><a name="l02366"></a><span class="lineno"> 2366</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Pending.empty() &amp;&amp; <span class="stringliteral">&quot;Pending should be empty&quot;</span>);</div>
<div class="line"><a name="l02367"></a><span class="lineno"> 2367</span>&#160;  }</div>
<div class="line"><a name="l02368"></a><span class="lineno"> 2368</span>&#160; </div>
<div class="line"><a name="l02369"></a><span class="lineno"> 2369</span>&#160;  <span class="comment">// Add any DBG_VALUE instructions created by location transfers.</span></div>
<div class="line"><a name="l02370"></a><span class="lineno"> 2370</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;TR : Transfers) {</div>
<div class="line"><a name="l02371"></a><span class="lineno"> 2371</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!TR.TransferInst-&gt;isTerminator() &amp;&amp;</div>
<div class="line"><a name="l02372"></a><span class="lineno"> 2372</span>&#160;           <span class="stringliteral">&quot;Cannot insert DBG_VALUE after terminator&quot;</span>);</div>
<div class="line"><a name="l02373"></a><span class="lineno"> 2373</span>&#160;    <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a> = TR.TransferInst-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#a4e21760f681d6f97f95c8414e7b83ea5">getParent</a>();</div>
<div class="line"><a name="l02374"></a><span class="lineno"> 2374</span>&#160;    <span class="keyword">const</span> VarLoc &amp;VL = VarLocIDs[TR.LocationID];</div>
<div class="line"><a name="l02375"></a><span class="lineno"> 2375</span>&#160;    <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a> = VL.BuildDbgValue(MF);</div>
<div class="line"><a name="l02376"></a><span class="lineno"> 2376</span>&#160;    <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#aec460b7ed48d97ed84ae2466b498763f">insertAfterBundle</a>(TR.TransferInst-&gt;getIterator(), <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l02377"></a><span class="lineno"> 2377</span>&#160;  }</div>
<div class="line"><a name="l02378"></a><span class="lineno"> 2378</span>&#160;  Transfers.clear();</div>
<div class="line"><a name="l02379"></a><span class="lineno"> 2379</span>&#160; </div>
<div class="line"><a name="l02380"></a><span class="lineno"> 2380</span>&#160;  <span class="comment">// Add DBG_VALUEs created using Backup Entry Value location.</span></div>
<div class="line"><a name="l02381"></a><span class="lineno"> 2381</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;TR : EntryValTransfers) {</div>
<div class="line"><a name="l02382"></a><span class="lineno"> 2382</span>&#160;    <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *TRInst = <span class="keyword">const_cast&lt;</span><a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<span class="keyword">&gt;</span>(TR.first);</div>
<div class="line"><a name="l02383"></a><span class="lineno"> 2383</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!TRInst-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a0e85c20fe804527f12c86db38ec947ea">isTerminator</a>() &amp;&amp;</div>
<div class="line"><a name="l02384"></a><span class="lineno"> 2384</span>&#160;           <span class="stringliteral">&quot;Cannot insert DBG_VALUE after terminator&quot;</span>);</div>
<div class="line"><a name="l02385"></a><span class="lineno"> 2385</span>&#160;    <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a> = TRInst-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a002fd916e7206e01d512eeb06d405cf0">getParent</a>();</div>
<div class="line"><a name="l02386"></a><span class="lineno"> 2386</span>&#160;    <span class="keyword">const</span> VarLoc &amp;VL = VarLocIDs[TR.second];</div>
<div class="line"><a name="l02387"></a><span class="lineno"> 2387</span>&#160;    <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a> = VL.BuildDbgValue(MF);</div>
<div class="line"><a name="l02388"></a><span class="lineno"> 2388</span>&#160;    <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#aec460b7ed48d97ed84ae2466b498763f">insertAfterBundle</a>(TRInst-&gt;<a class="code" href="classllvm_1_1ilist__node__impl.html#af719fc783be6589465137d997701a432">getIterator</a>(), <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l02389"></a><span class="lineno"> 2389</span>&#160;  }</div>
<div class="line"><a name="l02390"></a><span class="lineno"> 2390</span>&#160;  EntryValTransfers.clear();</div>
<div class="line"><a name="l02391"></a><span class="lineno"> 2391</span>&#160; </div>
<div class="line"><a name="l02392"></a><span class="lineno"> 2392</span>&#160;  <span class="comment">// Deferred inlocs will not have had any DBG_VALUE insts created; do</span></div>
<div class="line"><a name="l02393"></a><span class="lineno"> 2393</span>&#160;  <span class="comment">// that now.</span></div>
<div class="line"><a name="l02394"></a><span class="lineno"> 2394</span>&#160;  flushPendingLocs(InLocs, VarLocIDs);</div>
<div class="line"><a name="l02395"></a><span class="lineno"> 2395</span>&#160; </div>
<div class="line"><a name="l02396"></a><span class="lineno"> 2396</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(printVarLocInMBB(MF, OutLocs, VarLocIDs, <span class="stringliteral">&quot;Final OutLocs&quot;</span>, <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>()));</div>
<div class="line"><a name="l02397"></a><span class="lineno"> 2397</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(printVarLocInMBB(MF, InLocs, VarLocIDs, <span class="stringliteral">&quot;Final InLocs&quot;</span>, <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>()));</div>
<div class="line"><a name="l02398"></a><span class="lineno"> 2398</span>&#160;  <span class="keywordflow">return</span> Changed;</div>
<div class="line"><a name="l02399"></a><span class="lineno"> 2399</span>&#160;}</div>
<div class="line"><a name="l02400"></a><span class="lineno"> 2400</span>&#160; </div>
<div class="line"><a name="l02401"></a><span class="lineno"> 2401</span>&#160;<a class="code" href="classllvm_1_1SharedLiveDebugValues_1_1LDVImpl.html">LDVImpl</a> *</div>
<div class="line"><a name="l02402"></a><span class="lineno"><a class="line" href="namespacellvm.html#a973dd94f5caf94978aab68dc386b0c24"> 2402</a></span>&#160;<a class="code" href="namespacellvm.html#a973dd94f5caf94978aab68dc386b0c24">llvm::makeVarLocBasedLiveDebugValues</a>()</div>
<div class="line"><a name="l02403"></a><span class="lineno"> 2403</span>&#160;{</div>
<div class="line"><a name="l02404"></a><span class="lineno"> 2404</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">new</span> VarLocBasedLDV();</div>
<div class="line"><a name="l02405"></a><span class="lineno"> 2405</span>&#160;}</div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="aclassllvm_1_1DIExpression_html_ab804b15bb92ff685d7c1464b2816d608"><div class="ttname"><a href="classllvm_1_1DIExpression.html#ab804b15bb92ff685d7c1464b2816d608">llvm::DIExpression::prepend</a></div><div class="ttdeci">static DIExpression * prepend(const DIExpression *Expr, uint8_t Flags, int64_t Offset=0)</div><div class="ttdoc">Prepend DIExpr with a deref and offset operation and optionally turn it into a stack value or/and an ...</div><div class="ttdef"><b>Definition:</b> <a href="DebugInfoMetadata_8cpp_source.html#l01635">DebugInfoMetadata.cpp:1635</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetFrameLowering_html_a647fbf2c5d5bb2fe4f4b5b9af7e0ab00"><div class="ttname"><a href="classllvm_1_1TargetFrameLowering.html#a647fbf2c5d5bb2fe4f4b5b9af7e0ab00">llvm::TargetFrameLowering::getCalleeSaves</a></div><div class="ttdeci">virtual void getCalleeSaves(const MachineFunction &amp;MF, BitVector &amp;SavedRegs) const</div><div class="ttdoc">Returns the callee-saved registers as computed by determineCalleeSaves in the BitVector SavedRegs.</div><div class="ttdef"><b>Definition:</b> <a href="TargetFrameLoweringImpl_8cpp_source.html#l00069">TargetFrameLoweringImpl.cpp:69</a></div></div>
<div class="ttc" id="anamespacellvm_html_add1eb5637dd671428b6f138ed3db6428"><div class="ttname"><a href="namespacellvm.html#add1eb5637dd671428b6f138ed3db6428">llvm::array_pod_sort</a></div><div class="ttdeci">void array_pod_sort(IteratorTy Start, IteratorTy End)</div><div class="ttdoc">array_pod_sort - This sorts an array with the specified start and end extent.</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l01643">STLExtras.h:1643</a></div></div>
<div class="ttc" id="aclassllvm_1_1CoalescingBitVector_html"><div class="ttname"><a href="classllvm_1_1CoalescingBitVector.html">llvm::CoalescingBitVector</a></div><div class="ttdoc">A bitvector that, under the hood, relies on an IntervalMap to coalesce elements into intervals.</div><div class="ttdef"><b>Definition:</b> <a href="CoalescingBitVector_8h_source.html#l00038">CoalescingBitVector.h:38</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLoweringBase_html_a5de0162fac7c57cab62e5bb81f0b5542"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase.html#a5de0162fac7c57cab62e5bb81f0b5542">llvm::TargetLoweringBase::getStackPointerRegisterToSaveRestore</a></div><div class="ttdeci">Register getStackPointerRegisterToSaveRestore() const</div><div class="ttdoc">If a physical register, this specifies the register that llvm.savestack/llvm.restorestack should save...</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l01827">TargetLowering.h:1827</a></div></div>
<div class="ttc" id="aProvenanceAnalysisEvaluator_8cpp_html_a2ee79648e8bce3ddbb26358ff10e3e82"><div class="ttname"><a href="ProvenanceAnalysisEvaluator_8cpp.html#a2ee79648e8bce3ddbb26358ff10e3e82">getName</a></div><div class="ttdeci">static StringRef getName(Value *V)</div><div class="ttdef"><b>Definition:</b> <a href="ProvenanceAnalysisEvaluator_8cpp_source.html#l00020">ProvenanceAnalysisEvaluator.cpp:20</a></div></div>
<div class="ttc" id="aIRTranslator_8cpp_html_abe44dfdea65b4f7e11e0a608ab708b76"><div class="ttname"><a href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a></div><div class="ttdeci">IRTranslator LLVM IR MI</div><div class="ttdef"><b>Definition:</b> <a href="IRTranslator_8cpp_source.html#l00109">IRTranslator.cpp:109</a></div></div>
<div class="ttc" id="aMachineInstr_8h_html"><div class="ttname"><a href="MachineInstr_8h.html">MachineInstr.h</a></div></div>
<div class="ttc" id="anamespacellvm_html"><div class="ttname"><a href="namespacellvm.html">llvm</a></div><div class="ttdoc">This is an optimization pass for GlobalISel generic memory operations.</div><div class="ttdef"><b>Definition:</b> <a href="AddressRanges_8h_source.html#l00018">AddressRanges.h:18</a></div></div>
<div class="ttc" id="anamespacellvm_html_a7dc3069afa2ce5ea62ac2eb183e51c00"><div class="ttname"><a href="namespacellvm.html#a7dc3069afa2ce5ea62ac2eb183e51c00">llvm::none_of</a></div><div class="ttdeci">bool none_of(R &amp;&amp;Range, UnaryPredicate P)</div><div class="ttdoc">Provide wrappers to std::none_of which take ranges instead of having to pass begin/end explicitly.</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l01749">STLExtras.h:1749</a></div></div>
<div class="ttc" id="anamespacellvm_html_ad1a91b49e0c092818a0b82f6cc130a1b"><div class="ttname"><a href="namespacellvm.html#ad1a91b49e0c092818a0b82f6cc130a1b">llvm::make_range</a></div><div class="ttdeci">iterator_range&lt; T &gt; make_range(T x, T y)</div><div class="ttdoc">Convenience function for iterating over sub-ranges.</div><div class="ttdef"><b>Definition:</b> <a href="iterator__range_8h_source.html#l00053">iterator_range.h:53</a></div></div>
<div class="ttc" id="aTargetFrameLowering_8h_html"><div class="ttname"><a href="TargetFrameLowering_8h.html">TargetFrameLowering.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_af2c351dad09a71aa08e1d85c67ae6e53"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#af2c351dad09a71aa08e1d85c67ae6e53">llvm::MachineOperand::CreateReg</a></div><div class="ttdeci">static MachineOperand CreateReg(Register Reg, bool isDef, bool isImp=false, bool isKill=false, bool isDead=false, bool isUndef=false, bool isEarlyClobber=false, unsigned SubReg=0, bool isDebug=false, bool isInternalRead=false, bool isRenamable=false)</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00833">MachineOperand.h:833</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetFrameLowering_html"><div class="ttname"><a href="classllvm_1_1TargetFrameLowering.html">llvm::TargetFrameLowering</a></div><div class="ttdoc">Information about stack frame layout on the target.</div><div class="ttdef"><b>Definition:</b> <a href="TargetFrameLowering_8h_source.html#l00043">TargetFrameLowering.h:43</a></div></div>
<div class="ttc" id="aclassllvm_1_1SharedLiveDebugValues_1_1LDVImpl_html"><div class="ttname"><a href="classllvm_1_1SharedLiveDebugValues_1_1LDVImpl.html">llvm::SharedLiveDebugValues::LDVImpl</a></div><div class="ttdef"><b>Definition:</b> <a href="LiveDebugValues_8h_source.html#l00025">LiveDebugValues.h:25</a></div></div>
<div class="ttc" id="aDebugInfoMetadata_8h_html"><div class="ttname"><a href="DebugInfoMetadata_8h.html">DebugInfoMetadata.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetSubtargetInfo_html_ad34f7e3cd7a9add3ab2529e267b48004"><div class="ttname"><a href="classllvm_1_1TargetSubtargetInfo.html#ad34f7e3cd7a9add3ab2529e267b48004">llvm::TargetSubtargetInfo::getInstrInfo</a></div><div class="ttdeci">virtual const TargetInstrInfo * getInstrInfo() const</div><div class="ttdef"><b>Definition:</b> <a href="TargetSubtargetInfo_8h_source.html#l00095">TargetSubtargetInfo.h:95</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_a40bf8f9579717d3f9be7640f1c6d678b"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#a40bf8f9579717d3f9be7640f1c6d678b">llvm::MachineBasicBlock::instrs</a></div><div class="ttdeci">instr_range instrs()</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00304">MachineBasicBlock.h:304</a></div></div>
<div class="ttc" id="aTypeSize_8h_html"><div class="ttname"><a href="TypeSize_8h.html">TypeSize.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVector_html"><div class="ttname"><a href="classllvm_1_1SmallVector.html">llvm::SmallVector</a></div><div class="ttdoc">This is a 'vector' (really, a variable-sized array), optimized for the case when the array is small.</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l01199">SmallVector.h:1199</a></div></div>
<div class="ttc" id="aStatistic_8h_html"><div class="ttname"><a href="Statistic_8h.html">Statistic.h</a></div></div>
<div class="ttc" id="aCoalescingBitVector_8h_html"><div class="ttname"><a href="CoalescingBitVector_8h.html">CoalescingBitVector.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_aec460b7ed48d97ed84ae2466b498763f"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#aec460b7ed48d97ed84ae2466b498763f">llvm::MachineBasicBlock::insertAfterBundle</a></div><div class="ttdeci">instr_iterator insertAfterBundle(instr_iterator I, MachineInstr *MI)</div><div class="ttdoc">If I is bundled then insert MI into the instruction list after the end of the bundle,...</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00968">MachineBasicBlock.h:968</a></div></div>
<div class="ttc" id="aclassllvm_1_1Function_html_a4d834f9897d15e3a6349063b5d637cd8"><div class="ttname"><a href="classllvm_1_1Function.html#a4d834f9897d15e3a6349063b5d637cd8">llvm::Function::getSubprogram</a></div><div class="ttdeci">DISubprogram * getSubprogram() const</div><div class="ttdoc">Get the attached subprogram.</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8cpp_source.html#l01625">Metadata.cpp:1625</a></div></div>
<div class="ttc" id="anamespacellvm_1_1X86Disassembler_html_a1e59b79e1d09149912cad9c0ef2809ad"><div class="ttname"><a href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">llvm::X86Disassembler::Reg</a></div><div class="ttdeci">Reg</div><div class="ttdoc">All possible values of the reg field in the ModR/M byte.</div><div class="ttdef"><b>Definition:</b> <a href="X86DisassemblerDecoder_8h_source.html#l00462">X86DisassemblerDecoder.h:462</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallDenseMap_html"><div class="ttname"><a href="classllvm_1_1SmallDenseMap.html">llvm::SmallDenseMap</a></div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00880">DenseMap.h:880</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetRegisterInfo_html_af2460aaecee28b4a96ea41286e8aa406"><div class="ttname"><a href="classllvm_1_1TargetRegisterInfo.html#af2460aaecee28b4a96ea41286e8aa406">llvm::TargetRegisterInfo::getOffsetOpcodes</a></div><div class="ttdeci">virtual void getOffsetOpcodes(const StackOffset &amp;Offset, SmallVectorImpl&lt; uint64_t &gt; &amp;Ops) const</div><div class="ttdoc">Gets the DWARF expression opcodes for Offset.</div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8cpp_source.html#l00647">TargetRegisterInfo.cpp:647</a></div></div>
<div class="ttc" id="aMachineBasicBlock_8h_html"><div class="ttname"><a href="MachineBasicBlock_8h.html">MachineBasicBlock.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetSubtargetInfo_html_a87849514193302b75f50a8092f94b98a"><div class="ttname"><a href="classllvm_1_1TargetSubtargetInfo.html#a87849514193302b75f50a8092f94b98a">llvm::TargetSubtargetInfo::getRegisterInfo</a></div><div class="ttdeci">virtual const TargetRegisterInfo * getRegisterInfo() const</div><div class="ttdoc">getRegisterInfo - If register information is available, return it.</div><div class="ttdef"><b>Definition:</b> <a href="TargetSubtargetInfo_8h_source.html#l00127">TargetSubtargetInfo.h:127</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMapBase_html_a1eb8504bab5f794778d82db6ac829923"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#a1eb8504bab5f794778d82db6ac829923">llvm::DenseMapBase&lt; SmallDenseMap&lt; KeyT, ValueT, 4, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;, KeyT, ValueT, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;::erase</a></div><div class="ttdeci">bool erase(const KeyT &amp;Val)</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00302">DenseMap.h:302</a></div></div>
<div class="ttc" id="aclassNewExpr_html"><div class="ttname"><a href="classNewExpr.html">NewExpr</a></div><div class="ttdef"><b>Definition:</b> <a href="ItaniumDemangle_8h_source.html#l01935">ItaniumDemangle.h:1935</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetRegisterInfo_html"><div class="ttname"><a href="classllvm_1_1TargetRegisterInfo.html">llvm::TargetRegisterInfo</a></div><div class="ttdoc">TargetRegisterInfo base class - We assume that the target defines a static array of TargetRegisterDes...</div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8h_source.html#l00236">TargetRegisterInfo.h:236</a></div></div>
<div class="ttc" id="aclassllvm_1_1DILocation_html"><div class="ttname"><a href="classllvm_1_1DILocation.html">llvm::DILocation</a></div><div class="ttdoc">Debug location.</div><div class="ttdef"><b>Definition:</b> <a href="DebugInfoMetadata_8h_source.html#l01605">DebugInfoMetadata.h:1605</a></div></div>
<div class="ttc" id="aDenseMap_8h_html"><div class="ttname"><a href="DenseMap_8h.html">DenseMap.h</a></div></div>
<div class="ttc" id="aTargetInstrInfo_8h_html"><div class="ttname"><a href="TargetInstrInfo_8h.html">TargetInstrInfo.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1sys_1_1path_html_a214ec2f04ffd92636ed4bd2717607a1d"><div class="ttname"><a href="namespacellvm_1_1sys_1_1path.html#a214ec2f04ffd92636ed4bd2717607a1d">llvm::sys::path::end</a></div><div class="ttdeci">const_iterator end(StringRef path)</div><div class="ttdoc">Get end iterator over path.</div><div class="ttdef"><b>Definition:</b> <a href="Path_8cpp_source.html#l00235">Path.cpp:235</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallSet_html"><div class="ttname"><a href="classllvm_1_1SmallSet.html">llvm::SmallSet</a></div><div class="ttdoc">SmallSet - This maintains a set of unique values, optimizing for the case when the set is small (less...</div><div class="ttdef"><b>Definition:</b> <a href="SmallSet_8h_source.html#l00135">SmallSet.h:135</a></div></div>
<div class="ttc" id="anamespacellvm_1_1objcopy_html_a88eeb89876019c1a9f2540275fb96457a0b5ca9d0c6dbcbb3e299361cd4e4a79c"><div class="ttname"><a href="namespacellvm_1_1objcopy.html#a88eeb89876019c1a9f2540275fb96457a0b5ca9d0c6dbcbb3e299361cd4e4a79c">llvm::objcopy::SymbolFlag::Indirect</a></div><div class="ttdeci">@ Indirect</div></div>
<div class="ttc" id="anamespacellvm_1_1logicalview_html_a8d4dd8d1ec9d9328d03bb2b99aa74744aeebd338ddbd547e41e4a1296de82963a"><div class="ttname"><a href="namespacellvm_1_1logicalview.html#a8d4dd8d1ec9d9328d03bb2b99aa74744aeebd338ddbd547e41e4a1296de82963a">llvm::logicalview::LVWarningKind::Locations</a></div><div class="ttdeci">@ Locations</div></div>
<div class="ttc" id="anamespacellvm_html_a2f883c895f4d244f4ed56ed8a8c160c1"><div class="ttname"><a href="namespacellvm.html#a2f883c895f4d244f4ed56ed8a8c160c1">llvm::operator!=</a></div><div class="ttdeci">bool operator!=(uint64_t V1, const APInt &amp;V2)</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l02040">APInt.h:2040</a></div></div>
<div class="ttc" id="aclassllvm_1_1DILocalVariable_html_a45c267092569766aa684c6ba3bae9634"><div class="ttname"><a href="classllvm_1_1DILocalVariable.html#a45c267092569766aa684c6ba3bae9634">llvm::DILocalVariable::isParameter</a></div><div class="ttdeci">bool isParameter() const</div><div class="ttdef"><b>Definition:</b> <a href="DebugInfoMetadata_8h_source.html#l03232">DebugInfoMetadata.h:3232</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallPtrSet_html"><div class="ttname"><a href="classllvm_1_1SmallPtrSet.html">llvm::SmallPtrSet</a></div><div class="ttdoc">SmallPtrSet - This class implements a set which is optimized for holding SmallSize or less elements.</div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00450">SmallPtrSet.h:450</a></div></div>
<div class="ttc" id="anamespacellvm_html_a03503773241005f01b090b9862aad304"><div class="ttname"><a href="namespacellvm.html#a03503773241005f01b090b9862aad304">llvm::dump</a></div><div class="ttdeci">void dump(const SparseBitVector&lt; ElementSize &gt; &amp;LHS, raw_ostream &amp;out)</div><div class="ttdef"><b>Definition:</b> <a href="SparseBitVector_8h_source.html#l00877">SparseBitVector.h:877</a></div></div>
<div class="ttc" id="aclassllvm_1_1DIExpression_html"><div class="ttname"><a href="classllvm_1_1DIExpression.html">llvm::DIExpression</a></div><div class="ttdoc">DWARF expression.</div><div class="ttdef"><b>Definition:</b> <a href="DebugInfoMetadata_8h_source.html#l02611">DebugInfoMetadata.h:2611</a></div></div>
<div class="ttc" id="aMachineSink_8cpp_html_a0f36ed1bc17fc1aa97fe291c439a0698"><div class="ttname"><a href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a></div><div class="ttdeci">unsigned const TargetRegisterInfo * TRI</div><div class="ttdef"><b>Definition:</b> <a href="MachineSink_8cpp_source.html#l01628">MachineSink.cpp:1628</a></div></div>
<div class="ttc" id="alib_2Target_2ARM_2README_8txt_html_a38e79c83dad9b9a5f38c9693371a8709"><div class="ttname"><a href="lib_2Target_2ARM_2README_8txt.html#a38e79c83dad9b9a5f38c9693371a8709">p</a></div><div class="ttdeci">the resulting code requires compare and branches when and if * p</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2ARM_2README_8txt_source.html#l00396">README.txt:396</a></div></div>
<div class="ttc" id="aVarLocBasedImpl_8cpp_html_aef8f01c925c0c7beb94976a8f86a9af1"><div class="ttname"><a href="VarLocBasedImpl_8cpp.html#aef8f01c925c0c7beb94976a8f86a9af1">collectRegDefs</a></div><div class="ttdeci">static void collectRegDefs(const MachineInstr &amp;MI, DefinedRegsSet &amp;Regs, const TargetRegisterInfo *TRI)</div><div class="ttdoc">Collect all register defines (including aliases) for the given instruction.</div><div class="ttdef"><b>Definition:</b> <a href="VarLocBasedImpl_8cpp_source.html#l02163">VarLocBasedImpl.cpp:2163</a></div></div>
<div class="ttc" id="aDebug_8h_html_a08efc68d15935eb8889400a46c3749ba"><div class="ttname"><a href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a></div><div class="ttdeci">#define LLVM_DEBUG(X)</div><div class="ttdef"><b>Definition:</b> <a href="Debug_8h_source.html#l00101">Debug.h:101</a></div></div>
<div class="ttc" id="anamespacellvm_html_a7c46c742c31be54870e2038048e6b391"><div class="ttname"><a href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">llvm::dbgs</a></div><div class="ttdeci">raw_ostream &amp; dbgs()</div><div class="ttdoc">dbgs() - This returns a reference to a raw_ostream for debugging messages.</div><div class="ttdef"><b>Definition:</b> <a href="Debug_8cpp_source.html#l00163">Debug.cpp:163</a></div></div>
<div class="ttc" id="aCoroutines_8cpp_html_ac781ce96aa25ba7f6fd38f72de665450"><div class="ttname"><a href="Coroutines_8cpp.html#ac781ce96aa25ba7f6fd38f72de665450">clear</a></div><div class="ttdeci">static void clear(coro::Shape &amp;Shape)</div><div class="ttdef"><b>Definition:</b> <a href="Coroutines_8cpp_source.html#l00149">Coroutines.cpp:149</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_a4046212ebc647b17e811837ae4ea3afd"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a4046212ebc647b17e811837ae4ea3afd">llvm::MachineOperand::isKill</a></div><div class="ttdeci">bool isKill() const</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00399">MachineOperand.h:399</a></div></div>
<div class="ttc" id="aclassllvm_1_1Register_html_a13bd3dae94013a7bf38afc9391c8fa8f"><div class="ttname"><a href="classllvm_1_1Register.html#a13bd3dae94013a7bf38afc9391c8fa8f">llvm::Register::isPhysical</a></div><div class="ttdeci">bool isPhysical() const</div><div class="ttdoc">Return true if the specified register number is in the physical register namespace.</div><div class="ttdef"><b>Definition:</b> <a href="Register_8h_source.html#l00097">Register.h:97</a></div></div>
<div class="ttc" id="aTargetLowering_8h_html"><div class="ttname"><a href="TargetLowering_8h.html">TargetLowering.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantInt_html"><div class="ttname"><a href="classllvm_1_1ConstantInt.html">llvm::ConstantInt</a></div><div class="ttdoc">This is the shared class of boolean and integer constants.</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8h_source.html#l00078">Constants.h:78</a></div></div>
<div class="ttc" id="anamespacellvm_html_a0d10fe510ced2849a8074fe81e5d04ce"><div class="ttname"><a href="namespacellvm.html#a0d10fe510ced2849a8074fe81e5d04ce">llvm::all_of</a></div><div class="ttdeci">bool all_of(R &amp;&amp;range, UnaryPredicate P)</div><div class="ttdoc">Provide wrappers to std::all_of which take ranges instead of having to pass begin/end explicitly.</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l01735">STLExtras.h:1735</a></div></div>
<div class="ttc" id="aclassllvm_1_1DIExpression_html_a5f48305fa7d23161515c94bca7c2beb6"><div class="ttname"><a href="classllvm_1_1DIExpression.html#a5f48305fa7d23161515c94bca7c2beb6">llvm::DIExpression::appendOpsToArg</a></div><div class="ttdeci">static DIExpression * appendOpsToArg(const DIExpression *Expr, ArrayRef&lt; uint64_t &gt; Ops, unsigned ArgNo, bool StackValue=false)</div><div class="ttdoc">Create a copy of Expr by appending the given list of Ops to each instance of the operand DW_OP_LLVM_a...</div><div class="ttdef"><b>Definition:</b> <a href="DebugInfoMetadata_8cpp_source.html#l01651">DebugInfoMetadata.cpp:1651</a></div></div>
<div class="ttc" id="aclassllvm_1_1PseudoSourceValue_html_ab1969256cc373d72874932779a45b46c"><div class="ttname"><a href="classllvm_1_1PseudoSourceValue.html#ab1969256cc373d72874932779a45b46c">llvm::PseudoSourceValue::kind</a></div><div class="ttdeci">unsigned kind() const</div><div class="ttdef"><b>Definition:</b> <a href="PseudoSourceValue_8h_source.html#l00066">PseudoSourceValue.h:66</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetInstrInfo_html"><div class="ttname"><a href="classllvm_1_1TargetInstrInfo.html">llvm::TargetInstrInfo</a></div><div class="ttdoc">TargetInstrInfo - Interface to description of machine instruction set.</div><div class="ttdef"><b>Definition:</b> <a href="TargetInstrInfo_8h_source.html#l00098">TargetInstrInfo.h:98</a></div></div>
<div class="ttc" id="aTarget_2TargetMachine_8h_html"><div class="ttname"><a href="Target_2TargetMachine_8h.html">TargetMachine.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1msgpack_html_afdae9da66bac09f4b2bfc0fd9f0559e6a46f3ea056caa3126b91f3f70beea068c"><div class="ttname"><a href="namespacellvm_1_1msgpack.html#afdae9da66bac09f4b2bfc0fd9f0559e6a46f3ea056caa3126b91f3f70beea068c">llvm::msgpack::Type::Map</a></div><div class="ttdeci">@ Map</div></div>
<div class="ttc" id="aclassllvm_1_1DILocalVariable_html"><div class="ttname"><a href="classllvm_1_1DILocalVariable.html">llvm::DILocalVariable</a></div><div class="ttdoc">Local variable.</div><div class="ttdef"><b>Definition:</b> <a href="DebugInfoMetadata_8h_source.html#l03170">DebugInfoMetadata.h:3170</a></div></div>
<div class="ttc" id="aBuiltinGCs_8cpp_html_a6742d2e0a668baf1196ec69e158d5f15"><div class="ttname"><a href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a></div><div class="ttdeci">static GCRegistry::Add&lt; CoreCLRGC &gt; E(&quot;coreclr&quot;, &quot;CoreCLR-compatible GC&quot;)</div></div>
<div class="ttc" id="aclassllvm_1_1DIExpression_html_a6472489551b8960cc115a93d95eef9f6a4ce0a0358c0de36a6ea4413d7abcbca8"><div class="ttname"><a href="classllvm_1_1DIExpression.html#a6472489551b8960cc115a93d95eef9f6a4ce0a0358c0de36a6ea4413d7abcbca8">llvm::DIExpression::ApplyOffset</a></div><div class="ttdeci">@ ApplyOffset</div><div class="ttdef"><b>Definition:</b> <a href="DebugInfoMetadata_8h_source.html#l02875">DebugInfoMetadata.h:2875</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_a69544ec8658eadeed98245dc37c3a541"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a69544ec8658eadeed98245dc37c3a541">llvm::MachineOperand::isUse</a></div><div class="ttdeci">bool isUse() const</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00379">MachineOperand.h:379</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLowering_html"><div class="ttname"><a href="classllvm_1_1TargetLowering.html">llvm::TargetLowering</a></div><div class="ttdoc">This class defines information used to lower LLVM code to legal SelectionDAG operators that the targe...</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l03515">TargetLowering.h:3515</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_a241be1469eeaecff6550f375c7ce9846"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a241be1469eeaecff6550f375c7ce9846">llvm::MachineOperand::getRegMask</a></div><div class="ttdeci">const uint32_t * getRegMask() const</div><div class="ttdoc">getRegMask - Returns a bit mask of registers preserved by this RegMask operand.</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00659">MachineOperand.h:659</a></div></div>
<div class="ttc" id="aclassllvm_1_1DebugVariable_html_acdbb430c0790f598aff0f9c79ea2d4c4"><div class="ttname"><a href="classllvm_1_1DebugVariable.html#acdbb430c0790f598aff0f9c79ea2d4c4">llvm::DebugVariable::getFragmentOrDefault</a></div><div class="ttdeci">FragmentInfo getFragmentOrDefault() const</div><div class="ttdef"><b>Definition:</b> <a href="DebugInfoMetadata_8h_source.html#l03762">DebugInfoMetadata.h:3762</a></div></div>
<div class="ttc" id="aPseudoSourceValue_8h_html"><div class="ttname"><a href="PseudoSourceValue_8h.html">PseudoSourceValue.h</a></div></div>
<div class="ttc" id="aHexagonCopyToCombine_8cpp_html_a1d40004718218dbdf06b496766299101"><div class="ttname"><a href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a></div><div class="ttdeci">const HexagonInstrInfo * TII</div><div class="ttdef"><b>Definition:</b> <a href="HexagonCopyToCombine_8cpp_source.html#l00125">HexagonCopyToCombine.cpp:125</a></div></div>
<div class="ttc" id="anamespacellvm_1_1dwarf_html_a5d3c920b66ea797d6adb243862fdf47a"><div class="ttname"><a href="namespacellvm_1_1dwarf.html#a5d3c920b66ea797d6adb243862fdf47a">llvm::dwarf::Index</a></div><div class="ttdeci">Index</div><div class="ttdef"><b>Definition:</b> <a href="Dwarf_8h_source.html#l00550">Dwarf.h:550</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html"><div class="ttname"><a href="classllvm_1_1MachineOperand.html">llvm::MachineOperand</a></div><div class="ttdoc">MachineOperand class - Representation of each machine instruction operand.</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00048">MachineOperand.h:48</a></div></div>
<div class="ttc" id="aclassllvm_1_1Metadata_html_a91c7b9c7cf6694f41b9030429b582d26"><div class="ttname"><a href="classllvm_1_1Metadata.html#a91c7b9c7cf6694f41b9030429b582d26">llvm::Metadata::getMetadataID</a></div><div class="ttdeci">unsigned getMetadataID() const</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l00101">Metadata.h:101</a></div></div>
<div class="ttc" id="aLexicalScopes_8h_html"><div class="ttname"><a href="LexicalScopes_8h.html">LexicalScopes.h</a></div></div>
<div class="ttc" id="anamespacellvm_html_a0bf75467957937ad23ad7be19f489934"><div class="ttname"><a href="namespacellvm.html#a0bf75467957937ad23ad7be19f489934">llvm::STATISTIC</a></div><div class="ttdeci">STATISTIC(NumFunctions, &quot;Total number of functions&quot;)</div></div>
<div class="ttc" id="aclassllvm_1_1raw__ostream_html"><div class="ttname"><a href="classllvm_1_1raw__ostream.html">llvm::raw_ostream</a></div><div class="ttdoc">This class implements an extremely fast bulk output stream that can only output to a stream.</div><div class="ttdef"><b>Definition:</b> <a href="raw__ostream_8h_source.html#l00052">raw_ostream.h:52</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantFP_html"><div class="ttname"><a href="classllvm_1_1ConstantFP.html">llvm::ConstantFP</a></div><div class="ttdoc">ConstantFP - Floating Point Values [float, double].</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8h_source.html#l00256">Constants.h:256</a></div></div>
<div class="ttc" id="aclassllvm_1_1PseudoSourceValue_html_a9959ffdc41bc31cf2211b8824f79259eaf38d1857511c3f0404c95f65664b36ab"><div class="ttname"><a href="classllvm_1_1PseudoSourceValue.html#a9959ffdc41bc31cf2211b8824f79259eaf38d1857511c3f0404c95f65664b36ab">llvm::PseudoSourceValue::FixedStack</a></div><div class="ttdeci">@ FixedStack</div><div class="ttdef"><b>Definition:</b> <a href="PseudoSourceValue_8h_source.html#l00042">PseudoSourceValue.h:42</a></div></div>
<div class="ttc" id="aRegAllocFast_8cpp_html_a0eda39ffaf32662a7ae6f4dbe998711b"><div class="ttname"><a href="RegAllocFast_8cpp.html#a0eda39ffaf32662a7ae6f4dbe998711b">dominates</a></div><div class="ttdeci">static bool dominates(MachineBasicBlock &amp;MBB, MachineBasicBlock::const_iterator A, MachineBasicBlock::const_iterator B)</div><div class="ttdef"><b>Definition:</b> <a href="RegAllocFast_8cpp_source.html#l00343">RegAllocFast.cpp:343</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html_ab0789854909cf47f640a85fa2bac29c7"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#ab0789854909cf47f640a85fa2bac29c7">llvm::MachineFunction::begin</a></div><div class="ttdeci">iterator begin()</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00870">MachineFunction.h:870</a></div></div>
<div class="ttc" id="aclassllvm_1_1DILocalVariable_html_ac8c4cb4dde7067286d3e3ce80bf77224"><div class="ttname"><a href="classllvm_1_1DILocalVariable.html#ac8c4cb4dde7067286d3e3ce80bf77224">llvm::DILocalVariable::isValidLocationForIntrinsic</a></div><div class="ttdeci">bool isValidLocationForIntrinsic(const DILocation *DL) const</div><div class="ttdoc">Check that a location is valid for this variable.</div><div class="ttdef"><b>Definition:</b> <a href="DebugInfoMetadata_8h_source.html#l03249">DebugInfoMetadata.h:3249</a></div></div>
<div class="ttc" id="aDebugLoc_8h_html"><div class="ttname"><a href="DebugLoc_8h.html">DebugLoc.h</a></div></div>
<div class="ttc" id="aSmallPtrSet_8h_html"><div class="ttname"><a href="SmallPtrSet_8h.html">SmallPtrSet.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1BitVector_html"><div class="ttname"><a href="classllvm_1_1BitVector.html">llvm::BitVector</a></div><div class="ttdef"><b>Definition:</b> <a href="BitVector_8h_source.html#l00075">BitVector.h:75</a></div></div>
<div class="ttc" id="aclassllvm_1_1PseudoSourceValue_html"><div class="ttname"><a href="classllvm_1_1PseudoSourceValue.html">llvm::PseudoSourceValue</a></div><div class="ttdoc">Special value supplied for machine level alias analysis.</div><div class="ttdef"><b>Definition:</b> <a href="PseudoSourceValue_8h_source.html#l00035">PseudoSourceValue.h:35</a></div></div>
<div class="ttc" id="aclassllvm_1_1DebugVariable_html_ae5969d48a72e8641cb15bc81a3bb1af8"><div class="ttname"><a href="classllvm_1_1DebugVariable.html#ae5969d48a72e8641cb15bc81a3bb1af8">llvm::DebugVariable::getVariable</a></div><div class="ttdeci">const DILocalVariable * getVariable() const</div><div class="ttdef"><b>Definition:</b> <a href="DebugInfoMetadata_8h_source.html#l03758">DebugInfoMetadata.h:3758</a></div></div>
<div class="ttc" id="anamespacellvm_1_1lltok_html_af353621f14cb4b4b3af5ffaff84076b1"><div class="ttname"><a href="namespacellvm_1_1lltok.html#af353621f14cb4b4b3af5ffaff84076b1">llvm::lltok::Kind</a></div><div class="ttdeci">Kind</div><div class="ttdef"><b>Definition:</b> <a href="LLToken_8h_source.html#l00018">LLToken.h:18</a></div></div>
<div class="ttc" id="anamespacellvm_1_1CallingConv_html_a188c0836f8c3528401f1c236fd93b977"><div class="ttname"><a href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">llvm::CallingConv::ID</a></div><div class="ttdeci">unsigned ID</div><div class="ttdoc">LLVM IR allows to use arbitrary numbers as calling convention identifiers.</div><div class="ttdef"><b>Definition:</b> <a href="CallingConv_8h_source.html#l00024">CallingConv.h:24</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html">llvm::MachineBasicBlock</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00094">MachineBasicBlock.h:94</a></div></div>
<div class="ttc" id="anamespaceLiveDebugValues_html_ae176bcbc75506653f406dbbcb0bdf2bd"><div class="ttname"><a href="namespaceLiveDebugValues.html#ae176bcbc75506653f406dbbcb0bdf2bd">LiveDebugValues::FragmentOfVar</a></div><div class="ttdeci">std::pair&lt; const DILocalVariable *, DIExpression::FragmentInfo &gt; FragmentOfVar</div><div class="ttdoc">Types for recording sets of variable fragments that overlap.</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8h_source.html#l00957">InstrRefBasedImpl.h:957</a></div></div>
<div class="ttc" id="aclassllvm_1_1Pass_html_a061b4c01e9c189208dbfd3c77fdb9a5c"><div class="ttname"><a href="classllvm_1_1Pass.html#a061b4c01e9c189208dbfd3c77fdb9a5c">llvm::Pass::print</a></div><div class="ttdeci">virtual void print(raw_ostream &amp;OS, const Module *M) const</div><div class="ttdoc">print - Print out the internal state of the pass.</div><div class="ttdef"><b>Definition:</b> <a href="Pass_8cpp_source.html#l00130">Pass.cpp:130</a></div></div>
<div class="ttc" id="aADT_2tmp_8txt_html_a07ed0bfaa124c15897944fe3eaa971ab"><div class="ttname"><a href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a></div><div class="ttdeci">Class for arbitrary precision integers APInt is a functional replacement for common case unsigned integer type like unsigned long or uint64_t</div><div class="ttdef"><b>Definition:</b> <a href="ADT_2tmp_8txt_source.html#l00001">tmp.txt:1</a></div></div>
<div class="ttc" id="astructLiveDebugValues_1_1SpillLoc_html"><div class="ttname"><a href="structLiveDebugValues_1_1SpillLoc.html">LiveDebugValues::SpillLoc</a></div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8h_source.html#l00082">InstrRefBasedImpl.h:82</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetPassConfig_html"><div class="ttname"><a href="classllvm_1_1TargetPassConfig.html">llvm::TargetPassConfig</a></div><div class="ttdoc">Target-Independent Code Generator Pass Configuration Options.</div><div class="ttdef"><b>Definition:</b> <a href="TargetPassConfig_8h_source.html#l00084">TargetPassConfig.h:84</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html_a325f6b611ef9ec06798d3b4eb9572093"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#a325f6b611ef9ec06798d3b4eb9572093">llvm::MachineFunction::getSubtarget</a></div><div class="ttdeci">const TargetSubtargetInfo &amp; getSubtarget() const</div><div class="ttdoc">getSubtarget - Return the subtarget for which this machine code is being compiled.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00672">MachineFunction.h:672</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_ae4ecf5483b94e2bb72967b80cc2008d2"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#ae4ecf5483b94e2bb72967b80cc2008d2">llvm::MachineOperand::clobbersPhysReg</a></div><div class="ttdeci">static bool clobbersPhysReg(const uint32_t *RegMask, MCRegister PhysReg)</div><div class="ttdoc">clobbersPhysReg - Returns true if this RegMask clobbers PhysReg.</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00646">MachineOperand.h:646</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMapBase_html_adf4e7878fc0b3b8dcde545178564190d"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#adf4e7878fc0b3b8dcde545178564190d">llvm::DenseMapBase&lt; SmallDenseMap&lt; KeyT, ValueT, 4, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;, KeyT, ValueT, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;::clear</a></div><div class="ttdeci">void clear()</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00110">DenseMap.h:110</a></div></div>
<div class="ttc" id="aELFObjHandler_8cpp_html_aef61945034b9431b804748fc317c5548"><div class="ttname"><a href="ELFObjHandler_8cpp.html#aef61945034b9431b804748fc317c5548">Index</a></div><div class="ttdeci">uint32_t Index</div><div class="ttdef"><b>Definition:</b> <a href="ELFObjHandler_8cpp_source.html#l00083">ELFObjHandler.cpp:83</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_a4c9594c955fec80c73ddd964b5efd554"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a4c9594c955fec80c73ddd964b5efd554">llvm::MachineOperand::isReg</a></div><div class="ttdeci">bool isReg() const</div><div class="ttdoc">isReg - Tests if this is a MO_Register operand.</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00329">MachineOperand.h:329</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html"><div class="ttname"><a href="classllvm_1_1MachineInstr.html">llvm::MachineInstr</a></div><div class="ttdoc">Representation of each machine instruction.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00066">MachineInstr.h:66</a></div></div>
<div class="ttc" id="anamespacellvm_html_a086e9fbdb06276db7753101a08a63adf"><div class="ttname"><a href="namespacellvm.html#a086e9fbdb06276db7753101a08a63adf">llvm::find</a></div><div class="ttdeci">auto find(R &amp;&amp;Range, const T &amp;Val)</div><div class="ttdoc">Provide wrappers to std::find which take ranges instead of having to pass begin/end explicitly.</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l01755">STLExtras.h:1755</a></div></div>
<div class="ttc" id="aVarLocBasedImpl_8cpp_html_a33f3613fb6558bae2f0d2bdd87e18dfa"><div class="ttname"><a href="VarLocBasedImpl_8cpp.html#a33f3613fb6558bae2f0d2bdd87e18dfa">isRegOtherThanSPAndFP</a></div><div class="ttdeci">static bool isRegOtherThanSPAndFP(const MachineOperand &amp;Op, const MachineInstr &amp;MI, const TargetRegisterInfo *TRI)</div><div class="ttdoc">If Op is a stack or frame register return true, otherwise return false.</div><div class="ttdef"><b>Definition:</b> <a href="VarLocBasedImpl_8cpp_source.html#l00167">VarLocBasedImpl.cpp:167</a></div></div>
<div class="ttc" id="alib_2Target_2README_8txt_html_a5a6a05b7d9e9efb3f7b098c20fa0088a"><div class="ttname"><a href="lib_2Target_2README_8txt.html#a5a6a05b7d9e9efb3f7b098c20fa0088a">s</a></div><div class="ttdeci">multiplies can be turned into SHL s</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2README_8txt_source.html#l00370">README.txt:370</a></div></div>
<div class="ttc" id="aclassllvm_1_1DIExpression_html_a8facdaa3e5cf886085dbc81082bc8d41"><div class="ttname"><a href="classllvm_1_1DIExpression.html#a8facdaa3e5cf886085dbc81082bc8d41">llvm::DIExpression::isDeref</a></div><div class="ttdeci">bool isDeref() const</div><div class="ttdoc">Return whether there is exactly one operator and it is a DW_OP_deref;.</div><div class="ttdef"><b>Definition:</b> <a href="DebugInfoMetadata_8cpp_source.html#l01288">DebugInfoMetadata.cpp:1288</a></div></div>
<div class="ttc" id="aAMDGPUInstructionSelector_8cpp_html_a6dee2d9e1e2a288de903228075ac71de"><div class="ttname"><a href="AMDGPUInstructionSelector_8cpp.html#a6dee2d9e1e2a288de903228075ac71de">isConstant</a></div><div class="ttdeci">static bool isConstant(const MachineInstr &amp;MI)</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUInstructionSelector_8cpp_source.html#l02605">AMDGPUInstructionSelector.cpp:2605</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetRegisterInfo_html_aefb3b77455d0e0f2e1e8b56604c63c0c"><div class="ttname"><a href="classllvm_1_1TargetRegisterInfo.html#aefb3b77455d0e0f2e1e8b56604c63c0c">llvm::TargetRegisterInfo::getFrameRegister</a></div><div class="ttdeci">virtual Register getFrameRegister(const MachineFunction &amp;MF) const =0</div><div class="ttdoc">Debug information queries.</div></div>
<div class="ttc" id="aclassllvm_1_1DenseMap_html"><div class="ttname"><a href="classllvm_1_1DenseMap.html">llvm::DenseMap</a></div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00714">DenseMap.h:714</a></div></div>
<div class="ttc" id="anamespacellvm_html_a061b224a1a3c3486fd854e5009a858c9"><div class="ttname"><a href="namespacellvm.html#a061b224a1a3c3486fd854e5009a858c9">llvm::operator&lt;</a></div><div class="ttdeci">bool operator&lt;(int64_t V1, const APSInt &amp;V2)</div><div class="ttdef"><b>Definition:</b> <a href="APSInt_8h_source.html#l00361">APSInt.h:361</a></div></div>
<div class="ttc" id="aMD5_8cpp_html_ac0eafdc9ee161b71e7af98af736952fd"><div class="ttname"><a href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a></div><div class="ttdeci">#define I(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00058">MD5.cpp:58</a></div></div>
<div class="ttc" id="aMCRegisterInfo_8h_html"><div class="ttname"><a href="MCRegisterInfo_8h.html">MCRegisterInfo.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1DebugVariable_html"><div class="ttname"><a href="classllvm_1_1DebugVariable.html">llvm::DebugVariable</a></div><div class="ttdoc">Identifies a unique instance of a variable.</div><div class="ttdef"><b>Definition:</b> <a href="DebugInfoMetadata_8h_source.html#l03733">DebugInfoMetadata.h:3733</a></div></div>
<div class="ttc" id="anamespacellvm_html_acd1cd968cb420c82d70926920fcdc7d7"><div class="ttname"><a href="namespacellvm.html#acd1cd968cb420c82d70926920fcdc7d7">llvm::is_contained</a></div><div class="ttdeci">bool is_contained(R &amp;&amp;Range, const E &amp;Element)</div><div class="ttdoc">Wrapper function around std::find to detect if an element exists in a container.</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l01869">STLExtras.h:1869</a></div></div>
<div class="ttc" id="aTargetPassConfig_8h_html"><div class="ttname"><a href="TargetPassConfig_8h.html">TargetPassConfig.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMapBase_html_a0c047f127ed4380a6f383d70bec4eb94"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#a0c047f127ed4380a6f383d70bec4eb94">llvm::DenseMapBase&lt; SmallDenseMap&lt; KeyT, ValueT, 4, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;, KeyT, ValueT, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;::find</a></div><div class="ttdeci">iterator find(const_arg_type_t&lt; KeyT &gt; Val)</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00150">DenseMap.h:150</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html_a3d142c9e7c066059e15232c56dec9e2e"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#a3d142c9e7c066059e15232c56dec9e2e">llvm::MachineFunction::getName</a></div><div class="ttdeci">StringRef getName() const</div><div class="ttdoc">getName - Return the name of the corresponding LLVM function.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8cpp_source.html#l00582">MachineFunction.cpp:582</a></div></div>
<div class="ttc" id="aSILowerControlFlow_8cpp_html_a4868c5d81c5ccc98c47aeab6244346a0"><div class="ttname"><a href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a></div><div class="ttdeci">assert(ImpDefSCC.getReg()==AMDGPU::SCC &amp;&amp;ImpDefSCC.isDef())</div></div>
<div class="ttc" id="aclassllvm_1_1TargetMachine_html"><div class="ttname"><a href="classllvm_1_1TargetMachine.html">llvm::TargetMachine</a></div><div class="ttdoc">Primary interface to the complete machine description for the target machine.</div><div class="ttdef"><b>Definition:</b> <a href="Target_2TargetMachine_8h_source.html#l00078">TargetMachine.h:78</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_a4e21760f681d6f97f95c8414e7b83ea5"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#a4e21760f681d6f97f95c8414e7b83ea5">llvm::MachineBasicBlock::getParent</a></div><div class="ttdeci">const MachineFunction * getParent() const</div><div class="ttdoc">Return the MachineFunction containing this basic block.</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00265">MachineBasicBlock.h:265</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_a55fdcb2a9df9a69067eed1bc17a0b927"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a55fdcb2a9df9a69067eed1bc17a0b927">llvm::MachineOperand::isRegMask</a></div><div class="ttdeci">bool isRegMask() const</div><div class="ttdoc">isRegMask - Tests if this is a MO_RegisterMask operand.</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00353">MachineOperand.h:353</a></div></div>
<div class="ttc" id="aInlineOrder_8cpp_html_a7ee6f0cb51c3b9056199e9a0001fe8c3ad01fd9b01e9dde8bd3dc247afbfb7218"><div class="ttname"><a href="InlineOrder_8cpp.html#a7ee6f0cb51c3b9056199e9a0001fe8c3ad01fd9b01e9dde8bd3dc247afbfb7218">InlinePriorityMode::ML</a></div><div class="ttdeci">@ ML</div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_ac0035d7c1c860501c877c20e6e93297b"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">llvm::MachineOperand::getReg</a></div><div class="ttdeci">Register getReg() const</div><div class="ttdoc">getReg - Returns the register number.</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00369">MachineOperand.h:369</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_afd9b9b8655c008bf6cd6afb05d41b69e"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#afd9b9b8655c008bf6cd6afb05d41b69e">llvm::MachineBasicBlock::predecessors</a></div><div class="ttdeci">iterator_range&lt; pred_iterator &gt; predecessors()</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00390">MachineBasicBlock.h:390</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMapBase_html_a49c487a9395a6c384be8544cfb2cfccf"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#a49c487a9395a6c384be8544cfb2cfccf">llvm::DenseMapBase&lt; SmallDenseMap&lt; KeyT, ValueT, 4, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;, KeyT, ValueT, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;::empty</a></div><div class="ttdeci">bool empty() const</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00098">DenseMap.h:98</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_a172e7bd9150eb0519ef04c796086f93d"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#a172e7bd9150eb0519ef04c796086f93d">llvm::MachineBasicBlock::instr_begin</a></div><div class="ttdeci">instr_iterator instr_begin()</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00293">MachineBasicBlock.h:293</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_a877507fda31c207ec36a018784369708"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#a877507fda31c207ec36a018784369708">llvm::MachineBasicBlock::pred_empty</a></div><div class="ttdeci">bool pred_empty() const</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00372">MachineBasicBlock.h:372</a></div></div>
<div class="ttc" id="aclassllvm_1_1DIVariable_html_af44724cae4bcd562972facee1cf035a5"><div class="ttname"><a href="classllvm_1_1DIVariable.html#af44724cae4bcd562972facee1cf035a5">llvm::DIVariable::getName</a></div><div class="ttdeci">StringRef getName() const</div><div class="ttdef"><b>Definition:</b> <a href="DebugInfoMetadata_8h_source.html#l02557">DebugInfoMetadata.h:2557</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallPtrSetImpl_html_a1f475b0df44ebd7169e720fa1bf9169e"><div class="ttname"><a href="classllvm_1_1SmallPtrSetImpl.html#a1f475b0df44ebd7169e720fa1bf9169e">llvm::SmallPtrSetImpl::count</a></div><div class="ttdeci">size_type count(ConstPtrType Ptr) const</div><div class="ttdoc">count - Return 1 if the specified pointer is in the set, 0 otherwise.</div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00383">SmallPtrSet.h:383</a></div></div>
<div class="ttc" id="aclassllvm_1_1DIExpression_html_a9c14a49c489d623a8174f48b368cd3e8"><div class="ttname"><a href="classllvm_1_1DIExpression.html#a9c14a49c489d623a8174f48b368cd3e8">llvm::DIExpression::replaceArg</a></div><div class="ttdeci">static DIExpression * replaceArg(const DIExpression *Expr, uint64_t OldArg, uint64_t NewArg)</div><div class="ttdoc">Create a copy of Expr with each instance of DW_OP_LLVM_arg, \p OldArg replaced with DW_OP_LLVM_arg,...</div><div class="ttdef"><b>Definition:</b> <a href="DebugInfoMetadata_8cpp_source.html#l01686">DebugInfoMetadata.cpp:1686</a></div></div>
<div class="ttc" id="anamespacellvm_html_a4d812a2dd18aa186c164447e20e348e7"><div class="ttname"><a href="namespacellvm.html#a4d812a2dd18aa186c164447e20e348e7">llvm::operator==</a></div><div class="ttdeci">bool operator==(const AddressRangeValuePair &amp;LHS, const AddressRangeValuePair &amp;RHS)</div><div class="ttdef"><b>Definition:</b> <a href="AddressRanges_8h_source.html#l00153">AddressRanges.h:153</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html"><div class="ttname"><a href="classllvm_1_1MachineFunction.html">llvm::MachineFunction</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00258">MachineFunction.h:258</a></div></div>
<div class="ttc" id="anamespacellvm_1_1logicalview_html_a9696bc411b0a7022c2cc78bff5173ceface5bf551379459c1c61d2a204061c455"><div class="ttname"><a href="namespacellvm_1_1logicalview.html#a9696bc411b0a7022c2cc78bff5173ceface5bf551379459c1c61d2a204061c455">llvm::logicalview::LVAttributeKind::Location</a></div><div class="ttdeci">@ Location</div></div>
<div class="ttc" id="aMachineInstrBundle_8cpp_html_af44c9b089359803924e0b92bea3b6d03"><div class="ttname"><a href="MachineInstrBundle_8cpp.html#af44c9b089359803924e0b92bea3b6d03">getDebugLoc</a></div><div class="ttdeci">static DebugLoc getDebugLoc(MachineBasicBlock::instr_iterator FirstMI, MachineBasicBlock::instr_iterator LastMI)</div><div class="ttdoc">Return the first found DebugLoc that has a DILocation, given a range of instructions.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBundle_8cpp_source.html#l00110">MachineInstrBundle.cpp:110</a></div></div>
<div class="ttc" id="aclassLiveDebugValues_1_1LocIdx_html"><div class="ttname"><a href="classLiveDebugValues_1_1LocIdx.html">LiveDebugValues::LocIdx</a></div><div class="ttdoc">Handle-class for a particular &quot;location&quot;.</div><div class="ttdef"><b>Definition:</b> <a href="InstrRefBasedImpl_8h_source.html#l00043">InstrRefBasedImpl.h:43</a></div></div>
<div class="ttc" id="aclassllvm_1_1DICompileUnit_html_abbc2b566b9aa870d5b7131017b7ba66dadb74da0a389a2704e8e01c66ace2913e"><div class="ttname"><a href="classllvm_1_1DICompileUnit.html#abbc2b566b9aa870d5b7131017b7ba66dadb74da0a389a2704e8e01c66ace2913e">llvm::DICompileUnit::NoDebug</a></div><div class="ttdeci">@ NoDebug</div><div class="ttdef"><b>Definition:</b> <a href="DebugInfoMetadata_8h_source.html#l01369">DebugInfoMetadata.h:1369</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_a3aa22d521bd6a7e6b9f35545dc7b0f1e"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#a3aa22d521bd6a7e6b9f35545dc7b0f1e">llvm::MachineBasicBlock::getNumber</a></div><div class="ttdeci">int getNumber() const</div><div class="ttdoc">MachineBasicBlocks are uniquely numbered at the function level, unless they're not in a MachineFuncti...</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l01143">MachineBasicBlock.h:1143</a></div></div>
<div class="ttc" id="anamespacellvm_html_a61d13d6824ec46c31260a4fd0997eda0"><div class="ttname"><a href="namespacellvm.html#a61d13d6824ec46c31260a4fd0997eda0">llvm::any_of</a></div><div class="ttdeci">bool any_of(R &amp;&amp;range, UnaryPredicate P)</div><div class="ttdoc">Provide wrappers to std::any_of which take ranges instead of having to pass begin/end explicitly.</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l01742">STLExtras.h:1742</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_a4d2c96836214c1f13357ffb99125fb4a"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#a4d2c96836214c1f13357ffb99125fb4a">llvm::MachineBasicBlock::successors</a></div><div class="ttdeci">iterator_range&lt; succ_iterator &gt; successors()</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00396">MachineBasicBlock.h:396</a></div></div>
<div class="ttc" id="aDwarf_8h_html"><div class="ttname"><a href="Dwarf_8h.html">Dwarf.h</a></div></div>
<div class="ttc" id="anamespacellvm_html_a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4"><div class="ttname"><a href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">llvm::Offset</a></div><div class="ttdeci">@ Offset</div><div class="ttdef"><b>Definition:</b> <a href="DWP_8cpp_source.html#l00406">DWP.cpp:406</a></div></div>
<div class="ttc" id="aSupport_2ErrorHandling_8h_html_ace243f5c25697a1107cce46626b3dc94"><div class="ttname"><a href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a></div><div class="ttdeci">#define llvm_unreachable(msg)</div><div class="ttdoc">Marks that the current location is not supposed to be reachable.</div><div class="ttdef"><b>Definition:</b> <a href="Support_2ErrorHandling_8h_source.html#l00143">ErrorHandling.h:143</a></div></div>
<div class="ttc" id="aclassuint32__t_html"><div class="ttname"><a href="classuint32__t.html">uint32_t</a></div></div>
<div class="ttc" id="aclassllvm_1_1StackOffset_html"><div class="ttname"><a href="classllvm_1_1StackOffset.html">llvm::StackOffset</a></div><div class="ttdoc">StackOffset holds a fixed and a scalable offset in bytes.</div><div class="ttdef"><b>Definition:</b> <a href="TypeSize_8h_source.html#l00036">TypeSize.h:36</a></div></div>
<div class="ttc" id="anamespacellvm_html_a39d3d23a084c4544ee5903203db10e8a"><div class="ttname"><a href="namespacellvm.html#a39d3d23a084c4544ee5903203db10e8a">llvm::append_range</a></div><div class="ttdeci">void append_range(Container &amp;C, Range &amp;&amp;R)</div><div class="ttdoc">Wrapper function to append a range to a container.</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l02014">STLExtras.h:2014</a></div></div>
<div class="ttc" id="aclassllvm_1_1ilist__node__impl_html_af719fc783be6589465137d997701a432"><div class="ttname"><a href="classllvm_1_1ilist__node__impl.html#af719fc783be6589465137d997701a432">llvm::ilist_node_impl::getIterator</a></div><div class="ttdeci">self_iterator getIterator()</div><div class="ttdef"><b>Definition:</b> <a href="ilist__node_8h_source.html#l00082">ilist_node.h:82</a></div></div>
<div class="ttc" id="aTargetSubtargetInfo_8h_html"><div class="ttname"><a href="TargetSubtargetInfo_8h.html">TargetSubtargetInfo.h</a></div></div>
<div class="ttc" id="aAArch64SLSHardening_8cpp_html_ad467c4ab9119043f9b7750ab986be61a"><div class="ttname"><a href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a></div><div class="ttdeci">MachineBasicBlock MachineBasicBlock::iterator DebugLoc DL</div><div class="ttdef"><b>Definition:</b> <a href="AArch64SLSHardening_8cpp_source.html#l00076">AArch64SLSHardening.cpp:76</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetPassConfig_html_a2ead47220440ce8f11a2496059534654"><div class="ttname"><a href="classllvm_1_1TargetPassConfig.html#a2ead47220440ce8f11a2496059534654">llvm::TargetPassConfig::getTM</a></div><div class="ttdeci">TMC &amp; getTM() const</div><div class="ttdoc">Get the right type of TargetMachine for this target.</div><div class="ttdef"><b>Definition:</b> <a href="TargetPassConfig_8h_source.html#l00151">TargetPassConfig.h:151</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_a0e85c20fe804527f12c86db38ec947ea"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a0e85c20fe804527f12c86db38ec947ea">llvm::MachineInstr::isTerminator</a></div><div class="ttdeci">bool isTerminator(QueryType Type=AnyInBundle) const</div><div class="ttdoc">Returns true if this instruction part of the terminator for a basic block.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00896">MachineInstr.h:896</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_a75eb135014670ce946e78739cdc9b51b"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a75eb135014670ce946e78739cdc9b51b">llvm::MachineOperand::isDef</a></div><div class="ttdeci">bool isDef() const</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00384">MachineOperand.h:384</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_a002fd916e7206e01d512eeb06d405cf0"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a002fd916e7206e01d512eeb06d405cf0">llvm::MachineInstr::getParent</a></div><div class="ttdeci">const MachineBasicBlock * getParent() const</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00313">MachineInstr.h:313</a></div></div>
<div class="ttc" id="aclassllvm_1_1Pass_html_aa26f1f3bfe5b5022b1bd495151b3757a"><div class="ttname"><a href="classllvm_1_1Pass.html#aa26f1f3bfe5b5022b1bd495151b3757a">llvm::Pass::dump</a></div><div class="ttdeci">void dump() const</div><div class="ttdef"><b>Definition:</b> <a href="Pass_8cpp_source.html#l00136">Pass.cpp:136</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMapBase_html_a99f811d53704275b4158c62a2dd138d9"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#a99f811d53704275b4158c62a2dd138d9">llvm::DenseMapBase&lt; SmallDenseMap&lt; KeyT, ValueT, 4, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;, KeyT, ValueT, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;::insert</a></div><div class="ttdeci">std::pair&lt; iterator, bool &gt; insert(const std::pair&lt; KeyT, ValueT &gt; &amp;KV)</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00207">DenseMap.h:207</a></div></div>
<div class="ttc" id="aclassllvm_1_1Register_html"><div class="ttname"><a href="classllvm_1_1Register.html">llvm::Register</a></div><div class="ttdoc">Wrapper class representing virtual and physical registers.</div><div class="ttdef"><b>Definition:</b> <a href="Register_8h_source.html#l00019">Register.h:19</a></div></div>
<div class="ttc" id="anamespacellvm_html_ac78c09ae232b2ce188ff590d51e3c268"><div class="ttname"><a href="namespacellvm.html#ac78c09ae232b2ce188ff590d51e3c268">llvm::find_if</a></div><div class="ttdeci">auto find_if(R &amp;&amp;Range, UnaryPredicate P)</div><div class="ttdoc">Provide wrappers to std::find_if which take ranges instead of having to pass begin/end explicitly.</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l01762">STLExtras.h:1762</a></div></div>
<div class="ttc" id="aAArch64SLSHardening_8cpp_html_a5958512eae2979bd2eb383977996a600"><div class="ttname"><a href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a></div><div class="ttdeci">MachineBasicBlock &amp; MBB</div><div class="ttdef"><b>Definition:</b> <a href="AArch64SLSHardening_8cpp_source.html#l00074">AArch64SLSHardening.cpp:74</a></div></div>
<div class="ttc" id="aclassllvm_1_1BitVector_html_a15d63c566878e964c19139b2c76c0dab"><div class="ttname"><a href="classllvm_1_1BitVector.html#a15d63c566878e964c19139b2c76c0dab">llvm::BitVector::test</a></div><div class="ttdeci">bool test(unsigned Idx) const</div><div class="ttdef"><b>Definition:</b> <a href="BitVector_8h_source.html#l00454">BitVector.h:454</a></div></div>
<div class="ttc" id="anamespacellvm_1_1GraphProgram_html_a0ad4685976f8c4d4a697a53fbe05d10b"><div class="ttname"><a href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">llvm::GraphProgram::Name</a></div><div class="ttdeci">Name</div><div class="ttdef"><b>Definition:</b> <a href="GraphWriter_8h_source.html#l00050">GraphWriter.h:50</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html_a4b21394c138cc5ae719510bb529ee099"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#a4b21394c138cc5ae719510bb529ee099">llvm::MachineFunction::getFunction</a></div><div class="ttdeci">Function &amp; getFunction()</div><div class="ttdoc">Return the LLVM function that this machine code represents.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00638">MachineFunction.h:638</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetSubtargetInfo_html_adbcdb952830bd8c5eeb802ab06dd5bb1"><div class="ttname"><a href="classllvm_1_1TargetSubtargetInfo.html#adbcdb952830bd8c5eeb802ab06dd5bb1">llvm::TargetSubtargetInfo::getFrameLowering</a></div><div class="ttdeci">virtual const TargetFrameLowering * getFrameLowering() const</div><div class="ttdef"><b>Definition:</b> <a href="TargetSubtargetInfo_8h_source.html#l00096">TargetSubtargetInfo.h:96</a></div></div>
<div class="ttc" id="aclassllvm_1_1DIExpression_html_a6472489551b8960cc115a93d95eef9f6a9778207fdbedcd56192301c38b5ffe4c"><div class="ttname"><a href="classllvm_1_1DIExpression.html#a6472489551b8960cc115a93d95eef9f6a9778207fdbedcd56192301c38b5ffe4c">llvm::DIExpression::DerefAfter</a></div><div class="ttdeci">@ DerefAfter</div><div class="ttdef"><b>Definition:</b> <a href="DebugInfoMetadata_8h_source.html#l02877">DebugInfoMetadata.h:2877</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMapBase_html_a65520b9c67759099e313d0f4e7b5ff9e"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#a65520b9c67759099e313d0f4e7b5ff9e">llvm::DenseMapBase&lt; SmallDenseMap&lt; KeyT, ValueT, 4, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;, KeyT, ValueT, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00084">DenseMap.h:84</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1SendMsg_html_a8594419a4ddfad2c9a79279c490e466d"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">llvm::AMDGPU::SendMsg::Op</a></div><div class="ttdeci">Op</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00357">SIDefines.h:357</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_a3435a2381e60e842e915f85c931b7dde"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#a3435a2381e60e842e915f85c931b7dde">llvm::MachineBasicBlock::insert</a></div><div class="ttdeci">instr_iterator insert(instr_iterator I, MachineInstr *M)</div><div class="ttdoc">Insert MI into the instruction list before I, possibly inside a bundle.</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8cpp_source.html#l01336">MachineBasicBlock.cpp:1336</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetFrameLowering_html_af88a8f2328543f94aea3ba85d954fafa"><div class="ttname"><a href="classllvm_1_1TargetFrameLowering.html#af88a8f2328543f94aea3ba85d954fafa">llvm::TargetFrameLowering::getFrameIndexReference</a></div><div class="ttdeci">virtual StackOffset getFrameIndexReference(const MachineFunction &amp;MF, int FI, Register &amp;FrameReg) const</div><div class="ttdoc">getFrameIndexReference - This method should return the base register and offset used to reference a f...</div><div class="ttdef"><b>Definition:</b> <a href="TargetFrameLoweringImpl_8cpp_source.html#l00049">TargetFrameLoweringImpl.cpp:49</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AArch64CC_html_abfa1f7dce576430da99eed57807c7f28afdd8238d6005774fe2bb9067de76eb8c"><div class="ttname"><a href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28afdd8238d6005774fe2bb9067de76eb8c">llvm::AArch64CC::LS</a></div><div class="ttdeci">@ LS</div><div class="ttdef"><b>Definition:</b> <a href="AArch64BaseInfo_8h_source.html#l00264">AArch64BaseInfo.h:264</a></div></div>
<div class="ttc" id="aLiveDebugValues_8cpp_html_a17e0338db8e9291e84b419320b8031b4"><div class="ttname"><a href="LiveDebugValues_8cpp.html#a17e0338db8e9291e84b419320b8031b4">InputBBLimit</a></div><div class="ttdeci">static cl::opt&lt; unsigned &gt; InputBBLimit(&quot;livedebugvalues-input-bb-limit&quot;, cl::desc(&quot;Maximum input basic blocks before DBG_VALUE limit applies&quot;), cl::init(10000), cl::Hidden)</div></div>
<div class="ttc" id="aCasting_8h_html"><div class="ttname"><a href="Casting_8h.html">Casting.h</a></div></div>
<div class="ttc" id="aFunction_8h_html"><div class="ttname"><a href="Function_8h.html">Function.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1TargetStackID_html_a71392100eb15ba746b1f898986f5d8a5"><div class="ttname"><a href="namespacellvm_1_1TargetStackID.html#a71392100eb15ba746b1f898986f5d8a5">llvm::TargetStackID::Value</a></div><div class="ttdeci">Value</div><div class="ttdef"><b>Definition:</b> <a href="TargetFrameLowering_8h_source.html#l00027">TargetFrameLowering.h:27</a></div></div>
<div class="ttc" id="aLiveDebugValues_8h_html"><div class="ttname"><a href="LiveDebugValues_8h.html">LiveDebugValues.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallSet_html_a1679469af9bb8ccfbe98441fb8228c79"><div class="ttname"><a href="classllvm_1_1SmallSet.html#a1679469af9bb8ccfbe98441fb8228c79">llvm::SmallSet::insert</a></div><div class="ttdeci">std::pair&lt; const_iterator, bool &gt; insert(const T &amp;V)</div><div class="ttdoc">insert - Insert an element into the set if it isn't already there.</div><div class="ttdef"><b>Definition:</b> <a href="SmallSet_8h_source.html#l00177">SmallSet.h:177</a></div></div>
<div class="ttc" id="aclassllvm_1_1ReversePostOrderTraversal_html"><div class="ttname"><a href="classllvm_1_1ReversePostOrderTraversal.html">llvm::ReversePostOrderTraversal</a></div><div class="ttdef"><b>Definition:</b> <a href="PostOrderIterator_8h_source.html#l00293">PostOrderIterator.h:293</a></div></div>
<div class="ttc" id="astructllvm_1_1DIExpression_1_1FragmentInfo_html"><div class="ttname"><a href="structllvm_1_1DIExpression_1_1FragmentInfo.html">llvm::DIExpression::FragmentInfo</a></div><div class="ttdoc">Holds the characteristics of one fragment of a larger variable.</div><div class="ttdef"><b>Definition:</b> <a href="DebugInfoMetadata_8h_source.html#l02776">DebugInfoMetadata.h:2776</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCRegAliasIterator_html_ac336c049c12ead7be5b86e6d046f8ab0"><div class="ttname"><a href="classllvm_1_1MCRegAliasIterator.html#ac336c049c12ead7be5b86e6d046f8ab0">llvm::MCRegAliasIterator::isValid</a></div><div class="ttdeci">bool isValid() const</div><div class="ttdef"><b>Definition:</b> <a href="MCRegisterInfo_8h_source.html#l00813">MCRegisterInfo.h:813</a></div></div>
<div class="ttc" id="aPostOrderIterator_8h_html"><div class="ttname"><a href="PostOrderIterator_8h.html">PostOrderIterator.h</a></div></div>
<div class="ttc" id="aELFYAML_8cpp_html_a941c34da9850676ce3380813c636cff2"><div class="ttname"><a href="ELFYAML_8cpp.html#a941c34da9850676ce3380813c636cff2">Other</a></div><div class="ttdeci">std::optional&lt; std::vector&lt; StOtherPiece &gt; &gt; Other</div><div class="ttdef"><b>Definition:</b> <a href="ELFYAML_8cpp_source.html#l01260">ELFYAML.cpp:1260</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetSubtargetInfo_html_a129ede6f18326075504d4bd0439fd517"><div class="ttname"><a href="classllvm_1_1TargetSubtargetInfo.html#a129ede6f18326075504d4bd0439fd517">llvm::TargetSubtargetInfo::getTargetLowering</a></div><div class="ttdeci">virtual const TargetLowering * getTargetLowering() const</div><div class="ttdef"><b>Definition:</b> <a href="TargetSubtargetInfo_8h_source.html#l00099">TargetSubtargetInfo.h:99</a></div></div>
<div class="ttc" id="anamespacellvm_html_a17e04afcf0c5efeb0eb6a9a45287b5e4"><div class="ttname"><a href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">llvm::BuildMI</a></div><div class="ttdeci">MachineInstrBuilder BuildMI(MachineFunction &amp;MF, const MIMetadata &amp;MIMD, const MCInstrDesc &amp;MCID)</div><div class="ttdoc">Builder interface. Specify how to create the initial instruction itself.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00357">MachineInstrBuilder.h:357</a></div></div>
<div class="ttc" id="aSmallVector_8h_html"><div class="ttname"><a href="SmallVector_8h.html">SmallVector.h</a></div></div>
<div class="ttc" id="aMachineInstrBuilder_8h_html"><div class="ttname"><a href="MachineInstrBuilder_8h.html">MachineInstrBuilder.h</a></div></div>
<div class="ttc" id="aRegAllocBasic_8cpp_html_ad5d00e1d77644d95847b9bf8da12b759"><div class="ttname"><a href="RegAllocBasic_8cpp.html#ad5d00e1d77644d95847b9bf8da12b759">Allocator</a></div><div class="ttdeci">Basic Register Allocator</div><div class="ttdef"><b>Definition:</b> <a href="RegAllocBasic_8cpp_source.html#l00143">RegAllocBasic.cpp:143</a></div></div>
<div class="ttc" id="aclassllvm_1_1DebugVariable_html_a2928acad2fcb688e4dffb48eb9252aa4"><div class="ttname"><a href="classllvm_1_1DebugVariable.html#a2928acad2fcb688e4dffb48eb9252aa4">llvm::DebugVariable::isDefaultFragment</a></div><div class="ttdeci">static bool isDefaultFragment(const FragmentInfo F)</div><div class="ttdef"><b>Definition:</b> <a href="DebugInfoMetadata_8h_source.html#l03766">DebugInfoMetadata.h:3766</a></div></div>
<div class="ttc" id="aAArch64ISelDAGToDAG_8cpp_html_a2098a5fa6ada61b6c4a1f210ad84e4a1a4ebada6a2af2bcba53ded1d7b414f081"><div class="ttname"><a href="AArch64ISelDAGToDAG_8cpp.html#a2098a5fa6ada61b6c4a1f210ad84e4a1a4ebada6a2af2bcba53ded1d7b414f081">SelectTypeKind::FP</a></div><div class="ttdeci">@ FP</div></div>
<div class="ttc" id="aclassllvm_1_1iterator__range_html"><div class="ttname"><a href="classllvm_1_1iterator__range.html">llvm::iterator_range</a></div><div class="ttdoc">A range adaptor for a pair of iterators.</div><div class="ttdef"><b>Definition:</b> <a href="iterator__range_8h_source.html#l00030">iterator_range.h:30</a></div></div>
<div class="ttc" id="aclassllvm_1_1DIExpression_html_a1b59c8fe81267b338774bf6c542f90ee"><div class="ttname"><a href="classllvm_1_1DIExpression.html#a1b59c8fe81267b338774bf6c542f90ee">llvm::DIExpression::getNumElements</a></div><div class="ttdeci">unsigned getNumElements() const</div><div class="ttdef"><b>Definition:</b> <a href="DebugInfoMetadata_8h_source.html#l02637">DebugInfoMetadata.h:2637</a></div></div>
<div class="ttc" id="aMachineMemOperand_8h_html"><div class="ttname"><a href="MachineMemOperand_8h.html">MachineMemOperand.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVectorImpl_html"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html">llvm::SmallVectorImpl&lt; uint32_t &gt;</a></div></div>
<div class="ttc" id="aMachineOperand_8h_html"><div class="ttname"><a href="MachineOperand_8h.html">MachineOperand.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallPtrSetImpl_html"><div class="ttname"><a href="classllvm_1_1SmallPtrSetImpl.html">llvm::SmallPtrSetImpl&lt; const MachineBasicBlock * &gt;</a></div></div>
<div class="ttc" id="aPassBuilderBindings_8cpp_html_ab76052bb166c65901edb603a3e1f03ab"><div class="ttname"><a href="PassBuilderBindings_8cpp.html#ab76052bb166c65901edb603a3e1f03ab">TM</a></div><div class="ttdeci">const char LLVMTargetMachineRef TM</div><div class="ttdef"><b>Definition:</b> <a href="PassBuilderBindings_8cpp_source.html#l00047">PassBuilderBindings.cpp:47</a></div></div>
<div class="ttc" id="alib_2CodeGen_2README_8txt_html_a09776db24cf586ec9f1e18f3bae14099"><div class="ttname"><a href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a></div><div class="ttdeci">Common register allocation spilling lr str ldr sxth r3 ldr mla r4 can lr mov lr str ldr sxth r3 mla r4 and then merge mul and lr str ldr sxth r3 mla r4 It also increase the likelihood the store may become dead bb27 Successors according to LLVM BB</div><div class="ttdef"><b>Definition:</b> <a href="lib_2CodeGen_2README_8txt_source.html#l00039">README.txt:39</a></div></div>
<div class="ttc" id="aclassllvm_1_1DebugLoc_html"><div class="ttname"><a href="classllvm_1_1DebugLoc.html">llvm::DebugLoc</a></div><div class="ttdoc">A debug info location.</div><div class="ttdef"><b>Definition:</b> <a href="DebugLoc_8h_source.html#l00033">DebugLoc.h:33</a></div></div>
<div class="ttc" id="araw__ostream_8h_html"><div class="ttname"><a href="raw__ostream_8h.html">raw_ostream.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineDominatorTree_html"><div class="ttname"><a href="classllvm_1_1MachineDominatorTree.html">llvm::MachineDominatorTree</a></div><div class="ttdoc">DominatorTree Class - Concrete subclass of DominatorTreeBase that is used to compute a normal dominat...</div><div class="ttdef"><b>Definition:</b> <a href="MachineDominators_8h_source.html#l00051">MachineDominators.h:51</a></div></div>
<div class="ttc" id="aclassllvm_1_1LexicalScopes_html"><div class="ttname"><a href="classllvm_1_1LexicalScopes.html">llvm::LexicalScopes</a></div><div class="ttdoc">LexicalScopes - This class provides interface to collect and use lexical scoping information from mac...</div><div class="ttdef"><b>Definition:</b> <a href="LexicalScopes_8h_source.html#l00141">LexicalScopes.h:141</a></div></div>
<div class="ttc" id="aMachineFunction_8h_html"><div class="ttname"><a href="MachineFunction_8h.html">MachineFunction.h</a></div></div>
<div class="ttc" id="anamespacellvm_html_af085ea923a328b9fa6a1975f1a4ff987"><div class="ttname"><a href="namespacellvm.html#af085ea923a328b9fa6a1975f1a4ff987">llvm::printReg</a></div><div class="ttdeci">Printable printReg(Register Reg, const TargetRegisterInfo *TRI=nullptr, unsigned SubIdx=0, const MachineRegisterInfo *MRI=nullptr)</div><div class="ttdoc">Prints virtual and physical registers with or without a TRI instance.</div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8cpp_source.html#l00111">TargetRegisterInfo.cpp:111</a></div></div>
<div class="ttc" id="anamespacellvm_html_a973dd94f5caf94978aab68dc386b0c24"><div class="ttname"><a href="namespacellvm.html#a973dd94f5caf94978aab68dc386b0c24">llvm::makeVarLocBasedLiveDebugValues</a></div><div class="ttdeci">LDVImpl * makeVarLocBasedLiveDebugValues()</div><div class="ttdef"><b>Definition:</b> <a href="VarLocBasedImpl_8cpp_source.html#l02402">VarLocBasedImpl.cpp:2402</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html"><div class="ttname"><a href="classllvm_1_1Value.html">llvm::Value</a></div><div class="ttdoc">LLVM Value Representation.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00074">Value.h:74</a></div></div>
<div class="ttc" id="aTargetRegisterInfo_8h_html"><div class="ttname"><a href="TargetRegisterInfo_8h.html">TargetRegisterInfo.h</a></div></div>
<div class="ttc" id="aDebug_8h_html"><div class="ttname"><a href="Debug_8h.html">Debug.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1DIExpression_html_a6472489551b8960cc115a93d95eef9f6a732b32a9387e1f0a0b49cd59b96905ae"><div class="ttname"><a href="classllvm_1_1DIExpression.html#a6472489551b8960cc115a93d95eef9f6a732b32a9387e1f0a0b49cd59b96905ae">llvm::DIExpression::EntryValue</a></div><div class="ttdeci">@ EntryValue</div><div class="ttdef"><b>Definition:</b> <a href="DebugInfoMetadata_8h_source.html#l02879">DebugInfoMetadata.h:2879</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetRegisterInfo_html_ac6859ef2a1c57ce668658e21fe90bfad"><div class="ttname"><a href="classllvm_1_1TargetRegisterInfo.html#ac6859ef2a1c57ce668658e21fe90bfad">llvm::TargetRegisterInfo::prependOffsetExpression</a></div><div class="ttdeci">DIExpression * prependOffsetExpression(const DIExpression *Expr, unsigned PrependFlags, const StackOffset &amp;Offset) const</div><div class="ttdoc">Prepends a DWARF expression for Offset to DIExpression Expr.</div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8cpp_source.html#l00654">TargetRegisterInfo.cpp:654</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCRegAliasIterator_html"><div class="ttname"><a href="classllvm_1_1MCRegAliasIterator.html">llvm::MCRegAliasIterator</a></div><div class="ttdoc">MCRegAliasIterator enumerates all registers aliasing Reg.</div><div class="ttdef"><b>Definition:</b> <a href="MCRegisterInfo_8h_source.html#l00788">MCRegisterInfo.h:788</a></div></div>
<div class="ttc" id="anamespacellvm_1_1sampleprof_html_a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41"><div class="ttname"><a href="namespacellvm_1_1sampleprof.html#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">llvm::sampleprof::Base</a></div><div class="ttdeci">@ Base</div><div class="ttdef"><b>Definition:</b> <a href="Discriminator_8h_source.html#l00058">Discriminator.h:58</a></div></div>
<div class="ttc" id="aSmallSet_8h_html"><div class="ttname"><a href="SmallSet_8h.html">SmallSet.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallPtrSetImpl_html_a6bc6fb89fe2e91c25559a8631f56e27e"><div class="ttname"><a href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">llvm::SmallPtrSetImpl::insert</a></div><div class="ttdeci">std::pair&lt; iterator, bool &gt; insert(PtrType Ptr)</div><div class="ttdoc">Inserts Ptr if and only if there is no element in the container equal to Ptr.</div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00365">SmallPtrSet.h:365</a></div></div>
<div class="ttc" id="aclassllvm_1_1DebugVariable_html_a90b7ea85a03be15ace66f601bf299322"><div class="ttname"><a href="classllvm_1_1DebugVariable.html#a90b7ea85a03be15ace66f601bf299322">llvm::DebugVariable::getInlinedAt</a></div><div class="ttdeci">const DILocation * getInlinedAt() const</div><div class="ttdef"><b>Definition:</b> <a href="DebugInfoMetadata_8h_source.html#l03760">DebugInfoMetadata.h:3760</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVectorImpl_html_a94d23373106467003722f7d6c17b1528"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html#a94d23373106467003722f7d6c17b1528">llvm::SmallVectorImpl::insert</a></div><div class="ttdeci">iterator insert(iterator I, T &amp;&amp;Elt)</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00809">SmallVector.h:809</a></div></div>
<div class="ttc" id="aclassllvm_1_1DIExpression_html_a46d29699ee79b3a3d7359278f6bab01c"><div class="ttname"><a href="classllvm_1_1DIExpression.html#a46d29699ee79b3a3d7359278f6bab01c">llvm::DIExpression::fragmentsOverlap</a></div><div class="ttdeci">static bool fragmentsOverlap(const FragmentInfo &amp;A, const FragmentInfo &amp;B)</div><div class="ttdoc">Check if fragments overlap between a pair of FragmentInfos.</div><div class="ttdef"><b>Definition:</b> <a href="DebugInfoMetadata_8h_source.html#l02966">DebugInfoMetadata.h:2966</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Aug 7 2023 09:53:11 for LLVM by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
