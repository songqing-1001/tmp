<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LLVM: lib/Target/AMDGPU/SIInstrInfo.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LLVM
   &#160;<span id="projectnumber">17.0.0git</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_794e483eb1cc7921d35fd149d9cc325b.html">Target</a></li><li class="navelem"><a class="el" href="dir_447ce995d6e35417de5ec3060e97c93e.html">AMDGPU</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">SIInstrInfo.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="SIInstrInfo_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//===- SIInstrInfo.cpp - SI Instruction Information  ----------------------===//</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// Part of the LLVM Project, under the Apache License v2.0 with LLVM Exceptions.</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">// See https://llvm.org/LICENSE.txt for license information.</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// SPDX-License-Identifier: Apache-2.0 WITH LLVM-exception</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">//</span><span class="comment"></span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">/// \file</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">/// SI Implementation of TargetInstrInfo.</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"></span><span class="comment">//</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160; </div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SIInstrInfo_8h.html">SIInstrInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="AMDGPU_8h.html">AMDGPU.h</a>&quot;</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="AMDGPUInstrInfo_8h.html">AMDGPUInstrInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="GCNHazardRecognizer_8h.html">GCNHazardRecognizer.h</a>&quot;</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="GCNSubtarget_8h.html">GCNSubtarget.h</a>&quot;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SIMachineFunctionInfo_8h.html">SIMachineFunctionInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ValueTracking_8h.html">llvm/Analysis/ValueTracking.h</a>&quot;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="LiveIntervals_8h.html">llvm/CodeGen/LiveIntervals.h</a>&quot;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="LiveVariables_8h.html">llvm/CodeGen/LiveVariables.h</a>&quot;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineDominators_8h.html">llvm/CodeGen/MachineDominators.h</a>&quot;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineFrameInfo_8h.html">llvm/CodeGen/MachineFrameInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineScheduler_8h.html">llvm/CodeGen/MachineScheduler.h</a>&quot;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="RegisterScavenging_8h.html">llvm/CodeGen/RegisterScavenging.h</a>&quot;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ScheduleDAG_8h.html">llvm/CodeGen/ScheduleDAG.h</a>&quot;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DiagnosticInfo_8h.html">llvm/IR/DiagnosticInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;llvm/IR/IntrinsicsAMDGPU.h&quot;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MCContext_8h.html">llvm/MC/MCContext.h</a>&quot;</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="CommandLine_8h.html">llvm/Support/CommandLine.h</a>&quot;</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Target_2TargetMachine_8h.html">llvm/Target/TargetMachine.h</a>&quot;</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160; </div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacellvm.html">llvm</a>;</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160; </div>
<div class="line"><a name="l00036"></a><span class="lineno"><a class="line" href="SIInstrInfo_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">   36</a></span>&#160;<span class="preprocessor">#define DEBUG_TYPE &quot;si-instr-info&quot;</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160; </div>
<div class="line"><a name="l00038"></a><span class="lineno"><a class="line" href="SIInstrInfo_8cpp.html#a5d99008fb7e5cdc4774786d0743a2c4f">   38</a></span>&#160;<span class="preprocessor">#define GET_INSTRINFO_CTOR_DTOR</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#include &quot;AMDGPUGenInstrInfo.inc&quot;</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160; </div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacellvm.html">llvm</a> {</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespaceAMDGPU.html">AMDGPU</a> {</div>
<div class="line"><a name="l00043"></a><span class="lineno"><a class="line" href="SIInstrInfo_8cpp.html#a35fa4e84a0ceacbad18c9b940b0211c1">   43</a></span>&#160;<span class="preprocessor">#define GET_D16ImageDimIntrinsics_IMPL</span></div>
<div class="line"><a name="l00044"></a><span class="lineno"><a class="line" href="SIInstrInfo_8cpp.html#a60851e0d8a34ad8607541b9d7c7b8455">   44</a></span>&#160;<span class="preprocessor">#define GET_ImageDimIntrinsicTable_IMPL</span></div>
<div class="line"><a name="l00045"></a><span class="lineno"><a class="line" href="SIInstrInfo_8cpp.html#a6a5902610578523cb497f1875fe6bcb0">   45</a></span>&#160;<span class="preprocessor">#define GET_RsrcIntrinsics_IMPL</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="preprocessor">#include &quot;AMDGPUGenSearchableTables.inc&quot;</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;}</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;}</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160; </div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160; </div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="comment">// Must be at least 4 to be able to branch over minimum unconditional branch</span></div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="comment">// code. This is only for making it possible to write reasonably small tests for</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="comment">// long branches.</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;unsigned&gt;</a></div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<a class="code" href="SIInstrInfo_8cpp.html#a1b973951954bbceebb9d37dfe591c22d">BranchOffsetBits</a>(<span class="stringliteral">&quot;amdgpu-s-branch-bits&quot;</span>, <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40ab81f279502bb9ca74e6629cfb62844be">cl::ReallyHidden</a>, <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(16),</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;                 <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Restrict range of branch instructions (DEBUG)&quot;</span>));</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160; </div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a> <a class="code" href="SIInstrInfo_8cpp.html#aa00f1c78a13c5a7a93b0dbc0e3031476">Fix16BitCopies</a>(</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;  <span class="stringliteral">&quot;amdgpu-fix-16-bit-physreg-copies&quot;</span>,</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;  <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Fix copies between 32 and 16 bit registers by extending to 32 bit&quot;</span>),</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;  <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(<span class="keyword">true</span>),</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;  <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40ab81f279502bb9ca74e6629cfb62844be">cl::ReallyHidden</a>);</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160; </div>
<div class="line"><a name="l00064"></a><span class="lineno"><a class="line" href="classllvm_1_1SIInstrInfo.html#afe40d3ac1550829e52891bb120130ef5">   64</a></span>&#160;<a class="code" href="classllvm_1_1SIInstrInfo.html#afe40d3ac1550829e52891bb120130ef5">SIInstrInfo::SIInstrInfo</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1GCNSubtarget.html">GCNSubtarget</a> &amp;<a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">ST</a>)</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;  : <a class="code" href="classAMDGPUGenInstrInfo.html">AMDGPUGenInstrInfo</a>(<a class="code" href="namespaceAMDGPU.html">AMDGPU</a>::ADJCALLSTACKUP, <a class="code" href="namespaceAMDGPU.html">AMDGPU</a>::ADJCALLSTACKDOWN),</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    RI(<a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">ST</a>), <a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">ST</a>(<a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">ST</a>) {</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;  SchedModel.<a class="code" href="classllvm_1_1TargetSchedModel.html#ab357b39c47df52a19882a831feda1b6f">init</a>(&amp;ST);</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;}</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160; </div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="comment">// TargetInstrInfo callbacks</span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160; </div>
<div class="line"><a name="l00074"></a><span class="lineno"><a class="line" href="SIInstrInfo_8cpp.html#ae6e6e83717666f42581170b4599cd238">   74</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">unsigned</span> <a class="code" href="SIInstrInfo_8cpp.html#ae6e6e83717666f42581170b4599cd238">getNumOperandsNoGlue</a>(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *Node) {</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> = Node-&gt;getNumOperands();</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;  <span class="keywordflow">while</span> (<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> &amp;&amp; Node-&gt;getOperand(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> - 1).getValueType() == <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a59a1908cf136662bcfdc11ed49515ca9">MVT::Glue</a>)</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    --<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>;</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>;</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;}</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="comment">/// Returns true if both nodes have the same value for the given</span></div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="comment">///        operand \p Op, or if both nodes do not have this operand.</span></div>
<div class="line"><a name="l00083"></a><span class="lineno"><a class="line" href="SIInstrInfo_8cpp.html#a99ae43a8879de19170e80277b5c54b88">   83</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="SIInstrInfo_8cpp.html#a99ae43a8879de19170e80277b5c54b88">nodesHaveSameOperandValue</a>(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *N0, <a class="code" href="classllvm_1_1SDNode.html">SDNode</a>* N1, <span class="keywordtype">unsigned</span> <a class="code" href="namespaceOpName.html">OpName</a>) {</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;  <span class="keywordtype">unsigned</span> Opc0 = N0-&gt;<a class="code" href="classllvm_1_1SDNode.html#a7f96a3399d86d6f136aaa121de4217a3">getMachineOpcode</a>();</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;  <span class="keywordtype">unsigned</span> Opc1 = N1-&gt;<a class="code" href="classllvm_1_1SDNode.html#a7f96a3399d86d6f136aaa121de4217a3">getMachineOpcode</a>();</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160; </div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;  <span class="keywordtype">int</span> Op0Idx = <a class="code" href="namespacellvm_1_1AMDGPU.html#a27efe1286cc31f5fc95355af30b0356c">AMDGPU::getNamedOperandIdx</a>(Opc0, <a class="code" href="namespaceOpName.html">OpName</a>);</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;  <span class="keywordtype">int</span> Op1Idx = <a class="code" href="namespacellvm_1_1AMDGPU.html#a27efe1286cc31f5fc95355af30b0356c">AMDGPU::getNamedOperandIdx</a>(Opc1, <a class="code" href="namespaceOpName.html">OpName</a>);</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160; </div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;  <span class="keywordflow">if</span> (Op0Idx == -1 &amp;&amp; Op1Idx == -1)</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160; </div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160; </div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;  <span class="keywordflow">if</span> ((Op0Idx == -1 &amp;&amp; Op1Idx != -1) ||</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;      (Op1Idx == -1 &amp;&amp; Op0Idx != -1))</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160; </div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;  <span class="comment">// getNamedOperandIdx returns the index for the MachineInstr&#39;s operands,</span></div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;  <span class="comment">// which includes the result as the first operand. We are indexing into the</span></div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;  <span class="comment">// MachineSDNode&#39;s operands, so we need to skip the result operand to get</span></div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;  <span class="comment">// the real index.</span></div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;  --Op0Idx;</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;  --Op1Idx;</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160; </div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;  <span class="keywordflow">return</span> N0-&gt;<a class="code" href="classllvm_1_1SDNode.html#aa167dab8c514d863ec44909befac3050">getOperand</a>(Op0Idx) == N1-&gt;<a class="code" href="classllvm_1_1SDNode.html#aa167dab8c514d863ec44909befac3050">getOperand</a>(Op1Idx);</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;}</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160; </div>
<div class="line"><a name="l00108"></a><span class="lineno"><a class="line" href="classllvm_1_1SIInstrInfo.html#a64e3c3928f613445e6a6c1f3b1073744">  108</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1SIInstrInfo.html#a64e3c3928f613445e6a6c1f3b1073744">SIInstrInfo::isReallyTriviallyReMaterializable</a>(</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SIInstrInfo.html#afe1b887d2fad2d25f93580c261fea3a9">isVOP1</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>) || <a class="code" href="classllvm_1_1SIInstrInfo.html#a323a96a23d09892cc1b252bf1cba2732">isVOP2</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>) || <a class="code" href="classllvm_1_1SIInstrInfo.html#a0aab14aaa9761a9af59b094090851ca3">isVOP3</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>) || <a class="code" href="classllvm_1_1SIInstrInfo.html#a3295a9f4a742f69dfa4d7bb91cced3a9">isSDWA</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>) || <a class="code" href="classllvm_1_1SIInstrInfo.html#a2d7ac7b1dd9a9e4ae81fb54010f324f9">isSALU</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>)) {</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    <span class="comment">// Normally VALU use of exec would block the rematerialization, but that</span></div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    <span class="comment">// is OK in this case to have an implicit exec read as all VALU do.</span></div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    <span class="comment">// We really want all of the generic logic for this except for this.</span></div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160; </div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    <span class="comment">// Another potential implicit use is mode register. The core logic of</span></div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    <span class="comment">// the RA will not attempt rematerialization if mode is set anywhere</span></div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    <span class="comment">// in the function, otherwise it is safe since mode is not changed.</span></div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160; </div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    <span class="comment">// There is difference to generic method which does not allow</span></div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    <span class="comment">// rematerialization if there are virtual register uses. We allow this,</span></div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    <span class="comment">// therefore this method includes SOP instructions as well.</span></div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    <span class="keywordflow">return</span> !<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.hasImplicitDef() &amp;&amp;</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;           <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getNumImplicitOperands() == <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getDesc().implicit_uses().size() &amp;&amp;</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;           !<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.mayRaiseFPException();</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;  }</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160; </div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;}</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160; </div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;<span class="comment">// Returns true if the scalar result of a VALU instruction depends on exec.</span></div>
<div class="line"><a name="l00131"></a><span class="lineno"><a class="line" href="SIInstrInfo_8cpp.html#a70e16ebf8bd9b6d4b89331190206e635">  131</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="SIInstrInfo_8cpp.html#a70e16ebf8bd9b6d4b89331190206e635">resultDependsOnExec</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>) {</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;  <span class="comment">// Ignore comparisons which are only used masked with exec.</span></div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;  <span class="comment">// This allows some hoisting/sinking of VALU comparisons.</span></div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.isCompare()) {</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a> = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getParent()-&gt;getParent()-&gt;getRegInfo();</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> DstReg = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(0).getReg();</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    <span class="keywordflow">if</span> (!DstReg.<a class="code" href="classllvm_1_1Register.html#aebafd86dde59b5a05b22e8720e808a9d">isVirtual</a>())</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="classllvm_1_1Use.html">Use</a> : <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a7e0683c1bfad27f51e8d6c3a8cbdbfdc">use_nodbg_instructions</a>(DstReg)) {</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;      <span class="keywordflow">switch</span> (<a class="code" href="classllvm_1_1Use.html">Use</a>.getOpcode()) {</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;      <span class="keywordflow">case</span> AMDGPU::S_AND_SAVEEXEC_B32:</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;      <span class="keywordflow">case</span> AMDGPU::S_AND_SAVEEXEC_B64:</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;      <span class="keywordflow">case</span> AMDGPU::S_AND_B32:</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;      <span class="keywordflow">case</span> AMDGPU::S_AND_B64:</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1Use.html">Use</a>.readsRegister(AMDGPU::EXEC))</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;      <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;      }</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    }</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;  }</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160; </div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;  <span class="keywordflow">switch</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode()) {</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_READFIRSTLANE_B32:</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;  }</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160; </div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;}</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160; </div>
<div class="line"><a name="l00166"></a><span class="lineno"><a class="line" href="classllvm_1_1SIInstrInfo.html#a857ec99c61bfc201bb60525234551102">  166</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1SIInstrInfo.html#a857ec99c61bfc201bb60525234551102">SIInstrInfo::isIgnorableUse</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;MO)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;  <span class="comment">// Any implicit use of exec by VALU is not a real register read.</span></div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;  <span class="keywordflow">return</span> MO.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>() == AMDGPU::EXEC &amp;&amp; MO.<a class="code" href="classllvm_1_1MachineOperand.html#a3bf161859e1ad7fd3da485d3cb688d34">isImplicit</a>() &amp;&amp;</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;         <a class="code" href="classllvm_1_1SIInstrInfo.html#ade8d533000b775c514d9ac189b66c3a5">isVALU</a>(*MO.<a class="code" href="classllvm_1_1MachineOperand.html#acad8fe90886f92eabced0c2f9bd0e6f5">getParent</a>()) &amp;&amp; !<a class="code" href="SIInstrInfo_8cpp.html#a70e16ebf8bd9b6d4b89331190206e635">resultDependsOnExec</a>(*MO.<a class="code" href="classllvm_1_1MachineOperand.html#acad8fe90886f92eabced0c2f9bd0e6f5">getParent</a>());</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;}</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160; </div>
<div class="line"><a name="l00172"></a><span class="lineno"><a class="line" href="classllvm_1_1SIInstrInfo.html#a09ed4b8df3900d37518583f29bbb0144">  172</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1SIInstrInfo.html#a09ed4b8df3900d37518583f29bbb0144">SIInstrInfo::areLoadsFromSameBasePtr</a>(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *Load0, <a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *Load1,</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;                                          int64_t &amp;Offset0,</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;                                          int64_t &amp;Offset1)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;  <span class="keywordflow">if</span> (!Load0-&gt;<a class="code" href="classllvm_1_1SDNode.html#a1223d6e9a7dfb6e51299b894beccc679">isMachineOpcode</a>() || !Load1-&gt;<a class="code" href="classllvm_1_1SDNode.html#a1223d6e9a7dfb6e51299b894beccc679">isMachineOpcode</a>())</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160; </div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;  <span class="keywordtype">unsigned</span> Opc0 = Load0-&gt;<a class="code" href="classllvm_1_1SDNode.html#a7f96a3399d86d6f136aaa121de4217a3">getMachineOpcode</a>();</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;  <span class="keywordtype">unsigned</span> Opc1 = Load1-&gt;<a class="code" href="classllvm_1_1SDNode.html#a7f96a3399d86d6f136aaa121de4217a3">getMachineOpcode</a>();</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160; </div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;  <span class="comment">// Make sure both are actually loads.</span></div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(Opc0).mayLoad() || !<a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(Opc1).mayLoad())</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160; </div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SIInstrInfo.html#a08b60e6be6801b1f90d723990ef68009">isDS</a>(Opc0) &amp;&amp; <a class="code" href="classllvm_1_1SIInstrInfo.html#a08b60e6be6801b1f90d723990ef68009">isDS</a>(Opc1)) {</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160; </div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    <span class="comment">// FIXME: Handle this case:</span></div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="SIInstrInfo_8cpp.html#ae6e6e83717666f42581170b4599cd238">getNumOperandsNoGlue</a>(Load0) != <a class="code" href="SIInstrInfo_8cpp.html#ae6e6e83717666f42581170b4599cd238">getNumOperandsNoGlue</a>(Load1))</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160; </div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    <span class="comment">// Check base reg.</span></div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    <span class="keywordflow">if</span> (Load0-&gt;<a class="code" href="classllvm_1_1SDNode.html#aa167dab8c514d863ec44909befac3050">getOperand</a>(0) != Load1-&gt;<a class="code" href="classllvm_1_1SDNode.html#aa167dab8c514d863ec44909befac3050">getOperand</a>(0))</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160; </div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    <span class="comment">// Skip read2 / write2 variants for simplicity.</span></div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    <span class="comment">// TODO: We should report true if the used offsets are adjacent (excluded</span></div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    <span class="comment">// st64 versions).</span></div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    <span class="keywordtype">int</span> Offset0Idx = <a class="code" href="namespacellvm_1_1AMDGPU.html#a27efe1286cc31f5fc95355af30b0356c">AMDGPU::getNamedOperandIdx</a>(Opc0, AMDGPU::OpName::offset);</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    <span class="keywordtype">int</span> Offset1Idx = <a class="code" href="namespacellvm_1_1AMDGPU.html#a27efe1286cc31f5fc95355af30b0356c">AMDGPU::getNamedOperandIdx</a>(Opc1, AMDGPU::OpName::offset);</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    <span class="keywordflow">if</span> (Offset0Idx == -1 || Offset1Idx == -1)</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160; </div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    <span class="comment">// XXX - be careful of dataless loads</span></div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    <span class="comment">// getNamedOperandIdx returns the index for MachineInstrs.  Since they</span></div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    <span class="comment">// include the output in the operand list, but SDNodes don&#39;t, we need to</span></div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    <span class="comment">// subtract the index by one.</span></div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    Offset0Idx -= <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(Opc0).NumDefs;</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    Offset1Idx -= <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(Opc1).NumDefs;</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    Offset0 = cast&lt;ConstantSDNode&gt;(Load0-&gt;<a class="code" href="classllvm_1_1SDNode.html#aa167dab8c514d863ec44909befac3050">getOperand</a>(Offset0Idx))-&gt;getZExtValue();</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    Offset1 = cast&lt;ConstantSDNode&gt;(Load1-&gt;<a class="code" href="classllvm_1_1SDNode.html#aa167dab8c514d863ec44909befac3050">getOperand</a>(Offset1Idx))-&gt;getZExtValue();</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;  }</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160; </div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SIInstrInfo.html#a1c990a34866f377751f50f112cef61bc">isSMRD</a>(Opc0) &amp;&amp; <a class="code" href="classllvm_1_1SIInstrInfo.html#a1c990a34866f377751f50f112cef61bc">isSMRD</a>(Opc1)) {</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    <span class="comment">// Skip time and cache invalidation instructions.</span></div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1AMDGPU.html#a8f27aa11689bf9b12f6fb0e436e367c7">AMDGPU::hasNamedOperand</a>(Opc0, AMDGPU::OpName::sbase) ||</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;        !<a class="code" href="namespacellvm_1_1AMDGPU.html#a8f27aa11689bf9b12f6fb0e436e367c7">AMDGPU::hasNamedOperand</a>(Opc1, AMDGPU::OpName::sbase))</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160; </div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    <span class="keywordtype">unsigned</span> NumOps = <a class="code" href="SIInstrInfo_8cpp.html#ae6e6e83717666f42581170b4599cd238">getNumOperandsNoGlue</a>(Load0);</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    <span class="keywordflow">if</span> (NumOps != <a class="code" href="SIInstrInfo_8cpp.html#ae6e6e83717666f42581170b4599cd238">getNumOperandsNoGlue</a>(Load1))</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160; </div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    <span class="comment">// Check base reg.</span></div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    <span class="keywordflow">if</span> (Load0-&gt;<a class="code" href="classllvm_1_1SDNode.html#aa167dab8c514d863ec44909befac3050">getOperand</a>(0) != Load1-&gt;<a class="code" href="classllvm_1_1SDNode.html#aa167dab8c514d863ec44909befac3050">getOperand</a>(0))</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160; </div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    <span class="comment">// Match register offsets, if both register and immediate offsets present.</span></div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(NumOps == 4 || NumOps == 5);</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    <span class="keywordflow">if</span> (NumOps == 5 &amp;&amp; Load0-&gt;<a class="code" href="classllvm_1_1SDNode.html#aa167dab8c514d863ec44909befac3050">getOperand</a>(1) != Load1-&gt;<a class="code" href="classllvm_1_1SDNode.html#aa167dab8c514d863ec44909befac3050">getOperand</a>(1))</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160; </div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1ConstantSDNode.html">ConstantSDNode</a> *Load0Offset =</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;        dyn_cast&lt;ConstantSDNode&gt;(Load0-&gt;<a class="code" href="classllvm_1_1SDNode.html#aa167dab8c514d863ec44909befac3050">getOperand</a>(NumOps - 3));</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1ConstantSDNode.html">ConstantSDNode</a> *Load1Offset =</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;        dyn_cast&lt;ConstantSDNode&gt;(Load1-&gt;<a class="code" href="classllvm_1_1SDNode.html#aa167dab8c514d863ec44909befac3050">getOperand</a>(NumOps - 3));</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160; </div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    <span class="keywordflow">if</span> (!Load0Offset || !Load1Offset)</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160; </div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    Offset0 = Load0Offset-&gt;<a class="code" href="classllvm_1_1ConstantSDNode.html#a5cb49674ec65724b4d9aecb48588a13a">getZExtValue</a>();</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    Offset1 = Load1Offset-&gt;<a class="code" href="classllvm_1_1ConstantSDNode.html#a5cb49674ec65724b4d9aecb48588a13a">getZExtValue</a>();</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;  }</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160; </div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;  <span class="comment">// MUBUF and MTBUF can access the same addresses.</span></div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;  <span class="keywordflow">if</span> ((<a class="code" href="classllvm_1_1SIInstrInfo.html#a8616d2d8f4c04005569e89bcfe67e421">isMUBUF</a>(Opc0) || <a class="code" href="classllvm_1_1SIInstrInfo.html#a2c6289dfab83449b3f69792b35277cac">isMTBUF</a>(Opc0)) &amp;&amp; (<a class="code" href="classllvm_1_1SIInstrInfo.html#a8616d2d8f4c04005569e89bcfe67e421">isMUBUF</a>(Opc1) || <a class="code" href="classllvm_1_1SIInstrInfo.html#a2c6289dfab83449b3f69792b35277cac">isMTBUF</a>(Opc1))) {</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160; </div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    <span class="comment">// MUBUF and MTBUF have vaddr at different indices.</span></div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="SIInstrInfo_8cpp.html#a99ae43a8879de19170e80277b5c54b88">nodesHaveSameOperandValue</a>(Load0, Load1, AMDGPU::OpName::soffset) ||</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;        !<a class="code" href="SIInstrInfo_8cpp.html#a99ae43a8879de19170e80277b5c54b88">nodesHaveSameOperandValue</a>(Load0, Load1, AMDGPU::OpName::vaddr) ||</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;        !<a class="code" href="SIInstrInfo_8cpp.html#a99ae43a8879de19170e80277b5c54b88">nodesHaveSameOperandValue</a>(Load0, Load1, AMDGPU::OpName::srsrc))</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160; </div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    <span class="keywordtype">int</span> OffIdx0 = <a class="code" href="namespacellvm_1_1AMDGPU.html#a27efe1286cc31f5fc95355af30b0356c">AMDGPU::getNamedOperandIdx</a>(Opc0, AMDGPU::OpName::offset);</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    <span class="keywordtype">int</span> OffIdx1 = <a class="code" href="namespacellvm_1_1AMDGPU.html#a27efe1286cc31f5fc95355af30b0356c">AMDGPU::getNamedOperandIdx</a>(Opc1, AMDGPU::OpName::offset);</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160; </div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    <span class="keywordflow">if</span> (OffIdx0 == -1 || OffIdx1 == -1)</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160; </div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    <span class="comment">// getNamedOperandIdx returns the index for MachineInstrs.  Since they</span></div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    <span class="comment">// include the output in the operand list, but SDNodes don&#39;t, we need to</span></div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    <span class="comment">// subtract the index by one.</span></div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    OffIdx0 -= <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(Opc0).NumDefs;</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    OffIdx1 -= <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(Opc1).NumDefs;</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160; </div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Off0 = Load0-&gt;<a class="code" href="classllvm_1_1SDNode.html#aa167dab8c514d863ec44909befac3050">getOperand</a>(OffIdx0);</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Off1 = Load1-&gt;<a class="code" href="classllvm_1_1SDNode.html#aa167dab8c514d863ec44909befac3050">getOperand</a>(OffIdx1);</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160; </div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    <span class="comment">// The offset might be a FrameIndexSDNode.</span></div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    <span class="keywordflow">if</span> (!isa&lt;ConstantSDNode&gt;(Off0) || !isa&lt;ConstantSDNode&gt;(Off1))</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160; </div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    Offset0 = cast&lt;ConstantSDNode&gt;(Off0)-&gt;getZExtValue();</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    Offset1 = cast&lt;ConstantSDNode&gt;(Off1)-&gt;getZExtValue();</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;  }</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160; </div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;}</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160; </div>
<div class="line"><a name="l00282"></a><span class="lineno"><a class="line" href="SIInstrInfo_8cpp.html#a1b20766e517418d6dbe92cd0d6aa42ae">  282</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="SIInstrInfo_8cpp.html#a1b20766e517418d6dbe92cd0d6aa42ae">isStride64</a>(<span class="keywordtype">unsigned</span> Opc) {</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;  <span class="keywordflow">switch</span> (Opc) {</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;  <span class="keywordflow">case</span> AMDGPU::DS_READ2ST64_B32:</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;  <span class="keywordflow">case</span> AMDGPU::DS_READ2ST64_B64:</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;  <span class="keywordflow">case</span> AMDGPU::DS_WRITE2ST64_B32:</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;  <span class="keywordflow">case</span> AMDGPU::DS_WRITE2ST64_B64:</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;  }</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;}</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160; </div>
<div class="line"><a name="l00294"></a><span class="lineno"><a class="line" href="classllvm_1_1SIInstrInfo.html#a28183beb0c1d8ce3fcdbb11b26467b0d">  294</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1SIInstrInfo.html#a28183beb0c1d8ce3fcdbb11b26467b0d">SIInstrInfo::getMemOperandsWithOffsetWidth</a>(</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;LdSt, <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;const MachineOperand *&gt;</a> &amp;BaseOps,</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    int64_t &amp;<a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>, <span class="keywordtype">bool</span> &amp;OffsetIsScalable, <span class="keywordtype">unsigned</span> &amp;<a class="code" href="namespacellvm_1_1AMDGPU_1_1Hwreg.html#a6467ebe1e09a75203dd5f14bdfe21d11">Width</a>,</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterInfo.html">TargetRegisterInfo</a> *<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;  <span class="keywordflow">if</span> (!LdSt.<a class="code" href="classllvm_1_1MachineInstr.html#a17f5d15a7320dec2cfefb6617f711ab7">mayLoadOrStore</a>())</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160; </div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;  <span class="keywordtype">unsigned</span> Opc = LdSt.<a class="code" href="classllvm_1_1MachineInstr.html#a0363204b5fbab08a46f5a7cd7f376f78">getOpcode</a>();</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;  OffsetIsScalable = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> *BaseOp, *OffsetOp;</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;  <span class="keywordtype">int</span> DataOpIdx;</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160; </div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SIInstrInfo.html#a08b60e6be6801b1f90d723990ef68009">isDS</a>(LdSt)) {</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    BaseOp = <a class="code" href="classllvm_1_1SIInstrInfo.html#a61297a04e9cd91c9658b9affecdd9797">getNamedOperand</a>(LdSt, AMDGPU::OpName::addr);</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    OffsetOp = <a class="code" href="classllvm_1_1SIInstrInfo.html#a61297a04e9cd91c9658b9affecdd9797">getNamedOperand</a>(LdSt, AMDGPU::OpName::offset);</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    <span class="keywordflow">if</span> (OffsetOp) {</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;      <span class="comment">// Normal, single offset LDS instruction.</span></div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;      <span class="keywordflow">if</span> (!BaseOp) {</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;        <span class="comment">// DS_CONSUME/DS_APPEND use M0 for the base address.</span></div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;        <span class="comment">// TODO: find the implicit use operand for M0 and use that as BaseOp?</span></div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;      }</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;      BaseOps.push_back(BaseOp);</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;      <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> = OffsetOp-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#a38b28a85f818b49d8806c150b8a5b4f7">getImm</a>();</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;      <span class="comment">// Get appropriate operand, and compute width accordingly.</span></div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;      DataOpIdx = <a class="code" href="namespacellvm_1_1AMDGPU.html#a27efe1286cc31f5fc95355af30b0356c">AMDGPU::getNamedOperandIdx</a>(Opc, AMDGPU::OpName::vdst);</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;      <span class="keywordflow">if</span> (DataOpIdx == -1)</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;        DataOpIdx = <a class="code" href="namespacellvm_1_1AMDGPU.html#a27efe1286cc31f5fc95355af30b0356c">AMDGPU::getNamedOperandIdx</a>(Opc, AMDGPU::OpName::data0);</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;      <a class="code" href="namespacellvm_1_1AMDGPU_1_1Hwreg.html#a6467ebe1e09a75203dd5f14bdfe21d11">Width</a> = <a class="code" href="classllvm_1_1SIInstrInfo.html#a0df02605d5e00cad00c3b7f4aef3aa14">getOpSize</a>(LdSt, DataOpIdx);</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;      <span class="comment">// The 2 offset instructions use offset0 and offset1 instead. We can treat</span></div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;      <span class="comment">// these as a load with a single offset if the 2 offsets are consecutive.</span></div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;      <span class="comment">// We will use this for some partially aligned loads.</span></div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> *Offset0Op =</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;          <a class="code" href="classllvm_1_1SIInstrInfo.html#a61297a04e9cd91c9658b9affecdd9797">getNamedOperand</a>(LdSt, AMDGPU::OpName::offset0);</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> *Offset1Op =</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;          <a class="code" href="classllvm_1_1SIInstrInfo.html#a61297a04e9cd91c9658b9affecdd9797">getNamedOperand</a>(LdSt, AMDGPU::OpName::offset1);</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160; </div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;      <span class="keywordtype">unsigned</span> Offset0 = Offset0Op-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#a38b28a85f818b49d8806c150b8a5b4f7">getImm</a>();</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;      <span class="keywordtype">unsigned</span> Offset1 = Offset1Op-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#a38b28a85f818b49d8806c150b8a5b4f7">getImm</a>();</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;      <span class="keywordflow">if</span> (Offset0 + 1 != Offset1)</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160; </div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;      <span class="comment">// Each of these offsets is in element sized units, so we need to convert</span></div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;      <span class="comment">// to bytes of the individual reads.</span></div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160; </div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;      <span class="keywordtype">unsigned</span> EltSize;</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;      <span class="keywordflow">if</span> (LdSt.<a class="code" href="classllvm_1_1MachineInstr.html#a682028ac4a06c9e3550fa8e6e1909fa9">mayLoad</a>())</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;        EltSize = <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>-&gt;<a class="code" href="classllvm_1_1TargetRegisterInfo.html#a251557179fe64bb09bd7e327c60c6b24">getRegSizeInBits</a>(*<a class="code" href="classllvm_1_1SIInstrInfo.html#a7d38ae4f1dfa5ec71b0f78fab996425b">getOpRegClass</a>(LdSt, 0)) / 16;</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;      <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;        <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(LdSt.<a class="code" href="classllvm_1_1MachineInstr.html#ab96f3235c18e659758517d0532d606c9">mayStore</a>());</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;        <span class="keywordtype">int</span> Data0Idx = <a class="code" href="namespacellvm_1_1AMDGPU.html#a27efe1286cc31f5fc95355af30b0356c">AMDGPU::getNamedOperandIdx</a>(Opc, AMDGPU::OpName::data0);</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;        EltSize = <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>-&gt;<a class="code" href="classllvm_1_1TargetRegisterInfo.html#a251557179fe64bb09bd7e327c60c6b24">getRegSizeInBits</a>(*<a class="code" href="classllvm_1_1SIInstrInfo.html#a7d38ae4f1dfa5ec71b0f78fab996425b">getOpRegClass</a>(LdSt, Data0Idx)) / 8;</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;      }</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160; </div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="SIInstrInfo_8cpp.html#a1b20766e517418d6dbe92cd0d6aa42ae">isStride64</a>(Opc))</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;        EltSize *= 64;</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160; </div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;      BaseOps.push_back(BaseOp);</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;      <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> = EltSize * Offset0;</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;      <span class="comment">// Get appropriate operand(s), and compute width accordingly.</span></div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;      DataOpIdx = <a class="code" href="namespacellvm_1_1AMDGPU.html#a27efe1286cc31f5fc95355af30b0356c">AMDGPU::getNamedOperandIdx</a>(Opc, AMDGPU::OpName::vdst);</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;      <span class="keywordflow">if</span> (DataOpIdx == -1) {</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;        DataOpIdx = <a class="code" href="namespacellvm_1_1AMDGPU.html#a27efe1286cc31f5fc95355af30b0356c">AMDGPU::getNamedOperandIdx</a>(Opc, AMDGPU::OpName::data0);</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;        <a class="code" href="namespacellvm_1_1AMDGPU_1_1Hwreg.html#a6467ebe1e09a75203dd5f14bdfe21d11">Width</a> = <a class="code" href="classllvm_1_1SIInstrInfo.html#a0df02605d5e00cad00c3b7f4aef3aa14">getOpSize</a>(LdSt, DataOpIdx);</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;        DataOpIdx = <a class="code" href="namespacellvm_1_1AMDGPU.html#a27efe1286cc31f5fc95355af30b0356c">AMDGPU::getNamedOperandIdx</a>(Opc, AMDGPU::OpName::data1);</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;        <a class="code" href="namespacellvm_1_1AMDGPU_1_1Hwreg.html#a6467ebe1e09a75203dd5f14bdfe21d11">Width</a> += <a class="code" href="classllvm_1_1SIInstrInfo.html#a0df02605d5e00cad00c3b7f4aef3aa14">getOpSize</a>(LdSt, DataOpIdx);</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;        <a class="code" href="namespacellvm_1_1AMDGPU_1_1Hwreg.html#a6467ebe1e09a75203dd5f14bdfe21d11">Width</a> = <a class="code" href="classllvm_1_1SIInstrInfo.html#a0df02605d5e00cad00c3b7f4aef3aa14">getOpSize</a>(LdSt, DataOpIdx);</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;      }</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    }</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;  }</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160; </div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SIInstrInfo.html#a8616d2d8f4c04005569e89bcfe67e421">isMUBUF</a>(LdSt) || <a class="code" href="classllvm_1_1SIInstrInfo.html#a2c6289dfab83449b3f69792b35277cac">isMTBUF</a>(LdSt)) {</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> *RSrc = <a class="code" href="classllvm_1_1SIInstrInfo.html#a61297a04e9cd91c9658b9affecdd9797">getNamedOperand</a>(LdSt, AMDGPU::OpName::srsrc);</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;    <span class="keywordflow">if</span> (!RSrc) <span class="comment">// e.g. BUFFER_WBINVL1_VOL</span></div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    BaseOps.push_back(RSrc);</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    BaseOp = <a class="code" href="classllvm_1_1SIInstrInfo.html#a61297a04e9cd91c9658b9affecdd9797">getNamedOperand</a>(LdSt, AMDGPU::OpName::vaddr);</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    <span class="keywordflow">if</span> (BaseOp &amp;&amp; !BaseOp-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#ad7213433bd60dc33020246384dc18b9b">isFI</a>())</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;      BaseOps.push_back(BaseOp);</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> *OffsetImm =</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;        <a class="code" href="classllvm_1_1SIInstrInfo.html#a61297a04e9cd91c9658b9affecdd9797">getNamedOperand</a>(LdSt, AMDGPU::OpName::offset);</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> = OffsetImm-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#a38b28a85f818b49d8806c150b8a5b4f7">getImm</a>();</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> *SOffset =</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;        <a class="code" href="classllvm_1_1SIInstrInfo.html#a61297a04e9cd91c9658b9affecdd9797">getNamedOperand</a>(LdSt, AMDGPU::OpName::soffset);</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    <span class="keywordflow">if</span> (SOffset) {</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;      <span class="keywordflow">if</span> (SOffset-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#a4c9594c955fec80c73ddd964b5efd554">isReg</a>())</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;        BaseOps.push_back(SOffset);</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;        <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> += SOffset-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#a38b28a85f818b49d8806c150b8a5b4f7">getImm</a>();</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    }</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;    <span class="comment">// Get appropriate operand, and compute width accordingly.</span></div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    DataOpIdx = <a class="code" href="namespacellvm_1_1AMDGPU.html#a27efe1286cc31f5fc95355af30b0356c">AMDGPU::getNamedOperandIdx</a>(Opc, AMDGPU::OpName::vdst);</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;    <span class="keywordflow">if</span> (DataOpIdx == -1)</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;      DataOpIdx = <a class="code" href="namespacellvm_1_1AMDGPU.html#a27efe1286cc31f5fc95355af30b0356c">AMDGPU::getNamedOperandIdx</a>(Opc, AMDGPU::OpName::vdata);</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    <span class="keywordflow">if</span> (DataOpIdx == -1) <span class="comment">// LDS DMA</span></div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    <a class="code" href="namespacellvm_1_1AMDGPU_1_1Hwreg.html#a6467ebe1e09a75203dd5f14bdfe21d11">Width</a> = <a class="code" href="classllvm_1_1SIInstrInfo.html#a0df02605d5e00cad00c3b7f4aef3aa14">getOpSize</a>(LdSt, DataOpIdx);</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;  }</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160; </div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SIInstrInfo.html#abdcf600002fd489c76924f2ec4f4fc0f">isMIMG</a>(LdSt)) {</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;    <span class="keywordtype">int</span> SRsrcIdx = <a class="code" href="namespacellvm_1_1AMDGPU.html#a27efe1286cc31f5fc95355af30b0356c">AMDGPU::getNamedOperandIdx</a>(Opc, AMDGPU::OpName::srsrc);</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;    BaseOps.push_back(&amp;LdSt.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(SRsrcIdx));</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;    <span class="keywordtype">int</span> VAddr0Idx = <a class="code" href="namespacellvm_1_1AMDGPU.html#a27efe1286cc31f5fc95355af30b0356c">AMDGPU::getNamedOperandIdx</a>(Opc, AMDGPU::OpName::vaddr0);</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    <span class="keywordflow">if</span> (VAddr0Idx &gt;= 0) {</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;      <span class="comment">// GFX10 possible NSA encoding.</span></div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = VAddr0Idx; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> &lt; SRsrcIdx; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;        BaseOps.push_back(&amp;LdSt.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>));</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;      BaseOps.push_back(<a class="code" href="classllvm_1_1SIInstrInfo.html#a61297a04e9cd91c9658b9affecdd9797">getNamedOperand</a>(LdSt, AMDGPU::OpName::vaddr));</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;    }</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;    <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> = 0;</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;    <span class="comment">// Get appropriate operand, and compute width accordingly.</span></div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;    DataOpIdx = <a class="code" href="namespacellvm_1_1AMDGPU.html#a27efe1286cc31f5fc95355af30b0356c">AMDGPU::getNamedOperandIdx</a>(Opc, AMDGPU::OpName::vdata);</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;    <a class="code" href="namespacellvm_1_1AMDGPU_1_1Hwreg.html#a6467ebe1e09a75203dd5f14bdfe21d11">Width</a> = <a class="code" href="classllvm_1_1SIInstrInfo.html#a0df02605d5e00cad00c3b7f4aef3aa14">getOpSize</a>(LdSt, DataOpIdx);</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;  }</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160; </div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SIInstrInfo.html#a1c990a34866f377751f50f112cef61bc">isSMRD</a>(LdSt)) {</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;    BaseOp = <a class="code" href="classllvm_1_1SIInstrInfo.html#a61297a04e9cd91c9658b9affecdd9797">getNamedOperand</a>(LdSt, AMDGPU::OpName::sbase);</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;    <span class="keywordflow">if</span> (!BaseOp) <span class="comment">// e.g. S_MEMTIME</span></div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;    BaseOps.push_back(BaseOp);</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;    OffsetOp = <a class="code" href="classllvm_1_1SIInstrInfo.html#a61297a04e9cd91c9658b9affecdd9797">getNamedOperand</a>(LdSt, AMDGPU::OpName::offset);</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> = OffsetOp ? OffsetOp-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#a38b28a85f818b49d8806c150b8a5b4f7">getImm</a>() : 0;</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;    <span class="comment">// Get appropriate operand, and compute width accordingly.</span></div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;    DataOpIdx = <a class="code" href="namespacellvm_1_1AMDGPU.html#a27efe1286cc31f5fc95355af30b0356c">AMDGPU::getNamedOperandIdx</a>(Opc, AMDGPU::OpName::sdst);</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;    <a class="code" href="namespacellvm_1_1AMDGPU_1_1Hwreg.html#a6467ebe1e09a75203dd5f14bdfe21d11">Width</a> = <a class="code" href="classllvm_1_1SIInstrInfo.html#a0df02605d5e00cad00c3b7f4aef3aa14">getOpSize</a>(LdSt, DataOpIdx);</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;  }</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160; </div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SIInstrInfo.html#adc3333d2d5974f4068df84f8706fc7d2">isFLAT</a>(LdSt)) {</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;    <span class="comment">// Instructions have either vaddr or saddr or both or none.</span></div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;    BaseOp = <a class="code" href="classllvm_1_1SIInstrInfo.html#a61297a04e9cd91c9658b9affecdd9797">getNamedOperand</a>(LdSt, AMDGPU::OpName::vaddr);</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;    <span class="keywordflow">if</span> (BaseOp)</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;      BaseOps.push_back(BaseOp);</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;    BaseOp = <a class="code" href="classllvm_1_1SIInstrInfo.html#a61297a04e9cd91c9658b9affecdd9797">getNamedOperand</a>(LdSt, AMDGPU::OpName::saddr);</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;    <span class="keywordflow">if</span> (BaseOp)</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;      BaseOps.push_back(BaseOp);</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;    <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> = <a class="code" href="classllvm_1_1SIInstrInfo.html#a61297a04e9cd91c9658b9affecdd9797">getNamedOperand</a>(LdSt, AMDGPU::OpName::offset)-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#a38b28a85f818b49d8806c150b8a5b4f7">getImm</a>();</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    <span class="comment">// Get appropriate operand, and compute width accordingly.</span></div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;    DataOpIdx = <a class="code" href="namespacellvm_1_1AMDGPU.html#a27efe1286cc31f5fc95355af30b0356c">AMDGPU::getNamedOperandIdx</a>(Opc, AMDGPU::OpName::vdst);</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;    <span class="keywordflow">if</span> (DataOpIdx == -1)</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;      DataOpIdx = <a class="code" href="namespacellvm_1_1AMDGPU.html#a27efe1286cc31f5fc95355af30b0356c">AMDGPU::getNamedOperandIdx</a>(Opc, AMDGPU::OpName::vdata);</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;    <span class="keywordflow">if</span> (DataOpIdx == -1) <span class="comment">// LDS DMA</span></div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    <a class="code" href="namespacellvm_1_1AMDGPU_1_1Hwreg.html#a6467ebe1e09a75203dd5f14bdfe21d11">Width</a> = <a class="code" href="classllvm_1_1SIInstrInfo.html#a0df02605d5e00cad00c3b7f4aef3aa14">getOpSize</a>(LdSt, DataOpIdx);</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;  }</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160; </div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;}</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160; </div>
<div class="line"><a name="l00450"></a><span class="lineno"><a class="line" href="SIInstrInfo_8cpp.html#a951bbdda542205db9de80f6bf44f571c">  450</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="SIInstrInfo_8cpp.html#a951bbdda542205db9de80f6bf44f571c">memOpsHaveSameBasePtr</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;MI1,</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;                                  <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;const MachineOperand *&gt;</a> BaseOps1,</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;                                  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;MI2,</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;                                  <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;const MachineOperand *&gt;</a> BaseOps2) {</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;  <span class="comment">// Only examine the first &quot;base&quot; operand of each instruction, on the</span></div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;  <span class="comment">// assumption that it represents the real base address of the memory access.</span></div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;  <span class="comment">// Other operands are typically offsets or indices from this base address.</span></div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;  <span class="keywordflow">if</span> (BaseOps1.<a class="code" href="classllvm_1_1ArrayRef.html#a6bc2b53fce3b1d8975eea027d8a8eb90">front</a>()-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#ad7f2dc64214551418f486026ffc95fa4">isIdenticalTo</a>(*BaseOps2.<a class="code" href="classllvm_1_1ArrayRef.html#a6bc2b53fce3b1d8975eea027d8a8eb90">front</a>()))</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160; </div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;  <span class="keywordflow">if</span> (!MI1.<a class="code" href="classllvm_1_1MachineInstr.html#a999795324f5e7c578a97992d780080f1">hasOneMemOperand</a>() || !MI2.<a class="code" href="classllvm_1_1MachineInstr.html#a999795324f5e7c578a97992d780080f1">hasOneMemOperand</a>())</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160; </div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;  <span class="keyword">auto</span> MO1 = *MI1.<a class="code" href="classllvm_1_1MachineInstr.html#aa5ff177bc1498508696aaf27235db3fc">memoperands_begin</a>();</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;  <span class="keyword">auto</span> MO2 = *MI2.<a class="code" href="classllvm_1_1MachineInstr.html#aa5ff177bc1498508696aaf27235db3fc">memoperands_begin</a>();</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;  <span class="keywordflow">if</span> (MO1-&gt;getAddrSpace() != MO2-&gt;getAddrSpace())</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160; </div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;  <span class="keyword">auto</span> Base1 = MO1-&gt;getValue();</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;  <span class="keyword">auto</span> Base2 = MO2-&gt;getValue();</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;  <span class="keywordflow">if</span> (!Base1 || !Base2)</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;  Base1 = <a class="code" href="namespacellvm.html#a3b1c5788b85ffa254be0e834edf5cf8f">getUnderlyingObject</a>(Base1);</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;  Base2 = <a class="code" href="namespacellvm.html#a3b1c5788b85ffa254be0e834edf5cf8f">getUnderlyingObject</a>(Base2);</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160; </div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;  <span class="keywordflow">if</span> (isa&lt;UndefValue&gt;(Base1) || isa&lt;UndefValue&gt;(Base2))</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160; </div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;  <span class="keywordflow">return</span> Base1 == Base2;</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;}</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160; </div>
<div class="line"><a name="l00481"></a><span class="lineno"><a class="line" href="classllvm_1_1SIInstrInfo.html#ad34047d7a876baee37d1e4271f936e74">  481</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1SIInstrInfo.html#ad34047d7a876baee37d1e4271f936e74">SIInstrInfo::shouldClusterMemOps</a>(<a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;const MachineOperand *&gt;</a> BaseOps1,</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;                                      <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;const MachineOperand *&gt;</a> BaseOps2,</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;                                      <span class="keywordtype">unsigned</span> NumLoads,</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;                                      <span class="keywordtype">unsigned</span> NumBytes)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;  <span class="comment">// If the mem ops (to be clustered) do not have the same base ptr, then they</span></div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;  <span class="comment">// should not be clustered</span></div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;  <span class="keywordflow">if</span> (!BaseOps1.<a class="code" href="classllvm_1_1ArrayRef.html#ac835b8735b1b2faec0efdca236e37d94">empty</a>() &amp;&amp; !BaseOps2.<a class="code" href="classllvm_1_1ArrayRef.html#ac835b8735b1b2faec0efdca236e37d94">empty</a>()) {</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;FirstLdSt = *BaseOps1.<a class="code" href="classllvm_1_1ArrayRef.html#a6bc2b53fce3b1d8975eea027d8a8eb90">front</a>()-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#acad8fe90886f92eabced0c2f9bd0e6f5">getParent</a>();</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;SecondLdSt = *BaseOps2.<a class="code" href="classllvm_1_1ArrayRef.html#a6bc2b53fce3b1d8975eea027d8a8eb90">front</a>()-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#acad8fe90886f92eabced0c2f9bd0e6f5">getParent</a>();</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="SIInstrInfo_8cpp.html#a951bbdda542205db9de80f6bf44f571c">memOpsHaveSameBasePtr</a>(FirstLdSt, BaseOps1, SecondLdSt, BaseOps2))</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!BaseOps1.<a class="code" href="classllvm_1_1ArrayRef.html#ac835b8735b1b2faec0efdca236e37d94">empty</a>() || !BaseOps2.<a class="code" href="classllvm_1_1ArrayRef.html#ac835b8735b1b2faec0efdca236e37d94">empty</a>()) {</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;    <span class="comment">// If only one base op is empty, they do not have the same base ptr</span></div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;  }</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160; </div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;  <span class="comment">// In order to avoid register pressure, on an average, the number of DWORDS</span></div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;  <span class="comment">// loaded together by all clustered mem ops should not exceed 8. This is an</span></div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;  <span class="comment">// empirical value based on certain observations and performance related</span></div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;  <span class="comment">// experiments.</span></div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;  <span class="comment">// The good thing about this heuristic is - it avoids clustering of too many</span></div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;  <span class="comment">// sub-word loads, and also avoids clustering of wide loads. Below is the</span></div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;  <span class="comment">// brief summary of how the heuristic behaves for various `LoadSize`.</span></div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;  <span class="comment">// (1) 1 &lt;= LoadSize &lt;= 4: cluster at max 8 mem ops</span></div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;  <span class="comment">// (2) 5 &lt;= LoadSize &lt;= 8: cluster at max 4 mem ops</span></div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;  <span class="comment">// (3) 9 &lt;= LoadSize &lt;= 12: cluster at max 2 mem ops</span></div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;  <span class="comment">// (4) 13 &lt;= LoadSize &lt;= 16: cluster at max 2 mem ops</span></div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;  <span class="comment">// (5) LoadSize &gt;= 17: do not cluster</span></div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> LoadSize = NumBytes / NumLoads;</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> NumDWORDs = ((LoadSize + 3) / 4) * NumLoads;</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;  <span class="keywordflow">return</span> NumDWORDs &lt;= 8;</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;}</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160; </div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;<span class="comment">// FIXME: This behaves strangely. If, for example, you have 32 load + stores,</span></div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;<span class="comment">// the first 16 loads will be interleaved with the stores, and the next 16 will</span></div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;<span class="comment">// be clustered as expected. It should really split into 2 16 store batches.</span></div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;<span class="comment">// Loads are clustered until this returns false, rather than trying to schedule</span></div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;<span class="comment">// groups of stores. This also means we have to deal with saying different</span></div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;<span class="comment">// address space loads should be clustered, and ones which might cause bank</span></div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;<span class="comment">// conflicts.</span></div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;<span class="comment">// This might be deprecated so it might not be worth that much effort to fix.</span></div>
<div class="line"><a name="l00524"></a><span class="lineno"><a class="line" href="classllvm_1_1SIInstrInfo.html#a185895a367f8cba1b465d6fd2a660fe7">  524</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1SIInstrInfo.html#a185895a367f8cba1b465d6fd2a660fe7">SIInstrInfo::shouldScheduleLoadsNear</a>(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *Load0, <a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *Load1,</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;                                          int64_t Offset0, int64_t Offset1,</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;                                          <span class="keywordtype">unsigned</span> NumLoads)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Offset1 &gt; Offset0 &amp;&amp;</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;         <span class="stringliteral">&quot;Second offset should be larger than first offset!&quot;</span>);</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;  <span class="comment">// If we have less than 16 loads in a row, and the offsets are within 64</span></div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;  <span class="comment">// bytes, then schedule together.</span></div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160; </div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;  <span class="comment">// A cacheline is 64 bytes (for global memory).</span></div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;  <span class="keywordflow">return</span> (NumLoads &lt;= 16 &amp;&amp; (Offset1 - Offset0) &lt; 64);</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;}</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160; </div>
<div class="line"><a name="l00536"></a><span class="lineno"><a class="line" href="SIInstrInfo_8cpp.html#a9a029ae88221a63092305945fd7fc4da">  536</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="SIInstrInfo_8cpp.html#a9a029ae88221a63092305945fd7fc4da">reportIllegalCopy</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SIInstrInfo.html">SIInstrInfo</a> *<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>,</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;                              <a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::iterator</a> <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>,</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;                              <span class="keyword">const</span> <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="classllvm_1_1MCRegister.html">MCRegister</a> DestReg,</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;                              <a class="code" href="classllvm_1_1MCRegister.html">MCRegister</a> SrcReg, <span class="keywordtype">bool</span> KillSrc,</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;                              <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#ad7fab8522e49be1b20c4db4fc431bd3c">Msg</a> = <span class="stringliteral">&quot;illegal SGPR to VGPR copy&quot;</span>) {</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;  <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> *MF = <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a4e21760f681d6f97f95c8414e7b83ea5">getParent</a>();</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;  <a class="code" href="classllvm_1_1DiagnosticInfoUnsupported.html">DiagnosticInfoUnsupported</a> IllegalCopy(MF-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#a4b21394c138cc5ae719510bb529ee099">getFunction</a>(), <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#ad7fab8522e49be1b20c4db4fc431bd3c">Msg</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#abfcab32516704f11d146c757f402ad5caa73815097c71f15fe54ab447a7ff00ba">DS_Error</a>);</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;  <a class="code" href="classllvm_1_1LLVMContext.html">LLVMContext</a> &amp;<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = MF-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#a4b21394c138cc5ae719510bb529ee099">getFunction</a>().<a class="code" href="classllvm_1_1Function.html#a9fffac2512fe651f0d5e37e27f5bd51c">getContext</a>();</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;  <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>.<a class="code" href="classllvm_1_1LLVMContext.html#aad03ef5cfbe6e7cad076d9e45ba06592">diagnose</a>(IllegalCopy);</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160; </div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;  <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>-&gt;get(AMDGPU::SI_ILLEGAL_COPY), DestReg)</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;    .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(SrcReg, <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(KillSrc));</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;}</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;<span class="comment">/// Handle copying from SGPR to AGPR, or from AGPR to AGPR on GFX908. It is not</span></div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;<span class="comment">/// possible to have a direct copy in these cases on GFX908, so an intermediate</span></div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;<span class="comment">/// VGPR copy is required.</span></div>
<div class="line"><a name="l00553"></a><span class="lineno"><a class="line" href="SIInstrInfo_8cpp.html#a15bbc2e996b691d46e24ff65c21b046a">  553</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="SIInstrInfo_8cpp.html#a15bbc2e996b691d46e24ff65c21b046a">indirectCopyToAGPR</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SIInstrInfo.html">SIInstrInfo</a> &amp;<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>,</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;                               <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>,</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;                               <a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::iterator</a> <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>,</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;                               <span class="keyword">const</span> <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="classllvm_1_1MCRegister.html">MCRegister</a> DestReg,</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;                               <a class="code" href="classllvm_1_1MCRegister.html">MCRegister</a> SrcReg, <span class="keywordtype">bool</span> KillSrc,</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;                               <a class="code" href="classllvm_1_1RegScavenger.html">RegScavenger</a> &amp;RS, <span class="keywordtype">bool</span> RegsOverlap,</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;                               <a class="code" href="classllvm_1_1Register.html">Register</a> ImpDefSuperReg = <a class="code" href="classllvm_1_1Register.html">Register</a>(),</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;                               <a class="code" href="classllvm_1_1Register.html">Register</a> ImpUseSuperReg = <a class="code" href="classllvm_1_1Register.html">Register</a>()) {</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.getSubtarget().hasMAIInsts() &amp;&amp;</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;          !<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.getSubtarget().hasGFX90AInsts()) &amp;&amp;</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;         <span class="stringliteral">&quot;Expected GFX908 subtarget.&quot;</span>);</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160; </div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((AMDGPU::SReg_32RegClass.<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a1112b818386ec01ddfdf3a5d0024eb17">contains</a>(SrcReg) ||</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;          AMDGPU::AGPR_32RegClass.<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a1112b818386ec01ddfdf3a5d0024eb17">contains</a>(SrcReg)) &amp;&amp;</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;         <span class="stringliteral">&quot;Source register of the copy should be either an SGPR or an AGPR.&quot;</span>);</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160; </div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(AMDGPU::AGPR_32RegClass.<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a1112b818386ec01ddfdf3a5d0024eb17">contains</a>(DestReg) &amp;&amp;</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;         <span class="stringliteral">&quot;Destination register of the copy should be an AGPR.&quot;</span>);</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160; </div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SIRegisterInfo.html">SIRegisterInfo</a> &amp;RI = <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.getRegisterInfo();</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160; </div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;  <span class="comment">// First try to find defining accvgpr_write to avoid temporary registers.</span></div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;  <span class="comment">// In the case of copies of overlapping AGPRs, we conservatively do not</span></div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;  <span class="comment">// reuse previous accvgpr_writes. Otherwise, we may incorrectly pick up</span></div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;  <span class="comment">// an accvgpr_write used for this same copy due to implicit-defs</span></div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;  <span class="keywordflow">if</span> (!RegsOverlap) {</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a> = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#ab2d91e7bec944efcbc39d8e30644f111">begin</a>(); <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a> != <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>; ) {</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;      --<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a>;</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a>-&gt;definesRegister(SrcReg, &amp;RI))</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a>-&gt;getOpcode() != AMDGPU::V_ACCVGPR_WRITE_B32_e64)</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160; </div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;      <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;DefOp = <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a>-&gt;getOperand(1);</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(DefOp.<a class="code" href="classllvm_1_1MachineOperand.html#a4c9594c955fec80c73ddd964b5efd554">isReg</a>() || DefOp.<a class="code" href="classllvm_1_1MachineOperand.html#a76f61c6784df6dc8402a8b9011041926">isImm</a>());</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160; </div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;      <span class="keywordflow">if</span> (DefOp.<a class="code" href="classllvm_1_1MachineOperand.html#a4c9594c955fec80c73ddd964b5efd554">isReg</a>()) {</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;        <span class="keywordtype">bool</span> SafeToPropagate = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;        <span class="comment">// Check that register source operand is not clobbered before MI.</span></div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;        <span class="comment">// Immediate operands are always safe to propagate.</span></div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">auto</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a>; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a> &amp;&amp; SafeToPropagate; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;modifiesRegister(DefOp.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>(), &amp;RI))</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;            SafeToPropagate = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160; </div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;        <span class="keywordflow">if</span> (!SafeToPropagate)</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160; </div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;        DefOp.<a class="code" href="classllvm_1_1MachineOperand.html#a8a82683fccdef8a5ef772ef03277aee7">setIsKill</a>(<span class="keyword">false</span>);</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;      }</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160; </div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;      <a class="code" href="classllvm_1_1MachineInstrBuilder.html">MachineInstrBuilder</a> <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a> =</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;        <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(AMDGPU::V_ACCVGPR_WRITE_B32_e64), DestReg)</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a1ac8d27532cfd1d1f032ecbff2ba3611">add</a>(DefOp);</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;      <span class="keywordflow">if</span> (ImpDefSuperReg)</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;        <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.addReg(ImpDefSuperReg, <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da72c17e2ff2d5af62a30e56ac152aa8d5">RegState::Define</a> | <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da0fec8ba6f4a4dc758b725205985eee99">RegState::Implicit</a>);</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160; </div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;      <span class="keywordflow">if</span> (ImpUseSuperReg) {</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;        <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.addReg(ImpUseSuperReg,</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;                      <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(KillSrc) | <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da0fec8ba6f4a4dc758b725205985eee99">RegState::Implicit</a>);</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;      }</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160; </div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;    }</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;  }</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160; </div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;  RS.<a class="code" href="classllvm_1_1RegScavenger.html#a4f1af6e587ae8846628561570b54e2ee">enterBasicBlock</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>);</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;  RS.<a class="code" href="classllvm_1_1RegScavenger.html#afe23dbb6421b62ff369b85cd8436d483">forward</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160; </div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;  <span class="comment">// Ideally we want to have three registers for a long reg_sequence copy</span></div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;  <span class="comment">// to hide 2 waitstates between v_mov_b32 and accvgpr_write.</span></div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;  <span class="keywordtype">unsigned</span> MaxVGPRs = RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#aa7dbd22ec4e0cc058f8290a8b98cacc6">getRegPressureLimit</a>(&amp;AMDGPU::VGPR_32RegClass,</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;                                             *<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a4e21760f681d6f97f95c8414e7b83ea5">getParent</a>());</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160; </div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;  <span class="comment">// Registers in the sequence are allocated contiguously so we can just</span></div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;  <span class="comment">// use register number to pick one of three round-robin temps.</span></div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;  <span class="keywordtype">unsigned</span> RegNo = (DestReg - AMDGPU::AGPR0) % 3;</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> Tmp =</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;      <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a4e21760f681d6f97f95c8414e7b83ea5">getParent</a>()-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#ac2dc0fa143c9f2127f0501734577a0a0">getInfo</a>&lt;<a class="code" href="classllvm_1_1SIMachineFunctionInfo.html">SIMachineFunctionInfo</a>&gt;()-&gt;getVGPRForAGPRCopy();</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a4e21760f681d6f97f95c8414e7b83ea5">getParent</a>()-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>().<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a53ca7cff9e929ba372da9780fdd44b02">isReserved</a>(Tmp) &amp;&amp;</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;         <span class="stringliteral">&quot;VGPR used for an intermediate copy should have been reserved.&quot;</span>);</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160; </div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;  <span class="comment">// Only loop through if there are any free registers left, otherwise</span></div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;  <span class="comment">// scavenger may report a fatal error without emergency spill slot</span></div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;  <span class="comment">// or spill with the slot.</span></div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;  <span class="keywordflow">while</span> (RegNo-- &amp;&amp; RS.<a class="code" href="classllvm_1_1RegScavenger.html#a28849ec4920f5ee3f97d344633e695f4">FindUnusedReg</a>(&amp;AMDGPU::VGPR_32RegClass)) {</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> Tmp2 = RS.<a class="code" href="classllvm_1_1RegScavenger.html#a291cc21c757ff76108ff9f36c57723e9">scavengeRegister</a>(&amp;AMDGPU::VGPR_32RegClass, 0);</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;    <span class="keywordflow">if</span> (!Tmp2 || RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#a954d76fe761bb4014b2da81cac2360cf">getHWRegIndex</a>(Tmp2) &gt;= MaxVGPRs)</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;    Tmp = Tmp2;</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;    RS.<a class="code" href="classllvm_1_1RegScavenger.html#a34542ec002baa6b027a6d05644c6bb2e">setRegUsed</a>(Tmp);</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;  }</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160; </div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;  <span class="comment">// Insert copy to temporary VGPR.</span></div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;  <span class="keywordtype">unsigned</span> TmpCopyOp = AMDGPU::V_MOV_B32_e32;</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;  <span class="keywordflow">if</span> (AMDGPU::AGPR_32RegClass.<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a1112b818386ec01ddfdf3a5d0024eb17">contains</a>(SrcReg)) {</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;    TmpCopyOp = AMDGPU::V_ACCVGPR_READ_B32_e64;</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(AMDGPU::SReg_32RegClass.<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a1112b818386ec01ddfdf3a5d0024eb17">contains</a>(SrcReg));</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;  }</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160; </div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;  <a class="code" href="classllvm_1_1MachineInstrBuilder.html">MachineInstrBuilder</a> UseBuilder = <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(TmpCopyOp), Tmp)</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;    .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(SrcReg, <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(KillSrc));</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;  <span class="keywordflow">if</span> (ImpUseSuperReg) {</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;    UseBuilder.<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(ImpUseSuperReg,</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;                      <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(KillSrc) | <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da0fec8ba6f4a4dc758b725205985eee99">RegState::Implicit</a>);</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;  }</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160; </div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;  <a class="code" href="classllvm_1_1MachineInstrBuilder.html">MachineInstrBuilder</a> DefBuilder</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;    = <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(AMDGPU::V_ACCVGPR_WRITE_B32_e64), DestReg)</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;    .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(Tmp, <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da9ddde91ef09476d28a088fe57f8e2921">RegState::Kill</a>);</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160; </div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;  <span class="keywordflow">if</span> (ImpDefSuperReg)</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;    DefBuilder.<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(ImpDefSuperReg, <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da72c17e2ff2d5af62a30e56ac152aa8d5">RegState::Define</a> | <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da0fec8ba6f4a4dc758b725205985eee99">RegState::Implicit</a>);</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;}</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160; </div>
<div class="line"><a name="l00668"></a><span class="lineno"><a class="line" href="SIInstrInfo_8cpp.html#a0cf3c7ba2564fa10526e70ecd607db74">  668</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="SIInstrInfo_8cpp.html#a0cf3c7ba2564fa10526e70ecd607db74">expandSGPRCopy</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SIInstrInfo.html">SIInstrInfo</a> &amp;<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>,</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;                           <a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::iterator</a> <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>,</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;                           <a class="code" href="classllvm_1_1MCRegister.html">MCRegister</a> DestReg, <a class="code" href="classllvm_1_1MCRegister.html">MCRegister</a> SrcReg, <span class="keywordtype">bool</span> KillSrc,</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;                           <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *RC, <span class="keywordtype">bool</span> Forward) {</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SIRegisterInfo.html">SIRegisterInfo</a> &amp;RI = <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.getRegisterInfo();</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;  <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;int16_t&gt;</a> BaseIndices = RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#a4b7ead7725a07da4240f0edea1e4a2d6">getRegSplitParts</a>(RC, 4);</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;  <a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>;</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;  <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *FirstMI = <span class="keyword">nullptr</span>, *LastMI = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160; </div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> Idx = 0; Idx &lt; BaseIndices.<a class="code" href="classllvm_1_1ArrayRef.html#a85ffb6531d4cda988ea81f18d4e56fb7">size</a>(); ++Idx) {</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;    int16_t SubIdx = BaseIndices[Idx];</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a> = RI.getSubReg(DestReg, SubIdx);</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;    <span class="keywordtype">unsigned</span> Opcode = AMDGPU::S_MOV_B32;</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160; </div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;    <span class="comment">// Is SGPR aligned? If so try to combine with next.</span></div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> Src = RI.getSubReg(SrcReg, SubIdx);</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;    <span class="keywordtype">bool</span> AlignedDest = ((<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a> - AMDGPU::SGPR0) % 2) == 0;</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;    <span class="keywordtype">bool</span> AlignedSrc = ((Src - AMDGPU::SGPR0) % 2) == 0;</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;    <span class="keywordflow">if</span> (AlignedDest &amp;&amp; AlignedSrc &amp;&amp; (Idx + 1 &lt; BaseIndices.<a class="code" href="classllvm_1_1ArrayRef.html#a85ffb6531d4cda988ea81f18d4e56fb7">size</a>())) {</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;      <span class="comment">// Can use SGPR64 copy</span></div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;      <span class="keywordtype">unsigned</span> Channel = RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#ad7eff7d73e979a05739b21cc353f748c">getChannelFromSubReg</a>(SubIdx);</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;      SubIdx = RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#a1be43761db2568933db89648201ab15c">getSubRegFromChannel</a>(Channel, 2);</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;      Opcode = AMDGPU::S_MOV_B64;</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;      Idx++;</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;    }</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160; </div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;    LastMI = <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(Opcode), RI.getSubReg(DestReg, SubIdx))</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;                 .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(RI.getSubReg(SrcReg, SubIdx))</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;                 .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(SrcReg, <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da0fec8ba6f4a4dc758b725205985eee99">RegState::Implicit</a>);</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160; </div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;    <span class="keywordflow">if</span> (!FirstMI)</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;      FirstMI = LastMI;</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160; </div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;    <span class="keywordflow">if</span> (!Forward)</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;      <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>--;</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;  }</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160; </div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(FirstMI &amp;&amp; LastMI);</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;  <span class="keywordflow">if</span> (!Forward)</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;    <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(FirstMI, LastMI);</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160; </div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;  FirstMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a469e271fba3a9b52dad4fa54eaf44e2b">addOperand</a>(</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;      <a class="code" href="classllvm_1_1MachineOperand.html#af2c351dad09a71aa08e1d85c67ae6e53">MachineOperand::CreateReg</a>(DestReg, <span class="keyword">true</span> <span class="comment">/*IsDef*/</span>, <span class="keyword">true</span> <span class="comment">/*IsImp*/</span>));</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160; </div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;  <span class="keywordflow">if</span> (KillSrc)</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;    LastMI-&gt;addRegisterKilled(SrcReg, &amp;RI);</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;}</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160; </div>
<div class="line"><a name="l00716"></a><span class="lineno"><a class="line" href="classllvm_1_1SIInstrInfo.html#ac3468d2a2ca1c2b1602a8088b314a40a">  716</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1SIInstrInfo.html#ac3468d2a2ca1c2b1602a8088b314a40a">SIInstrInfo::copyPhysReg</a>(<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>,</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;                              <a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::iterator</a> <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>,</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;                              <span class="keyword">const</span> <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="classllvm_1_1MCRegister.html">MCRegister</a> DestReg,</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;                              <a class="code" href="classllvm_1_1MCRegister.html">MCRegister</a> SrcReg, <span class="keywordtype">bool</span> KillSrc)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *RC = RI.getPhysRegBaseClass(DestReg);</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160; </div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;  <span class="comment">// FIXME: This is hack to resolve copies between 16 bit and 32 bit</span></div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;  <span class="comment">// registers until all patterns are fixed.</span></div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="SIInstrInfo_8cpp.html#aa00f1c78a13c5a7a93b0dbc0e3031476">Fix16BitCopies</a> &amp;&amp;</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;      ((RI.getRegSizeInBits(*RC) == 16) ^</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;       (RI.getRegSizeInBits(*RI.getPhysRegBaseClass(SrcReg)) == 16))) {</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;    <a class="code" href="classllvm_1_1MCRegister.html">MCRegister</a> &amp;RegToFix = (RI.getRegSizeInBits(*RC) == 16) ? DestReg : SrcReg;</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;    <a class="code" href="classllvm_1_1MCRegister.html">MCRegister</a> Super = RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#a2188a3779b5fa9631631a60b3512c81e">get32BitRegister</a>(RegToFix);</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(RI.getSubReg(Super, <a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#a6e62594a2cbf6b18a9e518f38637efa3">AMDGPU::lo16</a>) == RegToFix);</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;    RegToFix = Super;</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160; </div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;    <span class="keywordflow">if</span> (DestReg == SrcReg) {</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;      <span class="comment">// Insert empty bundle since ExpandPostRA expects an instruction here.</span></div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;      <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::BUNDLE));</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;    }</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160; </div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;    RC = RI.getPhysRegBaseClass(DestReg);</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;  }</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160; </div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;  <span class="keywordflow">if</span> (RC == &amp;AMDGPU::VGPR_32RegClass) {</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(AMDGPU::VGPR_32RegClass.<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a1112b818386ec01ddfdf3a5d0024eb17">contains</a>(SrcReg) ||</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;           AMDGPU::SReg_32RegClass.<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a1112b818386ec01ddfdf3a5d0024eb17">contains</a>(SrcReg) ||</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;           AMDGPU::AGPR_32RegClass.<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a1112b818386ec01ddfdf3a5d0024eb17">contains</a>(SrcReg));</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;    <span class="keywordtype">unsigned</span> Opc = AMDGPU::AGPR_32RegClass.contains(SrcReg) ?</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;                     AMDGPU::V_ACCVGPR_READ_B32_e64 : AMDGPU::V_MOV_B32_e32;</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;    <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(Opc), DestReg)</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(SrcReg, <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(KillSrc));</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;  }</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160; </div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;  <span class="keywordflow">if</span> (RC == &amp;AMDGPU::SReg_32_XM0RegClass ||</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;      RC == &amp;AMDGPU::SReg_32RegClass) {</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;    <span class="keywordflow">if</span> (SrcReg == <a class="code" href="namespacellvm_1_1AMDGPU_1_1CPol.html#a7d79a4b341da8ac60b91c1f4b1ea42c4aca1659af59093b2b14c2f8aad41e8e2a">AMDGPU::SCC</a>) {</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;      <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::S_CSELECT_B32), DestReg)</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(1)</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(0);</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;    }</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160; </div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;    <span class="keywordflow">if</span> (DestReg == AMDGPU::VCC_LO) {</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;      <span class="keywordflow">if</span> (AMDGPU::SReg_32RegClass.<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a1112b818386ec01ddfdf3a5d0024eb17">contains</a>(SrcReg)) {</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;        <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::S_MOV_B32), AMDGPU::VCC_LO)</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(SrcReg, <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(KillSrc));</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;        <span class="comment">// FIXME: Hack until VReg_1 removed.</span></div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;        <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(AMDGPU::VGPR_32RegClass.<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a1112b818386ec01ddfdf3a5d0024eb17">contains</a>(SrcReg));</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;        <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::V_CMP_NE_U32_e32))</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(0)</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(SrcReg, <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(KillSrc));</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;      }</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160; </div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;    }</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160; </div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;    <span class="keywordflow">if</span> (!AMDGPU::SReg_32RegClass.<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a1112b818386ec01ddfdf3a5d0024eb17">contains</a>(SrcReg)) {</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;      <a class="code" href="SIInstrInfo_8cpp.html#a9a029ae88221a63092305945fd7fc4da">reportIllegalCopy</a>(<span class="keyword">this</span>, <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, DestReg, SrcReg, KillSrc);</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;    }</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160; </div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;    <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::S_MOV_B32), DestReg)</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;            .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(SrcReg, <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(KillSrc));</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;  }</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160; </div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;  <span class="keywordflow">if</span> (RC == &amp;AMDGPU::SReg_64RegClass) {</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;    <span class="keywordflow">if</span> (SrcReg == <a class="code" href="namespacellvm_1_1AMDGPU_1_1CPol.html#a7d79a4b341da8ac60b91c1f4b1ea42c4aca1659af59093b2b14c2f8aad41e8e2a">AMDGPU::SCC</a>) {</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;      <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::S_CSELECT_B64), DestReg)</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(1)</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(0);</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;    }</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160; </div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;    <span class="keywordflow">if</span> (DestReg == AMDGPU::VCC) {</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;      <span class="keywordflow">if</span> (AMDGPU::SReg_64RegClass.<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a1112b818386ec01ddfdf3a5d0024eb17">contains</a>(SrcReg)) {</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;        <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::S_MOV_B64), AMDGPU::VCC)</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(SrcReg, <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(KillSrc));</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;        <span class="comment">// FIXME: Hack until VReg_1 removed.</span></div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;        <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(AMDGPU::VGPR_32RegClass.<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a1112b818386ec01ddfdf3a5d0024eb17">contains</a>(SrcReg));</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;        <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::V_CMP_NE_U32_e32))</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(0)</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(SrcReg, <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(KillSrc));</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;      }</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160; </div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;    }</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160; </div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;    <span class="keywordflow">if</span> (!AMDGPU::SReg_64RegClass.<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a1112b818386ec01ddfdf3a5d0024eb17">contains</a>(SrcReg)) {</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;      <a class="code" href="SIInstrInfo_8cpp.html#a9a029ae88221a63092305945fd7fc4da">reportIllegalCopy</a>(<span class="keyword">this</span>, <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, DestReg, SrcReg, KillSrc);</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;    }</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160; </div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;    <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::S_MOV_B64), DestReg)</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;            .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(SrcReg, <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(KillSrc));</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;  }</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160; </div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;  <span class="keywordflow">if</span> (DestReg == <a class="code" href="namespacellvm_1_1AMDGPU_1_1CPol.html#a7d79a4b341da8ac60b91c1f4b1ea42c4aca1659af59093b2b14c2f8aad41e8e2a">AMDGPU::SCC</a>) {</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;    <span class="comment">// Copying 64-bit or 32-bit sources to SCC barely makes sense,</span></div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;    <span class="comment">// but SelectionDAG emits such copies for i1 sources.</span></div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;    <span class="keywordflow">if</span> (AMDGPU::SReg_64RegClass.<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a1112b818386ec01ddfdf3a5d0024eb17">contains</a>(SrcReg)) {</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;      <span class="comment">// This copy can only be produced by patterns</span></div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;      <span class="comment">// with explicit SCC, which are known to be enabled</span></div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;      <span class="comment">// only for subtargets with S_CMP_LG_U64 present.</span></div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(ST.<a class="code" href="classllvm_1_1GCNSubtarget.html#a0c71068f31a85453c97cfb17a44746b0">hasScalarCompareEq64</a>());</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;      <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::S_CMP_LG_U64))</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(SrcReg, <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(KillSrc))</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(0);</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(AMDGPU::SReg_32RegClass.<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a1112b818386ec01ddfdf3a5d0024eb17">contains</a>(SrcReg));</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;      <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::S_CMP_LG_U32))</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(SrcReg, <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(KillSrc))</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(0);</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;    }</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160; </div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;  }</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160; </div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;  <span class="keywordflow">if</span> (RC == &amp;AMDGPU::AGPR_32RegClass) {</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;    <span class="keywordflow">if</span> (AMDGPU::VGPR_32RegClass.<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a1112b818386ec01ddfdf3a5d0024eb17">contains</a>(SrcReg) ||</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;        (ST.<a class="code" href="classllvm_1_1GCNSubtarget.html#a1fc0ea9be83e3d4cb2aeb2d7b2363e73">hasGFX90AInsts</a>() &amp;&amp; AMDGPU::SReg_32RegClass.contains(SrcReg))) {</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;      <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::V_ACCVGPR_WRITE_B32_e64), DestReg)</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(SrcReg, <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(KillSrc));</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;    }</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160; </div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;    <span class="keywordflow">if</span> (AMDGPU::AGPR_32RegClass.<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a1112b818386ec01ddfdf3a5d0024eb17">contains</a>(SrcReg) &amp;&amp; ST.<a class="code" href="classllvm_1_1GCNSubtarget.html#a1fc0ea9be83e3d4cb2aeb2d7b2363e73">hasGFX90AInsts</a>()) {</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;      <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::V_ACCVGPR_MOV_B32), DestReg)</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(SrcReg, <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(KillSrc));</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;    }</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160; </div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;    <span class="comment">// FIXME: Pass should maintain scavenger to avoid scan through the block on</span></div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;    <span class="comment">// every AGPR spill.</span></div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;    <a class="code" href="classllvm_1_1RegScavenger.html">RegScavenger</a> RS;</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> Overlap = RI.regsOverlap(SrcReg, DestReg);</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;    <a class="code" href="SIInstrInfo_8cpp.html#a15bbc2e996b691d46e24ff65c21b046a">indirectCopyToAGPR</a>(*<span class="keyword">this</span>, <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, DestReg, SrcReg, KillSrc, RS, Overlap);</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;  }</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160; </div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> Size = RI.getRegSizeInBits(*RC);</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;  <span class="keywordflow">if</span> (Size == 16) {</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(AMDGPU::VGPR_LO16RegClass.<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a1112b818386ec01ddfdf3a5d0024eb17">contains</a>(SrcReg) ||</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;           AMDGPU::VGPR_HI16RegClass.<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a1112b818386ec01ddfdf3a5d0024eb17">contains</a>(SrcReg) ||</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;           AMDGPU::SReg_LO16RegClass.<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a1112b818386ec01ddfdf3a5d0024eb17">contains</a>(SrcReg) ||</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;           AMDGPU::AGPR_LO16RegClass.<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a1112b818386ec01ddfdf3a5d0024eb17">contains</a>(SrcReg));</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160; </div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;    <span class="keywordtype">bool</span> IsSGPRDst = AMDGPU::SReg_LO16RegClass.contains(DestReg);</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;    <span class="keywordtype">bool</span> IsSGPRSrc = AMDGPU::SReg_LO16RegClass.contains(SrcReg);</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;    <span class="keywordtype">bool</span> IsAGPRDst = AMDGPU::AGPR_LO16RegClass.contains(DestReg);</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;    <span class="keywordtype">bool</span> IsAGPRSrc = AMDGPU::AGPR_LO16RegClass.contains(SrcReg);</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;    <span class="keywordtype">bool</span> DstLow = AMDGPU::VGPR_LO16RegClass.contains(DestReg) ||</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;                  AMDGPU::SReg_LO16RegClass.contains(DestReg) ||</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;                  AMDGPU::AGPR_LO16RegClass.contains(DestReg);</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;    <span class="keywordtype">bool</span> SrcLow = AMDGPU::VGPR_LO16RegClass.contains(SrcReg) ||</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;                  AMDGPU::SReg_LO16RegClass.contains(SrcReg) ||</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;                  AMDGPU::AGPR_LO16RegClass.contains(SrcReg);</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;    <a class="code" href="classllvm_1_1MCRegister.html">MCRegister</a> NewDestReg = RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#a2188a3779b5fa9631631a60b3512c81e">get32BitRegister</a>(DestReg);</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;    <a class="code" href="classllvm_1_1MCRegister.html">MCRegister</a> NewSrcReg = RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#a2188a3779b5fa9631631a60b3512c81e">get32BitRegister</a>(SrcReg);</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160; </div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;    <span class="keywordflow">if</span> (IsSGPRDst) {</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;      <span class="keywordflow">if</span> (!IsSGPRSrc) {</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;        <a class="code" href="SIInstrInfo_8cpp.html#a9a029ae88221a63092305945fd7fc4da">reportIllegalCopy</a>(<span class="keyword">this</span>, <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, DestReg, SrcReg, KillSrc);</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;      }</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160; </div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;      <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::S_MOV_B32), NewDestReg)</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(NewSrcReg, <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(KillSrc));</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;    }</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160; </div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;    <span class="keywordflow">if</span> (IsAGPRDst || IsAGPRSrc) {</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;      <span class="keywordflow">if</span> (!DstLow || !SrcLow) {</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;        <a class="code" href="SIInstrInfo_8cpp.html#a9a029ae88221a63092305945fd7fc4da">reportIllegalCopy</a>(<span class="keyword">this</span>, <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, DestReg, SrcReg, KillSrc,</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;                          <span class="stringliteral">&quot;Cannot use hi16 subreg with an AGPR!&quot;</span>);</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;      }</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160; </div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;      <a class="code" href="classllvm_1_1SIInstrInfo.html#ac3468d2a2ca1c2b1602a8088b314a40a">copyPhysReg</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, NewDestReg, NewSrcReg, KillSrc);</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;    }</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160; </div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;    <span class="keywordflow">if</span> (IsSGPRSrc &amp;&amp; !ST.<a class="code" href="classllvm_1_1GCNSubtarget.html#a0af7bcad0087b2e7738d1636e5e4793e">hasSDWAScalar</a>()) {</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;      <span class="keywordflow">if</span> (!DstLow || !SrcLow) {</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;        <a class="code" href="SIInstrInfo_8cpp.html#a9a029ae88221a63092305945fd7fc4da">reportIllegalCopy</a>(<span class="keyword">this</span>, <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, DestReg, SrcReg, KillSrc,</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;                          <span class="stringliteral">&quot;Cannot use hi16 subreg on VI!&quot;</span>);</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;      }</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160; </div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;      <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::V_MOV_B32_e32), NewDestReg)</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(NewSrcReg, <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(KillSrc));</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;    }</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160; </div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;    <span class="keyword">auto</span> MIB = <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::V_MOV_B32_sdwa), NewDestReg)</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(0) <span class="comment">// src0_modifiers</span></div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(NewSrcReg)</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(0) <span class="comment">// clamp</span></div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(DstLow ? <a class="code" href="namespacellvm_1_1AMDGPU_1_1SDWA.html#a487d59303b94fbf4adddd9a08c30da0aaf4e7a9b6898b774104bfcd24a211d7e3">AMDGPU::SDWA::SdwaSel::WORD_0</a></div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;                     : <a class="code" href="namespacellvm_1_1AMDGPU_1_1SDWA.html#a487d59303b94fbf4adddd9a08c30da0aa3bd07eb171e650bc021c8e2517e175d0">AMDGPU::SDWA::SdwaSel::WORD_1</a>)</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SDWA.html#a4473412439e8285e235ccafa0c3824b6a58f19664e2b69107495d2085514f7874">AMDGPU::SDWA::DstUnused::UNUSED_PRESERVE</a>)</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(SrcLow ? <a class="code" href="namespacellvm_1_1AMDGPU_1_1SDWA.html#a487d59303b94fbf4adddd9a08c30da0aaf4e7a9b6898b774104bfcd24a211d7e3">AMDGPU::SDWA::SdwaSel::WORD_0</a></div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;                     : <a class="code" href="namespacellvm_1_1AMDGPU_1_1SDWA.html#a487d59303b94fbf4adddd9a08c30da0aa3bd07eb171e650bc021c8e2517e175d0">AMDGPU::SDWA::SdwaSel::WORD_1</a>)</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(NewDestReg, <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da0fec8ba6f4a4dc758b725205985eee99">RegState::Implicit</a> | <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320dab502f975742e9bff6d6dd7b49439b806">RegState::Undef</a>);</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;    <span class="comment">// First implicit operand is $exec.</span></div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;    MIB-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#aa37e31e5df481d2f8a6f9f022886cf5e">tieOperands</a>(0, MIB-&gt;getNumOperands() - 1);</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;  }</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160; </div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *SrcRC = RI.getPhysRegBaseClass(SrcReg);</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;  <span class="keywordflow">if</span> (RC == RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#aed9393956ff6935e29af9881de204f1f">getVGPR64Class</a>() &amp;&amp; (SrcRC == RC || RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#af58d646af8dd60e4e514303dfa81de9c">isSGPRClass</a>(SrcRC))) {</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;    <span class="keywordflow">if</span> (ST.<a class="code" href="classllvm_1_1GCNSubtarget.html#a92e0b317959309846ea919ad2cf08ffc">hasMovB64</a>()) {</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;      <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::V_MOV_B64_e32), DestReg)</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(SrcReg, <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(KillSrc));</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;    }</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;    <span class="keywordflow">if</span> (ST.<a class="code" href="classllvm_1_1GCNSubtarget.html#a7f1b4a610bfabed1dac80708d399d552">hasPackedFP32Ops</a>()) {</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;      <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::V_PK_MOV_B32), DestReg)</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(<a class="code" href="namespacellvm_1_1SISrcMods.html#a1d705f3f6f4a6c585d068369ef0f4916af0e8126187c47c5b74a1bdc635158144">SISrcMods::OP_SEL_1</a>)</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(SrcReg)</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(<a class="code" href="namespacellvm_1_1SISrcMods.html#a1d705f3f6f4a6c585d068369ef0f4916a3b095994a942145ccaaed4f175c7172a">SISrcMods::OP_SEL_0</a> | <a class="code" href="namespacellvm_1_1SISrcMods.html#a1d705f3f6f4a6c585d068369ef0f4916af0e8126187c47c5b74a1bdc635158144">SISrcMods::OP_SEL_1</a>)</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(SrcReg)</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(0) <span class="comment">// op_sel_lo</span></div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(0) <span class="comment">// op_sel_hi</span></div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(0) <span class="comment">// neg_lo</span></div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(0) <span class="comment">// neg_hi</span></div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(0) <span class="comment">// clamp</span></div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(SrcReg, <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(KillSrc) | <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da0fec8ba6f4a4dc758b725205985eee99">RegState::Implicit</a>);</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;    }</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;  }</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160; </div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">bool</span> Forward = RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#a954d76fe761bb4014b2da81cac2360cf">getHWRegIndex</a>(DestReg) &lt;= RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#a954d76fe761bb4014b2da81cac2360cf">getHWRegIndex</a>(SrcReg);</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;  <span class="keywordflow">if</span> (RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#af58d646af8dd60e4e514303dfa81de9c">isSGPRClass</a>(RC)) {</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;    <span class="keywordflow">if</span> (!RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#af58d646af8dd60e4e514303dfa81de9c">isSGPRClass</a>(SrcRC)) {</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;      <a class="code" href="SIInstrInfo_8cpp.html#a9a029ae88221a63092305945fd7fc4da">reportIllegalCopy</a>(<span class="keyword">this</span>, <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, DestReg, SrcReg, KillSrc);</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;    }</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> CanKillSuperReg = KillSrc &amp;&amp; !RI.regsOverlap(SrcReg, DestReg);</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;    <a class="code" href="SIInstrInfo_8cpp.html#a0cf3c7ba2564fa10526e70ecd607db74">expandSGPRCopy</a>(*<span class="keyword">this</span>, <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, DestReg, SrcReg, CanKillSuperReg, RC,</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;                   Forward);</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;  }</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160; </div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;  <span class="keywordtype">unsigned</span> EltSize = 4;</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;  <span class="keywordtype">unsigned</span> Opcode = AMDGPU::V_MOV_B32_e32;</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;  <span class="keywordflow">if</span> (RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#afb15c9a705b04d0a7709e0c0f8af33fa">isAGPRClass</a>(RC)) {</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;    <span class="keywordflow">if</span> (ST.<a class="code" href="classllvm_1_1GCNSubtarget.html#a1fc0ea9be83e3d4cb2aeb2d7b2363e73">hasGFX90AInsts</a>() &amp;&amp; RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#afb15c9a705b04d0a7709e0c0f8af33fa">isAGPRClass</a>(SrcRC))</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;      Opcode = AMDGPU::V_ACCVGPR_MOV_B32;</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#a8cb8776ee5f539fe6391a6d521af25f1">hasVGPRs</a>(SrcRC) ||</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;             (ST.<a class="code" href="classllvm_1_1GCNSubtarget.html#a1fc0ea9be83e3d4cb2aeb2d7b2363e73">hasGFX90AInsts</a>() &amp;&amp; RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#af58d646af8dd60e4e514303dfa81de9c">isSGPRClass</a>(SrcRC)))</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;      Opcode = AMDGPU::V_ACCVGPR_WRITE_B32_e64;</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;      Opcode = AMDGPU::INSTRUCTION_LIST_END;</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#a8cb8776ee5f539fe6391a6d521af25f1">hasVGPRs</a>(RC) &amp;&amp; RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#afb15c9a705b04d0a7709e0c0f8af33fa">isAGPRClass</a>(SrcRC)) {</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;    Opcode = AMDGPU::V_ACCVGPR_READ_B32_e64;</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((Size % 64 == 0) &amp;&amp; RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#a8cb8776ee5f539fe6391a6d521af25f1">hasVGPRs</a>(RC) &amp;&amp;</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;             (RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#a2adf69ba524926c5454f5d259c1c4dac">isProperlyAlignedRC</a>(*RC) &amp;&amp;</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;              (SrcRC == RC || RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#af58d646af8dd60e4e514303dfa81de9c">isSGPRClass</a>(SrcRC)))) {</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;    <span class="comment">// TODO: In 96-bit case, could do a 64-bit mov and then a 32-bit mov.</span></div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;    <span class="keywordflow">if</span> (ST.<a class="code" href="classllvm_1_1GCNSubtarget.html#a92e0b317959309846ea919ad2cf08ffc">hasMovB64</a>()) {</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;      Opcode = AMDGPU::V_MOV_B64_e32;</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;      EltSize = 8;</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ST.<a class="code" href="classllvm_1_1GCNSubtarget.html#a7f1b4a610bfabed1dac80708d399d552">hasPackedFP32Ops</a>()) {</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;      Opcode = AMDGPU::V_PK_MOV_B32;</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;      EltSize = 8;</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;    }</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;  }</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160; </div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;  <span class="comment">// For the cases where we need an intermediate instruction/temporary register</span></div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;  <span class="comment">// (destination is an AGPR), we need a scavenger.</span></div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;  <span class="comment">// FIXME: The pass should maintain this for us so we don&#39;t have to re-scan the</span></div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;  <span class="comment">// whole block for every handled copy.</span></div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;  std::unique_ptr&lt;RegScavenger&gt; RS;</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;  <span class="keywordflow">if</span> (Opcode == AMDGPU::INSTRUCTION_LIST_END)</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;    RS.reset(<span class="keyword">new</span> <a class="code" href="classllvm_1_1RegScavenger.html">RegScavenger</a>());</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160; </div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;  <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;int16_t&gt;</a> SubIndices = RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#a4b7ead7725a07da4240f0edea1e4a2d6">getRegSplitParts</a>(RC, EltSize);</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160; </div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;  <span class="comment">// If there is an overlap, we can&#39;t kill the super-register on the last</span></div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;  <span class="comment">// instruction, since it will also kill the components made live by this def.</span></div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">bool</span> Overlap = RI.regsOverlap(SrcReg, DestReg);</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">bool</span> CanKillSuperReg = KillSrc &amp;&amp; !Overlap;</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160; </div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> Idx = 0; Idx &lt; SubIndices.<a class="code" href="classllvm_1_1ArrayRef.html#a85ffb6531d4cda988ea81f18d4e56fb7">size</a>(); ++Idx) {</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;    <span class="keywordtype">unsigned</span> SubIdx;</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;    <span class="keywordflow">if</span> (Forward)</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;      SubIdx = SubIndices[Idx];</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;      SubIdx = SubIndices[SubIndices.<a class="code" href="classllvm_1_1ArrayRef.html#a85ffb6531d4cda988ea81f18d4e56fb7">size</a>() - Idx - 1];</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160; </div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;    <span class="keywordtype">bool</span> IsFirstSubreg = Idx == 0;</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;    <span class="keywordtype">bool</span> UseKill = CanKillSuperReg &amp;&amp; Idx == SubIndices.<a class="code" href="classllvm_1_1ArrayRef.html#a85ffb6531d4cda988ea81f18d4e56fb7">size</a>() - 1;</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160; </div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;    <span class="keywordflow">if</span> (Opcode == AMDGPU::INSTRUCTION_LIST_END) {</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;      <a class="code" href="classllvm_1_1Register.html">Register</a> ImpDefSuper = IsFirstSubreg ? <a class="code" href="classllvm_1_1Register.html">Register</a>(DestReg) : <a class="code" href="classllvm_1_1Register.html">Register</a>();</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;      <a class="code" href="classllvm_1_1Register.html">Register</a> ImpUseSuper = SrcReg;</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;      <a class="code" href="SIInstrInfo_8cpp.html#a15bbc2e996b691d46e24ff65c21b046a">indirectCopyToAGPR</a>(*<span class="keyword">this</span>, <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, RI.getSubReg(DestReg, SubIdx),</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;                         RI.getSubReg(SrcReg, SubIdx), UseKill, *RS, Overlap,</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;                         ImpDefSuper, ImpUseSuper);</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Opcode == AMDGPU::V_PK_MOV_B32) {</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;      <a class="code" href="classllvm_1_1Register.html">Register</a> DstSubReg = RI.getSubReg(DestReg, SubIdx);</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;      <a class="code" href="classllvm_1_1Register.html">Register</a> SrcSubReg = RI.getSubReg(SrcReg, SubIdx);</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;      <a class="code" href="classllvm_1_1MachineInstrBuilder.html">MachineInstrBuilder</a> MIB =</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;        <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::V_PK_MOV_B32), DstSubReg)</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(<a class="code" href="namespacellvm_1_1SISrcMods.html#a1d705f3f6f4a6c585d068369ef0f4916af0e8126187c47c5b74a1bdc635158144">SISrcMods::OP_SEL_1</a>)</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(SrcSubReg)</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(<a class="code" href="namespacellvm_1_1SISrcMods.html#a1d705f3f6f4a6c585d068369ef0f4916a3b095994a942145ccaaed4f175c7172a">SISrcMods::OP_SEL_0</a> | <a class="code" href="namespacellvm_1_1SISrcMods.html#a1d705f3f6f4a6c585d068369ef0f4916af0e8126187c47c5b74a1bdc635158144">SISrcMods::OP_SEL_1</a>)</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(SrcSubReg)</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(0) <span class="comment">// op_sel_lo</span></div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(0) <span class="comment">// op_sel_hi</span></div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(0) <span class="comment">// neg_lo</span></div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(0) <span class="comment">// neg_hi</span></div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(0) <span class="comment">// clamp</span></div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(SrcReg, <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(UseKill) | <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da0fec8ba6f4a4dc758b725205985eee99">RegState::Implicit</a>);</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;      <span class="keywordflow">if</span> (IsFirstSubreg)</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;        MIB.<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(DestReg, <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da72c17e2ff2d5af62a30e56ac152aa8d5">RegState::Define</a> | <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da0fec8ba6f4a4dc758b725205985eee99">RegState::Implicit</a>);</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;      <a class="code" href="classllvm_1_1MachineInstrBuilder.html">MachineInstrBuilder</a> <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a> =</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;        <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(Opcode), RI.getSubReg(DestReg, SubIdx))</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(RI.getSubReg(SrcReg, SubIdx));</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;      <span class="keywordflow">if</span> (IsFirstSubreg)</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;        <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.addReg(DestReg, <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da72c17e2ff2d5af62a30e56ac152aa8d5">RegState::Define</a> | <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da0fec8ba6f4a4dc758b725205985eee99">RegState::Implicit</a>);</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160; </div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;      <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.addReg(SrcReg, <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(UseKill) | <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da0fec8ba6f4a4dc758b725205985eee99">RegState::Implicit</a>);</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;    }</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;  }</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;}</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160; </div>
<div class="line"><a name="l01050"></a><span class="lineno"><a class="line" href="classllvm_1_1SIInstrInfo.html#aee81828a7ba7ae3e86ed968067d671b4"> 1050</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="classllvm_1_1SIInstrInfo.html#aee81828a7ba7ae3e86ed968067d671b4">SIInstrInfo::commuteOpcode</a>(<span class="keywordtype">unsigned</span> Opcode)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;  <span class="keywordtype">int</span> NewOpc;</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160; </div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;  <span class="comment">// Try to map original to commuted opcode</span></div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;  NewOpc = <a class="code" href="namespacellvm_1_1AMDGPU.html#a96286d8f7d90ece30046d826bbb71422">AMDGPU::getCommuteRev</a>(Opcode);</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;  <span class="keywordflow">if</span> (NewOpc != -1)</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;    <span class="comment">// Check if the commuted (REV) opcode exists on the target.</span></div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SIInstrInfo.html#ae25e963e7382528026a78b5c2e31c435">pseudoToMCOpcode</a>(NewOpc) != -1 ? NewOpc : -1;</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160; </div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;  <span class="comment">// Try to map commuted to original opcode</span></div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;  NewOpc = <a class="code" href="namespacellvm_1_1AMDGPU.html#ac4c95246ad0278e01cc6e03560005f0b">AMDGPU::getCommuteOrig</a>(Opcode);</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;  <span class="keywordflow">if</span> (NewOpc != -1)</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;    <span class="comment">// Check if the original (non-REV) opcode exists on the target.</span></div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SIInstrInfo.html#ae25e963e7382528026a78b5c2e31c435">pseudoToMCOpcode</a>(NewOpc) != -1 ? NewOpc : -1;</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160; </div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;  <span class="keywordflow">return</span> Opcode;</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;}</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160; </div>
<div class="line"><a name="l01068"></a><span class="lineno"><a class="line" href="classllvm_1_1SIInstrInfo.html#a9fac55ed154a25a20608a5f71dc833c0"> 1068</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1SIInstrInfo.html#a9fac55ed154a25a20608a5f71dc833c0">SIInstrInfo::materializeImmediate</a>(<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>,</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;                                       <a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::iterator</a> <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>,</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;                                       <span class="keyword">const</span> <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="classllvm_1_1Register.html">Register</a> DestReg,</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;                                       int64_t <a class="code" href="classllvm_1_1Value.html">Value</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;  <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a> = <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a4e21760f681d6f97f95c8414e7b83ea5">getParent</a>()-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>();</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *RegClass = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#aa363afffca4fc13a709673936b47fe33">getRegClass</a>(DestReg);</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;  <span class="keywordflow">if</span> (RegClass == &amp;AMDGPU::SReg_32RegClass ||</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;      RegClass == &amp;AMDGPU::SGPR_32RegClass ||</div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;      RegClass == &amp;AMDGPU::SReg_32_XM0RegClass ||</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;      RegClass == &amp;AMDGPU::SReg_32_XM0_XEXECRegClass) {</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;    <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::S_MOV_B32), DestReg)</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(<a class="code" href="classllvm_1_1Value.html">Value</a>);</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;  }</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160; </div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;  <span class="keywordflow">if</span> (RegClass == &amp;AMDGPU::SReg_64RegClass ||</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;      RegClass == &amp;AMDGPU::SGPR_64RegClass ||</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;      RegClass == &amp;AMDGPU::SReg_64_XEXECRegClass) {</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;    <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::S_MOV_B64), DestReg)</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(<a class="code" href="classllvm_1_1Value.html">Value</a>);</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;  }</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160; </div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;  <span class="keywordflow">if</span> (RegClass == &amp;AMDGPU::VGPR_32RegClass) {</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;    <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::V_MOV_B32_e32), DestReg)</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(<a class="code" href="classllvm_1_1Value.html">Value</a>);</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;  }</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;  <span class="keywordflow">if</span> (RegClass-&gt;<a class="code" href="classllvm_1_1TargetRegisterClass.html#abee1c3236731101b249f6eeffd8cd7ba">hasSuperClassEq</a>(&amp;AMDGPU::VReg_64RegClass)) {</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;    <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::V_MOV_B64_PSEUDO), DestReg)</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(<a class="code" href="classllvm_1_1Value.html">Value</a>);</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;  }</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160; </div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;  <span class="keywordtype">unsigned</span> EltSize = 4;</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;  <span class="keywordtype">unsigned</span> Opcode = AMDGPU::V_MOV_B32_e32;</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;  <span class="keywordflow">if</span> (RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#af58d646af8dd60e4e514303dfa81de9c">isSGPRClass</a>(RegClass)) {</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;    <span class="keywordflow">if</span> (RI.getRegSizeInBits(*RegClass) &gt; 32) {</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;      Opcode =  AMDGPU::S_MOV_B64;</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;      EltSize = 8;</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;      Opcode = AMDGPU::S_MOV_B32;</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;      EltSize = 4;</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;    }</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;  }</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160; </div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;  <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;int16_t&gt;</a> SubIndices = RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#a4b7ead7725a07da4240f0edea1e4a2d6">getRegSplitParts</a>(RegClass, EltSize);</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> Idx = 0; Idx &lt; SubIndices.<a class="code" href="classllvm_1_1ArrayRef.html#a85ffb6531d4cda988ea81f18d4e56fb7">size</a>(); ++Idx) {</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;    int64_t IdxValue = Idx == 0 ? <a class="code" href="namespacellvm_1_1TargetStackID.html#a71392100eb15ba746b1f898986f5d8a5">Value</a> : 0;</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160; </div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;    <a class="code" href="classllvm_1_1MachineInstrBuilder.html">MachineInstrBuilder</a> <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a> = <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>,</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;      <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(Opcode), RI.getSubReg(DestReg, SubIndices[Idx]));</div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;    <a class="code" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>.addImm(IdxValue);</div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;  }</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;}</div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160; </div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;<span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *</div>
<div class="line"><a name="l01125"></a><span class="lineno"><a class="line" href="classllvm_1_1SIInstrInfo.html#a6409b94615d6f974f7cea22ee2814862"> 1125</a></span>&#160;<a class="code" href="classllvm_1_1SIInstrInfo.html#a6409b94615d6f974f7cea22ee2814862">SIInstrInfo::getPreferredSelectRegClass</a>(<span class="keywordtype">unsigned</span> Size)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;  <span class="keywordflow">return</span> &amp;AMDGPU::VGPR_32RegClass;</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;}</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160; </div>
<div class="line"><a name="l01129"></a><span class="lineno"><a class="line" href="classllvm_1_1SIInstrInfo.html#ad88bfb92ca2f7d419adc7e6645406a7c"> 1129</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1SIInstrInfo.html#ad88bfb92ca2f7d419adc7e6645406a7c">SIInstrInfo::insertVectorSelect</a>(<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>,</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;                                     <a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>,</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;                                     <span class="keyword">const</span> <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="classllvm_1_1Register.html">Register</a> DstReg,</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;                                     <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;MachineOperand&gt;</a> <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>,</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;                                     <a class="code" href="classllvm_1_1Register.html">Register</a> TrueReg,</div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;                                     <a class="code" href="classllvm_1_1Register.html">Register</a> FalseReg)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;  <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a> = <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a4e21760f681d6f97f95c8414e7b83ea5">getParent</a>()-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>();</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *BoolXExecRC =</div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;    RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#a0e2008041a23dfc43ff1e90b014a2936">getRegClass</a>(AMDGPU::SReg_1_XEXECRegClassID);</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#aa363afffca4fc13a709673936b47fe33">getRegClass</a>(DstReg) == &amp;AMDGPU::VGPR_32RegClass &amp;&amp;</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;         <span class="stringliteral">&quot;Not a VGPR32 reg&quot;</span>);</div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160; </div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>.size() == 1) {</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> SReg = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5c77792a06583e0fe7a0379ad94a2809">createVirtualRegister</a>(BoolXExecRC);</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;    <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::COPY), SReg)</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a1ac8d27532cfd1d1f032ecbff2ba3611">add</a>(<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>[0]);</div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;    <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::V_CNDMASK_B32_e64), DstReg)</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(0)</div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(FalseReg)</div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(0)</div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(TrueReg)</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(SReg);</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>.size() == 2) {</div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>[0].<a class="code" href="SPIRVInstructionSelector_8cpp.html#a6fe0144adffd7bad0aeca668f4468b28">isImm</a>() &amp;&amp; <span class="stringliteral">&quot;Cond[0] is not an immediate&quot;</span>);</div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>[0].getImm()) {</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;    <span class="keywordflow">case</span> SIInstrInfo::SCC_TRUE: {</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;      <a class="code" href="classllvm_1_1Register.html">Register</a> SReg = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5c77792a06583e0fe7a0379ad94a2809">createVirtualRegister</a>(BoolXExecRC);</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;      <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(ST.<a class="code" href="classllvm_1_1GCNSubtarget.html#a9f44cd05eefbb20a234a7e3b6369a7f8">isWave32</a>() ? AMDGPU::S_CSELECT_B32</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;                                            : AMDGPU::S_CSELECT_B64), SReg)</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(1)</div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(0);</div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;      <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::V_CNDMASK_B32_e64), DstReg)</div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(0)</div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(FalseReg)</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(0)</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(TrueReg)</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(SReg);</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;    }</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;    <span class="keywordflow">case</span> SIInstrInfo::SCC_FALSE: {</div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;      <a class="code" href="classllvm_1_1Register.html">Register</a> SReg = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5c77792a06583e0fe7a0379ad94a2809">createVirtualRegister</a>(BoolXExecRC);</div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;      <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(ST.<a class="code" href="classllvm_1_1GCNSubtarget.html#a9f44cd05eefbb20a234a7e3b6369a7f8">isWave32</a>() ? AMDGPU::S_CSELECT_B32</div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;                                            : AMDGPU::S_CSELECT_B64), SReg)</div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(0)</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(1);</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;      <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::V_CNDMASK_B32_e64), DstReg)</div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(0)</div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(FalseReg)</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(0)</div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(TrueReg)</div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(SReg);</div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;    }</div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;    <span class="keywordflow">case</span> SIInstrInfo::VCCNZ: {</div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;      <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> RegOp = <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>[1];</div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;      RegOp.<a class="code" href="classllvm_1_1MachineOperand.html#a10e708480cdc97c951368e06c13eac92">setImplicit</a>(<span class="keyword">false</span>);</div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;      <a class="code" href="classllvm_1_1Register.html">Register</a> SReg = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5c77792a06583e0fe7a0379ad94a2809">createVirtualRegister</a>(BoolXExecRC);</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;      <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::COPY), SReg)</div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a1ac8d27532cfd1d1f032ecbff2ba3611">add</a>(RegOp);</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;      <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::V_CNDMASK_B32_e64), DstReg)</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(0)</div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(FalseReg)</div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(0)</div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(TrueReg)</div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(SReg);</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;    }</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;    <span class="keywordflow">case</span> SIInstrInfo::VCCZ: {</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;      <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> RegOp = <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>[1];</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;      RegOp.<a class="code" href="classllvm_1_1MachineOperand.html#a10e708480cdc97c951368e06c13eac92">setImplicit</a>(<span class="keyword">false</span>);</div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;      <a class="code" href="classllvm_1_1Register.html">Register</a> SReg = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5c77792a06583e0fe7a0379ad94a2809">createVirtualRegister</a>(BoolXExecRC);</div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;      <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::COPY), SReg)</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a1ac8d27532cfd1d1f032ecbff2ba3611">add</a>(RegOp);</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;      <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::V_CNDMASK_B32_e64), DstReg)</div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(0)</div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(TrueReg)</div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(0)</div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(FalseReg)</div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(SReg);</div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;    }</div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;    <span class="keywordflow">case</span> SIInstrInfo::EXECNZ: {</div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;      <a class="code" href="classllvm_1_1Register.html">Register</a> SReg = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5c77792a06583e0fe7a0379ad94a2809">createVirtualRegister</a>(BoolXExecRC);</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;      <a class="code" href="classllvm_1_1Register.html">Register</a> SReg2 = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5c77792a06583e0fe7a0379ad94a2809">createVirtualRegister</a>(RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#a940d8478e9124a309af6b98b9b1caef9">getBoolRC</a>());</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;      <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(ST.<a class="code" href="classllvm_1_1GCNSubtarget.html#a9f44cd05eefbb20a234a7e3b6369a7f8">isWave32</a>() ? AMDGPU::S_OR_SAVEEXEC_B32</div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;                                            : AMDGPU::S_OR_SAVEEXEC_B64), SReg2)</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(0);</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;      <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(ST.<a class="code" href="classllvm_1_1GCNSubtarget.html#a9f44cd05eefbb20a234a7e3b6369a7f8">isWave32</a>() ? AMDGPU::S_CSELECT_B32</div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;                                            : AMDGPU::S_CSELECT_B64), SReg)</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(1)</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(0);</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;      <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::V_CNDMASK_B32_e64), DstReg)</div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(0)</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(FalseReg)</div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(0)</div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(TrueReg)</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(SReg);</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;    }</div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;    <span class="keywordflow">case</span> SIInstrInfo::EXECZ: {</div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;      <a class="code" href="classllvm_1_1Register.html">Register</a> SReg = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5c77792a06583e0fe7a0379ad94a2809">createVirtualRegister</a>(BoolXExecRC);</div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;      <a class="code" href="classllvm_1_1Register.html">Register</a> SReg2 = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5c77792a06583e0fe7a0379ad94a2809">createVirtualRegister</a>(RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#a940d8478e9124a309af6b98b9b1caef9">getBoolRC</a>());</div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;      <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(ST.<a class="code" href="classllvm_1_1GCNSubtarget.html#a9f44cd05eefbb20a234a7e3b6369a7f8">isWave32</a>() ? AMDGPU::S_OR_SAVEEXEC_B32</div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;                                            : AMDGPU::S_OR_SAVEEXEC_B64), SReg2)</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(0);</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;      <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(ST.<a class="code" href="classllvm_1_1GCNSubtarget.html#a9f44cd05eefbb20a234a7e3b6369a7f8">isWave32</a>() ? AMDGPU::S_CSELECT_B32</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;                                            : AMDGPU::S_CSELECT_B64), SReg)</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(0)</div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(1);</div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;      <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::V_CNDMASK_B32_e64), DstReg)</div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(0)</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(FalseReg)</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(0)</div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(TrueReg)</div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(SReg);</div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;      <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unhandled branch predicate EXECZ&quot;</span>);</div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;    }</div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;      <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;invalid branch predicate&quot;</span>);</div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;    }</div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;    <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Can only handle Cond size 1 or 2&quot;</span>);</div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;  }</div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;}</div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160; </div>
<div class="line"><a name="l01255"></a><span class="lineno"><a class="line" href="classllvm_1_1SIInstrInfo.html#ad94f2f559486e50040a794798454f67f"> 1255</a></span>&#160;<a class="code" href="classllvm_1_1Register.html">Register</a> <a class="code" href="classllvm_1_1SIInstrInfo.html#ad94f2f559486e50040a794798454f67f">SIInstrInfo::insertEQ</a>(<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>,</div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;                               <a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>,</div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;                               <span class="keyword">const</span> <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>,</div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;                               <a class="code" href="classllvm_1_1Register.html">Register</a> SrcReg, <span class="keywordtype">int</span> <a class="code" href="classllvm_1_1Value.html">Value</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;  <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a> = <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#a4e21760f681d6f97f95c8414e7b83ea5">getParent</a>()-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>();</div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a> = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5c77792a06583e0fe7a0379ad94a2809">createVirtualRegister</a>(RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#a940d8478e9124a309af6b98b9b1caef9">getBoolRC</a>());</div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;  <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(*<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::V_CMP_EQ_I32_e64), <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>)</div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;    .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(<a class="code" href="classllvm_1_1Value.html">Value</a>)</div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;    .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(SrcReg);</div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160; </div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>;</div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;}</div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160; </div>
<div class="line"><a name="l01268"></a><span class="lineno"><a class="line" href="classllvm_1_1SIInstrInfo.html#acae141c2c150567424d8cc080976608e"> 1268</a></span>&#160;<a class="code" href="classllvm_1_1Register.html">Register</a> <a class="code" href="classllvm_1_1SIInstrInfo.html#acae141c2c150567424d8cc080976608e">SIInstrInfo::insertNE</a>(<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>,</div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;                               <a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>,</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;                               <span class="keyword">const</span> <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>,</div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;                               <a class="code" href="classllvm_1_1Register.html">Register</a> SrcReg, <span class="keywordtype">int</span> <a class="code" href="classllvm_1_1Value.html">Value</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;  <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a> = <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#a4e21760f681d6f97f95c8414e7b83ea5">getParent</a>()-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>();</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a> = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5c77792a06583e0fe7a0379ad94a2809">createVirtualRegister</a>(RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#a940d8478e9124a309af6b98b9b1caef9">getBoolRC</a>());</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;  <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(*<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::V_CMP_NE_I32_e64), <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>)</div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;    .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(<a class="code" href="classllvm_1_1Value.html">Value</a>)</div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;    .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(SrcReg);</div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160; </div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>;</div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;}</div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160; </div>
<div class="line"><a name="l01281"></a><span class="lineno"><a class="line" href="classllvm_1_1SIInstrInfo.html#a75ab509751b75f67128683efcbef3e71"> 1281</a></span>&#160;<span class="keywordtype">unsigned</span> <a class="code" href="classllvm_1_1SIInstrInfo.html#a75ab509751b75f67128683efcbef3e71">SIInstrInfo::getMovOpcode</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *DstRC)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160; </div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;  <span class="keywordflow">if</span> (RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#afb15c9a705b04d0a7709e0c0f8af33fa">isAGPRClass</a>(DstRC))</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;    <span class="keywordflow">return</span> AMDGPU::COPY;</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;  <span class="keywordflow">if</span> (RI.getRegSizeInBits(*DstRC) == 32) {</div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;    <span class="keywordflow">return</span> RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#af58d646af8dd60e4e514303dfa81de9c">isSGPRClass</a>(DstRC) ? AMDGPU::S_MOV_B32 : AMDGPU::V_MOV_B32_e32;</div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (RI.getRegSizeInBits(*DstRC) == 64 &amp;&amp; RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#af58d646af8dd60e4e514303dfa81de9c">isSGPRClass</a>(DstRC)) {</div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;    <span class="keywordflow">return</span> AMDGPU::S_MOV_B64;</div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (RI.getRegSizeInBits(*DstRC) == 64 &amp;&amp; !RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#af58d646af8dd60e4e514303dfa81de9c">isSGPRClass</a>(DstRC)) {</div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;    <span class="keywordflow">return</span>  AMDGPU::V_MOV_B64_PSEUDO;</div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;  }</div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;  <span class="keywordflow">return</span> AMDGPU::COPY;</div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;}</div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160; </div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;<span class="keyword">const</span> <a class="code" href="classllvm_1_1MCInstrDesc.html">MCInstrDesc</a> &amp;</div>
<div class="line"><a name="l01296"></a><span class="lineno"><a class="line" href="classllvm_1_1SIInstrInfo.html#a2c6c099091f6e286415971cc7979316a"> 1296</a></span>&#160;<a class="code" href="classllvm_1_1SIInstrInfo.html#a2c6c099091f6e286415971cc7979316a">SIInstrInfo::getIndirectGPRIDXPseudo</a>(<span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1ARMII.html#a7d414894ef8cdc39b147eb7e0d7e4305a479711d0ab662307550fc709665589ea">VecSize</a>,</div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;                                     <span class="keywordtype">bool</span> IsIndirectSrc)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;  <span class="keywordflow">if</span> (IsIndirectSrc) {</div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1ARMII.html#a7d414894ef8cdc39b147eb7e0d7e4305a479711d0ab662307550fc709665589ea">VecSize</a> &lt;= 32) <span class="comment">// 4 bytes</span></div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::V_INDIRECT_REG_READ_GPR_IDX_B32_V1);</div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1ARMII.html#a7d414894ef8cdc39b147eb7e0d7e4305a479711d0ab662307550fc709665589ea">VecSize</a> &lt;= 64) <span class="comment">// 8 bytes</span></div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::V_INDIRECT_REG_READ_GPR_IDX_B32_V2);</div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1ARMII.html#a7d414894ef8cdc39b147eb7e0d7e4305a479711d0ab662307550fc709665589ea">VecSize</a> &lt;= 96) <span class="comment">// 12 bytes</span></div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::V_INDIRECT_REG_READ_GPR_IDX_B32_V3);</div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1ARMII.html#a7d414894ef8cdc39b147eb7e0d7e4305a479711d0ab662307550fc709665589ea">VecSize</a> &lt;= 128) <span class="comment">// 16 bytes</span></div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::V_INDIRECT_REG_READ_GPR_IDX_B32_V4);</div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1ARMII.html#a7d414894ef8cdc39b147eb7e0d7e4305a479711d0ab662307550fc709665589ea">VecSize</a> &lt;= 160) <span class="comment">// 20 bytes</span></div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::V_INDIRECT_REG_READ_GPR_IDX_B32_V5);</div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1ARMII.html#a7d414894ef8cdc39b147eb7e0d7e4305a479711d0ab662307550fc709665589ea">VecSize</a> &lt;= 256) <span class="comment">// 32 bytes</span></div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::V_INDIRECT_REG_READ_GPR_IDX_B32_V8);</div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1ARMII.html#a7d414894ef8cdc39b147eb7e0d7e4305a479711d0ab662307550fc709665589ea">VecSize</a> &lt;= 288) <span class="comment">// 36 bytes</span></div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::V_INDIRECT_REG_READ_GPR_IDX_B32_V9);</div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1ARMII.html#a7d414894ef8cdc39b147eb7e0d7e4305a479711d0ab662307550fc709665589ea">VecSize</a> &lt;= 320) <span class="comment">// 40 bytes</span></div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::V_INDIRECT_REG_READ_GPR_IDX_B32_V10);</div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1ARMII.html#a7d414894ef8cdc39b147eb7e0d7e4305a479711d0ab662307550fc709665589ea">VecSize</a> &lt;= 352) <span class="comment">// 44 bytes</span></div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::V_INDIRECT_REG_READ_GPR_IDX_B32_V11);</div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1ARMII.html#a7d414894ef8cdc39b147eb7e0d7e4305a479711d0ab662307550fc709665589ea">VecSize</a> &lt;= 384) <span class="comment">// 48 bytes</span></div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::V_INDIRECT_REG_READ_GPR_IDX_B32_V12);</div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1ARMII.html#a7d414894ef8cdc39b147eb7e0d7e4305a479711d0ab662307550fc709665589ea">VecSize</a> &lt;= 512) <span class="comment">// 64 bytes</span></div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::V_INDIRECT_REG_READ_GPR_IDX_B32_V16);</div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1ARMII.html#a7d414894ef8cdc39b147eb7e0d7e4305a479711d0ab662307550fc709665589ea">VecSize</a> &lt;= 1024) <span class="comment">// 128 bytes</span></div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::V_INDIRECT_REG_READ_GPR_IDX_B32_V32);</div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160; </div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;    <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;unsupported size for IndirectRegReadGPRIDX pseudos&quot;</span>);</div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;  }</div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160; </div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1ARMII.html#a7d414894ef8cdc39b147eb7e0d7e4305a479711d0ab662307550fc709665589ea">VecSize</a> &lt;= 32) <span class="comment">// 4 bytes</span></div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::V_INDIRECT_REG_WRITE_GPR_IDX_B32_V1);</div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1ARMII.html#a7d414894ef8cdc39b147eb7e0d7e4305a479711d0ab662307550fc709665589ea">VecSize</a> &lt;= 64) <span class="comment">// 8 bytes</span></div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::V_INDIRECT_REG_WRITE_GPR_IDX_B32_V2);</div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1ARMII.html#a7d414894ef8cdc39b147eb7e0d7e4305a479711d0ab662307550fc709665589ea">VecSize</a> &lt;= 96) <span class="comment">// 12 bytes</span></div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::V_INDIRECT_REG_WRITE_GPR_IDX_B32_V3);</div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1ARMII.html#a7d414894ef8cdc39b147eb7e0d7e4305a479711d0ab662307550fc709665589ea">VecSize</a> &lt;= 128) <span class="comment">// 16 bytes</span></div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::V_INDIRECT_REG_WRITE_GPR_IDX_B32_V4);</div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1ARMII.html#a7d414894ef8cdc39b147eb7e0d7e4305a479711d0ab662307550fc709665589ea">VecSize</a> &lt;= 160) <span class="comment">// 20 bytes</span></div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::V_INDIRECT_REG_WRITE_GPR_IDX_B32_V5);</div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1ARMII.html#a7d414894ef8cdc39b147eb7e0d7e4305a479711d0ab662307550fc709665589ea">VecSize</a> &lt;= 256) <span class="comment">// 32 bytes</span></div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::V_INDIRECT_REG_WRITE_GPR_IDX_B32_V8);</div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1ARMII.html#a7d414894ef8cdc39b147eb7e0d7e4305a479711d0ab662307550fc709665589ea">VecSize</a> &lt;= 288) <span class="comment">// 36 bytes</span></div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::V_INDIRECT_REG_WRITE_GPR_IDX_B32_V9);</div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1ARMII.html#a7d414894ef8cdc39b147eb7e0d7e4305a479711d0ab662307550fc709665589ea">VecSize</a> &lt;= 320) <span class="comment">// 40 bytes</span></div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::V_INDIRECT_REG_WRITE_GPR_IDX_B32_V10);</div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1ARMII.html#a7d414894ef8cdc39b147eb7e0d7e4305a479711d0ab662307550fc709665589ea">VecSize</a> &lt;= 352) <span class="comment">// 44 bytes</span></div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::V_INDIRECT_REG_WRITE_GPR_IDX_B32_V11);</div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1ARMII.html#a7d414894ef8cdc39b147eb7e0d7e4305a479711d0ab662307550fc709665589ea">VecSize</a> &lt;= 384) <span class="comment">// 48 bytes</span></div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::V_INDIRECT_REG_WRITE_GPR_IDX_B32_V12);</div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1ARMII.html#a7d414894ef8cdc39b147eb7e0d7e4305a479711d0ab662307550fc709665589ea">VecSize</a> &lt;= 512) <span class="comment">// 64 bytes</span></div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::V_INDIRECT_REG_WRITE_GPR_IDX_B32_V16);</div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1ARMII.html#a7d414894ef8cdc39b147eb7e0d7e4305a479711d0ab662307550fc709665589ea">VecSize</a> &lt;= 1024) <span class="comment">// 128 bytes</span></div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::V_INDIRECT_REG_WRITE_GPR_IDX_B32_V32);</div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160; </div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;  <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;unsupported size for IndirectRegWriteGPRIDX pseudos&quot;</span>);</div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;}</div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160; </div>
<div class="line"><a name="l01355"></a><span class="lineno"><a class="line" href="SIInstrInfo_8cpp.html#a750144640bbe8f2024eaf9296b3181dd"> 1355</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">unsigned</span> <a class="code" href="SIInstrInfo_8cpp.html#a750144640bbe8f2024eaf9296b3181dd">getIndirectVGPRWriteMovRelPseudoOpc</a>(<span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1ARMII.html#a7d414894ef8cdc39b147eb7e0d7e4305a479711d0ab662307550fc709665589ea">VecSize</a>) {</div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1ARMII.html#a7d414894ef8cdc39b147eb7e0d7e4305a479711d0ab662307550fc709665589ea">VecSize</a> &lt;= 32) <span class="comment">// 4 bytes</span></div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;    <span class="keywordflow">return</span> AMDGPU::V_INDIRECT_REG_WRITE_MOVREL_B32_V1;</div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1ARMII.html#a7d414894ef8cdc39b147eb7e0d7e4305a479711d0ab662307550fc709665589ea">VecSize</a> &lt;= 64) <span class="comment">// 8 bytes</span></div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;    <span class="keywordflow">return</span> AMDGPU::V_INDIRECT_REG_WRITE_MOVREL_B32_V2;</div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1ARMII.html#a7d414894ef8cdc39b147eb7e0d7e4305a479711d0ab662307550fc709665589ea">VecSize</a> &lt;= 96) <span class="comment">// 12 bytes</span></div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;    <span class="keywordflow">return</span> AMDGPU::V_INDIRECT_REG_WRITE_MOVREL_B32_V3;</div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1ARMII.html#a7d414894ef8cdc39b147eb7e0d7e4305a479711d0ab662307550fc709665589ea">VecSize</a> &lt;= 128) <span class="comment">// 16 bytes</span></div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;    <span class="keywordflow">return</span> AMDGPU::V_INDIRECT_REG_WRITE_MOVREL_B32_V4;</div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1ARMII.html#a7d414894ef8cdc39b147eb7e0d7e4305a479711d0ab662307550fc709665589ea">VecSize</a> &lt;= 160) <span class="comment">// 20 bytes</span></div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;    <span class="keywordflow">return</span> AMDGPU::V_INDIRECT_REG_WRITE_MOVREL_B32_V5;</div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1ARMII.html#a7d414894ef8cdc39b147eb7e0d7e4305a479711d0ab662307550fc709665589ea">VecSize</a> &lt;= 256) <span class="comment">// 32 bytes</span></div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;    <span class="keywordflow">return</span> AMDGPU::V_INDIRECT_REG_WRITE_MOVREL_B32_V8;</div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1ARMII.html#a7d414894ef8cdc39b147eb7e0d7e4305a479711d0ab662307550fc709665589ea">VecSize</a> &lt;= 288) <span class="comment">// 36 bytes</span></div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;    <span class="keywordflow">return</span> AMDGPU::V_INDIRECT_REG_WRITE_MOVREL_B32_V9;</div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1ARMII.html#a7d414894ef8cdc39b147eb7e0d7e4305a479711d0ab662307550fc709665589ea">VecSize</a> &lt;= 320) <span class="comment">// 40 bytes</span></div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;    <span class="keywordflow">return</span> AMDGPU::V_INDIRECT_REG_WRITE_MOVREL_B32_V10;</div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1ARMII.html#a7d414894ef8cdc39b147eb7e0d7e4305a479711d0ab662307550fc709665589ea">VecSize</a> &lt;= 352) <span class="comment">// 44 bytes</span></div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;    <span class="keywordflow">return</span> AMDGPU::V_INDIRECT_REG_WRITE_MOVREL_B32_V11;</div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1ARMII.html#a7d414894ef8cdc39b147eb7e0d7e4305a479711d0ab662307550fc709665589ea">VecSize</a> &lt;= 384) <span class="comment">// 48 bytes</span></div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;    <span class="keywordflow">return</span> AMDGPU::V_INDIRECT_REG_WRITE_MOVREL_B32_V12;</div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1ARMII.html#a7d414894ef8cdc39b147eb7e0d7e4305a479711d0ab662307550fc709665589ea">VecSize</a> &lt;= 512) <span class="comment">// 64 bytes</span></div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;    <span class="keywordflow">return</span> AMDGPU::V_INDIRECT_REG_WRITE_MOVREL_B32_V16;</div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1ARMII.html#a7d414894ef8cdc39b147eb7e0d7e4305a479711d0ab662307550fc709665589ea">VecSize</a> &lt;= 1024) <span class="comment">// 128 bytes</span></div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;    <span class="keywordflow">return</span> AMDGPU::V_INDIRECT_REG_WRITE_MOVREL_B32_V32;</div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160; </div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;  <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;unsupported size for IndirectRegWrite pseudos&quot;</span>);</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;}</div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160; </div>
<div class="line"><a name="l01384"></a><span class="lineno"><a class="line" href="SIInstrInfo_8cpp.html#a18409f473f705c06f6eba730ece4e63e"> 1384</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">unsigned</span> <a class="code" href="SIInstrInfo_8cpp.html#a18409f473f705c06f6eba730ece4e63e">getIndirectSGPRWriteMovRelPseudo32</a>(<span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1ARMII.html#a7d414894ef8cdc39b147eb7e0d7e4305a479711d0ab662307550fc709665589ea">VecSize</a>) {</div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1ARMII.html#a7d414894ef8cdc39b147eb7e0d7e4305a479711d0ab662307550fc709665589ea">VecSize</a> &lt;= 32) <span class="comment">// 4 bytes</span></div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;    <span class="keywordflow">return</span> AMDGPU::S_INDIRECT_REG_WRITE_MOVREL_B32_V1;</div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1ARMII.html#a7d414894ef8cdc39b147eb7e0d7e4305a479711d0ab662307550fc709665589ea">VecSize</a> &lt;= 64) <span class="comment">// 8 bytes</span></div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;    <span class="keywordflow">return</span> AMDGPU::S_INDIRECT_REG_WRITE_MOVREL_B32_V2;</div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1ARMII.html#a7d414894ef8cdc39b147eb7e0d7e4305a479711d0ab662307550fc709665589ea">VecSize</a> &lt;= 96) <span class="comment">// 12 bytes</span></div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;    <span class="keywordflow">return</span> AMDGPU::S_INDIRECT_REG_WRITE_MOVREL_B32_V3;</div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1ARMII.html#a7d414894ef8cdc39b147eb7e0d7e4305a479711d0ab662307550fc709665589ea">VecSize</a> &lt;= 128) <span class="comment">// 16 bytes</span></div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;    <span class="keywordflow">return</span> AMDGPU::S_INDIRECT_REG_WRITE_MOVREL_B32_V4;</div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1ARMII.html#a7d414894ef8cdc39b147eb7e0d7e4305a479711d0ab662307550fc709665589ea">VecSize</a> &lt;= 160) <span class="comment">// 20 bytes</span></div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;    <span class="keywordflow">return</span> AMDGPU::S_INDIRECT_REG_WRITE_MOVREL_B32_V5;</div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1ARMII.html#a7d414894ef8cdc39b147eb7e0d7e4305a479711d0ab662307550fc709665589ea">VecSize</a> &lt;= 256) <span class="comment">// 32 bytes</span></div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;    <span class="keywordflow">return</span> AMDGPU::S_INDIRECT_REG_WRITE_MOVREL_B32_V8;</div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1ARMII.html#a7d414894ef8cdc39b147eb7e0d7e4305a479711d0ab662307550fc709665589ea">VecSize</a> &lt;= 512) <span class="comment">// 64 bytes</span></div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;    <span class="keywordflow">return</span> AMDGPU::S_INDIRECT_REG_WRITE_MOVREL_B32_V16;</div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1ARMII.html#a7d414894ef8cdc39b147eb7e0d7e4305a479711d0ab662307550fc709665589ea">VecSize</a> &lt;= 1024) <span class="comment">// 128 bytes</span></div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;    <span class="keywordflow">return</span> AMDGPU::S_INDIRECT_REG_WRITE_MOVREL_B32_V32;</div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160; </div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;  <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;unsupported size for IndirectRegWrite pseudos&quot;</span>);</div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;}</div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160; </div>
<div class="line"><a name="l01405"></a><span class="lineno"><a class="line" href="SIInstrInfo_8cpp.html#a2f03a1ac84f3a1c4e5612c9293ea6244"> 1405</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">unsigned</span> <a class="code" href="SIInstrInfo_8cpp.html#a2f03a1ac84f3a1c4e5612c9293ea6244">getIndirectSGPRWriteMovRelPseudo64</a>(<span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1ARMII.html#a7d414894ef8cdc39b147eb7e0d7e4305a479711d0ab662307550fc709665589ea">VecSize</a>) {</div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1ARMII.html#a7d414894ef8cdc39b147eb7e0d7e4305a479711d0ab662307550fc709665589ea">VecSize</a> &lt;= 64) <span class="comment">// 8 bytes</span></div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;    <span class="keywordflow">return</span> AMDGPU::S_INDIRECT_REG_WRITE_MOVREL_B64_V1;</div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1ARMII.html#a7d414894ef8cdc39b147eb7e0d7e4305a479711d0ab662307550fc709665589ea">VecSize</a> &lt;= 128) <span class="comment">// 16 bytes</span></div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;    <span class="keywordflow">return</span> AMDGPU::S_INDIRECT_REG_WRITE_MOVREL_B64_V2;</div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1ARMII.html#a7d414894ef8cdc39b147eb7e0d7e4305a479711d0ab662307550fc709665589ea">VecSize</a> &lt;= 256) <span class="comment">// 32 bytes</span></div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;    <span class="keywordflow">return</span> AMDGPU::S_INDIRECT_REG_WRITE_MOVREL_B64_V4;</div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1ARMII.html#a7d414894ef8cdc39b147eb7e0d7e4305a479711d0ab662307550fc709665589ea">VecSize</a> &lt;= 512) <span class="comment">// 64 bytes</span></div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;    <span class="keywordflow">return</span> AMDGPU::S_INDIRECT_REG_WRITE_MOVREL_B64_V8;</div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1ARMII.html#a7d414894ef8cdc39b147eb7e0d7e4305a479711d0ab662307550fc709665589ea">VecSize</a> &lt;= 1024) <span class="comment">// 128 bytes</span></div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;    <span class="keywordflow">return</span> AMDGPU::S_INDIRECT_REG_WRITE_MOVREL_B64_V16;</div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160; </div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;  <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;unsupported size for IndirectRegWrite pseudos&quot;</span>);</div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;}</div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160; </div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;<span class="keyword">const</span> <a class="code" href="classllvm_1_1MCInstrDesc.html">MCInstrDesc</a> &amp;</div>
<div class="line"><a name="l01421"></a><span class="lineno"><a class="line" href="classllvm_1_1SIInstrInfo.html#a14d33066a44cffac139a9ab987c34c6d"> 1421</a></span>&#160;<a class="code" href="classllvm_1_1SIInstrInfo.html#a14d33066a44cffac139a9ab987c34c6d">SIInstrInfo::getIndirectRegWriteMovRelPseudo</a>(<span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1ARMII.html#a7d414894ef8cdc39b147eb7e0d7e4305a479711d0ab662307550fc709665589ea">VecSize</a>, <span class="keywordtype">unsigned</span> EltSize,</div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;                                             <span class="keywordtype">bool</span> IsSGPR)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;  <span class="keywordflow">if</span> (IsSGPR) {</div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;    <span class="keywordflow">switch</span> (EltSize) {</div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;    <span class="keywordflow">case</span> 32:</div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(<a class="code" href="SIInstrInfo_8cpp.html#a18409f473f705c06f6eba730ece4e63e">getIndirectSGPRWriteMovRelPseudo32</a>(<a class="code" href="namespacellvm_1_1ARMII.html#a7d414894ef8cdc39b147eb7e0d7e4305a479711d0ab662307550fc709665589ea">VecSize</a>));</div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;    <span class="keywordflow">case</span> 64:</div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(<a class="code" href="SIInstrInfo_8cpp.html#a2f03a1ac84f3a1c4e5612c9293ea6244">getIndirectSGPRWriteMovRelPseudo64</a>(<a class="code" href="namespacellvm_1_1ARMII.html#a7d414894ef8cdc39b147eb7e0d7e4305a479711d0ab662307550fc709665589ea">VecSize</a>));</div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;      <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;invalid reg indexing elt size&quot;</span>);</div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;    }</div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;  }</div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160; </div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(EltSize == 32 &amp;&amp; <span class="stringliteral">&quot;invalid reg indexing elt size&quot;</span>);</div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(<a class="code" href="SIInstrInfo_8cpp.html#a750144640bbe8f2024eaf9296b3181dd">getIndirectVGPRWriteMovRelPseudoOpc</a>(<a class="code" href="namespacellvm_1_1ARMII.html#a7d414894ef8cdc39b147eb7e0d7e4305a479711d0ab662307550fc709665589ea">VecSize</a>));</div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;}</div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160; </div>
<div class="line"><a name="l01438"></a><span class="lineno"><a class="line" href="SIInstrInfo_8cpp.html#aa92f8b057e8d007d8e3c03828035b1d1"> 1438</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">unsigned</span> <a class="code" href="SIInstrInfo_8cpp.html#aa92f8b057e8d007d8e3c03828035b1d1">getSGPRSpillSaveOpcode</a>(<span class="keywordtype">unsigned</span> Size) {</div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;  <span class="keywordflow">switch</span> (Size) {</div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;  <span class="keywordflow">case</span> 4:</div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;    <span class="keywordflow">return</span> AMDGPU::SI_SPILL_S32_SAVE;</div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;  <span class="keywordflow">case</span> 8:</div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;    <span class="keywordflow">return</span> AMDGPU::SI_SPILL_S64_SAVE;</div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;  <span class="keywordflow">case</span> 12:</div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;    <span class="keywordflow">return</span> AMDGPU::SI_SPILL_S96_SAVE;</div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;  <span class="keywordflow">case</span> 16:</div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;    <span class="keywordflow">return</span> AMDGPU::SI_SPILL_S128_SAVE;</div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;  <span class="keywordflow">case</span> 20:</div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;    <span class="keywordflow">return</span> AMDGPU::SI_SPILL_S160_SAVE;</div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;  <span class="keywordflow">case</span> 24:</div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;    <span class="keywordflow">return</span> AMDGPU::SI_SPILL_S192_SAVE;</div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;  <span class="keywordflow">case</span> 28:</div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;    <span class="keywordflow">return</span> AMDGPU::SI_SPILL_S224_SAVE;</div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;  <span class="keywordflow">case</span> 32:</div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;    <span class="keywordflow">return</span> AMDGPU::SI_SPILL_S256_SAVE;</div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;  <span class="keywordflow">case</span> 36:</div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;    <span class="keywordflow">return</span> AMDGPU::SI_SPILL_S288_SAVE;</div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;  <span class="keywordflow">case</span> 40:</div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;    <span class="keywordflow">return</span> AMDGPU::SI_SPILL_S320_SAVE;</div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;  <span class="keywordflow">case</span> 44:</div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;    <span class="keywordflow">return</span> AMDGPU::SI_SPILL_S352_SAVE;</div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;  <span class="keywordflow">case</span> 48:</div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;    <span class="keywordflow">return</span> AMDGPU::SI_SPILL_S384_SAVE;</div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;  <span class="keywordflow">case</span> 64:</div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;    <span class="keywordflow">return</span> AMDGPU::SI_SPILL_S512_SAVE;</div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;  <span class="keywordflow">case</span> 128:</div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;    <span class="keywordflow">return</span> AMDGPU::SI_SPILL_S1024_SAVE;</div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;    <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;unknown register size&quot;</span>);</div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;  }</div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;}</div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160; </div>
<div class="line"><a name="l01473"></a><span class="lineno"><a class="line" href="SIInstrInfo_8cpp.html#ab52fe3b5f1dd9eaebb4028cc94a96587"> 1473</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">unsigned</span> <a class="code" href="SIInstrInfo_8cpp.html#ab52fe3b5f1dd9eaebb4028cc94a96587">getVGPRSpillSaveOpcode</a>(<span class="keywordtype">unsigned</span> Size) {</div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;  <span class="keywordflow">switch</span> (Size) {</div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;  <span class="keywordflow">case</span> 4:</div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;    <span class="keywordflow">return</span> AMDGPU::SI_SPILL_V32_SAVE;</div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;  <span class="keywordflow">case</span> 8:</div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;    <span class="keywordflow">return</span> AMDGPU::SI_SPILL_V64_SAVE;</div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;  <span class="keywordflow">case</span> 12:</div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;    <span class="keywordflow">return</span> AMDGPU::SI_SPILL_V96_SAVE;</div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;  <span class="keywordflow">case</span> 16:</div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;    <span class="keywordflow">return</span> AMDGPU::SI_SPILL_V128_SAVE;</div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;  <span class="keywordflow">case</span> 20:</div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;    <span class="keywordflow">return</span> AMDGPU::SI_SPILL_V160_SAVE;</div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;  <span class="keywordflow">case</span> 24:</div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;    <span class="keywordflow">return</span> AMDGPU::SI_SPILL_V192_SAVE;</div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;  <span class="keywordflow">case</span> 28:</div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;    <span class="keywordflow">return</span> AMDGPU::SI_SPILL_V224_SAVE;</div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;  <span class="keywordflow">case</span> 32:</div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;    <span class="keywordflow">return</span> AMDGPU::SI_SPILL_V256_SAVE;</div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;  <span class="keywordflow">case</span> 36:</div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;    <span class="keywordflow">return</span> AMDGPU::SI_SPILL_V288_SAVE;</div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;  <span class="keywordflow">case</span> 40:</div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;    <span class="keywordflow">return</span> AMDGPU::SI_SPILL_V320_SAVE;</div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;  <span class="keywordflow">case</span> 44:</div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;    <span class="keywordflow">return</span> AMDGPU::SI_SPILL_V352_SAVE;</div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;  <span class="keywordflow">case</span> 48:</div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;    <span class="keywordflow">return</span> AMDGPU::SI_SPILL_V384_SAVE;</div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;  <span class="keywordflow">case</span> 64:</div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;    <span class="keywordflow">return</span> AMDGPU::SI_SPILL_V512_SAVE;</div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;  <span class="keywordflow">case</span> 128:</div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;    <span class="keywordflow">return</span> AMDGPU::SI_SPILL_V1024_SAVE;</div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;    <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;unknown register size&quot;</span>);</div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;  }</div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;}</div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160; </div>
<div class="line"><a name="l01508"></a><span class="lineno"><a class="line" href="SIInstrInfo_8cpp.html#a70258bed1d4a09a7c8329869a7e934a1"> 1508</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">unsigned</span> <a class="code" href="SIInstrInfo_8cpp.html#a70258bed1d4a09a7c8329869a7e934a1">getAGPRSpillSaveOpcode</a>(<span class="keywordtype">unsigned</span> Size) {</div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;  <span class="keywordflow">switch</span> (Size) {</div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;  <span class="keywordflow">case</span> 4:</div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;    <span class="keywordflow">return</span> AMDGPU::SI_SPILL_A32_SAVE;</div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;  <span class="keywordflow">case</span> 8:</div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;    <span class="keywordflow">return</span> AMDGPU::SI_SPILL_A64_SAVE;</div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;  <span class="keywordflow">case</span> 12:</div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;    <span class="keywordflow">return</span> AMDGPU::SI_SPILL_A96_SAVE;</div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;  <span class="keywordflow">case</span> 16:</div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;    <span class="keywordflow">return</span> AMDGPU::SI_SPILL_A128_SAVE;</div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;  <span class="keywordflow">case</span> 20:</div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;    <span class="keywordflow">return</span> AMDGPU::SI_SPILL_A160_SAVE;</div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;  <span class="keywordflow">case</span> 24:</div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;    <span class="keywordflow">return</span> AMDGPU::SI_SPILL_A192_SAVE;</div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;  <span class="keywordflow">case</span> 28:</div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;    <span class="keywordflow">return</span> AMDGPU::SI_SPILL_A224_SAVE;</div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;  <span class="keywordflow">case</span> 32:</div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;    <span class="keywordflow">return</span> AMDGPU::SI_SPILL_A256_SAVE;</div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;  <span class="keywordflow">case</span> 36:</div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;    <span class="keywordflow">return</span> AMDGPU::SI_SPILL_A288_SAVE;</div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;  <span class="keywordflow">case</span> 40:</div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;    <span class="keywordflow">return</span> AMDGPU::SI_SPILL_A320_SAVE;</div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;  <span class="keywordflow">case</span> 44:</div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;    <span class="keywordflow">return</span> AMDGPU::SI_SPILL_A352_SAVE;</div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;  <span class="keywordflow">case</span> 48:</div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;    <span class="keywordflow">return</span> AMDGPU::SI_SPILL_A384_SAVE;</div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;  <span class="keywordflow">case</span> 64:</div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;    <span class="keywordflow">return</span> AMDGPU::SI_SPILL_A512_SAVE;</div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;  <span class="keywordflow">case</span> 128:</div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;    <span class="keywordflow">return</span> AMDGPU::SI_SPILL_A1024_SAVE;</div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;    <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;unknown register size&quot;</span>);</div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;  }</div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;}</div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160; </div>
<div class="line"><a name="l01543"></a><span class="lineno"><a class="line" href="SIInstrInfo_8cpp.html#ae1f11cae46ac46cf14353d40a7511514"> 1543</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">unsigned</span> <a class="code" href="SIInstrInfo_8cpp.html#ae1f11cae46ac46cf14353d40a7511514">getAVSpillSaveOpcode</a>(<span class="keywordtype">unsigned</span> Size) {</div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;  <span class="keywordflow">switch</span> (Size) {</div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;  <span class="keywordflow">case</span> 4:</div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;    <span class="keywordflow">return</span> AMDGPU::SI_SPILL_AV32_SAVE;</div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;  <span class="keywordflow">case</span> 8:</div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;    <span class="keywordflow">return</span> AMDGPU::SI_SPILL_AV64_SAVE;</div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;  <span class="keywordflow">case</span> 12:</div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;    <span class="keywordflow">return</span> AMDGPU::SI_SPILL_AV96_SAVE;</div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;  <span class="keywordflow">case</span> 16:</div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;    <span class="keywordflow">return</span> AMDGPU::SI_SPILL_AV128_SAVE;</div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;  <span class="keywordflow">case</span> 20:</div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;    <span class="keywordflow">return</span> AMDGPU::SI_SPILL_AV160_SAVE;</div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;  <span class="keywordflow">case</span> 24:</div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;    <span class="keywordflow">return</span> AMDGPU::SI_SPILL_AV192_SAVE;</div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;  <span class="keywordflow">case</span> 28:</div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;    <span class="keywordflow">return</span> AMDGPU::SI_SPILL_AV224_SAVE;</div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;  <span class="keywordflow">case</span> 32:</div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;    <span class="keywordflow">return</span> AMDGPU::SI_SPILL_AV256_SAVE;</div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;  <span class="keywordflow">case</span> 36:</div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;    <span class="keywordflow">return</span> AMDGPU::SI_SPILL_AV288_SAVE;</div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;  <span class="keywordflow">case</span> 40:</div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;    <span class="keywordflow">return</span> AMDGPU::SI_SPILL_AV320_SAVE;</div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;  <span class="keywordflow">case</span> 44:</div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;    <span class="keywordflow">return</span> AMDGPU::SI_SPILL_AV352_SAVE;</div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;  <span class="keywordflow">case</span> 48:</div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;    <span class="keywordflow">return</span> AMDGPU::SI_SPILL_AV384_SAVE;</div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;  <span class="keywordflow">case</span> 64:</div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;    <span class="keywordflow">return</span> AMDGPU::SI_SPILL_AV512_SAVE;</div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;  <span class="keywordflow">case</span> 128:</div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;    <span class="keywordflow">return</span> AMDGPU::SI_SPILL_AV1024_SAVE;</div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;    <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;unknown register size&quot;</span>);</div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;  }</div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;}</div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160; </div>
<div class="line"><a name="l01578"></a><span class="lineno"><a class="line" href="classllvm_1_1SIInstrInfo.html#ad1b876e5ef51615ffe027d180ea6c07f"> 1578</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1SIInstrInfo.html#ad1b876e5ef51615ffe027d180ea6c07f">SIInstrInfo::storeRegToStackSlot</a>(</div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;    <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::iterator</a> <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="classllvm_1_1Register.html">Register</a> SrcReg,</div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;    <span class="keywordtype">bool</span> isKill, <span class="keywordtype">int</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4b437632fd9b97dd36010d85eb363efe">FrameIndex</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *RC,</div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterInfo.html">TargetRegisterInfo</a> *<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>, <a class="code" href="classllvm_1_1Register.html">Register</a> VReg)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;  <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> *MF = <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a4e21760f681d6f97f95c8414e7b83ea5">getParent</a>();</div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;  <a class="code" href="classllvm_1_1SIMachineFunctionInfo.html">SIMachineFunctionInfo</a> *MFI = MF-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#ac2dc0fa143c9f2127f0501734577a0a0">getInfo</a>&lt;<a class="code" href="classllvm_1_1SIMachineFunctionInfo.html">SIMachineFunctionInfo</a>&gt;();</div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;  <a class="code" href="classllvm_1_1MachineFrameInfo.html">MachineFrameInfo</a> &amp;FrameInfo = MF-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#a18fcadd076ad53e6df94e0ca7a80a9ef">getFrameInfo</a>();</div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a> = <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#ab622d694b5fcb0edb99159f1ebdcdb6b">findDebugLoc</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160; </div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;  <a class="code" href="structllvm_1_1MachinePointerInfo.html">MachinePointerInfo</a> PtrInfo</div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;    = <a class="code" href="structllvm_1_1MachinePointerInfo.html#ad8ce1aee13dbdcc05d20284a30e83170">MachinePointerInfo::getFixedStack</a>(*MF, <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4b437632fd9b97dd36010d85eb363efe">FrameIndex</a>);</div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;  <a class="code" href="classllvm_1_1MachineMemOperand.html">MachineMemOperand</a> *MMO = MF-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#a0d496cc15e312863869a384532968143">getMachineMemOperand</a>(</div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;      PtrInfo, <a class="code" href="classllvm_1_1MachineMemOperand.html#aaa2020e47e35179234b9ea27d555b2ddaed357b1367bc90a56fefa4d1b0e17374">MachineMemOperand::MOStore</a>, FrameInfo.getObjectSize(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4b437632fd9b97dd36010d85eb363efe">FrameIndex</a>),</div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;      FrameInfo.getObjectAlign(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4b437632fd9b97dd36010d85eb363efe">FrameIndex</a>));</div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;  <span class="keywordtype">unsigned</span> SpillSize = <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>-&gt;<a class="code" href="classllvm_1_1TargetRegisterInfo.html#ad0e6256f93a13938e8e59828d5677e32">getSpillSize</a>(*RC);</div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160; </div>
<div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;  <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a> = MF-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>();</div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;  <span class="keywordflow">if</span> (RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#af58d646af8dd60e4e514303dfa81de9c">isSGPRClass</a>(RC)) {</div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;    MFI-&gt;<a class="code" href="classllvm_1_1SIMachineFunctionInfo.html#ab5b19e21fc6b0765d7d551d2f07ae0f7">setHasSpilledSGPRs</a>();</div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(SrcReg != <a class="code" href="namespacellvm.html#ab8aff98d3587ddb15f9e46ed88687f0f">AMDGPU::M0</a> &amp;&amp; <span class="stringliteral">&quot;m0 should not be spilled&quot;</span>);</div>
<div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(SrcReg != AMDGPU::EXEC_LO &amp;&amp; SrcReg != AMDGPU::EXEC_HI &amp;&amp;</div>
<div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;           SrcReg != AMDGPU::EXEC &amp;&amp; <span class="stringliteral">&quot;exec should not be spilled&quot;</span>);</div>
<div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160; </div>
<div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;    <span class="comment">// We are only allowed to create one new instruction when spilling</span></div>
<div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;    <span class="comment">// registers, so we need to use pseudo instruction for spilling SGPRs.</span></div>
<div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCInstrDesc.html">MCInstrDesc</a> &amp;OpDesc = <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(<a class="code" href="SIInstrInfo_8cpp.html#aa92f8b057e8d007d8e3c03828035b1d1">getSGPRSpillSaveOpcode</a>(SpillSize));</div>
<div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160; </div>
<div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;    <span class="comment">// The SGPR spill/restore instructions only work on number sgprs, so we need</span></div>
<div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;    <span class="comment">// to make sure we are using the correct register class.</span></div>
<div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;    <span class="keywordflow">if</span> (SrcReg.<a class="code" href="classllvm_1_1Register.html#aebafd86dde59b5a05b22e8720e808a9d">isVirtual</a>() &amp;&amp; SpillSize == 4) {</div>
<div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;      <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#ad85285685fc46db3f2b3b0bf90bf9184">constrainRegClass</a>(SrcReg, &amp;AMDGPU::SReg_32_XM0_XEXECRegClass);</div>
<div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;    }</div>
<div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160; </div>
<div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;    <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, OpDesc)</div>
<div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(SrcReg, <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(isKill)) <span class="comment">// data</span></div>
<div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a03258ce69ceadb08e189389468f7fd0a">addFrameIndex</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4b437632fd9b97dd36010d85eb363efe">FrameIndex</a>)               <span class="comment">// addr</span></div>
<div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a47760ffd22a82283df0f5da521feca2a">addMemOperand</a>(MMO)</div>
<div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(MFI-&gt;<a class="code" href="classllvm_1_1SIMachineFunctionInfo.html#a2afcc4a332bb78d31847fd4a394a5aeb">getStackPtrOffsetReg</a>(), <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da0fec8ba6f4a4dc758b725205985eee99">RegState::Implicit</a>);</div>
<div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160; </div>
<div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;    <span class="keywordflow">if</span> (RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#aed80e0d9bfe4e57de24283efa7572eb4">spillSGPRToVGPR</a>())</div>
<div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;      FrameInfo.setStackID(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4b437632fd9b97dd36010d85eb363efe">FrameIndex</a>, <a class="code" href="namespacellvm_1_1TargetStackID.html#a71392100eb15ba746b1f898986f5d8a5a29a8016e50342e4598b3cb8a6601694f">TargetStackID::SGPRSpill</a>);</div>
<div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;  }</div>
<div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160; </div>
<div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;  <span class="keywordtype">unsigned</span> Opcode = RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#add069634d629007ba8a03a426c6bfea7">isVectorSuperClass</a>(RC)</div>
<div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;                        ? <a class="code" href="SIInstrInfo_8cpp.html#ae1f11cae46ac46cf14353d40a7511514">getAVSpillSaveOpcode</a>(SpillSize)</div>
<div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;                        : RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#afb15c9a705b04d0a7709e0c0f8af33fa">isAGPRClass</a>(RC)</div>
<div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;                              ? <a class="code" href="SIInstrInfo_8cpp.html#a70258bed1d4a09a7c8329869a7e934a1">getAGPRSpillSaveOpcode</a>(SpillSize)</div>
<div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;                              : <a class="code" href="SIInstrInfo_8cpp.html#ab52fe3b5f1dd9eaebb4028cc94a96587">getVGPRSpillSaveOpcode</a>(SpillSize);</div>
<div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;  MFI-&gt;<a class="code" href="classllvm_1_1SIMachineFunctionInfo.html#a8fe30fcccc3364b6ff5ee7ba28aed8f8">setHasSpilledVGPRs</a>();</div>
<div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160; </div>
<div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;  <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(Opcode))</div>
<div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;    .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(SrcReg, <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(isKill)) <span class="comment">// data</span></div>
<div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;    .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a03258ce69ceadb08e189389468f7fd0a">addFrameIndex</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4b437632fd9b97dd36010d85eb363efe">FrameIndex</a>)               <span class="comment">// addr</span></div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;    .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(MFI-&gt;<a class="code" href="classllvm_1_1SIMachineFunctionInfo.html#a2afcc4a332bb78d31847fd4a394a5aeb">getStackPtrOffsetReg</a>())     <span class="comment">// scratch_offset</span></div>
<div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;    .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(0)                               <span class="comment">// offset</span></div>
<div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;    .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a47760ffd22a82283df0f5da521feca2a">addMemOperand</a>(MMO);</div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;}</div>
<div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160; </div>
<div class="line"><a name="l01637"></a><span class="lineno"><a class="line" href="SIInstrInfo_8cpp.html#a99bfc979f4349f70e0dd24ea53445ff0"> 1637</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">unsigned</span> <a class="code" href="SIInstrInfo_8cpp.html#a99bfc979f4349f70e0dd24ea53445ff0">getSGPRSpillRestoreOpcode</a>(<span class="keywordtype">unsigned</span> Size) {</div>
<div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;  <span class="keywordflow">switch</span> (Size) {</div>
<div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;  <span class="keywordflow">case</span> 4:</div>
<div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;    <span class="keywordflow">return</span> AMDGPU::SI_SPILL_S32_RESTORE;</div>
<div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;  <span class="keywordflow">case</span> 8:</div>
<div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;    <span class="keywordflow">return</span> AMDGPU::SI_SPILL_S64_RESTORE;</div>
<div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;  <span class="keywordflow">case</span> 12:</div>
<div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;    <span class="keywordflow">return</span> AMDGPU::SI_SPILL_S96_RESTORE;</div>
<div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;  <span class="keywordflow">case</span> 16:</div>
<div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;    <span class="keywordflow">return</span> AMDGPU::SI_SPILL_S128_RESTORE;</div>
<div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;  <span class="keywordflow">case</span> 20:</div>
<div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;    <span class="keywordflow">return</span> AMDGPU::SI_SPILL_S160_RESTORE;</div>
<div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;  <span class="keywordflow">case</span> 24:</div>
<div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;    <span class="keywordflow">return</span> AMDGPU::SI_SPILL_S192_RESTORE;</div>
<div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;  <span class="keywordflow">case</span> 28:</div>
<div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;    <span class="keywordflow">return</span> AMDGPU::SI_SPILL_S224_RESTORE;</div>
<div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;  <span class="keywordflow">case</span> 32:</div>
<div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;    <span class="keywordflow">return</span> AMDGPU::SI_SPILL_S256_RESTORE;</div>
<div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;  <span class="keywordflow">case</span> 36:</div>
<div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;    <span class="keywordflow">return</span> AMDGPU::SI_SPILL_S288_RESTORE;</div>
<div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;  <span class="keywordflow">case</span> 40:</div>
<div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;    <span class="keywordflow">return</span> AMDGPU::SI_SPILL_S320_RESTORE;</div>
<div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;  <span class="keywordflow">case</span> 44:</div>
<div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;    <span class="keywordflow">return</span> AMDGPU::SI_SPILL_S352_RESTORE;</div>
<div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;  <span class="keywordflow">case</span> 48:</div>
<div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;    <span class="keywordflow">return</span> AMDGPU::SI_SPILL_S384_RESTORE;</div>
<div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;  <span class="keywordflow">case</span> 64:</div>
<div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;    <span class="keywordflow">return</span> AMDGPU::SI_SPILL_S512_RESTORE;</div>
<div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;  <span class="keywordflow">case</span> 128:</div>
<div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;    <span class="keywordflow">return</span> AMDGPU::SI_SPILL_S1024_RESTORE;</div>
<div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;    <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;unknown register size&quot;</span>);</div>
<div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;  }</div>
<div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;}</div>
<div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160; </div>
<div class="line"><a name="l01672"></a><span class="lineno"><a class="line" href="SIInstrInfo_8cpp.html#afe5db8c3cc834e5e22206e4a33aa09ac"> 1672</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">unsigned</span> <a class="code" href="SIInstrInfo_8cpp.html#afe5db8c3cc834e5e22206e4a33aa09ac">getVGPRSpillRestoreOpcode</a>(<span class="keywordtype">unsigned</span> Size) {</div>
<div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;  <span class="keywordflow">switch</span> (Size) {</div>
<div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;  <span class="keywordflow">case</span> 4:</div>
<div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;    <span class="keywordflow">return</span> AMDGPU::SI_SPILL_V32_RESTORE;</div>
<div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;  <span class="keywordflow">case</span> 8:</div>
<div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;    <span class="keywordflow">return</span> AMDGPU::SI_SPILL_V64_RESTORE;</div>
<div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;  <span class="keywordflow">case</span> 12:</div>
<div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;    <span class="keywordflow">return</span> AMDGPU::SI_SPILL_V96_RESTORE;</div>
<div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;  <span class="keywordflow">case</span> 16:</div>
<div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;    <span class="keywordflow">return</span> AMDGPU::SI_SPILL_V128_RESTORE;</div>
<div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;  <span class="keywordflow">case</span> 20:</div>
<div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;    <span class="keywordflow">return</span> AMDGPU::SI_SPILL_V160_RESTORE;</div>
<div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;  <span class="keywordflow">case</span> 24:</div>
<div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;    <span class="keywordflow">return</span> AMDGPU::SI_SPILL_V192_RESTORE;</div>
<div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;  <span class="keywordflow">case</span> 28:</div>
<div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;    <span class="keywordflow">return</span> AMDGPU::SI_SPILL_V224_RESTORE;</div>
<div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;  <span class="keywordflow">case</span> 32:</div>
<div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;    <span class="keywordflow">return</span> AMDGPU::SI_SPILL_V256_RESTORE;</div>
<div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;  <span class="keywordflow">case</span> 36:</div>
<div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;    <span class="keywordflow">return</span> AMDGPU::SI_SPILL_V288_RESTORE;</div>
<div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;  <span class="keywordflow">case</span> 40:</div>
<div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;    <span class="keywordflow">return</span> AMDGPU::SI_SPILL_V320_RESTORE;</div>
<div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;  <span class="keywordflow">case</span> 44:</div>
<div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;    <span class="keywordflow">return</span> AMDGPU::SI_SPILL_V352_RESTORE;</div>
<div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;  <span class="keywordflow">case</span> 48:</div>
<div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;    <span class="keywordflow">return</span> AMDGPU::SI_SPILL_V384_RESTORE;</div>
<div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;  <span class="keywordflow">case</span> 64:</div>
<div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;    <span class="keywordflow">return</span> AMDGPU::SI_SPILL_V512_RESTORE;</div>
<div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;  <span class="keywordflow">case</span> 128:</div>
<div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;    <span class="keywordflow">return</span> AMDGPU::SI_SPILL_V1024_RESTORE;</div>
<div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;    <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;unknown register size&quot;</span>);</div>
<div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;  }</div>
<div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;}</div>
<div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160; </div>
<div class="line"><a name="l01707"></a><span class="lineno"><a class="line" href="SIInstrInfo_8cpp.html#a3b14da54a3568ef712f4baaab1dd5dd8"> 1707</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">unsigned</span> <a class="code" href="SIInstrInfo_8cpp.html#a3b14da54a3568ef712f4baaab1dd5dd8">getAGPRSpillRestoreOpcode</a>(<span class="keywordtype">unsigned</span> Size) {</div>
<div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;  <span class="keywordflow">switch</span> (Size) {</div>
<div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;  <span class="keywordflow">case</span> 4:</div>
<div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;    <span class="keywordflow">return</span> AMDGPU::SI_SPILL_A32_RESTORE;</div>
<div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;  <span class="keywordflow">case</span> 8:</div>
<div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;    <span class="keywordflow">return</span> AMDGPU::SI_SPILL_A64_RESTORE;</div>
<div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;  <span class="keywordflow">case</span> 12:</div>
<div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;    <span class="keywordflow">return</span> AMDGPU::SI_SPILL_A96_RESTORE;</div>
<div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;  <span class="keywordflow">case</span> 16:</div>
<div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;    <span class="keywordflow">return</span> AMDGPU::SI_SPILL_A128_RESTORE;</div>
<div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;  <span class="keywordflow">case</span> 20:</div>
<div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;    <span class="keywordflow">return</span> AMDGPU::SI_SPILL_A160_RESTORE;</div>
<div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;  <span class="keywordflow">case</span> 24:</div>
<div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;    <span class="keywordflow">return</span> AMDGPU::SI_SPILL_A192_RESTORE;</div>
<div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;  <span class="keywordflow">case</span> 28:</div>
<div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;    <span class="keywordflow">return</span> AMDGPU::SI_SPILL_A224_RESTORE;</div>
<div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;  <span class="keywordflow">case</span> 32:</div>
<div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;    <span class="keywordflow">return</span> AMDGPU::SI_SPILL_A256_RESTORE;</div>
<div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;  <span class="keywordflow">case</span> 36:</div>
<div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;    <span class="keywordflow">return</span> AMDGPU::SI_SPILL_A288_RESTORE;</div>
<div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;  <span class="keywordflow">case</span> 40:</div>
<div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;    <span class="keywordflow">return</span> AMDGPU::SI_SPILL_A320_RESTORE;</div>
<div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;  <span class="keywordflow">case</span> 44:</div>
<div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;    <span class="keywordflow">return</span> AMDGPU::SI_SPILL_A352_RESTORE;</div>
<div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;  <span class="keywordflow">case</span> 48:</div>
<div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;    <span class="keywordflow">return</span> AMDGPU::SI_SPILL_A384_RESTORE;</div>
<div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;  <span class="keywordflow">case</span> 64:</div>
<div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;    <span class="keywordflow">return</span> AMDGPU::SI_SPILL_A512_RESTORE;</div>
<div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;  <span class="keywordflow">case</span> 128:</div>
<div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;    <span class="keywordflow">return</span> AMDGPU::SI_SPILL_A1024_RESTORE;</div>
<div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;    <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;unknown register size&quot;</span>);</div>
<div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;  }</div>
<div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;}</div>
<div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160; </div>
<div class="line"><a name="l01742"></a><span class="lineno"><a class="line" href="SIInstrInfo_8cpp.html#af6c596a28179cfc956ba49cb5fe643f9"> 1742</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">unsigned</span> <a class="code" href="SIInstrInfo_8cpp.html#af6c596a28179cfc956ba49cb5fe643f9">getAVSpillRestoreOpcode</a>(<span class="keywordtype">unsigned</span> Size) {</div>
<div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;  <span class="keywordflow">switch</span> (Size) {</div>
<div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;  <span class="keywordflow">case</span> 4:</div>
<div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;    <span class="keywordflow">return</span> AMDGPU::SI_SPILL_AV32_RESTORE;</div>
<div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;  <span class="keywordflow">case</span> 8:</div>
<div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;    <span class="keywordflow">return</span> AMDGPU::SI_SPILL_AV64_RESTORE;</div>
<div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;  <span class="keywordflow">case</span> 12:</div>
<div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;    <span class="keywordflow">return</span> AMDGPU::SI_SPILL_AV96_RESTORE;</div>
<div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;  <span class="keywordflow">case</span> 16:</div>
<div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;    <span class="keywordflow">return</span> AMDGPU::SI_SPILL_AV128_RESTORE;</div>
<div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;  <span class="keywordflow">case</span> 20:</div>
<div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;    <span class="keywordflow">return</span> AMDGPU::SI_SPILL_AV160_RESTORE;</div>
<div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;  <span class="keywordflow">case</span> 24:</div>
<div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;    <span class="keywordflow">return</span> AMDGPU::SI_SPILL_AV192_RESTORE;</div>
<div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;  <span class="keywordflow">case</span> 28:</div>
<div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;    <span class="keywordflow">return</span> AMDGPU::SI_SPILL_AV224_RESTORE;</div>
<div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;  <span class="keywordflow">case</span> 32:</div>
<div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;    <span class="keywordflow">return</span> AMDGPU::SI_SPILL_AV256_RESTORE;</div>
<div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;  <span class="keywordflow">case</span> 36:</div>
<div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;    <span class="keywordflow">return</span> AMDGPU::SI_SPILL_AV288_RESTORE;</div>
<div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;  <span class="keywordflow">case</span> 40:</div>
<div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;    <span class="keywordflow">return</span> AMDGPU::SI_SPILL_AV320_RESTORE;</div>
<div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;  <span class="keywordflow">case</span> 44:</div>
<div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;    <span class="keywordflow">return</span> AMDGPU::SI_SPILL_AV352_RESTORE;</div>
<div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;  <span class="keywordflow">case</span> 48:</div>
<div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;    <span class="keywordflow">return</span> AMDGPU::SI_SPILL_AV384_RESTORE;</div>
<div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;  <span class="keywordflow">case</span> 64:</div>
<div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;    <span class="keywordflow">return</span> AMDGPU::SI_SPILL_AV512_RESTORE;</div>
<div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;  <span class="keywordflow">case</span> 128:</div>
<div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;    <span class="keywordflow">return</span> AMDGPU::SI_SPILL_AV1024_RESTORE;</div>
<div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;    <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;unknown register size&quot;</span>);</div>
<div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;  }</div>
<div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;}</div>
<div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160; </div>
<div class="line"><a name="l01777"></a><span class="lineno"><a class="line" href="classllvm_1_1SIInstrInfo.html#a829e9621ba24a27ddaaccfb4b0f58308"> 1777</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1SIInstrInfo.html#a829e9621ba24a27ddaaccfb4b0f58308">SIInstrInfo::loadRegFromStackSlot</a>(<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>,</div>
<div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;                                       <a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::iterator</a> <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>,</div>
<div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;                                       <a class="code" href="classllvm_1_1Register.html">Register</a> DestReg, <span class="keywordtype">int</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4b437632fd9b97dd36010d85eb363efe">FrameIndex</a>,</div>
<div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;                                       <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *RC,</div>
<div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;                                       <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterInfo.html">TargetRegisterInfo</a> *<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>,</div>
<div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;                                       <a class="code" href="classllvm_1_1Register.html">Register</a> VReg)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;  <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> *MF = <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a4e21760f681d6f97f95c8414e7b83ea5">getParent</a>();</div>
<div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;  <a class="code" href="classllvm_1_1SIMachineFunctionInfo.html">SIMachineFunctionInfo</a> *MFI = MF-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#ac2dc0fa143c9f2127f0501734577a0a0">getInfo</a>&lt;<a class="code" href="classllvm_1_1SIMachineFunctionInfo.html">SIMachineFunctionInfo</a>&gt;();</div>
<div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;  <a class="code" href="classllvm_1_1MachineFrameInfo.html">MachineFrameInfo</a> &amp;FrameInfo = MF-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#a18fcadd076ad53e6df94e0ca7a80a9ef">getFrameInfo</a>();</div>
<div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a> = <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#ab622d694b5fcb0edb99159f1ebdcdb6b">findDebugLoc</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;  <span class="keywordtype">unsigned</span> SpillSize = <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>-&gt;<a class="code" href="classllvm_1_1TargetRegisterInfo.html#ad0e6256f93a13938e8e59828d5677e32">getSpillSize</a>(*RC);</div>
<div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160; </div>
<div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;  <a class="code" href="structllvm_1_1MachinePointerInfo.html">MachinePointerInfo</a> PtrInfo</div>
<div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;    = <a class="code" href="structllvm_1_1MachinePointerInfo.html#ad8ce1aee13dbdcc05d20284a30e83170">MachinePointerInfo::getFixedStack</a>(*MF, <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4b437632fd9b97dd36010d85eb363efe">FrameIndex</a>);</div>
<div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160; </div>
<div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;  <a class="code" href="classllvm_1_1MachineMemOperand.html">MachineMemOperand</a> *MMO = MF-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#a0d496cc15e312863869a384532968143">getMachineMemOperand</a>(</div>
<div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;      PtrInfo, <a class="code" href="classllvm_1_1MachineMemOperand.html#aaa2020e47e35179234b9ea27d555b2dda7d12be6206e5b0026c71bbcd5cb76494">MachineMemOperand::MOLoad</a>, FrameInfo.getObjectSize(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4b437632fd9b97dd36010d85eb363efe">FrameIndex</a>),</div>
<div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;      FrameInfo.getObjectAlign(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4b437632fd9b97dd36010d85eb363efe">FrameIndex</a>));</div>
<div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160; </div>
<div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;  <span class="keywordflow">if</span> (RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#af58d646af8dd60e4e514303dfa81de9c">isSGPRClass</a>(RC)) {</div>
<div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;    MFI-&gt;<a class="code" href="classllvm_1_1SIMachineFunctionInfo.html#ab5b19e21fc6b0765d7d551d2f07ae0f7">setHasSpilledSGPRs</a>();</div>
<div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(DestReg != <a class="code" href="namespacellvm.html#ab8aff98d3587ddb15f9e46ed88687f0f">AMDGPU::M0</a> &amp;&amp; <span class="stringliteral">&quot;m0 should not be reloaded into&quot;</span>);</div>
<div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(DestReg != AMDGPU::EXEC_LO &amp;&amp; DestReg != AMDGPU::EXEC_HI &amp;&amp;</div>
<div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;           DestReg != AMDGPU::EXEC &amp;&amp; <span class="stringliteral">&quot;exec should not be spilled&quot;</span>);</div>
<div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160; </div>
<div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;    <span class="comment">// FIXME: Maybe this should not include a memoperand because it will be</span></div>
<div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;    <span class="comment">// lowered to non-memory instructions.</span></div>
<div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCInstrDesc.html">MCInstrDesc</a> &amp;OpDesc = <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(<a class="code" href="SIInstrInfo_8cpp.html#a99bfc979f4349f70e0dd24ea53445ff0">getSGPRSpillRestoreOpcode</a>(SpillSize));</div>
<div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;    <span class="keywordflow">if</span> (DestReg.<a class="code" href="classllvm_1_1Register.html#aebafd86dde59b5a05b22e8720e808a9d">isVirtual</a>() &amp;&amp; SpillSize == 4) {</div>
<div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;      <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a> = MF-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>();</div>
<div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;      <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#ad85285685fc46db3f2b3b0bf90bf9184">constrainRegClass</a>(DestReg, &amp;AMDGPU::SReg_32_XM0_XEXECRegClass);</div>
<div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;    }</div>
<div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160; </div>
<div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;    <span class="keywordflow">if</span> (RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#aed80e0d9bfe4e57de24283efa7572eb4">spillSGPRToVGPR</a>())</div>
<div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;      FrameInfo.setStackID(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4b437632fd9b97dd36010d85eb363efe">FrameIndex</a>, <a class="code" href="namespacellvm_1_1TargetStackID.html#a71392100eb15ba746b1f898986f5d8a5a29a8016e50342e4598b3cb8a6601694f">TargetStackID::SGPRSpill</a>);</div>
<div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;    <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, OpDesc, DestReg)</div>
<div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a03258ce69ceadb08e189389468f7fd0a">addFrameIndex</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4b437632fd9b97dd36010d85eb363efe">FrameIndex</a>) <span class="comment">// addr</span></div>
<div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a47760ffd22a82283df0f5da521feca2a">addMemOperand</a>(MMO)</div>
<div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(MFI-&gt;<a class="code" href="classllvm_1_1SIMachineFunctionInfo.html#a2afcc4a332bb78d31847fd4a394a5aeb">getStackPtrOffsetReg</a>(), <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da0fec8ba6f4a4dc758b725205985eee99">RegState::Implicit</a>);</div>
<div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160; </div>
<div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;  }</div>
<div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160; </div>
<div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;  <span class="keywordtype">unsigned</span> Opcode = RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#add069634d629007ba8a03a426c6bfea7">isVectorSuperClass</a>(RC)</div>
<div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;                        ? <a class="code" href="SIInstrInfo_8cpp.html#af6c596a28179cfc956ba49cb5fe643f9">getAVSpillRestoreOpcode</a>(SpillSize)</div>
<div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;                        : RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#afb15c9a705b04d0a7709e0c0f8af33fa">isAGPRClass</a>(RC)</div>
<div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;                              ? <a class="code" href="SIInstrInfo_8cpp.html#a3b14da54a3568ef712f4baaab1dd5dd8">getAGPRSpillRestoreOpcode</a>(SpillSize)</div>
<div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;                              : <a class="code" href="SIInstrInfo_8cpp.html#afe5db8c3cc834e5e22206e4a33aa09ac">getVGPRSpillRestoreOpcode</a>(SpillSize);</div>
<div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;  <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(Opcode), DestReg)</div>
<div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a03258ce69ceadb08e189389468f7fd0a">addFrameIndex</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4b437632fd9b97dd36010d85eb363efe">FrameIndex</a>)           <span class="comment">// vaddr</span></div>
<div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(MFI-&gt;<a class="code" href="classllvm_1_1SIMachineFunctionInfo.html#a2afcc4a332bb78d31847fd4a394a5aeb">getStackPtrOffsetReg</a>()) <span class="comment">// scratch_offset</span></div>
<div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(0)                           <span class="comment">// offset</span></div>
<div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a47760ffd22a82283df0f5da521feca2a">addMemOperand</a>(MMO);</div>
<div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;}</div>
<div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160; </div>
<div class="line"><a name="l01832"></a><span class="lineno"><a class="line" href="classllvm_1_1SIInstrInfo.html#ad8e550107fa28c8e3869a5b28dad59b9"> 1832</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1SIInstrInfo.html#ad8e550107fa28c8e3869a5b28dad59b9">SIInstrInfo::insertNoop</a>(<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>,</div>
<div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;                             <a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::iterator</a> <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;  <a class="code" href="classllvm_1_1SIInstrInfo.html#a35a34ad93d12d742710032a33f3ecb57">insertNoops</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, 1);</div>
<div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;}</div>
<div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160; </div>
<div class="line"><a name="l01837"></a><span class="lineno"><a class="line" href="classllvm_1_1SIInstrInfo.html#a35a34ad93d12d742710032a33f3ecb57"> 1837</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1SIInstrInfo.html#a35a34ad93d12d742710032a33f3ecb57">SIInstrInfo::insertNoops</a>(<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>,</div>
<div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;                              <a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::iterator</a> <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>,</div>
<div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;                              <span class="keywordtype">unsigned</span> Quantity)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;  <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a> = <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#ab622d694b5fcb0edb99159f1ebdcdb6b">findDebugLoc</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;  <span class="keywordflow">while</span> (Quantity &gt; 0) {</div>
<div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a> = <a class="code" href="namespacellvm.html#a57f2ca0e57f4f7b13f56f9aa16af3e0d">std::min</a>(Quantity, 8u);</div>
<div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;    Quantity -= <a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>;</div>
<div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;    <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::S_NOP)).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(<a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a> - 1);</div>
<div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;  }</div>
<div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;}</div>
<div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160; </div>
<div class="line"><a name="l01848"></a><span class="lineno"><a class="line" href="classllvm_1_1SIInstrInfo.html#a2d04c20f5631c0950af280cb294db89d"> 1848</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1SIInstrInfo.html#a2d04c20f5631c0950af280cb294db89d">SIInstrInfo::insertReturn</a>(<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;  <span class="keyword">auto</span> MF = <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a4e21760f681d6f97f95c8414e7b83ea5">getParent</a>();</div>
<div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;  <a class="code" href="classllvm_1_1SIMachineFunctionInfo.html">SIMachineFunctionInfo</a> *<a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a> = MF-&gt;getInfo&lt;<a class="code" href="classllvm_1_1SIMachineFunctionInfo.html">SIMachineFunctionInfo</a>&gt;();</div>
<div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160; </div>
<div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>-&gt;isEntryFunction());</div>
<div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160; </div>
<div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#aa8d1d8d88835b75b05b14ab774785e8a">succ_empty</a>()) {</div>
<div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;    <span class="keywordtype">bool</span> HasNoTerminator = <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a7f0521fa2de44271fd4b909ea7351ef3">getFirstTerminator</a>() == <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">end</a>();</div>
<div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;    <span class="keywordflow">if</span> (HasNoTerminator) {</div>
<div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>-&gt;returnsVoid()) {</div>
<div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;        <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">end</a>(), <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a>(), <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::S_ENDPGM)).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(0);</div>
<div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;        <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">end</a>(), <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a>(), <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::SI_RETURN_TO_EPILOG));</div>
<div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;      }</div>
<div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;    }</div>
<div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;  }</div>
<div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;}</div>
<div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160; </div>
<div class="line"><a name="l01866"></a><span class="lineno"><a class="line" href="classllvm_1_1SIInstrInfo.html#ac1656e5749e564620d30b6c2bd704f11"> 1866</a></span>&#160;<span class="keywordtype">unsigned</span> <a class="code" href="classllvm_1_1SIInstrInfo.html#ac1656e5749e564620d30b6c2bd704f11">SIInstrInfo::getNumWaitStates</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>) {</div>
<div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;  <span class="keywordflow">switch</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode()) {</div>
<div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.isMetaInstruction())</div>
<div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;      <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;    <span class="keywordflow">return</span> 1; <span class="comment">// FIXME: Do wait states equal cycles?</span></div>
<div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160; </div>
<div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_NOP:</div>
<div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(0).getImm() + 1;</div>
<div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;  <span class="comment">// SI_RETURN_TO_EPILOG is a fallthrough to code outside of the function. The</span></div>
<div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;  <span class="comment">// hazard, even if one exist, won&#39;t really be visible. Should we handle it?</span></div>
<div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;  }</div>
<div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;}</div>
<div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160; </div>
<div class="line"><a name="l01880"></a><span class="lineno"><a class="line" href="classllvm_1_1SIInstrInfo.html#a864a107b54979b53706e9d88f51c07e3"> 1880</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1SIInstrInfo.html#a864a107b54979b53706e9d88f51c07e3">SIInstrInfo::expandPostRAPseudo</a>(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SIRegisterInfo.html">SIRegisterInfo</a> *<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a> = ST.<a class="code" href="classllvm_1_1GCNSubtarget.html#a95d2929d1a7c8c66554f0b44b153b573">getRegisterInfo</a>();</div>
<div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;  <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a> = *<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getParent();</div>
<div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;  <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a> = <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#ab622d694b5fcb0edb99159f1ebdcdb6b">findDebugLoc</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;  <span class="keywordflow">switch</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode()) {</div>
<div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;  <span class="keywordflow">default</span>: <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1TargetInstrInfo.html#aeeb52dce7ed6b6e3abc562031782d77d">TargetInstrInfo::expandPostRAPseudo</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_MOV_B64_term:</div>
<div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;    <span class="comment">// This is only a terminator to get the correct spill code placement during</span></div>
<div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;    <span class="comment">// register allocation.</span></div>
<div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;    <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.setDesc(<a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::S_MOV_B64));</div>
<div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160; </div>
<div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_MOV_B32_term:</div>
<div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;    <span class="comment">// This is only a terminator to get the correct spill code placement during</span></div>
<div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;    <span class="comment">// register allocation.</span></div>
<div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;    <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.setDesc(<a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::S_MOV_B32));</div>
<div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160; </div>
<div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_XOR_B64_term:</div>
<div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;    <span class="comment">// This is only a terminator to get the correct spill code placement during</span></div>
<div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;    <span class="comment">// register allocation.</span></div>
<div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;    <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.setDesc(<a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::S_XOR_B64));</div>
<div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160; </div>
<div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_XOR_B32_term:</div>
<div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;    <span class="comment">// This is only a terminator to get the correct spill code placement during</span></div>
<div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;    <span class="comment">// register allocation.</span></div>
<div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;    <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.setDesc(<a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::S_XOR_B32));</div>
<div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_OR_B64_term:</div>
<div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;    <span class="comment">// This is only a terminator to get the correct spill code placement during</span></div>
<div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;    <span class="comment">// register allocation.</span></div>
<div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;    <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.setDesc(<a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::S_OR_B64));</div>
<div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_OR_B32_term:</div>
<div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;    <span class="comment">// This is only a terminator to get the correct spill code placement during</span></div>
<div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;    <span class="comment">// register allocation.</span></div>
<div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;    <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.setDesc(<a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::S_OR_B32));</div>
<div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160; </div>
<div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_ANDN2_B64_term:</div>
<div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;    <span class="comment">// This is only a terminator to get the correct spill code placement during</span></div>
<div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;    <span class="comment">// register allocation.</span></div>
<div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;    <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.setDesc(<a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::S_ANDN2_B64));</div>
<div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160; </div>
<div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_ANDN2_B32_term:</div>
<div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;    <span class="comment">// This is only a terminator to get the correct spill code placement during</span></div>
<div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;    <span class="comment">// register allocation.</span></div>
<div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;    <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.setDesc(<a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::S_ANDN2_B32));</div>
<div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160; </div>
<div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_AND_B64_term:</div>
<div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;    <span class="comment">// This is only a terminator to get the correct spill code placement during</span></div>
<div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;    <span class="comment">// register allocation.</span></div>
<div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;    <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.setDesc(<a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::S_AND_B64));</div>
<div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160; </div>
<div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_AND_B32_term:</div>
<div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;    <span class="comment">// This is only a terminator to get the correct spill code placement during</span></div>
<div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;    <span class="comment">// register allocation.</span></div>
<div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;    <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.setDesc(<a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::S_AND_B32));</div>
<div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160; </div>
<div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_MOV_B64_PSEUDO: {</div>
<div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> Dst = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(0).getReg();</div>
<div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> DstLo = RI.getSubReg(Dst, AMDGPU::sub0);</div>
<div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> DstHi = RI.getSubReg(Dst, AMDGPU::sub1);</div>
<div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160; </div>
<div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;<a class="code" href="classllvm_1_1SrcOp.html">SrcOp</a> = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(1);</div>
<div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;    <span class="comment">// FIXME: Will this work for 64-bit floating point immediates?</span></div>
<div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!<a class="code" href="classllvm_1_1SrcOp.html">SrcOp</a>.isFPImm());</div>
<div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160;    <span class="keywordflow">if</span> (ST.<a class="code" href="classllvm_1_1GCNSubtarget.html#a92e0b317959309846ea919ad2cf08ffc">hasMovB64</a>()) {</div>
<div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160;      <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.setDesc(<a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::V_MOV_B64_e32));</div>
<div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SrcOp.html">SrcOp</a>.isReg() || <a class="code" href="classllvm_1_1SIInstrInfo.html#a0480d6290cd95e40641f2af7a18fb764">isInlineConstant</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, 1) ||</div>
<div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160;          isUInt&lt;32&gt;(<a class="code" href="classllvm_1_1SrcOp.html">SrcOp</a>.<a class="code" href="classllvm_1_1SrcOp.html#a9370c0de85c12bd0062063b7fcbc64ed">getImm</a>()))</div>
<div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160;    }</div>
<div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SrcOp.html">SrcOp</a>.isImm()) {</div>
<div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;      <a class="code" href="classllvm_1_1APInt.html">APInt</a> <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>(64, <a class="code" href="classllvm_1_1SrcOp.html">SrcOp</a>.<a class="code" href="classllvm_1_1SrcOp.html#a9370c0de85c12bd0062063b7fcbc64ed">getImm</a>());</div>
<div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;      <a class="code" href="classllvm_1_1APInt.html">APInt</a> Lo(32, <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>.getLoBits(32).getZExtValue());</div>
<div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160;      <a class="code" href="classllvm_1_1APInt.html">APInt</a> Hi(32, <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>.getHiBits(32).getZExtValue());</div>
<div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160;      <span class="keywordflow">if</span> (ST.<a class="code" href="classllvm_1_1GCNSubtarget.html#a7f1b4a610bfabed1dac80708d399d552">hasPackedFP32Ops</a>() &amp;&amp; Lo == Hi &amp;&amp; <a class="code" href="classllvm_1_1SIInstrInfo.html#a0480d6290cd95e40641f2af7a18fb764">isInlineConstant</a>(Lo)) {</div>
<div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160;        <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::V_PK_MOV_B32), Dst)</div>
<div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(<a class="code" href="namespacellvm_1_1SISrcMods.html#a1d705f3f6f4a6c585d068369ef0f4916af0e8126187c47c5b74a1bdc635158144">SISrcMods::OP_SEL_1</a>)</div>
<div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(Lo.getSExtValue())</div>
<div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(<a class="code" href="namespacellvm_1_1SISrcMods.html#a1d705f3f6f4a6c585d068369ef0f4916af0e8126187c47c5b74a1bdc635158144">SISrcMods::OP_SEL_1</a>)</div>
<div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(Lo.getSExtValue())</div>
<div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(0)  <span class="comment">// op_sel_lo</span></div>
<div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(0)  <span class="comment">// op_sel_hi</span></div>
<div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(0)  <span class="comment">// neg_lo</span></div>
<div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(0)  <span class="comment">// neg_hi</span></div>
<div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(0); <span class="comment">// clamp</span></div>
<div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160;        <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::V_MOV_B32_e32), DstLo)</div>
<div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(Lo.getSExtValue())</div>
<div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(Dst, <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da0fec8ba6f4a4dc758b725205985eee99">RegState::Implicit</a> | <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da72c17e2ff2d5af62a30e56ac152aa8d5">RegState::Define</a>);</div>
<div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;        <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::V_MOV_B32_e32), DstHi)</div>
<div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(Hi.getSExtValue())</div>
<div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(Dst, <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da0fec8ba6f4a4dc758b725205985eee99">RegState::Implicit</a> | <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da72c17e2ff2d5af62a30e56ac152aa8d5">RegState::Define</a>);</div>
<div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;      }</div>
<div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="classllvm_1_1SrcOp.html">SrcOp</a>.isReg());</div>
<div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160;      <span class="keywordflow">if</span> (ST.<a class="code" href="classllvm_1_1GCNSubtarget.html#a7f1b4a610bfabed1dac80708d399d552">hasPackedFP32Ops</a>() &amp;&amp;</div>
<div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160;          !RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#acc61376f4183268183912910024e1f2c">isAGPR</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a4e21760f681d6f97f95c8414e7b83ea5">getParent</a>()-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>(), <a class="code" href="classllvm_1_1SrcOp.html">SrcOp</a>.<a class="code" href="classllvm_1_1SrcOp.html#ae229785d0c8a8ce25d34be18fe150a54">getReg</a>())) {</div>
<div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;        <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::V_PK_MOV_B32), Dst)</div>
<div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(<a class="code" href="namespacellvm_1_1SISrcMods.html#a1d705f3f6f4a6c585d068369ef0f4916af0e8126187c47c5b74a1bdc635158144">SISrcMods::OP_SEL_1</a>) <span class="comment">// src0_mod</span></div>
<div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(<a class="code" href="classllvm_1_1SrcOp.html">SrcOp</a>.<a class="code" href="classllvm_1_1SrcOp.html#ae229785d0c8a8ce25d34be18fe150a54">getReg</a>())</div>
<div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(<a class="code" href="namespacellvm_1_1SISrcMods.html#a1d705f3f6f4a6c585d068369ef0f4916a3b095994a942145ccaaed4f175c7172a">SISrcMods::OP_SEL_0</a> | <a class="code" href="namespacellvm_1_1SISrcMods.html#a1d705f3f6f4a6c585d068369ef0f4916af0e8126187c47c5b74a1bdc635158144">SISrcMods::OP_SEL_1</a>) <span class="comment">// src1_mod</span></div>
<div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(<a class="code" href="classllvm_1_1SrcOp.html">SrcOp</a>.<a class="code" href="classllvm_1_1SrcOp.html#ae229785d0c8a8ce25d34be18fe150a54">getReg</a>())</div>
<div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(0)  <span class="comment">// op_sel_lo</span></div>
<div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(0)  <span class="comment">// op_sel_hi</span></div>
<div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(0)  <span class="comment">// neg_lo</span></div>
<div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(0)  <span class="comment">// neg_hi</span></div>
<div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(0); <span class="comment">// clamp</span></div>
<div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;        <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::V_MOV_B32_e32), DstLo)</div>
<div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(RI.getSubReg(<a class="code" href="classllvm_1_1SrcOp.html">SrcOp</a>.<a class="code" href="classllvm_1_1SrcOp.html#ae229785d0c8a8ce25d34be18fe150a54">getReg</a>(), AMDGPU::sub0))</div>
<div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(Dst, <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da0fec8ba6f4a4dc758b725205985eee99">RegState::Implicit</a> | <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da72c17e2ff2d5af62a30e56ac152aa8d5">RegState::Define</a>);</div>
<div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;        <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::V_MOV_B32_e32), DstHi)</div>
<div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(RI.getSubReg(<a class="code" href="classllvm_1_1SrcOp.html">SrcOp</a>.<a class="code" href="classllvm_1_1SrcOp.html#ae229785d0c8a8ce25d34be18fe150a54">getReg</a>(), AMDGPU::sub1))</div>
<div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(Dst, <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da0fec8ba6f4a4dc758b725205985eee99">RegState::Implicit</a> | <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da72c17e2ff2d5af62a30e56ac152aa8d5">RegState::Define</a>);</div>
<div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;      }</div>
<div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;    }</div>
<div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;    <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.eraseFromParent();</div>
<div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;  }</div>
<div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_MOV_B64_DPP_PSEUDO: {</div>
<div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;    <a class="code" href="classllvm_1_1SIInstrInfo.html#ad8e9b54f022eddc33ee49305e85d6b7f">expandMovDPP64</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;  }</div>
<div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_MOV_B64_IMM_PSEUDO: {</div>
<div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;<a class="code" href="classllvm_1_1SrcOp.html">SrcOp</a> = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(1);</div>
<div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!<a class="code" href="classllvm_1_1SrcOp.html">SrcOp</a>.isFPImm());</div>
<div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>(64, <a class="code" href="classllvm_1_1SrcOp.html">SrcOp</a>.<a class="code" href="classllvm_1_1SrcOp.html#a9370c0de85c12bd0062063b7fcbc64ed">getImm</a>());</div>
<div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>.isIntN(32) || <a class="code" href="classllvm_1_1SIInstrInfo.html#a0480d6290cd95e40641f2af7a18fb764">isInlineConstant</a>(<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>)) {</div>
<div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;      <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.setDesc(<a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::S_MOV_B64));</div>
<div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160;    }</div>
<div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160; </div>
<div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> Dst = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(0).getReg();</div>
<div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> DstLo = RI.getSubReg(Dst, AMDGPU::sub0);</div>
<div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> DstHi = RI.getSubReg(Dst, AMDGPU::sub1);</div>
<div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160; </div>
<div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> Lo(32, <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>.getLoBits(32).getZExtValue());</div>
<div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> Hi(32, <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>.getHiBits(32).getZExtValue());</div>
<div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160;    <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::S_MOV_B32), DstLo)</div>
<div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(Lo.getSExtValue())</div>
<div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(Dst, <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da0fec8ba6f4a4dc758b725205985eee99">RegState::Implicit</a> | <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da72c17e2ff2d5af62a30e56ac152aa8d5">RegState::Define</a>);</div>
<div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160;    <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::S_MOV_B32), DstHi)</div>
<div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(Hi.getSExtValue())</div>
<div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(Dst, <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da0fec8ba6f4a4dc758b725205985eee99">RegState::Implicit</a> | <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da72c17e2ff2d5af62a30e56ac152aa8d5">RegState::Define</a>);</div>
<div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;    <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.eraseFromParent();</div>
<div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;  }</div>
<div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_SET_INACTIVE_B32: {</div>
<div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160;    <span class="keywordtype">unsigned</span> NotOpc = ST.<a class="code" href="classllvm_1_1GCNSubtarget.html#a9f44cd05eefbb20a234a7e3b6369a7f8">isWave32</a>() ? AMDGPU::S_NOT_B32 : AMDGPU::S_NOT_B64;</div>
<div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160;    <span class="keywordtype">unsigned</span> Exec = ST.<a class="code" href="classllvm_1_1GCNSubtarget.html#a9f44cd05eefbb20a234a7e3b6369a7f8">isWave32</a>() ? AMDGPU::EXEC_LO : AMDGPU::EXEC;</div>
<div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160;    <span class="comment">// FIXME: We may possibly optimize the COPY once we find ways to make LLVM</span></div>
<div class="line"><a name="l02039"></a><span class="lineno"> 2039</span>&#160;    <span class="comment">// optimizations (mainly Register Coalescer) aware of WWM register liveness.</span></div>
<div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160;    <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::V_MOV_B32_e32), <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(0).getReg())</div>
<div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a1ac8d27532cfd1d1f032ecbff2ba3611">add</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(1));</div>
<div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160;    <span class="keyword">auto</span> FirstNot = <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(NotOpc), Exec).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(Exec);</div>
<div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160;    FirstNot-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#afda2c0f22be043ae42b0ec71b661f565">addRegisterDead</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1CPol.html#a7d79a4b341da8ac60b91c1f4b1ea42c4aca1659af59093b2b14c2f8aad41e8e2a">AMDGPU::SCC</a>, <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>); <span class="comment">// SCC is overwritten</span></div>
<div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160;    <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::V_MOV_B32_e32), <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(0).getReg())</div>
<div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a1ac8d27532cfd1d1f032ecbff2ba3611">add</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(2));</div>
<div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160;    <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(NotOpc), Exec)</div>
<div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(Exec);</div>
<div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160;    <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.eraseFromParent();</div>
<div class="line"><a name="l02049"></a><span class="lineno"> 2049</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02050"></a><span class="lineno"> 2050</span>&#160;  }</div>
<div class="line"><a name="l02051"></a><span class="lineno"> 2051</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_SET_INACTIVE_B64: {</div>
<div class="line"><a name="l02052"></a><span class="lineno"> 2052</span>&#160;    <span class="keywordtype">unsigned</span> NotOpc = ST.<a class="code" href="classllvm_1_1GCNSubtarget.html#a9f44cd05eefbb20a234a7e3b6369a7f8">isWave32</a>() ? AMDGPU::S_NOT_B32 : AMDGPU::S_NOT_B64;</div>
<div class="line"><a name="l02053"></a><span class="lineno"> 2053</span>&#160;    <span class="keywordtype">unsigned</span> Exec = ST.<a class="code" href="classllvm_1_1GCNSubtarget.html#a9f44cd05eefbb20a234a7e3b6369a7f8">isWave32</a>() ? AMDGPU::EXEC_LO : AMDGPU::EXEC;</div>
<div class="line"><a name="l02054"></a><span class="lineno"> 2054</span>&#160;    <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *Copy = <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::V_MOV_B64_PSEUDO),</div>
<div class="line"><a name="l02055"></a><span class="lineno"> 2055</span>&#160;                                 <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(0).getReg())</div>
<div class="line"><a name="l02056"></a><span class="lineno"> 2056</span>&#160;                             .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a1ac8d27532cfd1d1f032ecbff2ba3611">add</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(1));</div>
<div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160;    <a class="code" href="classllvm_1_1SIInstrInfo.html#a864a107b54979b53706e9d88f51c07e3">expandPostRAPseudo</a>(*Copy);</div>
<div class="line"><a name="l02058"></a><span class="lineno"> 2058</span>&#160;    <span class="keyword">auto</span> FirstNot = <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(NotOpc), Exec).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(Exec);</div>
<div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160;    FirstNot-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#afda2c0f22be043ae42b0ec71b661f565">addRegisterDead</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1CPol.html#a7d79a4b341da8ac60b91c1f4b1ea42c4aca1659af59093b2b14c2f8aad41e8e2a">AMDGPU::SCC</a>, <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>); <span class="comment">// SCC is overwritten</span></div>
<div class="line"><a name="l02060"></a><span class="lineno"> 2060</span>&#160;    Copy = <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::V_MOV_B64_PSEUDO),</div>
<div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160;                   <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(0).getReg())</div>
<div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160;               .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a1ac8d27532cfd1d1f032ecbff2ba3611">add</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(2));</div>
<div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160;    <a class="code" href="classllvm_1_1SIInstrInfo.html#a864a107b54979b53706e9d88f51c07e3">expandPostRAPseudo</a>(*Copy);</div>
<div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160;    <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(NotOpc), Exec)</div>
<div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(Exec);</div>
<div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160;    <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.eraseFromParent();</div>
<div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02068"></a><span class="lineno"> 2068</span>&#160;  }</div>
<div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_INDIRECT_REG_WRITE_MOVREL_B32_V1:</div>
<div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_INDIRECT_REG_WRITE_MOVREL_B32_V2:</div>
<div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_INDIRECT_REG_WRITE_MOVREL_B32_V3:</div>
<div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_INDIRECT_REG_WRITE_MOVREL_B32_V4:</div>
<div class="line"><a name="l02073"></a><span class="lineno"> 2073</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_INDIRECT_REG_WRITE_MOVREL_B32_V5:</div>
<div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_INDIRECT_REG_WRITE_MOVREL_B32_V8:</div>
<div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_INDIRECT_REG_WRITE_MOVREL_B32_V9:</div>
<div class="line"><a name="l02076"></a><span class="lineno"> 2076</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_INDIRECT_REG_WRITE_MOVREL_B32_V10:</div>
<div class="line"><a name="l02077"></a><span class="lineno"> 2077</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_INDIRECT_REG_WRITE_MOVREL_B32_V11:</div>
<div class="line"><a name="l02078"></a><span class="lineno"> 2078</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_INDIRECT_REG_WRITE_MOVREL_B32_V12:</div>
<div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_INDIRECT_REG_WRITE_MOVREL_B32_V16:</div>
<div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_INDIRECT_REG_WRITE_MOVREL_B32_V32:</div>
<div class="line"><a name="l02081"></a><span class="lineno"> 2081</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_INDIRECT_REG_WRITE_MOVREL_B32_V1:</div>
<div class="line"><a name="l02082"></a><span class="lineno"> 2082</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_INDIRECT_REG_WRITE_MOVREL_B32_V2:</div>
<div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_INDIRECT_REG_WRITE_MOVREL_B32_V3:</div>
<div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_INDIRECT_REG_WRITE_MOVREL_B32_V4:</div>
<div class="line"><a name="l02085"></a><span class="lineno"> 2085</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_INDIRECT_REG_WRITE_MOVREL_B32_V5:</div>
<div class="line"><a name="l02086"></a><span class="lineno"> 2086</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_INDIRECT_REG_WRITE_MOVREL_B32_V8:</div>
<div class="line"><a name="l02087"></a><span class="lineno"> 2087</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_INDIRECT_REG_WRITE_MOVREL_B32_V16:</div>
<div class="line"><a name="l02088"></a><span class="lineno"> 2088</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_INDIRECT_REG_WRITE_MOVREL_B32_V32:</div>
<div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_INDIRECT_REG_WRITE_MOVREL_B64_V1:</div>
<div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_INDIRECT_REG_WRITE_MOVREL_B64_V2:</div>
<div class="line"><a name="l02091"></a><span class="lineno"> 2091</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_INDIRECT_REG_WRITE_MOVREL_B64_V4:</div>
<div class="line"><a name="l02092"></a><span class="lineno"> 2092</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_INDIRECT_REG_WRITE_MOVREL_B64_V8:</div>
<div class="line"><a name="l02093"></a><span class="lineno"> 2093</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_INDIRECT_REG_WRITE_MOVREL_B64_V16: {</div>
<div class="line"><a name="l02094"></a><span class="lineno"> 2094</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *EltRC = <a class="code" href="classllvm_1_1SIInstrInfo.html#a7d38ae4f1dfa5ec71b0f78fab996425b">getOpRegClass</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, 2);</div>
<div class="line"><a name="l02095"></a><span class="lineno"> 2095</span>&#160; </div>
<div class="line"><a name="l02096"></a><span class="lineno"> 2096</span>&#160;    <span class="keywordtype">unsigned</span> Opc;</div>
<div class="line"><a name="l02097"></a><span class="lineno"> 2097</span>&#160;    <span class="keywordflow">if</span> (RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#a8cb8776ee5f539fe6391a6d521af25f1">hasVGPRs</a>(EltRC)) {</div>
<div class="line"><a name="l02098"></a><span class="lineno"> 2098</span>&#160;      Opc = AMDGPU::V_MOVRELD_B32_e32;</div>
<div class="line"><a name="l02099"></a><span class="lineno"> 2099</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02100"></a><span class="lineno"> 2100</span>&#160;      Opc = RI.getRegSizeInBits(*EltRC) == 64 ? AMDGPU::S_MOVRELD_B64</div>
<div class="line"><a name="l02101"></a><span class="lineno"> 2101</span>&#160;                                              : AMDGPU::S_MOVRELD_B32;</div>
<div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160;    }</div>
<div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160; </div>
<div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCInstrDesc.html">MCInstrDesc</a> &amp;OpDesc = <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(Opc);</div>
<div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> VecReg = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(0).getReg();</div>
<div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160;    <span class="keywordtype">bool</span> IsUndef = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(1).isUndef();</div>
<div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a92a6b0a9b7228d190b0a7d8ae3ef03c7">SubReg</a> = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(3).getImm();</div>
<div class="line"><a name="l02108"></a><span class="lineno"> 2108</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(VecReg == <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(1).getReg());</div>
<div class="line"><a name="l02109"></a><span class="lineno"> 2109</span>&#160; </div>
<div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160;    <a class="code" href="classllvm_1_1MachineInstrBuilder.html">MachineInstrBuilder</a> MIB =</div>
<div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160;      <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, OpDesc)</div>
<div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(RI.getSubReg(VecReg, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a92a6b0a9b7228d190b0a7d8ae3ef03c7">SubReg</a>), <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320dab502f975742e9bff6d6dd7b49439b806">RegState::Undef</a>)</div>
<div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a1ac8d27532cfd1d1f032ecbff2ba3611">add</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(2))</div>
<div class="line"><a name="l02114"></a><span class="lineno"> 2114</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(VecReg, <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da833922eca2ad0eab70573ba1f5fba9af">RegState::ImplicitDefine</a>)</div>
<div class="line"><a name="l02115"></a><span class="lineno"> 2115</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(VecReg, <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da0fec8ba6f4a4dc758b725205985eee99">RegState::Implicit</a> | (IsUndef ? <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320dab502f975742e9bff6d6dd7b49439b806">RegState::Undef</a> : 0));</div>
<div class="line"><a name="l02116"></a><span class="lineno"> 2116</span>&#160; </div>
<div class="line"><a name="l02117"></a><span class="lineno"> 2117</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> ImpDefIdx =</div>
<div class="line"><a name="l02118"></a><span class="lineno"> 2118</span>&#160;        OpDesc.<a class="code" href="classllvm_1_1MCInstrDesc.html#a0ca904e64ee29c8812ed34e632d3c947">getNumOperands</a>() + OpDesc.<a class="code" href="classllvm_1_1MCInstrDesc.html#a47dd718cb7a3b36fd9f7ed6118df04af">implicit_uses</a>().size();</div>
<div class="line"><a name="l02119"></a><span class="lineno"> 2119</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> ImpUseIdx = ImpDefIdx + 1;</div>
<div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160;    MIB-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#aa37e31e5df481d2f8a6f9f022886cf5e">tieOperands</a>(ImpDefIdx, ImpUseIdx);</div>
<div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160;    <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.eraseFromParent();</div>
<div class="line"><a name="l02122"></a><span class="lineno"> 2122</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02123"></a><span class="lineno"> 2123</span>&#160;  }</div>
<div class="line"><a name="l02124"></a><span class="lineno"> 2124</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_INDIRECT_REG_WRITE_GPR_IDX_B32_V1:</div>
<div class="line"><a name="l02125"></a><span class="lineno"> 2125</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_INDIRECT_REG_WRITE_GPR_IDX_B32_V2:</div>
<div class="line"><a name="l02126"></a><span class="lineno"> 2126</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_INDIRECT_REG_WRITE_GPR_IDX_B32_V3:</div>
<div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_INDIRECT_REG_WRITE_GPR_IDX_B32_V4:</div>
<div class="line"><a name="l02128"></a><span class="lineno"> 2128</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_INDIRECT_REG_WRITE_GPR_IDX_B32_V5:</div>
<div class="line"><a name="l02129"></a><span class="lineno"> 2129</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_INDIRECT_REG_WRITE_GPR_IDX_B32_V8:</div>
<div class="line"><a name="l02130"></a><span class="lineno"> 2130</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_INDIRECT_REG_WRITE_GPR_IDX_B32_V9:</div>
<div class="line"><a name="l02131"></a><span class="lineno"> 2131</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_INDIRECT_REG_WRITE_GPR_IDX_B32_V10:</div>
<div class="line"><a name="l02132"></a><span class="lineno"> 2132</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_INDIRECT_REG_WRITE_GPR_IDX_B32_V11:</div>
<div class="line"><a name="l02133"></a><span class="lineno"> 2133</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_INDIRECT_REG_WRITE_GPR_IDX_B32_V12:</div>
<div class="line"><a name="l02134"></a><span class="lineno"> 2134</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_INDIRECT_REG_WRITE_GPR_IDX_B32_V16:</div>
<div class="line"><a name="l02135"></a><span class="lineno"> 2135</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_INDIRECT_REG_WRITE_GPR_IDX_B32_V32: {</div>
<div class="line"><a name="l02136"></a><span class="lineno"> 2136</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(ST.<a class="code" href="classllvm_1_1GCNSubtarget.html#a021be99fec633060e46fd3c482c1c3bc">useVGPRIndexMode</a>());</div>
<div class="line"><a name="l02137"></a><span class="lineno"> 2137</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> VecReg = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(0).getReg();</div>
<div class="line"><a name="l02138"></a><span class="lineno"> 2138</span>&#160;    <span class="keywordtype">bool</span> IsUndef = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(1).isUndef();</div>
<div class="line"><a name="l02139"></a><span class="lineno"> 2139</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> Idx = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(3).getReg();</div>
<div class="line"><a name="l02140"></a><span class="lineno"> 2140</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a92a6b0a9b7228d190b0a7d8ae3ef03c7">SubReg</a> = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(4).getImm();</div>
<div class="line"><a name="l02141"></a><span class="lineno"> 2141</span>&#160; </div>
<div class="line"><a name="l02142"></a><span class="lineno"> 2142</span>&#160;    <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *SetOn = <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::S_SET_GPR_IDX_ON))</div>
<div class="line"><a name="l02143"></a><span class="lineno"> 2143</span>&#160;                              .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(Idx)</div>
<div class="line"><a name="l02144"></a><span class="lineno"> 2144</span>&#160;                              .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1VGPRIndexMode.html#af5252ebf458b72b49d66ec97f51841e3adf241b71cde6b36cee10241a2e89fda3">AMDGPU::VGPRIndexMode::DST_ENABLE</a>);</div>
<div class="line"><a name="l02145"></a><span class="lineno"> 2145</span>&#160;    SetOn-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(3).<a class="code" href="classllvm_1_1MachineOperand.html#ab979122f21b7fa46d3d2d9b21983068b">setIsUndef</a>();</div>
<div class="line"><a name="l02146"></a><span class="lineno"> 2146</span>&#160; </div>
<div class="line"><a name="l02147"></a><span class="lineno"> 2147</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCInstrDesc.html">MCInstrDesc</a> &amp;OpDesc = <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::V_MOV_B32_indirect_write);</div>
<div class="line"><a name="l02148"></a><span class="lineno"> 2148</span>&#160;    <a class="code" href="classllvm_1_1MachineInstrBuilder.html">MachineInstrBuilder</a> MIB =</div>
<div class="line"><a name="l02149"></a><span class="lineno"> 2149</span>&#160;        <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, OpDesc)</div>
<div class="line"><a name="l02150"></a><span class="lineno"> 2150</span>&#160;            .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(RI.getSubReg(VecReg, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a92a6b0a9b7228d190b0a7d8ae3ef03c7">SubReg</a>), <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320dab502f975742e9bff6d6dd7b49439b806">RegState::Undef</a>)</div>
<div class="line"><a name="l02151"></a><span class="lineno"> 2151</span>&#160;            .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a1ac8d27532cfd1d1f032ecbff2ba3611">add</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(2))</div>
<div class="line"><a name="l02152"></a><span class="lineno"> 2152</span>&#160;            .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(VecReg, <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da833922eca2ad0eab70573ba1f5fba9af">RegState::ImplicitDefine</a>)</div>
<div class="line"><a name="l02153"></a><span class="lineno"> 2153</span>&#160;            .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(VecReg,</div>
<div class="line"><a name="l02154"></a><span class="lineno"> 2154</span>&#160;                    <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da0fec8ba6f4a4dc758b725205985eee99">RegState::Implicit</a> | (IsUndef ? <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320dab502f975742e9bff6d6dd7b49439b806">RegState::Undef</a> : 0));</div>
<div class="line"><a name="l02155"></a><span class="lineno"> 2155</span>&#160; </div>
<div class="line"><a name="l02156"></a><span class="lineno"> 2156</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> ImpDefIdx =</div>
<div class="line"><a name="l02157"></a><span class="lineno"> 2157</span>&#160;        OpDesc.<a class="code" href="classllvm_1_1MCInstrDesc.html#a0ca904e64ee29c8812ed34e632d3c947">getNumOperands</a>() + OpDesc.<a class="code" href="classllvm_1_1MCInstrDesc.html#a47dd718cb7a3b36fd9f7ed6118df04af">implicit_uses</a>().size();</div>
<div class="line"><a name="l02158"></a><span class="lineno"> 2158</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> ImpUseIdx = ImpDefIdx + 1;</div>
<div class="line"><a name="l02159"></a><span class="lineno"> 2159</span>&#160;    MIB-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#aa37e31e5df481d2f8a6f9f022886cf5e">tieOperands</a>(ImpDefIdx, ImpUseIdx);</div>
<div class="line"><a name="l02160"></a><span class="lineno"> 2160</span>&#160; </div>
<div class="line"><a name="l02161"></a><span class="lineno"> 2161</span>&#160;    <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *SetOff = <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::S_SET_GPR_IDX_OFF));</div>
<div class="line"><a name="l02162"></a><span class="lineno"> 2162</span>&#160; </div>
<div class="line"><a name="l02163"></a><span class="lineno"> 2163</span>&#160;    <a class="code" href="namespacellvm.html#a077981b5798a5d7a95cec16ece863aeb">finalizeBundle</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, SetOn-&gt;<a class="code" href="classllvm_1_1ilist__node__impl.html#af719fc783be6589465137d997701a432">getIterator</a>(), std::next(SetOff-&gt;<a class="code" href="classllvm_1_1ilist__node__impl.html#af719fc783be6589465137d997701a432">getIterator</a>()));</div>
<div class="line"><a name="l02164"></a><span class="lineno"> 2164</span>&#160; </div>
<div class="line"><a name="l02165"></a><span class="lineno"> 2165</span>&#160;    <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.eraseFromParent();</div>
<div class="line"><a name="l02166"></a><span class="lineno"> 2166</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02167"></a><span class="lineno"> 2167</span>&#160;  }</div>
<div class="line"><a name="l02168"></a><span class="lineno"> 2168</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_INDIRECT_REG_READ_GPR_IDX_B32_V1:</div>
<div class="line"><a name="l02169"></a><span class="lineno"> 2169</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_INDIRECT_REG_READ_GPR_IDX_B32_V2:</div>
<div class="line"><a name="l02170"></a><span class="lineno"> 2170</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_INDIRECT_REG_READ_GPR_IDX_B32_V3:</div>
<div class="line"><a name="l02171"></a><span class="lineno"> 2171</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_INDIRECT_REG_READ_GPR_IDX_B32_V4:</div>
<div class="line"><a name="l02172"></a><span class="lineno"> 2172</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_INDIRECT_REG_READ_GPR_IDX_B32_V5:</div>
<div class="line"><a name="l02173"></a><span class="lineno"> 2173</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_INDIRECT_REG_READ_GPR_IDX_B32_V8:</div>
<div class="line"><a name="l02174"></a><span class="lineno"> 2174</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_INDIRECT_REG_READ_GPR_IDX_B32_V9:</div>
<div class="line"><a name="l02175"></a><span class="lineno"> 2175</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_INDIRECT_REG_READ_GPR_IDX_B32_V10:</div>
<div class="line"><a name="l02176"></a><span class="lineno"> 2176</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_INDIRECT_REG_READ_GPR_IDX_B32_V11:</div>
<div class="line"><a name="l02177"></a><span class="lineno"> 2177</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_INDIRECT_REG_READ_GPR_IDX_B32_V12:</div>
<div class="line"><a name="l02178"></a><span class="lineno"> 2178</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_INDIRECT_REG_READ_GPR_IDX_B32_V16:</div>
<div class="line"><a name="l02179"></a><span class="lineno"> 2179</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_INDIRECT_REG_READ_GPR_IDX_B32_V32: {</div>
<div class="line"><a name="l02180"></a><span class="lineno"> 2180</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(ST.<a class="code" href="classllvm_1_1GCNSubtarget.html#a021be99fec633060e46fd3c482c1c3bc">useVGPRIndexMode</a>());</div>
<div class="line"><a name="l02181"></a><span class="lineno"> 2181</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> Dst = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(0).getReg();</div>
<div class="line"><a name="l02182"></a><span class="lineno"> 2182</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> VecReg = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(1).getReg();</div>
<div class="line"><a name="l02183"></a><span class="lineno"> 2183</span>&#160;    <span class="keywordtype">bool</span> IsUndef = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(1).isUndef();</div>
<div class="line"><a name="l02184"></a><span class="lineno"> 2184</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> Idx = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(2).getReg();</div>
<div class="line"><a name="l02185"></a><span class="lineno"> 2185</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a92a6b0a9b7228d190b0a7d8ae3ef03c7">SubReg</a> = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(3).getImm();</div>
<div class="line"><a name="l02186"></a><span class="lineno"> 2186</span>&#160; </div>
<div class="line"><a name="l02187"></a><span class="lineno"> 2187</span>&#160;    <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *SetOn = <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::S_SET_GPR_IDX_ON))</div>
<div class="line"><a name="l02188"></a><span class="lineno"> 2188</span>&#160;                              .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(Idx)</div>
<div class="line"><a name="l02189"></a><span class="lineno"> 2189</span>&#160;                              .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1VGPRIndexMode.html#af5252ebf458b72b49d66ec97f51841e3a064e9e9900217c959cd4bec112627012">AMDGPU::VGPRIndexMode::SRC0_ENABLE</a>);</div>
<div class="line"><a name="l02190"></a><span class="lineno"> 2190</span>&#160;    SetOn-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(3).<a class="code" href="classllvm_1_1MachineOperand.html#ab979122f21b7fa46d3d2d9b21983068b">setIsUndef</a>();</div>
<div class="line"><a name="l02191"></a><span class="lineno"> 2191</span>&#160; </div>
<div class="line"><a name="l02192"></a><span class="lineno"> 2192</span>&#160;    <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::V_MOV_B32_indirect_read))</div>
<div class="line"><a name="l02193"></a><span class="lineno"> 2193</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a85eb6ee9f537a283b2ba9964c54ab2f2">addDef</a>(Dst)</div>
<div class="line"><a name="l02194"></a><span class="lineno"> 2194</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(RI.getSubReg(VecReg, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a92a6b0a9b7228d190b0a7d8ae3ef03c7">SubReg</a>), <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320dab502f975742e9bff6d6dd7b49439b806">RegState::Undef</a>)</div>
<div class="line"><a name="l02195"></a><span class="lineno"> 2195</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(VecReg, <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da0fec8ba6f4a4dc758b725205985eee99">RegState::Implicit</a> | (IsUndef ? <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320dab502f975742e9bff6d6dd7b49439b806">RegState::Undef</a> : 0));</div>
<div class="line"><a name="l02196"></a><span class="lineno"> 2196</span>&#160; </div>
<div class="line"><a name="l02197"></a><span class="lineno"> 2197</span>&#160;    <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *SetOff = <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::S_SET_GPR_IDX_OFF));</div>
<div class="line"><a name="l02198"></a><span class="lineno"> 2198</span>&#160; </div>
<div class="line"><a name="l02199"></a><span class="lineno"> 2199</span>&#160;    <a class="code" href="namespacellvm.html#a077981b5798a5d7a95cec16ece863aeb">finalizeBundle</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, SetOn-&gt;<a class="code" href="classllvm_1_1ilist__node__impl.html#af719fc783be6589465137d997701a432">getIterator</a>(), std::next(SetOff-&gt;<a class="code" href="classllvm_1_1ilist__node__impl.html#af719fc783be6589465137d997701a432">getIterator</a>()));</div>
<div class="line"><a name="l02200"></a><span class="lineno"> 2200</span>&#160; </div>
<div class="line"><a name="l02201"></a><span class="lineno"> 2201</span>&#160;    <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.eraseFromParent();</div>
<div class="line"><a name="l02202"></a><span class="lineno"> 2202</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02203"></a><span class="lineno"> 2203</span>&#160;  }</div>
<div class="line"><a name="l02204"></a><span class="lineno"> 2204</span>&#160;  <span class="keywordflow">case</span> AMDGPU::SI_PC_ADD_REL_OFFSET: {</div>
<div class="line"><a name="l02205"></a><span class="lineno"> 2205</span>&#160;    <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF = *<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a4e21760f681d6f97f95c8414e7b83ea5">getParent</a>();</div>
<div class="line"><a name="l02206"></a><span class="lineno"> 2206</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a> = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(0).getReg();</div>
<div class="line"><a name="l02207"></a><span class="lineno"> 2207</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> RegLo = RI.getSubReg(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, AMDGPU::sub0);</div>
<div class="line"><a name="l02208"></a><span class="lineno"> 2208</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> RegHi = RI.getSubReg(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, AMDGPU::sub1);</div>
<div class="line"><a name="l02209"></a><span class="lineno"> 2209</span>&#160; </div>
<div class="line"><a name="l02210"></a><span class="lineno"> 2210</span>&#160;    <span class="comment">// Create a bundle so these instructions won&#39;t be re-ordered by the</span></div>
<div class="line"><a name="l02211"></a><span class="lineno"> 2211</span>&#160;    <span class="comment">// post-RA scheduler.</span></div>
<div class="line"><a name="l02212"></a><span class="lineno"> 2212</span>&#160;    <a class="code" href="classllvm_1_1MIBundleBuilder.html">MIBundleBuilder</a> Bundler(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l02213"></a><span class="lineno"> 2213</span>&#160;    Bundler.<a class="code" href="classllvm_1_1MIBundleBuilder.html#a52294651aae7bd2bc43b1e2e0617f3db">append</a>(<a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(MF, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::S_GETPC_B64), <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>));</div>
<div class="line"><a name="l02214"></a><span class="lineno"> 2214</span>&#160; </div>
<div class="line"><a name="l02215"></a><span class="lineno"> 2215</span>&#160;    <span class="comment">// Add 32-bit offset from this instruction to the start of the</span></div>
<div class="line"><a name="l02216"></a><span class="lineno"> 2216</span>&#160;    <span class="comment">// constant data.</span></div>
<div class="line"><a name="l02217"></a><span class="lineno"> 2217</span>&#160;    Bundler.<a class="code" href="classllvm_1_1MIBundleBuilder.html#a52294651aae7bd2bc43b1e2e0617f3db">append</a>(<a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(MF, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::S_ADD_U32), RegLo)</div>
<div class="line"><a name="l02218"></a><span class="lineno"> 2218</span>&#160;                       .addReg(RegLo)</div>
<div class="line"><a name="l02219"></a><span class="lineno"> 2219</span>&#160;                       .<a class="code" href="namespacellvm_1_1ARM__AM.html#a5d0557608eaebed12bc00812724ba2cdae6bcee28992dab735eaa43f5dfa48a09">add</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(1)));</div>
<div class="line"><a name="l02220"></a><span class="lineno"> 2220</span>&#160; </div>
<div class="line"><a name="l02221"></a><span class="lineno"> 2221</span>&#160;    <a class="code" href="classllvm_1_1MachineInstrBuilder.html">MachineInstrBuilder</a> MIB = <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(MF, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::S_ADDC_U32), RegHi)</div>
<div class="line"><a name="l02222"></a><span class="lineno"> 2222</span>&#160;                                  .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(RegHi);</div>
<div class="line"><a name="l02223"></a><span class="lineno"> 2223</span>&#160;    MIB.<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a1ac8d27532cfd1d1f032ecbff2ba3611">add</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(2));</div>
<div class="line"><a name="l02224"></a><span class="lineno"> 2224</span>&#160; </div>
<div class="line"><a name="l02225"></a><span class="lineno"> 2225</span>&#160;    Bundler.<a class="code" href="classllvm_1_1MIBundleBuilder.html#a52294651aae7bd2bc43b1e2e0617f3db">append</a>(MIB);</div>
<div class="line"><a name="l02226"></a><span class="lineno"> 2226</span>&#160;    <a class="code" href="namespacellvm.html#a077981b5798a5d7a95cec16ece863aeb">finalizeBundle</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, Bundler.<a class="code" href="classllvm_1_1MIBundleBuilder.html#a43e65fa50b984d52c85101caf001e543">begin</a>());</div>
<div class="line"><a name="l02227"></a><span class="lineno"> 2227</span>&#160; </div>
<div class="line"><a name="l02228"></a><span class="lineno"> 2228</span>&#160;    <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.eraseFromParent();</div>
<div class="line"><a name="l02229"></a><span class="lineno"> 2229</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02230"></a><span class="lineno"> 2230</span>&#160;  }</div>
<div class="line"><a name="l02231"></a><span class="lineno"> 2231</span>&#160;  <span class="keywordflow">case</span> AMDGPU::ENTER_STRICT_WWM: {</div>
<div class="line"><a name="l02232"></a><span class="lineno"> 2232</span>&#160;    <span class="comment">// This only gets its own opcode so that SIPreAllocateWWMRegs can tell when</span></div>
<div class="line"><a name="l02233"></a><span class="lineno"> 2233</span>&#160;    <span class="comment">// Whole Wave Mode is entered.</span></div>
<div class="line"><a name="l02234"></a><span class="lineno"> 2234</span>&#160;    <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.setDesc(<a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(ST.<a class="code" href="classllvm_1_1GCNSubtarget.html#a9f44cd05eefbb20a234a7e3b6369a7f8">isWave32</a>() ? AMDGPU::S_OR_SAVEEXEC_B32</div>
<div class="line"><a name="l02235"></a><span class="lineno"> 2235</span>&#160;                                 : AMDGPU::S_OR_SAVEEXEC_B64));</div>
<div class="line"><a name="l02236"></a><span class="lineno"> 2236</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02237"></a><span class="lineno"> 2237</span>&#160;  }</div>
<div class="line"><a name="l02238"></a><span class="lineno"> 2238</span>&#160;  <span class="keywordflow">case</span> AMDGPU::ENTER_STRICT_WQM: {</div>
<div class="line"><a name="l02239"></a><span class="lineno"> 2239</span>&#160;    <span class="comment">// This only gets its own opcode so that SIPreAllocateWWMRegs can tell when</span></div>
<div class="line"><a name="l02240"></a><span class="lineno"> 2240</span>&#160;    <span class="comment">// STRICT_WQM is entered.</span></div>
<div class="line"><a name="l02241"></a><span class="lineno"> 2241</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">unsigned</span> Exec = ST.<a class="code" href="classllvm_1_1GCNSubtarget.html#a9f44cd05eefbb20a234a7e3b6369a7f8">isWave32</a>() ? AMDGPU::EXEC_LO : AMDGPU::EXEC;</div>
<div class="line"><a name="l02242"></a><span class="lineno"> 2242</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">unsigned</span> WQMOp = ST.<a class="code" href="classllvm_1_1GCNSubtarget.html#a9f44cd05eefbb20a234a7e3b6369a7f8">isWave32</a>() ? AMDGPU::S_WQM_B32 : AMDGPU::S_WQM_B64;</div>
<div class="line"><a name="l02243"></a><span class="lineno"> 2243</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">unsigned</span> MovOp = ST.<a class="code" href="classllvm_1_1GCNSubtarget.html#a9f44cd05eefbb20a234a7e3b6369a7f8">isWave32</a>() ? AMDGPU::S_MOV_B32 : AMDGPU::S_MOV_B64;</div>
<div class="line"><a name="l02244"></a><span class="lineno"> 2244</span>&#160;    <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(MovOp), <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(0).getReg()).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(Exec);</div>
<div class="line"><a name="l02245"></a><span class="lineno"> 2245</span>&#160;    <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(WQMOp), Exec).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(Exec);</div>
<div class="line"><a name="l02246"></a><span class="lineno"> 2246</span>&#160; </div>
<div class="line"><a name="l02247"></a><span class="lineno"> 2247</span>&#160;    <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.eraseFromParent();</div>
<div class="line"><a name="l02248"></a><span class="lineno"> 2248</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02249"></a><span class="lineno"> 2249</span>&#160;  }</div>
<div class="line"><a name="l02250"></a><span class="lineno"> 2250</span>&#160;  <span class="keywordflow">case</span> AMDGPU::EXIT_STRICT_WWM:</div>
<div class="line"><a name="l02251"></a><span class="lineno"> 2251</span>&#160;  <span class="keywordflow">case</span> AMDGPU::EXIT_STRICT_WQM: {</div>
<div class="line"><a name="l02252"></a><span class="lineno"> 2252</span>&#160;    <span class="comment">// This only gets its own opcode so that SIPreAllocateWWMRegs can tell when</span></div>
<div class="line"><a name="l02253"></a><span class="lineno"> 2253</span>&#160;    <span class="comment">// WWM/STICT_WQM is exited.</span></div>
<div class="line"><a name="l02254"></a><span class="lineno"> 2254</span>&#160;    <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.setDesc(<a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(ST.<a class="code" href="classllvm_1_1GCNSubtarget.html#a9f44cd05eefbb20a234a7e3b6369a7f8">isWave32</a>() ? AMDGPU::S_MOV_B32 : AMDGPU::S_MOV_B64));</div>
<div class="line"><a name="l02255"></a><span class="lineno"> 2255</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02256"></a><span class="lineno"> 2256</span>&#160;  }</div>
<div class="line"><a name="l02257"></a><span class="lineno"> 2257</span>&#160;  <span class="keywordflow">case</span> AMDGPU::ENTER_PSEUDO_WM:</div>
<div class="line"><a name="l02258"></a><span class="lineno"> 2258</span>&#160;  <span class="keywordflow">case</span> AMDGPU::EXIT_PSEUDO_WM: {</div>
<div class="line"><a name="l02259"></a><span class="lineno"> 2259</span>&#160;    <span class="comment">// These do nothing.</span></div>
<div class="line"><a name="l02260"></a><span class="lineno"> 2260</span>&#160;    <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.eraseFromParent();</div>
<div class="line"><a name="l02261"></a><span class="lineno"> 2261</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02262"></a><span class="lineno"> 2262</span>&#160;  }</div>
<div class="line"><a name="l02263"></a><span class="lineno"> 2263</span>&#160;  <span class="keywordflow">case</span> AMDGPU::SI_RETURN: {</div>
<div class="line"><a name="l02264"></a><span class="lineno"> 2264</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> *MF = <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a4e21760f681d6f97f95c8414e7b83ea5">getParent</a>();</div>
<div class="line"><a name="l02265"></a><span class="lineno"> 2265</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1GCNSubtarget.html">GCNSubtarget</a> &amp;ST = MF-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#a325f6b611ef9ec06798d3b4eb9572093">getSubtarget</a>&lt;<a class="code" href="classllvm_1_1GCNSubtarget.html">GCNSubtarget</a>&gt;();</div>
<div class="line"><a name="l02266"></a><span class="lineno"> 2266</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SIRegisterInfo.html">SIRegisterInfo</a> *<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a> = ST.getRegisterInfo();</div>
<div class="line"><a name="l02267"></a><span class="lineno"> 2267</span>&#160;    <span class="comment">// Hiding the return address use with SI_RETURN may lead to extra kills in</span></div>
<div class="line"><a name="l02268"></a><span class="lineno"> 2268</span>&#160;    <span class="comment">// the function and missing live-ins. We are fine in practice because callee</span></div>
<div class="line"><a name="l02269"></a><span class="lineno"> 2269</span>&#160;    <span class="comment">// saved register handling ensures the register value is restored before</span></div>
<div class="line"><a name="l02270"></a><span class="lineno"> 2270</span>&#160;    <span class="comment">// RET, but we need the undef flag here to appease the MachineVerifier</span></div>
<div class="line"><a name="l02271"></a><span class="lineno"> 2271</span>&#160;    <span class="comment">// liveness checks.</span></div>
<div class="line"><a name="l02272"></a><span class="lineno"> 2272</span>&#160;    <a class="code" href="classllvm_1_1MachineInstrBuilder.html">MachineInstrBuilder</a> MIB =</div>
<div class="line"><a name="l02273"></a><span class="lineno"> 2273</span>&#160;        <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::S_SETPC_B64_return))</div>
<div class="line"><a name="l02274"></a><span class="lineno"> 2274</span>&#160;            .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>-&gt;getReturnAddressReg(*MF), <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320dab502f975742e9bff6d6dd7b49439b806">RegState::Undef</a>);</div>
<div class="line"><a name="l02275"></a><span class="lineno"> 2275</span>&#160; </div>
<div class="line"><a name="l02276"></a><span class="lineno"> 2276</span>&#160;    MIB.<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a77d96c1c7f31baecc71004069dbc5eda">copyImplicitOps</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l02277"></a><span class="lineno"> 2277</span>&#160;    <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.eraseFromParent();</div>
<div class="line"><a name="l02278"></a><span class="lineno"> 2278</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02279"></a><span class="lineno"> 2279</span>&#160;  }</div>
<div class="line"><a name="l02280"></a><span class="lineno"> 2280</span>&#160;  }</div>
<div class="line"><a name="l02281"></a><span class="lineno"> 2281</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02282"></a><span class="lineno"> 2282</span>&#160;}</div>
<div class="line"><a name="l02283"></a><span class="lineno"> 2283</span>&#160; </div>
<div class="line"><a name="l02284"></a><span class="lineno"> 2284</span>&#160;std::pair&lt;MachineInstr*, MachineInstr*&gt;</div>
<div class="line"><a name="l02285"></a><span class="lineno"><a class="line" href="classllvm_1_1SIInstrInfo.html#ad8e9b54f022eddc33ee49305e85d6b7f"> 2285</a></span>&#160;<a class="code" href="classllvm_1_1SIInstrInfo.html#ad8e9b54f022eddc33ee49305e85d6b7f">SIInstrInfo::expandMovDPP64</a>(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l02286"></a><span class="lineno"> 2286</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode() == AMDGPU::V_MOV_B64_DPP_PSEUDO);</div>
<div class="line"><a name="l02287"></a><span class="lineno"> 2287</span>&#160; </div>
<div class="line"><a name="l02288"></a><span class="lineno"> 2288</span>&#160;  <span class="keywordflow">if</span> (ST.<a class="code" href="classllvm_1_1GCNSubtarget.html#a92e0b317959309846ea919ad2cf08ffc">hasMovB64</a>() &amp;&amp;</div>
<div class="line"><a name="l02289"></a><span class="lineno"> 2289</span>&#160;      <a class="code" href="namespacellvm_1_1AMDGPU.html#a0fc8a944aeefbf3eb23515c23da00306">AMDGPU::isLegal64BitDPPControl</a>(</div>
<div class="line"><a name="l02290"></a><span class="lineno"> 2290</span>&#160;        <a class="code" href="classllvm_1_1SIInstrInfo.html#a61297a04e9cd91c9658b9affecdd9797">getNamedOperand</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, AMDGPU::OpName::dpp_ctrl)-&gt;getImm())) {</div>
<div class="line"><a name="l02291"></a><span class="lineno"> 2291</span>&#160;    <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.setDesc(<a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::V_MOV_B64_dpp));</div>
<div class="line"><a name="l02292"></a><span class="lineno"> 2292</span>&#160;    <span class="keywordflow">return</span> std::pair(&amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l02293"></a><span class="lineno"> 2293</span>&#160;  }</div>
<div class="line"><a name="l02294"></a><span class="lineno"> 2294</span>&#160; </div>
<div class="line"><a name="l02295"></a><span class="lineno"> 2295</span>&#160;  <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a> = *<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getParent();</div>
<div class="line"><a name="l02296"></a><span class="lineno"> 2296</span>&#160;  <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a> = <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#ab622d694b5fcb0edb99159f1ebdcdb6b">findDebugLoc</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l02297"></a><span class="lineno"> 2297</span>&#160;  <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> *MF = <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a4e21760f681d6f97f95c8414e7b83ea5">getParent</a>();</div>
<div class="line"><a name="l02298"></a><span class="lineno"> 2298</span>&#160;  <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a> = MF-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>();</div>
<div class="line"><a name="l02299"></a><span class="lineno"> 2299</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> Dst = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(0).getReg();</div>
<div class="line"><a name="l02300"></a><span class="lineno"> 2300</span>&#160;  <span class="keywordtype">unsigned</span> Part = 0;</div>
<div class="line"><a name="l02301"></a><span class="lineno"> 2301</span>&#160;  <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *Split[2];</div>
<div class="line"><a name="l02302"></a><span class="lineno"> 2302</span>&#160; </div>
<div class="line"><a name="l02303"></a><span class="lineno"> 2303</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> Sub : { AMDGPU::sub0, AMDGPU::sub1 }) {</div>
<div class="line"><a name="l02304"></a><span class="lineno"> 2304</span>&#160;    <span class="keyword">auto</span> MovDPP = <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::V_MOV_B32_dpp));</div>
<div class="line"><a name="l02305"></a><span class="lineno"> 2305</span>&#160;    <span class="keywordflow">if</span> (Dst.isPhysical()) {</div>
<div class="line"><a name="l02306"></a><span class="lineno"> 2306</span>&#160;      MovDPP.addDef(RI.getSubReg(Dst, Sub));</div>
<div class="line"><a name="l02307"></a><span class="lineno"> 2307</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02308"></a><span class="lineno"> 2308</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a86dd1b4ce6ff2d4a0b4593c5f7b2a3fd">isSSA</a>());</div>
<div class="line"><a name="l02309"></a><span class="lineno"> 2309</span>&#160;      <span class="keyword">auto</span> Tmp = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5c77792a06583e0fe7a0379ad94a2809">createVirtualRegister</a>(&amp;AMDGPU::VGPR_32RegClass);</div>
<div class="line"><a name="l02310"></a><span class="lineno"> 2310</span>&#160;      MovDPP.addDef(Tmp);</div>
<div class="line"><a name="l02311"></a><span class="lineno"> 2311</span>&#160;    }</div>
<div class="line"><a name="l02312"></a><span class="lineno"> 2312</span>&#160; </div>
<div class="line"><a name="l02313"></a><span class="lineno"> 2313</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 1; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> &lt;= 2; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) { <span class="comment">// old and src operands.</span></div>
<div class="line"><a name="l02314"></a><span class="lineno"> 2314</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;<a class="code" href="classllvm_1_1SrcOp.html">SrcOp</a> = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l02315"></a><span class="lineno"> 2315</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!<a class="code" href="classllvm_1_1SrcOp.html">SrcOp</a>.isFPImm());</div>
<div class="line"><a name="l02316"></a><span class="lineno"> 2316</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SrcOp.html">SrcOp</a>.isImm()) {</div>
<div class="line"><a name="l02317"></a><span class="lineno"> 2317</span>&#160;        <a class="code" href="classllvm_1_1APInt.html">APInt</a> <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>(64, <a class="code" href="classllvm_1_1SrcOp.html">SrcOp</a>.<a class="code" href="classllvm_1_1SrcOp.html#a9370c0de85c12bd0062063b7fcbc64ed">getImm</a>());</div>
<div class="line"><a name="l02318"></a><span class="lineno"> 2318</span>&#160;        <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>.ashrInPlace(Part * 32);</div>
<div class="line"><a name="l02319"></a><span class="lineno"> 2319</span>&#160;        MovDPP.addImm(<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>.getLoBits(32).getZExtValue());</div>
<div class="line"><a name="l02320"></a><span class="lineno"> 2320</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02321"></a><span class="lineno"> 2321</span>&#160;        <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="classllvm_1_1SrcOp.html">SrcOp</a>.isReg());</div>
<div class="line"><a name="l02322"></a><span class="lineno"> 2322</span>&#160;        <a class="code" href="classllvm_1_1Register.html">Register</a> Src = <a class="code" href="classllvm_1_1SrcOp.html">SrcOp</a>.<a class="code" href="classllvm_1_1SrcOp.html#ae229785d0c8a8ce25d34be18fe150a54">getReg</a>();</div>
<div class="line"><a name="l02323"></a><span class="lineno"> 2323</span>&#160;        <span class="keywordflow">if</span> (Src.isPhysical())</div>
<div class="line"><a name="l02324"></a><span class="lineno"> 2324</span>&#160;          MovDPP.addReg(RI.getSubReg(Src, Sub));</div>
<div class="line"><a name="l02325"></a><span class="lineno"> 2325</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l02326"></a><span class="lineno"> 2326</span>&#160;          MovDPP.addReg(Src, <a class="code" href="classllvm_1_1SrcOp.html">SrcOp</a>.isUndef() ? <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320dab502f975742e9bff6d6dd7b49439b806">RegState::Undef</a> : 0, Sub);</div>
<div class="line"><a name="l02327"></a><span class="lineno"> 2327</span>&#160;      }</div>
<div class="line"><a name="l02328"></a><span class="lineno"> 2328</span>&#160;    }</div>
<div class="line"><a name="l02329"></a><span class="lineno"> 2329</span>&#160; </div>
<div class="line"><a name="l02330"></a><span class="lineno"> 2330</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;MO : <a class="code" href="namespacellvm.html#a02981de53fb6ffd384d39addc4d25f37">llvm::drop_begin</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.explicit_operands(), 3))</div>
<div class="line"><a name="l02331"></a><span class="lineno"> 2331</span>&#160;      MovDPP.addImm(MO.getImm());</div>
<div class="line"><a name="l02332"></a><span class="lineno"> 2332</span>&#160; </div>
<div class="line"><a name="l02333"></a><span class="lineno"> 2333</span>&#160;    Split[Part] = MovDPP;</div>
<div class="line"><a name="l02334"></a><span class="lineno"> 2334</span>&#160;    ++Part;</div>
<div class="line"><a name="l02335"></a><span class="lineno"> 2335</span>&#160;  }</div>
<div class="line"><a name="l02336"></a><span class="lineno"> 2336</span>&#160; </div>
<div class="line"><a name="l02337"></a><span class="lineno"> 2337</span>&#160;  <span class="keywordflow">if</span> (Dst.isVirtual())</div>
<div class="line"><a name="l02338"></a><span class="lineno"> 2338</span>&#160;    <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::REG_SEQUENCE), Dst)</div>
<div class="line"><a name="l02339"></a><span class="lineno"> 2339</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(Split[0]-&gt;getOperand(0).<a class="code" href="MipsDisassembler_8cpp.html#a15b5b86944f6df97d2c3659d77f51f91">getReg</a>())</div>
<div class="line"><a name="l02340"></a><span class="lineno"> 2340</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(AMDGPU::sub0)</div>
<div class="line"><a name="l02341"></a><span class="lineno"> 2341</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(Split[1]-&gt;getOperand(0).<a class="code" href="MipsDisassembler_8cpp.html#a15b5b86944f6df97d2c3659d77f51f91">getReg</a>())</div>
<div class="line"><a name="l02342"></a><span class="lineno"> 2342</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(AMDGPU::sub1);</div>
<div class="line"><a name="l02343"></a><span class="lineno"> 2343</span>&#160; </div>
<div class="line"><a name="l02344"></a><span class="lineno"> 2344</span>&#160;  <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.eraseFromParent();</div>
<div class="line"><a name="l02345"></a><span class="lineno"> 2345</span>&#160;  <span class="keywordflow">return</span> std::pair(Split[0], Split[1]);</div>
<div class="line"><a name="l02346"></a><span class="lineno"> 2346</span>&#160;}</div>
<div class="line"><a name="l02347"></a><span class="lineno"> 2347</span>&#160; </div>
<div class="line"><a name="l02348"></a><span class="lineno"><a class="line" href="classllvm_1_1SIInstrInfo.html#a64f165f45ca62b4d27bde48f484897da"> 2348</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1SIInstrInfo.html#a64f165f45ca62b4d27bde48f484897da">SIInstrInfo::swapSourceModifiers</a>(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>,</div>
<div class="line"><a name="l02349"></a><span class="lineno"> 2349</span>&#160;                                      <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;Src0,</div>
<div class="line"><a name="l02350"></a><span class="lineno"> 2350</span>&#160;                                      <span class="keywordtype">unsigned</span> Src0OpName,</div>
<div class="line"><a name="l02351"></a><span class="lineno"> 2351</span>&#160;                                      <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;Src1,</div>
<div class="line"><a name="l02352"></a><span class="lineno"> 2352</span>&#160;                                      <span class="keywordtype">unsigned</span> Src1OpName)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l02353"></a><span class="lineno"> 2353</span>&#160;  <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> *Src0Mods = <a class="code" href="classllvm_1_1SIInstrInfo.html#a61297a04e9cd91c9658b9affecdd9797">getNamedOperand</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, Src0OpName);</div>
<div class="line"><a name="l02354"></a><span class="lineno"> 2354</span>&#160;  <span class="keywordflow">if</span> (!Src0Mods)</div>
<div class="line"><a name="l02355"></a><span class="lineno"> 2355</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02356"></a><span class="lineno"> 2356</span>&#160; </div>
<div class="line"><a name="l02357"></a><span class="lineno"> 2357</span>&#160;  <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> *Src1Mods = <a class="code" href="classllvm_1_1SIInstrInfo.html#a61297a04e9cd91c9658b9affecdd9797">getNamedOperand</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, Src1OpName);</div>
<div class="line"><a name="l02358"></a><span class="lineno"> 2358</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Src1Mods &amp;&amp;</div>
<div class="line"><a name="l02359"></a><span class="lineno"> 2359</span>&#160;         <span class="stringliteral">&quot;All commutable instructions have both src0 and src1 modifiers&quot;</span>);</div>
<div class="line"><a name="l02360"></a><span class="lineno"> 2360</span>&#160; </div>
<div class="line"><a name="l02361"></a><span class="lineno"> 2361</span>&#160;  <span class="keywordtype">int</span> Src0ModsVal = Src0Mods-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#a38b28a85f818b49d8806c150b8a5b4f7">getImm</a>();</div>
<div class="line"><a name="l02362"></a><span class="lineno"> 2362</span>&#160;  <span class="keywordtype">int</span> Src1ModsVal = Src1Mods-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#a38b28a85f818b49d8806c150b8a5b4f7">getImm</a>();</div>
<div class="line"><a name="l02363"></a><span class="lineno"> 2363</span>&#160; </div>
<div class="line"><a name="l02364"></a><span class="lineno"> 2364</span>&#160;  Src1Mods-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#a2feaa1c69335c6b9028076cd68c7a5f5">setImm</a>(Src0ModsVal);</div>
<div class="line"><a name="l02365"></a><span class="lineno"> 2365</span>&#160;  Src0Mods-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#a2feaa1c69335c6b9028076cd68c7a5f5">setImm</a>(Src1ModsVal);</div>
<div class="line"><a name="l02366"></a><span class="lineno"> 2366</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02367"></a><span class="lineno"> 2367</span>&#160;}</div>
<div class="line"><a name="l02368"></a><span class="lineno"> 2368</span>&#160; </div>
<div class="line"><a name="l02369"></a><span class="lineno"><a class="line" href="SIInstrInfo_8cpp.html#a40ce8e1ffed53a429df732d68faab2f6"> 2369</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="SIInstrInfo_8cpp.html#a40ce8e1ffed53a429df732d68faab2f6">swapRegAndNonRegOperand</a>(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>,</div>
<div class="line"><a name="l02370"></a><span class="lineno"> 2370</span>&#160;                                             <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;RegOp,</div>
<div class="line"><a name="l02371"></a><span class="lineno"> 2371</span>&#160;                                             <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;NonRegOp) {</div>
<div class="line"><a name="l02372"></a><span class="lineno"> 2372</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a> = RegOp.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>();</div>
<div class="line"><a name="l02373"></a><span class="lineno"> 2373</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a92a6b0a9b7228d190b0a7d8ae3ef03c7">SubReg</a> = RegOp.<a class="code" href="classllvm_1_1MachineOperand.html#a028a8c5113d40d8c3f4427053bf36738">getSubReg</a>();</div>
<div class="line"><a name="l02374"></a><span class="lineno"> 2374</span>&#160;  <span class="keywordtype">bool</span> IsKill = RegOp.<a class="code" href="classllvm_1_1MachineOperand.html#a4046212ebc647b17e811837ae4ea3afd">isKill</a>();</div>
<div class="line"><a name="l02375"></a><span class="lineno"> 2375</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="SILowerControlFlow_8cpp.html#a979659ec464cee64a84df219494fc2ea">IsDead</a> = RegOp.<a class="code" href="classllvm_1_1MachineOperand.html#aaee820701392c55ad54235d3d7201206">isDead</a>();</div>
<div class="line"><a name="l02376"></a><span class="lineno"> 2376</span>&#160;  <span class="keywordtype">bool</span> IsUndef = RegOp.<a class="code" href="classllvm_1_1MachineOperand.html#a1255befbcd6e034394681b1bcd3529ff">isUndef</a>();</div>
<div class="line"><a name="l02377"></a><span class="lineno"> 2377</span>&#160;  <span class="keywordtype">bool</span> IsDebug = RegOp.<a class="code" href="classllvm_1_1MachineOperand.html#aa2d3a60e597b4a6cf24ee4ac12d2cdbf">isDebug</a>();</div>
<div class="line"><a name="l02378"></a><span class="lineno"> 2378</span>&#160; </div>
<div class="line"><a name="l02379"></a><span class="lineno"> 2379</span>&#160;  <span class="keywordflow">if</span> (NonRegOp.<a class="code" href="classllvm_1_1MachineOperand.html#a76f61c6784df6dc8402a8b9011041926">isImm</a>())</div>
<div class="line"><a name="l02380"></a><span class="lineno"> 2380</span>&#160;    RegOp.<a class="code" href="classllvm_1_1MachineOperand.html#a7b39ecfd6793534206dbb095b0d464c7">ChangeToImmediate</a>(NonRegOp.<a class="code" href="classllvm_1_1MachineOperand.html#a38b28a85f818b49d8806c150b8a5b4f7">getImm</a>());</div>
<div class="line"><a name="l02381"></a><span class="lineno"> 2381</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (NonRegOp.<a class="code" href="classllvm_1_1MachineOperand.html#ad7213433bd60dc33020246384dc18b9b">isFI</a>())</div>
<div class="line"><a name="l02382"></a><span class="lineno"> 2382</span>&#160;    RegOp.<a class="code" href="classllvm_1_1MachineOperand.html#a13b9c3d91aaffb22e0119f3467694b69">ChangeToFrameIndex</a>(NonRegOp.<a class="code" href="classllvm_1_1MachineOperand.html#aaa68daaf8d7b773d012887c92c2023ce">getIndex</a>());</div>
<div class="line"><a name="l02383"></a><span class="lineno"> 2383</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (NonRegOp.<a class="code" href="classllvm_1_1MachineOperand.html#ab0d1155c8c38e84cbe387998fd2e517e">isGlobal</a>()) {</div>
<div class="line"><a name="l02384"></a><span class="lineno"> 2384</span>&#160;    RegOp.<a class="code" href="classllvm_1_1MachineOperand.html#a83e996ed26eacbf3033314b3df58b133">ChangeToGA</a>(NonRegOp.<a class="code" href="classllvm_1_1MachineOperand.html#ac8718f1c761727d429180f0ce340f7f0">getGlobal</a>(), NonRegOp.<a class="code" href="classllvm_1_1MachineOperand.html#af624ff47eaa512dbe23866accb3837c1">getOffset</a>(),</div>
<div class="line"><a name="l02385"></a><span class="lineno"> 2385</span>&#160;                     NonRegOp.<a class="code" href="classllvm_1_1MachineOperand.html#ab06dda088d3c7686f7dfcdb2b96323f5">getTargetFlags</a>());</div>
<div class="line"><a name="l02386"></a><span class="lineno"> 2386</span>&#160;  } <span class="keywordflow">else</span></div>
<div class="line"><a name="l02387"></a><span class="lineno"> 2387</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02388"></a><span class="lineno"> 2388</span>&#160; </div>
<div class="line"><a name="l02389"></a><span class="lineno"> 2389</span>&#160;  <span class="comment">// Make sure we don&#39;t reinterpret a subreg index in the target flags.</span></div>
<div class="line"><a name="l02390"></a><span class="lineno"> 2390</span>&#160;  RegOp.<a class="code" href="classllvm_1_1MachineOperand.html#ad407b071bad6c9a435cade250ec8c8b6">setTargetFlags</a>(NonRegOp.<a class="code" href="classllvm_1_1MachineOperand.html#ab06dda088d3c7686f7dfcdb2b96323f5">getTargetFlags</a>());</div>
<div class="line"><a name="l02391"></a><span class="lineno"> 2391</span>&#160; </div>
<div class="line"><a name="l02392"></a><span class="lineno"> 2392</span>&#160;  NonRegOp.<a class="code" href="classllvm_1_1MachineOperand.html#a9404d5d9e4be534bb544777aae216691">ChangeToRegister</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, <span class="keyword">false</span>, <span class="keyword">false</span>, IsKill, <a class="code" href="SILowerControlFlow_8cpp.html#a979659ec464cee64a84df219494fc2ea">IsDead</a>, IsUndef, IsDebug);</div>
<div class="line"><a name="l02393"></a><span class="lineno"> 2393</span>&#160;  NonRegOp.<a class="code" href="classllvm_1_1MachineOperand.html#a001d31fcea92be51d2999826b806606f">setSubReg</a>(<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a92a6b0a9b7228d190b0a7d8ae3ef03c7">SubReg</a>);</div>
<div class="line"><a name="l02394"></a><span class="lineno"> 2394</span>&#160; </div>
<div class="line"><a name="l02395"></a><span class="lineno"> 2395</span>&#160;  <span class="keywordflow">return</span> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>;</div>
<div class="line"><a name="l02396"></a><span class="lineno"> 2396</span>&#160;}</div>
<div class="line"><a name="l02397"></a><span class="lineno"> 2397</span>&#160; </div>
<div class="line"><a name="l02398"></a><span class="lineno"><a class="line" href="classllvm_1_1SIInstrInfo.html#adf5d3b4379e4e570f14f6700d6e87467"> 2398</a></span>&#160;<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="classllvm_1_1SIInstrInfo.html#adf5d3b4379e4e570f14f6700d6e87467">SIInstrInfo::commuteInstructionImpl</a>(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <span class="keywordtype">bool</span> NewMI,</div>
<div class="line"><a name="l02399"></a><span class="lineno"> 2399</span>&#160;                                                  <span class="keywordtype">unsigned</span> Src0Idx,</div>
<div class="line"><a name="l02400"></a><span class="lineno"> 2400</span>&#160;                                                  <span class="keywordtype">unsigned</span> Src1Idx)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l02401"></a><span class="lineno"> 2401</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!NewMI &amp;&amp; <span class="stringliteral">&quot;this should never be used&quot;</span>);</div>
<div class="line"><a name="l02402"></a><span class="lineno"> 2402</span>&#160; </div>
<div class="line"><a name="l02403"></a><span class="lineno"> 2403</span>&#160;  <span class="keywordtype">unsigned</span> Opc = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode();</div>
<div class="line"><a name="l02404"></a><span class="lineno"> 2404</span>&#160;  <span class="keywordtype">int</span> CommutedOpcode = <a class="code" href="classllvm_1_1SIInstrInfo.html#aee81828a7ba7ae3e86ed968067d671b4">commuteOpcode</a>(Opc);</div>
<div class="line"><a name="l02405"></a><span class="lineno"> 2405</span>&#160;  <span class="keywordflow">if</span> (CommutedOpcode == -1)</div>
<div class="line"><a name="l02406"></a><span class="lineno"> 2406</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02407"></a><span class="lineno"> 2407</span>&#160; </div>
<div class="line"><a name="l02408"></a><span class="lineno"> 2408</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="namespacellvm_1_1AMDGPU.html#a27efe1286cc31f5fc95355af30b0356c">AMDGPU::getNamedOperandIdx</a>(Opc, AMDGPU::OpName::src0) ==</div>
<div class="line"><a name="l02409"></a><span class="lineno"> 2409</span>&#160;           <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(Src0Idx) &amp;&amp;</div>
<div class="line"><a name="l02410"></a><span class="lineno"> 2410</span>&#160;         <a class="code" href="namespacellvm_1_1AMDGPU.html#a27efe1286cc31f5fc95355af30b0356c">AMDGPU::getNamedOperandIdx</a>(Opc, AMDGPU::OpName::src1) ==</div>
<div class="line"><a name="l02411"></a><span class="lineno"> 2411</span>&#160;           <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(Src1Idx) &amp;&amp;</div>
<div class="line"><a name="l02412"></a><span class="lineno"> 2412</span>&#160;         <span class="stringliteral">&quot;inconsistency with findCommutedOpIndices&quot;</span>);</div>
<div class="line"><a name="l02413"></a><span class="lineno"> 2413</span>&#160; </div>
<div class="line"><a name="l02414"></a><span class="lineno"> 2414</span>&#160;  <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;Src0 = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(Src0Idx);</div>
<div class="line"><a name="l02415"></a><span class="lineno"> 2415</span>&#160;  <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;Src1 = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(Src1Idx);</div>
<div class="line"><a name="l02416"></a><span class="lineno"> 2416</span>&#160; </div>
<div class="line"><a name="l02417"></a><span class="lineno"> 2417</span>&#160;  <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *CommutedMI = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02418"></a><span class="lineno"> 2418</span>&#160;  <span class="keywordflow">if</span> (Src0.<a class="code" href="classllvm_1_1MachineOperand.html#a4c9594c955fec80c73ddd964b5efd554">isReg</a>() &amp;&amp; Src1.<a class="code" href="classllvm_1_1MachineOperand.html#a4c9594c955fec80c73ddd964b5efd554">isReg</a>()) {</div>
<div class="line"><a name="l02419"></a><span class="lineno"> 2419</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SIInstrInfo.html#af7ee4c22ed353efa8afd9ea35e4af06f">isOperandLegal</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, Src1Idx, &amp;Src0)) {</div>
<div class="line"><a name="l02420"></a><span class="lineno"> 2420</span>&#160;      <span class="comment">// Be sure to copy the source modifiers to the right place.</span></div>
<div class="line"><a name="l02421"></a><span class="lineno"> 2421</span>&#160;      CommutedMI</div>
<div class="line"><a name="l02422"></a><span class="lineno"> 2422</span>&#160;        = <a class="code" href="classllvm_1_1TargetInstrInfo.html#adf4d05c8ea2fc82ae12300ef5fb48951">TargetInstrInfo::commuteInstructionImpl</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, NewMI, Src0Idx, Src1Idx);</div>
<div class="line"><a name="l02423"></a><span class="lineno"> 2423</span>&#160;    }</div>
<div class="line"><a name="l02424"></a><span class="lineno"> 2424</span>&#160; </div>
<div class="line"><a name="l02425"></a><span class="lineno"> 2425</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Src0.<a class="code" href="classllvm_1_1MachineOperand.html#a4c9594c955fec80c73ddd964b5efd554">isReg</a>() &amp;&amp; !Src1.<a class="code" href="classllvm_1_1MachineOperand.html#a4c9594c955fec80c73ddd964b5efd554">isReg</a>()) {</div>
<div class="line"><a name="l02426"></a><span class="lineno"> 2426</span>&#160;    <span class="comment">// src0 should always be able to support any operand type, so no need to</span></div>
<div class="line"><a name="l02427"></a><span class="lineno"> 2427</span>&#160;    <span class="comment">// check operand legality.</span></div>
<div class="line"><a name="l02428"></a><span class="lineno"> 2428</span>&#160;    CommutedMI = <a class="code" href="SIInstrInfo_8cpp.html#a40ce8e1ffed53a429df732d68faab2f6">swapRegAndNonRegOperand</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, Src0, Src1);</div>
<div class="line"><a name="l02429"></a><span class="lineno"> 2429</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!Src0.<a class="code" href="classllvm_1_1MachineOperand.html#a4c9594c955fec80c73ddd964b5efd554">isReg</a>() &amp;&amp; Src1.<a class="code" href="classllvm_1_1MachineOperand.html#a4c9594c955fec80c73ddd964b5efd554">isReg</a>()) {</div>
<div class="line"><a name="l02430"></a><span class="lineno"> 2430</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SIInstrInfo.html#af7ee4c22ed353efa8afd9ea35e4af06f">isOperandLegal</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, Src1Idx, &amp;Src0))</div>
<div class="line"><a name="l02431"></a><span class="lineno"> 2431</span>&#160;      CommutedMI = <a class="code" href="SIInstrInfo_8cpp.html#a40ce8e1ffed53a429df732d68faab2f6">swapRegAndNonRegOperand</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, Src1, Src0);</div>
<div class="line"><a name="l02432"></a><span class="lineno"> 2432</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02433"></a><span class="lineno"> 2433</span>&#160;    <span class="comment">// FIXME: Found two non registers to commute. This does happen.</span></div>
<div class="line"><a name="l02434"></a><span class="lineno"> 2434</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02435"></a><span class="lineno"> 2435</span>&#160;  }</div>
<div class="line"><a name="l02436"></a><span class="lineno"> 2436</span>&#160; </div>
<div class="line"><a name="l02437"></a><span class="lineno"> 2437</span>&#160;  <span class="keywordflow">if</span> (CommutedMI) {</div>
<div class="line"><a name="l02438"></a><span class="lineno"> 2438</span>&#160;    <a class="code" href="classllvm_1_1SIInstrInfo.html#a64f165f45ca62b4d27bde48f484897da">swapSourceModifiers</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, Src0, AMDGPU::OpName::src0_modifiers,</div>
<div class="line"><a name="l02439"></a><span class="lineno"> 2439</span>&#160;                        Src1, AMDGPU::OpName::src1_modifiers);</div>
<div class="line"><a name="l02440"></a><span class="lineno"> 2440</span>&#160; </div>
<div class="line"><a name="l02441"></a><span class="lineno"> 2441</span>&#160;    CommutedMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#af11a92503408a812be672ee3efc848d3">setDesc</a>(<a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(CommutedOpcode));</div>
<div class="line"><a name="l02442"></a><span class="lineno"> 2442</span>&#160;  }</div>
<div class="line"><a name="l02443"></a><span class="lineno"> 2443</span>&#160; </div>
<div class="line"><a name="l02444"></a><span class="lineno"> 2444</span>&#160;  <span class="keywordflow">return</span> CommutedMI;</div>
<div class="line"><a name="l02445"></a><span class="lineno"> 2445</span>&#160;}</div>
<div class="line"><a name="l02446"></a><span class="lineno"> 2446</span>&#160; </div>
<div class="line"><a name="l02447"></a><span class="lineno"> 2447</span>&#160;<span class="comment">// This needs to be implemented because the source modifiers may be inserted</span></div>
<div class="line"><a name="l02448"></a><span class="lineno"> 2448</span>&#160;<span class="comment">// between the true commutable operands, and the base</span></div>
<div class="line"><a name="l02449"></a><span class="lineno"> 2449</span>&#160;<span class="comment">// TargetInstrInfo::commuteInstruction uses it.</span></div>
<div class="line"><a name="l02450"></a><span class="lineno"><a class="line" href="classllvm_1_1SIInstrInfo.html#a6d85a4b5e2ddc4731835d9e0c55d4ae8"> 2450</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1SIInstrInfo.html#a6d85a4b5e2ddc4731835d9e0c55d4ae8">SIInstrInfo::findCommutedOpIndices</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>,</div>
<div class="line"><a name="l02451"></a><span class="lineno"> 2451</span>&#160;                                        <span class="keywordtype">unsigned</span> &amp;SrcOpIdx0,</div>
<div class="line"><a name="l02452"></a><span class="lineno"> 2452</span>&#160;                                        <span class="keywordtype">unsigned</span> &amp;SrcOpIdx1)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l02453"></a><span class="lineno"> 2453</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SIInstrInfo.html#a6d85a4b5e2ddc4731835d9e0c55d4ae8">findCommutedOpIndices</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getDesc(), SrcOpIdx0, SrcOpIdx1);</div>
<div class="line"><a name="l02454"></a><span class="lineno"> 2454</span>&#160;}</div>
<div class="line"><a name="l02455"></a><span class="lineno"> 2455</span>&#160; </div>
<div class="line"><a name="l02456"></a><span class="lineno"><a class="line" href="classllvm_1_1SIInstrInfo.html#acfadbbb64a5f40343313285156b65dc2"> 2456</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1SIInstrInfo.html#a6d85a4b5e2ddc4731835d9e0c55d4ae8">SIInstrInfo::findCommutedOpIndices</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MCInstrDesc.html">MCInstrDesc</a> &amp;Desc,</div>
<div class="line"><a name="l02457"></a><span class="lineno"> 2457</span>&#160;                                        <span class="keywordtype">unsigned</span> &amp;SrcOpIdx0,</div>
<div class="line"><a name="l02458"></a><span class="lineno"> 2458</span>&#160;                                        <span class="keywordtype">unsigned</span> &amp;SrcOpIdx1)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l02459"></a><span class="lineno"> 2459</span>&#160;  <span class="keywordflow">if</span> (!Desc.<a class="code" href="classllvm_1_1MCInstrDesc.html#a8c8b632d74a4d458f9a1a95efa691dbd">isCommutable</a>())</div>
<div class="line"><a name="l02460"></a><span class="lineno"> 2460</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02461"></a><span class="lineno"> 2461</span>&#160; </div>
<div class="line"><a name="l02462"></a><span class="lineno"> 2462</span>&#160;  <span class="keywordtype">unsigned</span> Opc = Desc.<a class="code" href="classllvm_1_1MCInstrDesc.html#aee50fcacb786c1fc56168a0c55a4e934">getOpcode</a>();</div>
<div class="line"><a name="l02463"></a><span class="lineno"> 2463</span>&#160;  <span class="keywordtype">int</span> Src0Idx = <a class="code" href="namespacellvm_1_1AMDGPU.html#a27efe1286cc31f5fc95355af30b0356c">AMDGPU::getNamedOperandIdx</a>(Opc, AMDGPU::OpName::src0);</div>
<div class="line"><a name="l02464"></a><span class="lineno"> 2464</span>&#160;  <span class="keywordflow">if</span> (Src0Idx == -1)</div>
<div class="line"><a name="l02465"></a><span class="lineno"> 2465</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02466"></a><span class="lineno"> 2466</span>&#160; </div>
<div class="line"><a name="l02467"></a><span class="lineno"> 2467</span>&#160;  <span class="keywordtype">int</span> Src1Idx = <a class="code" href="namespacellvm_1_1AMDGPU.html#a27efe1286cc31f5fc95355af30b0356c">AMDGPU::getNamedOperandIdx</a>(Opc, AMDGPU::OpName::src1);</div>
<div class="line"><a name="l02468"></a><span class="lineno"> 2468</span>&#160;  <span class="keywordflow">if</span> (Src1Idx == -1)</div>
<div class="line"><a name="l02469"></a><span class="lineno"> 2469</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02470"></a><span class="lineno"> 2470</span>&#160; </div>
<div class="line"><a name="l02471"></a><span class="lineno"> 2471</span>&#160;  <span class="keywordflow">return</span> fixCommutedOpIndices(SrcOpIdx0, SrcOpIdx1, Src0Idx, Src1Idx);</div>
<div class="line"><a name="l02472"></a><span class="lineno"> 2472</span>&#160;}</div>
<div class="line"><a name="l02473"></a><span class="lineno"> 2473</span>&#160; </div>
<div class="line"><a name="l02474"></a><span class="lineno"><a class="line" href="classllvm_1_1SIInstrInfo.html#ad6c11ec8de146c5e79bfd5dea3cfab01"> 2474</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1SIInstrInfo.html#ad6c11ec8de146c5e79bfd5dea3cfab01">SIInstrInfo::isBranchOffsetInRange</a>(<span class="keywordtype">unsigned</span> BranchOp,</div>
<div class="line"><a name="l02475"></a><span class="lineno"> 2475</span>&#160;                                        int64_t BrOffset)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l02476"></a><span class="lineno"> 2476</span>&#160;  <span class="comment">// BranchRelaxation should never have to check s_setpc_b64 because its dest</span></div>
<div class="line"><a name="l02477"></a><span class="lineno"> 2477</span>&#160;  <span class="comment">// block is unanalyzable.</span></div>
<div class="line"><a name="l02478"></a><span class="lineno"> 2478</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(BranchOp != AMDGPU::S_SETPC_B64);</div>
<div class="line"><a name="l02479"></a><span class="lineno"> 2479</span>&#160; </div>
<div class="line"><a name="l02480"></a><span class="lineno"> 2480</span>&#160;  <span class="comment">// Convert to dwords.</span></div>
<div class="line"><a name="l02481"></a><span class="lineno"> 2481</span>&#160;  BrOffset /= 4;</div>
<div class="line"><a name="l02482"></a><span class="lineno"> 2482</span>&#160; </div>
<div class="line"><a name="l02483"></a><span class="lineno"> 2483</span>&#160;  <span class="comment">// The branch instructions do PC += signext(SIMM16 * 4) + 4, so the offset is</span></div>
<div class="line"><a name="l02484"></a><span class="lineno"> 2484</span>&#160;  <span class="comment">// from the next instruction.</span></div>
<div class="line"><a name="l02485"></a><span class="lineno"> 2485</span>&#160;  BrOffset -= 1;</div>
<div class="line"><a name="l02486"></a><span class="lineno"> 2486</span>&#160; </div>
<div class="line"><a name="l02487"></a><span class="lineno"> 2487</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#aad80b46c754cc7216244a866ec9b1cb0">isIntN</a>(<a class="code" href="SIInstrInfo_8cpp.html#a1b973951954bbceebb9d37dfe591c22d">BranchOffsetBits</a>, BrOffset);</div>
<div class="line"><a name="l02488"></a><span class="lineno"> 2488</span>&#160;}</div>
<div class="line"><a name="l02489"></a><span class="lineno"> 2489</span>&#160; </div>
<div class="line"><a name="l02490"></a><span class="lineno"><a class="line" href="classllvm_1_1SIInstrInfo.html#acb4b6b90314d09d2b71e77d7127607c9"> 2490</a></span>&#160;<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *<a class="code" href="classllvm_1_1SIInstrInfo.html#acb4b6b90314d09d2b71e77d7127607c9">SIInstrInfo::getBranchDestBlock</a>(</div>
<div class="line"><a name="l02491"></a><span class="lineno"> 2491</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l02492"></a><span class="lineno"> 2492</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode() == AMDGPU::S_SETPC_B64) {</div>
<div class="line"><a name="l02493"></a><span class="lineno"> 2493</span>&#160;    <span class="comment">// This would be a difficult analysis to perform, but can always be legal so</span></div>
<div class="line"><a name="l02494"></a><span class="lineno"> 2494</span>&#160;    <span class="comment">// there&#39;s no need to analyze it.</span></div>
<div class="line"><a name="l02495"></a><span class="lineno"> 2495</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02496"></a><span class="lineno"> 2496</span>&#160;  }</div>
<div class="line"><a name="l02497"></a><span class="lineno"> 2497</span>&#160; </div>
<div class="line"><a name="l02498"></a><span class="lineno"> 2498</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(0).getMBB();</div>
<div class="line"><a name="l02499"></a><span class="lineno"> 2499</span>&#160;}</div>
<div class="line"><a name="l02500"></a><span class="lineno"> 2500</span>&#160; </div>
<div class="line"><a name="l02501"></a><span class="lineno"><a class="line" href="classllvm_1_1SIInstrInfo.html#ac5ef91f370e4eb770203cf33a176616a"> 2501</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1SIInstrInfo.html#ac5ef91f370e4eb770203cf33a176616a">SIInstrInfo::hasDivergentBranch</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l02502"></a><span class="lineno"> 2502</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a> : <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#a7f0540de8a453a7229e35264e8edd4ac">terminators</a>()) {</div>
<div class="line"><a name="l02503"></a><span class="lineno"> 2503</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode() == AMDGPU::SI_NON_UNIFORM_BRCOND_PSEUDO ||</div>
<div class="line"><a name="l02504"></a><span class="lineno"> 2504</span>&#160;        <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode() == AMDGPU::SI_IF || <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode() == AMDGPU::SI_ELSE ||</div>
<div class="line"><a name="l02505"></a><span class="lineno"> 2505</span>&#160;        <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode() == AMDGPU::SI_LOOP)</div>
<div class="line"><a name="l02506"></a><span class="lineno"> 2506</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02507"></a><span class="lineno"> 2507</span>&#160;  }</div>
<div class="line"><a name="l02508"></a><span class="lineno"> 2508</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02509"></a><span class="lineno"> 2509</span>&#160;}</div>
<div class="line"><a name="l02510"></a><span class="lineno"> 2510</span>&#160; </div>
<div class="line"><a name="l02511"></a><span class="lineno"><a class="line" href="classllvm_1_1SIInstrInfo.html#aff3eb40a3be5c2fb6f804f1e5649fd57"> 2511</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1SIInstrInfo.html#aff3eb40a3be5c2fb6f804f1e5649fd57">SIInstrInfo::insertIndirectBranch</a>(<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>,</div>
<div class="line"><a name="l02512"></a><span class="lineno"> 2512</span>&#160;                                       <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;DestBB,</div>
<div class="line"><a name="l02513"></a><span class="lineno"> 2513</span>&#160;                                       <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;RestoreBB,</div>
<div class="line"><a name="l02514"></a><span class="lineno"> 2514</span>&#160;                                       <span class="keyword">const</span> <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, int64_t BrOffset,</div>
<div class="line"><a name="l02515"></a><span class="lineno"> 2515</span>&#160;                                       <a class="code" href="classllvm_1_1RegScavenger.html">RegScavenger</a> *RS)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l02516"></a><span class="lineno"> 2516</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(RS &amp;&amp; <span class="stringliteral">&quot;RegScavenger required for long branching&quot;</span>);</div>
<div class="line"><a name="l02517"></a><span class="lineno"> 2517</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a095ce2d870dadf620a4c887ecc0efef8">empty</a>() &amp;&amp;</div>
<div class="line"><a name="l02518"></a><span class="lineno"> 2518</span>&#160;         <span class="stringliteral">&quot;new block should be inserted for expanding unconditional branch&quot;</span>);</div>
<div class="line"><a name="l02519"></a><span class="lineno"> 2519</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a03936a9b37da541420049422204ab206">pred_size</a>() == 1);</div>
<div class="line"><a name="l02520"></a><span class="lineno"> 2520</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(RestoreBB.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a095ce2d870dadf620a4c887ecc0efef8">empty</a>() &amp;&amp;</div>
<div class="line"><a name="l02521"></a><span class="lineno"> 2521</span>&#160;         <span class="stringliteral">&quot;restore block should be inserted for restoring clobbered registers&quot;</span>);</div>
<div class="line"><a name="l02522"></a><span class="lineno"> 2522</span>&#160; </div>
<div class="line"><a name="l02523"></a><span class="lineno"> 2523</span>&#160;  <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> *MF = <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a4e21760f681d6f97f95c8414e7b83ea5">getParent</a>();</div>
<div class="line"><a name="l02524"></a><span class="lineno"> 2524</span>&#160;  <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a> = MF-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>();</div>
<div class="line"><a name="l02525"></a><span class="lineno"> 2525</span>&#160; </div>
<div class="line"><a name="l02526"></a><span class="lineno"> 2526</span>&#160;  <span class="comment">// FIXME: Virtual register workaround for RegScavenger not working with empty</span></div>
<div class="line"><a name="l02527"></a><span class="lineno"> 2527</span>&#160;  <span class="comment">// blocks.</span></div>
<div class="line"><a name="l02528"></a><span class="lineno"> 2528</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> PCReg = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5c77792a06583e0fe7a0379ad94a2809">createVirtualRegister</a>(&amp;AMDGPU::SReg_64RegClass);</div>
<div class="line"><a name="l02529"></a><span class="lineno"> 2529</span>&#160; </div>
<div class="line"><a name="l02530"></a><span class="lineno"> 2530</span>&#160;  <span class="keyword">auto</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">end</a>();</div>
<div class="line"><a name="l02531"></a><span class="lineno"> 2531</span>&#160; </div>
<div class="line"><a name="l02532"></a><span class="lineno"> 2532</span>&#160;  <span class="comment">// We need to compute the offset relative to the instruction immediately after</span></div>
<div class="line"><a name="l02533"></a><span class="lineno"> 2533</span>&#160;  <span class="comment">// s_getpc_b64. Insert pc arithmetic code before last terminator.</span></div>
<div class="line"><a name="l02534"></a><span class="lineno"> 2534</span>&#160;  <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *GetPC = <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::S_GETPC_B64), PCReg);</div>
<div class="line"><a name="l02535"></a><span class="lineno"> 2535</span>&#160; </div>
<div class="line"><a name="l02536"></a><span class="lineno"> 2536</span>&#160;  <span class="keyword">auto</span> &amp;MCCtx = MF-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#a949d4cecc0f4fd13754f88928cf87b22">getContext</a>();</div>
<div class="line"><a name="l02537"></a><span class="lineno"> 2537</span>&#160;  <a class="code" href="classllvm_1_1MCSymbol.html">MCSymbol</a> *PostGetPCLabel =</div>
<div class="line"><a name="l02538"></a><span class="lineno"> 2538</span>&#160;      MCCtx.createTempSymbol(<span class="stringliteral">&quot;post_getpc&quot;</span>, <span class="comment">/*AlwaysAddSuffix=*/</span><span class="keyword">true</span>);</div>
<div class="line"><a name="l02539"></a><span class="lineno"> 2539</span>&#160;  GetPC-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#ac8ce95857a66b3706a84d1fd5072f0dd">setPostInstrSymbol</a>(*MF, PostGetPCLabel);</div>
<div class="line"><a name="l02540"></a><span class="lineno"> 2540</span>&#160; </div>
<div class="line"><a name="l02541"></a><span class="lineno"> 2541</span>&#160;  <a class="code" href="classllvm_1_1MCSymbol.html">MCSymbol</a> *OffsetLo =</div>
<div class="line"><a name="l02542"></a><span class="lineno"> 2542</span>&#160;      MCCtx.createTempSymbol(<span class="stringliteral">&quot;offset_lo&quot;</span>, <span class="comment">/*AlwaysAddSuffix=*/</span><span class="keyword">true</span>);</div>
<div class="line"><a name="l02543"></a><span class="lineno"> 2543</span>&#160;  <a class="code" href="classllvm_1_1MCSymbol.html">MCSymbol</a> *OffsetHi =</div>
<div class="line"><a name="l02544"></a><span class="lineno"> 2544</span>&#160;      MCCtx.createTempSymbol(<span class="stringliteral">&quot;offset_hi&quot;</span>, <span class="comment">/*AlwaysAddSuffix=*/</span><span class="keyword">true</span>);</div>
<div class="line"><a name="l02545"></a><span class="lineno"> 2545</span>&#160;  <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::S_ADD_U32))</div>
<div class="line"><a name="l02546"></a><span class="lineno"> 2546</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(PCReg, <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da72c17e2ff2d5af62a30e56ac152aa8d5">RegState::Define</a>, AMDGPU::sub0)</div>
<div class="line"><a name="l02547"></a><span class="lineno"> 2547</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(PCReg, 0, AMDGPU::sub0)</div>
<div class="line"><a name="l02548"></a><span class="lineno"> 2548</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a28701ca789f2f68ce1219af1c03cffaf">addSym</a>(OffsetLo, <a class="code" href="classllvm_1_1SIInstrInfo.html#ade90146180a53b9d9edc077b933e70bba4d206cbdcdd039cb05719c60fc873c89">MO_FAR_BRANCH_OFFSET</a>);</div>
<div class="line"><a name="l02549"></a><span class="lineno"> 2549</span>&#160;  <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::S_ADDC_U32))</div>
<div class="line"><a name="l02550"></a><span class="lineno"> 2550</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(PCReg, <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da72c17e2ff2d5af62a30e56ac152aa8d5">RegState::Define</a>, AMDGPU::sub1)</div>
<div class="line"><a name="l02551"></a><span class="lineno"> 2551</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(PCReg, 0, AMDGPU::sub1)</div>
<div class="line"><a name="l02552"></a><span class="lineno"> 2552</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a28701ca789f2f68ce1219af1c03cffaf">addSym</a>(OffsetHi, <a class="code" href="classllvm_1_1SIInstrInfo.html#ade90146180a53b9d9edc077b933e70bba4d206cbdcdd039cb05719c60fc873c89">MO_FAR_BRANCH_OFFSET</a>);</div>
<div class="line"><a name="l02553"></a><span class="lineno"> 2553</span>&#160; </div>
<div class="line"><a name="l02554"></a><span class="lineno"> 2554</span>&#160;  <span class="comment">// Insert the indirect branch after the other terminator.</span></div>
<div class="line"><a name="l02555"></a><span class="lineno"> 2555</span>&#160;  <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(&amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::S_SETPC_B64))</div>
<div class="line"><a name="l02556"></a><span class="lineno"> 2556</span>&#160;    .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(PCReg);</div>
<div class="line"><a name="l02557"></a><span class="lineno"> 2557</span>&#160; </div>
<div class="line"><a name="l02558"></a><span class="lineno"> 2558</span>&#160;  <span class="comment">// FIXME: If spilling is necessary, this will fail because this scavenger has</span></div>
<div class="line"><a name="l02559"></a><span class="lineno"> 2559</span>&#160;  <span class="comment">// no emergency stack slots. It is non-trivial to spill in this situation,</span></div>
<div class="line"><a name="l02560"></a><span class="lineno"> 2560</span>&#160;  <span class="comment">// because the restore code needs to be specially placed after the</span></div>
<div class="line"><a name="l02561"></a><span class="lineno"> 2561</span>&#160;  <span class="comment">// jump. BranchRelaxation then needs to be made aware of the newly inserted</span></div>
<div class="line"><a name="l02562"></a><span class="lineno"> 2562</span>&#160;  <span class="comment">// block.</span></div>
<div class="line"><a name="l02563"></a><span class="lineno"> 2563</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l02564"></a><span class="lineno"> 2564</span>&#160;  <span class="comment">// If a spill is needed for the pc register pair, we need to insert a spill</span></div>
<div class="line"><a name="l02565"></a><span class="lineno"> 2565</span>&#160;  <span class="comment">// restore block right before the destination block, and insert a short branch</span></div>
<div class="line"><a name="l02566"></a><span class="lineno"> 2566</span>&#160;  <span class="comment">// into the old destination block&#39;s fallthrough predecessor.</span></div>
<div class="line"><a name="l02567"></a><span class="lineno"> 2567</span>&#160;  <span class="comment">// e.g.:</span></div>
<div class="line"><a name="l02568"></a><span class="lineno"> 2568</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l02569"></a><span class="lineno"> 2569</span>&#160;  <span class="comment">// s_cbranch_scc0 skip_long_branch:</span></div>
<div class="line"><a name="l02570"></a><span class="lineno"> 2570</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l02571"></a><span class="lineno"> 2571</span>&#160;  <span class="comment">// long_branch_bb:</span></div>
<div class="line"><a name="l02572"></a><span class="lineno"> 2572</span>&#160;  <span class="comment">//   spill s[8:9]</span></div>
<div class="line"><a name="l02573"></a><span class="lineno"> 2573</span>&#160;  <span class="comment">//   s_getpc_b64 s[8:9]</span></div>
<div class="line"><a name="l02574"></a><span class="lineno"> 2574</span>&#160;  <span class="comment">//   s_add_u32 s8, s8, restore_bb</span></div>
<div class="line"><a name="l02575"></a><span class="lineno"> 2575</span>&#160;  <span class="comment">//   s_addc_u32 s9, s9, 0</span></div>
<div class="line"><a name="l02576"></a><span class="lineno"> 2576</span>&#160;  <span class="comment">//   s_setpc_b64 s[8:9]</span></div>
<div class="line"><a name="l02577"></a><span class="lineno"> 2577</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l02578"></a><span class="lineno"> 2578</span>&#160;  <span class="comment">// skip_long_branch:</span></div>
<div class="line"><a name="l02579"></a><span class="lineno"> 2579</span>&#160;  <span class="comment">//   foo;</span></div>
<div class="line"><a name="l02580"></a><span class="lineno"> 2580</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l02581"></a><span class="lineno"> 2581</span>&#160;  <span class="comment">// .....</span></div>
<div class="line"><a name="l02582"></a><span class="lineno"> 2582</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l02583"></a><span class="lineno"> 2583</span>&#160;  <span class="comment">// dest_bb_fallthrough_predecessor:</span></div>
<div class="line"><a name="l02584"></a><span class="lineno"> 2584</span>&#160;  <span class="comment">// bar;</span></div>
<div class="line"><a name="l02585"></a><span class="lineno"> 2585</span>&#160;  <span class="comment">// s_branch dest_bb</span></div>
<div class="line"><a name="l02586"></a><span class="lineno"> 2586</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l02587"></a><span class="lineno"> 2587</span>&#160;  <span class="comment">// restore_bb:</span></div>
<div class="line"><a name="l02588"></a><span class="lineno"> 2588</span>&#160;  <span class="comment">//  restore s[8:9]</span></div>
<div class="line"><a name="l02589"></a><span class="lineno"> 2589</span>&#160;  <span class="comment">//  fallthrough dest_bb</span><span class="comment"></span></div>
<div class="line"><a name="l02590"></a><span class="lineno"> 2590</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l02591"></a><span class="lineno"> 2591</span>&#160;<span class="comment"></span>  <span class="comment">// dest_bb:</span></div>
<div class="line"><a name="l02592"></a><span class="lineno"> 2592</span>&#160;  <span class="comment">//   buzz;</span></div>
<div class="line"><a name="l02593"></a><span class="lineno"> 2593</span>&#160; </div>
<div class="line"><a name="l02594"></a><span class="lineno"> 2594</span>&#160;  RS-&gt;<a class="code" href="classllvm_1_1RegScavenger.html#a14812153b6cf8c1cb26c3de8b96ba91c">enterBasicBlockEnd</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>);</div>
<div class="line"><a name="l02595"></a><span class="lineno"> 2595</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> Scav = RS-&gt;<a class="code" href="classllvm_1_1RegScavenger.html#a62d08c8303092539ecb1fde389108e7a">scavengeRegisterBackwards</a>(</div>
<div class="line"><a name="l02596"></a><span class="lineno"> 2596</span>&#160;      AMDGPU::SReg_64RegClass, <a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::iterator</a>(GetPC),</div>
<div class="line"><a name="l02597"></a><span class="lineno"> 2597</span>&#160;      <span class="comment">/* RestoreAfter */</span> <span class="keyword">false</span>, 0, <span class="comment">/* AllowSpill */</span> <span class="keyword">false</span>);</div>
<div class="line"><a name="l02598"></a><span class="lineno"> 2598</span>&#160;  <span class="keywordflow">if</span> (Scav) {</div>
<div class="line"><a name="l02599"></a><span class="lineno"> 2599</span>&#160;    RS-&gt;<a class="code" href="classllvm_1_1RegScavenger.html#a34542ec002baa6b027a6d05644c6bb2e">setRegUsed</a>(Scav);</div>
<div class="line"><a name="l02600"></a><span class="lineno"> 2600</span>&#160;    <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#af16c39ee36e4633f821b6820f8bd52ef">replaceRegWith</a>(PCReg, Scav);</div>
<div class="line"><a name="l02601"></a><span class="lineno"> 2601</span>&#160;    <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a7e2e403e3e1f758b87c25302090c96c2">clearVirtRegs</a>();</div>
<div class="line"><a name="l02602"></a><span class="lineno"> 2602</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02603"></a><span class="lineno"> 2603</span>&#160;    <span class="comment">// As SGPR needs VGPR to be spilled, we reuse the slot of temporary VGPR for</span></div>
<div class="line"><a name="l02604"></a><span class="lineno"> 2604</span>&#160;    <span class="comment">// SGPR spill.</span></div>
<div class="line"><a name="l02605"></a><span class="lineno"> 2605</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1GCNSubtarget.html">GCNSubtarget</a> &amp;ST = MF-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#a325f6b611ef9ec06798d3b4eb9572093">getSubtarget</a>&lt;<a class="code" href="classllvm_1_1GCNSubtarget.html">GCNSubtarget</a>&gt;();</div>
<div class="line"><a name="l02606"></a><span class="lineno"> 2606</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SIRegisterInfo.html">SIRegisterInfo</a> *<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a> = ST.getRegisterInfo();</div>
<div class="line"><a name="l02607"></a><span class="lineno"> 2607</span>&#160;    <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>-&gt;spillEmergencySGPR(GetPC, RestoreBB, AMDGPU::SGPR0_SGPR1, RS);</div>
<div class="line"><a name="l02608"></a><span class="lineno"> 2608</span>&#160;    <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#af16c39ee36e4633f821b6820f8bd52ef">replaceRegWith</a>(PCReg, AMDGPU::SGPR0_SGPR1);</div>
<div class="line"><a name="l02609"></a><span class="lineno"> 2609</span>&#160;    <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a7e2e403e3e1f758b87c25302090c96c2">clearVirtRegs</a>();</div>
<div class="line"><a name="l02610"></a><span class="lineno"> 2610</span>&#160;  }</div>
<div class="line"><a name="l02611"></a><span class="lineno"> 2611</span>&#160; </div>
<div class="line"><a name="l02612"></a><span class="lineno"> 2612</span>&#160;  <a class="code" href="classllvm_1_1MCSymbol.html">MCSymbol</a> *DestLabel = Scav ? DestBB.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a1cc134bd22a318835dc929323da70ea4">getSymbol</a>() : RestoreBB.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a1cc134bd22a318835dc929323da70ea4">getSymbol</a>();</div>
<div class="line"><a name="l02613"></a><span class="lineno"> 2613</span>&#160;  <span class="comment">// Now, the distance could be defined.</span></div>
<div class="line"><a name="l02614"></a><span class="lineno"> 2614</span>&#160;  <span class="keyword">auto</span> *<a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> = <a class="code" href="classllvm_1_1MCBinaryExpr.html#aeb486a557befb75f998c127a1116501b">MCBinaryExpr::createSub</a>(</div>
<div class="line"><a name="l02615"></a><span class="lineno"> 2615</span>&#160;      <a class="code" href="classllvm_1_1MCSymbolRefExpr.html#a6a80122686401107aecb1cb750d4a698">MCSymbolRefExpr::create</a>(DestLabel, MCCtx),</div>
<div class="line"><a name="l02616"></a><span class="lineno"> 2616</span>&#160;      <a class="code" href="classllvm_1_1MCSymbolRefExpr.html#a6a80122686401107aecb1cb750d4a698">MCSymbolRefExpr::create</a>(PostGetPCLabel, MCCtx), MCCtx);</div>
<div class="line"><a name="l02617"></a><span class="lineno"> 2617</span>&#160;  <span class="comment">// Add offset assignments.</span></div>
<div class="line"><a name="l02618"></a><span class="lineno"> 2618</span>&#160;  <span class="keyword">auto</span> *<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a> = <a class="code" href="classllvm_1_1MCConstantExpr.html#af9bdc4c9c65ea1ff077fbbb6407d7b2a">MCConstantExpr::create</a>(0xFFFFFFFFULL, MCCtx);</div>
<div class="line"><a name="l02619"></a><span class="lineno"> 2619</span>&#160;  OffsetLo-&gt;<a class="code" href="classllvm_1_1MCSymbol.html#a7f1486460b5e2da7f4527bbb2da54eff">setVariableValue</a>(<a class="code" href="classllvm_1_1MCBinaryExpr.html#a21db81ffca6b897bcd200dc160941d9e">MCBinaryExpr::createAnd</a>(<a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>, <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>, MCCtx));</div>
<div class="line"><a name="l02620"></a><span class="lineno"> 2620</span>&#160;  <span class="keyword">auto</span> *ShAmt = <a class="code" href="classllvm_1_1MCConstantExpr.html#af9bdc4c9c65ea1ff077fbbb6407d7b2a">MCConstantExpr::create</a>(32, MCCtx);</div>
<div class="line"><a name="l02621"></a><span class="lineno"> 2621</span>&#160;  OffsetHi-&gt;<a class="code" href="classllvm_1_1MCSymbol.html#a7f1486460b5e2da7f4527bbb2da54eff">setVariableValue</a>(<a class="code" href="classllvm_1_1MCBinaryExpr.html#a7e497380d64cbc81c0adf46672c64ba0">MCBinaryExpr::createAShr</a>(<a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>, ShAmt, MCCtx));</div>
<div class="line"><a name="l02622"></a><span class="lineno"> 2622</span>&#160;}</div>
<div class="line"><a name="l02623"></a><span class="lineno"> 2623</span>&#160; </div>
<div class="line"><a name="l02624"></a><span class="lineno"> 2624</span>&#160;<span class="keywordtype">unsigned</span> SIInstrInfo::getBranchOpcode(SIInstrInfo::BranchPredicate <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>) {</div>
<div class="line"><a name="l02625"></a><span class="lineno"> 2625</span>&#160;  <span class="keywordflow">switch</span> (<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>) {</div>
<div class="line"><a name="l02626"></a><span class="lineno"> 2626</span>&#160;  <span class="keywordflow">case</span> SIInstrInfo::SCC_TRUE:</div>
<div class="line"><a name="l02627"></a><span class="lineno"> 2627</span>&#160;    <span class="keywordflow">return</span> AMDGPU::S_CBRANCH_SCC1;</div>
<div class="line"><a name="l02628"></a><span class="lineno"> 2628</span>&#160;  <span class="keywordflow">case</span> SIInstrInfo::SCC_FALSE:</div>
<div class="line"><a name="l02629"></a><span class="lineno"> 2629</span>&#160;    <span class="keywordflow">return</span> AMDGPU::S_CBRANCH_SCC0;</div>
<div class="line"><a name="l02630"></a><span class="lineno"> 2630</span>&#160;  <span class="keywordflow">case</span> SIInstrInfo::VCCNZ:</div>
<div class="line"><a name="l02631"></a><span class="lineno"> 2631</span>&#160;    <span class="keywordflow">return</span> AMDGPU::S_CBRANCH_VCCNZ;</div>
<div class="line"><a name="l02632"></a><span class="lineno"> 2632</span>&#160;  <span class="keywordflow">case</span> SIInstrInfo::VCCZ:</div>
<div class="line"><a name="l02633"></a><span class="lineno"> 2633</span>&#160;    <span class="keywordflow">return</span> AMDGPU::S_CBRANCH_VCCZ;</div>
<div class="line"><a name="l02634"></a><span class="lineno"> 2634</span>&#160;  <span class="keywordflow">case</span> SIInstrInfo::EXECNZ:</div>
<div class="line"><a name="l02635"></a><span class="lineno"> 2635</span>&#160;    <span class="keywordflow">return</span> AMDGPU::S_CBRANCH_EXECNZ;</div>
<div class="line"><a name="l02636"></a><span class="lineno"> 2636</span>&#160;  <span class="keywordflow">case</span> SIInstrInfo::EXECZ:</div>
<div class="line"><a name="l02637"></a><span class="lineno"> 2637</span>&#160;    <span class="keywordflow">return</span> AMDGPU::S_CBRANCH_EXECZ;</div>
<div class="line"><a name="l02638"></a><span class="lineno"> 2638</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l02639"></a><span class="lineno"> 2639</span>&#160;    <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;invalid branch predicate&quot;</span>);</div>
<div class="line"><a name="l02640"></a><span class="lineno"> 2640</span>&#160;  }</div>
<div class="line"><a name="l02641"></a><span class="lineno"> 2641</span>&#160;}</div>
<div class="line"><a name="l02642"></a><span class="lineno"> 2642</span>&#160; </div>
<div class="line"><a name="l02643"></a><span class="lineno"> 2643</span>&#160;SIInstrInfo::BranchPredicate SIInstrInfo::getBranchPredicate(<span class="keywordtype">unsigned</span> Opcode) {</div>
<div class="line"><a name="l02644"></a><span class="lineno"> 2644</span>&#160;  <span class="keywordflow">switch</span> (Opcode) {</div>
<div class="line"><a name="l02645"></a><span class="lineno"> 2645</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_CBRANCH_SCC0:</div>
<div class="line"><a name="l02646"></a><span class="lineno"> 2646</span>&#160;    <span class="keywordflow">return</span> SCC_FALSE;</div>
<div class="line"><a name="l02647"></a><span class="lineno"> 2647</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_CBRANCH_SCC1:</div>
<div class="line"><a name="l02648"></a><span class="lineno"> 2648</span>&#160;    <span class="keywordflow">return</span> SCC_TRUE;</div>
<div class="line"><a name="l02649"></a><span class="lineno"> 2649</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_CBRANCH_VCCNZ:</div>
<div class="line"><a name="l02650"></a><span class="lineno"> 2650</span>&#160;    <span class="keywordflow">return</span> VCCNZ;</div>
<div class="line"><a name="l02651"></a><span class="lineno"> 2651</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_CBRANCH_VCCZ:</div>
<div class="line"><a name="l02652"></a><span class="lineno"> 2652</span>&#160;    <span class="keywordflow">return</span> VCCZ;</div>
<div class="line"><a name="l02653"></a><span class="lineno"> 2653</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_CBRANCH_EXECNZ:</div>
<div class="line"><a name="l02654"></a><span class="lineno"> 2654</span>&#160;    <span class="keywordflow">return</span> EXECNZ;</div>
<div class="line"><a name="l02655"></a><span class="lineno"> 2655</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_CBRANCH_EXECZ:</div>
<div class="line"><a name="l02656"></a><span class="lineno"> 2656</span>&#160;    <span class="keywordflow">return</span> EXECZ;</div>
<div class="line"><a name="l02657"></a><span class="lineno"> 2657</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l02658"></a><span class="lineno"> 2658</span>&#160;    <span class="keywordflow">return</span> INVALID_BR;</div>
<div class="line"><a name="l02659"></a><span class="lineno"> 2659</span>&#160;  }</div>
<div class="line"><a name="l02660"></a><span class="lineno"> 2660</span>&#160;}</div>
<div class="line"><a name="l02661"></a><span class="lineno"> 2661</span>&#160; </div>
<div class="line"><a name="l02662"></a><span class="lineno"><a class="line" href="classllvm_1_1SIInstrInfo.html#a96da06741a80bacedc0da0469394eff3"> 2662</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1SIInstrInfo.html#a96da06741a80bacedc0da0469394eff3">SIInstrInfo::analyzeBranchImpl</a>(<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>,</div>
<div class="line"><a name="l02663"></a><span class="lineno"> 2663</span>&#160;                                    <a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>,</div>
<div class="line"><a name="l02664"></a><span class="lineno"> 2664</span>&#160;                                    <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *&amp;<a class="code" href="RISCVRedundantCopyElimination_8cpp.html#a1441f79530bc7f3a89118bb8067eac69">TBB</a>,</div>
<div class="line"><a name="l02665"></a><span class="lineno"> 2665</span>&#160;                                    <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *&amp;FBB,</div>
<div class="line"><a name="l02666"></a><span class="lineno"> 2666</span>&#160;                                    <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;MachineOperand&gt;</a> &amp;<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>,</div>
<div class="line"><a name="l02667"></a><span class="lineno"> 2667</span>&#160;                                    <span class="keywordtype">bool</span> AllowModify)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l02668"></a><span class="lineno"> 2668</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getOpcode() == AMDGPU::S_BRANCH) {</div>
<div class="line"><a name="l02669"></a><span class="lineno"> 2669</span>&#160;    <span class="comment">// Unconditional Branch</span></div>
<div class="line"><a name="l02670"></a><span class="lineno"> 2670</span>&#160;    <a class="code" href="RISCVRedundantCopyElimination_8cpp.html#a1441f79530bc7f3a89118bb8067eac69">TBB</a> = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getOperand(0).getMBB();</div>
<div class="line"><a name="l02671"></a><span class="lineno"> 2671</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02672"></a><span class="lineno"> 2672</span>&#160;  }</div>
<div class="line"><a name="l02673"></a><span class="lineno"> 2673</span>&#160; </div>
<div class="line"><a name="l02674"></a><span class="lineno"> 2674</span>&#160;  <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *CondBB = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02675"></a><span class="lineno"> 2675</span>&#160; </div>
<div class="line"><a name="l02676"></a><span class="lineno"> 2676</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getOpcode() == AMDGPU::SI_NON_UNIFORM_BRCOND_PSEUDO) {</div>
<div class="line"><a name="l02677"></a><span class="lineno"> 2677</span>&#160;    CondBB = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getOperand(1).getMBB();</div>
<div class="line"><a name="l02678"></a><span class="lineno"> 2678</span>&#160;    <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>.push_back(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getOperand(0));</div>
<div class="line"><a name="l02679"></a><span class="lineno"> 2679</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02680"></a><span class="lineno"> 2680</span>&#160;    BranchPredicate Pred = getBranchPredicate(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getOpcode());</div>
<div class="line"><a name="l02681"></a><span class="lineno"> 2681</span>&#160;    <span class="keywordflow">if</span> (Pred == INVALID_BR)</div>
<div class="line"><a name="l02682"></a><span class="lineno"> 2682</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02683"></a><span class="lineno"> 2683</span>&#160; </div>
<div class="line"><a name="l02684"></a><span class="lineno"> 2684</span>&#160;    CondBB = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getOperand(0).getMBB();</div>
<div class="line"><a name="l02685"></a><span class="lineno"> 2685</span>&#160;    <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>.push_back(<a class="code" href="classllvm_1_1MachineOperand.html#ab09679b541a6ba1219b3602569847364">MachineOperand::CreateImm</a>(Pred));</div>
<div class="line"><a name="l02686"></a><span class="lineno"> 2686</span>&#160;    <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>.push_back(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getOperand(1)); <span class="comment">// Save the branch register.</span></div>
<div class="line"><a name="l02687"></a><span class="lineno"> 2687</span>&#160;  }</div>
<div class="line"><a name="l02688"></a><span class="lineno"> 2688</span>&#160;  ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div>
<div class="line"><a name="l02689"></a><span class="lineno"> 2689</span>&#160; </div>
<div class="line"><a name="l02690"></a><span class="lineno"> 2690</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> == <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">end</a>()) {</div>
<div class="line"><a name="l02691"></a><span class="lineno"> 2691</span>&#160;    <span class="comment">// Conditional branch followed by fall-through.</span></div>
<div class="line"><a name="l02692"></a><span class="lineno"> 2692</span>&#160;    <a class="code" href="RISCVRedundantCopyElimination_8cpp.html#a1441f79530bc7f3a89118bb8067eac69">TBB</a> = CondBB;</div>
<div class="line"><a name="l02693"></a><span class="lineno"> 2693</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02694"></a><span class="lineno"> 2694</span>&#160;  }</div>
<div class="line"><a name="l02695"></a><span class="lineno"> 2695</span>&#160; </div>
<div class="line"><a name="l02696"></a><span class="lineno"> 2696</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getOpcode() == AMDGPU::S_BRANCH) {</div>
<div class="line"><a name="l02697"></a><span class="lineno"> 2697</span>&#160;    <a class="code" href="RISCVRedundantCopyElimination_8cpp.html#a1441f79530bc7f3a89118bb8067eac69">TBB</a> = CondBB;</div>
<div class="line"><a name="l02698"></a><span class="lineno"> 2698</span>&#160;    FBB = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getOperand(0).getMBB();</div>
<div class="line"><a name="l02699"></a><span class="lineno"> 2699</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02700"></a><span class="lineno"> 2700</span>&#160;  }</div>
<div class="line"><a name="l02701"></a><span class="lineno"> 2701</span>&#160; </div>
<div class="line"><a name="l02702"></a><span class="lineno"> 2702</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02703"></a><span class="lineno"> 2703</span>&#160;}</div>
<div class="line"><a name="l02704"></a><span class="lineno"> 2704</span>&#160; </div>
<div class="line"><a name="l02705"></a><span class="lineno"><a class="line" href="classllvm_1_1SIInstrInfo.html#a324a232b4fdfd0993af2c0de8ab5a374"> 2705</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1SIInstrInfo.html#a324a232b4fdfd0993af2c0de8ab5a374">SIInstrInfo::analyzeBranch</a>(<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *&amp;<a class="code" href="RISCVRedundantCopyElimination_8cpp.html#a1441f79530bc7f3a89118bb8067eac69">TBB</a>,</div>
<div class="line"><a name="l02706"></a><span class="lineno"> 2706</span>&#160;                                <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *&amp;FBB,</div>
<div class="line"><a name="l02707"></a><span class="lineno"> 2707</span>&#160;                                <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;MachineOperand&gt;</a> &amp;<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>,</div>
<div class="line"><a name="l02708"></a><span class="lineno"> 2708</span>&#160;                                <span class="keywordtype">bool</span> AllowModify)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l02709"></a><span class="lineno"> 2709</span>&#160;  <a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a7f0521fa2de44271fd4b909ea7351ef3">getFirstTerminator</a>();</div>
<div class="line"><a name="l02710"></a><span class="lineno"> 2710</span>&#160;  <span class="keyword">auto</span> <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">end</a>();</div>
<div class="line"><a name="l02711"></a><span class="lineno"> 2711</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> == <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>)</div>
<div class="line"><a name="l02712"></a><span class="lineno"> 2712</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02713"></a><span class="lineno"> 2713</span>&#160; </div>
<div class="line"><a name="l02714"></a><span class="lineno"> 2714</span>&#160;  <span class="comment">// Skip over the instructions that are artificially terminators for special</span></div>
<div class="line"><a name="l02715"></a><span class="lineno"> 2715</span>&#160;  <span class="comment">// exec management.</span></div>
<div class="line"><a name="l02716"></a><span class="lineno"> 2716</span>&#160;  <span class="keywordflow">while</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> &amp;&amp; !<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;isBranch() &amp;&amp; !<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;isReturn()) {</div>
<div class="line"><a name="l02717"></a><span class="lineno"> 2717</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getOpcode()) {</div>
<div class="line"><a name="l02718"></a><span class="lineno"> 2718</span>&#160;    <span class="keywordflow">case</span> AMDGPU::S_MOV_B64_term:</div>
<div class="line"><a name="l02719"></a><span class="lineno"> 2719</span>&#160;    <span class="keywordflow">case</span> AMDGPU::S_XOR_B64_term:</div>
<div class="line"><a name="l02720"></a><span class="lineno"> 2720</span>&#160;    <span class="keywordflow">case</span> AMDGPU::S_OR_B64_term:</div>
<div class="line"><a name="l02721"></a><span class="lineno"> 2721</span>&#160;    <span class="keywordflow">case</span> AMDGPU::S_ANDN2_B64_term:</div>
<div class="line"><a name="l02722"></a><span class="lineno"> 2722</span>&#160;    <span class="keywordflow">case</span> AMDGPU::S_AND_B64_term:</div>
<div class="line"><a name="l02723"></a><span class="lineno"> 2723</span>&#160;    <span class="keywordflow">case</span> AMDGPU::S_MOV_B32_term:</div>
<div class="line"><a name="l02724"></a><span class="lineno"> 2724</span>&#160;    <span class="keywordflow">case</span> AMDGPU::S_XOR_B32_term:</div>
<div class="line"><a name="l02725"></a><span class="lineno"> 2725</span>&#160;    <span class="keywordflow">case</span> AMDGPU::S_OR_B32_term:</div>
<div class="line"><a name="l02726"></a><span class="lineno"> 2726</span>&#160;    <span class="keywordflow">case</span> AMDGPU::S_ANDN2_B32_term:</div>
<div class="line"><a name="l02727"></a><span class="lineno"> 2727</span>&#160;    <span class="keywordflow">case</span> AMDGPU::S_AND_B32_term:</div>
<div class="line"><a name="l02728"></a><span class="lineno"> 2728</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02729"></a><span class="lineno"> 2729</span>&#160;    <span class="keywordflow">case</span> AMDGPU::SI_IF:</div>
<div class="line"><a name="l02730"></a><span class="lineno"> 2730</span>&#160;    <span class="keywordflow">case</span> AMDGPU::SI_ELSE:</div>
<div class="line"><a name="l02731"></a><span class="lineno"> 2731</span>&#160;    <span class="keywordflow">case</span> AMDGPU::SI_KILL_I1_TERMINATOR:</div>
<div class="line"><a name="l02732"></a><span class="lineno"> 2732</span>&#160;    <span class="keywordflow">case</span> AMDGPU::SI_KILL_F32_COND_IMM_TERMINATOR:</div>
<div class="line"><a name="l02733"></a><span class="lineno"> 2733</span>&#160;      <span class="comment">// FIXME: It&#39;s messy that these need to be considered here at all.</span></div>
<div class="line"><a name="l02734"></a><span class="lineno"> 2734</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02735"></a><span class="lineno"> 2735</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l02736"></a><span class="lineno"> 2736</span>&#160;      <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;unexpected non-branch terminator inst&quot;</span>);</div>
<div class="line"><a name="l02737"></a><span class="lineno"> 2737</span>&#160;    }</div>
<div class="line"><a name="l02738"></a><span class="lineno"> 2738</span>&#160; </div>
<div class="line"><a name="l02739"></a><span class="lineno"> 2739</span>&#160;    ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div>
<div class="line"><a name="l02740"></a><span class="lineno"> 2740</span>&#160;  }</div>
<div class="line"><a name="l02741"></a><span class="lineno"> 2741</span>&#160; </div>
<div class="line"><a name="l02742"></a><span class="lineno"> 2742</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> == <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>)</div>
<div class="line"><a name="l02743"></a><span class="lineno"> 2743</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02744"></a><span class="lineno"> 2744</span>&#160; </div>
<div class="line"><a name="l02745"></a><span class="lineno"> 2745</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SIInstrInfo.html#a96da06741a80bacedc0da0469394eff3">analyzeBranchImpl</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="RISCVRedundantCopyElimination_8cpp.html#a1441f79530bc7f3a89118bb8067eac69">TBB</a>, FBB, <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>, AllowModify);</div>
<div class="line"><a name="l02746"></a><span class="lineno"> 2746</span>&#160;}</div>
<div class="line"><a name="l02747"></a><span class="lineno"> 2747</span>&#160; </div>
<div class="line"><a name="l02748"></a><span class="lineno"><a class="line" href="classllvm_1_1SIInstrInfo.html#ac6a93ad1fcae43e09eb8a6d4c55d79ca"> 2748</a></span>&#160;<span class="keywordtype">unsigned</span> <a class="code" href="classllvm_1_1SIInstrInfo.html#ac6a93ad1fcae43e09eb8a6d4c55d79ca">SIInstrInfo::removeBranch</a>(<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>,</div>
<div class="line"><a name="l02749"></a><span class="lineno"> 2749</span>&#160;                                   <span class="keywordtype">int</span> *BytesRemoved)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l02750"></a><span class="lineno"> 2750</span>&#160;  <span class="keywordtype">unsigned</span> Count = 0;</div>
<div class="line"><a name="l02751"></a><span class="lineno"> 2751</span>&#160;  <span class="keywordtype">unsigned</span> RemovedSize = 0;</div>
<div class="line"><a name="l02752"></a><span class="lineno"> 2752</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a> : <a class="code" href="namespacellvm.html#a8154638df88e4eaa568b67b23d463dac">llvm::make_early_inc_range</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a7f0540de8a453a7229e35264e8edd4ac">terminators</a>())) {</div>
<div class="line"><a name="l02753"></a><span class="lineno"> 2753</span>&#160;    <span class="comment">// Skip over artificial terminators when removing instructions.</span></div>
<div class="line"><a name="l02754"></a><span class="lineno"> 2754</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.isBranch() || <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.isReturn()) {</div>
<div class="line"><a name="l02755"></a><span class="lineno"> 2755</span>&#160;      RemovedSize += <a class="code" href="classllvm_1_1SIInstrInfo.html#a0ced2d6b15f87f297ec231c753e624e6">getInstSizeInBytes</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l02756"></a><span class="lineno"> 2756</span>&#160;      <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.eraseFromParent();</div>
<div class="line"><a name="l02757"></a><span class="lineno"> 2757</span>&#160;      ++Count;</div>
<div class="line"><a name="l02758"></a><span class="lineno"> 2758</span>&#160;    }</div>
<div class="line"><a name="l02759"></a><span class="lineno"> 2759</span>&#160;  }</div>
<div class="line"><a name="l02760"></a><span class="lineno"> 2760</span>&#160; </div>
<div class="line"><a name="l02761"></a><span class="lineno"> 2761</span>&#160;  <span class="keywordflow">if</span> (BytesRemoved)</div>
<div class="line"><a name="l02762"></a><span class="lineno"> 2762</span>&#160;    *BytesRemoved = RemovedSize;</div>
<div class="line"><a name="l02763"></a><span class="lineno"> 2763</span>&#160; </div>
<div class="line"><a name="l02764"></a><span class="lineno"> 2764</span>&#160;  <span class="keywordflow">return</span> Count;</div>
<div class="line"><a name="l02765"></a><span class="lineno"> 2765</span>&#160;}</div>
<div class="line"><a name="l02766"></a><span class="lineno"> 2766</span>&#160; </div>
<div class="line"><a name="l02767"></a><span class="lineno"> 2767</span>&#160;<span class="comment">// Copy the flags onto the implicit condition register operand.</span></div>
<div class="line"><a name="l02768"></a><span class="lineno"><a class="line" href="SIInstrInfo_8cpp.html#a7fc0854a9d3fced0dedf2c7f61fe7a72"> 2768</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="SIInstrInfo_8cpp.html#a7fc0854a9d3fced0dedf2c7f61fe7a72">preserveCondRegFlags</a>(<a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;CondReg,</div>
<div class="line"><a name="l02769"></a><span class="lineno"> 2769</span>&#160;                                 <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;OrigCond) {</div>
<div class="line"><a name="l02770"></a><span class="lineno"> 2770</span>&#160;  CondReg.<a class="code" href="classllvm_1_1MachineOperand.html#ab979122f21b7fa46d3d2d9b21983068b">setIsUndef</a>(OrigCond.<a class="code" href="classllvm_1_1MachineOperand.html#a1255befbcd6e034394681b1bcd3529ff">isUndef</a>());</div>
<div class="line"><a name="l02771"></a><span class="lineno"> 2771</span>&#160;  CondReg.<a class="code" href="classllvm_1_1MachineOperand.html#a8a82683fccdef8a5ef772ef03277aee7">setIsKill</a>(OrigCond.<a class="code" href="classllvm_1_1MachineOperand.html#a4046212ebc647b17e811837ae4ea3afd">isKill</a>());</div>
<div class="line"><a name="l02772"></a><span class="lineno"> 2772</span>&#160;}</div>
<div class="line"><a name="l02773"></a><span class="lineno"> 2773</span>&#160; </div>
<div class="line"><a name="l02774"></a><span class="lineno"><a class="line" href="classllvm_1_1SIInstrInfo.html#ad73e9b3e610bd8cac60e740a61fcf5bf"> 2774</a></span>&#160;<span class="keywordtype">unsigned</span> <a class="code" href="classllvm_1_1SIInstrInfo.html#ad73e9b3e610bd8cac60e740a61fcf5bf">SIInstrInfo::insertBranch</a>(<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>,</div>
<div class="line"><a name="l02775"></a><span class="lineno"> 2775</span>&#160;                                   <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *<a class="code" href="RISCVRedundantCopyElimination_8cpp.html#a1441f79530bc7f3a89118bb8067eac69">TBB</a>,</div>
<div class="line"><a name="l02776"></a><span class="lineno"> 2776</span>&#160;                                   <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *FBB,</div>
<div class="line"><a name="l02777"></a><span class="lineno"> 2777</span>&#160;                                   <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;MachineOperand&gt;</a> <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>,</div>
<div class="line"><a name="l02778"></a><span class="lineno"> 2778</span>&#160;                                   <span class="keyword">const</span> <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>,</div>
<div class="line"><a name="l02779"></a><span class="lineno"> 2779</span>&#160;                                   <span class="keywordtype">int</span> *BytesAdded)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l02780"></a><span class="lineno"> 2780</span>&#160;  <span class="keywordflow">if</span> (!FBB &amp;&amp; <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>.empty()) {</div>
<div class="line"><a name="l02781"></a><span class="lineno"> 2781</span>&#160;    <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(&amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::S_BRANCH))</div>
<div class="line"><a name="l02782"></a><span class="lineno"> 2782</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#af8571e8dfb010fd8ae76cc4f87aafaac">addMBB</a>(<a class="code" href="RISCVRedundantCopyElimination_8cpp.html#a1441f79530bc7f3a89118bb8067eac69">TBB</a>);</div>
<div class="line"><a name="l02783"></a><span class="lineno"> 2783</span>&#160;    <span class="keywordflow">if</span> (BytesAdded)</div>
<div class="line"><a name="l02784"></a><span class="lineno"> 2784</span>&#160;      *BytesAdded = ST.<a class="code" href="classllvm_1_1GCNSubtarget.html#a42ffba7488c6f98d42703852d9d83361">hasOffset3fBug</a>() ? 8 : 4;</div>
<div class="line"><a name="l02785"></a><span class="lineno"> 2785</span>&#160;    <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l02786"></a><span class="lineno"> 2786</span>&#160;  }</div>
<div class="line"><a name="l02787"></a><span class="lineno"> 2787</span>&#160; </div>
<div class="line"><a name="l02788"></a><span class="lineno"> 2788</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>.size() == 1 &amp;&amp; <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>[0].isReg()) {</div>
<div class="line"><a name="l02789"></a><span class="lineno"> 2789</span>&#160;     <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(&amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::SI_NON_UNIFORM_BRCOND_PSEUDO))</div>
<div class="line"><a name="l02790"></a><span class="lineno"> 2790</span>&#160;       .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a1ac8d27532cfd1d1f032ecbff2ba3611">add</a>(<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>[0])</div>
<div class="line"><a name="l02791"></a><span class="lineno"> 2791</span>&#160;       .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#af8571e8dfb010fd8ae76cc4f87aafaac">addMBB</a>(<a class="code" href="RISCVRedundantCopyElimination_8cpp.html#a1441f79530bc7f3a89118bb8067eac69">TBB</a>);</div>
<div class="line"><a name="l02792"></a><span class="lineno"> 2792</span>&#160;     <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l02793"></a><span class="lineno"> 2793</span>&#160;  }</div>
<div class="line"><a name="l02794"></a><span class="lineno"> 2794</span>&#160; </div>
<div class="line"><a name="l02795"></a><span class="lineno"> 2795</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="RISCVRedundantCopyElimination_8cpp.html#a1441f79530bc7f3a89118bb8067eac69">TBB</a> &amp;&amp; <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>[0].<a class="code" href="SPIRVInstructionSelector_8cpp.html#a6fe0144adffd7bad0aeca668f4468b28">isImm</a>());</div>
<div class="line"><a name="l02796"></a><span class="lineno"> 2796</span>&#160; </div>
<div class="line"><a name="l02797"></a><span class="lineno"> 2797</span>&#160;  <span class="keywordtype">unsigned</span> Opcode</div>
<div class="line"><a name="l02798"></a><span class="lineno"> 2798</span>&#160;    = getBranchOpcode(<span class="keyword">static_cast&lt;</span>BranchPredicate<span class="keyword">&gt;</span>(<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>[0].getImm()));</div>
<div class="line"><a name="l02799"></a><span class="lineno"> 2799</span>&#160; </div>
<div class="line"><a name="l02800"></a><span class="lineno"> 2800</span>&#160;  <span class="keywordflow">if</span> (!FBB) {</div>
<div class="line"><a name="l02801"></a><span class="lineno"> 2801</span>&#160;    <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>[1].isUndef();</div>
<div class="line"><a name="l02802"></a><span class="lineno"> 2802</span>&#160;    <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *CondBr =</div>
<div class="line"><a name="l02803"></a><span class="lineno"> 2803</span>&#160;      <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(&amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(Opcode))</div>
<div class="line"><a name="l02804"></a><span class="lineno"> 2804</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#af8571e8dfb010fd8ae76cc4f87aafaac">addMBB</a>(<a class="code" href="RISCVRedundantCopyElimination_8cpp.html#a1441f79530bc7f3a89118bb8067eac69">TBB</a>);</div>
<div class="line"><a name="l02805"></a><span class="lineno"> 2805</span>&#160; </div>
<div class="line"><a name="l02806"></a><span class="lineno"> 2806</span>&#160;    <span class="comment">// Copy the flags onto the implicit condition register operand.</span></div>
<div class="line"><a name="l02807"></a><span class="lineno"> 2807</span>&#160;    <a class="code" href="SIInstrInfo_8cpp.html#a7fc0854a9d3fced0dedf2c7f61fe7a72">preserveCondRegFlags</a>(CondBr-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(1), <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>[1]);</div>
<div class="line"><a name="l02808"></a><span class="lineno"> 2808</span>&#160;    <a class="code" href="classllvm_1_1SIInstrInfo.html#ac76905a82cf568afc14dd95691c867f0">fixImplicitOperands</a>(*CondBr);</div>
<div class="line"><a name="l02809"></a><span class="lineno"> 2809</span>&#160; </div>
<div class="line"><a name="l02810"></a><span class="lineno"> 2810</span>&#160;    <span class="keywordflow">if</span> (BytesAdded)</div>
<div class="line"><a name="l02811"></a><span class="lineno"> 2811</span>&#160;      *BytesAdded = ST.<a class="code" href="classllvm_1_1GCNSubtarget.html#a42ffba7488c6f98d42703852d9d83361">hasOffset3fBug</a>() ? 8 : 4;</div>
<div class="line"><a name="l02812"></a><span class="lineno"> 2812</span>&#160;    <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l02813"></a><span class="lineno"> 2813</span>&#160;  }</div>
<div class="line"><a name="l02814"></a><span class="lineno"> 2814</span>&#160; </div>
<div class="line"><a name="l02815"></a><span class="lineno"> 2815</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="RISCVRedundantCopyElimination_8cpp.html#a1441f79530bc7f3a89118bb8067eac69">TBB</a> &amp;&amp; FBB);</div>
<div class="line"><a name="l02816"></a><span class="lineno"> 2816</span>&#160; </div>
<div class="line"><a name="l02817"></a><span class="lineno"> 2817</span>&#160;  <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *CondBr =</div>
<div class="line"><a name="l02818"></a><span class="lineno"> 2818</span>&#160;    <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(&amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(Opcode))</div>
<div class="line"><a name="l02819"></a><span class="lineno"> 2819</span>&#160;    .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#af8571e8dfb010fd8ae76cc4f87aafaac">addMBB</a>(<a class="code" href="RISCVRedundantCopyElimination_8cpp.html#a1441f79530bc7f3a89118bb8067eac69">TBB</a>);</div>
<div class="line"><a name="l02820"></a><span class="lineno"> 2820</span>&#160;  <a class="code" href="classllvm_1_1SIInstrInfo.html#ac76905a82cf568afc14dd95691c867f0">fixImplicitOperands</a>(*CondBr);</div>
<div class="line"><a name="l02821"></a><span class="lineno"> 2821</span>&#160;  <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(&amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::S_BRANCH))</div>
<div class="line"><a name="l02822"></a><span class="lineno"> 2822</span>&#160;    .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#af8571e8dfb010fd8ae76cc4f87aafaac">addMBB</a>(FBB);</div>
<div class="line"><a name="l02823"></a><span class="lineno"> 2823</span>&#160; </div>
<div class="line"><a name="l02824"></a><span class="lineno"> 2824</span>&#160;  <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;CondReg = CondBr-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(1);</div>
<div class="line"><a name="l02825"></a><span class="lineno"> 2825</span>&#160;  CondReg.<a class="code" href="classllvm_1_1MachineOperand.html#ab979122f21b7fa46d3d2d9b21983068b">setIsUndef</a>(<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>[1].<a class="code" href="HexagonISelDAGToDAGHVX_8cpp.html#a3389e6c42731436e57f87a2cd630bf49">isUndef</a>());</div>
<div class="line"><a name="l02826"></a><span class="lineno"> 2826</span>&#160;  CondReg.<a class="code" href="classllvm_1_1MachineOperand.html#a8a82683fccdef8a5ef772ef03277aee7">setIsKill</a>(<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>[1].isKill());</div>
<div class="line"><a name="l02827"></a><span class="lineno"> 2827</span>&#160; </div>
<div class="line"><a name="l02828"></a><span class="lineno"> 2828</span>&#160;  <span class="keywordflow">if</span> (BytesAdded)</div>
<div class="line"><a name="l02829"></a><span class="lineno"> 2829</span>&#160;    *BytesAdded = ST.<a class="code" href="classllvm_1_1GCNSubtarget.html#a42ffba7488c6f98d42703852d9d83361">hasOffset3fBug</a>() ? 16 : 8;</div>
<div class="line"><a name="l02830"></a><span class="lineno"> 2830</span>&#160; </div>
<div class="line"><a name="l02831"></a><span class="lineno"> 2831</span>&#160;  <span class="keywordflow">return</span> 2;</div>
<div class="line"><a name="l02832"></a><span class="lineno"> 2832</span>&#160;}</div>
<div class="line"><a name="l02833"></a><span class="lineno"> 2833</span>&#160; </div>
<div class="line"><a name="l02834"></a><span class="lineno"><a class="line" href="classllvm_1_1SIInstrInfo.html#a4d8d351faef4293dcc8a164ce2f87d5c"> 2834</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1SIInstrInfo.html#a4d8d351faef4293dcc8a164ce2f87d5c">SIInstrInfo::reverseBranchCondition</a>(</div>
<div class="line"><a name="l02835"></a><span class="lineno"> 2835</span>&#160;  <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;MachineOperand&gt;</a> &amp;<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l02836"></a><span class="lineno"> 2836</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>.size() != 2) {</div>
<div class="line"><a name="l02837"></a><span class="lineno"> 2837</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02838"></a><span class="lineno"> 2838</span>&#160;  }</div>
<div class="line"><a name="l02839"></a><span class="lineno"> 2839</span>&#160; </div>
<div class="line"><a name="l02840"></a><span class="lineno"> 2840</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>[0].<a class="code" href="SPIRVInstructionSelector_8cpp.html#a6fe0144adffd7bad0aeca668f4468b28">isImm</a>()) {</div>
<div class="line"><a name="l02841"></a><span class="lineno"> 2841</span>&#160;    <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>[0].setImm(-<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>[0].getImm());</div>
<div class="line"><a name="l02842"></a><span class="lineno"> 2842</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02843"></a><span class="lineno"> 2843</span>&#160;  }</div>
<div class="line"><a name="l02844"></a><span class="lineno"> 2844</span>&#160; </div>
<div class="line"><a name="l02845"></a><span class="lineno"> 2845</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02846"></a><span class="lineno"> 2846</span>&#160;}</div>
<div class="line"><a name="l02847"></a><span class="lineno"> 2847</span>&#160; </div>
<div class="line"><a name="l02848"></a><span class="lineno"><a class="line" href="classllvm_1_1SIInstrInfo.html#acf5805a583f1403b04347f8c0f5df005"> 2848</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1SIInstrInfo.html#acf5805a583f1403b04347f8c0f5df005">SIInstrInfo::canInsertSelect</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>,</div>
<div class="line"><a name="l02849"></a><span class="lineno"> 2849</span>&#160;                                  <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;MachineOperand&gt;</a> <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>,</div>
<div class="line"><a name="l02850"></a><span class="lineno"> 2850</span>&#160;                                  <a class="code" href="classllvm_1_1Register.html">Register</a> DstReg, <a class="code" href="classllvm_1_1Register.html">Register</a> TrueReg,</div>
<div class="line"><a name="l02851"></a><span class="lineno"> 2851</span>&#160;                                  <a class="code" href="classllvm_1_1Register.html">Register</a> FalseReg, <span class="keywordtype">int</span> &amp;CondCycles,</div>
<div class="line"><a name="l02852"></a><span class="lineno"> 2852</span>&#160;                                  <span class="keywordtype">int</span> &amp;TrueCycles, <span class="keywordtype">int</span> &amp;FalseCycles)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l02853"></a><span class="lineno"> 2853</span>&#160;  <span class="keywordflow">switch</span> (<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>[0].getImm()) {</div>
<div class="line"><a name="l02854"></a><span class="lineno"> 2854</span>&#160;  <span class="keywordflow">case</span> VCCNZ:</div>
<div class="line"><a name="l02855"></a><span class="lineno"> 2855</span>&#160;  <span class="keywordflow">case</span> VCCZ: {</div>
<div class="line"><a name="l02856"></a><span class="lineno"> 2856</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a> = <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a4e21760f681d6f97f95c8414e7b83ea5">getParent</a>()-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>();</div>
<div class="line"><a name="l02857"></a><span class="lineno"> 2857</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *RC = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#aa363afffca4fc13a709673936b47fe33">getRegClass</a>(TrueReg);</div>
<div class="line"><a name="l02858"></a><span class="lineno"> 2858</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#aa363afffca4fc13a709673936b47fe33">getRegClass</a>(FalseReg) != RC)</div>
<div class="line"><a name="l02859"></a><span class="lineno"> 2859</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02860"></a><span class="lineno"> 2860</span>&#160; </div>
<div class="line"><a name="l02861"></a><span class="lineno"> 2861</span>&#160;    <span class="keywordtype">int</span> NumInsts = <a class="code" href="namespacellvm_1_1AMDGPU.html#a4d8680fb761cf1d88232de86f8fcecba">AMDGPU::getRegBitWidth</a>(RC-&gt;<a class="code" href="classllvm_1_1TargetRegisterClass.html#a32a8b65536822d50171455a6baa81da7">getID</a>()) / 32;</div>
<div class="line"><a name="l02862"></a><span class="lineno"> 2862</span>&#160;    CondCycles = TrueCycles = FalseCycles = NumInsts; <span class="comment">// ???</span></div>
<div class="line"><a name="l02863"></a><span class="lineno"> 2863</span>&#160; </div>
<div class="line"><a name="l02864"></a><span class="lineno"> 2864</span>&#160;    <span class="comment">// Limit to equal cost for branch vs. N v_cndmask_b32s.</span></div>
<div class="line"><a name="l02865"></a><span class="lineno"> 2865</span>&#160;    <span class="keywordflow">return</span> RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#a8cb8776ee5f539fe6391a6d521af25f1">hasVGPRs</a>(RC) &amp;&amp; NumInsts &lt;= 6;</div>
<div class="line"><a name="l02866"></a><span class="lineno"> 2866</span>&#160;  }</div>
<div class="line"><a name="l02867"></a><span class="lineno"> 2867</span>&#160;  <span class="keywordflow">case</span> SCC_TRUE:</div>
<div class="line"><a name="l02868"></a><span class="lineno"> 2868</span>&#160;  <span class="keywordflow">case</span> SCC_FALSE: {</div>
<div class="line"><a name="l02869"></a><span class="lineno"> 2869</span>&#160;    <span class="comment">// FIXME: We could insert for VGPRs if we could replace the original compare</span></div>
<div class="line"><a name="l02870"></a><span class="lineno"> 2870</span>&#160;    <span class="comment">// with a vector one.</span></div>
<div class="line"><a name="l02871"></a><span class="lineno"> 2871</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a> = <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a4e21760f681d6f97f95c8414e7b83ea5">getParent</a>()-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>();</div>
<div class="line"><a name="l02872"></a><span class="lineno"> 2872</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *RC = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#aa363afffca4fc13a709673936b47fe33">getRegClass</a>(TrueReg);</div>
<div class="line"><a name="l02873"></a><span class="lineno"> 2873</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#aa363afffca4fc13a709673936b47fe33">getRegClass</a>(FalseReg) != RC)</div>
<div class="line"><a name="l02874"></a><span class="lineno"> 2874</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02875"></a><span class="lineno"> 2875</span>&#160; </div>
<div class="line"><a name="l02876"></a><span class="lineno"> 2876</span>&#160;    <span class="keywordtype">int</span> NumInsts = <a class="code" href="namespacellvm_1_1AMDGPU.html#a4d8680fb761cf1d88232de86f8fcecba">AMDGPU::getRegBitWidth</a>(RC-&gt;<a class="code" href="classllvm_1_1TargetRegisterClass.html#a32a8b65536822d50171455a6baa81da7">getID</a>()) / 32;</div>
<div class="line"><a name="l02877"></a><span class="lineno"> 2877</span>&#160; </div>
<div class="line"><a name="l02878"></a><span class="lineno"> 2878</span>&#160;    <span class="comment">// Multiples of 8 can do s_cselect_b64</span></div>
<div class="line"><a name="l02879"></a><span class="lineno"> 2879</span>&#160;    <span class="keywordflow">if</span> (NumInsts % 2 == 0)</div>
<div class="line"><a name="l02880"></a><span class="lineno"> 2880</span>&#160;      NumInsts /= 2;</div>
<div class="line"><a name="l02881"></a><span class="lineno"> 2881</span>&#160; </div>
<div class="line"><a name="l02882"></a><span class="lineno"> 2882</span>&#160;    CondCycles = TrueCycles = FalseCycles = NumInsts; <span class="comment">// ???</span></div>
<div class="line"><a name="l02883"></a><span class="lineno"> 2883</span>&#160;    <span class="keywordflow">return</span> RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#af58d646af8dd60e4e514303dfa81de9c">isSGPRClass</a>(RC);</div>
<div class="line"><a name="l02884"></a><span class="lineno"> 2884</span>&#160;  }</div>
<div class="line"><a name="l02885"></a><span class="lineno"> 2885</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l02886"></a><span class="lineno"> 2886</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02887"></a><span class="lineno"> 2887</span>&#160;  }</div>
<div class="line"><a name="l02888"></a><span class="lineno"> 2888</span>&#160;}</div>
<div class="line"><a name="l02889"></a><span class="lineno"> 2889</span>&#160; </div>
<div class="line"><a name="l02890"></a><span class="lineno"><a class="line" href="classllvm_1_1SIInstrInfo.html#a953f3ddec823a0c7db75e73dbf550632"> 2890</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1SIInstrInfo.html#a953f3ddec823a0c7db75e73dbf550632">SIInstrInfo::insertSelect</a>(<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>,</div>
<div class="line"><a name="l02891"></a><span class="lineno"> 2891</span>&#160;                               <a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>,</div>
<div class="line"><a name="l02892"></a><span class="lineno"> 2892</span>&#160;                               <a class="code" href="classllvm_1_1Register.html">Register</a> DstReg, <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;MachineOperand&gt;</a> <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>,</div>
<div class="line"><a name="l02893"></a><span class="lineno"> 2893</span>&#160;                               <a class="code" href="classllvm_1_1Register.html">Register</a> TrueReg, <a class="code" href="classllvm_1_1Register.html">Register</a> FalseReg)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l02894"></a><span class="lineno"> 2894</span>&#160;  BranchPredicate Pred = <span class="keyword">static_cast&lt;</span>BranchPredicate<span class="keyword">&gt;</span>(<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>[0].getImm());</div>
<div class="line"><a name="l02895"></a><span class="lineno"> 2895</span>&#160;  <span class="keywordflow">if</span> (Pred == VCCZ || Pred == SCC_FALSE) {</div>
<div class="line"><a name="l02896"></a><span class="lineno"> 2896</span>&#160;    Pred = <span class="keyword">static_cast&lt;</span>BranchPredicate<span class="keyword">&gt;</span>(-Pred);</div>
<div class="line"><a name="l02897"></a><span class="lineno"> 2897</span>&#160;    <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(TrueReg, FalseReg);</div>
<div class="line"><a name="l02898"></a><span class="lineno"> 2898</span>&#160;  }</div>
<div class="line"><a name="l02899"></a><span class="lineno"> 2899</span>&#160; </div>
<div class="line"><a name="l02900"></a><span class="lineno"> 2900</span>&#160;  <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a> = <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a4e21760f681d6f97f95c8414e7b83ea5">getParent</a>()-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>();</div>
<div class="line"><a name="l02901"></a><span class="lineno"> 2901</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *DstRC = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#aa363afffca4fc13a709673936b47fe33">getRegClass</a>(DstReg);</div>
<div class="line"><a name="l02902"></a><span class="lineno"> 2902</span>&#160;  <span class="keywordtype">unsigned</span> DstSize = RI.getRegSizeInBits(*DstRC);</div>
<div class="line"><a name="l02903"></a><span class="lineno"> 2903</span>&#160; </div>
<div class="line"><a name="l02904"></a><span class="lineno"> 2904</span>&#160;  <span class="keywordflow">if</span> (DstSize == 32) {</div>
<div class="line"><a name="l02905"></a><span class="lineno"> 2905</span>&#160;    <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="AMDGPURegBankSelect_8cpp.html#a14e0c000ed52e5fc187d4a885914cc1a">Select</a>;</div>
<div class="line"><a name="l02906"></a><span class="lineno"> 2906</span>&#160;    <span class="keywordflow">if</span> (Pred == SCC_TRUE) {</div>
<div class="line"><a name="l02907"></a><span class="lineno"> 2907</span>&#160;      <a class="code" href="AMDGPURegBankSelect_8cpp.html#a14e0c000ed52e5fc187d4a885914cc1a">Select</a> = <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::S_CSELECT_B32), DstReg)</div>
<div class="line"><a name="l02908"></a><span class="lineno"> 2908</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(TrueReg)</div>
<div class="line"><a name="l02909"></a><span class="lineno"> 2909</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(FalseReg);</div>
<div class="line"><a name="l02910"></a><span class="lineno"> 2910</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02911"></a><span class="lineno"> 2911</span>&#160;      <span class="comment">// Instruction&#39;s operands are backwards from what is expected.</span></div>
<div class="line"><a name="l02912"></a><span class="lineno"> 2912</span>&#160;      <a class="code" href="AMDGPURegBankSelect_8cpp.html#a14e0c000ed52e5fc187d4a885914cc1a">Select</a> = <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::V_CNDMASK_B32_e32), DstReg)</div>
<div class="line"><a name="l02913"></a><span class="lineno"> 2913</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(FalseReg)</div>
<div class="line"><a name="l02914"></a><span class="lineno"> 2914</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(TrueReg);</div>
<div class="line"><a name="l02915"></a><span class="lineno"> 2915</span>&#160;    }</div>
<div class="line"><a name="l02916"></a><span class="lineno"> 2916</span>&#160; </div>
<div class="line"><a name="l02917"></a><span class="lineno"> 2917</span>&#160;    <a class="code" href="SIInstrInfo_8cpp.html#a7fc0854a9d3fced0dedf2c7f61fe7a72">preserveCondRegFlags</a>(<a class="code" href="AMDGPURegBankSelect_8cpp.html#a14e0c000ed52e5fc187d4a885914cc1a">Select</a>-&gt;getOperand(3), <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>[1]);</div>
<div class="line"><a name="l02918"></a><span class="lineno"> 2918</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02919"></a><span class="lineno"> 2919</span>&#160;  }</div>
<div class="line"><a name="l02920"></a><span class="lineno"> 2920</span>&#160; </div>
<div class="line"><a name="l02921"></a><span class="lineno"> 2921</span>&#160;  <span class="keywordflow">if</span> (DstSize == 64 &amp;&amp; Pred == SCC_TRUE) {</div>
<div class="line"><a name="l02922"></a><span class="lineno"> 2922</span>&#160;    <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="AMDGPURegBankSelect_8cpp.html#a14e0c000ed52e5fc187d4a885914cc1a">Select</a> =</div>
<div class="line"><a name="l02923"></a><span class="lineno"> 2923</span>&#160;      <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::S_CSELECT_B64), DstReg)</div>
<div class="line"><a name="l02924"></a><span class="lineno"> 2924</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(TrueReg)</div>
<div class="line"><a name="l02925"></a><span class="lineno"> 2925</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(FalseReg);</div>
<div class="line"><a name="l02926"></a><span class="lineno"> 2926</span>&#160; </div>
<div class="line"><a name="l02927"></a><span class="lineno"> 2927</span>&#160;    <a class="code" href="SIInstrInfo_8cpp.html#a7fc0854a9d3fced0dedf2c7f61fe7a72">preserveCondRegFlags</a>(<a class="code" href="AMDGPURegBankSelect_8cpp.html#a14e0c000ed52e5fc187d4a885914cc1a">Select</a>-&gt;getOperand(3), <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>[1]);</div>
<div class="line"><a name="l02928"></a><span class="lineno"> 2928</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02929"></a><span class="lineno"> 2929</span>&#160;  }</div>
<div class="line"><a name="l02930"></a><span class="lineno"> 2930</span>&#160; </div>
<div class="line"><a name="l02931"></a><span class="lineno"> 2931</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> int16_t Sub0_15[] = {</div>
<div class="line"><a name="l02932"></a><span class="lineno"> 2932</span>&#160;    AMDGPU::sub0, AMDGPU::sub1, AMDGPU::sub2, AMDGPU::sub3,</div>
<div class="line"><a name="l02933"></a><span class="lineno"> 2933</span>&#160;    AMDGPU::sub4, AMDGPU::sub5, AMDGPU::sub6, AMDGPU::sub7,</div>
<div class="line"><a name="l02934"></a><span class="lineno"> 2934</span>&#160;    AMDGPU::sub8, AMDGPU::sub9, AMDGPU::sub10, AMDGPU::sub11,</div>
<div class="line"><a name="l02935"></a><span class="lineno"> 2935</span>&#160;    AMDGPU::sub12, AMDGPU::sub13, AMDGPU::sub14, AMDGPU::sub15,</div>
<div class="line"><a name="l02936"></a><span class="lineno"> 2936</span>&#160;  };</div>
<div class="line"><a name="l02937"></a><span class="lineno"> 2937</span>&#160; </div>
<div class="line"><a name="l02938"></a><span class="lineno"> 2938</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> int16_t Sub0_15_64[] = {</div>
<div class="line"><a name="l02939"></a><span class="lineno"> 2939</span>&#160;    AMDGPU::sub0_sub1, AMDGPU::sub2_sub3,</div>
<div class="line"><a name="l02940"></a><span class="lineno"> 2940</span>&#160;    AMDGPU::sub4_sub5, AMDGPU::sub6_sub7,</div>
<div class="line"><a name="l02941"></a><span class="lineno"> 2941</span>&#160;    AMDGPU::sub8_sub9, AMDGPU::sub10_sub11,</div>
<div class="line"><a name="l02942"></a><span class="lineno"> 2942</span>&#160;    AMDGPU::sub12_sub13, AMDGPU::sub14_sub15,</div>
<div class="line"><a name="l02943"></a><span class="lineno"> 2943</span>&#160;  };</div>
<div class="line"><a name="l02944"></a><span class="lineno"> 2944</span>&#160; </div>
<div class="line"><a name="l02945"></a><span class="lineno"> 2945</span>&#160;  <span class="keywordtype">unsigned</span> SelOp = AMDGPU::V_CNDMASK_B32_e32;</div>
<div class="line"><a name="l02946"></a><span class="lineno"> 2946</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *EltRC = &amp;AMDGPU::VGPR_32RegClass;</div>
<div class="line"><a name="l02947"></a><span class="lineno"> 2947</span>&#160;  <span class="keyword">const</span> int16_t *SubIndices = Sub0_15;</div>
<div class="line"><a name="l02948"></a><span class="lineno"> 2948</span>&#160;  <span class="keywordtype">int</span> NElts = DstSize / 32;</div>
<div class="line"><a name="l02949"></a><span class="lineno"> 2949</span>&#160; </div>
<div class="line"><a name="l02950"></a><span class="lineno"> 2950</span>&#160;  <span class="comment">// 64-bit select is only available for SALU.</span></div>
<div class="line"><a name="l02951"></a><span class="lineno"> 2951</span>&#160;  <span class="comment">// TODO: Split 96-bit into 64-bit and 32-bit, not 3x 32-bit.</span></div>
<div class="line"><a name="l02952"></a><span class="lineno"> 2952</span>&#160;  <span class="keywordflow">if</span> (Pred == SCC_TRUE) {</div>
<div class="line"><a name="l02953"></a><span class="lineno"> 2953</span>&#160;    <span class="keywordflow">if</span> (NElts % 2) {</div>
<div class="line"><a name="l02954"></a><span class="lineno"> 2954</span>&#160;      SelOp = AMDGPU::S_CSELECT_B32;</div>
<div class="line"><a name="l02955"></a><span class="lineno"> 2955</span>&#160;      EltRC = &amp;AMDGPU::SGPR_32RegClass;</div>
<div class="line"><a name="l02956"></a><span class="lineno"> 2956</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02957"></a><span class="lineno"> 2957</span>&#160;      SelOp = AMDGPU::S_CSELECT_B64;</div>
<div class="line"><a name="l02958"></a><span class="lineno"> 2958</span>&#160;      EltRC = &amp;AMDGPU::SGPR_64RegClass;</div>
<div class="line"><a name="l02959"></a><span class="lineno"> 2959</span>&#160;      SubIndices = Sub0_15_64;</div>
<div class="line"><a name="l02960"></a><span class="lineno"> 2960</span>&#160;      NElts /= 2;</div>
<div class="line"><a name="l02961"></a><span class="lineno"> 2961</span>&#160;    }</div>
<div class="line"><a name="l02962"></a><span class="lineno"> 2962</span>&#160;  }</div>
<div class="line"><a name="l02963"></a><span class="lineno"> 2963</span>&#160; </div>
<div class="line"><a name="l02964"></a><span class="lineno"> 2964</span>&#160;  <a class="code" href="classllvm_1_1MachineInstrBuilder.html">MachineInstrBuilder</a> MIB = <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(</div>
<div class="line"><a name="l02965"></a><span class="lineno"> 2965</span>&#160;    <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::REG_SEQUENCE), DstReg);</div>
<div class="line"><a name="l02966"></a><span class="lineno"> 2966</span>&#160; </div>
<div class="line"><a name="l02967"></a><span class="lineno"> 2967</span>&#160;  <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = MIB-&gt;<a class="code" href="classllvm_1_1ilist__node__impl.html#af719fc783be6589465137d997701a432">getIterator</a>();</div>
<div class="line"><a name="l02968"></a><span class="lineno"> 2968</span>&#160; </div>
<div class="line"><a name="l02969"></a><span class="lineno"> 2969</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Register, 8&gt;</a> Regs;</div>
<div class="line"><a name="l02970"></a><span class="lineno"> 2970</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> Idx = 0; Idx != NElts; ++Idx) {</div>
<div class="line"><a name="l02971"></a><span class="lineno"> 2971</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> DstElt = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5c77792a06583e0fe7a0379ad94a2809">createVirtualRegister</a>(EltRC);</div>
<div class="line"><a name="l02972"></a><span class="lineno"> 2972</span>&#160;    Regs.push_back(DstElt);</div>
<div class="line"><a name="l02973"></a><span class="lineno"> 2973</span>&#160; </div>
<div class="line"><a name="l02974"></a><span class="lineno"> 2974</span>&#160;    <span class="keywordtype">unsigned</span> SubIdx = SubIndices[Idx];</div>
<div class="line"><a name="l02975"></a><span class="lineno"> 2975</span>&#160; </div>
<div class="line"><a name="l02976"></a><span class="lineno"> 2976</span>&#160;    <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="AMDGPURegBankSelect_8cpp.html#a14e0c000ed52e5fc187d4a885914cc1a">Select</a>;</div>
<div class="line"><a name="l02977"></a><span class="lineno"> 2977</span>&#160;    <span class="keywordflow">if</span> (SelOp == AMDGPU::V_CNDMASK_B32_e32) {</div>
<div class="line"><a name="l02978"></a><span class="lineno"> 2978</span>&#160;      <a class="code" href="AMDGPURegBankSelect_8cpp.html#a14e0c000ed52e5fc187d4a885914cc1a">Select</a> =</div>
<div class="line"><a name="l02979"></a><span class="lineno"> 2979</span>&#160;        <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(SelOp), DstElt)</div>
<div class="line"><a name="l02980"></a><span class="lineno"> 2980</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(FalseReg, 0, SubIdx)</div>
<div class="line"><a name="l02981"></a><span class="lineno"> 2981</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(TrueReg, 0, SubIdx);</div>
<div class="line"><a name="l02982"></a><span class="lineno"> 2982</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02983"></a><span class="lineno"> 2983</span>&#160;      <a class="code" href="AMDGPURegBankSelect_8cpp.html#a14e0c000ed52e5fc187d4a885914cc1a">Select</a> =</div>
<div class="line"><a name="l02984"></a><span class="lineno"> 2984</span>&#160;        <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(SelOp), DstElt)</div>
<div class="line"><a name="l02985"></a><span class="lineno"> 2985</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(TrueReg, 0, SubIdx)</div>
<div class="line"><a name="l02986"></a><span class="lineno"> 2986</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(FalseReg, 0, SubIdx);</div>
<div class="line"><a name="l02987"></a><span class="lineno"> 2987</span>&#160;    }</div>
<div class="line"><a name="l02988"></a><span class="lineno"> 2988</span>&#160; </div>
<div class="line"><a name="l02989"></a><span class="lineno"> 2989</span>&#160;    <a class="code" href="SIInstrInfo_8cpp.html#a7fc0854a9d3fced0dedf2c7f61fe7a72">preserveCondRegFlags</a>(<a class="code" href="AMDGPURegBankSelect_8cpp.html#a14e0c000ed52e5fc187d4a885914cc1a">Select</a>-&gt;getOperand(3), <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>[1]);</div>
<div class="line"><a name="l02990"></a><span class="lineno"> 2990</span>&#160;    <a class="code" href="classllvm_1_1SIInstrInfo.html#ac76905a82cf568afc14dd95691c867f0">fixImplicitOperands</a>(*<a class="code" href="AMDGPURegBankSelect_8cpp.html#a14e0c000ed52e5fc187d4a885914cc1a">Select</a>);</div>
<div class="line"><a name="l02991"></a><span class="lineno"> 2991</span>&#160; </div>
<div class="line"><a name="l02992"></a><span class="lineno"> 2992</span>&#160;    MIB.<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(DstElt)</div>
<div class="line"><a name="l02993"></a><span class="lineno"> 2993</span>&#160;       .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(SubIdx);</div>
<div class="line"><a name="l02994"></a><span class="lineno"> 2994</span>&#160;  }</div>
<div class="line"><a name="l02995"></a><span class="lineno"> 2995</span>&#160;}</div>
<div class="line"><a name="l02996"></a><span class="lineno"> 2996</span>&#160; </div>
<div class="line"><a name="l02997"></a><span class="lineno"><a class="line" href="classllvm_1_1SIInstrInfo.html#a826c5f2bb260d27a430d48225e03383e"> 2997</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1SIInstrInfo.html#a826c5f2bb260d27a430d48225e03383e">SIInstrInfo::isFoldableCopy</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>) {</div>
<div class="line"><a name="l02998"></a><span class="lineno"> 2998</span>&#160;  <span class="keywordflow">switch</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode()) {</div>
<div class="line"><a name="l02999"></a><span class="lineno"> 2999</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_MOV_B32_e32:</div>
<div class="line"><a name="l03000"></a><span class="lineno"> 3000</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_MOV_B32_e64:</div>
<div class="line"><a name="l03001"></a><span class="lineno"> 3001</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_MOV_B64_PSEUDO:</div>
<div class="line"><a name="l03002"></a><span class="lineno"> 3002</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_MOV_B64_e32:</div>
<div class="line"><a name="l03003"></a><span class="lineno"> 3003</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_MOV_B64_e64:</div>
<div class="line"><a name="l03004"></a><span class="lineno"> 3004</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_MOV_B32:</div>
<div class="line"><a name="l03005"></a><span class="lineno"> 3005</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_MOV_B64:</div>
<div class="line"><a name="l03006"></a><span class="lineno"> 3006</span>&#160;  <span class="keywordflow">case</span> AMDGPU::COPY:</div>
<div class="line"><a name="l03007"></a><span class="lineno"> 3007</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_ACCVGPR_WRITE_B32_e64:</div>
<div class="line"><a name="l03008"></a><span class="lineno"> 3008</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_ACCVGPR_READ_B32_e64:</div>
<div class="line"><a name="l03009"></a><span class="lineno"> 3009</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_ACCVGPR_MOV_B32:</div>
<div class="line"><a name="l03010"></a><span class="lineno"> 3010</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03011"></a><span class="lineno"> 3011</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l03012"></a><span class="lineno"> 3012</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03013"></a><span class="lineno"> 3013</span>&#160;  }</div>
<div class="line"><a name="l03014"></a><span class="lineno"> 3014</span>&#160;}</div>
<div class="line"><a name="l03015"></a><span class="lineno"> 3015</span>&#160; </div>
<div class="line"><a name="l03016"></a><span class="lineno"><a class="line" href="SIInstrInfo_8cpp.html#ad606e03c366b7e91da3b735a7126fe5a"> 3016</a></span>&#160;<span class="keyword">static</span> constexpr <span class="keywordtype">unsigned</span> <a class="code" href="SIInstrInfo_8cpp.html#ad606e03c366b7e91da3b735a7126fe5a">ModifierOpNames</a>[] = {</div>
<div class="line"><a name="l03017"></a><span class="lineno"> 3017</span>&#160;    AMDGPU::OpName::src0_modifiers, AMDGPU::OpName::src1_modifiers,</div>
<div class="line"><a name="l03018"></a><span class="lineno"> 3018</span>&#160;    AMDGPU::OpName::src2_modifiers, AMDGPU::OpName::clamp,</div>
<div class="line"><a name="l03019"></a><span class="lineno"> 3019</span>&#160;    AMDGPU::OpName::omod,           AMDGPU::OpName::op_sel};</div>
<div class="line"><a name="l03020"></a><span class="lineno"> 3020</span>&#160; </div>
<div class="line"><a name="l03021"></a><span class="lineno"><a class="line" href="classllvm_1_1SIInstrInfo.html#a4fe4716676c6cd66f5db59639fc63bc8"> 3021</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1SIInstrInfo.html#a4fe4716676c6cd66f5db59639fc63bc8">SIInstrInfo::removeModOperands</a>(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l03022"></a><span class="lineno"> 3022</span>&#160;  <span class="keywordtype">unsigned</span> Opc = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode();</div>
<div class="line"><a name="l03023"></a><span class="lineno"> 3023</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> Name : <a class="code" href="namespacellvm.html#a6b0ac1fa4f05de76413c5e0ca6334035">reverse</a>(<a class="code" href="SIInstrInfo_8cpp.html#ad606e03c366b7e91da3b735a7126fe5a">ModifierOpNames</a>)) {</div>
<div class="line"><a name="l03024"></a><span class="lineno"> 3024</span>&#160;    <span class="keywordtype">int</span> Idx = <a class="code" href="namespacellvm_1_1AMDGPU.html#a27efe1286cc31f5fc95355af30b0356c">AMDGPU::getNamedOperandIdx</a>(Opc, Name);</div>
<div class="line"><a name="l03025"></a><span class="lineno"> 3025</span>&#160;    <span class="keywordflow">if</span> (Idx &gt;= 0)</div>
<div class="line"><a name="l03026"></a><span class="lineno"> 3026</span>&#160;      <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.removeOperand(Idx);</div>
<div class="line"><a name="l03027"></a><span class="lineno"> 3027</span>&#160;  }</div>
<div class="line"><a name="l03028"></a><span class="lineno"> 3028</span>&#160;}</div>
<div class="line"><a name="l03029"></a><span class="lineno"> 3029</span>&#160; </div>
<div class="line"><a name="l03030"></a><span class="lineno"><a class="line" href="classllvm_1_1SIInstrInfo.html#a23e6a2bae144c329c1291fce64db62af"> 3030</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1SIInstrInfo.html#a23e6a2bae144c329c1291fce64db62af">SIInstrInfo::FoldImmediate</a>(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#a6cf2f8996b1e9aaf2d7a435aaa62382f">UseMI</a>, <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a>,</div>
<div class="line"><a name="l03031"></a><span class="lineno"> 3031</span>&#160;                                <a class="code" href="classllvm_1_1Register.html">Register</a> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> *<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l03032"></a><span class="lineno"> 3032</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>-&gt;<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a01bf72631b0bc836a8c07fe840b13233">hasOneNonDBGUse</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>))</div>
<div class="line"><a name="l03033"></a><span class="lineno"> 3033</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03034"></a><span class="lineno"> 3034</span>&#160; </div>
<div class="line"><a name="l03035"></a><span class="lineno"> 3035</span>&#160;  <span class="keywordflow">switch</span> (<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a>.getOpcode()) {</div>
<div class="line"><a name="l03036"></a><span class="lineno"> 3036</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l03037"></a><span class="lineno"> 3037</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03038"></a><span class="lineno"> 3038</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_MOV_B64:</div>
<div class="line"><a name="l03039"></a><span class="lineno"> 3039</span>&#160;    <span class="comment">// TODO: We could fold 64-bit immediates, but this get complicated</span></div>
<div class="line"><a name="l03040"></a><span class="lineno"> 3040</span>&#160;    <span class="comment">// when there are sub-registers.</span></div>
<div class="line"><a name="l03041"></a><span class="lineno"> 3041</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03042"></a><span class="lineno"> 3042</span>&#160; </div>
<div class="line"><a name="l03043"></a><span class="lineno"> 3043</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_MOV_B32_e32:</div>
<div class="line"><a name="l03044"></a><span class="lineno"> 3044</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_MOV_B32:</div>
<div class="line"><a name="l03045"></a><span class="lineno"> 3045</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_ACCVGPR_WRITE_B32_e64:</div>
<div class="line"><a name="l03046"></a><span class="lineno"> 3046</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03047"></a><span class="lineno"> 3047</span>&#160;  }</div>
<div class="line"><a name="l03048"></a><span class="lineno"> 3048</span>&#160; </div>
<div class="line"><a name="l03049"></a><span class="lineno"> 3049</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> *ImmOp = <a class="code" href="classllvm_1_1SIInstrInfo.html#a61297a04e9cd91c9658b9affecdd9797">getNamedOperand</a>(<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a>, AMDGPU::OpName::src0);</div>
<div class="line"><a name="l03050"></a><span class="lineno"> 3050</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(ImmOp);</div>
<div class="line"><a name="l03051"></a><span class="lineno"> 3051</span>&#160;  <span class="comment">// FIXME: We could handle FrameIndex values here.</span></div>
<div class="line"><a name="l03052"></a><span class="lineno"> 3052</span>&#160;  <span class="keywordflow">if</span> (!ImmOp-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#a76f61c6784df6dc8402a8b9011041926">isImm</a>())</div>
<div class="line"><a name="l03053"></a><span class="lineno"> 3053</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03054"></a><span class="lineno"> 3054</span>&#160; </div>
<div class="line"><a name="l03055"></a><span class="lineno"> 3055</span>&#160;  <span class="keywordtype">unsigned</span> Opc = <a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#a6cf2f8996b1e9aaf2d7a435aaa62382f">UseMI</a>.getOpcode();</div>
<div class="line"><a name="l03056"></a><span class="lineno"> 3056</span>&#160;  <span class="keywordflow">if</span> (Opc == AMDGPU::COPY) {</div>
<div class="line"><a name="l03057"></a><span class="lineno"> 3057</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> DstReg = <a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#a6cf2f8996b1e9aaf2d7a435aaa62382f">UseMI</a>.getOperand(0).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a1c5fadb14ff1d77faad0cb58a43252ab">getReg</a>();</div>
<div class="line"><a name="l03058"></a><span class="lineno"> 3058</span>&#160;    <span class="keywordtype">bool</span> Is16Bit = <a class="code" href="classllvm_1_1SIInstrInfo.html#a0df02605d5e00cad00c3b7f4aef3aa14">getOpSize</a>(<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#a6cf2f8996b1e9aaf2d7a435aaa62382f">UseMI</a>, 0) == 2;</div>
<div class="line"><a name="l03059"></a><span class="lineno"> 3059</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1SIInstrInfo.html#abbf7fd6ca838658494b35472858597c9">isVGPRCopy</a> = RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#a549e07395027c7b32774e27e9f28bc91">isVGPR</a>(*<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, DstReg);</div>
<div class="line"><a name="l03060"></a><span class="lineno"> 3060</span>&#160;    <span class="keywordtype">unsigned</span> NewOpc = <a class="code" href="classllvm_1_1SIInstrInfo.html#abbf7fd6ca838658494b35472858597c9">isVGPRCopy</a> ? AMDGPU::V_MOV_B32_e32 : AMDGPU::S_MOV_B32;</div>
<div class="line"><a name="l03061"></a><span class="lineno"> 3061</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>(32, ImmOp-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#a38b28a85f818b49d8806c150b8a5b4f7">getImm</a>());</div>
<div class="line"><a name="l03062"></a><span class="lineno"> 3062</span>&#160; </div>
<div class="line"><a name="l03063"></a><span class="lineno"> 3063</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#a6cf2f8996b1e9aaf2d7a435aaa62382f">UseMI</a>.getOperand(1).getSubReg() == AMDGPU::hi16)</div>
<div class="line"><a name="l03064"></a><span class="lineno"> 3064</span>&#160;      <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> = <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>.ashr(16);</div>
<div class="line"><a name="l03065"></a><span class="lineno"> 3065</span>&#160; </div>
<div class="line"><a name="l03066"></a><span class="lineno"> 3066</span>&#160;    <span class="keywordflow">if</span> (RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#acc61376f4183268183912910024e1f2c">isAGPR</a>(*<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, DstReg)) {</div>
<div class="line"><a name="l03067"></a><span class="lineno"> 3067</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1SIInstrInfo.html#a0480d6290cd95e40641f2af7a18fb764">isInlineConstant</a>(<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>))</div>
<div class="line"><a name="l03068"></a><span class="lineno"> 3068</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03069"></a><span class="lineno"> 3069</span>&#160;      NewOpc = AMDGPU::V_ACCVGPR_WRITE_B32_e64;</div>
<div class="line"><a name="l03070"></a><span class="lineno"> 3070</span>&#160;    }</div>
<div class="line"><a name="l03071"></a><span class="lineno"> 3071</span>&#160; </div>
<div class="line"><a name="l03072"></a><span class="lineno"> 3072</span>&#160;    <span class="keywordflow">if</span> (Is16Bit) {</div>
<div class="line"><a name="l03073"></a><span class="lineno"> 3073</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SIInstrInfo.html#abbf7fd6ca838658494b35472858597c9">isVGPRCopy</a>)</div>
<div class="line"><a name="l03074"></a><span class="lineno"> 3074</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>; <span class="comment">// Do not clobber vgpr_hi16</span></div>
<div class="line"><a name="l03075"></a><span class="lineno"> 3075</span>&#160; </div>
<div class="line"><a name="l03076"></a><span class="lineno"> 3076</span>&#160;      <span class="keywordflow">if</span> (DstReg.<a class="code" href="classllvm_1_1Register.html#aebafd86dde59b5a05b22e8720e808a9d">isVirtual</a>() &amp;&amp; <a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#a6cf2f8996b1e9aaf2d7a435aaa62382f">UseMI</a>.getOperand(0).getSubReg() != <a class="code" href="lib_2Target_2PowerPC_2README_8txt.html#a6e62594a2cbf6b18a9e518f38637efa3">AMDGPU::lo16</a>)</div>
<div class="line"><a name="l03077"></a><span class="lineno"> 3077</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03078"></a><span class="lineno"> 3078</span>&#160; </div>
<div class="line"><a name="l03079"></a><span class="lineno"> 3079</span>&#160;      <a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#a6cf2f8996b1e9aaf2d7a435aaa62382f">UseMI</a>.getOperand(0).setSubReg(0);</div>
<div class="line"><a name="l03080"></a><span class="lineno"> 3080</span>&#160;      <span class="keywordflow">if</span> (DstReg.<a class="code" href="classllvm_1_1Register.html#a13bd3dae94013a7bf38afc9391c8fa8f">isPhysical</a>()) {</div>
<div class="line"><a name="l03081"></a><span class="lineno"> 3081</span>&#160;        DstReg = RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#a2188a3779b5fa9631631a60b3512c81e">get32BitRegister</a>(DstReg);</div>
<div class="line"><a name="l03082"></a><span class="lineno"> 3082</span>&#160;        <a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#a6cf2f8996b1e9aaf2d7a435aaa62382f">UseMI</a>.getOperand(0).setReg(DstReg);</div>
<div class="line"><a name="l03083"></a><span class="lineno"> 3083</span>&#160;      }</div>
<div class="line"><a name="l03084"></a><span class="lineno"> 3084</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#a6cf2f8996b1e9aaf2d7a435aaa62382f">UseMI</a>.getOperand(1).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a1c5fadb14ff1d77faad0cb58a43252ab">getReg</a>().<a class="code" href="classllvm_1_1Register.html#aebafd86dde59b5a05b22e8720e808a9d">isVirtual</a>());</div>
<div class="line"><a name="l03085"></a><span class="lineno"> 3085</span>&#160;    }</div>
<div class="line"><a name="l03086"></a><span class="lineno"> 3086</span>&#160; </div>
<div class="line"><a name="l03087"></a><span class="lineno"> 3087</span>&#160;    <a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#a6cf2f8996b1e9aaf2d7a435aaa62382f">UseMI</a>.setDesc(<a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(NewOpc));</div>
<div class="line"><a name="l03088"></a><span class="lineno"> 3088</span>&#160;    <a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#a6cf2f8996b1e9aaf2d7a435aaa62382f">UseMI</a>.getOperand(1).ChangeToImmediate(<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>.getSExtValue());</div>
<div class="line"><a name="l03089"></a><span class="lineno"> 3089</span>&#160;    <a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#a6cf2f8996b1e9aaf2d7a435aaa62382f">UseMI</a>.addImplicitDefUseOperands(*<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#a6cf2f8996b1e9aaf2d7a435aaa62382f">UseMI</a>.getParent()-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a002fd916e7206e01d512eeb06d405cf0">getParent</a>());</div>
<div class="line"><a name="l03090"></a><span class="lineno"> 3090</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03091"></a><span class="lineno"> 3091</span>&#160;  }</div>
<div class="line"><a name="l03092"></a><span class="lineno"> 3092</span>&#160; </div>
<div class="line"><a name="l03093"></a><span class="lineno"> 3093</span>&#160;  <span class="keywordflow">if</span> (Opc == AMDGPU::V_MAD_F32_e64 || Opc == AMDGPU::V_MAC_F32_e64 ||</div>
<div class="line"><a name="l03094"></a><span class="lineno"> 3094</span>&#160;      Opc == AMDGPU::V_MAD_F16_e64 || Opc == AMDGPU::V_MAC_F16_e64 ||</div>
<div class="line"><a name="l03095"></a><span class="lineno"> 3095</span>&#160;      Opc == AMDGPU::V_FMA_F32_e64 || Opc == AMDGPU::V_FMAC_F32_e64 ||</div>
<div class="line"><a name="l03096"></a><span class="lineno"> 3096</span>&#160;      Opc == AMDGPU::V_FMA_F16_e64 || Opc == AMDGPU::V_FMAC_F16_e64 ||</div>
<div class="line"><a name="l03097"></a><span class="lineno"> 3097</span>&#160;      Opc == AMDGPU::V_FMAC_F16_t16_e64) {</div>
<div class="line"><a name="l03098"></a><span class="lineno"> 3098</span>&#160;    <span class="comment">// Don&#39;t fold if we are using source or output modifiers. The new VOP2</span></div>
<div class="line"><a name="l03099"></a><span class="lineno"> 3099</span>&#160;    <span class="comment">// instructions don&#39;t have them.</span></div>
<div class="line"><a name="l03100"></a><span class="lineno"> 3100</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SIInstrInfo.html#afff49d92e227fa12fc068d203a22bd15">hasAnyModifiersSet</a>(<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#a6cf2f8996b1e9aaf2d7a435aaa62382f">UseMI</a>))</div>
<div class="line"><a name="l03101"></a><span class="lineno"> 3101</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03102"></a><span class="lineno"> 3102</span>&#160; </div>
<div class="line"><a name="l03103"></a><span class="lineno"> 3103</span>&#160;    <span class="comment">// If this is a free constant, there&#39;s no reason to do this.</span></div>
<div class="line"><a name="l03104"></a><span class="lineno"> 3104</span>&#160;    <span class="comment">// TODO: We could fold this here instead of letting SIFoldOperands do it</span></div>
<div class="line"><a name="l03105"></a><span class="lineno"> 3105</span>&#160;    <span class="comment">// later.</span></div>
<div class="line"><a name="l03106"></a><span class="lineno"> 3106</span>&#160;    <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> *Src0 = <a class="code" href="classllvm_1_1SIInstrInfo.html#a61297a04e9cd91c9658b9affecdd9797">getNamedOperand</a>(<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#a6cf2f8996b1e9aaf2d7a435aaa62382f">UseMI</a>, AMDGPU::OpName::src0);</div>
<div class="line"><a name="l03107"></a><span class="lineno"> 3107</span>&#160; </div>
<div class="line"><a name="l03108"></a><span class="lineno"> 3108</span>&#160;    <span class="comment">// Any src operand can be used for the legality check.</span></div>
<div class="line"><a name="l03109"></a><span class="lineno"> 3109</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SIInstrInfo.html#a0480d6290cd95e40641f2af7a18fb764">isInlineConstant</a>(<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#a6cf2f8996b1e9aaf2d7a435aaa62382f">UseMI</a>, *Src0, *ImmOp))</div>
<div class="line"><a name="l03110"></a><span class="lineno"> 3110</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03111"></a><span class="lineno"> 3111</span>&#160; </div>
<div class="line"><a name="l03112"></a><span class="lineno"> 3112</span>&#160;    <span class="keywordtype">bool</span> IsF32 = Opc == AMDGPU::V_MAD_F32_e64 || Opc == AMDGPU::V_MAC_F32_e64 ||</div>
<div class="line"><a name="l03113"></a><span class="lineno"> 3113</span>&#160;                 Opc == AMDGPU::V_FMA_F32_e64 || Opc == AMDGPU::V_FMAC_F32_e64;</div>
<div class="line"><a name="l03114"></a><span class="lineno"> 3114</span>&#160;    <span class="keywordtype">bool</span> IsFMA =</div>
<div class="line"><a name="l03115"></a><span class="lineno"> 3115</span>&#160;        Opc == AMDGPU::V_FMA_F32_e64 || Opc == AMDGPU::V_FMAC_F32_e64 ||</div>
<div class="line"><a name="l03116"></a><span class="lineno"> 3116</span>&#160;        Opc == AMDGPU::V_FMA_F16_e64 || Opc == AMDGPU::V_FMAC_F16_e64 ||</div>
<div class="line"><a name="l03117"></a><span class="lineno"> 3117</span>&#160;        Opc == AMDGPU::V_FMAC_F16_t16_e64;</div>
<div class="line"><a name="l03118"></a><span class="lineno"> 3118</span>&#160;    <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> *Src1 = <a class="code" href="classllvm_1_1SIInstrInfo.html#a61297a04e9cd91c9658b9affecdd9797">getNamedOperand</a>(<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#a6cf2f8996b1e9aaf2d7a435aaa62382f">UseMI</a>, AMDGPU::OpName::src1);</div>
<div class="line"><a name="l03119"></a><span class="lineno"> 3119</span>&#160;    <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> *Src2 = <a class="code" href="classllvm_1_1SIInstrInfo.html#a61297a04e9cd91c9658b9affecdd9797">getNamedOperand</a>(<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#a6cf2f8996b1e9aaf2d7a435aaa62382f">UseMI</a>, AMDGPU::OpName::src2);</div>
<div class="line"><a name="l03120"></a><span class="lineno"> 3120</span>&#160; </div>
<div class="line"><a name="l03121"></a><span class="lineno"> 3121</span>&#160;    <span class="comment">// Multiplied part is the constant: Use v_madmk_{f16, f32}.</span></div>
<div class="line"><a name="l03122"></a><span class="lineno"> 3122</span>&#160;    <span class="comment">// We should only expect these to be on src0 due to canonicalization.</span></div>
<div class="line"><a name="l03123"></a><span class="lineno"> 3123</span>&#160;    <span class="keywordflow">if</span> (Src0-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#a4c9594c955fec80c73ddd964b5efd554">isReg</a>() &amp;&amp; Src0-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>() == <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>) {</div>
<div class="line"><a name="l03124"></a><span class="lineno"> 3124</span>&#160;      <span class="keywordflow">if</span> (!Src1-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#a4c9594c955fec80c73ddd964b5efd554">isReg</a>() || RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#af58d646af8dd60e4e514303dfa81de9c">isSGPRClass</a>(<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>-&gt;<a class="code" href="classllvm_1_1MachineRegisterInfo.html#aa363afffca4fc13a709673936b47fe33">getRegClass</a>(Src1-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>())))</div>
<div class="line"><a name="l03125"></a><span class="lineno"> 3125</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03126"></a><span class="lineno"> 3126</span>&#160; </div>
<div class="line"><a name="l03127"></a><span class="lineno"> 3127</span>&#160;      <span class="keywordflow">if</span> (!Src2-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#a4c9594c955fec80c73ddd964b5efd554">isReg</a>() || RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#af58d646af8dd60e4e514303dfa81de9c">isSGPRClass</a>(<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>-&gt;<a class="code" href="classllvm_1_1MachineRegisterInfo.html#aa363afffca4fc13a709673936b47fe33">getRegClass</a>(Src2-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>())))</div>
<div class="line"><a name="l03128"></a><span class="lineno"> 3128</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03129"></a><span class="lineno"> 3129</span>&#160; </div>
<div class="line"><a name="l03130"></a><span class="lineno"> 3130</span>&#160;      <span class="keywordtype">unsigned</span> NewOpc =</div>
<div class="line"><a name="l03131"></a><span class="lineno"> 3131</span>&#160;          IsFMA ? (IsF32                    ? AMDGPU::V_FMAMK_F32</div>
<div class="line"><a name="l03132"></a><span class="lineno"> 3132</span>&#160;                   : ST.<a class="code" href="classllvm_1_1AMDGPUSubtarget.html#a8e96f06e7a928116dfdb37e0c725f990">hasTrue16BitInsts</a>() ? AMDGPU::V_FMAMK_F16_t16</div>
<div class="line"><a name="l03133"></a><span class="lineno"> 3133</span>&#160;                                            : AMDGPU::V_FMAMK_F16)</div>
<div class="line"><a name="l03134"></a><span class="lineno"> 3134</span>&#160;                : (IsF32 ? AMDGPU::V_MADMK_F32 : AMDGPU::V_MADMK_F16);</div>
<div class="line"><a name="l03135"></a><span class="lineno"> 3135</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SIInstrInfo.html#ae25e963e7382528026a78b5c2e31c435">pseudoToMCOpcode</a>(NewOpc) == -1)</div>
<div class="line"><a name="l03136"></a><span class="lineno"> 3136</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03137"></a><span class="lineno"> 3137</span>&#160; </div>
<div class="line"><a name="l03138"></a><span class="lineno"> 3138</span>&#160;      <span class="comment">// We need to swap operands 0 and 1 since madmk constant is at operand 1.</span></div>
<div class="line"><a name="l03139"></a><span class="lineno"> 3139</span>&#160; </div>
<div class="line"><a name="l03140"></a><span class="lineno"> 3140</span>&#160;      <span class="keyword">const</span> int64_t <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> = ImmOp-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#a38b28a85f818b49d8806c150b8a5b4f7">getImm</a>();</div>
<div class="line"><a name="l03141"></a><span class="lineno"> 3141</span>&#160; </div>
<div class="line"><a name="l03142"></a><span class="lineno"> 3142</span>&#160;      <span class="comment">// FIXME: This would be a lot easier if we could return a new instruction</span></div>
<div class="line"><a name="l03143"></a><span class="lineno"> 3143</span>&#160;      <span class="comment">// instead of having to modify in place.</span></div>
<div class="line"><a name="l03144"></a><span class="lineno"> 3144</span>&#160; </div>
<div class="line"><a name="l03145"></a><span class="lineno"> 3145</span>&#160;      <a class="code" href="classllvm_1_1Register.html">Register</a> Src1Reg = Src1-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>();</div>
<div class="line"><a name="l03146"></a><span class="lineno"> 3146</span>&#160;      <span class="keywordtype">unsigned</span> Src1SubReg = Src1-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#a028a8c5113d40d8c3f4427053bf36738">getSubReg</a>();</div>
<div class="line"><a name="l03147"></a><span class="lineno"> 3147</span>&#160;      Src0-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#a682ba82f42f7903d0000ffbb13ea3b57">setReg</a>(Src1Reg);</div>
<div class="line"><a name="l03148"></a><span class="lineno"> 3148</span>&#160;      Src0-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#a001d31fcea92be51d2999826b806606f">setSubReg</a>(Src1SubReg);</div>
<div class="line"><a name="l03149"></a><span class="lineno"> 3149</span>&#160;      Src0-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#a8a82683fccdef8a5ef772ef03277aee7">setIsKill</a>(Src1-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#a4046212ebc647b17e811837ae4ea3afd">isKill</a>());</div>
<div class="line"><a name="l03150"></a><span class="lineno"> 3150</span>&#160; </div>
<div class="line"><a name="l03151"></a><span class="lineno"> 3151</span>&#160;      <span class="keywordflow">if</span> (Opc == AMDGPU::V_MAC_F32_e64 || Opc == AMDGPU::V_MAC_F16_e64 ||</div>
<div class="line"><a name="l03152"></a><span class="lineno"> 3152</span>&#160;          Opc == AMDGPU::V_FMAC_F32_e64 || Opc == AMDGPU::V_FMAC_F16_t16_e64 ||</div>
<div class="line"><a name="l03153"></a><span class="lineno"> 3153</span>&#160;          Opc == AMDGPU::V_FMAC_F16_e64)</div>
<div class="line"><a name="l03154"></a><span class="lineno"> 3154</span>&#160;        <a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#a6cf2f8996b1e9aaf2d7a435aaa62382f">UseMI</a>.untieRegOperand(</div>
<div class="line"><a name="l03155"></a><span class="lineno"> 3155</span>&#160;            <a class="code" href="namespacellvm_1_1AMDGPU.html#a27efe1286cc31f5fc95355af30b0356c">AMDGPU::getNamedOperandIdx</a>(Opc, AMDGPU::OpName::src2));</div>
<div class="line"><a name="l03156"></a><span class="lineno"> 3156</span>&#160; </div>
<div class="line"><a name="l03157"></a><span class="lineno"> 3157</span>&#160;      Src1-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#a7b39ecfd6793534206dbb095b0d464c7">ChangeToImmediate</a>(<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>);</div>
<div class="line"><a name="l03158"></a><span class="lineno"> 3158</span>&#160; </div>
<div class="line"><a name="l03159"></a><span class="lineno"> 3159</span>&#160;      <a class="code" href="classllvm_1_1SIInstrInfo.html#a4fe4716676c6cd66f5db59639fc63bc8">removeModOperands</a>(<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#a6cf2f8996b1e9aaf2d7a435aaa62382f">UseMI</a>);</div>
<div class="line"><a name="l03160"></a><span class="lineno"> 3160</span>&#160;      <a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#a6cf2f8996b1e9aaf2d7a435aaa62382f">UseMI</a>.setDesc(<a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(NewOpc));</div>
<div class="line"><a name="l03161"></a><span class="lineno"> 3161</span>&#160; </div>
<div class="line"><a name="l03162"></a><span class="lineno"> 3162</span>&#160;      <span class="keywordtype">bool</span> DeleteDef = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>-&gt;<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a4ea277721b4e63804715a62de87e9a72">use_nodbg_empty</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>);</div>
<div class="line"><a name="l03163"></a><span class="lineno"> 3163</span>&#160;      <span class="keywordflow">if</span> (DeleteDef)</div>
<div class="line"><a name="l03164"></a><span class="lineno"> 3164</span>&#160;        <a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a>.eraseFromParent();</div>
<div class="line"><a name="l03165"></a><span class="lineno"> 3165</span>&#160; </div>
<div class="line"><a name="l03166"></a><span class="lineno"> 3166</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03167"></a><span class="lineno"> 3167</span>&#160;    }</div>
<div class="line"><a name="l03168"></a><span class="lineno"> 3168</span>&#160; </div>
<div class="line"><a name="l03169"></a><span class="lineno"> 3169</span>&#160;    <span class="comment">// Added part is the constant: Use v_madak_{f16, f32}.</span></div>
<div class="line"><a name="l03170"></a><span class="lineno"> 3170</span>&#160;    <span class="keywordflow">if</span> (Src2-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#a4c9594c955fec80c73ddd964b5efd554">isReg</a>() &amp;&amp; Src2-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>() == <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>) {</div>
<div class="line"><a name="l03171"></a><span class="lineno"> 3171</span>&#160;      <span class="comment">// Not allowed to use constant bus for another operand.</span></div>
<div class="line"><a name="l03172"></a><span class="lineno"> 3172</span>&#160;      <span class="comment">// We can however allow an inline immediate as src0.</span></div>
<div class="line"><a name="l03173"></a><span class="lineno"> 3173</span>&#160;      <span class="keywordtype">bool</span> Src0Inlined = <span class="keyword">false</span>;</div>
<div class="line"><a name="l03174"></a><span class="lineno"> 3174</span>&#160;      <span class="keywordflow">if</span> (Src0-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#a4c9594c955fec80c73ddd964b5efd554">isReg</a>()) {</div>
<div class="line"><a name="l03175"></a><span class="lineno"> 3175</span>&#160;        <span class="comment">// Try to inline constant if possible.</span></div>
<div class="line"><a name="l03176"></a><span class="lineno"> 3176</span>&#160;        <span class="comment">// If the Def moves immediate and the use is single</span></div>
<div class="line"><a name="l03177"></a><span class="lineno"> 3177</span>&#160;        <span class="comment">// We are saving VGPR here.</span></div>
<div class="line"><a name="l03178"></a><span class="lineno"> 3178</span>&#160;        <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a> = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>-&gt;<a class="code" href="classllvm_1_1MachineRegisterInfo.html#af988c2b4f62506108843a0fdc04b43a2">getUniqueVRegDef</a>(Src0-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>());</div>
<div class="line"><a name="l03179"></a><span class="lineno"> 3179</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a> &amp;&amp; <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a>-&gt;isMoveImmediate() &amp;&amp;</div>
<div class="line"><a name="l03180"></a><span class="lineno"> 3180</span>&#160;          <a class="code" href="classllvm_1_1SIInstrInfo.html#a0480d6290cd95e40641f2af7a18fb764">isInlineConstant</a>(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a>-&gt;getOperand(1)) &amp;&amp;</div>
<div class="line"><a name="l03181"></a><span class="lineno"> 3181</span>&#160;          <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>-&gt;<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a600a2d410c09a9486e828ea34e5a9566">hasOneUse</a>(Src0-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>())) {</div>
<div class="line"><a name="l03182"></a><span class="lineno"> 3182</span>&#160;          Src0-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#a7b39ecfd6793534206dbb095b0d464c7">ChangeToImmediate</a>(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a>-&gt;getOperand(1).getImm());</div>
<div class="line"><a name="l03183"></a><span class="lineno"> 3183</span>&#160;          Src0Inlined = <span class="keyword">true</span>;</div>
<div class="line"><a name="l03184"></a><span class="lineno"> 3184</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((Src0-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>().<a class="code" href="classllvm_1_1Register.html#a13bd3dae94013a7bf38afc9391c8fa8f">isPhysical</a>() &amp;&amp;</div>
<div class="line"><a name="l03185"></a><span class="lineno"> 3185</span>&#160;                    (ST.<a class="code" href="classllvm_1_1GCNSubtarget.html#a33a600e1b2e066f85e6a2bb588a7f3f1">getConstantBusLimit</a>(Opc) &lt;= 1 &amp;&amp;</div>
<div class="line"><a name="l03186"></a><span class="lineno"> 3186</span>&#160;                     RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#af58d646af8dd60e4e514303dfa81de9c">isSGPRClass</a>(RI.getPhysRegBaseClass(Src0-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>())))) ||</div>
<div class="line"><a name="l03187"></a><span class="lineno"> 3187</span>&#160;                   (Src0-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>().<a class="code" href="classllvm_1_1Register.html#aebafd86dde59b5a05b22e8720e808a9d">isVirtual</a>() &amp;&amp;</div>
<div class="line"><a name="l03188"></a><span class="lineno"> 3188</span>&#160;                    (ST.<a class="code" href="classllvm_1_1GCNSubtarget.html#a33a600e1b2e066f85e6a2bb588a7f3f1">getConstantBusLimit</a>(Opc) &lt;= 1 &amp;&amp;</div>
<div class="line"><a name="l03189"></a><span class="lineno"> 3189</span>&#160;                     RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#af58d646af8dd60e4e514303dfa81de9c">isSGPRClass</a>(<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>-&gt;<a class="code" href="classllvm_1_1MachineRegisterInfo.html#aa363afffca4fc13a709673936b47fe33">getRegClass</a>(Src0-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>())))))</div>
<div class="line"><a name="l03190"></a><span class="lineno"> 3190</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03191"></a><span class="lineno"> 3191</span>&#160;          <span class="comment">// VGPR is okay as Src0 - fallthrough</span></div>
<div class="line"><a name="l03192"></a><span class="lineno"> 3192</span>&#160;      }</div>
<div class="line"><a name="l03193"></a><span class="lineno"> 3193</span>&#160; </div>
<div class="line"><a name="l03194"></a><span class="lineno"> 3194</span>&#160;      <span class="keywordflow">if</span> (Src1-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#a4c9594c955fec80c73ddd964b5efd554">isReg</a>() &amp;&amp; !Src0Inlined ) {</div>
<div class="line"><a name="l03195"></a><span class="lineno"> 3195</span>&#160;        <span class="comment">// We have one slot for inlinable constant so far - try to fill it</span></div>
<div class="line"><a name="l03196"></a><span class="lineno"> 3196</span>&#160;        <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a> = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>-&gt;<a class="code" href="classllvm_1_1MachineRegisterInfo.html#af988c2b4f62506108843a0fdc04b43a2">getUniqueVRegDef</a>(Src1-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>());</div>
<div class="line"><a name="l03197"></a><span class="lineno"> 3197</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a> &amp;&amp; <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a>-&gt;isMoveImmediate() &amp;&amp;</div>
<div class="line"><a name="l03198"></a><span class="lineno"> 3198</span>&#160;            <a class="code" href="classllvm_1_1SIInstrInfo.html#a0480d6290cd95e40641f2af7a18fb764">isInlineConstant</a>(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a>-&gt;getOperand(1)) &amp;&amp;</div>
<div class="line"><a name="l03199"></a><span class="lineno"> 3199</span>&#160;            <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>-&gt;<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a600a2d410c09a9486e828ea34e5a9566">hasOneUse</a>(Src1-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>()) &amp;&amp;</div>
<div class="line"><a name="l03200"></a><span class="lineno"> 3200</span>&#160;            commuteInstruction(<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#a6cf2f8996b1e9aaf2d7a435aaa62382f">UseMI</a>)) {</div>
<div class="line"><a name="l03201"></a><span class="lineno"> 3201</span>&#160;            Src0-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#a7b39ecfd6793534206dbb095b0d464c7">ChangeToImmediate</a>(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a>-&gt;getOperand(1).getImm());</div>
<div class="line"><a name="l03202"></a><span class="lineno"> 3202</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((Src1-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>().<a class="code" href="classllvm_1_1Register.html#a13bd3dae94013a7bf38afc9391c8fa8f">isPhysical</a>() &amp;&amp;</div>
<div class="line"><a name="l03203"></a><span class="lineno"> 3203</span>&#160;                    RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#af58d646af8dd60e4e514303dfa81de9c">isSGPRClass</a>(RI.getPhysRegBaseClass(Src1-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>()))) ||</div>
<div class="line"><a name="l03204"></a><span class="lineno"> 3204</span>&#160;                   (Src1-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>().<a class="code" href="classllvm_1_1Register.html#aebafd86dde59b5a05b22e8720e808a9d">isVirtual</a>() &amp;&amp;</div>
<div class="line"><a name="l03205"></a><span class="lineno"> 3205</span>&#160;                    RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#af58d646af8dd60e4e514303dfa81de9c">isSGPRClass</a>(<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>-&gt;<a class="code" href="classllvm_1_1MachineRegisterInfo.html#aa363afffca4fc13a709673936b47fe33">getRegClass</a>(Src1-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>()))))</div>
<div class="line"><a name="l03206"></a><span class="lineno"> 3206</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03207"></a><span class="lineno"> 3207</span>&#160;          <span class="comment">// VGPR is okay as Src1 - fallthrough</span></div>
<div class="line"><a name="l03208"></a><span class="lineno"> 3208</span>&#160;      }</div>
<div class="line"><a name="l03209"></a><span class="lineno"> 3209</span>&#160; </div>
<div class="line"><a name="l03210"></a><span class="lineno"> 3210</span>&#160;      <span class="keywordtype">unsigned</span> NewOpc =</div>
<div class="line"><a name="l03211"></a><span class="lineno"> 3211</span>&#160;          IsFMA ? (IsF32                    ? AMDGPU::V_FMAAK_F32</div>
<div class="line"><a name="l03212"></a><span class="lineno"> 3212</span>&#160;                   : ST.<a class="code" href="classllvm_1_1AMDGPUSubtarget.html#a8e96f06e7a928116dfdb37e0c725f990">hasTrue16BitInsts</a>() ? AMDGPU::V_FMAAK_F16_t16</div>
<div class="line"><a name="l03213"></a><span class="lineno"> 3213</span>&#160;                                            : AMDGPU::V_FMAAK_F16)</div>
<div class="line"><a name="l03214"></a><span class="lineno"> 3214</span>&#160;                : (IsF32 ? AMDGPU::V_MADAK_F32 : AMDGPU::V_MADAK_F16);</div>
<div class="line"><a name="l03215"></a><span class="lineno"> 3215</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SIInstrInfo.html#ae25e963e7382528026a78b5c2e31c435">pseudoToMCOpcode</a>(NewOpc) == -1)</div>
<div class="line"><a name="l03216"></a><span class="lineno"> 3216</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03217"></a><span class="lineno"> 3217</span>&#160; </div>
<div class="line"><a name="l03218"></a><span class="lineno"> 3218</span>&#160;      <span class="keyword">const</span> int64_t <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> = ImmOp-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#a38b28a85f818b49d8806c150b8a5b4f7">getImm</a>();</div>
<div class="line"><a name="l03219"></a><span class="lineno"> 3219</span>&#160; </div>
<div class="line"><a name="l03220"></a><span class="lineno"> 3220</span>&#160;      <span class="comment">// FIXME: This would be a lot easier if we could return a new instruction</span></div>
<div class="line"><a name="l03221"></a><span class="lineno"> 3221</span>&#160;      <span class="comment">// instead of having to modify in place.</span></div>
<div class="line"><a name="l03222"></a><span class="lineno"> 3222</span>&#160; </div>
<div class="line"><a name="l03223"></a><span class="lineno"> 3223</span>&#160;      <span class="keywordflow">if</span> (Opc == AMDGPU::V_MAC_F32_e64 || Opc == AMDGPU::V_MAC_F16_e64 ||</div>
<div class="line"><a name="l03224"></a><span class="lineno"> 3224</span>&#160;          Opc == AMDGPU::V_FMAC_F32_e64 || Opc == AMDGPU::V_FMAC_F16_t16_e64 ||</div>
<div class="line"><a name="l03225"></a><span class="lineno"> 3225</span>&#160;          Opc == AMDGPU::V_FMAC_F16_e64)</div>
<div class="line"><a name="l03226"></a><span class="lineno"> 3226</span>&#160;        <a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#a6cf2f8996b1e9aaf2d7a435aaa62382f">UseMI</a>.untieRegOperand(</div>
<div class="line"><a name="l03227"></a><span class="lineno"> 3227</span>&#160;            <a class="code" href="namespacellvm_1_1AMDGPU.html#a27efe1286cc31f5fc95355af30b0356c">AMDGPU::getNamedOperandIdx</a>(Opc, AMDGPU::OpName::src2));</div>
<div class="line"><a name="l03228"></a><span class="lineno"> 3228</span>&#160; </div>
<div class="line"><a name="l03229"></a><span class="lineno"> 3229</span>&#160;      <span class="comment">// ChangingToImmediate adds Src2 back to the instruction.</span></div>
<div class="line"><a name="l03230"></a><span class="lineno"> 3230</span>&#160;      Src2-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#a7b39ecfd6793534206dbb095b0d464c7">ChangeToImmediate</a>(<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>);</div>
<div class="line"><a name="l03231"></a><span class="lineno"> 3231</span>&#160; </div>
<div class="line"><a name="l03232"></a><span class="lineno"> 3232</span>&#160;      <span class="comment">// These come before src2.</span></div>
<div class="line"><a name="l03233"></a><span class="lineno"> 3233</span>&#160;      <a class="code" href="classllvm_1_1SIInstrInfo.html#a4fe4716676c6cd66f5db59639fc63bc8">removeModOperands</a>(<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#a6cf2f8996b1e9aaf2d7a435aaa62382f">UseMI</a>);</div>
<div class="line"><a name="l03234"></a><span class="lineno"> 3234</span>&#160;      <a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#a6cf2f8996b1e9aaf2d7a435aaa62382f">UseMI</a>.setDesc(<a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(NewOpc));</div>
<div class="line"><a name="l03235"></a><span class="lineno"> 3235</span>&#160;      <span class="comment">// It might happen that UseMI was commuted</span></div>
<div class="line"><a name="l03236"></a><span class="lineno"> 3236</span>&#160;      <span class="comment">// and we now have SGPR as SRC1. If so 2 inlined</span></div>
<div class="line"><a name="l03237"></a><span class="lineno"> 3237</span>&#160;      <span class="comment">// constant and SGPR are illegal.</span></div>
<div class="line"><a name="l03238"></a><span class="lineno"> 3238</span>&#160;      <a class="code" href="classllvm_1_1SIInstrInfo.html#a09787033a63326e79a0d1445d3e0de13">legalizeOperands</a>(<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#a6cf2f8996b1e9aaf2d7a435aaa62382f">UseMI</a>);</div>
<div class="line"><a name="l03239"></a><span class="lineno"> 3239</span>&#160; </div>
<div class="line"><a name="l03240"></a><span class="lineno"> 3240</span>&#160;      <span class="keywordtype">bool</span> DeleteDef = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>-&gt;<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a4ea277721b4e63804715a62de87e9a72">use_nodbg_empty</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>);</div>
<div class="line"><a name="l03241"></a><span class="lineno"> 3241</span>&#160;      <span class="keywordflow">if</span> (DeleteDef)</div>
<div class="line"><a name="l03242"></a><span class="lineno"> 3242</span>&#160;        <a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a>.eraseFromParent();</div>
<div class="line"><a name="l03243"></a><span class="lineno"> 3243</span>&#160; </div>
<div class="line"><a name="l03244"></a><span class="lineno"> 3244</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03245"></a><span class="lineno"> 3245</span>&#160;    }</div>
<div class="line"><a name="l03246"></a><span class="lineno"> 3246</span>&#160;  }</div>
<div class="line"><a name="l03247"></a><span class="lineno"> 3247</span>&#160; </div>
<div class="line"><a name="l03248"></a><span class="lineno"> 3248</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03249"></a><span class="lineno"> 3249</span>&#160;}</div>
<div class="line"><a name="l03250"></a><span class="lineno"> 3250</span>&#160; </div>
<div class="line"><a name="l03251"></a><span class="lineno"> 3251</span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span></div>
<div class="line"><a name="l03252"></a><span class="lineno"><a class="line" href="SIInstrInfo_8cpp.html#a51d820fe919d94f220e21e9d1f7361ad"> 3252</a></span>&#160;<a class="code" href="SIInstrInfo_8cpp.html#a51d820fe919d94f220e21e9d1f7361ad">memOpsHaveSameBaseOperands</a>(<a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;const MachineOperand *&gt;</a> BaseOps1,</div>
<div class="line"><a name="l03253"></a><span class="lineno"> 3253</span>&#160;                           <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;const MachineOperand *&gt;</a> BaseOps2) {</div>
<div class="line"><a name="l03254"></a><span class="lineno"> 3254</span>&#160;  <span class="keywordflow">if</span> (BaseOps1.<a class="code" href="classllvm_1_1ArrayRef.html#a85ffb6531d4cda988ea81f18d4e56fb7">size</a>() != BaseOps2.<a class="code" href="classllvm_1_1ArrayRef.html#a85ffb6531d4cda988ea81f18d4e56fb7">size</a>())</div>
<div class="line"><a name="l03255"></a><span class="lineno"> 3255</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03256"></a><span class="lineno"> 3256</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 0, <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = BaseOps1.<a class="code" href="classllvm_1_1ArrayRef.html#a85ffb6531d4cda988ea81f18d4e56fb7">size</a>(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> &lt; <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l03257"></a><span class="lineno"> 3257</span>&#160;    <span class="keywordflow">if</span> (!BaseOps1[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>]-&gt;isIdenticalTo(*BaseOps2[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>]))</div>
<div class="line"><a name="l03258"></a><span class="lineno"> 3258</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03259"></a><span class="lineno"> 3259</span>&#160;  }</div>
<div class="line"><a name="l03260"></a><span class="lineno"> 3260</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03261"></a><span class="lineno"> 3261</span>&#160;}</div>
<div class="line"><a name="l03262"></a><span class="lineno"> 3262</span>&#160; </div>
<div class="line"><a name="l03263"></a><span class="lineno"><a class="line" href="SIInstrInfo_8cpp.html#a371a0e609706909389a3fe7359e16485"> 3263</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="SIInstrInfo_8cpp.html#a371a0e609706909389a3fe7359e16485">offsetsDoNotOverlap</a>(<span class="keywordtype">int</span> WidthA, <span class="keywordtype">int</span> OffsetA,</div>
<div class="line"><a name="l03264"></a><span class="lineno"> 3264</span>&#160;                                <span class="keywordtype">int</span> WidthB, <span class="keywordtype">int</span> OffsetB) {</div>
<div class="line"><a name="l03265"></a><span class="lineno"> 3265</span>&#160;  <span class="keywordtype">int</span> LowOffset = OffsetA &lt; OffsetB ? OffsetA : OffsetB;</div>
<div class="line"><a name="l03266"></a><span class="lineno"> 3266</span>&#160;  <span class="keywordtype">int</span> HighOffset = OffsetA &lt; OffsetB ? OffsetB : OffsetA;</div>
<div class="line"><a name="l03267"></a><span class="lineno"> 3267</span>&#160;  <span class="keywordtype">int</span> LowWidth = (LowOffset == OffsetA) ? WidthA : WidthB;</div>
<div class="line"><a name="l03268"></a><span class="lineno"> 3268</span>&#160;  <span class="keywordflow">return</span> LowOffset + LowWidth &lt;= HighOffset;</div>
<div class="line"><a name="l03269"></a><span class="lineno"> 3269</span>&#160;}</div>
<div class="line"><a name="l03270"></a><span class="lineno"> 3270</span>&#160; </div>
<div class="line"><a name="l03271"></a><span class="lineno"> 3271</span>&#160;<span class="keywordtype">bool</span> SIInstrInfo::checkInstOffsetsDoNotOverlap(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;MIa,</div>
<div class="line"><a name="l03272"></a><span class="lineno"> 3272</span>&#160;                                               <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;MIb)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l03273"></a><span class="lineno"> 3273</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const MachineOperand *, 4&gt;</a> BaseOps0, BaseOps1;</div>
<div class="line"><a name="l03274"></a><span class="lineno"> 3274</span>&#160;  int64_t Offset0, Offset1;</div>
<div class="line"><a name="l03275"></a><span class="lineno"> 3275</span>&#160;  <span class="keywordtype">unsigned</span> Dummy0, Dummy1;</div>
<div class="line"><a name="l03276"></a><span class="lineno"> 3276</span>&#160;  <span class="keywordtype">bool</span> Offset0IsScalable, Offset1IsScalable;</div>
<div class="line"><a name="l03277"></a><span class="lineno"> 3277</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1SIInstrInfo.html#a28183beb0c1d8ce3fcdbb11b26467b0d">getMemOperandsWithOffsetWidth</a>(MIa, BaseOps0, Offset0, Offset0IsScalable,</div>
<div class="line"><a name="l03278"></a><span class="lineno"> 3278</span>&#160;                                     Dummy0, &amp;RI) ||</div>
<div class="line"><a name="l03279"></a><span class="lineno"> 3279</span>&#160;      !<a class="code" href="classllvm_1_1SIInstrInfo.html#a28183beb0c1d8ce3fcdbb11b26467b0d">getMemOperandsWithOffsetWidth</a>(MIb, BaseOps1, Offset1, Offset1IsScalable,</div>
<div class="line"><a name="l03280"></a><span class="lineno"> 3280</span>&#160;                                     Dummy1, &amp;RI))</div>
<div class="line"><a name="l03281"></a><span class="lineno"> 3281</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03282"></a><span class="lineno"> 3282</span>&#160; </div>
<div class="line"><a name="l03283"></a><span class="lineno"> 3283</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="SIInstrInfo_8cpp.html#a51d820fe919d94f220e21e9d1f7361ad">memOpsHaveSameBaseOperands</a>(BaseOps0, BaseOps1))</div>
<div class="line"><a name="l03284"></a><span class="lineno"> 3284</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03285"></a><span class="lineno"> 3285</span>&#160; </div>
<div class="line"><a name="l03286"></a><span class="lineno"> 3286</span>&#160;  <span class="keywordflow">if</span> (!MIa.<a class="code" href="classllvm_1_1MachineInstr.html#a999795324f5e7c578a97992d780080f1">hasOneMemOperand</a>() || !MIb.<a class="code" href="classllvm_1_1MachineInstr.html#a999795324f5e7c578a97992d780080f1">hasOneMemOperand</a>()) {</div>
<div class="line"><a name="l03287"></a><span class="lineno"> 3287</span>&#160;    <span class="comment">// FIXME: Handle ds_read2 / ds_write2.</span></div>
<div class="line"><a name="l03288"></a><span class="lineno"> 3288</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03289"></a><span class="lineno"> 3289</span>&#160;  }</div>
<div class="line"><a name="l03290"></a><span class="lineno"> 3290</span>&#160;  <span class="keywordtype">unsigned</span> Width0 = MIa.<a class="code" href="classllvm_1_1MachineInstr.html#ae268a410689383a83e98b5e83296e38a">memoperands</a>().front()-&gt;getSize();</div>
<div class="line"><a name="l03291"></a><span class="lineno"> 3291</span>&#160;  <span class="keywordtype">unsigned</span> Width1 = MIb.<a class="code" href="classllvm_1_1MachineInstr.html#ae268a410689383a83e98b5e83296e38a">memoperands</a>().front()-&gt;getSize();</div>
<div class="line"><a name="l03292"></a><span class="lineno"> 3292</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="SIInstrInfo_8cpp.html#a371a0e609706909389a3fe7359e16485">offsetsDoNotOverlap</a>(Width0, Offset0, Width1, Offset1);</div>
<div class="line"><a name="l03293"></a><span class="lineno"> 3293</span>&#160;}</div>
<div class="line"><a name="l03294"></a><span class="lineno"> 3294</span>&#160; </div>
<div class="line"><a name="l03295"></a><span class="lineno"><a class="line" href="classllvm_1_1SIInstrInfo.html#af724c54b41bc0a366bf3197f2855ce83"> 3295</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1SIInstrInfo.html#af724c54b41bc0a366bf3197f2855ce83">SIInstrInfo::areMemAccessesTriviallyDisjoint</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;MIa,</div>
<div class="line"><a name="l03296"></a><span class="lineno"> 3296</span>&#160;                                                  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;MIb)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l03297"></a><span class="lineno"> 3297</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(MIa.<a class="code" href="classllvm_1_1MachineInstr.html#a17f5d15a7320dec2cfefb6617f711ab7">mayLoadOrStore</a>() &amp;&amp;</div>
<div class="line"><a name="l03298"></a><span class="lineno"> 3298</span>&#160;         <span class="stringliteral">&quot;MIa must load from or modify a memory location&quot;</span>);</div>
<div class="line"><a name="l03299"></a><span class="lineno"> 3299</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(MIb.<a class="code" href="classllvm_1_1MachineInstr.html#a17f5d15a7320dec2cfefb6617f711ab7">mayLoadOrStore</a>() &amp;&amp;</div>
<div class="line"><a name="l03300"></a><span class="lineno"> 3300</span>&#160;         <span class="stringliteral">&quot;MIb must load from or modify a memory location&quot;</span>);</div>
<div class="line"><a name="l03301"></a><span class="lineno"> 3301</span>&#160; </div>
<div class="line"><a name="l03302"></a><span class="lineno"> 3302</span>&#160;  <span class="keywordflow">if</span> (MIa.<a class="code" href="classllvm_1_1MachineInstr.html#a8c161f5f015730ac6853c802c3693a41">hasUnmodeledSideEffects</a>() || MIb.<a class="code" href="classllvm_1_1MachineInstr.html#a8c161f5f015730ac6853c802c3693a41">hasUnmodeledSideEffects</a>())</div>
<div class="line"><a name="l03303"></a><span class="lineno"> 3303</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03304"></a><span class="lineno"> 3304</span>&#160; </div>
<div class="line"><a name="l03305"></a><span class="lineno"> 3305</span>&#160;  <span class="comment">// XXX - Can we relax this between address spaces?</span></div>
<div class="line"><a name="l03306"></a><span class="lineno"> 3306</span>&#160;  <span class="keywordflow">if</span> (MIa.<a class="code" href="classllvm_1_1MachineInstr.html#aabc3917d917c6247778c88107945d13b">hasOrderedMemoryRef</a>() || MIb.<a class="code" href="classllvm_1_1MachineInstr.html#aabc3917d917c6247778c88107945d13b">hasOrderedMemoryRef</a>())</div>
<div class="line"><a name="l03307"></a><span class="lineno"> 3307</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03308"></a><span class="lineno"> 3308</span>&#160; </div>
<div class="line"><a name="l03309"></a><span class="lineno"> 3309</span>&#160;  <span class="comment">// TODO: Should we check the address space from the MachineMemOperand? That</span></div>
<div class="line"><a name="l03310"></a><span class="lineno"> 3310</span>&#160;  <span class="comment">// would allow us to distinguish objects we know don&#39;t alias based on the</span></div>
<div class="line"><a name="l03311"></a><span class="lineno"> 3311</span>&#160;  <span class="comment">// underlying address space, even if it was lowered to a different one,</span></div>
<div class="line"><a name="l03312"></a><span class="lineno"> 3312</span>&#160;  <span class="comment">// e.g. private accesses lowered to use MUBUF instructions on a scratch</span></div>
<div class="line"><a name="l03313"></a><span class="lineno"> 3313</span>&#160;  <span class="comment">// buffer.</span></div>
<div class="line"><a name="l03314"></a><span class="lineno"> 3314</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SIInstrInfo.html#a08b60e6be6801b1f90d723990ef68009">isDS</a>(MIa)) {</div>
<div class="line"><a name="l03315"></a><span class="lineno"> 3315</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SIInstrInfo.html#a08b60e6be6801b1f90d723990ef68009">isDS</a>(MIb))</div>
<div class="line"><a name="l03316"></a><span class="lineno"> 3316</span>&#160;      <span class="keywordflow">return</span> checkInstOffsetsDoNotOverlap(MIa, MIb);</div>
<div class="line"><a name="l03317"></a><span class="lineno"> 3317</span>&#160; </div>
<div class="line"><a name="l03318"></a><span class="lineno"> 3318</span>&#160;    <span class="keywordflow">return</span> !<a class="code" href="classllvm_1_1SIInstrInfo.html#adc3333d2d5974f4068df84f8706fc7d2">isFLAT</a>(MIb) || <a class="code" href="classllvm_1_1SIInstrInfo.html#a8ed947ddafde5421d3f771f43f9c04d1">isSegmentSpecificFLAT</a>(MIb);</div>
<div class="line"><a name="l03319"></a><span class="lineno"> 3319</span>&#160;  }</div>
<div class="line"><a name="l03320"></a><span class="lineno"> 3320</span>&#160; </div>
<div class="line"><a name="l03321"></a><span class="lineno"> 3321</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SIInstrInfo.html#a8616d2d8f4c04005569e89bcfe67e421">isMUBUF</a>(MIa) || <a class="code" href="classllvm_1_1SIInstrInfo.html#a2c6289dfab83449b3f69792b35277cac">isMTBUF</a>(MIa)) {</div>
<div class="line"><a name="l03322"></a><span class="lineno"> 3322</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SIInstrInfo.html#a8616d2d8f4c04005569e89bcfe67e421">isMUBUF</a>(MIb) || <a class="code" href="classllvm_1_1SIInstrInfo.html#a2c6289dfab83449b3f69792b35277cac">isMTBUF</a>(MIb))</div>
<div class="line"><a name="l03323"></a><span class="lineno"> 3323</span>&#160;      <span class="keywordflow">return</span> checkInstOffsetsDoNotOverlap(MIa, MIb);</div>
<div class="line"><a name="l03324"></a><span class="lineno"> 3324</span>&#160; </div>
<div class="line"><a name="l03325"></a><span class="lineno"> 3325</span>&#160;    <span class="keywordflow">return</span> !<a class="code" href="classllvm_1_1SIInstrInfo.html#adc3333d2d5974f4068df84f8706fc7d2">isFLAT</a>(MIb) &amp;&amp; !<a class="code" href="classllvm_1_1SIInstrInfo.html#a1c990a34866f377751f50f112cef61bc">isSMRD</a>(MIb);</div>
<div class="line"><a name="l03326"></a><span class="lineno"> 3326</span>&#160;  }</div>
<div class="line"><a name="l03327"></a><span class="lineno"> 3327</span>&#160; </div>
<div class="line"><a name="l03328"></a><span class="lineno"> 3328</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SIInstrInfo.html#a1c990a34866f377751f50f112cef61bc">isSMRD</a>(MIa)) {</div>
<div class="line"><a name="l03329"></a><span class="lineno"> 3329</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SIInstrInfo.html#a1c990a34866f377751f50f112cef61bc">isSMRD</a>(MIb))</div>
<div class="line"><a name="l03330"></a><span class="lineno"> 3330</span>&#160;      <span class="keywordflow">return</span> checkInstOffsetsDoNotOverlap(MIa, MIb);</div>
<div class="line"><a name="l03331"></a><span class="lineno"> 3331</span>&#160; </div>
<div class="line"><a name="l03332"></a><span class="lineno"> 3332</span>&#160;    <span class="keywordflow">return</span> !<a class="code" href="classllvm_1_1SIInstrInfo.html#adc3333d2d5974f4068df84f8706fc7d2">isFLAT</a>(MIb) &amp;&amp; !<a class="code" href="classllvm_1_1SIInstrInfo.html#a8616d2d8f4c04005569e89bcfe67e421">isMUBUF</a>(MIb) &amp;&amp; !<a class="code" href="classllvm_1_1SIInstrInfo.html#a2c6289dfab83449b3f69792b35277cac">isMTBUF</a>(MIb);</div>
<div class="line"><a name="l03333"></a><span class="lineno"> 3333</span>&#160;  }</div>
<div class="line"><a name="l03334"></a><span class="lineno"> 3334</span>&#160; </div>
<div class="line"><a name="l03335"></a><span class="lineno"> 3335</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SIInstrInfo.html#adc3333d2d5974f4068df84f8706fc7d2">isFLAT</a>(MIa)) {</div>
<div class="line"><a name="l03336"></a><span class="lineno"> 3336</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SIInstrInfo.html#adc3333d2d5974f4068df84f8706fc7d2">isFLAT</a>(MIb))</div>
<div class="line"><a name="l03337"></a><span class="lineno"> 3337</span>&#160;      <span class="keywordflow">return</span> checkInstOffsetsDoNotOverlap(MIa, MIb);</div>
<div class="line"><a name="l03338"></a><span class="lineno"> 3338</span>&#160; </div>
<div class="line"><a name="l03339"></a><span class="lineno"> 3339</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03340"></a><span class="lineno"> 3340</span>&#160;  }</div>
<div class="line"><a name="l03341"></a><span class="lineno"> 3341</span>&#160; </div>
<div class="line"><a name="l03342"></a><span class="lineno"> 3342</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03343"></a><span class="lineno"> 3343</span>&#160;}</div>
<div class="line"><a name="l03344"></a><span class="lineno"> 3344</span>&#160; </div>
<div class="line"><a name="l03345"></a><span class="lineno"><a class="line" href="SIInstrInfo_8cpp.html#a7326d1a0ae53d6dece409404840c5e6f"> 3345</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="SIInstrInfo_8cpp.html#a7326d1a0ae53d6dece409404840c5e6f">getFoldableImm</a>(<a class="code" href="classllvm_1_1Register.html">Register</a> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>,</div>
<div class="line"><a name="l03346"></a><span class="lineno"> 3346</span>&#160;                           int64_t &amp;<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>, <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> **<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a> = <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l03347"></a><span class="lineno"> 3347</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>.isPhysical())</div>
<div class="line"><a name="l03348"></a><span class="lineno"> 3348</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03349"></a><span class="lineno"> 3349</span>&#160;  <span class="keyword">auto</span> *<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a> = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#af988c2b4f62506108843a0fdc04b43a2">getUniqueVRegDef</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>);</div>
<div class="line"><a name="l03350"></a><span class="lineno"> 3350</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a> &amp;&amp; <a class="code" href="classllvm_1_1SIInstrInfo.html#a826c5f2bb260d27a430d48225e03383e">SIInstrInfo::isFoldableCopy</a>(*<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a>) &amp;&amp; <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a>-&gt;getOperand(1).isImm()) {</div>
<div class="line"><a name="l03351"></a><span class="lineno"> 3351</span>&#160;    <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> = <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a>-&gt;getOperand(1).getImm();</div>
<div class="line"><a name="l03352"></a><span class="lineno"> 3352</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a>)</div>
<div class="line"><a name="l03353"></a><span class="lineno"> 3353</span>&#160;      *<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a> = <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a>;</div>
<div class="line"><a name="l03354"></a><span class="lineno"> 3354</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03355"></a><span class="lineno"> 3355</span>&#160;  }</div>
<div class="line"><a name="l03356"></a><span class="lineno"> 3356</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03357"></a><span class="lineno"> 3357</span>&#160;}</div>
<div class="line"><a name="l03358"></a><span class="lineno"> 3358</span>&#160; </div>
<div class="line"><a name="l03359"></a><span class="lineno"><a class="line" href="SIInstrInfo_8cpp.html#a23c3c91648996442b88f0c53cf1415d8"> 3359</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="SIInstrInfo_8cpp.html#a7326d1a0ae53d6dece409404840c5e6f">getFoldableImm</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> *MO, int64_t &amp;<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>,</div>
<div class="line"><a name="l03360"></a><span class="lineno"> 3360</span>&#160;                           <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> **<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a> = <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l03361"></a><span class="lineno"> 3361</span>&#160;  <span class="keywordflow">if</span> (!MO-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#a4c9594c955fec80c73ddd964b5efd554">isReg</a>())</div>
<div class="line"><a name="l03362"></a><span class="lineno"> 3362</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03363"></a><span class="lineno"> 3363</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> *MF = MO-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#acad8fe90886f92eabced0c2f9bd0e6f5">getParent</a>()-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a002fd916e7206e01d512eeb06d405cf0">getParent</a>()-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#a4e21760f681d6f97f95c8414e7b83ea5">getParent</a>();</div>
<div class="line"><a name="l03364"></a><span class="lineno"> 3364</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a> = MF-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>();</div>
<div class="line"><a name="l03365"></a><span class="lineno"> 3365</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="SIInstrInfo_8cpp.html#a7326d1a0ae53d6dece409404840c5e6f">getFoldableImm</a>(MO-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>(), <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>, <a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a>);</div>
<div class="line"><a name="l03366"></a><span class="lineno"> 3366</span>&#160;}</div>
<div class="line"><a name="l03367"></a><span class="lineno"> 3367</span>&#160; </div>
<div class="line"><a name="l03368"></a><span class="lineno"><a class="line" href="SIInstrInfo_8cpp.html#a8edb2219f51b89b23621bd1da1dfd6f8"> 3368</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="SIInstrInfo_8cpp.html#a8edb2219f51b89b23621bd1da1dfd6f8">updateLiveVariables</a>(<a class="code" href="classllvm_1_1LiveVariables.html">LiveVariables</a> *LV, <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>,</div>
<div class="line"><a name="l03369"></a><span class="lineno"> 3369</span>&#160;                                <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;NewMI) {</div>
<div class="line"><a name="l03370"></a><span class="lineno"> 3370</span>&#160;  <span class="keywordflow">if</span> (LV) {</div>
<div class="line"><a name="l03371"></a><span class="lineno"> 3371</span>&#160;    <span class="keywordtype">unsigned</span> NumOps = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getNumOperands();</div>
<div class="line"><a name="l03372"></a><span class="lineno"> 3372</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 1; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> &lt; NumOps; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l03373"></a><span class="lineno"> 3373</span>&#160;      <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l03374"></a><span class="lineno"> 3374</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.isReg() &amp;&amp; <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.isKill())</div>
<div class="line"><a name="l03375"></a><span class="lineno"> 3375</span>&#160;        LV-&gt;<a class="code" href="classllvm_1_1LiveVariables.html#a007ef08997c0b0391aaebc27e257062c">replaceKillInstruction</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getReg(), <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, NewMI);</div>
<div class="line"><a name="l03376"></a><span class="lineno"> 3376</span>&#160;    }</div>
<div class="line"><a name="l03377"></a><span class="lineno"> 3377</span>&#160;  }</div>
<div class="line"><a name="l03378"></a><span class="lineno"> 3378</span>&#160;}</div>
<div class="line"><a name="l03379"></a><span class="lineno"> 3379</span>&#160; </div>
<div class="line"><a name="l03380"></a><span class="lineno"><a class="line" href="classllvm_1_1SIInstrInfo.html#ad4445a2ce5876c120e2a6e6796edaf5c"> 3380</a></span>&#160;<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="classllvm_1_1SIInstrInfo.html#ad4445a2ce5876c120e2a6e6796edaf5c">SIInstrInfo::convertToThreeAddress</a>(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>,</div>
<div class="line"><a name="l03381"></a><span class="lineno"> 3381</span>&#160;                                                 <a class="code" href="classllvm_1_1LiveVariables.html">LiveVariables</a> *LV,</div>
<div class="line"><a name="l03382"></a><span class="lineno"> 3382</span>&#160;                                                 <a class="code" href="classllvm_1_1LiveIntervals.html">LiveIntervals</a> *LIS)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l03383"></a><span class="lineno"> 3383</span>&#160;  <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a> = *<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getParent();</div>
<div class="line"><a name="l03384"></a><span class="lineno"> 3384</span>&#160;  <span class="keywordtype">unsigned</span> Opc = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode();</div>
<div class="line"><a name="l03385"></a><span class="lineno"> 3385</span>&#160; </div>
<div class="line"><a name="l03386"></a><span class="lineno"> 3386</span>&#160;  <span class="comment">// Handle MFMA.</span></div>
<div class="line"><a name="l03387"></a><span class="lineno"> 3387</span>&#160;  <span class="keywordtype">int</span> NewMFMAOpc = <a class="code" href="namespacellvm_1_1AMDGPU.html#a5ff7467be99b93194854ce84b534f711">AMDGPU::getMFMAEarlyClobberOp</a>(Opc);</div>
<div class="line"><a name="l03388"></a><span class="lineno"> 3388</span>&#160;  <span class="keywordflow">if</span> (NewMFMAOpc != -1) {</div>
<div class="line"><a name="l03389"></a><span class="lineno"> 3389</span>&#160;    <a class="code" href="classllvm_1_1MachineInstrBuilder.html">MachineInstrBuilder</a> MIB =</div>
<div class="line"><a name="l03390"></a><span class="lineno"> 3390</span>&#160;        <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getDebugLoc(), <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(NewMFMAOpc));</div>
<div class="line"><a name="l03391"></a><span class="lineno"> 3391</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 0, <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getNumOperands(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</div>
<div class="line"><a name="l03392"></a><span class="lineno"> 3392</span>&#160;      MIB.<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a1ac8d27532cfd1d1f032ecbff2ba3611">add</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>));</div>
<div class="line"><a name="l03393"></a><span class="lineno"> 3393</span>&#160;    <a class="code" href="SIInstrInfo_8cpp.html#a8edb2219f51b89b23621bd1da1dfd6f8">updateLiveVariables</a>(LV, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, *MIB);</div>
<div class="line"><a name="l03394"></a><span class="lineno"> 3394</span>&#160;    <span class="keywordflow">if</span> (LIS)</div>
<div class="line"><a name="l03395"></a><span class="lineno"> 3395</span>&#160;      LIS-&gt;<a class="code" href="classllvm_1_1LiveIntervals.html#afbdfb2cc5decd8f22ea3ccc1ecea4028">ReplaceMachineInstrInMaps</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, *MIB);</div>
<div class="line"><a name="l03396"></a><span class="lineno"> 3396</span>&#160;    <span class="keywordflow">return</span> MIB;</div>
<div class="line"><a name="l03397"></a><span class="lineno"> 3397</span>&#160;  }</div>
<div class="line"><a name="l03398"></a><span class="lineno"> 3398</span>&#160; </div>
<div class="line"><a name="l03399"></a><span class="lineno"> 3399</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SIInstrInfo.html#ad20315758fcf345ce175df966fae0c82">SIInstrInfo::isWMMA</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>)) {</div>
<div class="line"><a name="l03400"></a><span class="lineno"> 3400</span>&#160;    <span class="keywordtype">unsigned</span> NewOpc = <a class="code" href="namespacellvm_1_1AMDGPU.html#a2006d74041f6c3411ccd43a4ce7e610b">AMDGPU::mapWMMA2AddrTo3AddrOpcode</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode());</div>
<div class="line"><a name="l03401"></a><span class="lineno"> 3401</span>&#160;    <a class="code" href="classllvm_1_1MachineInstrBuilder.html">MachineInstrBuilder</a> MIB = <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getDebugLoc(), <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(NewOpc))</div>
<div class="line"><a name="l03402"></a><span class="lineno"> 3402</span>&#160;                                  .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a860467662b17cef898ece774ab400235">setMIFlags</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getFlags());</div>
<div class="line"><a name="l03403"></a><span class="lineno"> 3403</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 0, <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getNumOperands(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</div>
<div class="line"><a name="l03404"></a><span class="lineno"> 3404</span>&#160;      MIB-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a469e271fba3a9b52dad4fa54eaf44e2b">addOperand</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>));</div>
<div class="line"><a name="l03405"></a><span class="lineno"> 3405</span>&#160; </div>
<div class="line"><a name="l03406"></a><span class="lineno"> 3406</span>&#160;    <a class="code" href="SIInstrInfo_8cpp.html#a8edb2219f51b89b23621bd1da1dfd6f8">updateLiveVariables</a>(LV, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, *MIB);</div>
<div class="line"><a name="l03407"></a><span class="lineno"> 3407</span>&#160;    <span class="keywordflow">if</span> (LIS)</div>
<div class="line"><a name="l03408"></a><span class="lineno"> 3408</span>&#160;      LIS-&gt;<a class="code" href="classllvm_1_1LiveIntervals.html#afbdfb2cc5decd8f22ea3ccc1ecea4028">ReplaceMachineInstrInMaps</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, *MIB);</div>
<div class="line"><a name="l03409"></a><span class="lineno"> 3409</span>&#160; </div>
<div class="line"><a name="l03410"></a><span class="lineno"> 3410</span>&#160;    <span class="keywordflow">return</span> MIB;</div>
<div class="line"><a name="l03411"></a><span class="lineno"> 3411</span>&#160;  }</div>
<div class="line"><a name="l03412"></a><span class="lineno"> 3412</span>&#160; </div>
<div class="line"><a name="l03413"></a><span class="lineno"> 3413</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Opc != AMDGPU::V_FMAC_F16_t16_e32 &amp;&amp;</div>
<div class="line"><a name="l03414"></a><span class="lineno"> 3414</span>&#160;         <span class="stringliteral">&quot;V_FMAC_F16_t16_e32 is not supported and not expected to be present &quot;</span></div>
<div class="line"><a name="l03415"></a><span class="lineno"> 3415</span>&#160;         <span class="stringliteral">&quot;pre-RA&quot;</span>);</div>
<div class="line"><a name="l03416"></a><span class="lineno"> 3416</span>&#160; </div>
<div class="line"><a name="l03417"></a><span class="lineno"> 3417</span>&#160;  <span class="comment">// Handle MAC/FMAC.</span></div>
<div class="line"><a name="l03418"></a><span class="lineno"> 3418</span>&#160;  <span class="keywordtype">bool</span> IsF16 = Opc == AMDGPU::V_MAC_F16_e32 || Opc == AMDGPU::V_MAC_F16_e64 ||</div>
<div class="line"><a name="l03419"></a><span class="lineno"> 3419</span>&#160;               Opc == AMDGPU::V_FMAC_F16_e32 || Opc == AMDGPU::V_FMAC_F16_e64 ||</div>
<div class="line"><a name="l03420"></a><span class="lineno"> 3420</span>&#160;               Opc == AMDGPU::V_FMAC_F16_t16_e64;</div>
<div class="line"><a name="l03421"></a><span class="lineno"> 3421</span>&#160;  <span class="keywordtype">bool</span> IsFMA = Opc == AMDGPU::V_FMAC_F32_e32 || Opc == AMDGPU::V_FMAC_F32_e64 ||</div>
<div class="line"><a name="l03422"></a><span class="lineno"> 3422</span>&#160;               Opc == AMDGPU::V_FMAC_LEGACY_F32_e32 ||</div>
<div class="line"><a name="l03423"></a><span class="lineno"> 3423</span>&#160;               Opc == AMDGPU::V_FMAC_LEGACY_F32_e64 ||</div>
<div class="line"><a name="l03424"></a><span class="lineno"> 3424</span>&#160;               Opc == AMDGPU::V_FMAC_F16_e32 || Opc == AMDGPU::V_FMAC_F16_e64 ||</div>
<div class="line"><a name="l03425"></a><span class="lineno"> 3425</span>&#160;               Opc == AMDGPU::V_FMAC_F16_t16_e64 ||</div>
<div class="line"><a name="l03426"></a><span class="lineno"> 3426</span>&#160;               Opc == AMDGPU::V_FMAC_F64_e32 || Opc == AMDGPU::V_FMAC_F64_e64;</div>
<div class="line"><a name="l03427"></a><span class="lineno"> 3427</span>&#160;  <span class="keywordtype">bool</span> IsF64 = Opc == AMDGPU::V_FMAC_F64_e32 || Opc == AMDGPU::V_FMAC_F64_e64;</div>
<div class="line"><a name="l03428"></a><span class="lineno"> 3428</span>&#160;  <span class="keywordtype">bool</span> IsLegacy = Opc == AMDGPU::V_MAC_LEGACY_F32_e32 ||</div>
<div class="line"><a name="l03429"></a><span class="lineno"> 3429</span>&#160;                  Opc == AMDGPU::V_MAC_LEGACY_F32_e64 ||</div>
<div class="line"><a name="l03430"></a><span class="lineno"> 3430</span>&#160;                  Opc == AMDGPU::V_FMAC_LEGACY_F32_e32 ||</div>
<div class="line"><a name="l03431"></a><span class="lineno"> 3431</span>&#160;                  Opc == AMDGPU::V_FMAC_LEGACY_F32_e64;</div>
<div class="line"><a name="l03432"></a><span class="lineno"> 3432</span>&#160;  <span class="keywordtype">bool</span> Src0Literal = <span class="keyword">false</span>;</div>
<div class="line"><a name="l03433"></a><span class="lineno"> 3433</span>&#160; </div>
<div class="line"><a name="l03434"></a><span class="lineno"> 3434</span>&#160;  <span class="keywordflow">switch</span> (Opc) {</div>
<div class="line"><a name="l03435"></a><span class="lineno"> 3435</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l03436"></a><span class="lineno"> 3436</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l03437"></a><span class="lineno"> 3437</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_MAC_F16_e64:</div>
<div class="line"><a name="l03438"></a><span class="lineno"> 3438</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_FMAC_F16_e64:</div>
<div class="line"><a name="l03439"></a><span class="lineno"> 3439</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_FMAC_F16_t16_e64:</div>
<div class="line"><a name="l03440"></a><span class="lineno"> 3440</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_MAC_F32_e64:</div>
<div class="line"><a name="l03441"></a><span class="lineno"> 3441</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_MAC_LEGACY_F32_e64:</div>
<div class="line"><a name="l03442"></a><span class="lineno"> 3442</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_FMAC_F32_e64:</div>
<div class="line"><a name="l03443"></a><span class="lineno"> 3443</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_FMAC_LEGACY_F32_e64:</div>
<div class="line"><a name="l03444"></a><span class="lineno"> 3444</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_FMAC_F64_e64:</div>
<div class="line"><a name="l03445"></a><span class="lineno"> 3445</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03446"></a><span class="lineno"> 3446</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_MAC_F16_e32:</div>
<div class="line"><a name="l03447"></a><span class="lineno"> 3447</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_FMAC_F16_e32:</div>
<div class="line"><a name="l03448"></a><span class="lineno"> 3448</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_MAC_F32_e32:</div>
<div class="line"><a name="l03449"></a><span class="lineno"> 3449</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_MAC_LEGACY_F32_e32:</div>
<div class="line"><a name="l03450"></a><span class="lineno"> 3450</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_FMAC_F32_e32:</div>
<div class="line"><a name="l03451"></a><span class="lineno"> 3451</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_FMAC_LEGACY_F32_e32:</div>
<div class="line"><a name="l03452"></a><span class="lineno"> 3452</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_FMAC_F64_e32: {</div>
<div class="line"><a name="l03453"></a><span class="lineno"> 3453</span>&#160;    <span class="keywordtype">int</span> Src0Idx = <a class="code" href="namespacellvm_1_1AMDGPU.html#a27efe1286cc31f5fc95355af30b0356c">AMDGPU::getNamedOperandIdx</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode(),</div>
<div class="line"><a name="l03454"></a><span class="lineno"> 3454</span>&#160;                                             AMDGPU::OpName::src0);</div>
<div class="line"><a name="l03455"></a><span class="lineno"> 3455</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> *Src0 = &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(Src0Idx);</div>
<div class="line"><a name="l03456"></a><span class="lineno"> 3456</span>&#160;    <span class="keywordflow">if</span> (!Src0-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#a4c9594c955fec80c73ddd964b5efd554">isReg</a>() &amp;&amp; !Src0-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#a76f61c6784df6dc8402a8b9011041926">isImm</a>())</div>
<div class="line"><a name="l03457"></a><span class="lineno"> 3457</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l03458"></a><span class="lineno"> 3458</span>&#160; </div>
<div class="line"><a name="l03459"></a><span class="lineno"> 3459</span>&#160;    <span class="keywordflow">if</span> (Src0-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#a76f61c6784df6dc8402a8b9011041926">isImm</a>() &amp;&amp; !<a class="code" href="classllvm_1_1SIInstrInfo.html#a0480d6290cd95e40641f2af7a18fb764">isInlineConstant</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, Src0Idx, *Src0))</div>
<div class="line"><a name="l03460"></a><span class="lineno"> 3460</span>&#160;      Src0Literal = <span class="keyword">true</span>;</div>
<div class="line"><a name="l03461"></a><span class="lineno"> 3461</span>&#160; </div>
<div class="line"><a name="l03462"></a><span class="lineno"> 3462</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03463"></a><span class="lineno"> 3463</span>&#160;  }</div>
<div class="line"><a name="l03464"></a><span class="lineno"> 3464</span>&#160;  }</div>
<div class="line"><a name="l03465"></a><span class="lineno"> 3465</span>&#160; </div>
<div class="line"><a name="l03466"></a><span class="lineno"> 3466</span>&#160;  <a class="code" href="classllvm_1_1MachineInstrBuilder.html">MachineInstrBuilder</a> MIB;</div>
<div class="line"><a name="l03467"></a><span class="lineno"> 3467</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> *Dst = <a class="code" href="classllvm_1_1SIInstrInfo.html#a61297a04e9cd91c9658b9affecdd9797">getNamedOperand</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, AMDGPU::OpName::vdst);</div>
<div class="line"><a name="l03468"></a><span class="lineno"> 3468</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> *Src0 = <a class="code" href="classllvm_1_1SIInstrInfo.html#a61297a04e9cd91c9658b9affecdd9797">getNamedOperand</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, AMDGPU::OpName::src0);</div>
<div class="line"><a name="l03469"></a><span class="lineno"> 3469</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> *Src0Mods =</div>
<div class="line"><a name="l03470"></a><span class="lineno"> 3470</span>&#160;    <a class="code" href="classllvm_1_1SIInstrInfo.html#a61297a04e9cd91c9658b9affecdd9797">getNamedOperand</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, AMDGPU::OpName::src0_modifiers);</div>
<div class="line"><a name="l03471"></a><span class="lineno"> 3471</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> *Src1 = <a class="code" href="classllvm_1_1SIInstrInfo.html#a61297a04e9cd91c9658b9affecdd9797">getNamedOperand</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, AMDGPU::OpName::src1);</div>
<div class="line"><a name="l03472"></a><span class="lineno"> 3472</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> *Src1Mods =</div>
<div class="line"><a name="l03473"></a><span class="lineno"> 3473</span>&#160;    <a class="code" href="classllvm_1_1SIInstrInfo.html#a61297a04e9cd91c9658b9affecdd9797">getNamedOperand</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, AMDGPU::OpName::src1_modifiers);</div>
<div class="line"><a name="l03474"></a><span class="lineno"> 3474</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> *Src2 = <a class="code" href="classllvm_1_1SIInstrInfo.html#a61297a04e9cd91c9658b9affecdd9797">getNamedOperand</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, AMDGPU::OpName::src2);</div>
<div class="line"><a name="l03475"></a><span class="lineno"> 3475</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> *Src2Mods =</div>
<div class="line"><a name="l03476"></a><span class="lineno"> 3476</span>&#160;      <a class="code" href="classllvm_1_1SIInstrInfo.html#a61297a04e9cd91c9658b9affecdd9797">getNamedOperand</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, AMDGPU::OpName::src2_modifiers);</div>
<div class="line"><a name="l03477"></a><span class="lineno"> 3477</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> *Clamp = <a class="code" href="classllvm_1_1SIInstrInfo.html#a61297a04e9cd91c9658b9affecdd9797">getNamedOperand</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, AMDGPU::OpName::clamp);</div>
<div class="line"><a name="l03478"></a><span class="lineno"> 3478</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> *Omod = <a class="code" href="classllvm_1_1SIInstrInfo.html#a61297a04e9cd91c9658b9affecdd9797">getNamedOperand</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, AMDGPU::OpName::omod);</div>
<div class="line"><a name="l03479"></a><span class="lineno"> 3479</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> *<a class="code" href="namespacellvm_1_1AMDGPU_1_1VOP3PEncoding.html#a3594a9012d044a9ee2e7df2a82a90a65">OpSel</a> = <a class="code" href="classllvm_1_1SIInstrInfo.html#a61297a04e9cd91c9658b9affecdd9797">getNamedOperand</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, AMDGPU::OpName::op_sel);</div>
<div class="line"><a name="l03480"></a><span class="lineno"> 3480</span>&#160; </div>
<div class="line"><a name="l03481"></a><span class="lineno"> 3481</span>&#160;  <span class="keywordflow">if</span> (!Src0Mods &amp;&amp; !Src1Mods &amp;&amp; !Src2Mods &amp;&amp; !Clamp &amp;&amp; !Omod &amp;&amp; !IsF64 &amp;&amp;</div>
<div class="line"><a name="l03482"></a><span class="lineno"> 3482</span>&#160;      !IsLegacy &amp;&amp;</div>
<div class="line"><a name="l03483"></a><span class="lineno"> 3483</span>&#160;      <span class="comment">// If we have an SGPR input, we will violate the constant bus restriction.</span></div>
<div class="line"><a name="l03484"></a><span class="lineno"> 3484</span>&#160;      (ST.<a class="code" href="classllvm_1_1GCNSubtarget.html#a33a600e1b2e066f85e6a2bb588a7f3f1">getConstantBusLimit</a>(Opc) &gt; 1 || !Src0-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#a4c9594c955fec80c73ddd964b5efd554">isReg</a>() ||</div>
<div class="line"><a name="l03485"></a><span class="lineno"> 3485</span>&#160;       !RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#a980c731f7723b02b66010f4fce010c0f">isSGPRReg</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a4e21760f681d6f97f95c8414e7b83ea5">getParent</a>()-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>(), Src0-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>()))) {</div>
<div class="line"><a name="l03486"></a><span class="lineno"> 3486</span>&#160;    <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a>;</div>
<div class="line"><a name="l03487"></a><span class="lineno"> 3487</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> killDef = [&amp;]() -&gt; <span class="keywordtype">void</span> {</div>
<div class="line"><a name="l03488"></a><span class="lineno"> 3488</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a> = <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a4e21760f681d6f97f95c8414e7b83ea5">getParent</a>()-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>();</div>
<div class="line"><a name="l03489"></a><span class="lineno"> 3489</span>&#160;      <span class="comment">// The only user is the instruction which will be killed.</span></div>
<div class="line"><a name="l03490"></a><span class="lineno"> 3490</span>&#160;      <a class="code" href="classllvm_1_1Register.html">Register</a> DefReg = <a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a>-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>();</div>
<div class="line"><a name="l03491"></a><span class="lineno"> 3491</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a01bf72631b0bc836a8c07fe840b13233">hasOneNonDBGUse</a>(DefReg))</div>
<div class="line"><a name="l03492"></a><span class="lineno"> 3492</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03493"></a><span class="lineno"> 3493</span>&#160;      <span class="comment">// We cannot just remove the DefMI here, calling pass will crash.</span></div>
<div class="line"><a name="l03494"></a><span class="lineno"> 3494</span>&#160;      <a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a>-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#af11a92503408a812be672ee3efc848d3">setDesc</a>(<a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::IMPLICIT_DEF));</div>
<div class="line"><a name="l03495"></a><span class="lineno"> 3495</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = <a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a>-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a432824f0975bb863478bf4ef3a5df258">getNumOperands</a>() - 1; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != 0; --<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</div>
<div class="line"><a name="l03496"></a><span class="lineno"> 3496</span>&#160;        <a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a>-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#ac3b161ec90385105cb46a08b52139e60">removeOperand</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l03497"></a><span class="lineno"> 3497</span>&#160;      <span class="keywordflow">if</span> (LV)</div>
<div class="line"><a name="l03498"></a><span class="lineno"> 3498</span>&#160;        LV-&gt;<a class="code" href="classllvm_1_1LiveVariables.html#af73ca972d296b25a689a90fb5a0713f3">getVarInfo</a>(DefReg).<a class="code" href="structllvm_1_1LiveVariables_1_1VarInfo.html#a76321b20db4feab750d85c2329cfcbc6">AliveBlocks</a>.<a class="code" href="classllvm_1_1SparseBitVector.html#a4f223ae1e481ce22245c3c7c7736dbe9">clear</a>();</div>
<div class="line"><a name="l03499"></a><span class="lineno"> 3499</span>&#160;    };</div>
<div class="line"><a name="l03500"></a><span class="lineno"> 3500</span>&#160; </div>
<div class="line"><a name="l03501"></a><span class="lineno"> 3501</span>&#160;    int64_t <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>;</div>
<div class="line"><a name="l03502"></a><span class="lineno"> 3502</span>&#160;    <span class="keywordflow">if</span> (!Src0Literal &amp;&amp; <a class="code" href="SIInstrInfo_8cpp.html#a7326d1a0ae53d6dece409404840c5e6f">getFoldableImm</a>(Src2, <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>, &amp;<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a>)) {</div>
<div class="line"><a name="l03503"></a><span class="lineno"> 3503</span>&#160;      <span class="keywordtype">unsigned</span> NewOpc =</div>
<div class="line"><a name="l03504"></a><span class="lineno"> 3504</span>&#160;          IsFMA ? (IsF16 ? (ST.<a class="code" href="classllvm_1_1AMDGPUSubtarget.html#a8e96f06e7a928116dfdb37e0c725f990">hasTrue16BitInsts</a>() ? AMDGPU::V_FMAAK_F16_t16</div>
<div class="line"><a name="l03505"></a><span class="lineno"> 3505</span>&#160;                                                   : AMDGPU::V_FMAAK_F16)</div>
<div class="line"><a name="l03506"></a><span class="lineno"> 3506</span>&#160;                         : AMDGPU::V_FMAAK_F32)</div>
<div class="line"><a name="l03507"></a><span class="lineno"> 3507</span>&#160;                : (IsF16 ? AMDGPU::V_MADAK_F16 : AMDGPU::V_MADAK_F32);</div>
<div class="line"><a name="l03508"></a><span class="lineno"> 3508</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SIInstrInfo.html#ae25e963e7382528026a78b5c2e31c435">pseudoToMCOpcode</a>(NewOpc) != -1) {</div>
<div class="line"><a name="l03509"></a><span class="lineno"> 3509</span>&#160;        MIB = <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getDebugLoc(), <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(NewOpc))</div>
<div class="line"><a name="l03510"></a><span class="lineno"> 3510</span>&#160;                  .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a1ac8d27532cfd1d1f032ecbff2ba3611">add</a>(*Dst)</div>
<div class="line"><a name="l03511"></a><span class="lineno"> 3511</span>&#160;                  .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a1ac8d27532cfd1d1f032ecbff2ba3611">add</a>(*Src0)</div>
<div class="line"><a name="l03512"></a><span class="lineno"> 3512</span>&#160;                  .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a1ac8d27532cfd1d1f032ecbff2ba3611">add</a>(*Src1)</div>
<div class="line"><a name="l03513"></a><span class="lineno"> 3513</span>&#160;                  .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>);</div>
<div class="line"><a name="l03514"></a><span class="lineno"> 3514</span>&#160;        <a class="code" href="SIInstrInfo_8cpp.html#a8edb2219f51b89b23621bd1da1dfd6f8">updateLiveVariables</a>(LV, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, *MIB);</div>
<div class="line"><a name="l03515"></a><span class="lineno"> 3515</span>&#160;        <span class="keywordflow">if</span> (LIS)</div>
<div class="line"><a name="l03516"></a><span class="lineno"> 3516</span>&#160;          LIS-&gt;<a class="code" href="classllvm_1_1LiveIntervals.html#afbdfb2cc5decd8f22ea3ccc1ecea4028">ReplaceMachineInstrInMaps</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, *MIB);</div>
<div class="line"><a name="l03517"></a><span class="lineno"> 3517</span>&#160;        killDef();</div>
<div class="line"><a name="l03518"></a><span class="lineno"> 3518</span>&#160;        <span class="keywordflow">return</span> MIB;</div>
<div class="line"><a name="l03519"></a><span class="lineno"> 3519</span>&#160;      }</div>
<div class="line"><a name="l03520"></a><span class="lineno"> 3520</span>&#160;    }</div>
<div class="line"><a name="l03521"></a><span class="lineno"> 3521</span>&#160;    <span class="keywordtype">unsigned</span> NewOpc =</div>
<div class="line"><a name="l03522"></a><span class="lineno"> 3522</span>&#160;        IsFMA ? (IsF16 ? (ST.<a class="code" href="classllvm_1_1AMDGPUSubtarget.html#a8e96f06e7a928116dfdb37e0c725f990">hasTrue16BitInsts</a>() ? AMDGPU::V_FMAMK_F16_t16</div>
<div class="line"><a name="l03523"></a><span class="lineno"> 3523</span>&#160;                                                 : AMDGPU::V_FMAMK_F16)</div>
<div class="line"><a name="l03524"></a><span class="lineno"> 3524</span>&#160;                       : AMDGPU::V_FMAMK_F32)</div>
<div class="line"><a name="l03525"></a><span class="lineno"> 3525</span>&#160;              : (IsF16 ? AMDGPU::V_MADMK_F16 : AMDGPU::V_MADMK_F32);</div>
<div class="line"><a name="l03526"></a><span class="lineno"> 3526</span>&#160;    <span class="keywordflow">if</span> (!Src0Literal &amp;&amp; <a class="code" href="SIInstrInfo_8cpp.html#a7326d1a0ae53d6dece409404840c5e6f">getFoldableImm</a>(Src1, <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>, &amp;<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a>)) {</div>
<div class="line"><a name="l03527"></a><span class="lineno"> 3527</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SIInstrInfo.html#ae25e963e7382528026a78b5c2e31c435">pseudoToMCOpcode</a>(NewOpc) != -1) {</div>
<div class="line"><a name="l03528"></a><span class="lineno"> 3528</span>&#160;        MIB = <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getDebugLoc(), <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(NewOpc))</div>
<div class="line"><a name="l03529"></a><span class="lineno"> 3529</span>&#160;                  .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a1ac8d27532cfd1d1f032ecbff2ba3611">add</a>(*Dst)</div>
<div class="line"><a name="l03530"></a><span class="lineno"> 3530</span>&#160;                  .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a1ac8d27532cfd1d1f032ecbff2ba3611">add</a>(*Src0)</div>
<div class="line"><a name="l03531"></a><span class="lineno"> 3531</span>&#160;                  .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>)</div>
<div class="line"><a name="l03532"></a><span class="lineno"> 3532</span>&#160;                  .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a1ac8d27532cfd1d1f032ecbff2ba3611">add</a>(*Src2);</div>
<div class="line"><a name="l03533"></a><span class="lineno"> 3533</span>&#160;        <a class="code" href="SIInstrInfo_8cpp.html#a8edb2219f51b89b23621bd1da1dfd6f8">updateLiveVariables</a>(LV, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, *MIB);</div>
<div class="line"><a name="l03534"></a><span class="lineno"> 3534</span>&#160;        <span class="keywordflow">if</span> (LIS)</div>
<div class="line"><a name="l03535"></a><span class="lineno"> 3535</span>&#160;          LIS-&gt;<a class="code" href="classllvm_1_1LiveIntervals.html#afbdfb2cc5decd8f22ea3ccc1ecea4028">ReplaceMachineInstrInMaps</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, *MIB);</div>
<div class="line"><a name="l03536"></a><span class="lineno"> 3536</span>&#160;        killDef();</div>
<div class="line"><a name="l03537"></a><span class="lineno"> 3537</span>&#160;        <span class="keywordflow">return</span> MIB;</div>
<div class="line"><a name="l03538"></a><span class="lineno"> 3538</span>&#160;      }</div>
<div class="line"><a name="l03539"></a><span class="lineno"> 3539</span>&#160;    }</div>
<div class="line"><a name="l03540"></a><span class="lineno"> 3540</span>&#160;    <span class="keywordflow">if</span> (Src0Literal || <a class="code" href="SIInstrInfo_8cpp.html#a7326d1a0ae53d6dece409404840c5e6f">getFoldableImm</a>(Src0, <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>, &amp;<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a>)) {</div>
<div class="line"><a name="l03541"></a><span class="lineno"> 3541</span>&#160;      <span class="keywordflow">if</span> (Src0Literal) {</div>
<div class="line"><a name="l03542"></a><span class="lineno"> 3542</span>&#160;        <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> = Src0-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#a38b28a85f818b49d8806c150b8a5b4f7">getImm</a>();</div>
<div class="line"><a name="l03543"></a><span class="lineno"> 3543</span>&#160;        <a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l03544"></a><span class="lineno"> 3544</span>&#160;      }</div>
<div class="line"><a name="l03545"></a><span class="lineno"> 3545</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SIInstrInfo.html#ae25e963e7382528026a78b5c2e31c435">pseudoToMCOpcode</a>(NewOpc) != -1 &amp;&amp;</div>
<div class="line"><a name="l03546"></a><span class="lineno"> 3546</span>&#160;          <a class="code" href="classllvm_1_1SIInstrInfo.html#af7ee4c22ed353efa8afd9ea35e4af06f">isOperandLegal</a>(</div>
<div class="line"><a name="l03547"></a><span class="lineno"> 3547</span>&#160;              <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="namespacellvm_1_1AMDGPU.html#a27efe1286cc31f5fc95355af30b0356c">AMDGPU::getNamedOperandIdx</a>(NewOpc, AMDGPU::OpName::src0),</div>
<div class="line"><a name="l03548"></a><span class="lineno"> 3548</span>&#160;              Src1)) {</div>
<div class="line"><a name="l03549"></a><span class="lineno"> 3549</span>&#160;        MIB = <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getDebugLoc(), <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(NewOpc))</div>
<div class="line"><a name="l03550"></a><span class="lineno"> 3550</span>&#160;                  .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a1ac8d27532cfd1d1f032ecbff2ba3611">add</a>(*Dst)</div>
<div class="line"><a name="l03551"></a><span class="lineno"> 3551</span>&#160;                  .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a1ac8d27532cfd1d1f032ecbff2ba3611">add</a>(*Src1)</div>
<div class="line"><a name="l03552"></a><span class="lineno"> 3552</span>&#160;                  .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>)</div>
<div class="line"><a name="l03553"></a><span class="lineno"> 3553</span>&#160;                  .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a1ac8d27532cfd1d1f032ecbff2ba3611">add</a>(*Src2);</div>
<div class="line"><a name="l03554"></a><span class="lineno"> 3554</span>&#160;        <a class="code" href="SIInstrInfo_8cpp.html#a8edb2219f51b89b23621bd1da1dfd6f8">updateLiveVariables</a>(LV, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, *MIB);</div>
<div class="line"><a name="l03555"></a><span class="lineno"> 3555</span>&#160;        <span class="keywordflow">if</span> (LIS)</div>
<div class="line"><a name="l03556"></a><span class="lineno"> 3556</span>&#160;          LIS-&gt;<a class="code" href="classllvm_1_1LiveIntervals.html#afbdfb2cc5decd8f22ea3ccc1ecea4028">ReplaceMachineInstrInMaps</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, *MIB);</div>
<div class="line"><a name="l03557"></a><span class="lineno"> 3557</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a>)</div>
<div class="line"><a name="l03558"></a><span class="lineno"> 3558</span>&#160;          killDef();</div>
<div class="line"><a name="l03559"></a><span class="lineno"> 3559</span>&#160;        <span class="keywordflow">return</span> MIB;</div>
<div class="line"><a name="l03560"></a><span class="lineno"> 3560</span>&#160;      }</div>
<div class="line"><a name="l03561"></a><span class="lineno"> 3561</span>&#160;    }</div>
<div class="line"><a name="l03562"></a><span class="lineno"> 3562</span>&#160;  }</div>
<div class="line"><a name="l03563"></a><span class="lineno"> 3563</span>&#160; </div>
<div class="line"><a name="l03564"></a><span class="lineno"> 3564</span>&#160;  <span class="comment">// VOP2 mac/fmac with a literal operand cannot be converted to VOP3 mad/fma</span></div>
<div class="line"><a name="l03565"></a><span class="lineno"> 3565</span>&#160;  <span class="comment">// if VOP3 does not allow a literal operand.</span></div>
<div class="line"><a name="l03566"></a><span class="lineno"> 3566</span>&#160;  <span class="keywordflow">if</span> (Src0Literal &amp;&amp; !ST.<a class="code" href="classllvm_1_1GCNSubtarget.html#acfa61def62c3f39edaec6b28782f1992">hasVOP3Literal</a>())</div>
<div class="line"><a name="l03567"></a><span class="lineno"> 3567</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l03568"></a><span class="lineno"> 3568</span>&#160; </div>
<div class="line"><a name="l03569"></a><span class="lineno"> 3569</span>&#160;  <span class="keywordtype">unsigned</span> NewOpc = IsFMA ? IsF16 ? AMDGPU::V_FMA_F16_gfx9_e64</div>
<div class="line"><a name="l03570"></a><span class="lineno"> 3570</span>&#160;                                  : IsF64 ? AMDGPU::V_FMA_F64_e64</div>
<div class="line"><a name="l03571"></a><span class="lineno"> 3571</span>&#160;                                          : IsLegacy</div>
<div class="line"><a name="l03572"></a><span class="lineno"> 3572</span>&#160;                                                ? AMDGPU::V_FMA_LEGACY_F32_e64</div>
<div class="line"><a name="l03573"></a><span class="lineno"> 3573</span>&#160;                                                : AMDGPU::V_FMA_F32_e64</div>
<div class="line"><a name="l03574"></a><span class="lineno"> 3574</span>&#160;                          : IsF16 ? AMDGPU::V_MAD_F16_e64</div>
<div class="line"><a name="l03575"></a><span class="lineno"> 3575</span>&#160;                                  : IsLegacy ? AMDGPU::V_MAD_LEGACY_F32_e64</div>
<div class="line"><a name="l03576"></a><span class="lineno"> 3576</span>&#160;                                             : AMDGPU::V_MAD_F32_e64;</div>
<div class="line"><a name="l03577"></a><span class="lineno"> 3577</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SIInstrInfo.html#ae25e963e7382528026a78b5c2e31c435">pseudoToMCOpcode</a>(NewOpc) == -1)</div>
<div class="line"><a name="l03578"></a><span class="lineno"> 3578</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l03579"></a><span class="lineno"> 3579</span>&#160; </div>
<div class="line"><a name="l03580"></a><span class="lineno"> 3580</span>&#160;  MIB = <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getDebugLoc(), <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(NewOpc))</div>
<div class="line"><a name="l03581"></a><span class="lineno"> 3581</span>&#160;            .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a1ac8d27532cfd1d1f032ecbff2ba3611">add</a>(*Dst)</div>
<div class="line"><a name="l03582"></a><span class="lineno"> 3582</span>&#160;            .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(Src0Mods ? Src0Mods-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#a38b28a85f818b49d8806c150b8a5b4f7">getImm</a>() : 0)</div>
<div class="line"><a name="l03583"></a><span class="lineno"> 3583</span>&#160;            .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a1ac8d27532cfd1d1f032ecbff2ba3611">add</a>(*Src0)</div>
<div class="line"><a name="l03584"></a><span class="lineno"> 3584</span>&#160;            .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(Src1Mods ? Src1Mods-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#a38b28a85f818b49d8806c150b8a5b4f7">getImm</a>() : 0)</div>
<div class="line"><a name="l03585"></a><span class="lineno"> 3585</span>&#160;            .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a1ac8d27532cfd1d1f032ecbff2ba3611">add</a>(*Src1)</div>
<div class="line"><a name="l03586"></a><span class="lineno"> 3586</span>&#160;            .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(Src2Mods ? Src2Mods-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#a38b28a85f818b49d8806c150b8a5b4f7">getImm</a>() : 0)</div>
<div class="line"><a name="l03587"></a><span class="lineno"> 3587</span>&#160;            .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a1ac8d27532cfd1d1f032ecbff2ba3611">add</a>(*Src2)</div>
<div class="line"><a name="l03588"></a><span class="lineno"> 3588</span>&#160;            .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(Clamp ? Clamp-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#a38b28a85f818b49d8806c150b8a5b4f7">getImm</a>() : 0)</div>
<div class="line"><a name="l03589"></a><span class="lineno"> 3589</span>&#160;            .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(Omod ? Omod-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#a38b28a85f818b49d8806c150b8a5b4f7">getImm</a>() : 0);</div>
<div class="line"><a name="l03590"></a><span class="lineno"> 3590</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1AMDGPU.html#a8f27aa11689bf9b12f6fb0e436e367c7">AMDGPU::hasNamedOperand</a>(NewOpc, AMDGPU::OpName::op_sel))</div>
<div class="line"><a name="l03591"></a><span class="lineno"> 3591</span>&#160;    MIB.<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1VOP3PEncoding.html#a3594a9012d044a9ee2e7df2a82a90a65">OpSel</a> ? <a class="code" href="namespacellvm_1_1AMDGPU_1_1VOP3PEncoding.html#a3594a9012d044a9ee2e7df2a82a90a65">OpSel</a>-&gt;getImm() : 0);</div>
<div class="line"><a name="l03592"></a><span class="lineno"> 3592</span>&#160;  <a class="code" href="SIInstrInfo_8cpp.html#a8edb2219f51b89b23621bd1da1dfd6f8">updateLiveVariables</a>(LV, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, *MIB);</div>
<div class="line"><a name="l03593"></a><span class="lineno"> 3593</span>&#160;  <span class="keywordflow">if</span> (LIS)</div>
<div class="line"><a name="l03594"></a><span class="lineno"> 3594</span>&#160;    LIS-&gt;<a class="code" href="classllvm_1_1LiveIntervals.html#afbdfb2cc5decd8f22ea3ccc1ecea4028">ReplaceMachineInstrInMaps</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, *MIB);</div>
<div class="line"><a name="l03595"></a><span class="lineno"> 3595</span>&#160;  <span class="keywordflow">return</span> MIB;</div>
<div class="line"><a name="l03596"></a><span class="lineno"> 3596</span>&#160;}</div>
<div class="line"><a name="l03597"></a><span class="lineno"> 3597</span>&#160; </div>
<div class="line"><a name="l03598"></a><span class="lineno"> 3598</span>&#160;<span class="comment">// It&#39;s not generally safe to move VALU instructions across these since it will</span></div>
<div class="line"><a name="l03599"></a><span class="lineno"> 3599</span>&#160;<span class="comment">// start using the register as a base index rather than directly.</span></div>
<div class="line"><a name="l03600"></a><span class="lineno"> 3600</span>&#160;<span class="comment">// XXX - Why isn&#39;t hasSideEffects sufficient for these?</span></div>
<div class="line"><a name="l03601"></a><span class="lineno"><a class="line" href="SIInstrInfo_8cpp.html#ad6eb45e94bf447aa904024868317f94e"> 3601</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="SIInstrInfo_8cpp.html#ad6eb45e94bf447aa904024868317f94e">changesVGPRIndexingMode</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>) {</div>
<div class="line"><a name="l03602"></a><span class="lineno"> 3602</span>&#160;  <span class="keywordflow">switch</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode()) {</div>
<div class="line"><a name="l03603"></a><span class="lineno"> 3603</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_SET_GPR_IDX_ON:</div>
<div class="line"><a name="l03604"></a><span class="lineno"> 3604</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_SET_GPR_IDX_MODE:</div>
<div class="line"><a name="l03605"></a><span class="lineno"> 3605</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_SET_GPR_IDX_OFF:</div>
<div class="line"><a name="l03606"></a><span class="lineno"> 3606</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03607"></a><span class="lineno"> 3607</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l03608"></a><span class="lineno"> 3608</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03609"></a><span class="lineno"> 3609</span>&#160;  }</div>
<div class="line"><a name="l03610"></a><span class="lineno"> 3610</span>&#160;}</div>
<div class="line"><a name="l03611"></a><span class="lineno"> 3611</span>&#160; </div>
<div class="line"><a name="l03612"></a><span class="lineno"><a class="line" href="classllvm_1_1SIInstrInfo.html#abe3f4df7c81b52adcd9a67f4c0937634"> 3612</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1SIInstrInfo.html#abe3f4df7c81b52adcd9a67f4c0937634">SIInstrInfo::isSchedulingBoundary</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>,</div>
<div class="line"><a name="l03613"></a><span class="lineno"> 3613</span>&#160;                                       <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>,</div>
<div class="line"><a name="l03614"></a><span class="lineno"> 3614</span>&#160;                                       <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l03615"></a><span class="lineno"> 3615</span>&#160;  <span class="comment">// Skipping the check for SP writes in the base implementation. The reason it</span></div>
<div class="line"><a name="l03616"></a><span class="lineno"> 3616</span>&#160;  <span class="comment">// was added was apparently due to compile time concerns.</span></div>
<div class="line"><a name="l03617"></a><span class="lineno"> 3617</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l03618"></a><span class="lineno"> 3618</span>&#160;  <span class="comment">// TODO: Do we really want this barrier? It triggers unnecessary hazard nops</span></div>
<div class="line"><a name="l03619"></a><span class="lineno"> 3619</span>&#160;  <span class="comment">// but is probably avoidable.</span></div>
<div class="line"><a name="l03620"></a><span class="lineno"> 3620</span>&#160; </div>
<div class="line"><a name="l03621"></a><span class="lineno"> 3621</span>&#160;  <span class="comment">// Copied from base implementation.</span></div>
<div class="line"><a name="l03622"></a><span class="lineno"> 3622</span>&#160;  <span class="comment">// Terminators and labels can&#39;t be scheduled around.</span></div>
<div class="line"><a name="l03623"></a><span class="lineno"> 3623</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.isTerminator() || <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.isPosition())</div>
<div class="line"><a name="l03624"></a><span class="lineno"> 3624</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03625"></a><span class="lineno"> 3625</span>&#160; </div>
<div class="line"><a name="l03626"></a><span class="lineno"> 3626</span>&#160;  <span class="comment">// INLINEASM_BR can jump to another block</span></div>
<div class="line"><a name="l03627"></a><span class="lineno"> 3627</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ab969e7d43eb37a0398b5ded23bccc136">TargetOpcode::INLINEASM_BR</a>)</div>
<div class="line"><a name="l03628"></a><span class="lineno"> 3628</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03629"></a><span class="lineno"> 3629</span>&#160; </div>
<div class="line"><a name="l03630"></a><span class="lineno"> 3630</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode() == AMDGPU::SCHED_BARRIER &amp;&amp; <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(0).getImm() == 0)</div>
<div class="line"><a name="l03631"></a><span class="lineno"> 3631</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03632"></a><span class="lineno"> 3632</span>&#160; </div>
<div class="line"><a name="l03633"></a><span class="lineno"> 3633</span>&#160;  <span class="comment">// Target-independent instructions do not have an implicit-use of EXEC, even</span></div>
<div class="line"><a name="l03634"></a><span class="lineno"> 3634</span>&#160;  <span class="comment">// when they operate on VGPRs. Treating EXEC modifications as scheduling</span></div>
<div class="line"><a name="l03635"></a><span class="lineno"> 3635</span>&#160;  <span class="comment">// boundaries prevents incorrect movements of such instructions.</span></div>
<div class="line"><a name="l03636"></a><span class="lineno"> 3636</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.modifiesRegister(AMDGPU::EXEC, &amp;RI) ||</div>
<div class="line"><a name="l03637"></a><span class="lineno"> 3637</span>&#160;         <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode() == AMDGPU::S_SETREG_IMM32_B32 ||</div>
<div class="line"><a name="l03638"></a><span class="lineno"> 3638</span>&#160;         <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode() == AMDGPU::S_SETREG_B32 ||</div>
<div class="line"><a name="l03639"></a><span class="lineno"> 3639</span>&#160;         <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode() == AMDGPU::S_SETPRIO ||</div>
<div class="line"><a name="l03640"></a><span class="lineno"> 3640</span>&#160;         <a class="code" href="SIInstrInfo_8cpp.html#ad6eb45e94bf447aa904024868317f94e">changesVGPRIndexingMode</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l03641"></a><span class="lineno"> 3641</span>&#160;}</div>
<div class="line"><a name="l03642"></a><span class="lineno"> 3642</span>&#160; </div>
<div class="line"><a name="l03643"></a><span class="lineno"><a class="line" href="classllvm_1_1SIInstrInfo.html#aa4b208f7f6a759e6572b26d8b9ebb435"> 3643</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1SIInstrInfo.html#aa4b208f7f6a759e6572b26d8b9ebb435">SIInstrInfo::isAlwaysGDS</a>(<a class="code" href="classuint16__t.html">uint16_t</a> Opcode)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l03644"></a><span class="lineno"> 3644</span>&#160;  <span class="keywordflow">return</span> Opcode == <a class="code" href="namespacellvm_1_1AMDGPUISD.html#a739d53294bc38cd6b0b23332f9994c0eabf84d249106fbef805c08aae16f19968">AMDGPU::DS_ORDERED_COUNT</a> ||</div>
<div class="line"><a name="l03645"></a><span class="lineno"> 3645</span>&#160;         Opcode == AMDGPU::DS_GWS_INIT ||</div>
<div class="line"><a name="l03646"></a><span class="lineno"> 3646</span>&#160;         Opcode == AMDGPU::DS_GWS_SEMA_V ||</div>
<div class="line"><a name="l03647"></a><span class="lineno"> 3647</span>&#160;         Opcode == AMDGPU::DS_GWS_SEMA_BR ||</div>
<div class="line"><a name="l03648"></a><span class="lineno"> 3648</span>&#160;         Opcode == AMDGPU::DS_GWS_SEMA_P ||</div>
<div class="line"><a name="l03649"></a><span class="lineno"> 3649</span>&#160;         Opcode == AMDGPU::DS_GWS_SEMA_RELEASE_ALL ||</div>
<div class="line"><a name="l03650"></a><span class="lineno"> 3650</span>&#160;         Opcode == AMDGPU::DS_GWS_BARRIER;</div>
<div class="line"><a name="l03651"></a><span class="lineno"> 3651</span>&#160;}</div>
<div class="line"><a name="l03652"></a><span class="lineno"> 3652</span>&#160; </div>
<div class="line"><a name="l03653"></a><span class="lineno"><a class="line" href="classllvm_1_1SIInstrInfo.html#ac49e04076b2aaf96a7497774136482f3"> 3653</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1SIInstrInfo.html#ac49e04076b2aaf96a7497774136482f3">SIInstrInfo::modifiesModeRegister</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>) {</div>
<div class="line"><a name="l03654"></a><span class="lineno"> 3654</span>&#160;  <span class="comment">// Skip the full operand and register alias search modifiesRegister</span></div>
<div class="line"><a name="l03655"></a><span class="lineno"> 3655</span>&#160;  <span class="comment">// does. There&#39;s only a handful of instructions that touch this, it&#39;s only an</span></div>
<div class="line"><a name="l03656"></a><span class="lineno"> 3656</span>&#160;  <span class="comment">// implicit def, and doesn&#39;t alias any other registers.</span></div>
<div class="line"><a name="l03657"></a><span class="lineno"> 3657</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#acd1cd968cb420c82d70926920fcdc7d7">is_contained</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getDesc().implicit_defs(), AMDGPU::MODE);</div>
<div class="line"><a name="l03658"></a><span class="lineno"> 3658</span>&#160;}</div>
<div class="line"><a name="l03659"></a><span class="lineno"> 3659</span>&#160; </div>
<div class="line"><a name="l03660"></a><span class="lineno"><a class="line" href="classllvm_1_1SIInstrInfo.html#acd85372be31eb6cd26e75c961e2ca5fa"> 3660</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1SIInstrInfo.html#acd85372be31eb6cd26e75c961e2ca5fa">SIInstrInfo::hasUnwantedEffectsWhenEXECEmpty</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l03661"></a><span class="lineno"> 3661</span>&#160;  <span class="keywordtype">unsigned</span> Opcode = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode();</div>
<div class="line"><a name="l03662"></a><span class="lineno"> 3662</span>&#160; </div>
<div class="line"><a name="l03663"></a><span class="lineno"> 3663</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.mayStore() &amp;&amp; <a class="code" href="classllvm_1_1SIInstrInfo.html#a1c990a34866f377751f50f112cef61bc">isSMRD</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>))</div>
<div class="line"><a name="l03664"></a><span class="lineno"> 3664</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>; <span class="comment">// scalar store or atomic</span></div>
<div class="line"><a name="l03665"></a><span class="lineno"> 3665</span>&#160; </div>
<div class="line"><a name="l03666"></a><span class="lineno"> 3666</span>&#160;  <span class="comment">// This will terminate the function when other lanes may need to continue.</span></div>
<div class="line"><a name="l03667"></a><span class="lineno"> 3667</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.isReturn())</div>
<div class="line"><a name="l03668"></a><span class="lineno"> 3668</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03669"></a><span class="lineno"> 3669</span>&#160; </div>
<div class="line"><a name="l03670"></a><span class="lineno"> 3670</span>&#160;  <span class="comment">// These instructions cause shader I/O that may cause hardware lockups</span></div>
<div class="line"><a name="l03671"></a><span class="lineno"> 3671</span>&#160;  <span class="comment">// when executed with an empty EXEC mask.</span></div>
<div class="line"><a name="l03672"></a><span class="lineno"> 3672</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l03673"></a><span class="lineno"> 3673</span>&#160;  <span class="comment">// Note: exp with VM = DONE = 0 is automatically skipped by hardware when</span></div>
<div class="line"><a name="l03674"></a><span class="lineno"> 3674</span>&#160;  <span class="comment">//       EXEC = 0, but checking for that case here seems not worth it</span></div>
<div class="line"><a name="l03675"></a><span class="lineno"> 3675</span>&#160;  <span class="comment">//       given the typical code patterns.</span></div>
<div class="line"><a name="l03676"></a><span class="lineno"> 3676</span>&#160;  <span class="keywordflow">if</span> (Opcode == AMDGPU::S_SENDMSG || Opcode == AMDGPU::S_SENDMSGHALT ||</div>
<div class="line"><a name="l03677"></a><span class="lineno"> 3677</span>&#160;      <a class="code" href="classllvm_1_1SIInstrInfo.html#a2d40ab246e329190bbf36cd93fd88e83">isEXP</a>(Opcode) ||</div>
<div class="line"><a name="l03678"></a><span class="lineno"> 3678</span>&#160;      Opcode == <a class="code" href="namespacellvm_1_1AMDGPUISD.html#a739d53294bc38cd6b0b23332f9994c0eabf84d249106fbef805c08aae16f19968">AMDGPU::DS_ORDERED_COUNT</a> || Opcode == AMDGPU::S_TRAP ||</div>
<div class="line"><a name="l03679"></a><span class="lineno"> 3679</span>&#160;      Opcode == AMDGPU::DS_GWS_INIT || Opcode == AMDGPU::DS_GWS_BARRIER)</div>
<div class="line"><a name="l03680"></a><span class="lineno"> 3680</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03681"></a><span class="lineno"> 3681</span>&#160; </div>
<div class="line"><a name="l03682"></a><span class="lineno"> 3682</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.isCall() || <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.isInlineAsm())</div>
<div class="line"><a name="l03683"></a><span class="lineno"> 3683</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>; <span class="comment">// conservative assumption</span></div>
<div class="line"><a name="l03684"></a><span class="lineno"> 3684</span>&#160; </div>
<div class="line"><a name="l03685"></a><span class="lineno"> 3685</span>&#160;  <span class="comment">// A mode change is a scalar operation that influences vector instructions.</span></div>
<div class="line"><a name="l03686"></a><span class="lineno"> 3686</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SIInstrInfo.html#ac49e04076b2aaf96a7497774136482f3">modifiesModeRegister</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>))</div>
<div class="line"><a name="l03687"></a><span class="lineno"> 3687</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03688"></a><span class="lineno"> 3688</span>&#160; </div>
<div class="line"><a name="l03689"></a><span class="lineno"> 3689</span>&#160;  <span class="comment">// These are like SALU instructions in terms of effects, so it&#39;s questionable</span></div>
<div class="line"><a name="l03690"></a><span class="lineno"> 3690</span>&#160;  <span class="comment">// whether we should return true for those.</span></div>
<div class="line"><a name="l03691"></a><span class="lineno"> 3691</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l03692"></a><span class="lineno"> 3692</span>&#160;  <span class="comment">// However, executing them with EXEC = 0 causes them to operate on undefined</span></div>
<div class="line"><a name="l03693"></a><span class="lineno"> 3693</span>&#160;  <span class="comment">// data, which we avoid by returning true here.</span></div>
<div class="line"><a name="l03694"></a><span class="lineno"> 3694</span>&#160;  <span class="keywordflow">if</span> (Opcode == AMDGPU::V_READFIRSTLANE_B32 ||</div>
<div class="line"><a name="l03695"></a><span class="lineno"> 3695</span>&#160;      Opcode == AMDGPU::V_READLANE_B32 || Opcode == AMDGPU::V_WRITELANE_B32)</div>
<div class="line"><a name="l03696"></a><span class="lineno"> 3696</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03697"></a><span class="lineno"> 3697</span>&#160; </div>
<div class="line"><a name="l03698"></a><span class="lineno"> 3698</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03699"></a><span class="lineno"> 3699</span>&#160;}</div>
<div class="line"><a name="l03700"></a><span class="lineno"> 3700</span>&#160; </div>
<div class="line"><a name="l03701"></a><span class="lineno"><a class="line" href="classllvm_1_1SIInstrInfo.html#ad4705aea7dab2a011b09f6036a49087c"> 3701</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1SIInstrInfo.html#ad4705aea7dab2a011b09f6036a49087c">SIInstrInfo::mayReadEXEC</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>,</div>
<div class="line"><a name="l03702"></a><span class="lineno"> 3702</span>&#160;                              <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l03703"></a><span class="lineno"> 3703</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.isMetaInstruction())</div>
<div class="line"><a name="l03704"></a><span class="lineno"> 3704</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03705"></a><span class="lineno"> 3705</span>&#160; </div>
<div class="line"><a name="l03706"></a><span class="lineno"> 3706</span>&#160;  <span class="comment">// This won&#39;t read exec if this is an SGPR-&gt;SGPR copy.</span></div>
<div class="line"><a name="l03707"></a><span class="lineno"> 3707</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.isCopyLike()) {</div>
<div class="line"><a name="l03708"></a><span class="lineno"> 3708</span>&#160;    <span class="keywordflow">if</span> (!RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#a980c731f7723b02b66010f4fce010c0f">isSGPRReg</a>(<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(0).getReg()))</div>
<div class="line"><a name="l03709"></a><span class="lineno"> 3709</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03710"></a><span class="lineno"> 3710</span>&#160; </div>
<div class="line"><a name="l03711"></a><span class="lineno"> 3711</span>&#160;    <span class="comment">// Make sure this isn&#39;t copying exec as a normal operand</span></div>
<div class="line"><a name="l03712"></a><span class="lineno"> 3712</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.readsRegister(AMDGPU::EXEC, &amp;RI);</div>
<div class="line"><a name="l03713"></a><span class="lineno"> 3713</span>&#160;  }</div>
<div class="line"><a name="l03714"></a><span class="lineno"> 3714</span>&#160; </div>
<div class="line"><a name="l03715"></a><span class="lineno"> 3715</span>&#160;  <span class="comment">// Make a conservative assumption about the callee.</span></div>
<div class="line"><a name="l03716"></a><span class="lineno"> 3716</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.isCall())</div>
<div class="line"><a name="l03717"></a><span class="lineno"> 3717</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03718"></a><span class="lineno"> 3718</span>&#160; </div>
<div class="line"><a name="l03719"></a><span class="lineno"> 3719</span>&#160;  <span class="comment">// Be conservative with any unhandled generic opcodes.</span></div>
<div class="line"><a name="l03720"></a><span class="lineno"> 3720</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm.html#ab3aae92be65f5f16f806ad48d474027e">isTargetSpecificOpcode</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode()))</div>
<div class="line"><a name="l03721"></a><span class="lineno"> 3721</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03722"></a><span class="lineno"> 3722</span>&#160; </div>
<div class="line"><a name="l03723"></a><span class="lineno"> 3723</span>&#160;  <span class="keywordflow">return</span> !<a class="code" href="classllvm_1_1SIInstrInfo.html#a2d7ac7b1dd9a9e4ae81fb54010f324f9">isSALU</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>) || <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.readsRegister(AMDGPU::EXEC, &amp;RI);</div>
<div class="line"><a name="l03724"></a><span class="lineno"> 3724</span>&#160;}</div>
<div class="line"><a name="l03725"></a><span class="lineno"> 3725</span>&#160; </div>
<div class="line"><a name="l03726"></a><span class="lineno"><a class="line" href="classllvm_1_1SIInstrInfo.html#a0480d6290cd95e40641f2af7a18fb764"> 3726</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1SIInstrInfo.html#a0480d6290cd95e40641f2af7a18fb764">SIInstrInfo::isInlineConstant</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l03727"></a><span class="lineno"> 3727</span>&#160;  <span class="keywordflow">switch</span> (<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>.getBitWidth()) {</div>
<div class="line"><a name="l03728"></a><span class="lineno"> 3728</span>&#160;  <span class="keywordflow">case</span> 1: <span class="comment">// This likely will be a condition code mask.</span></div>
<div class="line"><a name="l03729"></a><span class="lineno"> 3729</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03730"></a><span class="lineno"> 3730</span>&#160; </div>
<div class="line"><a name="l03731"></a><span class="lineno"> 3731</span>&#160;  <span class="keywordflow">case</span> 32:</div>
<div class="line"><a name="l03732"></a><span class="lineno"> 3732</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1AMDGPU.html#a79ce723bbdcb8a66b32fec6499ecd9f9">AMDGPU::isInlinableLiteral32</a>(<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>.getSExtValue(),</div>
<div class="line"><a name="l03733"></a><span class="lineno"> 3733</span>&#160;                                        ST.<a class="code" href="classllvm_1_1AMDGPUSubtarget.html#aef466388625883e4ee6ba4ae7b969606">hasInv2PiInlineImm</a>());</div>
<div class="line"><a name="l03734"></a><span class="lineno"> 3734</span>&#160;  <span class="keywordflow">case</span> 64:</div>
<div class="line"><a name="l03735"></a><span class="lineno"> 3735</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1AMDGPU.html#af4cb2c8159c390d78b6a547ac87179ae">AMDGPU::isInlinableLiteral64</a>(<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>.getSExtValue(),</div>
<div class="line"><a name="l03736"></a><span class="lineno"> 3736</span>&#160;                                        ST.<a class="code" href="classllvm_1_1AMDGPUSubtarget.html#aef466388625883e4ee6ba4ae7b969606">hasInv2PiInlineImm</a>());</div>
<div class="line"><a name="l03737"></a><span class="lineno"> 3737</span>&#160;  <span class="keywordflow">case</span> 16:</div>
<div class="line"><a name="l03738"></a><span class="lineno"> 3738</span>&#160;    <span class="keywordflow">return</span> ST.<a class="code" href="classllvm_1_1AMDGPUSubtarget.html#a7e3a5c7c65932e9e3632516e3683de89">has16BitInsts</a>() &amp;&amp;</div>
<div class="line"><a name="l03739"></a><span class="lineno"> 3739</span>&#160;           <a class="code" href="namespacellvm_1_1AMDGPU.html#a04097b4ec5e8da48a2fb3c407900f938">AMDGPU::isInlinableLiteral16</a>(<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>.getSExtValue(),</div>
<div class="line"><a name="l03740"></a><span class="lineno"> 3740</span>&#160;                                        ST.<a class="code" href="classllvm_1_1AMDGPUSubtarget.html#aef466388625883e4ee6ba4ae7b969606">hasInv2PiInlineImm</a>());</div>
<div class="line"><a name="l03741"></a><span class="lineno"> 3741</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l03742"></a><span class="lineno"> 3742</span>&#160;    <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;invalid bitwidth&quot;</span>);</div>
<div class="line"><a name="l03743"></a><span class="lineno"> 3743</span>&#160;  }</div>
<div class="line"><a name="l03744"></a><span class="lineno"> 3744</span>&#160;}</div>
<div class="line"><a name="l03745"></a><span class="lineno"> 3745</span>&#160; </div>
<div class="line"><a name="l03746"></a><span class="lineno"><a class="line" href="classllvm_1_1SIInstrInfo.html#a10caa873ff6bab070fa0217d5402267b"> 3746</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1SIInstrInfo.html#a0480d6290cd95e40641f2af7a18fb764">SIInstrInfo::isInlineConstant</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;MO,</div>
<div class="line"><a name="l03747"></a><span class="lineno"> 3747</span>&#160;                                   uint8_t <a class="code" href="namespacellvm_1_1MCOI.html#ad9dfed338ec3d47f30c593ee49cbf96d">OperandType</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l03748"></a><span class="lineno"> 3748</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!MO.<a class="code" href="classllvm_1_1MachineOperand.html#a4c9594c955fec80c73ddd964b5efd554">isReg</a>() &amp;&amp; <span class="stringliteral">&quot;isInlineConstant called on register operand!&quot;</span>);</div>
<div class="line"><a name="l03749"></a><span class="lineno"> 3749</span>&#160;  <span class="keywordflow">if</span> (!MO.<a class="code" href="classllvm_1_1MachineOperand.html#a76f61c6784df6dc8402a8b9011041926">isImm</a>() ||</div>
<div class="line"><a name="l03750"></a><span class="lineno"> 3750</span>&#160;      <a class="code" href="namespacellvm_1_1MCOI.html#ad9dfed338ec3d47f30c593ee49cbf96d">OperandType</a> &lt; <a class="code" href="namespacellvm_1_1AMDGPU.html#ab7679ce5eab5937b9da9e7702aff8cc5a5f53e66ffdcd70ad55a4bf78e485f76a">AMDGPU::OPERAND_SRC_FIRST</a> ||</div>
<div class="line"><a name="l03751"></a><span class="lineno"> 3751</span>&#160;      <a class="code" href="namespacellvm_1_1MCOI.html#ad9dfed338ec3d47f30c593ee49cbf96d">OperandType</a> &gt; <a class="code" href="namespacellvm_1_1AMDGPU.html#ab7679ce5eab5937b9da9e7702aff8cc5afbe953ff149274f4e4fdcb9495f0ee78">AMDGPU::OPERAND_SRC_LAST</a>)</div>
<div class="line"><a name="l03752"></a><span class="lineno"> 3752</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03753"></a><span class="lineno"> 3753</span>&#160; </div>
<div class="line"><a name="l03754"></a><span class="lineno"> 3754</span>&#160;  <span class="comment">// MachineOperand provides no way to tell the true operand size, since it only</span></div>
<div class="line"><a name="l03755"></a><span class="lineno"> 3755</span>&#160;  <span class="comment">// records a 64-bit value. We need to know the size to determine if a 32-bit</span></div>
<div class="line"><a name="l03756"></a><span class="lineno"> 3756</span>&#160;  <span class="comment">// floating point immediate bit pattern is legal for an integer immediate. It</span></div>
<div class="line"><a name="l03757"></a><span class="lineno"> 3757</span>&#160;  <span class="comment">// would be for any 32-bit integer operand, but would not be for a 64-bit one.</span></div>
<div class="line"><a name="l03758"></a><span class="lineno"> 3758</span>&#160; </div>
<div class="line"><a name="l03759"></a><span class="lineno"> 3759</span>&#160;  int64_t <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> = MO.<a class="code" href="classllvm_1_1MachineOperand.html#a38b28a85f818b49d8806c150b8a5b4f7">getImm</a>();</div>
<div class="line"><a name="l03760"></a><span class="lineno"> 3760</span>&#160;  <span class="keywordflow">switch</span> (<a class="code" href="namespacellvm_1_1MCOI.html#ad9dfed338ec3d47f30c593ee49cbf96d">OperandType</a>) {</div>
<div class="line"><a name="l03761"></a><span class="lineno"> 3761</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1AMDGPU.html#ab7679ce5eab5937b9da9e7702aff8cc5a5df5b6b6089b9237400d2c422db445d8">AMDGPU::OPERAND_REG_IMM_INT32</a>:</div>
<div class="line"><a name="l03762"></a><span class="lineno"> 3762</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1AMDGPU.html#ab7679ce5eab5937b9da9e7702aff8cc5aa7f8a98ec46b1d30189640d9ff59bc1e">AMDGPU::OPERAND_REG_IMM_FP32</a>:</div>
<div class="line"><a name="l03763"></a><span class="lineno"> 3763</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1AMDGPU.html#ab7679ce5eab5937b9da9e7702aff8cc5af8ac73c62f6f1da6175d32824633a064">AMDGPU::OPERAND_REG_IMM_FP32_DEFERRED</a>:</div>
<div class="line"><a name="l03764"></a><span class="lineno"> 3764</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1AMDGPU.html#ab7679ce5eab5937b9da9e7702aff8cc5ad670957823c39ba1006b962d2023a19a">AMDGPU::OPERAND_REG_INLINE_C_INT32</a>:</div>
<div class="line"><a name="l03765"></a><span class="lineno"> 3765</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1AMDGPU.html#ab7679ce5eab5937b9da9e7702aff8cc5ac073c33efc03a1882ee8155b8d68a794">AMDGPU::OPERAND_REG_INLINE_C_FP32</a>:</div>
<div class="line"><a name="l03766"></a><span class="lineno"> 3766</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1AMDGPU.html#ab7679ce5eab5937b9da9e7702aff8cc5ae0f1ac0de50b2280311f02d7e1f5b25e">AMDGPU::OPERAND_REG_IMM_V2FP32</a>:</div>
<div class="line"><a name="l03767"></a><span class="lineno"> 3767</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1AMDGPU.html#ab7679ce5eab5937b9da9e7702aff8cc5af49dc86d5a2c2386386ce4c0023cfd0f">AMDGPU::OPERAND_REG_INLINE_C_V2FP32</a>:</div>
<div class="line"><a name="l03768"></a><span class="lineno"> 3768</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1AMDGPU.html#ab7679ce5eab5937b9da9e7702aff8cc5aa3d68df7f69a18a66156e5e08c2c7504">AMDGPU::OPERAND_REG_IMM_V2INT32</a>:</div>
<div class="line"><a name="l03769"></a><span class="lineno"> 3769</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1AMDGPU.html#ab7679ce5eab5937b9da9e7702aff8cc5a240a6f2882eded67e4b70c6bb2f18411">AMDGPU::OPERAND_REG_INLINE_C_V2INT32</a>:</div>
<div class="line"><a name="l03770"></a><span class="lineno"> 3770</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1AMDGPU.html#ab7679ce5eab5937b9da9e7702aff8cc5a9f903a56d49f51a4697c5198aaea3459">AMDGPU::OPERAND_REG_INLINE_AC_INT32</a>:</div>
<div class="line"><a name="l03771"></a><span class="lineno"> 3771</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1AMDGPU.html#ab7679ce5eab5937b9da9e7702aff8cc5aa10ec5681f77906549e7a745593139a9">AMDGPU::OPERAND_REG_INLINE_AC_FP32</a>: {</div>
<div class="line"><a name="l03772"></a><span class="lineno"> 3772</span>&#160;    int32_t Trunc = <span class="keyword">static_cast&lt;</span>int32_t<span class="keyword">&gt;</span>(<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>);</div>
<div class="line"><a name="l03773"></a><span class="lineno"> 3773</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1AMDGPU.html#a79ce723bbdcb8a66b32fec6499ecd9f9">AMDGPU::isInlinableLiteral32</a>(Trunc, ST.<a class="code" href="classllvm_1_1AMDGPUSubtarget.html#aef466388625883e4ee6ba4ae7b969606">hasInv2PiInlineImm</a>());</div>
<div class="line"><a name="l03774"></a><span class="lineno"> 3774</span>&#160;  }</div>
<div class="line"><a name="l03775"></a><span class="lineno"> 3775</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1AMDGPU.html#ab7679ce5eab5937b9da9e7702aff8cc5a206ff13aa7a98aac961a631569867e3d">AMDGPU::OPERAND_REG_IMM_INT64</a>:</div>
<div class="line"><a name="l03776"></a><span class="lineno"> 3776</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1AMDGPU.html#ab7679ce5eab5937b9da9e7702aff8cc5a96e7ee25f7665368353ac98b104770a1">AMDGPU::OPERAND_REG_IMM_FP64</a>:</div>
<div class="line"><a name="l03777"></a><span class="lineno"> 3777</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1AMDGPU.html#ab7679ce5eab5937b9da9e7702aff8cc5a86ef6f68b415f39fcd28ae0dd431297c">AMDGPU::OPERAND_REG_INLINE_C_INT64</a>:</div>
<div class="line"><a name="l03778"></a><span class="lineno"> 3778</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1AMDGPU.html#ab7679ce5eab5937b9da9e7702aff8cc5a2f2cb7a6e0c1e04d17d4a2d79dfc85ca">AMDGPU::OPERAND_REG_INLINE_C_FP64</a>:</div>
<div class="line"><a name="l03779"></a><span class="lineno"> 3779</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1AMDGPU.html#ab7679ce5eab5937b9da9e7702aff8cc5ae51ff25f16b928b2b8712a613e4fd3db">AMDGPU::OPERAND_REG_INLINE_AC_FP64</a>:</div>
<div class="line"><a name="l03780"></a><span class="lineno"> 3780</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1AMDGPU.html#af4cb2c8159c390d78b6a547ac87179ae">AMDGPU::isInlinableLiteral64</a>(MO.<a class="code" href="classllvm_1_1MachineOperand.html#a38b28a85f818b49d8806c150b8a5b4f7">getImm</a>(),</div>
<div class="line"><a name="l03781"></a><span class="lineno"> 3781</span>&#160;                                        ST.<a class="code" href="classllvm_1_1AMDGPUSubtarget.html#aef466388625883e4ee6ba4ae7b969606">hasInv2PiInlineImm</a>());</div>
<div class="line"><a name="l03782"></a><span class="lineno"> 3782</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1AMDGPU.html#ab7679ce5eab5937b9da9e7702aff8cc5aea3ce103b7ba06ee5ca50925e7064101">AMDGPU::OPERAND_REG_IMM_INT16</a>:</div>
<div class="line"><a name="l03783"></a><span class="lineno"> 3783</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1AMDGPU.html#ab7679ce5eab5937b9da9e7702aff8cc5a8d695369aef7c9f7e0589f5b4673ea46">AMDGPU::OPERAND_REG_INLINE_C_INT16</a>:</div>
<div class="line"><a name="l03784"></a><span class="lineno"> 3784</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1AMDGPU.html#ab7679ce5eab5937b9da9e7702aff8cc5a9242629e3f7e6539015220a3d77d7dc7">AMDGPU::OPERAND_REG_INLINE_AC_INT16</a>:</div>
<div class="line"><a name="l03785"></a><span class="lineno"> 3785</span>&#160;    <span class="comment">// We would expect inline immediates to not be concerned with an integer/fp</span></div>
<div class="line"><a name="l03786"></a><span class="lineno"> 3786</span>&#160;    <span class="comment">// distinction. However, in the case of 16-bit integer operations, the</span></div>
<div class="line"><a name="l03787"></a><span class="lineno"> 3787</span>&#160;    <span class="comment">// &quot;floating point&quot; values appear to not work. It seems read the low 16-bits</span></div>
<div class="line"><a name="l03788"></a><span class="lineno"> 3788</span>&#160;    <span class="comment">// of 32-bit immediates, which happens to always work for the integer</span></div>
<div class="line"><a name="l03789"></a><span class="lineno"> 3789</span>&#160;    <span class="comment">// values.</span></div>
<div class="line"><a name="l03790"></a><span class="lineno"> 3790</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l03791"></a><span class="lineno"> 3791</span>&#160;    <span class="comment">// See llvm bugzilla 46302.</span></div>
<div class="line"><a name="l03792"></a><span class="lineno"> 3792</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l03793"></a><span class="lineno"> 3793</span>&#160;    <span class="comment">// TODO: Theoretically we could use op-sel to use the high bits of the</span></div>
<div class="line"><a name="l03794"></a><span class="lineno"> 3794</span>&#160;    <span class="comment">// 32-bit FP values.</span></div>
<div class="line"><a name="l03795"></a><span class="lineno"> 3795</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1AMDGPU.html#a901ba4ff66898215882da41143ddf69a">AMDGPU::isInlinableIntLiteral</a>(<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>);</div>
<div class="line"><a name="l03796"></a><span class="lineno"> 3796</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1AMDGPU.html#ab7679ce5eab5937b9da9e7702aff8cc5a455e964e5660b09e16a498dd96cf0bd6">AMDGPU::OPERAND_REG_IMM_V2INT16</a>:</div>
<div class="line"><a name="l03797"></a><span class="lineno"> 3797</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1AMDGPU.html#ab7679ce5eab5937b9da9e7702aff8cc5ad6dad922f054838a22df6973a79987be">AMDGPU::OPERAND_REG_INLINE_C_V2INT16</a>:</div>
<div class="line"><a name="l03798"></a><span class="lineno"> 3798</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1AMDGPU.html#ab7679ce5eab5937b9da9e7702aff8cc5a9dfb8a7518a9154161c7a05b644e6e47">AMDGPU::OPERAND_REG_INLINE_AC_V2INT16</a>:</div>
<div class="line"><a name="l03799"></a><span class="lineno"> 3799</span>&#160;    <span class="comment">// This suffers the same problem as the scalar 16-bit cases.</span></div>
<div class="line"><a name="l03800"></a><span class="lineno"> 3800</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1AMDGPU.html#a1864fe2c262fc3ee74aad3ca3e7f70ea">AMDGPU::isInlinableIntLiteralV216</a>(<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>);</div>
<div class="line"><a name="l03801"></a><span class="lineno"> 3801</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1AMDGPU.html#ab7679ce5eab5937b9da9e7702aff8cc5a7bcafeceef57e87bc524d5cc035837d5">AMDGPU::OPERAND_REG_IMM_FP16</a>:</div>
<div class="line"><a name="l03802"></a><span class="lineno"> 3802</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1AMDGPU.html#ab7679ce5eab5937b9da9e7702aff8cc5aff389f984e981455b4107b4708a77e5b">AMDGPU::OPERAND_REG_IMM_FP16_DEFERRED</a>:</div>
<div class="line"><a name="l03803"></a><span class="lineno"> 3803</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1AMDGPU.html#ab7679ce5eab5937b9da9e7702aff8cc5ae6c8f9b5c5805da722239e1e5d8cda5d">AMDGPU::OPERAND_REG_INLINE_C_FP16</a>:</div>
<div class="line"><a name="l03804"></a><span class="lineno"> 3804</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1AMDGPU.html#ab7679ce5eab5937b9da9e7702aff8cc5a9eb871898b75ab91e808faf50f5f41a5">AMDGPU::OPERAND_REG_INLINE_AC_FP16</a>: {</div>
<div class="line"><a name="l03805"></a><span class="lineno"> 3805</span>&#160;    <span class="keywordflow">if</span> (isInt&lt;16&gt;(<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>) || isUInt&lt;16&gt;(<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>)) {</div>
<div class="line"><a name="l03806"></a><span class="lineno"> 3806</span>&#160;      <span class="comment">// A few special case instructions have 16-bit operands on subtargets</span></div>
<div class="line"><a name="l03807"></a><span class="lineno"> 3807</span>&#160;      <span class="comment">// where 16-bit instructions are not legal.</span></div>
<div class="line"><a name="l03808"></a><span class="lineno"> 3808</span>&#160;      <span class="comment">// TODO: Do the 32-bit immediates work? We shouldn&#39;t really need to handle</span></div>
<div class="line"><a name="l03809"></a><span class="lineno"> 3809</span>&#160;      <span class="comment">// constants in these cases</span></div>
<div class="line"><a name="l03810"></a><span class="lineno"> 3810</span>&#160;      int16_t Trunc = <span class="keyword">static_cast&lt;</span>int16_t<span class="keyword">&gt;</span>(<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>);</div>
<div class="line"><a name="l03811"></a><span class="lineno"> 3811</span>&#160;      <span class="keywordflow">return</span> ST.<a class="code" href="classllvm_1_1AMDGPUSubtarget.html#a7e3a5c7c65932e9e3632516e3683de89">has16BitInsts</a>() &amp;&amp;</div>
<div class="line"><a name="l03812"></a><span class="lineno"> 3812</span>&#160;             <a class="code" href="namespacellvm_1_1AMDGPU.html#a04097b4ec5e8da48a2fb3c407900f938">AMDGPU::isInlinableLiteral16</a>(Trunc, ST.<a class="code" href="classllvm_1_1AMDGPUSubtarget.html#aef466388625883e4ee6ba4ae7b969606">hasInv2PiInlineImm</a>());</div>
<div class="line"><a name="l03813"></a><span class="lineno"> 3813</span>&#160;    }</div>
<div class="line"><a name="l03814"></a><span class="lineno"> 3814</span>&#160; </div>
<div class="line"><a name="l03815"></a><span class="lineno"> 3815</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03816"></a><span class="lineno"> 3816</span>&#160;  }</div>
<div class="line"><a name="l03817"></a><span class="lineno"> 3817</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1AMDGPU.html#ab7679ce5eab5937b9da9e7702aff8cc5a20958300f68759315cb6cb2491d42cec">AMDGPU::OPERAND_REG_IMM_V2FP16</a>:</div>
<div class="line"><a name="l03818"></a><span class="lineno"> 3818</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1AMDGPU.html#ab7679ce5eab5937b9da9e7702aff8cc5a9babf1fd52dcf14ed0effdd6fe207007">AMDGPU::OPERAND_REG_INLINE_C_V2FP16</a>:</div>
<div class="line"><a name="l03819"></a><span class="lineno"> 3819</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1AMDGPU.html#ab7679ce5eab5937b9da9e7702aff8cc5a52eeb3170ac03d3af5c8ea11b06ea93c">AMDGPU::OPERAND_REG_INLINE_AC_V2FP16</a>: {</div>
<div class="line"><a name="l03820"></a><span class="lineno"> 3820</span>&#160;    <a class="code" href="classuint32__t.html">uint32_t</a> Trunc = <span class="keyword">static_cast&lt;</span><a class="code" href="classuint32__t.html">uint32_t</a><span class="keyword">&gt;</span>(<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>);</div>
<div class="line"><a name="l03821"></a><span class="lineno"> 3821</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1AMDGPU.html#ae0aedd4d5c55b5e5e71effbb234624b0">AMDGPU::isInlinableLiteralV216</a>(Trunc, ST.<a class="code" href="classllvm_1_1AMDGPUSubtarget.html#aef466388625883e4ee6ba4ae7b969606">hasInv2PiInlineImm</a>());</div>
<div class="line"><a name="l03822"></a><span class="lineno"> 3822</span>&#160;  }</div>
<div class="line"><a name="l03823"></a><span class="lineno"> 3823</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1AMDGPU.html#ab7679ce5eab5937b9da9e7702aff8cc5a09dd1263fb2164c20f99f89f69e01a6e">AMDGPU::OPERAND_KIMM32</a>:</div>
<div class="line"><a name="l03824"></a><span class="lineno"> 3824</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1AMDGPU.html#ab7679ce5eab5937b9da9e7702aff8cc5a887993ba93e1d73774d547bbe51e0317">AMDGPU::OPERAND_KIMM16</a>:</div>
<div class="line"><a name="l03825"></a><span class="lineno"> 3825</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03826"></a><span class="lineno"> 3826</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l03827"></a><span class="lineno"> 3827</span>&#160;    <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;invalid bitwidth&quot;</span>);</div>
<div class="line"><a name="l03828"></a><span class="lineno"> 3828</span>&#160;  }</div>
<div class="line"><a name="l03829"></a><span class="lineno"> 3829</span>&#160;}</div>
<div class="line"><a name="l03830"></a><span class="lineno"> 3830</span>&#160; </div>
<div class="line"><a name="l03831"></a><span class="lineno"><a class="line" href="SIInstrInfo_8cpp.html#a19e16a0f3c37ba1524eb85c891bfa760"> 3831</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="SIInstrInfo_8cpp.html#a19e16a0f3c37ba1524eb85c891bfa760">compareMachineOp</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;Op0,</div>
<div class="line"><a name="l03832"></a><span class="lineno"> 3832</span>&#160;                             <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;Op1) {</div>
<div class="line"><a name="l03833"></a><span class="lineno"> 3833</span>&#160;  <span class="keywordflow">if</span> (Op0.<a class="code" href="classllvm_1_1MachineOperand.html#ab313591ae4ea1e3a4ab59121a7dc2a2b">getType</a>() != Op1.<a class="code" href="classllvm_1_1MachineOperand.html#ab313591ae4ea1e3a4ab59121a7dc2a2b">getType</a>())</div>
<div class="line"><a name="l03834"></a><span class="lineno"> 3834</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03835"></a><span class="lineno"> 3835</span>&#160; </div>
<div class="line"><a name="l03836"></a><span class="lineno"> 3836</span>&#160;  <span class="keywordflow">switch</span> (Op0.<a class="code" href="classllvm_1_1MachineOperand.html#ab313591ae4ea1e3a4ab59121a7dc2a2b">getType</a>()) {</div>
<div class="line"><a name="l03837"></a><span class="lineno"> 3837</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MachineOperand.html#af269b990800f72c7cf535c407e8e639ba99b874c6560305fd292d20f6a06da166">MachineOperand::MO_Register</a>:</div>
<div class="line"><a name="l03838"></a><span class="lineno"> 3838</span>&#160;    <span class="keywordflow">return</span> Op0.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>() == Op1.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>();</div>
<div class="line"><a name="l03839"></a><span class="lineno"> 3839</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MachineOperand.html#af269b990800f72c7cf535c407e8e639ba066f84460d9f7b61d54b187555756ef6">MachineOperand::MO_Immediate</a>:</div>
<div class="line"><a name="l03840"></a><span class="lineno"> 3840</span>&#160;    <span class="keywordflow">return</span> Op0.<a class="code" href="classllvm_1_1MachineOperand.html#a38b28a85f818b49d8806c150b8a5b4f7">getImm</a>() == Op1.<a class="code" href="classllvm_1_1MachineOperand.html#a38b28a85f818b49d8806c150b8a5b4f7">getImm</a>();</div>
<div class="line"><a name="l03841"></a><span class="lineno"> 3841</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l03842"></a><span class="lineno"> 3842</span>&#160;    <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Didn&#39;t expect to be comparing these operand types&quot;</span>);</div>
<div class="line"><a name="l03843"></a><span class="lineno"> 3843</span>&#160;  }</div>
<div class="line"><a name="l03844"></a><span class="lineno"> 3844</span>&#160;}</div>
<div class="line"><a name="l03845"></a><span class="lineno"> 3845</span>&#160; </div>
<div class="line"><a name="l03846"></a><span class="lineno"><a class="line" href="classllvm_1_1SIInstrInfo.html#a835ce544e7ae111f1889501136ea6b3d"> 3846</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1SIInstrInfo.html#a835ce544e7ae111f1889501136ea6b3d">SIInstrInfo::isImmOperandLegal</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <span class="keywordtype">unsigned</span> OpNo,</div>
<div class="line"><a name="l03847"></a><span class="lineno"> 3847</span>&#160;                                    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;MO)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l03848"></a><span class="lineno"> 3848</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCInstrDesc.html">MCInstrDesc</a> &amp;InstDesc = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getDesc();</div>
<div class="line"><a name="l03849"></a><span class="lineno"> 3849</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCOperandInfo.html">MCOperandInfo</a> &amp;OpInfo = InstDesc.<a class="code" href="classllvm_1_1MCInstrDesc.html#a9491e6e3afc420c33cf508189bb12c3b">operands</a>()[OpNo];</div>
<div class="line"><a name="l03850"></a><span class="lineno"> 3850</span>&#160; </div>
<div class="line"><a name="l03851"></a><span class="lineno"> 3851</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(MO.<a class="code" href="classllvm_1_1MachineOperand.html#a76f61c6784df6dc8402a8b9011041926">isImm</a>() || MO.<a class="code" href="classllvm_1_1MachineOperand.html#ac0890848fb02b90b1f7956063bc61cb3">isTargetIndex</a>() || MO.<a class="code" href="classllvm_1_1MachineOperand.html#ad7213433bd60dc33020246384dc18b9b">isFI</a>() || MO.<a class="code" href="classllvm_1_1MachineOperand.html#ab0d1155c8c38e84cbe387998fd2e517e">isGlobal</a>());</div>
<div class="line"><a name="l03852"></a><span class="lineno"> 3852</span>&#160; </div>
<div class="line"><a name="l03853"></a><span class="lineno"> 3853</span>&#160;  <span class="keywordflow">if</span> (OpInfo.<a class="code" href="classllvm_1_1MCOperandInfo.html#a9173ff0e651bbc7ce633a7c4b83d9586">OperandType</a> == <a class="code" href="namespacellvm_1_1MCOI.html#ad9dfed338ec3d47f30c593ee49cbf96da767514e15ea244ad3e683ae79b583534">MCOI::OPERAND_IMMEDIATE</a>)</div>
<div class="line"><a name="l03854"></a><span class="lineno"> 3854</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03855"></a><span class="lineno"> 3855</span>&#160; </div>
<div class="line"><a name="l03856"></a><span class="lineno"> 3856</span>&#160;  <span class="keywordflow">if</span> (OpInfo.<a class="code" href="classllvm_1_1MCOperandInfo.html#ad3abf78805559fecd7642d0c57032c56">RegClass</a> &lt; 0)</div>
<div class="line"><a name="l03857"></a><span class="lineno"> 3857</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03858"></a><span class="lineno"> 3858</span>&#160; </div>
<div class="line"><a name="l03859"></a><span class="lineno"> 3859</span>&#160;  <span class="keywordflow">if</span> (MO.<a class="code" href="classllvm_1_1MachineOperand.html#a76f61c6784df6dc8402a8b9011041926">isImm</a>() &amp;&amp; <a class="code" href="classllvm_1_1SIInstrInfo.html#a0480d6290cd95e40641f2af7a18fb764">isInlineConstant</a>(MO, OpInfo)) {</div>
<div class="line"><a name="l03860"></a><span class="lineno"> 3860</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SIInstrInfo.html#a0605f773275c0461756eae0fb2321fa0">isMAI</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>) &amp;&amp; ST.<a class="code" href="classllvm_1_1GCNSubtarget.html#a2daa95e19ef6f3a5d3be7f175d5bde59">hasMFMAInlineLiteralBug</a>() &amp;&amp;</div>
<div class="line"><a name="l03861"></a><span class="lineno"> 3861</span>&#160;        OpNo ==(<span class="keywordtype">unsigned</span>)<a class="code" href="namespacellvm_1_1AMDGPU.html#a27efe1286cc31f5fc95355af30b0356c">AMDGPU::getNamedOperandIdx</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode(),</div>
<div class="line"><a name="l03862"></a><span class="lineno"> 3862</span>&#160;                                                    AMDGPU::OpName::src2))</div>
<div class="line"><a name="l03863"></a><span class="lineno"> 3863</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03864"></a><span class="lineno"> 3864</span>&#160;    <span class="keywordflow">return</span> RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#a5f55007393b9c2edcdb84c55e5df5514">opCanUseInlineConstant</a>(OpInfo.<a class="code" href="classllvm_1_1MCOperandInfo.html#a9173ff0e651bbc7ce633a7c4b83d9586">OperandType</a>);</div>
<div class="line"><a name="l03865"></a><span class="lineno"> 3865</span>&#160;  }</div>
<div class="line"><a name="l03866"></a><span class="lineno"> 3866</span>&#160; </div>
<div class="line"><a name="l03867"></a><span class="lineno"> 3867</span>&#160;  <span class="keywordflow">if</span> (!RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#a83297079e933130ab3b78a428b7070e3">opCanUseLiteralConstant</a>(OpInfo.<a class="code" href="classllvm_1_1MCOperandInfo.html#a9173ff0e651bbc7ce633a7c4b83d9586">OperandType</a>))</div>
<div class="line"><a name="l03868"></a><span class="lineno"> 3868</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03869"></a><span class="lineno"> 3869</span>&#160; </div>
<div class="line"><a name="l03870"></a><span class="lineno"> 3870</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1SIInstrInfo.html#a0aab14aaa9761a9af59b094090851ca3">isVOP3</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>) || !<a class="code" href="namespacellvm_1_1AMDGPU.html#a7fba5af4359eeeef753f1c286ea8d0d7">AMDGPU::isSISrcOperand</a>(InstDesc, OpNo))</div>
<div class="line"><a name="l03871"></a><span class="lineno"> 3871</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03872"></a><span class="lineno"> 3872</span>&#160; </div>
<div class="line"><a name="l03873"></a><span class="lineno"> 3873</span>&#160;  <span class="keywordflow">return</span> ST.<a class="code" href="classllvm_1_1GCNSubtarget.html#acfa61def62c3f39edaec6b28782f1992">hasVOP3Literal</a>();</div>
<div class="line"><a name="l03874"></a><span class="lineno"> 3874</span>&#160;}</div>
<div class="line"><a name="l03875"></a><span class="lineno"> 3875</span>&#160; </div>
<div class="line"><a name="l03876"></a><span class="lineno"><a class="line" href="classllvm_1_1SIInstrInfo.html#a71b55958d73cd9fa8c5a32f5a6ac5a4c"> 3876</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1SIInstrInfo.html#a71b55958d73cd9fa8c5a32f5a6ac5a4c">SIInstrInfo::hasVALU32BitEncoding</a>(<span class="keywordtype">unsigned</span> Opcode)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l03877"></a><span class="lineno"> 3877</span>&#160;  <span class="comment">// GFX90A does not have V_MUL_LEGACY_F32_e32.</span></div>
<div class="line"><a name="l03878"></a><span class="lineno"> 3878</span>&#160;  <span class="keywordflow">if</span> (Opcode == AMDGPU::V_MUL_LEGACY_F32_e64 &amp;&amp; ST.<a class="code" href="classllvm_1_1GCNSubtarget.html#a1fc0ea9be83e3d4cb2aeb2d7b2363e73">hasGFX90AInsts</a>())</div>
<div class="line"><a name="l03879"></a><span class="lineno"> 3879</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03880"></a><span class="lineno"> 3880</span>&#160; </div>
<div class="line"><a name="l03881"></a><span class="lineno"> 3881</span>&#160;  <span class="keywordtype">int</span> Op32 = <a class="code" href="namespacellvm_1_1AMDGPU.html#a17fda9e2f2cb60c24bfdec02d7793b86">AMDGPU::getVOPe32</a>(Opcode);</div>
<div class="line"><a name="l03882"></a><span class="lineno"> 3882</span>&#160;  <span class="keywordflow">if</span> (Op32 == -1)</div>
<div class="line"><a name="l03883"></a><span class="lineno"> 3883</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03884"></a><span class="lineno"> 3884</span>&#160; </div>
<div class="line"><a name="l03885"></a><span class="lineno"> 3885</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SIInstrInfo.html#ae25e963e7382528026a78b5c2e31c435">pseudoToMCOpcode</a>(Op32) != -1;</div>
<div class="line"><a name="l03886"></a><span class="lineno"> 3886</span>&#160;}</div>
<div class="line"><a name="l03887"></a><span class="lineno"> 3887</span>&#160; </div>
<div class="line"><a name="l03888"></a><span class="lineno"><a class="line" href="classllvm_1_1SIInstrInfo.html#a479dd1c44dc19d46f04837f4da7ce325"> 3888</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1SIInstrInfo.html#a479dd1c44dc19d46f04837f4da7ce325">SIInstrInfo::hasModifiers</a>(<span class="keywordtype">unsigned</span> Opcode)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l03889"></a><span class="lineno"> 3889</span>&#160;  <span class="comment">// The src0_modifier operand is present on all instructions</span></div>
<div class="line"><a name="l03890"></a><span class="lineno"> 3890</span>&#160;  <span class="comment">// that have modifiers.</span></div>
<div class="line"><a name="l03891"></a><span class="lineno"> 3891</span>&#160; </div>
<div class="line"><a name="l03892"></a><span class="lineno"> 3892</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1AMDGPU.html#a8f27aa11689bf9b12f6fb0e436e367c7">AMDGPU::hasNamedOperand</a>(Opcode, AMDGPU::OpName::src0_modifiers);</div>
<div class="line"><a name="l03893"></a><span class="lineno"> 3893</span>&#160;}</div>
<div class="line"><a name="l03894"></a><span class="lineno"> 3894</span>&#160; </div>
<div class="line"><a name="l03895"></a><span class="lineno"><a class="line" href="classllvm_1_1SIInstrInfo.html#aea349efd44508e36429de592f1437b14"> 3895</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1SIInstrInfo.html#aea349efd44508e36429de592f1437b14">SIInstrInfo::hasModifiersSet</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>,</div>
<div class="line"><a name="l03896"></a><span class="lineno"> 3896</span>&#160;                                  <span class="keywordtype">unsigned</span> <a class="code" href="namespaceOpName.html">OpName</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l03897"></a><span class="lineno"> 3897</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> *Mods = <a class="code" href="classllvm_1_1SIInstrInfo.html#a61297a04e9cd91c9658b9affecdd9797">getNamedOperand</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="namespaceOpName.html">OpName</a>);</div>
<div class="line"><a name="l03898"></a><span class="lineno"> 3898</span>&#160;  <span class="keywordflow">return</span> Mods &amp;&amp; Mods-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#a38b28a85f818b49d8806c150b8a5b4f7">getImm</a>();</div>
<div class="line"><a name="l03899"></a><span class="lineno"> 3899</span>&#160;}</div>
<div class="line"><a name="l03900"></a><span class="lineno"> 3900</span>&#160; </div>
<div class="line"><a name="l03901"></a><span class="lineno"><a class="line" href="classllvm_1_1SIInstrInfo.html#afff49d92e227fa12fc068d203a22bd15"> 3901</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1SIInstrInfo.html#afff49d92e227fa12fc068d203a22bd15">SIInstrInfo::hasAnyModifiersSet</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l03902"></a><span class="lineno"> 3902</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a61d13d6824ec46c31260a4fd0997eda0">any_of</a>(<a class="code" href="SIInstrInfo_8cpp.html#ad606e03c366b7e91da3b735a7126fe5a">ModifierOpNames</a>,</div>
<div class="line"><a name="l03903"></a><span class="lineno"> 3903</span>&#160;                [&amp;](<span class="keywordtype">unsigned</span> Name) { <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SIInstrInfo.html#aea349efd44508e36429de592f1437b14">hasModifiersSet</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, Name); });</div>
<div class="line"><a name="l03904"></a><span class="lineno"> 3904</span>&#160;}</div>
<div class="line"><a name="l03905"></a><span class="lineno"> 3905</span>&#160; </div>
<div class="line"><a name="l03906"></a><span class="lineno"><a class="line" href="classllvm_1_1SIInstrInfo.html#aae844768b9501609ab55c31b3c4f6ea5"> 3906</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1SIInstrInfo.html#aae844768b9501609ab55c31b3c4f6ea5">SIInstrInfo::canShrink</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>,</div>
<div class="line"><a name="l03907"></a><span class="lineno"> 3907</span>&#160;                            <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l03908"></a><span class="lineno"> 3908</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> *Src2 = <a class="code" href="classllvm_1_1SIInstrInfo.html#a61297a04e9cd91c9658b9affecdd9797">getNamedOperand</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, AMDGPU::OpName::src2);</div>
<div class="line"><a name="l03909"></a><span class="lineno"> 3909</span>&#160;  <span class="comment">// Can&#39;t shrink instruction with three operands.</span></div>
<div class="line"><a name="l03910"></a><span class="lineno"> 3910</span>&#160;  <span class="keywordflow">if</span> (Src2) {</div>
<div class="line"><a name="l03911"></a><span class="lineno"> 3911</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode()) {</div>
<div class="line"><a name="l03912"></a><span class="lineno"> 3912</span>&#160;      <span class="keywordflow">default</span>: <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03913"></a><span class="lineno"> 3913</span>&#160; </div>
<div class="line"><a name="l03914"></a><span class="lineno"> 3914</span>&#160;      <span class="keywordflow">case</span> AMDGPU::V_ADDC_U32_e64:</div>
<div class="line"><a name="l03915"></a><span class="lineno"> 3915</span>&#160;      <span class="keywordflow">case</span> AMDGPU::V_SUBB_U32_e64:</div>
<div class="line"><a name="l03916"></a><span class="lineno"> 3916</span>&#160;      <span class="keywordflow">case</span> AMDGPU::V_SUBBREV_U32_e64: {</div>
<div class="line"><a name="l03917"></a><span class="lineno"> 3917</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> *Src1</div>
<div class="line"><a name="l03918"></a><span class="lineno"> 3918</span>&#160;          = <a class="code" href="classllvm_1_1SIInstrInfo.html#a61297a04e9cd91c9658b9affecdd9797">getNamedOperand</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, AMDGPU::OpName::src1);</div>
<div class="line"><a name="l03919"></a><span class="lineno"> 3919</span>&#160;        <span class="keywordflow">if</span> (!Src1-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#a4c9594c955fec80c73ddd964b5efd554">isReg</a>() || !RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#a549e07395027c7b32774e27e9f28bc91">isVGPR</a>(<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, Src1-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>()))</div>
<div class="line"><a name="l03920"></a><span class="lineno"> 3920</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03921"></a><span class="lineno"> 3921</span>&#160;        <span class="comment">// Additional verification is needed for sdst/src2.</span></div>
<div class="line"><a name="l03922"></a><span class="lineno"> 3922</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03923"></a><span class="lineno"> 3923</span>&#160;      }</div>
<div class="line"><a name="l03924"></a><span class="lineno"> 3924</span>&#160;      <span class="keywordflow">case</span> AMDGPU::V_MAC_F16_e64:</div>
<div class="line"><a name="l03925"></a><span class="lineno"> 3925</span>&#160;      <span class="keywordflow">case</span> AMDGPU::V_MAC_F32_e64:</div>
<div class="line"><a name="l03926"></a><span class="lineno"> 3926</span>&#160;      <span class="keywordflow">case</span> AMDGPU::V_MAC_LEGACY_F32_e64:</div>
<div class="line"><a name="l03927"></a><span class="lineno"> 3927</span>&#160;      <span class="keywordflow">case</span> AMDGPU::V_FMAC_F16_e64:</div>
<div class="line"><a name="l03928"></a><span class="lineno"> 3928</span>&#160;      <span class="keywordflow">case</span> AMDGPU::V_FMAC_F16_t16_e64:</div>
<div class="line"><a name="l03929"></a><span class="lineno"> 3929</span>&#160;      <span class="keywordflow">case</span> AMDGPU::V_FMAC_F32_e64:</div>
<div class="line"><a name="l03930"></a><span class="lineno"> 3930</span>&#160;      <span class="keywordflow">case</span> AMDGPU::V_FMAC_F64_e64:</div>
<div class="line"><a name="l03931"></a><span class="lineno"> 3931</span>&#160;      <span class="keywordflow">case</span> AMDGPU::V_FMAC_LEGACY_F32_e64:</div>
<div class="line"><a name="l03932"></a><span class="lineno"> 3932</span>&#160;        <span class="keywordflow">if</span> (!Src2-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#a4c9594c955fec80c73ddd964b5efd554">isReg</a>() || !RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#a549e07395027c7b32774e27e9f28bc91">isVGPR</a>(<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, Src2-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>()) ||</div>
<div class="line"><a name="l03933"></a><span class="lineno"> 3933</span>&#160;            <a class="code" href="classllvm_1_1SIInstrInfo.html#aea349efd44508e36429de592f1437b14">hasModifiersSet</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, AMDGPU::OpName::src2_modifiers))</div>
<div class="line"><a name="l03934"></a><span class="lineno"> 3934</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03935"></a><span class="lineno"> 3935</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03936"></a><span class="lineno"> 3936</span>&#160; </div>
<div class="line"><a name="l03937"></a><span class="lineno"> 3937</span>&#160;      <span class="keywordflow">case</span> AMDGPU::V_CNDMASK_B32_e64:</div>
<div class="line"><a name="l03938"></a><span class="lineno"> 3938</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03939"></a><span class="lineno"> 3939</span>&#160;    }</div>
<div class="line"><a name="l03940"></a><span class="lineno"> 3940</span>&#160;  }</div>
<div class="line"><a name="l03941"></a><span class="lineno"> 3941</span>&#160; </div>
<div class="line"><a name="l03942"></a><span class="lineno"> 3942</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> *Src1 = <a class="code" href="classllvm_1_1SIInstrInfo.html#a61297a04e9cd91c9658b9affecdd9797">getNamedOperand</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, AMDGPU::OpName::src1);</div>
<div class="line"><a name="l03943"></a><span class="lineno"> 3943</span>&#160;  <span class="keywordflow">if</span> (Src1 &amp;&amp; (!Src1-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#a4c9594c955fec80c73ddd964b5efd554">isReg</a>() || !RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#a549e07395027c7b32774e27e9f28bc91">isVGPR</a>(<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, Src1-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>()) ||</div>
<div class="line"><a name="l03944"></a><span class="lineno"> 3944</span>&#160;               <a class="code" href="classllvm_1_1SIInstrInfo.html#aea349efd44508e36429de592f1437b14">hasModifiersSet</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, AMDGPU::OpName::src1_modifiers)))</div>
<div class="line"><a name="l03945"></a><span class="lineno"> 3945</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03946"></a><span class="lineno"> 3946</span>&#160; </div>
<div class="line"><a name="l03947"></a><span class="lineno"> 3947</span>&#160;  <span class="comment">// We don&#39;t need to check src0, all input types are legal, so just make sure</span></div>
<div class="line"><a name="l03948"></a><span class="lineno"> 3948</span>&#160;  <span class="comment">// src0 isn&#39;t using any modifiers.</span></div>
<div class="line"><a name="l03949"></a><span class="lineno"> 3949</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SIInstrInfo.html#aea349efd44508e36429de592f1437b14">hasModifiersSet</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, AMDGPU::OpName::src0_modifiers))</div>
<div class="line"><a name="l03950"></a><span class="lineno"> 3950</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03951"></a><span class="lineno"> 3951</span>&#160; </div>
<div class="line"><a name="l03952"></a><span class="lineno"> 3952</span>&#160;  <span class="comment">// Can it be shrunk to a valid 32 bit opcode?</span></div>
<div class="line"><a name="l03953"></a><span class="lineno"> 3953</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1SIInstrInfo.html#a71b55958d73cd9fa8c5a32f5a6ac5a4c">hasVALU32BitEncoding</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode()))</div>
<div class="line"><a name="l03954"></a><span class="lineno"> 3954</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03955"></a><span class="lineno"> 3955</span>&#160; </div>
<div class="line"><a name="l03956"></a><span class="lineno"> 3956</span>&#160;  <span class="comment">// Check output modifiers</span></div>
<div class="line"><a name="l03957"></a><span class="lineno"> 3957</span>&#160;  <span class="keywordflow">return</span> !<a class="code" href="classllvm_1_1SIInstrInfo.html#aea349efd44508e36429de592f1437b14">hasModifiersSet</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, AMDGPU::OpName::omod) &amp;&amp;</div>
<div class="line"><a name="l03958"></a><span class="lineno"> 3958</span>&#160;         !<a class="code" href="classllvm_1_1SIInstrInfo.html#aea349efd44508e36429de592f1437b14">hasModifiersSet</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, AMDGPU::OpName::clamp);</div>
<div class="line"><a name="l03959"></a><span class="lineno"> 3959</span>&#160;}</div>
<div class="line"><a name="l03960"></a><span class="lineno"> 3960</span>&#160; </div>
<div class="line"><a name="l03961"></a><span class="lineno"> 3961</span>&#160;<span class="comment">// Set VCC operand with all flags from \p Orig, except for setting it as</span></div>
<div class="line"><a name="l03962"></a><span class="lineno"> 3962</span>&#160;<span class="comment">// implicit.</span></div>
<div class="line"><a name="l03963"></a><span class="lineno"><a class="line" href="SIInstrInfo_8cpp.html#a3e1a0dd2de88c2c34c60cc5d4e127d94"> 3963</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="SIInstrInfo_8cpp.html#a3e1a0dd2de88c2c34c60cc5d4e127d94">copyFlagsToImplicitVCC</a>(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>,</div>
<div class="line"><a name="l03964"></a><span class="lineno"> 3964</span>&#160;                                   <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;Orig) {</div>
<div class="line"><a name="l03965"></a><span class="lineno"> 3965</span>&#160; </div>
<div class="line"><a name="l03966"></a><span class="lineno"> 3966</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;<a class="code" href="classllvm_1_1Use.html">Use</a> : <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.implicit_operands()) {</div>
<div class="line"><a name="l03967"></a><span class="lineno"> 3967</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Use.html">Use</a>.isUse() &amp;&amp;</div>
<div class="line"><a name="l03968"></a><span class="lineno"> 3968</span>&#160;        (<a class="code" href="classllvm_1_1Use.html">Use</a>.getReg() == AMDGPU::VCC || <a class="code" href="classllvm_1_1Use.html">Use</a>.getReg() == AMDGPU::VCC_LO)) {</div>
<div class="line"><a name="l03969"></a><span class="lineno"> 3969</span>&#160;      <a class="code" href="classllvm_1_1Use.html">Use</a>.setIsUndef(Orig.<a class="code" href="classllvm_1_1MachineOperand.html#a1255befbcd6e034394681b1bcd3529ff">isUndef</a>());</div>
<div class="line"><a name="l03970"></a><span class="lineno"> 3970</span>&#160;      <a class="code" href="classllvm_1_1Use.html">Use</a>.setIsKill(Orig.<a class="code" href="classllvm_1_1MachineOperand.html#a4046212ebc647b17e811837ae4ea3afd">isKill</a>());</div>
<div class="line"><a name="l03971"></a><span class="lineno"> 3971</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03972"></a><span class="lineno"> 3972</span>&#160;    }</div>
<div class="line"><a name="l03973"></a><span class="lineno"> 3973</span>&#160;  }</div>
<div class="line"><a name="l03974"></a><span class="lineno"> 3974</span>&#160;}</div>
<div class="line"><a name="l03975"></a><span class="lineno"> 3975</span>&#160; </div>
<div class="line"><a name="l03976"></a><span class="lineno"><a class="line" href="classllvm_1_1SIInstrInfo.html#a31aa4c781d7a65b275b3de1882180675"> 3976</a></span>&#160;<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="classllvm_1_1SIInstrInfo.html#a31aa4c781d7a65b275b3de1882180675">SIInstrInfo::buildShrunkInst</a>(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>,</div>
<div class="line"><a name="l03977"></a><span class="lineno"> 3977</span>&#160;                                           <span class="keywordtype">unsigned</span> Op32)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l03978"></a><span class="lineno"> 3978</span>&#160;  <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a> = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getParent();</div>
<div class="line"><a name="l03979"></a><span class="lineno"> 3979</span>&#160;  <a class="code" href="classllvm_1_1MachineInstrBuilder.html">MachineInstrBuilder</a> Inst32 =</div>
<div class="line"><a name="l03980"></a><span class="lineno"> 3980</span>&#160;    <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(*<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getDebugLoc(), <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(Op32))</div>
<div class="line"><a name="l03981"></a><span class="lineno"> 3981</span>&#160;    .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a860467662b17cef898ece774ab400235">setMIFlags</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getFlags());</div>
<div class="line"><a name="l03982"></a><span class="lineno"> 3982</span>&#160; </div>
<div class="line"><a name="l03983"></a><span class="lineno"> 3983</span>&#160;  <span class="comment">// Add the dst operand if the 32-bit encoding also has an explicit $vdst.</span></div>
<div class="line"><a name="l03984"></a><span class="lineno"> 3984</span>&#160;  <span class="comment">// For VOPC instructions, this is replaced by an implicit def of vcc.</span></div>
<div class="line"><a name="l03985"></a><span class="lineno"> 3985</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1AMDGPU.html#a8f27aa11689bf9b12f6fb0e436e367c7">AMDGPU::hasNamedOperand</a>(Op32, AMDGPU::OpName::vdst)) {</div>
<div class="line"><a name="l03986"></a><span class="lineno"> 3986</span>&#160;    <span class="comment">// dst</span></div>
<div class="line"><a name="l03987"></a><span class="lineno"> 3987</span>&#160;    Inst32.<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a1ac8d27532cfd1d1f032ecbff2ba3611">add</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(0));</div>
<div class="line"><a name="l03988"></a><span class="lineno"> 3988</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1AMDGPU.html#a8f27aa11689bf9b12f6fb0e436e367c7">AMDGPU::hasNamedOperand</a>(Op32, AMDGPU::OpName::sdst)) {</div>
<div class="line"><a name="l03989"></a><span class="lineno"> 3989</span>&#160;    <span class="comment">// VOPCX instructions won&#39;t be writing to an explicit dst, so this should</span></div>
<div class="line"><a name="l03990"></a><span class="lineno"> 3990</span>&#160;    <span class="comment">// not fail for these instructions.</span></div>
<div class="line"><a name="l03991"></a><span class="lineno"> 3991</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(((<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(0).getReg() == AMDGPU::VCC) ||</div>
<div class="line"><a name="l03992"></a><span class="lineno"> 3992</span>&#160;            (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(0).getReg() == AMDGPU::VCC_LO)) &amp;&amp;</div>
<div class="line"><a name="l03993"></a><span class="lineno"> 3993</span>&#160;           <span class="stringliteral">&quot;Unexpected case&quot;</span>);</div>
<div class="line"><a name="l03994"></a><span class="lineno"> 3994</span>&#160;  }</div>
<div class="line"><a name="l03995"></a><span class="lineno"> 3995</span>&#160; </div>
<div class="line"><a name="l03996"></a><span class="lineno"> 3996</span>&#160;  Inst32.<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a1ac8d27532cfd1d1f032ecbff2ba3611">add</a>(*<a class="code" href="classllvm_1_1SIInstrInfo.html#a61297a04e9cd91c9658b9affecdd9797">getNamedOperand</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, AMDGPU::OpName::src0));</div>
<div class="line"><a name="l03997"></a><span class="lineno"> 3997</span>&#160; </div>
<div class="line"><a name="l03998"></a><span class="lineno"> 3998</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> *Src1 = <a class="code" href="classllvm_1_1SIInstrInfo.html#a61297a04e9cd91c9658b9affecdd9797">getNamedOperand</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, AMDGPU::OpName::src1);</div>
<div class="line"><a name="l03999"></a><span class="lineno"> 3999</span>&#160;  <span class="keywordflow">if</span> (Src1)</div>
<div class="line"><a name="l04000"></a><span class="lineno"> 4000</span>&#160;    Inst32.<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a1ac8d27532cfd1d1f032ecbff2ba3611">add</a>(*Src1);</div>
<div class="line"><a name="l04001"></a><span class="lineno"> 4001</span>&#160; </div>
<div class="line"><a name="l04002"></a><span class="lineno"> 4002</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> *Src2 = <a class="code" href="classllvm_1_1SIInstrInfo.html#a61297a04e9cd91c9658b9affecdd9797">getNamedOperand</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, AMDGPU::OpName::src2);</div>
<div class="line"><a name="l04003"></a><span class="lineno"> 4003</span>&#160; </div>
<div class="line"><a name="l04004"></a><span class="lineno"> 4004</span>&#160;  <span class="keywordflow">if</span> (Src2) {</div>
<div class="line"><a name="l04005"></a><span class="lineno"> 4005</span>&#160;    <span class="keywordtype">int</span> Op32Src2Idx = <a class="code" href="namespacellvm_1_1AMDGPU.html#a27efe1286cc31f5fc95355af30b0356c">AMDGPU::getNamedOperandIdx</a>(Op32, AMDGPU::OpName::src2);</div>
<div class="line"><a name="l04006"></a><span class="lineno"> 4006</span>&#160;    <span class="keywordflow">if</span> (Op32Src2Idx != -1) {</div>
<div class="line"><a name="l04007"></a><span class="lineno"> 4007</span>&#160;      Inst32.<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a1ac8d27532cfd1d1f032ecbff2ba3611">add</a>(*Src2);</div>
<div class="line"><a name="l04008"></a><span class="lineno"> 4008</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04009"></a><span class="lineno"> 4009</span>&#160;      <span class="comment">// In the case of V_CNDMASK_B32_e32, the explicit operand src2 is</span></div>
<div class="line"><a name="l04010"></a><span class="lineno"> 4010</span>&#160;      <span class="comment">// replaced with an implicit read of vcc or vcc_lo. The implicit read</span></div>
<div class="line"><a name="l04011"></a><span class="lineno"> 4011</span>&#160;      <span class="comment">// of vcc was already added during the initial BuildMI, but we</span></div>
<div class="line"><a name="l04012"></a><span class="lineno"> 4012</span>&#160;      <span class="comment">// 1) may need to change vcc to vcc_lo to preserve the original register</span></div>
<div class="line"><a name="l04013"></a><span class="lineno"> 4013</span>&#160;      <span class="comment">// 2) have to preserve the original flags.</span></div>
<div class="line"><a name="l04014"></a><span class="lineno"> 4014</span>&#160;      <a class="code" href="classllvm_1_1SIInstrInfo.html#ac76905a82cf568afc14dd95691c867f0">fixImplicitOperands</a>(*Inst32);</div>
<div class="line"><a name="l04015"></a><span class="lineno"> 4015</span>&#160;      <a class="code" href="SIInstrInfo_8cpp.html#a3e1a0dd2de88c2c34c60cc5d4e127d94">copyFlagsToImplicitVCC</a>(*Inst32, *Src2);</div>
<div class="line"><a name="l04016"></a><span class="lineno"> 4016</span>&#160;    }</div>
<div class="line"><a name="l04017"></a><span class="lineno"> 4017</span>&#160;  }</div>
<div class="line"><a name="l04018"></a><span class="lineno"> 4018</span>&#160; </div>
<div class="line"><a name="l04019"></a><span class="lineno"> 4019</span>&#160;  <span class="keywordflow">return</span> Inst32;</div>
<div class="line"><a name="l04020"></a><span class="lineno"> 4020</span>&#160;}</div>
<div class="line"><a name="l04021"></a><span class="lineno"> 4021</span>&#160; </div>
<div class="line"><a name="l04022"></a><span class="lineno"><a class="line" href="classllvm_1_1SIInstrInfo.html#a1f6067626e3318b8569835d83acbd92e"> 4022</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1SIInstrInfo.html#a1f6067626e3318b8569835d83acbd92e">SIInstrInfo::usesConstantBus</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>,</div>
<div class="line"><a name="l04023"></a><span class="lineno"> 4023</span>&#160;                                  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;MO,</div>
<div class="line"><a name="l04024"></a><span class="lineno"> 4024</span>&#160;                                  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCOperandInfo.html">MCOperandInfo</a> &amp;OpInfo)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l04025"></a><span class="lineno"> 4025</span>&#160;  <span class="comment">// Literal constants use the constant bus.</span></div>
<div class="line"><a name="l04026"></a><span class="lineno"> 4026</span>&#160;  <span class="keywordflow">if</span> (!MO.<a class="code" href="classllvm_1_1MachineOperand.html#a4c9594c955fec80c73ddd964b5efd554">isReg</a>())</div>
<div class="line"><a name="l04027"></a><span class="lineno"> 4027</span>&#160;    <span class="keywordflow">return</span> !<a class="code" href="classllvm_1_1SIInstrInfo.html#a0480d6290cd95e40641f2af7a18fb764">isInlineConstant</a>(MO, OpInfo);</div>
<div class="line"><a name="l04028"></a><span class="lineno"> 4028</span>&#160; </div>
<div class="line"><a name="l04029"></a><span class="lineno"> 4029</span>&#160;  <span class="keywordflow">if</span> (!MO.<a class="code" href="classllvm_1_1MachineOperand.html#a69544ec8658eadeed98245dc37c3a541">isUse</a>())</div>
<div class="line"><a name="l04030"></a><span class="lineno"> 4030</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04031"></a><span class="lineno"> 4031</span>&#160; </div>
<div class="line"><a name="l04032"></a><span class="lineno"> 4032</span>&#160;  <span class="keywordflow">if</span> (MO.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>().<a class="code" href="classllvm_1_1Register.html#aebafd86dde59b5a05b22e8720e808a9d">isVirtual</a>())</div>
<div class="line"><a name="l04033"></a><span class="lineno"> 4033</span>&#160;    <span class="keywordflow">return</span> RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#af58d646af8dd60e4e514303dfa81de9c">isSGPRClass</a>(<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#aa363afffca4fc13a709673936b47fe33">getRegClass</a>(MO.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>()));</div>
<div class="line"><a name="l04034"></a><span class="lineno"> 4034</span>&#160; </div>
<div class="line"><a name="l04035"></a><span class="lineno"> 4035</span>&#160;  <span class="comment">// Null is free</span></div>
<div class="line"><a name="l04036"></a><span class="lineno"> 4036</span>&#160;  <span class="keywordflow">if</span> (MO.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>() == AMDGPU::SGPR_NULL || MO.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>() == AMDGPU::SGPR_NULL64)</div>
<div class="line"><a name="l04037"></a><span class="lineno"> 4037</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04038"></a><span class="lineno"> 4038</span>&#160; </div>
<div class="line"><a name="l04039"></a><span class="lineno"> 4039</span>&#160;  <span class="comment">// SGPRs use the constant bus</span></div>
<div class="line"><a name="l04040"></a><span class="lineno"> 4040</span>&#160;  <span class="keywordflow">if</span> (MO.<a class="code" href="classllvm_1_1MachineOperand.html#a3bf161859e1ad7fd3da485d3cb688d34">isImplicit</a>()) {</div>
<div class="line"><a name="l04041"></a><span class="lineno"> 4041</span>&#160;    <span class="keywordflow">return</span> MO.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>() == <a class="code" href="namespacellvm.html#ab8aff98d3587ddb15f9e46ed88687f0f">AMDGPU::M0</a> ||</div>
<div class="line"><a name="l04042"></a><span class="lineno"> 4042</span>&#160;           MO.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>() == AMDGPU::VCC ||</div>
<div class="line"><a name="l04043"></a><span class="lineno"> 4043</span>&#160;           MO.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>() == AMDGPU::VCC_LO;</div>
<div class="line"><a name="l04044"></a><span class="lineno"> 4044</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04045"></a><span class="lineno"> 4045</span>&#160;    <span class="keywordflow">return</span> AMDGPU::SReg_32RegClass.contains(MO.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>()) ||</div>
<div class="line"><a name="l04046"></a><span class="lineno"> 4046</span>&#160;           AMDGPU::SReg_64RegClass.contains(MO.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>());</div>
<div class="line"><a name="l04047"></a><span class="lineno"> 4047</span>&#160;  }</div>
<div class="line"><a name="l04048"></a><span class="lineno"> 4048</span>&#160;}</div>
<div class="line"><a name="l04049"></a><span class="lineno"> 4049</span>&#160; </div>
<div class="line"><a name="l04050"></a><span class="lineno"><a class="line" href="SIInstrInfo_8cpp.html#a81a328aa5781f7c744daa43c44df83c6"> 4050</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1Register.html">Register</a> <a class="code" href="SIInstrInfo_8cpp.html#a81a328aa5781f7c744daa43c44df83c6">findImplicitSGPRRead</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>) {</div>
<div class="line"><a name="l04051"></a><span class="lineno"> 4051</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;MO : <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.implicit_operands()) {</div>
<div class="line"><a name="l04052"></a><span class="lineno"> 4052</span>&#160;    <span class="comment">// We only care about reads.</span></div>
<div class="line"><a name="l04053"></a><span class="lineno"> 4053</span>&#160;    <span class="keywordflow">if</span> (MO.isDef())</div>
<div class="line"><a name="l04054"></a><span class="lineno"> 4054</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l04055"></a><span class="lineno"> 4055</span>&#160; </div>
<div class="line"><a name="l04056"></a><span class="lineno"> 4056</span>&#160;    <span class="keywordflow">switch</span> (MO.getReg()) {</div>
<div class="line"><a name="l04057"></a><span class="lineno"> 4057</span>&#160;    <span class="keywordflow">case</span> AMDGPU::VCC:</div>
<div class="line"><a name="l04058"></a><span class="lineno"> 4058</span>&#160;    <span class="keywordflow">case</span> AMDGPU::VCC_LO:</div>
<div class="line"><a name="l04059"></a><span class="lineno"> 4059</span>&#160;    <span class="keywordflow">case</span> AMDGPU::VCC_HI:</div>
<div class="line"><a name="l04060"></a><span class="lineno"> 4060</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ab8aff98d3587ddb15f9e46ed88687f0f">AMDGPU::M0</a>:</div>
<div class="line"><a name="l04061"></a><span class="lineno"> 4061</span>&#160;    <span class="keywordflow">case</span> AMDGPU::FLAT_SCR:</div>
<div class="line"><a name="l04062"></a><span class="lineno"> 4062</span>&#160;      <span class="keywordflow">return</span> MO.getReg();</div>
<div class="line"><a name="l04063"></a><span class="lineno"> 4063</span>&#160; </div>
<div class="line"><a name="l04064"></a><span class="lineno"> 4064</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l04065"></a><span class="lineno"> 4065</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04066"></a><span class="lineno"> 4066</span>&#160;    }</div>
<div class="line"><a name="l04067"></a><span class="lineno"> 4067</span>&#160;  }</div>
<div class="line"><a name="l04068"></a><span class="lineno"> 4068</span>&#160; </div>
<div class="line"><a name="l04069"></a><span class="lineno"> 4069</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Register.html">Register</a>();</div>
<div class="line"><a name="l04070"></a><span class="lineno"> 4070</span>&#160;}</div>
<div class="line"><a name="l04071"></a><span class="lineno"> 4071</span>&#160; </div>
<div class="line"><a name="l04072"></a><span class="lineno"><a class="line" href="SIInstrInfo_8cpp.html#abcb710fb84bc86d961b6afbaa4f65d25"> 4072</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="SIInstrInfo_8cpp.html#abcb710fb84bc86d961b6afbaa4f65d25">shouldReadExec</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>) {</div>
<div class="line"><a name="l04073"></a><span class="lineno"> 4073</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SIInstrInfo.html#ade8d533000b775c514d9ac189b66c3a5">SIInstrInfo::isVALU</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>)) {</div>
<div class="line"><a name="l04074"></a><span class="lineno"> 4074</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode()) {</div>
<div class="line"><a name="l04075"></a><span class="lineno"> 4075</span>&#160;    <span class="keywordflow">case</span> AMDGPU::V_READLANE_B32:</div>
<div class="line"><a name="l04076"></a><span class="lineno"> 4076</span>&#160;    <span class="keywordflow">case</span> AMDGPU::V_WRITELANE_B32:</div>
<div class="line"><a name="l04077"></a><span class="lineno"> 4077</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04078"></a><span class="lineno"> 4078</span>&#160;    }</div>
<div class="line"><a name="l04079"></a><span class="lineno"> 4079</span>&#160; </div>
<div class="line"><a name="l04080"></a><span class="lineno"> 4080</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l04081"></a><span class="lineno"> 4081</span>&#160;  }</div>
<div class="line"><a name="l04082"></a><span class="lineno"> 4082</span>&#160; </div>
<div class="line"><a name="l04083"></a><span class="lineno"> 4083</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.isPreISelOpcode() ||</div>
<div class="line"><a name="l04084"></a><span class="lineno"> 4084</span>&#160;      SIInstrInfo::isGenericOpcode(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode()) ||</div>
<div class="line"><a name="l04085"></a><span class="lineno"> 4085</span>&#160;      <a class="code" href="classllvm_1_1SIInstrInfo.html#a2d7ac7b1dd9a9e4ae81fb54010f324f9">SIInstrInfo::isSALU</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>) ||</div>
<div class="line"><a name="l04086"></a><span class="lineno"> 4086</span>&#160;      <a class="code" href="classllvm_1_1SIInstrInfo.html#a1c990a34866f377751f50f112cef61bc">SIInstrInfo::isSMRD</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>))</div>
<div class="line"><a name="l04087"></a><span class="lineno"> 4087</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04088"></a><span class="lineno"> 4088</span>&#160; </div>
<div class="line"><a name="l04089"></a><span class="lineno"> 4089</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l04090"></a><span class="lineno"> 4090</span>&#160;}</div>
<div class="line"><a name="l04091"></a><span class="lineno"> 4091</span>&#160; </div>
<div class="line"><a name="l04092"></a><span class="lineno"><a class="line" href="SIInstrInfo_8cpp.html#adbb4dcc227f28ef32563170ce820d498"> 4092</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="SIInstrInfo_8cpp.html#adbb4dcc227f28ef32563170ce820d498">isSubRegOf</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SIRegisterInfo.html">SIRegisterInfo</a> &amp;<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>,</div>
<div class="line"><a name="l04093"></a><span class="lineno"> 4093</span>&#160;                       <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;SuperVec,</div>
<div class="line"><a name="l04094"></a><span class="lineno"> 4094</span>&#160;                       <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a92a6b0a9b7228d190b0a7d8ae3ef03c7">SubReg</a>) {</div>
<div class="line"><a name="l04095"></a><span class="lineno"> 4095</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a92a6b0a9b7228d190b0a7d8ae3ef03c7">SubReg</a>.getReg().isPhysical())</div>
<div class="line"><a name="l04096"></a><span class="lineno"> 4096</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>.<a class="code" href="classllvm_1_1MCRegisterInfo.html#a97b138b96791a09a0d9b9c77f0fb6e85">isSubRegister</a>(SuperVec.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>(), <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a92a6b0a9b7228d190b0a7d8ae3ef03c7">SubReg</a>.getReg());</div>
<div class="line"><a name="l04097"></a><span class="lineno"> 4097</span>&#160; </div>
<div class="line"><a name="l04098"></a><span class="lineno"> 4098</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a92a6b0a9b7228d190b0a7d8ae3ef03c7">SubReg</a>.getSubReg() != AMDGPU::NoSubRegister &amp;&amp;</div>
<div class="line"><a name="l04099"></a><span class="lineno"> 4099</span>&#160;         <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a92a6b0a9b7228d190b0a7d8ae3ef03c7">SubReg</a>.getReg() == SuperVec.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>();</div>
<div class="line"><a name="l04100"></a><span class="lineno"> 4100</span>&#160;}</div>
<div class="line"><a name="l04101"></a><span class="lineno"> 4101</span>&#160; </div>
<div class="line"><a name="l04102"></a><span class="lineno"><a class="line" href="classllvm_1_1SIInstrInfo.html#ab92b353cd5e64914fd35af38bb31e61b"> 4102</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1SIInstrInfo.html#ab92b353cd5e64914fd35af38bb31e61b">SIInstrInfo::verifyInstruction</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>,</div>
<div class="line"><a name="l04103"></a><span class="lineno"> 4103</span>&#160;                                    <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> &amp;ErrInfo)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l04104"></a><span class="lineno"> 4104</span>&#160;  <a class="code" href="classuint16__t.html">uint16_t</a> Opcode = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode();</div>
<div class="line"><a name="l04105"></a><span class="lineno"> 4105</span>&#160;  <span class="keywordflow">if</span> (SIInstrInfo::isGenericOpcode(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode()))</div>
<div class="line"><a name="l04106"></a><span class="lineno"> 4106</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l04107"></a><span class="lineno"> 4107</span>&#160; </div>
<div class="line"><a name="l04108"></a><span class="lineno"> 4108</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> *MF = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getParent()-&gt;getParent();</div>
<div class="line"><a name="l04109"></a><span class="lineno"> 4109</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a> = MF-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>();</div>
<div class="line"><a name="l04110"></a><span class="lineno"> 4110</span>&#160; </div>
<div class="line"><a name="l04111"></a><span class="lineno"> 4111</span>&#160;  <span class="keywordtype">int</span> Src0Idx = <a class="code" href="namespacellvm_1_1AMDGPU.html#a27efe1286cc31f5fc95355af30b0356c">AMDGPU::getNamedOperandIdx</a>(Opcode, AMDGPU::OpName::src0);</div>
<div class="line"><a name="l04112"></a><span class="lineno"> 4112</span>&#160;  <span class="keywordtype">int</span> Src1Idx = <a class="code" href="namespacellvm_1_1AMDGPU.html#a27efe1286cc31f5fc95355af30b0356c">AMDGPU::getNamedOperandIdx</a>(Opcode, AMDGPU::OpName::src1);</div>
<div class="line"><a name="l04113"></a><span class="lineno"> 4113</span>&#160;  <span class="keywordtype">int</span> Src2Idx = <a class="code" href="namespacellvm_1_1AMDGPU.html#a27efe1286cc31f5fc95355af30b0356c">AMDGPU::getNamedOperandIdx</a>(Opcode, AMDGPU::OpName::src2);</div>
<div class="line"><a name="l04114"></a><span class="lineno"> 4114</span>&#160;  <span class="keywordtype">int</span> Src3Idx = -1;</div>
<div class="line"><a name="l04115"></a><span class="lineno"> 4115</span>&#160;  <span class="keywordflow">if</span> (Src0Idx == -1) {</div>
<div class="line"><a name="l04116"></a><span class="lineno"> 4116</span>&#160;    <span class="comment">// VOPD V_DUAL_* instructions use different operand names.</span></div>
<div class="line"><a name="l04117"></a><span class="lineno"> 4117</span>&#160;    Src0Idx = <a class="code" href="namespacellvm_1_1AMDGPU.html#a27efe1286cc31f5fc95355af30b0356c">AMDGPU::getNamedOperandIdx</a>(Opcode, AMDGPU::OpName::src0X);</div>
<div class="line"><a name="l04118"></a><span class="lineno"> 4118</span>&#160;    Src1Idx = <a class="code" href="namespacellvm_1_1AMDGPU.html#a27efe1286cc31f5fc95355af30b0356c">AMDGPU::getNamedOperandIdx</a>(Opcode, AMDGPU::OpName::vsrc1X);</div>
<div class="line"><a name="l04119"></a><span class="lineno"> 4119</span>&#160;    Src2Idx = <a class="code" href="namespacellvm_1_1AMDGPU.html#a27efe1286cc31f5fc95355af30b0356c">AMDGPU::getNamedOperandIdx</a>(Opcode, AMDGPU::OpName::src0Y);</div>
<div class="line"><a name="l04120"></a><span class="lineno"> 4120</span>&#160;    Src3Idx = <a class="code" href="namespacellvm_1_1AMDGPU.html#a27efe1286cc31f5fc95355af30b0356c">AMDGPU::getNamedOperandIdx</a>(Opcode, AMDGPU::OpName::vsrc1Y);</div>
<div class="line"><a name="l04121"></a><span class="lineno"> 4121</span>&#160;  }</div>
<div class="line"><a name="l04122"></a><span class="lineno"> 4122</span>&#160; </div>
<div class="line"><a name="l04123"></a><span class="lineno"> 4123</span>&#160;  <span class="comment">// Make sure the number of operands is correct.</span></div>
<div class="line"><a name="l04124"></a><span class="lineno"> 4124</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCInstrDesc.html">MCInstrDesc</a> &amp;Desc = <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(Opcode);</div>
<div class="line"><a name="l04125"></a><span class="lineno"> 4125</span>&#160;  <span class="keywordflow">if</span> (!Desc.<a class="code" href="classllvm_1_1MCInstrDesc.html#ade5781c13cce7ee39fe5cc54dcebccd8">isVariadic</a>() &amp;&amp;</div>
<div class="line"><a name="l04126"></a><span class="lineno"> 4126</span>&#160;      Desc.<a class="code" href="classllvm_1_1MCInstrDesc.html#a0ca904e64ee29c8812ed34e632d3c947">getNumOperands</a>() != <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getNumExplicitOperands()) {</div>
<div class="line"><a name="l04127"></a><span class="lineno"> 4127</span>&#160;    ErrInfo = <span class="stringliteral">&quot;Instruction has wrong number of operands.&quot;</span>;</div>
<div class="line"><a name="l04128"></a><span class="lineno"> 4128</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04129"></a><span class="lineno"> 4129</span>&#160;  }</div>
<div class="line"><a name="l04130"></a><span class="lineno"> 4130</span>&#160; </div>
<div class="line"><a name="l04131"></a><span class="lineno"> 4131</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.isInlineAsm()) {</div>
<div class="line"><a name="l04132"></a><span class="lineno"> 4132</span>&#160;    <span class="comment">// Verify register classes for inlineasm constraints.</span></div>
<div class="line"><a name="l04133"></a><span class="lineno"> 4133</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = <a class="code" href="classllvm_1_1InlineAsm.html#a9e020cbab32f9a2ec3f777d603dd34baad8e4e0d44daebe8c07cf5d6d60a4fc30">InlineAsm::MIOp_FirstOperand</a>, <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getNumOperands();</div>
<div class="line"><a name="l04134"></a><span class="lineno"> 4134</span>&#160;         <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l04135"></a><span class="lineno"> 4135</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *RC = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getRegClassConstraint(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <span class="keyword">this</span>, &amp;RI);</div>
<div class="line"><a name="l04136"></a><span class="lineno"> 4136</span>&#160;      <span class="keywordflow">if</span> (!RC)</div>
<div class="line"><a name="l04137"></a><span class="lineno"> 4137</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l04138"></a><span class="lineno"> 4138</span>&#160; </div>
<div class="line"><a name="l04139"></a><span class="lineno"> 4139</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l04140"></a><span class="lineno"> 4140</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.isReg())</div>
<div class="line"><a name="l04141"></a><span class="lineno"> 4141</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l04142"></a><span class="lineno"> 4142</span>&#160; </div>
<div class="line"><a name="l04143"></a><span class="lineno"> 4143</span>&#160;      <a class="code" href="classllvm_1_1Register.html">Register</a> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a> = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getReg();</div>
<div class="line"><a name="l04144"></a><span class="lineno"> 4144</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>.isVirtual() &amp;&amp; !RC-&gt;<a class="code" href="classllvm_1_1TargetRegisterClass.html#a60b6974966381f08079722f2258a0039">contains</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>)) {</div>
<div class="line"><a name="l04145"></a><span class="lineno"> 4145</span>&#160;        ErrInfo = <span class="stringliteral">&quot;inlineasm operand has incorrect register class.&quot;</span>;</div>
<div class="line"><a name="l04146"></a><span class="lineno"> 4146</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04147"></a><span class="lineno"> 4147</span>&#160;      }</div>
<div class="line"><a name="l04148"></a><span class="lineno"> 4148</span>&#160;    }</div>
<div class="line"><a name="l04149"></a><span class="lineno"> 4149</span>&#160; </div>
<div class="line"><a name="l04150"></a><span class="lineno"> 4150</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l04151"></a><span class="lineno"> 4151</span>&#160;  }</div>
<div class="line"><a name="l04152"></a><span class="lineno"> 4152</span>&#160; </div>
<div class="line"><a name="l04153"></a><span class="lineno"> 4153</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SIInstrInfo.html#abdcf600002fd489c76924f2ec4f4fc0f">isMIMG</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>) &amp;&amp; <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.memoperands_empty() &amp;&amp; <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.mayLoadOrStore()) {</div>
<div class="line"><a name="l04154"></a><span class="lineno"> 4154</span>&#160;    ErrInfo = <span class="stringliteral">&quot;missing memory operand from MIMG instruction.&quot;</span>;</div>
<div class="line"><a name="l04155"></a><span class="lineno"> 4155</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04156"></a><span class="lineno"> 4156</span>&#160;  }</div>
<div class="line"><a name="l04157"></a><span class="lineno"> 4157</span>&#160; </div>
<div class="line"><a name="l04158"></a><span class="lineno"> 4158</span>&#160;  <span class="comment">// Make sure the register classes are correct.</span></div>
<div class="line"><a name="l04159"></a><span class="lineno"> 4159</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a> = Desc.<a class="code" href="classllvm_1_1MCInstrDesc.html#a0ca904e64ee29c8812ed34e632d3c947">getNumOperands</a>(); <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l04160"></a><span class="lineno"> 4160</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;MO = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l04161"></a><span class="lineno"> 4161</span>&#160;    <span class="keywordflow">if</span> (MO.<a class="code" href="classllvm_1_1MachineOperand.html#afcb818bd3e34498f8f72ca555a36d5eb">isFPImm</a>()) {</div>
<div class="line"><a name="l04162"></a><span class="lineno"> 4162</span>&#160;      ErrInfo = <span class="stringliteral">&quot;FPImm Machine Operands are not supported. ISel should bitcast &quot;</span></div>
<div class="line"><a name="l04163"></a><span class="lineno"> 4163</span>&#160;                <span class="stringliteral">&quot;all fp values to integers.&quot;</span>;</div>
<div class="line"><a name="l04164"></a><span class="lineno"> 4164</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04165"></a><span class="lineno"> 4165</span>&#160;    }</div>
<div class="line"><a name="l04166"></a><span class="lineno"> 4166</span>&#160; </div>
<div class="line"><a name="l04167"></a><span class="lineno"> 4167</span>&#160;    <span class="keywordtype">int</span> RegClass = Desc.<a class="code" href="classllvm_1_1MCInstrDesc.html#a9491e6e3afc420c33cf508189bb12c3b">operands</a>()[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>].RegClass;</div>
<div class="line"><a name="l04168"></a><span class="lineno"> 4168</span>&#160; </div>
<div class="line"><a name="l04169"></a><span class="lineno"> 4169</span>&#160;    <span class="keywordflow">switch</span> (Desc.<a class="code" href="classllvm_1_1MCInstrDesc.html#a9491e6e3afc420c33cf508189bb12c3b">operands</a>()[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>].OperandType) {</div>
<div class="line"><a name="l04170"></a><span class="lineno"> 4170</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1MCOI.html#ad9dfed338ec3d47f30c593ee49cbf96da62a6ddcdddcce55f836b1720d29f90dc">MCOI::OPERAND_REGISTER</a>:</div>
<div class="line"><a name="l04171"></a><span class="lineno"> 4171</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>).isImm() || <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>).isGlobal()) {</div>
<div class="line"><a name="l04172"></a><span class="lineno"> 4172</span>&#160;        ErrInfo = <span class="stringliteral">&quot;Illegal immediate value for operand.&quot;</span>;</div>
<div class="line"><a name="l04173"></a><span class="lineno"> 4173</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04174"></a><span class="lineno"> 4174</span>&#160;      }</div>
<div class="line"><a name="l04175"></a><span class="lineno"> 4175</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04176"></a><span class="lineno"> 4176</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1AMDGPU.html#ab7679ce5eab5937b9da9e7702aff8cc5a5df5b6b6089b9237400d2c422db445d8">AMDGPU::OPERAND_REG_IMM_INT32</a>:</div>
<div class="line"><a name="l04177"></a><span class="lineno"> 4177</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1AMDGPU.html#ab7679ce5eab5937b9da9e7702aff8cc5aa7f8a98ec46b1d30189640d9ff59bc1e">AMDGPU::OPERAND_REG_IMM_FP32</a>:</div>
<div class="line"><a name="l04178"></a><span class="lineno"> 4178</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1AMDGPU.html#ab7679ce5eab5937b9da9e7702aff8cc5af8ac73c62f6f1da6175d32824633a064">AMDGPU::OPERAND_REG_IMM_FP32_DEFERRED</a>:</div>
<div class="line"><a name="l04179"></a><span class="lineno"> 4179</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1AMDGPU.html#ab7679ce5eab5937b9da9e7702aff8cc5ae0f1ac0de50b2280311f02d7e1f5b25e">AMDGPU::OPERAND_REG_IMM_V2FP32</a>:</div>
<div class="line"><a name="l04180"></a><span class="lineno"> 4180</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04181"></a><span class="lineno"> 4181</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1AMDGPU.html#ab7679ce5eab5937b9da9e7702aff8cc5ad670957823c39ba1006b962d2023a19a">AMDGPU::OPERAND_REG_INLINE_C_INT32</a>:</div>
<div class="line"><a name="l04182"></a><span class="lineno"> 4182</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1AMDGPU.html#ab7679ce5eab5937b9da9e7702aff8cc5ac073c33efc03a1882ee8155b8d68a794">AMDGPU::OPERAND_REG_INLINE_C_FP32</a>:</div>
<div class="line"><a name="l04183"></a><span class="lineno"> 4183</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1AMDGPU.html#ab7679ce5eab5937b9da9e7702aff8cc5a86ef6f68b415f39fcd28ae0dd431297c">AMDGPU::OPERAND_REG_INLINE_C_INT64</a>:</div>
<div class="line"><a name="l04184"></a><span class="lineno"> 4184</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1AMDGPU.html#ab7679ce5eab5937b9da9e7702aff8cc5a2f2cb7a6e0c1e04d17d4a2d79dfc85ca">AMDGPU::OPERAND_REG_INLINE_C_FP64</a>:</div>
<div class="line"><a name="l04185"></a><span class="lineno"> 4185</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1AMDGPU.html#ab7679ce5eab5937b9da9e7702aff8cc5a8d695369aef7c9f7e0589f5b4673ea46">AMDGPU::OPERAND_REG_INLINE_C_INT16</a>:</div>
<div class="line"><a name="l04186"></a><span class="lineno"> 4186</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1AMDGPU.html#ab7679ce5eab5937b9da9e7702aff8cc5ae6c8f9b5c5805da722239e1e5d8cda5d">AMDGPU::OPERAND_REG_INLINE_C_FP16</a>:</div>
<div class="line"><a name="l04187"></a><span class="lineno"> 4187</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1AMDGPU.html#ab7679ce5eab5937b9da9e7702aff8cc5a9f903a56d49f51a4697c5198aaea3459">AMDGPU::OPERAND_REG_INLINE_AC_INT32</a>:</div>
<div class="line"><a name="l04188"></a><span class="lineno"> 4188</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1AMDGPU.html#ab7679ce5eab5937b9da9e7702aff8cc5aa10ec5681f77906549e7a745593139a9">AMDGPU::OPERAND_REG_INLINE_AC_FP32</a>:</div>
<div class="line"><a name="l04189"></a><span class="lineno"> 4189</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1AMDGPU.html#ab7679ce5eab5937b9da9e7702aff8cc5a9242629e3f7e6539015220a3d77d7dc7">AMDGPU::OPERAND_REG_INLINE_AC_INT16</a>:</div>
<div class="line"><a name="l04190"></a><span class="lineno"> 4190</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1AMDGPU.html#ab7679ce5eab5937b9da9e7702aff8cc5a9eb871898b75ab91e808faf50f5f41a5">AMDGPU::OPERAND_REG_INLINE_AC_FP16</a>:</div>
<div class="line"><a name="l04191"></a><span class="lineno"> 4191</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1AMDGPU.html#ab7679ce5eab5937b9da9e7702aff8cc5ae51ff25f16b928b2b8712a613e4fd3db">AMDGPU::OPERAND_REG_INLINE_AC_FP64</a>: {</div>
<div class="line"><a name="l04192"></a><span class="lineno"> 4192</span>&#160;      <span class="keywordflow">if</span> (!MO.<a class="code" href="classllvm_1_1MachineOperand.html#a4c9594c955fec80c73ddd964b5efd554">isReg</a>() &amp;&amp; (!MO.<a class="code" href="classllvm_1_1MachineOperand.html#a76f61c6784df6dc8402a8b9011041926">isImm</a>() || !<a class="code" href="classllvm_1_1SIInstrInfo.html#a0480d6290cd95e40641f2af7a18fb764">isInlineConstant</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>))) {</div>
<div class="line"><a name="l04193"></a><span class="lineno"> 4193</span>&#160;        ErrInfo = <span class="stringliteral">&quot;Illegal immediate value for operand.&quot;</span>;</div>
<div class="line"><a name="l04194"></a><span class="lineno"> 4194</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04195"></a><span class="lineno"> 4195</span>&#160;      }</div>
<div class="line"><a name="l04196"></a><span class="lineno"> 4196</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04197"></a><span class="lineno"> 4197</span>&#160;    }</div>
<div class="line"><a name="l04198"></a><span class="lineno"> 4198</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1MCOI.html#ad9dfed338ec3d47f30c593ee49cbf96da767514e15ea244ad3e683ae79b583534">MCOI::OPERAND_IMMEDIATE</a>:</div>
<div class="line"><a name="l04199"></a><span class="lineno"> 4199</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1AMDGPU.html#ab7679ce5eab5937b9da9e7702aff8cc5a09dd1263fb2164c20f99f89f69e01a6e">AMDGPU::OPERAND_KIMM32</a>:</div>
<div class="line"><a name="l04200"></a><span class="lineno"> 4200</span>&#160;      <span class="comment">// Check if this operand is an immediate.</span></div>
<div class="line"><a name="l04201"></a><span class="lineno"> 4201</span>&#160;      <span class="comment">// FrameIndex operands will be replaced by immediates, so they are</span></div>
<div class="line"><a name="l04202"></a><span class="lineno"> 4202</span>&#160;      <span class="comment">// allowed.</span></div>
<div class="line"><a name="l04203"></a><span class="lineno"> 4203</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>).isImm() &amp;&amp; !<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>).isFI()) {</div>
<div class="line"><a name="l04204"></a><span class="lineno"> 4204</span>&#160;        ErrInfo = <span class="stringliteral">&quot;Expected immediate, but got non-immediate&quot;</span>;</div>
<div class="line"><a name="l04205"></a><span class="lineno"> 4205</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04206"></a><span class="lineno"> 4206</span>&#160;      }</div>
<div class="line"><a name="l04207"></a><span class="lineno"> 4207</span>&#160;      [[fallthrough]];</div>
<div class="line"><a name="l04208"></a><span class="lineno"> 4208</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l04209"></a><span class="lineno"> 4209</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l04210"></a><span class="lineno"> 4210</span>&#160;    }</div>
<div class="line"><a name="l04211"></a><span class="lineno"> 4211</span>&#160; </div>
<div class="line"><a name="l04212"></a><span class="lineno"> 4212</span>&#160;    <span class="keywordflow">if</span> (!MO.<a class="code" href="classllvm_1_1MachineOperand.html#a4c9594c955fec80c73ddd964b5efd554">isReg</a>())</div>
<div class="line"><a name="l04213"></a><span class="lineno"> 4213</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l04214"></a><span class="lineno"> 4214</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a> = MO.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>();</div>
<div class="line"><a name="l04215"></a><span class="lineno"> 4215</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>)</div>
<div class="line"><a name="l04216"></a><span class="lineno"> 4216</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l04217"></a><span class="lineno"> 4217</span>&#160; </div>
<div class="line"><a name="l04218"></a><span class="lineno"> 4218</span>&#160;    <span class="comment">// FIXME: Ideally we would have separate instruction definitions with the</span></div>
<div class="line"><a name="l04219"></a><span class="lineno"> 4219</span>&#160;    <span class="comment">// aligned register constraint.</span></div>
<div class="line"><a name="l04220"></a><span class="lineno"> 4220</span>&#160;    <span class="comment">// FIXME: We do not verify inline asm operands, but custom inline asm</span></div>
<div class="line"><a name="l04221"></a><span class="lineno"> 4221</span>&#160;    <span class="comment">// verification is broken anyway</span></div>
<div class="line"><a name="l04222"></a><span class="lineno"> 4222</span>&#160;    <span class="keywordflow">if</span> (ST.<a class="code" href="classllvm_1_1GCNSubtarget.html#a3b3c319ca867b6775449a12b4623634a">needsAlignedVGPRs</a>()) {</div>
<div class="line"><a name="l04223"></a><span class="lineno"> 4223</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *RC = RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#a77b95c7a5620b2e92ef8ca3aa8be15bd">getRegClassForReg</a>(<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>);</div>
<div class="line"><a name="l04224"></a><span class="lineno"> 4224</span>&#160;      <span class="keywordflow">if</span> (RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#a2c4185689ad93fedfa57db7bfeb8ddd3">hasVectorRegisters</a>(RC) &amp;&amp; MO.<a class="code" href="classllvm_1_1MachineOperand.html#a028a8c5113d40d8c3f4427053bf36738">getSubReg</a>()) {</div>
<div class="line"><a name="l04225"></a><span class="lineno"> 4225</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *SubRC =</div>
<div class="line"><a name="l04226"></a><span class="lineno"> 4226</span>&#160;            RI.getSubRegisterClass(RC, MO.<a class="code" href="classllvm_1_1MachineOperand.html#a028a8c5113d40d8c3f4427053bf36738">getSubReg</a>());</div>
<div class="line"><a name="l04227"></a><span class="lineno"> 4227</span>&#160;        RC = RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#a0e83ecd12d46c80703ce5d3ef34ead33">getCompatibleSubRegClass</a>(RC, SubRC, MO.<a class="code" href="classllvm_1_1MachineOperand.html#a028a8c5113d40d8c3f4427053bf36738">getSubReg</a>());</div>
<div class="line"><a name="l04228"></a><span class="lineno"> 4228</span>&#160;        <span class="keywordflow">if</span> (RC)</div>
<div class="line"><a name="l04229"></a><span class="lineno"> 4229</span>&#160;          RC = SubRC;</div>
<div class="line"><a name="l04230"></a><span class="lineno"> 4230</span>&#160;      }</div>
<div class="line"><a name="l04231"></a><span class="lineno"> 4231</span>&#160; </div>
<div class="line"><a name="l04232"></a><span class="lineno"> 4232</span>&#160;      <span class="comment">// Check that this is the aligned version of the class.</span></div>
<div class="line"><a name="l04233"></a><span class="lineno"> 4233</span>&#160;      <span class="keywordflow">if</span> (!RC || !RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#a2adf69ba524926c5454f5d259c1c4dac">isProperlyAlignedRC</a>(*RC)) {</div>
<div class="line"><a name="l04234"></a><span class="lineno"> 4234</span>&#160;        ErrInfo = <span class="stringliteral">&quot;Subtarget requires even aligned vector registers&quot;</span>;</div>
<div class="line"><a name="l04235"></a><span class="lineno"> 4235</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04236"></a><span class="lineno"> 4236</span>&#160;      }</div>
<div class="line"><a name="l04237"></a><span class="lineno"> 4237</span>&#160;    }</div>
<div class="line"><a name="l04238"></a><span class="lineno"> 4238</span>&#160; </div>
<div class="line"><a name="l04239"></a><span class="lineno"> 4239</span>&#160;    <span class="keywordflow">if</span> (RegClass != -1) {</div>
<div class="line"><a name="l04240"></a><span class="lineno"> 4240</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>.isVirtual())</div>
<div class="line"><a name="l04241"></a><span class="lineno"> 4241</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l04242"></a><span class="lineno"> 4242</span>&#160; </div>
<div class="line"><a name="l04243"></a><span class="lineno"> 4243</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *RC = RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#a0e2008041a23dfc43ff1e90b014a2936">getRegClass</a>(RegClass);</div>
<div class="line"><a name="l04244"></a><span class="lineno"> 4244</span>&#160;      <span class="keywordflow">if</span> (!RC-&gt;<a class="code" href="classllvm_1_1TargetRegisterClass.html#a60b6974966381f08079722f2258a0039">contains</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>)) {</div>
<div class="line"><a name="l04245"></a><span class="lineno"> 4245</span>&#160;        ErrInfo = <span class="stringliteral">&quot;Operand has incorrect register class.&quot;</span>;</div>
<div class="line"><a name="l04246"></a><span class="lineno"> 4246</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04247"></a><span class="lineno"> 4247</span>&#160;      }</div>
<div class="line"><a name="l04248"></a><span class="lineno"> 4248</span>&#160;    }</div>
<div class="line"><a name="l04249"></a><span class="lineno"> 4249</span>&#160;  }</div>
<div class="line"><a name="l04250"></a><span class="lineno"> 4250</span>&#160; </div>
<div class="line"><a name="l04251"></a><span class="lineno"> 4251</span>&#160;  <span class="comment">// Verify SDWA</span></div>
<div class="line"><a name="l04252"></a><span class="lineno"> 4252</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SIInstrInfo.html#a3295a9f4a742f69dfa4d7bb91cced3a9">isSDWA</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>)) {</div>
<div class="line"><a name="l04253"></a><span class="lineno"> 4253</span>&#160;    <span class="keywordflow">if</span> (!ST.<a class="code" href="classllvm_1_1AMDGPUSubtarget.html#a1fc1d6d384bfb39f6a1ad286154258a5">hasSDWA</a>()) {</div>
<div class="line"><a name="l04254"></a><span class="lineno"> 4254</span>&#160;      ErrInfo = <span class="stringliteral">&quot;SDWA is not supported on this target&quot;</span>;</div>
<div class="line"><a name="l04255"></a><span class="lineno"> 4255</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04256"></a><span class="lineno"> 4256</span>&#160;    }</div>
<div class="line"><a name="l04257"></a><span class="lineno"> 4257</span>&#160; </div>
<div class="line"><a name="l04258"></a><span class="lineno"> 4258</span>&#160;    <span class="keywordtype">int</span> DstIdx = <a class="code" href="namespacellvm_1_1AMDGPU.html#a27efe1286cc31f5fc95355af30b0356c">AMDGPU::getNamedOperandIdx</a>(Opcode, AMDGPU::OpName::vdst);</div>
<div class="line"><a name="l04259"></a><span class="lineno"> 4259</span>&#160; </div>
<div class="line"><a name="l04260"></a><span class="lineno"> 4260</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> OpIdx : {DstIdx, Src0Idx, Src1Idx, Src2Idx}) {</div>
<div class="line"><a name="l04261"></a><span class="lineno"> 4261</span>&#160;      <span class="keywordflow">if</span> (OpIdx == -1)</div>
<div class="line"><a name="l04262"></a><span class="lineno"> 4262</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l04263"></a><span class="lineno"> 4263</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;MO = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(OpIdx);</div>
<div class="line"><a name="l04264"></a><span class="lineno"> 4264</span>&#160; </div>
<div class="line"><a name="l04265"></a><span class="lineno"> 4265</span>&#160;      <span class="keywordflow">if</span> (!ST.<a class="code" href="classllvm_1_1GCNSubtarget.html#a0af7bcad0087b2e7738d1636e5e4793e">hasSDWAScalar</a>()) {</div>
<div class="line"><a name="l04266"></a><span class="lineno"> 4266</span>&#160;        <span class="comment">// Only VGPRS on VI</span></div>
<div class="line"><a name="l04267"></a><span class="lineno"> 4267</span>&#160;        <span class="keywordflow">if</span> (!MO.<a class="code" href="classllvm_1_1MachineOperand.html#a4c9594c955fec80c73ddd964b5efd554">isReg</a>() || !RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#a8cb8776ee5f539fe6391a6d521af25f1">hasVGPRs</a>(RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#a77b95c7a5620b2e92ef8ca3aa8be15bd">getRegClassForReg</a>(<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, MO.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>()))) {</div>
<div class="line"><a name="l04268"></a><span class="lineno"> 4268</span>&#160;          ErrInfo = <span class="stringliteral">&quot;Only VGPRs allowed as operands in SDWA instructions on VI&quot;</span>;</div>
<div class="line"><a name="l04269"></a><span class="lineno"> 4269</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04270"></a><span class="lineno"> 4270</span>&#160;        }</div>
<div class="line"><a name="l04271"></a><span class="lineno"> 4271</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04272"></a><span class="lineno"> 4272</span>&#160;        <span class="comment">// No immediates on GFX9</span></div>
<div class="line"><a name="l04273"></a><span class="lineno"> 4273</span>&#160;        <span class="keywordflow">if</span> (!MO.<a class="code" href="classllvm_1_1MachineOperand.html#a4c9594c955fec80c73ddd964b5efd554">isReg</a>()) {</div>
<div class="line"><a name="l04274"></a><span class="lineno"> 4274</span>&#160;          ErrInfo =</div>
<div class="line"><a name="l04275"></a><span class="lineno"> 4275</span>&#160;            <span class="stringliteral">&quot;Only reg allowed as operands in SDWA instructions on GFX9+&quot;</span>;</div>
<div class="line"><a name="l04276"></a><span class="lineno"> 4276</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04277"></a><span class="lineno"> 4277</span>&#160;        }</div>
<div class="line"><a name="l04278"></a><span class="lineno"> 4278</span>&#160;      }</div>
<div class="line"><a name="l04279"></a><span class="lineno"> 4279</span>&#160;    }</div>
<div class="line"><a name="l04280"></a><span class="lineno"> 4280</span>&#160; </div>
<div class="line"><a name="l04281"></a><span class="lineno"> 4281</span>&#160;    <span class="keywordflow">if</span> (!ST.<a class="code" href="classllvm_1_1GCNSubtarget.html#a0330bc04e02e5f966bb34b94faee3ea7">hasSDWAOmod</a>()) {</div>
<div class="line"><a name="l04282"></a><span class="lineno"> 4282</span>&#160;      <span class="comment">// No omod allowed on VI</span></div>
<div class="line"><a name="l04283"></a><span class="lineno"> 4283</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> *OMod = <a class="code" href="classllvm_1_1SIInstrInfo.html#a61297a04e9cd91c9658b9affecdd9797">getNamedOperand</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, AMDGPU::OpName::omod);</div>
<div class="line"><a name="l04284"></a><span class="lineno"> 4284</span>&#160;      <span class="keywordflow">if</span> (OMod != <span class="keyword">nullptr</span> &amp;&amp;</div>
<div class="line"><a name="l04285"></a><span class="lineno"> 4285</span>&#160;        (!OMod-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#a76f61c6784df6dc8402a8b9011041926">isImm</a>() || OMod-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#a38b28a85f818b49d8806c150b8a5b4f7">getImm</a>() != 0)) {</div>
<div class="line"><a name="l04286"></a><span class="lineno"> 4286</span>&#160;        ErrInfo = <span class="stringliteral">&quot;OMod not allowed in SDWA instructions on VI&quot;</span>;</div>
<div class="line"><a name="l04287"></a><span class="lineno"> 4287</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04288"></a><span class="lineno"> 4288</span>&#160;      }</div>
<div class="line"><a name="l04289"></a><span class="lineno"> 4289</span>&#160;    }</div>
<div class="line"><a name="l04290"></a><span class="lineno"> 4290</span>&#160; </div>
<div class="line"><a name="l04291"></a><span class="lineno"> 4291</span>&#160;    <a class="code" href="classuint16__t.html">uint16_t</a> BasicOpcode = <a class="code" href="namespacellvm_1_1AMDGPU.html#a08b135e0f9484354a83410d97d698b22">AMDGPU::getBasicFromSDWAOp</a>(Opcode);</div>
<div class="line"><a name="l04292"></a><span class="lineno"> 4292</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SIInstrInfo.html#a4e8b8e35244538ba4a04d756420454ba">isVOPC</a>(BasicOpcode)) {</div>
<div class="line"><a name="l04293"></a><span class="lineno"> 4293</span>&#160;      <span class="keywordflow">if</span> (!ST.<a class="code" href="classllvm_1_1GCNSubtarget.html#a8ef1770dca2e75c8a049d7441802932f">hasSDWASdst</a>() &amp;&amp; DstIdx != -1) {</div>
<div class="line"><a name="l04294"></a><span class="lineno"> 4294</span>&#160;        <span class="comment">// Only vcc allowed as dst on VI for VOPC</span></div>
<div class="line"><a name="l04295"></a><span class="lineno"> 4295</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;Dst = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(DstIdx);</div>
<div class="line"><a name="l04296"></a><span class="lineno"> 4296</span>&#160;        <span class="keywordflow">if</span> (!Dst.isReg() || Dst.getReg() != AMDGPU::VCC) {</div>
<div class="line"><a name="l04297"></a><span class="lineno"> 4297</span>&#160;          ErrInfo = <span class="stringliteral">&quot;Only VCC allowed as dst in SDWA instructions on VI&quot;</span>;</div>
<div class="line"><a name="l04298"></a><span class="lineno"> 4298</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04299"></a><span class="lineno"> 4299</span>&#160;        }</div>
<div class="line"><a name="l04300"></a><span class="lineno"> 4300</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!ST.<a class="code" href="classllvm_1_1GCNSubtarget.html#a67eda8a7f0b4516f8f08d82651207c91">hasSDWAOutModsVOPC</a>()) {</div>
<div class="line"><a name="l04301"></a><span class="lineno"> 4301</span>&#160;        <span class="comment">// No clamp allowed on GFX9 for VOPC</span></div>
<div class="line"><a name="l04302"></a><span class="lineno"> 4302</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> *Clamp = <a class="code" href="classllvm_1_1SIInstrInfo.html#a61297a04e9cd91c9658b9affecdd9797">getNamedOperand</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, AMDGPU::OpName::clamp);</div>
<div class="line"><a name="l04303"></a><span class="lineno"> 4303</span>&#160;        <span class="keywordflow">if</span> (Clamp &amp;&amp; (!Clamp-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#a76f61c6784df6dc8402a8b9011041926">isImm</a>() || Clamp-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#a38b28a85f818b49d8806c150b8a5b4f7">getImm</a>() != 0)) {</div>
<div class="line"><a name="l04304"></a><span class="lineno"> 4304</span>&#160;          ErrInfo = <span class="stringliteral">&quot;Clamp not allowed in VOPC SDWA instructions on VI&quot;</span>;</div>
<div class="line"><a name="l04305"></a><span class="lineno"> 4305</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04306"></a><span class="lineno"> 4306</span>&#160;        }</div>
<div class="line"><a name="l04307"></a><span class="lineno"> 4307</span>&#160; </div>
<div class="line"><a name="l04308"></a><span class="lineno"> 4308</span>&#160;        <span class="comment">// No omod allowed on GFX9 for VOPC</span></div>
<div class="line"><a name="l04309"></a><span class="lineno"> 4309</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> *OMod = <a class="code" href="classllvm_1_1SIInstrInfo.html#a61297a04e9cd91c9658b9affecdd9797">getNamedOperand</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, AMDGPU::OpName::omod);</div>
<div class="line"><a name="l04310"></a><span class="lineno"> 4310</span>&#160;        <span class="keywordflow">if</span> (OMod &amp;&amp; (!OMod-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#a76f61c6784df6dc8402a8b9011041926">isImm</a>() || OMod-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#a38b28a85f818b49d8806c150b8a5b4f7">getImm</a>() != 0)) {</div>
<div class="line"><a name="l04311"></a><span class="lineno"> 4311</span>&#160;          ErrInfo = <span class="stringliteral">&quot;OMod not allowed in VOPC SDWA instructions on VI&quot;</span>;</div>
<div class="line"><a name="l04312"></a><span class="lineno"> 4312</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04313"></a><span class="lineno"> 4313</span>&#160;        }</div>
<div class="line"><a name="l04314"></a><span class="lineno"> 4314</span>&#160;      }</div>
<div class="line"><a name="l04315"></a><span class="lineno"> 4315</span>&#160;    }</div>
<div class="line"><a name="l04316"></a><span class="lineno"> 4316</span>&#160; </div>
<div class="line"><a name="l04317"></a><span class="lineno"> 4317</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> *<a class="code" href="namespacellvm_1_1AMDGPU_1_1SDWA.html#a4473412439e8285e235ccafa0c3824b6">DstUnused</a> = <a class="code" href="classllvm_1_1SIInstrInfo.html#a61297a04e9cd91c9658b9affecdd9797">getNamedOperand</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, AMDGPU::OpName::dst_unused);</div>
<div class="line"><a name="l04318"></a><span class="lineno"> 4318</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1AMDGPU_1_1SDWA.html#a4473412439e8285e235ccafa0c3824b6">DstUnused</a> &amp;&amp; <a class="code" href="namespacellvm_1_1AMDGPU_1_1SDWA.html#a4473412439e8285e235ccafa0c3824b6">DstUnused</a>-&gt;isImm() &amp;&amp;</div>
<div class="line"><a name="l04319"></a><span class="lineno"> 4319</span>&#160;        <a class="code" href="namespacellvm_1_1AMDGPU_1_1SDWA.html#a4473412439e8285e235ccafa0c3824b6">DstUnused</a>-&gt;getImm() == <a class="code" href="namespacellvm_1_1AMDGPU_1_1SDWA.html#a4473412439e8285e235ccafa0c3824b6a58f19664e2b69107495d2085514f7874">AMDGPU::SDWA::UNUSED_PRESERVE</a>) {</div>
<div class="line"><a name="l04320"></a><span class="lineno"> 4320</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;Dst = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(DstIdx);</div>
<div class="line"><a name="l04321"></a><span class="lineno"> 4321</span>&#160;      <span class="keywordflow">if</span> (!Dst.isReg() || !Dst.isTied()) {</div>
<div class="line"><a name="l04322"></a><span class="lineno"> 4322</span>&#160;        ErrInfo = <span class="stringliteral">&quot;Dst register should have tied register&quot;</span>;</div>
<div class="line"><a name="l04323"></a><span class="lineno"> 4323</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04324"></a><span class="lineno"> 4324</span>&#160;      }</div>
<div class="line"><a name="l04325"></a><span class="lineno"> 4325</span>&#160; </div>
<div class="line"><a name="l04326"></a><span class="lineno"> 4326</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;TiedMO =</div>
<div class="line"><a name="l04327"></a><span class="lineno"> 4327</span>&#160;          <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.findTiedOperandIdx(DstIdx));</div>
<div class="line"><a name="l04328"></a><span class="lineno"> 4328</span>&#160;      <span class="keywordflow">if</span> (!TiedMO.<a class="code" href="classllvm_1_1MachineOperand.html#a4c9594c955fec80c73ddd964b5efd554">isReg</a>() || !TiedMO.<a class="code" href="classllvm_1_1MachineOperand.html#a3bf161859e1ad7fd3da485d3cb688d34">isImplicit</a>() || !TiedMO.<a class="code" href="classllvm_1_1MachineOperand.html#a69544ec8658eadeed98245dc37c3a541">isUse</a>()) {</div>
<div class="line"><a name="l04329"></a><span class="lineno"> 4329</span>&#160;        ErrInfo =</div>
<div class="line"><a name="l04330"></a><span class="lineno"> 4330</span>&#160;            <span class="stringliteral">&quot;Dst register should be tied to implicit use of preserved register&quot;</span>;</div>
<div class="line"><a name="l04331"></a><span class="lineno"> 4331</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04332"></a><span class="lineno"> 4332</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (TiedMO.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>().<a class="code" href="classllvm_1_1Register.html#a13bd3dae94013a7bf38afc9391c8fa8f">isPhysical</a>() &amp;&amp;</div>
<div class="line"><a name="l04333"></a><span class="lineno"> 4333</span>&#160;                 Dst.getReg() != TiedMO.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>()) {</div>
<div class="line"><a name="l04334"></a><span class="lineno"> 4334</span>&#160;        ErrInfo = <span class="stringliteral">&quot;Dst register should use same physical register as preserved&quot;</span>;</div>
<div class="line"><a name="l04335"></a><span class="lineno"> 4335</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04336"></a><span class="lineno"> 4336</span>&#160;      }</div>
<div class="line"><a name="l04337"></a><span class="lineno"> 4337</span>&#160;    }</div>
<div class="line"><a name="l04338"></a><span class="lineno"> 4338</span>&#160;  }</div>
<div class="line"><a name="l04339"></a><span class="lineno"> 4339</span>&#160; </div>
<div class="line"><a name="l04340"></a><span class="lineno"> 4340</span>&#160;  <span class="comment">// Verify MIMG</span></div>
<div class="line"><a name="l04341"></a><span class="lineno"> 4341</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SIInstrInfo.html#abdcf600002fd489c76924f2ec4f4fc0f">isMIMG</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode()) &amp;&amp; !<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.mayStore()) {</div>
<div class="line"><a name="l04342"></a><span class="lineno"> 4342</span>&#160;    <span class="comment">// Ensure that the return type used is large enough for all the options</span></div>
<div class="line"><a name="l04343"></a><span class="lineno"> 4343</span>&#160;    <span class="comment">// being used TFE/LWE require an extra result register.</span></div>
<div class="line"><a name="l04344"></a><span class="lineno"> 4344</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> *DMask = <a class="code" href="classllvm_1_1SIInstrInfo.html#a61297a04e9cd91c9658b9affecdd9797">getNamedOperand</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, AMDGPU::OpName::dmask);</div>
<div class="line"><a name="l04345"></a><span class="lineno"> 4345</span>&#160;    <span class="keywordflow">if</span> (DMask) {</div>
<div class="line"><a name="l04346"></a><span class="lineno"> 4346</span>&#160;      <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> DMaskImm = DMask-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#a38b28a85f818b49d8806c150b8a5b4f7">getImm</a>();</div>
<div class="line"><a name="l04347"></a><span class="lineno"> 4347</span>&#160;      <a class="code" href="classuint32__t.html">uint32_t</a> RegCount =</div>
<div class="line"><a name="l04348"></a><span class="lineno"> 4348</span>&#160;          <a class="code" href="classllvm_1_1SIInstrInfo.html#a39d7080130a2d44447525617ead75825">isGather4</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode()) ? 4 : <a class="code" href="namespacellvm.html#a0eea77e7bfa82e0219d2ec7b4efbc94f">llvm::popcount</a>(DMaskImm);</div>
<div class="line"><a name="l04349"></a><span class="lineno"> 4349</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> *TFE = <a class="code" href="classllvm_1_1SIInstrInfo.html#a61297a04e9cd91c9658b9affecdd9797">getNamedOperand</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, AMDGPU::OpName::tfe);</div>
<div class="line"><a name="l04350"></a><span class="lineno"> 4350</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> *LWE = <a class="code" href="classllvm_1_1SIInstrInfo.html#a61297a04e9cd91c9658b9affecdd9797">getNamedOperand</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, AMDGPU::OpName::lwe);</div>
<div class="line"><a name="l04351"></a><span class="lineno"> 4351</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> *D16 = <a class="code" href="classllvm_1_1SIInstrInfo.html#a61297a04e9cd91c9658b9affecdd9797">getNamedOperand</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, AMDGPU::OpName::d16);</div>
<div class="line"><a name="l04352"></a><span class="lineno"> 4352</span>&#160; </div>
<div class="line"><a name="l04353"></a><span class="lineno"> 4353</span>&#160;      <span class="comment">// Adjust for packed 16 bit values</span></div>
<div class="line"><a name="l04354"></a><span class="lineno"> 4354</span>&#160;      <span class="keywordflow">if</span> (D16 &amp;&amp; D16-&gt;getImm() &amp;&amp; !ST.<a class="code" href="classllvm_1_1GCNSubtarget.html#ad30b3c952ed576256171d49971ec9241">hasUnpackedD16VMem</a>())</div>
<div class="line"><a name="l04355"></a><span class="lineno"> 4355</span>&#160;        RegCount &gt;&gt;= 1;</div>
<div class="line"><a name="l04356"></a><span class="lineno"> 4356</span>&#160; </div>
<div class="line"><a name="l04357"></a><span class="lineno"> 4357</span>&#160;      <span class="comment">// Adjust if using LWE or TFE</span></div>
<div class="line"><a name="l04358"></a><span class="lineno"> 4358</span>&#160;      <span class="keywordflow">if</span> ((LWE &amp;&amp; LWE-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#a38b28a85f818b49d8806c150b8a5b4f7">getImm</a>()) || (TFE &amp;&amp; TFE-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#a38b28a85f818b49d8806c150b8a5b4f7">getImm</a>()))</div>
<div class="line"><a name="l04359"></a><span class="lineno"> 4359</span>&#160;        RegCount += 1;</div>
<div class="line"><a name="l04360"></a><span class="lineno"> 4360</span>&#160; </div>
<div class="line"><a name="l04361"></a><span class="lineno"> 4361</span>&#160;      <span class="keyword">const</span> <a class="code" href="classuint32__t.html">uint32_t</a> DstIdx =</div>
<div class="line"><a name="l04362"></a><span class="lineno"> 4362</span>&#160;          <a class="code" href="namespacellvm_1_1AMDGPU.html#a27efe1286cc31f5fc95355af30b0356c">AMDGPU::getNamedOperandIdx</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode(), AMDGPU::OpName::vdata);</div>
<div class="line"><a name="l04363"></a><span class="lineno"> 4363</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;Dst = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(DstIdx);</div>
<div class="line"><a name="l04364"></a><span class="lineno"> 4364</span>&#160;      <span class="keywordflow">if</span> (Dst.isReg()) {</div>
<div class="line"><a name="l04365"></a><span class="lineno"> 4365</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *DstRC = <a class="code" href="classllvm_1_1SIInstrInfo.html#a7d38ae4f1dfa5ec71b0f78fab996425b">getOpRegClass</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, DstIdx);</div>
<div class="line"><a name="l04366"></a><span class="lineno"> 4366</span>&#160;        <a class="code" href="classuint32__t.html">uint32_t</a> DstSize = RI.getRegSizeInBits(*DstRC) / 32;</div>
<div class="line"><a name="l04367"></a><span class="lineno"> 4367</span>&#160;        <span class="keywordflow">if</span> (RegCount &gt; DstSize) {</div>
<div class="line"><a name="l04368"></a><span class="lineno"> 4368</span>&#160;          ErrInfo = <span class="stringliteral">&quot;MIMG instruction returns too many registers for dst &quot;</span></div>
<div class="line"><a name="l04369"></a><span class="lineno"> 4369</span>&#160;                    <span class="stringliteral">&quot;register class&quot;</span>;</div>
<div class="line"><a name="l04370"></a><span class="lineno"> 4370</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04371"></a><span class="lineno"> 4371</span>&#160;        }</div>
<div class="line"><a name="l04372"></a><span class="lineno"> 4372</span>&#160;      }</div>
<div class="line"><a name="l04373"></a><span class="lineno"> 4373</span>&#160;    }</div>
<div class="line"><a name="l04374"></a><span class="lineno"> 4374</span>&#160;  }</div>
<div class="line"><a name="l04375"></a><span class="lineno"> 4375</span>&#160; </div>
<div class="line"><a name="l04376"></a><span class="lineno"> 4376</span>&#160;  <span class="comment">// Verify VOP*. Ignore multiple sgpr operands on writelane.</span></div>
<div class="line"><a name="l04377"></a><span class="lineno"> 4377</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SIInstrInfo.html#ade8d533000b775c514d9ac189b66c3a5">isVALU</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>) &amp;&amp; Desc.<a class="code" href="classllvm_1_1MCInstrDesc.html#aee50fcacb786c1fc56168a0c55a4e934">getOpcode</a>() != AMDGPU::V_WRITELANE_B32) {</div>
<div class="line"><a name="l04378"></a><span class="lineno"> 4378</span>&#160;    <span class="keywordtype">unsigned</span> ConstantBusCount = 0;</div>
<div class="line"><a name="l04379"></a><span class="lineno"> 4379</span>&#160;    <span class="keywordtype">bool</span> UsesLiteral = <span class="keyword">false</span>;</div>
<div class="line"><a name="l04380"></a><span class="lineno"> 4380</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> *LiteralVal = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l04381"></a><span class="lineno"> 4381</span>&#160; </div>
<div class="line"><a name="l04382"></a><span class="lineno"> 4382</span>&#160;    <span class="keywordtype">int</span> ImmIdx = <a class="code" href="namespacellvm_1_1AMDGPU.html#a27efe1286cc31f5fc95355af30b0356c">AMDGPU::getNamedOperandIdx</a>(Opcode, AMDGPU::OpName::imm);</div>
<div class="line"><a name="l04383"></a><span class="lineno"> 4383</span>&#160;    <span class="keywordflow">if</span> (ImmIdx != -1) {</div>
<div class="line"><a name="l04384"></a><span class="lineno"> 4384</span>&#160;      ++ConstantBusCount;</div>
<div class="line"><a name="l04385"></a><span class="lineno"> 4385</span>&#160;      UsesLiteral = <span class="keyword">true</span>;</div>
<div class="line"><a name="l04386"></a><span class="lineno"> 4386</span>&#160;      LiteralVal = &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(ImmIdx);</div>
<div class="line"><a name="l04387"></a><span class="lineno"> 4387</span>&#160;    }</div>
<div class="line"><a name="l04388"></a><span class="lineno"> 4388</span>&#160; </div>
<div class="line"><a name="l04389"></a><span class="lineno"> 4389</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Register, 2&gt;</a> SGPRsUsed;</div>
<div class="line"><a name="l04390"></a><span class="lineno"> 4390</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> SGPRUsed;</div>
<div class="line"><a name="l04391"></a><span class="lineno"> 4391</span>&#160; </div>
<div class="line"><a name="l04392"></a><span class="lineno"> 4392</span>&#160;    <span class="comment">// Only look at the true operands. Only a real operand can use the constant</span></div>
<div class="line"><a name="l04393"></a><span class="lineno"> 4393</span>&#160;    <span class="comment">// bus, and we don&#39;t want to check pseudo-operands like the source modifier</span></div>
<div class="line"><a name="l04394"></a><span class="lineno"> 4394</span>&#160;    <span class="comment">// flags.</span></div>
<div class="line"><a name="l04395"></a><span class="lineno"> 4395</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> OpIdx : {Src0Idx, Src1Idx, Src2Idx, Src3Idx}) {</div>
<div class="line"><a name="l04396"></a><span class="lineno"> 4396</span>&#160;      <span class="keywordflow">if</span> (OpIdx == -1)</div>
<div class="line"><a name="l04397"></a><span class="lineno"> 4397</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l04398"></a><span class="lineno"> 4398</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;MO = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(OpIdx);</div>
<div class="line"><a name="l04399"></a><span class="lineno"> 4399</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SIInstrInfo.html#a1f6067626e3318b8569835d83acbd92e">usesConstantBus</a>(<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, MO, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getDesc().operands()[OpIdx])) {</div>
<div class="line"><a name="l04400"></a><span class="lineno"> 4400</span>&#160;        <span class="keywordflow">if</span> (MO.<a class="code" href="classllvm_1_1MachineOperand.html#a4c9594c955fec80c73ddd964b5efd554">isReg</a>()) {</div>
<div class="line"><a name="l04401"></a><span class="lineno"> 4401</span>&#160;          SGPRUsed = MO.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>();</div>
<div class="line"><a name="l04402"></a><span class="lineno"> 4402</span>&#160;          <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm.html#acd1cd968cb420c82d70926920fcdc7d7">llvm::is_contained</a>(SGPRsUsed, SGPRUsed)) {</div>
<div class="line"><a name="l04403"></a><span class="lineno"> 4403</span>&#160;            ++ConstantBusCount;</div>
<div class="line"><a name="l04404"></a><span class="lineno"> 4404</span>&#160;            SGPRsUsed.push_back(SGPRUsed);</div>
<div class="line"><a name="l04405"></a><span class="lineno"> 4405</span>&#160;          }</div>
<div class="line"><a name="l04406"></a><span class="lineno"> 4406</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04407"></a><span class="lineno"> 4407</span>&#160;          <span class="keywordflow">if</span> (!UsesLiteral) {</div>
<div class="line"><a name="l04408"></a><span class="lineno"> 4408</span>&#160;            ++ConstantBusCount;</div>
<div class="line"><a name="l04409"></a><span class="lineno"> 4409</span>&#160;            UsesLiteral = <span class="keyword">true</span>;</div>
<div class="line"><a name="l04410"></a><span class="lineno"> 4410</span>&#160;            LiteralVal = &amp;MO;</div>
<div class="line"><a name="l04411"></a><span class="lineno"> 4411</span>&#160;          } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!MO.<a class="code" href="classllvm_1_1MachineOperand.html#ad7f2dc64214551418f486026ffc95fa4">isIdenticalTo</a>(*LiteralVal)) {</div>
<div class="line"><a name="l04412"></a><span class="lineno"> 4412</span>&#160;            <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="classllvm_1_1SIInstrInfo.html#a323a96a23d09892cc1b252bf1cba2732">isVOP2</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>) || <a class="code" href="classllvm_1_1SIInstrInfo.html#a0aab14aaa9761a9af59b094090851ca3">isVOP3</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>));</div>
<div class="line"><a name="l04413"></a><span class="lineno"> 4413</span>&#160;            ErrInfo = <span class="stringliteral">&quot;VOP2/VOP3 instruction uses more than one literal&quot;</span>;</div>
<div class="line"><a name="l04414"></a><span class="lineno"> 4414</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04415"></a><span class="lineno"> 4415</span>&#160;          }</div>
<div class="line"><a name="l04416"></a><span class="lineno"> 4416</span>&#160;        }</div>
<div class="line"><a name="l04417"></a><span class="lineno"> 4417</span>&#160;      }</div>
<div class="line"><a name="l04418"></a><span class="lineno"> 4418</span>&#160;    }</div>
<div class="line"><a name="l04419"></a><span class="lineno"> 4419</span>&#160; </div>
<div class="line"><a name="l04420"></a><span class="lineno"> 4420</span>&#160;    SGPRUsed = <a class="code" href="SIInstrInfo_8cpp.html#a81a328aa5781f7c744daa43c44df83c6">findImplicitSGPRRead</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l04421"></a><span class="lineno"> 4421</span>&#160;    <span class="keywordflow">if</span> (SGPRUsed) {</div>
<div class="line"><a name="l04422"></a><span class="lineno"> 4422</span>&#160;      <span class="comment">// Implicit uses may safely overlap true operands</span></div>
<div class="line"><a name="l04423"></a><span class="lineno"> 4423</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a0d10fe510ced2849a8074fe81e5d04ce">llvm::all_of</a>(SGPRsUsed, [<span class="keyword">this</span>, SGPRUsed](<span class="keywordtype">unsigned</span> SGPR) {</div>
<div class="line"><a name="l04424"></a><span class="lineno"> 4424</span>&#160;            <span class="keywordflow">return</span> !RI.regsOverlap(SGPRUsed, SGPR);</div>
<div class="line"><a name="l04425"></a><span class="lineno"> 4425</span>&#160;          })) {</div>
<div class="line"><a name="l04426"></a><span class="lineno"> 4426</span>&#160;        ++ConstantBusCount;</div>
<div class="line"><a name="l04427"></a><span class="lineno"> 4427</span>&#160;        SGPRsUsed.push_back(SGPRUsed);</div>
<div class="line"><a name="l04428"></a><span class="lineno"> 4428</span>&#160;      }</div>
<div class="line"><a name="l04429"></a><span class="lineno"> 4429</span>&#160;    }</div>
<div class="line"><a name="l04430"></a><span class="lineno"> 4430</span>&#160; </div>
<div class="line"><a name="l04431"></a><span class="lineno"> 4431</span>&#160;    <span class="comment">// v_writelane_b32 is an exception from constant bus restriction:</span></div>
<div class="line"><a name="l04432"></a><span class="lineno"> 4432</span>&#160;    <span class="comment">// vsrc0 can be sgpr, const or m0 and lane select sgpr, m0 or inline-const</span></div>
<div class="line"><a name="l04433"></a><span class="lineno"> 4433</span>&#160;    <span class="keywordflow">if</span> (ConstantBusCount &gt; ST.<a class="code" href="classllvm_1_1GCNSubtarget.html#a33a600e1b2e066f85e6a2bb588a7f3f1">getConstantBusLimit</a>(Opcode) &amp;&amp;</div>
<div class="line"><a name="l04434"></a><span class="lineno"> 4434</span>&#160;        Opcode != AMDGPU::V_WRITELANE_B32) {</div>
<div class="line"><a name="l04435"></a><span class="lineno"> 4435</span>&#160;      ErrInfo = <span class="stringliteral">&quot;VOP* instruction violates constant bus restriction&quot;</span>;</div>
<div class="line"><a name="l04436"></a><span class="lineno"> 4436</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04437"></a><span class="lineno"> 4437</span>&#160;    }</div>
<div class="line"><a name="l04438"></a><span class="lineno"> 4438</span>&#160; </div>
<div class="line"><a name="l04439"></a><span class="lineno"> 4439</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SIInstrInfo.html#a0aab14aaa9761a9af59b094090851ca3">isVOP3</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>) &amp;&amp; UsesLiteral &amp;&amp; !ST.<a class="code" href="classllvm_1_1GCNSubtarget.html#acfa61def62c3f39edaec6b28782f1992">hasVOP3Literal</a>()) {</div>
<div class="line"><a name="l04440"></a><span class="lineno"> 4440</span>&#160;      ErrInfo = <span class="stringliteral">&quot;VOP3 instruction uses literal&quot;</span>;</div>
<div class="line"><a name="l04441"></a><span class="lineno"> 4441</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04442"></a><span class="lineno"> 4442</span>&#160;    }</div>
<div class="line"><a name="l04443"></a><span class="lineno"> 4443</span>&#160;  }</div>
<div class="line"><a name="l04444"></a><span class="lineno"> 4444</span>&#160; </div>
<div class="line"><a name="l04445"></a><span class="lineno"> 4445</span>&#160;  <span class="comment">// Special case for writelane - this can break the multiple constant bus rule,</span></div>
<div class="line"><a name="l04446"></a><span class="lineno"> 4446</span>&#160;  <span class="comment">// but still can&#39;t use more than one SGPR register</span></div>
<div class="line"><a name="l04447"></a><span class="lineno"> 4447</span>&#160;  <span class="keywordflow">if</span> (Desc.<a class="code" href="classllvm_1_1MCInstrDesc.html#aee50fcacb786c1fc56168a0c55a4e934">getOpcode</a>() == AMDGPU::V_WRITELANE_B32) {</div>
<div class="line"><a name="l04448"></a><span class="lineno"> 4448</span>&#160;    <span class="keywordtype">unsigned</span> SGPRCount = 0;</div>
<div class="line"><a name="l04449"></a><span class="lineno"> 4449</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> SGPRUsed;</div>
<div class="line"><a name="l04450"></a><span class="lineno"> 4450</span>&#160; </div>
<div class="line"><a name="l04451"></a><span class="lineno"> 4451</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> OpIdx : {Src0Idx, Src1Idx}) {</div>
<div class="line"><a name="l04452"></a><span class="lineno"> 4452</span>&#160;      <span class="keywordflow">if</span> (OpIdx == -1)</div>
<div class="line"><a name="l04453"></a><span class="lineno"> 4453</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04454"></a><span class="lineno"> 4454</span>&#160; </div>
<div class="line"><a name="l04455"></a><span class="lineno"> 4455</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;MO = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(OpIdx);</div>
<div class="line"><a name="l04456"></a><span class="lineno"> 4456</span>&#160; </div>
<div class="line"><a name="l04457"></a><span class="lineno"> 4457</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SIInstrInfo.html#a1f6067626e3318b8569835d83acbd92e">usesConstantBus</a>(<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, MO, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getDesc().operands()[OpIdx])) {</div>
<div class="line"><a name="l04458"></a><span class="lineno"> 4458</span>&#160;        <span class="keywordflow">if</span> (MO.<a class="code" href="classllvm_1_1MachineOperand.html#a4c9594c955fec80c73ddd964b5efd554">isReg</a>() &amp;&amp; MO.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>() != <a class="code" href="namespacellvm.html#ab8aff98d3587ddb15f9e46ed88687f0f">AMDGPU::M0</a>) {</div>
<div class="line"><a name="l04459"></a><span class="lineno"> 4459</span>&#160;          <span class="keywordflow">if</span> (MO.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>() != SGPRUsed)</div>
<div class="line"><a name="l04460"></a><span class="lineno"> 4460</span>&#160;            ++SGPRCount;</div>
<div class="line"><a name="l04461"></a><span class="lineno"> 4461</span>&#160;          SGPRUsed = MO.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>();</div>
<div class="line"><a name="l04462"></a><span class="lineno"> 4462</span>&#160;        }</div>
<div class="line"><a name="l04463"></a><span class="lineno"> 4463</span>&#160;      }</div>
<div class="line"><a name="l04464"></a><span class="lineno"> 4464</span>&#160;      <span class="keywordflow">if</span> (SGPRCount &gt; ST.<a class="code" href="classllvm_1_1GCNSubtarget.html#a33a600e1b2e066f85e6a2bb588a7f3f1">getConstantBusLimit</a>(Opcode)) {</div>
<div class="line"><a name="l04465"></a><span class="lineno"> 4465</span>&#160;        ErrInfo = <span class="stringliteral">&quot;WRITELANE instruction violates constant bus restriction&quot;</span>;</div>
<div class="line"><a name="l04466"></a><span class="lineno"> 4466</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04467"></a><span class="lineno"> 4467</span>&#160;      }</div>
<div class="line"><a name="l04468"></a><span class="lineno"> 4468</span>&#160;    }</div>
<div class="line"><a name="l04469"></a><span class="lineno"> 4469</span>&#160;  }</div>
<div class="line"><a name="l04470"></a><span class="lineno"> 4470</span>&#160; </div>
<div class="line"><a name="l04471"></a><span class="lineno"> 4471</span>&#160;  <span class="comment">// Verify misc. restrictions on specific instructions.</span></div>
<div class="line"><a name="l04472"></a><span class="lineno"> 4472</span>&#160;  <span class="keywordflow">if</span> (Desc.<a class="code" href="classllvm_1_1MCInstrDesc.html#aee50fcacb786c1fc56168a0c55a4e934">getOpcode</a>() == AMDGPU::V_DIV_SCALE_F32_e64 ||</div>
<div class="line"><a name="l04473"></a><span class="lineno"> 4473</span>&#160;      Desc.<a class="code" href="classllvm_1_1MCInstrDesc.html#aee50fcacb786c1fc56168a0c55a4e934">getOpcode</a>() == AMDGPU::V_DIV_SCALE_F64_e64) {</div>
<div class="line"><a name="l04474"></a><span class="lineno"> 4474</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;Src0 = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(Src0Idx);</div>
<div class="line"><a name="l04475"></a><span class="lineno"> 4475</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;Src1 = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(Src1Idx);</div>
<div class="line"><a name="l04476"></a><span class="lineno"> 4476</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;Src2 = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(Src2Idx);</div>
<div class="line"><a name="l04477"></a><span class="lineno"> 4477</span>&#160;    <span class="keywordflow">if</span> (Src0.<a class="code" href="classllvm_1_1MachineOperand.html#a4c9594c955fec80c73ddd964b5efd554">isReg</a>() &amp;&amp; Src1.<a class="code" href="classllvm_1_1MachineOperand.html#a4c9594c955fec80c73ddd964b5efd554">isReg</a>() &amp;&amp; Src2.<a class="code" href="classllvm_1_1MachineOperand.html#a4c9594c955fec80c73ddd964b5efd554">isReg</a>()) {</div>
<div class="line"><a name="l04478"></a><span class="lineno"> 4478</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="SIInstrInfo_8cpp.html#a19e16a0f3c37ba1524eb85c891bfa760">compareMachineOp</a>(Src0, Src1) &amp;&amp;</div>
<div class="line"><a name="l04479"></a><span class="lineno"> 4479</span>&#160;          !<a class="code" href="SIInstrInfo_8cpp.html#a19e16a0f3c37ba1524eb85c891bfa760">compareMachineOp</a>(Src0, Src2)) {</div>
<div class="line"><a name="l04480"></a><span class="lineno"> 4480</span>&#160;        ErrInfo = <span class="stringliteral">&quot;v_div_scale_{f32|f64} require src0 = src1 or src2&quot;</span>;</div>
<div class="line"><a name="l04481"></a><span class="lineno"> 4481</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04482"></a><span class="lineno"> 4482</span>&#160;      }</div>
<div class="line"><a name="l04483"></a><span class="lineno"> 4483</span>&#160;    }</div>
<div class="line"><a name="l04484"></a><span class="lineno"> 4484</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="classllvm_1_1SIInstrInfo.html#a61297a04e9cd91c9658b9affecdd9797">getNamedOperand</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, AMDGPU::OpName::src0_modifiers)-&gt;getImm() &amp;</div>
<div class="line"><a name="l04485"></a><span class="lineno"> 4485</span>&#160;         <a class="code" href="namespacellvm_1_1SISrcMods.html#a1d705f3f6f4a6c585d068369ef0f4916a1be8a1ab79f4d1830526cc8d48960168">SISrcMods::ABS</a>) ||</div>
<div class="line"><a name="l04486"></a><span class="lineno"> 4486</span>&#160;        (<a class="code" href="classllvm_1_1SIInstrInfo.html#a61297a04e9cd91c9658b9affecdd9797">getNamedOperand</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, AMDGPU::OpName::src1_modifiers)-&gt;getImm() &amp;</div>
<div class="line"><a name="l04487"></a><span class="lineno"> 4487</span>&#160;         <a class="code" href="namespacellvm_1_1SISrcMods.html#a1d705f3f6f4a6c585d068369ef0f4916a1be8a1ab79f4d1830526cc8d48960168">SISrcMods::ABS</a>) ||</div>
<div class="line"><a name="l04488"></a><span class="lineno"> 4488</span>&#160;        (<a class="code" href="classllvm_1_1SIInstrInfo.html#a61297a04e9cd91c9658b9affecdd9797">getNamedOperand</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, AMDGPU::OpName::src2_modifiers)-&gt;getImm() &amp;</div>
<div class="line"><a name="l04489"></a><span class="lineno"> 4489</span>&#160;         <a class="code" href="namespacellvm_1_1SISrcMods.html#a1d705f3f6f4a6c585d068369ef0f4916a1be8a1ab79f4d1830526cc8d48960168">SISrcMods::ABS</a>)) {</div>
<div class="line"><a name="l04490"></a><span class="lineno"> 4490</span>&#160;      ErrInfo = <span class="stringliteral">&quot;ABS not allowed in VOP3B instructions&quot;</span>;</div>
<div class="line"><a name="l04491"></a><span class="lineno"> 4491</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04492"></a><span class="lineno"> 4492</span>&#160;    }</div>
<div class="line"><a name="l04493"></a><span class="lineno"> 4493</span>&#160;  }</div>
<div class="line"><a name="l04494"></a><span class="lineno"> 4494</span>&#160; </div>
<div class="line"><a name="l04495"></a><span class="lineno"> 4495</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SIInstrInfo.html#a5c4551760d712abe6c1234a4997e22de">isSOP2</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>) || <a class="code" href="classllvm_1_1SIInstrInfo.html#adbbf88b03dcc6927f63b144f40bbc54c">isSOPC</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>)) {</div>
<div class="line"><a name="l04496"></a><span class="lineno"> 4496</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;Src0 = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(Src0Idx);</div>
<div class="line"><a name="l04497"></a><span class="lineno"> 4497</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;Src1 = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(Src1Idx);</div>
<div class="line"><a name="l04498"></a><span class="lineno"> 4498</span>&#160; </div>
<div class="line"><a name="l04499"></a><span class="lineno"> 4499</span>&#160;    <span class="keywordflow">if</span> (!Src0.<a class="code" href="classllvm_1_1MachineOperand.html#a4c9594c955fec80c73ddd964b5efd554">isReg</a>() &amp;&amp; !Src1.<a class="code" href="classllvm_1_1MachineOperand.html#a4c9594c955fec80c73ddd964b5efd554">isReg</a>() &amp;&amp;</div>
<div class="line"><a name="l04500"></a><span class="lineno"> 4500</span>&#160;        !<a class="code" href="classllvm_1_1SIInstrInfo.html#a0480d6290cd95e40641f2af7a18fb764">isInlineConstant</a>(Src0, Desc.<a class="code" href="classllvm_1_1MCInstrDesc.html#a9491e6e3afc420c33cf508189bb12c3b">operands</a>()[Src0Idx]) &amp;&amp;</div>
<div class="line"><a name="l04501"></a><span class="lineno"> 4501</span>&#160;        !<a class="code" href="classllvm_1_1SIInstrInfo.html#a0480d6290cd95e40641f2af7a18fb764">isInlineConstant</a>(Src1, Desc.<a class="code" href="classllvm_1_1MCInstrDesc.html#a9491e6e3afc420c33cf508189bb12c3b">operands</a>()[Src1Idx]) &amp;&amp;</div>
<div class="line"><a name="l04502"></a><span class="lineno"> 4502</span>&#160;        !Src0.<a class="code" href="classllvm_1_1MachineOperand.html#ad7f2dc64214551418f486026ffc95fa4">isIdenticalTo</a>(Src1)) {</div>
<div class="line"><a name="l04503"></a><span class="lineno"> 4503</span>&#160;      ErrInfo = <span class="stringliteral">&quot;SOP2/SOPC instruction requires too many immediate constants&quot;</span>;</div>
<div class="line"><a name="l04504"></a><span class="lineno"> 4504</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04505"></a><span class="lineno"> 4505</span>&#160;    }</div>
<div class="line"><a name="l04506"></a><span class="lineno"> 4506</span>&#160;  }</div>
<div class="line"><a name="l04507"></a><span class="lineno"> 4507</span>&#160; </div>
<div class="line"><a name="l04508"></a><span class="lineno"> 4508</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SIInstrInfo.html#a7d0fced78b683ae1e38051a1313615d2">isSOPK</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>)) {</div>
<div class="line"><a name="l04509"></a><span class="lineno"> 4509</span>&#160;    <span class="keyword">auto</span> <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> = <a class="code" href="classllvm_1_1SIInstrInfo.html#a61297a04e9cd91c9658b9affecdd9797">getNamedOperand</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, AMDGPU::OpName::simm16);</div>
<div class="line"><a name="l04510"></a><span class="lineno"> 4510</span>&#160;    <span class="keywordflow">if</span> (Desc.<a class="code" href="classllvm_1_1MCInstrDesc.html#a6478037933f13d6d8d80e6a12cdf932d">isBranch</a>()) {</div>
<div class="line"><a name="l04511"></a><span class="lineno"> 4511</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>-&gt;isMBB()) {</div>
<div class="line"><a name="l04512"></a><span class="lineno"> 4512</span>&#160;        ErrInfo = <span class="stringliteral">&quot;invalid branch target for SOPK instruction&quot;</span>;</div>
<div class="line"><a name="l04513"></a><span class="lineno"> 4513</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04514"></a><span class="lineno"> 4514</span>&#160;      }</div>
<div class="line"><a name="l04515"></a><span class="lineno"> 4515</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04516"></a><span class="lineno"> 4516</span>&#160;      <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>-&gt;getImm();</div>
<div class="line"><a name="l04517"></a><span class="lineno"> 4517</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SIInstrInfo.html#a9ca2446049aa20c79381f60ef473763b">sopkIsZext</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>)) {</div>
<div class="line"><a name="l04518"></a><span class="lineno"> 4518</span>&#160;        <span class="keywordflow">if</span> (!isUInt&lt;16&gt;(<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>)) {</div>
<div class="line"><a name="l04519"></a><span class="lineno"> 4519</span>&#160;          ErrInfo = <span class="stringliteral">&quot;invalid immediate for SOPK instruction&quot;</span>;</div>
<div class="line"><a name="l04520"></a><span class="lineno"> 4520</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04521"></a><span class="lineno"> 4521</span>&#160;        }</div>
<div class="line"><a name="l04522"></a><span class="lineno"> 4522</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04523"></a><span class="lineno"> 4523</span>&#160;        <span class="keywordflow">if</span> (!isInt&lt;16&gt;(<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a>)) {</div>
<div class="line"><a name="l04524"></a><span class="lineno"> 4524</span>&#160;          ErrInfo = <span class="stringliteral">&quot;invalid immediate for SOPK instruction&quot;</span>;</div>
<div class="line"><a name="l04525"></a><span class="lineno"> 4525</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04526"></a><span class="lineno"> 4526</span>&#160;        }</div>
<div class="line"><a name="l04527"></a><span class="lineno"> 4527</span>&#160;      }</div>
<div class="line"><a name="l04528"></a><span class="lineno"> 4528</span>&#160;    }</div>
<div class="line"><a name="l04529"></a><span class="lineno"> 4529</span>&#160;  }</div>
<div class="line"><a name="l04530"></a><span class="lineno"> 4530</span>&#160; </div>
<div class="line"><a name="l04531"></a><span class="lineno"> 4531</span>&#160;  <span class="keywordflow">if</span> (Desc.<a class="code" href="classllvm_1_1MCInstrDesc.html#aee50fcacb786c1fc56168a0c55a4e934">getOpcode</a>() == AMDGPU::V_MOVRELS_B32_e32 ||</div>
<div class="line"><a name="l04532"></a><span class="lineno"> 4532</span>&#160;      Desc.<a class="code" href="classllvm_1_1MCInstrDesc.html#aee50fcacb786c1fc56168a0c55a4e934">getOpcode</a>() == AMDGPU::V_MOVRELS_B32_e64 ||</div>
<div class="line"><a name="l04533"></a><span class="lineno"> 4533</span>&#160;      Desc.<a class="code" href="classllvm_1_1MCInstrDesc.html#aee50fcacb786c1fc56168a0c55a4e934">getOpcode</a>() == AMDGPU::V_MOVRELD_B32_e32 ||</div>
<div class="line"><a name="l04534"></a><span class="lineno"> 4534</span>&#160;      Desc.<a class="code" href="classllvm_1_1MCInstrDesc.html#aee50fcacb786c1fc56168a0c55a4e934">getOpcode</a>() == AMDGPU::V_MOVRELD_B32_e64) {</div>
<div class="line"><a name="l04535"></a><span class="lineno"> 4535</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> IsDst = Desc.<a class="code" href="classllvm_1_1MCInstrDesc.html#aee50fcacb786c1fc56168a0c55a4e934">getOpcode</a>() == AMDGPU::V_MOVRELD_B32_e32 ||</div>
<div class="line"><a name="l04536"></a><span class="lineno"> 4536</span>&#160;                       Desc.<a class="code" href="classllvm_1_1MCInstrDesc.html#aee50fcacb786c1fc56168a0c55a4e934">getOpcode</a>() == AMDGPU::V_MOVRELD_B32_e64;</div>
<div class="line"><a name="l04537"></a><span class="lineno"> 4537</span>&#160; </div>
<div class="line"><a name="l04538"></a><span class="lineno"> 4538</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">unsigned</span> StaticNumOps =</div>
<div class="line"><a name="l04539"></a><span class="lineno"> 4539</span>&#160;        Desc.<a class="code" href="classllvm_1_1MCInstrDesc.html#a0ca904e64ee29c8812ed34e632d3c947">getNumOperands</a>() + Desc.<a class="code" href="classllvm_1_1MCInstrDesc.html#a47dd718cb7a3b36fd9f7ed6118df04af">implicit_uses</a>().size();</div>
<div class="line"><a name="l04540"></a><span class="lineno"> 4540</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">unsigned</span> NumImplicitOps = IsDst ? 2 : 1;</div>
<div class="line"><a name="l04541"></a><span class="lineno"> 4541</span>&#160; </div>
<div class="line"><a name="l04542"></a><span class="lineno"> 4542</span>&#160;    <span class="comment">// Allow additional implicit operands. This allows a fixup done by the post</span></div>
<div class="line"><a name="l04543"></a><span class="lineno"> 4543</span>&#160;    <span class="comment">// RA scheduler where the main implicit operand is killed and implicit-defs</span></div>
<div class="line"><a name="l04544"></a><span class="lineno"> 4544</span>&#160;    <span class="comment">// are added for sub-registers that remain live after this instruction.</span></div>
<div class="line"><a name="l04545"></a><span class="lineno"> 4545</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getNumOperands() &lt; StaticNumOps + NumImplicitOps) {</div>
<div class="line"><a name="l04546"></a><span class="lineno"> 4546</span>&#160;      ErrInfo = <span class="stringliteral">&quot;missing implicit register operands&quot;</span>;</div>
<div class="line"><a name="l04547"></a><span class="lineno"> 4547</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04548"></a><span class="lineno"> 4548</span>&#160;    }</div>
<div class="line"><a name="l04549"></a><span class="lineno"> 4549</span>&#160; </div>
<div class="line"><a name="l04550"></a><span class="lineno"> 4550</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> *Dst = <a class="code" href="classllvm_1_1SIInstrInfo.html#a61297a04e9cd91c9658b9affecdd9797">getNamedOperand</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, AMDGPU::OpName::vdst);</div>
<div class="line"><a name="l04551"></a><span class="lineno"> 4551</span>&#160;    <span class="keywordflow">if</span> (IsDst) {</div>
<div class="line"><a name="l04552"></a><span class="lineno"> 4552</span>&#160;      <span class="keywordflow">if</span> (!Dst-&gt;isUse()) {</div>
<div class="line"><a name="l04553"></a><span class="lineno"> 4553</span>&#160;        ErrInfo = <span class="stringliteral">&quot;v_movreld_b32 vdst should be a use operand&quot;</span>;</div>
<div class="line"><a name="l04554"></a><span class="lineno"> 4554</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04555"></a><span class="lineno"> 4555</span>&#160;      }</div>
<div class="line"><a name="l04556"></a><span class="lineno"> 4556</span>&#160; </div>
<div class="line"><a name="l04557"></a><span class="lineno"> 4557</span>&#160;      <span class="keywordtype">unsigned</span> <a class="code" href="RISCVInsertVSETVLI_8cpp.html#a9f4a1ccc4923b17bd414716718e3febf">UseOpIdx</a>;</div>
<div class="line"><a name="l04558"></a><span class="lineno"> 4558</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.isRegTiedToUseOperand(StaticNumOps, &amp;<a class="code" href="RISCVInsertVSETVLI_8cpp.html#a9f4a1ccc4923b17bd414716718e3febf">UseOpIdx</a>) ||</div>
<div class="line"><a name="l04559"></a><span class="lineno"> 4559</span>&#160;          <a class="code" href="RISCVInsertVSETVLI_8cpp.html#a9f4a1ccc4923b17bd414716718e3febf">UseOpIdx</a> != StaticNumOps + 1) {</div>
<div class="line"><a name="l04560"></a><span class="lineno"> 4560</span>&#160;        ErrInfo = <span class="stringliteral">&quot;movrel implicit operands should be tied&quot;</span>;</div>
<div class="line"><a name="l04561"></a><span class="lineno"> 4561</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04562"></a><span class="lineno"> 4562</span>&#160;      }</div>
<div class="line"><a name="l04563"></a><span class="lineno"> 4563</span>&#160;    }</div>
<div class="line"><a name="l04564"></a><span class="lineno"> 4564</span>&#160; </div>
<div class="line"><a name="l04565"></a><span class="lineno"> 4565</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;Src0 = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(Src0Idx);</div>
<div class="line"><a name="l04566"></a><span class="lineno"> 4566</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;ImpUse</div>
<div class="line"><a name="l04567"></a><span class="lineno"> 4567</span>&#160;      = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(StaticNumOps + NumImplicitOps - 1);</div>
<div class="line"><a name="l04568"></a><span class="lineno"> 4568</span>&#160;    <span class="keywordflow">if</span> (!ImpUse.<a class="code" href="classllvm_1_1MachineOperand.html#a4c9594c955fec80c73ddd964b5efd554">isReg</a>() || !ImpUse.<a class="code" href="classllvm_1_1MachineOperand.html#a69544ec8658eadeed98245dc37c3a541">isUse</a>() ||</div>
<div class="line"><a name="l04569"></a><span class="lineno"> 4569</span>&#160;        !<a class="code" href="SIInstrInfo_8cpp.html#adbb4dcc227f28ef32563170ce820d498">isSubRegOf</a>(RI, ImpUse, IsDst ? *Dst : Src0)) {</div>
<div class="line"><a name="l04570"></a><span class="lineno"> 4570</span>&#160;      ErrInfo = <span class="stringliteral">&quot;src0 should be subreg of implicit vector use&quot;</span>;</div>
<div class="line"><a name="l04571"></a><span class="lineno"> 4571</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04572"></a><span class="lineno"> 4572</span>&#160;    }</div>
<div class="line"><a name="l04573"></a><span class="lineno"> 4573</span>&#160;  }</div>
<div class="line"><a name="l04574"></a><span class="lineno"> 4574</span>&#160; </div>
<div class="line"><a name="l04575"></a><span class="lineno"> 4575</span>&#160;  <span class="comment">// Make sure we aren&#39;t losing exec uses in the td files. This mostly requires</span></div>
<div class="line"><a name="l04576"></a><span class="lineno"> 4576</span>&#160;  <span class="comment">// being careful when using let Uses to try to add other use registers.</span></div>
<div class="line"><a name="l04577"></a><span class="lineno"> 4577</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="SIInstrInfo_8cpp.html#abcb710fb84bc86d961b6afbaa4f65d25">shouldReadExec</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>)) {</div>
<div class="line"><a name="l04578"></a><span class="lineno"> 4578</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.hasRegisterImplicitUseOperand(AMDGPU::EXEC)) {</div>
<div class="line"><a name="l04579"></a><span class="lineno"> 4579</span>&#160;      ErrInfo = <span class="stringliteral">&quot;VALU instruction does not implicitly read exec mask&quot;</span>;</div>
<div class="line"><a name="l04580"></a><span class="lineno"> 4580</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04581"></a><span class="lineno"> 4581</span>&#160;    }</div>
<div class="line"><a name="l04582"></a><span class="lineno"> 4582</span>&#160;  }</div>
<div class="line"><a name="l04583"></a><span class="lineno"> 4583</span>&#160; </div>
<div class="line"><a name="l04584"></a><span class="lineno"> 4584</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SIInstrInfo.html#a1c990a34866f377751f50f112cef61bc">isSMRD</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>)) {</div>
<div class="line"><a name="l04585"></a><span class="lineno"> 4585</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.mayStore() &amp;&amp;</div>
<div class="line"><a name="l04586"></a><span class="lineno"> 4586</span>&#160;        ST.<a class="code" href="classllvm_1_1GCNSubtarget.html#ace4de1de19cbe837c578fb3654b6c998">getGeneration</a>() == <a class="code" href="classllvm_1_1AMDGPUSubtarget.html#a53c0ee4138bfbf9e0410a65e0eaa36e2aef8609af541a5b1b01484b29d0f62534">AMDGPUSubtarget::VOLCANIC_ISLANDS</a>) {</div>
<div class="line"><a name="l04587"></a><span class="lineno"> 4587</span>&#160;      <span class="comment">// The register offset form of scalar stores may only use m0 as the</span></div>
<div class="line"><a name="l04588"></a><span class="lineno"> 4588</span>&#160;      <span class="comment">// soffset register.</span></div>
<div class="line"><a name="l04589"></a><span class="lineno"> 4589</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> *Soff = <a class="code" href="classllvm_1_1SIInstrInfo.html#a61297a04e9cd91c9658b9affecdd9797">getNamedOperand</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, AMDGPU::OpName::soffset);</div>
<div class="line"><a name="l04590"></a><span class="lineno"> 4590</span>&#160;      <span class="keywordflow">if</span> (Soff &amp;&amp; Soff-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>() != <a class="code" href="namespacellvm.html#ab8aff98d3587ddb15f9e46ed88687f0f">AMDGPU::M0</a>) {</div>
<div class="line"><a name="l04591"></a><span class="lineno"> 4591</span>&#160;        ErrInfo = <span class="stringliteral">&quot;scalar stores must use m0 as offset register&quot;</span>;</div>
<div class="line"><a name="l04592"></a><span class="lineno"> 4592</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04593"></a><span class="lineno"> 4593</span>&#160;      }</div>
<div class="line"><a name="l04594"></a><span class="lineno"> 4594</span>&#160;    }</div>
<div class="line"><a name="l04595"></a><span class="lineno"> 4595</span>&#160;  }</div>
<div class="line"><a name="l04596"></a><span class="lineno"> 4596</span>&#160; </div>
<div class="line"><a name="l04597"></a><span class="lineno"> 4597</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SIInstrInfo.html#adc3333d2d5974f4068df84f8706fc7d2">isFLAT</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>) &amp;&amp; !ST.<a class="code" href="classllvm_1_1GCNSubtarget.html#a1b42b67d0df8ad1a351bbdc503c115a1">hasFlatInstOffsets</a>()) {</div>
<div class="line"><a name="l04598"></a><span class="lineno"> 4598</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> *<a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> = <a class="code" href="classllvm_1_1SIInstrInfo.html#a61297a04e9cd91c9658b9affecdd9797">getNamedOperand</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, AMDGPU::OpName::offset);</div>
<div class="line"><a name="l04599"></a><span class="lineno"> 4599</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>-&gt;getImm() != 0) {</div>
<div class="line"><a name="l04600"></a><span class="lineno"> 4600</span>&#160;      ErrInfo = <span class="stringliteral">&quot;subtarget does not support offsets in flat instructions&quot;</span>;</div>
<div class="line"><a name="l04601"></a><span class="lineno"> 4601</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04602"></a><span class="lineno"> 4602</span>&#160;    }</div>
<div class="line"><a name="l04603"></a><span class="lineno"> 4603</span>&#160;  }</div>
<div class="line"><a name="l04604"></a><span class="lineno"> 4604</span>&#160; </div>
<div class="line"><a name="l04605"></a><span class="lineno"> 4605</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SIInstrInfo.html#abdcf600002fd489c76924f2ec4f4fc0f">isMIMG</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>)) {</div>
<div class="line"><a name="l04606"></a><span class="lineno"> 4606</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> *DimOp = <a class="code" href="classllvm_1_1SIInstrInfo.html#a61297a04e9cd91c9658b9affecdd9797">getNamedOperand</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, AMDGPU::OpName::dim);</div>
<div class="line"><a name="l04607"></a><span class="lineno"> 4607</span>&#160;    <span class="keywordflow">if</span> (DimOp) {</div>
<div class="line"><a name="l04608"></a><span class="lineno"> 4608</span>&#160;      <span class="keywordtype">int</span> VAddr0Idx = <a class="code" href="namespacellvm_1_1AMDGPU.html#a27efe1286cc31f5fc95355af30b0356c">AMDGPU::getNamedOperandIdx</a>(Opcode,</div>
<div class="line"><a name="l04609"></a><span class="lineno"> 4609</span>&#160;                                                 AMDGPU::OpName::vaddr0);</div>
<div class="line"><a name="l04610"></a><span class="lineno"> 4610</span>&#160;      <span class="keywordtype">int</span> SRsrcIdx = <a class="code" href="namespacellvm_1_1AMDGPU.html#a27efe1286cc31f5fc95355af30b0356c">AMDGPU::getNamedOperandIdx</a>(Opcode, AMDGPU::OpName::srsrc);</div>
<div class="line"><a name="l04611"></a><span class="lineno"> 4611</span>&#160;      <span class="keyword">const</span> <a class="code" href="structllvm_1_1AMDGPU_1_1MIMGInfo.html">AMDGPU::MIMGInfo</a> *<a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a> = <a class="code" href="namespacellvm_1_1AMDGPU.html#a2fa58f3e19c6038d01bd699308237c14">AMDGPU::getMIMGInfo</a>(Opcode);</div>
<div class="line"><a name="l04612"></a><span class="lineno"> 4612</span>&#160;      <span class="keyword">const</span> <a class="code" href="structllvm_1_1AMDGPU_1_1MIMGBaseOpcodeInfo.html">AMDGPU::MIMGBaseOpcodeInfo</a> *BaseOpcode =</div>
<div class="line"><a name="l04613"></a><span class="lineno"> 4613</span>&#160;          <a class="code" href="namespacellvm_1_1AMDGPU.html#a8adcca4377f5dfb320d2f81a84a9998e">AMDGPU::getMIMGBaseOpcodeInfo</a>(<a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>-&gt;BaseOpcode);</div>
<div class="line"><a name="l04614"></a><span class="lineno"> 4614</span>&#160;      <span class="keyword">const</span> <a class="code" href="structllvm_1_1AMDGPU_1_1MIMGDimInfo.html">AMDGPU::MIMGDimInfo</a> *Dim =</div>
<div class="line"><a name="l04615"></a><span class="lineno"> 4615</span>&#160;          <a class="code" href="namespacellvm_1_1AMDGPU.html#a7813b0527d58492d1dcaab3d457a0c81">AMDGPU::getMIMGDimInfoByEncoding</a>(DimOp-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#a38b28a85f818b49d8806c150b8a5b4f7">getImm</a>());</div>
<div class="line"><a name="l04616"></a><span class="lineno"> 4616</span>&#160; </div>
<div class="line"><a name="l04617"></a><span class="lineno"> 4617</span>&#160;      <span class="keywordflow">if</span> (!Dim) {</div>
<div class="line"><a name="l04618"></a><span class="lineno"> 4618</span>&#160;        ErrInfo = <span class="stringliteral">&quot;dim is out of range&quot;</span>;</div>
<div class="line"><a name="l04619"></a><span class="lineno"> 4619</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04620"></a><span class="lineno"> 4620</span>&#160;      }</div>
<div class="line"><a name="l04621"></a><span class="lineno"> 4621</span>&#160; </div>
<div class="line"><a name="l04622"></a><span class="lineno"> 4622</span>&#160;      <span class="keywordtype">bool</span> IsA16 = <span class="keyword">false</span>;</div>
<div class="line"><a name="l04623"></a><span class="lineno"> 4623</span>&#160;      <span class="keywordflow">if</span> (ST.<a class="code" href="classllvm_1_1GCNSubtarget.html#a426587719be9d9751e8c667734f0cc7a">hasR128A16</a>()) {</div>
<div class="line"><a name="l04624"></a><span class="lineno"> 4624</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> *R128A16 = <a class="code" href="classllvm_1_1SIInstrInfo.html#a61297a04e9cd91c9658b9affecdd9797">getNamedOperand</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, AMDGPU::OpName::r128);</div>
<div class="line"><a name="l04625"></a><span class="lineno"> 4625</span>&#160;        IsA16 = R128A16-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#a38b28a85f818b49d8806c150b8a5b4f7">getImm</a>() != 0;</div>
<div class="line"><a name="l04626"></a><span class="lineno"> 4626</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ST.<a class="code" href="classllvm_1_1GCNSubtarget.html#a0985b28a440a19cc9e6b8229e75b5152">hasA16</a>()) {</div>
<div class="line"><a name="l04627"></a><span class="lineno"> 4627</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> *A16 = <a class="code" href="classllvm_1_1SIInstrInfo.html#a61297a04e9cd91c9658b9affecdd9797">getNamedOperand</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, AMDGPU::OpName::a16);</div>
<div class="line"><a name="l04628"></a><span class="lineno"> 4628</span>&#160;        IsA16 = A16-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#a38b28a85f818b49d8806c150b8a5b4f7">getImm</a>() != 0;</div>
<div class="line"><a name="l04629"></a><span class="lineno"> 4629</span>&#160;      }</div>
<div class="line"><a name="l04630"></a><span class="lineno"> 4630</span>&#160; </div>
<div class="line"><a name="l04631"></a><span class="lineno"> 4631</span>&#160;      <span class="keywordtype">bool</span> IsNSA = SRsrcIdx - VAddr0Idx &gt; 1;</div>
<div class="line"><a name="l04632"></a><span class="lineno"> 4632</span>&#160; </div>
<div class="line"><a name="l04633"></a><span class="lineno"> 4633</span>&#160;      <span class="keywordtype">unsigned</span> AddrWords =</div>
<div class="line"><a name="l04634"></a><span class="lineno"> 4634</span>&#160;          <a class="code" href="namespacellvm_1_1AMDGPU.html#a9af58a5d20f2215a00b675f34db92771">AMDGPU::getAddrSizeMIMGOp</a>(BaseOpcode, Dim, IsA16, ST.<a class="code" href="classllvm_1_1GCNSubtarget.html#aaac87839eb0077c44120678bcab56bc9">hasG16</a>());</div>
<div class="line"><a name="l04635"></a><span class="lineno"> 4635</span>&#160; </div>
<div class="line"><a name="l04636"></a><span class="lineno"> 4636</span>&#160;      <span class="keywordtype">unsigned</span> VAddrWords;</div>
<div class="line"><a name="l04637"></a><span class="lineno"> 4637</span>&#160;      <span class="keywordflow">if</span> (IsNSA) {</div>
<div class="line"><a name="l04638"></a><span class="lineno"> 4638</span>&#160;        VAddrWords = SRsrcIdx - VAddr0Idx;</div>
<div class="line"><a name="l04639"></a><span class="lineno"> 4639</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04640"></a><span class="lineno"> 4640</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *RC = <a class="code" href="classllvm_1_1SIInstrInfo.html#a7d38ae4f1dfa5ec71b0f78fab996425b">getOpRegClass</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, VAddr0Idx);</div>
<div class="line"><a name="l04641"></a><span class="lineno"> 4641</span>&#160;        VAddrWords = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#aed4562ccf898feaf2eb6cf5555b5084d">getTargetRegisterInfo</a>()-&gt;<a class="code" href="classllvm_1_1TargetRegisterInfo.html#a251557179fe64bb09bd7e327c60c6b24">getRegSizeInBits</a>(*RC) / 32;</div>
<div class="line"><a name="l04642"></a><span class="lineno"> 4642</span>&#160;        <span class="keywordflow">if</span> (AddrWords &gt; 12)</div>
<div class="line"><a name="l04643"></a><span class="lineno"> 4643</span>&#160;          AddrWords = 16;</div>
<div class="line"><a name="l04644"></a><span class="lineno"> 4644</span>&#160;      }</div>
<div class="line"><a name="l04645"></a><span class="lineno"> 4645</span>&#160; </div>
<div class="line"><a name="l04646"></a><span class="lineno"> 4646</span>&#160;      <span class="keywordflow">if</span> (VAddrWords != AddrWords) {</div>
<div class="line"><a name="l04647"></a><span class="lineno"> 4647</span>&#160;        <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;bad vaddr size, expected &quot;</span> &lt;&lt; AddrWords</div>
<div class="line"><a name="l04648"></a><span class="lineno"> 4648</span>&#160;                          &lt;&lt; <span class="stringliteral">&quot; but got &quot;</span> &lt;&lt; VAddrWords &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l04649"></a><span class="lineno"> 4649</span>&#160;        ErrInfo = <span class="stringliteral">&quot;bad vaddr size&quot;</span>;</div>
<div class="line"><a name="l04650"></a><span class="lineno"> 4650</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04651"></a><span class="lineno"> 4651</span>&#160;      }</div>
<div class="line"><a name="l04652"></a><span class="lineno"> 4652</span>&#160;    }</div>
<div class="line"><a name="l04653"></a><span class="lineno"> 4653</span>&#160;  }</div>
<div class="line"><a name="l04654"></a><span class="lineno"> 4654</span>&#160; </div>
<div class="line"><a name="l04655"></a><span class="lineno"> 4655</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> *DppCt = <a class="code" href="classllvm_1_1SIInstrInfo.html#a61297a04e9cd91c9658b9affecdd9797">getNamedOperand</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, AMDGPU::OpName::dpp_ctrl);</div>
<div class="line"><a name="l04656"></a><span class="lineno"> 4656</span>&#160;  <span class="keywordflow">if</span> (DppCt) {</div>
<div class="line"><a name="l04657"></a><span class="lineno"> 4657</span>&#160;    <span class="keyword">using namespace </span><a class="code" href="namespacellvm_1_1SIInstrFlags.html#ac8376ab01e1f2eb75e242eb464d3992da06434d3505958806f243119630f8c976">AMDGPU::DPP</a>;</div>
<div class="line"><a name="l04658"></a><span class="lineno"> 4658</span>&#160; </div>
<div class="line"><a name="l04659"></a><span class="lineno"> 4659</span>&#160;    <span class="keywordtype">unsigned</span> DC = DppCt-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#a38b28a85f818b49d8806c150b8a5b4f7">getImm</a>();</div>
<div class="line"><a name="l04660"></a><span class="lineno"> 4660</span>&#160;    <span class="keywordflow">if</span> (DC == <a class="code" href="namespacellvm_1_1AMDGPU_1_1DPP.html#aa27612400d9f4f18653d361495d67b08a01e5da7e6376e18c3d69a3c01817ed88">DppCtrl::DPP_UNUSED1</a> || DC == <a class="code" href="namespacellvm_1_1AMDGPU_1_1DPP.html#aa27612400d9f4f18653d361495d67b08aea015d153c806aa1a5c75338d55017b5">DppCtrl::DPP_UNUSED2</a> ||</div>
<div class="line"><a name="l04661"></a><span class="lineno"> 4661</span>&#160;        DC == <a class="code" href="namespacellvm_1_1AMDGPU_1_1DPP.html#aa27612400d9f4f18653d361495d67b08a8f197cdbb473b5d83dfa9024cb2d4e1b">DppCtrl::DPP_UNUSED3</a> || DC &gt; <a class="code" href="namespacellvm_1_1AMDGPU_1_1DPP.html#aa27612400d9f4f18653d361495d67b08a229a44fa66049a4fe6b24c7bfdcd986e">DppCtrl::DPP_LAST</a> ||</div>
<div class="line"><a name="l04662"></a><span class="lineno"> 4662</span>&#160;        (DC &gt;= <a class="code" href="namespacellvm_1_1AMDGPU_1_1DPP.html#aa27612400d9f4f18653d361495d67b08aa109aa58f369471dd6f77dd44809a21f">DppCtrl::DPP_UNUSED4_FIRST</a> &amp;&amp; DC &lt;= <a class="code" href="namespacellvm_1_1AMDGPU_1_1DPP.html#aa27612400d9f4f18653d361495d67b08a22fbd464cb18592187bbe332ce44abc9">DppCtrl::DPP_UNUSED4_LAST</a>) ||</div>
<div class="line"><a name="l04663"></a><span class="lineno"> 4663</span>&#160;        (DC &gt;= <a class="code" href="namespacellvm_1_1AMDGPU_1_1DPP.html#aa27612400d9f4f18653d361495d67b08ab118342ef68df0708e1c6c1a9822e11f">DppCtrl::DPP_UNUSED5_FIRST</a> &amp;&amp; DC &lt;= <a class="code" href="namespacellvm_1_1AMDGPU_1_1DPP.html#aa27612400d9f4f18653d361495d67b08afd69a50c5cc7f76e5361087c82338cca">DppCtrl::DPP_UNUSED5_LAST</a>) ||</div>
<div class="line"><a name="l04664"></a><span class="lineno"> 4664</span>&#160;        (DC &gt;= <a class="code" href="namespacellvm_1_1AMDGPU_1_1DPP.html#aa27612400d9f4f18653d361495d67b08a0946b16bcd77f9e3d92cc2b1f6ce7fca">DppCtrl::DPP_UNUSED6_FIRST</a> &amp;&amp; DC &lt;= <a class="code" href="namespacellvm_1_1AMDGPU_1_1DPP.html#aa27612400d9f4f18653d361495d67b08adfdacd1625ea09362131dda6be04997b">DppCtrl::DPP_UNUSED6_LAST</a>) ||</div>
<div class="line"><a name="l04665"></a><span class="lineno"> 4665</span>&#160;        (DC &gt;= <a class="code" href="namespacellvm_1_1AMDGPU_1_1DPP.html#aa27612400d9f4f18653d361495d67b08ab8caa6d2ed1f1e46f7de55d0d437a3c3">DppCtrl::DPP_UNUSED7_FIRST</a> &amp;&amp; DC &lt;= <a class="code" href="namespacellvm_1_1AMDGPU_1_1DPP.html#aa27612400d9f4f18653d361495d67b08af24eb5ee59a5e5bf84df58dcf64c92c0">DppCtrl::DPP_UNUSED7_LAST</a>) ||</div>
<div class="line"><a name="l04666"></a><span class="lineno"> 4666</span>&#160;        (DC &gt;= <a class="code" href="namespacellvm_1_1AMDGPU_1_1DPP.html#aa27612400d9f4f18653d361495d67b08a31b0c3c70775b8b23f65b9d769606e78">DppCtrl::DPP_UNUSED8_FIRST</a> &amp;&amp; DC &lt;= <a class="code" href="namespacellvm_1_1AMDGPU_1_1DPP.html#aa27612400d9f4f18653d361495d67b08a24b903655c85bb90074e7d4c20ad665b">DppCtrl::DPP_UNUSED8_LAST</a>)) {</div>
<div class="line"><a name="l04667"></a><span class="lineno"> 4667</span>&#160;      ErrInfo = <span class="stringliteral">&quot;Invalid dpp_ctrl value&quot;</span>;</div>
<div class="line"><a name="l04668"></a><span class="lineno"> 4668</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04669"></a><span class="lineno"> 4669</span>&#160;    }</div>
<div class="line"><a name="l04670"></a><span class="lineno"> 4670</span>&#160;    <span class="keywordflow">if</span> (DC &gt;= <a class="code" href="namespacellvm_1_1AMDGPU_1_1DPP.html#aa27612400d9f4f18653d361495d67b08ab9dead8d5e63143c1abb4a508d4c6f30">DppCtrl::WAVE_SHL1</a> &amp;&amp; DC &lt;= <a class="code" href="namespacellvm_1_1AMDGPU_1_1DPP.html#aa27612400d9f4f18653d361495d67b08abbdea5eaa8b53c3c3ddc5446a1883d0e">DppCtrl::WAVE_ROR1</a> &amp;&amp;</div>
<div class="line"><a name="l04671"></a><span class="lineno"> 4671</span>&#160;        ST.getGeneration() &gt;= <a class="code" href="classllvm_1_1AMDGPUSubtarget.html#a53c0ee4138bfbf9e0410a65e0eaa36e2a0a29519a2da61e1cf78d898e26fef446">AMDGPUSubtarget::GFX10</a>) {</div>
<div class="line"><a name="l04672"></a><span class="lineno"> 4672</span>&#160;      ErrInfo = <span class="stringliteral">&quot;Invalid dpp_ctrl value: &quot;</span></div>
<div class="line"><a name="l04673"></a><span class="lineno"> 4673</span>&#160;                <span class="stringliteral">&quot;wavefront shifts are not supported on GFX10+&quot;</span>;</div>
<div class="line"><a name="l04674"></a><span class="lineno"> 4674</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04675"></a><span class="lineno"> 4675</span>&#160;    }</div>
<div class="line"><a name="l04676"></a><span class="lineno"> 4676</span>&#160;    <span class="keywordflow">if</span> (DC &gt;= <a class="code" href="namespacellvm_1_1AMDGPU_1_1DPP.html#aa27612400d9f4f18653d361495d67b08a60f0e8dd618af278da015b2945a34b4e">DppCtrl::BCAST15</a> &amp;&amp; DC &lt;= <a class="code" href="namespacellvm_1_1AMDGPU_1_1DPP.html#aa27612400d9f4f18653d361495d67b08a9db0c6cdc58a23822de98f246145a788">DppCtrl::BCAST31</a> &amp;&amp;</div>
<div class="line"><a name="l04677"></a><span class="lineno"> 4677</span>&#160;        ST.getGeneration() &gt;= <a class="code" href="classllvm_1_1AMDGPUSubtarget.html#a53c0ee4138bfbf9e0410a65e0eaa36e2a0a29519a2da61e1cf78d898e26fef446">AMDGPUSubtarget::GFX10</a>) {</div>
<div class="line"><a name="l04678"></a><span class="lineno"> 4678</span>&#160;      ErrInfo = <span class="stringliteral">&quot;Invalid dpp_ctrl value: &quot;</span></div>
<div class="line"><a name="l04679"></a><span class="lineno"> 4679</span>&#160;                <span class="stringliteral">&quot;broadcasts are not supported on GFX10+&quot;</span>;</div>
<div class="line"><a name="l04680"></a><span class="lineno"> 4680</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04681"></a><span class="lineno"> 4681</span>&#160;    }</div>
<div class="line"><a name="l04682"></a><span class="lineno"> 4682</span>&#160;    <span class="keywordflow">if</span> (DC &gt;= <a class="code" href="namespacellvm_1_1AMDGPU_1_1DPP.html#aa27612400d9f4f18653d361495d67b08a7c1b7d231bccabb7234e9b353c87a904">DppCtrl::ROW_SHARE_FIRST</a> &amp;&amp; DC &lt;= <a class="code" href="namespacellvm_1_1AMDGPU_1_1DPP.html#aa27612400d9f4f18653d361495d67b08a40ba804f3ab3eae632ab10e37179a2e9">DppCtrl::ROW_XMASK_LAST</a> &amp;&amp;</div>
<div class="line"><a name="l04683"></a><span class="lineno"> 4683</span>&#160;        ST.getGeneration() &lt; <a class="code" href="classllvm_1_1AMDGPUSubtarget.html#a53c0ee4138bfbf9e0410a65e0eaa36e2a0a29519a2da61e1cf78d898e26fef446">AMDGPUSubtarget::GFX10</a>) {</div>
<div class="line"><a name="l04684"></a><span class="lineno"> 4684</span>&#160;      <span class="keywordflow">if</span> (DC &gt;= <a class="code" href="namespacellvm_1_1AMDGPU_1_1DPP.html#aa27612400d9f4f18653d361495d67b08aa1fb933a07c862608a52170e730163de">DppCtrl::ROW_NEWBCAST_FIRST</a> &amp;&amp;</div>
<div class="line"><a name="l04685"></a><span class="lineno"> 4685</span>&#160;          DC &lt;= <a class="code" href="namespacellvm_1_1AMDGPU_1_1DPP.html#aa27612400d9f4f18653d361495d67b08a0217c93a90ee9ecf413f258cf8ff0eb2">DppCtrl::ROW_NEWBCAST_LAST</a> &amp;&amp;</div>
<div class="line"><a name="l04686"></a><span class="lineno"> 4686</span>&#160;          !ST.hasGFX90AInsts()) {</div>
<div class="line"><a name="l04687"></a><span class="lineno"> 4687</span>&#160;        ErrInfo = <span class="stringliteral">&quot;Invalid dpp_ctrl value: &quot;</span></div>
<div class="line"><a name="l04688"></a><span class="lineno"> 4688</span>&#160;                  <span class="stringliteral">&quot;row_newbroadcast/row_share is not supported before &quot;</span></div>
<div class="line"><a name="l04689"></a><span class="lineno"> 4689</span>&#160;                  <span class="stringliteral">&quot;GFX90A/GFX10&quot;</span>;</div>
<div class="line"><a name="l04690"></a><span class="lineno"> 4690</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04691"></a><span class="lineno"> 4691</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (DC &gt; <a class="code" href="namespacellvm_1_1AMDGPU_1_1DPP.html#aa27612400d9f4f18653d361495d67b08a0217c93a90ee9ecf413f258cf8ff0eb2">DppCtrl::ROW_NEWBCAST_LAST</a> || !ST.hasGFX90AInsts()) {</div>
<div class="line"><a name="l04692"></a><span class="lineno"> 4692</span>&#160;        ErrInfo = <span class="stringliteral">&quot;Invalid dpp_ctrl value: &quot;</span></div>
<div class="line"><a name="l04693"></a><span class="lineno"> 4693</span>&#160;                  <span class="stringliteral">&quot;row_share and row_xmask are not supported before GFX10&quot;</span>;</div>
<div class="line"><a name="l04694"></a><span class="lineno"> 4694</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04695"></a><span class="lineno"> 4695</span>&#160;      }</div>
<div class="line"><a name="l04696"></a><span class="lineno"> 4696</span>&#160;    }</div>
<div class="line"><a name="l04697"></a><span class="lineno"> 4697</span>&#160; </div>
<div class="line"><a name="l04698"></a><span class="lineno"> 4698</span>&#160;    <span class="keywordtype">int</span> DstIdx = <a class="code" href="namespacellvm_1_1AMDGPU.html#a27efe1286cc31f5fc95355af30b0356c">AMDGPU::getNamedOperandIdx</a>(Opcode, AMDGPU::OpName::vdst);</div>
<div class="line"><a name="l04699"></a><span class="lineno"> 4699</span>&#160; </div>
<div class="line"><a name="l04700"></a><span class="lineno"> 4700</span>&#160;    <span class="keywordflow">if</span> (Opcode != AMDGPU::V_MOV_B64_DPP_PSEUDO &amp;&amp;</div>
<div class="line"><a name="l04701"></a><span class="lineno"> 4701</span>&#160;        ((DstIdx &gt;= 0 &amp;&amp;</div>
<div class="line"><a name="l04702"></a><span class="lineno"> 4702</span>&#160;          (Desc.<a class="code" href="classllvm_1_1MCInstrDesc.html#a9491e6e3afc420c33cf508189bb12c3b">operands</a>()[DstIdx].RegClass == AMDGPU::VReg_64RegClassID ||</div>
<div class="line"><a name="l04703"></a><span class="lineno"> 4703</span>&#160;           Desc.<a class="code" href="classllvm_1_1MCInstrDesc.html#a9491e6e3afc420c33cf508189bb12c3b">operands</a>()[DstIdx].RegClass ==</div>
<div class="line"><a name="l04704"></a><span class="lineno"> 4704</span>&#160;               AMDGPU::VReg_64_Align2RegClassID)) ||</div>
<div class="line"><a name="l04705"></a><span class="lineno"> 4705</span>&#160;         ((Src0Idx &gt;= 0 &amp;&amp;</div>
<div class="line"><a name="l04706"></a><span class="lineno"> 4706</span>&#160;           (Desc.<a class="code" href="classllvm_1_1MCInstrDesc.html#a9491e6e3afc420c33cf508189bb12c3b">operands</a>()[Src0Idx].RegClass == AMDGPU::VReg_64RegClassID ||</div>
<div class="line"><a name="l04707"></a><span class="lineno"> 4707</span>&#160;            Desc.<a class="code" href="classllvm_1_1MCInstrDesc.html#a9491e6e3afc420c33cf508189bb12c3b">operands</a>()[Src0Idx].RegClass ==</div>
<div class="line"><a name="l04708"></a><span class="lineno"> 4708</span>&#160;                AMDGPU::VReg_64_Align2RegClassID)))) &amp;&amp;</div>
<div class="line"><a name="l04709"></a><span class="lineno"> 4709</span>&#160;        !<a class="code" href="namespacellvm_1_1AMDGPU.html#a0fc8a944aeefbf3eb23515c23da00306">AMDGPU::isLegal64BitDPPControl</a>(DC)) {</div>
<div class="line"><a name="l04710"></a><span class="lineno"> 4710</span>&#160;      ErrInfo = <span class="stringliteral">&quot;Invalid dpp_ctrl value: &quot;</span></div>
<div class="line"><a name="l04711"></a><span class="lineno"> 4711</span>&#160;                <span class="stringliteral">&quot;64 bit dpp only support row_newbcast&quot;</span>;</div>
<div class="line"><a name="l04712"></a><span class="lineno"> 4712</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04713"></a><span class="lineno"> 4713</span>&#160;    }</div>
<div class="line"><a name="l04714"></a><span class="lineno"> 4714</span>&#160;  }</div>
<div class="line"><a name="l04715"></a><span class="lineno"> 4715</span>&#160; </div>
<div class="line"><a name="l04716"></a><span class="lineno"> 4716</span>&#160;  <span class="keywordflow">if</span> ((<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.mayStore() || <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.mayLoad()) &amp;&amp; !<a class="code" href="classllvm_1_1SIInstrInfo.html#ab54d6d16078e78dfe594321574f39223">isVGPRSpill</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>)) {</div>
<div class="line"><a name="l04717"></a><span class="lineno"> 4717</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> *Dst = <a class="code" href="classllvm_1_1SIInstrInfo.html#a61297a04e9cd91c9658b9affecdd9797">getNamedOperand</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, AMDGPU::OpName::vdst);</div>
<div class="line"><a name="l04718"></a><span class="lineno"> 4718</span>&#160;    <a class="code" href="classuint16__t.html">uint16_t</a> DataNameIdx = <a class="code" href="classllvm_1_1SIInstrInfo.html#a08b60e6be6801b1f90d723990ef68009">isDS</a>(Opcode) ? AMDGPU::OpName::data0</div>
<div class="line"><a name="l04719"></a><span class="lineno"> 4719</span>&#160;                                        : AMDGPU::OpName::vdata;</div>
<div class="line"><a name="l04720"></a><span class="lineno"> 4720</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> *<a class="code" href="namespacellvm.html#ae551fe3e2b167b36005b26473e993884a26aa2e7865f749b52f3b77991776c40d">Data</a> = <a class="code" href="classllvm_1_1SIInstrInfo.html#a61297a04e9cd91c9658b9affecdd9797">getNamedOperand</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, DataNameIdx);</div>
<div class="line"><a name="l04721"></a><span class="lineno"> 4721</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> *Data2 = <a class="code" href="classllvm_1_1SIInstrInfo.html#a61297a04e9cd91c9658b9affecdd9797">getNamedOperand</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, AMDGPU::OpName::data1);</div>
<div class="line"><a name="l04722"></a><span class="lineno"> 4722</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#ae551fe3e2b167b36005b26473e993884a26aa2e7865f749b52f3b77991776c40d">Data</a> &amp;&amp; !<a class="code" href="namespacellvm.html#ae551fe3e2b167b36005b26473e993884a26aa2e7865f749b52f3b77991776c40d">Data</a>-&gt;isReg())</div>
<div class="line"><a name="l04723"></a><span class="lineno"> 4723</span>&#160;      <a class="code" href="namespacellvm.html#ae551fe3e2b167b36005b26473e993884a26aa2e7865f749b52f3b77991776c40d">Data</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l04724"></a><span class="lineno"> 4724</span>&#160; </div>
<div class="line"><a name="l04725"></a><span class="lineno"> 4725</span>&#160;    <span class="keywordflow">if</span> (ST.<a class="code" href="classllvm_1_1GCNSubtarget.html#a1fc0ea9be83e3d4cb2aeb2d7b2363e73">hasGFX90AInsts</a>()) {</div>
<div class="line"><a name="l04726"></a><span class="lineno"> 4726</span>&#160;      <span class="keywordflow">if</span> (Dst &amp;&amp; <a class="code" href="namespacellvm.html#ae551fe3e2b167b36005b26473e993884a26aa2e7865f749b52f3b77991776c40d">Data</a> &amp;&amp;</div>
<div class="line"><a name="l04727"></a><span class="lineno"> 4727</span>&#160;          (RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#acc61376f4183268183912910024e1f2c">isAGPR</a>(<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, Dst-&gt;getReg()) != RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#acc61376f4183268183912910024e1f2c">isAGPR</a>(<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="namespacellvm.html#ae551fe3e2b167b36005b26473e993884a26aa2e7865f749b52f3b77991776c40d">Data</a>-&gt;getReg()))) {</div>
<div class="line"><a name="l04728"></a><span class="lineno"> 4728</span>&#160;        ErrInfo = <span class="stringliteral">&quot;Invalid register class: &quot;</span></div>
<div class="line"><a name="l04729"></a><span class="lineno"> 4729</span>&#160;                  <span class="stringliteral">&quot;vdata and vdst should be both VGPR or AGPR&quot;</span>;</div>
<div class="line"><a name="l04730"></a><span class="lineno"> 4730</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04731"></a><span class="lineno"> 4731</span>&#160;      }</div>
<div class="line"><a name="l04732"></a><span class="lineno"> 4732</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#ae551fe3e2b167b36005b26473e993884a26aa2e7865f749b52f3b77991776c40d">Data</a> &amp;&amp; Data2 &amp;&amp;</div>
<div class="line"><a name="l04733"></a><span class="lineno"> 4733</span>&#160;          (RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#acc61376f4183268183912910024e1f2c">isAGPR</a>(<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="namespacellvm.html#ae551fe3e2b167b36005b26473e993884a26aa2e7865f749b52f3b77991776c40d">Data</a>-&gt;getReg()) != RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#acc61376f4183268183912910024e1f2c">isAGPR</a>(<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, Data2-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>()))) {</div>
<div class="line"><a name="l04734"></a><span class="lineno"> 4734</span>&#160;        ErrInfo = <span class="stringliteral">&quot;Invalid register class: &quot;</span></div>
<div class="line"><a name="l04735"></a><span class="lineno"> 4735</span>&#160;                  <span class="stringliteral">&quot;both data operands should be VGPR or AGPR&quot;</span>;</div>
<div class="line"><a name="l04736"></a><span class="lineno"> 4736</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04737"></a><span class="lineno"> 4737</span>&#160;      }</div>
<div class="line"><a name="l04738"></a><span class="lineno"> 4738</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04739"></a><span class="lineno"> 4739</span>&#160;      <span class="keywordflow">if</span> ((Dst &amp;&amp; RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#acc61376f4183268183912910024e1f2c">isAGPR</a>(<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, Dst-&gt;getReg())) ||</div>
<div class="line"><a name="l04740"></a><span class="lineno"> 4740</span>&#160;          (<a class="code" href="namespacellvm.html#ae551fe3e2b167b36005b26473e993884a26aa2e7865f749b52f3b77991776c40d">Data</a> &amp;&amp; RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#acc61376f4183268183912910024e1f2c">isAGPR</a>(<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="namespacellvm.html#ae551fe3e2b167b36005b26473e993884a26aa2e7865f749b52f3b77991776c40d">Data</a>-&gt;getReg())) ||</div>
<div class="line"><a name="l04741"></a><span class="lineno"> 4741</span>&#160;          (Data2 &amp;&amp; RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#acc61376f4183268183912910024e1f2c">isAGPR</a>(<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, Data2-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>()))) {</div>
<div class="line"><a name="l04742"></a><span class="lineno"> 4742</span>&#160;        ErrInfo = <span class="stringliteral">&quot;Invalid register class: &quot;</span></div>
<div class="line"><a name="l04743"></a><span class="lineno"> 4743</span>&#160;                  <span class="stringliteral">&quot;agpr loads and stores not supported on this GPU&quot;</span>;</div>
<div class="line"><a name="l04744"></a><span class="lineno"> 4744</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04745"></a><span class="lineno"> 4745</span>&#160;      }</div>
<div class="line"><a name="l04746"></a><span class="lineno"> 4746</span>&#160;    }</div>
<div class="line"><a name="l04747"></a><span class="lineno"> 4747</span>&#160;  }</div>
<div class="line"><a name="l04748"></a><span class="lineno"> 4748</span>&#160; </div>
<div class="line"><a name="l04749"></a><span class="lineno"> 4749</span>&#160;  <span class="keywordflow">if</span> (ST.<a class="code" href="classllvm_1_1GCNSubtarget.html#a3b3c319ca867b6775449a12b4623634a">needsAlignedVGPRs</a>()) {</div>
<div class="line"><a name="l04750"></a><span class="lineno"> 4750</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> isAlignedReg = [&amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, &amp;<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <span class="keyword">this</span>](<span class="keywordtype">unsigned</span> <a class="code" href="namespaceOpName.html">OpName</a>) -&gt; <span class="keywordtype">bool</span> {</div>
<div class="line"><a name="l04751"></a><span class="lineno"> 4751</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> *<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> = <a class="code" href="classllvm_1_1SIInstrInfo.html#a61297a04e9cd91c9658b9affecdd9797">getNamedOperand</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="namespaceOpName.html">OpName</a>);</div>
<div class="line"><a name="l04752"></a><span class="lineno"> 4752</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>)</div>
<div class="line"><a name="l04753"></a><span class="lineno"> 4753</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l04754"></a><span class="lineno"> 4754</span>&#160;      <a class="code" href="classllvm_1_1Register.html">Register</a> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a> = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>-&gt;getReg();</div>
<div class="line"><a name="l04755"></a><span class="lineno"> 4755</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>.isPhysical())</div>
<div class="line"><a name="l04756"></a><span class="lineno"> 4756</span>&#160;        <span class="keywordflow">return</span> !(RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#a954d76fe761bb4014b2da81cac2360cf">getHWRegIndex</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>) &amp; 1);</div>
<div class="line"><a name="l04757"></a><span class="lineno"> 4757</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> &amp;RC = *<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#aa363afffca4fc13a709673936b47fe33">getRegClass</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>);</div>
<div class="line"><a name="l04758"></a><span class="lineno"> 4758</span>&#160;      <span class="keywordflow">return</span> RI.getRegSizeInBits(RC) &gt; 32 &amp;&amp; RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#a2adf69ba524926c5454f5d259c1c4dac">isProperlyAlignedRC</a>(RC) &amp;&amp;</div>
<div class="line"><a name="l04759"></a><span class="lineno"> 4759</span>&#160;             !(RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#ad7eff7d73e979a05739b21cc353f748c">getChannelFromSubReg</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>-&gt;getSubReg()) &amp; 1);</div>
<div class="line"><a name="l04760"></a><span class="lineno"> 4760</span>&#160;    };</div>
<div class="line"><a name="l04761"></a><span class="lineno"> 4761</span>&#160; </div>
<div class="line"><a name="l04762"></a><span class="lineno"> 4762</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode() == AMDGPU::DS_GWS_INIT ||</div>
<div class="line"><a name="l04763"></a><span class="lineno"> 4763</span>&#160;        <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode() == AMDGPU::DS_GWS_SEMA_BR ||</div>
<div class="line"><a name="l04764"></a><span class="lineno"> 4764</span>&#160;        <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode() == AMDGPU::DS_GWS_BARRIER) {</div>
<div class="line"><a name="l04765"></a><span class="lineno"> 4765</span>&#160; </div>
<div class="line"><a name="l04766"></a><span class="lineno"> 4766</span>&#160;      <span class="keywordflow">if</span> (!isAlignedReg(AMDGPU::OpName::data0)) {</div>
<div class="line"><a name="l04767"></a><span class="lineno"> 4767</span>&#160;        ErrInfo = <span class="stringliteral">&quot;Subtarget requires even aligned vector registers &quot;</span></div>
<div class="line"><a name="l04768"></a><span class="lineno"> 4768</span>&#160;                  <span class="stringliteral">&quot;for DS_GWS instructions&quot;</span>;</div>
<div class="line"><a name="l04769"></a><span class="lineno"> 4769</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04770"></a><span class="lineno"> 4770</span>&#160;      }</div>
<div class="line"><a name="l04771"></a><span class="lineno"> 4771</span>&#160;    }</div>
<div class="line"><a name="l04772"></a><span class="lineno"> 4772</span>&#160; </div>
<div class="line"><a name="l04773"></a><span class="lineno"> 4773</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SIInstrInfo.html#abdcf600002fd489c76924f2ec4f4fc0f">isMIMG</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>)) {</div>
<div class="line"><a name="l04774"></a><span class="lineno"> 4774</span>&#160;      <span class="keywordflow">if</span> (!isAlignedReg(AMDGPU::OpName::vaddr)) {</div>
<div class="line"><a name="l04775"></a><span class="lineno"> 4775</span>&#160;        ErrInfo = <span class="stringliteral">&quot;Subtarget requires even aligned vector registers &quot;</span></div>
<div class="line"><a name="l04776"></a><span class="lineno"> 4776</span>&#160;                  <span class="stringliteral">&quot;for vaddr operand of image instructions&quot;</span>;</div>
<div class="line"><a name="l04777"></a><span class="lineno"> 4777</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04778"></a><span class="lineno"> 4778</span>&#160;      }</div>
<div class="line"><a name="l04779"></a><span class="lineno"> 4779</span>&#160;    }</div>
<div class="line"><a name="l04780"></a><span class="lineno"> 4780</span>&#160;  }</div>
<div class="line"><a name="l04781"></a><span class="lineno"> 4781</span>&#160; </div>
<div class="line"><a name="l04782"></a><span class="lineno"> 4782</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode() == AMDGPU::V_ACCVGPR_WRITE_B32_e64 &amp;&amp;</div>
<div class="line"><a name="l04783"></a><span class="lineno"> 4783</span>&#160;      !ST.<a class="code" href="classllvm_1_1GCNSubtarget.html#a1fc0ea9be83e3d4cb2aeb2d7b2363e73">hasGFX90AInsts</a>()) {</div>
<div class="line"><a name="l04784"></a><span class="lineno"> 4784</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> *Src = <a class="code" href="classllvm_1_1SIInstrInfo.html#a61297a04e9cd91c9658b9affecdd9797">getNamedOperand</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, AMDGPU::OpName::src0);</div>
<div class="line"><a name="l04785"></a><span class="lineno"> 4785</span>&#160;    <span class="keywordflow">if</span> (Src-&gt;isReg() &amp;&amp; RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#a980c731f7723b02b66010f4fce010c0f">isSGPRReg</a>(<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, Src-&gt;getReg())) {</div>
<div class="line"><a name="l04786"></a><span class="lineno"> 4786</span>&#160;      ErrInfo = <span class="stringliteral">&quot;Invalid register class: &quot;</span></div>
<div class="line"><a name="l04787"></a><span class="lineno"> 4787</span>&#160;                <span class="stringliteral">&quot;v_accvgpr_write with an SGPR is not supported on this GPU&quot;</span>;</div>
<div class="line"><a name="l04788"></a><span class="lineno"> 4788</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04789"></a><span class="lineno"> 4789</span>&#160;    }</div>
<div class="line"><a name="l04790"></a><span class="lineno"> 4790</span>&#160;  }</div>
<div class="line"><a name="l04791"></a><span class="lineno"> 4791</span>&#160; </div>
<div class="line"><a name="l04792"></a><span class="lineno"> 4792</span>&#160;  <span class="keywordflow">if</span> (Desc.<a class="code" href="classllvm_1_1MCInstrDesc.html#aee50fcacb786c1fc56168a0c55a4e934">getOpcode</a>() == AMDGPU::G_AMDGPU_WAVE_ADDRESS) {</div>
<div class="line"><a name="l04793"></a><span class="lineno"> 4793</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;<a class="code" href="classllvm_1_1SrcOp.html">SrcOp</a> = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(1);</div>
<div class="line"><a name="l04794"></a><span class="lineno"> 4794</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1SrcOp.html">SrcOp</a>.isReg() || <a class="code" href="classllvm_1_1SrcOp.html">SrcOp</a>.<a class="code" href="classllvm_1_1SrcOp.html#ae229785d0c8a8ce25d34be18fe150a54">getReg</a>().<a class="code" href="classllvm_1_1Register.html#aebafd86dde59b5a05b22e8720e808a9d">isVirtual</a>()) {</div>
<div class="line"><a name="l04795"></a><span class="lineno"> 4795</span>&#160;      ErrInfo = <span class="stringliteral">&quot;pseudo expects only physical SGPRs&quot;</span>;</div>
<div class="line"><a name="l04796"></a><span class="lineno"> 4796</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04797"></a><span class="lineno"> 4797</span>&#160;    }</div>
<div class="line"><a name="l04798"></a><span class="lineno"> 4798</span>&#160;  }</div>
<div class="line"><a name="l04799"></a><span class="lineno"> 4799</span>&#160; </div>
<div class="line"><a name="l04800"></a><span class="lineno"> 4800</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l04801"></a><span class="lineno"> 4801</span>&#160;}</div>
<div class="line"><a name="l04802"></a><span class="lineno"> 4802</span>&#160; </div>
<div class="line"><a name="l04803"></a><span class="lineno"><a class="line" href="classllvm_1_1SIInstrInfo.html#ac498c193dd1d1e364aa8e9b640f72826"> 4803</a></span>&#160;<span class="keywordtype">unsigned</span> <a class="code" href="classllvm_1_1SIInstrInfo.html#ac498c193dd1d1e364aa8e9b640f72826">SIInstrInfo::getVALUOp</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l04804"></a><span class="lineno"> 4804</span>&#160;  <span class="keywordflow">switch</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode()) {</div>
<div class="line"><a name="l04805"></a><span class="lineno"> 4805</span>&#160;  <span class="keywordflow">default</span>: <span class="keywordflow">return</span> AMDGPU::INSTRUCTION_LIST_END;</div>
<div class="line"><a name="l04806"></a><span class="lineno"> 4806</span>&#160;  <span class="keywordflow">case</span> AMDGPU::REG_SEQUENCE: <span class="keywordflow">return</span> AMDGPU::REG_SEQUENCE;</div>
<div class="line"><a name="l04807"></a><span class="lineno"> 4807</span>&#160;  <span class="keywordflow">case</span> AMDGPU::COPY: <span class="keywordflow">return</span> AMDGPU::COPY;</div>
<div class="line"><a name="l04808"></a><span class="lineno"> 4808</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="AMDGPURewriteUndefForPHI_8cpp.html#a2e83cb1bc3f5e8986cbd14575755a134">AMDGPU::PHI</a>: <span class="keywordflow">return</span> <a class="code" href="AMDGPURewriteUndefForPHI_8cpp.html#a2e83cb1bc3f5e8986cbd14575755a134">AMDGPU::PHI</a>;</div>
<div class="line"><a name="l04809"></a><span class="lineno"> 4809</span>&#160;  <span class="keywordflow">case</span> AMDGPU::INSERT_SUBREG: <span class="keywordflow">return</span> AMDGPU::INSERT_SUBREG;</div>
<div class="line"><a name="l04810"></a><span class="lineno"> 4810</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1SIInstrFlags.html#ac8376ab01e1f2eb75e242eb464d3992dae51b91ec89e9fd6502c3339d1360c147">AMDGPU::WQM</a>: <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1SIInstrFlags.html#ac8376ab01e1f2eb75e242eb464d3992dae51b91ec89e9fd6502c3339d1360c147">AMDGPU::WQM</a>;</div>
<div class="line"><a name="l04811"></a><span class="lineno"> 4811</span>&#160;  <span class="keywordflow">case</span> AMDGPU::SOFT_WQM: <span class="keywordflow">return</span> AMDGPU::SOFT_WQM;</div>
<div class="line"><a name="l04812"></a><span class="lineno"> 4812</span>&#160;  <span class="keywordflow">case</span> AMDGPU::STRICT_WWM: <span class="keywordflow">return</span> AMDGPU::STRICT_WWM;</div>
<div class="line"><a name="l04813"></a><span class="lineno"> 4813</span>&#160;  <span class="keywordflow">case</span> AMDGPU::STRICT_WQM: <span class="keywordflow">return</span> AMDGPU::STRICT_WQM;</div>
<div class="line"><a name="l04814"></a><span class="lineno"> 4814</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_MOV_B32: {</div>
<div class="line"><a name="l04815"></a><span class="lineno"> 4815</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a> = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getParent()-&gt;getParent()-&gt;getRegInfo();</div>
<div class="line"><a name="l04816"></a><span class="lineno"> 4816</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(1).isReg() ||</div>
<div class="line"><a name="l04817"></a><span class="lineno"> 4817</span>&#160;           RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#acc61376f4183268183912910024e1f2c">isAGPR</a>(<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(0).getReg()) ?</div>
<div class="line"><a name="l04818"></a><span class="lineno"> 4818</span>&#160;           AMDGPU::COPY : AMDGPU::V_MOV_B32_e32;</div>
<div class="line"><a name="l04819"></a><span class="lineno"> 4819</span>&#160;  }</div>
<div class="line"><a name="l04820"></a><span class="lineno"> 4820</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_ADD_I32:</div>
<div class="line"><a name="l04821"></a><span class="lineno"> 4821</span>&#160;    <span class="keywordflow">return</span> ST.<a class="code" href="classllvm_1_1GCNSubtarget.html#ae431b2e8fc0aee94b01cece42984d2dd">hasAddNoCarry</a>() ? AMDGPU::V_ADD_U32_e64 : AMDGPU::V_ADD_CO_U32_e32;</div>
<div class="line"><a name="l04822"></a><span class="lineno"> 4822</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_ADDC_U32:</div>
<div class="line"><a name="l04823"></a><span class="lineno"> 4823</span>&#160;    <span class="keywordflow">return</span> AMDGPU::V_ADDC_U32_e32;</div>
<div class="line"><a name="l04824"></a><span class="lineno"> 4824</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_SUB_I32:</div>
<div class="line"><a name="l04825"></a><span class="lineno"> 4825</span>&#160;    <span class="keywordflow">return</span> ST.<a class="code" href="classllvm_1_1GCNSubtarget.html#ae431b2e8fc0aee94b01cece42984d2dd">hasAddNoCarry</a>() ? AMDGPU::V_SUB_U32_e64 : AMDGPU::V_SUB_CO_U32_e32;</div>
<div class="line"><a name="l04826"></a><span class="lineno"> 4826</span>&#160;    <span class="comment">// FIXME: These are not consistently handled, and selected when the carry is</span></div>
<div class="line"><a name="l04827"></a><span class="lineno"> 4827</span>&#160;    <span class="comment">// used.</span></div>
<div class="line"><a name="l04828"></a><span class="lineno"> 4828</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_ADD_U32:</div>
<div class="line"><a name="l04829"></a><span class="lineno"> 4829</span>&#160;    <span class="keywordflow">return</span> AMDGPU::V_ADD_CO_U32_e32;</div>
<div class="line"><a name="l04830"></a><span class="lineno"> 4830</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_SUB_U32:</div>
<div class="line"><a name="l04831"></a><span class="lineno"> 4831</span>&#160;    <span class="keywordflow">return</span> AMDGPU::V_SUB_CO_U32_e32;</div>
<div class="line"><a name="l04832"></a><span class="lineno"> 4832</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_SUBB_U32: <span class="keywordflow">return</span> AMDGPU::V_SUBB_U32_e32;</div>
<div class="line"><a name="l04833"></a><span class="lineno"> 4833</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_MUL_I32: <span class="keywordflow">return</span> AMDGPU::V_MUL_LO_U32_e64;</div>
<div class="line"><a name="l04834"></a><span class="lineno"> 4834</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_MUL_HI_U32: <span class="keywordflow">return</span> AMDGPU::V_MUL_HI_U32_e64;</div>
<div class="line"><a name="l04835"></a><span class="lineno"> 4835</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_MUL_HI_I32: <span class="keywordflow">return</span> AMDGPU::V_MUL_HI_I32_e64;</div>
<div class="line"><a name="l04836"></a><span class="lineno"> 4836</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_AND_B32: <span class="keywordflow">return</span> AMDGPU::V_AND_B32_e64;</div>
<div class="line"><a name="l04837"></a><span class="lineno"> 4837</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_OR_B32: <span class="keywordflow">return</span> AMDGPU::V_OR_B32_e64;</div>
<div class="line"><a name="l04838"></a><span class="lineno"> 4838</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_XOR_B32: <span class="keywordflow">return</span> AMDGPU::V_XOR_B32_e64;</div>
<div class="line"><a name="l04839"></a><span class="lineno"> 4839</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_XNOR_B32:</div>
<div class="line"><a name="l04840"></a><span class="lineno"> 4840</span>&#160;    <span class="keywordflow">return</span> ST.<a class="code" href="classllvm_1_1GCNSubtarget.html#a24618695d970449f186b50c63648f674">hasDLInsts</a>() ? AMDGPU::V_XNOR_B32_e64 : AMDGPU::INSTRUCTION_LIST_END;</div>
<div class="line"><a name="l04841"></a><span class="lineno"> 4841</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_MIN_I32: <span class="keywordflow">return</span> AMDGPU::V_MIN_I32_e64;</div>
<div class="line"><a name="l04842"></a><span class="lineno"> 4842</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_MIN_U32: <span class="keywordflow">return</span> AMDGPU::V_MIN_U32_e64;</div>
<div class="line"><a name="l04843"></a><span class="lineno"> 4843</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_MAX_I32: <span class="keywordflow">return</span> AMDGPU::V_MAX_I32_e64;</div>
<div class="line"><a name="l04844"></a><span class="lineno"> 4844</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_MAX_U32: <span class="keywordflow">return</span> AMDGPU::V_MAX_U32_e64;</div>
<div class="line"><a name="l04845"></a><span class="lineno"> 4845</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_ASHR_I32: <span class="keywordflow">return</span> AMDGPU::V_ASHR_I32_e32;</div>
<div class="line"><a name="l04846"></a><span class="lineno"> 4846</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_ASHR_I64: <span class="keywordflow">return</span> AMDGPU::V_ASHR_I64_e64;</div>
<div class="line"><a name="l04847"></a><span class="lineno"> 4847</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_LSHL_B32: <span class="keywordflow">return</span> AMDGPU::V_LSHL_B32_e32;</div>
<div class="line"><a name="l04848"></a><span class="lineno"> 4848</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_LSHL_B64: <span class="keywordflow">return</span> AMDGPU::V_LSHL_B64_e64;</div>
<div class="line"><a name="l04849"></a><span class="lineno"> 4849</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_LSHR_B32: <span class="keywordflow">return</span> AMDGPU::V_LSHR_B32_e32;</div>
<div class="line"><a name="l04850"></a><span class="lineno"> 4850</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_LSHR_B64: <span class="keywordflow">return</span> AMDGPU::V_LSHR_B64_e64;</div>
<div class="line"><a name="l04851"></a><span class="lineno"> 4851</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_SEXT_I32_I8: <span class="keywordflow">return</span> AMDGPU::V_BFE_I32_e64;</div>
<div class="line"><a name="l04852"></a><span class="lineno"> 4852</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_SEXT_I32_I16: <span class="keywordflow">return</span> AMDGPU::V_BFE_I32_e64;</div>
<div class="line"><a name="l04853"></a><span class="lineno"> 4853</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_BFE_U32: <span class="keywordflow">return</span> AMDGPU::V_BFE_U32_e64;</div>
<div class="line"><a name="l04854"></a><span class="lineno"> 4854</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_BFE_I32: <span class="keywordflow">return</span> AMDGPU::V_BFE_I32_e64;</div>
<div class="line"><a name="l04855"></a><span class="lineno"> 4855</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_BFM_B32: <span class="keywordflow">return</span> AMDGPU::V_BFM_B32_e64;</div>
<div class="line"><a name="l04856"></a><span class="lineno"> 4856</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_BREV_B32: <span class="keywordflow">return</span> AMDGPU::V_BFREV_B32_e32;</div>
<div class="line"><a name="l04857"></a><span class="lineno"> 4857</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_NOT_B32: <span class="keywordflow">return</span> AMDGPU::V_NOT_B32_e32;</div>
<div class="line"><a name="l04858"></a><span class="lineno"> 4858</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_NOT_B64: <span class="keywordflow">return</span> AMDGPU::V_NOT_B32_e32;</div>
<div class="line"><a name="l04859"></a><span class="lineno"> 4859</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_CMP_EQ_I32: <span class="keywordflow">return</span> AMDGPU::V_CMP_EQ_I32_e64;</div>
<div class="line"><a name="l04860"></a><span class="lineno"> 4860</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_CMP_LG_I32: <span class="keywordflow">return</span> AMDGPU::V_CMP_NE_I32_e64;</div>
<div class="line"><a name="l04861"></a><span class="lineno"> 4861</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_CMP_GT_I32: <span class="keywordflow">return</span> AMDGPU::V_CMP_GT_I32_e64;</div>
<div class="line"><a name="l04862"></a><span class="lineno"> 4862</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_CMP_GE_I32: <span class="keywordflow">return</span> AMDGPU::V_CMP_GE_I32_e64;</div>
<div class="line"><a name="l04863"></a><span class="lineno"> 4863</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_CMP_LT_I32: <span class="keywordflow">return</span> AMDGPU::V_CMP_LT_I32_e64;</div>
<div class="line"><a name="l04864"></a><span class="lineno"> 4864</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_CMP_LE_I32: <span class="keywordflow">return</span> AMDGPU::V_CMP_LE_I32_e64;</div>
<div class="line"><a name="l04865"></a><span class="lineno"> 4865</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_CMP_EQ_U32: <span class="keywordflow">return</span> AMDGPU::V_CMP_EQ_U32_e64;</div>
<div class="line"><a name="l04866"></a><span class="lineno"> 4866</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_CMP_LG_U32: <span class="keywordflow">return</span> AMDGPU::V_CMP_NE_U32_e64;</div>
<div class="line"><a name="l04867"></a><span class="lineno"> 4867</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_CMP_GT_U32: <span class="keywordflow">return</span> AMDGPU::V_CMP_GT_U32_e64;</div>
<div class="line"><a name="l04868"></a><span class="lineno"> 4868</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_CMP_GE_U32: <span class="keywordflow">return</span> AMDGPU::V_CMP_GE_U32_e64;</div>
<div class="line"><a name="l04869"></a><span class="lineno"> 4869</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_CMP_LT_U32: <span class="keywordflow">return</span> AMDGPU::V_CMP_LT_U32_e64;</div>
<div class="line"><a name="l04870"></a><span class="lineno"> 4870</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_CMP_LE_U32: <span class="keywordflow">return</span> AMDGPU::V_CMP_LE_U32_e64;</div>
<div class="line"><a name="l04871"></a><span class="lineno"> 4871</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_CMP_EQ_U64: <span class="keywordflow">return</span> AMDGPU::V_CMP_EQ_U64_e64;</div>
<div class="line"><a name="l04872"></a><span class="lineno"> 4872</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_CMP_LG_U64: <span class="keywordflow">return</span> AMDGPU::V_CMP_NE_U64_e64;</div>
<div class="line"><a name="l04873"></a><span class="lineno"> 4873</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_BCNT1_I32_B32: <span class="keywordflow">return</span> AMDGPU::V_BCNT_U32_B32_e64;</div>
<div class="line"><a name="l04874"></a><span class="lineno"> 4874</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_FF1_I32_B32: <span class="keywordflow">return</span> AMDGPU::V_FFBL_B32_e32;</div>
<div class="line"><a name="l04875"></a><span class="lineno"> 4875</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_FLBIT_I32_B32: <span class="keywordflow">return</span> AMDGPU::V_FFBH_U32_e32;</div>
<div class="line"><a name="l04876"></a><span class="lineno"> 4876</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_FLBIT_I32: <span class="keywordflow">return</span> AMDGPU::V_FFBH_I32_e64;</div>
<div class="line"><a name="l04877"></a><span class="lineno"> 4877</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_CBRANCH_SCC0: <span class="keywordflow">return</span> AMDGPU::S_CBRANCH_VCCZ;</div>
<div class="line"><a name="l04878"></a><span class="lineno"> 4878</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_CBRANCH_SCC1: <span class="keywordflow">return</span> AMDGPU::S_CBRANCH_VCCNZ;</div>
<div class="line"><a name="l04879"></a><span class="lineno"> 4879</span>&#160;  }</div>
<div class="line"><a name="l04880"></a><span class="lineno"> 4880</span>&#160;  <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(</div>
<div class="line"><a name="l04881"></a><span class="lineno"> 4881</span>&#160;      <span class="stringliteral">&quot;Unexpected scalar opcode without corresponding vector one!&quot;</span>);</div>
<div class="line"><a name="l04882"></a><span class="lineno"> 4882</span>&#160;}</div>
<div class="line"><a name="l04883"></a><span class="lineno"> 4883</span>&#160; </div>
<div class="line"><a name="l04884"></a><span class="lineno"> 4884</span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *</div>
<div class="line"><a name="l04885"></a><span class="lineno"><a class="line" href="SIInstrInfo_8cpp.html#a570cee6dbf51f5e1760c1e20a7b16b38"> 4885</a></span>&#160;<a class="code" href="SIInstrInfo_8cpp.html#a570cee6dbf51f5e1760c1e20a7b16b38">adjustAllocatableRegClass</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1GCNSubtarget.html">GCNSubtarget</a> &amp;ST, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SIRegisterInfo.html">SIRegisterInfo</a> &amp;RI,</div>
<div class="line"><a name="l04886"></a><span class="lineno"> 4886</span>&#160;                          <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>,</div>
<div class="line"><a name="l04887"></a><span class="lineno"> 4887</span>&#160;                          <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCInstrDesc.html">MCInstrDesc</a> &amp;TID, <span class="keywordtype">unsigned</span> RCID,</div>
<div class="line"><a name="l04888"></a><span class="lineno"> 4888</span>&#160;                          <span class="keywordtype">bool</span> IsAllocatable) {</div>
<div class="line"><a name="l04889"></a><span class="lineno"> 4889</span>&#160;  <span class="keywordflow">if</span> ((IsAllocatable || !ST.hasGFX90AInsts() || !<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5ecfe2828dd348fc0b23c8d1d73c4b75">reservedRegsFrozen</a>()) &amp;&amp;</div>
<div class="line"><a name="l04890"></a><span class="lineno"> 4890</span>&#160;      (((TID.<a class="code" href="classllvm_1_1MCInstrDesc.html#a2eae6ddcf171bdfe8cde452311ff4160">mayLoad</a>() || TID.<a class="code" href="classllvm_1_1MCInstrDesc.html#a1652b3fb1337b788da41bd95a348990c">mayStore</a>()) &amp;&amp;</div>
<div class="line"><a name="l04891"></a><span class="lineno"> 4891</span>&#160;        !(TID.<a class="code" href="classllvm_1_1MCInstrDesc.html#a46e0fcca2366f30d5e35b3d7dcb9c65f">TSFlags</a> &amp; <a class="code" href="namespacellvm_1_1SIInstrFlags.html#ac8376ab01e1f2eb75e242eb464d3992da19795cb02079a5e5d58e8a5df3b6ba4b">SIInstrFlags::VGPRSpill</a>)) ||</div>
<div class="line"><a name="l04892"></a><span class="lineno"> 4892</span>&#160;       (TID.<a class="code" href="classllvm_1_1MCInstrDesc.html#a46e0fcca2366f30d5e35b3d7dcb9c65f">TSFlags</a> &amp; (<a class="code" href="namespacellvm_1_1SIInstrFlags.html#ac8376ab01e1f2eb75e242eb464d3992da953a5ba3766c4aea8d9b8eeeba722679">SIInstrFlags::DS</a> | <a class="code" href="namespacellvm_1_1SIInstrFlags.html#ac8376ab01e1f2eb75e242eb464d3992da0666b703f5fe8ee884171492fb6a685a">SIInstrFlags::MIMG</a>)))) {</div>
<div class="line"><a name="l04893"></a><span class="lineno"> 4893</span>&#160;    <span class="keywordflow">switch</span> (RCID) {</div>
<div class="line"><a name="l04894"></a><span class="lineno"> 4894</span>&#160;    <span class="keywordflow">case</span> AMDGPU::AV_32RegClassID:</div>
<div class="line"><a name="l04895"></a><span class="lineno"> 4895</span>&#160;      RCID = AMDGPU::VGPR_32RegClassID;</div>
<div class="line"><a name="l04896"></a><span class="lineno"> 4896</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04897"></a><span class="lineno"> 4897</span>&#160;    <span class="keywordflow">case</span> AMDGPU::AV_64RegClassID:</div>
<div class="line"><a name="l04898"></a><span class="lineno"> 4898</span>&#160;      RCID = AMDGPU::VReg_64RegClassID;</div>
<div class="line"><a name="l04899"></a><span class="lineno"> 4899</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04900"></a><span class="lineno"> 4900</span>&#160;    <span class="keywordflow">case</span> AMDGPU::AV_96RegClassID:</div>
<div class="line"><a name="l04901"></a><span class="lineno"> 4901</span>&#160;      RCID = AMDGPU::VReg_96RegClassID;</div>
<div class="line"><a name="l04902"></a><span class="lineno"> 4902</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04903"></a><span class="lineno"> 4903</span>&#160;    <span class="keywordflow">case</span> AMDGPU::AV_128RegClassID:</div>
<div class="line"><a name="l04904"></a><span class="lineno"> 4904</span>&#160;      RCID = AMDGPU::VReg_128RegClassID;</div>
<div class="line"><a name="l04905"></a><span class="lineno"> 4905</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04906"></a><span class="lineno"> 4906</span>&#160;    <span class="keywordflow">case</span> AMDGPU::AV_160RegClassID:</div>
<div class="line"><a name="l04907"></a><span class="lineno"> 4907</span>&#160;      RCID = AMDGPU::VReg_160RegClassID;</div>
<div class="line"><a name="l04908"></a><span class="lineno"> 4908</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04909"></a><span class="lineno"> 4909</span>&#160;    <span class="keywordflow">case</span> AMDGPU::AV_512RegClassID:</div>
<div class="line"><a name="l04910"></a><span class="lineno"> 4910</span>&#160;      RCID = AMDGPU::VReg_512RegClassID;</div>
<div class="line"><a name="l04911"></a><span class="lineno"> 4911</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04912"></a><span class="lineno"> 4912</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l04913"></a><span class="lineno"> 4913</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04914"></a><span class="lineno"> 4914</span>&#160;    }</div>
<div class="line"><a name="l04915"></a><span class="lineno"> 4915</span>&#160;  }</div>
<div class="line"><a name="l04916"></a><span class="lineno"> 4916</span>&#160; </div>
<div class="line"><a name="l04917"></a><span class="lineno"> 4917</span>&#160;  <span class="keywordflow">return</span> RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#a2a24e95ba5416c84845c50bbf4c2ee4d">getProperlyAlignedRC</a>(RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#a0e2008041a23dfc43ff1e90b014a2936">getRegClass</a>(RCID));</div>
<div class="line"><a name="l04918"></a><span class="lineno"> 4918</span>&#160;}</div>
<div class="line"><a name="l04919"></a><span class="lineno"> 4919</span>&#160; </div>
<div class="line"><a name="l04920"></a><span class="lineno"><a class="line" href="classllvm_1_1SIInstrInfo.html#ac18c5827c119a73ea6f07b4ef4649654"> 4920</a></span>&#160;<span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *<a class="code" href="classllvm_1_1SIInstrInfo.html#ac18c5827c119a73ea6f07b4ef4649654">SIInstrInfo::getRegClass</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MCInstrDesc.html">MCInstrDesc</a> &amp;TID,</div>
<div class="line"><a name="l04921"></a><span class="lineno"> 4921</span>&#160;    <span class="keywordtype">unsigned</span> OpNum, <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterInfo.html">TargetRegisterInfo</a> *<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>,</div>
<div class="line"><a name="l04922"></a><span class="lineno"> 4922</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF)<span class="keyword"></span></div>
<div class="line"><a name="l04923"></a><span class="lineno"> 4923</span>&#160;<span class="keyword">  const </span>{</div>
<div class="line"><a name="l04924"></a><span class="lineno"> 4924</span>&#160;  <span class="keywordflow">if</span> (OpNum &gt;= TID.<a class="code" href="classllvm_1_1MCInstrDesc.html#a0ca904e64ee29c8812ed34e632d3c947">getNumOperands</a>())</div>
<div class="line"><a name="l04925"></a><span class="lineno"> 4925</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l04926"></a><span class="lineno"> 4926</span>&#160;  <span class="keyword">auto</span> RegClass = TID.<a class="code" href="classllvm_1_1MCInstrDesc.html#a9491e6e3afc420c33cf508189bb12c3b">operands</a>()[OpNum].RegClass;</div>
<div class="line"><a name="l04927"></a><span class="lineno"> 4927</span>&#160;  <span class="keywordtype">bool</span> IsAllocatable = <span class="keyword">false</span>;</div>
<div class="line"><a name="l04928"></a><span class="lineno"> 4928</span>&#160;  <span class="keywordflow">if</span> (TID.<a class="code" href="classllvm_1_1MCInstrDesc.html#a46e0fcca2366f30d5e35b3d7dcb9c65f">TSFlags</a> &amp; (<a class="code" href="namespacellvm_1_1SIInstrFlags.html#ac8376ab01e1f2eb75e242eb464d3992da953a5ba3766c4aea8d9b8eeeba722679">SIInstrFlags::DS</a> | <a class="code" href="namespacellvm_1_1SIInstrFlags.html#ac8376ab01e1f2eb75e242eb464d3992dab0e8527c8c81d2caa91d9b2bd1852574">SIInstrFlags::FLAT</a>)) {</div>
<div class="line"><a name="l04929"></a><span class="lineno"> 4929</span>&#160;    <span class="comment">// vdst and vdata should be both VGPR or AGPR, same for the DS instructions</span></div>
<div class="line"><a name="l04930"></a><span class="lineno"> 4930</span>&#160;    <span class="comment">// with two data operands. Request register class constrained to VGPR only</span></div>
<div class="line"><a name="l04931"></a><span class="lineno"> 4931</span>&#160;    <span class="comment">// of both operands present as Machine Copy Propagation can not check this</span></div>
<div class="line"><a name="l04932"></a><span class="lineno"> 4932</span>&#160;    <span class="comment">// constraint and possibly other passes too.</span></div>
<div class="line"><a name="l04933"></a><span class="lineno"> 4933</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l04934"></a><span class="lineno"> 4934</span>&#160;    <span class="comment">// The check is limited to FLAT and DS because atomics in non-flat encoding</span></div>
<div class="line"><a name="l04935"></a><span class="lineno"> 4935</span>&#160;    <span class="comment">// have their vdst and vdata tied to be the same register.</span></div>
<div class="line"><a name="l04936"></a><span class="lineno"> 4936</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> VDstIdx = <a class="code" href="namespacellvm_1_1AMDGPU.html#a27efe1286cc31f5fc95355af30b0356c">AMDGPU::getNamedOperandIdx</a>(TID.<a class="code" href="classllvm_1_1MCInstrDesc.html#adcb5f001406dc2b45024dd582c444e6d">Opcode</a>,</div>
<div class="line"><a name="l04937"></a><span class="lineno"> 4937</span>&#160;                                                   AMDGPU::OpName::vdst);</div>
<div class="line"><a name="l04938"></a><span class="lineno"> 4938</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> DataIdx = <a class="code" href="namespacellvm_1_1AMDGPU.html#a27efe1286cc31f5fc95355af30b0356c">AMDGPU::getNamedOperandIdx</a>(TID.<a class="code" href="classllvm_1_1MCInstrDesc.html#adcb5f001406dc2b45024dd582c444e6d">Opcode</a>,</div>
<div class="line"><a name="l04939"></a><span class="lineno"> 4939</span>&#160;        (TID.<a class="code" href="classllvm_1_1MCInstrDesc.html#a46e0fcca2366f30d5e35b3d7dcb9c65f">TSFlags</a> &amp; <a class="code" href="namespacellvm_1_1SIInstrFlags.html#ac8376ab01e1f2eb75e242eb464d3992da953a5ba3766c4aea8d9b8eeeba722679">SIInstrFlags::DS</a>) ? AMDGPU::OpName::data0</div>
<div class="line"><a name="l04940"></a><span class="lineno"> 4940</span>&#160;                                         : AMDGPU::OpName::vdata);</div>
<div class="line"><a name="l04941"></a><span class="lineno"> 4941</span>&#160;    <span class="keywordflow">if</span> (DataIdx != -1) {</div>
<div class="line"><a name="l04942"></a><span class="lineno"> 4942</span>&#160;      IsAllocatable = VDstIdx != -1 || <a class="code" href="namespacellvm_1_1AMDGPU.html#a8f27aa11689bf9b12f6fb0e436e367c7">AMDGPU::hasNamedOperand</a>(</div>
<div class="line"><a name="l04943"></a><span class="lineno"> 4943</span>&#160;                                           TID.<a class="code" href="classllvm_1_1MCInstrDesc.html#adcb5f001406dc2b45024dd582c444e6d">Opcode</a>, AMDGPU::OpName::data1);</div>
<div class="line"><a name="l04944"></a><span class="lineno"> 4944</span>&#160;    }</div>
<div class="line"><a name="l04945"></a><span class="lineno"> 4945</span>&#160;  }</div>
<div class="line"><a name="l04946"></a><span class="lineno"> 4946</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="SIInstrInfo_8cpp.html#a570cee6dbf51f5e1760c1e20a7b16b38">adjustAllocatableRegClass</a>(ST, RI, MF.<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>(), TID, RegClass,</div>
<div class="line"><a name="l04947"></a><span class="lineno"> 4947</span>&#160;                                   IsAllocatable);</div>
<div class="line"><a name="l04948"></a><span class="lineno"> 4948</span>&#160;}</div>
<div class="line"><a name="l04949"></a><span class="lineno"> 4949</span>&#160; </div>
<div class="line"><a name="l04950"></a><span class="lineno"><a class="line" href="classllvm_1_1SIInstrInfo.html#a7d38ae4f1dfa5ec71b0f78fab996425b"> 4950</a></span>&#160;<span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *<a class="code" href="classllvm_1_1SIInstrInfo.html#a7d38ae4f1dfa5ec71b0f78fab996425b">SIInstrInfo::getOpRegClass</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>,</div>
<div class="line"><a name="l04951"></a><span class="lineno"> 4951</span>&#160;                                                      <span class="keywordtype">unsigned</span> OpNo)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l04952"></a><span class="lineno"> 4952</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a> = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getParent()-&gt;getParent()-&gt;getRegInfo();</div>
<div class="line"><a name="l04953"></a><span class="lineno"> 4953</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCInstrDesc.html">MCInstrDesc</a> &amp;Desc = <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode());</div>
<div class="line"><a name="l04954"></a><span class="lineno"> 4954</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.isVariadic() || OpNo &gt;= Desc.<a class="code" href="classllvm_1_1MCInstrDesc.html#a0ca904e64ee29c8812ed34e632d3c947">getNumOperands</a>() ||</div>
<div class="line"><a name="l04955"></a><span class="lineno"> 4955</span>&#160;      Desc.<a class="code" href="classllvm_1_1MCInstrDesc.html#a9491e6e3afc420c33cf508189bb12c3b">operands</a>()[OpNo].RegClass == -1) {</div>
<div class="line"><a name="l04956"></a><span class="lineno"> 4956</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a> = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(OpNo).getReg();</div>
<div class="line"><a name="l04957"></a><span class="lineno"> 4957</span>&#160; </div>
<div class="line"><a name="l04958"></a><span class="lineno"> 4958</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>.isVirtual())</div>
<div class="line"><a name="l04959"></a><span class="lineno"> 4959</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#aa363afffca4fc13a709673936b47fe33">getRegClass</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>);</div>
<div class="line"><a name="l04960"></a><span class="lineno"> 4960</span>&#160;    <span class="keywordflow">return</span> RI.getPhysRegBaseClass(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>);</div>
<div class="line"><a name="l04961"></a><span class="lineno"> 4961</span>&#160;  }</div>
<div class="line"><a name="l04962"></a><span class="lineno"> 4962</span>&#160; </div>
<div class="line"><a name="l04963"></a><span class="lineno"> 4963</span>&#160;  <span class="keywordtype">unsigned</span> RCID = Desc.<a class="code" href="classllvm_1_1MCInstrDesc.html#a9491e6e3afc420c33cf508189bb12c3b">operands</a>()[OpNo].RegClass;</div>
<div class="line"><a name="l04964"></a><span class="lineno"> 4964</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="SIInstrInfo_8cpp.html#a570cee6dbf51f5e1760c1e20a7b16b38">adjustAllocatableRegClass</a>(ST, RI, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, Desc, RCID, <span class="keyword">true</span>);</div>
<div class="line"><a name="l04965"></a><span class="lineno"> 4965</span>&#160;}</div>
<div class="line"><a name="l04966"></a><span class="lineno"> 4966</span>&#160; </div>
<div class="line"><a name="l04967"></a><span class="lineno"><a class="line" href="classllvm_1_1SIInstrInfo.html#a4cb529d6108d5dfdf8479ac3b03c9812"> 4967</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1SIInstrInfo.html#a4cb529d6108d5dfdf8479ac3b03c9812">SIInstrInfo::legalizeOpWithMove</a>(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <span class="keywordtype">unsigned</span> OpIdx)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l04968"></a><span class="lineno"> 4968</span>&#160;  <a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>;</div>
<div class="line"><a name="l04969"></a><span class="lineno"> 4969</span>&#160;  <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a> = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getParent();</div>
<div class="line"><a name="l04970"></a><span class="lineno"> 4970</span>&#160;  <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;MO = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(OpIdx);</div>
<div class="line"><a name="l04971"></a><span class="lineno"> 4971</span>&#160;  <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a> = <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#a4e21760f681d6f97f95c8414e7b83ea5">getParent</a>()-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>();</div>
<div class="line"><a name="l04972"></a><span class="lineno"> 4972</span>&#160;  <span class="keywordtype">unsigned</span> RCID = <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode()).operands()[OpIdx].RegClass;</div>
<div class="line"><a name="l04973"></a><span class="lineno"> 4973</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *RC = RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#a0e2008041a23dfc43ff1e90b014a2936">getRegClass</a>(RCID);</div>
<div class="line"><a name="l04974"></a><span class="lineno"> 4974</span>&#160;  <span class="keywordtype">unsigned</span> Size = RI.getRegSizeInBits(*RC);</div>
<div class="line"><a name="l04975"></a><span class="lineno"> 4975</span>&#160;  <span class="keywordtype">unsigned</span> Opcode = (Size == 64) ? AMDGPU::V_MOV_B64_PSEUDO : AMDGPU::V_MOV_B32_e32;</div>
<div class="line"><a name="l04976"></a><span class="lineno"> 4976</span>&#160;  <span class="keywordflow">if</span> (MO.<a class="code" href="classllvm_1_1MachineOperand.html#a4c9594c955fec80c73ddd964b5efd554">isReg</a>())</div>
<div class="line"><a name="l04977"></a><span class="lineno"> 4977</span>&#160;    Opcode = AMDGPU::COPY;</div>
<div class="line"><a name="l04978"></a><span class="lineno"> 4978</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#af58d646af8dd60e4e514303dfa81de9c">isSGPRClass</a>(RC))</div>
<div class="line"><a name="l04979"></a><span class="lineno"> 4979</span>&#160;    Opcode = (Size == 64) ? AMDGPU::S_MOV_B64 : AMDGPU::S_MOV_B32;</div>
<div class="line"><a name="l04980"></a><span class="lineno"> 4980</span>&#160; </div>
<div class="line"><a name="l04981"></a><span class="lineno"> 4981</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *VRC = RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#a2fcc4d3294381da29adb855c5f56c0d5">getEquivalentVGPRClass</a>(RC);</div>
<div class="line"><a name="l04982"></a><span class="lineno"> 4982</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *VRC64 = RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#aed9393956ff6935e29af9881de204f1f">getVGPR64Class</a>();</div>
<div class="line"><a name="l04983"></a><span class="lineno"> 4983</span>&#160;  <span class="keywordflow">if</span> (RI.getCommonSubClass(VRC64, VRC))</div>
<div class="line"><a name="l04984"></a><span class="lineno"> 4984</span>&#160;    VRC = VRC64;</div>
<div class="line"><a name="l04985"></a><span class="lineno"> 4985</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l04986"></a><span class="lineno"> 4986</span>&#160;    VRC = &amp;AMDGPU::VGPR_32RegClass;</div>
<div class="line"><a name="l04987"></a><span class="lineno"> 4987</span>&#160; </div>
<div class="line"><a name="l04988"></a><span class="lineno"> 4988</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a> = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5c77792a06583e0fe7a0379ad94a2809">createVirtualRegister</a>(VRC);</div>
<div class="line"><a name="l04989"></a><span class="lineno"> 4989</span>&#160;  <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a> = <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#ab622d694b5fcb0edb99159f1ebdcdb6b">findDebugLoc</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l04990"></a><span class="lineno"> 4990</span>&#160;  <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(*<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getParent(), <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(Opcode), <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a1ac8d27532cfd1d1f032ecbff2ba3611">add</a>(MO);</div>
<div class="line"><a name="l04991"></a><span class="lineno"> 4991</span>&#160;  MO.<a class="code" href="classllvm_1_1MachineOperand.html#a9404d5d9e4be534bb544777aae216691">ChangeToRegister</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, <span class="keyword">false</span>);</div>
<div class="line"><a name="l04992"></a><span class="lineno"> 4992</span>&#160;}</div>
<div class="line"><a name="l04993"></a><span class="lineno"> 4993</span>&#160; </div>
<div class="line"><a name="l04994"></a><span class="lineno"><a class="line" href="classllvm_1_1SIInstrInfo.html#a3fb468e3875bfa4c3c69d57a6eebbe17"> 4994</a></span>&#160;<span class="keywordtype">unsigned</span> <a class="code" href="classllvm_1_1SIInstrInfo.html#a3fb468e3875bfa4c3c69d57a6eebbe17">SIInstrInfo::buildExtractSubReg</a>(<a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::iterator</a> <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>,</div>
<div class="line"><a name="l04995"></a><span class="lineno"> 4995</span>&#160;                                         <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>,</div>
<div class="line"><a name="l04996"></a><span class="lineno"> 4996</span>&#160;                                         <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;SuperReg,</div>
<div class="line"><a name="l04997"></a><span class="lineno"> 4997</span>&#160;                                         <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *SuperRC,</div>
<div class="line"><a name="l04998"></a><span class="lineno"> 4998</span>&#160;                                         <span class="keywordtype">unsigned</span> SubIdx,</div>
<div class="line"><a name="l04999"></a><span class="lineno"> 4999</span>&#160;                                         <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *SubRC)<span class="keyword"></span></div>
<div class="line"><a name="l05000"></a><span class="lineno"> 5000</span>&#160;<span class="keyword">                                         const </span>{</div>
<div class="line"><a name="l05001"></a><span class="lineno"> 5001</span>&#160;  <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a> = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getParent();</div>
<div class="line"><a name="l05002"></a><span class="lineno"> 5002</span>&#160;  <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a> = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getDebugLoc();</div>
<div class="line"><a name="l05003"></a><span class="lineno"> 5003</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a92a6b0a9b7228d190b0a7d8ae3ef03c7">SubReg</a> = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5c77792a06583e0fe7a0379ad94a2809">createVirtualRegister</a>(SubRC);</div>
<div class="line"><a name="l05004"></a><span class="lineno"> 5004</span>&#160; </div>
<div class="line"><a name="l05005"></a><span class="lineno"> 5005</span>&#160;  <span class="keywordflow">if</span> (SuperReg.<a class="code" href="classllvm_1_1MachineOperand.html#a028a8c5113d40d8c3f4427053bf36738">getSubReg</a>() == AMDGPU::NoSubRegister) {</div>
<div class="line"><a name="l05006"></a><span class="lineno"> 5006</span>&#160;    <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(*<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(TargetOpcode::COPY), <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a92a6b0a9b7228d190b0a7d8ae3ef03c7">SubReg</a>)</div>
<div class="line"><a name="l05007"></a><span class="lineno"> 5007</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(SuperReg.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>(), 0, SubIdx);</div>
<div class="line"><a name="l05008"></a><span class="lineno"> 5008</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a92a6b0a9b7228d190b0a7d8ae3ef03c7">SubReg</a>;</div>
<div class="line"><a name="l05009"></a><span class="lineno"> 5009</span>&#160;  }</div>
<div class="line"><a name="l05010"></a><span class="lineno"> 5010</span>&#160; </div>
<div class="line"><a name="l05011"></a><span class="lineno"> 5011</span>&#160;  <span class="comment">// Just in case the super register is itself a sub-register, copy it to a new</span></div>
<div class="line"><a name="l05012"></a><span class="lineno"> 5012</span>&#160;  <span class="comment">// value so we don&#39;t need to worry about merging its subreg index with the</span></div>
<div class="line"><a name="l05013"></a><span class="lineno"> 5013</span>&#160;  <span class="comment">// SubIdx passed to this function. The register coalescer should be able to</span></div>
<div class="line"><a name="l05014"></a><span class="lineno"> 5014</span>&#160;  <span class="comment">// eliminate this extra copy.</span></div>
<div class="line"><a name="l05015"></a><span class="lineno"> 5015</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> NewSuperReg = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5c77792a06583e0fe7a0379ad94a2809">createVirtualRegister</a>(SuperRC);</div>
<div class="line"><a name="l05016"></a><span class="lineno"> 5016</span>&#160; </div>
<div class="line"><a name="l05017"></a><span class="lineno"> 5017</span>&#160;  <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(*<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(TargetOpcode::COPY), NewSuperReg)</div>
<div class="line"><a name="l05018"></a><span class="lineno"> 5018</span>&#160;    .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(SuperReg.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>(), 0, SuperReg.<a class="code" href="classllvm_1_1MachineOperand.html#a028a8c5113d40d8c3f4427053bf36738">getSubReg</a>());</div>
<div class="line"><a name="l05019"></a><span class="lineno"> 5019</span>&#160; </div>
<div class="line"><a name="l05020"></a><span class="lineno"> 5020</span>&#160;  <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(*<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(TargetOpcode::COPY), <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a92a6b0a9b7228d190b0a7d8ae3ef03c7">SubReg</a>)</div>
<div class="line"><a name="l05021"></a><span class="lineno"> 5021</span>&#160;    .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(NewSuperReg, 0, SubIdx);</div>
<div class="line"><a name="l05022"></a><span class="lineno"> 5022</span>&#160; </div>
<div class="line"><a name="l05023"></a><span class="lineno"> 5023</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a92a6b0a9b7228d190b0a7d8ae3ef03c7">SubReg</a>;</div>
<div class="line"><a name="l05024"></a><span class="lineno"> 5024</span>&#160;}</div>
<div class="line"><a name="l05025"></a><span class="lineno"> 5025</span>&#160; </div>
<div class="line"><a name="l05026"></a><span class="lineno"><a class="line" href="classllvm_1_1SIInstrInfo.html#ac00c84cfc6dac484e038a2d4258933ef"> 5026</a></span>&#160;<a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> <a class="code" href="classllvm_1_1SIInstrInfo.html#ac00c84cfc6dac484e038a2d4258933ef">SIInstrInfo::buildExtractSubRegOrImm</a>(</div>
<div class="line"><a name="l05027"></a><span class="lineno"> 5027</span>&#160;  <a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::iterator</a> MII,</div>
<div class="line"><a name="l05028"></a><span class="lineno"> 5028</span>&#160;  <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>,</div>
<div class="line"><a name="l05029"></a><span class="lineno"> 5029</span>&#160;  <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>,</div>
<div class="line"><a name="l05030"></a><span class="lineno"> 5030</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *SuperRC,</div>
<div class="line"><a name="l05031"></a><span class="lineno"> 5031</span>&#160;  <span class="keywordtype">unsigned</span> SubIdx,</div>
<div class="line"><a name="l05032"></a><span class="lineno"> 5032</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *SubRC)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l05033"></a><span class="lineno"> 5033</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.isImm()) {</div>
<div class="line"><a name="l05034"></a><span class="lineno"> 5034</span>&#160;    <span class="keywordflow">if</span> (SubIdx == AMDGPU::sub0)</div>
<div class="line"><a name="l05035"></a><span class="lineno"> 5035</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1MachineOperand.html#ab09679b541a6ba1219b3602569847364">MachineOperand::CreateImm</a>(<span class="keyword">static_cast&lt;</span>int32_t<span class="keyword">&gt;</span>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getImm()));</div>
<div class="line"><a name="l05036"></a><span class="lineno"> 5036</span>&#160;    <span class="keywordflow">if</span> (SubIdx == AMDGPU::sub1)</div>
<div class="line"><a name="l05037"></a><span class="lineno"> 5037</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1MachineOperand.html#ab09679b541a6ba1219b3602569847364">MachineOperand::CreateImm</a>(<span class="keyword">static_cast&lt;</span>int32_t<span class="keyword">&gt;</span>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getImm() &gt;&gt; 32));</div>
<div class="line"><a name="l05038"></a><span class="lineno"> 5038</span>&#160; </div>
<div class="line"><a name="l05039"></a><span class="lineno"> 5039</span>&#160;    <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unhandled register index for immediate&quot;</span>);</div>
<div class="line"><a name="l05040"></a><span class="lineno"> 5040</span>&#160;  }</div>
<div class="line"><a name="l05041"></a><span class="lineno"> 5041</span>&#160; </div>
<div class="line"><a name="l05042"></a><span class="lineno"> 5042</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a92a6b0a9b7228d190b0a7d8ae3ef03c7">SubReg</a> = <a class="code" href="classllvm_1_1SIInstrInfo.html#a3fb468e3875bfa4c3c69d57a6eebbe17">buildExtractSubReg</a>(MII, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, SuperRC,</div>
<div class="line"><a name="l05043"></a><span class="lineno"> 5043</span>&#160;                                       SubIdx, SubRC);</div>
<div class="line"><a name="l05044"></a><span class="lineno"> 5044</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1MachineOperand.html#af2c351dad09a71aa08e1d85c67ae6e53">MachineOperand::CreateReg</a>(<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a92a6b0a9b7228d190b0a7d8ae3ef03c7">SubReg</a>, <span class="keyword">false</span>);</div>
<div class="line"><a name="l05045"></a><span class="lineno"> 5045</span>&#160;}</div>
<div class="line"><a name="l05046"></a><span class="lineno"> 5046</span>&#160; </div>
<div class="line"><a name="l05047"></a><span class="lineno"> 5047</span>&#160;<span class="comment">// Change the order of operands from (0, 1, 2) to (0, 2, 1)</span></div>
<div class="line"><a name="l05048"></a><span class="lineno"> 5048</span>&#160;<span class="keywordtype">void</span> SIInstrInfo::swapOperands(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;Inst)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l05049"></a><span class="lineno"> 5049</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Inst.<a class="code" href="classllvm_1_1MachineInstr.html#a56b7fed94faeb5bc67ee2b71608d2665">getNumExplicitOperands</a>() == 3);</div>
<div class="line"><a name="l05050"></a><span class="lineno"> 5050</span>&#160;  <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> Op1 = Inst.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(1);</div>
<div class="line"><a name="l05051"></a><span class="lineno"> 5051</span>&#160;  Inst.<a class="code" href="classllvm_1_1MachineInstr.html#ac3b161ec90385105cb46a08b52139e60">removeOperand</a>(1);</div>
<div class="line"><a name="l05052"></a><span class="lineno"> 5052</span>&#160;  Inst.<a class="code" href="classllvm_1_1MachineInstr.html#a469e271fba3a9b52dad4fa54eaf44e2b">addOperand</a>(Op1);</div>
<div class="line"><a name="l05053"></a><span class="lineno"> 5053</span>&#160;}</div>
<div class="line"><a name="l05054"></a><span class="lineno"> 5054</span>&#160; </div>
<div class="line"><a name="l05055"></a><span class="lineno"><a class="line" href="classllvm_1_1SIInstrInfo.html#abecccbf97c3a9d0be384e6c639fcf2dc"> 5055</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1SIInstrInfo.html#abecccbf97c3a9d0be384e6c639fcf2dc">SIInstrInfo::isLegalRegOperand</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>,</div>
<div class="line"><a name="l05056"></a><span class="lineno"> 5056</span>&#160;                                    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCOperandInfo.html">MCOperandInfo</a> &amp;OpInfo,</div>
<div class="line"><a name="l05057"></a><span class="lineno"> 5057</span>&#160;                                    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;MO)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l05058"></a><span class="lineno"> 5058</span>&#160;  <span class="keywordflow">if</span> (!MO.<a class="code" href="classllvm_1_1MachineOperand.html#a4c9594c955fec80c73ddd964b5efd554">isReg</a>())</div>
<div class="line"><a name="l05059"></a><span class="lineno"> 5059</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05060"></a><span class="lineno"> 5060</span>&#160; </div>
<div class="line"><a name="l05061"></a><span class="lineno"> 5061</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a> = MO.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>();</div>
<div class="line"><a name="l05062"></a><span class="lineno"> 5062</span>&#160; </div>
<div class="line"><a name="l05063"></a><span class="lineno"> 5063</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *DRC = RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#a0e2008041a23dfc43ff1e90b014a2936">getRegClass</a>(OpInfo.<a class="code" href="classllvm_1_1MCOperandInfo.html#ad3abf78805559fecd7642d0c57032c56">RegClass</a>);</div>
<div class="line"><a name="l05064"></a><span class="lineno"> 5064</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>.isPhysical())</div>
<div class="line"><a name="l05065"></a><span class="lineno"> 5065</span>&#160;    <span class="keywordflow">return</span> DRC-&gt;<a class="code" href="classllvm_1_1TargetRegisterClass.html#a60b6974966381f08079722f2258a0039">contains</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>);</div>
<div class="line"><a name="l05066"></a><span class="lineno"> 5066</span>&#160; </div>
<div class="line"><a name="l05067"></a><span class="lineno"> 5067</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *RC = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#aa363afffca4fc13a709673936b47fe33">getRegClass</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>);</div>
<div class="line"><a name="l05068"></a><span class="lineno"> 5068</span>&#160; </div>
<div class="line"><a name="l05069"></a><span class="lineno"> 5069</span>&#160;  <span class="keywordflow">if</span> (MO.<a class="code" href="classllvm_1_1MachineOperand.html#a028a8c5113d40d8c3f4427053bf36738">getSubReg</a>()) {</div>
<div class="line"><a name="l05070"></a><span class="lineno"> 5070</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> *MF = MO.<a class="code" href="classllvm_1_1MachineOperand.html#acad8fe90886f92eabced0c2f9bd0e6f5">getParent</a>()-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a002fd916e7206e01d512eeb06d405cf0">getParent</a>()-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#a4e21760f681d6f97f95c8414e7b83ea5">getParent</a>();</div>
<div class="line"><a name="l05071"></a><span class="lineno"> 5071</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *SuperRC = RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#a51be90716cd9b3020e0ca8a4bce547c0">getLargestLegalSuperClass</a>(RC, *MF);</div>
<div class="line"><a name="l05072"></a><span class="lineno"> 5072</span>&#160;    <span class="keywordflow">if</span> (!SuperRC)</div>
<div class="line"><a name="l05073"></a><span class="lineno"> 5073</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05074"></a><span class="lineno"> 5074</span>&#160; </div>
<div class="line"><a name="l05075"></a><span class="lineno"> 5075</span>&#160;    DRC = RI.getMatchingSuperRegClass(SuperRC, DRC, MO.<a class="code" href="classllvm_1_1MachineOperand.html#a028a8c5113d40d8c3f4427053bf36738">getSubReg</a>());</div>
<div class="line"><a name="l05076"></a><span class="lineno"> 5076</span>&#160;    <span class="keywordflow">if</span> (!DRC)</div>
<div class="line"><a name="l05077"></a><span class="lineno"> 5077</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05078"></a><span class="lineno"> 5078</span>&#160;  }</div>
<div class="line"><a name="l05079"></a><span class="lineno"> 5079</span>&#160;  <span class="keywordflow">return</span> RC-&gt;<a class="code" href="classllvm_1_1TargetRegisterClass.html#abee1c3236731101b249f6eeffd8cd7ba">hasSuperClassEq</a>(DRC);</div>
<div class="line"><a name="l05080"></a><span class="lineno"> 5080</span>&#160;}</div>
<div class="line"><a name="l05081"></a><span class="lineno"> 5081</span>&#160; </div>
<div class="line"><a name="l05082"></a><span class="lineno"><a class="line" href="classllvm_1_1SIInstrInfo.html#a3d9b286b0c8c32ae52faedcc2a6130a7"> 5082</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1SIInstrInfo.html#a3d9b286b0c8c32ae52faedcc2a6130a7">SIInstrInfo::isLegalVSrcOperand</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>,</div>
<div class="line"><a name="l05083"></a><span class="lineno"> 5083</span>&#160;                                     <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCOperandInfo.html">MCOperandInfo</a> &amp;OpInfo,</div>
<div class="line"><a name="l05084"></a><span class="lineno"> 5084</span>&#160;                                     <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;MO)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l05085"></a><span class="lineno"> 5085</span>&#160;  <span class="keywordflow">if</span> (MO.<a class="code" href="classllvm_1_1MachineOperand.html#a4c9594c955fec80c73ddd964b5efd554">isReg</a>())</div>
<div class="line"><a name="l05086"></a><span class="lineno"> 5086</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SIInstrInfo.html#abecccbf97c3a9d0be384e6c639fcf2dc">isLegalRegOperand</a>(<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, OpInfo, MO);</div>
<div class="line"><a name="l05087"></a><span class="lineno"> 5087</span>&#160; </div>
<div class="line"><a name="l05088"></a><span class="lineno"> 5088</span>&#160;  <span class="comment">// Handle non-register types that are treated like immediates.</span></div>
<div class="line"><a name="l05089"></a><span class="lineno"> 5089</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(MO.<a class="code" href="classllvm_1_1MachineOperand.html#a76f61c6784df6dc8402a8b9011041926">isImm</a>() || MO.<a class="code" href="classllvm_1_1MachineOperand.html#ac0890848fb02b90b1f7956063bc61cb3">isTargetIndex</a>() || MO.<a class="code" href="classllvm_1_1MachineOperand.html#ad7213433bd60dc33020246384dc18b9b">isFI</a>() || MO.<a class="code" href="classllvm_1_1MachineOperand.html#ab0d1155c8c38e84cbe387998fd2e517e">isGlobal</a>());</div>
<div class="line"><a name="l05090"></a><span class="lineno"> 5090</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l05091"></a><span class="lineno"> 5091</span>&#160;}</div>
<div class="line"><a name="l05092"></a><span class="lineno"> 5092</span>&#160; </div>
<div class="line"><a name="l05093"></a><span class="lineno"><a class="line" href="classllvm_1_1SIInstrInfo.html#af7ee4c22ed353efa8afd9ea35e4af06f"> 5093</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1SIInstrInfo.html#af7ee4c22ed353efa8afd9ea35e4af06f">SIInstrInfo::isOperandLegal</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <span class="keywordtype">unsigned</span> OpIdx,</div>
<div class="line"><a name="l05094"></a><span class="lineno"> 5094</span>&#160;                                 <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> *MO)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l05095"></a><span class="lineno"> 5095</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF = *<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getParent()-&gt;getParent();</div>
<div class="line"><a name="l05096"></a><span class="lineno"> 5096</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a> = MF.<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>();</div>
<div class="line"><a name="l05097"></a><span class="lineno"> 5097</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCInstrDesc.html">MCInstrDesc</a> &amp;InstDesc = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getDesc();</div>
<div class="line"><a name="l05098"></a><span class="lineno"> 5098</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCOperandInfo.html">MCOperandInfo</a> &amp;OpInfo = InstDesc.<a class="code" href="classllvm_1_1MCInstrDesc.html#a9491e6e3afc420c33cf508189bb12c3b">operands</a>()[OpIdx];</div>
<div class="line"><a name="l05099"></a><span class="lineno"> 5099</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *DefinedRC =</div>
<div class="line"><a name="l05100"></a><span class="lineno"> 5100</span>&#160;      OpInfo.<a class="code" href="classllvm_1_1MCOperandInfo.html#ad3abf78805559fecd7642d0c57032c56">RegClass</a> != -1 ? RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#a0e2008041a23dfc43ff1e90b014a2936">getRegClass</a>(OpInfo.<a class="code" href="classllvm_1_1MCOperandInfo.html#ad3abf78805559fecd7642d0c57032c56">RegClass</a>) : <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l05101"></a><span class="lineno"> 5101</span>&#160;  <span class="keywordflow">if</span> (!MO)</div>
<div class="line"><a name="l05102"></a><span class="lineno"> 5102</span>&#160;    MO = &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(OpIdx);</div>
<div class="line"><a name="l05103"></a><span class="lineno"> 5103</span>&#160; </div>
<div class="line"><a name="l05104"></a><span class="lineno"> 5104</span>&#160;  <span class="keywordtype">int</span> ConstantBusLimit = ST.<a class="code" href="classllvm_1_1GCNSubtarget.html#a33a600e1b2e066f85e6a2bb588a7f3f1">getConstantBusLimit</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode());</div>
<div class="line"><a name="l05105"></a><span class="lineno"> 5105</span>&#160;  <span class="keywordtype">int</span> LiteralLimit = !<a class="code" href="classllvm_1_1SIInstrInfo.html#a0aab14aaa9761a9af59b094090851ca3">isVOP3</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>) || ST.<a class="code" href="classllvm_1_1GCNSubtarget.html#acfa61def62c3f39edaec6b28782f1992">hasVOP3Literal</a>() ? 1 : 0;</div>
<div class="line"><a name="l05106"></a><span class="lineno"> 5106</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SIInstrInfo.html#ade8d533000b775c514d9ac189b66c3a5">isVALU</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>) &amp;&amp; <a class="code" href="classllvm_1_1SIInstrInfo.html#a1f6067626e3318b8569835d83acbd92e">usesConstantBus</a>(<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, *MO, OpInfo)) {</div>
<div class="line"><a name="l05107"></a><span class="lineno"> 5107</span>&#160;    <span class="keywordflow">if</span> (!MO-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#a4c9594c955fec80c73ddd964b5efd554">isReg</a>() &amp;&amp; !<a class="code" href="classllvm_1_1SIInstrInfo.html#a0480d6290cd95e40641f2af7a18fb764">isInlineConstant</a>(*MO, OpInfo) &amp;&amp; !LiteralLimit--)</div>
<div class="line"><a name="l05108"></a><span class="lineno"> 5108</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05109"></a><span class="lineno"> 5109</span>&#160; </div>
<div class="line"><a name="l05110"></a><span class="lineno"> 5110</span>&#160;    <a class="code" href="classllvm_1_1SmallDenseSet.html">SmallDenseSet&lt;RegSubRegPair&gt;</a> SGPRsUsed;</div>
<div class="line"><a name="l05111"></a><span class="lineno"> 5111</span>&#160;    <span class="keywordflow">if</span> (MO-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#a4c9594c955fec80c73ddd964b5efd554">isReg</a>())</div>
<div class="line"><a name="l05112"></a><span class="lineno"> 5112</span>&#160;      SGPRsUsed.<a class="code" href="classllvm_1_1detail_1_1DenseSetImpl.html#a79eed48913651aeedda2eed25201ea84">insert</a>(<a class="code" href="PeepholeOptimizer_8cpp.html#a16005492b382a6a76abae848b4af2b83">RegSubRegPair</a>(MO-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>(), MO-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#a028a8c5113d40d8c3f4427053bf36738">getSubReg</a>()));</div>
<div class="line"><a name="l05113"></a><span class="lineno"> 5113</span>&#160; </div>
<div class="line"><a name="l05114"></a><span class="lineno"> 5114</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a> = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getNumOperands(); <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l05115"></a><span class="lineno"> 5115</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> == OpIdx)</div>
<div class="line"><a name="l05116"></a><span class="lineno"> 5116</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l05117"></a><span class="lineno"> 5117</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l05118"></a><span class="lineno"> 5118</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.isReg()) {</div>
<div class="line"><a name="l05119"></a><span class="lineno"> 5119</span>&#160;        <a class="code" href="structllvm_1_1TargetInstrInfo_1_1RegSubRegPair.html">RegSubRegPair</a> SGPR(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getReg(), <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getSubReg());</div>
<div class="line"><a name="l05120"></a><span class="lineno"> 5120</span>&#160;        <span class="keywordflow">if</span> (!SGPRsUsed.<a class="code" href="classllvm_1_1detail_1_1DenseSetImpl.html#afe504aa31a6a354cec13f5b32d0b1d9d">count</a>(SGPR) &amp;&amp;</div>
<div class="line"><a name="l05121"></a><span class="lineno"> 5121</span>&#160;            <span class="comment">// FIXME: This can access off the end of the operands() array.</span></div>
<div class="line"><a name="l05122"></a><span class="lineno"> 5122</span>&#160;            <a class="code" href="classllvm_1_1SIInstrInfo.html#a1f6067626e3318b8569835d83acbd92e">usesConstantBus</a>(<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, InstDesc.<a class="code" href="classllvm_1_1MCInstrDesc.html#a9491e6e3afc420c33cf508189bb12c3b">operands</a>().begin()[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>])) {</div>
<div class="line"><a name="l05123"></a><span class="lineno"> 5123</span>&#160;          <span class="keywordflow">if</span> (--ConstantBusLimit &lt;= 0)</div>
<div class="line"><a name="l05124"></a><span class="lineno"> 5124</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05125"></a><span class="lineno"> 5125</span>&#160;          SGPRsUsed.<a class="code" href="classllvm_1_1detail_1_1DenseSetImpl.html#a79eed48913651aeedda2eed25201ea84">insert</a>(SGPR);</div>
<div class="line"><a name="l05126"></a><span class="lineno"> 5126</span>&#160;        }</div>
<div class="line"><a name="l05127"></a><span class="lineno"> 5127</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (InstDesc.<a class="code" href="classllvm_1_1MCInstrDesc.html#a9491e6e3afc420c33cf508189bb12c3b">operands</a>()[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>].OperandType == <a class="code" href="namespacellvm_1_1AMDGPU.html#ab7679ce5eab5937b9da9e7702aff8cc5a09dd1263fb2164c20f99f89f69e01a6e">AMDGPU::OPERAND_KIMM32</a> ||</div>
<div class="line"><a name="l05128"></a><span class="lineno"> 5128</span>&#160;                 (<a class="code" href="namespacellvm_1_1AMDGPU.html#a7fba5af4359eeeef753f1c286ea8d0d7">AMDGPU::isSISrcOperand</a>(InstDesc, <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) &amp;&amp;</div>
<div class="line"><a name="l05129"></a><span class="lineno"> 5129</span>&#160;                  !<a class="code" href="classllvm_1_1SIInstrInfo.html#a0480d6290cd95e40641f2af7a18fb764">isInlineConstant</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, InstDesc.<a class="code" href="classllvm_1_1MCInstrDesc.html#a9491e6e3afc420c33cf508189bb12c3b">operands</a>()[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>]))) {</div>
<div class="line"><a name="l05130"></a><span class="lineno"> 5130</span>&#160;        <span class="keywordflow">if</span> (!LiteralLimit--)</div>
<div class="line"><a name="l05131"></a><span class="lineno"> 5131</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05132"></a><span class="lineno"> 5132</span>&#160;        <span class="keywordflow">if</span> (--ConstantBusLimit &lt;= 0)</div>
<div class="line"><a name="l05133"></a><span class="lineno"> 5133</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05134"></a><span class="lineno"> 5134</span>&#160;      }</div>
<div class="line"><a name="l05135"></a><span class="lineno"> 5135</span>&#160;    }</div>
<div class="line"><a name="l05136"></a><span class="lineno"> 5136</span>&#160;  }</div>
<div class="line"><a name="l05137"></a><span class="lineno"> 5137</span>&#160; </div>
<div class="line"><a name="l05138"></a><span class="lineno"> 5138</span>&#160;  <span class="keywordflow">if</span> (MO-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#a4c9594c955fec80c73ddd964b5efd554">isReg</a>()) {</div>
<div class="line"><a name="l05139"></a><span class="lineno"> 5139</span>&#160;    <span class="keywordflow">if</span> (!DefinedRC)</div>
<div class="line"><a name="l05140"></a><span class="lineno"> 5140</span>&#160;      <span class="keywordflow">return</span> OpInfo.<a class="code" href="classllvm_1_1MCOperandInfo.html#a9173ff0e651bbc7ce633a7c4b83d9586">OperandType</a> == <a class="code" href="namespacellvm_1_1MCOI.html#ad9dfed338ec3d47f30c593ee49cbf96da83076f86f6450732bc883b8723492eb2">MCOI::OPERAND_UNKNOWN</a>;</div>
<div class="line"><a name="l05141"></a><span class="lineno"> 5141</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1SIInstrInfo.html#abecccbf97c3a9d0be384e6c639fcf2dc">isLegalRegOperand</a>(<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, OpInfo, *MO))</div>
<div class="line"><a name="l05142"></a><span class="lineno"> 5142</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05143"></a><span class="lineno"> 5143</span>&#160;    <span class="keywordtype">bool</span> IsAGPR = RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#acc61376f4183268183912910024e1f2c">isAGPR</a>(<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, MO-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>());</div>
<div class="line"><a name="l05144"></a><span class="lineno"> 5144</span>&#160;    <span class="keywordflow">if</span> (IsAGPR &amp;&amp; !ST.<a class="code" href="classllvm_1_1GCNSubtarget.html#a278004c824cd46c7504e68ec7c5f2d57">hasMAIInsts</a>())</div>
<div class="line"><a name="l05145"></a><span class="lineno"> 5145</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05146"></a><span class="lineno"> 5146</span>&#160;    <span class="keywordtype">unsigned</span> Opc = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode();</div>
<div class="line"><a name="l05147"></a><span class="lineno"> 5147</span>&#160;    <span class="keywordflow">if</span> (IsAGPR &amp;&amp;</div>
<div class="line"><a name="l05148"></a><span class="lineno"> 5148</span>&#160;        (!ST.<a class="code" href="classllvm_1_1GCNSubtarget.html#a1fc0ea9be83e3d4cb2aeb2d7b2363e73">hasGFX90AInsts</a>() || !<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5ecfe2828dd348fc0b23c8d1d73c4b75">reservedRegsFrozen</a>()) &amp;&amp;</div>
<div class="line"><a name="l05149"></a><span class="lineno"> 5149</span>&#160;        (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.mayLoad() || <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.mayStore() || <a class="code" href="classllvm_1_1SIInstrInfo.html#a08b60e6be6801b1f90d723990ef68009">isDS</a>(Opc) || <a class="code" href="classllvm_1_1SIInstrInfo.html#abdcf600002fd489c76924f2ec4f4fc0f">isMIMG</a>(Opc)))</div>
<div class="line"><a name="l05150"></a><span class="lineno"> 5150</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05151"></a><span class="lineno"> 5151</span>&#160;    <span class="comment">// Atomics should have both vdst and vdata either vgpr or agpr.</span></div>
<div class="line"><a name="l05152"></a><span class="lineno"> 5152</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> VDstIdx = <a class="code" href="namespacellvm_1_1AMDGPU.html#a27efe1286cc31f5fc95355af30b0356c">AMDGPU::getNamedOperandIdx</a>(Opc, AMDGPU::OpName::vdst);</div>
<div class="line"><a name="l05153"></a><span class="lineno"> 5153</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> DataIdx = <a class="code" href="namespacellvm_1_1AMDGPU.html#a27efe1286cc31f5fc95355af30b0356c">AMDGPU::getNamedOperandIdx</a>(Opc,</div>
<div class="line"><a name="l05154"></a><span class="lineno"> 5154</span>&#160;        <a class="code" href="classllvm_1_1SIInstrInfo.html#a08b60e6be6801b1f90d723990ef68009">isDS</a>(Opc) ? AMDGPU::OpName::data0 : AMDGPU::OpName::vdata);</div>
<div class="line"><a name="l05155"></a><span class="lineno"> 5155</span>&#160;    <span class="keywordflow">if</span> ((<span class="keywordtype">int</span>)OpIdx == VDstIdx &amp;&amp; DataIdx != -1 &amp;&amp;</div>
<div class="line"><a name="l05156"></a><span class="lineno"> 5156</span>&#160;        <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(DataIdx).isReg() &amp;&amp;</div>
<div class="line"><a name="l05157"></a><span class="lineno"> 5157</span>&#160;        RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#acc61376f4183268183912910024e1f2c">isAGPR</a>(<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(DataIdx).getReg()) != IsAGPR)</div>
<div class="line"><a name="l05158"></a><span class="lineno"> 5158</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05159"></a><span class="lineno"> 5159</span>&#160;    <span class="keywordflow">if</span> ((<span class="keywordtype">int</span>)OpIdx == DataIdx) {</div>
<div class="line"><a name="l05160"></a><span class="lineno"> 5160</span>&#160;      <span class="keywordflow">if</span> (VDstIdx != -1 &amp;&amp;</div>
<div class="line"><a name="l05161"></a><span class="lineno"> 5161</span>&#160;          RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#acc61376f4183268183912910024e1f2c">isAGPR</a>(<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(VDstIdx).getReg()) != IsAGPR)</div>
<div class="line"><a name="l05162"></a><span class="lineno"> 5162</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05163"></a><span class="lineno"> 5163</span>&#160;      <span class="comment">// DS instructions with 2 src operands also must have tied RC.</span></div>
<div class="line"><a name="l05164"></a><span class="lineno"> 5164</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">int</span> Data1Idx = <a class="code" href="namespacellvm_1_1AMDGPU.html#a27efe1286cc31f5fc95355af30b0356c">AMDGPU::getNamedOperandIdx</a>(Opc,</div>
<div class="line"><a name="l05165"></a><span class="lineno"> 5165</span>&#160;                                                      AMDGPU::OpName::data1);</div>
<div class="line"><a name="l05166"></a><span class="lineno"> 5166</span>&#160;      <span class="keywordflow">if</span> (Data1Idx != -1 &amp;&amp; <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(Data1Idx).isReg() &amp;&amp;</div>
<div class="line"><a name="l05167"></a><span class="lineno"> 5167</span>&#160;          RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#acc61376f4183268183912910024e1f2c">isAGPR</a>(<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(Data1Idx).getReg()) != IsAGPR)</div>
<div class="line"><a name="l05168"></a><span class="lineno"> 5168</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05169"></a><span class="lineno"> 5169</span>&#160;    }</div>
<div class="line"><a name="l05170"></a><span class="lineno"> 5170</span>&#160;    <span class="keywordflow">if</span> (Opc == AMDGPU::V_ACCVGPR_WRITE_B32_e64 &amp;&amp; !ST.<a class="code" href="classllvm_1_1GCNSubtarget.html#a1fc0ea9be83e3d4cb2aeb2d7b2363e73">hasGFX90AInsts</a>() &amp;&amp;</div>
<div class="line"><a name="l05171"></a><span class="lineno"> 5171</span>&#160;        (<span class="keywordtype">int</span>)OpIdx == <a class="code" href="namespacellvm_1_1AMDGPU.html#a27efe1286cc31f5fc95355af30b0356c">AMDGPU::getNamedOperandIdx</a>(Opc, AMDGPU::OpName::src0) &amp;&amp;</div>
<div class="line"><a name="l05172"></a><span class="lineno"> 5172</span>&#160;        RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#a980c731f7723b02b66010f4fce010c0f">isSGPRReg</a>(<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, MO-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>()))</div>
<div class="line"><a name="l05173"></a><span class="lineno"> 5173</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05174"></a><span class="lineno"> 5174</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l05175"></a><span class="lineno"> 5175</span>&#160;  }</div>
<div class="line"><a name="l05176"></a><span class="lineno"> 5176</span>&#160; </div>
<div class="line"><a name="l05177"></a><span class="lineno"> 5177</span>&#160;  <span class="comment">// Handle non-register types that are treated like immediates.</span></div>
<div class="line"><a name="l05178"></a><span class="lineno"> 5178</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(MO-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#a76f61c6784df6dc8402a8b9011041926">isImm</a>() || MO-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#ac0890848fb02b90b1f7956063bc61cb3">isTargetIndex</a>() || MO-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#ad7213433bd60dc33020246384dc18b9b">isFI</a>() || MO-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#ab0d1155c8c38e84cbe387998fd2e517e">isGlobal</a>());</div>
<div class="line"><a name="l05179"></a><span class="lineno"> 5179</span>&#160; </div>
<div class="line"><a name="l05180"></a><span class="lineno"> 5180</span>&#160;  <span class="keywordflow">if</span> (!DefinedRC) {</div>
<div class="line"><a name="l05181"></a><span class="lineno"> 5181</span>&#160;    <span class="comment">// This operand expects an immediate.</span></div>
<div class="line"><a name="l05182"></a><span class="lineno"> 5182</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l05183"></a><span class="lineno"> 5183</span>&#160;  }</div>
<div class="line"><a name="l05184"></a><span class="lineno"> 5184</span>&#160; </div>
<div class="line"><a name="l05185"></a><span class="lineno"> 5185</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SIInstrInfo.html#a835ce544e7ae111f1889501136ea6b3d">isImmOperandLegal</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, OpIdx, *MO);</div>
<div class="line"><a name="l05186"></a><span class="lineno"> 5186</span>&#160;}</div>
<div class="line"><a name="l05187"></a><span class="lineno"> 5187</span>&#160; </div>
<div class="line"><a name="l05188"></a><span class="lineno"><a class="line" href="classllvm_1_1SIInstrInfo.html#a76f877e67f5943b857f8976d4a289848"> 5188</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1SIInstrInfo.html#a76f877e67f5943b857f8976d4a289848">SIInstrInfo::legalizeOperandsVOP2</a>(<a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>,</div>
<div class="line"><a name="l05189"></a><span class="lineno"> 5189</span>&#160;                                       <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l05190"></a><span class="lineno"> 5190</span>&#160;  <span class="keywordtype">unsigned</span> Opc = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode();</div>
<div class="line"><a name="l05191"></a><span class="lineno"> 5191</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCInstrDesc.html">MCInstrDesc</a> &amp;InstrDesc = <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(Opc);</div>
<div class="line"><a name="l05192"></a><span class="lineno"> 5192</span>&#160; </div>
<div class="line"><a name="l05193"></a><span class="lineno"> 5193</span>&#160;  <span class="keywordtype">int</span> Src0Idx = <a class="code" href="namespacellvm_1_1AMDGPU.html#a27efe1286cc31f5fc95355af30b0356c">AMDGPU::getNamedOperandIdx</a>(Opc, AMDGPU::OpName::src0);</div>
<div class="line"><a name="l05194"></a><span class="lineno"> 5194</span>&#160;  <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;Src0 = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(Src0Idx);</div>
<div class="line"><a name="l05195"></a><span class="lineno"> 5195</span>&#160; </div>
<div class="line"><a name="l05196"></a><span class="lineno"> 5196</span>&#160;  <span class="keywordtype">int</span> Src1Idx = <a class="code" href="namespacellvm_1_1AMDGPU.html#a27efe1286cc31f5fc95355af30b0356c">AMDGPU::getNamedOperandIdx</a>(Opc, AMDGPU::OpName::src1);</div>
<div class="line"><a name="l05197"></a><span class="lineno"> 5197</span>&#160;  <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;Src1 = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(Src1Idx);</div>
<div class="line"><a name="l05198"></a><span class="lineno"> 5198</span>&#160; </div>
<div class="line"><a name="l05199"></a><span class="lineno"> 5199</span>&#160;  <span class="comment">// If there is an implicit SGPR use such as VCC use for v_addc_u32/v_subb_u32</span></div>
<div class="line"><a name="l05200"></a><span class="lineno"> 5200</span>&#160;  <span class="comment">// we need to only have one constant bus use before GFX10.</span></div>
<div class="line"><a name="l05201"></a><span class="lineno"> 5201</span>&#160;  <span class="keywordtype">bool</span> HasImplicitSGPR = <a class="code" href="SIInstrInfo_8cpp.html#a81a328aa5781f7c744daa43c44df83c6">findImplicitSGPRRead</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l05202"></a><span class="lineno"> 5202</span>&#160;  <span class="keywordflow">if</span> (HasImplicitSGPR &amp;&amp; ST.<a class="code" href="classllvm_1_1GCNSubtarget.html#a33a600e1b2e066f85e6a2bb588a7f3f1">getConstantBusLimit</a>(Opc) &lt;= 1 &amp;&amp; Src0.<a class="code" href="classllvm_1_1MachineOperand.html#a4c9594c955fec80c73ddd964b5efd554">isReg</a>() &amp;&amp;</div>
<div class="line"><a name="l05203"></a><span class="lineno"> 5203</span>&#160;      RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#a980c731f7723b02b66010f4fce010c0f">isSGPRReg</a>(<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, Src0.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>()))</div>
<div class="line"><a name="l05204"></a><span class="lineno"> 5204</span>&#160;    <a class="code" href="classllvm_1_1SIInstrInfo.html#a4cb529d6108d5dfdf8479ac3b03c9812">legalizeOpWithMove</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, Src0Idx);</div>
<div class="line"><a name="l05205"></a><span class="lineno"> 5205</span>&#160; </div>
<div class="line"><a name="l05206"></a><span class="lineno"> 5206</span>&#160;  <span class="comment">// Special case: V_WRITELANE_B32 accepts only immediate or SGPR operands for</span></div>
<div class="line"><a name="l05207"></a><span class="lineno"> 5207</span>&#160;  <span class="comment">// both the value to write (src0) and lane select (src1).  Fix up non-SGPR</span></div>
<div class="line"><a name="l05208"></a><span class="lineno"> 5208</span>&#160;  <span class="comment">// src0/src1 with V_READFIRSTLANE.</span></div>
<div class="line"><a name="l05209"></a><span class="lineno"> 5209</span>&#160;  <span class="keywordflow">if</span> (Opc == AMDGPU::V_WRITELANE_B32) {</div>
<div class="line"><a name="l05210"></a><span class="lineno"> 5210</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a> = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getDebugLoc();</div>
<div class="line"><a name="l05211"></a><span class="lineno"> 5211</span>&#160;    <span class="keywordflow">if</span> (Src0.<a class="code" href="classllvm_1_1MachineOperand.html#a4c9594c955fec80c73ddd964b5efd554">isReg</a>() &amp;&amp; RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#a549e07395027c7b32774e27e9f28bc91">isVGPR</a>(<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, Src0.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>())) {</div>
<div class="line"><a name="l05212"></a><span class="lineno"> 5212</span>&#160;      <a class="code" href="classllvm_1_1Register.html">Register</a> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a> = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5c77792a06583e0fe7a0379ad94a2809">createVirtualRegister</a>(&amp;AMDGPU::SReg_32_XM0RegClass);</div>
<div class="line"><a name="l05213"></a><span class="lineno"> 5213</span>&#160;      <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(*<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getParent(), <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::V_READFIRSTLANE_B32), <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>)</div>
<div class="line"><a name="l05214"></a><span class="lineno"> 5214</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a1ac8d27532cfd1d1f032ecbff2ba3611">add</a>(Src0);</div>
<div class="line"><a name="l05215"></a><span class="lineno"> 5215</span>&#160;      Src0.<a class="code" href="classllvm_1_1MachineOperand.html#a9404d5d9e4be534bb544777aae216691">ChangeToRegister</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, <span class="keyword">false</span>);</div>
<div class="line"><a name="l05216"></a><span class="lineno"> 5216</span>&#160;    }</div>
<div class="line"><a name="l05217"></a><span class="lineno"> 5217</span>&#160;    <span class="keywordflow">if</span> (Src1.<a class="code" href="classllvm_1_1MachineOperand.html#a4c9594c955fec80c73ddd964b5efd554">isReg</a>() &amp;&amp; RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#a549e07395027c7b32774e27e9f28bc91">isVGPR</a>(<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, Src1.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>())) {</div>
<div class="line"><a name="l05218"></a><span class="lineno"> 5218</span>&#160;      <a class="code" href="classllvm_1_1Register.html">Register</a> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a> = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5c77792a06583e0fe7a0379ad94a2809">createVirtualRegister</a>(&amp;AMDGPU::SReg_32_XM0RegClass);</div>
<div class="line"><a name="l05219"></a><span class="lineno"> 5219</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a> = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getDebugLoc();</div>
<div class="line"><a name="l05220"></a><span class="lineno"> 5220</span>&#160;      <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(*<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getParent(), <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::V_READFIRSTLANE_B32), <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>)</div>
<div class="line"><a name="l05221"></a><span class="lineno"> 5221</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a1ac8d27532cfd1d1f032ecbff2ba3611">add</a>(Src1);</div>
<div class="line"><a name="l05222"></a><span class="lineno"> 5222</span>&#160;      Src1.<a class="code" href="classllvm_1_1MachineOperand.html#a9404d5d9e4be534bb544777aae216691">ChangeToRegister</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, <span class="keyword">false</span>);</div>
<div class="line"><a name="l05223"></a><span class="lineno"> 5223</span>&#160;    }</div>
<div class="line"><a name="l05224"></a><span class="lineno"> 5224</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05225"></a><span class="lineno"> 5225</span>&#160;  }</div>
<div class="line"><a name="l05226"></a><span class="lineno"> 5226</span>&#160; </div>
<div class="line"><a name="l05227"></a><span class="lineno"> 5227</span>&#160;  <span class="comment">// No VOP2 instructions support AGPRs.</span></div>
<div class="line"><a name="l05228"></a><span class="lineno"> 5228</span>&#160;  <span class="keywordflow">if</span> (Src0.<a class="code" href="classllvm_1_1MachineOperand.html#a4c9594c955fec80c73ddd964b5efd554">isReg</a>() &amp;&amp; RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#acc61376f4183268183912910024e1f2c">isAGPR</a>(<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, Src0.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>()))</div>
<div class="line"><a name="l05229"></a><span class="lineno"> 5229</span>&#160;    <a class="code" href="classllvm_1_1SIInstrInfo.html#a4cb529d6108d5dfdf8479ac3b03c9812">legalizeOpWithMove</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, Src0Idx);</div>
<div class="line"><a name="l05230"></a><span class="lineno"> 5230</span>&#160; </div>
<div class="line"><a name="l05231"></a><span class="lineno"> 5231</span>&#160;  <span class="keywordflow">if</span> (Src1.<a class="code" href="classllvm_1_1MachineOperand.html#a4c9594c955fec80c73ddd964b5efd554">isReg</a>() &amp;&amp; RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#acc61376f4183268183912910024e1f2c">isAGPR</a>(<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, Src1.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>()))</div>
<div class="line"><a name="l05232"></a><span class="lineno"> 5232</span>&#160;    <a class="code" href="classllvm_1_1SIInstrInfo.html#a4cb529d6108d5dfdf8479ac3b03c9812">legalizeOpWithMove</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, Src1Idx);</div>
<div class="line"><a name="l05233"></a><span class="lineno"> 5233</span>&#160; </div>
<div class="line"><a name="l05234"></a><span class="lineno"> 5234</span>&#160;  <span class="comment">// VOP2 src0 instructions support all operand types, so we don&#39;t need to check</span></div>
<div class="line"><a name="l05235"></a><span class="lineno"> 5235</span>&#160;  <span class="comment">// their legality. If src1 is already legal, we don&#39;t need to do anything.</span></div>
<div class="line"><a name="l05236"></a><span class="lineno"> 5236</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SIInstrInfo.html#abecccbf97c3a9d0be384e6c639fcf2dc">isLegalRegOperand</a>(<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, InstrDesc.<a class="code" href="classllvm_1_1MCInstrDesc.html#a9491e6e3afc420c33cf508189bb12c3b">operands</a>()[Src1Idx], Src1))</div>
<div class="line"><a name="l05237"></a><span class="lineno"> 5237</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05238"></a><span class="lineno"> 5238</span>&#160; </div>
<div class="line"><a name="l05239"></a><span class="lineno"> 5239</span>&#160;  <span class="comment">// Special case: V_READLANE_B32 accepts only immediate or SGPR operands for</span></div>
<div class="line"><a name="l05240"></a><span class="lineno"> 5240</span>&#160;  <span class="comment">// lane select. Fix up using V_READFIRSTLANE, since we assume that the lane</span></div>
<div class="line"><a name="l05241"></a><span class="lineno"> 5241</span>&#160;  <span class="comment">// select is uniform.</span></div>
<div class="line"><a name="l05242"></a><span class="lineno"> 5242</span>&#160;  <span class="keywordflow">if</span> (Opc == AMDGPU::V_READLANE_B32 &amp;&amp; Src1.<a class="code" href="classllvm_1_1MachineOperand.html#a4c9594c955fec80c73ddd964b5efd554">isReg</a>() &amp;&amp;</div>
<div class="line"><a name="l05243"></a><span class="lineno"> 5243</span>&#160;      RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#a549e07395027c7b32774e27e9f28bc91">isVGPR</a>(<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, Src1.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>())) {</div>
<div class="line"><a name="l05244"></a><span class="lineno"> 5244</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a> = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5c77792a06583e0fe7a0379ad94a2809">createVirtualRegister</a>(&amp;AMDGPU::SReg_32_XM0RegClass);</div>
<div class="line"><a name="l05245"></a><span class="lineno"> 5245</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a> = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getDebugLoc();</div>
<div class="line"><a name="l05246"></a><span class="lineno"> 5246</span>&#160;    <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(*<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getParent(), <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::V_READFIRSTLANE_B32), <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>)</div>
<div class="line"><a name="l05247"></a><span class="lineno"> 5247</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a1ac8d27532cfd1d1f032ecbff2ba3611">add</a>(Src1);</div>
<div class="line"><a name="l05248"></a><span class="lineno"> 5248</span>&#160;    Src1.<a class="code" href="classllvm_1_1MachineOperand.html#a9404d5d9e4be534bb544777aae216691">ChangeToRegister</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, <span class="keyword">false</span>);</div>
<div class="line"><a name="l05249"></a><span class="lineno"> 5249</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05250"></a><span class="lineno"> 5250</span>&#160;  }</div>
<div class="line"><a name="l05251"></a><span class="lineno"> 5251</span>&#160; </div>
<div class="line"><a name="l05252"></a><span class="lineno"> 5252</span>&#160;  <span class="comment">// We do not use commuteInstruction here because it is too aggressive and will</span></div>
<div class="line"><a name="l05253"></a><span class="lineno"> 5253</span>&#160;  <span class="comment">// commute if it is possible. We only want to commute here if it improves</span></div>
<div class="line"><a name="l05254"></a><span class="lineno"> 5254</span>&#160;  <span class="comment">// legality. This can be called a fairly large number of times so don&#39;t waste</span></div>
<div class="line"><a name="l05255"></a><span class="lineno"> 5255</span>&#160;  <span class="comment">// compile time pointlessly swapping and checking legality again.</span></div>
<div class="line"><a name="l05256"></a><span class="lineno"> 5256</span>&#160;  <span class="keywordflow">if</span> (HasImplicitSGPR || !<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.isCommutable()) {</div>
<div class="line"><a name="l05257"></a><span class="lineno"> 5257</span>&#160;    <a class="code" href="classllvm_1_1SIInstrInfo.html#a4cb529d6108d5dfdf8479ac3b03c9812">legalizeOpWithMove</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, Src1Idx);</div>
<div class="line"><a name="l05258"></a><span class="lineno"> 5258</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05259"></a><span class="lineno"> 5259</span>&#160;  }</div>
<div class="line"><a name="l05260"></a><span class="lineno"> 5260</span>&#160; </div>
<div class="line"><a name="l05261"></a><span class="lineno"> 5261</span>&#160;  <span class="comment">// If src0 can be used as src1, commuting will make the operands legal.</span></div>
<div class="line"><a name="l05262"></a><span class="lineno"> 5262</span>&#160;  <span class="comment">// Otherwise we have to give up and insert a move.</span></div>
<div class="line"><a name="l05263"></a><span class="lineno"> 5263</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l05264"></a><span class="lineno"> 5264</span>&#160;  <span class="comment">// TODO: Other immediate-like operand kinds could be commuted if there was a</span></div>
<div class="line"><a name="l05265"></a><span class="lineno"> 5265</span>&#160;  <span class="comment">// MachineOperand::ChangeTo* for them.</span></div>
<div class="line"><a name="l05266"></a><span class="lineno"> 5266</span>&#160;  <span class="keywordflow">if</span> ((!Src1.<a class="code" href="classllvm_1_1MachineOperand.html#a76f61c6784df6dc8402a8b9011041926">isImm</a>() &amp;&amp; !Src1.<a class="code" href="classllvm_1_1MachineOperand.html#a4c9594c955fec80c73ddd964b5efd554">isReg</a>()) ||</div>
<div class="line"><a name="l05267"></a><span class="lineno"> 5267</span>&#160;      !<a class="code" href="classllvm_1_1SIInstrInfo.html#abecccbf97c3a9d0be384e6c639fcf2dc">isLegalRegOperand</a>(<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, InstrDesc.<a class="code" href="classllvm_1_1MCInstrDesc.html#a9491e6e3afc420c33cf508189bb12c3b">operands</a>()[Src1Idx], Src0)) {</div>
<div class="line"><a name="l05268"></a><span class="lineno"> 5268</span>&#160;    <a class="code" href="classllvm_1_1SIInstrInfo.html#a4cb529d6108d5dfdf8479ac3b03c9812">legalizeOpWithMove</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, Src1Idx);</div>
<div class="line"><a name="l05269"></a><span class="lineno"> 5269</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05270"></a><span class="lineno"> 5270</span>&#160;  }</div>
<div class="line"><a name="l05271"></a><span class="lineno"> 5271</span>&#160; </div>
<div class="line"><a name="l05272"></a><span class="lineno"> 5272</span>&#160;  <span class="keywordtype">int</span> CommutedOpc = <a class="code" href="classllvm_1_1SIInstrInfo.html#aee81828a7ba7ae3e86ed968067d671b4">commuteOpcode</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l05273"></a><span class="lineno"> 5273</span>&#160;  <span class="keywordflow">if</span> (CommutedOpc == -1) {</div>
<div class="line"><a name="l05274"></a><span class="lineno"> 5274</span>&#160;    <a class="code" href="classllvm_1_1SIInstrInfo.html#a4cb529d6108d5dfdf8479ac3b03c9812">legalizeOpWithMove</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, Src1Idx);</div>
<div class="line"><a name="l05275"></a><span class="lineno"> 5275</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05276"></a><span class="lineno"> 5276</span>&#160;  }</div>
<div class="line"><a name="l05277"></a><span class="lineno"> 5277</span>&#160; </div>
<div class="line"><a name="l05278"></a><span class="lineno"> 5278</span>&#160;  <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.setDesc(<a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(CommutedOpc));</div>
<div class="line"><a name="l05279"></a><span class="lineno"> 5279</span>&#160; </div>
<div class="line"><a name="l05280"></a><span class="lineno"> 5280</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> Src0Reg = Src0.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>();</div>
<div class="line"><a name="l05281"></a><span class="lineno"> 5281</span>&#160;  <span class="keywordtype">unsigned</span> Src0SubReg = Src0.<a class="code" href="classllvm_1_1MachineOperand.html#a028a8c5113d40d8c3f4427053bf36738">getSubReg</a>();</div>
<div class="line"><a name="l05282"></a><span class="lineno"> 5282</span>&#160;  <span class="keywordtype">bool</span> Src0Kill = Src0.<a class="code" href="classllvm_1_1MachineOperand.html#a4046212ebc647b17e811837ae4ea3afd">isKill</a>();</div>
<div class="line"><a name="l05283"></a><span class="lineno"> 5283</span>&#160; </div>
<div class="line"><a name="l05284"></a><span class="lineno"> 5284</span>&#160;  <span class="keywordflow">if</span> (Src1.<a class="code" href="classllvm_1_1MachineOperand.html#a76f61c6784df6dc8402a8b9011041926">isImm</a>())</div>
<div class="line"><a name="l05285"></a><span class="lineno"> 5285</span>&#160;    Src0.<a class="code" href="classllvm_1_1MachineOperand.html#a7b39ecfd6793534206dbb095b0d464c7">ChangeToImmediate</a>(Src1.<a class="code" href="classllvm_1_1MachineOperand.html#a38b28a85f818b49d8806c150b8a5b4f7">getImm</a>());</div>
<div class="line"><a name="l05286"></a><span class="lineno"> 5286</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Src1.<a class="code" href="classllvm_1_1MachineOperand.html#a4c9594c955fec80c73ddd964b5efd554">isReg</a>()) {</div>
<div class="line"><a name="l05287"></a><span class="lineno"> 5287</span>&#160;    Src0.<a class="code" href="classllvm_1_1MachineOperand.html#a9404d5d9e4be534bb544777aae216691">ChangeToRegister</a>(Src1.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>(), <span class="keyword">false</span>, <span class="keyword">false</span>, Src1.<a class="code" href="classllvm_1_1MachineOperand.html#a4046212ebc647b17e811837ae4ea3afd">isKill</a>());</div>
<div class="line"><a name="l05288"></a><span class="lineno"> 5288</span>&#160;    Src0.<a class="code" href="classllvm_1_1MachineOperand.html#a001d31fcea92be51d2999826b806606f">setSubReg</a>(Src1.<a class="code" href="classllvm_1_1MachineOperand.html#a028a8c5113d40d8c3f4427053bf36738">getSubReg</a>());</div>
<div class="line"><a name="l05289"></a><span class="lineno"> 5289</span>&#160;  } <span class="keywordflow">else</span></div>
<div class="line"><a name="l05290"></a><span class="lineno"> 5290</span>&#160;    <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Should only have register or immediate operands&quot;</span>);</div>
<div class="line"><a name="l05291"></a><span class="lineno"> 5291</span>&#160; </div>
<div class="line"><a name="l05292"></a><span class="lineno"> 5292</span>&#160;  Src1.<a class="code" href="classllvm_1_1MachineOperand.html#a9404d5d9e4be534bb544777aae216691">ChangeToRegister</a>(Src0Reg, <span class="keyword">false</span>, <span class="keyword">false</span>, Src0Kill);</div>
<div class="line"><a name="l05293"></a><span class="lineno"> 5293</span>&#160;  Src1.<a class="code" href="classllvm_1_1MachineOperand.html#a001d31fcea92be51d2999826b806606f">setSubReg</a>(Src0SubReg);</div>
<div class="line"><a name="l05294"></a><span class="lineno"> 5294</span>&#160;  <a class="code" href="classllvm_1_1SIInstrInfo.html#ac76905a82cf568afc14dd95691c867f0">fixImplicitOperands</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l05295"></a><span class="lineno"> 5295</span>&#160;}</div>
<div class="line"><a name="l05296"></a><span class="lineno"> 5296</span>&#160; </div>
<div class="line"><a name="l05297"></a><span class="lineno"> 5297</span>&#160;<span class="comment">// Legalize VOP3 operands. All operand types are supported for any operand</span></div>
<div class="line"><a name="l05298"></a><span class="lineno"> 5298</span>&#160;<span class="comment">// but only one literal constant and only starting from GFX10.</span></div>
<div class="line"><a name="l05299"></a><span class="lineno"><a class="line" href="classllvm_1_1SIInstrInfo.html#a0673c8aeb9b580e1be469133adba37e5"> 5299</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1SIInstrInfo.html#a0673c8aeb9b580e1be469133adba37e5">SIInstrInfo::legalizeOperandsVOP3</a>(<a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>,</div>
<div class="line"><a name="l05300"></a><span class="lineno"> 5300</span>&#160;                                       <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l05301"></a><span class="lineno"> 5301</span>&#160;  <span class="keywordtype">unsigned</span> Opc = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode();</div>
<div class="line"><a name="l05302"></a><span class="lineno"> 5302</span>&#160; </div>
<div class="line"><a name="l05303"></a><span class="lineno"> 5303</span>&#160;  <span class="keywordtype">int</span> VOP3Idx[3] = {</div>
<div class="line"><a name="l05304"></a><span class="lineno"> 5304</span>&#160;    <a class="code" href="namespacellvm_1_1AMDGPU.html#a27efe1286cc31f5fc95355af30b0356c">AMDGPU::getNamedOperandIdx</a>(Opc, AMDGPU::OpName::src0),</div>
<div class="line"><a name="l05305"></a><span class="lineno"> 5305</span>&#160;    <a class="code" href="namespacellvm_1_1AMDGPU.html#a27efe1286cc31f5fc95355af30b0356c">AMDGPU::getNamedOperandIdx</a>(Opc, AMDGPU::OpName::src1),</div>
<div class="line"><a name="l05306"></a><span class="lineno"> 5306</span>&#160;    <a class="code" href="namespacellvm_1_1AMDGPU.html#a27efe1286cc31f5fc95355af30b0356c">AMDGPU::getNamedOperandIdx</a>(Opc, AMDGPU::OpName::src2)</div>
<div class="line"><a name="l05307"></a><span class="lineno"> 5307</span>&#160;  };</div>
<div class="line"><a name="l05308"></a><span class="lineno"> 5308</span>&#160; </div>
<div class="line"><a name="l05309"></a><span class="lineno"> 5309</span>&#160;  <span class="keywordflow">if</span> (Opc == AMDGPU::V_PERMLANE16_B32_e64 ||</div>
<div class="line"><a name="l05310"></a><span class="lineno"> 5310</span>&#160;      Opc == AMDGPU::V_PERMLANEX16_B32_e64) {</div>
<div class="line"><a name="l05311"></a><span class="lineno"> 5311</span>&#160;    <span class="comment">// src1 and src2 must be scalar</span></div>
<div class="line"><a name="l05312"></a><span class="lineno"> 5312</span>&#160;    <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;Src1 = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(VOP3Idx[1]);</div>
<div class="line"><a name="l05313"></a><span class="lineno"> 5313</span>&#160;    <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;Src2 = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(VOP3Idx[2]);</div>
<div class="line"><a name="l05314"></a><span class="lineno"> 5314</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a> = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getDebugLoc();</div>
<div class="line"><a name="l05315"></a><span class="lineno"> 5315</span>&#160;    <span class="keywordflow">if</span> (Src1.<a class="code" href="classllvm_1_1MachineOperand.html#a4c9594c955fec80c73ddd964b5efd554">isReg</a>() &amp;&amp; !RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#af58d646af8dd60e4e514303dfa81de9c">isSGPRClass</a>(<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#aa363afffca4fc13a709673936b47fe33">getRegClass</a>(Src1.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>()))) {</div>
<div class="line"><a name="l05316"></a><span class="lineno"> 5316</span>&#160;      <a class="code" href="classllvm_1_1Register.html">Register</a> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a> = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5c77792a06583e0fe7a0379ad94a2809">createVirtualRegister</a>(&amp;AMDGPU::SReg_32_XM0RegClass);</div>
<div class="line"><a name="l05317"></a><span class="lineno"> 5317</span>&#160;      <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(*<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getParent(), <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::V_READFIRSTLANE_B32), <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>)</div>
<div class="line"><a name="l05318"></a><span class="lineno"> 5318</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a1ac8d27532cfd1d1f032ecbff2ba3611">add</a>(Src1);</div>
<div class="line"><a name="l05319"></a><span class="lineno"> 5319</span>&#160;      Src1.<a class="code" href="classllvm_1_1MachineOperand.html#a9404d5d9e4be534bb544777aae216691">ChangeToRegister</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, <span class="keyword">false</span>);</div>
<div class="line"><a name="l05320"></a><span class="lineno"> 5320</span>&#160;    }</div>
<div class="line"><a name="l05321"></a><span class="lineno"> 5321</span>&#160;    <span class="keywordflow">if</span> (Src2.<a class="code" href="classllvm_1_1MachineOperand.html#a4c9594c955fec80c73ddd964b5efd554">isReg</a>() &amp;&amp; !RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#af58d646af8dd60e4e514303dfa81de9c">isSGPRClass</a>(<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#aa363afffca4fc13a709673936b47fe33">getRegClass</a>(Src2.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>()))) {</div>
<div class="line"><a name="l05322"></a><span class="lineno"> 5322</span>&#160;      <a class="code" href="classllvm_1_1Register.html">Register</a> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a> = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5c77792a06583e0fe7a0379ad94a2809">createVirtualRegister</a>(&amp;AMDGPU::SReg_32_XM0RegClass);</div>
<div class="line"><a name="l05323"></a><span class="lineno"> 5323</span>&#160;      <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(*<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getParent(), <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::V_READFIRSTLANE_B32), <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>)</div>
<div class="line"><a name="l05324"></a><span class="lineno"> 5324</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a1ac8d27532cfd1d1f032ecbff2ba3611">add</a>(Src2);</div>
<div class="line"><a name="l05325"></a><span class="lineno"> 5325</span>&#160;      Src2.<a class="code" href="classllvm_1_1MachineOperand.html#a9404d5d9e4be534bb544777aae216691">ChangeToRegister</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, <span class="keyword">false</span>);</div>
<div class="line"><a name="l05326"></a><span class="lineno"> 5326</span>&#160;    }</div>
<div class="line"><a name="l05327"></a><span class="lineno"> 5327</span>&#160;  }</div>
<div class="line"><a name="l05328"></a><span class="lineno"> 5328</span>&#160; </div>
<div class="line"><a name="l05329"></a><span class="lineno"> 5329</span>&#160;  <span class="comment">// Find the one SGPR operand we are allowed to use.</span></div>
<div class="line"><a name="l05330"></a><span class="lineno"> 5330</span>&#160;  <span class="keywordtype">int</span> ConstantBusLimit = ST.<a class="code" href="classllvm_1_1GCNSubtarget.html#a33a600e1b2e066f85e6a2bb588a7f3f1">getConstantBusLimit</a>(Opc);</div>
<div class="line"><a name="l05331"></a><span class="lineno"> 5331</span>&#160;  <span class="keywordtype">int</span> LiteralLimit = ST.<a class="code" href="classllvm_1_1GCNSubtarget.html#acfa61def62c3f39edaec6b28782f1992">hasVOP3Literal</a>() ? 1 : 0;</div>
<div class="line"><a name="l05332"></a><span class="lineno"> 5332</span>&#160;  <a class="code" href="classllvm_1_1SmallDenseSet.html">SmallDenseSet&lt;unsigned&gt;</a> SGPRsUsed;</div>
<div class="line"><a name="l05333"></a><span class="lineno"> 5333</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> SGPRReg = findUsedSGPR(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, VOP3Idx);</div>
<div class="line"><a name="l05334"></a><span class="lineno"> 5334</span>&#160;  <span class="keywordflow">if</span> (SGPRReg) {</div>
<div class="line"><a name="l05335"></a><span class="lineno"> 5335</span>&#160;    SGPRsUsed.<a class="code" href="classllvm_1_1detail_1_1DenseSetImpl.html#a79eed48913651aeedda2eed25201ea84">insert</a>(SGPRReg);</div>
<div class="line"><a name="l05336"></a><span class="lineno"> 5336</span>&#160;    --ConstantBusLimit;</div>
<div class="line"><a name="l05337"></a><span class="lineno"> 5337</span>&#160;  }</div>
<div class="line"><a name="l05338"></a><span class="lineno"> 5338</span>&#160; </div>
<div class="line"><a name="l05339"></a><span class="lineno"> 5339</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> Idx : VOP3Idx) {</div>
<div class="line"><a name="l05340"></a><span class="lineno"> 5340</span>&#160;    <span class="keywordflow">if</span> (Idx == -1)</div>
<div class="line"><a name="l05341"></a><span class="lineno"> 5341</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05342"></a><span class="lineno"> 5342</span>&#160;    <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;MO = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(Idx);</div>
<div class="line"><a name="l05343"></a><span class="lineno"> 5343</span>&#160; </div>
<div class="line"><a name="l05344"></a><span class="lineno"> 5344</span>&#160;    <span class="keywordflow">if</span> (!MO.<a class="code" href="classllvm_1_1MachineOperand.html#a4c9594c955fec80c73ddd964b5efd554">isReg</a>()) {</div>
<div class="line"><a name="l05345"></a><span class="lineno"> 5345</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SIInstrInfo.html#a0480d6290cd95e40641f2af7a18fb764">isInlineConstant</a>(MO, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(Opc).operands()[Idx]))</div>
<div class="line"><a name="l05346"></a><span class="lineno"> 5346</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l05347"></a><span class="lineno"> 5347</span>&#160; </div>
<div class="line"><a name="l05348"></a><span class="lineno"> 5348</span>&#160;      <span class="keywordflow">if</span> (LiteralLimit &gt; 0 &amp;&amp; ConstantBusLimit &gt; 0) {</div>
<div class="line"><a name="l05349"></a><span class="lineno"> 5349</span>&#160;        --LiteralLimit;</div>
<div class="line"><a name="l05350"></a><span class="lineno"> 5350</span>&#160;        --ConstantBusLimit;</div>
<div class="line"><a name="l05351"></a><span class="lineno"> 5351</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l05352"></a><span class="lineno"> 5352</span>&#160;      }</div>
<div class="line"><a name="l05353"></a><span class="lineno"> 5353</span>&#160; </div>
<div class="line"><a name="l05354"></a><span class="lineno"> 5354</span>&#160;      --LiteralLimit;</div>
<div class="line"><a name="l05355"></a><span class="lineno"> 5355</span>&#160;      --ConstantBusLimit;</div>
<div class="line"><a name="l05356"></a><span class="lineno"> 5356</span>&#160;      <a class="code" href="classllvm_1_1SIInstrInfo.html#a4cb529d6108d5dfdf8479ac3b03c9812">legalizeOpWithMove</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, Idx);</div>
<div class="line"><a name="l05357"></a><span class="lineno"> 5357</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l05358"></a><span class="lineno"> 5358</span>&#160;    }</div>
<div class="line"><a name="l05359"></a><span class="lineno"> 5359</span>&#160; </div>
<div class="line"><a name="l05360"></a><span class="lineno"> 5360</span>&#160;    <span class="keywordflow">if</span> (RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#ae1364aa9eb8390d678c037be69450deb">hasAGPRs</a>(RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#a77b95c7a5620b2e92ef8ca3aa8be15bd">getRegClassForReg</a>(<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, MO.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>())) &amp;&amp;</div>
<div class="line"><a name="l05361"></a><span class="lineno"> 5361</span>&#160;        !<a class="code" href="classllvm_1_1SIInstrInfo.html#af7ee4c22ed353efa8afd9ea35e4af06f">isOperandLegal</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, Idx, &amp;MO)) {</div>
<div class="line"><a name="l05362"></a><span class="lineno"> 5362</span>&#160;      <a class="code" href="classllvm_1_1SIInstrInfo.html#a4cb529d6108d5dfdf8479ac3b03c9812">legalizeOpWithMove</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, Idx);</div>
<div class="line"><a name="l05363"></a><span class="lineno"> 5363</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l05364"></a><span class="lineno"> 5364</span>&#160;    }</div>
<div class="line"><a name="l05365"></a><span class="lineno"> 5365</span>&#160; </div>
<div class="line"><a name="l05366"></a><span class="lineno"> 5366</span>&#160;    <span class="keywordflow">if</span> (!RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#af58d646af8dd60e4e514303dfa81de9c">isSGPRClass</a>(RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#a77b95c7a5620b2e92ef8ca3aa8be15bd">getRegClassForReg</a>(<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, MO.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>())))</div>
<div class="line"><a name="l05367"></a><span class="lineno"> 5367</span>&#160;      <span class="keywordflow">continue</span>; <span class="comment">// VGPRs are legal</span></div>
<div class="line"><a name="l05368"></a><span class="lineno"> 5368</span>&#160; </div>
<div class="line"><a name="l05369"></a><span class="lineno"> 5369</span>&#160;    <span class="comment">// We can use one SGPR in each VOP3 instruction prior to GFX10</span></div>
<div class="line"><a name="l05370"></a><span class="lineno"> 5370</span>&#160;    <span class="comment">// and two starting from GFX10.</span></div>
<div class="line"><a name="l05371"></a><span class="lineno"> 5371</span>&#160;    <span class="keywordflow">if</span> (SGPRsUsed.<a class="code" href="classllvm_1_1detail_1_1DenseSetImpl.html#afe504aa31a6a354cec13f5b32d0b1d9d">count</a>(MO.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>()))</div>
<div class="line"><a name="l05372"></a><span class="lineno"> 5372</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l05373"></a><span class="lineno"> 5373</span>&#160;    <span class="keywordflow">if</span> (ConstantBusLimit &gt; 0) {</div>
<div class="line"><a name="l05374"></a><span class="lineno"> 5374</span>&#160;      SGPRsUsed.<a class="code" href="classllvm_1_1detail_1_1DenseSetImpl.html#a79eed48913651aeedda2eed25201ea84">insert</a>(MO.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>());</div>
<div class="line"><a name="l05375"></a><span class="lineno"> 5375</span>&#160;      --ConstantBusLimit;</div>
<div class="line"><a name="l05376"></a><span class="lineno"> 5376</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l05377"></a><span class="lineno"> 5377</span>&#160;    }</div>
<div class="line"><a name="l05378"></a><span class="lineno"> 5378</span>&#160; </div>
<div class="line"><a name="l05379"></a><span class="lineno"> 5379</span>&#160;    <span class="comment">// If we make it this far, then the operand is not legal and we must</span></div>
<div class="line"><a name="l05380"></a><span class="lineno"> 5380</span>&#160;    <span class="comment">// legalize it.</span></div>
<div class="line"><a name="l05381"></a><span class="lineno"> 5381</span>&#160;    <a class="code" href="classllvm_1_1SIInstrInfo.html#a4cb529d6108d5dfdf8479ac3b03c9812">legalizeOpWithMove</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, Idx);</div>
<div class="line"><a name="l05382"></a><span class="lineno"> 5382</span>&#160;  }</div>
<div class="line"><a name="l05383"></a><span class="lineno"> 5383</span>&#160;}</div>
<div class="line"><a name="l05384"></a><span class="lineno"> 5384</span>&#160; </div>
<div class="line"><a name="l05385"></a><span class="lineno"><a class="line" href="classllvm_1_1SIInstrInfo.html#a46f8aeadd124344d2708f5941a62e1b1"> 5385</a></span>&#160;<a class="code" href="classllvm_1_1Register.html">Register</a> <a class="code" href="classllvm_1_1SIInstrInfo.html#a46f8aeadd124344d2708f5941a62e1b1">SIInstrInfo::readlaneVGPRToSGPR</a>(<a class="code" href="classllvm_1_1Register.html">Register</a> SrcReg, <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#a6cf2f8996b1e9aaf2d7a435aaa62382f">UseMI</a>,</div>
<div class="line"><a name="l05386"></a><span class="lineno"> 5386</span>&#160;                                         <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l05387"></a><span class="lineno"> 5387</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *VRC = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#aa363afffca4fc13a709673936b47fe33">getRegClass</a>(SrcReg);</div>
<div class="line"><a name="l05388"></a><span class="lineno"> 5388</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *SRC = RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#a981883145186bf6da58e5bd7f6476f30">getEquivalentSGPRClass</a>(VRC);</div>
<div class="line"><a name="l05389"></a><span class="lineno"> 5389</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> DstReg = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5c77792a06583e0fe7a0379ad94a2809">createVirtualRegister</a>(SRC);</div>
<div class="line"><a name="l05390"></a><span class="lineno"> 5390</span>&#160;  <span class="keywordtype">unsigned</span> SubRegs = RI.getRegSizeInBits(*VRC) / 32;</div>
<div class="line"><a name="l05391"></a><span class="lineno"> 5391</span>&#160; </div>
<div class="line"><a name="l05392"></a><span class="lineno"> 5392</span>&#160;  <span class="keywordflow">if</span> (RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#ae1364aa9eb8390d678c037be69450deb">hasAGPRs</a>(VRC)) {</div>
<div class="line"><a name="l05393"></a><span class="lineno"> 5393</span>&#160;    VRC = RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#a2fcc4d3294381da29adb855c5f56c0d5">getEquivalentVGPRClass</a>(VRC);</div>
<div class="line"><a name="l05394"></a><span class="lineno"> 5394</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> NewSrcReg = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5c77792a06583e0fe7a0379ad94a2809">createVirtualRegister</a>(VRC);</div>
<div class="line"><a name="l05395"></a><span class="lineno"> 5395</span>&#160;    <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(*<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#a6cf2f8996b1e9aaf2d7a435aaa62382f">UseMI</a>.getParent(), <a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#a6cf2f8996b1e9aaf2d7a435aaa62382f">UseMI</a>, <a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#a6cf2f8996b1e9aaf2d7a435aaa62382f">UseMI</a>.getDebugLoc(),</div>
<div class="line"><a name="l05396"></a><span class="lineno"> 5396</span>&#160;            <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(TargetOpcode::COPY), NewSrcReg)</div>
<div class="line"><a name="l05397"></a><span class="lineno"> 5397</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(SrcReg);</div>
<div class="line"><a name="l05398"></a><span class="lineno"> 5398</span>&#160;    SrcReg = NewSrcReg;</div>
<div class="line"><a name="l05399"></a><span class="lineno"> 5399</span>&#160;  }</div>
<div class="line"><a name="l05400"></a><span class="lineno"> 5400</span>&#160; </div>
<div class="line"><a name="l05401"></a><span class="lineno"> 5401</span>&#160;  <span class="keywordflow">if</span> (SubRegs == 1) {</div>
<div class="line"><a name="l05402"></a><span class="lineno"> 5402</span>&#160;    <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(*<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#a6cf2f8996b1e9aaf2d7a435aaa62382f">UseMI</a>.getParent(), <a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#a6cf2f8996b1e9aaf2d7a435aaa62382f">UseMI</a>, <a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#a6cf2f8996b1e9aaf2d7a435aaa62382f">UseMI</a>.getDebugLoc(),</div>
<div class="line"><a name="l05403"></a><span class="lineno"> 5403</span>&#160;            <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::V_READFIRSTLANE_B32), DstReg)</div>
<div class="line"><a name="l05404"></a><span class="lineno"> 5404</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(SrcReg);</div>
<div class="line"><a name="l05405"></a><span class="lineno"> 5405</span>&#160;    <span class="keywordflow">return</span> DstReg;</div>
<div class="line"><a name="l05406"></a><span class="lineno"> 5406</span>&#160;  }</div>
<div class="line"><a name="l05407"></a><span class="lineno"> 5407</span>&#160; </div>
<div class="line"><a name="l05408"></a><span class="lineno"> 5408</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Register, 8&gt;</a> SRegs;</div>
<div class="line"><a name="l05409"></a><span class="lineno"> 5409</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; SubRegs; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l05410"></a><span class="lineno"> 5410</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> SGPR = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5c77792a06583e0fe7a0379ad94a2809">createVirtualRegister</a>(&amp;AMDGPU::SGPR_32RegClass);</div>
<div class="line"><a name="l05411"></a><span class="lineno"> 5411</span>&#160;    <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(*<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#a6cf2f8996b1e9aaf2d7a435aaa62382f">UseMI</a>.getParent(), <a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#a6cf2f8996b1e9aaf2d7a435aaa62382f">UseMI</a>, <a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#a6cf2f8996b1e9aaf2d7a435aaa62382f">UseMI</a>.getDebugLoc(),</div>
<div class="line"><a name="l05412"></a><span class="lineno"> 5412</span>&#160;            <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::V_READFIRSTLANE_B32), SGPR)</div>
<div class="line"><a name="l05413"></a><span class="lineno"> 5413</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(SrcReg, 0, RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#a1be43761db2568933db89648201ab15c">getSubRegFromChannel</a>(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>));</div>
<div class="line"><a name="l05414"></a><span class="lineno"> 5414</span>&#160;    SRegs.push_back(SGPR);</div>
<div class="line"><a name="l05415"></a><span class="lineno"> 5415</span>&#160;  }</div>
<div class="line"><a name="l05416"></a><span class="lineno"> 5416</span>&#160; </div>
<div class="line"><a name="l05417"></a><span class="lineno"> 5417</span>&#160;  <a class="code" href="classllvm_1_1MachineInstrBuilder.html">MachineInstrBuilder</a> MIB =</div>
<div class="line"><a name="l05418"></a><span class="lineno"> 5418</span>&#160;      <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(*<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#a6cf2f8996b1e9aaf2d7a435aaa62382f">UseMI</a>.getParent(), <a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#a6cf2f8996b1e9aaf2d7a435aaa62382f">UseMI</a>, <a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#a6cf2f8996b1e9aaf2d7a435aaa62382f">UseMI</a>.getDebugLoc(),</div>
<div class="line"><a name="l05419"></a><span class="lineno"> 5419</span>&#160;              <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::REG_SEQUENCE), DstReg);</div>
<div class="line"><a name="l05420"></a><span class="lineno"> 5420</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; SubRegs; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l05421"></a><span class="lineno"> 5421</span>&#160;    MIB.<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(SRegs[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div>
<div class="line"><a name="l05422"></a><span class="lineno"> 5422</span>&#160;    MIB.<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#a1be43761db2568933db89648201ab15c">getSubRegFromChannel</a>(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>));</div>
<div class="line"><a name="l05423"></a><span class="lineno"> 5423</span>&#160;  }</div>
<div class="line"><a name="l05424"></a><span class="lineno"> 5424</span>&#160;  <span class="keywordflow">return</span> DstReg;</div>
<div class="line"><a name="l05425"></a><span class="lineno"> 5425</span>&#160;}</div>
<div class="line"><a name="l05426"></a><span class="lineno"> 5426</span>&#160; </div>
<div class="line"><a name="l05427"></a><span class="lineno"><a class="line" href="classllvm_1_1SIInstrInfo.html#ad5c2911f44ee301ccf57ae61b7915b5a"> 5427</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1SIInstrInfo.html#ad5c2911f44ee301ccf57ae61b7915b5a">SIInstrInfo::legalizeOperandsSMRD</a>(<a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>,</div>
<div class="line"><a name="l05428"></a><span class="lineno"> 5428</span>&#160;                                       <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l05429"></a><span class="lineno"> 5429</span>&#160; </div>
<div class="line"><a name="l05430"></a><span class="lineno"> 5430</span>&#160;  <span class="comment">// If the pointer is store in VGPRs, then we need to move them to</span></div>
<div class="line"><a name="l05431"></a><span class="lineno"> 5431</span>&#160;  <span class="comment">// SGPRs using v_readfirstlane.  This is safe because we only select</span></div>
<div class="line"><a name="l05432"></a><span class="lineno"> 5432</span>&#160;  <span class="comment">// loads with uniform pointers to SMRD instruction so we know the</span></div>
<div class="line"><a name="l05433"></a><span class="lineno"> 5433</span>&#160;  <span class="comment">// pointer value is uniform.</span></div>
<div class="line"><a name="l05434"></a><span class="lineno"> 5434</span>&#160;  <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> *<a class="code" href="namespacellvm_1_1sys_1_1unicode.html#ae56aadf48006c8538ac3e9fc3bf220b9">SBase</a> = <a class="code" href="classllvm_1_1SIInstrInfo.html#a61297a04e9cd91c9658b9affecdd9797">getNamedOperand</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, AMDGPU::OpName::sbase);</div>
<div class="line"><a name="l05435"></a><span class="lineno"> 5435</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1sys_1_1unicode.html#ae56aadf48006c8538ac3e9fc3bf220b9">SBase</a> &amp;&amp; !RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#af58d646af8dd60e4e514303dfa81de9c">isSGPRClass</a>(<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#aa363afffca4fc13a709673936b47fe33">getRegClass</a>(<a class="code" href="namespacellvm_1_1sys_1_1unicode.html#ae56aadf48006c8538ac3e9fc3bf220b9">SBase</a>-&gt;getReg()))) {</div>
<div class="line"><a name="l05436"></a><span class="lineno"> 5436</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> SGPR = <a class="code" href="classllvm_1_1SIInstrInfo.html#a46f8aeadd124344d2708f5941a62e1b1">readlaneVGPRToSGPR</a>(<a class="code" href="namespacellvm_1_1sys_1_1unicode.html#ae56aadf48006c8538ac3e9fc3bf220b9">SBase</a>-&gt;getReg(), <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>);</div>
<div class="line"><a name="l05437"></a><span class="lineno"> 5437</span>&#160;    <a class="code" href="namespacellvm_1_1sys_1_1unicode.html#ae56aadf48006c8538ac3e9fc3bf220b9">SBase</a>-&gt;setReg(SGPR);</div>
<div class="line"><a name="l05438"></a><span class="lineno"> 5438</span>&#160;  }</div>
<div class="line"><a name="l05439"></a><span class="lineno"> 5439</span>&#160;  <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> *SOff = <a class="code" href="classllvm_1_1SIInstrInfo.html#a61297a04e9cd91c9658b9affecdd9797">getNamedOperand</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, AMDGPU::OpName::soffset);</div>
<div class="line"><a name="l05440"></a><span class="lineno"> 5440</span>&#160;  <span class="keywordflow">if</span> (SOff &amp;&amp; !RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#af58d646af8dd60e4e514303dfa81de9c">isSGPRClass</a>(<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#aa363afffca4fc13a709673936b47fe33">getRegClass</a>(SOff-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>()))) {</div>
<div class="line"><a name="l05441"></a><span class="lineno"> 5441</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> SGPR = <a class="code" href="classllvm_1_1SIInstrInfo.html#a46f8aeadd124344d2708f5941a62e1b1">readlaneVGPRToSGPR</a>(SOff-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>(), <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>);</div>
<div class="line"><a name="l05442"></a><span class="lineno"> 5442</span>&#160;    SOff-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#a682ba82f42f7903d0000ffbb13ea3b57">setReg</a>(SGPR);</div>
<div class="line"><a name="l05443"></a><span class="lineno"> 5443</span>&#160;  }</div>
<div class="line"><a name="l05444"></a><span class="lineno"> 5444</span>&#160;}</div>
<div class="line"><a name="l05445"></a><span class="lineno"> 5445</span>&#160; </div>
<div class="line"><a name="l05446"></a><span class="lineno"><a class="line" href="classllvm_1_1SIInstrInfo.html#ac786791624fc85886f2db5c5e0601f1b"> 5446</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1SIInstrInfo.html#ac786791624fc85886f2db5c5e0601f1b">SIInstrInfo::moveFlatAddrToVGPR</a>(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;Inst)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l05447"></a><span class="lineno"> 5447</span>&#160;  <span class="keywordtype">unsigned</span> Opc = Inst.<a class="code" href="classllvm_1_1MachineInstr.html#a0363204b5fbab08a46f5a7cd7f376f78">getOpcode</a>();</div>
<div class="line"><a name="l05448"></a><span class="lineno"> 5448</span>&#160;  <span class="keywordtype">int</span> OldSAddrIdx = <a class="code" href="namespacellvm_1_1AMDGPU.html#a27efe1286cc31f5fc95355af30b0356c">AMDGPU::getNamedOperandIdx</a>(Opc, AMDGPU::OpName::saddr);</div>
<div class="line"><a name="l05449"></a><span class="lineno"> 5449</span>&#160;  <span class="keywordflow">if</span> (OldSAddrIdx &lt; 0)</div>
<div class="line"><a name="l05450"></a><span class="lineno"> 5450</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05451"></a><span class="lineno"> 5451</span>&#160; </div>
<div class="line"><a name="l05452"></a><span class="lineno"> 5452</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="classllvm_1_1SIInstrInfo.html#a8ed947ddafde5421d3f771f43f9c04d1">isSegmentSpecificFLAT</a>(Inst));</div>
<div class="line"><a name="l05453"></a><span class="lineno"> 5453</span>&#160; </div>
<div class="line"><a name="l05454"></a><span class="lineno"> 5454</span>&#160;  <span class="keywordtype">int</span> NewOpc = <a class="code" href="namespacellvm_1_1AMDGPU.html#a42e6f807e1852ff50f30ed48bce3abea">AMDGPU::getGlobalVaddrOp</a>(Opc);</div>
<div class="line"><a name="l05455"></a><span class="lineno"> 5455</span>&#160;  <span class="keywordflow">if</span> (NewOpc &lt; 0)</div>
<div class="line"><a name="l05456"></a><span class="lineno"> 5456</span>&#160;    NewOpc = <a class="code" href="namespacellvm_1_1AMDGPU.html#a2c49a690cf18ca46eda313ffdfe93ac5">AMDGPU::getFlatScratchInstSVfromSS</a>(Opc);</div>
<div class="line"><a name="l05457"></a><span class="lineno"> 5457</span>&#160;  <span class="keywordflow">if</span> (NewOpc &lt; 0)</div>
<div class="line"><a name="l05458"></a><span class="lineno"> 5458</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05459"></a><span class="lineno"> 5459</span>&#160; </div>
<div class="line"><a name="l05460"></a><span class="lineno"> 5460</span>&#160;  <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a> = Inst.<a class="code" href="classllvm_1_1MachineInstr.html#ab05719438bdf4b46871e5ecd9730caeb">getMF</a>()-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>();</div>
<div class="line"><a name="l05461"></a><span class="lineno"> 5461</span>&#160;  <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;SAddr = Inst.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(OldSAddrIdx);</div>
<div class="line"><a name="l05462"></a><span class="lineno"> 5462</span>&#160;  <span class="keywordflow">if</span> (RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#a980c731f7723b02b66010f4fce010c0f">isSGPRReg</a>(<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, SAddr.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>()))</div>
<div class="line"><a name="l05463"></a><span class="lineno"> 5463</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05464"></a><span class="lineno"> 5464</span>&#160; </div>
<div class="line"><a name="l05465"></a><span class="lineno"> 5465</span>&#160;  <span class="keywordtype">int</span> NewVAddrIdx = <a class="code" href="namespacellvm_1_1AMDGPU.html#a27efe1286cc31f5fc95355af30b0356c">AMDGPU::getNamedOperandIdx</a>(NewOpc, AMDGPU::OpName::vaddr);</div>
<div class="line"><a name="l05466"></a><span class="lineno"> 5466</span>&#160;  <span class="keywordflow">if</span> (NewVAddrIdx &lt; 0)</div>
<div class="line"><a name="l05467"></a><span class="lineno"> 5467</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05468"></a><span class="lineno"> 5468</span>&#160; </div>
<div class="line"><a name="l05469"></a><span class="lineno"> 5469</span>&#160;  <span class="keywordtype">int</span> OldVAddrIdx = <a class="code" href="namespacellvm_1_1AMDGPU.html#a27efe1286cc31f5fc95355af30b0356c">AMDGPU::getNamedOperandIdx</a>(Opc, AMDGPU::OpName::vaddr);</div>
<div class="line"><a name="l05470"></a><span class="lineno"> 5470</span>&#160; </div>
<div class="line"><a name="l05471"></a><span class="lineno"> 5471</span>&#160;  <span class="comment">// Check vaddr, it shall be zero or absent.</span></div>
<div class="line"><a name="l05472"></a><span class="lineno"> 5472</span>&#160;  <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *VAddrDef = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l05473"></a><span class="lineno"> 5473</span>&#160;  <span class="keywordflow">if</span> (OldVAddrIdx &gt;= 0) {</div>
<div class="line"><a name="l05474"></a><span class="lineno"> 5474</span>&#160;    <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;VAddr = Inst.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(OldVAddrIdx);</div>
<div class="line"><a name="l05475"></a><span class="lineno"> 5475</span>&#160;    VAddrDef = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#af988c2b4f62506108843a0fdc04b43a2">getUniqueVRegDef</a>(VAddr.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>());</div>
<div class="line"><a name="l05476"></a><span class="lineno"> 5476</span>&#160;    <span class="keywordflow">if</span> (!VAddrDef || VAddrDef-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a0363204b5fbab08a46f5a7cd7f376f78">getOpcode</a>() != AMDGPU::V_MOV_B32_e32 ||</div>
<div class="line"><a name="l05477"></a><span class="lineno"> 5477</span>&#160;        !VAddrDef-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(1).<a class="code" href="classllvm_1_1MachineOperand.html#a76f61c6784df6dc8402a8b9011041926">isImm</a>() ||</div>
<div class="line"><a name="l05478"></a><span class="lineno"> 5478</span>&#160;        VAddrDef-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(1).<a class="code" href="classllvm_1_1MachineOperand.html#a38b28a85f818b49d8806c150b8a5b4f7">getImm</a>() != 0)</div>
<div class="line"><a name="l05479"></a><span class="lineno"> 5479</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05480"></a><span class="lineno"> 5480</span>&#160;  }</div>
<div class="line"><a name="l05481"></a><span class="lineno"> 5481</span>&#160; </div>
<div class="line"><a name="l05482"></a><span class="lineno"> 5482</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCInstrDesc.html">MCInstrDesc</a> &amp;NewDesc = <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(NewOpc);</div>
<div class="line"><a name="l05483"></a><span class="lineno"> 5483</span>&#160;  Inst.<a class="code" href="classllvm_1_1MachineInstr.html#af11a92503408a812be672ee3efc848d3">setDesc</a>(NewDesc);</div>
<div class="line"><a name="l05484"></a><span class="lineno"> 5484</span>&#160; </div>
<div class="line"><a name="l05485"></a><span class="lineno"> 5485</span>&#160;  <span class="comment">// Callers expect iterator to be valid after this call, so modify the</span></div>
<div class="line"><a name="l05486"></a><span class="lineno"> 5486</span>&#160;  <span class="comment">// instruction in place.</span></div>
<div class="line"><a name="l05487"></a><span class="lineno"> 5487</span>&#160;  <span class="keywordflow">if</span> (OldVAddrIdx == NewVAddrIdx) {</div>
<div class="line"><a name="l05488"></a><span class="lineno"> 5488</span>&#160;    <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;NewVAddr = Inst.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(NewVAddrIdx);</div>
<div class="line"><a name="l05489"></a><span class="lineno"> 5489</span>&#160;    <span class="comment">// Clear use list from the old vaddr holding a zero register.</span></div>
<div class="line"><a name="l05490"></a><span class="lineno"> 5490</span>&#160;    <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#aea6bca2d194dea4aa5634cf5c394ebdc">removeRegOperandFromUseList</a>(&amp;NewVAddr);</div>
<div class="line"><a name="l05491"></a><span class="lineno"> 5491</span>&#160;    <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a557ce2bfb3c946e43d65d750b2537987">moveOperands</a>(&amp;NewVAddr, &amp;SAddr, 1);</div>
<div class="line"><a name="l05492"></a><span class="lineno"> 5492</span>&#160;    Inst.<a class="code" href="classllvm_1_1MachineInstr.html#ac3b161ec90385105cb46a08b52139e60">removeOperand</a>(OldSAddrIdx);</div>
<div class="line"><a name="l05493"></a><span class="lineno"> 5493</span>&#160;    <span class="comment">// Update the use list with the pointer we have just moved from vaddr to</span></div>
<div class="line"><a name="l05494"></a><span class="lineno"> 5494</span>&#160;    <span class="comment">// saddr position. Otherwise new vaddr will be missing from the use list.</span></div>
<div class="line"><a name="l05495"></a><span class="lineno"> 5495</span>&#160;    <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#aea6bca2d194dea4aa5634cf5c394ebdc">removeRegOperandFromUseList</a>(&amp;NewVAddr);</div>
<div class="line"><a name="l05496"></a><span class="lineno"> 5496</span>&#160;    <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#af7f7e5eb5b55add81ed8fe39ac83b9c2">addRegOperandToUseList</a>(&amp;NewVAddr);</div>
<div class="line"><a name="l05497"></a><span class="lineno"> 5497</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l05498"></a><span class="lineno"> 5498</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(OldSAddrIdx == NewVAddrIdx);</div>
<div class="line"><a name="l05499"></a><span class="lineno"> 5499</span>&#160; </div>
<div class="line"><a name="l05500"></a><span class="lineno"> 5500</span>&#160;    <span class="keywordflow">if</span> (OldVAddrIdx &gt;= 0) {</div>
<div class="line"><a name="l05501"></a><span class="lineno"> 5501</span>&#160;      <span class="keywordtype">int</span> NewVDstIn = <a class="code" href="namespacellvm_1_1AMDGPU.html#a27efe1286cc31f5fc95355af30b0356c">AMDGPU::getNamedOperandIdx</a>(NewOpc,</div>
<div class="line"><a name="l05502"></a><span class="lineno"> 5502</span>&#160;                                                 AMDGPU::OpName::vdst_in);</div>
<div class="line"><a name="l05503"></a><span class="lineno"> 5503</span>&#160; </div>
<div class="line"><a name="l05504"></a><span class="lineno"> 5504</span>&#160;      <span class="comment">// removeOperand doesn&#39;t try to fixup tied operand indexes at it goes, so</span></div>
<div class="line"><a name="l05505"></a><span class="lineno"> 5505</span>&#160;      <span class="comment">// it asserts. Untie the operands for now and retie them afterwards.</span></div>
<div class="line"><a name="l05506"></a><span class="lineno"> 5506</span>&#160;      <span class="keywordflow">if</span> (NewVDstIn != -1) {</div>
<div class="line"><a name="l05507"></a><span class="lineno"> 5507</span>&#160;        <span class="keywordtype">int</span> OldVDstIn = <a class="code" href="namespacellvm_1_1AMDGPU.html#a27efe1286cc31f5fc95355af30b0356c">AMDGPU::getNamedOperandIdx</a>(Opc, AMDGPU::OpName::vdst_in);</div>
<div class="line"><a name="l05508"></a><span class="lineno"> 5508</span>&#160;        Inst.<a class="code" href="classllvm_1_1MachineInstr.html#a8e66e9ca7739874b25b9337940c26a0a">untieRegOperand</a>(OldVDstIn);</div>
<div class="line"><a name="l05509"></a><span class="lineno"> 5509</span>&#160;      }</div>
<div class="line"><a name="l05510"></a><span class="lineno"> 5510</span>&#160; </div>
<div class="line"><a name="l05511"></a><span class="lineno"> 5511</span>&#160;      Inst.<a class="code" href="classllvm_1_1MachineInstr.html#ac3b161ec90385105cb46a08b52139e60">removeOperand</a>(OldVAddrIdx);</div>
<div class="line"><a name="l05512"></a><span class="lineno"> 5512</span>&#160; </div>
<div class="line"><a name="l05513"></a><span class="lineno"> 5513</span>&#160;      <span class="keywordflow">if</span> (NewVDstIn != -1) {</div>
<div class="line"><a name="l05514"></a><span class="lineno"> 5514</span>&#160;        <span class="keywordtype">int</span> NewVDst = <a class="code" href="namespacellvm_1_1AMDGPU.html#a27efe1286cc31f5fc95355af30b0356c">AMDGPU::getNamedOperandIdx</a>(NewOpc, AMDGPU::OpName::vdst);</div>
<div class="line"><a name="l05515"></a><span class="lineno"> 5515</span>&#160;        Inst.<a class="code" href="classllvm_1_1MachineInstr.html#aa37e31e5df481d2f8a6f9f022886cf5e">tieOperands</a>(NewVDst, NewVDstIn);</div>
<div class="line"><a name="l05516"></a><span class="lineno"> 5516</span>&#160;      }</div>
<div class="line"><a name="l05517"></a><span class="lineno"> 5517</span>&#160;    }</div>
<div class="line"><a name="l05518"></a><span class="lineno"> 5518</span>&#160;  }</div>
<div class="line"><a name="l05519"></a><span class="lineno"> 5519</span>&#160; </div>
<div class="line"><a name="l05520"></a><span class="lineno"> 5520</span>&#160;  <span class="keywordflow">if</span> (VAddrDef &amp;&amp; <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a4ea277721b4e63804715a62de87e9a72">use_nodbg_empty</a>(VAddrDef-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>()))</div>
<div class="line"><a name="l05521"></a><span class="lineno"> 5521</span>&#160;    VAddrDef-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#ac2421adbb9996e1b15f03a8abb6c70a8">eraseFromParent</a>();</div>
<div class="line"><a name="l05522"></a><span class="lineno"> 5522</span>&#160; </div>
<div class="line"><a name="l05523"></a><span class="lineno"> 5523</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l05524"></a><span class="lineno"> 5524</span>&#160;}</div>
<div class="line"><a name="l05525"></a><span class="lineno"> 5525</span>&#160; </div>
<div class="line"><a name="l05526"></a><span class="lineno"> 5526</span>&#160;<span class="comment">// FIXME: Remove this when SelectionDAG is obsoleted.</span></div>
<div class="line"><a name="l05527"></a><span class="lineno"><a class="line" href="classllvm_1_1SIInstrInfo.html#a23855b574f5790880e0cdfc2b6b39aad"> 5527</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1SIInstrInfo.html#a23855b574f5790880e0cdfc2b6b39aad">SIInstrInfo::legalizeOperandsFLAT</a>(<a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>,</div>
<div class="line"><a name="l05528"></a><span class="lineno"> 5528</span>&#160;                                       <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l05529"></a><span class="lineno"> 5529</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1SIInstrInfo.html#a8ed947ddafde5421d3f771f43f9c04d1">isSegmentSpecificFLAT</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>))</div>
<div class="line"><a name="l05530"></a><span class="lineno"> 5530</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05531"></a><span class="lineno"> 5531</span>&#160; </div>
<div class="line"><a name="l05532"></a><span class="lineno"> 5532</span>&#160;  <span class="comment">// Fixup SGPR operands in VGPRs. We only select these when the DAG divergence</span></div>
<div class="line"><a name="l05533"></a><span class="lineno"> 5533</span>&#160;  <span class="comment">// thinks they are uniform, so a readfirstlane should be valid.</span></div>
<div class="line"><a name="l05534"></a><span class="lineno"> 5534</span>&#160;  <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> *SAddr = <a class="code" href="classllvm_1_1SIInstrInfo.html#a61297a04e9cd91c9658b9affecdd9797">getNamedOperand</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, AMDGPU::OpName::saddr);</div>
<div class="line"><a name="l05535"></a><span class="lineno"> 5535</span>&#160;  <span class="keywordflow">if</span> (!SAddr || RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#af58d646af8dd60e4e514303dfa81de9c">isSGPRClass</a>(<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#aa363afffca4fc13a709673936b47fe33">getRegClass</a>(SAddr-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>())))</div>
<div class="line"><a name="l05536"></a><span class="lineno"> 5536</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05537"></a><span class="lineno"> 5537</span>&#160; </div>
<div class="line"><a name="l05538"></a><span class="lineno"> 5538</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SIInstrInfo.html#ac786791624fc85886f2db5c5e0601f1b">moveFlatAddrToVGPR</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>))</div>
<div class="line"><a name="l05539"></a><span class="lineno"> 5539</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05540"></a><span class="lineno"> 5540</span>&#160; </div>
<div class="line"><a name="l05541"></a><span class="lineno"> 5541</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> ToSGPR = <a class="code" href="classllvm_1_1SIInstrInfo.html#a46f8aeadd124344d2708f5941a62e1b1">readlaneVGPRToSGPR</a>(SAddr-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>(), <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>);</div>
<div class="line"><a name="l05542"></a><span class="lineno"> 5542</span>&#160;  SAddr-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#a682ba82f42f7903d0000ffbb13ea3b57">setReg</a>(ToSGPR);</div>
<div class="line"><a name="l05543"></a><span class="lineno"> 5543</span>&#160;}</div>
<div class="line"><a name="l05544"></a><span class="lineno"> 5544</span>&#160; </div>
<div class="line"><a name="l05545"></a><span class="lineno"><a class="line" href="classllvm_1_1SIInstrInfo.html#a31612a0bf935add36f82065133267d4a"> 5545</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1SIInstrInfo.html#a31612a0bf935add36f82065133267d4a">SIInstrInfo::legalizeGenericOperand</a>(<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;InsertMBB,</div>
<div class="line"><a name="l05546"></a><span class="lineno"> 5546</span>&#160;                                         <a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>,</div>
<div class="line"><a name="l05547"></a><span class="lineno"> 5547</span>&#160;                                         <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *DstRC,</div>
<div class="line"><a name="l05548"></a><span class="lineno"> 5548</span>&#160;                                         <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>,</div>
<div class="line"><a name="l05549"></a><span class="lineno"> 5549</span>&#160;                                         <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>,</div>
<div class="line"><a name="l05550"></a><span class="lineno"> 5550</span>&#160;                                         <span class="keyword">const</span> <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l05551"></a><span class="lineno"> 5551</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> OpReg = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getReg();</div>
<div class="line"><a name="l05552"></a><span class="lineno"> 5552</span>&#160;  <span class="keywordtype">unsigned</span> OpSubReg = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getSubReg();</div>
<div class="line"><a name="l05553"></a><span class="lineno"> 5553</span>&#160; </div>
<div class="line"><a name="l05554"></a><span class="lineno"> 5554</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *OpRC = RI.getSubClassWithSubReg(</div>
<div class="line"><a name="l05555"></a><span class="lineno"> 5555</span>&#160;      RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#a77b95c7a5620b2e92ef8ca3aa8be15bd">getRegClassForReg</a>(<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, OpReg), OpSubReg);</div>
<div class="line"><a name="l05556"></a><span class="lineno"> 5556</span>&#160; </div>
<div class="line"><a name="l05557"></a><span class="lineno"> 5557</span>&#160;  <span class="comment">// Check if operand is already the correct register class.</span></div>
<div class="line"><a name="l05558"></a><span class="lineno"> 5558</span>&#160;  <span class="keywordflow">if</span> (DstRC == OpRC)</div>
<div class="line"><a name="l05559"></a><span class="lineno"> 5559</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05560"></a><span class="lineno"> 5560</span>&#160; </div>
<div class="line"><a name="l05561"></a><span class="lineno"> 5561</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> DstReg = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5c77792a06583e0fe7a0379ad94a2809">createVirtualRegister</a>(DstRC);</div>
<div class="line"><a name="l05562"></a><span class="lineno"> 5562</span>&#160;  <span class="keyword">auto</span> Copy = <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(InsertMBB, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::COPY), DstReg).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a1ac8d27532cfd1d1f032ecbff2ba3611">add</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>);</div>
<div class="line"><a name="l05563"></a><span class="lineno"> 5563</span>&#160; </div>
<div class="line"><a name="l05564"></a><span class="lineno"> 5564</span>&#160;  <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.setReg(DstReg);</div>
<div class="line"><a name="l05565"></a><span class="lineno"> 5565</span>&#160;  <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.setSubReg(0);</div>
<div class="line"><a name="l05566"></a><span class="lineno"> 5566</span>&#160; </div>
<div class="line"><a name="l05567"></a><span class="lineno"> 5567</span>&#160;  <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a> = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a40d954b9cf9ee8b545a78725f2549cba">getVRegDef</a>(OpReg);</div>
<div class="line"><a name="l05568"></a><span class="lineno"> 5568</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a>)</div>
<div class="line"><a name="l05569"></a><span class="lineno"> 5569</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05570"></a><span class="lineno"> 5570</span>&#160; </div>
<div class="line"><a name="l05571"></a><span class="lineno"> 5571</span>&#160;  <span class="comment">// Try to eliminate the copy if it is copying an immediate value.</span></div>
<div class="line"><a name="l05572"></a><span class="lineno"> 5572</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a>-&gt;isMoveImmediate() &amp;&amp; DstRC != &amp;AMDGPU::VReg_1RegClass)</div>
<div class="line"><a name="l05573"></a><span class="lineno"> 5573</span>&#160;    <a class="code" href="classllvm_1_1SIInstrInfo.html#a23e6a2bae144c329c1291fce64db62af">FoldImmediate</a>(*Copy, *<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a>, OpReg, &amp;<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>);</div>
<div class="line"><a name="l05574"></a><span class="lineno"> 5574</span>&#160; </div>
<div class="line"><a name="l05575"></a><span class="lineno"> 5575</span>&#160;  <span class="keywordtype">bool</span> ImpDef = <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a>-&gt;isImplicitDef();</div>
<div class="line"><a name="l05576"></a><span class="lineno"> 5576</span>&#160;  <span class="keywordflow">while</span> (!ImpDef &amp;&amp; <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a> &amp;&amp; <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a>-&gt;isCopy()) {</div>
<div class="line"><a name="l05577"></a><span class="lineno"> 5577</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a>-&gt;getOperand(1).getReg().isPhysical())</div>
<div class="line"><a name="l05578"></a><span class="lineno"> 5578</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05579"></a><span class="lineno"> 5579</span>&#160;    <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a> = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#af988c2b4f62506108843a0fdc04b43a2">getUniqueVRegDef</a>(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a>-&gt;getOperand(1).getReg());</div>
<div class="line"><a name="l05580"></a><span class="lineno"> 5580</span>&#160;    ImpDef = <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a> &amp;&amp; <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a>-&gt;isImplicitDef();</div>
<div class="line"><a name="l05581"></a><span class="lineno"> 5581</span>&#160;  }</div>
<div class="line"><a name="l05582"></a><span class="lineno"> 5582</span>&#160;  <span class="keywordflow">if</span> (!RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#af58d646af8dd60e4e514303dfa81de9c">isSGPRClass</a>(DstRC) &amp;&amp; !Copy-&gt;readsRegister(AMDGPU::EXEC, &amp;RI) &amp;&amp;</div>
<div class="line"><a name="l05583"></a><span class="lineno"> 5583</span>&#160;      !ImpDef)</div>
<div class="line"><a name="l05584"></a><span class="lineno"> 5584</span>&#160;    Copy.addReg(AMDGPU::EXEC, <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da0fec8ba6f4a4dc758b725205985eee99">RegState::Implicit</a>);</div>
<div class="line"><a name="l05585"></a><span class="lineno"> 5585</span>&#160;}</div>
<div class="line"><a name="l05586"></a><span class="lineno"> 5586</span>&#160; </div>
<div class="line"><a name="l05587"></a><span class="lineno"> 5587</span>&#160;<span class="comment">// Emit the actual waterfall loop, executing the wrapped instruction for each</span></div>
<div class="line"><a name="l05588"></a><span class="lineno"> 5588</span>&#160;<span class="comment">// unique value of \p Rsrc across all lanes. In the best case we execute 1</span></div>
<div class="line"><a name="l05589"></a><span class="lineno"> 5589</span>&#160;<span class="comment">// iteration, in the worst case we execute 64 (once per lane).</span></div>
<div class="line"><a name="l05590"></a><span class="lineno"> 5590</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l05591"></a><span class="lineno"><a class="line" href="SIInstrInfo_8cpp.html#a38f4c0573a55639ee5de46f1d3a3ae99"> 5591</a></span>&#160;<a class="code" href="SIInstrInfo_8cpp.html#a38f4c0573a55639ee5de46f1d3a3ae99">emitLoadSRsrcFromVGPRLoop</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SIInstrInfo.html">SIInstrInfo</a> &amp;<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>,</div>
<div class="line"><a name="l05592"></a><span class="lineno"> 5592</span>&#160;                          <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;OrigBB, <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;LoopBB,</div>
<div class="line"><a name="l05593"></a><span class="lineno"> 5593</span>&#160;                          <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;BodyBB, <span class="keyword">const</span> <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>,</div>
<div class="line"><a name="l05594"></a><span class="lineno"> 5594</span>&#160;                          <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;Rsrc) {</div>
<div class="line"><a name="l05595"></a><span class="lineno"> 5595</span>&#160;  <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF = *OrigBB.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a4e21760f681d6f97f95c8414e7b83ea5">getParent</a>();</div>
<div class="line"><a name="l05596"></a><span class="lineno"> 5596</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1GCNSubtarget.html">GCNSubtarget</a> &amp;ST = MF.<a class="code" href="classllvm_1_1MachineFunction.html#a325f6b611ef9ec06798d3b4eb9572093">getSubtarget</a>&lt;<a class="code" href="classllvm_1_1GCNSubtarget.html">GCNSubtarget</a>&gt;();</div>
<div class="line"><a name="l05597"></a><span class="lineno"> 5597</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SIRegisterInfo.html">SIRegisterInfo</a> *<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a> = ST.getRegisterInfo();</div>
<div class="line"><a name="l05598"></a><span class="lineno"> 5598</span>&#160;  <span class="keywordtype">unsigned</span> Exec = ST.isWave32() ? AMDGPU::EXEC_LO : AMDGPU::EXEC;</div>
<div class="line"><a name="l05599"></a><span class="lineno"> 5599</span>&#160;  <span class="keywordtype">unsigned</span> SaveExecOpc =</div>
<div class="line"><a name="l05600"></a><span class="lineno"> 5600</span>&#160;      ST.isWave32() ? AMDGPU::S_AND_SAVEEXEC_B32 : AMDGPU::S_AND_SAVEEXEC_B64;</div>
<div class="line"><a name="l05601"></a><span class="lineno"> 5601</span>&#160;  <span class="keywordtype">unsigned</span> XorTermOpc =</div>
<div class="line"><a name="l05602"></a><span class="lineno"> 5602</span>&#160;      ST.isWave32() ? AMDGPU::S_XOR_B32_term : AMDGPU::S_XOR_B64_term;</div>
<div class="line"><a name="l05603"></a><span class="lineno"> 5603</span>&#160;  <span class="keywordtype">unsigned</span> AndOpc =</div>
<div class="line"><a name="l05604"></a><span class="lineno"> 5604</span>&#160;      ST.isWave32() ? AMDGPU::S_AND_B32 : AMDGPU::S_AND_B64;</div>
<div class="line"><a name="l05605"></a><span class="lineno"> 5605</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> *BoolXExecRC = <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>-&gt;<a class="code" href="classllvm_1_1TargetRegisterInfo.html#a55ad07e4cbe29bea4cb69b78472b690e">getRegClass</a>(AMDGPU::SReg_1_XEXECRegClassID);</div>
<div class="line"><a name="l05606"></a><span class="lineno"> 5606</span>&#160; </div>
<div class="line"><a name="l05607"></a><span class="lineno"> 5607</span>&#160;  <a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = LoopBB.<a class="code" href="classllvm_1_1MachineBasicBlock.html#ab2d91e7bec944efcbc39d8e30644f111">begin</a>();</div>
<div class="line"><a name="l05608"></a><span class="lineno"> 5608</span>&#160; </div>
<div class="line"><a name="l05609"></a><span class="lineno"> 5609</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Register, 8&gt;</a> ReadlanePieces;</div>
<div class="line"><a name="l05610"></a><span class="lineno"> 5610</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> CondReg;</div>
<div class="line"><a name="l05611"></a><span class="lineno"> 5611</span>&#160; </div>
<div class="line"><a name="l05612"></a><span class="lineno"> 5612</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> VRsrc = Rsrc.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>();</div>
<div class="line"><a name="l05613"></a><span class="lineno"> 5613</span>&#160;  <span class="keywordtype">unsigned</span> VRsrcUndef = <a class="code" href="namespacellvm.html#aa3a1f79eb5e89f41ad5a3d8e9b2a367a">getUndefRegState</a>(Rsrc.<a class="code" href="classllvm_1_1MachineOperand.html#a1255befbcd6e034394681b1bcd3529ff">isUndef</a>());</div>
<div class="line"><a name="l05614"></a><span class="lineno"> 5614</span>&#160; </div>
<div class="line"><a name="l05615"></a><span class="lineno"> 5615</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="AArch64MIPeepholeOpt_8cpp.html#a9c374320ed4e895f9afa199987182bd2">RegSize</a> = <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>-&gt;<a class="code" href="classllvm_1_1TargetRegisterInfo.html#a251557179fe64bb09bd7e327c60c6b24">getRegSizeInBits</a>(Rsrc.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>(), <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>);</div>
<div class="line"><a name="l05616"></a><span class="lineno"> 5616</span>&#160;  <span class="keywordtype">unsigned</span> NumSubRegs =  <a class="code" href="AArch64MIPeepholeOpt_8cpp.html#a9c374320ed4e895f9afa199987182bd2">RegSize</a> / 32;</div>
<div class="line"><a name="l05617"></a><span class="lineno"> 5617</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(NumSubRegs % 2 == 0 &amp;&amp; NumSubRegs &lt;= 32 &amp;&amp; <span class="stringliteral">&quot;Unhandled register size&quot;</span>);</div>
<div class="line"><a name="l05618"></a><span class="lineno"> 5618</span>&#160; </div>
<div class="line"><a name="l05619"></a><span class="lineno"> 5619</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> Idx = 0; Idx &lt; NumSubRegs; Idx += 2) {</div>
<div class="line"><a name="l05620"></a><span class="lineno"> 5620</span>&#160; </div>
<div class="line"><a name="l05621"></a><span class="lineno"> 5621</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> CurRegLo = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5c77792a06583e0fe7a0379ad94a2809">createVirtualRegister</a>(&amp;AMDGPU::SGPR_32RegClass);</div>
<div class="line"><a name="l05622"></a><span class="lineno"> 5622</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> CurRegHi = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5c77792a06583e0fe7a0379ad94a2809">createVirtualRegister</a>(&amp;AMDGPU::SGPR_32RegClass);</div>
<div class="line"><a name="l05623"></a><span class="lineno"> 5623</span>&#160; </div>
<div class="line"><a name="l05624"></a><span class="lineno"> 5624</span>&#160;    <span class="comment">// Read the next variant &lt;- also loop target.</span></div>
<div class="line"><a name="l05625"></a><span class="lineno"> 5625</span>&#160;    <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(LoopBB, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(AMDGPU::V_READFIRSTLANE_B32), CurRegLo)</div>
<div class="line"><a name="l05626"></a><span class="lineno"> 5626</span>&#160;            .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(VRsrc, VRsrcUndef, <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>-&gt;getSubRegFromChannel(Idx));</div>
<div class="line"><a name="l05627"></a><span class="lineno"> 5627</span>&#160; </div>
<div class="line"><a name="l05628"></a><span class="lineno"> 5628</span>&#160;    <span class="comment">// Read the next variant &lt;- also loop target.</span></div>
<div class="line"><a name="l05629"></a><span class="lineno"> 5629</span>&#160;    <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(LoopBB, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(AMDGPU::V_READFIRSTLANE_B32), CurRegHi)</div>
<div class="line"><a name="l05630"></a><span class="lineno"> 5630</span>&#160;            .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(VRsrc, VRsrcUndef, <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>-&gt;getSubRegFromChannel(Idx + 1));</div>
<div class="line"><a name="l05631"></a><span class="lineno"> 5631</span>&#160; </div>
<div class="line"><a name="l05632"></a><span class="lineno"> 5632</span>&#160;    ReadlanePieces.push_back(CurRegLo);</div>
<div class="line"><a name="l05633"></a><span class="lineno"> 5633</span>&#160;    ReadlanePieces.push_back(CurRegHi);</div>
<div class="line"><a name="l05634"></a><span class="lineno"> 5634</span>&#160; </div>
<div class="line"><a name="l05635"></a><span class="lineno"> 5635</span>&#160;    <span class="comment">// Comparison is to be done as 64-bit.</span></div>
<div class="line"><a name="l05636"></a><span class="lineno"> 5636</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> CurReg = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5c77792a06583e0fe7a0379ad94a2809">createVirtualRegister</a>(&amp;AMDGPU::SGPR_64RegClass);</div>
<div class="line"><a name="l05637"></a><span class="lineno"> 5637</span>&#160;    <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(LoopBB, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(AMDGPU::REG_SEQUENCE), CurReg)</div>
<div class="line"><a name="l05638"></a><span class="lineno"> 5638</span>&#160;            .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(CurRegLo)</div>
<div class="line"><a name="l05639"></a><span class="lineno"> 5639</span>&#160;            .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(AMDGPU::sub0)</div>
<div class="line"><a name="l05640"></a><span class="lineno"> 5640</span>&#160;            .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(CurRegHi)</div>
<div class="line"><a name="l05641"></a><span class="lineno"> 5641</span>&#160;            .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(AMDGPU::sub1);</div>
<div class="line"><a name="l05642"></a><span class="lineno"> 5642</span>&#160; </div>
<div class="line"><a name="l05643"></a><span class="lineno"> 5643</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> NewCondReg = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5c77792a06583e0fe7a0379ad94a2809">createVirtualRegister</a>(BoolXExecRC);</div>
<div class="line"><a name="l05644"></a><span class="lineno"> 5644</span>&#160;    <span class="keyword">auto</span> Cmp =</div>
<div class="line"><a name="l05645"></a><span class="lineno"> 5645</span>&#160;        <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(LoopBB, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(AMDGPU::V_CMP_EQ_U64_e64), NewCondReg)</div>
<div class="line"><a name="l05646"></a><span class="lineno"> 5646</span>&#160;            .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(CurReg);</div>
<div class="line"><a name="l05647"></a><span class="lineno"> 5647</span>&#160;    <span class="keywordflow">if</span> (NumSubRegs &lt;= 2)</div>
<div class="line"><a name="l05648"></a><span class="lineno"> 5648</span>&#160;      Cmp.addReg(VRsrc);</div>
<div class="line"><a name="l05649"></a><span class="lineno"> 5649</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l05650"></a><span class="lineno"> 5650</span>&#160;      Cmp.addReg(VRsrc, VRsrcUndef, <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>-&gt;getSubRegFromChannel(Idx, 2));</div>
<div class="line"><a name="l05651"></a><span class="lineno"> 5651</span>&#160; </div>
<div class="line"><a name="l05652"></a><span class="lineno"> 5652</span>&#160;    <span class="comment">// Combine the comparison results with AND.</span></div>
<div class="line"><a name="l05653"></a><span class="lineno"> 5653</span>&#160;    <span class="keywordflow">if</span> (!CondReg) <span class="comment">// First.</span></div>
<div class="line"><a name="l05654"></a><span class="lineno"> 5654</span>&#160;      CondReg = NewCondReg;</div>
<div class="line"><a name="l05655"></a><span class="lineno"> 5655</span>&#160;    <span class="keywordflow">else</span> { <span class="comment">// If not the first, we create an AND.</span></div>
<div class="line"><a name="l05656"></a><span class="lineno"> 5656</span>&#160;      <a class="code" href="classllvm_1_1Register.html">Register</a> AndReg = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5c77792a06583e0fe7a0379ad94a2809">createVirtualRegister</a>(BoolXExecRC);</div>
<div class="line"><a name="l05657"></a><span class="lineno"> 5657</span>&#160;      <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(LoopBB, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(AndOpc), AndReg)</div>
<div class="line"><a name="l05658"></a><span class="lineno"> 5658</span>&#160;              .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(CondReg)</div>
<div class="line"><a name="l05659"></a><span class="lineno"> 5659</span>&#160;              .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(NewCondReg);</div>
<div class="line"><a name="l05660"></a><span class="lineno"> 5660</span>&#160;      CondReg = AndReg;</div>
<div class="line"><a name="l05661"></a><span class="lineno"> 5661</span>&#160;    }</div>
<div class="line"><a name="l05662"></a><span class="lineno"> 5662</span>&#160;  } <span class="comment">// End for loop.</span></div>
<div class="line"><a name="l05663"></a><span class="lineno"> 5663</span>&#160; </div>
<div class="line"><a name="l05664"></a><span class="lineno"> 5664</span>&#160;  <span class="keyword">auto</span> SRsrcRC = <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>-&gt;getEquivalentSGPRClass(<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#aa363afffca4fc13a709673936b47fe33">getRegClass</a>(VRsrc));</div>
<div class="line"><a name="l05665"></a><span class="lineno"> 5665</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> SRsrc = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5c77792a06583e0fe7a0379ad94a2809">createVirtualRegister</a>(SRsrcRC);</div>
<div class="line"><a name="l05666"></a><span class="lineno"> 5666</span>&#160; </div>
<div class="line"><a name="l05667"></a><span class="lineno"> 5667</span>&#160;  <span class="comment">// Build scalar Rsrc.</span></div>
<div class="line"><a name="l05668"></a><span class="lineno"> 5668</span>&#160;  <span class="keyword">auto</span> <a class="code" href="R600ClauseMergePass_8cpp.html#aba99928790de45fa7aa12b47fbd828ff">Merge</a> = <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(LoopBB, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(AMDGPU::REG_SEQUENCE), SRsrc);</div>
<div class="line"><a name="l05669"></a><span class="lineno"> 5669</span>&#160;  <span class="keywordtype">unsigned</span> Channel = 0;</div>
<div class="line"><a name="l05670"></a><span class="lineno"> 5670</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Register.html">Register</a> Piece : ReadlanePieces) {</div>
<div class="line"><a name="l05671"></a><span class="lineno"> 5671</span>&#160;    <a class="code" href="R600ClauseMergePass_8cpp.html#aba99928790de45fa7aa12b47fbd828ff">Merge</a>.addReg(Piece)</div>
<div class="line"><a name="l05672"></a><span class="lineno"> 5672</span>&#160;         .addImm(<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>-&gt;getSubRegFromChannel(Channel++));</div>
<div class="line"><a name="l05673"></a><span class="lineno"> 5673</span>&#160;  }</div>
<div class="line"><a name="l05674"></a><span class="lineno"> 5674</span>&#160; </div>
<div class="line"><a name="l05675"></a><span class="lineno"> 5675</span>&#160;  <span class="comment">// Update Rsrc operand to use the SGPR Rsrc.</span></div>
<div class="line"><a name="l05676"></a><span class="lineno"> 5676</span>&#160;  Rsrc.<a class="code" href="classllvm_1_1MachineOperand.html#a682ba82f42f7903d0000ffbb13ea3b57">setReg</a>(SRsrc);</div>
<div class="line"><a name="l05677"></a><span class="lineno"> 5677</span>&#160;  Rsrc.<a class="code" href="classllvm_1_1MachineOperand.html#a8a82683fccdef8a5ef772ef03277aee7">setIsKill</a>();</div>
<div class="line"><a name="l05678"></a><span class="lineno"> 5678</span>&#160; </div>
<div class="line"><a name="l05679"></a><span class="lineno"> 5679</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> SaveExec = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5c77792a06583e0fe7a0379ad94a2809">createVirtualRegister</a>(BoolXExecRC);</div>
<div class="line"><a name="l05680"></a><span class="lineno"> 5680</span>&#160;  <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#aa18b5ef8a2c55e42b08affe5d0323e12">setSimpleHint</a>(SaveExec, CondReg);</div>
<div class="line"><a name="l05681"></a><span class="lineno"> 5681</span>&#160; </div>
<div class="line"><a name="l05682"></a><span class="lineno"> 5682</span>&#160;  <span class="comment">// Update EXEC to matching lanes, saving original to SaveExec.</span></div>
<div class="line"><a name="l05683"></a><span class="lineno"> 5683</span>&#160;  <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(LoopBB, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(SaveExecOpc), SaveExec)</div>
<div class="line"><a name="l05684"></a><span class="lineno"> 5684</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(CondReg, <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da9ddde91ef09476d28a088fe57f8e2921">RegState::Kill</a>);</div>
<div class="line"><a name="l05685"></a><span class="lineno"> 5685</span>&#160; </div>
<div class="line"><a name="l05686"></a><span class="lineno"> 5686</span>&#160;  <span class="comment">// The original instruction is here; we insert the terminators after it.</span></div>
<div class="line"><a name="l05687"></a><span class="lineno"> 5687</span>&#160;  <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = BodyBB.<a class="code" href="classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">end</a>();</div>
<div class="line"><a name="l05688"></a><span class="lineno"> 5688</span>&#160; </div>
<div class="line"><a name="l05689"></a><span class="lineno"> 5689</span>&#160;  <span class="comment">// Update EXEC, switch all done bits to 0 and all todo bits to 1.</span></div>
<div class="line"><a name="l05690"></a><span class="lineno"> 5690</span>&#160;  <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(BodyBB, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(XorTermOpc), Exec)</div>
<div class="line"><a name="l05691"></a><span class="lineno"> 5691</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(Exec)</div>
<div class="line"><a name="l05692"></a><span class="lineno"> 5692</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(SaveExec);</div>
<div class="line"><a name="l05693"></a><span class="lineno"> 5693</span>&#160; </div>
<div class="line"><a name="l05694"></a><span class="lineno"> 5694</span>&#160;  <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(BodyBB, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(AMDGPU::SI_WATERFALL_LOOP)).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#af8571e8dfb010fd8ae76cc4f87aafaac">addMBB</a>(&amp;LoopBB);</div>
<div class="line"><a name="l05695"></a><span class="lineno"> 5695</span>&#160;}</div>
<div class="line"><a name="l05696"></a><span class="lineno"> 5696</span>&#160; </div>
<div class="line"><a name="l05697"></a><span class="lineno"> 5697</span>&#160;<span class="comment">// Build a waterfall loop around \p MI, replacing the VGPR \p Rsrc register</span></div>
<div class="line"><a name="l05698"></a><span class="lineno"> 5698</span>&#160;<span class="comment">// with SGPRs by iterating over all unique values across all lanes.</span></div>
<div class="line"><a name="l05699"></a><span class="lineno"> 5699</span>&#160;<span class="comment">// Returns the loop basic block that now contains \p MI.</span></div>
<div class="line"><a name="l05700"></a><span class="lineno"> 5700</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *</div>
<div class="line"><a name="l05701"></a><span class="lineno"><a class="line" href="SIInstrInfo_8cpp.html#ac95ae99e125cfe2976f3f2c8e42fe7e6"> 5701</a></span>&#160;<a class="code" href="SIInstrInfo_8cpp.html#ac95ae99e125cfe2976f3f2c8e42fe7e6">loadSRsrcFromVGPR</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SIInstrInfo.html">SIInstrInfo</a> &amp;<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>,</div>
<div class="line"><a name="l05702"></a><span class="lineno"> 5702</span>&#160;                  <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;Rsrc, <a class="code" href="classllvm_1_1MachineDominatorTree.html">MachineDominatorTree</a> *MDT,</div>
<div class="line"><a name="l05703"></a><span class="lineno"> 5703</span>&#160;                  <a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::iterator</a> Begin = <span class="keyword">nullptr</span>,</div>
<div class="line"><a name="l05704"></a><span class="lineno"> 5704</span>&#160;                  <a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::iterator</a> End = <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l05705"></a><span class="lineno"> 5705</span>&#160;  <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a> = *<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getParent();</div>
<div class="line"><a name="l05706"></a><span class="lineno"> 5706</span>&#160;  <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF = *<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a4e21760f681d6f97f95c8414e7b83ea5">getParent</a>();</div>
<div class="line"><a name="l05707"></a><span class="lineno"> 5707</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1GCNSubtarget.html">GCNSubtarget</a> &amp;ST = MF.<a class="code" href="classllvm_1_1MachineFunction.html#a325f6b611ef9ec06798d3b4eb9572093">getSubtarget</a>&lt;<a class="code" href="classllvm_1_1GCNSubtarget.html">GCNSubtarget</a>&gt;();</div>
<div class="line"><a name="l05708"></a><span class="lineno"> 5708</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SIRegisterInfo.html">SIRegisterInfo</a> *<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a> = ST.getRegisterInfo();</div>
<div class="line"><a name="l05709"></a><span class="lineno"> 5709</span>&#160;  <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a> = MF.<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>();</div>
<div class="line"><a name="l05710"></a><span class="lineno"> 5710</span>&#160;  <span class="keywordflow">if</span> (!Begin.isValid())</div>
<div class="line"><a name="l05711"></a><span class="lineno"> 5711</span>&#160;    Begin = &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>;</div>
<div class="line"><a name="l05712"></a><span class="lineno"> 5712</span>&#160;  <span class="keywordflow">if</span> (!End.isValid()) {</div>
<div class="line"><a name="l05713"></a><span class="lineno"> 5713</span>&#160;    End = &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>;</div>
<div class="line"><a name="l05714"></a><span class="lineno"> 5714</span>&#160;    ++End;</div>
<div class="line"><a name="l05715"></a><span class="lineno"> 5715</span>&#160;  }</div>
<div class="line"><a name="l05716"></a><span class="lineno"> 5716</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a> = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getDebugLoc();</div>
<div class="line"><a name="l05717"></a><span class="lineno"> 5717</span>&#160;  <span class="keywordtype">unsigned</span> Exec = ST.isWave32() ? AMDGPU::EXEC_LO : AMDGPU::EXEC;</div>
<div class="line"><a name="l05718"></a><span class="lineno"> 5718</span>&#160;  <span class="keywordtype">unsigned</span> MovExecOpc = ST.isWave32() ? AMDGPU::S_MOV_B32 : AMDGPU::S_MOV_B64;</div>
<div class="line"><a name="l05719"></a><span class="lineno"> 5719</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> *BoolXExecRC = <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>-&gt;<a class="code" href="classllvm_1_1TargetRegisterInfo.html#a55ad07e4cbe29bea4cb69b78472b690e">getRegClass</a>(AMDGPU::SReg_1_XEXECRegClassID);</div>
<div class="line"><a name="l05720"></a><span class="lineno"> 5720</span>&#160; </div>
<div class="line"><a name="l05721"></a><span class="lineno"> 5721</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> SaveExec = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5c77792a06583e0fe7a0379ad94a2809">createVirtualRegister</a>(BoolXExecRC);</div>
<div class="line"><a name="l05722"></a><span class="lineno"> 5722</span>&#160; </div>
<div class="line"><a name="l05723"></a><span class="lineno"> 5723</span>&#160;  <span class="comment">// Save the EXEC mask</span></div>
<div class="line"><a name="l05724"></a><span class="lineno"> 5724</span>&#160;  <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, Begin, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(MovExecOpc), SaveExec).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(Exec);</div>
<div class="line"><a name="l05725"></a><span class="lineno"> 5725</span>&#160; </div>
<div class="line"><a name="l05726"></a><span class="lineno"> 5726</span>&#160;  <span class="comment">// Killed uses in the instruction we are waterfalling around will be</span></div>
<div class="line"><a name="l05727"></a><span class="lineno"> 5727</span>&#160;  <span class="comment">// incorrect due to the added control-flow.</span></div>
<div class="line"><a name="l05728"></a><span class="lineno"> 5728</span>&#160;  <a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::iterator</a> AfterMI = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>;</div>
<div class="line"><a name="l05729"></a><span class="lineno"> 5729</span>&#160;  ++AfterMI;</div>
<div class="line"><a name="l05730"></a><span class="lineno"> 5730</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = Begin; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != AfterMI; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>++) {</div>
<div class="line"><a name="l05731"></a><span class="lineno"> 5731</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;MO : <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;uses()) {</div>
<div class="line"><a name="l05732"></a><span class="lineno"> 5732</span>&#160;      <span class="keywordflow">if</span> (MO.isReg() &amp;&amp; MO.isUse()) {</div>
<div class="line"><a name="l05733"></a><span class="lineno"> 5733</span>&#160;        <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a3da9727b1d452d6dcab08fde547ab634">clearKillFlags</a>(MO.getReg());</div>
<div class="line"><a name="l05734"></a><span class="lineno"> 5734</span>&#160;      }</div>
<div class="line"><a name="l05735"></a><span class="lineno"> 5735</span>&#160;    }</div>
<div class="line"><a name="l05736"></a><span class="lineno"> 5736</span>&#160;  }</div>
<div class="line"><a name="l05737"></a><span class="lineno"> 5737</span>&#160; </div>
<div class="line"><a name="l05738"></a><span class="lineno"> 5738</span>&#160;  <span class="comment">// To insert the loop we need to split the block. Move everything after this</span></div>
<div class="line"><a name="l05739"></a><span class="lineno"> 5739</span>&#160;  <span class="comment">// point to a new block, and insert a new empty block between the two.</span></div>
<div class="line"><a name="l05740"></a><span class="lineno"> 5740</span>&#160;  <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *LoopBB = MF.<a class="code" href="classllvm_1_1MachineFunction.html#a1d483b4ac24a96c2250becb232ed4cb4">CreateMachineBasicBlock</a>();</div>
<div class="line"><a name="l05741"></a><span class="lineno"> 5741</span>&#160;  <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *BodyBB = MF.<a class="code" href="classllvm_1_1MachineFunction.html#a1d483b4ac24a96c2250becb232ed4cb4">CreateMachineBasicBlock</a>();</div>
<div class="line"><a name="l05742"></a><span class="lineno"> 5742</span>&#160;  <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *RemainderBB = MF.<a class="code" href="classllvm_1_1MachineFunction.html#a1d483b4ac24a96c2250becb232ed4cb4">CreateMachineBasicBlock</a>();</div>
<div class="line"><a name="l05743"></a><span class="lineno"> 5743</span>&#160;  <a class="code" href="classllvm_1_1ilist__iterator.html">MachineFunction::iterator</a> <a class="code" href="AArch64SLSHardening_8cpp.html#ad5f691fdc1a09aaf6df5fef958b35a3d">MBBI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>);</div>
<div class="line"><a name="l05744"></a><span class="lineno"> 5744</span>&#160;  ++<a class="code" href="AArch64SLSHardening_8cpp.html#ad5f691fdc1a09aaf6df5fef958b35a3d">MBBI</a>;</div>
<div class="line"><a name="l05745"></a><span class="lineno"> 5745</span>&#160; </div>
<div class="line"><a name="l05746"></a><span class="lineno"> 5746</span>&#160;  MF.<a class="code" href="classllvm_1_1MachineFunction.html#af4c0db6d503e0ba3b8e44067023ffbba">insert</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#ad5f691fdc1a09aaf6df5fef958b35a3d">MBBI</a>, LoopBB);</div>
<div class="line"><a name="l05747"></a><span class="lineno"> 5747</span>&#160;  MF.<a class="code" href="classllvm_1_1MachineFunction.html#af4c0db6d503e0ba3b8e44067023ffbba">insert</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#ad5f691fdc1a09aaf6df5fef958b35a3d">MBBI</a>, BodyBB);</div>
<div class="line"><a name="l05748"></a><span class="lineno"> 5748</span>&#160;  MF.<a class="code" href="classllvm_1_1MachineFunction.html#af4c0db6d503e0ba3b8e44067023ffbba">insert</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#ad5f691fdc1a09aaf6df5fef958b35a3d">MBBI</a>, RemainderBB);</div>
<div class="line"><a name="l05749"></a><span class="lineno"> 5749</span>&#160; </div>
<div class="line"><a name="l05750"></a><span class="lineno"> 5750</span>&#160;  LoopBB-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#a935e2a8884592189d8f261634a0b24c5">addSuccessor</a>(BodyBB);</div>
<div class="line"><a name="l05751"></a><span class="lineno"> 5751</span>&#160;  BodyBB-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#a935e2a8884592189d8f261634a0b24c5">addSuccessor</a>(LoopBB);</div>
<div class="line"><a name="l05752"></a><span class="lineno"> 5752</span>&#160;  BodyBB-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#a935e2a8884592189d8f261634a0b24c5">addSuccessor</a>(RemainderBB);</div>
<div class="line"><a name="l05753"></a><span class="lineno"> 5753</span>&#160; </div>
<div class="line"><a name="l05754"></a><span class="lineno"> 5754</span>&#160;  <span class="comment">// Move Begin to MI to the BodyBB, and the remainder of the block to</span></div>
<div class="line"><a name="l05755"></a><span class="lineno"> 5755</span>&#160;  <span class="comment">// RemainderBB.</span></div>
<div class="line"><a name="l05756"></a><span class="lineno"> 5756</span>&#160;  RemainderBB-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#a046a35e36c4c1206711ea82ee9cb6d72">transferSuccessorsAndUpdatePHIs</a>(&amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>);</div>
<div class="line"><a name="l05757"></a><span class="lineno"> 5757</span>&#160;  RemainderBB-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#adf0023bdc4f05a7849c35b1c859580d8">splice</a>(RemainderBB-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#ab2d91e7bec944efcbc39d8e30644f111">begin</a>(), &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, End, <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">end</a>());</div>
<div class="line"><a name="l05758"></a><span class="lineno"> 5758</span>&#160;  BodyBB-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#adf0023bdc4f05a7849c35b1c859580d8">splice</a>(BodyBB-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#ab2d91e7bec944efcbc39d8e30644f111">begin</a>(), &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, Begin, <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">end</a>());</div>
<div class="line"><a name="l05759"></a><span class="lineno"> 5759</span>&#160; </div>
<div class="line"><a name="l05760"></a><span class="lineno"> 5760</span>&#160;  <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a935e2a8884592189d8f261634a0b24c5">addSuccessor</a>(LoopBB);</div>
<div class="line"><a name="l05761"></a><span class="lineno"> 5761</span>&#160; </div>
<div class="line"><a name="l05762"></a><span class="lineno"> 5762</span>&#160;  <span class="comment">// Update dominators. We know that MBB immediately dominates LoopBB, that</span></div>
<div class="line"><a name="l05763"></a><span class="lineno"> 5763</span>&#160;  <span class="comment">// LoopBB immediately dominates BodyBB, and BodyBB immediately dominates</span></div>
<div class="line"><a name="l05764"></a><span class="lineno"> 5764</span>&#160;  <span class="comment">// RemainderBB. RemainderBB immediately dominates all of the successors</span></div>
<div class="line"><a name="l05765"></a><span class="lineno"> 5765</span>&#160;  <span class="comment">// transferred to it from MBB that MBB used to properly dominate.</span></div>
<div class="line"><a name="l05766"></a><span class="lineno"> 5766</span>&#160;  <span class="keywordflow">if</span> (MDT) {</div>
<div class="line"><a name="l05767"></a><span class="lineno"> 5767</span>&#160;    MDT-&gt;<a class="code" href="classllvm_1_1MachineDominatorTree.html#a9a82e7601aa00b344935f93aceb1e88f">addNewBlock</a>(LoopBB, &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>);</div>
<div class="line"><a name="l05768"></a><span class="lineno"> 5768</span>&#160;    MDT-&gt;<a class="code" href="classllvm_1_1MachineDominatorTree.html#a9a82e7601aa00b344935f93aceb1e88f">addNewBlock</a>(BodyBB, LoopBB);</div>
<div class="line"><a name="l05769"></a><span class="lineno"> 5769</span>&#160;    MDT-&gt;<a class="code" href="classllvm_1_1MachineDominatorTree.html#a9a82e7601aa00b344935f93aceb1e88f">addNewBlock</a>(RemainderBB, BodyBB);</div>
<div class="line"><a name="l05770"></a><span class="lineno"> 5770</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;Succ : RemainderBB-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#a4d2c96836214c1f13357ffb99125fb4a">successors</a>()) {</div>
<div class="line"><a name="l05771"></a><span class="lineno"> 5771</span>&#160;      <span class="keywordflow">if</span> (MDT-&gt;<a class="code" href="classllvm_1_1MachineDominatorTree.html#ab13bd8c59060a1a21651041796177f8a">properlyDominates</a>(&amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, Succ)) {</div>
<div class="line"><a name="l05772"></a><span class="lineno"> 5772</span>&#160;        MDT-&gt;<a class="code" href="classllvm_1_1MachineDominatorTree.html#ab9bfe560a7f52ac6baaffc536a848a3c">changeImmediateDominator</a>(Succ, RemainderBB);</div>
<div class="line"><a name="l05773"></a><span class="lineno"> 5773</span>&#160;      }</div>
<div class="line"><a name="l05774"></a><span class="lineno"> 5774</span>&#160;    }</div>
<div class="line"><a name="l05775"></a><span class="lineno"> 5775</span>&#160;  }</div>
<div class="line"><a name="l05776"></a><span class="lineno"> 5776</span>&#160; </div>
<div class="line"><a name="l05777"></a><span class="lineno"> 5777</span>&#160;  <a class="code" href="SIInstrInfo_8cpp.html#a38f4c0573a55639ee5de46f1d3a3ae99">emitLoadSRsrcFromVGPRLoop</a>(<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, *LoopBB, *BodyBB, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, Rsrc);</div>
<div class="line"><a name="l05778"></a><span class="lineno"> 5778</span>&#160; </div>
<div class="line"><a name="l05779"></a><span class="lineno"> 5779</span>&#160;  <span class="comment">// Restore the EXEC mask</span></div>
<div class="line"><a name="l05780"></a><span class="lineno"> 5780</span>&#160;  <a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::iterator</a> <a class="code" href="lib_2Target_2README_8txt.html#ab24db72f7bd10b13351812874015861b">First</a> = RemainderBB-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#ab2d91e7bec944efcbc39d8e30644f111">begin</a>();</div>
<div class="line"><a name="l05781"></a><span class="lineno"> 5781</span>&#160;  <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(*RemainderBB, <a class="code" href="lib_2Target_2README_8txt.html#ab24db72f7bd10b13351812874015861b">First</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(MovExecOpc), Exec).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(SaveExec);</div>
<div class="line"><a name="l05782"></a><span class="lineno"> 5782</span>&#160;  <span class="keywordflow">return</span> BodyBB;</div>
<div class="line"><a name="l05783"></a><span class="lineno"> 5783</span>&#160;}</div>
<div class="line"><a name="l05784"></a><span class="lineno"> 5784</span>&#160; </div>
<div class="line"><a name="l05785"></a><span class="lineno"> 5785</span>&#160;<span class="comment">// Extract pointer from Rsrc and return a zero-value Rsrc replacement.</span></div>
<div class="line"><a name="l05786"></a><span class="lineno"> 5786</span>&#160;<span class="keyword">static</span> std::tuple&lt;unsigned, unsigned&gt;</div>
<div class="line"><a name="l05787"></a><span class="lineno"><a class="line" href="SIInstrInfo_8cpp.html#acf84e9107dc0773686274037d0a82ec3"> 5787</a></span>&#160;<a class="code" href="SIInstrInfo_8cpp.html#acf84e9107dc0773686274037d0a82ec3">extractRsrcPtr</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SIInstrInfo.html">SIInstrInfo</a> &amp;<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;Rsrc) {</div>
<div class="line"><a name="l05788"></a><span class="lineno"> 5788</span>&#160;  <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a> = *<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getParent();</div>
<div class="line"><a name="l05789"></a><span class="lineno"> 5789</span>&#160;  <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF = *<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a4e21760f681d6f97f95c8414e7b83ea5">getParent</a>();</div>
<div class="line"><a name="l05790"></a><span class="lineno"> 5790</span>&#160;  <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a> = MF.<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>();</div>
<div class="line"><a name="l05791"></a><span class="lineno"> 5791</span>&#160; </div>
<div class="line"><a name="l05792"></a><span class="lineno"> 5792</span>&#160;  <span class="comment">// Extract the ptr from the resource descriptor.</span></div>
<div class="line"><a name="l05793"></a><span class="lineno"> 5793</span>&#160;  <span class="keywordtype">unsigned</span> RsrcPtr =</div>
<div class="line"><a name="l05794"></a><span class="lineno"> 5794</span>&#160;      <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.buildExtractSubReg(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, Rsrc, &amp;AMDGPU::VReg_128RegClass,</div>
<div class="line"><a name="l05795"></a><span class="lineno"> 5795</span>&#160;                             AMDGPU::sub0_sub1, &amp;AMDGPU::VReg_64RegClass);</div>
<div class="line"><a name="l05796"></a><span class="lineno"> 5796</span>&#160; </div>
<div class="line"><a name="l05797"></a><span class="lineno"> 5797</span>&#160;  <span class="comment">// Create an empty resource descriptor</span></div>
<div class="line"><a name="l05798"></a><span class="lineno"> 5798</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> Zero64 = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5c77792a06583e0fe7a0379ad94a2809">createVirtualRegister</a>(&amp;AMDGPU::SReg_64RegClass);</div>
<div class="line"><a name="l05799"></a><span class="lineno"> 5799</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> SRsrcFormatLo = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5c77792a06583e0fe7a0379ad94a2809">createVirtualRegister</a>(&amp;AMDGPU::SGPR_32RegClass);</div>
<div class="line"><a name="l05800"></a><span class="lineno"> 5800</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> SRsrcFormatHi = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5c77792a06583e0fe7a0379ad94a2809">createVirtualRegister</a>(&amp;AMDGPU::SGPR_32RegClass);</div>
<div class="line"><a name="l05801"></a><span class="lineno"> 5801</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> NewSRsrc = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5c77792a06583e0fe7a0379ad94a2809">createVirtualRegister</a>(&amp;AMDGPU::SGPR_128RegClass);</div>
<div class="line"><a name="l05802"></a><span class="lineno"> 5802</span>&#160;  <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> RsrcDataFormat = <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.getDefaultRsrcDataFormat();</div>
<div class="line"><a name="l05803"></a><span class="lineno"> 5803</span>&#160; </div>
<div class="line"><a name="l05804"></a><span class="lineno"> 5804</span>&#160;  <span class="comment">// Zero64 = 0</span></div>
<div class="line"><a name="l05805"></a><span class="lineno"> 5805</span>&#160;  <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getDebugLoc(), <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(AMDGPU::S_MOV_B64), Zero64)</div>
<div class="line"><a name="l05806"></a><span class="lineno"> 5806</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(0);</div>
<div class="line"><a name="l05807"></a><span class="lineno"> 5807</span>&#160; </div>
<div class="line"><a name="l05808"></a><span class="lineno"> 5808</span>&#160;  <span class="comment">// SRsrcFormatLo = RSRC_DATA_FORMAT{31-0}</span></div>
<div class="line"><a name="l05809"></a><span class="lineno"> 5809</span>&#160;  <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getDebugLoc(), <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(AMDGPU::S_MOV_B32), SRsrcFormatLo)</div>
<div class="line"><a name="l05810"></a><span class="lineno"> 5810</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(RsrcDataFormat &amp; 0xFFFFFFFF);</div>
<div class="line"><a name="l05811"></a><span class="lineno"> 5811</span>&#160; </div>
<div class="line"><a name="l05812"></a><span class="lineno"> 5812</span>&#160;  <span class="comment">// SRsrcFormatHi = RSRC_DATA_FORMAT{63-32}</span></div>
<div class="line"><a name="l05813"></a><span class="lineno"> 5813</span>&#160;  <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getDebugLoc(), <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(AMDGPU::S_MOV_B32), SRsrcFormatHi)</div>
<div class="line"><a name="l05814"></a><span class="lineno"> 5814</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(RsrcDataFormat &gt;&gt; 32);</div>
<div class="line"><a name="l05815"></a><span class="lineno"> 5815</span>&#160; </div>
<div class="line"><a name="l05816"></a><span class="lineno"> 5816</span>&#160;  <span class="comment">// NewSRsrc = {Zero64, SRsrcFormat}</span></div>
<div class="line"><a name="l05817"></a><span class="lineno"> 5817</span>&#160;  <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getDebugLoc(), <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(AMDGPU::REG_SEQUENCE), NewSRsrc)</div>
<div class="line"><a name="l05818"></a><span class="lineno"> 5818</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(Zero64)</div>
<div class="line"><a name="l05819"></a><span class="lineno"> 5819</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(AMDGPU::sub0_sub1)</div>
<div class="line"><a name="l05820"></a><span class="lineno"> 5820</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(SRsrcFormatLo)</div>
<div class="line"><a name="l05821"></a><span class="lineno"> 5821</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(AMDGPU::sub2)</div>
<div class="line"><a name="l05822"></a><span class="lineno"> 5822</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(SRsrcFormatHi)</div>
<div class="line"><a name="l05823"></a><span class="lineno"> 5823</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(AMDGPU::sub3);</div>
<div class="line"><a name="l05824"></a><span class="lineno"> 5824</span>&#160; </div>
<div class="line"><a name="l05825"></a><span class="lineno"> 5825</span>&#160;  <span class="keywordflow">return</span> std::tuple(RsrcPtr, NewSRsrc);</div>
<div class="line"><a name="l05826"></a><span class="lineno"> 5826</span>&#160;}</div>
<div class="line"><a name="l05827"></a><span class="lineno"> 5827</span>&#160; </div>
<div class="line"><a name="l05828"></a><span class="lineno"> 5828</span>&#160;<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *</div>
<div class="line"><a name="l05829"></a><span class="lineno"><a class="line" href="classllvm_1_1SIInstrInfo.html#a09787033a63326e79a0d1445d3e0de13"> 5829</a></span>&#160;<a class="code" href="classllvm_1_1SIInstrInfo.html#a09787033a63326e79a0d1445d3e0de13">SIInstrInfo::legalizeOperands</a>(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>,</div>
<div class="line"><a name="l05830"></a><span class="lineno"> 5830</span>&#160;                              <a class="code" href="classllvm_1_1MachineDominatorTree.html">MachineDominatorTree</a> *MDT)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l05831"></a><span class="lineno"> 5831</span>&#160;  <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF = *<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getParent()-&gt;getParent();</div>
<div class="line"><a name="l05832"></a><span class="lineno"> 5832</span>&#160;  <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a> = MF.<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>();</div>
<div class="line"><a name="l05833"></a><span class="lineno"> 5833</span>&#160;  <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *CreatedBB = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l05834"></a><span class="lineno"> 5834</span>&#160; </div>
<div class="line"><a name="l05835"></a><span class="lineno"> 5835</span>&#160;  <span class="comment">// Legalize VOP2</span></div>
<div class="line"><a name="l05836"></a><span class="lineno"> 5836</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SIInstrInfo.html#a323a96a23d09892cc1b252bf1cba2732">isVOP2</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>) || <a class="code" href="classllvm_1_1SIInstrInfo.html#a4e8b8e35244538ba4a04d756420454ba">isVOPC</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>)) {</div>
<div class="line"><a name="l05837"></a><span class="lineno"> 5837</span>&#160;    <a class="code" href="classllvm_1_1SIInstrInfo.html#a76f877e67f5943b857f8976d4a289848">legalizeOperandsVOP2</a>(<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l05838"></a><span class="lineno"> 5838</span>&#160;    <span class="keywordflow">return</span> CreatedBB;</div>
<div class="line"><a name="l05839"></a><span class="lineno"> 5839</span>&#160;  }</div>
<div class="line"><a name="l05840"></a><span class="lineno"> 5840</span>&#160; </div>
<div class="line"><a name="l05841"></a><span class="lineno"> 5841</span>&#160;  <span class="comment">// Legalize VOP3</span></div>
<div class="line"><a name="l05842"></a><span class="lineno"> 5842</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SIInstrInfo.html#a0aab14aaa9761a9af59b094090851ca3">isVOP3</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>)) {</div>
<div class="line"><a name="l05843"></a><span class="lineno"> 5843</span>&#160;    <a class="code" href="classllvm_1_1SIInstrInfo.html#a0673c8aeb9b580e1be469133adba37e5">legalizeOperandsVOP3</a>(<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l05844"></a><span class="lineno"> 5844</span>&#160;    <span class="keywordflow">return</span> CreatedBB;</div>
<div class="line"><a name="l05845"></a><span class="lineno"> 5845</span>&#160;  }</div>
<div class="line"><a name="l05846"></a><span class="lineno"> 5846</span>&#160; </div>
<div class="line"><a name="l05847"></a><span class="lineno"> 5847</span>&#160;  <span class="comment">// Legalize SMRD</span></div>
<div class="line"><a name="l05848"></a><span class="lineno"> 5848</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SIInstrInfo.html#a1c990a34866f377751f50f112cef61bc">isSMRD</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>)) {</div>
<div class="line"><a name="l05849"></a><span class="lineno"> 5849</span>&#160;    <a class="code" href="classllvm_1_1SIInstrInfo.html#ad5c2911f44ee301ccf57ae61b7915b5a">legalizeOperandsSMRD</a>(<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l05850"></a><span class="lineno"> 5850</span>&#160;    <span class="keywordflow">return</span> CreatedBB;</div>
<div class="line"><a name="l05851"></a><span class="lineno"> 5851</span>&#160;  }</div>
<div class="line"><a name="l05852"></a><span class="lineno"> 5852</span>&#160; </div>
<div class="line"><a name="l05853"></a><span class="lineno"> 5853</span>&#160;  <span class="comment">// Legalize FLAT</span></div>
<div class="line"><a name="l05854"></a><span class="lineno"> 5854</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SIInstrInfo.html#adc3333d2d5974f4068df84f8706fc7d2">isFLAT</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>)) {</div>
<div class="line"><a name="l05855"></a><span class="lineno"> 5855</span>&#160;    <a class="code" href="classllvm_1_1SIInstrInfo.html#a23855b574f5790880e0cdfc2b6b39aad">legalizeOperandsFLAT</a>(<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l05856"></a><span class="lineno"> 5856</span>&#160;    <span class="keywordflow">return</span> CreatedBB;</div>
<div class="line"><a name="l05857"></a><span class="lineno"> 5857</span>&#160;  }</div>
<div class="line"><a name="l05858"></a><span class="lineno"> 5858</span>&#160; </div>
<div class="line"><a name="l05859"></a><span class="lineno"> 5859</span>&#160;  <span class="comment">// Legalize REG_SEQUENCE and PHI</span></div>
<div class="line"><a name="l05860"></a><span class="lineno"> 5860</span>&#160;  <span class="comment">// The register class of the operands much be the same type as the register</span></div>
<div class="line"><a name="l05861"></a><span class="lineno"> 5861</span>&#160;  <span class="comment">// class of the output.</span></div>
<div class="line"><a name="l05862"></a><span class="lineno"> 5862</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode() == <a class="code" href="AMDGPURewriteUndefForPHI_8cpp.html#a2e83cb1bc3f5e8986cbd14575755a134">AMDGPU::PHI</a>) {</div>
<div class="line"><a name="l05863"></a><span class="lineno"> 5863</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *RC = <span class="keyword">nullptr</span>, *SRC = <span class="keyword">nullptr</span>, *VRC = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l05864"></a><span class="lineno"> 5864</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 1, <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a> = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getNumOperands(); <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> += 2) {</div>
<div class="line"><a name="l05865"></a><span class="lineno"> 5865</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>).isReg() || !<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>).getReg().isVirtual())</div>
<div class="line"><a name="l05866"></a><span class="lineno"> 5866</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l05867"></a><span class="lineno"> 5867</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *OpRC =</div>
<div class="line"><a name="l05868"></a><span class="lineno"> 5868</span>&#160;          <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#aa363afffca4fc13a709673936b47fe33">getRegClass</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>).getReg());</div>
<div class="line"><a name="l05869"></a><span class="lineno"> 5869</span>&#160;      <span class="keywordflow">if</span> (RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#a2c4185689ad93fedfa57db7bfeb8ddd3">hasVectorRegisters</a>(OpRC)) {</div>
<div class="line"><a name="l05870"></a><span class="lineno"> 5870</span>&#160;        VRC = OpRC;</div>
<div class="line"><a name="l05871"></a><span class="lineno"> 5871</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l05872"></a><span class="lineno"> 5872</span>&#160;        SRC = OpRC;</div>
<div class="line"><a name="l05873"></a><span class="lineno"> 5873</span>&#160;      }</div>
<div class="line"><a name="l05874"></a><span class="lineno"> 5874</span>&#160;    }</div>
<div class="line"><a name="l05875"></a><span class="lineno"> 5875</span>&#160; </div>
<div class="line"><a name="l05876"></a><span class="lineno"> 5876</span>&#160;    <span class="comment">// If any of the operands are VGPR registers, then they all most be</span></div>
<div class="line"><a name="l05877"></a><span class="lineno"> 5877</span>&#160;    <span class="comment">// otherwise we will create illegal VGPR-&gt;SGPR copies when legalizing</span></div>
<div class="line"><a name="l05878"></a><span class="lineno"> 5878</span>&#160;    <span class="comment">// them.</span></div>
<div class="line"><a name="l05879"></a><span class="lineno"> 5879</span>&#160;    <span class="keywordflow">if</span> (VRC || !RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#af58d646af8dd60e4e514303dfa81de9c">isSGPRClass</a>(<a class="code" href="classllvm_1_1SIInstrInfo.html#a7d38ae4f1dfa5ec71b0f78fab996425b">getOpRegClass</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, 0))) {</div>
<div class="line"><a name="l05880"></a><span class="lineno"> 5880</span>&#160;      <span class="keywordflow">if</span> (!VRC) {</div>
<div class="line"><a name="l05881"></a><span class="lineno"> 5881</span>&#160;        <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(SRC);</div>
<div class="line"><a name="l05882"></a><span class="lineno"> 5882</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SIInstrInfo.html#a7d38ae4f1dfa5ec71b0f78fab996425b">getOpRegClass</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, 0) == &amp;AMDGPU::VReg_1RegClass) {</div>
<div class="line"><a name="l05883"></a><span class="lineno"> 5883</span>&#160;          VRC = &amp;AMDGPU::VReg_1RegClass;</div>
<div class="line"><a name="l05884"></a><span class="lineno"> 5884</span>&#160;        } <span class="keywordflow">else</span></div>
<div class="line"><a name="l05885"></a><span class="lineno"> 5885</span>&#160;          VRC = RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#afb15c9a705b04d0a7709e0c0f8af33fa">isAGPRClass</a>(<a class="code" href="classllvm_1_1SIInstrInfo.html#a7d38ae4f1dfa5ec71b0f78fab996425b">getOpRegClass</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, 0))</div>
<div class="line"><a name="l05886"></a><span class="lineno"> 5886</span>&#160;                    ? RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#a7c0bb4b4e2204e019541b6cd98bd9792">getEquivalentAGPRClass</a>(SRC)</div>
<div class="line"><a name="l05887"></a><span class="lineno"> 5887</span>&#160;                    : RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#a2fcc4d3294381da29adb855c5f56c0d5">getEquivalentVGPRClass</a>(SRC);</div>
<div class="line"><a name="l05888"></a><span class="lineno"> 5888</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l05889"></a><span class="lineno"> 5889</span>&#160;        VRC = RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#afb15c9a705b04d0a7709e0c0f8af33fa">isAGPRClass</a>(<a class="code" href="classllvm_1_1SIInstrInfo.html#a7d38ae4f1dfa5ec71b0f78fab996425b">getOpRegClass</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, 0))</div>
<div class="line"><a name="l05890"></a><span class="lineno"> 5890</span>&#160;                  ? RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#a7c0bb4b4e2204e019541b6cd98bd9792">getEquivalentAGPRClass</a>(VRC)</div>
<div class="line"><a name="l05891"></a><span class="lineno"> 5891</span>&#160;                  : RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#a2fcc4d3294381da29adb855c5f56c0d5">getEquivalentVGPRClass</a>(VRC);</div>
<div class="line"><a name="l05892"></a><span class="lineno"> 5892</span>&#160;      }</div>
<div class="line"><a name="l05893"></a><span class="lineno"> 5893</span>&#160;      RC = VRC;</div>
<div class="line"><a name="l05894"></a><span class="lineno"> 5894</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l05895"></a><span class="lineno"> 5895</span>&#160;      RC = SRC;</div>
<div class="line"><a name="l05896"></a><span class="lineno"> 5896</span>&#160;    }</div>
<div class="line"><a name="l05897"></a><span class="lineno"> 5897</span>&#160; </div>
<div class="line"><a name="l05898"></a><span class="lineno"> 5898</span>&#160;    <span class="comment">// Update all the operands so they have the same type.</span></div>
<div class="line"><a name="l05899"></a><span class="lineno"> 5899</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 1, <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getNumOperands(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> += 2) {</div>
<div class="line"><a name="l05900"></a><span class="lineno"> 5900</span>&#160;      <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l05901"></a><span class="lineno"> 5901</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.isReg() || !<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getReg().isVirtual())</div>
<div class="line"><a name="l05902"></a><span class="lineno"> 5902</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l05903"></a><span class="lineno"> 5903</span>&#160; </div>
<div class="line"><a name="l05904"></a><span class="lineno"> 5904</span>&#160;      <span class="comment">// MI is a PHI instruction.</span></div>
<div class="line"><a name="l05905"></a><span class="lineno"> 5905</span>&#160;      <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *InsertBB = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> + 1).getMBB();</div>
<div class="line"><a name="l05906"></a><span class="lineno"> 5906</span>&#160;      <a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::iterator</a> <a class="code" href="README__P9_8txt.html#aa793083a95c48c23abfa352d4335685a">Insert</a> = InsertBB-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#a7f0521fa2de44271fd4b909ea7351ef3">getFirstTerminator</a>();</div>
<div class="line"><a name="l05907"></a><span class="lineno"> 5907</span>&#160; </div>
<div class="line"><a name="l05908"></a><span class="lineno"> 5908</span>&#160;      <span class="comment">// Avoid creating no-op copies with the same src and dst reg class.  These</span></div>
<div class="line"><a name="l05909"></a><span class="lineno"> 5909</span>&#160;      <span class="comment">// confuse some of the machine passes.</span></div>
<div class="line"><a name="l05910"></a><span class="lineno"> 5910</span>&#160;      <a class="code" href="classllvm_1_1SIInstrInfo.html#a31612a0bf935add36f82065133267d4a">legalizeGenericOperand</a>(*InsertBB, <a class="code" href="README__P9_8txt.html#aa793083a95c48c23abfa352d4335685a">Insert</a>, RC, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getDebugLoc());</div>
<div class="line"><a name="l05911"></a><span class="lineno"> 5911</span>&#160;    }</div>
<div class="line"><a name="l05912"></a><span class="lineno"> 5912</span>&#160;  }</div>
<div class="line"><a name="l05913"></a><span class="lineno"> 5913</span>&#160; </div>
<div class="line"><a name="l05914"></a><span class="lineno"> 5914</span>&#160;  <span class="comment">// REG_SEQUENCE doesn&#39;t really require operand legalization, but if one has a</span></div>
<div class="line"><a name="l05915"></a><span class="lineno"> 5915</span>&#160;  <span class="comment">// VGPR dest type and SGPR sources, insert copies so all operands are</span></div>
<div class="line"><a name="l05916"></a><span class="lineno"> 5916</span>&#160;  <span class="comment">// VGPRs. This seems to help operand folding / the register coalescer.</span></div>
<div class="line"><a name="l05917"></a><span class="lineno"> 5917</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode() == AMDGPU::REG_SEQUENCE) {</div>
<div class="line"><a name="l05918"></a><span class="lineno"> 5918</span>&#160;    <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a> = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getParent();</div>
<div class="line"><a name="l05919"></a><span class="lineno"> 5919</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *DstRC = <a class="code" href="classllvm_1_1SIInstrInfo.html#a7d38ae4f1dfa5ec71b0f78fab996425b">getOpRegClass</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, 0);</div>
<div class="line"><a name="l05920"></a><span class="lineno"> 5920</span>&#160;    <span class="keywordflow">if</span> (RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#a8cb8776ee5f539fe6391a6d521af25f1">hasVGPRs</a>(DstRC)) {</div>
<div class="line"><a name="l05921"></a><span class="lineno"> 5921</span>&#160;      <span class="comment">// Update all the operands so they are VGPR register classes. These may</span></div>
<div class="line"><a name="l05922"></a><span class="lineno"> 5922</span>&#160;      <span class="comment">// not be the same register class because REG_SEQUENCE supports mixing</span></div>
<div class="line"><a name="l05923"></a><span class="lineno"> 5923</span>&#160;      <span class="comment">// subregister index types e.g. sub0_sub1 + sub2 + sub3</span></div>
<div class="line"><a name="l05924"></a><span class="lineno"> 5924</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 1, <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getNumOperands(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> += 2) {</div>
<div class="line"><a name="l05925"></a><span class="lineno"> 5925</span>&#160;        <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l05926"></a><span class="lineno"> 5926</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.isReg() || !<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getReg().isVirtual())</div>
<div class="line"><a name="l05927"></a><span class="lineno"> 5927</span>&#160;          <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l05928"></a><span class="lineno"> 5928</span>&#160; </div>
<div class="line"><a name="l05929"></a><span class="lineno"> 5929</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *OpRC = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#aa363afffca4fc13a709673936b47fe33">getRegClass</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getReg());</div>
<div class="line"><a name="l05930"></a><span class="lineno"> 5930</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *VRC = RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#a2fcc4d3294381da29adb855c5f56c0d5">getEquivalentVGPRClass</a>(OpRC);</div>
<div class="line"><a name="l05931"></a><span class="lineno"> 5931</span>&#160;        <span class="keywordflow">if</span> (VRC == OpRC)</div>
<div class="line"><a name="l05932"></a><span class="lineno"> 5932</span>&#160;          <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l05933"></a><span class="lineno"> 5933</span>&#160; </div>
<div class="line"><a name="l05934"></a><span class="lineno"> 5934</span>&#160;        <a class="code" href="classllvm_1_1SIInstrInfo.html#a31612a0bf935add36f82065133267d4a">legalizeGenericOperand</a>(*<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, VRC, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getDebugLoc());</div>
<div class="line"><a name="l05935"></a><span class="lineno"> 5935</span>&#160;        <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.setIsKill();</div>
<div class="line"><a name="l05936"></a><span class="lineno"> 5936</span>&#160;      }</div>
<div class="line"><a name="l05937"></a><span class="lineno"> 5937</span>&#160;    }</div>
<div class="line"><a name="l05938"></a><span class="lineno"> 5938</span>&#160; </div>
<div class="line"><a name="l05939"></a><span class="lineno"> 5939</span>&#160;    <span class="keywordflow">return</span> CreatedBB;</div>
<div class="line"><a name="l05940"></a><span class="lineno"> 5940</span>&#160;  }</div>
<div class="line"><a name="l05941"></a><span class="lineno"> 5941</span>&#160; </div>
<div class="line"><a name="l05942"></a><span class="lineno"> 5942</span>&#160;  <span class="comment">// Legalize INSERT_SUBREG</span></div>
<div class="line"><a name="l05943"></a><span class="lineno"> 5943</span>&#160;  <span class="comment">// src0 must have the same register class as dst</span></div>
<div class="line"><a name="l05944"></a><span class="lineno"> 5944</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode() == AMDGPU::INSERT_SUBREG) {</div>
<div class="line"><a name="l05945"></a><span class="lineno"> 5945</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> Dst = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(0).getReg();</div>
<div class="line"><a name="l05946"></a><span class="lineno"> 5946</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> Src0 = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(1).getReg();</div>
<div class="line"><a name="l05947"></a><span class="lineno"> 5947</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *DstRC = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#aa363afffca4fc13a709673936b47fe33">getRegClass</a>(Dst);</div>
<div class="line"><a name="l05948"></a><span class="lineno"> 5948</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *Src0RC = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#aa363afffca4fc13a709673936b47fe33">getRegClass</a>(Src0);</div>
<div class="line"><a name="l05949"></a><span class="lineno"> 5949</span>&#160;    <span class="keywordflow">if</span> (DstRC != Src0RC) {</div>
<div class="line"><a name="l05950"></a><span class="lineno"> 5950</span>&#160;      <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a> = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getParent();</div>
<div class="line"><a name="l05951"></a><span class="lineno"> 5951</span>&#160;      <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(1);</div>
<div class="line"><a name="l05952"></a><span class="lineno"> 5952</span>&#160;      <a class="code" href="classllvm_1_1SIInstrInfo.html#a31612a0bf935add36f82065133267d4a">legalizeGenericOperand</a>(*<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, DstRC, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getDebugLoc());</div>
<div class="line"><a name="l05953"></a><span class="lineno"> 5953</span>&#160;    }</div>
<div class="line"><a name="l05954"></a><span class="lineno"> 5954</span>&#160;    <span class="keywordflow">return</span> CreatedBB;</div>
<div class="line"><a name="l05955"></a><span class="lineno"> 5955</span>&#160;  }</div>
<div class="line"><a name="l05956"></a><span class="lineno"> 5956</span>&#160; </div>
<div class="line"><a name="l05957"></a><span class="lineno"> 5957</span>&#160;  <span class="comment">// Legalize SI_INIT_M0</span></div>
<div class="line"><a name="l05958"></a><span class="lineno"> 5958</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode() == AMDGPU::SI_INIT_M0) {</div>
<div class="line"><a name="l05959"></a><span class="lineno"> 5959</span>&#160;    <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;Src = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(0);</div>
<div class="line"><a name="l05960"></a><span class="lineno"> 5960</span>&#160;    <span class="keywordflow">if</span> (Src.isReg() &amp;&amp; RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#a2c4185689ad93fedfa57db7bfeb8ddd3">hasVectorRegisters</a>(<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#aa363afffca4fc13a709673936b47fe33">getRegClass</a>(Src.getReg())))</div>
<div class="line"><a name="l05961"></a><span class="lineno"> 5961</span>&#160;      Src.setReg(<a class="code" href="classllvm_1_1SIInstrInfo.html#a46f8aeadd124344d2708f5941a62e1b1">readlaneVGPRToSGPR</a>(Src.getReg(), <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>));</div>
<div class="line"><a name="l05962"></a><span class="lineno"> 5962</span>&#160;    <span class="keywordflow">return</span> CreatedBB;</div>
<div class="line"><a name="l05963"></a><span class="lineno"> 5963</span>&#160;  }</div>
<div class="line"><a name="l05964"></a><span class="lineno"> 5964</span>&#160; </div>
<div class="line"><a name="l05965"></a><span class="lineno"> 5965</span>&#160;  <span class="comment">// Legalize MIMG and MUBUF/MTBUF for shaders.</span></div>
<div class="line"><a name="l05966"></a><span class="lineno"> 5966</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l05967"></a><span class="lineno"> 5967</span>&#160;  <span class="comment">// Shaders only generate MUBUF/MTBUF instructions via intrinsics or via</span></div>
<div class="line"><a name="l05968"></a><span class="lineno"> 5968</span>&#160;  <span class="comment">// scratch memory access. In both cases, the legalization never involves</span></div>
<div class="line"><a name="l05969"></a><span class="lineno"> 5969</span>&#160;  <span class="comment">// conversion to the addr64 form.</span></div>
<div class="line"><a name="l05970"></a><span class="lineno"> 5970</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SIInstrInfo.html#abdcf600002fd489c76924f2ec4f4fc0f">isMIMG</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>) || (<a class="code" href="namespacellvm_1_1AMDGPU.html#af9f05d3701d61f10054f263eec92da45">AMDGPU::isGraphics</a>(MF.<a class="code" href="classllvm_1_1MachineFunction.html#a4b21394c138cc5ae719510bb529ee099">getFunction</a>().<a class="code" href="classllvm_1_1Function.html#a5f494edc0a569c7fc9ff4181243be1ed">getCallingConv</a>()) &amp;&amp;</div>
<div class="line"><a name="l05971"></a><span class="lineno"> 5971</span>&#160;                     (<a class="code" href="classllvm_1_1SIInstrInfo.html#a8616d2d8f4c04005569e89bcfe67e421">isMUBUF</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>) || <a class="code" href="classllvm_1_1SIInstrInfo.html#a2c6289dfab83449b3f69792b35277cac">isMTBUF</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>)))) {</div>
<div class="line"><a name="l05972"></a><span class="lineno"> 5972</span>&#160;    <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> *SRsrc = <a class="code" href="classllvm_1_1SIInstrInfo.html#a61297a04e9cd91c9658b9affecdd9797">getNamedOperand</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, AMDGPU::OpName::srsrc);</div>
<div class="line"><a name="l05973"></a><span class="lineno"> 5973</span>&#160;    <span class="keywordflow">if</span> (SRsrc &amp;&amp; !RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#af58d646af8dd60e4e514303dfa81de9c">isSGPRClass</a>(<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#aa363afffca4fc13a709673936b47fe33">getRegClass</a>(SRsrc-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>())))</div>
<div class="line"><a name="l05974"></a><span class="lineno"> 5974</span>&#160;      CreatedBB = <a class="code" href="SIInstrInfo_8cpp.html#ac95ae99e125cfe2976f3f2c8e42fe7e6">loadSRsrcFromVGPR</a>(*<span class="keyword">this</span>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, *SRsrc, MDT);</div>
<div class="line"><a name="l05975"></a><span class="lineno"> 5975</span>&#160; </div>
<div class="line"><a name="l05976"></a><span class="lineno"> 5976</span>&#160;    <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> *SSamp = <a class="code" href="classllvm_1_1SIInstrInfo.html#a61297a04e9cd91c9658b9affecdd9797">getNamedOperand</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, AMDGPU::OpName::ssamp);</div>
<div class="line"><a name="l05977"></a><span class="lineno"> 5977</span>&#160;    <span class="keywordflow">if</span> (SSamp &amp;&amp; !RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#af58d646af8dd60e4e514303dfa81de9c">isSGPRClass</a>(<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#aa363afffca4fc13a709673936b47fe33">getRegClass</a>(SSamp-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>())))</div>
<div class="line"><a name="l05978"></a><span class="lineno"> 5978</span>&#160;      CreatedBB = <a class="code" href="SIInstrInfo_8cpp.html#ac95ae99e125cfe2976f3f2c8e42fe7e6">loadSRsrcFromVGPR</a>(*<span class="keyword">this</span>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, *SSamp, MDT);</div>
<div class="line"><a name="l05979"></a><span class="lineno"> 5979</span>&#160; </div>
<div class="line"><a name="l05980"></a><span class="lineno"> 5980</span>&#160;    <span class="keywordflow">return</span> CreatedBB;</div>
<div class="line"><a name="l05981"></a><span class="lineno"> 5981</span>&#160;  }</div>
<div class="line"><a name="l05982"></a><span class="lineno"> 5982</span>&#160; </div>
<div class="line"><a name="l05983"></a><span class="lineno"> 5983</span>&#160;  <span class="comment">// Legalize SI_CALL</span></div>
<div class="line"><a name="l05984"></a><span class="lineno"> 5984</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode() == AMDGPU::SI_CALL_ISEL) {</div>
<div class="line"><a name="l05985"></a><span class="lineno"> 5985</span>&#160;    <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> *Dest = &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(0);</div>
<div class="line"><a name="l05986"></a><span class="lineno"> 5986</span>&#160;    <span class="keywordflow">if</span> (!RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#af58d646af8dd60e4e514303dfa81de9c">isSGPRClass</a>(<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#aa363afffca4fc13a709673936b47fe33">getRegClass</a>(Dest-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>()))) {</div>
<div class="line"><a name="l05987"></a><span class="lineno"> 5987</span>&#160;      <span class="comment">// Move everything between ADJCALLSTACKUP and ADJCALLSTACKDOWN and</span></div>
<div class="line"><a name="l05988"></a><span class="lineno"> 5988</span>&#160;      <span class="comment">// following copies, we also need to move copies from and to physical</span></div>
<div class="line"><a name="l05989"></a><span class="lineno"> 5989</span>&#160;      <span class="comment">// registers into the loop block.</span></div>
<div class="line"><a name="l05990"></a><span class="lineno"> 5990</span>&#160;      <span class="keywordtype">unsigned</span> FrameSetupOpcode = getCallFrameSetupOpcode();</div>
<div class="line"><a name="l05991"></a><span class="lineno"> 5991</span>&#160;      <span class="keywordtype">unsigned</span> FrameDestroyOpcode = getCallFrameDestroyOpcode();</div>
<div class="line"><a name="l05992"></a><span class="lineno"> 5992</span>&#160; </div>
<div class="line"><a name="l05993"></a><span class="lineno"> 5993</span>&#160;      <span class="comment">// Also move the copies to physical registers into the loop block</span></div>
<div class="line"><a name="l05994"></a><span class="lineno"> 5994</span>&#160;      <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a> = *<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getParent();</div>
<div class="line"><a name="l05995"></a><span class="lineno"> 5995</span>&#160;      <a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::iterator</a> Start(&amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l05996"></a><span class="lineno"> 5996</span>&#160;      <span class="keywordflow">while</span> (Start-&gt;getOpcode() != FrameSetupOpcode)</div>
<div class="line"><a name="l05997"></a><span class="lineno"> 5997</span>&#160;        --Start;</div>
<div class="line"><a name="l05998"></a><span class="lineno"> 5998</span>&#160;      <a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::iterator</a> End(&amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l05999"></a><span class="lineno"> 5999</span>&#160;      <span class="keywordflow">while</span> (End-&gt;getOpcode() != FrameDestroyOpcode)</div>
<div class="line"><a name="l06000"></a><span class="lineno"> 6000</span>&#160;        ++End;</div>
<div class="line"><a name="l06001"></a><span class="lineno"> 6001</span>&#160;      <span class="comment">// Also include following copies of the return value</span></div>
<div class="line"><a name="l06002"></a><span class="lineno"> 6002</span>&#160;      ++End;</div>
<div class="line"><a name="l06003"></a><span class="lineno"> 6003</span>&#160;      <span class="keywordflow">while</span> (End != <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">end</a>() &amp;&amp; End-&gt;isCopy() &amp;&amp; End-&gt;getOperand(1).isReg() &amp;&amp;</div>
<div class="line"><a name="l06004"></a><span class="lineno"> 6004</span>&#160;             <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.definesRegister(End-&gt;getOperand(1).getReg()))</div>
<div class="line"><a name="l06005"></a><span class="lineno"> 6005</span>&#160;        ++End;</div>
<div class="line"><a name="l06006"></a><span class="lineno"> 6006</span>&#160;      CreatedBB = <a class="code" href="SIInstrInfo_8cpp.html#ac95ae99e125cfe2976f3f2c8e42fe7e6">loadSRsrcFromVGPR</a>(*<span class="keyword">this</span>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, *Dest, MDT, Start, End);</div>
<div class="line"><a name="l06007"></a><span class="lineno"> 6007</span>&#160;    }</div>
<div class="line"><a name="l06008"></a><span class="lineno"> 6008</span>&#160;  }</div>
<div class="line"><a name="l06009"></a><span class="lineno"> 6009</span>&#160; </div>
<div class="line"><a name="l06010"></a><span class="lineno"> 6010</span>&#160;  <span class="comment">// Legalize MUBUF* instructions.</span></div>
<div class="line"><a name="l06011"></a><span class="lineno"> 6011</span>&#160;  <span class="keywordtype">int</span> RsrcIdx =</div>
<div class="line"><a name="l06012"></a><span class="lineno"> 6012</span>&#160;      <a class="code" href="namespacellvm_1_1AMDGPU.html#a27efe1286cc31f5fc95355af30b0356c">AMDGPU::getNamedOperandIdx</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode(), AMDGPU::OpName::srsrc);</div>
<div class="line"><a name="l06013"></a><span class="lineno"> 6013</span>&#160;  <span class="keywordflow">if</span> (RsrcIdx != -1) {</div>
<div class="line"><a name="l06014"></a><span class="lineno"> 6014</span>&#160;    <span class="comment">// We have an MUBUF instruction</span></div>
<div class="line"><a name="l06015"></a><span class="lineno"> 6015</span>&#160;    <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> *Rsrc = &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(RsrcIdx);</div>
<div class="line"><a name="l06016"></a><span class="lineno"> 6016</span>&#160;    <span class="keywordtype">unsigned</span> RsrcRC = <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode()).operands()[RsrcIdx].RegClass;</div>
<div class="line"><a name="l06017"></a><span class="lineno"> 6017</span>&#160;    <span class="keywordflow">if</span> (RI.getCommonSubClass(<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#aa363afffca4fc13a709673936b47fe33">getRegClass</a>(Rsrc-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>()),</div>
<div class="line"><a name="l06018"></a><span class="lineno"> 6018</span>&#160;                             RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#a0e2008041a23dfc43ff1e90b014a2936">getRegClass</a>(RsrcRC))) {</div>
<div class="line"><a name="l06019"></a><span class="lineno"> 6019</span>&#160;      <span class="comment">// The operands are legal.</span></div>
<div class="line"><a name="l06020"></a><span class="lineno"> 6020</span>&#160;      <span class="comment">// FIXME: We may need to legalize operands besides srsrc.</span></div>
<div class="line"><a name="l06021"></a><span class="lineno"> 6021</span>&#160;      <span class="keywordflow">return</span> CreatedBB;</div>
<div class="line"><a name="l06022"></a><span class="lineno"> 6022</span>&#160;    }</div>
<div class="line"><a name="l06023"></a><span class="lineno"> 6023</span>&#160; </div>
<div class="line"><a name="l06024"></a><span class="lineno"> 6024</span>&#160;    <span class="comment">// Legalize a VGPR Rsrc.</span></div>
<div class="line"><a name="l06025"></a><span class="lineno"> 6025</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l06026"></a><span class="lineno"> 6026</span>&#160;    <span class="comment">// If the instruction is _ADDR64, we can avoid a waterfall by extracting</span></div>
<div class="line"><a name="l06027"></a><span class="lineno"> 6027</span>&#160;    <span class="comment">// the base pointer from the VGPR Rsrc, adding it to the VAddr, then using</span></div>
<div class="line"><a name="l06028"></a><span class="lineno"> 6028</span>&#160;    <span class="comment">// a zero-value SRsrc.</span></div>
<div class="line"><a name="l06029"></a><span class="lineno"> 6029</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l06030"></a><span class="lineno"> 6030</span>&#160;    <span class="comment">// If the instruction is _OFFSET (both idxen and offen disabled), and we</span></div>
<div class="line"><a name="l06031"></a><span class="lineno"> 6031</span>&#160;    <span class="comment">// support ADDR64 instructions, we can convert to ADDR64 and do the same as</span></div>
<div class="line"><a name="l06032"></a><span class="lineno"> 6032</span>&#160;    <span class="comment">// above.</span></div>
<div class="line"><a name="l06033"></a><span class="lineno"> 6033</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l06034"></a><span class="lineno"> 6034</span>&#160;    <span class="comment">// Otherwise we are on non-ADDR64 hardware, and/or we have</span></div>
<div class="line"><a name="l06035"></a><span class="lineno"> 6035</span>&#160;    <span class="comment">// idxen/offen/bothen and we fall back to a waterfall loop.</span></div>
<div class="line"><a name="l06036"></a><span class="lineno"> 6036</span>&#160; </div>
<div class="line"><a name="l06037"></a><span class="lineno"> 6037</span>&#160;    <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a> = *<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getParent();</div>
<div class="line"><a name="l06038"></a><span class="lineno"> 6038</span>&#160; </div>
<div class="line"><a name="l06039"></a><span class="lineno"> 6039</span>&#160;    <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> *VAddr = <a class="code" href="classllvm_1_1SIInstrInfo.html#a61297a04e9cd91c9658b9affecdd9797">getNamedOperand</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, AMDGPU::OpName::vaddr);</div>
<div class="line"><a name="l06040"></a><span class="lineno"> 6040</span>&#160;    <span class="keywordflow">if</span> (VAddr &amp;&amp; <a class="code" href="namespacellvm_1_1AMDGPU.html#af7672ecd68ad0182beb360a4453b51ba">AMDGPU::getIfAddr64Inst</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode()) != -1) {</div>
<div class="line"><a name="l06041"></a><span class="lineno"> 6041</span>&#160;      <span class="comment">// This is already an ADDR64 instruction so we need to add the pointer</span></div>
<div class="line"><a name="l06042"></a><span class="lineno"> 6042</span>&#160;      <span class="comment">// extracted from the resource descriptor to the current value of VAddr.</span></div>
<div class="line"><a name="l06043"></a><span class="lineno"> 6043</span>&#160;      <a class="code" href="classllvm_1_1Register.html">Register</a> NewVAddrLo = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5c77792a06583e0fe7a0379ad94a2809">createVirtualRegister</a>(&amp;AMDGPU::VGPR_32RegClass);</div>
<div class="line"><a name="l06044"></a><span class="lineno"> 6044</span>&#160;      <a class="code" href="classllvm_1_1Register.html">Register</a> NewVAddrHi = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5c77792a06583e0fe7a0379ad94a2809">createVirtualRegister</a>(&amp;AMDGPU::VGPR_32RegClass);</div>
<div class="line"><a name="l06045"></a><span class="lineno"> 6045</span>&#160;      <a class="code" href="classllvm_1_1Register.html">Register</a> NewVAddr = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5c77792a06583e0fe7a0379ad94a2809">createVirtualRegister</a>(&amp;AMDGPU::VReg_64RegClass);</div>
<div class="line"><a name="l06046"></a><span class="lineno"> 6046</span>&#160; </div>
<div class="line"><a name="l06047"></a><span class="lineno"> 6047</span>&#160;      <span class="keyword">const</span> <span class="keyword">auto</span> *BoolXExecRC = RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#a0e2008041a23dfc43ff1e90b014a2936">getRegClass</a>(AMDGPU::SReg_1_XEXECRegClassID);</div>
<div class="line"><a name="l06048"></a><span class="lineno"> 6048</span>&#160;      <a class="code" href="classllvm_1_1Register.html">Register</a> CondReg0 = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5c77792a06583e0fe7a0379ad94a2809">createVirtualRegister</a>(BoolXExecRC);</div>
<div class="line"><a name="l06049"></a><span class="lineno"> 6049</span>&#160;      <a class="code" href="classllvm_1_1Register.html">Register</a> CondReg1 = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5c77792a06583e0fe7a0379ad94a2809">createVirtualRegister</a>(BoolXExecRC);</div>
<div class="line"><a name="l06050"></a><span class="lineno"> 6050</span>&#160; </div>
<div class="line"><a name="l06051"></a><span class="lineno"> 6051</span>&#160;      <span class="keywordtype">unsigned</span> RsrcPtr, NewSRsrc;</div>
<div class="line"><a name="l06052"></a><span class="lineno"> 6052</span>&#160;      std::tie(RsrcPtr, NewSRsrc) = <a class="code" href="SIInstrInfo_8cpp.html#acf84e9107dc0773686274037d0a82ec3">extractRsrcPtr</a>(*<span class="keyword">this</span>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, *Rsrc);</div>
<div class="line"><a name="l06053"></a><span class="lineno"> 6053</span>&#160; </div>
<div class="line"><a name="l06054"></a><span class="lineno"> 6054</span>&#160;      <span class="comment">// NewVaddrLo = RsrcPtr:sub0 + VAddr:sub0</span></div>
<div class="line"><a name="l06055"></a><span class="lineno"> 6055</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a> = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getDebugLoc();</div>
<div class="line"><a name="l06056"></a><span class="lineno"> 6056</span>&#160;      <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::V_ADD_CO_U32_e64), NewVAddrLo)</div>
<div class="line"><a name="l06057"></a><span class="lineno"> 6057</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a85eb6ee9f537a283b2ba9964c54ab2f2">addDef</a>(CondReg0)</div>
<div class="line"><a name="l06058"></a><span class="lineno"> 6058</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(RsrcPtr, 0, AMDGPU::sub0)</div>
<div class="line"><a name="l06059"></a><span class="lineno"> 6059</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(VAddr-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>(), 0, AMDGPU::sub0)</div>
<div class="line"><a name="l06060"></a><span class="lineno"> 6060</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(0);</div>
<div class="line"><a name="l06061"></a><span class="lineno"> 6061</span>&#160; </div>
<div class="line"><a name="l06062"></a><span class="lineno"> 6062</span>&#160;      <span class="comment">// NewVaddrHi = RsrcPtr:sub1 + VAddr:sub1</span></div>
<div class="line"><a name="l06063"></a><span class="lineno"> 6063</span>&#160;      <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::V_ADDC_U32_e64), NewVAddrHi)</div>
<div class="line"><a name="l06064"></a><span class="lineno"> 6064</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a85eb6ee9f537a283b2ba9964c54ab2f2">addDef</a>(CondReg1, <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da2fee1a7db4e84247a193a9af1f907013">RegState::Dead</a>)</div>
<div class="line"><a name="l06065"></a><span class="lineno"> 6065</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(RsrcPtr, 0, AMDGPU::sub1)</div>
<div class="line"><a name="l06066"></a><span class="lineno"> 6066</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(VAddr-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>(), 0, AMDGPU::sub1)</div>
<div class="line"><a name="l06067"></a><span class="lineno"> 6067</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(CondReg0, <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da9ddde91ef09476d28a088fe57f8e2921">RegState::Kill</a>)</div>
<div class="line"><a name="l06068"></a><span class="lineno"> 6068</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(0);</div>
<div class="line"><a name="l06069"></a><span class="lineno"> 6069</span>&#160; </div>
<div class="line"><a name="l06070"></a><span class="lineno"> 6070</span>&#160;      <span class="comment">// NewVaddr = {NewVaddrHi, NewVaddrLo}</span></div>
<div class="line"><a name="l06071"></a><span class="lineno"> 6071</span>&#160;      <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getDebugLoc(), <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::REG_SEQUENCE), NewVAddr)</div>
<div class="line"><a name="l06072"></a><span class="lineno"> 6072</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(NewVAddrLo)</div>
<div class="line"><a name="l06073"></a><span class="lineno"> 6073</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(AMDGPU::sub0)</div>
<div class="line"><a name="l06074"></a><span class="lineno"> 6074</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(NewVAddrHi)</div>
<div class="line"><a name="l06075"></a><span class="lineno"> 6075</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(AMDGPU::sub1);</div>
<div class="line"><a name="l06076"></a><span class="lineno"> 6076</span>&#160; </div>
<div class="line"><a name="l06077"></a><span class="lineno"> 6077</span>&#160;      VAddr-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#a682ba82f42f7903d0000ffbb13ea3b57">setReg</a>(NewVAddr);</div>
<div class="line"><a name="l06078"></a><span class="lineno"> 6078</span>&#160;      Rsrc-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#a682ba82f42f7903d0000ffbb13ea3b57">setReg</a>(NewSRsrc);</div>
<div class="line"><a name="l06079"></a><span class="lineno"> 6079</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!VAddr &amp;&amp; ST.<a class="code" href="classllvm_1_1GCNSubtarget.html#ad773dab02c945afb0bc889ebd67649c0">hasAddr64</a>()) {</div>
<div class="line"><a name="l06080"></a><span class="lineno"> 6080</span>&#160;      <span class="comment">// This instructions is the _OFFSET variant, so we need to convert it to</span></div>
<div class="line"><a name="l06081"></a><span class="lineno"> 6081</span>&#160;      <span class="comment">// ADDR64.</span></div>
<div class="line"><a name="l06082"></a><span class="lineno"> 6082</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(ST.<a class="code" href="classllvm_1_1GCNSubtarget.html#ace4de1de19cbe837c578fb3654b6c998">getGeneration</a>() &lt; <a class="code" href="classllvm_1_1AMDGPUSubtarget.html#a53c0ee4138bfbf9e0410a65e0eaa36e2aef8609af541a5b1b01484b29d0f62534">AMDGPUSubtarget::VOLCANIC_ISLANDS</a> &amp;&amp;</div>
<div class="line"><a name="l06083"></a><span class="lineno"> 6083</span>&#160;             <span class="stringliteral">&quot;FIXME: Need to emit flat atomics here&quot;</span>);</div>
<div class="line"><a name="l06084"></a><span class="lineno"> 6084</span>&#160; </div>
<div class="line"><a name="l06085"></a><span class="lineno"> 6085</span>&#160;      <span class="keywordtype">unsigned</span> RsrcPtr, NewSRsrc;</div>
<div class="line"><a name="l06086"></a><span class="lineno"> 6086</span>&#160;      std::tie(RsrcPtr, NewSRsrc) = <a class="code" href="SIInstrInfo_8cpp.html#acf84e9107dc0773686274037d0a82ec3">extractRsrcPtr</a>(*<span class="keyword">this</span>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, *Rsrc);</div>
<div class="line"><a name="l06087"></a><span class="lineno"> 6087</span>&#160; </div>
<div class="line"><a name="l06088"></a><span class="lineno"> 6088</span>&#160;      <a class="code" href="classllvm_1_1Register.html">Register</a> NewVAddr = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5c77792a06583e0fe7a0379ad94a2809">createVirtualRegister</a>(&amp;AMDGPU::VReg_64RegClass);</div>
<div class="line"><a name="l06089"></a><span class="lineno"> 6089</span>&#160;      <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> *VData = <a class="code" href="classllvm_1_1SIInstrInfo.html#a61297a04e9cd91c9658b9affecdd9797">getNamedOperand</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, AMDGPU::OpName::vdata);</div>
<div class="line"><a name="l06090"></a><span class="lineno"> 6090</span>&#160;      <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> *<a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> = <a class="code" href="classllvm_1_1SIInstrInfo.html#a61297a04e9cd91c9658b9affecdd9797">getNamedOperand</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, AMDGPU::OpName::offset);</div>
<div class="line"><a name="l06091"></a><span class="lineno"> 6091</span>&#160;      <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> *SOffset = <a class="code" href="classllvm_1_1SIInstrInfo.html#a61297a04e9cd91c9658b9affecdd9797">getNamedOperand</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, AMDGPU::OpName::soffset);</div>
<div class="line"><a name="l06092"></a><span class="lineno"> 6092</span>&#160;      <span class="keywordtype">unsigned</span> Addr64Opcode = <a class="code" href="namespacellvm_1_1AMDGPU.html#a5eb95c1fe12d25bcfe6d3b63f6148605">AMDGPU::getAddr64Inst</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode());</div>
<div class="line"><a name="l06093"></a><span class="lineno"> 6093</span>&#160; </div>
<div class="line"><a name="l06094"></a><span class="lineno"> 6094</span>&#160;      <span class="comment">// Atomics with return have an additional tied operand and are</span></div>
<div class="line"><a name="l06095"></a><span class="lineno"> 6095</span>&#160;      <span class="comment">// missing some of the special bits.</span></div>
<div class="line"><a name="l06096"></a><span class="lineno"> 6096</span>&#160;      <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> *VDataIn = <a class="code" href="classllvm_1_1SIInstrInfo.html#a61297a04e9cd91c9658b9affecdd9797">getNamedOperand</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, AMDGPU::OpName::vdata_in);</div>
<div class="line"><a name="l06097"></a><span class="lineno"> 6097</span>&#160;      <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *Addr64;</div>
<div class="line"><a name="l06098"></a><span class="lineno"> 6098</span>&#160; </div>
<div class="line"><a name="l06099"></a><span class="lineno"> 6099</span>&#160;      <span class="keywordflow">if</span> (!VDataIn) {</div>
<div class="line"><a name="l06100"></a><span class="lineno"> 6100</span>&#160;        <span class="comment">// Regular buffer load / store.</span></div>
<div class="line"><a name="l06101"></a><span class="lineno"> 6101</span>&#160;        <a class="code" href="classllvm_1_1MachineInstrBuilder.html">MachineInstrBuilder</a> MIB =</div>
<div class="line"><a name="l06102"></a><span class="lineno"> 6102</span>&#160;            <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getDebugLoc(), <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(Addr64Opcode))</div>
<div class="line"><a name="l06103"></a><span class="lineno"> 6103</span>&#160;                .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a1ac8d27532cfd1d1f032ecbff2ba3611">add</a>(*VData)</div>
<div class="line"><a name="l06104"></a><span class="lineno"> 6104</span>&#160;                .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(NewVAddr)</div>
<div class="line"><a name="l06105"></a><span class="lineno"> 6105</span>&#160;                .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(NewSRsrc)</div>
<div class="line"><a name="l06106"></a><span class="lineno"> 6106</span>&#160;                .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a1ac8d27532cfd1d1f032ecbff2ba3611">add</a>(*SOffset)</div>
<div class="line"><a name="l06107"></a><span class="lineno"> 6107</span>&#160;                .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a1ac8d27532cfd1d1f032ecbff2ba3611">add</a>(*<a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>);</div>
<div class="line"><a name="l06108"></a><span class="lineno"> 6108</span>&#160; </div>
<div class="line"><a name="l06109"></a><span class="lineno"> 6109</span>&#160;        <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> *<a class="code" href="namespacellvm_1_1AMDGPU_1_1CPol.html#a7d79a4b341da8ac60b91c1f4b1ea42c4">CPol</a> =</div>
<div class="line"><a name="l06110"></a><span class="lineno"> 6110</span>&#160;                <a class="code" href="classllvm_1_1SIInstrInfo.html#a61297a04e9cd91c9658b9affecdd9797">getNamedOperand</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, AMDGPU::OpName::cpol)) {</div>
<div class="line"><a name="l06111"></a><span class="lineno"> 6111</span>&#160;          MIB.<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1CPol.html#a7d79a4b341da8ac60b91c1f4b1ea42c4">CPol</a>-&gt;getImm());</div>
<div class="line"><a name="l06112"></a><span class="lineno"> 6112</span>&#160;        }</div>
<div class="line"><a name="l06113"></a><span class="lineno"> 6113</span>&#160; </div>
<div class="line"><a name="l06114"></a><span class="lineno"> 6114</span>&#160;        <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> *TFE =</div>
<div class="line"><a name="l06115"></a><span class="lineno"> 6115</span>&#160;                <a class="code" href="classllvm_1_1SIInstrInfo.html#a61297a04e9cd91c9658b9affecdd9797">getNamedOperand</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, AMDGPU::OpName::tfe)) {</div>
<div class="line"><a name="l06116"></a><span class="lineno"> 6116</span>&#160;          MIB.<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(TFE-&gt;getImm());</div>
<div class="line"><a name="l06117"></a><span class="lineno"> 6117</span>&#160;        }</div>
<div class="line"><a name="l06118"></a><span class="lineno"> 6118</span>&#160; </div>
<div class="line"><a name="l06119"></a><span class="lineno"> 6119</span>&#160;        MIB.<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(<a class="code" href="classllvm_1_1SIInstrInfo.html#a2594ff53aaaa639014fafa681a4046ba">getNamedImmOperand</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, AMDGPU::OpName::swz));</div>
<div class="line"><a name="l06120"></a><span class="lineno"> 6120</span>&#160; </div>
<div class="line"><a name="l06121"></a><span class="lineno"> 6121</span>&#160;        MIB.<a class="code" href="classllvm_1_1MachineInstrBuilder.html#afb84ad0ad64ed2a34f473bbacc268501">cloneMemRefs</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l06122"></a><span class="lineno"> 6122</span>&#160;        Addr64 = MIB;</div>
<div class="line"><a name="l06123"></a><span class="lineno"> 6123</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l06124"></a><span class="lineno"> 6124</span>&#160;        <span class="comment">// Atomics with return.</span></div>
<div class="line"><a name="l06125"></a><span class="lineno"> 6125</span>&#160;        Addr64 = <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getDebugLoc(), <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(Addr64Opcode))</div>
<div class="line"><a name="l06126"></a><span class="lineno"> 6126</span>&#160;                     .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a1ac8d27532cfd1d1f032ecbff2ba3611">add</a>(*VData)</div>
<div class="line"><a name="l06127"></a><span class="lineno"> 6127</span>&#160;                     .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a1ac8d27532cfd1d1f032ecbff2ba3611">add</a>(*VDataIn)</div>
<div class="line"><a name="l06128"></a><span class="lineno"> 6128</span>&#160;                     .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(NewVAddr)</div>
<div class="line"><a name="l06129"></a><span class="lineno"> 6129</span>&#160;                     .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(NewSRsrc)</div>
<div class="line"><a name="l06130"></a><span class="lineno"> 6130</span>&#160;                     .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a1ac8d27532cfd1d1f032ecbff2ba3611">add</a>(*SOffset)</div>
<div class="line"><a name="l06131"></a><span class="lineno"> 6131</span>&#160;                     .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a1ac8d27532cfd1d1f032ecbff2ba3611">add</a>(*<a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>)</div>
<div class="line"><a name="l06132"></a><span class="lineno"> 6132</span>&#160;                     .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(<a class="code" href="classllvm_1_1SIInstrInfo.html#a2594ff53aaaa639014fafa681a4046ba">getNamedImmOperand</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, AMDGPU::OpName::cpol))</div>
<div class="line"><a name="l06133"></a><span class="lineno"> 6133</span>&#160;                     .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#afb84ad0ad64ed2a34f473bbacc268501">cloneMemRefs</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l06134"></a><span class="lineno"> 6134</span>&#160;      }</div>
<div class="line"><a name="l06135"></a><span class="lineno"> 6135</span>&#160; </div>
<div class="line"><a name="l06136"></a><span class="lineno"> 6136</span>&#160;      <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.removeFromParent();</div>
<div class="line"><a name="l06137"></a><span class="lineno"> 6137</span>&#160; </div>
<div class="line"><a name="l06138"></a><span class="lineno"> 6138</span>&#160;      <span class="comment">// NewVaddr = {NewVaddrHi, NewVaddrLo}</span></div>
<div class="line"><a name="l06139"></a><span class="lineno"> 6139</span>&#160;      <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, Addr64, Addr64-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#ae8ff2acea4fe63e48e8fc6cf0620ff78">getDebugLoc</a>(), <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::REG_SEQUENCE),</div>
<div class="line"><a name="l06140"></a><span class="lineno"> 6140</span>&#160;              NewVAddr)</div>
<div class="line"><a name="l06141"></a><span class="lineno"> 6141</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(RsrcPtr, 0, AMDGPU::sub0)</div>
<div class="line"><a name="l06142"></a><span class="lineno"> 6142</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(AMDGPU::sub0)</div>
<div class="line"><a name="l06143"></a><span class="lineno"> 6143</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(RsrcPtr, 0, AMDGPU::sub1)</div>
<div class="line"><a name="l06144"></a><span class="lineno"> 6144</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(AMDGPU::sub1);</div>
<div class="line"><a name="l06145"></a><span class="lineno"> 6145</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l06146"></a><span class="lineno"> 6146</span>&#160;      <span class="comment">// This is another variant; legalize Rsrc with waterfall loop from VGPRs</span></div>
<div class="line"><a name="l06147"></a><span class="lineno"> 6147</span>&#160;      <span class="comment">// to SGPRs.</span></div>
<div class="line"><a name="l06148"></a><span class="lineno"> 6148</span>&#160;      CreatedBB = <a class="code" href="SIInstrInfo_8cpp.html#ac95ae99e125cfe2976f3f2c8e42fe7e6">loadSRsrcFromVGPR</a>(*<span class="keyword">this</span>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, *Rsrc, MDT);</div>
<div class="line"><a name="l06149"></a><span class="lineno"> 6149</span>&#160;      <span class="keywordflow">return</span> CreatedBB;</div>
<div class="line"><a name="l06150"></a><span class="lineno"> 6150</span>&#160;    }</div>
<div class="line"><a name="l06151"></a><span class="lineno"> 6151</span>&#160;  }</div>
<div class="line"><a name="l06152"></a><span class="lineno"> 6152</span>&#160;  <span class="keywordflow">return</span> CreatedBB;</div>
<div class="line"><a name="l06153"></a><span class="lineno"> 6153</span>&#160;}</div>
<div class="line"><a name="l06154"></a><span class="lineno"> 6154</span>&#160; </div>
<div class="line"><a name="l06155"></a><span class="lineno"><a class="line" href="classllvm_1_1SIInstrInfo.html#a2c55e5649ff9412a08e823c28ee00b37"> 6155</a></span>&#160;<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *<a class="code" href="classllvm_1_1SIInstrInfo.html#a2c55e5649ff9412a08e823c28ee00b37">SIInstrInfo::moveToVALU</a>(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;TopInst,</div>
<div class="line"><a name="l06156"></a><span class="lineno"> 6156</span>&#160;                                           <a class="code" href="classllvm_1_1MachineDominatorTree.html">MachineDominatorTree</a> *MDT)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l06157"></a><span class="lineno"> 6157</span>&#160;  <a class="code" href="classllvm_1_1SmallSetVector.html">SetVectorType</a> Worklist;</div>
<div class="line"><a name="l06158"></a><span class="lineno"> 6158</span>&#160;  Worklist.<a class="code" href="classllvm_1_1SetVector.html#a72d928b7fc2c5f2d56c6ac0265fd9c6e">insert</a>(&amp;TopInst);</div>
<div class="line"><a name="l06159"></a><span class="lineno"> 6159</span>&#160;  <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *CreatedBB = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l06160"></a><span class="lineno"> 6160</span>&#160;  <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *CreatedBBTmp = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l06161"></a><span class="lineno"> 6161</span>&#160; </div>
<div class="line"><a name="l06162"></a><span class="lineno"> 6162</span>&#160;  <span class="keywordflow">while</span> (!Worklist.<a class="code" href="classllvm_1_1SetVector.html#aaf9ee38b9973681c1720aaf03af3a069">empty</a>()) {</div>
<div class="line"><a name="l06163"></a><span class="lineno"> 6163</span>&#160;    <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;Inst = *Worklist.<a class="code" href="classllvm_1_1SetVector.html#a3499f6a24500afba2c318295ad2d2d05">pop_back_val</a>();</div>
<div class="line"><a name="l06164"></a><span class="lineno"> 6164</span>&#160;    <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a> = Inst.<a class="code" href="classllvm_1_1MachineInstr.html#a002fd916e7206e01d512eeb06d405cf0">getParent</a>();</div>
<div class="line"><a name="l06165"></a><span class="lineno"> 6165</span>&#160;    <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a> = <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#a4e21760f681d6f97f95c8414e7b83ea5">getParent</a>()-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>();</div>
<div class="line"><a name="l06166"></a><span class="lineno"> 6166</span>&#160; </div>
<div class="line"><a name="l06167"></a><span class="lineno"> 6167</span>&#160;    <span class="keywordtype">unsigned</span> Opcode = Inst.<a class="code" href="classllvm_1_1MachineInstr.html#a0363204b5fbab08a46f5a7cd7f376f78">getOpcode</a>();</div>
<div class="line"><a name="l06168"></a><span class="lineno"> 6168</span>&#160;    <span class="keywordtype">unsigned</span> NewOpcode = <a class="code" href="classllvm_1_1SIInstrInfo.html#ac498c193dd1d1e364aa8e9b640f72826">getVALUOp</a>(Inst);</div>
<div class="line"><a name="l06169"></a><span class="lineno"> 6169</span>&#160; </div>
<div class="line"><a name="l06170"></a><span class="lineno"> 6170</span>&#160;    <span class="comment">// Handle some special cases</span></div>
<div class="line"><a name="l06171"></a><span class="lineno"> 6171</span>&#160;    <span class="keywordflow">switch</span> (Opcode) {</div>
<div class="line"><a name="l06172"></a><span class="lineno"> 6172</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l06173"></a><span class="lineno"> 6173</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06174"></a><span class="lineno"> 6174</span>&#160;    <span class="keywordflow">case</span> AMDGPU::S_ADD_U64_PSEUDO:</div>
<div class="line"><a name="l06175"></a><span class="lineno"> 6175</span>&#160;    <span class="keywordflow">case</span> AMDGPU::S_SUB_U64_PSEUDO:</div>
<div class="line"><a name="l06176"></a><span class="lineno"> 6176</span>&#160;      splitScalar64BitAddSub(Worklist, Inst, MDT);</div>
<div class="line"><a name="l06177"></a><span class="lineno"> 6177</span>&#160;      Inst.<a class="code" href="classllvm_1_1MachineInstr.html#ac2421adbb9996e1b15f03a8abb6c70a8">eraseFromParent</a>();</div>
<div class="line"><a name="l06178"></a><span class="lineno"> 6178</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l06179"></a><span class="lineno"> 6179</span>&#160;    <span class="keywordflow">case</span> AMDGPU::S_ADD_I32:</div>
<div class="line"><a name="l06180"></a><span class="lineno"> 6180</span>&#160;    <span class="keywordflow">case</span> AMDGPU::S_SUB_I32: {</div>
<div class="line"><a name="l06181"></a><span class="lineno"> 6181</span>&#160;      <span class="comment">// FIXME: The u32 versions currently selected use the carry.</span></div>
<div class="line"><a name="l06182"></a><span class="lineno"> 6182</span>&#160;      <span class="keywordtype">bool</span> Changed;</div>
<div class="line"><a name="l06183"></a><span class="lineno"> 6183</span>&#160;      std::tie(Changed, CreatedBBTmp) = moveScalarAddSub(Worklist, Inst, MDT);</div>
<div class="line"><a name="l06184"></a><span class="lineno"> 6184</span>&#160;      <span class="keywordflow">if</span> (CreatedBBTmp &amp;&amp; TopInst.<a class="code" href="classllvm_1_1MachineInstr.html#a002fd916e7206e01d512eeb06d405cf0">getParent</a>() == CreatedBBTmp)</div>
<div class="line"><a name="l06185"></a><span class="lineno"> 6185</span>&#160;        CreatedBB = CreatedBBTmp;</div>
<div class="line"><a name="l06186"></a><span class="lineno"> 6186</span>&#160;      <span class="keywordflow">if</span> (Changed)</div>
<div class="line"><a name="l06187"></a><span class="lineno"> 6187</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l06188"></a><span class="lineno"> 6188</span>&#160; </div>
<div class="line"><a name="l06189"></a><span class="lineno"> 6189</span>&#160;      <span class="comment">// Default handling</span></div>
<div class="line"><a name="l06190"></a><span class="lineno"> 6190</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06191"></a><span class="lineno"> 6191</span>&#160;    }</div>
<div class="line"><a name="l06192"></a><span class="lineno"> 6192</span>&#160;    <span class="keywordflow">case</span> AMDGPU::S_AND_B64:</div>
<div class="line"><a name="l06193"></a><span class="lineno"> 6193</span>&#160;      splitScalar64BitBinaryOp(Worklist, Inst, AMDGPU::S_AND_B32, MDT);</div>
<div class="line"><a name="l06194"></a><span class="lineno"> 6194</span>&#160;      Inst.<a class="code" href="classllvm_1_1MachineInstr.html#ac2421adbb9996e1b15f03a8abb6c70a8">eraseFromParent</a>();</div>
<div class="line"><a name="l06195"></a><span class="lineno"> 6195</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l06196"></a><span class="lineno"> 6196</span>&#160; </div>
<div class="line"><a name="l06197"></a><span class="lineno"> 6197</span>&#160;    <span class="keywordflow">case</span> AMDGPU::S_OR_B64:</div>
<div class="line"><a name="l06198"></a><span class="lineno"> 6198</span>&#160;      splitScalar64BitBinaryOp(Worklist, Inst, AMDGPU::S_OR_B32, MDT);</div>
<div class="line"><a name="l06199"></a><span class="lineno"> 6199</span>&#160;      Inst.<a class="code" href="classllvm_1_1MachineInstr.html#ac2421adbb9996e1b15f03a8abb6c70a8">eraseFromParent</a>();</div>
<div class="line"><a name="l06200"></a><span class="lineno"> 6200</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l06201"></a><span class="lineno"> 6201</span>&#160; </div>
<div class="line"><a name="l06202"></a><span class="lineno"> 6202</span>&#160;    <span class="keywordflow">case</span> AMDGPU::S_XOR_B64:</div>
<div class="line"><a name="l06203"></a><span class="lineno"> 6203</span>&#160;      splitScalar64BitBinaryOp(Worklist, Inst, AMDGPU::S_XOR_B32, MDT);</div>
<div class="line"><a name="l06204"></a><span class="lineno"> 6204</span>&#160;      Inst.<a class="code" href="classllvm_1_1MachineInstr.html#ac2421adbb9996e1b15f03a8abb6c70a8">eraseFromParent</a>();</div>
<div class="line"><a name="l06205"></a><span class="lineno"> 6205</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l06206"></a><span class="lineno"> 6206</span>&#160; </div>
<div class="line"><a name="l06207"></a><span class="lineno"> 6207</span>&#160;    <span class="keywordflow">case</span> AMDGPU::S_NAND_B64:</div>
<div class="line"><a name="l06208"></a><span class="lineno"> 6208</span>&#160;      splitScalar64BitBinaryOp(Worklist, Inst, AMDGPU::S_NAND_B32, MDT);</div>
<div class="line"><a name="l06209"></a><span class="lineno"> 6209</span>&#160;      Inst.<a class="code" href="classllvm_1_1MachineInstr.html#ac2421adbb9996e1b15f03a8abb6c70a8">eraseFromParent</a>();</div>
<div class="line"><a name="l06210"></a><span class="lineno"> 6210</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l06211"></a><span class="lineno"> 6211</span>&#160; </div>
<div class="line"><a name="l06212"></a><span class="lineno"> 6212</span>&#160;    <span class="keywordflow">case</span> AMDGPU::S_NOR_B64:</div>
<div class="line"><a name="l06213"></a><span class="lineno"> 6213</span>&#160;      splitScalar64BitBinaryOp(Worklist, Inst, AMDGPU::S_NOR_B32, MDT);</div>
<div class="line"><a name="l06214"></a><span class="lineno"> 6214</span>&#160;      Inst.<a class="code" href="classllvm_1_1MachineInstr.html#ac2421adbb9996e1b15f03a8abb6c70a8">eraseFromParent</a>();</div>
<div class="line"><a name="l06215"></a><span class="lineno"> 6215</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l06216"></a><span class="lineno"> 6216</span>&#160; </div>
<div class="line"><a name="l06217"></a><span class="lineno"> 6217</span>&#160;    <span class="keywordflow">case</span> AMDGPU::S_XNOR_B64:</div>
<div class="line"><a name="l06218"></a><span class="lineno"> 6218</span>&#160;      <span class="keywordflow">if</span> (ST.<a class="code" href="classllvm_1_1GCNSubtarget.html#a24618695d970449f186b50c63648f674">hasDLInsts</a>())</div>
<div class="line"><a name="l06219"></a><span class="lineno"> 6219</span>&#160;        splitScalar64BitBinaryOp(Worklist, Inst, AMDGPU::S_XNOR_B32, MDT);</div>
<div class="line"><a name="l06220"></a><span class="lineno"> 6220</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l06221"></a><span class="lineno"> 6221</span>&#160;        splitScalar64BitXnor(Worklist, Inst, MDT);</div>
<div class="line"><a name="l06222"></a><span class="lineno"> 6222</span>&#160;      Inst.<a class="code" href="classllvm_1_1MachineInstr.html#ac2421adbb9996e1b15f03a8abb6c70a8">eraseFromParent</a>();</div>
<div class="line"><a name="l06223"></a><span class="lineno"> 6223</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l06224"></a><span class="lineno"> 6224</span>&#160; </div>
<div class="line"><a name="l06225"></a><span class="lineno"> 6225</span>&#160;    <span class="keywordflow">case</span> AMDGPU::S_ANDN2_B64:</div>
<div class="line"><a name="l06226"></a><span class="lineno"> 6226</span>&#160;      splitScalar64BitBinaryOp(Worklist, Inst, AMDGPU::S_ANDN2_B32, MDT);</div>
<div class="line"><a name="l06227"></a><span class="lineno"> 6227</span>&#160;      Inst.<a class="code" href="classllvm_1_1MachineInstr.html#ac2421adbb9996e1b15f03a8abb6c70a8">eraseFromParent</a>();</div>
<div class="line"><a name="l06228"></a><span class="lineno"> 6228</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l06229"></a><span class="lineno"> 6229</span>&#160; </div>
<div class="line"><a name="l06230"></a><span class="lineno"> 6230</span>&#160;    <span class="keywordflow">case</span> AMDGPU::S_ORN2_B64:</div>
<div class="line"><a name="l06231"></a><span class="lineno"> 6231</span>&#160;      splitScalar64BitBinaryOp(Worklist, Inst, AMDGPU::S_ORN2_B32, MDT);</div>
<div class="line"><a name="l06232"></a><span class="lineno"> 6232</span>&#160;      Inst.<a class="code" href="classllvm_1_1MachineInstr.html#ac2421adbb9996e1b15f03a8abb6c70a8">eraseFromParent</a>();</div>
<div class="line"><a name="l06233"></a><span class="lineno"> 6233</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l06234"></a><span class="lineno"> 6234</span>&#160; </div>
<div class="line"><a name="l06235"></a><span class="lineno"> 6235</span>&#160;    <span class="keywordflow">case</span> AMDGPU::S_BREV_B64:</div>
<div class="line"><a name="l06236"></a><span class="lineno"> 6236</span>&#160;      splitScalar64BitUnaryOp(Worklist, Inst, AMDGPU::S_BREV_B32, <span class="keyword">true</span>);</div>
<div class="line"><a name="l06237"></a><span class="lineno"> 6237</span>&#160;      Inst.<a class="code" href="classllvm_1_1MachineInstr.html#ac2421adbb9996e1b15f03a8abb6c70a8">eraseFromParent</a>();</div>
<div class="line"><a name="l06238"></a><span class="lineno"> 6238</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l06239"></a><span class="lineno"> 6239</span>&#160; </div>
<div class="line"><a name="l06240"></a><span class="lineno"> 6240</span>&#160;    <span class="keywordflow">case</span> AMDGPU::S_NOT_B64:</div>
<div class="line"><a name="l06241"></a><span class="lineno"> 6241</span>&#160;      splitScalar64BitUnaryOp(Worklist, Inst, AMDGPU::S_NOT_B32);</div>
<div class="line"><a name="l06242"></a><span class="lineno"> 6242</span>&#160;      Inst.<a class="code" href="classllvm_1_1MachineInstr.html#ac2421adbb9996e1b15f03a8abb6c70a8">eraseFromParent</a>();</div>
<div class="line"><a name="l06243"></a><span class="lineno"> 6243</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l06244"></a><span class="lineno"> 6244</span>&#160; </div>
<div class="line"><a name="l06245"></a><span class="lineno"> 6245</span>&#160;    <span class="keywordflow">case</span> AMDGPU::S_BCNT1_I32_B64:</div>
<div class="line"><a name="l06246"></a><span class="lineno"> 6246</span>&#160;      splitScalar64BitBCNT(Worklist, Inst);</div>
<div class="line"><a name="l06247"></a><span class="lineno"> 6247</span>&#160;      Inst.<a class="code" href="classllvm_1_1MachineInstr.html#ac2421adbb9996e1b15f03a8abb6c70a8">eraseFromParent</a>();</div>
<div class="line"><a name="l06248"></a><span class="lineno"> 6248</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l06249"></a><span class="lineno"> 6249</span>&#160; </div>
<div class="line"><a name="l06250"></a><span class="lineno"> 6250</span>&#160;    <span class="keywordflow">case</span> AMDGPU::S_BFE_I64:</div>
<div class="line"><a name="l06251"></a><span class="lineno"> 6251</span>&#160;      splitScalar64BitBFE(Worklist, Inst);</div>
<div class="line"><a name="l06252"></a><span class="lineno"> 6252</span>&#160;      Inst.<a class="code" href="classllvm_1_1MachineInstr.html#ac2421adbb9996e1b15f03a8abb6c70a8">eraseFromParent</a>();</div>
<div class="line"><a name="l06253"></a><span class="lineno"> 6253</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l06254"></a><span class="lineno"> 6254</span>&#160; </div>
<div class="line"><a name="l06255"></a><span class="lineno"> 6255</span>&#160;    <span class="keywordflow">case</span> AMDGPU::S_LSHL_B32:</div>
<div class="line"><a name="l06256"></a><span class="lineno"> 6256</span>&#160;      <span class="keywordflow">if</span> (ST.<a class="code" href="classllvm_1_1GCNSubtarget.html#a0e686c7c8f5b335f3edce1e6711ec168">hasOnlyRevVALUShifts</a>()) {</div>
<div class="line"><a name="l06257"></a><span class="lineno"> 6257</span>&#160;        NewOpcode = AMDGPU::V_LSHLREV_B32_e64;</div>
<div class="line"><a name="l06258"></a><span class="lineno"> 6258</span>&#160;        swapOperands(Inst);</div>
<div class="line"><a name="l06259"></a><span class="lineno"> 6259</span>&#160;      }</div>
<div class="line"><a name="l06260"></a><span class="lineno"> 6260</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06261"></a><span class="lineno"> 6261</span>&#160;    <span class="keywordflow">case</span> AMDGPU::S_ASHR_I32:</div>
<div class="line"><a name="l06262"></a><span class="lineno"> 6262</span>&#160;      <span class="keywordflow">if</span> (ST.<a class="code" href="classllvm_1_1GCNSubtarget.html#a0e686c7c8f5b335f3edce1e6711ec168">hasOnlyRevVALUShifts</a>()) {</div>
<div class="line"><a name="l06263"></a><span class="lineno"> 6263</span>&#160;        NewOpcode = AMDGPU::V_ASHRREV_I32_e64;</div>
<div class="line"><a name="l06264"></a><span class="lineno"> 6264</span>&#160;        swapOperands(Inst);</div>
<div class="line"><a name="l06265"></a><span class="lineno"> 6265</span>&#160;      }</div>
<div class="line"><a name="l06266"></a><span class="lineno"> 6266</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06267"></a><span class="lineno"> 6267</span>&#160;    <span class="keywordflow">case</span> AMDGPU::S_LSHR_B32:</div>
<div class="line"><a name="l06268"></a><span class="lineno"> 6268</span>&#160;      <span class="keywordflow">if</span> (ST.<a class="code" href="classllvm_1_1GCNSubtarget.html#a0e686c7c8f5b335f3edce1e6711ec168">hasOnlyRevVALUShifts</a>()) {</div>
<div class="line"><a name="l06269"></a><span class="lineno"> 6269</span>&#160;        NewOpcode = AMDGPU::V_LSHRREV_B32_e64;</div>
<div class="line"><a name="l06270"></a><span class="lineno"> 6270</span>&#160;        swapOperands(Inst);</div>
<div class="line"><a name="l06271"></a><span class="lineno"> 6271</span>&#160;      }</div>
<div class="line"><a name="l06272"></a><span class="lineno"> 6272</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06273"></a><span class="lineno"> 6273</span>&#160;    <span class="keywordflow">case</span> AMDGPU::S_LSHL_B64:</div>
<div class="line"><a name="l06274"></a><span class="lineno"> 6274</span>&#160;      <span class="keywordflow">if</span> (ST.<a class="code" href="classllvm_1_1GCNSubtarget.html#a0e686c7c8f5b335f3edce1e6711ec168">hasOnlyRevVALUShifts</a>()) {</div>
<div class="line"><a name="l06275"></a><span class="lineno"> 6275</span>&#160;        NewOpcode = AMDGPU::V_LSHLREV_B64_e64;</div>
<div class="line"><a name="l06276"></a><span class="lineno"> 6276</span>&#160;        swapOperands(Inst);</div>
<div class="line"><a name="l06277"></a><span class="lineno"> 6277</span>&#160;      }</div>
<div class="line"><a name="l06278"></a><span class="lineno"> 6278</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06279"></a><span class="lineno"> 6279</span>&#160;    <span class="keywordflow">case</span> AMDGPU::S_ASHR_I64:</div>
<div class="line"><a name="l06280"></a><span class="lineno"> 6280</span>&#160;      <span class="keywordflow">if</span> (ST.<a class="code" href="classllvm_1_1GCNSubtarget.html#a0e686c7c8f5b335f3edce1e6711ec168">hasOnlyRevVALUShifts</a>()) {</div>
<div class="line"><a name="l06281"></a><span class="lineno"> 6281</span>&#160;        NewOpcode = AMDGPU::V_ASHRREV_I64_e64;</div>
<div class="line"><a name="l06282"></a><span class="lineno"> 6282</span>&#160;        swapOperands(Inst);</div>
<div class="line"><a name="l06283"></a><span class="lineno"> 6283</span>&#160;      }</div>
<div class="line"><a name="l06284"></a><span class="lineno"> 6284</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06285"></a><span class="lineno"> 6285</span>&#160;    <span class="keywordflow">case</span> AMDGPU::S_LSHR_B64:</div>
<div class="line"><a name="l06286"></a><span class="lineno"> 6286</span>&#160;      <span class="keywordflow">if</span> (ST.<a class="code" href="classllvm_1_1GCNSubtarget.html#a0e686c7c8f5b335f3edce1e6711ec168">hasOnlyRevVALUShifts</a>()) {</div>
<div class="line"><a name="l06287"></a><span class="lineno"> 6287</span>&#160;        NewOpcode = AMDGPU::V_LSHRREV_B64_e64;</div>
<div class="line"><a name="l06288"></a><span class="lineno"> 6288</span>&#160;        swapOperands(Inst);</div>
<div class="line"><a name="l06289"></a><span class="lineno"> 6289</span>&#160;      }</div>
<div class="line"><a name="l06290"></a><span class="lineno"> 6290</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06291"></a><span class="lineno"> 6291</span>&#160; </div>
<div class="line"><a name="l06292"></a><span class="lineno"> 6292</span>&#160;    <span class="keywordflow">case</span> AMDGPU::S_ABS_I32:</div>
<div class="line"><a name="l06293"></a><span class="lineno"> 6293</span>&#160;      lowerScalarAbs(Worklist, Inst);</div>
<div class="line"><a name="l06294"></a><span class="lineno"> 6294</span>&#160;      Inst.<a class="code" href="classllvm_1_1MachineInstr.html#ac2421adbb9996e1b15f03a8abb6c70a8">eraseFromParent</a>();</div>
<div class="line"><a name="l06295"></a><span class="lineno"> 6295</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l06296"></a><span class="lineno"> 6296</span>&#160; </div>
<div class="line"><a name="l06297"></a><span class="lineno"> 6297</span>&#160;    <span class="keywordflow">case</span> AMDGPU::S_CBRANCH_SCC0:</div>
<div class="line"><a name="l06298"></a><span class="lineno"> 6298</span>&#160;    <span class="keywordflow">case</span> AMDGPU::S_CBRANCH_SCC1: {</div>
<div class="line"><a name="l06299"></a><span class="lineno"> 6299</span>&#160;        <span class="comment">// Clear unused bits of vcc</span></div>
<div class="line"><a name="l06300"></a><span class="lineno"> 6300</span>&#160;        <a class="code" href="classllvm_1_1Register.html">Register</a> CondReg = Inst.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(1).<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>();</div>
<div class="line"><a name="l06301"></a><span class="lineno"> 6301</span>&#160;        <span class="keywordtype">bool</span> IsSCC = CondReg == <a class="code" href="namespacellvm_1_1AMDGPU_1_1CPol.html#a7d79a4b341da8ac60b91c1f4b1ea42c4aca1659af59093b2b14c2f8aad41e8e2a">AMDGPU::SCC</a>;</div>
<div class="line"><a name="l06302"></a><span class="lineno"> 6302</span>&#160;        <a class="code" href="classllvm_1_1Register.html">Register</a> VCC = RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#adbdf0119b398fd6464742936fe420056">getVCC</a>();</div>
<div class="line"><a name="l06303"></a><span class="lineno"> 6303</span>&#160;        <a class="code" href="classllvm_1_1Register.html">Register</a> EXEC = ST.<a class="code" href="classllvm_1_1GCNSubtarget.html#a9f44cd05eefbb20a234a7e3b6369a7f8">isWave32</a>() ? AMDGPU::EXEC_LO : AMDGPU::EXEC;</div>
<div class="line"><a name="l06304"></a><span class="lineno"> 6304</span>&#160;        <span class="keywordtype">unsigned</span> Opc = ST.<a class="code" href="classllvm_1_1GCNSubtarget.html#a9f44cd05eefbb20a234a7e3b6369a7f8">isWave32</a>() ? AMDGPU::S_AND_B32 : AMDGPU::S_AND_B64;</div>
<div class="line"><a name="l06305"></a><span class="lineno"> 6305</span>&#160;        <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(*<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, Inst, Inst.<a class="code" href="classllvm_1_1MachineInstr.html#ae8ff2acea4fe63e48e8fc6cf0620ff78">getDebugLoc</a>(), <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(Opc), VCC)</div>
<div class="line"><a name="l06306"></a><span class="lineno"> 6306</span>&#160;            .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(EXEC)</div>
<div class="line"><a name="l06307"></a><span class="lineno"> 6307</span>&#160;            .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(IsSCC ? VCC : CondReg);</div>
<div class="line"><a name="l06308"></a><span class="lineno"> 6308</span>&#160;        Inst.<a class="code" href="classllvm_1_1MachineInstr.html#ac3b161ec90385105cb46a08b52139e60">removeOperand</a>(1);</div>
<div class="line"><a name="l06309"></a><span class="lineno"> 6309</span>&#160;      }</div>
<div class="line"><a name="l06310"></a><span class="lineno"> 6310</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06311"></a><span class="lineno"> 6311</span>&#160; </div>
<div class="line"><a name="l06312"></a><span class="lineno"> 6312</span>&#160;    <span class="keywordflow">case</span> AMDGPU::S_BFE_U64:</div>
<div class="line"><a name="l06313"></a><span class="lineno"> 6313</span>&#160;    <span class="keywordflow">case</span> AMDGPU::S_BFM_B64:</div>
<div class="line"><a name="l06314"></a><span class="lineno"> 6314</span>&#160;      <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Moving this op to VALU not implemented&quot;</span>);</div>
<div class="line"><a name="l06315"></a><span class="lineno"> 6315</span>&#160; </div>
<div class="line"><a name="l06316"></a><span class="lineno"> 6316</span>&#160;    <span class="keywordflow">case</span> AMDGPU::S_PACK_LL_B32_B16:</div>
<div class="line"><a name="l06317"></a><span class="lineno"> 6317</span>&#160;    <span class="keywordflow">case</span> AMDGPU::S_PACK_LH_B32_B16:</div>
<div class="line"><a name="l06318"></a><span class="lineno"> 6318</span>&#160;    <span class="keywordflow">case</span> AMDGPU::S_PACK_HL_B32_B16:</div>
<div class="line"><a name="l06319"></a><span class="lineno"> 6319</span>&#160;    <span class="keywordflow">case</span> AMDGPU::S_PACK_HH_B32_B16:</div>
<div class="line"><a name="l06320"></a><span class="lineno"> 6320</span>&#160;      movePackToVALU(Worklist, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, Inst);</div>
<div class="line"><a name="l06321"></a><span class="lineno"> 6321</span>&#160;      Inst.<a class="code" href="classllvm_1_1MachineInstr.html#ac2421adbb9996e1b15f03a8abb6c70a8">eraseFromParent</a>();</div>
<div class="line"><a name="l06322"></a><span class="lineno"> 6322</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l06323"></a><span class="lineno"> 6323</span>&#160; </div>
<div class="line"><a name="l06324"></a><span class="lineno"> 6324</span>&#160;    <span class="keywordflow">case</span> AMDGPU::S_XNOR_B32:</div>
<div class="line"><a name="l06325"></a><span class="lineno"> 6325</span>&#160;      lowerScalarXnor(Worklist, Inst);</div>
<div class="line"><a name="l06326"></a><span class="lineno"> 6326</span>&#160;      Inst.<a class="code" href="classllvm_1_1MachineInstr.html#ac2421adbb9996e1b15f03a8abb6c70a8">eraseFromParent</a>();</div>
<div class="line"><a name="l06327"></a><span class="lineno"> 6327</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l06328"></a><span class="lineno"> 6328</span>&#160; </div>
<div class="line"><a name="l06329"></a><span class="lineno"> 6329</span>&#160;    <span class="keywordflow">case</span> AMDGPU::S_NAND_B32:</div>
<div class="line"><a name="l06330"></a><span class="lineno"> 6330</span>&#160;      splitScalarNotBinop(Worklist, Inst, AMDGPU::S_AND_B32);</div>
<div class="line"><a name="l06331"></a><span class="lineno"> 6331</span>&#160;      Inst.<a class="code" href="classllvm_1_1MachineInstr.html#ac2421adbb9996e1b15f03a8abb6c70a8">eraseFromParent</a>();</div>
<div class="line"><a name="l06332"></a><span class="lineno"> 6332</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l06333"></a><span class="lineno"> 6333</span>&#160; </div>
<div class="line"><a name="l06334"></a><span class="lineno"> 6334</span>&#160;    <span class="keywordflow">case</span> AMDGPU::S_NOR_B32:</div>
<div class="line"><a name="l06335"></a><span class="lineno"> 6335</span>&#160;      splitScalarNotBinop(Worklist, Inst, AMDGPU::S_OR_B32);</div>
<div class="line"><a name="l06336"></a><span class="lineno"> 6336</span>&#160;      Inst.<a class="code" href="classllvm_1_1MachineInstr.html#ac2421adbb9996e1b15f03a8abb6c70a8">eraseFromParent</a>();</div>
<div class="line"><a name="l06337"></a><span class="lineno"> 6337</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l06338"></a><span class="lineno"> 6338</span>&#160; </div>
<div class="line"><a name="l06339"></a><span class="lineno"> 6339</span>&#160;    <span class="keywordflow">case</span> AMDGPU::S_ANDN2_B32:</div>
<div class="line"><a name="l06340"></a><span class="lineno"> 6340</span>&#160;      splitScalarBinOpN2(Worklist, Inst, AMDGPU::S_AND_B32);</div>
<div class="line"><a name="l06341"></a><span class="lineno"> 6341</span>&#160;      Inst.<a class="code" href="classllvm_1_1MachineInstr.html#ac2421adbb9996e1b15f03a8abb6c70a8">eraseFromParent</a>();</div>
<div class="line"><a name="l06342"></a><span class="lineno"> 6342</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l06343"></a><span class="lineno"> 6343</span>&#160; </div>
<div class="line"><a name="l06344"></a><span class="lineno"> 6344</span>&#160;    <span class="keywordflow">case</span> AMDGPU::S_ORN2_B32:</div>
<div class="line"><a name="l06345"></a><span class="lineno"> 6345</span>&#160;      splitScalarBinOpN2(Worklist, Inst, AMDGPU::S_OR_B32);</div>
<div class="line"><a name="l06346"></a><span class="lineno"> 6346</span>&#160;      Inst.<a class="code" href="classllvm_1_1MachineInstr.html#ac2421adbb9996e1b15f03a8abb6c70a8">eraseFromParent</a>();</div>
<div class="line"><a name="l06347"></a><span class="lineno"> 6347</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l06348"></a><span class="lineno"> 6348</span>&#160; </div>
<div class="line"><a name="l06349"></a><span class="lineno"> 6349</span>&#160;    <span class="comment">// TODO: remove as soon as everything is ready</span></div>
<div class="line"><a name="l06350"></a><span class="lineno"> 6350</span>&#160;    <span class="comment">// to replace VGPR to SGPR copy with V_READFIRSTLANEs.</span></div>
<div class="line"><a name="l06351"></a><span class="lineno"> 6351</span>&#160;    <span class="comment">// S_ADD/SUB_CO_PSEUDO as well as S_UADDO/USUBO_PSEUDO</span></div>
<div class="line"><a name="l06352"></a><span class="lineno"> 6352</span>&#160;    <span class="comment">// can only be selected from the uniform SDNode.</span></div>
<div class="line"><a name="l06353"></a><span class="lineno"> 6353</span>&#160;    <span class="keywordflow">case</span> AMDGPU::S_ADD_CO_PSEUDO:</div>
<div class="line"><a name="l06354"></a><span class="lineno"> 6354</span>&#160;    <span class="keywordflow">case</span> AMDGPU::S_SUB_CO_PSEUDO: {</div>
<div class="line"><a name="l06355"></a><span class="lineno"> 6355</span>&#160;      <span class="keywordtype">unsigned</span> Opc = (Inst.<a class="code" href="classllvm_1_1MachineInstr.html#a0363204b5fbab08a46f5a7cd7f376f78">getOpcode</a>() == AMDGPU::S_ADD_CO_PSEUDO)</div>
<div class="line"><a name="l06356"></a><span class="lineno"> 6356</span>&#160;                         ? AMDGPU::V_ADDC_U32_e64</div>
<div class="line"><a name="l06357"></a><span class="lineno"> 6357</span>&#160;                         : AMDGPU::V_SUBB_U32_e64;</div>
<div class="line"><a name="l06358"></a><span class="lineno"> 6358</span>&#160;      <span class="keyword">const</span> <span class="keyword">auto</span> *CarryRC = RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#a0e2008041a23dfc43ff1e90b014a2936">getRegClass</a>(AMDGPU::SReg_1_XEXECRegClassID);</div>
<div class="line"><a name="l06359"></a><span class="lineno"> 6359</span>&#160; </div>
<div class="line"><a name="l06360"></a><span class="lineno"> 6360</span>&#160;      <a class="code" href="classllvm_1_1Register.html">Register</a> CarryInReg = Inst.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(4).<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>();</div>
<div class="line"><a name="l06361"></a><span class="lineno"> 6361</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#ad85285685fc46db3f2b3b0bf90bf9184">constrainRegClass</a>(CarryInReg, CarryRC)) {</div>
<div class="line"><a name="l06362"></a><span class="lineno"> 6362</span>&#160;        <a class="code" href="classllvm_1_1Register.html">Register</a> NewCarryReg = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5c77792a06583e0fe7a0379ad94a2809">createVirtualRegister</a>(CarryRC);</div>
<div class="line"><a name="l06363"></a><span class="lineno"> 6363</span>&#160;        <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(*<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, &amp;Inst, Inst.<a class="code" href="classllvm_1_1MachineInstr.html#ae8ff2acea4fe63e48e8fc6cf0620ff78">getDebugLoc</a>(), <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::COPY), NewCarryReg)</div>
<div class="line"><a name="l06364"></a><span class="lineno"> 6364</span>&#160;            .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(CarryInReg);</div>
<div class="line"><a name="l06365"></a><span class="lineno"> 6365</span>&#160;      }</div>
<div class="line"><a name="l06366"></a><span class="lineno"> 6366</span>&#160; </div>
<div class="line"><a name="l06367"></a><span class="lineno"> 6367</span>&#160;      <a class="code" href="classllvm_1_1Register.html">Register</a> CarryOutReg = Inst.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(1).<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>();</div>
<div class="line"><a name="l06368"></a><span class="lineno"> 6368</span>&#160; </div>
<div class="line"><a name="l06369"></a><span class="lineno"> 6369</span>&#160;      <a class="code" href="classllvm_1_1Register.html">Register</a> DestReg = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5c77792a06583e0fe7a0379ad94a2809">createVirtualRegister</a>(RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#a2fcc4d3294381da29adb855c5f56c0d5">getEquivalentVGPRClass</a>(</div>
<div class="line"><a name="l06370"></a><span class="lineno"> 6370</span>&#160;          <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#aa363afffca4fc13a709673936b47fe33">getRegClass</a>(Inst.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>())));</div>
<div class="line"><a name="l06371"></a><span class="lineno"> 6371</span>&#160;      <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *CarryOp =</div>
<div class="line"><a name="l06372"></a><span class="lineno"> 6372</span>&#160;          <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(*<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, &amp;Inst, Inst.<a class="code" href="classllvm_1_1MachineInstr.html#ae8ff2acea4fe63e48e8fc6cf0620ff78">getDebugLoc</a>(), <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(Opc), DestReg)</div>
<div class="line"><a name="l06373"></a><span class="lineno"> 6373</span>&#160;              .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(CarryOutReg, <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da72c17e2ff2d5af62a30e56ac152aa8d5">RegState::Define</a>)</div>
<div class="line"><a name="l06374"></a><span class="lineno"> 6374</span>&#160;              .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a1ac8d27532cfd1d1f032ecbff2ba3611">add</a>(Inst.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(2))</div>
<div class="line"><a name="l06375"></a><span class="lineno"> 6375</span>&#160;              .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a1ac8d27532cfd1d1f032ecbff2ba3611">add</a>(Inst.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(3))</div>
<div class="line"><a name="l06376"></a><span class="lineno"> 6376</span>&#160;              .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(CarryInReg)</div>
<div class="line"><a name="l06377"></a><span class="lineno"> 6377</span>&#160;              .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(0);</div>
<div class="line"><a name="l06378"></a><span class="lineno"> 6378</span>&#160;      CreatedBBTmp = <a class="code" href="classllvm_1_1SIInstrInfo.html#a09787033a63326e79a0d1445d3e0de13">legalizeOperands</a>(*CarryOp);</div>
<div class="line"><a name="l06379"></a><span class="lineno"> 6379</span>&#160;      <span class="keywordflow">if</span> (CreatedBBTmp &amp;&amp; TopInst.<a class="code" href="classllvm_1_1MachineInstr.html#a002fd916e7206e01d512eeb06d405cf0">getParent</a>() == CreatedBBTmp)</div>
<div class="line"><a name="l06380"></a><span class="lineno"> 6380</span>&#160;        CreatedBB = CreatedBBTmp;</div>
<div class="line"><a name="l06381"></a><span class="lineno"> 6381</span>&#160;      <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#af16c39ee36e4633f821b6820f8bd52ef">replaceRegWith</a>(Inst.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>(), DestReg);</div>
<div class="line"><a name="l06382"></a><span class="lineno"> 6382</span>&#160;      addUsersToMoveToVALUWorklist(DestReg, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, Worklist);</div>
<div class="line"><a name="l06383"></a><span class="lineno"> 6383</span>&#160;      Inst.<a class="code" href="classllvm_1_1MachineInstr.html#ac2421adbb9996e1b15f03a8abb6c70a8">eraseFromParent</a>();</div>
<div class="line"><a name="l06384"></a><span class="lineno"> 6384</span>&#160;    }</div>
<div class="line"><a name="l06385"></a><span class="lineno"> 6385</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l06386"></a><span class="lineno"> 6386</span>&#160;    <span class="keywordflow">case</span> AMDGPU::S_UADDO_PSEUDO:</div>
<div class="line"><a name="l06387"></a><span class="lineno"> 6387</span>&#160;    <span class="keywordflow">case</span> AMDGPU::S_USUBO_PSEUDO: {</div>
<div class="line"><a name="l06388"></a><span class="lineno"> 6388</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a> = Inst.<a class="code" href="classllvm_1_1MachineInstr.html#ae8ff2acea4fe63e48e8fc6cf0620ff78">getDebugLoc</a>();</div>
<div class="line"><a name="l06389"></a><span class="lineno"> 6389</span>&#160;      <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;Dest0 = Inst.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(0);</div>
<div class="line"><a name="l06390"></a><span class="lineno"> 6390</span>&#160;      <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;Dest1 = Inst.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(1);</div>
<div class="line"><a name="l06391"></a><span class="lineno"> 6391</span>&#160;      <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;Src0 = Inst.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(2);</div>
<div class="line"><a name="l06392"></a><span class="lineno"> 6392</span>&#160;      <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;Src1 = Inst.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(3);</div>
<div class="line"><a name="l06393"></a><span class="lineno"> 6393</span>&#160; </div>
<div class="line"><a name="l06394"></a><span class="lineno"> 6394</span>&#160;      <span class="keywordtype">unsigned</span> Opc = (Inst.<a class="code" href="classllvm_1_1MachineInstr.html#a0363204b5fbab08a46f5a7cd7f376f78">getOpcode</a>() == AMDGPU::S_UADDO_PSEUDO)</div>
<div class="line"><a name="l06395"></a><span class="lineno"> 6395</span>&#160;                         ? AMDGPU::V_ADD_CO_U32_e64</div>
<div class="line"><a name="l06396"></a><span class="lineno"> 6396</span>&#160;                         : AMDGPU::V_SUB_CO_U32_e64;</div>
<div class="line"><a name="l06397"></a><span class="lineno"> 6397</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *NewRC =</div>
<div class="line"><a name="l06398"></a><span class="lineno"> 6398</span>&#160;          RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#a2fcc4d3294381da29adb855c5f56c0d5">getEquivalentVGPRClass</a>(<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#aa363afffca4fc13a709673936b47fe33">getRegClass</a>(Dest0.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>()));</div>
<div class="line"><a name="l06399"></a><span class="lineno"> 6399</span>&#160;      <a class="code" href="classllvm_1_1Register.html">Register</a> DestReg = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5c77792a06583e0fe7a0379ad94a2809">createVirtualRegister</a>(NewRC);</div>
<div class="line"><a name="l06400"></a><span class="lineno"> 6400</span>&#160;      <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *NewInstr = <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(*<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, &amp;Inst, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(Opc), DestReg)</div>
<div class="line"><a name="l06401"></a><span class="lineno"> 6401</span>&#160;                                   .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(Dest1.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>(), <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da72c17e2ff2d5af62a30e56ac152aa8d5">RegState::Define</a>)</div>
<div class="line"><a name="l06402"></a><span class="lineno"> 6402</span>&#160;                                   .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a1ac8d27532cfd1d1f032ecbff2ba3611">add</a>(Src0)</div>
<div class="line"><a name="l06403"></a><span class="lineno"> 6403</span>&#160;                                   .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a1ac8d27532cfd1d1f032ecbff2ba3611">add</a>(Src1)</div>
<div class="line"><a name="l06404"></a><span class="lineno"> 6404</span>&#160;                                   .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(0); <span class="comment">// clamp bit</span></div>
<div class="line"><a name="l06405"></a><span class="lineno"> 6405</span>&#160; </div>
<div class="line"><a name="l06406"></a><span class="lineno"> 6406</span>&#160;      CreatedBBTmp = <a class="code" href="classllvm_1_1SIInstrInfo.html#a09787033a63326e79a0d1445d3e0de13">legalizeOperands</a>(*NewInstr, MDT);</div>
<div class="line"><a name="l06407"></a><span class="lineno"> 6407</span>&#160;      <span class="keywordflow">if</span> (CreatedBBTmp &amp;&amp; TopInst.<a class="code" href="classllvm_1_1MachineInstr.html#a002fd916e7206e01d512eeb06d405cf0">getParent</a>() == CreatedBBTmp)</div>
<div class="line"><a name="l06408"></a><span class="lineno"> 6408</span>&#160;        CreatedBB = CreatedBBTmp;</div>
<div class="line"><a name="l06409"></a><span class="lineno"> 6409</span>&#160; </div>
<div class="line"><a name="l06410"></a><span class="lineno"> 6410</span>&#160;      <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#af16c39ee36e4633f821b6820f8bd52ef">replaceRegWith</a>(Dest0.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>(), DestReg);</div>
<div class="line"><a name="l06411"></a><span class="lineno"> 6411</span>&#160;      addUsersToMoveToVALUWorklist(NewInstr-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>(), <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>,</div>
<div class="line"><a name="l06412"></a><span class="lineno"> 6412</span>&#160;                                   Worklist);</div>
<div class="line"><a name="l06413"></a><span class="lineno"> 6413</span>&#160;      Inst.<a class="code" href="classllvm_1_1MachineInstr.html#ac2421adbb9996e1b15f03a8abb6c70a8">eraseFromParent</a>();</div>
<div class="line"><a name="l06414"></a><span class="lineno"> 6414</span>&#160;    }</div>
<div class="line"><a name="l06415"></a><span class="lineno"> 6415</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l06416"></a><span class="lineno"> 6416</span>&#160; </div>
<div class="line"><a name="l06417"></a><span class="lineno"> 6417</span>&#160;    <span class="keywordflow">case</span> AMDGPU::S_CSELECT_B32:</div>
<div class="line"><a name="l06418"></a><span class="lineno"> 6418</span>&#160;    <span class="keywordflow">case</span> AMDGPU::S_CSELECT_B64:</div>
<div class="line"><a name="l06419"></a><span class="lineno"> 6419</span>&#160;      lowerSelect(Worklist, Inst, MDT);</div>
<div class="line"><a name="l06420"></a><span class="lineno"> 6420</span>&#160;      Inst.<a class="code" href="classllvm_1_1MachineInstr.html#ac2421adbb9996e1b15f03a8abb6c70a8">eraseFromParent</a>();</div>
<div class="line"><a name="l06421"></a><span class="lineno"> 6421</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l06422"></a><span class="lineno"> 6422</span>&#160;    <span class="keywordflow">case</span> AMDGPU::S_CMP_EQ_I32:</div>
<div class="line"><a name="l06423"></a><span class="lineno"> 6423</span>&#160;    <span class="keywordflow">case</span> AMDGPU::S_CMP_LG_I32:</div>
<div class="line"><a name="l06424"></a><span class="lineno"> 6424</span>&#160;    <span class="keywordflow">case</span> AMDGPU::S_CMP_GT_I32:</div>
<div class="line"><a name="l06425"></a><span class="lineno"> 6425</span>&#160;    <span class="keywordflow">case</span> AMDGPU::S_CMP_GE_I32:</div>
<div class="line"><a name="l06426"></a><span class="lineno"> 6426</span>&#160;    <span class="keywordflow">case</span> AMDGPU::S_CMP_LT_I32:</div>
<div class="line"><a name="l06427"></a><span class="lineno"> 6427</span>&#160;    <span class="keywordflow">case</span> AMDGPU::S_CMP_LE_I32:</div>
<div class="line"><a name="l06428"></a><span class="lineno"> 6428</span>&#160;    <span class="keywordflow">case</span> AMDGPU::S_CMP_EQ_U32:</div>
<div class="line"><a name="l06429"></a><span class="lineno"> 6429</span>&#160;    <span class="keywordflow">case</span> AMDGPU::S_CMP_LG_U32:</div>
<div class="line"><a name="l06430"></a><span class="lineno"> 6430</span>&#160;    <span class="keywordflow">case</span> AMDGPU::S_CMP_GT_U32:</div>
<div class="line"><a name="l06431"></a><span class="lineno"> 6431</span>&#160;    <span class="keywordflow">case</span> AMDGPU::S_CMP_GE_U32:</div>
<div class="line"><a name="l06432"></a><span class="lineno"> 6432</span>&#160;    <span class="keywordflow">case</span> AMDGPU::S_CMP_LT_U32:</div>
<div class="line"><a name="l06433"></a><span class="lineno"> 6433</span>&#160;    <span class="keywordflow">case</span> AMDGPU::S_CMP_LE_U32:</div>
<div class="line"><a name="l06434"></a><span class="lineno"> 6434</span>&#160;    <span class="keywordflow">case</span> AMDGPU::S_CMP_EQ_U64:</div>
<div class="line"><a name="l06435"></a><span class="lineno"> 6435</span>&#160;    <span class="keywordflow">case</span> AMDGPU::S_CMP_LG_U64: {</div>
<div class="line"><a name="l06436"></a><span class="lineno"> 6436</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCInstrDesc.html">MCInstrDesc</a> &amp;NewDesc = <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(NewOpcode);</div>
<div class="line"><a name="l06437"></a><span class="lineno"> 6437</span>&#160;        <a class="code" href="classllvm_1_1Register.html">Register</a> CondReg = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5c77792a06583e0fe7a0379ad94a2809">createVirtualRegister</a>(RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#abd1b045c48536729160cbfc075852f4c">getWaveMaskRegClass</a>());</div>
<div class="line"><a name="l06438"></a><span class="lineno"> 6438</span>&#160;        <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *NewInstr =</div>
<div class="line"><a name="l06439"></a><span class="lineno"> 6439</span>&#160;            <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(*<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, Inst, Inst.<a class="code" href="classllvm_1_1MachineInstr.html#ae8ff2acea4fe63e48e8fc6cf0620ff78">getDebugLoc</a>(), NewDesc, CondReg)</div>
<div class="line"><a name="l06440"></a><span class="lineno"> 6440</span>&#160;                .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a1ac8d27532cfd1d1f032ecbff2ba3611">add</a>(Inst.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(0))</div>
<div class="line"><a name="l06441"></a><span class="lineno"> 6441</span>&#160;                .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a1ac8d27532cfd1d1f032ecbff2ba3611">add</a>(Inst.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(1));</div>
<div class="line"><a name="l06442"></a><span class="lineno"> 6442</span>&#160;        <a class="code" href="classllvm_1_1SIInstrInfo.html#a09787033a63326e79a0d1445d3e0de13">legalizeOperands</a>(*NewInstr, MDT);</div>
<div class="line"><a name="l06443"></a><span class="lineno"> 6443</span>&#160;        <span class="keywordtype">int</span> SCCIdx = Inst.<a class="code" href="classllvm_1_1MachineInstr.html#a23fcb3c9cc9602657a3de8aa9ed0457d">findRegisterDefOperandIdx</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1CPol.html#a7d79a4b341da8ac60b91c1f4b1ea42c4aca1659af59093b2b14c2f8aad41e8e2a">AMDGPU::SCC</a>);</div>
<div class="line"><a name="l06444"></a><span class="lineno"> 6444</span>&#160;        <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> SCCOp = Inst.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(SCCIdx);</div>
<div class="line"><a name="l06445"></a><span class="lineno"> 6445</span>&#160;        addSCCDefUsersToVALUWorklist(SCCOp, Inst, Worklist, CondReg);</div>
<div class="line"><a name="l06446"></a><span class="lineno"> 6446</span>&#160;        Inst.<a class="code" href="classllvm_1_1MachineInstr.html#ac2421adbb9996e1b15f03a8abb6c70a8">eraseFromParent</a>();</div>
<div class="line"><a name="l06447"></a><span class="lineno"> 6447</span>&#160;      }</div>
<div class="line"><a name="l06448"></a><span class="lineno"> 6448</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l06449"></a><span class="lineno"> 6449</span>&#160;    }</div>
<div class="line"><a name="l06450"></a><span class="lineno"> 6450</span>&#160; </div>
<div class="line"><a name="l06451"></a><span class="lineno"> 6451</span>&#160;    <span class="keywordflow">if</span> (NewOpcode == AMDGPU::INSTRUCTION_LIST_END) {</div>
<div class="line"><a name="l06452"></a><span class="lineno"> 6452</span>&#160;      <span class="comment">// We cannot move this instruction to the VALU, so we should try to</span></div>
<div class="line"><a name="l06453"></a><span class="lineno"> 6453</span>&#160;      <span class="comment">// legalize its operands instead.</span></div>
<div class="line"><a name="l06454"></a><span class="lineno"> 6454</span>&#160;      CreatedBBTmp = <a class="code" href="classllvm_1_1SIInstrInfo.html#a09787033a63326e79a0d1445d3e0de13">legalizeOperands</a>(Inst, MDT);</div>
<div class="line"><a name="l06455"></a><span class="lineno"> 6455</span>&#160;      <span class="keywordflow">if</span> (CreatedBBTmp &amp;&amp; TopInst.<a class="code" href="classllvm_1_1MachineInstr.html#a002fd916e7206e01d512eeb06d405cf0">getParent</a>() == CreatedBBTmp)</div>
<div class="line"><a name="l06456"></a><span class="lineno"> 6456</span>&#160;        CreatedBB = CreatedBBTmp;</div>
<div class="line"><a name="l06457"></a><span class="lineno"> 6457</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l06458"></a><span class="lineno"> 6458</span>&#160;    }</div>
<div class="line"><a name="l06459"></a><span class="lineno"> 6459</span>&#160; </div>
<div class="line"><a name="l06460"></a><span class="lineno"> 6460</span>&#160;    <span class="comment">// Handle converting generic instructions like COPY-to-SGPR into</span></div>
<div class="line"><a name="l06461"></a><span class="lineno"> 6461</span>&#160;    <span class="comment">// COPY-to-VGPR.</span></div>
<div class="line"><a name="l06462"></a><span class="lineno"> 6462</span>&#160;    <span class="keywordflow">if</span> (NewOpcode == Opcode) {</div>
<div class="line"><a name="l06463"></a><span class="lineno"> 6463</span>&#160;      <a class="code" href="classllvm_1_1Register.html">Register</a> DstReg = Inst.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>();</div>
<div class="line"><a name="l06464"></a><span class="lineno"> 6464</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *NewDstRC = getDestEquivalentVGPRClass(Inst);</div>
<div class="line"><a name="l06465"></a><span class="lineno"> 6465</span>&#160; </div>
<div class="line"><a name="l06466"></a><span class="lineno"> 6466</span>&#160;      <span class="keywordflow">if</span> (Inst.<a class="code" href="classllvm_1_1MachineInstr.html#a1912d4fbc40c61a12b1f770ad54dfd74">isCopy</a>() &amp;&amp; Inst.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(1).<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>().<a class="code" href="classllvm_1_1Register.html#aebafd86dde59b5a05b22e8720e808a9d">isVirtual</a>() &amp;&amp;</div>
<div class="line"><a name="l06467"></a><span class="lineno"> 6467</span>&#160;          NewDstRC == RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#a77b95c7a5620b2e92ef8ca3aa8be15bd">getRegClassForReg</a>(<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, Inst.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(1).<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>())) {</div>
<div class="line"><a name="l06468"></a><span class="lineno"> 6468</span>&#160;        <span class="comment">// Instead of creating a copy where src and dst are the same register</span></div>
<div class="line"><a name="l06469"></a><span class="lineno"> 6469</span>&#160;        <span class="comment">// class, we just replace all uses of dst with src.  These kinds of</span></div>
<div class="line"><a name="l06470"></a><span class="lineno"> 6470</span>&#160;        <span class="comment">// copies interfere with the heuristics MachineSink uses to decide</span></div>
<div class="line"><a name="l06471"></a><span class="lineno"> 6471</span>&#160;        <span class="comment">// whether or not to split a critical edge.  Since the pass assumes</span></div>
<div class="line"><a name="l06472"></a><span class="lineno"> 6472</span>&#160;        <span class="comment">// that copies will end up as machine instructions and not be</span></div>
<div class="line"><a name="l06473"></a><span class="lineno"> 6473</span>&#160;        <span class="comment">// eliminated.</span></div>
<div class="line"><a name="l06474"></a><span class="lineno"> 6474</span>&#160;        addUsersToMoveToVALUWorklist(DstReg, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, Worklist);</div>
<div class="line"><a name="l06475"></a><span class="lineno"> 6475</span>&#160;        <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#af16c39ee36e4633f821b6820f8bd52ef">replaceRegWith</a>(DstReg, Inst.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(1).<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>());</div>
<div class="line"><a name="l06476"></a><span class="lineno"> 6476</span>&#160;        <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a3da9727b1d452d6dcab08fde547ab634">clearKillFlags</a>(Inst.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(1).<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>());</div>
<div class="line"><a name="l06477"></a><span class="lineno"> 6477</span>&#160;        Inst.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#a682ba82f42f7903d0000ffbb13ea3b57">setReg</a>(DstReg);</div>
<div class="line"><a name="l06478"></a><span class="lineno"> 6478</span>&#160; </div>
<div class="line"><a name="l06479"></a><span class="lineno"> 6479</span>&#160;        <span class="comment">// Make sure we don&#39;t leave around a dead VGPR-&gt;SGPR copy. Normally</span></div>
<div class="line"><a name="l06480"></a><span class="lineno"> 6480</span>&#160;        <span class="comment">// these are deleted later, but at -O0 it would leave a suspicious</span></div>
<div class="line"><a name="l06481"></a><span class="lineno"> 6481</span>&#160;        <span class="comment">// looking illegal copy of an undef register.</span></div>
<div class="line"><a name="l06482"></a><span class="lineno"> 6482</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = Inst.<a class="code" href="classllvm_1_1MachineInstr.html#a432824f0975bb863478bf4ef3a5df258">getNumOperands</a>() - 1; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != 0; --<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</div>
<div class="line"><a name="l06483"></a><span class="lineno"> 6483</span>&#160;          Inst.<a class="code" href="classllvm_1_1MachineInstr.html#ac3b161ec90385105cb46a08b52139e60">removeOperand</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l06484"></a><span class="lineno"> 6484</span>&#160;        Inst.<a class="code" href="classllvm_1_1MachineInstr.html#af11a92503408a812be672ee3efc848d3">setDesc</a>(<a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::IMPLICIT_DEF));</div>
<div class="line"><a name="l06485"></a><span class="lineno"> 6485</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l06486"></a><span class="lineno"> 6486</span>&#160;      }</div>
<div class="line"><a name="l06487"></a><span class="lineno"> 6487</span>&#160; </div>
<div class="line"><a name="l06488"></a><span class="lineno"> 6488</span>&#160;      <a class="code" href="classllvm_1_1Register.html">Register</a> NewDstReg = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5c77792a06583e0fe7a0379ad94a2809">createVirtualRegister</a>(NewDstRC);</div>
<div class="line"><a name="l06489"></a><span class="lineno"> 6489</span>&#160;      <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#af16c39ee36e4633f821b6820f8bd52ef">replaceRegWith</a>(DstReg, NewDstReg);</div>
<div class="line"><a name="l06490"></a><span class="lineno"> 6490</span>&#160;      <a class="code" href="classllvm_1_1SIInstrInfo.html#a09787033a63326e79a0d1445d3e0de13">legalizeOperands</a>(Inst, MDT);</div>
<div class="line"><a name="l06491"></a><span class="lineno"> 6491</span>&#160;      addUsersToMoveToVALUWorklist(NewDstReg, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, Worklist);</div>
<div class="line"><a name="l06492"></a><span class="lineno"> 6492</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l06493"></a><span class="lineno"> 6493</span>&#160;    }</div>
<div class="line"><a name="l06494"></a><span class="lineno"> 6494</span>&#160; </div>
<div class="line"><a name="l06495"></a><span class="lineno"> 6495</span>&#160;    <span class="comment">// Use the new VALU Opcode.</span></div>
<div class="line"><a name="l06496"></a><span class="lineno"> 6496</span>&#160;    <span class="keyword">auto</span> NewInstr = <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(*<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, Inst, Inst.<a class="code" href="classllvm_1_1MachineInstr.html#ae8ff2acea4fe63e48e8fc6cf0620ff78">getDebugLoc</a>(), <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(NewOpcode))</div>
<div class="line"><a name="l06497"></a><span class="lineno"> 6497</span>&#160;                        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a860467662b17cef898ece774ab400235">setMIFlags</a>(Inst.<a class="code" href="classllvm_1_1MachineInstr.html#ad2f4d922d52fe33423474951f704b91b">getFlags</a>());</div>
<div class="line"><a name="l06498"></a><span class="lineno"> 6498</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> : Inst.<a class="code" href="classllvm_1_1MachineInstr.html#aa6c5b2fa64092b4233e69ea7659f7551">explicit_operands</a>())</div>
<div class="line"><a name="l06499"></a><span class="lineno"> 6499</span>&#160;      NewInstr-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a469e271fba3a9b52dad4fa54eaf44e2b">addOperand</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>);</div>
<div class="line"><a name="l06500"></a><span class="lineno"> 6500</span>&#160; </div>
<div class="line"><a name="l06501"></a><span class="lineno"> 6501</span>&#160;    <span class="comment">// Remove any references to SCC. Vector instructions can&#39;t read from it, and</span></div>
<div class="line"><a name="l06502"></a><span class="lineno"> 6502</span>&#160;    <span class="comment">// We&#39;re just about to add the implicit use / defs of VCC, and we don&#39;t want</span></div>
<div class="line"><a name="l06503"></a><span class="lineno"> 6503</span>&#160;    <span class="comment">// both.</span></div>
<div class="line"><a name="l06504"></a><span class="lineno"> 6504</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> : Inst.<a class="code" href="classllvm_1_1MachineInstr.html#a8b4741a5cb0780b4d02fe6bd43ef0b68">implicit_operands</a>()) {</div>
<div class="line"><a name="l06505"></a><span class="lineno"> 6505</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getReg() == <a class="code" href="namespacellvm_1_1AMDGPU_1_1CPol.html#a7d79a4b341da8ac60b91c1f4b1ea42c4aca1659af59093b2b14c2f8aad41e8e2a">AMDGPU::SCC</a>) {</div>
<div class="line"><a name="l06506"></a><span class="lineno"> 6506</span>&#160;        <span class="comment">// Only propagate through live-def of SCC.</span></div>
<div class="line"><a name="l06507"></a><span class="lineno"> 6507</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.isDef() &amp;&amp; !<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.isDead())</div>
<div class="line"><a name="l06508"></a><span class="lineno"> 6508</span>&#160;          addSCCDefUsersToVALUWorklist(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, Inst, Worklist);</div>
<div class="line"><a name="l06509"></a><span class="lineno"> 6509</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.isUse())</div>
<div class="line"><a name="l06510"></a><span class="lineno"> 6510</span>&#160;          addSCCDefsToVALUWorklist(NewInstr, Worklist);</div>
<div class="line"><a name="l06511"></a><span class="lineno"> 6511</span>&#160;      }</div>
<div class="line"><a name="l06512"></a><span class="lineno"> 6512</span>&#160;    }</div>
<div class="line"><a name="l06513"></a><span class="lineno"> 6513</span>&#160; </div>
<div class="line"><a name="l06514"></a><span class="lineno"> 6514</span>&#160;    Inst.<a class="code" href="classllvm_1_1MachineInstr.html#ac2421adbb9996e1b15f03a8abb6c70a8">eraseFromParent</a>();</div>
<div class="line"><a name="l06515"></a><span class="lineno"> 6515</span>&#160; </div>
<div class="line"><a name="l06516"></a><span class="lineno"> 6516</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> NewDstReg;</div>
<div class="line"><a name="l06517"></a><span class="lineno"> 6517</span>&#160;    <span class="keywordflow">if</span> (NewInstr-&gt;getOperand(0).isReg() &amp;&amp; NewInstr-&gt;getOperand(0).isDef()) {</div>
<div class="line"><a name="l06518"></a><span class="lineno"> 6518</span>&#160;      <a class="code" href="classllvm_1_1Register.html">Register</a> DstReg = NewInstr-&gt;getOperand(0).getReg();</div>
<div class="line"><a name="l06519"></a><span class="lineno"> 6519</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(DstReg.<a class="code" href="classllvm_1_1Register.html#aebafd86dde59b5a05b22e8720e808a9d">isVirtual</a>());</div>
<div class="line"><a name="l06520"></a><span class="lineno"> 6520</span>&#160; </div>
<div class="line"><a name="l06521"></a><span class="lineno"> 6521</span>&#160;      <span class="comment">// Update the destination register class.</span></div>
<div class="line"><a name="l06522"></a><span class="lineno"> 6522</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *NewDstRC =</div>
<div class="line"><a name="l06523"></a><span class="lineno"> 6523</span>&#160;          getDestEquivalentVGPRClass(*NewInstr);</div>
<div class="line"><a name="l06524"></a><span class="lineno"> 6524</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(NewDstRC);</div>
<div class="line"><a name="l06525"></a><span class="lineno"> 6525</span>&#160; </div>
<div class="line"><a name="l06526"></a><span class="lineno"> 6526</span>&#160;      NewDstReg = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5c77792a06583e0fe7a0379ad94a2809">createVirtualRegister</a>(NewDstRC);</div>
<div class="line"><a name="l06527"></a><span class="lineno"> 6527</span>&#160;      <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#af16c39ee36e4633f821b6820f8bd52ef">replaceRegWith</a>(DstReg, NewDstReg);</div>
<div class="line"><a name="l06528"></a><span class="lineno"> 6528</span>&#160;    }</div>
<div class="line"><a name="l06529"></a><span class="lineno"> 6529</span>&#160; </div>
<div class="line"><a name="l06530"></a><span class="lineno"> 6530</span>&#160;    <span class="keywordflow">if</span> (Opcode == AMDGPU::S_SEXT_I32_I8 || Opcode == AMDGPU::S_SEXT_I32_I16) {</div>
<div class="line"><a name="l06531"></a><span class="lineno"> 6531</span>&#160;      <span class="comment">// We are converting these to a BFE, so we need to add the missing</span></div>
<div class="line"><a name="l06532"></a><span class="lineno"> 6532</span>&#160;      <span class="comment">// operands for the size and offset.</span></div>
<div class="line"><a name="l06533"></a><span class="lineno"> 6533</span>&#160;      <span class="keywordtype">unsigned</span> Size = (Opcode == AMDGPU::S_SEXT_I32_I8) ? 8 : 16;</div>
<div class="line"><a name="l06534"></a><span class="lineno"> 6534</span>&#160;      NewInstr.addImm(0);</div>
<div class="line"><a name="l06535"></a><span class="lineno"> 6535</span>&#160;      NewInstr.addImm(Size);</div>
<div class="line"><a name="l06536"></a><span class="lineno"> 6536</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Opcode == AMDGPU::S_BCNT1_I32_B32) {</div>
<div class="line"><a name="l06537"></a><span class="lineno"> 6537</span>&#160;      <span class="comment">// The VALU version adds the second operand to the result, so insert an</span></div>
<div class="line"><a name="l06538"></a><span class="lineno"> 6538</span>&#160;      <span class="comment">// extra 0 operand.</span></div>
<div class="line"><a name="l06539"></a><span class="lineno"> 6539</span>&#160;      NewInstr.addImm(0);</div>
<div class="line"><a name="l06540"></a><span class="lineno"> 6540</span>&#160;    }</div>
<div class="line"><a name="l06541"></a><span class="lineno"> 6541</span>&#160; </div>
<div class="line"><a name="l06542"></a><span class="lineno"> 6542</span>&#160;    <span class="keywordflow">if</span> (Opcode == AMDGPU::S_BFE_I32 || Opcode == AMDGPU::S_BFE_U32) {</div>
<div class="line"><a name="l06543"></a><span class="lineno"> 6543</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;OffsetWidthOp = NewInstr-&gt;getOperand(2);</div>
<div class="line"><a name="l06544"></a><span class="lineno"> 6544</span>&#160;      <span class="comment">// If we need to move this to VGPRs, we need to unpack the second operand</span></div>
<div class="line"><a name="l06545"></a><span class="lineno"> 6545</span>&#160;      <span class="comment">// back into the 2 separate ones for bit offset and width.</span></div>
<div class="line"><a name="l06546"></a><span class="lineno"> 6546</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(OffsetWidthOp.<a class="code" href="classllvm_1_1MachineOperand.html#a76f61c6784df6dc8402a8b9011041926">isImm</a>() &amp;&amp;</div>
<div class="line"><a name="l06547"></a><span class="lineno"> 6547</span>&#160;             <span class="stringliteral">&quot;Scalar BFE is only implemented for constant width and offset&quot;</span>);</div>
<div class="line"><a name="l06548"></a><span class="lineno"> 6548</span>&#160;      <a class="code" href="classuint32__t.html">uint32_t</a> <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> = OffsetWidthOp.<a class="code" href="classllvm_1_1MachineOperand.html#a38b28a85f818b49d8806c150b8a5b4f7">getImm</a>();</div>
<div class="line"><a name="l06549"></a><span class="lineno"> 6549</span>&#160; </div>
<div class="line"><a name="l06550"></a><span class="lineno"> 6550</span>&#160;      <a class="code" href="classuint32__t.html">uint32_t</a> <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> = <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> &amp; 0x3f; <span class="comment">// Extract bits [5:0].</span></div>
<div class="line"><a name="l06551"></a><span class="lineno"> 6551</span>&#160;      <a class="code" href="classuint32__t.html">uint32_t</a> <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> = (<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> &amp; 0x7f0000) &gt;&gt; 16; <span class="comment">// Extract bits [22:16].</span></div>
<div class="line"><a name="l06552"></a><span class="lineno"> 6552</span>&#160;      NewInstr-&gt;removeOperand(2);</div>
<div class="line"><a name="l06553"></a><span class="lineno"> 6553</span>&#160;      NewInstr.addImm(<a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>);</div>
<div class="line"><a name="l06554"></a><span class="lineno"> 6554</span>&#160;      NewInstr.addImm(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>);</div>
<div class="line"><a name="l06555"></a><span class="lineno"> 6555</span>&#160;    }</div>
<div class="line"><a name="l06556"></a><span class="lineno"> 6556</span>&#160; </div>
<div class="line"><a name="l06557"></a><span class="lineno"> 6557</span>&#160;    <a class="code" href="classllvm_1_1SIInstrInfo.html#ac76905a82cf568afc14dd95691c867f0">fixImplicitOperands</a>(*NewInstr);</div>
<div class="line"><a name="l06558"></a><span class="lineno"> 6558</span>&#160; </div>
<div class="line"><a name="l06559"></a><span class="lineno"> 6559</span>&#160;    <span class="comment">// Legalize the operands</span></div>
<div class="line"><a name="l06560"></a><span class="lineno"> 6560</span>&#160;    CreatedBBTmp = <a class="code" href="classllvm_1_1SIInstrInfo.html#a09787033a63326e79a0d1445d3e0de13">legalizeOperands</a>(*NewInstr, MDT);</div>
<div class="line"><a name="l06561"></a><span class="lineno"> 6561</span>&#160;    <span class="keywordflow">if</span> (CreatedBBTmp &amp;&amp; TopInst.<a class="code" href="classllvm_1_1MachineInstr.html#a002fd916e7206e01d512eeb06d405cf0">getParent</a>() == CreatedBBTmp)</div>
<div class="line"><a name="l06562"></a><span class="lineno"> 6562</span>&#160;      CreatedBB = CreatedBBTmp;</div>
<div class="line"><a name="l06563"></a><span class="lineno"> 6563</span>&#160; </div>
<div class="line"><a name="l06564"></a><span class="lineno"> 6564</span>&#160;    <span class="keywordflow">if</span> (NewDstReg)</div>
<div class="line"><a name="l06565"></a><span class="lineno"> 6565</span>&#160;      addUsersToMoveToVALUWorklist(NewDstReg, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, Worklist);</div>
<div class="line"><a name="l06566"></a><span class="lineno"> 6566</span>&#160;  }</div>
<div class="line"><a name="l06567"></a><span class="lineno"> 6567</span>&#160;  <span class="keywordflow">return</span> CreatedBB;</div>
<div class="line"><a name="l06568"></a><span class="lineno"> 6568</span>&#160;}</div>
<div class="line"><a name="l06569"></a><span class="lineno"> 6569</span>&#160; </div>
<div class="line"><a name="l06570"></a><span class="lineno"> 6570</span>&#160;<span class="comment">// Add/sub require special handling to deal with carry outs.</span></div>
<div class="line"><a name="l06571"></a><span class="lineno"> 6571</span>&#160;std::pair&lt;bool, MachineBasicBlock *&gt;</div>
<div class="line"><a name="l06572"></a><span class="lineno"> 6572</span>&#160;SIInstrInfo::moveScalarAddSub(SetVectorType &amp;Worklist, <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;Inst,</div>
<div class="line"><a name="l06573"></a><span class="lineno"> 6573</span>&#160;                              <a class="code" href="classllvm_1_1MachineDominatorTree.html">MachineDominatorTree</a> *MDT)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l06574"></a><span class="lineno"> 6574</span>&#160;  <span class="keywordflow">if</span> (ST.<a class="code" href="classllvm_1_1GCNSubtarget.html#ae431b2e8fc0aee94b01cece42984d2dd">hasAddNoCarry</a>()) {</div>
<div class="line"><a name="l06575"></a><span class="lineno"> 6575</span>&#160;    <span class="comment">// Assume there is no user of scc since we don&#39;t select this in that case.</span></div>
<div class="line"><a name="l06576"></a><span class="lineno"> 6576</span>&#160;    <span class="comment">// Since scc isn&#39;t used, it doesn&#39;t really matter if the i32 or u32 variant</span></div>
<div class="line"><a name="l06577"></a><span class="lineno"> 6577</span>&#160;    <span class="comment">// is used.</span></div>
<div class="line"><a name="l06578"></a><span class="lineno"> 6578</span>&#160; </div>
<div class="line"><a name="l06579"></a><span class="lineno"> 6579</span>&#160;    <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a> = *Inst.<a class="code" href="classllvm_1_1MachineInstr.html#a002fd916e7206e01d512eeb06d405cf0">getParent</a>();</div>
<div class="line"><a name="l06580"></a><span class="lineno"> 6580</span>&#160;    <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a> = <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a4e21760f681d6f97f95c8414e7b83ea5">getParent</a>()-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>();</div>
<div class="line"><a name="l06581"></a><span class="lineno"> 6581</span>&#160; </div>
<div class="line"><a name="l06582"></a><span class="lineno"> 6582</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> OldDstReg = Inst.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>();</div>
<div class="line"><a name="l06583"></a><span class="lineno"> 6583</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> ResultReg = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5c77792a06583e0fe7a0379ad94a2809">createVirtualRegister</a>(&amp;AMDGPU::VGPR_32RegClass);</div>
<div class="line"><a name="l06584"></a><span class="lineno"> 6584</span>&#160; </div>
<div class="line"><a name="l06585"></a><span class="lineno"> 6585</span>&#160;    <span class="keywordtype">unsigned</span> Opc = Inst.<a class="code" href="classllvm_1_1MachineInstr.html#a0363204b5fbab08a46f5a7cd7f376f78">getOpcode</a>();</div>
<div class="line"><a name="l06586"></a><span class="lineno"> 6586</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Opc == AMDGPU::S_ADD_I32 || Opc == AMDGPU::S_SUB_I32);</div>
<div class="line"><a name="l06587"></a><span class="lineno"> 6587</span>&#160; </div>
<div class="line"><a name="l06588"></a><span class="lineno"> 6588</span>&#160;    <span class="keywordtype">unsigned</span> NewOpc = Opc == AMDGPU::S_ADD_I32 ?</div>
<div class="line"><a name="l06589"></a><span class="lineno"> 6589</span>&#160;      AMDGPU::V_ADD_U32_e64 : AMDGPU::V_SUB_U32_e64;</div>
<div class="line"><a name="l06590"></a><span class="lineno"> 6590</span>&#160; </div>
<div class="line"><a name="l06591"></a><span class="lineno"> 6591</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Inst.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(3).<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>() == <a class="code" href="namespacellvm_1_1AMDGPU_1_1CPol.html#a7d79a4b341da8ac60b91c1f4b1ea42c4aca1659af59093b2b14c2f8aad41e8e2a">AMDGPU::SCC</a>);</div>
<div class="line"><a name="l06592"></a><span class="lineno"> 6592</span>&#160;    Inst.<a class="code" href="classllvm_1_1MachineInstr.html#ac3b161ec90385105cb46a08b52139e60">removeOperand</a>(3);</div>
<div class="line"><a name="l06593"></a><span class="lineno"> 6593</span>&#160; </div>
<div class="line"><a name="l06594"></a><span class="lineno"> 6594</span>&#160;    Inst.<a class="code" href="classllvm_1_1MachineInstr.html#af11a92503408a812be672ee3efc848d3">setDesc</a>(<a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(NewOpc));</div>
<div class="line"><a name="l06595"></a><span class="lineno"> 6595</span>&#160;    Inst.<a class="code" href="classllvm_1_1MachineInstr.html#a469e271fba3a9b52dad4fa54eaf44e2b">addOperand</a>(<a class="code" href="classllvm_1_1MachineOperand.html#ab09679b541a6ba1219b3602569847364">MachineOperand::CreateImm</a>(0)); <span class="comment">// clamp bit</span></div>
<div class="line"><a name="l06596"></a><span class="lineno"> 6596</span>&#160;    Inst.<a class="code" href="classllvm_1_1MachineInstr.html#a2be4041e5133aa22135fa2890cc7aeae">addImplicitDefUseOperands</a>(*<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a4e21760f681d6f97f95c8414e7b83ea5">getParent</a>());</div>
<div class="line"><a name="l06597"></a><span class="lineno"> 6597</span>&#160;    <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#af16c39ee36e4633f821b6820f8bd52ef">replaceRegWith</a>(OldDstReg, ResultReg);</div>
<div class="line"><a name="l06598"></a><span class="lineno"> 6598</span>&#160;    <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *NewBB = <a class="code" href="classllvm_1_1SIInstrInfo.html#a09787033a63326e79a0d1445d3e0de13">legalizeOperands</a>(Inst, MDT);</div>
<div class="line"><a name="l06599"></a><span class="lineno"> 6599</span>&#160; </div>
<div class="line"><a name="l06600"></a><span class="lineno"> 6600</span>&#160;    addUsersToMoveToVALUWorklist(ResultReg, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, Worklist);</div>
<div class="line"><a name="l06601"></a><span class="lineno"> 6601</span>&#160;    <span class="keywordflow">return</span> std::pair(<span class="keyword">true</span>, NewBB);</div>
<div class="line"><a name="l06602"></a><span class="lineno"> 6602</span>&#160;  }</div>
<div class="line"><a name="l06603"></a><span class="lineno"> 6603</span>&#160; </div>
<div class="line"><a name="l06604"></a><span class="lineno"> 6604</span>&#160;  <span class="keywordflow">return</span> std::pair(<span class="keyword">false</span>, <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l06605"></a><span class="lineno"> 6605</span>&#160;}</div>
<div class="line"><a name="l06606"></a><span class="lineno"> 6606</span>&#160; </div>
<div class="line"><a name="l06607"></a><span class="lineno"> 6607</span>&#160;<span class="keywordtype">void</span> SIInstrInfo::lowerSelect(SetVectorType &amp;Worklist, <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;Inst,</div>
<div class="line"><a name="l06608"></a><span class="lineno"> 6608</span>&#160;                              <a class="code" href="classllvm_1_1MachineDominatorTree.html">MachineDominatorTree</a> *MDT)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l06609"></a><span class="lineno"> 6609</span>&#160; </div>
<div class="line"><a name="l06610"></a><span class="lineno"> 6610</span>&#160;  <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a> = *Inst.<a class="code" href="classllvm_1_1MachineInstr.html#a002fd916e7206e01d512eeb06d405cf0">getParent</a>();</div>
<div class="line"><a name="l06611"></a><span class="lineno"> 6611</span>&#160;  <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a> = <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a4e21760f681d6f97f95c8414e7b83ea5">getParent</a>()-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>();</div>
<div class="line"><a name="l06612"></a><span class="lineno"> 6612</span>&#160;  <a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::iterator</a> MII = Inst;</div>
<div class="line"><a name="l06613"></a><span class="lineno"> 6613</span>&#160;  <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a> = Inst.<a class="code" href="classllvm_1_1MachineInstr.html#ae8ff2acea4fe63e48e8fc6cf0620ff78">getDebugLoc</a>();</div>
<div class="line"><a name="l06614"></a><span class="lineno"> 6614</span>&#160; </div>
<div class="line"><a name="l06615"></a><span class="lineno"> 6615</span>&#160;  <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;Dest = Inst.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(0);</div>
<div class="line"><a name="l06616"></a><span class="lineno"> 6616</span>&#160;  <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;Src0 = Inst.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(1);</div>
<div class="line"><a name="l06617"></a><span class="lineno"> 6617</span>&#160;  <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;Src1 = Inst.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(2);</div>
<div class="line"><a name="l06618"></a><span class="lineno"> 6618</span>&#160;  <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a> = Inst.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(3);</div>
<div class="line"><a name="l06619"></a><span class="lineno"> 6619</span>&#160; </div>
<div class="line"><a name="l06620"></a><span class="lineno"> 6620</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> SCCSource = <a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>.getReg();</div>
<div class="line"><a name="l06621"></a><span class="lineno"> 6621</span>&#160;  <span class="keywordtype">bool</span> IsSCC = (SCCSource == <a class="code" href="namespacellvm_1_1AMDGPU_1_1CPol.html#a7d79a4b341da8ac60b91c1f4b1ea42c4aca1659af59093b2b14c2f8aad41e8e2a">AMDGPU::SCC</a>);</div>
<div class="line"><a name="l06622"></a><span class="lineno"> 6622</span>&#160; </div>
<div class="line"><a name="l06623"></a><span class="lineno"> 6623</span>&#160;  <span class="comment">// If this is a trivial select where the condition is effectively not SCC</span></div>
<div class="line"><a name="l06624"></a><span class="lineno"> 6624</span>&#160;  <span class="comment">// (SCCSource is a source of copy to SCC), then the select is semantically</span></div>
<div class="line"><a name="l06625"></a><span class="lineno"> 6625</span>&#160;  <span class="comment">// equivalent to copying SCCSource. Hence, there is no need to create</span></div>
<div class="line"><a name="l06626"></a><span class="lineno"> 6626</span>&#160;  <span class="comment">// V_CNDMASK, we can just use that and bail out.</span></div>
<div class="line"><a name="l06627"></a><span class="lineno"> 6627</span>&#160;  <span class="keywordflow">if</span> (!IsSCC &amp;&amp; Src0.<a class="code" href="classllvm_1_1MachineOperand.html#a76f61c6784df6dc8402a8b9011041926">isImm</a>() &amp;&amp; (Src0.<a class="code" href="classllvm_1_1MachineOperand.html#a38b28a85f818b49d8806c150b8a5b4f7">getImm</a>() == -1) &amp;&amp; Src1.<a class="code" href="classllvm_1_1MachineOperand.html#a76f61c6784df6dc8402a8b9011041926">isImm</a>() &amp;&amp;</div>
<div class="line"><a name="l06628"></a><span class="lineno"> 6628</span>&#160;      (Src1.<a class="code" href="classllvm_1_1MachineOperand.html#a38b28a85f818b49d8806c150b8a5b4f7">getImm</a>() == 0)) {</div>
<div class="line"><a name="l06629"></a><span class="lineno"> 6629</span>&#160;    <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#af16c39ee36e4633f821b6820f8bd52ef">replaceRegWith</a>(Dest.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>(), SCCSource);</div>
<div class="line"><a name="l06630"></a><span class="lineno"> 6630</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l06631"></a><span class="lineno"> 6631</span>&#160;  }</div>
<div class="line"><a name="l06632"></a><span class="lineno"> 6632</span>&#160; </div>
<div class="line"><a name="l06633"></a><span class="lineno"> 6633</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *TC =</div>
<div class="line"><a name="l06634"></a><span class="lineno"> 6634</span>&#160;      RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#a0e2008041a23dfc43ff1e90b014a2936">getRegClass</a>(AMDGPU::SReg_1_XEXECRegClassID);</div>
<div class="line"><a name="l06635"></a><span class="lineno"> 6635</span>&#160; </div>
<div class="line"><a name="l06636"></a><span class="lineno"> 6636</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> CopySCC = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5c77792a06583e0fe7a0379ad94a2809">createVirtualRegister</a>(TC);</div>
<div class="line"><a name="l06637"></a><span class="lineno"> 6637</span>&#160; </div>
<div class="line"><a name="l06638"></a><span class="lineno"> 6638</span>&#160;  <span class="keywordflow">if</span> (IsSCC) {</div>
<div class="line"><a name="l06639"></a><span class="lineno"> 6639</span>&#160;    <span class="comment">// Now look for the closest SCC def if it is a copy</span></div>
<div class="line"><a name="l06640"></a><span class="lineno"> 6640</span>&#160;    <span class="comment">// replacing the SCCSource with the COPY source register</span></div>
<div class="line"><a name="l06641"></a><span class="lineno"> 6641</span>&#160;    <span class="keywordtype">bool</span> CopyFound = <span class="keyword">false</span>;</div>
<div class="line"><a name="l06642"></a><span class="lineno"> 6642</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;CandI :</div>
<div class="line"><a name="l06643"></a><span class="lineno"> 6643</span>&#160;         <a class="code" href="namespacellvm.html#ad1a91b49e0c092818a0b82f6cc130a1b">make_range</a>(std::next(<a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::reverse_iterator</a>(Inst)),</div>
<div class="line"><a name="l06644"></a><span class="lineno"> 6644</span>&#160;                    Inst.<a class="code" href="classllvm_1_1MachineInstr.html#a002fd916e7206e01d512eeb06d405cf0">getParent</a>()-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#a2a25c462b91ac5da41f4ab7edc32b650">rend</a>())) {</div>
<div class="line"><a name="l06645"></a><span class="lineno"> 6645</span>&#160;      <span class="keywordflow">if</span> (CandI.findRegisterDefOperandIdx(<a class="code" href="namespacellvm_1_1AMDGPU_1_1CPol.html#a7d79a4b341da8ac60b91c1f4b1ea42c4aca1659af59093b2b14c2f8aad41e8e2a">AMDGPU::SCC</a>, <span class="keyword">false</span>, <span class="keyword">false</span>, &amp;RI) !=</div>
<div class="line"><a name="l06646"></a><span class="lineno"> 6646</span>&#160;          -1) {</div>
<div class="line"><a name="l06647"></a><span class="lineno"> 6647</span>&#160;        <span class="keywordflow">if</span> (CandI.isCopy() &amp;&amp; CandI.getOperand(0).getReg() == <a class="code" href="namespacellvm_1_1AMDGPU_1_1CPol.html#a7d79a4b341da8ac60b91c1f4b1ea42c4aca1659af59093b2b14c2f8aad41e8e2a">AMDGPU::SCC</a>) {</div>
<div class="line"><a name="l06648"></a><span class="lineno"> 6648</span>&#160;          <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, MII, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::COPY), CopySCC)</div>
<div class="line"><a name="l06649"></a><span class="lineno"> 6649</span>&#160;              .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(CandI.getOperand(1).getReg());</div>
<div class="line"><a name="l06650"></a><span class="lineno"> 6650</span>&#160;          CopyFound = <span class="keyword">true</span>;</div>
<div class="line"><a name="l06651"></a><span class="lineno"> 6651</span>&#160;        }</div>
<div class="line"><a name="l06652"></a><span class="lineno"> 6652</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06653"></a><span class="lineno"> 6653</span>&#160;      }</div>
<div class="line"><a name="l06654"></a><span class="lineno"> 6654</span>&#160;    }</div>
<div class="line"><a name="l06655"></a><span class="lineno"> 6655</span>&#160;    <span class="keywordflow">if</span> (!CopyFound) {</div>
<div class="line"><a name="l06656"></a><span class="lineno"> 6656</span>&#160;      <span class="comment">// SCC def is not a copy</span></div>
<div class="line"><a name="l06657"></a><span class="lineno"> 6657</span>&#160;      <span class="comment">// Insert a trivial select instead of creating a copy, because a copy from</span></div>
<div class="line"><a name="l06658"></a><span class="lineno"> 6658</span>&#160;      <span class="comment">// SCC would semantically mean just copying a single bit, but we may need</span></div>
<div class="line"><a name="l06659"></a><span class="lineno"> 6659</span>&#160;      <span class="comment">// the result to be a vector condition mask that needs preserving.</span></div>
<div class="line"><a name="l06660"></a><span class="lineno"> 6660</span>&#160;      <span class="keywordtype">unsigned</span> Opcode = (ST.<a class="code" href="classllvm_1_1AMDGPUSubtarget.html#ae66cd705df2870244a05921f551ff131">getWavefrontSize</a>() == 64) ? AMDGPU::S_CSELECT_B64</div>
<div class="line"><a name="l06661"></a><span class="lineno"> 6661</span>&#160;                                                      : AMDGPU::S_CSELECT_B32;</div>
<div class="line"><a name="l06662"></a><span class="lineno"> 6662</span>&#160;      <span class="keyword">auto</span> NewSelect =</div>
<div class="line"><a name="l06663"></a><span class="lineno"> 6663</span>&#160;          <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, MII, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(Opcode), CopySCC).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(-1).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(0);</div>
<div class="line"><a name="l06664"></a><span class="lineno"> 6664</span>&#160;      NewSelect-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(3).<a class="code" href="classllvm_1_1MachineOperand.html#ab979122f21b7fa46d3d2d9b21983068b">setIsUndef</a>(<a class="code" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>.isUndef());</div>
<div class="line"><a name="l06665"></a><span class="lineno"> 6665</span>&#160;    }</div>
<div class="line"><a name="l06666"></a><span class="lineno"> 6666</span>&#160;  }</div>
<div class="line"><a name="l06667"></a><span class="lineno"> 6667</span>&#160; </div>
<div class="line"><a name="l06668"></a><span class="lineno"> 6668</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> ResultReg = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5c77792a06583e0fe7a0379ad94a2809">createVirtualRegister</a>(&amp;AMDGPU::VGPR_32RegClass);</div>
<div class="line"><a name="l06669"></a><span class="lineno"> 6669</span>&#160; </div>
<div class="line"><a name="l06670"></a><span class="lineno"> 6670</span>&#160;  <span class="keyword">auto</span> UpdatedInst =</div>
<div class="line"><a name="l06671"></a><span class="lineno"> 6671</span>&#160;      <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, MII, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::V_CNDMASK_B32_e64), ResultReg)</div>
<div class="line"><a name="l06672"></a><span class="lineno"> 6672</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(0)</div>
<div class="line"><a name="l06673"></a><span class="lineno"> 6673</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a1ac8d27532cfd1d1f032ecbff2ba3611">add</a>(Src1) <span class="comment">// False</span></div>
<div class="line"><a name="l06674"></a><span class="lineno"> 6674</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(0)</div>
<div class="line"><a name="l06675"></a><span class="lineno"> 6675</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a1ac8d27532cfd1d1f032ecbff2ba3611">add</a>(Src0) <span class="comment">// True</span></div>
<div class="line"><a name="l06676"></a><span class="lineno"> 6676</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(IsSCC ? CopySCC : SCCSource);</div>
<div class="line"><a name="l06677"></a><span class="lineno"> 6677</span>&#160; </div>
<div class="line"><a name="l06678"></a><span class="lineno"> 6678</span>&#160;  <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#af16c39ee36e4633f821b6820f8bd52ef">replaceRegWith</a>(Dest.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>(), ResultReg);</div>
<div class="line"><a name="l06679"></a><span class="lineno"> 6679</span>&#160;  <a class="code" href="classllvm_1_1SIInstrInfo.html#a09787033a63326e79a0d1445d3e0de13">legalizeOperands</a>(*UpdatedInst, MDT);</div>
<div class="line"><a name="l06680"></a><span class="lineno"> 6680</span>&#160;  addUsersToMoveToVALUWorklist(ResultReg, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, Worklist);</div>
<div class="line"><a name="l06681"></a><span class="lineno"> 6681</span>&#160;}</div>
<div class="line"><a name="l06682"></a><span class="lineno"> 6682</span>&#160; </div>
<div class="line"><a name="l06683"></a><span class="lineno"> 6683</span>&#160;<span class="keywordtype">void</span> SIInstrInfo::lowerScalarAbs(SetVectorType &amp;Worklist,</div>
<div class="line"><a name="l06684"></a><span class="lineno"> 6684</span>&#160;                                 <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;Inst)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l06685"></a><span class="lineno"> 6685</span>&#160;  <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a> = *Inst.<a class="code" href="classllvm_1_1MachineInstr.html#a002fd916e7206e01d512eeb06d405cf0">getParent</a>();</div>
<div class="line"><a name="l06686"></a><span class="lineno"> 6686</span>&#160;  <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a> = <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a4e21760f681d6f97f95c8414e7b83ea5">getParent</a>()-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>();</div>
<div class="line"><a name="l06687"></a><span class="lineno"> 6687</span>&#160;  <a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::iterator</a> MII = Inst;</div>
<div class="line"><a name="l06688"></a><span class="lineno"> 6688</span>&#160;  <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a> = Inst.<a class="code" href="classllvm_1_1MachineInstr.html#ae8ff2acea4fe63e48e8fc6cf0620ff78">getDebugLoc</a>();</div>
<div class="line"><a name="l06689"></a><span class="lineno"> 6689</span>&#160; </div>
<div class="line"><a name="l06690"></a><span class="lineno"> 6690</span>&#160;  <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;Dest = Inst.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(0);</div>
<div class="line"><a name="l06691"></a><span class="lineno"> 6691</span>&#160;  <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;Src = Inst.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(1);</div>
<div class="line"><a name="l06692"></a><span class="lineno"> 6692</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> TmpReg = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5c77792a06583e0fe7a0379ad94a2809">createVirtualRegister</a>(&amp;AMDGPU::VGPR_32RegClass);</div>
<div class="line"><a name="l06693"></a><span class="lineno"> 6693</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> ResultReg = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5c77792a06583e0fe7a0379ad94a2809">createVirtualRegister</a>(&amp;AMDGPU::VGPR_32RegClass);</div>
<div class="line"><a name="l06694"></a><span class="lineno"> 6694</span>&#160; </div>
<div class="line"><a name="l06695"></a><span class="lineno"> 6695</span>&#160;  <span class="keywordtype">unsigned</span> SubOp = ST.<a class="code" href="classllvm_1_1GCNSubtarget.html#ae431b2e8fc0aee94b01cece42984d2dd">hasAddNoCarry</a>() ?</div>
<div class="line"><a name="l06696"></a><span class="lineno"> 6696</span>&#160;    AMDGPU::V_SUB_U32_e32 : AMDGPU::V_SUB_CO_U32_e32;</div>
<div class="line"><a name="l06697"></a><span class="lineno"> 6697</span>&#160; </div>
<div class="line"><a name="l06698"></a><span class="lineno"> 6698</span>&#160;  <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, MII, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(SubOp), TmpReg)</div>
<div class="line"><a name="l06699"></a><span class="lineno"> 6699</span>&#160;    .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(0)</div>
<div class="line"><a name="l06700"></a><span class="lineno"> 6700</span>&#160;    .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(Src.getReg());</div>
<div class="line"><a name="l06701"></a><span class="lineno"> 6701</span>&#160; </div>
<div class="line"><a name="l06702"></a><span class="lineno"> 6702</span>&#160;  <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, MII, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::V_MAX_I32_e64), ResultReg)</div>
<div class="line"><a name="l06703"></a><span class="lineno"> 6703</span>&#160;    .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(Src.getReg())</div>
<div class="line"><a name="l06704"></a><span class="lineno"> 6704</span>&#160;    .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(TmpReg);</div>
<div class="line"><a name="l06705"></a><span class="lineno"> 6705</span>&#160; </div>
<div class="line"><a name="l06706"></a><span class="lineno"> 6706</span>&#160;  <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#af16c39ee36e4633f821b6820f8bd52ef">replaceRegWith</a>(Dest.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>(), ResultReg);</div>
<div class="line"><a name="l06707"></a><span class="lineno"> 6707</span>&#160;  addUsersToMoveToVALUWorklist(ResultReg, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, Worklist);</div>
<div class="line"><a name="l06708"></a><span class="lineno"> 6708</span>&#160;}</div>
<div class="line"><a name="l06709"></a><span class="lineno"> 6709</span>&#160; </div>
<div class="line"><a name="l06710"></a><span class="lineno"> 6710</span>&#160;<span class="keywordtype">void</span> SIInstrInfo::lowerScalarXnor(SetVectorType &amp;Worklist,</div>
<div class="line"><a name="l06711"></a><span class="lineno"> 6711</span>&#160;                                  <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;Inst)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l06712"></a><span class="lineno"> 6712</span>&#160;  <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a> = *Inst.<a class="code" href="classllvm_1_1MachineInstr.html#a002fd916e7206e01d512eeb06d405cf0">getParent</a>();</div>
<div class="line"><a name="l06713"></a><span class="lineno"> 6713</span>&#160;  <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a> = <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a4e21760f681d6f97f95c8414e7b83ea5">getParent</a>()-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>();</div>
<div class="line"><a name="l06714"></a><span class="lineno"> 6714</span>&#160;  <a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::iterator</a> MII = Inst;</div>
<div class="line"><a name="l06715"></a><span class="lineno"> 6715</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a> = Inst.<a class="code" href="classllvm_1_1MachineInstr.html#ae8ff2acea4fe63e48e8fc6cf0620ff78">getDebugLoc</a>();</div>
<div class="line"><a name="l06716"></a><span class="lineno"> 6716</span>&#160; </div>
<div class="line"><a name="l06717"></a><span class="lineno"> 6717</span>&#160;  <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;Dest = Inst.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(0);</div>
<div class="line"><a name="l06718"></a><span class="lineno"> 6718</span>&#160;  <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;Src0 = Inst.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(1);</div>
<div class="line"><a name="l06719"></a><span class="lineno"> 6719</span>&#160;  <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;Src1 = Inst.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(2);</div>
<div class="line"><a name="l06720"></a><span class="lineno"> 6720</span>&#160; </div>
<div class="line"><a name="l06721"></a><span class="lineno"> 6721</span>&#160;  <span class="keywordflow">if</span> (ST.<a class="code" href="classllvm_1_1GCNSubtarget.html#a24618695d970449f186b50c63648f674">hasDLInsts</a>()) {</div>
<div class="line"><a name="l06722"></a><span class="lineno"> 6722</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> NewDest = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5c77792a06583e0fe7a0379ad94a2809">createVirtualRegister</a>(&amp;AMDGPU::VGPR_32RegClass);</div>
<div class="line"><a name="l06723"></a><span class="lineno"> 6723</span>&#160;    <a class="code" href="classllvm_1_1SIInstrInfo.html#a31612a0bf935add36f82065133267d4a">legalizeGenericOperand</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, MII, &amp;AMDGPU::VGPR_32RegClass, Src0, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>);</div>
<div class="line"><a name="l06724"></a><span class="lineno"> 6724</span>&#160;    <a class="code" href="classllvm_1_1SIInstrInfo.html#a31612a0bf935add36f82065133267d4a">legalizeGenericOperand</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, MII, &amp;AMDGPU::VGPR_32RegClass, Src1, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>);</div>
<div class="line"><a name="l06725"></a><span class="lineno"> 6725</span>&#160; </div>
<div class="line"><a name="l06726"></a><span class="lineno"> 6726</span>&#160;    <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, MII, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::V_XNOR_B32_e64), NewDest)</div>
<div class="line"><a name="l06727"></a><span class="lineno"> 6727</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a1ac8d27532cfd1d1f032ecbff2ba3611">add</a>(Src0)</div>
<div class="line"><a name="l06728"></a><span class="lineno"> 6728</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a1ac8d27532cfd1d1f032ecbff2ba3611">add</a>(Src1);</div>
<div class="line"><a name="l06729"></a><span class="lineno"> 6729</span>&#160; </div>
<div class="line"><a name="l06730"></a><span class="lineno"> 6730</span>&#160;    <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#af16c39ee36e4633f821b6820f8bd52ef">replaceRegWith</a>(Dest.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>(), NewDest);</div>
<div class="line"><a name="l06731"></a><span class="lineno"> 6731</span>&#160;    addUsersToMoveToVALUWorklist(NewDest, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, Worklist);</div>
<div class="line"><a name="l06732"></a><span class="lineno"> 6732</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l06733"></a><span class="lineno"> 6733</span>&#160;    <span class="comment">// Using the identity !(x ^ y) == (!x ^ y) == (x ^ !y), we can</span></div>
<div class="line"><a name="l06734"></a><span class="lineno"> 6734</span>&#160;    <span class="comment">// invert either source and then perform the XOR. If either source is a</span></div>
<div class="line"><a name="l06735"></a><span class="lineno"> 6735</span>&#160;    <span class="comment">// scalar register, then we can leave the inversion on the scalar unit to</span></div>
<div class="line"><a name="l06736"></a><span class="lineno"> 6736</span>&#160;    <span class="comment">// achieve a better distribution of scalar and vector instructions.</span></div>
<div class="line"><a name="l06737"></a><span class="lineno"> 6737</span>&#160;    <span class="keywordtype">bool</span> Src0IsSGPR = Src0.<a class="code" href="classllvm_1_1MachineOperand.html#a4c9594c955fec80c73ddd964b5efd554">isReg</a>() &amp;&amp;</div>
<div class="line"><a name="l06738"></a><span class="lineno"> 6738</span>&#160;                      RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#af58d646af8dd60e4e514303dfa81de9c">isSGPRClass</a>(<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#aa363afffca4fc13a709673936b47fe33">getRegClass</a>(Src0.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>()));</div>
<div class="line"><a name="l06739"></a><span class="lineno"> 6739</span>&#160;    <span class="keywordtype">bool</span> Src1IsSGPR = Src1.<a class="code" href="classllvm_1_1MachineOperand.html#a4c9594c955fec80c73ddd964b5efd554">isReg</a>() &amp;&amp;</div>
<div class="line"><a name="l06740"></a><span class="lineno"> 6740</span>&#160;                      RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#af58d646af8dd60e4e514303dfa81de9c">isSGPRClass</a>(<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#aa363afffca4fc13a709673936b47fe33">getRegClass</a>(Src1.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>()));</div>
<div class="line"><a name="l06741"></a><span class="lineno"> 6741</span>&#160;    <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="namespacellvm.html#aac36edd0f1ce976f0025c98e88d3830ea76feb79109026728a20736a8c6504548">Xor</a>;</div>
<div class="line"><a name="l06742"></a><span class="lineno"> 6742</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> Temp = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5c77792a06583e0fe7a0379ad94a2809">createVirtualRegister</a>(&amp;AMDGPU::SReg_32RegClass);</div>
<div class="line"><a name="l06743"></a><span class="lineno"> 6743</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> NewDest = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5c77792a06583e0fe7a0379ad94a2809">createVirtualRegister</a>(&amp;AMDGPU::SReg_32RegClass);</div>
<div class="line"><a name="l06744"></a><span class="lineno"> 6744</span>&#160; </div>
<div class="line"><a name="l06745"></a><span class="lineno"> 6745</span>&#160;    <span class="comment">// Build a pair of scalar instructions and add them to the work list.</span></div>
<div class="line"><a name="l06746"></a><span class="lineno"> 6746</span>&#160;    <span class="comment">// The next iteration over the work list will lower these to the vector</span></div>
<div class="line"><a name="l06747"></a><span class="lineno"> 6747</span>&#160;    <span class="comment">// unit as necessary.</span></div>
<div class="line"><a name="l06748"></a><span class="lineno"> 6748</span>&#160;    <span class="keywordflow">if</span> (Src0IsSGPR) {</div>
<div class="line"><a name="l06749"></a><span class="lineno"> 6749</span>&#160;      <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, MII, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::S_NOT_B32), Temp).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a1ac8d27532cfd1d1f032ecbff2ba3611">add</a>(Src0);</div>
<div class="line"><a name="l06750"></a><span class="lineno"> 6750</span>&#160;      <a class="code" href="namespacellvm.html#aac36edd0f1ce976f0025c98e88d3830ea76feb79109026728a20736a8c6504548">Xor</a> = <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, MII, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::S_XOR_B32), NewDest)</div>
<div class="line"><a name="l06751"></a><span class="lineno"> 6751</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(Temp)</div>
<div class="line"><a name="l06752"></a><span class="lineno"> 6752</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a1ac8d27532cfd1d1f032ecbff2ba3611">add</a>(Src1);</div>
<div class="line"><a name="l06753"></a><span class="lineno"> 6753</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Src1IsSGPR) {</div>
<div class="line"><a name="l06754"></a><span class="lineno"> 6754</span>&#160;      <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, MII, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::S_NOT_B32), Temp).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a1ac8d27532cfd1d1f032ecbff2ba3611">add</a>(Src1);</div>
<div class="line"><a name="l06755"></a><span class="lineno"> 6755</span>&#160;      <a class="code" href="namespacellvm.html#aac36edd0f1ce976f0025c98e88d3830ea76feb79109026728a20736a8c6504548">Xor</a> = <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, MII, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::S_XOR_B32), NewDest)</div>
<div class="line"><a name="l06756"></a><span class="lineno"> 6756</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a1ac8d27532cfd1d1f032ecbff2ba3611">add</a>(Src0)</div>
<div class="line"><a name="l06757"></a><span class="lineno"> 6757</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(Temp);</div>
<div class="line"><a name="l06758"></a><span class="lineno"> 6758</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l06759"></a><span class="lineno"> 6759</span>&#160;      <a class="code" href="namespacellvm.html#aac36edd0f1ce976f0025c98e88d3830ea76feb79109026728a20736a8c6504548">Xor</a> = <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, MII, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::S_XOR_B32), Temp)</div>
<div class="line"><a name="l06760"></a><span class="lineno"> 6760</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a1ac8d27532cfd1d1f032ecbff2ba3611">add</a>(Src0)</div>
<div class="line"><a name="l06761"></a><span class="lineno"> 6761</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a1ac8d27532cfd1d1f032ecbff2ba3611">add</a>(Src1);</div>
<div class="line"><a name="l06762"></a><span class="lineno"> 6762</span>&#160;      <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *Not =</div>
<div class="line"><a name="l06763"></a><span class="lineno"> 6763</span>&#160;          <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, MII, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::S_NOT_B32), NewDest).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(Temp);</div>
<div class="line"><a name="l06764"></a><span class="lineno"> 6764</span>&#160;      Worklist.insert(Not);</div>
<div class="line"><a name="l06765"></a><span class="lineno"> 6765</span>&#160;    }</div>
<div class="line"><a name="l06766"></a><span class="lineno"> 6766</span>&#160; </div>
<div class="line"><a name="l06767"></a><span class="lineno"> 6767</span>&#160;    <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#af16c39ee36e4633f821b6820f8bd52ef">replaceRegWith</a>(Dest.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>(), NewDest);</div>
<div class="line"><a name="l06768"></a><span class="lineno"> 6768</span>&#160; </div>
<div class="line"><a name="l06769"></a><span class="lineno"> 6769</span>&#160;    Worklist.insert(Xor);</div>
<div class="line"><a name="l06770"></a><span class="lineno"> 6770</span>&#160; </div>
<div class="line"><a name="l06771"></a><span class="lineno"> 6771</span>&#160;    addUsersToMoveToVALUWorklist(NewDest, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, Worklist);</div>
<div class="line"><a name="l06772"></a><span class="lineno"> 6772</span>&#160;  }</div>
<div class="line"><a name="l06773"></a><span class="lineno"> 6773</span>&#160;}</div>
<div class="line"><a name="l06774"></a><span class="lineno"> 6774</span>&#160; </div>
<div class="line"><a name="l06775"></a><span class="lineno"> 6775</span>&#160;<span class="keywordtype">void</span> SIInstrInfo::splitScalarNotBinop(SetVectorType &amp;Worklist,</div>
<div class="line"><a name="l06776"></a><span class="lineno"> 6776</span>&#160;                                      <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;Inst,</div>
<div class="line"><a name="l06777"></a><span class="lineno"> 6777</span>&#160;                                      <span class="keywordtype">unsigned</span> Opcode)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l06778"></a><span class="lineno"> 6778</span>&#160;  <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a> = *Inst.<a class="code" href="classllvm_1_1MachineInstr.html#a002fd916e7206e01d512eeb06d405cf0">getParent</a>();</div>
<div class="line"><a name="l06779"></a><span class="lineno"> 6779</span>&#160;  <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a> = <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a4e21760f681d6f97f95c8414e7b83ea5">getParent</a>()-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>();</div>
<div class="line"><a name="l06780"></a><span class="lineno"> 6780</span>&#160;  <a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::iterator</a> MII = Inst;</div>
<div class="line"><a name="l06781"></a><span class="lineno"> 6781</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a> = Inst.<a class="code" href="classllvm_1_1MachineInstr.html#ae8ff2acea4fe63e48e8fc6cf0620ff78">getDebugLoc</a>();</div>
<div class="line"><a name="l06782"></a><span class="lineno"> 6782</span>&#160; </div>
<div class="line"><a name="l06783"></a><span class="lineno"> 6783</span>&#160;  <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;Dest = Inst.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(0);</div>
<div class="line"><a name="l06784"></a><span class="lineno"> 6784</span>&#160;  <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;Src0 = Inst.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(1);</div>
<div class="line"><a name="l06785"></a><span class="lineno"> 6785</span>&#160;  <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;Src1 = Inst.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(2);</div>
<div class="line"><a name="l06786"></a><span class="lineno"> 6786</span>&#160; </div>
<div class="line"><a name="l06787"></a><span class="lineno"> 6787</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> NewDest = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5c77792a06583e0fe7a0379ad94a2809">createVirtualRegister</a>(&amp;AMDGPU::SReg_32RegClass);</div>
<div class="line"><a name="l06788"></a><span class="lineno"> 6788</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> Interm = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5c77792a06583e0fe7a0379ad94a2809">createVirtualRegister</a>(&amp;AMDGPU::SReg_32RegClass);</div>
<div class="line"><a name="l06789"></a><span class="lineno"> 6789</span>&#160; </div>
<div class="line"><a name="l06790"></a><span class="lineno"> 6790</span>&#160;  <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> = *<a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, MII, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(Opcode), Interm)</div>
<div class="line"><a name="l06791"></a><span class="lineno"> 6791</span>&#160;    .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a1ac8d27532cfd1d1f032ecbff2ba3611">add</a>(Src0)</div>
<div class="line"><a name="l06792"></a><span class="lineno"> 6792</span>&#160;    .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a1ac8d27532cfd1d1f032ecbff2ba3611">add</a>(Src1);</div>
<div class="line"><a name="l06793"></a><span class="lineno"> 6793</span>&#160; </div>
<div class="line"><a name="l06794"></a><span class="lineno"> 6794</span>&#160;  <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;Not = *<a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, MII, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::S_NOT_B32), NewDest)</div>
<div class="line"><a name="l06795"></a><span class="lineno"> 6795</span>&#160;    .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(Interm);</div>
<div class="line"><a name="l06796"></a><span class="lineno"> 6796</span>&#160; </div>
<div class="line"><a name="l06797"></a><span class="lineno"> 6797</span>&#160;  Worklist.insert(&amp;<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>);</div>
<div class="line"><a name="l06798"></a><span class="lineno"> 6798</span>&#160;  Worklist.insert(&amp;Not);</div>
<div class="line"><a name="l06799"></a><span class="lineno"> 6799</span>&#160; </div>
<div class="line"><a name="l06800"></a><span class="lineno"> 6800</span>&#160;  <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#af16c39ee36e4633f821b6820f8bd52ef">replaceRegWith</a>(Dest.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>(), NewDest);</div>
<div class="line"><a name="l06801"></a><span class="lineno"> 6801</span>&#160;  addUsersToMoveToVALUWorklist(NewDest, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, Worklist);</div>
<div class="line"><a name="l06802"></a><span class="lineno"> 6802</span>&#160;}</div>
<div class="line"><a name="l06803"></a><span class="lineno"> 6803</span>&#160; </div>
<div class="line"><a name="l06804"></a><span class="lineno"> 6804</span>&#160;<span class="keywordtype">void</span> SIInstrInfo::splitScalarBinOpN2(SetVectorType&amp; Worklist,</div>
<div class="line"><a name="l06805"></a><span class="lineno"> 6805</span>&#160;                                     <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;Inst,</div>
<div class="line"><a name="l06806"></a><span class="lineno"> 6806</span>&#160;                                     <span class="keywordtype">unsigned</span> Opcode)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l06807"></a><span class="lineno"> 6807</span>&#160;  <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a> = *Inst.<a class="code" href="classllvm_1_1MachineInstr.html#a002fd916e7206e01d512eeb06d405cf0">getParent</a>();</div>
<div class="line"><a name="l06808"></a><span class="lineno"> 6808</span>&#160;  <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a> = <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a4e21760f681d6f97f95c8414e7b83ea5">getParent</a>()-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>();</div>
<div class="line"><a name="l06809"></a><span class="lineno"> 6809</span>&#160;  <a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::iterator</a> MII = Inst;</div>
<div class="line"><a name="l06810"></a><span class="lineno"> 6810</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a> = Inst.<a class="code" href="classllvm_1_1MachineInstr.html#ae8ff2acea4fe63e48e8fc6cf0620ff78">getDebugLoc</a>();</div>
<div class="line"><a name="l06811"></a><span class="lineno"> 6811</span>&#160; </div>
<div class="line"><a name="l06812"></a><span class="lineno"> 6812</span>&#160;  <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;Dest = Inst.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(0);</div>
<div class="line"><a name="l06813"></a><span class="lineno"> 6813</span>&#160;  <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;Src0 = Inst.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(1);</div>
<div class="line"><a name="l06814"></a><span class="lineno"> 6814</span>&#160;  <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;Src1 = Inst.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(2);</div>
<div class="line"><a name="l06815"></a><span class="lineno"> 6815</span>&#160; </div>
<div class="line"><a name="l06816"></a><span class="lineno"> 6816</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> NewDest = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5c77792a06583e0fe7a0379ad94a2809">createVirtualRegister</a>(&amp;AMDGPU::SReg_32_XM0RegClass);</div>
<div class="line"><a name="l06817"></a><span class="lineno"> 6817</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> Interm = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5c77792a06583e0fe7a0379ad94a2809">createVirtualRegister</a>(&amp;AMDGPU::SReg_32_XM0RegClass);</div>
<div class="line"><a name="l06818"></a><span class="lineno"> 6818</span>&#160; </div>
<div class="line"><a name="l06819"></a><span class="lineno"> 6819</span>&#160;  <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;Not = *<a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, MII, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::S_NOT_B32), Interm)</div>
<div class="line"><a name="l06820"></a><span class="lineno"> 6820</span>&#160;    .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a1ac8d27532cfd1d1f032ecbff2ba3611">add</a>(Src1);</div>
<div class="line"><a name="l06821"></a><span class="lineno"> 6821</span>&#160; </div>
<div class="line"><a name="l06822"></a><span class="lineno"> 6822</span>&#160;  <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> = *<a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, MII, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(Opcode), NewDest)</div>
<div class="line"><a name="l06823"></a><span class="lineno"> 6823</span>&#160;    .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a1ac8d27532cfd1d1f032ecbff2ba3611">add</a>(Src0)</div>
<div class="line"><a name="l06824"></a><span class="lineno"> 6824</span>&#160;    .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(Interm);</div>
<div class="line"><a name="l06825"></a><span class="lineno"> 6825</span>&#160; </div>
<div class="line"><a name="l06826"></a><span class="lineno"> 6826</span>&#160;  Worklist.insert(&amp;Not);</div>
<div class="line"><a name="l06827"></a><span class="lineno"> 6827</span>&#160;  Worklist.insert(&amp;<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>);</div>
<div class="line"><a name="l06828"></a><span class="lineno"> 6828</span>&#160; </div>
<div class="line"><a name="l06829"></a><span class="lineno"> 6829</span>&#160;  <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#af16c39ee36e4633f821b6820f8bd52ef">replaceRegWith</a>(Dest.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>(), NewDest);</div>
<div class="line"><a name="l06830"></a><span class="lineno"> 6830</span>&#160;  addUsersToMoveToVALUWorklist(NewDest, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, Worklist);</div>
<div class="line"><a name="l06831"></a><span class="lineno"> 6831</span>&#160;}</div>
<div class="line"><a name="l06832"></a><span class="lineno"> 6832</span>&#160; </div>
<div class="line"><a name="l06833"></a><span class="lineno"> 6833</span>&#160;<span class="keywordtype">void</span> SIInstrInfo::splitScalar64BitUnaryOp(</div>
<div class="line"><a name="l06834"></a><span class="lineno"> 6834</span>&#160;    SetVectorType &amp;Worklist, <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;Inst,</div>
<div class="line"><a name="l06835"></a><span class="lineno"> 6835</span>&#160;    <span class="keywordtype">unsigned</span> Opcode, <span class="keywordtype">bool</span> Swap)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l06836"></a><span class="lineno"> 6836</span>&#160;  <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a> = *Inst.<a class="code" href="classllvm_1_1MachineInstr.html#a002fd916e7206e01d512eeb06d405cf0">getParent</a>();</div>
<div class="line"><a name="l06837"></a><span class="lineno"> 6837</span>&#160;  <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a> = <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a4e21760f681d6f97f95c8414e7b83ea5">getParent</a>()-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>();</div>
<div class="line"><a name="l06838"></a><span class="lineno"> 6838</span>&#160; </div>
<div class="line"><a name="l06839"></a><span class="lineno"> 6839</span>&#160;  <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;Dest = Inst.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(0);</div>
<div class="line"><a name="l06840"></a><span class="lineno"> 6840</span>&#160;  <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;Src0 = Inst.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(1);</div>
<div class="line"><a name="l06841"></a><span class="lineno"> 6841</span>&#160;  <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a> = Inst.<a class="code" href="classllvm_1_1MachineInstr.html#ae8ff2acea4fe63e48e8fc6cf0620ff78">getDebugLoc</a>();</div>
<div class="line"><a name="l06842"></a><span class="lineno"> 6842</span>&#160; </div>
<div class="line"><a name="l06843"></a><span class="lineno"> 6843</span>&#160;  <a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::iterator</a> MII = Inst;</div>
<div class="line"><a name="l06844"></a><span class="lineno"> 6844</span>&#160; </div>
<div class="line"><a name="l06845"></a><span class="lineno"> 6845</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCInstrDesc.html">MCInstrDesc</a> &amp;InstDesc = <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(Opcode);</div>
<div class="line"><a name="l06846"></a><span class="lineno"> 6846</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *Src0RC = Src0.<a class="code" href="classllvm_1_1MachineOperand.html#a4c9594c955fec80c73ddd964b5efd554">isReg</a>() ?</div>
<div class="line"><a name="l06847"></a><span class="lineno"> 6847</span>&#160;    <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#aa363afffca4fc13a709673936b47fe33">getRegClass</a>(Src0.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>()) :</div>
<div class="line"><a name="l06848"></a><span class="lineno"> 6848</span>&#160;    &amp;AMDGPU::SGPR_32RegClass;</div>
<div class="line"><a name="l06849"></a><span class="lineno"> 6849</span>&#160; </div>
<div class="line"><a name="l06850"></a><span class="lineno"> 6850</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *Src0SubRC =</div>
<div class="line"><a name="l06851"></a><span class="lineno"> 6851</span>&#160;      RI.getSubRegisterClass(Src0RC, AMDGPU::sub0);</div>
<div class="line"><a name="l06852"></a><span class="lineno"> 6852</span>&#160; </div>
<div class="line"><a name="l06853"></a><span class="lineno"> 6853</span>&#160;  <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> SrcReg0Sub0 = <a class="code" href="classllvm_1_1SIInstrInfo.html#ac00c84cfc6dac484e038a2d4258933ef">buildExtractSubRegOrImm</a>(MII, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, Src0, Src0RC,</div>
<div class="line"><a name="l06854"></a><span class="lineno"> 6854</span>&#160;                                                       AMDGPU::sub0, Src0SubRC);</div>
<div class="line"><a name="l06855"></a><span class="lineno"> 6855</span>&#160; </div>
<div class="line"><a name="l06856"></a><span class="lineno"> 6856</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *DestRC = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#aa363afffca4fc13a709673936b47fe33">getRegClass</a>(Dest.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>());</div>
<div class="line"><a name="l06857"></a><span class="lineno"> 6857</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *NewDestRC = RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#a2fcc4d3294381da29adb855c5f56c0d5">getEquivalentVGPRClass</a>(DestRC);</div>
<div class="line"><a name="l06858"></a><span class="lineno"> 6858</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *NewDestSubRC =</div>
<div class="line"><a name="l06859"></a><span class="lineno"> 6859</span>&#160;      RI.getSubRegisterClass(NewDestRC, AMDGPU::sub0);</div>
<div class="line"><a name="l06860"></a><span class="lineno"> 6860</span>&#160; </div>
<div class="line"><a name="l06861"></a><span class="lineno"> 6861</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> DestSub0 = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5c77792a06583e0fe7a0379ad94a2809">createVirtualRegister</a>(NewDestSubRC);</div>
<div class="line"><a name="l06862"></a><span class="lineno"> 6862</span>&#160;  <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;LoHalf = *<a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, MII, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, InstDesc, DestSub0).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a1ac8d27532cfd1d1f032ecbff2ba3611">add</a>(SrcReg0Sub0);</div>
<div class="line"><a name="l06863"></a><span class="lineno"> 6863</span>&#160; </div>
<div class="line"><a name="l06864"></a><span class="lineno"> 6864</span>&#160;  <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> SrcReg0Sub1 = <a class="code" href="classllvm_1_1SIInstrInfo.html#ac00c84cfc6dac484e038a2d4258933ef">buildExtractSubRegOrImm</a>(MII, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, Src0, Src0RC,</div>
<div class="line"><a name="l06865"></a><span class="lineno"> 6865</span>&#160;                                                       AMDGPU::sub1, Src0SubRC);</div>
<div class="line"><a name="l06866"></a><span class="lineno"> 6866</span>&#160; </div>
<div class="line"><a name="l06867"></a><span class="lineno"> 6867</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> DestSub1 = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5c77792a06583e0fe7a0379ad94a2809">createVirtualRegister</a>(NewDestSubRC);</div>
<div class="line"><a name="l06868"></a><span class="lineno"> 6868</span>&#160;  <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;HiHalf = *<a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, MII, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, InstDesc, DestSub1).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a1ac8d27532cfd1d1f032ecbff2ba3611">add</a>(SrcReg0Sub1);</div>
<div class="line"><a name="l06869"></a><span class="lineno"> 6869</span>&#160; </div>
<div class="line"><a name="l06870"></a><span class="lineno"> 6870</span>&#160;  <span class="keywordflow">if</span> (Swap)</div>
<div class="line"><a name="l06871"></a><span class="lineno"> 6871</span>&#160;    <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(DestSub0, DestSub1);</div>
<div class="line"><a name="l06872"></a><span class="lineno"> 6872</span>&#160; </div>
<div class="line"><a name="l06873"></a><span class="lineno"> 6873</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> FullDestReg = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5c77792a06583e0fe7a0379ad94a2809">createVirtualRegister</a>(NewDestRC);</div>
<div class="line"><a name="l06874"></a><span class="lineno"> 6874</span>&#160;  <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, MII, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(TargetOpcode::REG_SEQUENCE), FullDestReg)</div>
<div class="line"><a name="l06875"></a><span class="lineno"> 6875</span>&#160;    .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(DestSub0)</div>
<div class="line"><a name="l06876"></a><span class="lineno"> 6876</span>&#160;    .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(AMDGPU::sub0)</div>
<div class="line"><a name="l06877"></a><span class="lineno"> 6877</span>&#160;    .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(DestSub1)</div>
<div class="line"><a name="l06878"></a><span class="lineno"> 6878</span>&#160;    .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(AMDGPU::sub1);</div>
<div class="line"><a name="l06879"></a><span class="lineno"> 6879</span>&#160; </div>
<div class="line"><a name="l06880"></a><span class="lineno"> 6880</span>&#160;  <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#af16c39ee36e4633f821b6820f8bd52ef">replaceRegWith</a>(Dest.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>(), FullDestReg);</div>
<div class="line"><a name="l06881"></a><span class="lineno"> 6881</span>&#160; </div>
<div class="line"><a name="l06882"></a><span class="lineno"> 6882</span>&#160;  Worklist.insert(&amp;LoHalf);</div>
<div class="line"><a name="l06883"></a><span class="lineno"> 6883</span>&#160;  Worklist.insert(&amp;HiHalf);</div>
<div class="line"><a name="l06884"></a><span class="lineno"> 6884</span>&#160; </div>
<div class="line"><a name="l06885"></a><span class="lineno"> 6885</span>&#160;  <span class="comment">// We don&#39;t need to legalizeOperands here because for a single operand, src0</span></div>
<div class="line"><a name="l06886"></a><span class="lineno"> 6886</span>&#160;  <span class="comment">// will support any kind of input.</span></div>
<div class="line"><a name="l06887"></a><span class="lineno"> 6887</span>&#160; </div>
<div class="line"><a name="l06888"></a><span class="lineno"> 6888</span>&#160;  <span class="comment">// Move all users of this moved value.</span></div>
<div class="line"><a name="l06889"></a><span class="lineno"> 6889</span>&#160;  addUsersToMoveToVALUWorklist(FullDestReg, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, Worklist);</div>
<div class="line"><a name="l06890"></a><span class="lineno"> 6890</span>&#160;}</div>
<div class="line"><a name="l06891"></a><span class="lineno"> 6891</span>&#160; </div>
<div class="line"><a name="l06892"></a><span class="lineno"> 6892</span>&#160;<span class="keywordtype">void</span> SIInstrInfo::splitScalar64BitAddSub(SetVectorType &amp;Worklist,</div>
<div class="line"><a name="l06893"></a><span class="lineno"> 6893</span>&#160;                                         <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;Inst,</div>
<div class="line"><a name="l06894"></a><span class="lineno"> 6894</span>&#160;                                         <a class="code" href="classllvm_1_1MachineDominatorTree.html">MachineDominatorTree</a> *MDT)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l06895"></a><span class="lineno"> 6895</span>&#160;  <span class="keywordtype">bool</span> IsAdd = (Inst.<a class="code" href="classllvm_1_1MachineInstr.html#a0363204b5fbab08a46f5a7cd7f376f78">getOpcode</a>() == AMDGPU::S_ADD_U64_PSEUDO);</div>
<div class="line"><a name="l06896"></a><span class="lineno"> 6896</span>&#160; </div>
<div class="line"><a name="l06897"></a><span class="lineno"> 6897</span>&#160;  <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a> = *Inst.<a class="code" href="classllvm_1_1MachineInstr.html#a002fd916e7206e01d512eeb06d405cf0">getParent</a>();</div>
<div class="line"><a name="l06898"></a><span class="lineno"> 6898</span>&#160;  <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a> = <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a4e21760f681d6f97f95c8414e7b83ea5">getParent</a>()-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>();</div>
<div class="line"><a name="l06899"></a><span class="lineno"> 6899</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> *CarryRC = RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#a0e2008041a23dfc43ff1e90b014a2936">getRegClass</a>(AMDGPU::SReg_1_XEXECRegClassID);</div>
<div class="line"><a name="l06900"></a><span class="lineno"> 6900</span>&#160; </div>
<div class="line"><a name="l06901"></a><span class="lineno"> 6901</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> FullDestReg = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5c77792a06583e0fe7a0379ad94a2809">createVirtualRegister</a>(&amp;AMDGPU::VReg_64RegClass);</div>
<div class="line"><a name="l06902"></a><span class="lineno"> 6902</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> DestSub0 = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5c77792a06583e0fe7a0379ad94a2809">createVirtualRegister</a>(&amp;AMDGPU::VGPR_32RegClass);</div>
<div class="line"><a name="l06903"></a><span class="lineno"> 6903</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> DestSub1 = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5c77792a06583e0fe7a0379ad94a2809">createVirtualRegister</a>(&amp;AMDGPU::VGPR_32RegClass);</div>
<div class="line"><a name="l06904"></a><span class="lineno"> 6904</span>&#160; </div>
<div class="line"><a name="l06905"></a><span class="lineno"> 6905</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> CarryReg = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5c77792a06583e0fe7a0379ad94a2809">createVirtualRegister</a>(CarryRC);</div>
<div class="line"><a name="l06906"></a><span class="lineno"> 6906</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> DeadCarryReg = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5c77792a06583e0fe7a0379ad94a2809">createVirtualRegister</a>(CarryRC);</div>
<div class="line"><a name="l06907"></a><span class="lineno"> 6907</span>&#160; </div>
<div class="line"><a name="l06908"></a><span class="lineno"> 6908</span>&#160;  <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;Dest = Inst.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(0);</div>
<div class="line"><a name="l06909"></a><span class="lineno"> 6909</span>&#160;  <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;Src0 = Inst.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(1);</div>
<div class="line"><a name="l06910"></a><span class="lineno"> 6910</span>&#160;  <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;Src1 = Inst.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(2);</div>
<div class="line"><a name="l06911"></a><span class="lineno"> 6911</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a> = Inst.<a class="code" href="classllvm_1_1MachineInstr.html#ae8ff2acea4fe63e48e8fc6cf0620ff78">getDebugLoc</a>();</div>
<div class="line"><a name="l06912"></a><span class="lineno"> 6912</span>&#160;  <a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::iterator</a> MII = Inst;</div>
<div class="line"><a name="l06913"></a><span class="lineno"> 6913</span>&#160; </div>
<div class="line"><a name="l06914"></a><span class="lineno"> 6914</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *Src0RC = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#aa363afffca4fc13a709673936b47fe33">getRegClass</a>(Src0.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>());</div>
<div class="line"><a name="l06915"></a><span class="lineno"> 6915</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *Src1RC = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#aa363afffca4fc13a709673936b47fe33">getRegClass</a>(Src1.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>());</div>
<div class="line"><a name="l06916"></a><span class="lineno"> 6916</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *Src0SubRC =</div>
<div class="line"><a name="l06917"></a><span class="lineno"> 6917</span>&#160;      RI.getSubRegisterClass(Src0RC, AMDGPU::sub0);</div>
<div class="line"><a name="l06918"></a><span class="lineno"> 6918</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *Src1SubRC =</div>
<div class="line"><a name="l06919"></a><span class="lineno"> 6919</span>&#160;      RI.getSubRegisterClass(Src1RC, AMDGPU::sub0);</div>
<div class="line"><a name="l06920"></a><span class="lineno"> 6920</span>&#160; </div>
<div class="line"><a name="l06921"></a><span class="lineno"> 6921</span>&#160;  <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> SrcReg0Sub0 = <a class="code" href="classllvm_1_1SIInstrInfo.html#ac00c84cfc6dac484e038a2d4258933ef">buildExtractSubRegOrImm</a>(MII, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, Src0, Src0RC,</div>
<div class="line"><a name="l06922"></a><span class="lineno"> 6922</span>&#160;                                                       AMDGPU::sub0, Src0SubRC);</div>
<div class="line"><a name="l06923"></a><span class="lineno"> 6923</span>&#160;  <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> SrcReg1Sub0 = <a class="code" href="classllvm_1_1SIInstrInfo.html#ac00c84cfc6dac484e038a2d4258933ef">buildExtractSubRegOrImm</a>(MII, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, Src1, Src1RC,</div>
<div class="line"><a name="l06924"></a><span class="lineno"> 6924</span>&#160;                                                       AMDGPU::sub0, Src1SubRC);</div>
<div class="line"><a name="l06925"></a><span class="lineno"> 6925</span>&#160; </div>
<div class="line"><a name="l06926"></a><span class="lineno"> 6926</span>&#160; </div>
<div class="line"><a name="l06927"></a><span class="lineno"> 6927</span>&#160;  <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> SrcReg0Sub1 = <a class="code" href="classllvm_1_1SIInstrInfo.html#ac00c84cfc6dac484e038a2d4258933ef">buildExtractSubRegOrImm</a>(MII, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, Src0, Src0RC,</div>
<div class="line"><a name="l06928"></a><span class="lineno"> 6928</span>&#160;                                                       AMDGPU::sub1, Src0SubRC);</div>
<div class="line"><a name="l06929"></a><span class="lineno"> 6929</span>&#160;  <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> SrcReg1Sub1 = <a class="code" href="classllvm_1_1SIInstrInfo.html#ac00c84cfc6dac484e038a2d4258933ef">buildExtractSubRegOrImm</a>(MII, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, Src1, Src1RC,</div>
<div class="line"><a name="l06930"></a><span class="lineno"> 6930</span>&#160;                                                       AMDGPU::sub1, Src1SubRC);</div>
<div class="line"><a name="l06931"></a><span class="lineno"> 6931</span>&#160; </div>
<div class="line"><a name="l06932"></a><span class="lineno"> 6932</span>&#160;  <span class="keywordtype">unsigned</span> LoOpc = IsAdd ? AMDGPU::V_ADD_CO_U32_e64 : AMDGPU::V_SUB_CO_U32_e64;</div>
<div class="line"><a name="l06933"></a><span class="lineno"> 6933</span>&#160;  <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *LoHalf =</div>
<div class="line"><a name="l06934"></a><span class="lineno"> 6934</span>&#160;    <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, MII, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(LoOpc), DestSub0)</div>
<div class="line"><a name="l06935"></a><span class="lineno"> 6935</span>&#160;    .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(CarryReg, <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da72c17e2ff2d5af62a30e56ac152aa8d5">RegState::Define</a>)</div>
<div class="line"><a name="l06936"></a><span class="lineno"> 6936</span>&#160;    .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a1ac8d27532cfd1d1f032ecbff2ba3611">add</a>(SrcReg0Sub0)</div>
<div class="line"><a name="l06937"></a><span class="lineno"> 6937</span>&#160;    .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a1ac8d27532cfd1d1f032ecbff2ba3611">add</a>(SrcReg1Sub0)</div>
<div class="line"><a name="l06938"></a><span class="lineno"> 6938</span>&#160;    .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(0); <span class="comment">// clamp bit</span></div>
<div class="line"><a name="l06939"></a><span class="lineno"> 6939</span>&#160; </div>
<div class="line"><a name="l06940"></a><span class="lineno"> 6940</span>&#160;  <span class="keywordtype">unsigned</span> HiOpc = IsAdd ? AMDGPU::V_ADDC_U32_e64 : AMDGPU::V_SUBB_U32_e64;</div>
<div class="line"><a name="l06941"></a><span class="lineno"> 6941</span>&#160;  <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *HiHalf =</div>
<div class="line"><a name="l06942"></a><span class="lineno"> 6942</span>&#160;    <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, MII, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(HiOpc), DestSub1)</div>
<div class="line"><a name="l06943"></a><span class="lineno"> 6943</span>&#160;    .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(DeadCarryReg, <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da72c17e2ff2d5af62a30e56ac152aa8d5">RegState::Define</a> | <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da2fee1a7db4e84247a193a9af1f907013">RegState::Dead</a>)</div>
<div class="line"><a name="l06944"></a><span class="lineno"> 6944</span>&#160;    .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a1ac8d27532cfd1d1f032ecbff2ba3611">add</a>(SrcReg0Sub1)</div>
<div class="line"><a name="l06945"></a><span class="lineno"> 6945</span>&#160;    .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a1ac8d27532cfd1d1f032ecbff2ba3611">add</a>(SrcReg1Sub1)</div>
<div class="line"><a name="l06946"></a><span class="lineno"> 6946</span>&#160;    .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(CarryReg, <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da9ddde91ef09476d28a088fe57f8e2921">RegState::Kill</a>)</div>
<div class="line"><a name="l06947"></a><span class="lineno"> 6947</span>&#160;    .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(0); <span class="comment">// clamp bit</span></div>
<div class="line"><a name="l06948"></a><span class="lineno"> 6948</span>&#160; </div>
<div class="line"><a name="l06949"></a><span class="lineno"> 6949</span>&#160;  <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, MII, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(TargetOpcode::REG_SEQUENCE), FullDestReg)</div>
<div class="line"><a name="l06950"></a><span class="lineno"> 6950</span>&#160;    .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(DestSub0)</div>
<div class="line"><a name="l06951"></a><span class="lineno"> 6951</span>&#160;    .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(AMDGPU::sub0)</div>
<div class="line"><a name="l06952"></a><span class="lineno"> 6952</span>&#160;    .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(DestSub1)</div>
<div class="line"><a name="l06953"></a><span class="lineno"> 6953</span>&#160;    .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(AMDGPU::sub1);</div>
<div class="line"><a name="l06954"></a><span class="lineno"> 6954</span>&#160; </div>
<div class="line"><a name="l06955"></a><span class="lineno"> 6955</span>&#160;  <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#af16c39ee36e4633f821b6820f8bd52ef">replaceRegWith</a>(Dest.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>(), FullDestReg);</div>
<div class="line"><a name="l06956"></a><span class="lineno"> 6956</span>&#160; </div>
<div class="line"><a name="l06957"></a><span class="lineno"> 6957</span>&#160;  <span class="comment">// Try to legalize the operands in case we need to swap the order to keep it</span></div>
<div class="line"><a name="l06958"></a><span class="lineno"> 6958</span>&#160;  <span class="comment">// valid.</span></div>
<div class="line"><a name="l06959"></a><span class="lineno"> 6959</span>&#160;  <a class="code" href="classllvm_1_1SIInstrInfo.html#a09787033a63326e79a0d1445d3e0de13">legalizeOperands</a>(*LoHalf, MDT);</div>
<div class="line"><a name="l06960"></a><span class="lineno"> 6960</span>&#160;  <a class="code" href="classllvm_1_1SIInstrInfo.html#a09787033a63326e79a0d1445d3e0de13">legalizeOperands</a>(*HiHalf, MDT);</div>
<div class="line"><a name="l06961"></a><span class="lineno"> 6961</span>&#160; </div>
<div class="line"><a name="l06962"></a><span class="lineno"> 6962</span>&#160;  <span class="comment">// Move all users of this moved value.</span></div>
<div class="line"><a name="l06963"></a><span class="lineno"> 6963</span>&#160;  addUsersToMoveToVALUWorklist(FullDestReg, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, Worklist);</div>
<div class="line"><a name="l06964"></a><span class="lineno"> 6964</span>&#160;}</div>
<div class="line"><a name="l06965"></a><span class="lineno"> 6965</span>&#160; </div>
<div class="line"><a name="l06966"></a><span class="lineno"> 6966</span>&#160;<span class="keywordtype">void</span> SIInstrInfo::splitScalar64BitBinaryOp(SetVectorType &amp;Worklist,</div>
<div class="line"><a name="l06967"></a><span class="lineno"> 6967</span>&#160;                                           <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;Inst, <span class="keywordtype">unsigned</span> Opcode,</div>
<div class="line"><a name="l06968"></a><span class="lineno"> 6968</span>&#160;                                           <a class="code" href="classllvm_1_1MachineDominatorTree.html">MachineDominatorTree</a> *MDT)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l06969"></a><span class="lineno"> 6969</span>&#160;  <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a> = *Inst.<a class="code" href="classllvm_1_1MachineInstr.html#a002fd916e7206e01d512eeb06d405cf0">getParent</a>();</div>
<div class="line"><a name="l06970"></a><span class="lineno"> 6970</span>&#160;  <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a> = <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a4e21760f681d6f97f95c8414e7b83ea5">getParent</a>()-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>();</div>
<div class="line"><a name="l06971"></a><span class="lineno"> 6971</span>&#160; </div>
<div class="line"><a name="l06972"></a><span class="lineno"> 6972</span>&#160;  <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;Dest = Inst.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(0);</div>
<div class="line"><a name="l06973"></a><span class="lineno"> 6973</span>&#160;  <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;Src0 = Inst.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(1);</div>
<div class="line"><a name="l06974"></a><span class="lineno"> 6974</span>&#160;  <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;Src1 = Inst.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(2);</div>
<div class="line"><a name="l06975"></a><span class="lineno"> 6975</span>&#160;  <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a> = Inst.<a class="code" href="classllvm_1_1MachineInstr.html#ae8ff2acea4fe63e48e8fc6cf0620ff78">getDebugLoc</a>();</div>
<div class="line"><a name="l06976"></a><span class="lineno"> 6976</span>&#160; </div>
<div class="line"><a name="l06977"></a><span class="lineno"> 6977</span>&#160;  <a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::iterator</a> MII = Inst;</div>
<div class="line"><a name="l06978"></a><span class="lineno"> 6978</span>&#160; </div>
<div class="line"><a name="l06979"></a><span class="lineno"> 6979</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCInstrDesc.html">MCInstrDesc</a> &amp;InstDesc = <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(Opcode);</div>
<div class="line"><a name="l06980"></a><span class="lineno"> 6980</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *Src0RC = Src0.<a class="code" href="classllvm_1_1MachineOperand.html#a4c9594c955fec80c73ddd964b5efd554">isReg</a>() ?</div>
<div class="line"><a name="l06981"></a><span class="lineno"> 6981</span>&#160;    <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#aa363afffca4fc13a709673936b47fe33">getRegClass</a>(Src0.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>()) :</div>
<div class="line"><a name="l06982"></a><span class="lineno"> 6982</span>&#160;    &amp;AMDGPU::SGPR_32RegClass;</div>
<div class="line"><a name="l06983"></a><span class="lineno"> 6983</span>&#160; </div>
<div class="line"><a name="l06984"></a><span class="lineno"> 6984</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *Src0SubRC =</div>
<div class="line"><a name="l06985"></a><span class="lineno"> 6985</span>&#160;      RI.getSubRegisterClass(Src0RC, AMDGPU::sub0);</div>
<div class="line"><a name="l06986"></a><span class="lineno"> 6986</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *Src1RC = Src1.<a class="code" href="classllvm_1_1MachineOperand.html#a4c9594c955fec80c73ddd964b5efd554">isReg</a>() ?</div>
<div class="line"><a name="l06987"></a><span class="lineno"> 6987</span>&#160;    <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#aa363afffca4fc13a709673936b47fe33">getRegClass</a>(Src1.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>()) :</div>
<div class="line"><a name="l06988"></a><span class="lineno"> 6988</span>&#160;    &amp;AMDGPU::SGPR_32RegClass;</div>
<div class="line"><a name="l06989"></a><span class="lineno"> 6989</span>&#160; </div>
<div class="line"><a name="l06990"></a><span class="lineno"> 6990</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *Src1SubRC =</div>
<div class="line"><a name="l06991"></a><span class="lineno"> 6991</span>&#160;      RI.getSubRegisterClass(Src1RC, AMDGPU::sub0);</div>
<div class="line"><a name="l06992"></a><span class="lineno"> 6992</span>&#160; </div>
<div class="line"><a name="l06993"></a><span class="lineno"> 6993</span>&#160;  <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> SrcReg0Sub0 = <a class="code" href="classllvm_1_1SIInstrInfo.html#ac00c84cfc6dac484e038a2d4258933ef">buildExtractSubRegOrImm</a>(MII, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, Src0, Src0RC,</div>
<div class="line"><a name="l06994"></a><span class="lineno"> 6994</span>&#160;                                                       AMDGPU::sub0, Src0SubRC);</div>
<div class="line"><a name="l06995"></a><span class="lineno"> 6995</span>&#160;  <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> SrcReg1Sub0 = <a class="code" href="classllvm_1_1SIInstrInfo.html#ac00c84cfc6dac484e038a2d4258933ef">buildExtractSubRegOrImm</a>(MII, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, Src1, Src1RC,</div>
<div class="line"><a name="l06996"></a><span class="lineno"> 6996</span>&#160;                                                       AMDGPU::sub0, Src1SubRC);</div>
<div class="line"><a name="l06997"></a><span class="lineno"> 6997</span>&#160;  <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> SrcReg0Sub1 = <a class="code" href="classllvm_1_1SIInstrInfo.html#ac00c84cfc6dac484e038a2d4258933ef">buildExtractSubRegOrImm</a>(MII, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, Src0, Src0RC,</div>
<div class="line"><a name="l06998"></a><span class="lineno"> 6998</span>&#160;                                                       AMDGPU::sub1, Src0SubRC);</div>
<div class="line"><a name="l06999"></a><span class="lineno"> 6999</span>&#160;  <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> SrcReg1Sub1 = <a class="code" href="classllvm_1_1SIInstrInfo.html#ac00c84cfc6dac484e038a2d4258933ef">buildExtractSubRegOrImm</a>(MII, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, Src1, Src1RC,</div>
<div class="line"><a name="l07000"></a><span class="lineno"> 7000</span>&#160;                                                       AMDGPU::sub1, Src1SubRC);</div>
<div class="line"><a name="l07001"></a><span class="lineno"> 7001</span>&#160; </div>
<div class="line"><a name="l07002"></a><span class="lineno"> 7002</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *DestRC = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#aa363afffca4fc13a709673936b47fe33">getRegClass</a>(Dest.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>());</div>
<div class="line"><a name="l07003"></a><span class="lineno"> 7003</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *NewDestRC = RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#a2fcc4d3294381da29adb855c5f56c0d5">getEquivalentVGPRClass</a>(DestRC);</div>
<div class="line"><a name="l07004"></a><span class="lineno"> 7004</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *NewDestSubRC =</div>
<div class="line"><a name="l07005"></a><span class="lineno"> 7005</span>&#160;      RI.getSubRegisterClass(NewDestRC, AMDGPU::sub0);</div>
<div class="line"><a name="l07006"></a><span class="lineno"> 7006</span>&#160; </div>
<div class="line"><a name="l07007"></a><span class="lineno"> 7007</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> DestSub0 = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5c77792a06583e0fe7a0379ad94a2809">createVirtualRegister</a>(NewDestSubRC);</div>
<div class="line"><a name="l07008"></a><span class="lineno"> 7008</span>&#160;  <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;LoHalf = *<a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, MII, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, InstDesc, DestSub0)</div>
<div class="line"><a name="l07009"></a><span class="lineno"> 7009</span>&#160;                              .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a1ac8d27532cfd1d1f032ecbff2ba3611">add</a>(SrcReg0Sub0)</div>
<div class="line"><a name="l07010"></a><span class="lineno"> 7010</span>&#160;                              .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a1ac8d27532cfd1d1f032ecbff2ba3611">add</a>(SrcReg1Sub0);</div>
<div class="line"><a name="l07011"></a><span class="lineno"> 7011</span>&#160; </div>
<div class="line"><a name="l07012"></a><span class="lineno"> 7012</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> DestSub1 = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5c77792a06583e0fe7a0379ad94a2809">createVirtualRegister</a>(NewDestSubRC);</div>
<div class="line"><a name="l07013"></a><span class="lineno"> 7013</span>&#160;  <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;HiHalf = *<a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, MII, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, InstDesc, DestSub1)</div>
<div class="line"><a name="l07014"></a><span class="lineno"> 7014</span>&#160;                              .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a1ac8d27532cfd1d1f032ecbff2ba3611">add</a>(SrcReg0Sub1)</div>
<div class="line"><a name="l07015"></a><span class="lineno"> 7015</span>&#160;                              .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a1ac8d27532cfd1d1f032ecbff2ba3611">add</a>(SrcReg1Sub1);</div>
<div class="line"><a name="l07016"></a><span class="lineno"> 7016</span>&#160; </div>
<div class="line"><a name="l07017"></a><span class="lineno"> 7017</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> FullDestReg = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5c77792a06583e0fe7a0379ad94a2809">createVirtualRegister</a>(NewDestRC);</div>
<div class="line"><a name="l07018"></a><span class="lineno"> 7018</span>&#160;  <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, MII, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(TargetOpcode::REG_SEQUENCE), FullDestReg)</div>
<div class="line"><a name="l07019"></a><span class="lineno"> 7019</span>&#160;    .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(DestSub0)</div>
<div class="line"><a name="l07020"></a><span class="lineno"> 7020</span>&#160;    .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(AMDGPU::sub0)</div>
<div class="line"><a name="l07021"></a><span class="lineno"> 7021</span>&#160;    .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(DestSub1)</div>
<div class="line"><a name="l07022"></a><span class="lineno"> 7022</span>&#160;    .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(AMDGPU::sub1);</div>
<div class="line"><a name="l07023"></a><span class="lineno"> 7023</span>&#160; </div>
<div class="line"><a name="l07024"></a><span class="lineno"> 7024</span>&#160;  <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#af16c39ee36e4633f821b6820f8bd52ef">replaceRegWith</a>(Dest.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>(), FullDestReg);</div>
<div class="line"><a name="l07025"></a><span class="lineno"> 7025</span>&#160; </div>
<div class="line"><a name="l07026"></a><span class="lineno"> 7026</span>&#160;  Worklist.insert(&amp;LoHalf);</div>
<div class="line"><a name="l07027"></a><span class="lineno"> 7027</span>&#160;  Worklist.insert(&amp;HiHalf);</div>
<div class="line"><a name="l07028"></a><span class="lineno"> 7028</span>&#160; </div>
<div class="line"><a name="l07029"></a><span class="lineno"> 7029</span>&#160;  <span class="comment">// Move all users of this moved value.</span></div>
<div class="line"><a name="l07030"></a><span class="lineno"> 7030</span>&#160;  addUsersToMoveToVALUWorklist(FullDestReg, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, Worklist);</div>
<div class="line"><a name="l07031"></a><span class="lineno"> 7031</span>&#160;}</div>
<div class="line"><a name="l07032"></a><span class="lineno"> 7032</span>&#160; </div>
<div class="line"><a name="l07033"></a><span class="lineno"> 7033</span>&#160;<span class="keywordtype">void</span> SIInstrInfo::splitScalar64BitXnor(SetVectorType &amp;Worklist,</div>
<div class="line"><a name="l07034"></a><span class="lineno"> 7034</span>&#160;                                       <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;Inst,</div>
<div class="line"><a name="l07035"></a><span class="lineno"> 7035</span>&#160;                                       <a class="code" href="classllvm_1_1MachineDominatorTree.html">MachineDominatorTree</a> *MDT)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l07036"></a><span class="lineno"> 7036</span>&#160;  <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a> = *Inst.<a class="code" href="classllvm_1_1MachineInstr.html#a002fd916e7206e01d512eeb06d405cf0">getParent</a>();</div>
<div class="line"><a name="l07037"></a><span class="lineno"> 7037</span>&#160;  <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a> = <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a4e21760f681d6f97f95c8414e7b83ea5">getParent</a>()-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>();</div>
<div class="line"><a name="l07038"></a><span class="lineno"> 7038</span>&#160; </div>
<div class="line"><a name="l07039"></a><span class="lineno"> 7039</span>&#160;  <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;Dest = Inst.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(0);</div>
<div class="line"><a name="l07040"></a><span class="lineno"> 7040</span>&#160;  <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;Src0 = Inst.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(1);</div>
<div class="line"><a name="l07041"></a><span class="lineno"> 7041</span>&#160;  <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;Src1 = Inst.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(2);</div>
<div class="line"><a name="l07042"></a><span class="lineno"> 7042</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a> = Inst.<a class="code" href="classllvm_1_1MachineInstr.html#ae8ff2acea4fe63e48e8fc6cf0620ff78">getDebugLoc</a>();</div>
<div class="line"><a name="l07043"></a><span class="lineno"> 7043</span>&#160; </div>
<div class="line"><a name="l07044"></a><span class="lineno"> 7044</span>&#160;  <a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::iterator</a> MII = Inst;</div>
<div class="line"><a name="l07045"></a><span class="lineno"> 7045</span>&#160; </div>
<div class="line"><a name="l07046"></a><span class="lineno"> 7046</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *DestRC = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#aa363afffca4fc13a709673936b47fe33">getRegClass</a>(Dest.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>());</div>
<div class="line"><a name="l07047"></a><span class="lineno"> 7047</span>&#160; </div>
<div class="line"><a name="l07048"></a><span class="lineno"> 7048</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> Interm = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5c77792a06583e0fe7a0379ad94a2809">createVirtualRegister</a>(&amp;AMDGPU::SReg_64RegClass);</div>
<div class="line"><a name="l07049"></a><span class="lineno"> 7049</span>&#160; </div>
<div class="line"><a name="l07050"></a><span class="lineno"> 7050</span>&#160;  <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a>* Op0;</div>
<div class="line"><a name="l07051"></a><span class="lineno"> 7051</span>&#160;  <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a>* Op1;</div>
<div class="line"><a name="l07052"></a><span class="lineno"> 7052</span>&#160; </div>
<div class="line"><a name="l07053"></a><span class="lineno"> 7053</span>&#160;  <span class="keywordflow">if</span> (Src0.<a class="code" href="classllvm_1_1MachineOperand.html#a4c9594c955fec80c73ddd964b5efd554">isReg</a>() &amp;&amp; RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#a980c731f7723b02b66010f4fce010c0f">isSGPRReg</a>(<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, Src0.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>())) {</div>
<div class="line"><a name="l07054"></a><span class="lineno"> 7054</span>&#160;    Op0 = &amp;Src0;</div>
<div class="line"><a name="l07055"></a><span class="lineno"> 7055</span>&#160;    Op1 = &amp;Src1;</div>
<div class="line"><a name="l07056"></a><span class="lineno"> 7056</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l07057"></a><span class="lineno"> 7057</span>&#160;    Op0 = &amp;Src1;</div>
<div class="line"><a name="l07058"></a><span class="lineno"> 7058</span>&#160;    Op1 = &amp;Src0;</div>
<div class="line"><a name="l07059"></a><span class="lineno"> 7059</span>&#160;  }</div>
<div class="line"><a name="l07060"></a><span class="lineno"> 7060</span>&#160; </div>
<div class="line"><a name="l07061"></a><span class="lineno"> 7061</span>&#160;  <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, MII, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::S_NOT_B64), Interm)</div>
<div class="line"><a name="l07062"></a><span class="lineno"> 7062</span>&#160;    .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a1ac8d27532cfd1d1f032ecbff2ba3611">add</a>(*Op0);</div>
<div class="line"><a name="l07063"></a><span class="lineno"> 7063</span>&#160; </div>
<div class="line"><a name="l07064"></a><span class="lineno"> 7064</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> NewDest = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5c77792a06583e0fe7a0379ad94a2809">createVirtualRegister</a>(DestRC);</div>
<div class="line"><a name="l07065"></a><span class="lineno"> 7065</span>&#160; </div>
<div class="line"><a name="l07066"></a><span class="lineno"> 7066</span>&#160;  <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="namespacellvm.html#aac36edd0f1ce976f0025c98e88d3830ea76feb79109026728a20736a8c6504548">Xor</a> = *<a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, MII, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::S_XOR_B64), NewDest)</div>
<div class="line"><a name="l07067"></a><span class="lineno"> 7067</span>&#160;    .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(Interm)</div>
<div class="line"><a name="l07068"></a><span class="lineno"> 7068</span>&#160;    .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a1ac8d27532cfd1d1f032ecbff2ba3611">add</a>(*Op1);</div>
<div class="line"><a name="l07069"></a><span class="lineno"> 7069</span>&#160; </div>
<div class="line"><a name="l07070"></a><span class="lineno"> 7070</span>&#160;  <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#af16c39ee36e4633f821b6820f8bd52ef">replaceRegWith</a>(Dest.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>(), NewDest);</div>
<div class="line"><a name="l07071"></a><span class="lineno"> 7071</span>&#160; </div>
<div class="line"><a name="l07072"></a><span class="lineno"> 7072</span>&#160;  Worklist.insert(&amp;Xor);</div>
<div class="line"><a name="l07073"></a><span class="lineno"> 7073</span>&#160;}</div>
<div class="line"><a name="l07074"></a><span class="lineno"> 7074</span>&#160; </div>
<div class="line"><a name="l07075"></a><span class="lineno"> 7075</span>&#160;<span class="keywordtype">void</span> SIInstrInfo::splitScalar64BitBCNT(</div>
<div class="line"><a name="l07076"></a><span class="lineno"> 7076</span>&#160;    SetVectorType &amp;Worklist, <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;Inst)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l07077"></a><span class="lineno"> 7077</span>&#160;  <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a> = *Inst.<a class="code" href="classllvm_1_1MachineInstr.html#a002fd916e7206e01d512eeb06d405cf0">getParent</a>();</div>
<div class="line"><a name="l07078"></a><span class="lineno"> 7078</span>&#160;  <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a> = <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a4e21760f681d6f97f95c8414e7b83ea5">getParent</a>()-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>();</div>
<div class="line"><a name="l07079"></a><span class="lineno"> 7079</span>&#160; </div>
<div class="line"><a name="l07080"></a><span class="lineno"> 7080</span>&#160;  <a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::iterator</a> MII = Inst;</div>
<div class="line"><a name="l07081"></a><span class="lineno"> 7081</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a> = Inst.<a class="code" href="classllvm_1_1MachineInstr.html#ae8ff2acea4fe63e48e8fc6cf0620ff78">getDebugLoc</a>();</div>
<div class="line"><a name="l07082"></a><span class="lineno"> 7082</span>&#160; </div>
<div class="line"><a name="l07083"></a><span class="lineno"> 7083</span>&#160;  <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;Dest = Inst.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(0);</div>
<div class="line"><a name="l07084"></a><span class="lineno"> 7084</span>&#160;  <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;Src = Inst.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(1);</div>
<div class="line"><a name="l07085"></a><span class="lineno"> 7085</span>&#160; </div>
<div class="line"><a name="l07086"></a><span class="lineno"> 7086</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCInstrDesc.html">MCInstrDesc</a> &amp;InstDesc = <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::V_BCNT_U32_B32_e64);</div>
<div class="line"><a name="l07087"></a><span class="lineno"> 7087</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *SrcRC = Src.isReg() ?</div>
<div class="line"><a name="l07088"></a><span class="lineno"> 7088</span>&#160;    <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#aa363afffca4fc13a709673936b47fe33">getRegClass</a>(Src.getReg()) :</div>
<div class="line"><a name="l07089"></a><span class="lineno"> 7089</span>&#160;    &amp;AMDGPU::SGPR_32RegClass;</div>
<div class="line"><a name="l07090"></a><span class="lineno"> 7090</span>&#160; </div>
<div class="line"><a name="l07091"></a><span class="lineno"> 7091</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> MidReg = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5c77792a06583e0fe7a0379ad94a2809">createVirtualRegister</a>(&amp;AMDGPU::VGPR_32RegClass);</div>
<div class="line"><a name="l07092"></a><span class="lineno"> 7092</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> ResultReg = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5c77792a06583e0fe7a0379ad94a2809">createVirtualRegister</a>(&amp;AMDGPU::VGPR_32RegClass);</div>
<div class="line"><a name="l07093"></a><span class="lineno"> 7093</span>&#160; </div>
<div class="line"><a name="l07094"></a><span class="lineno"> 7094</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *SrcSubRC =</div>
<div class="line"><a name="l07095"></a><span class="lineno"> 7095</span>&#160;      RI.getSubRegisterClass(SrcRC, AMDGPU::sub0);</div>
<div class="line"><a name="l07096"></a><span class="lineno"> 7096</span>&#160; </div>
<div class="line"><a name="l07097"></a><span class="lineno"> 7097</span>&#160;  <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> SrcRegSub0 = <a class="code" href="classllvm_1_1SIInstrInfo.html#ac00c84cfc6dac484e038a2d4258933ef">buildExtractSubRegOrImm</a>(MII, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, Src, SrcRC,</div>
<div class="line"><a name="l07098"></a><span class="lineno"> 7098</span>&#160;                                                      AMDGPU::sub0, SrcSubRC);</div>
<div class="line"><a name="l07099"></a><span class="lineno"> 7099</span>&#160;  <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> SrcRegSub1 = <a class="code" href="classllvm_1_1SIInstrInfo.html#ac00c84cfc6dac484e038a2d4258933ef">buildExtractSubRegOrImm</a>(MII, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, Src, SrcRC,</div>
<div class="line"><a name="l07100"></a><span class="lineno"> 7100</span>&#160;                                                      AMDGPU::sub1, SrcSubRC);</div>
<div class="line"><a name="l07101"></a><span class="lineno"> 7101</span>&#160; </div>
<div class="line"><a name="l07102"></a><span class="lineno"> 7102</span>&#160;  <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, MII, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, InstDesc, MidReg).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a1ac8d27532cfd1d1f032ecbff2ba3611">add</a>(SrcRegSub0).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(0);</div>
<div class="line"><a name="l07103"></a><span class="lineno"> 7103</span>&#160; </div>
<div class="line"><a name="l07104"></a><span class="lineno"> 7104</span>&#160;  <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, MII, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, InstDesc, ResultReg).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a1ac8d27532cfd1d1f032ecbff2ba3611">add</a>(SrcRegSub1).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(MidReg);</div>
<div class="line"><a name="l07105"></a><span class="lineno"> 7105</span>&#160; </div>
<div class="line"><a name="l07106"></a><span class="lineno"> 7106</span>&#160;  <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#af16c39ee36e4633f821b6820f8bd52ef">replaceRegWith</a>(Dest.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>(), ResultReg);</div>
<div class="line"><a name="l07107"></a><span class="lineno"> 7107</span>&#160; </div>
<div class="line"><a name="l07108"></a><span class="lineno"> 7108</span>&#160;  <span class="comment">// We don&#39;t need to legalize operands here. src0 for either instruction can be</span></div>
<div class="line"><a name="l07109"></a><span class="lineno"> 7109</span>&#160;  <span class="comment">// an SGPR, and the second input is unused or determined here.</span></div>
<div class="line"><a name="l07110"></a><span class="lineno"> 7110</span>&#160;  addUsersToMoveToVALUWorklist(ResultReg, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, Worklist);</div>
<div class="line"><a name="l07111"></a><span class="lineno"> 7111</span>&#160;}</div>
<div class="line"><a name="l07112"></a><span class="lineno"> 7112</span>&#160; </div>
<div class="line"><a name="l07113"></a><span class="lineno"> 7113</span>&#160;<span class="keywordtype">void</span> SIInstrInfo::splitScalar64BitBFE(SetVectorType &amp;Worklist,</div>
<div class="line"><a name="l07114"></a><span class="lineno"> 7114</span>&#160;                                      <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;Inst)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l07115"></a><span class="lineno"> 7115</span>&#160;  <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a> = *Inst.<a class="code" href="classllvm_1_1MachineInstr.html#a002fd916e7206e01d512eeb06d405cf0">getParent</a>();</div>
<div class="line"><a name="l07116"></a><span class="lineno"> 7116</span>&#160;  <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a> = <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a4e21760f681d6f97f95c8414e7b83ea5">getParent</a>()-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>();</div>
<div class="line"><a name="l07117"></a><span class="lineno"> 7117</span>&#160;  <a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::iterator</a> MII = Inst;</div>
<div class="line"><a name="l07118"></a><span class="lineno"> 7118</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a> = Inst.<a class="code" href="classllvm_1_1MachineInstr.html#ae8ff2acea4fe63e48e8fc6cf0620ff78">getDebugLoc</a>();</div>
<div class="line"><a name="l07119"></a><span class="lineno"> 7119</span>&#160; </div>
<div class="line"><a name="l07120"></a><span class="lineno"> 7120</span>&#160;  <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;Dest = Inst.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(0);</div>
<div class="line"><a name="l07121"></a><span class="lineno"> 7121</span>&#160;  <a class="code" href="classuint32__t.html">uint32_t</a> <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> = Inst.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(2).<a class="code" href="classllvm_1_1MachineOperand.html#a38b28a85f818b49d8806c150b8a5b4f7">getImm</a>();</div>
<div class="line"><a name="l07122"></a><span class="lineno"> 7122</span>&#160;  <a class="code" href="classuint32__t.html">uint32_t</a> <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> = <a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> &amp; 0x3f; <span class="comment">// Extract bits [5:0].</span></div>
<div class="line"><a name="l07123"></a><span class="lineno"> 7123</span>&#160;  <a class="code" href="classuint32__t.html">uint32_t</a> <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> = (<a class="code" href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">Imm</a> &amp; 0x7f0000) &gt;&gt; 16; <span class="comment">// Extract bits [22:16].</span></div>
<div class="line"><a name="l07124"></a><span class="lineno"> 7124</span>&#160; </div>
<div class="line"><a name="l07125"></a><span class="lineno"> 7125</span>&#160;  (void) <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>;</div>
<div class="line"><a name="l07126"></a><span class="lineno"> 7126</span>&#160; </div>
<div class="line"><a name="l07127"></a><span class="lineno"> 7127</span>&#160;  <span class="comment">// Only sext_inreg cases handled.</span></div>
<div class="line"><a name="l07128"></a><span class="lineno"> 7128</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Inst.<a class="code" href="classllvm_1_1MachineInstr.html#a0363204b5fbab08a46f5a7cd7f376f78">getOpcode</a>() == AMDGPU::S_BFE_I64 &amp;&amp; <a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> &lt;= 32 &amp;&amp;</div>
<div class="line"><a name="l07129"></a><span class="lineno"> 7129</span>&#160;         <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> == 0 &amp;&amp; <span class="stringliteral">&quot;Not implemented&quot;</span>);</div>
<div class="line"><a name="l07130"></a><span class="lineno"> 7130</span>&#160; </div>
<div class="line"><a name="l07131"></a><span class="lineno"> 7131</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> &lt; 32) {</div>
<div class="line"><a name="l07132"></a><span class="lineno"> 7132</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> MidRegLo = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5c77792a06583e0fe7a0379ad94a2809">createVirtualRegister</a>(&amp;AMDGPU::VGPR_32RegClass);</div>
<div class="line"><a name="l07133"></a><span class="lineno"> 7133</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> MidRegHi = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5c77792a06583e0fe7a0379ad94a2809">createVirtualRegister</a>(&amp;AMDGPU::VGPR_32RegClass);</div>
<div class="line"><a name="l07134"></a><span class="lineno"> 7134</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> ResultReg = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5c77792a06583e0fe7a0379ad94a2809">createVirtualRegister</a>(&amp;AMDGPU::VReg_64RegClass);</div>
<div class="line"><a name="l07135"></a><span class="lineno"> 7135</span>&#160; </div>
<div class="line"><a name="l07136"></a><span class="lineno"> 7136</span>&#160;    <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, MII, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::V_BFE_I32_e64), MidRegLo)</div>
<div class="line"><a name="l07137"></a><span class="lineno"> 7137</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(Inst.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(1).<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>(), 0, AMDGPU::sub0)</div>
<div class="line"><a name="l07138"></a><span class="lineno"> 7138</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(0)</div>
<div class="line"><a name="l07139"></a><span class="lineno"> 7139</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(<a class="code" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>);</div>
<div class="line"><a name="l07140"></a><span class="lineno"> 7140</span>&#160; </div>
<div class="line"><a name="l07141"></a><span class="lineno"> 7141</span>&#160;    <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, MII, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::V_ASHRREV_I32_e32), MidRegHi)</div>
<div class="line"><a name="l07142"></a><span class="lineno"> 7142</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(31)</div>
<div class="line"><a name="l07143"></a><span class="lineno"> 7143</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(MidRegLo);</div>
<div class="line"><a name="l07144"></a><span class="lineno"> 7144</span>&#160; </div>
<div class="line"><a name="l07145"></a><span class="lineno"> 7145</span>&#160;    <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, MII, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(TargetOpcode::REG_SEQUENCE), ResultReg)</div>
<div class="line"><a name="l07146"></a><span class="lineno"> 7146</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(MidRegLo)</div>
<div class="line"><a name="l07147"></a><span class="lineno"> 7147</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(AMDGPU::sub0)</div>
<div class="line"><a name="l07148"></a><span class="lineno"> 7148</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(MidRegHi)</div>
<div class="line"><a name="l07149"></a><span class="lineno"> 7149</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(AMDGPU::sub1);</div>
<div class="line"><a name="l07150"></a><span class="lineno"> 7150</span>&#160; </div>
<div class="line"><a name="l07151"></a><span class="lineno"> 7151</span>&#160;    <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#af16c39ee36e4633f821b6820f8bd52ef">replaceRegWith</a>(Dest.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>(), ResultReg);</div>
<div class="line"><a name="l07152"></a><span class="lineno"> 7152</span>&#160;    addUsersToMoveToVALUWorklist(ResultReg, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, Worklist);</div>
<div class="line"><a name="l07153"></a><span class="lineno"> 7153</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l07154"></a><span class="lineno"> 7154</span>&#160;  }</div>
<div class="line"><a name="l07155"></a><span class="lineno"> 7155</span>&#160; </div>
<div class="line"><a name="l07156"></a><span class="lineno"> 7156</span>&#160;  <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;Src = Inst.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(1);</div>
<div class="line"><a name="l07157"></a><span class="lineno"> 7157</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> TmpReg = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5c77792a06583e0fe7a0379ad94a2809">createVirtualRegister</a>(&amp;AMDGPU::VGPR_32RegClass);</div>
<div class="line"><a name="l07158"></a><span class="lineno"> 7158</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> ResultReg = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5c77792a06583e0fe7a0379ad94a2809">createVirtualRegister</a>(&amp;AMDGPU::VReg_64RegClass);</div>
<div class="line"><a name="l07159"></a><span class="lineno"> 7159</span>&#160; </div>
<div class="line"><a name="l07160"></a><span class="lineno"> 7160</span>&#160;  <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, MII, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::V_ASHRREV_I32_e64), TmpReg)</div>
<div class="line"><a name="l07161"></a><span class="lineno"> 7161</span>&#160;    .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(31)</div>
<div class="line"><a name="l07162"></a><span class="lineno"> 7162</span>&#160;    .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(Src.getReg(), 0, AMDGPU::sub0);</div>
<div class="line"><a name="l07163"></a><span class="lineno"> 7163</span>&#160; </div>
<div class="line"><a name="l07164"></a><span class="lineno"> 7164</span>&#160;  <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, MII, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(TargetOpcode::REG_SEQUENCE), ResultReg)</div>
<div class="line"><a name="l07165"></a><span class="lineno"> 7165</span>&#160;    .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(Src.getReg(), 0, AMDGPU::sub0)</div>
<div class="line"><a name="l07166"></a><span class="lineno"> 7166</span>&#160;    .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(AMDGPU::sub0)</div>
<div class="line"><a name="l07167"></a><span class="lineno"> 7167</span>&#160;    .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(TmpReg)</div>
<div class="line"><a name="l07168"></a><span class="lineno"> 7168</span>&#160;    .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(AMDGPU::sub1);</div>
<div class="line"><a name="l07169"></a><span class="lineno"> 7169</span>&#160; </div>
<div class="line"><a name="l07170"></a><span class="lineno"> 7170</span>&#160;  <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#af16c39ee36e4633f821b6820f8bd52ef">replaceRegWith</a>(Dest.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>(), ResultReg);</div>
<div class="line"><a name="l07171"></a><span class="lineno"> 7171</span>&#160;  addUsersToMoveToVALUWorklist(ResultReg, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, Worklist);</div>
<div class="line"><a name="l07172"></a><span class="lineno"> 7172</span>&#160;}</div>
<div class="line"><a name="l07173"></a><span class="lineno"> 7173</span>&#160; </div>
<div class="line"><a name="l07174"></a><span class="lineno"> 7174</span>&#160;<span class="keywordtype">void</span> SIInstrInfo::addUsersToMoveToVALUWorklist(</div>
<div class="line"><a name="l07175"></a><span class="lineno"> 7175</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> DstReg,</div>
<div class="line"><a name="l07176"></a><span class="lineno"> 7176</span>&#160;  <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>,</div>
<div class="line"><a name="l07177"></a><span class="lineno"> 7177</span>&#160;  SetVectorType &amp;Worklist)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l07178"></a><span class="lineno"> 7178</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MachineRegisterInfo_1_1defusechain__iterator.html">MachineRegisterInfo::use_iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#ab87a00eb296cb02039f5a5580a54efd1">use_begin</a>(DstReg),</div>
<div class="line"><a name="l07179"></a><span class="lineno"> 7179</span>&#160;         <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#ac8347c6938efe4d9a4426b92ef57851e">use_end</a>(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>;) {</div>
<div class="line"><a name="l07180"></a><span class="lineno"> 7180</span>&#160;    <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#a6cf2f8996b1e9aaf2d7a435aaa62382f">UseMI</a> = *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getParent();</div>
<div class="line"><a name="l07181"></a><span class="lineno"> 7181</span>&#160; </div>
<div class="line"><a name="l07182"></a><span class="lineno"> 7182</span>&#160;    <span class="keywordtype">unsigned</span> OpNo = 0;</div>
<div class="line"><a name="l07183"></a><span class="lineno"> 7183</span>&#160; </div>
<div class="line"><a name="l07184"></a><span class="lineno"> 7184</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#a6cf2f8996b1e9aaf2d7a435aaa62382f">UseMI</a>.getOpcode()) {</div>
<div class="line"><a name="l07185"></a><span class="lineno"> 7185</span>&#160;    <span class="keywordflow">case</span> AMDGPU::COPY:</div>
<div class="line"><a name="l07186"></a><span class="lineno"> 7186</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1SIInstrFlags.html#ac8376ab01e1f2eb75e242eb464d3992dae51b91ec89e9fd6502c3339d1360c147">AMDGPU::WQM</a>:</div>
<div class="line"><a name="l07187"></a><span class="lineno"> 7187</span>&#160;    <span class="keywordflow">case</span> AMDGPU::SOFT_WQM:</div>
<div class="line"><a name="l07188"></a><span class="lineno"> 7188</span>&#160;    <span class="keywordflow">case</span> AMDGPU::STRICT_WWM:</div>
<div class="line"><a name="l07189"></a><span class="lineno"> 7189</span>&#160;    <span class="keywordflow">case</span> AMDGPU::STRICT_WQM:</div>
<div class="line"><a name="l07190"></a><span class="lineno"> 7190</span>&#160;    <span class="keywordflow">case</span> AMDGPU::REG_SEQUENCE:</div>
<div class="line"><a name="l07191"></a><span class="lineno"> 7191</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="AMDGPURewriteUndefForPHI_8cpp.html#a2e83cb1bc3f5e8986cbd14575755a134">AMDGPU::PHI</a>:</div>
<div class="line"><a name="l07192"></a><span class="lineno"> 7192</span>&#160;    <span class="keywordflow">case</span> AMDGPU::INSERT_SUBREG:</div>
<div class="line"><a name="l07193"></a><span class="lineno"> 7193</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l07194"></a><span class="lineno"> 7194</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l07195"></a><span class="lineno"> 7195</span>&#160;      OpNo = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getOperandNo();</div>
<div class="line"><a name="l07196"></a><span class="lineno"> 7196</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l07197"></a><span class="lineno"> 7197</span>&#160;    }</div>
<div class="line"><a name="l07198"></a><span class="lineno"> 7198</span>&#160; </div>
<div class="line"><a name="l07199"></a><span class="lineno"> 7199</span>&#160;    <span class="keywordflow">if</span> (!RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#a2c4185689ad93fedfa57db7bfeb8ddd3">hasVectorRegisters</a>(<a class="code" href="classllvm_1_1SIInstrInfo.html#a7d38ae4f1dfa5ec71b0f78fab996425b">getOpRegClass</a>(<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#a6cf2f8996b1e9aaf2d7a435aaa62382f">UseMI</a>, OpNo))) {</div>
<div class="line"><a name="l07200"></a><span class="lineno"> 7200</span>&#160;      Worklist.insert(&amp;<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#a6cf2f8996b1e9aaf2d7a435aaa62382f">UseMI</a>);</div>
<div class="line"><a name="l07201"></a><span class="lineno"> 7201</span>&#160; </div>
<div class="line"><a name="l07202"></a><span class="lineno"> 7202</span>&#160;      <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l07203"></a><span class="lineno"> 7203</span>&#160;        ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div>
<div class="line"><a name="l07204"></a><span class="lineno"> 7204</span>&#160;      } <span class="keywordflow">while</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> &amp;&amp; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getParent() == &amp;<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#a6cf2f8996b1e9aaf2d7a435aaa62382f">UseMI</a>);</div>
<div class="line"><a name="l07205"></a><span class="lineno"> 7205</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l07206"></a><span class="lineno"> 7206</span>&#160;      ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div>
<div class="line"><a name="l07207"></a><span class="lineno"> 7207</span>&#160;    }</div>
<div class="line"><a name="l07208"></a><span class="lineno"> 7208</span>&#160;  }</div>
<div class="line"><a name="l07209"></a><span class="lineno"> 7209</span>&#160;}</div>
<div class="line"><a name="l07210"></a><span class="lineno"> 7210</span>&#160; </div>
<div class="line"><a name="l07211"></a><span class="lineno"> 7211</span>&#160;<span class="keywordtype">void</span> SIInstrInfo::movePackToVALU(SetVectorType &amp;Worklist,</div>
<div class="line"><a name="l07212"></a><span class="lineno"> 7212</span>&#160;                                 <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>,</div>
<div class="line"><a name="l07213"></a><span class="lineno"> 7213</span>&#160;                                 <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;Inst)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l07214"></a><span class="lineno"> 7214</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> ResultReg = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5c77792a06583e0fe7a0379ad94a2809">createVirtualRegister</a>(&amp;AMDGPU::VGPR_32RegClass);</div>
<div class="line"><a name="l07215"></a><span class="lineno"> 7215</span>&#160;  <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a> = Inst.<a class="code" href="classllvm_1_1MachineInstr.html#a002fd916e7206e01d512eeb06d405cf0">getParent</a>();</div>
<div class="line"><a name="l07216"></a><span class="lineno"> 7216</span>&#160;  <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;Src0 = Inst.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(1);</div>
<div class="line"><a name="l07217"></a><span class="lineno"> 7217</span>&#160;  <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;Src1 = Inst.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(2);</div>
<div class="line"><a name="l07218"></a><span class="lineno"> 7218</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a> = Inst.<a class="code" href="classllvm_1_1MachineInstr.html#ae8ff2acea4fe63e48e8fc6cf0620ff78">getDebugLoc</a>();</div>
<div class="line"><a name="l07219"></a><span class="lineno"> 7219</span>&#160; </div>
<div class="line"><a name="l07220"></a><span class="lineno"> 7220</span>&#160;  <span class="keywordflow">switch</span> (Inst.<a class="code" href="classllvm_1_1MachineInstr.html#a0363204b5fbab08a46f5a7cd7f376f78">getOpcode</a>()) {</div>
<div class="line"><a name="l07221"></a><span class="lineno"> 7221</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_PACK_LL_B32_B16: {</div>
<div class="line"><a name="l07222"></a><span class="lineno"> 7222</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> ImmReg = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5c77792a06583e0fe7a0379ad94a2809">createVirtualRegister</a>(&amp;AMDGPU::VGPR_32RegClass);</div>
<div class="line"><a name="l07223"></a><span class="lineno"> 7223</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> TmpReg = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5c77792a06583e0fe7a0379ad94a2809">createVirtualRegister</a>(&amp;AMDGPU::VGPR_32RegClass);</div>
<div class="line"><a name="l07224"></a><span class="lineno"> 7224</span>&#160; </div>
<div class="line"><a name="l07225"></a><span class="lineno"> 7225</span>&#160;    <span class="comment">// FIXME: Can do a lot better if we know the high bits of src0 or src1 are</span></div>
<div class="line"><a name="l07226"></a><span class="lineno"> 7226</span>&#160;    <span class="comment">// 0.</span></div>
<div class="line"><a name="l07227"></a><span class="lineno"> 7227</span>&#160;    <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(*<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, Inst, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::V_MOV_B32_e32), ImmReg)</div>
<div class="line"><a name="l07228"></a><span class="lineno"> 7228</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(0xffff);</div>
<div class="line"><a name="l07229"></a><span class="lineno"> 7229</span>&#160; </div>
<div class="line"><a name="l07230"></a><span class="lineno"> 7230</span>&#160;    <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(*<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, Inst, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::V_AND_B32_e64), TmpReg)</div>
<div class="line"><a name="l07231"></a><span class="lineno"> 7231</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(ImmReg, <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da9ddde91ef09476d28a088fe57f8e2921">RegState::Kill</a>)</div>
<div class="line"><a name="l07232"></a><span class="lineno"> 7232</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a1ac8d27532cfd1d1f032ecbff2ba3611">add</a>(Src0);</div>
<div class="line"><a name="l07233"></a><span class="lineno"> 7233</span>&#160; </div>
<div class="line"><a name="l07234"></a><span class="lineno"> 7234</span>&#160;    <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(*<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, Inst, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::V_LSHL_OR_B32_e64), ResultReg)</div>
<div class="line"><a name="l07235"></a><span class="lineno"> 7235</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a1ac8d27532cfd1d1f032ecbff2ba3611">add</a>(Src1)</div>
<div class="line"><a name="l07236"></a><span class="lineno"> 7236</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(16)</div>
<div class="line"><a name="l07237"></a><span class="lineno"> 7237</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(TmpReg, <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da9ddde91ef09476d28a088fe57f8e2921">RegState::Kill</a>);</div>
<div class="line"><a name="l07238"></a><span class="lineno"> 7238</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l07239"></a><span class="lineno"> 7239</span>&#160;  }</div>
<div class="line"><a name="l07240"></a><span class="lineno"> 7240</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_PACK_LH_B32_B16: {</div>
<div class="line"><a name="l07241"></a><span class="lineno"> 7241</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> ImmReg = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5c77792a06583e0fe7a0379ad94a2809">createVirtualRegister</a>(&amp;AMDGPU::VGPR_32RegClass);</div>
<div class="line"><a name="l07242"></a><span class="lineno"> 7242</span>&#160;    <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(*<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, Inst, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::V_MOV_B32_e32), ImmReg)</div>
<div class="line"><a name="l07243"></a><span class="lineno"> 7243</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(0xffff);</div>
<div class="line"><a name="l07244"></a><span class="lineno"> 7244</span>&#160;    <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(*<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, Inst, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::V_BFI_B32_e64), ResultReg)</div>
<div class="line"><a name="l07245"></a><span class="lineno"> 7245</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(ImmReg, <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da9ddde91ef09476d28a088fe57f8e2921">RegState::Kill</a>)</div>
<div class="line"><a name="l07246"></a><span class="lineno"> 7246</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a1ac8d27532cfd1d1f032ecbff2ba3611">add</a>(Src0)</div>
<div class="line"><a name="l07247"></a><span class="lineno"> 7247</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a1ac8d27532cfd1d1f032ecbff2ba3611">add</a>(Src1);</div>
<div class="line"><a name="l07248"></a><span class="lineno"> 7248</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l07249"></a><span class="lineno"> 7249</span>&#160;  }</div>
<div class="line"><a name="l07250"></a><span class="lineno"> 7250</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_PACK_HL_B32_B16: {</div>
<div class="line"><a name="l07251"></a><span class="lineno"> 7251</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> TmpReg = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5c77792a06583e0fe7a0379ad94a2809">createVirtualRegister</a>(&amp;AMDGPU::VGPR_32RegClass);</div>
<div class="line"><a name="l07252"></a><span class="lineno"> 7252</span>&#160;    <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(*<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, Inst, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::V_LSHRREV_B32_e64), TmpReg)</div>
<div class="line"><a name="l07253"></a><span class="lineno"> 7253</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(16)</div>
<div class="line"><a name="l07254"></a><span class="lineno"> 7254</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a1ac8d27532cfd1d1f032ecbff2ba3611">add</a>(Src0);</div>
<div class="line"><a name="l07255"></a><span class="lineno"> 7255</span>&#160;    <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(*<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, Inst, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::V_LSHL_OR_B32_e64), ResultReg)</div>
<div class="line"><a name="l07256"></a><span class="lineno"> 7256</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a1ac8d27532cfd1d1f032ecbff2ba3611">add</a>(Src1)</div>
<div class="line"><a name="l07257"></a><span class="lineno"> 7257</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(16)</div>
<div class="line"><a name="l07258"></a><span class="lineno"> 7258</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(TmpReg, <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da9ddde91ef09476d28a088fe57f8e2921">RegState::Kill</a>);</div>
<div class="line"><a name="l07259"></a><span class="lineno"> 7259</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l07260"></a><span class="lineno"> 7260</span>&#160;  }</div>
<div class="line"><a name="l07261"></a><span class="lineno"> 7261</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_PACK_HH_B32_B16: {</div>
<div class="line"><a name="l07262"></a><span class="lineno"> 7262</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> ImmReg = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5c77792a06583e0fe7a0379ad94a2809">createVirtualRegister</a>(&amp;AMDGPU::VGPR_32RegClass);</div>
<div class="line"><a name="l07263"></a><span class="lineno"> 7263</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> TmpReg = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5c77792a06583e0fe7a0379ad94a2809">createVirtualRegister</a>(&amp;AMDGPU::VGPR_32RegClass);</div>
<div class="line"><a name="l07264"></a><span class="lineno"> 7264</span>&#160;    <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(*<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, Inst, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::V_LSHRREV_B32_e64), TmpReg)</div>
<div class="line"><a name="l07265"></a><span class="lineno"> 7265</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(16)</div>
<div class="line"><a name="l07266"></a><span class="lineno"> 7266</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a1ac8d27532cfd1d1f032ecbff2ba3611">add</a>(Src0);</div>
<div class="line"><a name="l07267"></a><span class="lineno"> 7267</span>&#160;    <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(*<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, Inst, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::V_MOV_B32_e32), ImmReg)</div>
<div class="line"><a name="l07268"></a><span class="lineno"> 7268</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(0xffff0000);</div>
<div class="line"><a name="l07269"></a><span class="lineno"> 7269</span>&#160;    <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(*<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, Inst, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::V_AND_OR_B32_e64), ResultReg)</div>
<div class="line"><a name="l07270"></a><span class="lineno"> 7270</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a1ac8d27532cfd1d1f032ecbff2ba3611">add</a>(Src1)</div>
<div class="line"><a name="l07271"></a><span class="lineno"> 7271</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(ImmReg, <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da9ddde91ef09476d28a088fe57f8e2921">RegState::Kill</a>)</div>
<div class="line"><a name="l07272"></a><span class="lineno"> 7272</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(TmpReg, <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da9ddde91ef09476d28a088fe57f8e2921">RegState::Kill</a>);</div>
<div class="line"><a name="l07273"></a><span class="lineno"> 7273</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l07274"></a><span class="lineno"> 7274</span>&#160;  }</div>
<div class="line"><a name="l07275"></a><span class="lineno"> 7275</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l07276"></a><span class="lineno"> 7276</span>&#160;    <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;unhandled s_pack_* instruction&quot;</span>);</div>
<div class="line"><a name="l07277"></a><span class="lineno"> 7277</span>&#160;  }</div>
<div class="line"><a name="l07278"></a><span class="lineno"> 7278</span>&#160; </div>
<div class="line"><a name="l07279"></a><span class="lineno"> 7279</span>&#160;  <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;Dest = Inst.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(0);</div>
<div class="line"><a name="l07280"></a><span class="lineno"> 7280</span>&#160;  <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#af16c39ee36e4633f821b6820f8bd52ef">replaceRegWith</a>(Dest.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>(), ResultReg);</div>
<div class="line"><a name="l07281"></a><span class="lineno"> 7281</span>&#160;  addUsersToMoveToVALUWorklist(ResultReg, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, Worklist);</div>
<div class="line"><a name="l07282"></a><span class="lineno"> 7282</span>&#160;}</div>
<div class="line"><a name="l07283"></a><span class="lineno"> 7283</span>&#160; </div>
<div class="line"><a name="l07284"></a><span class="lineno"> 7284</span>&#160;<span class="keywordtype">void</span> SIInstrInfo::addSCCDefUsersToVALUWorklist(<a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>,</div>
<div class="line"><a name="l07285"></a><span class="lineno"> 7285</span>&#160;                                               <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;SCCDefInst,</div>
<div class="line"><a name="l07286"></a><span class="lineno"> 7286</span>&#160;                                               SetVectorType &amp;Worklist,</div>
<div class="line"><a name="l07287"></a><span class="lineno"> 7287</span>&#160;                                               <a class="code" href="classllvm_1_1Register.html">Register</a> NewCond)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l07288"></a><span class="lineno"> 7288</span>&#160; </div>
<div class="line"><a name="l07289"></a><span class="lineno"> 7289</span>&#160;  <span class="comment">// Ensure that def inst defines SCC, which is still live.</span></div>
<div class="line"><a name="l07290"></a><span class="lineno"> 7290</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.isReg() &amp;&amp; <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getReg() == <a class="code" href="namespacellvm_1_1AMDGPU_1_1CPol.html#a7d79a4b341da8ac60b91c1f4b1ea42c4aca1659af59093b2b14c2f8aad41e8e2a">AMDGPU::SCC</a> &amp;&amp; <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.isDef() &amp;&amp;</div>
<div class="line"><a name="l07291"></a><span class="lineno"> 7291</span>&#160;         !<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.isDead() &amp;&amp; <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getParent() == &amp;SCCDefInst);</div>
<div class="line"><a name="l07292"></a><span class="lineno"> 7292</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;MachineInstr *, 4&gt;</a> CopyToDelete;</div>
<div class="line"><a name="l07293"></a><span class="lineno"> 7293</span>&#160;  <span class="comment">// This assumes that all the users of SCC are in the same block</span></div>
<div class="line"><a name="l07294"></a><span class="lineno"> 7294</span>&#160;  <span class="comment">// as the SCC def.</span></div>
<div class="line"><a name="l07295"></a><span class="lineno"> 7295</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a> : <span class="comment">// Skip the def inst itself.</span></div>
<div class="line"><a name="l07296"></a><span class="lineno"> 7296</span>&#160;       <a class="code" href="namespacellvm.html#ad1a91b49e0c092818a0b82f6cc130a1b">make_range</a>(std::next(<a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::iterator</a>(SCCDefInst)),</div>
<div class="line"><a name="l07297"></a><span class="lineno"> 7297</span>&#160;                  SCCDefInst.<a class="code" href="classllvm_1_1MachineInstr.html#a002fd916e7206e01d512eeb06d405cf0">getParent</a>()-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">end</a>())) {</div>
<div class="line"><a name="l07298"></a><span class="lineno"> 7298</span>&#160;    <span class="comment">// Check if SCC is used first.</span></div>
<div class="line"><a name="l07299"></a><span class="lineno"> 7299</span>&#160;    <span class="keywordtype">int</span> SCCIdx = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.findRegisterUseOperandIdx(<a class="code" href="namespacellvm_1_1AMDGPU_1_1CPol.html#a7d79a4b341da8ac60b91c1f4b1ea42c4aca1659af59093b2b14c2f8aad41e8e2a">AMDGPU::SCC</a>, <span class="keyword">false</span>, &amp;RI);</div>
<div class="line"><a name="l07300"></a><span class="lineno"> 7300</span>&#160;    <span class="keywordflow">if</span> (SCCIdx != -1) {</div>
<div class="line"><a name="l07301"></a><span class="lineno"> 7301</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.isCopy()) {</div>
<div class="line"><a name="l07302"></a><span class="lineno"> 7302</span>&#160;        <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a> = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getParent()-&gt;getParent()-&gt;getRegInfo();</div>
<div class="line"><a name="l07303"></a><span class="lineno"> 7303</span>&#160;        <a class="code" href="classllvm_1_1Register.html">Register</a> DestReg = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(0).getReg();</div>
<div class="line"><a name="l07304"></a><span class="lineno"> 7304</span>&#160; </div>
<div class="line"><a name="l07305"></a><span class="lineno"> 7305</span>&#160;        <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#af16c39ee36e4633f821b6820f8bd52ef">replaceRegWith</a>(DestReg, NewCond);</div>
<div class="line"><a name="l07306"></a><span class="lineno"> 7306</span>&#160;        CopyToDelete.push_back(&amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l07307"></a><span class="lineno"> 7307</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l07308"></a><span class="lineno"> 7308</span>&#160; </div>
<div class="line"><a name="l07309"></a><span class="lineno"> 7309</span>&#160;        <span class="keywordflow">if</span> (NewCond.<a class="code" href="classllvm_1_1Register.html#a4a6966b99e305bd6f01fb17c645ae3da">isValid</a>())</div>
<div class="line"><a name="l07310"></a><span class="lineno"> 7310</span>&#160;          <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(SCCIdx).setReg(NewCond);</div>
<div class="line"><a name="l07311"></a><span class="lineno"> 7311</span>&#160; </div>
<div class="line"><a name="l07312"></a><span class="lineno"> 7312</span>&#160;        Worklist.insert(&amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l07313"></a><span class="lineno"> 7313</span>&#160;      }</div>
<div class="line"><a name="l07314"></a><span class="lineno"> 7314</span>&#160;    }</div>
<div class="line"><a name="l07315"></a><span class="lineno"> 7315</span>&#160;    <span class="comment">// Exit if we find another SCC def.</span></div>
<div class="line"><a name="l07316"></a><span class="lineno"> 7316</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.findRegisterDefOperandIdx(<a class="code" href="namespacellvm_1_1AMDGPU_1_1CPol.html#a7d79a4b341da8ac60b91c1f4b1ea42c4aca1659af59093b2b14c2f8aad41e8e2a">AMDGPU::SCC</a>, <span class="keyword">false</span>, <span class="keyword">false</span>, &amp;RI) != -1)</div>
<div class="line"><a name="l07317"></a><span class="lineno"> 7317</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l07318"></a><span class="lineno"> 7318</span>&#160;  }</div>
<div class="line"><a name="l07319"></a><span class="lineno"> 7319</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;Copy : CopyToDelete)</div>
<div class="line"><a name="l07320"></a><span class="lineno"> 7320</span>&#160;    <a class="code" href="namespacellvm_1_1codeview.html#ad37302702bbcf0028581d2655698c27aa5fb63579fc981698f97d55bfecb213ea">Copy</a>-&gt;eraseFromParent();</div>
<div class="line"><a name="l07321"></a><span class="lineno"> 7321</span>&#160;}</div>
<div class="line"><a name="l07322"></a><span class="lineno"> 7322</span>&#160; </div>
<div class="line"><a name="l07323"></a><span class="lineno"> 7323</span>&#160;<span class="comment">// Instructions that use SCC may be converted to VALU instructions. When that</span></div>
<div class="line"><a name="l07324"></a><span class="lineno"> 7324</span>&#160;<span class="comment">// happens, the SCC register is changed to VCC_LO. The instruction that defines</span></div>
<div class="line"><a name="l07325"></a><span class="lineno"> 7325</span>&#160;<span class="comment">// SCC must be changed to an instruction that defines VCC. This function makes</span></div>
<div class="line"><a name="l07326"></a><span class="lineno"> 7326</span>&#160;<span class="comment">// sure that the instruction that defines SCC is added to the moveToVALU</span></div>
<div class="line"><a name="l07327"></a><span class="lineno"> 7327</span>&#160;<span class="comment">// worklist.</span></div>
<div class="line"><a name="l07328"></a><span class="lineno"> 7328</span>&#160;<span class="keywordtype">void</span> SIInstrInfo::addSCCDefsToVALUWorklist(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *SCCUseInst,</div>
<div class="line"><a name="l07329"></a><span class="lineno"> 7329</span>&#160;                                           SetVectorType &amp;Worklist)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l07330"></a><span class="lineno"> 7330</span>&#160;  <span class="comment">// Look for a preceding instruction that either defines VCC or SCC. If VCC</span></div>
<div class="line"><a name="l07331"></a><span class="lineno"> 7331</span>&#160;  <span class="comment">// then there is nothing to do because the defining instruction has been</span></div>
<div class="line"><a name="l07332"></a><span class="lineno"> 7332</span>&#160;  <span class="comment">// converted to a VALU already. If SCC then that instruction needs to be</span></div>
<div class="line"><a name="l07333"></a><span class="lineno"> 7333</span>&#160;  <span class="comment">// converted to a VALU.</span></div>
<div class="line"><a name="l07334"></a><span class="lineno"> 7334</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a> :</div>
<div class="line"><a name="l07335"></a><span class="lineno"> 7335</span>&#160;       <a class="code" href="namespacellvm.html#ad1a91b49e0c092818a0b82f6cc130a1b">make_range</a>(std::next(<a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::reverse_iterator</a>(SCCUseInst)),</div>
<div class="line"><a name="l07336"></a><span class="lineno"> 7336</span>&#160;                  SCCUseInst-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a002fd916e7206e01d512eeb06d405cf0">getParent</a>()-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#a2a25c462b91ac5da41f4ab7edc32b650">rend</a>())) {</div>
<div class="line"><a name="l07337"></a><span class="lineno"> 7337</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.modifiesRegister(AMDGPU::VCC, &amp;RI))</div>
<div class="line"><a name="l07338"></a><span class="lineno"> 7338</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l07339"></a><span class="lineno"> 7339</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.definesRegister(<a class="code" href="namespacellvm_1_1AMDGPU_1_1CPol.html#a7d79a4b341da8ac60b91c1f4b1ea42c4aca1659af59093b2b14c2f8aad41e8e2a">AMDGPU::SCC</a>, &amp;RI)) {</div>
<div class="line"><a name="l07340"></a><span class="lineno"> 7340</span>&#160;      Worklist.insert(&amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l07341"></a><span class="lineno"> 7341</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l07342"></a><span class="lineno"> 7342</span>&#160;    }</div>
<div class="line"><a name="l07343"></a><span class="lineno"> 7343</span>&#160;  }</div>
<div class="line"><a name="l07344"></a><span class="lineno"> 7344</span>&#160;}</div>
<div class="line"><a name="l07345"></a><span class="lineno"> 7345</span>&#160; </div>
<div class="line"><a name="l07346"></a><span class="lineno"> 7346</span>&#160;<span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *SIInstrInfo::getDestEquivalentVGPRClass(</div>
<div class="line"><a name="l07347"></a><span class="lineno"> 7347</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;Inst)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l07348"></a><span class="lineno"> 7348</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *NewDstRC = <a class="code" href="classllvm_1_1SIInstrInfo.html#a7d38ae4f1dfa5ec71b0f78fab996425b">getOpRegClass</a>(Inst, 0);</div>
<div class="line"><a name="l07349"></a><span class="lineno"> 7349</span>&#160; </div>
<div class="line"><a name="l07350"></a><span class="lineno"> 7350</span>&#160;  <span class="keywordflow">switch</span> (Inst.<a class="code" href="classllvm_1_1MachineInstr.html#a0363204b5fbab08a46f5a7cd7f376f78">getOpcode</a>()) {</div>
<div class="line"><a name="l07351"></a><span class="lineno"> 7351</span>&#160;  <span class="comment">// For target instructions, getOpRegClass just returns the virtual register</span></div>
<div class="line"><a name="l07352"></a><span class="lineno"> 7352</span>&#160;  <span class="comment">// class associated with the operand, so we need to find an equivalent VGPR</span></div>
<div class="line"><a name="l07353"></a><span class="lineno"> 7353</span>&#160;  <span class="comment">// register class in order to move the instruction to the VALU.</span></div>
<div class="line"><a name="l07354"></a><span class="lineno"> 7354</span>&#160;  <span class="keywordflow">case</span> AMDGPU::COPY:</div>
<div class="line"><a name="l07355"></a><span class="lineno"> 7355</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="AMDGPURewriteUndefForPHI_8cpp.html#a2e83cb1bc3f5e8986cbd14575755a134">AMDGPU::PHI</a>:</div>
<div class="line"><a name="l07356"></a><span class="lineno"> 7356</span>&#160;  <span class="keywordflow">case</span> AMDGPU::REG_SEQUENCE:</div>
<div class="line"><a name="l07357"></a><span class="lineno"> 7357</span>&#160;  <span class="keywordflow">case</span> AMDGPU::INSERT_SUBREG:</div>
<div class="line"><a name="l07358"></a><span class="lineno"> 7358</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1SIInstrFlags.html#ac8376ab01e1f2eb75e242eb464d3992dae51b91ec89e9fd6502c3339d1360c147">AMDGPU::WQM</a>:</div>
<div class="line"><a name="l07359"></a><span class="lineno"> 7359</span>&#160;  <span class="keywordflow">case</span> AMDGPU::SOFT_WQM:</div>
<div class="line"><a name="l07360"></a><span class="lineno"> 7360</span>&#160;  <span class="keywordflow">case</span> AMDGPU::STRICT_WWM:</div>
<div class="line"><a name="l07361"></a><span class="lineno"> 7361</span>&#160;  <span class="keywordflow">case</span> AMDGPU::STRICT_WQM: {</div>
<div class="line"><a name="l07362"></a><span class="lineno"> 7362</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *SrcRC = <a class="code" href="classllvm_1_1SIInstrInfo.html#a7d38ae4f1dfa5ec71b0f78fab996425b">getOpRegClass</a>(Inst, 1);</div>
<div class="line"><a name="l07363"></a><span class="lineno"> 7363</span>&#160;    <span class="keywordflow">if</span> (RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#afb15c9a705b04d0a7709e0c0f8af33fa">isAGPRClass</a>(SrcRC)) {</div>
<div class="line"><a name="l07364"></a><span class="lineno"> 7364</span>&#160;      <span class="keywordflow">if</span> (RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#afb15c9a705b04d0a7709e0c0f8af33fa">isAGPRClass</a>(NewDstRC))</div>
<div class="line"><a name="l07365"></a><span class="lineno"> 7365</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l07366"></a><span class="lineno"> 7366</span>&#160; </div>
<div class="line"><a name="l07367"></a><span class="lineno"> 7367</span>&#160;      <span class="keywordflow">switch</span> (Inst.<a class="code" href="classllvm_1_1MachineInstr.html#a0363204b5fbab08a46f5a7cd7f376f78">getOpcode</a>()) {</div>
<div class="line"><a name="l07368"></a><span class="lineno"> 7368</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="AMDGPURewriteUndefForPHI_8cpp.html#a2e83cb1bc3f5e8986cbd14575755a134">AMDGPU::PHI</a>:</div>
<div class="line"><a name="l07369"></a><span class="lineno"> 7369</span>&#160;      <span class="keywordflow">case</span> AMDGPU::REG_SEQUENCE:</div>
<div class="line"><a name="l07370"></a><span class="lineno"> 7370</span>&#160;      <span class="keywordflow">case</span> AMDGPU::INSERT_SUBREG:</div>
<div class="line"><a name="l07371"></a><span class="lineno"> 7371</span>&#160;        NewDstRC = RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#a7c0bb4b4e2204e019541b6cd98bd9792">getEquivalentAGPRClass</a>(NewDstRC);</div>
<div class="line"><a name="l07372"></a><span class="lineno"> 7372</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l07373"></a><span class="lineno"> 7373</span>&#160;      <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l07374"></a><span class="lineno"> 7374</span>&#160;        NewDstRC = RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#a2fcc4d3294381da29adb855c5f56c0d5">getEquivalentVGPRClass</a>(NewDstRC);</div>
<div class="line"><a name="l07375"></a><span class="lineno"> 7375</span>&#160;      }</div>
<div class="line"><a name="l07376"></a><span class="lineno"> 7376</span>&#160; </div>
<div class="line"><a name="l07377"></a><span class="lineno"> 7377</span>&#160;      <span class="keywordflow">if</span> (!NewDstRC)</div>
<div class="line"><a name="l07378"></a><span class="lineno"> 7378</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l07379"></a><span class="lineno"> 7379</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l07380"></a><span class="lineno"> 7380</span>&#160;      <span class="keywordflow">if</span> (RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#a929252209ec1fab87cd43439ed3365c7">isVGPRClass</a>(NewDstRC) || NewDstRC == &amp;AMDGPU::VReg_1RegClass)</div>
<div class="line"><a name="l07381"></a><span class="lineno"> 7381</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l07382"></a><span class="lineno"> 7382</span>&#160; </div>
<div class="line"><a name="l07383"></a><span class="lineno"> 7383</span>&#160;      NewDstRC = RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#a2fcc4d3294381da29adb855c5f56c0d5">getEquivalentVGPRClass</a>(NewDstRC);</div>
<div class="line"><a name="l07384"></a><span class="lineno"> 7384</span>&#160;      <span class="keywordflow">if</span> (!NewDstRC)</div>
<div class="line"><a name="l07385"></a><span class="lineno"> 7385</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l07386"></a><span class="lineno"> 7386</span>&#160;    }</div>
<div class="line"><a name="l07387"></a><span class="lineno"> 7387</span>&#160; </div>
<div class="line"><a name="l07388"></a><span class="lineno"> 7388</span>&#160;    <span class="keywordflow">return</span> NewDstRC;</div>
<div class="line"><a name="l07389"></a><span class="lineno"> 7389</span>&#160;  }</div>
<div class="line"><a name="l07390"></a><span class="lineno"> 7390</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l07391"></a><span class="lineno"> 7391</span>&#160;    <span class="keywordflow">return</span> NewDstRC;</div>
<div class="line"><a name="l07392"></a><span class="lineno"> 7392</span>&#160;  }</div>
<div class="line"><a name="l07393"></a><span class="lineno"> 7393</span>&#160;}</div>
<div class="line"><a name="l07394"></a><span class="lineno"> 7394</span>&#160; </div>
<div class="line"><a name="l07395"></a><span class="lineno"> 7395</span>&#160;<span class="comment">// Find the one SGPR operand we are allowed to use.</span></div>
<div class="line"><a name="l07396"></a><span class="lineno"> 7396</span>&#160;<a class="code" href="classllvm_1_1Register.html">Register</a> SIInstrInfo::findUsedSGPR(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>,</div>
<div class="line"><a name="l07397"></a><span class="lineno"> 7397</span>&#160;                                   <span class="keywordtype">int</span> OpIndices[3])<span class="keyword"> const </span>{</div>
<div class="line"><a name="l07398"></a><span class="lineno"> 7398</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCInstrDesc.html">MCInstrDesc</a> &amp;Desc = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getDesc();</div>
<div class="line"><a name="l07399"></a><span class="lineno"> 7399</span>&#160; </div>
<div class="line"><a name="l07400"></a><span class="lineno"> 7400</span>&#160;  <span class="comment">// Find the one SGPR operand we are allowed to use.</span></div>
<div class="line"><a name="l07401"></a><span class="lineno"> 7401</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l07402"></a><span class="lineno"> 7402</span>&#160;  <span class="comment">// First we need to consider the instruction&#39;s operand requirements before</span></div>
<div class="line"><a name="l07403"></a><span class="lineno"> 7403</span>&#160;  <span class="comment">// legalizing. Some operands are required to be SGPRs, such as implicit uses</span></div>
<div class="line"><a name="l07404"></a><span class="lineno"> 7404</span>&#160;  <span class="comment">// of VCC, but we are still bound by the constant bus requirement to only use</span></div>
<div class="line"><a name="l07405"></a><span class="lineno"> 7405</span>&#160;  <span class="comment">// one.</span></div>
<div class="line"><a name="l07406"></a><span class="lineno"> 7406</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l07407"></a><span class="lineno"> 7407</span>&#160;  <span class="comment">// If the operand&#39;s class is an SGPR, we can never move it.</span></div>
<div class="line"><a name="l07408"></a><span class="lineno"> 7408</span>&#160; </div>
<div class="line"><a name="l07409"></a><span class="lineno"> 7409</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> SGPRReg = <a class="code" href="SIInstrInfo_8cpp.html#a81a328aa5781f7c744daa43c44df83c6">findImplicitSGPRRead</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l07410"></a><span class="lineno"> 7410</span>&#160;  <span class="keywordflow">if</span> (SGPRReg)</div>
<div class="line"><a name="l07411"></a><span class="lineno"> 7411</span>&#160;    <span class="keywordflow">return</span> SGPRReg;</div>
<div class="line"><a name="l07412"></a><span class="lineno"> 7412</span>&#160; </div>
<div class="line"><a name="l07413"></a><span class="lineno"> 7413</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> UsedSGPRs[3] = {<a class="code" href="classllvm_1_1Register.html">Register</a>()};</div>
<div class="line"><a name="l07414"></a><span class="lineno"> 7414</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a> = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getParent()-&gt;getParent()-&gt;getRegInfo();</div>
<div class="line"><a name="l07415"></a><span class="lineno"> 7415</span>&#160; </div>
<div class="line"><a name="l07416"></a><span class="lineno"> 7416</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 3; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l07417"></a><span class="lineno"> 7417</span>&#160;    <span class="keywordtype">int</span> Idx = OpIndices[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l07418"></a><span class="lineno"> 7418</span>&#160;    <span class="keywordflow">if</span> (Idx == -1)</div>
<div class="line"><a name="l07419"></a><span class="lineno"> 7419</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l07420"></a><span class="lineno"> 7420</span>&#160; </div>
<div class="line"><a name="l07421"></a><span class="lineno"> 7421</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;MO = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(Idx);</div>
<div class="line"><a name="l07422"></a><span class="lineno"> 7422</span>&#160;    <span class="keywordflow">if</span> (!MO.<a class="code" href="classllvm_1_1MachineOperand.html#a4c9594c955fec80c73ddd964b5efd554">isReg</a>())</div>
<div class="line"><a name="l07423"></a><span class="lineno"> 7423</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l07424"></a><span class="lineno"> 7424</span>&#160; </div>
<div class="line"><a name="l07425"></a><span class="lineno"> 7425</span>&#160;    <span class="comment">// Is this operand statically required to be an SGPR based on the operand</span></div>
<div class="line"><a name="l07426"></a><span class="lineno"> 7426</span>&#160;    <span class="comment">// constraints?</span></div>
<div class="line"><a name="l07427"></a><span class="lineno"> 7427</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *OpRC =</div>
<div class="line"><a name="l07428"></a><span class="lineno"> 7428</span>&#160;        RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#a0e2008041a23dfc43ff1e90b014a2936">getRegClass</a>(Desc.<a class="code" href="classllvm_1_1MCInstrDesc.html#a9491e6e3afc420c33cf508189bb12c3b">operands</a>()[Idx].RegClass);</div>
<div class="line"><a name="l07429"></a><span class="lineno"> 7429</span>&#160;    <span class="keywordtype">bool</span> IsRequiredSGPR = RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#af58d646af8dd60e4e514303dfa81de9c">isSGPRClass</a>(OpRC);</div>
<div class="line"><a name="l07430"></a><span class="lineno"> 7430</span>&#160;    <span class="keywordflow">if</span> (IsRequiredSGPR)</div>
<div class="line"><a name="l07431"></a><span class="lineno"> 7431</span>&#160;      <span class="keywordflow">return</span> MO.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>();</div>
<div class="line"><a name="l07432"></a><span class="lineno"> 7432</span>&#160; </div>
<div class="line"><a name="l07433"></a><span class="lineno"> 7433</span>&#160;    <span class="comment">// If this could be a VGPR or an SGPR, Check the dynamic register class.</span></div>
<div class="line"><a name="l07434"></a><span class="lineno"> 7434</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a> = MO.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>();</div>
<div class="line"><a name="l07435"></a><span class="lineno"> 7435</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *RegRC = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#aa363afffca4fc13a709673936b47fe33">getRegClass</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>);</div>
<div class="line"><a name="l07436"></a><span class="lineno"> 7436</span>&#160;    <span class="keywordflow">if</span> (RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#af58d646af8dd60e4e514303dfa81de9c">isSGPRClass</a>(RegRC))</div>
<div class="line"><a name="l07437"></a><span class="lineno"> 7437</span>&#160;      UsedSGPRs[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>;</div>
<div class="line"><a name="l07438"></a><span class="lineno"> 7438</span>&#160;  }</div>
<div class="line"><a name="l07439"></a><span class="lineno"> 7439</span>&#160; </div>
<div class="line"><a name="l07440"></a><span class="lineno"> 7440</span>&#160;  <span class="comment">// We don&#39;t have a required SGPR operand, so we have a bit more freedom in</span></div>
<div class="line"><a name="l07441"></a><span class="lineno"> 7441</span>&#160;  <span class="comment">// selecting operands to move.</span></div>
<div class="line"><a name="l07442"></a><span class="lineno"> 7442</span>&#160; </div>
<div class="line"><a name="l07443"></a><span class="lineno"> 7443</span>&#160;  <span class="comment">// Try to select the most used SGPR. If an SGPR is equal to one of the</span></div>
<div class="line"><a name="l07444"></a><span class="lineno"> 7444</span>&#160;  <span class="comment">// others, we choose that.</span></div>
<div class="line"><a name="l07445"></a><span class="lineno"> 7445</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l07446"></a><span class="lineno"> 7446</span>&#160;  <span class="comment">// e.g.</span></div>
<div class="line"><a name="l07447"></a><span class="lineno"> 7447</span>&#160;  <span class="comment">// V_FMA_F32 v0, s0, s0, s0 -&gt; No moves</span></div>
<div class="line"><a name="l07448"></a><span class="lineno"> 7448</span>&#160;  <span class="comment">// V_FMA_F32 v0, s0, s1, s0 -&gt; Move s1</span></div>
<div class="line"><a name="l07449"></a><span class="lineno"> 7449</span>&#160; </div>
<div class="line"><a name="l07450"></a><span class="lineno"> 7450</span>&#160;  <span class="comment">// TODO: If some of the operands are 64-bit SGPRs and some 32, we should</span></div>
<div class="line"><a name="l07451"></a><span class="lineno"> 7451</span>&#160;  <span class="comment">// prefer those.</span></div>
<div class="line"><a name="l07452"></a><span class="lineno"> 7452</span>&#160; </div>
<div class="line"><a name="l07453"></a><span class="lineno"> 7453</span>&#160;  <span class="keywordflow">if</span> (UsedSGPRs[0]) {</div>
<div class="line"><a name="l07454"></a><span class="lineno"> 7454</span>&#160;    <span class="keywordflow">if</span> (UsedSGPRs[0] == UsedSGPRs[1] || UsedSGPRs[0] == UsedSGPRs[2])</div>
<div class="line"><a name="l07455"></a><span class="lineno"> 7455</span>&#160;      SGPRReg = UsedSGPRs[0];</div>
<div class="line"><a name="l07456"></a><span class="lineno"> 7456</span>&#160;  }</div>
<div class="line"><a name="l07457"></a><span class="lineno"> 7457</span>&#160; </div>
<div class="line"><a name="l07458"></a><span class="lineno"> 7458</span>&#160;  <span class="keywordflow">if</span> (!SGPRReg &amp;&amp; UsedSGPRs[1]) {</div>
<div class="line"><a name="l07459"></a><span class="lineno"> 7459</span>&#160;    <span class="keywordflow">if</span> (UsedSGPRs[1] == UsedSGPRs[2])</div>
<div class="line"><a name="l07460"></a><span class="lineno"> 7460</span>&#160;      SGPRReg = UsedSGPRs[1];</div>
<div class="line"><a name="l07461"></a><span class="lineno"> 7461</span>&#160;  }</div>
<div class="line"><a name="l07462"></a><span class="lineno"> 7462</span>&#160; </div>
<div class="line"><a name="l07463"></a><span class="lineno"> 7463</span>&#160;  <span class="keywordflow">return</span> SGPRReg;</div>
<div class="line"><a name="l07464"></a><span class="lineno"> 7464</span>&#160;}</div>
<div class="line"><a name="l07465"></a><span class="lineno"> 7465</span>&#160; </div>
<div class="line"><a name="l07466"></a><span class="lineno"><a class="line" href="classllvm_1_1SIInstrInfo.html#a61297a04e9cd91c9658b9affecdd9797"> 7466</a></span>&#160;<a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> *<a class="code" href="classllvm_1_1SIInstrInfo.html#a61297a04e9cd91c9658b9affecdd9797">SIInstrInfo::getNamedOperand</a>(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>,</div>
<div class="line"><a name="l07467"></a><span class="lineno"> 7467</span>&#160;                                             <span class="keywordtype">unsigned</span> OperandName)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l07468"></a><span class="lineno"> 7468</span>&#160;  <span class="keywordtype">int</span> Idx = <a class="code" href="namespacellvm_1_1AMDGPU.html#a27efe1286cc31f5fc95355af30b0356c">AMDGPU::getNamedOperandIdx</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode(), OperandName);</div>
<div class="line"><a name="l07469"></a><span class="lineno"> 7469</span>&#160;  <span class="keywordflow">if</span> (Idx == -1)</div>
<div class="line"><a name="l07470"></a><span class="lineno"> 7470</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l07471"></a><span class="lineno"> 7471</span>&#160; </div>
<div class="line"><a name="l07472"></a><span class="lineno"> 7472</span>&#160;  <span class="keywordflow">return</span> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(Idx);</div>
<div class="line"><a name="l07473"></a><span class="lineno"> 7473</span>&#160;}</div>
<div class="line"><a name="l07474"></a><span class="lineno"> 7474</span>&#160; </div>
<div class="line"><a name="l07475"></a><span class="lineno"><a class="line" href="classllvm_1_1SIInstrInfo.html#a10a8333f33c54fcb73d4f41ee264ce8e"> 7475</a></span>&#160;<a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> <a class="code" href="classllvm_1_1SIInstrInfo.html#a10a8333f33c54fcb73d4f41ee264ce8e">SIInstrInfo::getDefaultRsrcDataFormat</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l07476"></a><span class="lineno"> 7476</span>&#160;  <span class="keywordflow">if</span> (ST.<a class="code" href="classllvm_1_1GCNSubtarget.html#ace4de1de19cbe837c578fb3654b6c998">getGeneration</a>() &gt;= <a class="code" href="classllvm_1_1AMDGPUSubtarget.html#a53c0ee4138bfbf9e0410a65e0eaa36e2a0a29519a2da61e1cf78d898e26fef446">AMDGPUSubtarget::GFX10</a>) {</div>
<div class="line"><a name="l07477"></a><span class="lineno"> 7477</span>&#160;    int64_t Format = ST.<a class="code" href="classllvm_1_1GCNSubtarget.html#ace4de1de19cbe837c578fb3654b6c998">getGeneration</a>() &gt;= <a class="code" href="classllvm_1_1AMDGPUSubtarget.html#a53c0ee4138bfbf9e0410a65e0eaa36e2afee0105d2e947dda0884cc47a33c93b7">AMDGPUSubtarget::GFX11</a></div>
<div class="line"><a name="l07478"></a><span class="lineno"> 7478</span>&#160;                         ? (int64_t)<a class="code" href="namespacellvm_1_1AMDGPU_1_1UfmtGFX11.html#a5cb0b88974a1601339c538367073d209ad2933e2b4eeecbfbd0bbb780922604d8">AMDGPU::UfmtGFX11::UFMT_32_FLOAT</a></div>
<div class="line"><a name="l07479"></a><span class="lineno"> 7479</span>&#160;                         : (int64_t)<a class="code" href="namespacellvm_1_1AMDGPU_1_1UfmtGFX10.html#a9f4b9c2257280532185aa363f023fbf5a5c6b3dafe669e154050061d41549394e">AMDGPU::UfmtGFX10::UFMT_32_FLOAT</a>;</div>
<div class="line"><a name="l07480"></a><span class="lineno"> 7480</span>&#160;    <span class="keywordflow">return</span> (Format &lt;&lt; 44) |</div>
<div class="line"><a name="l07481"></a><span class="lineno"> 7481</span>&#160;           (1ULL &lt;&lt; 56) | <span class="comment">// RESOURCE_LEVEL = 1</span></div>
<div class="line"><a name="l07482"></a><span class="lineno"> 7482</span>&#160;           (3ULL &lt;&lt; 60); <span class="comment">// OOB_SELECT = 3</span></div>
<div class="line"><a name="l07483"></a><span class="lineno"> 7483</span>&#160;  }</div>
<div class="line"><a name="l07484"></a><span class="lineno"> 7484</span>&#160; </div>
<div class="line"><a name="l07485"></a><span class="lineno"> 7485</span>&#160;  <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> RsrcDataFormat = <a class="code" href="namespacellvm_1_1AMDGPU.html#a062b134de5c9143eab05c83faab131e9">AMDGPU::RSRC_DATA_FORMAT</a>;</div>
<div class="line"><a name="l07486"></a><span class="lineno"> 7486</span>&#160;  <span class="keywordflow">if</span> (ST.<a class="code" href="classllvm_1_1AMDGPUSubtarget.html#acf005b2695c64eb57157215562463116">isAmdHsaOS</a>()) {</div>
<div class="line"><a name="l07487"></a><span class="lineno"> 7487</span>&#160;    <span class="comment">// Set ATC = 1. GFX9 doesn&#39;t have this bit.</span></div>
<div class="line"><a name="l07488"></a><span class="lineno"> 7488</span>&#160;    <span class="keywordflow">if</span> (ST.<a class="code" href="classllvm_1_1GCNSubtarget.html#ace4de1de19cbe837c578fb3654b6c998">getGeneration</a>() &lt;= <a class="code" href="classllvm_1_1AMDGPUSubtarget.html#a53c0ee4138bfbf9e0410a65e0eaa36e2aef8609af541a5b1b01484b29d0f62534">AMDGPUSubtarget::VOLCANIC_ISLANDS</a>)</div>
<div class="line"><a name="l07489"></a><span class="lineno"> 7489</span>&#160;      RsrcDataFormat |= (1ULL &lt;&lt; 56);</div>
<div class="line"><a name="l07490"></a><span class="lineno"> 7490</span>&#160; </div>
<div class="line"><a name="l07491"></a><span class="lineno"> 7491</span>&#160;    <span class="comment">// Set MTYPE = 2 (MTYPE_UC = uncached). GFX9 doesn&#39;t have this.</span></div>
<div class="line"><a name="l07492"></a><span class="lineno"> 7492</span>&#160;    <span class="comment">// BTW, it disables TC L2 and therefore decreases performance.</span></div>
<div class="line"><a name="l07493"></a><span class="lineno"> 7493</span>&#160;    <span class="keywordflow">if</span> (ST.<a class="code" href="classllvm_1_1GCNSubtarget.html#ace4de1de19cbe837c578fb3654b6c998">getGeneration</a>() == <a class="code" href="classllvm_1_1AMDGPUSubtarget.html#a53c0ee4138bfbf9e0410a65e0eaa36e2aef8609af541a5b1b01484b29d0f62534">AMDGPUSubtarget::VOLCANIC_ISLANDS</a>)</div>
<div class="line"><a name="l07494"></a><span class="lineno"> 7494</span>&#160;      RsrcDataFormat |= (2ULL &lt;&lt; 59);</div>
<div class="line"><a name="l07495"></a><span class="lineno"> 7495</span>&#160;  }</div>
<div class="line"><a name="l07496"></a><span class="lineno"> 7496</span>&#160; </div>
<div class="line"><a name="l07497"></a><span class="lineno"> 7497</span>&#160;  <span class="keywordflow">return</span> RsrcDataFormat;</div>
<div class="line"><a name="l07498"></a><span class="lineno"> 7498</span>&#160;}</div>
<div class="line"><a name="l07499"></a><span class="lineno"> 7499</span>&#160; </div>
<div class="line"><a name="l07500"></a><span class="lineno"><a class="line" href="classllvm_1_1SIInstrInfo.html#af0c31a9fd43cc1a320582913a2f27ece"> 7500</a></span>&#160;<a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> <a class="code" href="classllvm_1_1SIInstrInfo.html#af0c31a9fd43cc1a320582913a2f27ece">SIInstrInfo::getScratchRsrcWords23</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l07501"></a><span class="lineno"> 7501</span>&#160;  <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> Rsrc23 = <a class="code" href="classllvm_1_1SIInstrInfo.html#a10a8333f33c54fcb73d4f41ee264ce8e">getDefaultRsrcDataFormat</a>() |</div>
<div class="line"><a name="l07502"></a><span class="lineno"> 7502</span>&#160;                    <a class="code" href="namespacellvm_1_1AMDGPU.html#a823f64d5695b8da6f9b418bd4dc55176">AMDGPU::RSRC_TID_ENABLE</a> |</div>
<div class="line"><a name="l07503"></a><span class="lineno"> 7503</span>&#160;                    0xffffffff; <span class="comment">// Size;</span></div>
<div class="line"><a name="l07504"></a><span class="lineno"> 7504</span>&#160; </div>
<div class="line"><a name="l07505"></a><span class="lineno"> 7505</span>&#160;  <span class="comment">// GFX9 doesn&#39;t have ELEMENT_SIZE.</span></div>
<div class="line"><a name="l07506"></a><span class="lineno"> 7506</span>&#160;  <span class="keywordflow">if</span> (ST.<a class="code" href="classllvm_1_1GCNSubtarget.html#ace4de1de19cbe837c578fb3654b6c998">getGeneration</a>() &lt;= <a class="code" href="classllvm_1_1AMDGPUSubtarget.html#a53c0ee4138bfbf9e0410a65e0eaa36e2aef8609af541a5b1b01484b29d0f62534">AMDGPUSubtarget::VOLCANIC_ISLANDS</a>) {</div>
<div class="line"><a name="l07507"></a><span class="lineno"> 7507</span>&#160;    <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> EltSizeValue = <a class="code" href="namespacellvm.html#a646986783f35e0fef8988f0f28d2589f">Log2_32</a>(ST.<a class="code" href="classllvm_1_1GCNSubtarget.html#aa1c8834f883c6607231b902a1f37ddbc">getMaxPrivateElementSize</a>(<span class="keyword">true</span>)) - 1;</div>
<div class="line"><a name="l07508"></a><span class="lineno"> 7508</span>&#160;    Rsrc23 |= EltSizeValue &lt;&lt; <a class="code" href="namespacellvm_1_1AMDGPU.html#a5a55a26fbacd40b385e54565fdebc4dd">AMDGPU::RSRC_ELEMENT_SIZE_SHIFT</a>;</div>
<div class="line"><a name="l07509"></a><span class="lineno"> 7509</span>&#160;  }</div>
<div class="line"><a name="l07510"></a><span class="lineno"> 7510</span>&#160; </div>
<div class="line"><a name="l07511"></a><span class="lineno"> 7511</span>&#160;  <span class="comment">// IndexStride = 64 / 32.</span></div>
<div class="line"><a name="l07512"></a><span class="lineno"> 7512</span>&#160;  <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> IndexStride = ST.<a class="code" href="classllvm_1_1AMDGPUSubtarget.html#ae66cd705df2870244a05921f551ff131">getWavefrontSize</a>() == 64 ? 3 : 2;</div>
<div class="line"><a name="l07513"></a><span class="lineno"> 7513</span>&#160;  Rsrc23 |= IndexStride &lt;&lt; <a class="code" href="namespacellvm_1_1AMDGPU.html#ae0376d4668bb0a8b7d4afa76f6ce3fee">AMDGPU::RSRC_INDEX_STRIDE_SHIFT</a>;</div>
<div class="line"><a name="l07514"></a><span class="lineno"> 7514</span>&#160; </div>
<div class="line"><a name="l07515"></a><span class="lineno"> 7515</span>&#160;  <span class="comment">// If TID_ENABLE is set, DATA_FORMAT specifies stride bits [14:17].</span></div>
<div class="line"><a name="l07516"></a><span class="lineno"> 7516</span>&#160;  <span class="comment">// Clear them unless we want a huge stride.</span></div>
<div class="line"><a name="l07517"></a><span class="lineno"> 7517</span>&#160;  <span class="keywordflow">if</span> (ST.<a class="code" href="classllvm_1_1GCNSubtarget.html#ace4de1de19cbe837c578fb3654b6c998">getGeneration</a>() &gt;= <a class="code" href="classllvm_1_1AMDGPUSubtarget.html#a53c0ee4138bfbf9e0410a65e0eaa36e2aef8609af541a5b1b01484b29d0f62534">AMDGPUSubtarget::VOLCANIC_ISLANDS</a> &amp;&amp;</div>
<div class="line"><a name="l07518"></a><span class="lineno"> 7518</span>&#160;      ST.<a class="code" href="classllvm_1_1GCNSubtarget.html#ace4de1de19cbe837c578fb3654b6c998">getGeneration</a>() &lt;= <a class="code" href="classllvm_1_1AMDGPUSubtarget.html#a53c0ee4138bfbf9e0410a65e0eaa36e2a27bbb8548ee933d0231565d6ed407307">AMDGPUSubtarget::GFX9</a>)</div>
<div class="line"><a name="l07519"></a><span class="lineno"> 7519</span>&#160;    Rsrc23 &amp;= ~<a class="code" href="namespaceAMDGPU.html">AMDGPU</a><a class="code" href="namespacellvm_1_1AMDGPU.html#a062b134de5c9143eab05c83faab131e9">::RSRC_DATA_FORMAT</a>;</div>
<div class="line"><a name="l07520"></a><span class="lineno"> 7520</span>&#160; </div>
<div class="line"><a name="l07521"></a><span class="lineno"> 7521</span>&#160;  <span class="keywordflow">return</span> Rsrc23;</div>
<div class="line"><a name="l07522"></a><span class="lineno"> 7522</span>&#160;}</div>
<div class="line"><a name="l07523"></a><span class="lineno"> 7523</span>&#160; </div>
<div class="line"><a name="l07524"></a><span class="lineno"><a class="line" href="classllvm_1_1SIInstrInfo.html#a975ccb82baef08d83e403c8818c52db8"> 7524</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1SIInstrInfo.html#a975ccb82baef08d83e403c8818c52db8">SIInstrInfo::isLowLatencyInstruction</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l07525"></a><span class="lineno"> 7525</span>&#160;  <span class="keywordtype">unsigned</span> Opc = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode();</div>
<div class="line"><a name="l07526"></a><span class="lineno"> 7526</span>&#160; </div>
<div class="line"><a name="l07527"></a><span class="lineno"> 7527</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SIInstrInfo.html#a1c990a34866f377751f50f112cef61bc">isSMRD</a>(Opc);</div>
<div class="line"><a name="l07528"></a><span class="lineno"> 7528</span>&#160;}</div>
<div class="line"><a name="l07529"></a><span class="lineno"> 7529</span>&#160; </div>
<div class="line"><a name="l07530"></a><span class="lineno"><a class="line" href="classllvm_1_1SIInstrInfo.html#a4c2569a20f3cd4919625f6409b53d657"> 7530</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1SIInstrInfo.html#a4c2569a20f3cd4919625f6409b53d657">SIInstrInfo::isHighLatencyDef</a>(<span class="keywordtype">int</span> Opc)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l07531"></a><span class="lineno"> 7531</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(Opc).mayLoad() &amp;&amp;</div>
<div class="line"><a name="l07532"></a><span class="lineno"> 7532</span>&#160;         (<a class="code" href="classllvm_1_1SIInstrInfo.html#a8616d2d8f4c04005569e89bcfe67e421">isMUBUF</a>(Opc) || <a class="code" href="classllvm_1_1SIInstrInfo.html#a2c6289dfab83449b3f69792b35277cac">isMTBUF</a>(Opc) || <a class="code" href="classllvm_1_1SIInstrInfo.html#abdcf600002fd489c76924f2ec4f4fc0f">isMIMG</a>(Opc) || <a class="code" href="classllvm_1_1SIInstrInfo.html#adc3333d2d5974f4068df84f8706fc7d2">isFLAT</a>(Opc));</div>
<div class="line"><a name="l07533"></a><span class="lineno"> 7533</span>&#160;}</div>
<div class="line"><a name="l07534"></a><span class="lineno"> 7534</span>&#160; </div>
<div class="line"><a name="l07535"></a><span class="lineno"><a class="line" href="classllvm_1_1SIInstrInfo.html#afb5a8099c7351303ef337ec57d5e8e24"> 7535</a></span>&#160;<span class="keywordtype">unsigned</span> <a class="code" href="classllvm_1_1SIInstrInfo.html#afb5a8099c7351303ef337ec57d5e8e24">SIInstrInfo::isStackAccess</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>,</div>
<div class="line"><a name="l07536"></a><span class="lineno"> 7536</span>&#160;                                    <span class="keywordtype">int</span> &amp;<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4b437632fd9b97dd36010d85eb363efe">FrameIndex</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l07537"></a><span class="lineno"> 7537</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> *<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a> = <a class="code" href="classllvm_1_1SIInstrInfo.html#a61297a04e9cd91c9658b9affecdd9797">getNamedOperand</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, AMDGPU::OpName::vaddr);</div>
<div class="line"><a name="l07538"></a><span class="lineno"> 7538</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a> || !<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>-&gt;isFI())</div>
<div class="line"><a name="l07539"></a><span class="lineno"> 7539</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Register.html">Register</a>();</div>
<div class="line"><a name="l07540"></a><span class="lineno"> 7540</span>&#160; </div>
<div class="line"><a name="l07541"></a><span class="lineno"> 7541</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.memoperands_empty() &amp;&amp;</div>
<div class="line"><a name="l07542"></a><span class="lineno"> 7542</span>&#160;         (*<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.memoperands_begin())-&gt;getAddrSpace() == <a class="code" href="namespacellvm_1_1AMDGPUAS.html#ab1843c6566c95d94d6e36a857b8d2b3faec164f45437d8827346f2d8ec645479a">AMDGPUAS::PRIVATE_ADDRESS</a>);</div>
<div class="line"><a name="l07543"></a><span class="lineno"> 7543</span>&#160; </div>
<div class="line"><a name="l07544"></a><span class="lineno"> 7544</span>&#160;  <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4b437632fd9b97dd36010d85eb363efe">FrameIndex</a> = <a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>-&gt;getIndex();</div>
<div class="line"><a name="l07545"></a><span class="lineno"> 7545</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SIInstrInfo.html#a61297a04e9cd91c9658b9affecdd9797">getNamedOperand</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, AMDGPU::OpName::vdata)-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>();</div>
<div class="line"><a name="l07546"></a><span class="lineno"> 7546</span>&#160;}</div>
<div class="line"><a name="l07547"></a><span class="lineno"> 7547</span>&#160; </div>
<div class="line"><a name="l07548"></a><span class="lineno"><a class="line" href="classllvm_1_1SIInstrInfo.html#a75d714113557721ffd5bd3d06dc79642"> 7548</a></span>&#160;<span class="keywordtype">unsigned</span> <a class="code" href="classllvm_1_1SIInstrInfo.html#a75d714113557721ffd5bd3d06dc79642">SIInstrInfo::isSGPRStackAccess</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>,</div>
<div class="line"><a name="l07549"></a><span class="lineno"> 7549</span>&#160;                                        <span class="keywordtype">int</span> &amp;<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4b437632fd9b97dd36010d85eb363efe">FrameIndex</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l07550"></a><span class="lineno"> 7550</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> *<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a> = <a class="code" href="classllvm_1_1SIInstrInfo.html#a61297a04e9cd91c9658b9affecdd9797">getNamedOperand</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, AMDGPU::OpName::addr);</div>
<div class="line"><a name="l07551"></a><span class="lineno"> 7551</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a> &amp;&amp; <a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>-&gt;isFI());</div>
<div class="line"><a name="l07552"></a><span class="lineno"> 7552</span>&#160;  <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4b437632fd9b97dd36010d85eb363efe">FrameIndex</a> = <a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>-&gt;getIndex();</div>
<div class="line"><a name="l07553"></a><span class="lineno"> 7553</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SIInstrInfo.html#a61297a04e9cd91c9658b9affecdd9797">getNamedOperand</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, AMDGPU::OpName::data)-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>();</div>
<div class="line"><a name="l07554"></a><span class="lineno"> 7554</span>&#160;}</div>
<div class="line"><a name="l07555"></a><span class="lineno"> 7555</span>&#160; </div>
<div class="line"><a name="l07556"></a><span class="lineno"><a class="line" href="classllvm_1_1SIInstrInfo.html#ab92f90456dfda18d91d3531204e5cc33"> 7556</a></span>&#160;<span class="keywordtype">unsigned</span> <a class="code" href="classllvm_1_1SIInstrInfo.html#ab92f90456dfda18d91d3531204e5cc33">SIInstrInfo::isLoadFromStackSlot</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>,</div>
<div class="line"><a name="l07557"></a><span class="lineno"> 7557</span>&#160;                                          <span class="keywordtype">int</span> &amp;<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4b437632fd9b97dd36010d85eb363efe">FrameIndex</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l07558"></a><span class="lineno"> 7558</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.mayLoad())</div>
<div class="line"><a name="l07559"></a><span class="lineno"> 7559</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Register.html">Register</a>();</div>
<div class="line"><a name="l07560"></a><span class="lineno"> 7560</span>&#160; </div>
<div class="line"><a name="l07561"></a><span class="lineno"> 7561</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SIInstrInfo.html#a8616d2d8f4c04005569e89bcfe67e421">isMUBUF</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>) || <a class="code" href="classllvm_1_1SIInstrInfo.html#ab54d6d16078e78dfe594321574f39223">isVGPRSpill</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>))</div>
<div class="line"><a name="l07562"></a><span class="lineno"> 7562</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SIInstrInfo.html#afb5a8099c7351303ef337ec57d5e8e24">isStackAccess</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4b437632fd9b97dd36010d85eb363efe">FrameIndex</a>);</div>
<div class="line"><a name="l07563"></a><span class="lineno"> 7563</span>&#160; </div>
<div class="line"><a name="l07564"></a><span class="lineno"> 7564</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SIInstrInfo.html#ad1f10f87fb228c645dab08a31a02d0a6">isSGPRSpill</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>))</div>
<div class="line"><a name="l07565"></a><span class="lineno"> 7565</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SIInstrInfo.html#a75d714113557721ffd5bd3d06dc79642">isSGPRStackAccess</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4b437632fd9b97dd36010d85eb363efe">FrameIndex</a>);</div>
<div class="line"><a name="l07566"></a><span class="lineno"> 7566</span>&#160; </div>
<div class="line"><a name="l07567"></a><span class="lineno"> 7567</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Register.html">Register</a>();</div>
<div class="line"><a name="l07568"></a><span class="lineno"> 7568</span>&#160;}</div>
<div class="line"><a name="l07569"></a><span class="lineno"> 7569</span>&#160; </div>
<div class="line"><a name="l07570"></a><span class="lineno"><a class="line" href="classllvm_1_1SIInstrInfo.html#a1a819579880816f46644139609f4de8c"> 7570</a></span>&#160;<span class="keywordtype">unsigned</span> <a class="code" href="classllvm_1_1SIInstrInfo.html#a1a819579880816f46644139609f4de8c">SIInstrInfo::isStoreToStackSlot</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>,</div>
<div class="line"><a name="l07571"></a><span class="lineno"> 7571</span>&#160;                                         <span class="keywordtype">int</span> &amp;<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4b437632fd9b97dd36010d85eb363efe">FrameIndex</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l07572"></a><span class="lineno"> 7572</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.mayStore())</div>
<div class="line"><a name="l07573"></a><span class="lineno"> 7573</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Register.html">Register</a>();</div>
<div class="line"><a name="l07574"></a><span class="lineno"> 7574</span>&#160; </div>
<div class="line"><a name="l07575"></a><span class="lineno"> 7575</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SIInstrInfo.html#a8616d2d8f4c04005569e89bcfe67e421">isMUBUF</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>) || <a class="code" href="classllvm_1_1SIInstrInfo.html#ab54d6d16078e78dfe594321574f39223">isVGPRSpill</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>))</div>
<div class="line"><a name="l07576"></a><span class="lineno"> 7576</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SIInstrInfo.html#afb5a8099c7351303ef337ec57d5e8e24">isStackAccess</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4b437632fd9b97dd36010d85eb363efe">FrameIndex</a>);</div>
<div class="line"><a name="l07577"></a><span class="lineno"> 7577</span>&#160; </div>
<div class="line"><a name="l07578"></a><span class="lineno"> 7578</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SIInstrInfo.html#ad1f10f87fb228c645dab08a31a02d0a6">isSGPRSpill</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>))</div>
<div class="line"><a name="l07579"></a><span class="lineno"> 7579</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SIInstrInfo.html#a75d714113557721ffd5bd3d06dc79642">isSGPRStackAccess</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4b437632fd9b97dd36010d85eb363efe">FrameIndex</a>);</div>
<div class="line"><a name="l07580"></a><span class="lineno"> 7580</span>&#160; </div>
<div class="line"><a name="l07581"></a><span class="lineno"> 7581</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Register.html">Register</a>();</div>
<div class="line"><a name="l07582"></a><span class="lineno"> 7582</span>&#160;}</div>
<div class="line"><a name="l07583"></a><span class="lineno"> 7583</span>&#160; </div>
<div class="line"><a name="l07584"></a><span class="lineno"><a class="line" href="classllvm_1_1SIInstrInfo.html#a31d7b26c45988dda37e32395313029eb"> 7584</a></span>&#160;<span class="keywordtype">unsigned</span> <a class="code" href="classllvm_1_1SIInstrInfo.html#a31d7b26c45988dda37e32395313029eb">SIInstrInfo::getInstBundleSize</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l07585"></a><span class="lineno"> 7585</span>&#160;  <span class="keywordtype">unsigned</span> Size = 0;</div>
<div class="line"><a name="l07586"></a><span class="lineno"> 7586</span>&#160;  <a class="code" href="classllvm_1_1ilist__iterator.html">MachineBasicBlock::const_instr_iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getIterator();</div>
<div class="line"><a name="l07587"></a><span class="lineno"> 7587</span>&#160;  <a class="code" href="classllvm_1_1ilist__iterator.html">MachineBasicBlock::const_instr_iterator</a> <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getParent()-&gt;instr_end();</div>
<div class="line"><a name="l07588"></a><span class="lineno"> 7588</span>&#160;  <span class="keywordflow">while</span> (++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> &amp;&amp; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;isInsideBundle()) {</div>
<div class="line"><a name="l07589"></a><span class="lineno"> 7589</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;isBundle() &amp;&amp; <span class="stringliteral">&quot;No nested bundle!&quot;</span>);</div>
<div class="line"><a name="l07590"></a><span class="lineno"> 7590</span>&#160;    Size += <a class="code" href="classllvm_1_1SIInstrInfo.html#a0ced2d6b15f87f297ec231c753e624e6">getInstSizeInBytes</a>(*<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l07591"></a><span class="lineno"> 7591</span>&#160;  }</div>
<div class="line"><a name="l07592"></a><span class="lineno"> 7592</span>&#160; </div>
<div class="line"><a name="l07593"></a><span class="lineno"> 7593</span>&#160;  <span class="keywordflow">return</span> Size;</div>
<div class="line"><a name="l07594"></a><span class="lineno"> 7594</span>&#160;}</div>
<div class="line"><a name="l07595"></a><span class="lineno"> 7595</span>&#160; </div>
<div class="line"><a name="l07596"></a><span class="lineno"><a class="line" href="classllvm_1_1SIInstrInfo.html#a0ced2d6b15f87f297ec231c753e624e6"> 7596</a></span>&#160;<span class="keywordtype">unsigned</span> <a class="code" href="classllvm_1_1SIInstrInfo.html#a0ced2d6b15f87f297ec231c753e624e6">SIInstrInfo::getInstSizeInBytes</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l07597"></a><span class="lineno"> 7597</span>&#160;  <span class="keywordtype">unsigned</span> Opc = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode();</div>
<div class="line"><a name="l07598"></a><span class="lineno"> 7598</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCInstrDesc.html">MCInstrDesc</a> &amp;Desc = <a class="code" href="classllvm_1_1SIInstrInfo.html#ab15461b62340553d2246296826167082">getMCOpcodeFromPseudo</a>(Opc);</div>
<div class="line"><a name="l07599"></a><span class="lineno"> 7599</span>&#160;  <span class="keywordtype">unsigned</span> DescSize = Desc.<a class="code" href="classllvm_1_1MCInstrDesc.html#ad675c21464eb38c355e73c7f72f8160b">getSize</a>();</div>
<div class="line"><a name="l07600"></a><span class="lineno"> 7600</span>&#160; </div>
<div class="line"><a name="l07601"></a><span class="lineno"> 7601</span>&#160;  <span class="comment">// If we have a definitive size, we can use it. Otherwise we need to inspect</span></div>
<div class="line"><a name="l07602"></a><span class="lineno"> 7602</span>&#160;  <span class="comment">// the operands to know the size.</span></div>
<div class="line"><a name="l07603"></a><span class="lineno"> 7603</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SIInstrInfo.html#aedb55bd2a3f524ae536b9c0ef17e41c0">isFixedSize</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>)) {</div>
<div class="line"><a name="l07604"></a><span class="lineno"> 7604</span>&#160;    <span class="keywordtype">unsigned</span> Size = DescSize;</div>
<div class="line"><a name="l07605"></a><span class="lineno"> 7605</span>&#160; </div>
<div class="line"><a name="l07606"></a><span class="lineno"> 7606</span>&#160;    <span class="comment">// If we hit the buggy offset, an extra nop will be inserted in MC so</span></div>
<div class="line"><a name="l07607"></a><span class="lineno"> 7607</span>&#160;    <span class="comment">// estimate the worst case.</span></div>
<div class="line"><a name="l07608"></a><span class="lineno"> 7608</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.isBranch() &amp;&amp; ST.<a class="code" href="classllvm_1_1GCNSubtarget.html#a42ffba7488c6f98d42703852d9d83361">hasOffset3fBug</a>())</div>
<div class="line"><a name="l07609"></a><span class="lineno"> 7609</span>&#160;      Size += 4;</div>
<div class="line"><a name="l07610"></a><span class="lineno"> 7610</span>&#160; </div>
<div class="line"><a name="l07611"></a><span class="lineno"> 7611</span>&#160;    <span class="keywordflow">return</span> Size;</div>
<div class="line"><a name="l07612"></a><span class="lineno"> 7612</span>&#160;  }</div>
<div class="line"><a name="l07613"></a><span class="lineno"> 7613</span>&#160; </div>
<div class="line"><a name="l07614"></a><span class="lineno"> 7614</span>&#160;  <span class="comment">// Instructions may have a 32-bit literal encoded after them. Check</span></div>
<div class="line"><a name="l07615"></a><span class="lineno"> 7615</span>&#160;  <span class="comment">// operands that could ever be literals.</span></div>
<div class="line"><a name="l07616"></a><span class="lineno"> 7616</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SIInstrInfo.html#ade8d533000b775c514d9ac189b66c3a5">isVALU</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>) || <a class="code" href="classllvm_1_1SIInstrInfo.html#a2d7ac7b1dd9a9e4ae81fb54010f324f9">isSALU</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>)) {</div>
<div class="line"><a name="l07617"></a><span class="lineno"> 7617</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SIInstrInfo.html#a960996ed89167b7ad321c647644d8dfb">isDPP</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>))</div>
<div class="line"><a name="l07618"></a><span class="lineno"> 7618</span>&#160;      <span class="keywordflow">return</span> DescSize;</div>
<div class="line"><a name="l07619"></a><span class="lineno"> 7619</span>&#160;    <span class="keywordtype">bool</span> HasLiteral = <span class="keyword">false</span>;</div>
<div class="line"><a name="l07620"></a><span class="lineno"> 7620</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 0, <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getNumExplicitOperands(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l07621"></a><span class="lineno"> 7621</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l07622"></a><span class="lineno"> 7622</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCOperandInfo.html">MCOperandInfo</a> &amp;OpInfo = Desc.<a class="code" href="classllvm_1_1MCInstrDesc.html#a9491e6e3afc420c33cf508189bb12c3b">operands</a>()[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>];</div>
<div class="line"><a name="l07623"></a><span class="lineno"> 7623</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.isReg() &amp;&amp; !<a class="code" href="classllvm_1_1SIInstrInfo.html#a0480d6290cd95e40641f2af7a18fb764">isInlineConstant</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, OpInfo)) {</div>
<div class="line"><a name="l07624"></a><span class="lineno"> 7624</span>&#160;        HasLiteral = <span class="keyword">true</span>;</div>
<div class="line"><a name="l07625"></a><span class="lineno"> 7625</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l07626"></a><span class="lineno"> 7626</span>&#160;      }</div>
<div class="line"><a name="l07627"></a><span class="lineno"> 7627</span>&#160;    }</div>
<div class="line"><a name="l07628"></a><span class="lineno"> 7628</span>&#160;    <span class="keywordflow">return</span> HasLiteral ? DescSize + 4 : DescSize;</div>
<div class="line"><a name="l07629"></a><span class="lineno"> 7629</span>&#160;  }</div>
<div class="line"><a name="l07630"></a><span class="lineno"> 7630</span>&#160; </div>
<div class="line"><a name="l07631"></a><span class="lineno"> 7631</span>&#160;  <span class="comment">// Check whether we have extra NSA words.</span></div>
<div class="line"><a name="l07632"></a><span class="lineno"> 7632</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SIInstrInfo.html#abdcf600002fd489c76924f2ec4f4fc0f">isMIMG</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>)) {</div>
<div class="line"><a name="l07633"></a><span class="lineno"> 7633</span>&#160;    <span class="keywordtype">int</span> VAddr0Idx = <a class="code" href="namespacellvm_1_1AMDGPU.html#a27efe1286cc31f5fc95355af30b0356c">AMDGPU::getNamedOperandIdx</a>(Opc, AMDGPU::OpName::vaddr0);</div>
<div class="line"><a name="l07634"></a><span class="lineno"> 7634</span>&#160;    <span class="keywordflow">if</span> (VAddr0Idx &lt; 0)</div>
<div class="line"><a name="l07635"></a><span class="lineno"> 7635</span>&#160;      <span class="keywordflow">return</span> 8;</div>
<div class="line"><a name="l07636"></a><span class="lineno"> 7636</span>&#160; </div>
<div class="line"><a name="l07637"></a><span class="lineno"> 7637</span>&#160;    <span class="keywordtype">int</span> RSrcIdx = <a class="code" href="namespacellvm_1_1AMDGPU.html#a27efe1286cc31f5fc95355af30b0356c">AMDGPU::getNamedOperandIdx</a>(Opc, AMDGPU::OpName::srsrc);</div>
<div class="line"><a name="l07638"></a><span class="lineno"> 7638</span>&#160;    <span class="keywordflow">return</span> 8 + 4 * ((RSrcIdx - VAddr0Idx + 2) / 4);</div>
<div class="line"><a name="l07639"></a><span class="lineno"> 7639</span>&#160;  }</div>
<div class="line"><a name="l07640"></a><span class="lineno"> 7640</span>&#160; </div>
<div class="line"><a name="l07641"></a><span class="lineno"> 7641</span>&#160;  <span class="keywordflow">switch</span> (Opc) {</div>
<div class="line"><a name="l07642"></a><span class="lineno"> 7642</span>&#160;  <span class="keywordflow">case</span> TargetOpcode::BUNDLE:</div>
<div class="line"><a name="l07643"></a><span class="lineno"> 7643</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SIInstrInfo.html#a31d7b26c45988dda37e32395313029eb">getInstBundleSize</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l07644"></a><span class="lineno"> 7644</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ae35d57f3c020672748fcc95607348986">TargetOpcode::INLINEASM</a>:</div>
<div class="line"><a name="l07645"></a><span class="lineno"> 7645</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ab969e7d43eb37a0398b5ded23bccc136">TargetOpcode::INLINEASM_BR</a>: {</div>
<div class="line"><a name="l07646"></a><span class="lineno"> 7646</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> *MF = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getParent()-&gt;getParent();</div>
<div class="line"><a name="l07647"></a><span class="lineno"> 7647</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *AsmStr = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(0).getSymbolName();</div>
<div class="line"><a name="l07648"></a><span class="lineno"> 7648</span>&#160;    <span class="keywordflow">return</span> getInlineAsmLength(AsmStr, *MF-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#ae68d159179d37dc7969439d842e2644f">getTarget</a>().<a class="code" href="classllvm_1_1TargetMachine.html#a171c7253c2b03171bdf22c1bd910f674">getMCAsmInfo</a>(), &amp;ST);</div>
<div class="line"><a name="l07649"></a><span class="lineno"> 7649</span>&#160;  }</div>
<div class="line"><a name="l07650"></a><span class="lineno"> 7650</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l07651"></a><span class="lineno"> 7651</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.isMetaInstruction())</div>
<div class="line"><a name="l07652"></a><span class="lineno"> 7652</span>&#160;      <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l07653"></a><span class="lineno"> 7653</span>&#160;    <span class="keywordflow">return</span> DescSize;</div>
<div class="line"><a name="l07654"></a><span class="lineno"> 7654</span>&#160;  }</div>
<div class="line"><a name="l07655"></a><span class="lineno"> 7655</span>&#160;}</div>
<div class="line"><a name="l07656"></a><span class="lineno"> 7656</span>&#160; </div>
<div class="line"><a name="l07657"></a><span class="lineno"><a class="line" href="classllvm_1_1SIInstrInfo.html#a16c0128051315d3d5cc1f32047c7449c"> 7657</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1SIInstrInfo.html#a16c0128051315d3d5cc1f32047c7449c">SIInstrInfo::mayAccessFlatAddressSpace</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l07658"></a><span class="lineno"> 7658</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1SIInstrInfo.html#adc3333d2d5974f4068df84f8706fc7d2">isFLAT</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>))</div>
<div class="line"><a name="l07659"></a><span class="lineno"> 7659</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l07660"></a><span class="lineno"> 7660</span>&#160; </div>
<div class="line"><a name="l07661"></a><span class="lineno"> 7661</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.memoperands_empty())</div>
<div class="line"><a name="l07662"></a><span class="lineno"> 7662</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l07663"></a><span class="lineno"> 7663</span>&#160; </div>
<div class="line"><a name="l07664"></a><span class="lineno"> 7664</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineMemOperand.html">MachineMemOperand</a> *MMO : <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.memoperands()) {</div>
<div class="line"><a name="l07665"></a><span class="lineno"> 7665</span>&#160;    <span class="keywordflow">if</span> (MMO-&gt;getAddrSpace() == <a class="code" href="namespacellvm_1_1AMDGPUAS.html#ab1843c6566c95d94d6e36a857b8d2b3faaa1e27e4fc68e5706a4b7bbaed447c14">AMDGPUAS::FLAT_ADDRESS</a>)</div>
<div class="line"><a name="l07666"></a><span class="lineno"> 7666</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l07667"></a><span class="lineno"> 7667</span>&#160;  }</div>
<div class="line"><a name="l07668"></a><span class="lineno"> 7668</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l07669"></a><span class="lineno"> 7669</span>&#160;}</div>
<div class="line"><a name="l07670"></a><span class="lineno"> 7670</span>&#160; </div>
<div class="line"><a name="l07671"></a><span class="lineno"><a class="line" href="classllvm_1_1SIInstrInfo.html#a0a7deb17cce3406bd32958ed7b234d89"> 7671</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1SIInstrInfo.html#a0a7deb17cce3406bd32958ed7b234d89">SIInstrInfo::isNonUniformBranchInstr</a>(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a359237c780f7c8e40645575826da8a3c">Branch</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l07672"></a><span class="lineno"> 7672</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a359237c780f7c8e40645575826da8a3c">Branch</a>.getOpcode() == AMDGPU::SI_NON_UNIFORM_BRCOND_PSEUDO;</div>
<div class="line"><a name="l07673"></a><span class="lineno"> 7673</span>&#160;}</div>
<div class="line"><a name="l07674"></a><span class="lineno"> 7674</span>&#160; </div>
<div class="line"><a name="l07675"></a><span class="lineno"><a class="line" href="classllvm_1_1SIInstrInfo.html#ac52fb1cbf5beca84fddfdfe48e7e3133"> 7675</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1SIInstrInfo.html#ac52fb1cbf5beca84fddfdfe48e7e3133">SIInstrInfo::convertNonUniformIfRegion</a>(<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *IfEntry,</div>
<div class="line"><a name="l07676"></a><span class="lineno"> 7676</span>&#160;                                            <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *IfEnd)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l07677"></a><span class="lineno"> 7677</span>&#160;  <a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::iterator</a> TI = IfEntry-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#a7f0521fa2de44271fd4b909ea7351ef3">getFirstTerminator</a>();</div>
<div class="line"><a name="l07678"></a><span class="lineno"> 7678</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(TI != IfEntry-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">end</a>());</div>
<div class="line"><a name="l07679"></a><span class="lineno"> 7679</span>&#160; </div>
<div class="line"><a name="l07680"></a><span class="lineno"> 7680</span>&#160;  <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a359237c780f7c8e40645575826da8a3c">Branch</a> = &amp;(*TI);</div>
<div class="line"><a name="l07681"></a><span class="lineno"> 7681</span>&#160;  <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> *MF = IfEntry-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#a4e21760f681d6f97f95c8414e7b83ea5">getParent</a>();</div>
<div class="line"><a name="l07682"></a><span class="lineno"> 7682</span>&#160;  <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a> = IfEntry-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#a4e21760f681d6f97f95c8414e7b83ea5">getParent</a>()-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>();</div>
<div class="line"><a name="l07683"></a><span class="lineno"> 7683</span>&#160; </div>
<div class="line"><a name="l07684"></a><span class="lineno"> 7684</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a359237c780f7c8e40645575826da8a3c">Branch</a>-&gt;getOpcode() == AMDGPU::SI_NON_UNIFORM_BRCOND_PSEUDO) {</div>
<div class="line"><a name="l07685"></a><span class="lineno"> 7685</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> DstReg = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5c77792a06583e0fe7a0379ad94a2809">createVirtualRegister</a>(RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#a940d8478e9124a309af6b98b9b1caef9">getBoolRC</a>());</div>
<div class="line"><a name="l07686"></a><span class="lineno"> 7686</span>&#160;    <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *SIIF =</div>
<div class="line"><a name="l07687"></a><span class="lineno"> 7687</span>&#160;        <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(*MF, <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a359237c780f7c8e40645575826da8a3c">Branch</a>-&gt;getDebugLoc(), <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::SI_IF), DstReg)</div>
<div class="line"><a name="l07688"></a><span class="lineno"> 7688</span>&#160;            .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a1ac8d27532cfd1d1f032ecbff2ba3611">add</a>(<a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a359237c780f7c8e40645575826da8a3c">Branch</a>-&gt;getOperand(0))</div>
<div class="line"><a name="l07689"></a><span class="lineno"> 7689</span>&#160;            .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a1ac8d27532cfd1d1f032ecbff2ba3611">add</a>(<a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a359237c780f7c8e40645575826da8a3c">Branch</a>-&gt;getOperand(1));</div>
<div class="line"><a name="l07690"></a><span class="lineno"> 7690</span>&#160;    <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *SIEND =</div>
<div class="line"><a name="l07691"></a><span class="lineno"> 7691</span>&#160;        <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(*MF, <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a359237c780f7c8e40645575826da8a3c">Branch</a>-&gt;getDebugLoc(), <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::SI_END_CF))</div>
<div class="line"><a name="l07692"></a><span class="lineno"> 7692</span>&#160;            .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(DstReg);</div>
<div class="line"><a name="l07693"></a><span class="lineno"> 7693</span>&#160; </div>
<div class="line"><a name="l07694"></a><span class="lineno"> 7694</span>&#160;    IfEntry-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#ad26bff839257f220557ce812b2159c72">erase</a>(TI);</div>
<div class="line"><a name="l07695"></a><span class="lineno"> 7695</span>&#160;    IfEntry-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#a3435a2381e60e842e915f85c931b7dde">insert</a>(IfEntry-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">end</a>(), SIIF);</div>
<div class="line"><a name="l07696"></a><span class="lineno"> 7696</span>&#160;    IfEnd-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#a3435a2381e60e842e915f85c931b7dde">insert</a>(IfEnd-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#aa7dc7faaab4856b8f0014b8283e26c7b">getFirstNonPHI</a>(), SIEND);</div>
<div class="line"><a name="l07697"></a><span class="lineno"> 7697</span>&#160;  }</div>
<div class="line"><a name="l07698"></a><span class="lineno"> 7698</span>&#160;}</div>
<div class="line"><a name="l07699"></a><span class="lineno"> 7699</span>&#160; </div>
<div class="line"><a name="l07700"></a><span class="lineno"><a class="line" href="classllvm_1_1SIInstrInfo.html#a8762c11a12f1ce6910169c87c7ffbc06"> 7700</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1SIInstrInfo.html#a8762c11a12f1ce6910169c87c7ffbc06">SIInstrInfo::convertNonUniformLoopRegion</a>(</div>
<div class="line"><a name="l07701"></a><span class="lineno"> 7701</span>&#160;    <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *LoopEntry, <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *LoopEnd)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l07702"></a><span class="lineno"> 7702</span>&#160;  <a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::iterator</a> TI = LoopEnd-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#a7f0521fa2de44271fd4b909ea7351ef3">getFirstTerminator</a>();</div>
<div class="line"><a name="l07703"></a><span class="lineno"> 7703</span>&#160;  <span class="comment">// We expect 2 terminators, one conditional and one unconditional.</span></div>
<div class="line"><a name="l07704"></a><span class="lineno"> 7704</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(TI != LoopEnd-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">end</a>());</div>
<div class="line"><a name="l07705"></a><span class="lineno"> 7705</span>&#160; </div>
<div class="line"><a name="l07706"></a><span class="lineno"> 7706</span>&#160;  <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a359237c780f7c8e40645575826da8a3c">Branch</a> = &amp;(*TI);</div>
<div class="line"><a name="l07707"></a><span class="lineno"> 7707</span>&#160;  <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> *MF = LoopEnd-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#a4e21760f681d6f97f95c8414e7b83ea5">getParent</a>();</div>
<div class="line"><a name="l07708"></a><span class="lineno"> 7708</span>&#160;  <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a> = LoopEnd-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#a4e21760f681d6f97f95c8414e7b83ea5">getParent</a>()-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>();</div>
<div class="line"><a name="l07709"></a><span class="lineno"> 7709</span>&#160; </div>
<div class="line"><a name="l07710"></a><span class="lineno"> 7710</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a359237c780f7c8e40645575826da8a3c">Branch</a>-&gt;getOpcode() == AMDGPU::SI_NON_UNIFORM_BRCOND_PSEUDO) {</div>
<div class="line"><a name="l07711"></a><span class="lineno"> 7711</span>&#160; </div>
<div class="line"><a name="l07712"></a><span class="lineno"> 7712</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> DstReg = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5c77792a06583e0fe7a0379ad94a2809">createVirtualRegister</a>(RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#a940d8478e9124a309af6b98b9b1caef9">getBoolRC</a>());</div>
<div class="line"><a name="l07713"></a><span class="lineno"> 7713</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> BackEdgeReg = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5c77792a06583e0fe7a0379ad94a2809">createVirtualRegister</a>(RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#a940d8478e9124a309af6b98b9b1caef9">getBoolRC</a>());</div>
<div class="line"><a name="l07714"></a><span class="lineno"> 7714</span>&#160;    <a class="code" href="classllvm_1_1MachineInstrBuilder.html">MachineInstrBuilder</a> HeaderPHIBuilder =</div>
<div class="line"><a name="l07715"></a><span class="lineno"> 7715</span>&#160;        <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(*(MF), <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a359237c780f7c8e40645575826da8a3c">Branch</a>-&gt;getDebugLoc(), <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(<a class="code" href="AMDGPURewriteUndefForPHI_8cpp.html#a2e83cb1bc3f5e8986cbd14575755a134">TargetOpcode::PHI</a>), DstReg);</div>
<div class="line"><a name="l07716"></a><span class="lineno"> 7716</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *PMBB : LoopEntry-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#afd9b9b8655c008bf6cd6afb05d41b69e">predecessors</a>()) {</div>
<div class="line"><a name="l07717"></a><span class="lineno"> 7717</span>&#160;      <span class="keywordflow">if</span> (PMBB == LoopEnd) {</div>
<div class="line"><a name="l07718"></a><span class="lineno"> 7718</span>&#160;        HeaderPHIBuilder.<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(BackEdgeReg);</div>
<div class="line"><a name="l07719"></a><span class="lineno"> 7719</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l07720"></a><span class="lineno"> 7720</span>&#160;        <a class="code" href="classllvm_1_1Register.html">Register</a> ZeroReg = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5c77792a06583e0fe7a0379ad94a2809">createVirtualRegister</a>(RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#a940d8478e9124a309af6b98b9b1caef9">getBoolRC</a>());</div>
<div class="line"><a name="l07721"></a><span class="lineno"> 7721</span>&#160;        <a class="code" href="classllvm_1_1SIInstrInfo.html#a9fac55ed154a25a20608a5f71dc833c0">materializeImmediate</a>(*PMBB, PMBB-&gt;getFirstTerminator(), <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a>(),</div>
<div class="line"><a name="l07722"></a><span class="lineno"> 7722</span>&#160;                             ZeroReg, 0);</div>
<div class="line"><a name="l07723"></a><span class="lineno"> 7723</span>&#160;        HeaderPHIBuilder.<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(ZeroReg);</div>
<div class="line"><a name="l07724"></a><span class="lineno"> 7724</span>&#160;      }</div>
<div class="line"><a name="l07725"></a><span class="lineno"> 7725</span>&#160;      HeaderPHIBuilder.<a class="code" href="classllvm_1_1MachineInstrBuilder.html#af8571e8dfb010fd8ae76cc4f87aafaac">addMBB</a>(PMBB);</div>
<div class="line"><a name="l07726"></a><span class="lineno"> 7726</span>&#160;    }</div>
<div class="line"><a name="l07727"></a><span class="lineno"> 7727</span>&#160;    <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *HeaderPhi = HeaderPHIBuilder;</div>
<div class="line"><a name="l07728"></a><span class="lineno"> 7728</span>&#160;    <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *SIIFBREAK = <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(*(MF), <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a359237c780f7c8e40645575826da8a3c">Branch</a>-&gt;getDebugLoc(),</div>
<div class="line"><a name="l07729"></a><span class="lineno"> 7729</span>&#160;                                      <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::SI_IF_BREAK), BackEdgeReg)</div>
<div class="line"><a name="l07730"></a><span class="lineno"> 7730</span>&#160;                                  .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(DstReg)</div>
<div class="line"><a name="l07731"></a><span class="lineno"> 7731</span>&#160;                                  .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a1ac8d27532cfd1d1f032ecbff2ba3611">add</a>(<a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a359237c780f7c8e40645575826da8a3c">Branch</a>-&gt;getOperand(0));</div>
<div class="line"><a name="l07732"></a><span class="lineno"> 7732</span>&#160;    <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *SILOOP =</div>
<div class="line"><a name="l07733"></a><span class="lineno"> 7733</span>&#160;        <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(*(MF), <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a359237c780f7c8e40645575826da8a3c">Branch</a>-&gt;getDebugLoc(), <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::SI_LOOP))</div>
<div class="line"><a name="l07734"></a><span class="lineno"> 7734</span>&#160;            .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(BackEdgeReg)</div>
<div class="line"><a name="l07735"></a><span class="lineno"> 7735</span>&#160;            .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#af8571e8dfb010fd8ae76cc4f87aafaac">addMBB</a>(LoopEntry);</div>
<div class="line"><a name="l07736"></a><span class="lineno"> 7736</span>&#160; </div>
<div class="line"><a name="l07737"></a><span class="lineno"> 7737</span>&#160;    LoopEntry-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#a3435a2381e60e842e915f85c931b7dde">insert</a>(LoopEntry-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#ab2d91e7bec944efcbc39d8e30644f111">begin</a>(), HeaderPhi);</div>
<div class="line"><a name="l07738"></a><span class="lineno"> 7738</span>&#160;    LoopEnd-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#ad26bff839257f220557ce812b2159c72">erase</a>(TI);</div>
<div class="line"><a name="l07739"></a><span class="lineno"> 7739</span>&#160;    LoopEnd-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#a3435a2381e60e842e915f85c931b7dde">insert</a>(LoopEnd-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">end</a>(), SIIFBREAK);</div>
<div class="line"><a name="l07740"></a><span class="lineno"> 7740</span>&#160;    LoopEnd-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#a3435a2381e60e842e915f85c931b7dde">insert</a>(LoopEnd-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">end</a>(), SILOOP);</div>
<div class="line"><a name="l07741"></a><span class="lineno"> 7741</span>&#160;  }</div>
<div class="line"><a name="l07742"></a><span class="lineno"> 7742</span>&#160;}</div>
<div class="line"><a name="l07743"></a><span class="lineno"> 7743</span>&#160; </div>
<div class="line"><a name="l07744"></a><span class="lineno"> 7744</span>&#160;<a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;std::pair&lt;int, const char *&gt;</a>&gt;</div>
<div class="line"><a name="l07745"></a><span class="lineno"><a class="line" href="classllvm_1_1SIInstrInfo.html#abb7d43f6cef90b6a7954a38c64fd31d6"> 7745</a></span>&#160;<a class="code" href="classllvm_1_1SIInstrInfo.html#abb7d43f6cef90b6a7954a38c64fd31d6">SIInstrInfo::getSerializableTargetIndices</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l07746"></a><span class="lineno"> 7746</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> std::pair&lt;int, const char *&gt; TargetIndices[] = {</div>
<div class="line"><a name="l07747"></a><span class="lineno"> 7747</span>&#160;      {<a class="code" href="namespacellvm_1_1AMDGPU.html#abe1ffb7444626273ec47b5526acfdeecaf272dd7e3cb82c0cfe63d334df30b2bd">AMDGPU::TI_CONSTDATA_START</a>, <span class="stringliteral">&quot;amdgpu-constdata-start&quot;</span>},</div>
<div class="line"><a name="l07748"></a><span class="lineno"> 7748</span>&#160;      {<a class="code" href="namespacellvm_1_1AMDGPU.html#abe1ffb7444626273ec47b5526acfdeecac29025755991987ce428f17a06249777">AMDGPU::TI_SCRATCH_RSRC_DWORD0</a>, <span class="stringliteral">&quot;amdgpu-scratch-rsrc-dword0&quot;</span>},</div>
<div class="line"><a name="l07749"></a><span class="lineno"> 7749</span>&#160;      {<a class="code" href="namespacellvm_1_1AMDGPU.html#abe1ffb7444626273ec47b5526acfdeeca82f70483c4222cdb713853c39905d3ed">AMDGPU::TI_SCRATCH_RSRC_DWORD1</a>, <span class="stringliteral">&quot;amdgpu-scratch-rsrc-dword1&quot;</span>},</div>
<div class="line"><a name="l07750"></a><span class="lineno"> 7750</span>&#160;      {<a class="code" href="namespacellvm_1_1AMDGPU.html#abe1ffb7444626273ec47b5526acfdeecae8cfedcf88479cd7484e7342f2f2cc72">AMDGPU::TI_SCRATCH_RSRC_DWORD2</a>, <span class="stringliteral">&quot;amdgpu-scratch-rsrc-dword2&quot;</span>},</div>
<div class="line"><a name="l07751"></a><span class="lineno"> 7751</span>&#160;      {<a class="code" href="namespacellvm_1_1AMDGPU.html#abe1ffb7444626273ec47b5526acfdeeca89d5abd5e008a11096b19f24eb566914">AMDGPU::TI_SCRATCH_RSRC_DWORD3</a>, <span class="stringliteral">&quot;amdgpu-scratch-rsrc-dword3&quot;</span>}};</div>
<div class="line"><a name="l07752"></a><span class="lineno"> 7752</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#ab9c6b351507d3c0730f4290919d43a12">ArrayRef</a>(TargetIndices);</div>
<div class="line"><a name="l07753"></a><span class="lineno"> 7753</span>&#160;}</div>
<div class="line"><a name="l07754"></a><span class="lineno"> 7754</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l07755"></a><span class="lineno"> 7755</span>&#160;<span class="comment">/// This is used by the post-RA scheduler (SchedulePostRAList.cpp).  The</span></div>
<div class="line"><a name="l07756"></a><span class="lineno"> 7756</span>&#160;<span class="comment">/// post-RA version of misched uses CreateTargetMIHazardRecognizer.</span></div>
<div class="line"><a name="l07757"></a><span class="lineno"> 7757</span>&#160;<span class="comment"></span><a class="code" href="classllvm_1_1ScheduleHazardRecognizer.html">ScheduleHazardRecognizer</a> *</div>
<div class="line"><a name="l07758"></a><span class="lineno"><a class="line" href="classllvm_1_1SIInstrInfo.html#ab56dfc46c9da130d7a7e06d7d6588164"> 7758</a></span>&#160;<a class="code" href="classllvm_1_1SIInstrInfo.html#ab56dfc46c9da130d7a7e06d7d6588164">SIInstrInfo::CreateTargetPostRAHazardRecognizer</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1InstrItineraryData.html">InstrItineraryData</a> *II,</div>
<div class="line"><a name="l07759"></a><span class="lineno"> 7759</span>&#160;                                            <span class="keyword">const</span> <a class="code" href="classllvm_1_1ScheduleDAG.html">ScheduleDAG</a> *DAG)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l07760"></a><span class="lineno"> 7760</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="classllvm_1_1GCNHazardRecognizer.html">GCNHazardRecognizer</a>(DAG-&gt;<a class="code" href="classllvm_1_1ScheduleDAG.html#a5a3d3d075a208011a24a0918b58d7daa">MF</a>);</div>
<div class="line"><a name="l07761"></a><span class="lineno"> 7761</span>&#160;}</div>
<div class="line"><a name="l07762"></a><span class="lineno"> 7762</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l07763"></a><span class="lineno"> 7763</span>&#160;<span class="comment">/// This is the hazard recognizer used at -O0 by the PostRAHazardRecognizer</span></div>
<div class="line"><a name="l07764"></a><span class="lineno"> 7764</span>&#160;<span class="comment">/// pass.</span></div>
<div class="line"><a name="l07765"></a><span class="lineno"> 7765</span>&#160;<span class="comment"></span><a class="code" href="classllvm_1_1ScheduleHazardRecognizer.html">ScheduleHazardRecognizer</a> *</div>
<div class="line"><a name="l07766"></a><span class="lineno"><a class="line" href="classllvm_1_1SIInstrInfo.html#aec04a6eb6586a960ecd2e9210cac2952"> 7766</a></span>&#160;<a class="code" href="classllvm_1_1SIInstrInfo.html#ab56dfc46c9da130d7a7e06d7d6588164">SIInstrInfo::CreateTargetPostRAHazardRecognizer</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l07767"></a><span class="lineno"> 7767</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="classllvm_1_1GCNHazardRecognizer.html">GCNHazardRecognizer</a>(MF);</div>
<div class="line"><a name="l07768"></a><span class="lineno"> 7768</span>&#160;}</div>
<div class="line"><a name="l07769"></a><span class="lineno"> 7769</span>&#160; </div>
<div class="line"><a name="l07770"></a><span class="lineno"> 7770</span>&#160;<span class="comment">// Called during:</span></div>
<div class="line"><a name="l07771"></a><span class="lineno"> 7771</span>&#160;<span class="comment">// - pre-RA scheduling and post-RA scheduling</span></div>
<div class="line"><a name="l07772"></a><span class="lineno"> 7772</span>&#160;<a class="code" href="classllvm_1_1ScheduleHazardRecognizer.html">ScheduleHazardRecognizer</a> *</div>
<div class="line"><a name="l07773"></a><span class="lineno"><a class="line" href="classllvm_1_1SIInstrInfo.html#a4ab6232188433548694ea1a9a98d542f"> 7773</a></span>&#160;<a class="code" href="classllvm_1_1SIInstrInfo.html#a4ab6232188433548694ea1a9a98d542f">SIInstrInfo::CreateTargetMIHazardRecognizer</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1InstrItineraryData.html">InstrItineraryData</a> *II,</div>
<div class="line"><a name="l07774"></a><span class="lineno"> 7774</span>&#160;                                            <span class="keyword">const</span> <a class="code" href="classllvm_1_1ScheduleDAGMI.html">ScheduleDAGMI</a> *DAG)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l07775"></a><span class="lineno"> 7775</span>&#160;  <span class="comment">// Borrowed from Arm Target</span></div>
<div class="line"><a name="l07776"></a><span class="lineno"> 7776</span>&#160;  <span class="comment">// We would like to restrict this hazard recognizer to only</span></div>
<div class="line"><a name="l07777"></a><span class="lineno"> 7777</span>&#160;  <span class="comment">// post-RA scheduling; we can tell that we&#39;re post-RA because we don&#39;t</span></div>
<div class="line"><a name="l07778"></a><span class="lineno"> 7778</span>&#160;  <span class="comment">// track VRegLiveness.</span></div>
<div class="line"><a name="l07779"></a><span class="lineno"> 7779</span>&#160;  <span class="keywordflow">if</span> (!DAG-&gt;<a class="code" href="classllvm_1_1ScheduleDAGMI.html#a78c0f3feb8a81ca338f843494cff564e">hasVRegLiveness</a>())</div>
<div class="line"><a name="l07780"></a><span class="lineno"> 7780</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="classllvm_1_1GCNHazardRecognizer.html">GCNHazardRecognizer</a>(DAG-&gt;<a class="code" href="classllvm_1_1ScheduleDAG.html#a5a3d3d075a208011a24a0918b58d7daa">MF</a>);</div>
<div class="line"><a name="l07781"></a><span class="lineno"> 7781</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1TargetInstrInfo.html#a5da941cb7cfe3ae9b3dae1f5caac8b78">TargetInstrInfo::CreateTargetMIHazardRecognizer</a>(II, DAG);</div>
<div class="line"><a name="l07782"></a><span class="lineno"> 7782</span>&#160;}</div>
<div class="line"><a name="l07783"></a><span class="lineno"> 7783</span>&#160; </div>
<div class="line"><a name="l07784"></a><span class="lineno"> 7784</span>&#160;std::pair&lt;unsigned, unsigned&gt;</div>
<div class="line"><a name="l07785"></a><span class="lineno"><a class="line" href="classllvm_1_1SIInstrInfo.html#af346776aba97ebc30be21629ac0eadb9"> 7785</a></span>&#160;<a class="code" href="classllvm_1_1SIInstrInfo.html#af346776aba97ebc30be21629ac0eadb9">SIInstrInfo::decomposeMachineOperandsTargetFlags</a>(<span class="keywordtype">unsigned</span> TF)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l07786"></a><span class="lineno"> 7786</span>&#160;  <span class="keywordflow">return</span> std::pair(TF &amp; <a class="code" href="classllvm_1_1SIInstrInfo.html#ade90146180a53b9d9edc077b933e70bba31e6af0765d85a29b3539b4b14a42998">MO_MASK</a>, TF &amp; ~<a class="code" href="classllvm_1_1SIInstrInfo.html#ade90146180a53b9d9edc077b933e70bba31e6af0765d85a29b3539b4b14a42998">MO_MASK</a>);</div>
<div class="line"><a name="l07787"></a><span class="lineno"> 7787</span>&#160;}</div>
<div class="line"><a name="l07788"></a><span class="lineno"> 7788</span>&#160; </div>
<div class="line"><a name="l07789"></a><span class="lineno"> 7789</span>&#160;<a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;std::pair&lt;unsigned, const char *&gt;</a>&gt;</div>
<div class="line"><a name="l07790"></a><span class="lineno"><a class="line" href="classllvm_1_1SIInstrInfo.html#a1bb14a9b3b3a3886cead6fd320980b3a"> 7790</a></span>&#160;<a class="code" href="classllvm_1_1SIInstrInfo.html#a1bb14a9b3b3a3886cead6fd320980b3a">SIInstrInfo::getSerializableDirectMachineOperandTargetFlags</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l07791"></a><span class="lineno"> 7791</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> std::pair&lt;unsigned, const char *&gt; TargetFlags[] = {</div>
<div class="line"><a name="l07792"></a><span class="lineno"> 7792</span>&#160;    { <a class="code" href="classllvm_1_1SIInstrInfo.html#ade90146180a53b9d9edc077b933e70bbae1cf0b40cb6ab32eca2bb094dbf01c87">MO_GOTPCREL</a>, <span class="stringliteral">&quot;amdgpu-gotprel&quot;</span> },</div>
<div class="line"><a name="l07793"></a><span class="lineno"> 7793</span>&#160;    { <a class="code" href="classllvm_1_1SIInstrInfo.html#ade90146180a53b9d9edc077b933e70bba2a19cea491a8770e242de4561299ee96">MO_GOTPCREL32_LO</a>, <span class="stringliteral">&quot;amdgpu-gotprel32-lo&quot;</span> },</div>
<div class="line"><a name="l07794"></a><span class="lineno"> 7794</span>&#160;    { <a class="code" href="classllvm_1_1SIInstrInfo.html#ade90146180a53b9d9edc077b933e70bbad2a7a2d26258b290db9b195d021623a2">MO_GOTPCREL32_HI</a>, <span class="stringliteral">&quot;amdgpu-gotprel32-hi&quot;</span> },</div>
<div class="line"><a name="l07795"></a><span class="lineno"> 7795</span>&#160;    { <a class="code" href="classllvm_1_1SIInstrInfo.html#ade90146180a53b9d9edc077b933e70bba878d31fbae9344bcf4e0b9a8928f4107">MO_REL32_LO</a>, <span class="stringliteral">&quot;amdgpu-rel32-lo&quot;</span> },</div>
<div class="line"><a name="l07796"></a><span class="lineno"> 7796</span>&#160;    { <a class="code" href="classllvm_1_1SIInstrInfo.html#ade90146180a53b9d9edc077b933e70bba5330b2c3f2242c9c700f91ae1372500e">MO_REL32_HI</a>, <span class="stringliteral">&quot;amdgpu-rel32-hi&quot;</span> },</div>
<div class="line"><a name="l07797"></a><span class="lineno"> 7797</span>&#160;    { <a class="code" href="classllvm_1_1SIInstrInfo.html#ade90146180a53b9d9edc077b933e70bbafe82a0bc03151bffd10d66929b1ed545">MO_ABS32_LO</a>, <span class="stringliteral">&quot;amdgpu-abs32-lo&quot;</span> },</div>
<div class="line"><a name="l07798"></a><span class="lineno"> 7798</span>&#160;    { <a class="code" href="classllvm_1_1SIInstrInfo.html#ade90146180a53b9d9edc077b933e70bba3e9ced1912f545db50d64c7932e9ae72">MO_ABS32_HI</a>, <span class="stringliteral">&quot;amdgpu-abs32-hi&quot;</span> },</div>
<div class="line"><a name="l07799"></a><span class="lineno"> 7799</span>&#160;  };</div>
<div class="line"><a name="l07800"></a><span class="lineno"> 7800</span>&#160; </div>
<div class="line"><a name="l07801"></a><span class="lineno"> 7801</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#ab9c6b351507d3c0730f4290919d43a12">ArrayRef</a>(TargetFlags);</div>
<div class="line"><a name="l07802"></a><span class="lineno"> 7802</span>&#160;}</div>
<div class="line"><a name="l07803"></a><span class="lineno"> 7803</span>&#160; </div>
<div class="line"><a name="l07804"></a><span class="lineno"> 7804</span>&#160;<a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;std::pair&lt;MachineMemOperand::Flags, const char *&gt;</a>&gt;</div>
<div class="line"><a name="l07805"></a><span class="lineno"><a class="line" href="classllvm_1_1SIInstrInfo.html#ad2a37b361832888b7decb77cfdf3d465"> 7805</a></span>&#160;<a class="code" href="classllvm_1_1SIInstrInfo.html#ad2a37b361832888b7decb77cfdf3d465">SIInstrInfo::getSerializableMachineMemOperandTargetFlags</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l07806"></a><span class="lineno"> 7806</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> std::pair&lt;MachineMemOperand::Flags, const char *&gt; TargetFlags[] =</div>
<div class="line"><a name="l07807"></a><span class="lineno"> 7807</span>&#160;      {</div>
<div class="line"><a name="l07808"></a><span class="lineno"> 7808</span>&#160;          {<a class="code" href="namespacellvm.html#a615f4542f26ca7383f06e780996f8ef3">MONoClobber</a>, <span class="stringliteral">&quot;amdgpu-noclobber&quot;</span>},</div>
<div class="line"><a name="l07809"></a><span class="lineno"> 7809</span>&#160;      };</div>
<div class="line"><a name="l07810"></a><span class="lineno"> 7810</span>&#160; </div>
<div class="line"><a name="l07811"></a><span class="lineno"> 7811</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#ab9c6b351507d3c0730f4290919d43a12">ArrayRef</a>(TargetFlags);</div>
<div class="line"><a name="l07812"></a><span class="lineno"> 7812</span>&#160;}</div>
<div class="line"><a name="l07813"></a><span class="lineno"> 7813</span>&#160; </div>
<div class="line"><a name="l07814"></a><span class="lineno"><a class="line" href="classllvm_1_1SIInstrInfo.html#a4caa6a9d1e0cbdab6787bf09d96bc082"> 7814</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1SIInstrInfo.html#a4caa6a9d1e0cbdab6787bf09d96bc082">SIInstrInfo::isBasicBlockPrologue</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l07815"></a><span class="lineno"> 7815</span>&#160;  <span class="keywordflow">return</span> !<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.isTerminator() &amp;&amp; <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode() != AMDGPU::COPY &amp;&amp;</div>
<div class="line"><a name="l07816"></a><span class="lineno"> 7816</span>&#160;         <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.modifiesRegister(AMDGPU::EXEC, &amp;RI);</div>
<div class="line"><a name="l07817"></a><span class="lineno"> 7817</span>&#160;}</div>
<div class="line"><a name="l07818"></a><span class="lineno"> 7818</span>&#160; </div>
<div class="line"><a name="l07819"></a><span class="lineno"> 7819</span>&#160;<a class="code" href="classllvm_1_1MachineInstrBuilder.html">MachineInstrBuilder</a></div>
<div class="line"><a name="l07820"></a><span class="lineno"><a class="line" href="classllvm_1_1SIInstrInfo.html#a15fe0ce54453ae7355ee50ef1beb52a0"> 7820</a></span>&#160;<a class="code" href="classllvm_1_1SIInstrInfo.html#a15fe0ce54453ae7355ee50ef1beb52a0">SIInstrInfo::getAddNoCarry</a>(<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>,</div>
<div class="line"><a name="l07821"></a><span class="lineno"> 7821</span>&#160;                           <a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>,</div>
<div class="line"><a name="l07822"></a><span class="lineno"> 7822</span>&#160;                           <span class="keyword">const</span> <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>,</div>
<div class="line"><a name="l07823"></a><span class="lineno"> 7823</span>&#160;                           <a class="code" href="classllvm_1_1Register.html">Register</a> DestReg)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l07824"></a><span class="lineno"> 7824</span>&#160;  <span class="keywordflow">if</span> (ST.<a class="code" href="classllvm_1_1GCNSubtarget.html#ae431b2e8fc0aee94b01cece42984d2dd">hasAddNoCarry</a>())</div>
<div class="line"><a name="l07825"></a><span class="lineno"> 7825</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::V_ADD_U32_e64), DestReg);</div>
<div class="line"><a name="l07826"></a><span class="lineno"> 7826</span>&#160; </div>
<div class="line"><a name="l07827"></a><span class="lineno"> 7827</span>&#160;  <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a> = <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a4e21760f681d6f97f95c8414e7b83ea5">getParent</a>()-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>();</div>
<div class="line"><a name="l07828"></a><span class="lineno"> 7828</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> UnusedCarry = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5c77792a06583e0fe7a0379ad94a2809">createVirtualRegister</a>(RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#a940d8478e9124a309af6b98b9b1caef9">getBoolRC</a>());</div>
<div class="line"><a name="l07829"></a><span class="lineno"> 7829</span>&#160;  <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a8e27d94e24a9bc2d6c7d719bed9637e3">setRegAllocationHint</a>(UnusedCarry, 0, RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#adbdf0119b398fd6464742936fe420056">getVCC</a>());</div>
<div class="line"><a name="l07830"></a><span class="lineno"> 7830</span>&#160; </div>
<div class="line"><a name="l07831"></a><span class="lineno"> 7831</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::V_ADD_CO_U32_e64), DestReg)</div>
<div class="line"><a name="l07832"></a><span class="lineno"> 7832</span>&#160;           .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(UnusedCarry, <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da72c17e2ff2d5af62a30e56ac152aa8d5">RegState::Define</a> | <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da2fee1a7db4e84247a193a9af1f907013">RegState::Dead</a>);</div>
<div class="line"><a name="l07833"></a><span class="lineno"> 7833</span>&#160;}</div>
<div class="line"><a name="l07834"></a><span class="lineno"> 7834</span>&#160; </div>
<div class="line"><a name="l07835"></a><span class="lineno"><a class="line" href="classllvm_1_1SIInstrInfo.html#aed0535a6ce0e4e5969a60a1635d0b18a"> 7835</a></span>&#160;<a class="code" href="classllvm_1_1MachineInstrBuilder.html">MachineInstrBuilder</a> <a class="code" href="classllvm_1_1SIInstrInfo.html#a15fe0ce54453ae7355ee50ef1beb52a0">SIInstrInfo::getAddNoCarry</a>(<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>,</div>
<div class="line"><a name="l07836"></a><span class="lineno"> 7836</span>&#160;                                               <a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>,</div>
<div class="line"><a name="l07837"></a><span class="lineno"> 7837</span>&#160;                                               <span class="keyword">const</span> <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>,</div>
<div class="line"><a name="l07838"></a><span class="lineno"> 7838</span>&#160;                                               <a class="code" href="classllvm_1_1Register.html">Register</a> DestReg,</div>
<div class="line"><a name="l07839"></a><span class="lineno"> 7839</span>&#160;                                               <a class="code" href="classllvm_1_1RegScavenger.html">RegScavenger</a> &amp;RS)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l07840"></a><span class="lineno"> 7840</span>&#160;  <span class="keywordflow">if</span> (ST.<a class="code" href="classllvm_1_1GCNSubtarget.html#ae431b2e8fc0aee94b01cece42984d2dd">hasAddNoCarry</a>())</div>
<div class="line"><a name="l07841"></a><span class="lineno"> 7841</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::V_ADD_U32_e32), DestReg);</div>
<div class="line"><a name="l07842"></a><span class="lineno"> 7842</span>&#160; </div>
<div class="line"><a name="l07843"></a><span class="lineno"> 7843</span>&#160;  <span class="comment">// If available, prefer to use vcc.</span></div>
<div class="line"><a name="l07844"></a><span class="lineno"> 7844</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> UnusedCarry = !RS.<a class="code" href="classllvm_1_1RegScavenger.html#a27037167fddcdde3b6207d025267bbfc">isRegUsed</a>(AMDGPU::VCC)</div>
<div class="line"><a name="l07845"></a><span class="lineno"> 7845</span>&#160;                             ? <a class="code" href="classllvm_1_1Register.html">Register</a>(RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#adbdf0119b398fd6464742936fe420056">getVCC</a>())</div>
<div class="line"><a name="l07846"></a><span class="lineno"> 7846</span>&#160;                             : RS.<a class="code" href="classllvm_1_1RegScavenger.html#a291cc21c757ff76108ff9f36c57723e9">scavengeRegister</a>(RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#a940d8478e9124a309af6b98b9b1caef9">getBoolRC</a>(), <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, 0, <span class="keyword">false</span>);</div>
<div class="line"><a name="l07847"></a><span class="lineno"> 7847</span>&#160; </div>
<div class="line"><a name="l07848"></a><span class="lineno"> 7848</span>&#160;  <span class="comment">// TODO: Users need to deal with this.</span></div>
<div class="line"><a name="l07849"></a><span class="lineno"> 7849</span>&#160;  <span class="keywordflow">if</span> (!UnusedCarry.<a class="code" href="classllvm_1_1Register.html#a4a6966b99e305bd6f01fb17c645ae3da">isValid</a>())</div>
<div class="line"><a name="l07850"></a><span class="lineno"> 7850</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1MachineInstrBuilder.html">MachineInstrBuilder</a>();</div>
<div class="line"><a name="l07851"></a><span class="lineno"> 7851</span>&#160; </div>
<div class="line"><a name="l07852"></a><span class="lineno"> 7852</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::V_ADD_CO_U32_e64), DestReg)</div>
<div class="line"><a name="l07853"></a><span class="lineno"> 7853</span>&#160;           .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(UnusedCarry, <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da72c17e2ff2d5af62a30e56ac152aa8d5">RegState::Define</a> | <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da2fee1a7db4e84247a193a9af1f907013">RegState::Dead</a>);</div>
<div class="line"><a name="l07854"></a><span class="lineno"> 7854</span>&#160;}</div>
<div class="line"><a name="l07855"></a><span class="lineno"> 7855</span>&#160; </div>
<div class="line"><a name="l07856"></a><span class="lineno"><a class="line" href="classllvm_1_1SIInstrInfo.html#a6ca25d96b652c00368600bd3845f5591"> 7856</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1SIInstrInfo.html#a6ca25d96b652c00368600bd3845f5591">SIInstrInfo::isKillTerminator</a>(<span class="keywordtype">unsigned</span> Opcode) {</div>
<div class="line"><a name="l07857"></a><span class="lineno"> 7857</span>&#160;  <span class="keywordflow">switch</span> (Opcode) {</div>
<div class="line"><a name="l07858"></a><span class="lineno"> 7858</span>&#160;  <span class="keywordflow">case</span> AMDGPU::SI_KILL_F32_COND_IMM_TERMINATOR:</div>
<div class="line"><a name="l07859"></a><span class="lineno"> 7859</span>&#160;  <span class="keywordflow">case</span> AMDGPU::SI_KILL_I1_TERMINATOR:</div>
<div class="line"><a name="l07860"></a><span class="lineno"> 7860</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l07861"></a><span class="lineno"> 7861</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l07862"></a><span class="lineno"> 7862</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l07863"></a><span class="lineno"> 7863</span>&#160;  }</div>
<div class="line"><a name="l07864"></a><span class="lineno"> 7864</span>&#160;}</div>
<div class="line"><a name="l07865"></a><span class="lineno"> 7865</span>&#160; </div>
<div class="line"><a name="l07866"></a><span class="lineno"><a class="line" href="classllvm_1_1SIInstrInfo.html#a339cb5c023edce57dbe8c60c466b0f68"> 7866</a></span>&#160;<span class="keyword">const</span> <a class="code" href="classllvm_1_1MCInstrDesc.html">MCInstrDesc</a> &amp;<a class="code" href="classllvm_1_1SIInstrInfo.html#a339cb5c023edce57dbe8c60c466b0f68">SIInstrInfo::getKillTerminatorFromPseudo</a>(<span class="keywordtype">unsigned</span> Opcode)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l07867"></a><span class="lineno"> 7867</span>&#160;  <span class="keywordflow">switch</span> (Opcode) {</div>
<div class="line"><a name="l07868"></a><span class="lineno"> 7868</span>&#160;  <span class="keywordflow">case</span> AMDGPU::SI_KILL_F32_COND_IMM_PSEUDO:</div>
<div class="line"><a name="l07869"></a><span class="lineno"> 7869</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::SI_KILL_F32_COND_IMM_TERMINATOR);</div>
<div class="line"><a name="l07870"></a><span class="lineno"> 7870</span>&#160;  <span class="keywordflow">case</span> AMDGPU::SI_KILL_I1_PSEUDO:</div>
<div class="line"><a name="l07871"></a><span class="lineno"> 7871</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::SI_KILL_I1_TERMINATOR);</div>
<div class="line"><a name="l07872"></a><span class="lineno"> 7872</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l07873"></a><span class="lineno"> 7873</span>&#160;    <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;invalid opcode, expected SI_KILL_*_PSEUDO&quot;</span>);</div>
<div class="line"><a name="l07874"></a><span class="lineno"> 7874</span>&#160;  }</div>
<div class="line"><a name="l07875"></a><span class="lineno"> 7875</span>&#160;}</div>
<div class="line"><a name="l07876"></a><span class="lineno"> 7876</span>&#160; </div>
<div class="line"><a name="l07877"></a><span class="lineno"><a class="line" href="classllvm_1_1SIInstrInfo.html#ac76905a82cf568afc14dd95691c867f0"> 7877</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1SIInstrInfo.html#ac76905a82cf568afc14dd95691c867f0">SIInstrInfo::fixImplicitOperands</a>(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l07878"></a><span class="lineno"> 7878</span>&#160;  <span class="keywordflow">if</span> (!ST.<a class="code" href="classllvm_1_1GCNSubtarget.html#a9f44cd05eefbb20a234a7e3b6369a7f8">isWave32</a>())</div>
<div class="line"><a name="l07879"></a><span class="lineno"> 7879</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l07880"></a><span class="lineno"> 7880</span>&#160; </div>
<div class="line"><a name="l07881"></a><span class="lineno"> 7881</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> : <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.implicit_operands()) {</div>
<div class="line"><a name="l07882"></a><span class="lineno"> 7882</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.isReg() &amp;&amp; <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getReg() == AMDGPU::VCC)</div>
<div class="line"><a name="l07883"></a><span class="lineno"> 7883</span>&#160;      <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.setReg(AMDGPU::VCC_LO);</div>
<div class="line"><a name="l07884"></a><span class="lineno"> 7884</span>&#160;  }</div>
<div class="line"><a name="l07885"></a><span class="lineno"> 7885</span>&#160;}</div>
<div class="line"><a name="l07886"></a><span class="lineno"> 7886</span>&#160; </div>
<div class="line"><a name="l07887"></a><span class="lineno"><a class="line" href="classllvm_1_1SIInstrInfo.html#a6c6831e85182fd706818bd9196f8604a"> 7887</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1SIInstrInfo.html#a6c6831e85182fd706818bd9196f8604a">SIInstrInfo::isBufferSMRD</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l07888"></a><span class="lineno"> 7888</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1SIInstrInfo.html#a1c990a34866f377751f50f112cef61bc">isSMRD</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>))</div>
<div class="line"><a name="l07889"></a><span class="lineno"> 7889</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l07890"></a><span class="lineno"> 7890</span>&#160; </div>
<div class="line"><a name="l07891"></a><span class="lineno"> 7891</span>&#160;  <span class="comment">// Check that it is using a buffer resource.</span></div>
<div class="line"><a name="l07892"></a><span class="lineno"> 7892</span>&#160;  <span class="keywordtype">int</span> Idx = <a class="code" href="namespacellvm_1_1AMDGPU.html#a27efe1286cc31f5fc95355af30b0356c">AMDGPU::getNamedOperandIdx</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode(), AMDGPU::OpName::sbase);</div>
<div class="line"><a name="l07893"></a><span class="lineno"> 7893</span>&#160;  <span class="keywordflow">if</span> (Idx == -1) <span class="comment">// e.g. s_memtime</span></div>
<div class="line"><a name="l07894"></a><span class="lineno"> 7894</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l07895"></a><span class="lineno"> 7895</span>&#160; </div>
<div class="line"><a name="l07896"></a><span class="lineno"> 7896</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> RCID = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getDesc().operands()[Idx].RegClass;</div>
<div class="line"><a name="l07897"></a><span class="lineno"> 7897</span>&#160;  <span class="keywordflow">return</span> RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#a0e2008041a23dfc43ff1e90b014a2936">getRegClass</a>(RCID)-&gt;<a class="code" href="classllvm_1_1TargetRegisterClass.html#a8ea8ce186fc4a70ad542e74d015d84ed">hasSubClassEq</a>(&amp;AMDGPU::SGPR_128RegClass);</div>
<div class="line"><a name="l07898"></a><span class="lineno"> 7898</span>&#160;}</div>
<div class="line"><a name="l07899"></a><span class="lineno"> 7899</span>&#160; </div>
<div class="line"><a name="l07900"></a><span class="lineno"> 7900</span>&#160;<span class="comment">// Depending on the used address space and instructions, some immediate offsets</span></div>
<div class="line"><a name="l07901"></a><span class="lineno"> 7901</span>&#160;<span class="comment">// are allowed and some are not.</span></div>
<div class="line"><a name="l07902"></a><span class="lineno"> 7902</span>&#160;<span class="comment">// In general, flat instruction offsets can only be non-negative, global and</span></div>
<div class="line"><a name="l07903"></a><span class="lineno"> 7903</span>&#160;<span class="comment">// scratch instruction offsets can also be negative.</span></div>
<div class="line"><a name="l07904"></a><span class="lineno"> 7904</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l07905"></a><span class="lineno"> 7905</span>&#160;<span class="comment">// There are several bugs related to these offsets:</span></div>
<div class="line"><a name="l07906"></a><span class="lineno"> 7906</span>&#160;<span class="comment">// On gfx10.1, flat instructions that go into the global address space cannot</span></div>
<div class="line"><a name="l07907"></a><span class="lineno"> 7907</span>&#160;<span class="comment">// use an offset.</span></div>
<div class="line"><a name="l07908"></a><span class="lineno"> 7908</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l07909"></a><span class="lineno"> 7909</span>&#160;<span class="comment">// For scratch instructions, the address can be either an SGPR or a VGPR.</span></div>
<div class="line"><a name="l07910"></a><span class="lineno"> 7910</span>&#160;<span class="comment">// The following offsets can be used, depending on the architecture (x means</span></div>
<div class="line"><a name="l07911"></a><span class="lineno"> 7911</span>&#160;<span class="comment">// cannot be used):</span></div>
<div class="line"><a name="l07912"></a><span class="lineno"> 7912</span>&#160;<span class="comment">// +----------------------------+------+------+</span></div>
<div class="line"><a name="l07913"></a><span class="lineno"> 7913</span>&#160;<span class="comment">// | Address-Mode               | SGPR | VGPR |</span></div>
<div class="line"><a name="l07914"></a><span class="lineno"> 7914</span>&#160;<span class="comment">// +----------------------------+------+------+</span></div>
<div class="line"><a name="l07915"></a><span class="lineno"> 7915</span>&#160;<span class="comment">// | gfx9                       |      |      |</span></div>
<div class="line"><a name="l07916"></a><span class="lineno"> 7916</span>&#160;<span class="comment">// | negative, 4-aligned offset | x    | ok   |</span></div>
<div class="line"><a name="l07917"></a><span class="lineno"> 7917</span>&#160;<span class="comment">// | negative, unaligned offset | x    | ok   |</span></div>
<div class="line"><a name="l07918"></a><span class="lineno"> 7918</span>&#160;<span class="comment">// +----------------------------+------+------+</span></div>
<div class="line"><a name="l07919"></a><span class="lineno"> 7919</span>&#160;<span class="comment">// | gfx10                      |      |      |</span></div>
<div class="line"><a name="l07920"></a><span class="lineno"> 7920</span>&#160;<span class="comment">// | negative, 4-aligned offset | ok   | ok   |</span></div>
<div class="line"><a name="l07921"></a><span class="lineno"> 7921</span>&#160;<span class="comment">// | negative, unaligned offset | ok   | x    |</span></div>
<div class="line"><a name="l07922"></a><span class="lineno"> 7922</span>&#160;<span class="comment">// +----------------------------+------+------+</span></div>
<div class="line"><a name="l07923"></a><span class="lineno"> 7923</span>&#160;<span class="comment">// | gfx10.3                    |      |      |</span></div>
<div class="line"><a name="l07924"></a><span class="lineno"> 7924</span>&#160;<span class="comment">// | negative, 4-aligned offset | ok   | ok   |</span></div>
<div class="line"><a name="l07925"></a><span class="lineno"> 7925</span>&#160;<span class="comment">// | negative, unaligned offset | ok   | ok   |</span></div>
<div class="line"><a name="l07926"></a><span class="lineno"> 7926</span>&#160;<span class="comment">// +----------------------------+------+------+</span></div>
<div class="line"><a name="l07927"></a><span class="lineno"> 7927</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l07928"></a><span class="lineno"> 7928</span>&#160;<span class="comment">// This function ignores the addressing mode, so if an offset cannot be used in</span></div>
<div class="line"><a name="l07929"></a><span class="lineno"> 7929</span>&#160;<span class="comment">// one addressing mode, it is considered illegal.</span></div>
<div class="line"><a name="l07930"></a><span class="lineno"><a class="line" href="classllvm_1_1SIInstrInfo.html#ab97de5c81e48922426466768a69b38bf"> 7930</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1SIInstrInfo.html#ab97de5c81e48922426466768a69b38bf">SIInstrInfo::isLegalFLATOffset</a>(int64_t <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>, <span class="keywordtype">unsigned</span> AddrSpace,</div>
<div class="line"><a name="l07931"></a><span class="lineno"> 7931</span>&#160;                                    <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> FlatVariant)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l07932"></a><span class="lineno"> 7932</span>&#160;  <span class="comment">// TODO: Should 0 be special cased?</span></div>
<div class="line"><a name="l07933"></a><span class="lineno"> 7933</span>&#160;  <span class="keywordflow">if</span> (!ST.<a class="code" href="classllvm_1_1GCNSubtarget.html#a1b42b67d0df8ad1a351bbdc503c115a1">hasFlatInstOffsets</a>())</div>
<div class="line"><a name="l07934"></a><span class="lineno"> 7934</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l07935"></a><span class="lineno"> 7935</span>&#160; </div>
<div class="line"><a name="l07936"></a><span class="lineno"> 7936</span>&#160;  <span class="keywordflow">if</span> (ST.<a class="code" href="classllvm_1_1GCNSubtarget.html#a7c210fe3c1ded331101415c059606e2e">hasFlatSegmentOffsetBug</a>() &amp;&amp; FlatVariant == <a class="code" href="namespacellvm_1_1SIInstrFlags.html#ac8376ab01e1f2eb75e242eb464d3992dab0e8527c8c81d2caa91d9b2bd1852574">SIInstrFlags::FLAT</a> &amp;&amp;</div>
<div class="line"><a name="l07937"></a><span class="lineno"> 7937</span>&#160;      (AddrSpace == <a class="code" href="namespacellvm_1_1AMDGPUAS.html#ab1843c6566c95d94d6e36a857b8d2b3faaa1e27e4fc68e5706a4b7bbaed447c14">AMDGPUAS::FLAT_ADDRESS</a> ||</div>
<div class="line"><a name="l07938"></a><span class="lineno"> 7938</span>&#160;       AddrSpace == <a class="code" href="namespacellvm_1_1AMDGPUAS.html#ab1843c6566c95d94d6e36a857b8d2b3fabf4559ef958a13c33f6ec7ed13fd44e5">AMDGPUAS::GLOBAL_ADDRESS</a>))</div>
<div class="line"><a name="l07939"></a><span class="lineno"> 7939</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l07940"></a><span class="lineno"> 7940</span>&#160; </div>
<div class="line"><a name="l07941"></a><span class="lineno"> 7941</span>&#160;  <span class="keywordtype">bool</span> AllowNegative = FlatVariant != <a class="code" href="namespacellvm_1_1SIInstrFlags.html#ac8376ab01e1f2eb75e242eb464d3992dab0e8527c8c81d2caa91d9b2bd1852574">SIInstrFlags::FLAT</a>;</div>
<div class="line"><a name="l07942"></a><span class="lineno"> 7942</span>&#160;  <span class="keywordflow">if</span> (ST.<a class="code" href="classllvm_1_1GCNSubtarget.html#a31e93bb82e5ea95995efb52febbe0d8f">hasNegativeScratchOffsetBug</a>() &amp;&amp;</div>
<div class="line"><a name="l07943"></a><span class="lineno"> 7943</span>&#160;      FlatVariant == <a class="code" href="namespacellvm_1_1SIInstrFlags.html#ac8376ab01e1f2eb75e242eb464d3992da9a72e6ffd62dc38f5f4b7fd3e1f778da">SIInstrFlags::FlatScratch</a>)</div>
<div class="line"><a name="l07944"></a><span class="lineno"> 7944</span>&#160;    AllowNegative = <span class="keyword">false</span>;</div>
<div class="line"><a name="l07945"></a><span class="lineno"> 7945</span>&#160;  <span class="keywordflow">if</span> (ST.<a class="code" href="classllvm_1_1GCNSubtarget.html#aa727d0bfbc501329be7c48c86d8bdb8c">hasNegativeUnalignedScratchOffsetBug</a>() &amp;&amp;</div>
<div class="line"><a name="l07946"></a><span class="lineno"> 7946</span>&#160;      FlatVariant == <a class="code" href="namespacellvm_1_1SIInstrFlags.html#ac8376ab01e1f2eb75e242eb464d3992da9a72e6ffd62dc38f5f4b7fd3e1f778da">SIInstrFlags::FlatScratch</a> &amp;&amp; <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> &lt; 0 &amp;&amp;</div>
<div class="line"><a name="l07947"></a><span class="lineno"> 7947</span>&#160;      (<a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> % 4) != 0) {</div>
<div class="line"><a name="l07948"></a><span class="lineno"> 7948</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l07949"></a><span class="lineno"> 7949</span>&#160;  }</div>
<div class="line"><a name="l07950"></a><span class="lineno"> 7950</span>&#160; </div>
<div class="line"><a name="l07951"></a><span class="lineno"> 7951</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> = <a class="code" href="namespacellvm_1_1AMDGPU.html#a2e4f719c21c52424a5a4e87c0d77c9d8">AMDGPU::getNumFlatOffsetBits</a>(ST);</div>
<div class="line"><a name="l07952"></a><span class="lineno"> 7952</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#aad80b46c754cc7216244a866ec9b1cb0">isIntN</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>) &amp;&amp; (AllowNegative || <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> &gt;= 0);</div>
<div class="line"><a name="l07953"></a><span class="lineno"> 7953</span>&#160;}</div>
<div class="line"><a name="l07954"></a><span class="lineno"> 7954</span>&#160; </div>
<div class="line"><a name="l07955"></a><span class="lineno"> 7955</span>&#160;<span class="comment">// See comment on SIInstrInfo::isLegalFLATOffset for what is legal and what not.</span></div>
<div class="line"><a name="l07956"></a><span class="lineno"> 7956</span>&#160;std::pair&lt;int64_t, int64_t&gt;</div>
<div class="line"><a name="l07957"></a><span class="lineno"><a class="line" href="classllvm_1_1SIInstrInfo.html#a51b89f22fd1adb2250ed1a38ed01ff5a"> 7957</a></span>&#160;<a class="code" href="classllvm_1_1SIInstrInfo.html#a51b89f22fd1adb2250ed1a38ed01ff5a">SIInstrInfo::splitFlatOffset</a>(int64_t COffsetVal, <span class="keywordtype">unsigned</span> AddrSpace,</div>
<div class="line"><a name="l07958"></a><span class="lineno"> 7958</span>&#160;                             <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> FlatVariant)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l07959"></a><span class="lineno"> 7959</span>&#160;  int64_t RemainderOffset = COffsetVal;</div>
<div class="line"><a name="l07960"></a><span class="lineno"> 7960</span>&#160;  int64_t ImmField = 0;</div>
<div class="line"><a name="l07961"></a><span class="lineno"> 7961</span>&#160;  <span class="keywordtype">bool</span> AllowNegative = FlatVariant != <a class="code" href="namespacellvm_1_1SIInstrFlags.html#ac8376ab01e1f2eb75e242eb464d3992dab0e8527c8c81d2caa91d9b2bd1852574">SIInstrFlags::FLAT</a>;</div>
<div class="line"><a name="l07962"></a><span class="lineno"> 7962</span>&#160;  <span class="keywordflow">if</span> (ST.<a class="code" href="classllvm_1_1GCNSubtarget.html#a31e93bb82e5ea95995efb52febbe0d8f">hasNegativeScratchOffsetBug</a>() &amp;&amp;</div>
<div class="line"><a name="l07963"></a><span class="lineno"> 7963</span>&#160;      FlatVariant == <a class="code" href="namespacellvm_1_1SIInstrFlags.html#ac8376ab01e1f2eb75e242eb464d3992da9a72e6ffd62dc38f5f4b7fd3e1f778da">SIInstrFlags::FlatScratch</a>)</div>
<div class="line"><a name="l07964"></a><span class="lineno"> 7964</span>&#160;    AllowNegative = <span class="keyword">false</span>;</div>
<div class="line"><a name="l07965"></a><span class="lineno"> 7965</span>&#160; </div>
<div class="line"><a name="l07966"></a><span class="lineno"> 7966</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> NumBits = <a class="code" href="namespacellvm_1_1AMDGPU.html#a2e4f719c21c52424a5a4e87c0d77c9d8">AMDGPU::getNumFlatOffsetBits</a>(ST) - 1;</div>
<div class="line"><a name="l07967"></a><span class="lineno"> 7967</span>&#160;  <span class="keywordflow">if</span> (AllowNegative) {</div>
<div class="line"><a name="l07968"></a><span class="lineno"> 7968</span>&#160;    <span class="comment">// Use signed division by a power of two to truncate towards 0.</span></div>
<div class="line"><a name="l07969"></a><span class="lineno"> 7969</span>&#160;    int64_t <a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a> = 1LL &lt;&lt; NumBits;</div>
<div class="line"><a name="l07970"></a><span class="lineno"> 7970</span>&#160;    RemainderOffset = (COffsetVal / <a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a>) * <a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a>;</div>
<div class="line"><a name="l07971"></a><span class="lineno"> 7971</span>&#160;    ImmField = COffsetVal - RemainderOffset;</div>
<div class="line"><a name="l07972"></a><span class="lineno"> 7972</span>&#160; </div>
<div class="line"><a name="l07973"></a><span class="lineno"> 7973</span>&#160;    <span class="keywordflow">if</span> (ST.<a class="code" href="classllvm_1_1GCNSubtarget.html#aa727d0bfbc501329be7c48c86d8bdb8c">hasNegativeUnalignedScratchOffsetBug</a>() &amp;&amp;</div>
<div class="line"><a name="l07974"></a><span class="lineno"> 7974</span>&#160;        FlatVariant == <a class="code" href="namespacellvm_1_1SIInstrFlags.html#ac8376ab01e1f2eb75e242eb464d3992da9a72e6ffd62dc38f5f4b7fd3e1f778da">SIInstrFlags::FlatScratch</a> &amp;&amp; ImmField &lt; 0 &amp;&amp;</div>
<div class="line"><a name="l07975"></a><span class="lineno"> 7975</span>&#160;        (ImmField % 4) != 0) {</div>
<div class="line"><a name="l07976"></a><span class="lineno"> 7976</span>&#160;      <span class="comment">// Make ImmField a multiple of 4</span></div>
<div class="line"><a name="l07977"></a><span class="lineno"> 7977</span>&#160;      RemainderOffset += ImmField % 4;</div>
<div class="line"><a name="l07978"></a><span class="lineno"> 7978</span>&#160;      ImmField -= ImmField % 4;</div>
<div class="line"><a name="l07979"></a><span class="lineno"> 7979</span>&#160;    }</div>
<div class="line"><a name="l07980"></a><span class="lineno"> 7980</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (COffsetVal &gt;= 0) {</div>
<div class="line"><a name="l07981"></a><span class="lineno"> 7981</span>&#160;    ImmField = COffsetVal &amp; maskTrailingOnes&lt;uint64_t&gt;(NumBits);</div>
<div class="line"><a name="l07982"></a><span class="lineno"> 7982</span>&#160;    RemainderOffset = COffsetVal - ImmField;</div>
<div class="line"><a name="l07983"></a><span class="lineno"> 7983</span>&#160;  }</div>
<div class="line"><a name="l07984"></a><span class="lineno"> 7984</span>&#160; </div>
<div class="line"><a name="l07985"></a><span class="lineno"> 7985</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="classllvm_1_1SIInstrInfo.html#ab97de5c81e48922426466768a69b38bf">isLegalFLATOffset</a>(ImmField, AddrSpace, FlatVariant));</div>
<div class="line"><a name="l07986"></a><span class="lineno"> 7986</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(RemainderOffset + ImmField == COffsetVal);</div>
<div class="line"><a name="l07987"></a><span class="lineno"> 7987</span>&#160;  <span class="keywordflow">return</span> {ImmField, RemainderOffset};</div>
<div class="line"><a name="l07988"></a><span class="lineno"> 7988</span>&#160;}</div>
<div class="line"><a name="l07989"></a><span class="lineno"> 7989</span>&#160; </div>
<div class="line"><a name="l07990"></a><span class="lineno"> 7990</span>&#160;<span class="comment">// This must be kept in sync with the SIEncodingFamily class in SIInstrInfo.td</span></div>
<div class="line"><a name="l07991"></a><span class="lineno"> 7991</span>&#160;<span class="comment">// and the columns of the getMCOpcodeGen table.</span></div>
<div class="line"><a name="l07992"></a><span class="lineno"><a class="line" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2"> 7992</a></span>&#160;<span class="keyword">enum</span> <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2">SIEncodingFamily</a> {</div>
<div class="line"><a name="l07993"></a><span class="lineno"><a class="line" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791"> 7993</a></span>&#160;  <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a> = 0,</div>
<div class="line"><a name="l07994"></a><span class="lineno"><a class="line" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a97bce951e4585a39601c04d86bb14ffd"> 7994</a></span>&#160;  <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a97bce951e4585a39601c04d86bb14ffd">VI</a> = 1,</div>
<div class="line"><a name="l07995"></a><span class="lineno"><a class="line" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a63f08305acefcdb3952e82d7052df751"> 7995</a></span>&#160;  <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a63f08305acefcdb3952e82d7052df751">SDWA</a> = 2,</div>
<div class="line"><a name="l07996"></a><span class="lineno"><a class="line" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a34ed94c87973e7ffc8c092d4c3bf8bba"> 7996</a></span>&#160;  <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a34ed94c87973e7ffc8c092d4c3bf8bba">SDWA9</a> = 3,</div>
<div class="line"><a name="l07997"></a><span class="lineno"><a class="line" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a4493d9f4cb31140c0c5493b260f144f3"> 7997</a></span>&#160;  <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a4493d9f4cb31140c0c5493b260f144f3">GFX80</a> = 4,</div>
<div class="line"><a name="l07998"></a><span class="lineno"><a class="line" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2aff2703cd2f24986fdb450978797990a9"> 7998</a></span>&#160;  <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2aff2703cd2f24986fdb450978797990a9">GFX9</a> = 5,</div>
<div class="line"><a name="l07999"></a><span class="lineno"><a class="line" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2aef6494cb9b08c90acb72b9a54936e26d"> 7999</a></span>&#160;  <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2aef6494cb9b08c90acb72b9a54936e26d">GFX10</a> = 6,</div>
<div class="line"><a name="l08000"></a><span class="lineno"><a class="line" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a694236b48c9eba2729c27e7b09ded5c3"> 8000</a></span>&#160;  <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a694236b48c9eba2729c27e7b09ded5c3">SDWA10</a> = 7,</div>
<div class="line"><a name="l08001"></a><span class="lineno"><a class="line" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a3e136249f6574bb02cd19eaaecbb2e1a"> 8001</a></span>&#160;  <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a3e136249f6574bb02cd19eaaecbb2e1a">GFX90A</a> = 8,</div>
<div class="line"><a name="l08002"></a><span class="lineno"><a class="line" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6d57393b665c91c7e1cfbb339758f2ca"> 8002</a></span>&#160;  <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6d57393b665c91c7e1cfbb339758f2ca">GFX940</a> = 9,</div>
<div class="line"><a name="l08003"></a><span class="lineno"><a class="line" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a5538f6e3d210f317b488081e8b04c57d"> 8003</a></span>&#160;  <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a5538f6e3d210f317b488081e8b04c57d">GFX11</a> = 10,</div>
<div class="line"><a name="l08004"></a><span class="lineno"> 8004</span>&#160;};</div>
<div class="line"><a name="l08005"></a><span class="lineno"> 8005</span>&#160; </div>
<div class="line"><a name="l08006"></a><span class="lineno"><a class="line" href="SIInstrInfo_8cpp.html#a3470310cdf2c94f6291244435073ad78"> 8006</a></span>&#160;<span class="keyword">static</span> <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2">SIEncodingFamily</a> <a class="code" href="SIInstrInfo_8cpp.html#a3470310cdf2c94f6291244435073ad78">subtargetEncodingFamily</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1GCNSubtarget.html">GCNSubtarget</a> &amp;ST) {</div>
<div class="line"><a name="l08007"></a><span class="lineno"> 8007</span>&#160;  <span class="keywordflow">switch</span> (ST.getGeneration()) {</div>
<div class="line"><a name="l08008"></a><span class="lineno"> 8008</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l08009"></a><span class="lineno"> 8009</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l08010"></a><span class="lineno"> 8010</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1AMDGPUSubtarget.html#a53c0ee4138bfbf9e0410a65e0eaa36e2aafd52d574f92cc47671a38d95bca9988">AMDGPUSubtarget::SOUTHERN_ISLANDS</a>:</div>
<div class="line"><a name="l08011"></a><span class="lineno"> 8011</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1AMDGPUSubtarget.html#a53c0ee4138bfbf9e0410a65e0eaa36e2a5a040cb5d61ebf76561fcb74c4a77970">AMDGPUSubtarget::SEA_ISLANDS</a>:</div>
<div class="line"><a name="l08012"></a><span class="lineno"> 8012</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SIEncodingFamily::SI</a>;</div>
<div class="line"><a name="l08013"></a><span class="lineno"> 8013</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1AMDGPUSubtarget.html#a53c0ee4138bfbf9e0410a65e0eaa36e2aef8609af541a5b1b01484b29d0f62534">AMDGPUSubtarget::VOLCANIC_ISLANDS</a>:</div>
<div class="line"><a name="l08014"></a><span class="lineno"> 8014</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1AMDGPUSubtarget.html#a53c0ee4138bfbf9e0410a65e0eaa36e2a27bbb8548ee933d0231565d6ed407307">AMDGPUSubtarget::GFX9</a>:</div>
<div class="line"><a name="l08015"></a><span class="lineno"> 8015</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a97bce951e4585a39601c04d86bb14ffd">SIEncodingFamily::VI</a>;</div>
<div class="line"><a name="l08016"></a><span class="lineno"> 8016</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1AMDGPUSubtarget.html#a53c0ee4138bfbf9e0410a65e0eaa36e2a0a29519a2da61e1cf78d898e26fef446">AMDGPUSubtarget::GFX10</a>:</div>
<div class="line"><a name="l08017"></a><span class="lineno"> 8017</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2aef6494cb9b08c90acb72b9a54936e26d">SIEncodingFamily::GFX10</a>;</div>
<div class="line"><a name="l08018"></a><span class="lineno"> 8018</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1AMDGPUSubtarget.html#a53c0ee4138bfbf9e0410a65e0eaa36e2afee0105d2e947dda0884cc47a33c93b7">AMDGPUSubtarget::GFX11</a>:</div>
<div class="line"><a name="l08019"></a><span class="lineno"> 8019</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a5538f6e3d210f317b488081e8b04c57d">SIEncodingFamily::GFX11</a>;</div>
<div class="line"><a name="l08020"></a><span class="lineno"> 8020</span>&#160;  }</div>
<div class="line"><a name="l08021"></a><span class="lineno"> 8021</span>&#160;  <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unknown subtarget generation!&quot;</span>);</div>
<div class="line"><a name="l08022"></a><span class="lineno"> 8022</span>&#160;}</div>
<div class="line"><a name="l08023"></a><span class="lineno"> 8023</span>&#160; </div>
<div class="line"><a name="l08024"></a><span class="lineno"><a class="line" href="classllvm_1_1SIInstrInfo.html#ab02ccaad1b78c3ebc1d06867f9c3e3b6"> 8024</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1SIInstrInfo.html#ab02ccaad1b78c3ebc1d06867f9c3e3b6">SIInstrInfo::isAsmOnlyOpcode</a>(<span class="keywordtype">int</span> MCOp)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l08025"></a><span class="lineno"> 8025</span>&#160;  <span class="keywordflow">switch</span>(MCOp) {</div>
<div class="line"><a name="l08026"></a><span class="lineno"> 8026</span>&#160;  <span class="comment">// These opcodes use indirect register addressing so</span></div>
<div class="line"><a name="l08027"></a><span class="lineno"> 8027</span>&#160;  <span class="comment">// they need special handling by codegen (currently missing).</span></div>
<div class="line"><a name="l08028"></a><span class="lineno"> 8028</span>&#160;  <span class="comment">// Therefore it is too risky to allow these opcodes</span></div>
<div class="line"><a name="l08029"></a><span class="lineno"> 8029</span>&#160;  <span class="comment">// to be selected by dpp combiner or sdwa peepholer.</span></div>
<div class="line"><a name="l08030"></a><span class="lineno"> 8030</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_MOVRELS_B32_dpp_gfx10:</div>
<div class="line"><a name="l08031"></a><span class="lineno"> 8031</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_MOVRELS_B32_sdwa_gfx10:</div>
<div class="line"><a name="l08032"></a><span class="lineno"> 8032</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_MOVRELD_B32_dpp_gfx10:</div>
<div class="line"><a name="l08033"></a><span class="lineno"> 8033</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_MOVRELD_B32_sdwa_gfx10:</div>
<div class="line"><a name="l08034"></a><span class="lineno"> 8034</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_MOVRELSD_B32_dpp_gfx10:</div>
<div class="line"><a name="l08035"></a><span class="lineno"> 8035</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_MOVRELSD_B32_sdwa_gfx10:</div>
<div class="line"><a name="l08036"></a><span class="lineno"> 8036</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_MOVRELSD_2_B32_dpp_gfx10:</div>
<div class="line"><a name="l08037"></a><span class="lineno"> 8037</span>&#160;  <span class="keywordflow">case</span> AMDGPU::V_MOVRELSD_2_B32_sdwa_gfx10:</div>
<div class="line"><a name="l08038"></a><span class="lineno"> 8038</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l08039"></a><span class="lineno"> 8039</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l08040"></a><span class="lineno"> 8040</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l08041"></a><span class="lineno"> 8041</span>&#160;  }</div>
<div class="line"><a name="l08042"></a><span class="lineno"> 8042</span>&#160;}</div>
<div class="line"><a name="l08043"></a><span class="lineno"> 8043</span>&#160; </div>
<div class="line"><a name="l08044"></a><span class="lineno"><a class="line" href="classllvm_1_1SIInstrInfo.html#ae25e963e7382528026a78b5c2e31c435"> 8044</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="classllvm_1_1SIInstrInfo.html#ae25e963e7382528026a78b5c2e31c435">SIInstrInfo::pseudoToMCOpcode</a>(<span class="keywordtype">int</span> Opcode)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l08045"></a><span class="lineno"> 8045</span>&#160;  <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2">SIEncodingFamily</a> Gen = <a class="code" href="SIInstrInfo_8cpp.html#a3470310cdf2c94f6291244435073ad78">subtargetEncodingFamily</a>(ST);</div>
<div class="line"><a name="l08046"></a><span class="lineno"> 8046</span>&#160; </div>
<div class="line"><a name="l08047"></a><span class="lineno"> 8047</span>&#160;  <span class="keywordflow">if</span> ((<a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(Opcode).<a class="code" href="RISCVInsertVSETVLI_8cpp.html#ad4e26a8fdece2198ba75eff89753cd22">TSFlags</a> &amp; <a class="code" href="namespacellvm_1_1SIInstrFlags.html#ac8376ab01e1f2eb75e242eb464d3992dacff05c63e6ff81eab46dc98fbb55791c">SIInstrFlags::renamedInGFX9</a>) != 0 &amp;&amp;</div>
<div class="line"><a name="l08048"></a><span class="lineno"> 8048</span>&#160;    ST.<a class="code" href="classllvm_1_1GCNSubtarget.html#ace4de1de19cbe837c578fb3654b6c998">getGeneration</a>() == <a class="code" href="classllvm_1_1AMDGPUSubtarget.html#a53c0ee4138bfbf9e0410a65e0eaa36e2a27bbb8548ee933d0231565d6ed407307">AMDGPUSubtarget::GFX9</a>)</div>
<div class="line"><a name="l08049"></a><span class="lineno"> 8049</span>&#160;    Gen = <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2aff2703cd2f24986fdb450978797990a9">SIEncodingFamily::GFX9</a>;</div>
<div class="line"><a name="l08050"></a><span class="lineno"> 8050</span>&#160; </div>
<div class="line"><a name="l08051"></a><span class="lineno"> 8051</span>&#160;  <span class="comment">// Adjust the encoding family to GFX80 for D16 buffer instructions when the</span></div>
<div class="line"><a name="l08052"></a><span class="lineno"> 8052</span>&#160;  <span class="comment">// subtarget has UnpackedD16VMem feature.</span></div>
<div class="line"><a name="l08053"></a><span class="lineno"> 8053</span>&#160;  <span class="comment">// TODO: remove this when we discard GFX80 encoding.</span></div>
<div class="line"><a name="l08054"></a><span class="lineno"> 8054</span>&#160;  <span class="keywordflow">if</span> (ST.<a class="code" href="classllvm_1_1GCNSubtarget.html#ad30b3c952ed576256171d49971ec9241">hasUnpackedD16VMem</a>() &amp;&amp; (<a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(Opcode).<a class="code" href="RISCVInsertVSETVLI_8cpp.html#ad4e26a8fdece2198ba75eff89753cd22">TSFlags</a> &amp; <a class="code" href="namespacellvm_1_1SIInstrFlags.html#ac8376ab01e1f2eb75e242eb464d3992dadf3e0b276b086c14975adb3e2f00aa2c">SIInstrFlags::D16Buf</a>))</div>
<div class="line"><a name="l08055"></a><span class="lineno"> 8055</span>&#160;    Gen = <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a4493d9f4cb31140c0c5493b260f144f3">SIEncodingFamily::GFX80</a>;</div>
<div class="line"><a name="l08056"></a><span class="lineno"> 8056</span>&#160; </div>
<div class="line"><a name="l08057"></a><span class="lineno"> 8057</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(Opcode).<a class="code" href="RISCVInsertVSETVLI_8cpp.html#ad4e26a8fdece2198ba75eff89753cd22">TSFlags</a> &amp; <a class="code" href="namespacellvm_1_1SIInstrFlags.html#ac8376ab01e1f2eb75e242eb464d3992da3cb08b10c27a453c57a2708e83859b47">SIInstrFlags::SDWA</a>) {</div>
<div class="line"><a name="l08058"></a><span class="lineno"> 8058</span>&#160;    <span class="keywordflow">switch</span> (ST.<a class="code" href="classllvm_1_1GCNSubtarget.html#ace4de1de19cbe837c578fb3654b6c998">getGeneration</a>()) {</div>
<div class="line"><a name="l08059"></a><span class="lineno"> 8059</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l08060"></a><span class="lineno"> 8060</span>&#160;      Gen = <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a63f08305acefcdb3952e82d7052df751">SIEncodingFamily::SDWA</a>;</div>
<div class="line"><a name="l08061"></a><span class="lineno"> 8061</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l08062"></a><span class="lineno"> 8062</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1AMDGPUSubtarget.html#a53c0ee4138bfbf9e0410a65e0eaa36e2a27bbb8548ee933d0231565d6ed407307">AMDGPUSubtarget::GFX9</a>:</div>
<div class="line"><a name="l08063"></a><span class="lineno"> 8063</span>&#160;      Gen = <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a34ed94c87973e7ffc8c092d4c3bf8bba">SIEncodingFamily::SDWA9</a>;</div>
<div class="line"><a name="l08064"></a><span class="lineno"> 8064</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l08065"></a><span class="lineno"> 8065</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1AMDGPUSubtarget.html#a53c0ee4138bfbf9e0410a65e0eaa36e2a0a29519a2da61e1cf78d898e26fef446">AMDGPUSubtarget::GFX10</a>:</div>
<div class="line"><a name="l08066"></a><span class="lineno"> 8066</span>&#160;      Gen = <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a694236b48c9eba2729c27e7b09ded5c3">SIEncodingFamily::SDWA10</a>;</div>
<div class="line"><a name="l08067"></a><span class="lineno"> 8067</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l08068"></a><span class="lineno"> 8068</span>&#160;    }</div>
<div class="line"><a name="l08069"></a><span class="lineno"> 8069</span>&#160;  }</div>
<div class="line"><a name="l08070"></a><span class="lineno"> 8070</span>&#160; </div>
<div class="line"><a name="l08071"></a><span class="lineno"> 8071</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SIInstrInfo.html#a0605f773275c0461756eae0fb2321fa0">isMAI</a>(Opcode)) {</div>
<div class="line"><a name="l08072"></a><span class="lineno"> 8072</span>&#160;    <span class="keywordtype">int</span> MFMAOp = <a class="code" href="namespacellvm_1_1AMDGPU.html#a5ff7467be99b93194854ce84b534f711">AMDGPU::getMFMAEarlyClobberOp</a>(Opcode);</div>
<div class="line"><a name="l08073"></a><span class="lineno"> 8073</span>&#160;    <span class="keywordflow">if</span> (MFMAOp != -1)</div>
<div class="line"><a name="l08074"></a><span class="lineno"> 8074</span>&#160;      Opcode = MFMAOp;</div>
<div class="line"><a name="l08075"></a><span class="lineno"> 8075</span>&#160;  }</div>
<div class="line"><a name="l08076"></a><span class="lineno"> 8076</span>&#160; </div>
<div class="line"><a name="l08077"></a><span class="lineno"> 8077</span>&#160;  <span class="keywordtype">int</span> MCOp = <a class="code" href="namespacellvm_1_1AMDGPU.html#ad079e8a6a0505ccce0ad2463d95aff73">AMDGPU::getMCOpcode</a>(Opcode, Gen);</div>
<div class="line"><a name="l08078"></a><span class="lineno"> 8078</span>&#160; </div>
<div class="line"><a name="l08079"></a><span class="lineno"> 8079</span>&#160;  <span class="comment">// -1 means that Opcode is already a native instruction.</span></div>
<div class="line"><a name="l08080"></a><span class="lineno"> 8080</span>&#160;  <span class="keywordflow">if</span> (MCOp == -1)</div>
<div class="line"><a name="l08081"></a><span class="lineno"> 8081</span>&#160;    <span class="keywordflow">return</span> Opcode;</div>
<div class="line"><a name="l08082"></a><span class="lineno"> 8082</span>&#160; </div>
<div class="line"><a name="l08083"></a><span class="lineno"> 8083</span>&#160;  <span class="keywordflow">if</span> (ST.<a class="code" href="classllvm_1_1GCNSubtarget.html#a1fc0ea9be83e3d4cb2aeb2d7b2363e73">hasGFX90AInsts</a>()) {</div>
<div class="line"><a name="l08084"></a><span class="lineno"> 8084</span>&#160;    <a class="code" href="classuint16__t.html">uint16_t</a> NMCOp = (<a class="code" href="classuint16__t.html">uint16_t</a>)-1;</div>
<div class="line"><a name="l08085"></a><span class="lineno"> 8085</span>&#160;    <span class="keywordflow">if</span> (ST.<a class="code" href="classllvm_1_1GCNSubtarget.html#a80ef035f066bb00307e5cccb694e20e2">hasGFX940Insts</a>())</div>
<div class="line"><a name="l08086"></a><span class="lineno"> 8086</span>&#160;      NMCOp = <a class="code" href="namespacellvm_1_1AMDGPU.html#ad079e8a6a0505ccce0ad2463d95aff73">AMDGPU::getMCOpcode</a>(Opcode, <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6d57393b665c91c7e1cfbb339758f2ca">SIEncodingFamily::GFX940</a>);</div>
<div class="line"><a name="l08087"></a><span class="lineno"> 8087</span>&#160;    <span class="keywordflow">if</span> (NMCOp == (<a class="code" href="classuint16__t.html">uint16_t</a>)-1)</div>
<div class="line"><a name="l08088"></a><span class="lineno"> 8088</span>&#160;      NMCOp = <a class="code" href="namespacellvm_1_1AMDGPU.html#ad079e8a6a0505ccce0ad2463d95aff73">AMDGPU::getMCOpcode</a>(Opcode, <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a3e136249f6574bb02cd19eaaecbb2e1a">SIEncodingFamily::GFX90A</a>);</div>
<div class="line"><a name="l08089"></a><span class="lineno"> 8089</span>&#160;    <span class="keywordflow">if</span> (NMCOp == (<a class="code" href="classuint16__t.html">uint16_t</a>)-1)</div>
<div class="line"><a name="l08090"></a><span class="lineno"> 8090</span>&#160;      NMCOp = <a class="code" href="namespacellvm_1_1AMDGPU.html#ad079e8a6a0505ccce0ad2463d95aff73">AMDGPU::getMCOpcode</a>(Opcode, <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2aff2703cd2f24986fdb450978797990a9">SIEncodingFamily::GFX9</a>);</div>
<div class="line"><a name="l08091"></a><span class="lineno"> 8091</span>&#160;    <span class="keywordflow">if</span> (NMCOp != (<a class="code" href="classuint16__t.html">uint16_t</a>)-1)</div>
<div class="line"><a name="l08092"></a><span class="lineno"> 8092</span>&#160;      MCOp = NMCOp;</div>
<div class="line"><a name="l08093"></a><span class="lineno"> 8093</span>&#160;  }</div>
<div class="line"><a name="l08094"></a><span class="lineno"> 8094</span>&#160; </div>
<div class="line"><a name="l08095"></a><span class="lineno"> 8095</span>&#160;  <span class="comment">// (uint16_t)-1 means that Opcode is a pseudo instruction that has</span></div>
<div class="line"><a name="l08096"></a><span class="lineno"> 8096</span>&#160;  <span class="comment">// no encoding in the given subtarget generation.</span></div>
<div class="line"><a name="l08097"></a><span class="lineno"> 8097</span>&#160;  <span class="keywordflow">if</span> (MCOp == (<a class="code" href="classuint16__t.html">uint16_t</a>)-1)</div>
<div class="line"><a name="l08098"></a><span class="lineno"> 8098</span>&#160;    <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l08099"></a><span class="lineno"> 8099</span>&#160; </div>
<div class="line"><a name="l08100"></a><span class="lineno"> 8100</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SIInstrInfo.html#ab02ccaad1b78c3ebc1d06867f9c3e3b6">isAsmOnlyOpcode</a>(MCOp))</div>
<div class="line"><a name="l08101"></a><span class="lineno"> 8101</span>&#160;    <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l08102"></a><span class="lineno"> 8102</span>&#160; </div>
<div class="line"><a name="l08103"></a><span class="lineno"> 8103</span>&#160;  <span class="keywordflow">return</span> MCOp;</div>
<div class="line"><a name="l08104"></a><span class="lineno"> 8104</span>&#160;}</div>
<div class="line"><a name="l08105"></a><span class="lineno"> 8105</span>&#160; </div>
<div class="line"><a name="l08106"></a><span class="lineno"> 8106</span>&#160;<span class="keyword">static</span></div>
<div class="line"><a name="l08107"></a><span class="lineno"><a class="line" href="SIInstrInfo_8cpp.html#acbfeec0c25233691b4e70d7a527eebda"> 8107</a></span>&#160;<a class="code" href="structllvm_1_1TargetInstrInfo_1_1RegSubRegPair.html">TargetInstrInfo::RegSubRegPair</a> <a class="code" href="SIInstrInfo_8cpp.html#acbfeec0c25233691b4e70d7a527eebda">getRegOrUndef</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;RegOpnd) {</div>
<div class="line"><a name="l08108"></a><span class="lineno"> 8108</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(RegOpnd.<a class="code" href="classllvm_1_1MachineOperand.html#a4c9594c955fec80c73ddd964b5efd554">isReg</a>());</div>
<div class="line"><a name="l08109"></a><span class="lineno"> 8109</span>&#160;  <span class="keywordflow">return</span> RegOpnd.<a class="code" href="classllvm_1_1MachineOperand.html#a1255befbcd6e034394681b1bcd3529ff">isUndef</a>() ? <a class="code" href="PeepholeOptimizer_8cpp.html#a16005492b382a6a76abae848b4af2b83">TargetInstrInfo::RegSubRegPair</a>() :</div>
<div class="line"><a name="l08110"></a><span class="lineno"> 8110</span>&#160;                             <a class="code" href="namespacellvm.html#a08d85ca884294cf7a067290c1593fd50">getRegSubRegPair</a>(RegOpnd);</div>
<div class="line"><a name="l08111"></a><span class="lineno"> 8111</span>&#160;}</div>
<div class="line"><a name="l08112"></a><span class="lineno"> 8112</span>&#160; </div>
<div class="line"><a name="l08113"></a><span class="lineno"> 8113</span>&#160;<a class="code" href="structllvm_1_1TargetInstrInfo_1_1RegSubRegPair.html">TargetInstrInfo::RegSubRegPair</a></div>
<div class="line"><a name="l08114"></a><span class="lineno"><a class="line" href="namespacellvm.html#a57f971ad6c752a26d68bf9a990e52e9a"> 8114</a></span>&#160;<a class="code" href="namespacellvm.html#a57f971ad6c752a26d68bf9a990e52e9a">llvm::getRegSequenceSubReg</a>(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <span class="keywordtype">unsigned</span> <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a92a6b0a9b7228d190b0a7d8ae3ef03c7">SubReg</a>) {</div>
<div class="line"><a name="l08115"></a><span class="lineno"> 8115</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.isRegSequence());</div>
<div class="line"><a name="l08116"></a><span class="lineno"> 8116</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 0, <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getNumOperands() - 1)/ 2; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> &lt; <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</div>
<div class="line"><a name="l08117"></a><span class="lineno"> 8117</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(1 + 2 * <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> + 1).getImm() == <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a92a6b0a9b7228d190b0a7d8ae3ef03c7">SubReg</a>) {</div>
<div class="line"><a name="l08118"></a><span class="lineno"> 8118</span>&#160;      <span class="keyword">auto</span> &amp;RegOp = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(1 + 2 * <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l08119"></a><span class="lineno"> 8119</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="SIInstrInfo_8cpp.html#acbfeec0c25233691b4e70d7a527eebda">getRegOrUndef</a>(RegOp);</div>
<div class="line"><a name="l08120"></a><span class="lineno"> 8120</span>&#160;    }</div>
<div class="line"><a name="l08121"></a><span class="lineno"> 8121</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="PeepholeOptimizer_8cpp.html#a16005492b382a6a76abae848b4af2b83">TargetInstrInfo::RegSubRegPair</a>();</div>
<div class="line"><a name="l08122"></a><span class="lineno"> 8122</span>&#160;}</div>
<div class="line"><a name="l08123"></a><span class="lineno"> 8123</span>&#160; </div>
<div class="line"><a name="l08124"></a><span class="lineno"> 8124</span>&#160;<span class="comment">// Try to find the definition of reg:subreg in subreg-manipulation pseudos</span></div>
<div class="line"><a name="l08125"></a><span class="lineno"> 8125</span>&#160;<span class="comment">// Following a subreg of reg:subreg isn&#39;t supported</span></div>
<div class="line"><a name="l08126"></a><span class="lineno"><a class="line" href="SIInstrInfo_8cpp.html#a2e6a9e9fbac652264287bcc4542f8b54"> 8126</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="SIInstrInfo_8cpp.html#a2e6a9e9fbac652264287bcc4542f8b54">followSubRegDef</a>(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>,</div>
<div class="line"><a name="l08127"></a><span class="lineno"> 8127</span>&#160;                            <a class="code" href="structllvm_1_1TargetInstrInfo_1_1RegSubRegPair.html">TargetInstrInfo::RegSubRegPair</a> &amp;RSR) {</div>
<div class="line"><a name="l08128"></a><span class="lineno"> 8128</span>&#160;  <span class="keywordflow">if</span> (!RSR.<a class="code" href="structllvm_1_1TargetInstrInfo_1_1RegSubRegPair.html#a66f92cf2247d7b3c3a351ff48dd42d7d">SubReg</a>)</div>
<div class="line"><a name="l08129"></a><span class="lineno"> 8129</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l08130"></a><span class="lineno"> 8130</span>&#160;  <span class="keywordflow">switch</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode()) {</div>
<div class="line"><a name="l08131"></a><span class="lineno"> 8131</span>&#160;  <span class="keywordflow">default</span>: <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l08132"></a><span class="lineno"> 8132</span>&#160;  <span class="keywordflow">case</span> AMDGPU::REG_SEQUENCE:</div>
<div class="line"><a name="l08133"></a><span class="lineno"> 8133</span>&#160;    RSR = <a class="code" href="namespacellvm.html#a57f971ad6c752a26d68bf9a990e52e9a">getRegSequenceSubReg</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, RSR.<a class="code" href="structllvm_1_1TargetInstrInfo_1_1RegSubRegPair.html#a66f92cf2247d7b3c3a351ff48dd42d7d">SubReg</a>);</div>
<div class="line"><a name="l08134"></a><span class="lineno"> 8134</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l08135"></a><span class="lineno"> 8135</span>&#160;  <span class="comment">// EXTRACT_SUBREG ins&#39;t supported as this would follow a subreg of subreg</span></div>
<div class="line"><a name="l08136"></a><span class="lineno"> 8136</span>&#160;  <span class="keywordflow">case</span> AMDGPU::INSERT_SUBREG:</div>
<div class="line"><a name="l08137"></a><span class="lineno"> 8137</span>&#160;    <span class="keywordflow">if</span> (RSR.<a class="code" href="structllvm_1_1TargetInstrInfo_1_1RegSubRegPair.html#a66f92cf2247d7b3c3a351ff48dd42d7d">SubReg</a> == (<span class="keywordtype">unsigned</span>)<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(3).getImm())</div>
<div class="line"><a name="l08138"></a><span class="lineno"> 8138</span>&#160;      <span class="comment">// inserted the subreg we&#39;re looking for</span></div>
<div class="line"><a name="l08139"></a><span class="lineno"> 8139</span>&#160;      RSR = <a class="code" href="SIInstrInfo_8cpp.html#acbfeec0c25233691b4e70d7a527eebda">getRegOrUndef</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(2));</div>
<div class="line"><a name="l08140"></a><span class="lineno"> 8140</span>&#160;    <span class="keywordflow">else</span> { <span class="comment">// the subreg in the rest of the reg</span></div>
<div class="line"><a name="l08141"></a><span class="lineno"> 8141</span>&#160;      <span class="keyword">auto</span> R1 = <a class="code" href="SIInstrInfo_8cpp.html#acbfeec0c25233691b4e70d7a527eebda">getRegOrUndef</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(1));</div>
<div class="line"><a name="l08142"></a><span class="lineno"> 8142</span>&#160;      <span class="keywordflow">if</span> (R1.SubReg) <span class="comment">// subreg of subreg isn&#39;t supported</span></div>
<div class="line"><a name="l08143"></a><span class="lineno"> 8143</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l08144"></a><span class="lineno"> 8144</span>&#160;      RSR.<a class="code" href="structllvm_1_1TargetInstrInfo_1_1RegSubRegPair.html#aad7e848e562b1368d6ee4794d84957c6">Reg</a> = R1.Reg;</div>
<div class="line"><a name="l08145"></a><span class="lineno"> 8145</span>&#160;    }</div>
<div class="line"><a name="l08146"></a><span class="lineno"> 8146</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l08147"></a><span class="lineno"> 8147</span>&#160;  }</div>
<div class="line"><a name="l08148"></a><span class="lineno"> 8148</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l08149"></a><span class="lineno"> 8149</span>&#160;}</div>
<div class="line"><a name="l08150"></a><span class="lineno"> 8150</span>&#160; </div>
<div class="line"><a name="l08151"></a><span class="lineno"><a class="line" href="namespacellvm.html#a7ca6bbc21c19a9a6b005aff44ca8562f"> 8151</a></span>&#160;<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="namespacellvm.html#a7ca6bbc21c19a9a6b005aff44ca8562f">llvm::getVRegSubRegDef</a>(<span class="keyword">const</span> <a class="code" href="structllvm_1_1TargetInstrInfo_1_1RegSubRegPair.html">TargetInstrInfo::RegSubRegPair</a> &amp;<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>,</div>
<div class="line"><a name="l08152"></a><span class="lineno"> 8152</span>&#160;                                     <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>) {</div>
<div class="line"><a name="l08153"></a><span class="lineno"> 8153</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a86dd1b4ce6ff2d4a0b4593c5f7b2a3fd">isSSA</a>());</div>
<div class="line"><a name="l08154"></a><span class="lineno"> 8154</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.Reg.isVirtual())</div>
<div class="line"><a name="l08155"></a><span class="lineno"> 8155</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l08156"></a><span class="lineno"> 8156</span>&#160; </div>
<div class="line"><a name="l08157"></a><span class="lineno"> 8157</span>&#160;  <span class="keyword">auto</span> RSR = <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>;</div>
<div class="line"><a name="l08158"></a><span class="lineno"> 8158</span>&#160;  <span class="keyword">auto</span> *DefInst = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a40d954b9cf9ee8b545a78725f2549cba">getVRegDef</a>(RSR.Reg);</div>
<div class="line"><a name="l08159"></a><span class="lineno"> 8159</span>&#160;  <span class="keywordflow">while</span> (<span class="keyword">auto</span> *<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a> = DefInst) {</div>
<div class="line"><a name="l08160"></a><span class="lineno"> 8160</span>&#160;    DefInst = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l08161"></a><span class="lineno"> 8161</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getOpcode()) {</div>
<div class="line"><a name="l08162"></a><span class="lineno"> 8162</span>&#160;    <span class="keywordflow">case</span> AMDGPU::COPY:</div>
<div class="line"><a name="l08163"></a><span class="lineno"> 8163</span>&#160;    <span class="keywordflow">case</span> AMDGPU::V_MOV_B32_e32: {</div>
<div class="line"><a name="l08164"></a><span class="lineno"> 8164</span>&#160;      <span class="keyword">auto</span> &amp;Op1 = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getOperand(1);</div>
<div class="line"><a name="l08165"></a><span class="lineno"> 8165</span>&#160;      <span class="keywordflow">if</span> (Op1.<a class="code" href="classllvm_1_1MachineOperand.html#a4c9594c955fec80c73ddd964b5efd554">isReg</a>() &amp;&amp; Op1.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>().<a class="code" href="classllvm_1_1Register.html#aebafd86dde59b5a05b22e8720e808a9d">isVirtual</a>()) {</div>
<div class="line"><a name="l08166"></a><span class="lineno"> 8166</span>&#160;        <span class="keywordflow">if</span> (Op1.<a class="code" href="classllvm_1_1MachineOperand.html#a1255befbcd6e034394681b1bcd3529ff">isUndef</a>())</div>
<div class="line"><a name="l08167"></a><span class="lineno"> 8167</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l08168"></a><span class="lineno"> 8168</span>&#160;        RSR = <a class="code" href="namespacellvm.html#a08d85ca884294cf7a067290c1593fd50">getRegSubRegPair</a>(Op1);</div>
<div class="line"><a name="l08169"></a><span class="lineno"> 8169</span>&#160;        DefInst = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a40d954b9cf9ee8b545a78725f2549cba">getVRegDef</a>(RSR.Reg);</div>
<div class="line"><a name="l08170"></a><span class="lineno"> 8170</span>&#160;      }</div>
<div class="line"><a name="l08171"></a><span class="lineno"> 8171</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l08172"></a><span class="lineno"> 8172</span>&#160;    }</div>
<div class="line"><a name="l08173"></a><span class="lineno"> 8173</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l08174"></a><span class="lineno"> 8174</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="SIInstrInfo_8cpp.html#a2e6a9e9fbac652264287bcc4542f8b54">followSubRegDef</a>(*<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, RSR)) {</div>
<div class="line"><a name="l08175"></a><span class="lineno"> 8175</span>&#160;        <span class="keywordflow">if</span> (!RSR.Reg)</div>
<div class="line"><a name="l08176"></a><span class="lineno"> 8176</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l08177"></a><span class="lineno"> 8177</span>&#160;        DefInst = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a40d954b9cf9ee8b545a78725f2549cba">getVRegDef</a>(RSR.Reg);</div>
<div class="line"><a name="l08178"></a><span class="lineno"> 8178</span>&#160;      }</div>
<div class="line"><a name="l08179"></a><span class="lineno"> 8179</span>&#160;    }</div>
<div class="line"><a name="l08180"></a><span class="lineno"> 8180</span>&#160;    <span class="keywordflow">if</span> (!DefInst)</div>
<div class="line"><a name="l08181"></a><span class="lineno"> 8181</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>;</div>
<div class="line"><a name="l08182"></a><span class="lineno"> 8182</span>&#160;  }</div>
<div class="line"><a name="l08183"></a><span class="lineno"> 8183</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l08184"></a><span class="lineno"> 8184</span>&#160;}</div>
<div class="line"><a name="l08185"></a><span class="lineno"> 8185</span>&#160; </div>
<div class="line"><a name="l08186"></a><span class="lineno"><a class="line" href="namespacellvm.html#a1a20c762703f9faa4263464684aae1ad"> 8186</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="namespacellvm.html#a1a20c762703f9faa4263464684aae1ad">llvm::execMayBeModifiedBeforeUse</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>,</div>
<div class="line"><a name="l08187"></a><span class="lineno"> 8187</span>&#160;                                      <a class="code" href="classllvm_1_1Register.html">Register</a> VReg,</div>
<div class="line"><a name="l08188"></a><span class="lineno"> 8188</span>&#160;                                      <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a>,</div>
<div class="line"><a name="l08189"></a><span class="lineno"> 8189</span>&#160;                                      <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#a6cf2f8996b1e9aaf2d7a435aaa62382f">UseMI</a>) {</div>
<div class="line"><a name="l08190"></a><span class="lineno"> 8190</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a86dd1b4ce6ff2d4a0b4593c5f7b2a3fd">isSSA</a>() &amp;&amp; <span class="stringliteral">&quot;Must be run on SSA&quot;</span>);</div>
<div class="line"><a name="l08191"></a><span class="lineno"> 8191</span>&#160; </div>
<div class="line"><a name="l08192"></a><span class="lineno"> 8192</span>&#160;  <span class="keyword">auto</span> *<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a> = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#aed4562ccf898feaf2eb6cf5555b5084d">getTargetRegisterInfo</a>();</div>
<div class="line"><a name="l08193"></a><span class="lineno"> 8193</span>&#160;  <span class="keyword">auto</span> *DefBB = <a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a>.getParent();</div>
<div class="line"><a name="l08194"></a><span class="lineno"> 8194</span>&#160; </div>
<div class="line"><a name="l08195"></a><span class="lineno"> 8195</span>&#160;  <span class="comment">// Don&#39;t bother searching between blocks, although it is possible this block</span></div>
<div class="line"><a name="l08196"></a><span class="lineno"> 8196</span>&#160;  <span class="comment">// doesn&#39;t modify exec.</span></div>
<div class="line"><a name="l08197"></a><span class="lineno"> 8197</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#a6cf2f8996b1e9aaf2d7a435aaa62382f">UseMI</a>.getParent() != DefBB)</div>
<div class="line"><a name="l08198"></a><span class="lineno"> 8198</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l08199"></a><span class="lineno"> 8199</span>&#160; </div>
<div class="line"><a name="l08200"></a><span class="lineno"> 8200</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> MaxInstScan = 20;</div>
<div class="line"><a name="l08201"></a><span class="lineno"> 8201</span>&#160;  <span class="keywordtype">int</span> NumInst = 0;</div>
<div class="line"><a name="l08202"></a><span class="lineno"> 8202</span>&#160; </div>
<div class="line"><a name="l08203"></a><span class="lineno"> 8203</span>&#160;  <span class="comment">// Stop scan at the use.</span></div>
<div class="line"><a name="l08204"></a><span class="lineno"> 8204</span>&#160;  <span class="keyword">auto</span> <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = <a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#a6cf2f8996b1e9aaf2d7a435aaa62382f">UseMI</a>.getIterator();</div>
<div class="line"><a name="l08205"></a><span class="lineno"> 8205</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = std::next(<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a>.getIterator()); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l08206"></a><span class="lineno"> 8206</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;isDebugInstr())</div>
<div class="line"><a name="l08207"></a><span class="lineno"> 8207</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l08208"></a><span class="lineno"> 8208</span>&#160; </div>
<div class="line"><a name="l08209"></a><span class="lineno"> 8209</span>&#160;    <span class="keywordflow">if</span> (++NumInst &gt; MaxInstScan)</div>
<div class="line"><a name="l08210"></a><span class="lineno"> 8210</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l08211"></a><span class="lineno"> 8211</span>&#160; </div>
<div class="line"><a name="l08212"></a><span class="lineno"> 8212</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;modifiesRegister(AMDGPU::EXEC, <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>))</div>
<div class="line"><a name="l08213"></a><span class="lineno"> 8213</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l08214"></a><span class="lineno"> 8214</span>&#160;  }</div>
<div class="line"><a name="l08215"></a><span class="lineno"> 8215</span>&#160; </div>
<div class="line"><a name="l08216"></a><span class="lineno"> 8216</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l08217"></a><span class="lineno"> 8217</span>&#160;}</div>
<div class="line"><a name="l08218"></a><span class="lineno"> 8218</span>&#160; </div>
<div class="line"><a name="l08219"></a><span class="lineno"><a class="line" href="namespacellvm.html#afd734184546746d0ab64985a91368a14"> 8219</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="namespacellvm.html#afd734184546746d0ab64985a91368a14">llvm::execMayBeModifiedBeforeAnyUse</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>,</div>
<div class="line"><a name="l08220"></a><span class="lineno"> 8220</span>&#160;                                         <a class="code" href="classllvm_1_1Register.html">Register</a> VReg,</div>
<div class="line"><a name="l08221"></a><span class="lineno"> 8221</span>&#160;                                         <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a>) {</div>
<div class="line"><a name="l08222"></a><span class="lineno"> 8222</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a86dd1b4ce6ff2d4a0b4593c5f7b2a3fd">isSSA</a>() &amp;&amp; <span class="stringliteral">&quot;Must be run on SSA&quot;</span>);</div>
<div class="line"><a name="l08223"></a><span class="lineno"> 8223</span>&#160; </div>
<div class="line"><a name="l08224"></a><span class="lineno"> 8224</span>&#160;  <span class="keyword">auto</span> *<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a> = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#aed4562ccf898feaf2eb6cf5555b5084d">getTargetRegisterInfo</a>();</div>
<div class="line"><a name="l08225"></a><span class="lineno"> 8225</span>&#160;  <span class="keyword">auto</span> *DefBB = <a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a>.getParent();</div>
<div class="line"><a name="l08226"></a><span class="lineno"> 8226</span>&#160; </div>
<div class="line"><a name="l08227"></a><span class="lineno"> 8227</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> MaxUseScan = 10;</div>
<div class="line"><a name="l08228"></a><span class="lineno"> 8228</span>&#160;  <span class="keywordtype">int</span> NumUse = 0;</div>
<div class="line"><a name="l08229"></a><span class="lineno"> 8229</span>&#160; </div>
<div class="line"><a name="l08230"></a><span class="lineno"> 8230</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code" href="classllvm_1_1Use.html">Use</a> : <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5a5871d5cc628499a6d8e56734873e01">use_nodbg_operands</a>(VReg)) {</div>
<div class="line"><a name="l08231"></a><span class="lineno"> 8231</span>&#160;    <span class="keyword">auto</span> &amp;UseInst = *<a class="code" href="classllvm_1_1Use.html">Use</a>.getParent();</div>
<div class="line"><a name="l08232"></a><span class="lineno"> 8232</span>&#160;    <span class="comment">// Don&#39;t bother searching between blocks, although it is possible this block</span></div>
<div class="line"><a name="l08233"></a><span class="lineno"> 8233</span>&#160;    <span class="comment">// doesn&#39;t modify exec.</span></div>
<div class="line"><a name="l08234"></a><span class="lineno"> 8234</span>&#160;    <span class="keywordflow">if</span> (UseInst.getParent() != DefBB || UseInst.isPHI())</div>
<div class="line"><a name="l08235"></a><span class="lineno"> 8235</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l08236"></a><span class="lineno"> 8236</span>&#160; </div>
<div class="line"><a name="l08237"></a><span class="lineno"> 8237</span>&#160;    <span class="keywordflow">if</span> (++NumUse &gt; MaxUseScan)</div>
<div class="line"><a name="l08238"></a><span class="lineno"> 8238</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l08239"></a><span class="lineno"> 8239</span>&#160;  }</div>
<div class="line"><a name="l08240"></a><span class="lineno"> 8240</span>&#160; </div>
<div class="line"><a name="l08241"></a><span class="lineno"> 8241</span>&#160;  <span class="keywordflow">if</span> (NumUse == 0)</div>
<div class="line"><a name="l08242"></a><span class="lineno"> 8242</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l08243"></a><span class="lineno"> 8243</span>&#160; </div>
<div class="line"><a name="l08244"></a><span class="lineno"> 8244</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> MaxInstScan = 20;</div>
<div class="line"><a name="l08245"></a><span class="lineno"> 8245</span>&#160;  <span class="keywordtype">int</span> NumInst = 0;</div>
<div class="line"><a name="l08246"></a><span class="lineno"> 8246</span>&#160; </div>
<div class="line"><a name="l08247"></a><span class="lineno"> 8247</span>&#160;  <span class="comment">// Stop scan when we have seen all the uses.</span></div>
<div class="line"><a name="l08248"></a><span class="lineno"> 8248</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = std::next(<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a>.getIterator()); ; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l08249"></a><span class="lineno"> 8249</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != DefBB-&gt;end());</div>
<div class="line"><a name="l08250"></a><span class="lineno"> 8250</span>&#160; </div>
<div class="line"><a name="l08251"></a><span class="lineno"> 8251</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;isDebugInstr())</div>
<div class="line"><a name="l08252"></a><span class="lineno"> 8252</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l08253"></a><span class="lineno"> 8253</span>&#160; </div>
<div class="line"><a name="l08254"></a><span class="lineno"> 8254</span>&#160;    <span class="keywordflow">if</span> (++NumInst &gt; MaxInstScan)</div>
<div class="line"><a name="l08255"></a><span class="lineno"> 8255</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l08256"></a><span class="lineno"> 8256</span>&#160; </div>
<div class="line"><a name="l08257"></a><span class="lineno"> 8257</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> : <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;operands()) {</div>
<div class="line"><a name="l08258"></a><span class="lineno"> 8258</span>&#160;      <span class="comment">// We don&#39;t check reg masks here as they&#39;re used only on calls:</span></div>
<div class="line"><a name="l08259"></a><span class="lineno"> 8259</span>&#160;      <span class="comment">// 1. EXEC is only considered const within one BB</span></div>
<div class="line"><a name="l08260"></a><span class="lineno"> 8260</span>&#160;      <span class="comment">// 2. Call should be a terminator instruction if present in a BB</span></div>
<div class="line"><a name="l08261"></a><span class="lineno"> 8261</span>&#160; </div>
<div class="line"><a name="l08262"></a><span class="lineno"> 8262</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.isReg())</div>
<div class="line"><a name="l08263"></a><span class="lineno"> 8263</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l08264"></a><span class="lineno"> 8264</span>&#160; </div>
<div class="line"><a name="l08265"></a><span class="lineno"> 8265</span>&#160;      <a class="code" href="classllvm_1_1Register.html">Register</a> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a> = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getReg();</div>
<div class="line"><a name="l08266"></a><span class="lineno"> 8266</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.isUse()) {</div>
<div class="line"><a name="l08267"></a><span class="lineno"> 8267</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a> == VReg &amp;&amp; --NumUse == 0)</div>
<div class="line"><a name="l08268"></a><span class="lineno"> 8268</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l08269"></a><span class="lineno"> 8269</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>-&gt;<a class="code" href="classllvm_1_1TargetRegisterInfo.html#ab5dddfd4ef6db864a18ecdbe51331b92">regsOverlap</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, AMDGPU::EXEC))</div>
<div class="line"><a name="l08270"></a><span class="lineno"> 8270</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l08271"></a><span class="lineno"> 8271</span>&#160;    }</div>
<div class="line"><a name="l08272"></a><span class="lineno"> 8272</span>&#160;  }</div>
<div class="line"><a name="l08273"></a><span class="lineno"> 8273</span>&#160;}</div>
<div class="line"><a name="l08274"></a><span class="lineno"> 8274</span>&#160; </div>
<div class="line"><a name="l08275"></a><span class="lineno"><a class="line" href="classllvm_1_1SIInstrInfo.html#aea3489e1fa192776df90b3f6b8e66511"> 8275</a></span>&#160;<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="classllvm_1_1SIInstrInfo.html#aea3489e1fa192776df90b3f6b8e66511">SIInstrInfo::createPHIDestinationCopy</a>(</div>
<div class="line"><a name="l08276"></a><span class="lineno"> 8276</span>&#160;    <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::iterator</a> LastPHIIt,</div>
<div class="line"><a name="l08277"></a><span class="lineno"> 8277</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="classllvm_1_1Register.html">Register</a> Src, <a class="code" href="classllvm_1_1Register.html">Register</a> Dst)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l08278"></a><span class="lineno"> 8278</span>&#160;  <span class="keyword">auto</span> Cur = <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#ab2d91e7bec944efcbc39d8e30644f111">begin</a>();</div>
<div class="line"><a name="l08279"></a><span class="lineno"> 8279</span>&#160;  <span class="keywordflow">if</span> (Cur != <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">end</a>())</div>
<div class="line"><a name="l08280"></a><span class="lineno"> 8280</span>&#160;    <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l08281"></a><span class="lineno"> 8281</span>&#160;      <span class="keywordflow">if</span> (!Cur-&gt;isPHI() &amp;&amp; Cur-&gt;readsRegister(Dst))</div>
<div class="line"><a name="l08282"></a><span class="lineno"> 8282</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, Cur, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(TargetOpcode::COPY), Dst).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(Src);</div>
<div class="line"><a name="l08283"></a><span class="lineno"> 8283</span>&#160;      ++Cur;</div>
<div class="line"><a name="l08284"></a><span class="lineno"> 8284</span>&#160;    } <span class="keywordflow">while</span> (Cur != <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">end</a>() &amp;&amp; Cur != LastPHIIt);</div>
<div class="line"><a name="l08285"></a><span class="lineno"> 8285</span>&#160; </div>
<div class="line"><a name="l08286"></a><span class="lineno"> 8286</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1TargetInstrInfo.html#a6ac23d0fd2e7044709ee5ac06404d816">TargetInstrInfo::createPHIDestinationCopy</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, LastPHIIt, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, Src,</div>
<div class="line"><a name="l08287"></a><span class="lineno"> 8287</span>&#160;                                                   Dst);</div>
<div class="line"><a name="l08288"></a><span class="lineno"> 8288</span>&#160;}</div>
<div class="line"><a name="l08289"></a><span class="lineno"> 8289</span>&#160; </div>
<div class="line"><a name="l08290"></a><span class="lineno"><a class="line" href="classllvm_1_1SIInstrInfo.html#a454f04c1cce23ff2b87305df8909ab33"> 8290</a></span>&#160;<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="classllvm_1_1SIInstrInfo.html#a454f04c1cce23ff2b87305df8909ab33">SIInstrInfo::createPHISourceCopy</a>(</div>
<div class="line"><a name="l08291"></a><span class="lineno"> 8291</span>&#160;    <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::iterator</a> InsPt,</div>
<div class="line"><a name="l08292"></a><span class="lineno"> 8292</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="classllvm_1_1Register.html">Register</a> Src, <span class="keywordtype">unsigned</span> SrcSubReg, <a class="code" href="classllvm_1_1Register.html">Register</a> Dst)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l08293"></a><span class="lineno"> 8293</span>&#160;  <span class="keywordflow">if</span> (InsPt != <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">end</a>() &amp;&amp;</div>
<div class="line"><a name="l08294"></a><span class="lineno"> 8294</span>&#160;      (InsPt-&gt;getOpcode() == AMDGPU::SI_IF ||</div>
<div class="line"><a name="l08295"></a><span class="lineno"> 8295</span>&#160;       InsPt-&gt;getOpcode() == AMDGPU::SI_ELSE ||</div>
<div class="line"><a name="l08296"></a><span class="lineno"> 8296</span>&#160;       InsPt-&gt;getOpcode() == AMDGPU::SI_IF_BREAK) &amp;&amp;</div>
<div class="line"><a name="l08297"></a><span class="lineno"> 8297</span>&#160;      InsPt-&gt;definesRegister(Src)) {</div>
<div class="line"><a name="l08298"></a><span class="lineno"> 8298</span>&#160;    InsPt++;</div>
<div class="line"><a name="l08299"></a><span class="lineno"> 8299</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, InsPt, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>,</div>
<div class="line"><a name="l08300"></a><span class="lineno"> 8300</span>&#160;                   <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(ST.<a class="code" href="classllvm_1_1GCNSubtarget.html#a9f44cd05eefbb20a234a7e3b6369a7f8">isWave32</a>() ? AMDGPU::S_MOV_B32_term</div>
<div class="line"><a name="l08301"></a><span class="lineno"> 8301</span>&#160;                                     : AMDGPU::S_MOV_B64_term),</div>
<div class="line"><a name="l08302"></a><span class="lineno"> 8302</span>&#160;                   Dst)</div>
<div class="line"><a name="l08303"></a><span class="lineno"> 8303</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(Src, 0, SrcSubReg)</div>
<div class="line"><a name="l08304"></a><span class="lineno"> 8304</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(AMDGPU::EXEC, <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da0fec8ba6f4a4dc758b725205985eee99">RegState::Implicit</a>);</div>
<div class="line"><a name="l08305"></a><span class="lineno"> 8305</span>&#160;  }</div>
<div class="line"><a name="l08306"></a><span class="lineno"> 8306</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1TargetInstrInfo.html#ace192605e79bfe92ba9418af04ba4cf2">TargetInstrInfo::createPHISourceCopy</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, InsPt, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, Src, SrcSubReg,</div>
<div class="line"><a name="l08307"></a><span class="lineno"> 8307</span>&#160;                                              Dst);</div>
<div class="line"><a name="l08308"></a><span class="lineno"> 8308</span>&#160;}</div>
<div class="line"><a name="l08309"></a><span class="lineno"> 8309</span>&#160; </div>
<div class="line"><a name="l08310"></a><span class="lineno"><a class="line" href="classllvm_1_1SIInstrInfo.html#a4b7d2799877b8bf1ebd139ef268ee7d6"> 8310</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1SIInstrInfo.html#a4b7d2799877b8bf1ebd139ef268ee7d6">llvm::SIInstrInfo::isWave32</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> ST.<a class="code" href="classllvm_1_1GCNSubtarget.html#a9f44cd05eefbb20a234a7e3b6369a7f8">isWave32</a>(); }</div>
<div class="line"><a name="l08311"></a><span class="lineno"> 8311</span>&#160; </div>
<div class="line"><a name="l08312"></a><span class="lineno"><a class="line" href="classllvm_1_1SIInstrInfo.html#aba962e46a3ab42206182058420cb876f"> 8312</a></span>&#160;<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="classllvm_1_1SIInstrInfo.html#aba962e46a3ab42206182058420cb876f">SIInstrInfo::foldMemoryOperandImpl</a>(</div>
<div class="line"><a name="l08313"></a><span class="lineno"> 8313</span>&#160;    <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF, <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;unsigned&gt;</a> Ops,</div>
<div class="line"><a name="l08314"></a><span class="lineno"> 8314</span>&#160;    <a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::iterator</a> InsertPt, <span class="keywordtype">int</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4b437632fd9b97dd36010d85eb363efe">FrameIndex</a>, <a class="code" href="classllvm_1_1LiveIntervals.html">LiveIntervals</a> *LIS,</div>
<div class="line"><a name="l08315"></a><span class="lineno"> 8315</span>&#160;    <a class="code" href="classllvm_1_1VirtRegMap.html">VirtRegMap</a> *VRM)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l08316"></a><span class="lineno"> 8316</span>&#160;  <span class="comment">// This is a bit of a hack (copied from AArch64). Consider this instruction:</span></div>
<div class="line"><a name="l08317"></a><span class="lineno"> 8317</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l08318"></a><span class="lineno"> 8318</span>&#160;  <span class="comment">//   %0:sreg_32 = COPY $m0</span></div>
<div class="line"><a name="l08319"></a><span class="lineno"> 8319</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l08320"></a><span class="lineno"> 8320</span>&#160;  <span class="comment">// We explicitly chose SReg_32 for the virtual register so such a copy might</span></div>
<div class="line"><a name="l08321"></a><span class="lineno"> 8321</span>&#160;  <span class="comment">// be eliminated by RegisterCoalescer. However, that may not be possible, and</span></div>
<div class="line"><a name="l08322"></a><span class="lineno"> 8322</span>&#160;  <span class="comment">// %0 may even spill. We can&#39;t spill $m0 normally (it would require copying to</span></div>
<div class="line"><a name="l08323"></a><span class="lineno"> 8323</span>&#160;  <span class="comment">// a numbered SGPR anyway), and since it is in the SReg_32 register class,</span></div>
<div class="line"><a name="l08324"></a><span class="lineno"> 8324</span>&#160;  <span class="comment">// TargetInstrInfo::foldMemoryOperand() is going to try.</span></div>
<div class="line"><a name="l08325"></a><span class="lineno"> 8325</span>&#160;  <span class="comment">// A similar issue also exists with spilling and reloading $exec registers.</span></div>
<div class="line"><a name="l08326"></a><span class="lineno"> 8326</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l08327"></a><span class="lineno"> 8327</span>&#160;  <span class="comment">// To prevent that, constrain the %0 register class here.</span></div>
<div class="line"><a name="l08328"></a><span class="lineno"> 8328</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.isFullCopy()) {</div>
<div class="line"><a name="l08329"></a><span class="lineno"> 8329</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> DstReg = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(0).getReg();</div>
<div class="line"><a name="l08330"></a><span class="lineno"> 8330</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> SrcReg = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(1).getReg();</div>
<div class="line"><a name="l08331"></a><span class="lineno"> 8331</span>&#160;    <span class="keywordflow">if</span> ((DstReg.<a class="code" href="classllvm_1_1Register.html#aebafd86dde59b5a05b22e8720e808a9d">isVirtual</a>() || SrcReg.<a class="code" href="classllvm_1_1Register.html#aebafd86dde59b5a05b22e8720e808a9d">isVirtual</a>()) &amp;&amp;</div>
<div class="line"><a name="l08332"></a><span class="lineno"> 8332</span>&#160;        (DstReg.<a class="code" href="classllvm_1_1Register.html#aebafd86dde59b5a05b22e8720e808a9d">isVirtual</a>() != SrcReg.<a class="code" href="classllvm_1_1Register.html#aebafd86dde59b5a05b22e8720e808a9d">isVirtual</a>())) {</div>
<div class="line"><a name="l08333"></a><span class="lineno"> 8333</span>&#160;      <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a> = MF.<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>();</div>
<div class="line"><a name="l08334"></a><span class="lineno"> 8334</span>&#160;      <a class="code" href="classllvm_1_1Register.html">Register</a> VirtReg = DstReg.<a class="code" href="classllvm_1_1Register.html#aebafd86dde59b5a05b22e8720e808a9d">isVirtual</a>() ? DstReg : SrcReg;</div>
<div class="line"><a name="l08335"></a><span class="lineno"> 8335</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *RC = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#aa363afffca4fc13a709673936b47fe33">getRegClass</a>(VirtReg);</div>
<div class="line"><a name="l08336"></a><span class="lineno"> 8336</span>&#160;      <span class="keywordflow">if</span> (RC-&gt;<a class="code" href="classllvm_1_1TargetRegisterClass.html#abee1c3236731101b249f6eeffd8cd7ba">hasSuperClassEq</a>(&amp;AMDGPU::SReg_32RegClass)) {</div>
<div class="line"><a name="l08337"></a><span class="lineno"> 8337</span>&#160;        <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#ad85285685fc46db3f2b3b0bf90bf9184">constrainRegClass</a>(VirtReg, &amp;AMDGPU::SReg_32_XM0_XEXECRegClass);</div>
<div class="line"><a name="l08338"></a><span class="lineno"> 8338</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l08339"></a><span class="lineno"> 8339</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (RC-&gt;<a class="code" href="classllvm_1_1TargetRegisterClass.html#abee1c3236731101b249f6eeffd8cd7ba">hasSuperClassEq</a>(&amp;AMDGPU::SReg_64RegClass)) {</div>
<div class="line"><a name="l08340"></a><span class="lineno"> 8340</span>&#160;        <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#ad85285685fc46db3f2b3b0bf90bf9184">constrainRegClass</a>(VirtReg, &amp;AMDGPU::SReg_64_XEXECRegClass);</div>
<div class="line"><a name="l08341"></a><span class="lineno"> 8341</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l08342"></a><span class="lineno"> 8342</span>&#160;      }</div>
<div class="line"><a name="l08343"></a><span class="lineno"> 8343</span>&#160;    }</div>
<div class="line"><a name="l08344"></a><span class="lineno"> 8344</span>&#160;  }</div>
<div class="line"><a name="l08345"></a><span class="lineno"> 8345</span>&#160; </div>
<div class="line"><a name="l08346"></a><span class="lineno"> 8346</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l08347"></a><span class="lineno"> 8347</span>&#160;}</div>
<div class="line"><a name="l08348"></a><span class="lineno"> 8348</span>&#160; </div>
<div class="line"><a name="l08349"></a><span class="lineno"><a class="line" href="classllvm_1_1SIInstrInfo.html#ab9c89059d817934a6c4432b698ba8171"> 8349</a></span>&#160;<span class="keywordtype">unsigned</span> <a class="code" href="classllvm_1_1SIInstrInfo.html#ab9c89059d817934a6c4432b698ba8171">SIInstrInfo::getInstrLatency</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1InstrItineraryData.html">InstrItineraryData</a> *ItinData,</div>
<div class="line"><a name="l08350"></a><span class="lineno"> 8350</span>&#160;                                      <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>,</div>
<div class="line"><a name="l08351"></a><span class="lineno"> 8351</span>&#160;                                      <span class="keywordtype">unsigned</span> *PredCost)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l08352"></a><span class="lineno"> 8352</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.isBundle()) {</div>
<div class="line"><a name="l08353"></a><span class="lineno"> 8353</span>&#160;    <a class="code" href="classllvm_1_1ilist__iterator.html">MachineBasicBlock::const_instr_iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getIterator());</div>
<div class="line"><a name="l08354"></a><span class="lineno"> 8354</span>&#160;    <a class="code" href="classllvm_1_1ilist__iterator.html">MachineBasicBlock::const_instr_iterator</a> <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getParent()-&gt;instr_end());</div>
<div class="line"><a name="l08355"></a><span class="lineno"> 8355</span>&#160;    <span class="keywordtype">unsigned</span> Lat = 0, Count = 0;</div>
<div class="line"><a name="l08356"></a><span class="lineno"> 8356</span>&#160;    <span class="keywordflow">for</span> (++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> &amp;&amp; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;isBundledWithPred(); ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l08357"></a><span class="lineno"> 8357</span>&#160;      ++Count;</div>
<div class="line"><a name="l08358"></a><span class="lineno"> 8358</span>&#160;      Lat = <a class="code" href="namespacellvm.html#ab4d4bc901fedd8857f647dcc2c0d71de">std::max</a>(Lat, SchedModel.computeInstrLatency(&amp;*<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>));</div>
<div class="line"><a name="l08359"></a><span class="lineno"> 8359</span>&#160;    }</div>
<div class="line"><a name="l08360"></a><span class="lineno"> 8360</span>&#160;    <span class="keywordflow">return</span> Lat + Count - 1;</div>
<div class="line"><a name="l08361"></a><span class="lineno"> 8361</span>&#160;  }</div>
<div class="line"><a name="l08362"></a><span class="lineno"> 8362</span>&#160; </div>
<div class="line"><a name="l08363"></a><span class="lineno"> 8363</span>&#160;  <span class="keywordflow">return</span> SchedModel.computeInstrLatency(&amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l08364"></a><span class="lineno"> 8364</span>&#160;}</div>
<div class="line"><a name="l08365"></a><span class="lineno"> 8365</span>&#160; </div>
<div class="line"><a name="l08366"></a><span class="lineno"> 8366</span>&#160;<a class="code" href="namespacellvm.html#ae58c751054b01f206f9b9e34e461d25f">InstructionUniformity</a></div>
<div class="line"><a name="l08367"></a><span class="lineno"><a class="line" href="classllvm_1_1SIInstrInfo.html#a125b690ac5caa9383822f14c597e792b"> 8367</a></span>&#160;<a class="code" href="classllvm_1_1SIInstrInfo.html#a125b690ac5caa9383822f14c597e792b">SIInstrInfo::getGenericInstructionUniformity</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l08368"></a><span class="lineno"> 8368</span>&#160;  <span class="keywordtype">unsigned</span> opcode = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode();</div>
<div class="line"><a name="l08369"></a><span class="lineno"> 8369</span>&#160;  <span class="keywordflow">if</span> (opcode == AMDGPU::G_INTRINSIC ||</div>
<div class="line"><a name="l08370"></a><span class="lineno"> 8370</span>&#160;      opcode == AMDGPU::G_INTRINSIC_W_SIDE_EFFECTS) {</div>
<div class="line"><a name="l08371"></a><span class="lineno"> 8371</span>&#160;    <span class="keyword">auto</span> IID = <span class="keyword">static_cast&lt;</span><a class="code" href="namespacellvm_1_1Intrinsic.html#a80add6b3b1cdaec560907995127adc16">Intrinsic::ID</a><span class="keyword">&gt;</span>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getIntrinsicID());</div>
<div class="line"><a name="l08372"></a><span class="lineno"> 8372</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1AMDGPU.html#a8ab2011ec30da8a5edbd54bf0e498363">AMDGPU::isIntrinsicSourceOfDivergence</a>(IID))</div>
<div class="line"><a name="l08373"></a><span class="lineno"> 8373</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#ae58c751054b01f206f9b9e34e461d25fa45ca4337861caa0e5a6723c79b31e191">InstructionUniformity::NeverUniform</a>;</div>
<div class="line"><a name="l08374"></a><span class="lineno"> 8374</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1AMDGPU.html#a5ee59b5ad9e64f6b900b6cdd5567b15b">AMDGPU::isIntrinsicAlwaysUniform</a>(IID))</div>
<div class="line"><a name="l08375"></a><span class="lineno"> 8375</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#ae58c751054b01f206f9b9e34e461d25fa32c426b55435c648a805b1103c96dcdf">InstructionUniformity::AlwaysUniform</a>;</div>
<div class="line"><a name="l08376"></a><span class="lineno"> 8376</span>&#160; </div>
<div class="line"><a name="l08377"></a><span class="lineno"> 8377</span>&#160;    <span class="keywordflow">switch</span> (IID) {</div>
<div class="line"><a name="l08378"></a><span class="lineno"> 8378</span>&#160;    <span class="keywordflow">case</span> Intrinsic::amdgcn_if:</div>
<div class="line"><a name="l08379"></a><span class="lineno"> 8379</span>&#160;    <span class="keywordflow">case</span> Intrinsic::amdgcn_else:</div>
<div class="line"><a name="l08380"></a><span class="lineno"> 8380</span>&#160;      <span class="comment">// FIXME: Uniform if second result</span></div>
<div class="line"><a name="l08381"></a><span class="lineno"> 8381</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l08382"></a><span class="lineno"> 8382</span>&#160;    }</div>
<div class="line"><a name="l08383"></a><span class="lineno"> 8383</span>&#160; </div>
<div class="line"><a name="l08384"></a><span class="lineno"> 8384</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#ae58c751054b01f206f9b9e34e461d25fa7a1920d61156abc05a60135aefe8bc67">InstructionUniformity::Default</a>;</div>
<div class="line"><a name="l08385"></a><span class="lineno"> 8385</span>&#160;  }</div>
<div class="line"><a name="l08386"></a><span class="lineno"> 8386</span>&#160; </div>
<div class="line"><a name="l08387"></a><span class="lineno"> 8387</span>&#160;  <span class="comment">// Loads from the private and flat address spaces are divergent, because</span></div>
<div class="line"><a name="l08388"></a><span class="lineno"> 8388</span>&#160;  <span class="comment">// threads can execute the load instruction with the same inputs and get</span></div>
<div class="line"><a name="l08389"></a><span class="lineno"> 8389</span>&#160;  <span class="comment">// different results.</span></div>
<div class="line"><a name="l08390"></a><span class="lineno"> 8390</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l08391"></a><span class="lineno"> 8391</span>&#160;  <span class="comment">// All other loads are not divergent, because if threads issue loads with the</span></div>
<div class="line"><a name="l08392"></a><span class="lineno"> 8392</span>&#160;  <span class="comment">// same arguments, they will always get the same result.</span></div>
<div class="line"><a name="l08393"></a><span class="lineno"> 8393</span>&#160;  <span class="keywordflow">if</span> (opcode == AMDGPU::G_LOAD) {</div>
<div class="line"><a name="l08394"></a><span class="lineno"> 8394</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.memoperands_empty())</div>
<div class="line"><a name="l08395"></a><span class="lineno"> 8395</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#ae58c751054b01f206f9b9e34e461d25fa45ca4337861caa0e5a6723c79b31e191">InstructionUniformity::NeverUniform</a>; <span class="comment">// conservative assumption</span></div>
<div class="line"><a name="l08396"></a><span class="lineno"> 8396</span>&#160; </div>
<div class="line"><a name="l08397"></a><span class="lineno"> 8397</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a61d13d6824ec46c31260a4fd0997eda0">llvm::any_of</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.memoperands(), [](<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineMemOperand.html">MachineMemOperand</a> *mmo) {</div>
<div class="line"><a name="l08398"></a><span class="lineno"> 8398</span>&#160;          return mmo-&gt;getAddrSpace() == AMDGPUAS::PRIVATE_ADDRESS ||</div>
<div class="line"><a name="l08399"></a><span class="lineno"> 8399</span>&#160;                 mmo-&gt;getAddrSpace() == AMDGPUAS::FLAT_ADDRESS;</div>
<div class="line"><a name="l08400"></a><span class="lineno"> 8400</span>&#160;        })) {</div>
<div class="line"><a name="l08401"></a><span class="lineno"> 8401</span>&#160;      <span class="comment">// At least one MMO in a non-global address space.</span></div>
<div class="line"><a name="l08402"></a><span class="lineno"> 8402</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#ae58c751054b01f206f9b9e34e461d25fa45ca4337861caa0e5a6723c79b31e191">InstructionUniformity::NeverUniform</a>;</div>
<div class="line"><a name="l08403"></a><span class="lineno"> 8403</span>&#160;    }</div>
<div class="line"><a name="l08404"></a><span class="lineno"> 8404</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#ae58c751054b01f206f9b9e34e461d25fa7a1920d61156abc05a60135aefe8bc67">InstructionUniformity::Default</a>;</div>
<div class="line"><a name="l08405"></a><span class="lineno"> 8405</span>&#160;  }</div>
<div class="line"><a name="l08406"></a><span class="lineno"> 8406</span>&#160; </div>
<div class="line"><a name="l08407"></a><span class="lineno"> 8407</span>&#160;  <span class="keywordflow">if</span> (SIInstrInfo::isGenericAtomicRMWOpcode(opcode) ||</div>
<div class="line"><a name="l08408"></a><span class="lineno"> 8408</span>&#160;      opcode == AMDGPU::G_ATOMIC_CMPXCHG ||</div>
<div class="line"><a name="l08409"></a><span class="lineno"> 8409</span>&#160;      opcode == AMDGPU::G_ATOMIC_CMPXCHG_WITH_SUCCESS) {</div>
<div class="line"><a name="l08410"></a><span class="lineno"> 8410</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#ae58c751054b01f206f9b9e34e461d25fa45ca4337861caa0e5a6723c79b31e191">InstructionUniformity::NeverUniform</a>;</div>
<div class="line"><a name="l08411"></a><span class="lineno"> 8411</span>&#160;  }</div>
<div class="line"><a name="l08412"></a><span class="lineno"> 8412</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#ae58c751054b01f206f9b9e34e461d25fa7a1920d61156abc05a60135aefe8bc67">InstructionUniformity::Default</a>;</div>
<div class="line"><a name="l08413"></a><span class="lineno"> 8413</span>&#160;}</div>
<div class="line"><a name="l08414"></a><span class="lineno"> 8414</span>&#160; </div>
<div class="line"><a name="l08415"></a><span class="lineno"> 8415</span>&#160;<a class="code" href="namespacellvm.html#ae58c751054b01f206f9b9e34e461d25f">InstructionUniformity</a></div>
<div class="line"><a name="l08416"></a><span class="lineno"><a class="line" href="classllvm_1_1SIInstrInfo.html#a8e8f884db0a3faadefc981023902a1ec"> 8416</a></span>&#160;<a class="code" href="classllvm_1_1SIInstrInfo.html#a8e8f884db0a3faadefc981023902a1ec">SIInstrInfo::getInstructionUniformity</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l08417"></a><span class="lineno"> 8417</span>&#160; </div>
<div class="line"><a name="l08418"></a><span class="lineno"> 8418</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SIInstrInfo.html#a0d8a3508b676977a0396a0bb055c0a03">isNeverUniform</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>))</div>
<div class="line"><a name="l08419"></a><span class="lineno"> 8419</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#ae58c751054b01f206f9b9e34e461d25fa45ca4337861caa0e5a6723c79b31e191">InstructionUniformity::NeverUniform</a>;</div>
<div class="line"><a name="l08420"></a><span class="lineno"> 8420</span>&#160; </div>
<div class="line"><a name="l08421"></a><span class="lineno"> 8421</span>&#160;  <span class="keywordtype">unsigned</span> opcode = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode();</div>
<div class="line"><a name="l08422"></a><span class="lineno"> 8422</span>&#160;  <span class="keywordflow">if</span> (opcode == AMDGPU::V_READLANE_B32 || opcode == AMDGPU::V_READFIRSTLANE_B32)</div>
<div class="line"><a name="l08423"></a><span class="lineno"> 8423</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#ae58c751054b01f206f9b9e34e461d25fa32c426b55435c648a805b1103c96dcdf">InstructionUniformity::AlwaysUniform</a>;</div>
<div class="line"><a name="l08424"></a><span class="lineno"> 8424</span>&#160; </div>
<div class="line"><a name="l08425"></a><span class="lineno"> 8425</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.isCopy()) {</div>
<div class="line"><a name="l08426"></a><span class="lineno"> 8426</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;srcOp = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(1);</div>
<div class="line"><a name="l08427"></a><span class="lineno"> 8427</span>&#160;    <span class="keywordflow">if</span> (srcOp.<a class="code" href="classllvm_1_1MachineOperand.html#a4c9594c955fec80c73ddd964b5efd554">isReg</a>() &amp;&amp; srcOp.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>().<a class="code" href="classllvm_1_1Register.html#a13bd3dae94013a7bf38afc9391c8fa8f">isPhysical</a>()) {</div>
<div class="line"><a name="l08428"></a><span class="lineno"> 8428</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *regClass =</div>
<div class="line"><a name="l08429"></a><span class="lineno"> 8429</span>&#160;          RI.getPhysRegBaseClass(srcOp.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>());</div>
<div class="line"><a name="l08430"></a><span class="lineno"> 8430</span>&#160;      <span class="keywordflow">return</span> RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#af58d646af8dd60e4e514303dfa81de9c">isSGPRClass</a>(regClass) ? <a class="code" href="namespacellvm.html#ae58c751054b01f206f9b9e34e461d25fa32c426b55435c648a805b1103c96dcdf">InstructionUniformity::AlwaysUniform</a></div>
<div class="line"><a name="l08431"></a><span class="lineno"> 8431</span>&#160;                                      : <a class="code" href="namespacellvm.html#ae58c751054b01f206f9b9e34e461d25fa45ca4337861caa0e5a6723c79b31e191">InstructionUniformity::NeverUniform</a>;</div>
<div class="line"><a name="l08432"></a><span class="lineno"> 8432</span>&#160;    }</div>
<div class="line"><a name="l08433"></a><span class="lineno"> 8433</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#ae58c751054b01f206f9b9e34e461d25fa7a1920d61156abc05a60135aefe8bc67">InstructionUniformity::Default</a>;</div>
<div class="line"><a name="l08434"></a><span class="lineno"> 8434</span>&#160;  }</div>
<div class="line"><a name="l08435"></a><span class="lineno"> 8435</span>&#160; </div>
<div class="line"><a name="l08436"></a><span class="lineno"> 8436</span>&#160;  <span class="comment">// GMIR handling</span></div>
<div class="line"><a name="l08437"></a><span class="lineno"> 8437</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.isPreISelOpcode())</div>
<div class="line"><a name="l08438"></a><span class="lineno"> 8438</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SIInstrInfo.html#a125b690ac5caa9383822f14c597e792b">SIInstrInfo::getGenericInstructionUniformity</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l08439"></a><span class="lineno"> 8439</span>&#160; </div>
<div class="line"><a name="l08440"></a><span class="lineno"> 8440</span>&#160;  <span class="comment">// Atomics are divergent because they are executed sequentially: when an</span></div>
<div class="line"><a name="l08441"></a><span class="lineno"> 8441</span>&#160;  <span class="comment">// atomic operation refers to the same address in each thread, then each</span></div>
<div class="line"><a name="l08442"></a><span class="lineno"> 8442</span>&#160;  <span class="comment">// thread after the first sees the value written by the previous thread as</span></div>
<div class="line"><a name="l08443"></a><span class="lineno"> 8443</span>&#160;  <span class="comment">// original value.</span></div>
<div class="line"><a name="l08444"></a><span class="lineno"> 8444</span>&#160; </div>
<div class="line"><a name="l08445"></a><span class="lineno"> 8445</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SIInstrInfo.html#acf2a604407f622a88ca631dfa50dd3b0">isAtomic</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>))</div>
<div class="line"><a name="l08446"></a><span class="lineno"> 8446</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#ae58c751054b01f206f9b9e34e461d25fa45ca4337861caa0e5a6723c79b31e191">InstructionUniformity::NeverUniform</a>;</div>
<div class="line"><a name="l08447"></a><span class="lineno"> 8447</span>&#160; </div>
<div class="line"><a name="l08448"></a><span class="lineno"> 8448</span>&#160;  <span class="comment">// Loads from the private and flat address spaces are divergent, because</span></div>
<div class="line"><a name="l08449"></a><span class="lineno"> 8449</span>&#160;  <span class="comment">// threads can execute the load instruction with the same inputs and get</span></div>
<div class="line"><a name="l08450"></a><span class="lineno"> 8450</span>&#160;  <span class="comment">// different results.</span></div>
<div class="line"><a name="l08451"></a><span class="lineno"> 8451</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SIInstrInfo.html#adc3333d2d5974f4068df84f8706fc7d2">isFLAT</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>) &amp;&amp; <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.mayLoad()) {</div>
<div class="line"><a name="l08452"></a><span class="lineno"> 8452</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.memoperands_empty())</div>
<div class="line"><a name="l08453"></a><span class="lineno"> 8453</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#ae58c751054b01f206f9b9e34e461d25fa45ca4337861caa0e5a6723c79b31e191">InstructionUniformity::NeverUniform</a>; <span class="comment">// conservative assumption</span></div>
<div class="line"><a name="l08454"></a><span class="lineno"> 8454</span>&#160; </div>
<div class="line"><a name="l08455"></a><span class="lineno"> 8455</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a61d13d6824ec46c31260a4fd0997eda0">llvm::any_of</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.memoperands(), [](<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineMemOperand.html">MachineMemOperand</a> *mmo) {</div>
<div class="line"><a name="l08456"></a><span class="lineno"> 8456</span>&#160;          return mmo-&gt;getAddrSpace() == AMDGPUAS::PRIVATE_ADDRESS ||</div>
<div class="line"><a name="l08457"></a><span class="lineno"> 8457</span>&#160;                 mmo-&gt;getAddrSpace() == AMDGPUAS::FLAT_ADDRESS;</div>
<div class="line"><a name="l08458"></a><span class="lineno"> 8458</span>&#160;        })) {</div>
<div class="line"><a name="l08459"></a><span class="lineno"> 8459</span>&#160;      <span class="comment">// At least one MMO in a non-global address space.</span></div>
<div class="line"><a name="l08460"></a><span class="lineno"> 8460</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#ae58c751054b01f206f9b9e34e461d25fa45ca4337861caa0e5a6723c79b31e191">InstructionUniformity::NeverUniform</a>;</div>
<div class="line"><a name="l08461"></a><span class="lineno"> 8461</span>&#160;    }</div>
<div class="line"><a name="l08462"></a><span class="lineno"> 8462</span>&#160; </div>
<div class="line"><a name="l08463"></a><span class="lineno"> 8463</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#ae58c751054b01f206f9b9e34e461d25fa7a1920d61156abc05a60135aefe8bc67">InstructionUniformity::Default</a>;</div>
<div class="line"><a name="l08464"></a><span class="lineno"> 8464</span>&#160;  }</div>
<div class="line"><a name="l08465"></a><span class="lineno"> 8465</span>&#160; </div>
<div class="line"><a name="l08466"></a><span class="lineno"> 8466</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a> = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getParent()-&gt;getParent()-&gt;getRegInfo();</div>
<div class="line"><a name="l08467"></a><span class="lineno"> 8467</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1AMDGPURegisterBankInfo.html">AMDGPURegisterBankInfo</a> *RBI = ST.<a class="code" href="classllvm_1_1GCNSubtarget.html#ad36912f9e8bc286cf6f7832fd5f3c064">getRegBankInfo</a>();</div>
<div class="line"><a name="l08468"></a><span class="lineno"> 8468</span>&#160; </div>
<div class="line"><a name="l08469"></a><span class="lineno"> 8469</span>&#160;  <span class="comment">// FIXME: It&#39;s conceptually broken to report this for an instruction, and not</span></div>
<div class="line"><a name="l08470"></a><span class="lineno"> 8470</span>&#160;  <span class="comment">// a specific def operand. For inline asm in particular, there could be mixed</span></div>
<div class="line"><a name="l08471"></a><span class="lineno"> 8471</span>&#160;  <span class="comment">// uniform and divergent results.</span></div>
<div class="line"><a name="l08472"></a><span class="lineno"> 8472</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 0, <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getNumOperands(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l08473"></a><span class="lineno"> 8473</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;<a class="code" href="classllvm_1_1SrcOp.html">SrcOp</a> = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l08474"></a><span class="lineno"> 8474</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1SrcOp.html">SrcOp</a>.isReg())</div>
<div class="line"><a name="l08475"></a><span class="lineno"> 8475</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l08476"></a><span class="lineno"> 8476</span>&#160; </div>
<div class="line"><a name="l08477"></a><span class="lineno"> 8477</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a> = <a class="code" href="classllvm_1_1SrcOp.html">SrcOp</a>.<a class="code" href="classllvm_1_1SrcOp.html#ae229785d0c8a8ce25d34be18fe150a54">getReg</a>();</div>
<div class="line"><a name="l08478"></a><span class="lineno"> 8478</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a> || !<a class="code" href="classllvm_1_1SrcOp.html">SrcOp</a>.readsReg())</div>
<div class="line"><a name="l08479"></a><span class="lineno"> 8479</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l08480"></a><span class="lineno"> 8480</span>&#160; </div>
<div class="line"><a name="l08481"></a><span class="lineno"> 8481</span>&#160;    <span class="comment">// If RegBank is null, this is unassigned or an unallocatable special</span></div>
<div class="line"><a name="l08482"></a><span class="lineno"> 8482</span>&#160;    <span class="comment">// register, which are all scalars.</span></div>
<div class="line"><a name="l08483"></a><span class="lineno"> 8483</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1RegisterBank.html">RegisterBank</a> *RegBank = RBI-&gt;<a class="code" href="classllvm_1_1RegisterBankInfo.html#a53a37d4bce0298f3ec4099611c75d7ac">getRegBank</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, RI);</div>
<div class="line"><a name="l08484"></a><span class="lineno"> 8484</span>&#160;    <span class="keywordflow">if</span> (RegBank &amp;&amp; RegBank-&gt;<a class="code" href="classllvm_1_1RegisterBank.html#abea60948498472cef86d66586ded919e">getID</a>() != AMDGPU::SGPRRegBankID)</div>
<div class="line"><a name="l08485"></a><span class="lineno"> 8485</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#ae58c751054b01f206f9b9e34e461d25fa45ca4337861caa0e5a6723c79b31e191">InstructionUniformity::NeverUniform</a>;</div>
<div class="line"><a name="l08486"></a><span class="lineno"> 8486</span>&#160;  }</div>
<div class="line"><a name="l08487"></a><span class="lineno"> 8487</span>&#160; </div>
<div class="line"><a name="l08488"></a><span class="lineno"> 8488</span>&#160;  <span class="comment">// TODO: Uniformity check condtions above can be rearranged for more</span></div>
<div class="line"><a name="l08489"></a><span class="lineno"> 8489</span>&#160;  <span class="comment">// redability</span></div>
<div class="line"><a name="l08490"></a><span class="lineno"> 8490</span>&#160; </div>
<div class="line"><a name="l08491"></a><span class="lineno"> 8491</span>&#160;  <span class="comment">// TODO: amdgcn.{ballot, [if]cmp} should be AlwaysUniform, but they are</span></div>
<div class="line"><a name="l08492"></a><span class="lineno"> 8492</span>&#160;  <span class="comment">//       currently turned into no-op COPYs by SelectionDAG ISel and are</span></div>
<div class="line"><a name="l08493"></a><span class="lineno"> 8493</span>&#160;  <span class="comment">//       therefore no longer recognizable.</span></div>
<div class="line"><a name="l08494"></a><span class="lineno"> 8494</span>&#160; </div>
<div class="line"><a name="l08495"></a><span class="lineno"> 8495</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#ae58c751054b01f206f9b9e34e461d25fa7a1920d61156abc05a60135aefe8bc67">InstructionUniformity::Default</a>;</div>
<div class="line"><a name="l08496"></a><span class="lineno"> 8496</span>&#160;}</div>
<div class="line"><a name="l08497"></a><span class="lineno"> 8497</span>&#160; </div>
<div class="line"><a name="l08498"></a><span class="lineno"><a class="line" href="classllvm_1_1SIInstrInfo.html#a8221c74806acd5e0e133095c1bd6a3ce"> 8498</a></span>&#160;<span class="keywordtype">unsigned</span> <a class="code" href="classllvm_1_1SIInstrInfo.html#a8221c74806acd5e0e133095c1bd6a3ce">SIInstrInfo::getDSShaderTypeValue</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF) {</div>
<div class="line"><a name="l08499"></a><span class="lineno"> 8499</span>&#160;  <span class="keywordflow">switch</span> (MF.<a class="code" href="classllvm_1_1MachineFunction.html#a4b21394c138cc5ae719510bb529ee099">getFunction</a>().<a class="code" href="classllvm_1_1Function.html#a5f494edc0a569c7fc9ff4181243be1ed">getCallingConv</a>()) {</div>
<div class="line"><a name="l08500"></a><span class="lineno"> 8500</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1CallingConv.html#a5b166ae228ebbfdb96736d6022f3feeda91283117ce67ebdae50cc7730694d8f8">CallingConv::AMDGPU_PS</a>:</div>
<div class="line"><a name="l08501"></a><span class="lineno"> 8501</span>&#160;    <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l08502"></a><span class="lineno"> 8502</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1CallingConv.html#a5b166ae228ebbfdb96736d6022f3feeda1a9f243b16678fc294567b72bbe87223">CallingConv::AMDGPU_VS</a>:</div>
<div class="line"><a name="l08503"></a><span class="lineno"> 8503</span>&#160;    <span class="keywordflow">return</span> 2;</div>
<div class="line"><a name="l08504"></a><span class="lineno"> 8504</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1CallingConv.html#a5b166ae228ebbfdb96736d6022f3feeda6f08d1631b96043fe0201973d84e5539">CallingConv::AMDGPU_GS</a>:</div>
<div class="line"><a name="l08505"></a><span class="lineno"> 8505</span>&#160;    <span class="keywordflow">return</span> 3;</div>
<div class="line"><a name="l08506"></a><span class="lineno"> 8506</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1CallingConv.html#a5b166ae228ebbfdb96736d6022f3feeda5c0f66e45afd7c51f4ee51552d8fb606">CallingConv::AMDGPU_HS</a>:</div>
<div class="line"><a name="l08507"></a><span class="lineno"> 8507</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1CallingConv.html#a5b166ae228ebbfdb96736d6022f3feedaf2c5be679d7769a9f3e5e308f73a9ff8">CallingConv::AMDGPU_LS</a>:</div>
<div class="line"><a name="l08508"></a><span class="lineno"> 8508</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1CallingConv.html#a5b166ae228ebbfdb96736d6022f3feedad61318e853e529ac703f52a853efa1d1">CallingConv::AMDGPU_ES</a>:</div>
<div class="line"><a name="l08509"></a><span class="lineno"> 8509</span>&#160;    <a class="code" href="namespacellvm.html#a7f2a3d4dcfee70225988aec53ff1e173">report_fatal_error</a>(<span class="stringliteral">&quot;ds_ordered_count unsupported for this calling conv&quot;</span>);</div>
<div class="line"><a name="l08510"></a><span class="lineno"> 8510</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1CallingConv.html#a5b166ae228ebbfdb96736d6022f3feeda16c3e679fa61136bfeb3c5c9b7542d9f">CallingConv::AMDGPU_CS</a>:</div>
<div class="line"><a name="l08511"></a><span class="lineno"> 8511</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1CallingConv.html#a5b166ae228ebbfdb96736d6022f3feeda27a385675142c462571165c839e41aa0">CallingConv::AMDGPU_KERNEL</a>:</div>
<div class="line"><a name="l08512"></a><span class="lineno"> 8512</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1CallingConv.html#a5b166ae228ebbfdb96736d6022f3feedafd841a49aec1539bc88abc8ff9e170fb">CallingConv::C</a>:</div>
<div class="line"><a name="l08513"></a><span class="lineno"> 8513</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1CallingConv.html#a5b166ae228ebbfdb96736d6022f3feedabc8e2ee40a84687a9e12fd08784b87ba">CallingConv::Fast</a>:</div>
<div class="line"><a name="l08514"></a><span class="lineno"> 8514</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l08515"></a><span class="lineno"> 8515</span>&#160;    <span class="comment">// Assume other calling conventions are various compute callable functions</span></div>
<div class="line"><a name="l08516"></a><span class="lineno"> 8516</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l08517"></a><span class="lineno"> 8517</span>&#160;  }</div>
<div class="line"><a name="l08518"></a><span class="lineno"> 8518</span>&#160;}</div>
<div class="line"><a name="l08519"></a><span class="lineno"> 8519</span>&#160; </div>
<div class="line"><a name="l08520"></a><span class="lineno"><a class="line" href="classllvm_1_1SIInstrInfo.html#a86c872d6942793868e63eea201d0d8af"> 8520</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1SIInstrInfo.html#a86c872d6942793868e63eea201d0d8af">SIInstrInfo::analyzeCompare</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="classllvm_1_1Register.html">Register</a> &amp;SrcReg,</div>
<div class="line"><a name="l08521"></a><span class="lineno"> 8521</span>&#160;                                 <a class="code" href="classllvm_1_1Register.html">Register</a> &amp;SrcReg2, int64_t &amp;CmpMask,</div>
<div class="line"><a name="l08522"></a><span class="lineno"> 8522</span>&#160;                                 int64_t &amp;CmpValue)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l08523"></a><span class="lineno"> 8523</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(0).isReg() || <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(0).getSubReg())</div>
<div class="line"><a name="l08524"></a><span class="lineno"> 8524</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l08525"></a><span class="lineno"> 8525</span>&#160; </div>
<div class="line"><a name="l08526"></a><span class="lineno"> 8526</span>&#160;  <span class="keywordflow">switch</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode()) {</div>
<div class="line"><a name="l08527"></a><span class="lineno"> 8527</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l08528"></a><span class="lineno"> 8528</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l08529"></a><span class="lineno"> 8529</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_CMP_EQ_U32:</div>
<div class="line"><a name="l08530"></a><span class="lineno"> 8530</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_CMP_EQ_I32:</div>
<div class="line"><a name="l08531"></a><span class="lineno"> 8531</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_CMP_LG_U32:</div>
<div class="line"><a name="l08532"></a><span class="lineno"> 8532</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_CMP_LG_I32:</div>
<div class="line"><a name="l08533"></a><span class="lineno"> 8533</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_CMP_LT_U32:</div>
<div class="line"><a name="l08534"></a><span class="lineno"> 8534</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_CMP_LT_I32:</div>
<div class="line"><a name="l08535"></a><span class="lineno"> 8535</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_CMP_GT_U32:</div>
<div class="line"><a name="l08536"></a><span class="lineno"> 8536</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_CMP_GT_I32:</div>
<div class="line"><a name="l08537"></a><span class="lineno"> 8537</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_CMP_LE_U32:</div>
<div class="line"><a name="l08538"></a><span class="lineno"> 8538</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_CMP_LE_I32:</div>
<div class="line"><a name="l08539"></a><span class="lineno"> 8539</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_CMP_GE_U32:</div>
<div class="line"><a name="l08540"></a><span class="lineno"> 8540</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_CMP_GE_I32:</div>
<div class="line"><a name="l08541"></a><span class="lineno"> 8541</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_CMP_EQ_U64:</div>
<div class="line"><a name="l08542"></a><span class="lineno"> 8542</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_CMP_LG_U64:</div>
<div class="line"><a name="l08543"></a><span class="lineno"> 8543</span>&#160;    SrcReg = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(0).getReg();</div>
<div class="line"><a name="l08544"></a><span class="lineno"> 8544</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(1).isReg()) {</div>
<div class="line"><a name="l08545"></a><span class="lineno"> 8545</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(1).getSubReg())</div>
<div class="line"><a name="l08546"></a><span class="lineno"> 8546</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l08547"></a><span class="lineno"> 8547</span>&#160;      SrcReg2 = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(1).getReg();</div>
<div class="line"><a name="l08548"></a><span class="lineno"> 8548</span>&#160;      CmpValue = 0;</div>
<div class="line"><a name="l08549"></a><span class="lineno"> 8549</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(1).isImm()) {</div>
<div class="line"><a name="l08550"></a><span class="lineno"> 8550</span>&#160;      SrcReg2 = <a class="code" href="classllvm_1_1Register.html">Register</a>();</div>
<div class="line"><a name="l08551"></a><span class="lineno"> 8551</span>&#160;      CmpValue = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(1).getImm();</div>
<div class="line"><a name="l08552"></a><span class="lineno"> 8552</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l08553"></a><span class="lineno"> 8553</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l08554"></a><span class="lineno"> 8554</span>&#160;    }</div>
<div class="line"><a name="l08555"></a><span class="lineno"> 8555</span>&#160;    CmpMask = ~0;</div>
<div class="line"><a name="l08556"></a><span class="lineno"> 8556</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l08557"></a><span class="lineno"> 8557</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_CMPK_EQ_U32:</div>
<div class="line"><a name="l08558"></a><span class="lineno"> 8558</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_CMPK_EQ_I32:</div>
<div class="line"><a name="l08559"></a><span class="lineno"> 8559</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_CMPK_LG_U32:</div>
<div class="line"><a name="l08560"></a><span class="lineno"> 8560</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_CMPK_LG_I32:</div>
<div class="line"><a name="l08561"></a><span class="lineno"> 8561</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_CMPK_LT_U32:</div>
<div class="line"><a name="l08562"></a><span class="lineno"> 8562</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_CMPK_LT_I32:</div>
<div class="line"><a name="l08563"></a><span class="lineno"> 8563</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_CMPK_GT_U32:</div>
<div class="line"><a name="l08564"></a><span class="lineno"> 8564</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_CMPK_GT_I32:</div>
<div class="line"><a name="l08565"></a><span class="lineno"> 8565</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_CMPK_LE_U32:</div>
<div class="line"><a name="l08566"></a><span class="lineno"> 8566</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_CMPK_LE_I32:</div>
<div class="line"><a name="l08567"></a><span class="lineno"> 8567</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_CMPK_GE_U32:</div>
<div class="line"><a name="l08568"></a><span class="lineno"> 8568</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_CMPK_GE_I32:</div>
<div class="line"><a name="l08569"></a><span class="lineno"> 8569</span>&#160;    SrcReg = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(0).getReg();</div>
<div class="line"><a name="l08570"></a><span class="lineno"> 8570</span>&#160;    SrcReg2 = <a class="code" href="classllvm_1_1Register.html">Register</a>();</div>
<div class="line"><a name="l08571"></a><span class="lineno"> 8571</span>&#160;    CmpValue = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(1).getImm();</div>
<div class="line"><a name="l08572"></a><span class="lineno"> 8572</span>&#160;    CmpMask = ~0;</div>
<div class="line"><a name="l08573"></a><span class="lineno"> 8573</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l08574"></a><span class="lineno"> 8574</span>&#160;  }</div>
<div class="line"><a name="l08575"></a><span class="lineno"> 8575</span>&#160; </div>
<div class="line"><a name="l08576"></a><span class="lineno"> 8576</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l08577"></a><span class="lineno"> 8577</span>&#160;}</div>
<div class="line"><a name="l08578"></a><span class="lineno"> 8578</span>&#160; </div>
<div class="line"><a name="l08579"></a><span class="lineno"><a class="line" href="classllvm_1_1SIInstrInfo.html#a241b0b6bb1961190125114fb88db4a27"> 8579</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1SIInstrInfo.html#a241b0b6bb1961190125114fb88db4a27">SIInstrInfo::optimizeCompareInstr</a>(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;CmpInstr, <a class="code" href="classllvm_1_1Register.html">Register</a> SrcReg,</div>
<div class="line"><a name="l08580"></a><span class="lineno"> 8580</span>&#160;                                       <a class="code" href="classllvm_1_1Register.html">Register</a> SrcReg2, int64_t CmpMask,</div>
<div class="line"><a name="l08581"></a><span class="lineno"> 8581</span>&#160;                                       int64_t CmpValue,</div>
<div class="line"><a name="l08582"></a><span class="lineno"> 8582</span>&#160;                                       <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> *<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l08583"></a><span class="lineno"> 8583</span>&#160;  <span class="keywordflow">if</span> (!SrcReg || SrcReg.<a class="code" href="classllvm_1_1Register.html#a13bd3dae94013a7bf38afc9391c8fa8f">isPhysical</a>())</div>
<div class="line"><a name="l08584"></a><span class="lineno"> 8584</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l08585"></a><span class="lineno"> 8585</span>&#160; </div>
<div class="line"><a name="l08586"></a><span class="lineno"> 8586</span>&#160;  <span class="keywordflow">if</span> (SrcReg2 &amp;&amp; !<a class="code" href="SIInstrInfo_8cpp.html#a7326d1a0ae53d6dece409404840c5e6f">getFoldableImm</a>(SrcReg2, *<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, CmpValue))</div>
<div class="line"><a name="l08587"></a><span class="lineno"> 8587</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l08588"></a><span class="lineno"> 8588</span>&#160; </div>
<div class="line"><a name="l08589"></a><span class="lineno"> 8589</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> optimizeCmpAnd = [&amp;CmpInstr, SrcReg, CmpValue, <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>,</div>
<div class="line"><a name="l08590"></a><span class="lineno"> 8590</span>&#160;                               <span class="keyword">this</span>](int64_t ExpectedValue, <span class="keywordtype">unsigned</span> SrcSize,</div>
<div class="line"><a name="l08591"></a><span class="lineno"> 8591</span>&#160;                                     <span class="keywordtype">bool</span> IsReversible, <span class="keywordtype">bool</span> IsSigned) -&gt; <span class="keywordtype">bool</span> {</div>
<div class="line"><a name="l08592"></a><span class="lineno"> 8592</span>&#160;    <span class="comment">// s_cmp_eq_u32 (s_and_b32 $src, 1 &lt;&lt; n), 1 &lt;&lt; n =&gt; s_and_b32 $src, 1 &lt;&lt; n</span></div>
<div class="line"><a name="l08593"></a><span class="lineno"> 8593</span>&#160;    <span class="comment">// s_cmp_eq_i32 (s_and_b32 $src, 1 &lt;&lt; n), 1 &lt;&lt; n =&gt; s_and_b32 $src, 1 &lt;&lt; n</span></div>
<div class="line"><a name="l08594"></a><span class="lineno"> 8594</span>&#160;    <span class="comment">// s_cmp_ge_u32 (s_and_b32 $src, 1 &lt;&lt; n), 1 &lt;&lt; n =&gt; s_and_b32 $src, 1 &lt;&lt; n</span></div>
<div class="line"><a name="l08595"></a><span class="lineno"> 8595</span>&#160;    <span class="comment">// s_cmp_ge_i32 (s_and_b32 $src, 1 &lt;&lt; n), 1 &lt;&lt; n =&gt; s_and_b32 $src, 1 &lt;&lt; n</span></div>
<div class="line"><a name="l08596"></a><span class="lineno"> 8596</span>&#160;    <span class="comment">// s_cmp_eq_u64 (s_and_b64 $src, 1 &lt;&lt; n), 1 &lt;&lt; n =&gt; s_and_b64 $src, 1 &lt;&lt; n</span></div>
<div class="line"><a name="l08597"></a><span class="lineno"> 8597</span>&#160;    <span class="comment">// s_cmp_lg_u32 (s_and_b32 $src, 1 &lt;&lt; n), 0 =&gt; s_and_b32 $src, 1 &lt;&lt; n</span></div>
<div class="line"><a name="l08598"></a><span class="lineno"> 8598</span>&#160;    <span class="comment">// s_cmp_lg_i32 (s_and_b32 $src, 1 &lt;&lt; n), 0 =&gt; s_and_b32 $src, 1 &lt;&lt; n</span></div>
<div class="line"><a name="l08599"></a><span class="lineno"> 8599</span>&#160;    <span class="comment">// s_cmp_gt_u32 (s_and_b32 $src, 1 &lt;&lt; n), 0 =&gt; s_and_b32 $src, 1 &lt;&lt; n</span></div>
<div class="line"><a name="l08600"></a><span class="lineno"> 8600</span>&#160;    <span class="comment">// s_cmp_gt_i32 (s_and_b32 $src, 1 &lt;&lt; n), 0 =&gt; s_and_b32 $src, 1 &lt;&lt; n</span></div>
<div class="line"><a name="l08601"></a><span class="lineno"> 8601</span>&#160;    <span class="comment">// s_cmp_lg_u64 (s_and_b64 $src, 1 &lt;&lt; n), 0 =&gt; s_and_b64 $src, 1 &lt;&lt; n</span></div>
<div class="line"><a name="l08602"></a><span class="lineno"> 8602</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l08603"></a><span class="lineno"> 8603</span>&#160;    <span class="comment">// Signed ge/gt are not used for the sign bit.</span></div>
<div class="line"><a name="l08604"></a><span class="lineno"> 8604</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l08605"></a><span class="lineno"> 8605</span>&#160;    <span class="comment">// If result of the AND is unused except in the compare:</span></div>
<div class="line"><a name="l08606"></a><span class="lineno"> 8606</span>&#160;    <span class="comment">// s_and_b(32|64) $src, 1 &lt;&lt; n =&gt; s_bitcmp1_b(32|64) $src, n</span></div>
<div class="line"><a name="l08607"></a><span class="lineno"> 8607</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l08608"></a><span class="lineno"> 8608</span>&#160;    <span class="comment">// s_cmp_eq_u32 (s_and_b32 $src, 1 &lt;&lt; n), 0 =&gt; s_bitcmp0_b32 $src, n</span></div>
<div class="line"><a name="l08609"></a><span class="lineno"> 8609</span>&#160;    <span class="comment">// s_cmp_eq_i32 (s_and_b32 $src, 1 &lt;&lt; n), 0 =&gt; s_bitcmp0_b32 $src, n</span></div>
<div class="line"><a name="l08610"></a><span class="lineno"> 8610</span>&#160;    <span class="comment">// s_cmp_eq_u64 (s_and_b64 $src, 1 &lt;&lt; n), 0 =&gt; s_bitcmp0_b64 $src, n</span></div>
<div class="line"><a name="l08611"></a><span class="lineno"> 8611</span>&#160;    <span class="comment">// s_cmp_lg_u32 (s_and_b32 $src, 1 &lt;&lt; n), 1 &lt;&lt; n =&gt; s_bitcmp0_b32 $src, n</span></div>
<div class="line"><a name="l08612"></a><span class="lineno"> 8612</span>&#160;    <span class="comment">// s_cmp_lg_i32 (s_and_b32 $src, 1 &lt;&lt; n), 1 &lt;&lt; n =&gt; s_bitcmp0_b32 $src, n</span></div>
<div class="line"><a name="l08613"></a><span class="lineno"> 8613</span>&#160;    <span class="comment">// s_cmp_lg_u64 (s_and_b64 $src, 1 &lt;&lt; n), 1 &lt;&lt; n =&gt; s_bitcmp0_b64 $src, n</span></div>
<div class="line"><a name="l08614"></a><span class="lineno"> 8614</span>&#160; </div>
<div class="line"><a name="l08615"></a><span class="lineno"> 8615</span>&#160;    <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a> = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>-&gt;<a class="code" href="classllvm_1_1MachineRegisterInfo.html#af988c2b4f62506108843a0fdc04b43a2">getUniqueVRegDef</a>(SrcReg);</div>
<div class="line"><a name="l08616"></a><span class="lineno"> 8616</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a> || <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a>-&gt;getParent() != CmpInstr.<a class="code" href="classllvm_1_1MachineInstr.html#a002fd916e7206e01d512eeb06d405cf0">getParent</a>())</div>
<div class="line"><a name="l08617"></a><span class="lineno"> 8617</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l08618"></a><span class="lineno"> 8618</span>&#160; </div>
<div class="line"><a name="l08619"></a><span class="lineno"> 8619</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a>-&gt;getOpcode() != AMDGPU::S_AND_B32 &amp;&amp;</div>
<div class="line"><a name="l08620"></a><span class="lineno"> 8620</span>&#160;        <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a>-&gt;getOpcode() != AMDGPU::S_AND_B64)</div>
<div class="line"><a name="l08621"></a><span class="lineno"> 8621</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l08622"></a><span class="lineno"> 8622</span>&#160; </div>
<div class="line"><a name="l08623"></a><span class="lineno"> 8623</span>&#160;    int64_t <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>;</div>
<div class="line"><a name="l08624"></a><span class="lineno"> 8624</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> isMask = [&amp;<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>, SrcSize](<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> *MO) -&gt; <span class="keywordtype">bool</span> {</div>
<div class="line"><a name="l08625"></a><span class="lineno"> 8625</span>&#160;      <span class="keywordflow">if</span> (MO-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#a76f61c6784df6dc8402a8b9011041926">isImm</a>())</div>
<div class="line"><a name="l08626"></a><span class="lineno"> 8626</span>&#160;        <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a> = MO-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#a38b28a85f818b49d8806c150b8a5b4f7">getImm</a>();</div>
<div class="line"><a name="l08627"></a><span class="lineno"> 8627</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code" href="SIInstrInfo_8cpp.html#a7326d1a0ae53d6dece409404840c5e6f">getFoldableImm</a>(MO, <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>))</div>
<div class="line"><a name="l08628"></a><span class="lineno"> 8628</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l08629"></a><span class="lineno"> 8629</span>&#160;      <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a> &amp;= <a class="code" href="namespacellvm.html#af80bd4ec8a9b2f8e7d9d75ab708a55c2">maxUIntN</a>(SrcSize);</div>
<div class="line"><a name="l08630"></a><span class="lineno"> 8630</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a434f6a0d80fb13e4326e848a6391f057">isPowerOf2_64</a>(<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>);</div>
<div class="line"><a name="l08631"></a><span class="lineno"> 8631</span>&#160;    };</div>
<div class="line"><a name="l08632"></a><span class="lineno"> 8632</span>&#160; </div>
<div class="line"><a name="l08633"></a><span class="lineno"> 8633</span>&#160;    <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> *<a class="code" href="classllvm_1_1SrcOp.html">SrcOp</a> = &amp;<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a>-&gt;getOperand(1);</div>
<div class="line"><a name="l08634"></a><span class="lineno"> 8634</span>&#160;    <span class="keywordflow">if</span> (isMask(<a class="code" href="classllvm_1_1SrcOp.html">SrcOp</a>))</div>
<div class="line"><a name="l08635"></a><span class="lineno"> 8635</span>&#160;      <a class="code" href="classllvm_1_1SrcOp.html">SrcOp</a> = &amp;<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a>-&gt;getOperand(2);</div>
<div class="line"><a name="l08636"></a><span class="lineno"> 8636</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (isMask(&amp;<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a>-&gt;getOperand(2)))</div>
<div class="line"><a name="l08637"></a><span class="lineno"> 8637</span>&#160;      <a class="code" href="classllvm_1_1SrcOp.html">SrcOp</a> = &amp;<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a>-&gt;getOperand(1);</div>
<div class="line"><a name="l08638"></a><span class="lineno"> 8638</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l08639"></a><span class="lineno"> 8639</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l08640"></a><span class="lineno"> 8640</span>&#160; </div>
<div class="line"><a name="l08641"></a><span class="lineno"> 8641</span>&#160;    <span class="keywordtype">unsigned</span> BitNo = <a class="code" href="namespacellvm.html#a57d2f9ee99e9e68cff564d0d579c8163">llvm::countr_zero</a>((<a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a>)<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>);</div>
<div class="line"><a name="l08642"></a><span class="lineno"> 8642</span>&#160;    <span class="keywordflow">if</span> (IsSigned &amp;&amp; BitNo == SrcSize - 1)</div>
<div class="line"><a name="l08643"></a><span class="lineno"> 8643</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l08644"></a><span class="lineno"> 8644</span>&#160; </div>
<div class="line"><a name="l08645"></a><span class="lineno"> 8645</span>&#160;    ExpectedValue &lt;&lt;= BitNo;</div>
<div class="line"><a name="l08646"></a><span class="lineno"> 8646</span>&#160; </div>
<div class="line"><a name="l08647"></a><span class="lineno"> 8647</span>&#160;    <span class="keywordtype">bool</span> IsReversedCC = <span class="keyword">false</span>;</div>
<div class="line"><a name="l08648"></a><span class="lineno"> 8648</span>&#160;    <span class="keywordflow">if</span> (CmpValue != ExpectedValue) {</div>
<div class="line"><a name="l08649"></a><span class="lineno"> 8649</span>&#160;      <span class="keywordflow">if</span> (!IsReversible)</div>
<div class="line"><a name="l08650"></a><span class="lineno"> 8650</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l08651"></a><span class="lineno"> 8651</span>&#160;      IsReversedCC = CmpValue == (ExpectedValue ^ <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>);</div>
<div class="line"><a name="l08652"></a><span class="lineno"> 8652</span>&#160;      <span class="keywordflow">if</span> (!IsReversedCC)</div>
<div class="line"><a name="l08653"></a><span class="lineno"> 8653</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l08654"></a><span class="lineno"> 8654</span>&#160;    }</div>
<div class="line"><a name="l08655"></a><span class="lineno"> 8655</span>&#160; </div>
<div class="line"><a name="l08656"></a><span class="lineno"> 8656</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> DefReg = <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a>-&gt;getOperand(0).getReg();</div>
<div class="line"><a name="l08657"></a><span class="lineno"> 8657</span>&#160;    <span class="keywordflow">if</span> (IsReversedCC &amp;&amp; !<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>-&gt;<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a01bf72631b0bc836a8c07fe840b13233">hasOneNonDBGUse</a>(DefReg))</div>
<div class="line"><a name="l08658"></a><span class="lineno"> 8658</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l08659"></a><span class="lineno"> 8659</span>&#160; </div>
<div class="line"><a name="l08660"></a><span class="lineno"> 8660</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = std::next(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a>-&gt;getIterator()), <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = CmpInstr.<a class="code" href="classllvm_1_1ilist__node__impl.html#af719fc783be6589465137d997701a432">getIterator</a>();</div>
<div class="line"><a name="l08661"></a><span class="lineno"> 8661</span>&#160;         <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l08662"></a><span class="lineno"> 8662</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;modifiesRegister(<a class="code" href="namespacellvm_1_1AMDGPU_1_1CPol.html#a7d79a4b341da8ac60b91c1f4b1ea42c4aca1659af59093b2b14c2f8aad41e8e2a">AMDGPU::SCC</a>, &amp;RI) ||</div>
<div class="line"><a name="l08663"></a><span class="lineno"> 8663</span>&#160;          <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;killsRegister(<a class="code" href="namespacellvm_1_1AMDGPU_1_1CPol.html#a7d79a4b341da8ac60b91c1f4b1ea42c4aca1659af59093b2b14c2f8aad41e8e2a">AMDGPU::SCC</a>, &amp;RI))</div>
<div class="line"><a name="l08664"></a><span class="lineno"> 8664</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l08665"></a><span class="lineno"> 8665</span>&#160;    }</div>
<div class="line"><a name="l08666"></a><span class="lineno"> 8666</span>&#160; </div>
<div class="line"><a name="l08667"></a><span class="lineno"> 8667</span>&#160;    <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> *SccDef = <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a>-&gt;findRegisterDefOperand(<a class="code" href="namespacellvm_1_1AMDGPU_1_1CPol.html#a7d79a4b341da8ac60b91c1f4b1ea42c4aca1659af59093b2b14c2f8aad41e8e2a">AMDGPU::SCC</a>);</div>
<div class="line"><a name="l08668"></a><span class="lineno"> 8668</span>&#160;    SccDef-&gt;<a class="code" href="classllvm_1_1MachineOperand.html#a61a42c85bd86c6ca4554e27d33c3f798">setIsDead</a>(<span class="keyword">false</span>);</div>
<div class="line"><a name="l08669"></a><span class="lineno"> 8669</span>&#160;    CmpInstr.<a class="code" href="classllvm_1_1MachineInstr.html#ac2421adbb9996e1b15f03a8abb6c70a8">eraseFromParent</a>();</div>
<div class="line"><a name="l08670"></a><span class="lineno"> 8670</span>&#160; </div>
<div class="line"><a name="l08671"></a><span class="lineno"> 8671</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>-&gt;<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a4ea277721b4e63804715a62de87e9a72">use_nodbg_empty</a>(DefReg)) {</div>
<div class="line"><a name="l08672"></a><span class="lineno"> 8672</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!IsReversedCC);</div>
<div class="line"><a name="l08673"></a><span class="lineno"> 8673</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l08674"></a><span class="lineno"> 8674</span>&#160;    }</div>
<div class="line"><a name="l08675"></a><span class="lineno"> 8675</span>&#160; </div>
<div class="line"><a name="l08676"></a><span class="lineno"> 8676</span>&#160;    <span class="comment">// Replace AND with unused result with a S_BITCMP.</span></div>
<div class="line"><a name="l08677"></a><span class="lineno"> 8677</span>&#160;    <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a> = <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a>-&gt;getParent();</div>
<div class="line"><a name="l08678"></a><span class="lineno"> 8678</span>&#160; </div>
<div class="line"><a name="l08679"></a><span class="lineno"> 8679</span>&#160;    <span class="keywordtype">unsigned</span> NewOpc = (SrcSize == 32) ? IsReversedCC ? AMDGPU::S_BITCMP0_B32</div>
<div class="line"><a name="l08680"></a><span class="lineno"> 8680</span>&#160;                                                     : AMDGPU::S_BITCMP1_B32</div>
<div class="line"><a name="l08681"></a><span class="lineno"> 8681</span>&#160;                                      : IsReversedCC ? AMDGPU::S_BITCMP0_B64</div>
<div class="line"><a name="l08682"></a><span class="lineno"> 8682</span>&#160;                                                     : AMDGPU::S_BITCMP1_B64;</div>
<div class="line"><a name="l08683"></a><span class="lineno"> 8683</span>&#160; </div>
<div class="line"><a name="l08684"></a><span class="lineno"> 8684</span>&#160;    <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(*<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a>, <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a>-&gt;getDebugLoc(), <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(NewOpc))</div>
<div class="line"><a name="l08685"></a><span class="lineno"> 8685</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a1ac8d27532cfd1d1f032ecbff2ba3611">add</a>(*<a class="code" href="classllvm_1_1SrcOp.html">SrcOp</a>)</div>
<div class="line"><a name="l08686"></a><span class="lineno"> 8686</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(BitNo);</div>
<div class="line"><a name="l08687"></a><span class="lineno"> 8687</span>&#160;    <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a>-&gt;eraseFromParent();</div>
<div class="line"><a name="l08688"></a><span class="lineno"> 8688</span>&#160; </div>
<div class="line"><a name="l08689"></a><span class="lineno"> 8689</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l08690"></a><span class="lineno"> 8690</span>&#160;  };</div>
<div class="line"><a name="l08691"></a><span class="lineno"> 8691</span>&#160; </div>
<div class="line"><a name="l08692"></a><span class="lineno"> 8692</span>&#160;  <span class="keywordflow">switch</span> (CmpInstr.<a class="code" href="classllvm_1_1MachineInstr.html#a0363204b5fbab08a46f5a7cd7f376f78">getOpcode</a>()) {</div>
<div class="line"><a name="l08693"></a><span class="lineno"> 8693</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l08694"></a><span class="lineno"> 8694</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l08695"></a><span class="lineno"> 8695</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_CMP_EQ_U32:</div>
<div class="line"><a name="l08696"></a><span class="lineno"> 8696</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_CMP_EQ_I32:</div>
<div class="line"><a name="l08697"></a><span class="lineno"> 8697</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_CMPK_EQ_U32:</div>
<div class="line"><a name="l08698"></a><span class="lineno"> 8698</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_CMPK_EQ_I32:</div>
<div class="line"><a name="l08699"></a><span class="lineno"> 8699</span>&#160;    <span class="keywordflow">return</span> optimizeCmpAnd(1, 32, <span class="keyword">true</span>, <span class="keyword">false</span>);</div>
<div class="line"><a name="l08700"></a><span class="lineno"> 8700</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_CMP_GE_U32:</div>
<div class="line"><a name="l08701"></a><span class="lineno"> 8701</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_CMPK_GE_U32:</div>
<div class="line"><a name="l08702"></a><span class="lineno"> 8702</span>&#160;    <span class="keywordflow">return</span> optimizeCmpAnd(1, 32, <span class="keyword">false</span>, <span class="keyword">false</span>);</div>
<div class="line"><a name="l08703"></a><span class="lineno"> 8703</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_CMP_GE_I32:</div>
<div class="line"><a name="l08704"></a><span class="lineno"> 8704</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_CMPK_GE_I32:</div>
<div class="line"><a name="l08705"></a><span class="lineno"> 8705</span>&#160;    <span class="keywordflow">return</span> optimizeCmpAnd(1, 32, <span class="keyword">false</span>, <span class="keyword">true</span>);</div>
<div class="line"><a name="l08706"></a><span class="lineno"> 8706</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_CMP_EQ_U64:</div>
<div class="line"><a name="l08707"></a><span class="lineno"> 8707</span>&#160;    <span class="keywordflow">return</span> optimizeCmpAnd(1, 64, <span class="keyword">true</span>, <span class="keyword">false</span>);</div>
<div class="line"><a name="l08708"></a><span class="lineno"> 8708</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_CMP_LG_U32:</div>
<div class="line"><a name="l08709"></a><span class="lineno"> 8709</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_CMP_LG_I32:</div>
<div class="line"><a name="l08710"></a><span class="lineno"> 8710</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_CMPK_LG_U32:</div>
<div class="line"><a name="l08711"></a><span class="lineno"> 8711</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_CMPK_LG_I32:</div>
<div class="line"><a name="l08712"></a><span class="lineno"> 8712</span>&#160;    <span class="keywordflow">return</span> optimizeCmpAnd(0, 32, <span class="keyword">true</span>, <span class="keyword">false</span>);</div>
<div class="line"><a name="l08713"></a><span class="lineno"> 8713</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_CMP_GT_U32:</div>
<div class="line"><a name="l08714"></a><span class="lineno"> 8714</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_CMPK_GT_U32:</div>
<div class="line"><a name="l08715"></a><span class="lineno"> 8715</span>&#160;    <span class="keywordflow">return</span> optimizeCmpAnd(0, 32, <span class="keyword">false</span>, <span class="keyword">false</span>);</div>
<div class="line"><a name="l08716"></a><span class="lineno"> 8716</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_CMP_GT_I32:</div>
<div class="line"><a name="l08717"></a><span class="lineno"> 8717</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_CMPK_GT_I32:</div>
<div class="line"><a name="l08718"></a><span class="lineno"> 8718</span>&#160;    <span class="keywordflow">return</span> optimizeCmpAnd(0, 32, <span class="keyword">false</span>, <span class="keyword">true</span>);</div>
<div class="line"><a name="l08719"></a><span class="lineno"> 8719</span>&#160;  <span class="keywordflow">case</span> AMDGPU::S_CMP_LG_U64:</div>
<div class="line"><a name="l08720"></a><span class="lineno"> 8720</span>&#160;    <span class="keywordflow">return</span> optimizeCmpAnd(0, 64, <span class="keyword">true</span>, <span class="keyword">false</span>);</div>
<div class="line"><a name="l08721"></a><span class="lineno"> 8721</span>&#160;  }</div>
<div class="line"><a name="l08722"></a><span class="lineno"> 8722</span>&#160; </div>
<div class="line"><a name="l08723"></a><span class="lineno"> 8723</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l08724"></a><span class="lineno"> 8724</span>&#160;}</div>
<div class="line"><a name="l08725"></a><span class="lineno"> 8725</span>&#160; </div>
<div class="line"><a name="l08726"></a><span class="lineno"><a class="line" href="classllvm_1_1SIInstrInfo.html#ae0196eca3002f5fd8c339ea859ddd12f"> 8726</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1SIInstrInfo.html#ae0196eca3002f5fd8c339ea859ddd12f">SIInstrInfo::enforceOperandRCAlignment</a>(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>,</div>
<div class="line"><a name="l08727"></a><span class="lineno"> 8727</span>&#160;                                            <span class="keywordtype">unsigned</span> <a class="code" href="namespaceOpName.html">OpName</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l08728"></a><span class="lineno"> 8728</span>&#160;  <span class="keywordflow">if</span> (!ST.<a class="code" href="classllvm_1_1GCNSubtarget.html#a3b3c319ca867b6775449a12b4623634a">needsAlignedVGPRs</a>())</div>
<div class="line"><a name="l08729"></a><span class="lineno"> 8729</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l08730"></a><span class="lineno"> 8730</span>&#160; </div>
<div class="line"><a name="l08731"></a><span class="lineno"> 8731</span>&#160;  <span class="keywordtype">int</span> OpNo = <a class="code" href="namespacellvm_1_1AMDGPU.html#a27efe1286cc31f5fc95355af30b0356c">AMDGPU::getNamedOperandIdx</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode(), <a class="code" href="namespaceOpName.html">OpName</a>);</div>
<div class="line"><a name="l08732"></a><span class="lineno"> 8732</span>&#160;  <span class="keywordflow">if</span> (OpNo &lt; 0)</div>
<div class="line"><a name="l08733"></a><span class="lineno"> 8733</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l08734"></a><span class="lineno"> 8734</span>&#160;  <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(OpNo);</div>
<div class="line"><a name="l08735"></a><span class="lineno"> 8735</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SIInstrInfo.html#a0df02605d5e00cad00c3b7f4aef3aa14">getOpSize</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, OpNo) &gt; 4)</div>
<div class="line"><a name="l08736"></a><span class="lineno"> 8736</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l08737"></a><span class="lineno"> 8737</span>&#160; </div>
<div class="line"><a name="l08738"></a><span class="lineno"> 8738</span>&#160;  <span class="comment">// Add implicit aligned super-reg to force alignment on the data operand.</span></div>
<div class="line"><a name="l08739"></a><span class="lineno"> 8739</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a> = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getDebugLoc();</div>
<div class="line"><a name="l08740"></a><span class="lineno"> 8740</span>&#160;  <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a> = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getParent();</div>
<div class="line"><a name="l08741"></a><span class="lineno"> 8741</span>&#160;  <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a> = <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>-&gt;getParent()-&gt;getRegInfo();</div>
<div class="line"><a name="l08742"></a><span class="lineno"> 8742</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> DataReg = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getReg();</div>
<div class="line"><a name="l08743"></a><span class="lineno"> 8743</span>&#160;  <span class="keywordtype">bool</span> IsAGPR = RI.<a class="code" href="classllvm_1_1SIRegisterInfo.html#acc61376f4183268183912910024e1f2c">isAGPR</a>(<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, DataReg);</div>
<div class="line"><a name="l08744"></a><span class="lineno"> 8744</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320dab502f975742e9bff6d6dd7b49439b806">Undef</a> = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5c77792a06583e0fe7a0379ad94a2809">createVirtualRegister</a>(</div>
<div class="line"><a name="l08745"></a><span class="lineno"> 8745</span>&#160;      IsAGPR ? &amp;AMDGPU::AGPR_32RegClass : &amp;AMDGPU::VGPR_32RegClass);</div>
<div class="line"><a name="l08746"></a><span class="lineno"> 8746</span>&#160;  <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(*<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::IMPLICIT_DEF), <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320dab502f975742e9bff6d6dd7b49439b806">Undef</a>);</div>
<div class="line"><a name="l08747"></a><span class="lineno"> 8747</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> NewVR =</div>
<div class="line"><a name="l08748"></a><span class="lineno"> 8748</span>&#160;      <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5c77792a06583e0fe7a0379ad94a2809">createVirtualRegister</a>(IsAGPR ? &amp;AMDGPU::AReg_64_Align2RegClass</div>
<div class="line"><a name="l08749"></a><span class="lineno"> 8749</span>&#160;                                       : &amp;AMDGPU::VReg_64_Align2RegClass);</div>
<div class="line"><a name="l08750"></a><span class="lineno"> 8750</span>&#160;  <a class="code" href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(*<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">get</a>(AMDGPU::REG_SEQUENCE), NewVR)</div>
<div class="line"><a name="l08751"></a><span class="lineno"> 8751</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(DataReg, 0, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getSubReg())</div>
<div class="line"><a name="l08752"></a><span class="lineno"> 8752</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(AMDGPU::sub0)</div>
<div class="line"><a name="l08753"></a><span class="lineno"> 8753</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">addReg</a>(<a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320dab502f975742e9bff6d6dd7b49439b806">Undef</a>)</div>
<div class="line"><a name="l08754"></a><span class="lineno"> 8754</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">addImm</a>(AMDGPU::sub1);</div>
<div class="line"><a name="l08755"></a><span class="lineno"> 8755</span>&#160;  <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.setReg(NewVR);</div>
<div class="line"><a name="l08756"></a><span class="lineno"> 8756</span>&#160;  <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.setSubReg(AMDGPU::sub0);</div>
<div class="line"><a name="l08757"></a><span class="lineno"> 8757</span>&#160;  <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.addOperand(<a class="code" href="classllvm_1_1MachineOperand.html#af2c351dad09a71aa08e1d85c67ae6e53">MachineOperand::CreateReg</a>(NewVR, <span class="keyword">false</span>, <span class="keyword">true</span>));</div>
<div class="line"><a name="l08758"></a><span class="lineno"> 8758</span>&#160;}</div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="anamespacellvm_1_1AMDGPU_html_ab7679ce5eab5937b9da9e7702aff8cc5a2f2cb7a6e0c1e04d17d4a2d79dfc85ca"><div class="ttname"><a href="namespacellvm_1_1AMDGPU.html#ab7679ce5eab5937b9da9e7702aff8cc5a2f2cb7a6e0c1e04d17d4a2d79dfc85ca">llvm::AMDGPU::OPERAND_REG_INLINE_C_FP64</a></div><div class="ttdeci">@ OPERAND_REG_INLINE_C_FP64</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00179">SIDefines.h:179</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_a09ed4b8df3900d37518583f29bbb0144"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#a09ed4b8df3900d37518583f29bbb0144">llvm::SIInstrInfo::areLoadsFromSameBasePtr</a></div><div class="ttdeci">bool areLoadsFromSameBasePtr(SDNode *Load0, SDNode *Load1, int64_t &amp;Offset0, int64_t &amp;Offset1) const override</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l00172">SIInstrInfo.cpp:172</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_html_a2006d74041f6c3411ccd43a4ce7e610b"><div class="ttname"><a href="namespacellvm_1_1AMDGPU.html#a2006d74041f6c3411ccd43a4ce7e610b">llvm::AMDGPU::mapWMMA2AddrTo3AddrOpcode</a></div><div class="ttdeci">unsigned mapWMMA2AddrTo3AddrOpcode(unsigned Opc)</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUBaseInfo_8cpp_source.html#l00500">AMDGPUBaseInfo.cpp:500</a></div></div>
<div class="ttc" id="alib_2Target_2README_8txt_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">i</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2README_8txt_source.html#l00029">README.txt:29</a></div></div>
<div class="ttc" id="anamespacellvm_1_1RegState_html_aef4cc0c855dc833e2a9d58a50703320dab502f975742e9bff6d6dd7b49439b806"><div class="ttname"><a href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320dab502f975742e9bff6d6dd7b49439b806">llvm::RegState::Undef</a></div><div class="ttdeci">@ Undef</div><div class="ttdoc">Value of the register doesn't matter.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00052">MachineInstrBuilder.h:52</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_a857ec99c61bfc201bb60525234551102"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#a857ec99c61bfc201bb60525234551102">llvm::SIInstrInfo::isIgnorableUse</a></div><div class="ttdeci">bool isIgnorableUse(const MachineOperand &amp;MO) const override</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l00166">SIInstrInfo.cpp:166</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_a324a232b4fdfd0993af2c0de8ab5a374"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#a324a232b4fdfd0993af2c0de8ab5a374">llvm::SIInstrInfo::analyzeBranch</a></div><div class="ttdeci">bool analyzeBranch(MachineBasicBlock &amp;MBB, MachineBasicBlock *&amp;TBB, MachineBasicBlock *&amp;FBB, SmallVectorImpl&lt; MachineOperand &gt; &amp;Cond, bool AllowModify=false) const override</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l02705">SIInstrInfo.cpp:2705</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_a6d85a4b5e2ddc4731835d9e0c55d4ae8"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#a6d85a4b5e2ddc4731835d9e0c55d4ae8">llvm::SIInstrInfo::findCommutedOpIndices</a></div><div class="ttdeci">bool findCommutedOpIndices(const MachineInstr &amp;MI, unsigned &amp;SrcOpIdx0, unsigned &amp;SrcOpIdx1) const override</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l02450">SIInstrInfo.cpp:2450</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantSDNode_html"><div class="ttname"><a href="classllvm_1_1ConstantSDNode.html">llvm::ConstantSDNode</a></div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l01586">SelectionDAGNodes.h:1586</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIRegisterInfo_html_a2fcc4d3294381da29adb855c5f56c0d5"><div class="ttname"><a href="classllvm_1_1SIRegisterInfo.html#a2fcc4d3294381da29adb855c5f56c0d5">llvm::SIRegisterInfo::getEquivalentVGPRClass</a></div><div class="ttdeci">const TargetRegisterClass * getEquivalentVGPRClass(const TargetRegisterClass *SRC) const</div><div class="ttdef"><b>Definition:</b> <a href="SIRegisterInfo_8cpp_source.html#l02790">SIRegisterInfo.cpp:2790</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_html_a7813b0527d58492d1dcaab3d457a0c81"><div class="ttname"><a href="namespacellvm_1_1AMDGPU.html#a7813b0527d58492d1dcaab3d457a0c81">llvm::AMDGPU::getMIMGDimInfoByEncoding</a></div><div class="ttdeci">const LLVM_READONLY MIMGDimInfo * getMIMGDimInfoByEncoding(uint8_t DimEnc)</div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_a35a34ad93d12d742710032a33f3ecb57"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#a35a34ad93d12d742710032a33f3ecb57">llvm::SIInstrInfo::insertNoops</a></div><div class="ttdeci">void insertNoops(MachineBasicBlock &amp;MBB, MachineBasicBlock::iterator MI, unsigned Quantity) const override</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l01837">SIInstrInfo.cpp:1837</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCInstrDesc_html_aee50fcacb786c1fc56168a0c55a4e934"><div class="ttname"><a href="classllvm_1_1MCInstrDesc.html#aee50fcacb786c1fc56168a0c55a4e934">llvm::MCInstrDesc::getOpcode</a></div><div class="ttdeci">unsigned getOpcode() const</div><div class="ttdoc">Return the opcode number for this descriptor.</div><div class="ttdef"><b>Definition:</b> <a href="MCInstrDesc_8h_source.html#l00230">MCInstrDesc.h:230</a></div></div>
<div class="ttc" id="aSILowerControlFlow_8cpp_html_a979659ec464cee64a84df219494fc2ea"><div class="ttname"><a href="SILowerControlFlow_8cpp.html#a979659ec464cee64a84df219494fc2ea">IsDead</a></div><div class="ttdeci">bool IsDead</div><div class="ttdef"><b>Definition:</b> <a href="SILowerControlFlow_8cpp_source.html#l00168">SILowerControlFlow.cpp:168</a></div></div>
<div class="ttc" id="aclassllvm_1_1AMDGPUSubtarget_html_aef466388625883e4ee6ba4ae7b969606"><div class="ttname"><a href="classllvm_1_1AMDGPUSubtarget.html#aef466388625883e4ee6ba4ae7b969606">llvm::AMDGPUSubtarget::hasInv2PiInlineImm</a></div><div class="ttdeci">bool hasInv2PiInlineImm() const</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUSubtarget_8h_source.html#l00186">AMDGPUSubtarget.h:186</a></div></div>
<div class="ttc" id="aScheduleDAG_8h_html"><div class="ttname"><a href="ScheduleDAG_8h.html">ScheduleDAG.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_afda2c0f22be043ae42b0ec71b661f565"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#afda2c0f22be043ae42b0ec71b661f565">llvm::MachineInstr::addRegisterDead</a></div><div class="ttdeci">bool addRegisterDead(Register Reg, const TargetRegisterInfo *RegInfo, bool AddIfNotFound=false)</div><div class="ttdoc">We have determined MI defined a register without a use.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8cpp_source.html#l01969">MachineInstr.cpp:1969</a></div></div>
<div class="ttc" id="aclassllvm_1_1AMDGPURegisterBankInfo_html"><div class="ttname"><a href="classllvm_1_1AMDGPURegisterBankInfo.html">llvm::AMDGPURegisterBankInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="AMDGPURegisterBankInfo_8h_source.html#l00042">AMDGPURegisterBankInfo.h:42</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1DPP_html_aa27612400d9f4f18653d361495d67b08af24eb5ee59a5e5bf84df58dcf64c92c0"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1DPP.html#aa27612400d9f4f18653d361495d67b08af24eb5ee59a5e5bf84df58dcf64c92c0">llvm::AMDGPU::DPP::DPP_UNUSED7_LAST</a></div><div class="ttdeci">@ DPP_UNUSED7_LAST</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00838">SIDefines.h:838</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIRegisterInfo_html_afb15c9a705b04d0a7709e0c0f8af33fa"><div class="ttname"><a href="classllvm_1_1SIRegisterInfo.html#afb15c9a705b04d0a7709e0c0f8af33fa">llvm::SIRegisterInfo::isAGPRClass</a></div><div class="ttdeci">static bool isAGPRClass(const TargetRegisterClass *RC)</div><div class="ttdef"><b>Definition:</b> <a href="SIRegisterInfo_8h_source.html#l00203">SIRegisterInfo.h:203</a></div></div>
<div class="ttc" id="aIRTranslator_8cpp_html_abe44dfdea65b4f7e11e0a608ab708b76"><div class="ttname"><a href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a></div><div class="ttdeci">IRTranslator LLVM IR MI</div><div class="ttdef"><b>Definition:</b> <a href="IRTranslator_8cpp_source.html#l00109">IRTranslator.cpp:109</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_af269b990800f72c7cf535c407e8e639ba066f84460d9f7b61d54b187555756ef6"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#af269b990800f72c7cf535c407e8e639ba066f84460d9f7b61d54b187555756ef6">llvm::MachineOperand::MO_Immediate</a></div><div class="ttdeci">@ MO_Immediate</div><div class="ttdoc">Immediate operand.</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00052">MachineOperand.h:52</a></div></div>
<div class="ttc" id="aR600ClauseMergePass_8cpp_html_aba99928790de45fa7aa12b47fbd828ff"><div class="ttname"><a href="R600ClauseMergePass_8cpp.html#aba99928790de45fa7aa12b47fbd828ff">Merge</a></div><div class="ttdeci">R600 Clause Merge</div><div class="ttdef"><b>Definition:</b> <a href="R600ClauseMergePass_8cpp_source.html#l00070">R600ClauseMergePass.cpp:70</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstrBuilder_html_a4f1ceb770fe3446bfb2b3fa26858098f"><div class="ttname"><a href="classllvm_1_1MachineInstrBuilder.html#a4f1ceb770fe3446bfb2b3fa26858098f">llvm::MachineInstrBuilder::addImm</a></div><div class="ttdeci">const MachineInstrBuilder &amp; addImm(int64_t Val) const</div><div class="ttdoc">Add a new immediate operand.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00131">MachineInstrBuilder.h:131</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetRegisterClass_html_a32a8b65536822d50171455a6baa81da7"><div class="ttname"><a href="classllvm_1_1TargetRegisterClass.html#a32a8b65536822d50171455a6baa81da7">llvm::TargetRegisterClass::getID</a></div><div class="ttdeci">unsigned getID() const</div><div class="ttdoc">Return the register class ID number.</div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8h_source.html#l00074">TargetRegisterInfo.h:74</a></div></div>
<div class="ttc" id="anamespacellvm_html"><div class="ttname"><a href="namespacellvm.html">llvm</a></div><div class="ttdoc">This is an optimization pass for GlobalISel generic memory operations.</div><div class="ttdef"><b>Definition:</b> <a href="AddressRanges_8h_source.html#l00018">AddressRanges.h:18</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_acae141c2c150567424d8cc080976608e"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#acae141c2c150567424d8cc080976608e">llvm::SIInstrInfo::insertNE</a></div><div class="ttdeci">Register insertNE(MachineBasicBlock *MBB, MachineBasicBlock::iterator I, const DebugLoc &amp;DL, Register SrcReg, int Value) const</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l01268">SIInstrInfo.cpp:1268</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstrBuilder_html_a77d96c1c7f31baecc71004069dbc5eda"><div class="ttname"><a href="classllvm_1_1MachineInstrBuilder.html#a77d96c1c7f31baecc71004069dbc5eda">llvm::MachineInstrBuilder::copyImplicitOps</a></div><div class="ttdeci">const MachineInstrBuilder &amp; copyImplicitOps(const MachineInstr &amp;OtherMI) const</div><div class="ttdoc">Copy all the implicit operands from OtherMI onto this one.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00321">MachineInstrBuilder.h:321</a></div></div>
<div class="ttc" id="anamespacellvm_1_1tgtok_html_abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a"><div class="ttname"><a href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">llvm::tgtok::Def</a></div><div class="ttdeci">@ Def</div><div class="ttdef"><b>Definition:</b> <a href="TGLexer_8h_source.html#l00050">TGLexer.h:50</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_a64f165f45ca62b4d27bde48f484897da"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#a64f165f45ca62b4d27bde48f484897da">llvm::SIInstrInfo::swapSourceModifiers</a></div><div class="ttdeci">bool swapSourceModifiers(MachineInstr &amp;MI, MachineOperand &amp;Src0, unsigned Src0OpName, MachineOperand &amp;Src1, unsigned Src1OpName) const</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l02348">SIInstrInfo.cpp:2348</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCSymbol_html"><div class="ttname"><a href="classllvm_1_1MCSymbol.html">llvm::MCSymbol</a></div><div class="ttdoc">MCSymbol - Instances of this class represent a symbol name in the MC file, and MCSymbols are created ...</div><div class="ttdef"><b>Definition:</b> <a href="MCSymbol_8h_source.html#l00041">MCSymbol.h:41</a></div></div>
<div class="ttc" id="aSIInstrInfo_8cpp_html_ae1f11cae46ac46cf14353d40a7511514"><div class="ttname"><a href="SIInstrInfo_8cpp.html#ae1f11cae46ac46cf14353d40a7511514">getAVSpillSaveOpcode</a></div><div class="ttdeci">static unsigned getAVSpillSaveOpcode(unsigned Size)</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l01543">SIInstrInfo.cpp:1543</a></div></div>
<div class="ttc" id="aAArch64ExpandPseudoInsts_8cpp_html_a6cf2f8996b1e9aaf2d7a435aaa62382f"><div class="ttname"><a href="AArch64ExpandPseudoInsts_8cpp.html#a6cf2f8996b1e9aaf2d7a435aaa62382f">UseMI</a></div><div class="ttdeci">MachineInstrBuilder &amp; UseMI</div><div class="ttdef"><b>Definition:</b> <a href="AArch64ExpandPseudoInsts_8cpp_source.html#l00107">AArch64ExpandPseudoInsts.cpp:107</a></div></div>
<div class="ttc" id="aSIInstrInfo_8cpp_html_a0dfd55eaf0bcb495f09ecf8c55b256b2aef6494cb9b08c90acb72b9a54936e26d"><div class="ttname"><a href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2aef6494cb9b08c90acb72b9a54936e26d">GFX10</a></div><div class="ttdeci">@ GFX10</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l07999">SIInstrInfo.cpp:7999</a></div></div>
<div class="ttc" id="anamespacellvm_html_ad1a91b49e0c092818a0b82f6cc130a1b"><div class="ttname"><a href="namespacellvm.html#ad1a91b49e0c092818a0b82f6cc130a1b">llvm::make_range</a></div><div class="ttdeci">iterator_range&lt; T &gt; make_range(T x, T y)</div><div class="ttdoc">Convenience function for iterating over sub-ranges.</div><div class="ttdef"><b>Definition:</b> <a href="iterator__range_8h_source.html#l00053">iterator_range.h:53</a></div></div>
<div class="ttc" id="anamespacellvm_html_a02981de53fb6ffd384d39addc4d25f37"><div class="ttname"><a href="namespacellvm.html#a02981de53fb6ffd384d39addc4d25f37">llvm::drop_begin</a></div><div class="ttdeci">auto drop_begin(T &amp;&amp;RangeOrContainer, size_t N=1)</div><div class="ttdoc">Return a range covering RangeOrContainer with the first N elements excluded.</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l00386">STLExtras.h:386</a></div></div>
<div class="ttc" id="anamespacellvm_html_a615f4542f26ca7383f06e780996f8ef3"><div class="ttname"><a href="namespacellvm.html#a615f4542f26ca7383f06e780996f8ef3">llvm::MONoClobber</a></div><div class="ttdeci">static const MachineMemOperand::Flags MONoClobber</div><div class="ttdoc">Mark the MMO of a uniform load if there are no potentially clobbering stores on any path from the sta...</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8h_source.html#l00041">SIInstrInfo.h:41</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_abe3f4df7c81b52adcd9a67f4c0937634"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#abe3f4df7c81b52adcd9a67f4c0937634">llvm::SIInstrInfo::isSchedulingBoundary</a></div><div class="ttdeci">bool isSchedulingBoundary(const MachineInstr &amp;MI, const MachineBasicBlock *MBB, const MachineFunction &amp;MF) const override</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l03612">SIInstrInfo.cpp:3612</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_html_ab7679ce5eab5937b9da9e7702aff8cc5a8d695369aef7c9f7e0589f5b4673ea46"><div class="ttname"><a href="namespacellvm_1_1AMDGPU.html#ab7679ce5eab5937b9da9e7702aff8cc5a8d695369aef7c9f7e0589f5b4673ea46">llvm::AMDGPU::OPERAND_REG_INLINE_C_INT16</a></div><div class="ttdeci">@ OPERAND_REG_INLINE_C_INT16</div><div class="ttdoc">Operands with register or inline constant.</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00174">SIDefines.h:174</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_html_a5ff7467be99b93194854ce84b534f711"><div class="ttname"><a href="namespacellvm_1_1AMDGPU.html#a5ff7467be99b93194854ce84b534f711">llvm::AMDGPU::getMFMAEarlyClobberOp</a></div><div class="ttdeci">LLVM_READONLY int getMFMAEarlyClobberOp(uint16_t Opcode)</div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_af2c351dad09a71aa08e1d85c67ae6e53"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#af2c351dad09a71aa08e1d85c67ae6e53">llvm::MachineOperand::CreateReg</a></div><div class="ttdeci">static MachineOperand CreateReg(Register Reg, bool isDef, bool isImp=false, bool isKill=false, bool isDead=false, bool isUndef=false, bool isEarlyClobber=false, unsigned SubReg=0, bool isDebug=false, bool isInternalRead=false, bool isRenamable=false)</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00833">MachineOperand.h:833</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1DPP_html_aa27612400d9f4f18653d361495d67b08a9db0c6cdc58a23822de98f246145a788"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1DPP.html#aa27612400d9f4f18653d361495d67b08a9db0c6cdc58a23822de98f246145a788">llvm::AMDGPU::DPP::BCAST31</a></div><div class="ttdeci">@ BCAST31</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00842">SIDefines.h:842</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_html_a2c49a690cf18ca46eda313ffdfe93ac5"><div class="ttname"><a href="namespacellvm_1_1AMDGPU.html#a2c49a690cf18ca46eda313ffdfe93ac5">llvm::AMDGPU::getFlatScratchInstSVfromSS</a></div><div class="ttdeci">LLVM_READONLY int getFlatScratchInstSVfromSS(uint16_t Opcode)</div></div>
<div class="ttc" id="aclassllvm_1_1MIBundleBuilder_html_a43e65fa50b984d52c85101caf001e543"><div class="ttname"><a href="classllvm_1_1MIBundleBuilder.html#a43e65fa50b984d52c85101caf001e543">llvm::MIBundleBuilder::begin</a></div><div class="ttdeci">MachineBasicBlock::instr_iterator begin() const</div><div class="ttdoc">Return an iterator to the first bundled instruction.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00605">MachineInstrBuilder.h:605</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_ad1f10f87fb228c645dab08a31a02d0a6"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#ad1f10f87fb228c645dab08a31a02d0a6">llvm::SIInstrInfo::isSGPRSpill</a></div><div class="ttdeci">static bool isSGPRSpill(const MachineInstr &amp;MI)</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8h_source.html#l00621">SIInstrInfo.h:621</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineRegisterInfo_html_a5c77792a06583e0fe7a0379ad94a2809"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#a5c77792a06583e0fe7a0379ad94a2809">llvm::MachineRegisterInfo::createVirtualRegister</a></div><div class="ttdeci">Register createVirtualRegister(const TargetRegisterClass *RegClass, StringRef Name=&quot;&quot;)</div><div class="ttdoc">createVirtualRegister - Create and return a new virtual register in the function with the specified r...</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8cpp_source.html#l00157">MachineRegisterInfo.cpp:157</a></div></div>
<div class="ttc" id="aREADME__P9_8txt_html_aa793083a95c48c23abfa352d4335685a"><div class="ttname"><a href="README__P9_8txt.html#aa793083a95c48c23abfa352d4335685a">Insert</a></div><div class="ttdeci">Vector Rotate Left Mask Mask Insert</div><div class="ttdef"><b>Definition:</b> <a href="README__P9_8txt_source.html#l00112">README_P9.txt:112</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_aedb55bd2a3f524ae536b9c0ef17e41c0"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#aedb55bd2a3f524ae536b9c0ef17e41c0">llvm::SIInstrInfo::isFixedSize</a></div><div class="ttdeci">static bool isFixedSize(const MachineInstr &amp;MI)</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8h_source.html#l00740">SIInstrInfo.h:740</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIRegisterInfo_html_a0e2008041a23dfc43ff1e90b014a2936"><div class="ttname"><a href="classllvm_1_1SIRegisterInfo.html#a0e2008041a23dfc43ff1e90b014a2936">llvm::SIRegisterInfo::getRegClass</a></div><div class="ttdeci">const TargetRegisterClass * getRegClass(unsigned RCID) const</div><div class="ttdef"><b>Definition:</b> <a href="SIRegisterInfo_8cpp_source.html#l03042">SIRegisterInfo.cpp:3042</a></div></div>
<div class="ttc" id="aAMDGPURewriteUndefForPHI_8cpp_html_a2e83cb1bc3f5e8986cbd14575755a134"><div class="ttname"><a href="AMDGPURewriteUndefForPHI_8cpp.html#a2e83cb1bc3f5e8986cbd14575755a134">PHI</a></div><div class="ttdeci">Rewrite undef for PHI</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPURewriteUndefForPHI_8cpp_source.html#l00101">AMDGPURewriteUndefForPHI.cpp:101</a></div></div>
<div class="ttc" id="aclassllvm_1_1DiagnosticInfoUnsupported_html"><div class="ttname"><a href="classllvm_1_1DiagnosticInfoUnsupported.html">llvm::DiagnosticInfoUnsupported</a></div><div class="ttdoc">Diagnostic information for unsupported feature in backend.</div><div class="ttdef"><b>Definition:</b> <a href="DiagnosticInfo_8h_source.html#l01008">DiagnosticInfo.h:1008</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_aa6c5b2fa64092b4233e69ea7659f7551"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#aa6c5b2fa64092b4233e69ea7659f7551">llvm::MachineInstr::explicit_operands</a></div><div class="ttdeci">iterator_range&lt; mop_iterator &gt; explicit_operands()</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00647">MachineInstr.h:647</a></div></div>
<div class="ttc" id="aclassllvm_1_1GCNSubtarget_html_a8ef1770dca2e75c8a049d7441802932f"><div class="ttname"><a href="classllvm_1_1GCNSubtarget.html#a8ef1770dca2e75c8a049d7441802932f">llvm::GCNSubtarget::hasSDWASdst</a></div><div class="ttdeci">bool hasSDWASdst() const</div><div class="ttdef"><b>Definition:</b> <a href="GCNSubtarget_8h_source.html#l00690">GCNSubtarget.h:690</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineDominatorTree_html_ab13bd8c59060a1a21651041796177f8a"><div class="ttname"><a href="classllvm_1_1MachineDominatorTree.html#ab13bd8c59060a1a21651041796177f8a">llvm::MachineDominatorTree::properlyDominates</a></div><div class="ttdeci">bool properlyDominates(const MachineDomTreeNode *A, const MachineDomTreeNode *B) const</div><div class="ttdef"><b>Definition:</b> <a href="MachineDominators_8h_source.html#l00146">MachineDominators.h:146</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_a9fac55ed154a25a20608a5f71dc833c0"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#a9fac55ed154a25a20608a5f71dc833c0">llvm::SIInstrInfo::materializeImmediate</a></div><div class="ttdeci">void materializeImmediate(MachineBasicBlock &amp;MBB, MachineBasicBlock::iterator MI, const DebugLoc &amp;DL, Register DestReg, int64_t Value) const</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l01068">SIInstrInfo.cpp:1068</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_a64e3c3928f613445e6a6c1f3b1073744"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#a64e3c3928f613445e6a6c1f3b1073744">llvm::SIInstrInfo::isReallyTriviallyReMaterializable</a></div><div class="ttdeci">bool isReallyTriviallyReMaterializable(const MachineInstr &amp;MI) const override</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l00108">SIInstrInfo.cpp:108</a></div></div>
<div class="ttc" id="aSIMachineFunctionInfo_8h_html"><div class="ttname"><a href="SIMachineFunctionInfo_8h.html">SIMachineFunctionInfo.h</a></div></div>
<div class="ttc" id="anamespacellvm_html_a08d85ca884294cf7a067290c1593fd50"><div class="ttname"><a href="namespacellvm.html#a08d85ca884294cf7a067290c1593fd50">llvm::getRegSubRegPair</a></div><div class="ttdeci">TargetInstrInfo::RegSubRegPair getRegSubRegPair(const MachineOperand &amp;O)</div><div class="ttdoc">Create RegSubRegPair from a register MachineOperand.</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8h_source.html#l01212">SIInstrInfo.h:1212</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCInstrDesc_html_a6478037933f13d6d8d80e6a12cdf932d"><div class="ttname"><a href="classllvm_1_1MCInstrDesc.html#a6478037933f13d6d8d80e6a12cdf932d">llvm::MCInstrDesc::isBranch</a></div><div class="ttdeci">bool isBranch() const</div><div class="ttdoc">Returns true if this is a conditional, unconditional, or indirect branch.</div><div class="ttdef"><b>Definition:</b> <a href="MCInstrDesc_8h_source.html#l00306">MCInstrDesc.h:306</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_a0d8a3508b676977a0396a0bb055c0a03"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#a0d8a3508b676977a0396a0bb055c0a03">llvm::SIInstrInfo::isNeverUniform</a></div><div class="ttdeci">static bool isNeverUniform(const MachineInstr &amp;MI)</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8h_source.html#l00784">SIInstrInfo.h:784</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_ac8718f1c761727d429180f0ce340f7f0"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#ac8718f1c761727d429180f0ce340f7f0">llvm::MachineOperand::getGlobal</a></div><div class="ttdeci">const GlobalValue * getGlobal() const</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00582">MachineOperand.h:582</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineRegisterInfo_html"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html">llvm::MachineRegisterInfo</a></div><div class="ttdoc">MachineRegisterInfo - Keep track of information for virtual and physical registers,...</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8h_source.html#l00051">MachineRegisterInfo.h:51</a></div></div>
<div class="ttc" id="anamespacellvm_1_1MCOI_html_ad9dfed338ec3d47f30c593ee49cbf96da767514e15ea244ad3e683ae79b583534"><div class="ttname"><a href="namespacellvm_1_1MCOI.html#ad9dfed338ec3d47f30c593ee49cbf96da767514e15ea244ad3e683ae79b583534">llvm::MCOI::OPERAND_IMMEDIATE</a></div><div class="ttdeci">@ OPERAND_IMMEDIATE</div><div class="ttdef"><b>Definition:</b> <a href="MCInstrDesc_8h_source.html#l00060">MCInstrDesc.h:60</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_a17f5d15a7320dec2cfefb6617f711ab7"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a17f5d15a7320dec2cfefb6617f711ab7">llvm::MachineInstr::mayLoadOrStore</a></div><div class="ttdeci">bool mayLoadOrStore(QueryType Type=AnyInBundle) const</div><div class="ttdoc">Return true if this instruction could possibly read or modify memory.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l01079">MachineInstr.h:1079</a></div></div>
<div class="ttc" id="aAArch64MIPeepholeOpt_8cpp_html_a9c374320ed4e895f9afa199987182bd2"><div class="ttname"><a href="AArch64MIPeepholeOpt_8cpp.html#a9c374320ed4e895f9afa199987182bd2">RegSize</a></div><div class="ttdeci">unsigned RegSize</div><div class="ttdef"><b>Definition:</b> <a href="AArch64MIPeepholeOpt_8cpp_source.html#l00123">AArch64MIPeepholeOpt.cpp:123</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_a56b7fed94faeb5bc67ee2b71608d2665"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a56b7fed94faeb5bc67ee2b71608d2665">llvm::MachineInstr::getNumExplicitOperands</a></div><div class="ttdeci">unsigned getNumExplicitOperands() const</div><div class="ttdoc">Returns the number of non-implicit operands.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8cpp_source.html#l00734">MachineInstr.cpp:734</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstrBuilder_html_a1ac8d27532cfd1d1f032ecbff2ba3611"><div class="ttname"><a href="classllvm_1_1MachineInstrBuilder.html#a1ac8d27532cfd1d1f032ecbff2ba3611">llvm::MachineInstrBuilder::add</a></div><div class="ttdeci">const MachineInstrBuilder &amp; add(const MachineOperand &amp;MO) const</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00224">MachineInstrBuilder.h:224</a></div></div>
<div class="ttc" id="aSIInstrInfo_8cpp_html_a18409f473f705c06f6eba730ece4e63e"><div class="ttname"><a href="SIInstrInfo_8cpp.html#a18409f473f705c06f6eba730ece4e63e">getIndirectSGPRWriteMovRelPseudo32</a></div><div class="ttdeci">static unsigned getIndirectSGPRWriteMovRelPseudo32(unsigned VecSize)</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l01384">SIInstrInfo.cpp:1384</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html_a949d4cecc0f4fd13754f88928cf87b22"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#a949d4cecc0f4fd13754f88928cf87b22">llvm::MachineFunction::getContext</a></div><div class="ttdeci">MCContext &amp; getContext() const</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00624">MachineFunction.h:624</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_aa5ff177bc1498508696aaf27235db3fc"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#aa5ff177bc1498508696aaf27235db3fc">llvm::MachineInstr::memoperands_begin</a></div><div class="ttdeci">mmo_iterator memoperands_begin() const</div><div class="ttdoc">Access to memory operands of the instruction.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00731">MachineInstr.h:731</a></div></div>
<div class="ttc" id="aclassllvm_1_1SparseBitVector_html_a4f223ae1e481ce22245c3c7c7736dbe9"><div class="ttname"><a href="classllvm_1_1SparseBitVector.html#a4f223ae1e481ce22245c3c7c7736dbe9">llvm::SparseBitVector::clear</a></div><div class="ttdeci">void clear()</div><div class="ttdef"><b>Definition:</b> <a href="SparseBitVector_8h_source.html#l00452">SparseBitVector.h:452</a></div></div>
<div class="ttc" id="aREADME-SSE_8txt_html_a63d206a063eefcdf8c318ded97b65020"><div class="ttname"><a href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a></div><div class="ttdeci">This currently compiles esp xmm0 movsd esp eax eax esp ret We should use not the dag combiner This is because dagcombine2 needs to be able to see through the X86ISD::Wrapper which DAGCombine can t really do The code for turning x load into a single vector load is target independent and should be moved to the dag combiner The code for turning x load into a vector load can only handle a direct load from a global or a direct load from the stack It should be generalized to handle any load from P</div><div class="ttdef"><b>Definition:</b> <a href="README-SSE_8txt_source.html#l00411">README-SSE.txt:411</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_a0aab14aaa9761a9af59b094090851ca3"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#a0aab14aaa9761a9af59b094090851ca3">llvm::SIInstrInfo::isVOP3</a></div><div class="ttdeci">static bool isVOP3(const MachineInstr &amp;MI)</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8h_source.html#l00442">SIInstrInfo.h:442</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_html_ad079e8a6a0505ccce0ad2463d95aff73"><div class="ttname"><a href="namespacellvm_1_1AMDGPU.html#ad079e8a6a0505ccce0ad2463d95aff73">llvm::AMDGPU::getMCOpcode</a></div><div class="ttdeci">int getMCOpcode(uint16_t Opcode, unsigned Gen)</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUBaseInfo_8cpp_source.html#l00513">AMDGPUBaseInfo.cpp:513</a></div></div>
<div class="ttc" id="aclassllvm_1_1RegScavenger_html_a62d08c8303092539ecb1fde389108e7a"><div class="ttname"><a href="classllvm_1_1RegScavenger.html#a62d08c8303092539ecb1fde389108e7a">llvm::RegScavenger::scavengeRegisterBackwards</a></div><div class="ttdeci">Register scavengeRegisterBackwards(const TargetRegisterClass &amp;RC, MachineBasicBlock::iterator To, bool RestoreAfter, int SPAdj, bool AllowSpill=true)</div><div class="ttdoc">Make a register of the specific register class available from the current position backwards to the p...</div><div class="ttdef"><b>Definition:</b> <a href="RegisterScavenging_8cpp_source.html#l00592">RegisterScavenging.cpp:592</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_a75ab509751b75f67128683efcbef3e71"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#a75ab509751b75f67128683efcbef3e71">llvm::SIInstrInfo::getMovOpcode</a></div><div class="ttdeci">unsigned getMovOpcode(const TargetRegisterClass *DstRC) const</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l01281">SIInstrInfo.cpp:1281</a></div></div>
<div class="ttc" id="aSIInstrInfo_8cpp_html_acf84e9107dc0773686274037d0a82ec3"><div class="ttname"><a href="SIInstrInfo_8cpp.html#acf84e9107dc0773686274037d0a82ec3">extractRsrcPtr</a></div><div class="ttdeci">static std::tuple&lt; unsigned, unsigned &gt; extractRsrcPtr(const SIInstrInfo &amp;TII, MachineInstr &amp;MI, MachineOperand &amp;Rsrc)</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l05787">SIInstrInfo.cpp:5787</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_a6c6831e85182fd706818bd9196f8604a"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#a6c6831e85182fd706818bd9196f8604a">llvm::SIInstrInfo::isBufferSMRD</a></div><div class="ttdeci">bool isBufferSMRD(const MachineInstr &amp;MI) const</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l07887">SIInstrInfo.cpp:7887</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCConstantExpr_html_af9bdc4c9c65ea1ff077fbbb6407d7b2a"><div class="ttname"><a href="classllvm_1_1MCConstantExpr.html#af9bdc4c9c65ea1ff077fbbb6407d7b2a">llvm::MCConstantExpr::create</a></div><div class="ttdeci">static const MCConstantExpr * create(int64_t Value, MCContext &amp;Ctx, bool PrintInHex=false, unsigned SizeInBytes=0)</div><div class="ttdef"><b>Definition:</b> <a href="MCExpr_8cpp_source.html#l00194">MCExpr.cpp:194</a></div></div>
<div class="ttc" id="aAArch64AdvSIMDScalarPass_8cpp_html_a1112b818386ec01ddfdf3a5d0024eb17"><div class="ttname"><a href="AArch64AdvSIMDScalarPass_8cpp.html#a1112b818386ec01ddfdf3a5d0024eb17">contains</a></div><div class="ttdeci">return AArch64::GPR64RegClass contains(Reg)</div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_ac1656e5749e564620d30b6c2bd704f11"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#ac1656e5749e564620d30b6c2bd704f11">llvm::SIInstrInfo::getNumWaitStates</a></div><div class="ttdeci">static unsigned getNumWaitStates(const MachineInstr &amp;MI)</div><div class="ttdoc">Return the number of wait states that result from executing this instruction.</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l01866">SIInstrInfo.cpp:1866</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_a682028ac4a06c9e3550fa8e6e1909fa9"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a682028ac4a06c9e3550fa8e6e1909fa9">llvm::MachineInstr::mayLoad</a></div><div class="ttdeci">bool mayLoad(QueryType Type=AnyInBundle) const</div><div class="ttdoc">Return true if this instruction could possibly read memory.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l01056">MachineInstr.h:1056</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_a835ce544e7ae111f1889501136ea6b3d"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#a835ce544e7ae111f1889501136ea6b3d">llvm::SIInstrInfo::isImmOperandLegal</a></div><div class="ttdeci">bool isImmOperandLegal(const MachineInstr &amp;MI, unsigned OpNo, const MachineOperand &amp;MO) const</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l03846">SIInstrInfo.cpp:3846</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_html_ab7679ce5eab5937b9da9e7702aff8cc5a887993ba93e1d73774d547bbe51e0317"><div class="ttname"><a href="namespacellvm_1_1AMDGPU.html#ab7679ce5eab5937b9da9e7702aff8cc5a887993ba93e1d73774d547bbe51e0317">llvm::AMDGPU::OPERAND_KIMM16</a></div><div class="ttdeci">@ OPERAND_KIMM16</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00187">SIDefines.h:187</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1DPP_html_aa27612400d9f4f18653d361495d67b08a8f197cdbb473b5d83dfa9024cb2d4e1b"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1DPP.html#aa27612400d9f4f18653d361495d67b08a8f197cdbb473b5d83dfa9024cb2d4e1b">llvm::AMDGPU::DPP::DPP_UNUSED3</a></div><div class="ttdeci">@ DPP_UNUSED3</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00823">SIDefines.h:823</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_a8a82683fccdef8a5ef772ef03277aee7"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a8a82683fccdef8a5ef772ef03277aee7">llvm::MachineOperand::setIsKill</a></div><div class="ttdeci">void setIsKill(bool Val=true)</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00519">MachineOperand.h:519</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_html_ab7679ce5eab5937b9da9e7702aff8cc5a20958300f68759315cb6cb2491d42cec"><div class="ttname"><a href="namespacellvm_1_1AMDGPU.html#ab7679ce5eab5937b9da9e7702aff8cc5a20958300f68759315cb6cb2491d42cec">llvm::AMDGPU::OPERAND_REG_IMM_V2FP16</a></div><div class="ttdeci">@ OPERAND_REG_IMM_V2FP16</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00168">SIDefines.h:168</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_a8762c11a12f1ce6910169c87c7ffbc06"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#a8762c11a12f1ce6910169c87c7ffbc06">llvm::SIInstrInfo::convertNonUniformLoopRegion</a></div><div class="ttdeci">void convertNonUniformLoopRegion(MachineBasicBlock *LoopEntry, MachineBasicBlock *LoopEnd) const</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l07700">SIInstrInfo.cpp:7700</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_a8b4741a5cb0780b4d02fe6bd43ef0b68"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a8b4741a5cb0780b4d02fe6bd43ef0b68">llvm::MachineInstr::implicit_operands</a></div><div class="ttdeci">iterator_range&lt; mop_iterator &gt; implicit_operands()</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00655">MachineInstr.h:655</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVector_html"><div class="ttname"><a href="classllvm_1_1SmallVector.html">llvm::SmallVector</a></div><div class="ttdoc">This is a 'vector' (really, a variable-sized array), optimized for the case when the array is small.</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l01199">SmallVector.h:1199</a></div></div>
<div class="ttc" id="anamespacellvm_1_1CallingConv_html_a5b166ae228ebbfdb96736d6022f3feedabc8e2ee40a84687a9e12fd08784b87ba"><div class="ttname"><a href="namespacellvm_1_1CallingConv.html#a5b166ae228ebbfdb96736d6022f3feedabc8e2ee40a84687a9e12fd08784b87ba">llvm::CallingConv::Fast</a></div><div class="ttdeci">@ Fast</div><div class="ttdoc">Attempts to make calls as fast as possible (e.g.</div><div class="ttdef"><b>Definition:</b> <a href="CallingConv_8h_source.html#l00041">CallingConv.h:41</a></div></div>
<div class="ttc" id="aclassllvm_1_1AMDGPUSubtarget_html_a53c0ee4138bfbf9e0410a65e0eaa36e2a27bbb8548ee933d0231565d6ed407307"><div class="ttname"><a href="classllvm_1_1AMDGPUSubtarget.html#a53c0ee4138bfbf9e0410a65e0eaa36e2a27bbb8548ee933d0231565d6ed407307">llvm::AMDGPUSubtarget::GFX9</a></div><div class="ttdeci">@ GFX9</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUSubtarget_8h_source.html#l00040">AMDGPUSubtarget.h:40</a></div></div>
<div class="ttc" id="aclassllvm_1_1AMDGPUSubtarget_html_a53c0ee4138bfbf9e0410a65e0eaa36e2aafd52d574f92cc47671a38d95bca9988"><div class="ttname"><a href="classllvm_1_1AMDGPUSubtarget.html#a53c0ee4138bfbf9e0410a65e0eaa36e2aafd52d574f92cc47671a38d95bca9988">llvm::AMDGPUSubtarget::SOUTHERN_ISLANDS</a></div><div class="ttdeci">@ SOUTHERN_ISLANDS</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUSubtarget_8h_source.html#l00037">AMDGPUSubtarget.h:37</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_a4c2569a20f3cd4919625f6409b53d657"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#a4c2569a20f3cd4919625f6409b53d657">llvm::SIInstrInfo::isHighLatencyDef</a></div><div class="ttdeci">bool isHighLatencyDef(int Opc) const override</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l07530">SIInstrInfo.cpp:7530</a></div></div>
<div class="ttc" id="aclassllvm_1_1GCNSubtarget_html_a92e0b317959309846ea919ad2cf08ffc"><div class="ttname"><a href="classllvm_1_1GCNSubtarget.html#a92e0b317959309846ea919ad2cf08ffc">llvm::GCNSubtarget::hasMovB64</a></div><div class="ttdeci">bool hasMovB64() const</div><div class="ttdef"><b>Definition:</b> <a href="GCNSubtarget_8h_source.html#l00950">GCNSubtarget.h:950</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetInstrInfo_html_a6ac23d0fd2e7044709ee5ac06404d816"><div class="ttname"><a href="classllvm_1_1TargetInstrInfo.html#a6ac23d0fd2e7044709ee5ac06404d816">llvm::TargetInstrInfo::createPHIDestinationCopy</a></div><div class="ttdeci">virtual MachineInstr * createPHIDestinationCopy(MachineBasicBlock &amp;MBB, MachineBasicBlock::iterator InsPt, const DebugLoc &amp;DL, Register Src, Register Dst) const</div><div class="ttdoc">During PHI eleimination lets target to make necessary checks and insert the copy to the PHI destinati...</div><div class="ttdef"><b>Definition:</b> <a href="TargetInstrInfo_8h_source.html#l01945">TargetInstrInfo.h:1945</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_html_a0fc8a944aeefbf3eb23515c23da00306"><div class="ttname"><a href="namespacellvm_1_1AMDGPU.html#a0fc8a944aeefbf3eb23515c23da00306">llvm::AMDGPU::isLegal64BitDPPControl</a></div><div class="ttdeci">LLVM_READNONE bool isLegal64BitDPPControl(unsigned DC)</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUBaseInfo_8h_source.html#l01309">AMDGPUBaseInfo.h:1309</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html_a0d496cc15e312863869a384532968143"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#a0d496cc15e312863869a384532968143">llvm::MachineFunction::getMachineMemOperand</a></div><div class="ttdeci">MachineMemOperand * getMachineMemOperand(MachinePointerInfo PtrInfo, MachineMemOperand::Flags f, uint64_t s, Align base_alignment, const AAMDNodes &amp;AAInfo=AAMDNodes(), const MDNode *Ranges=nullptr, SyncScope::ID SSID=SyncScope::System, AtomicOrdering Ordering=AtomicOrdering::NotAtomic, AtomicOrdering FailureOrdering=AtomicOrdering::NotAtomic)</div><div class="ttdoc">getMachineMemOperand - Allocate a new MachineMemOperand.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8cpp_source.html#l00469">MachineFunction.cpp:469</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_a4d8d351faef4293dcc8a164ce2f87d5c"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#a4d8d351faef4293dcc8a164ce2f87d5c">llvm::SIInstrInfo::reverseBranchCondition</a></div><div class="ttdeci">bool reverseBranchCondition(SmallVectorImpl&lt; MachineOperand &gt; &amp;Cond) const override</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l02834">SIInstrInfo.cpp:2834</a></div></div>
<div class="ttc" id="aclassllvm_1_1RegisterBankInfo_html_a53a37d4bce0298f3ec4099611c75d7ac"><div class="ttname"><a href="classllvm_1_1RegisterBankInfo.html#a53a37d4bce0298f3ec4099611c75d7ac">llvm::RegisterBankInfo::getRegBank</a></div><div class="ttdeci">RegisterBank &amp; getRegBank(unsigned ID)</div><div class="ttdoc">Get the register bank identified by ID.</div><div class="ttdef"><b>Definition:</b> <a href="RegisterBankInfo_8h_source.html#l00431">RegisterBankInfo.h:431</a></div></div>
<div class="ttc" id="aclassllvm_1_1GCNSubtarget_html_a3b3c319ca867b6775449a12b4623634a"><div class="ttname"><a href="classllvm_1_1GCNSubtarget.html#a3b3c319ca867b6775449a12b4623634a">llvm::GCNSubtarget::needsAlignedVGPRs</a></div><div class="ttdeci">bool needsAlignedVGPRs() const</div><div class="ttdoc">Return if operations acting on VGPR tuples require even alignment.</div><div class="ttdef"><b>Definition:</b> <a href="GCNSubtarget_8h_source.html#l01083">GCNSubtarget.h:1083</a></div></div>
<div class="ttc" id="aclassllvm_1_1VirtRegMap_html"><div class="ttname"><a href="classllvm_1_1VirtRegMap.html">llvm::VirtRegMap</a></div><div class="ttdef"><b>Definition:</b> <a href="VirtRegMap_8h_source.html#l00033">VirtRegMap.h:33</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_a96da06741a80bacedc0da0469394eff3"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#a96da06741a80bacedc0da0469394eff3">llvm::SIInstrInfo::analyzeBranchImpl</a></div><div class="ttdeci">bool analyzeBranchImpl(MachineBasicBlock &amp;MBB, MachineBasicBlock::iterator I, MachineBasicBlock *&amp;TBB, MachineBasicBlock *&amp;FBB, SmallVectorImpl&lt; MachineOperand &gt; &amp;Cond, bool AllowModify) const</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l02662">SIInstrInfo.cpp:2662</a></div></div>
<div class="ttc" id="astructllvm_1_1AMDGPU_1_1MIMGDimInfo_html"><div class="ttname"><a href="structllvm_1_1AMDGPU_1_1MIMGDimInfo.html">llvm::AMDGPU::MIMGDimInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUBaseInfo_8h_source.html#l00367">AMDGPUBaseInfo.h:367</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallDenseSet_html"><div class="ttname"><a href="classllvm_1_1SmallDenseSet.html">llvm::SmallDenseSet</a></div><div class="ttdoc">Implements a dense probed hash-table based set with some number of buckets stored inline.</div><div class="ttdef"><b>Definition:</b> <a href="DenseSet_8h_source.html#l00286">DenseSet.h:286</a></div></div>
<div class="ttc" id="aSIInstrInfo_8cpp_html_a0dfd55eaf0bcb495f09ecf8c55b256b2a3e136249f6574bb02cd19eaaecbb2e1a"><div class="ttname"><a href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a3e136249f6574bb02cd19eaaecbb2e1a">GFX90A</a></div><div class="ttdeci">@ GFX90A</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l08001">SIInstrInfo.cpp:8001</a></div></div>
<div class="ttc" id="anamespacellvm_1_1X86Disassembler_html_a1e59b79e1d09149912cad9c0ef2809ad"><div class="ttname"><a href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">llvm::X86Disassembler::Reg</a></div><div class="ttdeci">Reg</div><div class="ttdoc">All possible values of the reg field in the ModR/M byte.</div><div class="ttdef"><b>Definition:</b> <a href="X86DisassemblerDecoder_8h_source.html#l00462">X86DisassemblerDecoder.h:462</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScheduleDAGMI_html_a78c0f3feb8a81ca338f843494cff564e"><div class="ttname"><a href="classllvm_1_1ScheduleDAGMI.html#a78c0f3feb8a81ca338f843494cff564e">llvm::ScheduleDAGMI::hasVRegLiveness</a></div><div class="ttdeci">virtual bool hasVRegLiveness() const</div><div class="ttdoc">Return true if this DAG supports VReg liveness and RegPressure.</div><div class="ttdef"><b>Definition:</b> <a href="MachineScheduler_8h_source.html#l00318">MachineScheduler.h:318</a></div></div>
<div class="ttc" id="aSIInstrInfo_8cpp_html_ac95ae99e125cfe2976f3f2c8e42fe7e6"><div class="ttname"><a href="SIInstrInfo_8cpp.html#ac95ae99e125cfe2976f3f2c8e42fe7e6">loadSRsrcFromVGPR</a></div><div class="ttdeci">static MachineBasicBlock * loadSRsrcFromVGPR(const SIInstrInfo &amp;TII, MachineInstr &amp;MI, MachineOperand &amp;Rsrc, MachineDominatorTree *MDT, MachineBasicBlock::iterator Begin=nullptr, MachineBasicBlock::iterator End=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l05701">SIInstrInfo.cpp:5701</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineRegisterInfo_html_aed4562ccf898feaf2eb6cf5555b5084d"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#aed4562ccf898feaf2eb6cf5555b5084d">llvm::MachineRegisterInfo::getTargetRegisterInfo</a></div><div class="ttdeci">const TargetRegisterInfo * getTargetRegisterInfo() const</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8h_source.html#l00156">MachineRegisterInfo.h:156</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_aea3489e1fa192776df90b3f6b8e66511"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#aea3489e1fa192776df90b3f6b8e66511">llvm::SIInstrInfo::createPHIDestinationCopy</a></div><div class="ttdeci">MachineInstr * createPHIDestinationCopy(MachineBasicBlock &amp;MBB, MachineBasicBlock::iterator InsPt, const DebugLoc &amp;DL, Register Src, Register Dst) const override</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l08275">SIInstrInfo.cpp:8275</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineRegisterInfo_html_af988c2b4f62506108843a0fdc04b43a2"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#af988c2b4f62506108843a0fdc04b43a2">llvm::MachineRegisterInfo::getUniqueVRegDef</a></div><div class="ttdeci">MachineInstr * getUniqueVRegDef(Register Reg) const</div><div class="ttdoc">getUniqueVRegDef - Return the unique machine instr that defines the specified virtual register or nul...</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8cpp_source.html#l00409">MachineRegisterInfo.cpp:409</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_a2d40ab246e329190bbf36cd93fd88e83"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#a2d40ab246e329190bbf36cd93fd88e83">llvm::SIInstrInfo::isEXP</a></div><div class="ttdeci">static bool isEXP(const MachineInstr &amp;MI)</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8h_source.html#l00555">SIInstrInfo.h:555</a></div></div>
<div class="ttc" id="aSIInstrInfo_8cpp_html_ad6eb45e94bf447aa904024868317f94e"><div class="ttname"><a href="SIInstrInfo_8cpp.html#ad6eb45e94bf447aa904024868317f94e">changesVGPRIndexingMode</a></div><div class="ttdeci">static bool changesVGPRIndexingMode(const MachineInstr &amp;MI)</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l03601">SIInstrInfo.cpp:3601</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_ad4445a2ce5876c120e2a6e6796edaf5c"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#ad4445a2ce5876c120e2a6e6796edaf5c">llvm::SIInstrInfo::convertToThreeAddress</a></div><div class="ttdeci">MachineInstr * convertToThreeAddress(MachineInstr &amp;MI, LiveVariables *LV, LiveIntervals *LIS) const override</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l03380">SIInstrInfo.cpp:3380</a></div></div>
<div class="ttc" id="aclassllvm_1_1GCNSubtarget_html_a7c210fe3c1ded331101415c059606e2e"><div class="ttname"><a href="classllvm_1_1GCNSubtarget.html#a7c210fe3c1ded331101415c059606e2e">llvm::GCNSubtarget::hasFlatSegmentOffsetBug</a></div><div class="ttdeci">bool hasFlatSegmentOffsetBug() const</div><div class="ttdef"><b>Definition:</b> <a href="GCNSubtarget_8h_source.html#l00621">GCNSubtarget.h:621</a></div></div>
<div class="ttc" id="aclassllvm_1_1AMDGPUSubtarget_html_a53c0ee4138bfbf9e0410a65e0eaa36e2a5a040cb5d61ebf76561fcb74c4a77970"><div class="ttname"><a href="classllvm_1_1AMDGPUSubtarget.html#a53c0ee4138bfbf9e0410a65e0eaa36e2a5a040cb5d61ebf76561fcb74c4a77970">llvm::AMDGPUSubtarget::SEA_ISLANDS</a></div><div class="ttdeci">@ SEA_ISLANDS</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUSubtarget_8h_source.html#l00038">AMDGPUSubtarget.h:38</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCBinaryExpr_html_a21db81ffca6b897bcd200dc160941d9e"><div class="ttname"><a href="classllvm_1_1MCBinaryExpr.html#a21db81ffca6b897bcd200dc160941d9e">llvm::MCBinaryExpr::createAnd</a></div><div class="ttdeci">static const MCBinaryExpr * createAnd(const MCExpr *LHS, const MCExpr *RHS, MCContext &amp;Ctx)</div><div class="ttdef"><b>Definition:</b> <a href="MCExpr_8h_source.html#l00530">MCExpr.h:530</a></div></div>
<div class="ttc" id="aValueTracking_8h_html"><div class="ttname"><a href="ValueTracking_8h.html">ValueTracking.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_a826c5f2bb260d27a430d48225e03383e"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#a826c5f2bb260d27a430d48225e03383e">llvm::SIInstrInfo::isFoldableCopy</a></div><div class="ttdeci">static bool isFoldableCopy(const MachineInstr &amp;MI)</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l02997">SIInstrInfo.cpp:2997</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_a2c55e5649ff9412a08e823c28ee00b37"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#a2c55e5649ff9412a08e823c28ee00b37">llvm::SIInstrInfo::moveToVALU</a></div><div class="ttdeci">MachineBasicBlock * moveToVALU(MachineInstr &amp;MI, MachineDominatorTree *MDT=nullptr) const</div><div class="ttdoc">Replace this instruction's opcode with the equivalent VALU opcode.</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l06155">SIInstrInfo.cpp:6155</a></div></div>
<div class="ttc" id="aclassllvm_1_1SDNode_html"><div class="ttname"><a href="classllvm_1_1SDNode.html">llvm::SDNode</a></div><div class="ttdoc">Represents one node in the SelectionDAG.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l00463">SelectionDAGNodes.h:463</a></div></div>
<div class="ttc" id="anamespacellvm_1_1CallingConv_html_a5b166ae228ebbfdb96736d6022f3feeda6f08d1631b96043fe0201973d84e5539"><div class="ttname"><a href="namespacellvm_1_1CallingConv.html#a5b166ae228ebbfdb96736d6022f3feeda6f08d1631b96043fe0201973d84e5539">llvm::CallingConv::AMDGPU_GS</a></div><div class="ttdeci">@ AMDGPU_GS</div><div class="ttdoc">Used for Mesa/AMDPAL geometry shaders.</div><div class="ttdef"><b>Definition:</b> <a href="CallingConv_8h_source.html#l00188">CallingConv.h:188</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCInstrDesc_html_a9491e6e3afc420c33cf508189bb12c3b"><div class="ttname"><a href="classllvm_1_1MCInstrDesc.html#a9491e6e3afc420c33cf508189bb12c3b">llvm::MCInstrDesc::operands</a></div><div class="ttdeci">ArrayRef&lt; MCOperandInfo &gt; operands() const</div><div class="ttdef"><b>Definition:</b> <a href="MCInstrDesc_8h_source.html#l00239">MCInstrDesc.h:239</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_ac49e04076b2aaf96a7497774136482f3"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#ac49e04076b2aaf96a7497774136482f3">llvm::SIInstrInfo::modifiesModeRegister</a></div><div class="ttdeci">static bool modifiesModeRegister(const MachineInstr &amp;MI)</div><div class="ttdoc">Return true if the instruction modifies the mode register.q.</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l03653">SIInstrInfo.cpp:3653</a></div></div>
<div class="ttc" id="aclassllvm_1_1MVT_html_a330aea6151cae3adaf5e179dcfe87346a59a1908cf136662bcfdc11ed49515ca9"><div class="ttname"><a href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a59a1908cf136662bcfdc11ed49515ca9">llvm::MVT::Glue</a></div><div class="ttdeci">@ Glue</div><div class="ttdef"><b>Definition:</b> <a href="MachineValueType_8h_source.html#l00282">MachineValueType.h:282</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineRegisterInfo_html_a7e0683c1bfad27f51e8d6c3a8cbdbfdc"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#a7e0683c1bfad27f51e8d6c3a8cbdbfdc">llvm::MachineRegisterInfo::use_nodbg_instructions</a></div><div class="ttdeci">iterator_range&lt; use_instr_nodbg_iterator &gt; use_nodbg_instructions(Register Reg) const</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8h_source.html#l00565">MachineRegisterInfo.h:565</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_a2feaa1c69335c6b9028076cd68c7a5f5"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a2feaa1c69335c6b9028076cd68c7a5f5">llvm::MachineOperand::setImm</a></div><div class="ttdeci">void setImm(int64_t immVal)</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00684">MachineOperand.h:684</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1VOP3PEncoding_html_a3594a9012d044a9ee2e7df2a82a90a65"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1VOP3PEncoding.html#a3594a9012d044a9ee2e7df2a82a90a65">llvm::AMDGPU::VOP3PEncoding::OpSel</a></div><div class="ttdeci">OpSel</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00898">SIDefines.h:898</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_ab622d694b5fcb0edb99159f1ebdcdb6b"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#ab622d694b5fcb0edb99159f1ebdcdb6b">llvm::MachineBasicBlock::findDebugLoc</a></div><div class="ttdeci">DebugLoc findDebugLoc(instr_iterator MBBI)</div><div class="ttdoc">Find the next valid DebugLoc starting at MBBI, skipping any DBG_VALUE and DBG_LABEL instructions.</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8cpp_source.html#l01397">MachineBasicBlock.cpp:1397</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetRegisterInfo_html"><div class="ttname"><a href="classllvm_1_1TargetRegisterInfo.html">llvm::TargetRegisterInfo</a></div><div class="ttdoc">TargetRegisterInfo base class - We assume that the target defines a static array of TargetRegisterDes...</div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8h_source.html#l00236">TargetRegisterInfo.h:236</a></div></div>
<div class="ttc" id="anamespacellvm_html_ae58c751054b01f206f9b9e34e461d25fa45ca4337861caa0e5a6723c79b31e191"><div class="ttname"><a href="namespacellvm.html#ae58c751054b01f206f9b9e34e461d25fa45ca4337861caa0e5a6723c79b31e191">llvm::InstructionUniformity::NeverUniform</a></div><div class="ttdeci">@ NeverUniform</div><div class="ttdoc">The result values can never be assumed to be uniform.</div></div>
<div class="ttc" id="aclassllvm_1_1SIRegisterInfo_html_abd1b045c48536729160cbfc075852f4c"><div class="ttname"><a href="classllvm_1_1SIRegisterInfo.html#abd1b045c48536729160cbfc075852f4c">llvm::SIRegisterInfo::getWaveMaskRegClass</a></div><div class="ttdeci">const TargetRegisterClass * getWaveMaskRegClass() const</div><div class="ttdef"><b>Definition:</b> <a href="SIRegisterInfo_8h_source.html#l00331">SIRegisterInfo.h:331</a></div></div>
<div class="ttc" id="aclassllvm_1_1Function_html_a9fffac2512fe651f0d5e37e27f5bd51c"><div class="ttname"><a href="classllvm_1_1Function.html#a9fffac2512fe651f0d5e37e27f5bd51c">llvm::Function::getContext</a></div><div class="ttdeci">LLVMContext &amp; getContext() const</div><div class="ttdoc">getContext - Return a reference to the LLVMContext associated with this function.</div><div class="ttdef"><b>Definition:</b> <a href="Function_8cpp_source.html#l00315">Function.cpp:315</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1DPP_html_aa27612400d9f4f18653d361495d67b08a22fbd464cb18592187bbe332ce44abc9"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1DPP.html#aa27612400d9f4f18653d361495d67b08a22fbd464cb18592187bbe332ce44abc9">llvm::AMDGPU::DPP::DPP_UNUSED4_LAST</a></div><div class="ttdeci">@ DPP_UNUSED4_LAST</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00829">SIDefines.h:829</a></div></div>
<div class="ttc" id="aSIInstrInfo_8cpp_html_a40ce8e1ffed53a429df732d68faab2f6"><div class="ttname"><a href="SIInstrInfo_8cpp.html#a40ce8e1ffed53a429df732d68faab2f6">swapRegAndNonRegOperand</a></div><div class="ttdeci">static MachineInstr * swapRegAndNonRegOperand(MachineInstr &amp;MI, MachineOperand &amp;RegOp, MachineOperand &amp;NonRegOp)</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l02369">SIInstrInfo.cpp:2369</a></div></div>
<div class="ttc" id="aSIInstrInfo_8cpp_html_adbb4dcc227f28ef32563170ce820d498"><div class="ttname"><a href="SIInstrInfo_8cpp.html#adbb4dcc227f28ef32563170ce820d498">isSubRegOf</a></div><div class="ttdeci">static bool isSubRegOf(const SIRegisterInfo &amp;TRI, const MachineOperand &amp;SuperVec, const MachineOperand &amp;SubReg)</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l04092">SIInstrInfo.cpp:4092</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_html_ab7679ce5eab5937b9da9e7702aff8cc5aa3d68df7f69a18a66156e5e08c2c7504"><div class="ttname"><a href="namespacellvm_1_1AMDGPU.html#ab7679ce5eab5937b9da9e7702aff8cc5aa3d68df7f69a18a66156e5e08c2c7504">llvm::AMDGPU::OPERAND_REG_IMM_V2INT32</a></div><div class="ttdeci">@ OPERAND_REG_IMM_V2INT32</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00170">SIDefines.h:170</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ARMII_html_a7d414894ef8cdc39b147eb7e0d7e4305a479711d0ab662307550fc709665589ea"><div class="ttname"><a href="namespacellvm_1_1ARMII.html#a7d414894ef8cdc39b147eb7e0d7e4305a479711d0ab662307550fc709665589ea">llvm::ARMII::VecSize</a></div><div class="ttdeci">@ VecSize</div><div class="ttdef"><b>Definition:</b> <a href="MCTargetDesc_2ARMBaseInfo_8h_source.html#l00421">ARMBaseInfo.h:421</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_a1a819579880816f46644139609f4de8c"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#a1a819579880816f46644139609f4de8c">llvm::SIInstrInfo::isStoreToStackSlot</a></div><div class="ttdeci">unsigned isStoreToStackSlot(const MachineInstr &amp;MI, int &amp;FrameIndex) const override</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l07570">SIInstrInfo.cpp:7570</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineMemOperand_html"><div class="ttname"><a href="classllvm_1_1MachineMemOperand.html">llvm::MachineMemOperand</a></div><div class="ttdoc">A description of a memory reference used in the backend.</div><div class="ttdef"><b>Definition:</b> <a href="MachineMemOperand_8h_source.html#l00127">MachineMemOperand.h:127</a></div></div>
<div class="ttc" id="aSIInstrInfo_8cpp_html_ab52fe3b5f1dd9eaebb4028cc94a96587"><div class="ttname"><a href="SIInstrInfo_8cpp.html#ab52fe3b5f1dd9eaebb4028cc94a96587">getVGPRSpillSaveOpcode</a></div><div class="ttdeci">static unsigned getVGPRSpillSaveOpcode(unsigned Size)</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l01473">SIInstrInfo.cpp:1473</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html_af4c0db6d503e0ba3b8e44067023ffbba"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#af4c0db6d503e0ba3b8e44067023ffbba">llvm::MachineFunction::insert</a></div><div class="ttdeci">void insert(iterator MBBI, MachineBasicBlock *MBB)</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00889">MachineFunction.h:889</a></div></div>
<div class="ttc" id="aclassllvm_1_1GCNSubtarget_html_a24618695d970449f186b50c63648f674"><div class="ttname"><a href="classllvm_1_1GCNSubtarget.html#a24618695d970449f186b50c63648f674">llvm::GCNSubtarget::hasDLInsts</a></div><div class="ttdeci">bool hasDLInsts() const</div><div class="ttdef"><b>Definition:</b> <a href="GCNSubtarget_8h_source.html#l00702">GCNSubtarget.h:702</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1SDWA_html_a4473412439e8285e235ccafa0c3824b6a58f19664e2b69107495d2085514f7874"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1SDWA.html#a4473412439e8285e235ccafa0c3824b6a58f19664e2b69107495d2085514f7874">llvm::AMDGPU::SDWA::UNUSED_PRESERVE</a></div><div class="ttdeci">@ UNUSED_PRESERVE</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00788">SIDefines.h:788</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_ab05719438bdf4b46871e5ecd9730caeb"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#ab05719438bdf4b46871e5ecd9730caeb">llvm::MachineInstr::getMF</a></div><div class="ttdeci">const MachineFunction * getMF() const</div><div class="ttdoc">Return the function that contains the basic block that this instruction belongs to.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8cpp_source.html#l00691">MachineInstr.cpp:691</a></div></div>
<div class="ttc" id="anamespacellvm_1_1CallingConv_html_a5b166ae228ebbfdb96736d6022f3feedafd841a49aec1539bc88abc8ff9e170fb"><div class="ttname"><a href="namespacellvm_1_1CallingConv.html#a5b166ae228ebbfdb96736d6022f3feedafd841a49aec1539bc88abc8ff9e170fb">llvm::CallingConv::C</a></div><div class="ttdeci">@ C</div><div class="ttdoc">The default llvm calling convention, compatible with C.</div><div class="ttdef"><b>Definition:</b> <a href="CallingConv_8h_source.html#l00034">CallingConv.h:34</a></div></div>
<div class="ttc" id="anamespacellvm_1_1CallingConv_html_a5b166ae228ebbfdb96736d6022f3feedaf2c5be679d7769a9f3e5e308f73a9ff8"><div class="ttname"><a href="namespacellvm_1_1CallingConv.html#a5b166ae228ebbfdb96736d6022f3feedaf2c5be679d7769a9f3e5e308f73a9ff8">llvm::CallingConv::AMDGPU_LS</a></div><div class="ttdeci">@ AMDGPU_LS</div><div class="ttdoc">Used for AMDPAL vertex shader if tessellation is in use.</div><div class="ttdef"><b>Definition:</b> <a href="CallingConv_8h_source.html#l00210">CallingConv.h:210</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIRegisterInfo_html_a7c0bb4b4e2204e019541b6cd98bd9792"><div class="ttname"><a href="classllvm_1_1SIRegisterInfo.html#a7c0bb4b4e2204e019541b6cd98bd9792">llvm::SIRegisterInfo::getEquivalentAGPRClass</a></div><div class="ttdeci">const TargetRegisterClass * getEquivalentAGPRClass(const TargetRegisterClass *SRC) const</div><div class="ttdef"><b>Definition:</b> <a href="SIRegisterInfo_8cpp_source.html#l02798">SIRegisterInfo.cpp:2798</a></div></div>
<div class="ttc" id="aclassllvm_1_1AMDGPUSubtarget_html_a1fc1d6d384bfb39f6a1ad286154258a5"><div class="ttname"><a href="classllvm_1_1AMDGPUSubtarget.html#a1fc1d6d384bfb39f6a1ad286154258a5">llvm::AMDGPUSubtarget::hasSDWA</a></div><div class="ttdeci">bool hasSDWA() const</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUSubtarget_8h_source.html#l00166">AMDGPUSubtarget.h:166</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1DPP_html_aa27612400d9f4f18653d361495d67b08a01e5da7e6376e18c3d69a3c01817ed88"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1DPP.html#aa27612400d9f4f18653d361495d67b08a01e5da7e6376e18c3d69a3c01817ed88">llvm::AMDGPU::DPP::DPP_UNUSED1</a></div><div class="ttdeci">@ DPP_UNUSED1</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00815">SIDefines.h:815</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_a1912d4fbc40c61a12b1f770ad54dfd74"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a1912d4fbc40c61a12b1f770ad54dfd74">llvm::MachineInstr::isCopy</a></div><div class="ttdeci">bool isCopy() const</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l01344">MachineInstr.h:1344</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1DPP_html_aa27612400d9f4f18653d361495d67b08ab8caa6d2ed1f1e46f7de55d0d437a3c3"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1DPP.html#aa27612400d9f4f18653d361495d67b08ab8caa6d2ed1f1e46f7de55d0d437a3c3">llvm::AMDGPU::DPP::DPP_UNUSED7_FIRST</a></div><div class="ttdeci">@ DPP_UNUSED7_FIRST</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00837">SIDefines.h:837</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_ab02ccaad1b78c3ebc1d06867f9c3e3b6"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#ab02ccaad1b78c3ebc1d06867f9c3e3b6">llvm::SIInstrInfo::isAsmOnlyOpcode</a></div><div class="ttdeci">bool isAsmOnlyOpcode(int MCOp) const</div><div class="ttdoc">Check if this instruction should only be used by assembler.</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l08024">SIInstrInfo.cpp:8024</a></div></div>
<div class="ttc" id="aclassllvm_1_1GCNSubtarget_html"><div class="ttname"><a href="classllvm_1_1GCNSubtarget.html">llvm::GCNSubtarget</a></div><div class="ttdef"><b>Definition:</b> <a href="GCNSubtarget_8h_source.html#l00032">GCNSubtarget.h:32</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_ab54d6d16078e78dfe594321574f39223"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#ab54d6d16078e78dfe594321574f39223">llvm::SIInstrInfo::isVGPRSpill</a></div><div class="ttdeci">static bool isVGPRSpill(const MachineInstr &amp;MI)</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8h_source.html#l00613">SIInstrInfo.h:613</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_ade90146180a53b9d9edc077b933e70bba31e6af0765d85a29b3539b4b14a42998"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#ade90146180a53b9d9edc077b933e70bba31e6af0765d85a29b3539b4b14a42998">llvm::SIInstrInfo::MO_MASK</a></div><div class="ttdeci">@ MO_MASK</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8h_source.html#l00155">SIInstrInfo.h:155</a></div></div>
<div class="ttc" id="aclassllvm_1_1InlineAsm_html_a9e020cbab32f9a2ec3f777d603dd34baad8e4e0d44daebe8c07cf5d6d60a4fc30"><div class="ttname"><a href="classllvm_1_1InlineAsm.html#a9e020cbab32f9a2ec3f777d603dd34baad8e4e0d44daebe8c07cf5d6d60a4fc30">llvm::InlineAsm::MIOp_FirstOperand</a></div><div class="ttdeci">@ MIOp_FirstOperand</div><div class="ttdef"><b>Definition:</b> <a href="InlineAsm_8h_source.html#l00227">InlineAsm.h:227</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_ab56dfc46c9da130d7a7e06d7d6588164"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#ab56dfc46c9da130d7a7e06d7d6588164">llvm::SIInstrInfo::CreateTargetPostRAHazardRecognizer</a></div><div class="ttdeci">ScheduleHazardRecognizer * CreateTargetPostRAHazardRecognizer(const InstrItineraryData *II, const ScheduleDAG *DAG) const override</div><div class="ttdoc">This is used by the post-RA scheduler (SchedulePostRAList.cpp).</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l07758">SIInstrInfo.cpp:7758</a></div></div>
<div class="ttc" id="anamespacellvm_html_ab4d4bc901fedd8857f647dcc2c0d71de"><div class="ttname"><a href="namespacellvm.html#ab4d4bc901fedd8857f647dcc2c0d71de">llvm::max</a></div><div class="ttdeci">Expected&lt; ExpressionValue &gt; max(const ExpressionValue &amp;Lhs, const ExpressionValue &amp;Rhs)</div><div class="ttdef"><b>Definition:</b> <a href="FileCheck_8cpp_source.html#l00337">FileCheck.cpp:337</a></div></div>
<div class="ttc" id="aclassllvm_1_1GCNSubtarget_html_ad36912f9e8bc286cf6f7832fd5f3c064"><div class="ttname"><a href="classllvm_1_1GCNSubtarget.html#ad36912f9e8bc286cf6f7832fd5f3c064">llvm::GCNSubtarget::getRegBankInfo</a></div><div class="ttdeci">const AMDGPURegisterBankInfo * getRegBankInfo() const override</div><div class="ttdef"><b>Definition:</b> <a href="GCNSubtarget_8h_source.html#l00254">GCNSubtarget.h:254</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_af0c31a9fd43cc1a320582913a2f27ece"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#af0c31a9fd43cc1a320582913a2f27ece">llvm::SIInstrInfo::getScratchRsrcWords23</a></div><div class="ttdeci">uint64_t getScratchRsrcWords23() const</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l07500">SIInstrInfo.cpp:7500</a></div></div>
<div class="ttc" id="aAMDGPURegBankSelect_8cpp_html_a14e0c000ed52e5fc187d4a885914cc1a"><div class="ttname"><a href="AMDGPURegBankSelect_8cpp.html#a14e0c000ed52e5fc187d4a885914cc1a">Select</a></div><div class="ttdeci">amdgpu AMDGPU Register Bank Select</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPURegBankSelect_8cpp_source.html#l00045">AMDGPURegBankSelect.cpp:45</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_ade90146180a53b9d9edc077b933e70bbae1cf0b40cb6ab32eca2bb094dbf01c87"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#ade90146180a53b9d9edc077b933e70bbae1cf0b40cb6ab32eca2bb094dbf01c87">llvm::SIInstrInfo::MO_GOTPCREL</a></div><div class="ttdeci">@ MO_GOTPCREL</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8h_source.html#l00159">SIInstrInfo.h:159</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_a14d33066a44cffac139a9ab987c34c6d"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#a14d33066a44cffac139a9ab987c34c6d">llvm::SIInstrInfo::getIndirectRegWriteMovRelPseudo</a></div><div class="ttdeci">const MCInstrDesc &amp; getIndirectRegWriteMovRelPseudo(unsigned VecSize, unsigned EltSize, bool IsSGPR) const</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l01421">SIInstrInfo.cpp:1421</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1VGPRIndexMode_html_af5252ebf458b72b49d66ec97f51841e3a064e9e9900217c959cd4bec112627012"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1VGPRIndexMode.html#af5252ebf458b72b49d66ec97f51841e3a064e9e9900217c959cd4bec112627012">llvm::AMDGPU::VGPRIndexMode::SRC0_ENABLE</a></div><div class="ttdeci">@ SRC0_ENABLE</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00262">SIDefines.h:262</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_a13b9c3d91aaffb22e0119f3467694b69"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a13b9c3d91aaffb22e0119f3467694b69">llvm::MachineOperand::ChangeToFrameIndex</a></div><div class="ttdeci">void ChangeToFrameIndex(int Idx, unsigned TargetFlags=0)</div><div class="ttdoc">Replace this operand with a frame index.</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8cpp_source.html#l00220">MachineOperand.cpp:220</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_a7f0540de8a453a7229e35264e8edd4ac"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#a7f0540de8a453a7229e35264e8edd4ac">llvm::MachineBasicBlock::terminators</a></div><div class="ttdeci">iterator_range&lt; iterator &gt; terminators()</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00329">MachineBasicBlock.h:329</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_html_a27efe1286cc31f5fc95355af30b0356c"><div class="ttname"><a href="namespacellvm_1_1AMDGPU.html#a27efe1286cc31f5fc95355af30b0356c">llvm::AMDGPU::getNamedOperandIdx</a></div><div class="ttdeci">LLVM_READONLY int16_t getNamedOperandIdx(uint16_t Opcode, uint16_t NamedIdx)</div></div>
<div class="ttc" id="aclassllvm_1_1MCSymbol_html_a7f1486460b5e2da7f4527bbb2da54eff"><div class="ttname"><a href="classllvm_1_1MCSymbol.html#a7f1486460b5e2da7f4527bbb2da54eff">llvm::MCSymbol::setVariableValue</a></div><div class="ttdeci">void setVariableValue(const MCExpr *Value)</div><div class="ttdef"><b>Definition:</b> <a href="MCSymbol_8cpp_source.html#l00047">MCSymbol.cpp:47</a></div></div>
<div class="ttc" id="anamespacellvm_1_1CallingConv_html_a5b166ae228ebbfdb96736d6022f3feeda1a9f243b16678fc294567b72bbe87223"><div class="ttname"><a href="namespacellvm_1_1CallingConv.html#a5b166ae228ebbfdb96736d6022f3feeda1a9f243b16678fc294567b72bbe87223">llvm::CallingConv::AMDGPU_VS</a></div><div class="ttdeci">@ AMDGPU_VS</div><div class="ttdoc">Used for Mesa vertex shaders, or AMDPAL last shader stage before rasterization (vertex shader if tess...</div><div class="ttdef"><b>Definition:</b> <a href="CallingConv_8h_source.html#l00185">CallingConv.h:185</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIRegisterInfo_html_a2a24e95ba5416c84845c50bbf4c2ee4d"><div class="ttname"><a href="classllvm_1_1SIRegisterInfo.html#a2a24e95ba5416c84845c50bbf4c2ee4d">llvm::SIRegisterInfo::getProperlyAlignedRC</a></div><div class="ttdeci">const TargetRegisterClass * getProperlyAlignedRC(const TargetRegisterClass *RC) const</div><div class="ttdef"><b>Definition:</b> <a href="SIRegisterInfo_8cpp_source.html#l03144">SIRegisterInfo.cpp:3144</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_ad7213433bd60dc33020246384dc18b9b"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#ad7213433bd60dc33020246384dc18b9b">llvm::MachineOperand::isFI</a></div><div class="ttdeci">bool isFI() const</div><div class="ttdoc">isFI - Tests if this is a MO_FrameIndex operand.</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00339">MachineOperand.h:339</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1UfmtGFX10_html_a9f4b9c2257280532185aa363f023fbf5a5c6b3dafe669e154050061d41549394e"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1UfmtGFX10.html#a9f4b9c2257280532185aa363f023fbf5a5c6b3dafe669e154050061d41549394e">llvm::AMDGPU::UfmtGFX10::UFMT_32_FLOAT</a></div><div class="ttdeci">@ UFMT_32_FLOAT</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00575">SIDefines.h:575</a></div></div>
<div class="ttc" id="aclassllvm_1_1GCNSubtarget_html_a7f1b4a610bfabed1dac80708d399d552"><div class="ttname"><a href="classllvm_1_1GCNSubtarget.html#a7f1b4a610bfabed1dac80708d399d552">llvm::GCNSubtarget::hasPackedFP32Ops</a></div><div class="ttdeci">bool hasPackedFP32Ops() const</div><div class="ttdef"><b>Definition:</b> <a href="GCNSubtarget_8h_source.html#l00898">GCNSubtarget.h:898</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_html_a8ab2011ec30da8a5edbd54bf0e498363"><div class="ttname"><a href="namespacellvm_1_1AMDGPU.html#a8ab2011ec30da8a5edbd54bf0e498363">llvm::AMDGPU::isIntrinsicSourceOfDivergence</a></div><div class="ttdeci">bool isIntrinsicSourceOfDivergence(unsigned IntrID)</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUBaseInfo_8cpp_source.html#l02682">AMDGPUBaseInfo.cpp:2682</a></div></div>
<div class="ttc" id="aclassllvm_1_1detail_1_1DenseSetImpl_html_a79eed48913651aeedda2eed25201ea84"><div class="ttname"><a href="classllvm_1_1detail_1_1DenseSetImpl.html#a79eed48913651aeedda2eed25201ea84">llvm::detail::DenseSetImpl&lt; ValueT, SmallDenseMap&lt; ValueT, detail::DenseSetEmpty, 4, DenseMapInfo&lt; ValueT &gt;, detail::DenseSetPair&lt; ValueT &gt; &gt;, DenseMapInfo&lt; ValueT &gt; &gt;::insert</a></div><div class="ttdeci">std::pair&lt; iterator, bool &gt; insert(const ValueT &amp;V)</div><div class="ttdef"><b>Definition:</b> <a href="DenseSet_8h_source.html#l00206">DenseSet.h:206</a></div></div>
<div class="ttc" id="aSIInstrInfo_8cpp_html_aa92f8b057e8d007d8e3c03828035b1d1"><div class="ttname"><a href="SIInstrInfo_8cpp.html#aa92f8b057e8d007d8e3c03828035b1d1">getSGPRSpillSaveOpcode</a></div><div class="ttdeci">static unsigned getSGPRSpillSaveOpcode(unsigned Size)</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l01438">SIInstrInfo.cpp:1438</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_afff49d92e227fa12fc068d203a22bd15"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#afff49d92e227fa12fc068d203a22bd15">llvm::SIInstrInfo::hasAnyModifiersSet</a></div><div class="ttdeci">bool hasAnyModifiersSet(const MachineInstr &amp;MI) const</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l03901">SIInstrInfo.cpp:3901</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_af624ff47eaa512dbe23866accb3837c1"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#af624ff47eaa512dbe23866accb3837c1">llvm::MachineOperand::getOffset</a></div><div class="ttdeci">int64_t getOffset() const</div><div class="ttdoc">Return the offset from the symbol in this operand.</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00629">MachineOperand.h:629</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1SDWA_html_a4473412439e8285e235ccafa0c3824b6"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1SDWA.html#a4473412439e8285e235ccafa0c3824b6">llvm::AMDGPU::SDWA::DstUnused</a></div><div class="ttdeci">DstUnused</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00785">SIDefines.h:785</a></div></div>
<div class="ttc" id="aclassllvm_1_1detail_1_1DenseSetImpl_html_afe504aa31a6a354cec13f5b32d0b1d9d"><div class="ttname"><a href="classllvm_1_1detail_1_1DenseSetImpl.html#afe504aa31a6a354cec13f5b32d0b1d9d">llvm::detail::DenseSetImpl&lt; ValueT, SmallDenseMap&lt; ValueT, detail::DenseSetEmpty, 4, DenseMapInfo&lt; ValueT &gt;, detail::DenseSetPair&lt; ValueT &gt; &gt;, DenseMapInfo&lt; ValueT &gt; &gt;::count</a></div><div class="ttdeci">size_type count(const_arg_type_t&lt; ValueT &gt; V) const</div><div class="ttdoc">Return 1 if the specified key is in the set, 0 otherwise.</div><div class="ttdef"><b>Definition:</b> <a href="DenseSet_8h_source.html#l00097">DenseSet.h:97</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_ad6c11ec8de146c5e79bfd5dea3cfab01"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#ad6c11ec8de146c5e79bfd5dea3cfab01">llvm::SIInstrInfo::isBranchOffsetInRange</a></div><div class="ttdeci">bool isBranchOffsetInRange(unsigned BranchOpc, int64_t BrOffset) const override</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l02474">SIInstrInfo.cpp:2474</a></div></div>
<div class="ttc" id="aMachineSink_8cpp_html_a0f36ed1bc17fc1aa97fe291c439a0698"><div class="ttname"><a href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a></div><div class="ttdeci">unsigned const TargetRegisterInfo * TRI</div><div class="ttdef"><b>Definition:</b> <a href="MachineSink_8cpp_source.html#l01628">MachineSink.cpp:1628</a></div></div>
<div class="ttc" id="anamespacellvm_1_1cl_html_a68075925a54790e71ca790e1d4f21a40ab81f279502bb9ca74e6629cfb62844be"><div class="ttname"><a href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40ab81f279502bb9ca74e6629cfb62844be">llvm::cl::ReallyHidden</a></div><div class="ttdeci">@ ReallyHidden</div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00139">CommandLine.h:139</a></div></div>
<div class="ttc" id="aclassllvm_1_1GCNSubtarget_html_a0c71068f31a85453c97cfb17a44746b0"><div class="ttname"><a href="classllvm_1_1GCNSubtarget.html#a0c71068f31a85453c97cfb17a44746b0">llvm::GCNSubtarget::hasScalarCompareEq64</a></div><div class="ttdeci">bool hasScalarCompareEq64() const</div><div class="ttdef"><b>Definition:</b> <a href="GCNSubtarget_8h_source.html#l00858">GCNSubtarget.h:858</a></div></div>
<div class="ttc" id="aclassllvm_1_1RegScavenger_html_a28849ec4920f5ee3f97d344633e695f4"><div class="ttname"><a href="classllvm_1_1RegScavenger.html#a28849ec4920f5ee3f97d344633e695f4">llvm::RegScavenger::FindUnusedReg</a></div><div class="ttdeci">Register FindUnusedReg(const TargetRegisterClass *RC) const</div><div class="ttdoc">Find an unused register of the specified register class.</div><div class="ttdef"><b>Definition:</b> <a href="RegisterScavenging_8cpp_source.html#l00266">RegisterScavenging.cpp:266</a></div></div>
<div class="ttc" id="anamespacellvm_html_ae551fe3e2b167b36005b26473e993884a26aa2e7865f749b52f3b77991776c40d"><div class="ttname"><a href="namespacellvm.html#ae551fe3e2b167b36005b26473e993884a26aa2e7865f749b52f3b77991776c40d">llvm::Data</a></div><div class="ttdeci">@ Data</div><div class="ttdef"><b>Definition:</b> <a href="SIMachineScheduler_8h_source.html#l00055">SIMachineScheduler.h:55</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_ad8e550107fa28c8e3869a5b28dad59b9"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#ad8e550107fa28c8e3869a5b28dad59b9">llvm::SIInstrInfo::insertNoop</a></div><div class="ttdeci">void insertNoop(MachineBasicBlock &amp;MBB, MachineBasicBlock::iterator MI) const override</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l01832">SIInstrInfo.cpp:1832</a></div></div>
<div class="ttc" id="anamespacellvm_1_1SIInstrFlags_html_ac8376ab01e1f2eb75e242eb464d3992da19795cb02079a5e5d58e8a5df3b6ba4b"><div class="ttname"><a href="namespacellvm_1_1SIInstrFlags.html#ac8376ab01e1f2eb75e242eb464d3992da19795cb02079a5e5d58e8a5df3b6ba4b">llvm::SIInstrFlags::VGPRSpill</a></div><div class="ttdeci">@ VGPRSpill</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00063">SIDefines.h:63</a></div></div>
<div class="ttc" id="aRISCVInsertVSETVLI_8cpp_html_a9f4a1ccc4923b17bd414716718e3febf"><div class="ttname"><a href="RISCVInsertVSETVLI_8cpp.html#a9f4a1ccc4923b17bd414716718e3febf">UseOpIdx</a></div><div class="ttdeci">unsigned UseOpIdx</div><div class="ttdef"><b>Definition:</b> <a href="RISCVInsertVSETVLI_8cpp_source.html#l00640">RISCVInsertVSETVLI.cpp:640</a></div></div>
<div class="ttc" id="aSIInstrInfo_8cpp_html_a951bbdda542205db9de80f6bf44f571c"><div class="ttname"><a href="SIInstrInfo_8cpp.html#a951bbdda542205db9de80f6bf44f571c">memOpsHaveSameBasePtr</a></div><div class="ttdeci">static bool memOpsHaveSameBasePtr(const MachineInstr &amp;MI1, ArrayRef&lt; const MachineOperand * &gt; BaseOps1, const MachineInstr &amp;MI2, ArrayRef&lt; const MachineOperand * &gt; BaseOps2)</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l00450">SIInstrInfo.cpp:450</a></div></div>
<div class="ttc" id="anamespacellvm_1_1SIInstrFlags_html_ac8376ab01e1f2eb75e242eb464d3992dadf3e0b276b086c14975adb3e2f00aa2c"><div class="ttname"><a href="namespacellvm_1_1SIInstrFlags.html#ac8376ab01e1f2eb75e242eb464d3992dadf3e0b276b086c14975adb3e2f00aa2c">llvm::SIInstrFlags::D16Buf</a></div><div class="ttdeci">@ D16Buf</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00105">SIDefines.h:105</a></div></div>
<div class="ttc" id="aclassllvm_1_1GCNSubtarget_html_a95d2929d1a7c8c66554f0b44b153b573"><div class="ttname"><a href="classllvm_1_1GCNSubtarget.html#a95d2929d1a7c8c66554f0b44b153b573">llvm::GCNSubtarget::getRegisterInfo</a></div><div class="ttdeci">const SIRegisterInfo * getRegisterInfo() const override</div><div class="ttdef"><b>Definition:</b> <a href="GCNSubtarget_8h_source.html#l00234">GCNSubtarget.h:234</a></div></div>
<div class="ttc" id="aclassllvm_1_1ArrayRef_html_ac835b8735b1b2faec0efdca236e37d94"><div class="ttname"><a href="classllvm_1_1ArrayRef.html#ac835b8735b1b2faec0efdca236e37d94">llvm::ArrayRef::empty</a></div><div class="ttdeci">bool empty() const</div><div class="ttdoc">empty - Check if the array is empty.</div><div class="ttdef"><b>Definition:</b> <a href="ArrayRef_8h_source.html#l00158">ArrayRef.h:158</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_a999795324f5e7c578a97992d780080f1"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a999795324f5e7c578a97992d780080f1">llvm::MachineInstr::hasOneMemOperand</a></div><div class="ttdeci">bool hasOneMemOperand() const</div><div class="ttdoc">Return true if this instruction has exactly one MachineMemOperand.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00746">MachineInstr.h:746</a></div></div>
<div class="ttc" id="aDebug_8h_html_a08efc68d15935eb8889400a46c3749ba"><div class="ttname"><a href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a></div><div class="ttdeci">#define LLVM_DEBUG(X)</div><div class="ttdef"><b>Definition:</b> <a href="Debug_8h_source.html#l00101">Debug.h:101</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_a4caa6a9d1e0cbdab6787bf09d96bc082"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#a4caa6a9d1e0cbdab6787bf09d96bc082">llvm::SIInstrInfo::isBasicBlockPrologue</a></div><div class="ttdeci">bool isBasicBlockPrologue(const MachineInstr &amp;MI) const override</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l07814">SIInstrInfo.cpp:7814</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_ad88bfb92ca2f7d419adc7e6645406a7c"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#ad88bfb92ca2f7d419adc7e6645406a7c">llvm::SIInstrInfo::insertVectorSelect</a></div><div class="ttdeci">void insertVectorSelect(MachineBasicBlock &amp;MBB, MachineBasicBlock::iterator I, const DebugLoc &amp;DL, Register DstReg, ArrayRef&lt; MachineOperand &gt; Cond, Register TrueReg, Register FalseReg) const</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l01129">SIInstrInfo.cpp:1129</a></div></div>
<div class="ttc" id="aclassllvm_1_1AMDGPUSubtarget_html_a53c0ee4138bfbf9e0410a65e0eaa36e2afee0105d2e947dda0884cc47a33c93b7"><div class="ttname"><a href="classllvm_1_1AMDGPUSubtarget.html#a53c0ee4138bfbf9e0410a65e0eaa36e2afee0105d2e947dda0884cc47a33c93b7">llvm::AMDGPUSubtarget::GFX11</a></div><div class="ttdeci">@ GFX11</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUSubtarget_8h_source.html#l00042">AMDGPUSubtarget.h:42</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_af269b990800f72c7cf535c407e8e639ba99b874c6560305fd292d20f6a06da166"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#af269b990800f72c7cf535c407e8e639ba99b874c6560305fd292d20f6a06da166">llvm::MachineOperand::MO_Register</a></div><div class="ttdeci">@ MO_Register</div><div class="ttdoc">Register operand.</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00051">MachineOperand.h:51</a></div></div>
<div class="ttc" id="aSPIRVInstructionSelector_8cpp_html_a6fe0144adffd7bad0aeca668f4468b28"><div class="ttname"><a href="SPIRVInstructionSelector_8cpp.html#a6fe0144adffd7bad0aeca668f4468b28">isImm</a></div><div class="ttdeci">static bool isImm(const MachineOperand &amp;MO, MachineRegisterInfo *MRI)</div><div class="ttdef"><b>Definition:</b> <a href="SPIRVInstructionSelector_8cpp_source.html#l01218">SPIRVInstructionSelector.cpp:1218</a></div></div>
<div class="ttc" id="anamespacellvm_html_aa3a1f79eb5e89f41ad5a3d8e9b2a367a"><div class="ttname"><a href="namespacellvm.html#aa3a1f79eb5e89f41ad5a3d8e9b2a367a">llvm::getUndefRegState</a></div><div class="ttdeci">unsigned getUndefRegState(bool B)</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00537">MachineInstrBuilder.h:537</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_aabc3917d917c6247778c88107945d13b"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#aabc3917d917c6247778c88107945d13b">llvm::MachineInstr::hasOrderedMemoryRef</a></div><div class="ttdeci">bool hasOrderedMemoryRef() const</div><div class="ttdoc">Return true if this instruction may have an ordered or volatile memory reference, or if the informati...</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8cpp_source.html#l01384">MachineInstr.cpp:1384</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_ac76905a82cf568afc14dd95691c867f0"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#ac76905a82cf568afc14dd95691c867f0">llvm::SIInstrInfo::fixImplicitOperands</a></div><div class="ttdeci">void fixImplicitOperands(MachineInstr &amp;MI) const</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l07877">SIInstrInfo.cpp:7877</a></div></div>
<div class="ttc" id="astructllvm_1_1TargetInstrInfo_1_1RegSubRegPair_html"><div class="ttname"><a href="structllvm_1_1TargetInstrInfo_1_1RegSubRegPair.html">llvm::TargetInstrInfo::RegSubRegPair</a></div><div class="ttdoc">A pair composed of a register and a sub-register index.</div><div class="ttdef"><b>Definition:</b> <a href="TargetInstrInfo_8h_source.html#l00494">TargetInstrInfo.h:494</a></div></div>
<div class="ttc" id="anamespacellvm_1_1SIInstrFlags_html_ac8376ab01e1f2eb75e242eb464d3992da953a5ba3766c4aea8d9b8eeeba722679"><div class="ttname"><a href="namespacellvm_1_1SIInstrFlags.html#ac8376ab01e1f2eb75e242eb464d3992da953a5ba3766c4aea8d9b8eeeba722679">llvm::SIInstrFlags::DS</a></div><div class="ttdeci">@ DS</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00060">SIDefines.h:60</a></div></div>
<div class="ttc" id="aclassllvm_1_1RegScavenger_html_a27037167fddcdde3b6207d025267bbfc"><div class="ttname"><a href="classllvm_1_1RegScavenger.html#a27037167fddcdde3b6207d025267bbfc">llvm::RegScavenger::isRegUsed</a></div><div class="ttdeci">bool isRegUsed(Register Reg, bool includeReserved=true) const</div><div class="ttdoc">Return if a specific register is currently used.</div><div class="ttdef"><b>Definition:</b> <a href="RegisterScavenging_8cpp_source.html#l00260">RegisterScavenging.cpp:260</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110ae35d57f3c020672748fcc95607348986"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ae35d57f3c020672748fcc95607348986">llvm::ISD::INLINEASM</a></div><div class="ttdeci">@ INLINEASM</div><div class="ttdoc">INLINEASM - Represents an inline asm block.</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l01024">ISDOpcodes.h:1024</a></div></div>
<div class="ttc" id="aHexagonISelDAGToDAGHVX_8cpp_html_a3389e6c42731436e57f87a2cd630bf49"><div class="ttname"><a href="HexagonISelDAGToDAGHVX_8cpp.html#a3389e6c42731436e57f87a2cd630bf49">isUndef</a></div><div class="ttdeci">static bool isUndef(ArrayRef&lt; int &gt; Mask)</div><div class="ttdef"><b>Definition:</b> <a href="HexagonISelDAGToDAGHVX_8cpp_source.html#l01032">HexagonISelDAGToDAGHVX.cpp:1032</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_ad26bff839257f220557ce812b2159c72"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#ad26bff839257f220557ce812b2159c72">llvm::MachineBasicBlock::erase</a></div><div class="ttdeci">instr_iterator erase(instr_iterator I)</div><div class="ttdoc">Remove an instruction from the instruction list and delete it.</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8cpp_source.html#l01323">MachineBasicBlock.cpp:1323</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_a829e9621ba24a27ddaaccfb4b0f58308"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#a829e9621ba24a27ddaaccfb4b0f58308">llvm::SIInstrInfo::loadRegFromStackSlot</a></div><div class="ttdeci">void loadRegFromStackSlot(MachineBasicBlock &amp;MBB, MachineBasicBlock::iterator MI, Register DestReg, int FrameIndex, const TargetRegisterClass *RC, const TargetRegisterInfo *TRI, Register VReg) const override</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l01777">SIInstrInfo.cpp:1777</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_acd85372be31eb6cd26e75c961e2ca5fa"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#acd85372be31eb6cd26e75c961e2ca5fa">llvm::SIInstrInfo::hasUnwantedEffectsWhenEXECEmpty</a></div><div class="ttdeci">bool hasUnwantedEffectsWhenEXECEmpty(const MachineInstr &amp;MI) const</div><div class="ttdoc">Whether we must prevent this instruction from executing with EXEC = 0.</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l03660">SIInstrInfo.cpp:3660</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetSchedModel_html_ab357b39c47df52a19882a831feda1b6f"><div class="ttname"><a href="classllvm_1_1TargetSchedModel.html#ab357b39c47df52a19882a831feda1b6f">llvm::TargetSchedModel::init</a></div><div class="ttdeci">void init(const TargetSubtargetInfo *TSInfo)</div><div class="ttdoc">Initialize the machine model for instruction scheduling.</div><div class="ttdef"><b>Definition:</b> <a href="TargetSchedule_8cpp_source.html#l00047">TargetSchedule.cpp:47</a></div></div>
<div class="ttc" id="anamespacellvm_html_a7c46c742c31be54870e2038048e6b391"><div class="ttname"><a href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">llvm::dbgs</a></div><div class="ttdeci">raw_ostream &amp; dbgs()</div><div class="ttdoc">dbgs() - This returns a reference to a raw_ostream for debugging messages.</div><div class="ttdef"><b>Definition:</b> <a href="Debug_8cpp_source.html#l00163">Debug.cpp:163</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_ad2f4d922d52fe33423474951f704b91b"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#ad2f4d922d52fe33423474951f704b91b">llvm::MachineInstr::getFlags</a></div><div class="ttdeci">uint16_t getFlags() const</div><div class="ttdoc">Return the MI flags bitvector.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00352">MachineInstr.h:352</a></div></div>
<div class="ttc" id="aAMDGPULibCalls_8cpp_html_afecf1cc1292b07f57d343c0f4d682044"><div class="ttname"><a href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a></div><div class="ttdeci">amdgpu Simplify well known AMD library false FunctionCallee Value * Arg</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPULibCalls_8cpp_source.html#l00187">AMDGPULibCalls.cpp:187</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_a0df02605d5e00cad00c3b7f4aef3aa14"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#a0df02605d5e00cad00c3b7f4aef3aa14">llvm::SIInstrInfo::getOpSize</a></div><div class="ttdeci">unsigned getOpSize(uint16_t Opcode, unsigned OpNo) const</div><div class="ttdoc">Return the size in bytes of the operand OpNo on the given.</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8h_source.html#l00924">SIInstrInfo.h:924</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_a4b7d2799877b8bf1ebd139ef268ee7d6"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#a4b7d2799877b8bf1ebd139ef268ee7d6">llvm::SIInstrInfo::isWave32</a></div><div class="ttdeci">bool isWave32() const</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l08310">SIInstrInfo.cpp:8310</a></div></div>
<div class="ttc" id="anamespacellvm_html_a73257f51950d9ea50955e3fb9c724a25"><div class="ttname"><a href="namespacellvm.html#a73257f51950d9ea50955e3fb9c724a25">llvm::get</a></div><div class="ttdeci">decltype(auto) get(const PointerIntPair&lt; PointerTy, IntBits, IntType, PtrTraits, Info &gt; &amp;Pair)</div><div class="ttdef"><b>Definition:</b> <a href="PointerIntPair_8h_source.html#l00234">PointerIntPair.h:234</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_a935e2a8884592189d8f261634a0b24c5"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#a935e2a8884592189d8f261634a0b24c5">llvm::MachineBasicBlock::addSuccessor</a></div><div class="ttdeci">void addSuccessor(MachineBasicBlock *Succ, BranchProbability Prob=BranchProbability::getUnknown())</div><div class="ttdoc">Add Succ as a successor of this MachineBasicBlock.</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8cpp_source.html#l00772">MachineBasicBlock.cpp:772</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_ad20315758fcf345ce175df966fae0c82"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#ad20315758fcf345ce175df966fae0c82">llvm::SIInstrInfo::isWMMA</a></div><div class="ttdeci">static bool isWMMA(const MachineInstr &amp;MI)</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8h_source.html#l00678">SIInstrInfo.h:678</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_a4046212ebc647b17e811837ae4ea3afd"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a4046212ebc647b17e811837ae4ea3afd">llvm::MachineOperand::isKill</a></div><div class="ttdeci">bool isKill() const</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00399">MachineOperand.h:399</a></div></div>
<div class="ttc" id="anamespacellvm_1_1BitmaskEnumDetail_html_a91efa71de05b0c2d00730a0279f58658"><div class="ttname"><a href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">llvm::BitmaskEnumDetail::Mask</a></div><div class="ttdeci">constexpr std::underlying_type_t&lt; E &gt; Mask()</div><div class="ttdoc">Get a bitmask with 1s in all places up to the high-order bit of E's largest value.</div><div class="ttdef"><b>Definition:</b> <a href="BitmaskEnum_8h_source.html#l00080">BitmaskEnum.h:80</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_a4e8b8e35244538ba4a04d756420454ba"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#a4e8b8e35244538ba4a04d756420454ba">llvm::SIInstrInfo::isVOPC</a></div><div class="ttdeci">static bool isVOPC(const MachineInstr &amp;MI)</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8h_source.html#l00458">SIInstrInfo.h:458</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCOperandInfo_html"><div class="ttname"><a href="classllvm_1_1MCOperandInfo.html">llvm::MCOperandInfo</a></div><div class="ttdoc">This holds information about one operand of a machine instruction, indicating the register class for ...</div><div class="ttdef"><b>Definition:</b> <a href="MCInstrDesc_8h_source.html#l00085">MCInstrDesc.h:85</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_a1cc134bd22a318835dc929323da70ea4"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#a1cc134bd22a318835dc929323da70ea4">llvm::MachineBasicBlock::getSymbol</a></div><div class="ttdeci">MCSymbol * getSymbol() const</div><div class="ttdoc">Return the MCSymbol for this basic block.</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8cpp_source.html#l00059">MachineBasicBlock.cpp:59</a></div></div>
<div class="ttc" id="aCommandLine_8h_html"><div class="ttname"><a href="CommandLine_8h.html">CommandLine.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_aae844768b9501609ab55c31b3c4f6ea5"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#aae844768b9501609ab55c31b3c4f6ea5">llvm::SIInstrInfo::canShrink</a></div><div class="ttdeci">bool canShrink(const MachineInstr &amp;MI, const MachineRegisterInfo &amp;MRI) const</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l03906">SIInstrInfo.cpp:3906</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstrBuilder_html_a85eb6ee9f537a283b2ba9964c54ab2f2"><div class="ttname"><a href="classllvm_1_1MachineInstrBuilder.html#a85eb6ee9f537a283b2ba9964c54ab2f2">llvm::MachineInstrBuilder::addDef</a></div><div class="ttdeci">const MachineInstrBuilder &amp; addDef(Register RegNo, unsigned Flags=0, unsigned SubReg=0) const</div><div class="ttdoc">Add a virtual register definition operand.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00116">MachineInstrBuilder.h:116</a></div></div>
<div class="ttc" id="aclassllvm_1_1Register_html_a13bd3dae94013a7bf38afc9391c8fa8f"><div class="ttname"><a href="classllvm_1_1Register.html#a13bd3dae94013a7bf38afc9391c8fa8f">llvm::Register::isPhysical</a></div><div class="ttdeci">bool isPhysical() const</div><div class="ttdoc">Return true if the specified register number is in the physical register namespace.</div><div class="ttdef"><b>Definition:</b> <a href="Register_8h_source.html#l00097">Register.h:97</a></div></div>
<div class="ttc" id="aclassllvm_1_1AMDGPUSubtarget_html_acf005b2695c64eb57157215562463116"><div class="ttname"><a href="classllvm_1_1AMDGPUSubtarget.html#acf005b2695c64eb57157215562463116">llvm::AMDGPUSubtarget::isAmdHsaOS</a></div><div class="ttdeci">bool isAmdHsaOS() const</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUSubtarget_8h_source.html#l00122">AMDGPUSubtarget.h:122</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_a03936a9b37da541420049422204ab206"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#a03936a9b37da541420049422204ab206">llvm::MachineBasicBlock::pred_size</a></div><div class="ttdeci">unsigned pred_size() const</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00369">MachineBasicBlock.h:369</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_html_ac4c95246ad0278e01cc6e03560005f0b"><div class="ttname"><a href="namespacellvm_1_1AMDGPU.html#ac4c95246ad0278e01cc6e03560005f0b">llvm::AMDGPU::getCommuteOrig</a></div><div class="ttdeci">LLVM_READONLY int getCommuteOrig(uint16_t Opcode)</div></div>
<div class="ttc" id="anamespacellvm_html_a077981b5798a5d7a95cec16ece863aeb"><div class="ttname"><a href="namespacellvm.html#a077981b5798a5d7a95cec16ece863aeb">llvm::finalizeBundle</a></div><div class="ttdeci">void finalizeBundle(MachineBasicBlock &amp;MBB, MachineBasicBlock::instr_iterator FirstMI, MachineBasicBlock::instr_iterator LastMI)</div><div class="ttdoc">finalizeBundle - Finalize a machine instruction bundle which includes a sequence of instructions star...</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBundle_8cpp_source.html#l00124">MachineInstrBundle.cpp:124</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_html_a8f27aa11689bf9b12f6fb0e436e367c7"><div class="ttname"><a href="namespacellvm_1_1AMDGPU.html#a8f27aa11689bf9b12f6fb0e436e367c7">llvm::AMDGPU::hasNamedOperand</a></div><div class="ttdeci">LLVM_READONLY bool hasNamedOperand(uint64_t Opcode, uint64_t NamedIdx)</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUBaseInfo_8h_source.html#l00336">AMDGPUBaseInfo.h:336</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_html_ab7679ce5eab5937b9da9e7702aff8cc5aa7f8a98ec46b1d30189640d9ff59bc1e"><div class="ttname"><a href="namespacellvm_1_1AMDGPU.html#ab7679ce5eab5937b9da9e7702aff8cc5aa7f8a98ec46b1d30189640d9ff59bc1e">llvm::AMDGPU::OPERAND_REG_IMM_FP32</a></div><div class="ttdeci">@ OPERAND_REG_IMM_FP32</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00163">SIDefines.h:163</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetRegisterClass_html_a60b6974966381f08079722f2258a0039"><div class="ttname"><a href="classllvm_1_1TargetRegisterClass.html#a60b6974966381f08079722f2258a0039">llvm::TargetRegisterClass::contains</a></div><div class="ttdeci">bool contains(Register Reg) const</div><div class="ttdoc">Return true if the specified register is included in this register class.</div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8h_source.html#l00096">TargetRegisterInfo.h:96</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1CPol_html_a7d79a4b341da8ac60b91c1f4b1ea42c4"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1CPol.html#a7d79a4b341da8ac60b91c1f4b1ea42c4">llvm::AMDGPU::CPol::CPol</a></div><div class="ttdeci">CPol</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00312">SIDefines.h:312</a></div></div>
<div class="ttc" id="anamespacellvm_html_a0d10fe510ced2849a8074fe81e5d04ce"><div class="ttname"><a href="namespacellvm.html#a0d10fe510ced2849a8074fe81e5d04ce">llvm::all_of</a></div><div class="ttdeci">bool all_of(R &amp;&amp;range, UnaryPredicate P)</div><div class="ttdoc">Provide wrappers to std::all_of which take ranges instead of having to pass begin/end explicitly.</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l01735">STLExtras.h:1735</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_ac5ef91f370e4eb770203cf33a176616a"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#ac5ef91f370e4eb770203cf33a176616a">llvm::SIInstrInfo::hasDivergentBranch</a></div><div class="ttdeci">bool hasDivergentBranch(const MachineBasicBlock *MBB) const</div><div class="ttdoc">Return whether the block terminate with divergent branch.</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l02501">SIInstrInfo.cpp:2501</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_ac3468d2a2ca1c2b1602a8088b314a40a"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#ac3468d2a2ca1c2b1602a8088b314a40a">llvm::SIInstrInfo::copyPhysReg</a></div><div class="ttdeci">void copyPhysReg(MachineBasicBlock &amp;MBB, MachineBasicBlock::iterator MI, const DebugLoc &amp;DL, MCRegister DestReg, MCRegister SrcReg, bool KillSrc) const override</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l00716">SIInstrInfo.cpp:716</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html_ab4a6ca428289b667dd691a00e9f7e334"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">llvm::MachineFunction::getRegInfo</a></div><div class="ttdeci">MachineRegisterInfo &amp; getRegInfo()</div><div class="ttdoc">getRegInfo - Return information about the registers currently in use.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00682">MachineFunction.h:682</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCInstrDesc_html_a46e0fcca2366f30d5e35b3d7dcb9c65f"><div class="ttname"><a href="classllvm_1_1MCInstrDesc.html#a46e0fcca2366f30d5e35b3d7dcb9c65f">llvm::MCInstrDesc::TSFlags</a></div><div class="ttdeci">uint64_t TSFlags</div><div class="ttdef"><b>Definition:</b> <a href="MCInstrDesc_8h_source.html#l00213">MCInstrDesc.h:213</a></div></div>
<div class="ttc" id="alib_2Target_2PowerPC_2README_8txt_html_a6e62594a2cbf6b18a9e518f38637efa3"><div class="ttname"><a href="lib_2Target_2PowerPC_2README_8txt.html#a6e62594a2cbf6b18a9e518f38637efa3">lo16</a></div><div class="ttdeci">We lo16(.CPI_X_0)(r2) lis r2</div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_a3bf161859e1ad7fd3da485d3cb688d34"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a3bf161859e1ad7fd3da485d3cb688d34">llvm::MachineOperand::isImplicit</a></div><div class="ttdeci">bool isImplicit() const</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00389">MachineOperand.h:389</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCInstrDesc_html_ad675c21464eb38c355e73c7f72f8160b"><div class="ttname"><a href="classllvm_1_1MCInstrDesc.html#ad675c21464eb38c355e73c7f72f8160b">llvm::MCInstrDesc::getSize</a></div><div class="ttdeci">unsigned getSize() const</div><div class="ttdoc">Return the number of bytes in the encoding of this instruction, or zero if the encoding size cannot b...</div><div class="ttdef"><b>Definition:</b> <a href="MCInstrDesc_8h_source.html#l00600">MCInstrDesc.h:600</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCBinaryExpr_html_a7e497380d64cbc81c0adf46672c64ba0"><div class="ttname"><a href="classllvm_1_1MCBinaryExpr.html#a7e497380d64cbc81c0adf46672c64ba0">llvm::MCBinaryExpr::createAShr</a></div><div class="ttdeci">static const MCBinaryExpr * createAShr(const MCExpr *LHS, const MCExpr *RHS, MCContext &amp;Ctx)</div><div class="ttdef"><b>Definition:</b> <a href="MCExpr_8h_source.html#l00600">MCExpr.h:600</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineRegisterInfo_html_a5a5871d5cc628499a6d8e56734873e01"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#a5a5871d5cc628499a6d8e56734873e01">llvm::MachineRegisterInfo::use_nodbg_operands</a></div><div class="ttdeci">iterator_range&lt; use_nodbg_iterator &gt; use_nodbg_operands(Register Reg) const</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8h_source.html#l00548">MachineRegisterInfo.h:548</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_ade90146180a53b9d9edc077b933e70bba2a19cea491a8770e242de4561299ee96"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#ade90146180a53b9d9edc077b933e70bba2a19cea491a8770e242de4561299ee96">llvm::SIInstrInfo::MO_GOTPCREL32_LO</a></div><div class="ttdeci">@ MO_GOTPCREL32_LO</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8h_source.html#l00162">SIInstrInfo.h:162</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_abdcf600002fd489c76924f2ec4f4fc0f"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#abdcf600002fd489c76924f2ec4f4fc0f">llvm::SIInstrInfo::isMIMG</a></div><div class="ttdeci">static bool isMIMG(const MachineInstr &amp;MI)</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8h_source.html#l00502">SIInstrInfo.h:502</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetInstrInfo_html_adf4d05c8ea2fc82ae12300ef5fb48951"><div class="ttname"><a href="classllvm_1_1TargetInstrInfo.html#adf4d05c8ea2fc82ae12300ef5fb48951">llvm::TargetInstrInfo::commuteInstructionImpl</a></div><div class="ttdeci">virtual MachineInstr * commuteInstructionImpl(MachineInstr &amp;MI, bool NewMI, unsigned OpIdx1, unsigned OpIdx2) const</div><div class="ttdoc">This method commutes the operands of the given machine instruction MI.</div><div class="ttdef"><b>Definition:</b> <a href="TargetInstrInfo_8cpp_source.html#l00166">TargetInstrInfo.cpp:166</a></div></div>
<div class="ttc" id="aTarget_2TargetMachine_8h_html"><div class="ttname"><a href="Target_2TargetMachine_8h.html">TargetMachine.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstrBuilder_html_af8571e8dfb010fd8ae76cc4f87aafaac"><div class="ttname"><a href="classllvm_1_1MachineInstrBuilder.html#af8571e8dfb010fd8ae76cc4f87aafaac">llvm::MachineInstrBuilder::addMBB</a></div><div class="ttdeci">const MachineInstrBuilder &amp; addMBB(MachineBasicBlock *MBB, unsigned TargetFlags=0) const</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00146">MachineInstrBuilder.h:146</a></div></div>
<div class="ttc" id="aclassllvm_1_1RegisterBank_html"><div class="ttname"><a href="classllvm_1_1RegisterBank.html">llvm::RegisterBank</a></div><div class="ttdoc">This class implements the register bank concept.</div><div class="ttdef"><b>Definition:</b> <a href="RegisterBank_8h_source.html#l00028">RegisterBank.h:28</a></div></div>
<div class="ttc" id="aclassllvm_1_1GCNSubtarget_html_a0985b28a440a19cc9e6b8229e75b5152"><div class="ttname"><a href="classllvm_1_1GCNSubtarget.html#a0985b28a440a19cc9e6b8229e75b5152">llvm::GCNSubtarget::hasA16</a></div><div class="ttdeci">bool hasA16() const</div><div class="ttdef"><b>Definition:</b> <a href="GCNSubtarget_8h_source.html#l00918">GCNSubtarget.h:918</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_a0ced2d6b15f87f297ec231c753e624e6"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#a0ced2d6b15f87f297ec231c753e624e6">llvm::SIInstrInfo::getInstSizeInBytes</a></div><div class="ttdeci">unsigned getInstSizeInBytes(const MachineInstr &amp;MI) const override</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l07596">SIInstrInfo.cpp:7596</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineDominatorTree_html_a9a82e7601aa00b344935f93aceb1e88f"><div class="ttname"><a href="classllvm_1_1MachineDominatorTree.html#a9a82e7601aa00b344935f93aceb1e88f">llvm::MachineDominatorTree::addNewBlock</a></div><div class="ttdeci">MachineDomTreeNode * addNewBlock(MachineBasicBlock *BB, MachineBasicBlock *DomBB)</div><div class="ttdoc">addNewBlock - Add a new node to the dominator tree information.</div><div class="ttdef"><b>Definition:</b> <a href="MachineDominators_8h_source.html#l00182">MachineDominators.h:182</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_a0480d6290cd95e40641f2af7a18fb764"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#a0480d6290cd95e40641f2af7a18fb764">llvm::SIInstrInfo::isInlineConstant</a></div><div class="ttdeci">bool isInlineConstant(const APInt &amp;Imm) const</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l03726">SIInstrInfo.cpp:3726</a></div></div>
<div class="ttc" id="aMipsDisassembler_8cpp_html_a15b5b86944f6df97d2c3659d77f51f91"><div class="ttname"><a href="MipsDisassembler_8cpp.html#a15b5b86944f6df97d2c3659d77f51f91">getReg</a></div><div class="ttdeci">static unsigned getReg(const MCDisassembler *D, unsigned RC, unsigned RegNo)</div><div class="ttdef"><b>Definition:</b> <a href="MipsDisassembler_8cpp_source.html#l00521">MipsDisassembler.cpp:521</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_ab09679b541a6ba1219b3602569847364"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#ab09679b541a6ba1219b3602569847364">llvm::MachineOperand::CreateImm</a></div><div class="ttdeci">static MachineOperand CreateImm(int64_t Val)</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00815">MachineOperand.h:815</a></div></div>
<div class="ttc" id="aclassllvm_1_1GCNSubtarget_html_a021be99fec633060e46fd3c482c1c3bc"><div class="ttname"><a href="classllvm_1_1GCNSubtarget.html#a021be99fec633060e46fd3c482c1c3bc">llvm::GCNSubtarget::useVGPRIndexMode</a></div><div class="ttdeci">bool useVGPRIndexMode() const</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUSubtarget_8cpp_source.html#l00619">AMDGPUSubtarget.cpp:619</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_html_ab7679ce5eab5937b9da9e7702aff8cc5ad670957823c39ba1006b962d2023a19a"><div class="ttname"><a href="namespacellvm_1_1AMDGPU.html#ab7679ce5eab5937b9da9e7702aff8cc5ad670957823c39ba1006b962d2023a19a">llvm::AMDGPU::OPERAND_REG_INLINE_C_INT32</a></div><div class="ttdeci">@ OPERAND_REG_INLINE_C_INT32</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00175">SIDefines.h:175</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_a9404d5d9e4be534bb544777aae216691"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a9404d5d9e4be534bb544777aae216691">llvm::MachineOperand::ChangeToRegister</a></div><div class="ttdeci">void ChangeToRegister(Register Reg, bool isDef, bool isImp=false, bool isKill=false, bool isDead=false, bool isUndef=false, bool isDebug=false)</div><div class="ttdoc">ChangeToRegister - Replace this operand with a new register operand of the specified value.</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8cpp_source.html#l00260">MachineOperand.cpp:260</a></div></div>
<div class="ttc" id="aclassllvm_1_1GCNSubtarget_html_ad773dab02c945afb0bc889ebd67649c0"><div class="ttname"><a href="classllvm_1_1GCNSubtarget.html#ad773dab02c945afb0bc889ebd67649c0">llvm::GCNSubtarget::hasAddr64</a></div><div class="ttdeci">bool hasAddr64() const</div><div class="ttdef"><b>Definition:</b> <a href="GCNSubtarget_8h_source.html#l00337">GCNSubtarget.h:337</a></div></div>
<div class="ttc" id="aGCNSubtarget_8h_html"><div class="ttname"><a href="GCNSubtarget_8h.html">GCNSubtarget.h</a></div></div>
<div class="ttc" id="aBuiltinGCs_8cpp_html_a6742d2e0a668baf1196ec69e158d5f15"><div class="ttname"><a href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a></div><div class="ttdeci">static GCRegistry::Add&lt; CoreCLRGC &gt; E(&quot;coreclr&quot;, &quot;CoreCLR-compatible GC&quot;)</div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1DPP_html_aa27612400d9f4f18653d361495d67b08a31b0c3c70775b8b23f65b9d769606e78"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1DPP.html#aa27612400d9f4f18653d361495d67b08a31b0c3c70775b8b23f65b9d769606e78">llvm::AMDGPU::DPP::DPP_UNUSED8_FIRST</a></div><div class="ttdeci">@ DPP_UNUSED8_FIRST</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00843">SIDefines.h:843</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_adbbf88b03dcc6927f63b144f40bbc54c"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#adbbf88b03dcc6927f63b144f40bbc54c">llvm::SIInstrInfo::isSOPC</a></div><div class="ttdeci">static bool isSOPC(const MachineInstr &amp;MI)</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8h_source.html#l00394">SIInstrInfo.h:394</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_a38b28a85f818b49d8806c150b8a5b4f7"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a38b28a85f818b49d8806c150b8a5b4f7">llvm::MachineOperand::getImm</a></div><div class="ttdeci">int64_t getImm() const</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00556">MachineOperand.h:556</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html_ac2dc0fa143c9f2127f0501734577a0a0"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#ac2dc0fa143c9f2127f0501734577a0a0">llvm::MachineFunction::getInfo</a></div><div class="ttdeci">Ty * getInfo()</div><div class="ttdoc">getInfo - Keep track of various per-function pieces of information for backends that would like to do...</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00770">MachineFunction.h:770</a></div></div>
<div class="ttc" id="aclassllvm_1_1RegScavenger_html_a291cc21c757ff76108ff9f36c57723e9"><div class="ttname"><a href="classllvm_1_1RegScavenger.html#a291cc21c757ff76108ff9f36c57723e9">llvm::RegScavenger::scavengeRegister</a></div><div class="ttdeci">Register scavengeRegister(const TargetRegisterClass *RC, MachineBasicBlock::iterator I, int SPAdj, bool AllowSpill=true)</div><div class="ttdoc">Make a register of the specific register class available and do the appropriate bookkeeping.</div><div class="ttdef"><b>Definition:</b> <a href="RegisterScavenging_8cpp_source.html#l00525">RegisterScavenging.cpp:525</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_html_a2e4f719c21c52424a5a4e87c0d77c9d8"><div class="ttname"><a href="namespacellvm_1_1AMDGPU.html#a2e4f719c21c52424a5a4e87c0d77c9d8">llvm::AMDGPU::getNumFlatOffsetBits</a></div><div class="ttdeci">unsigned getNumFlatOffsetBits(const MCSubtargetInfo &amp;ST)</div><div class="ttdoc">For FLAT segment the offset must be positive; MSB is ignored and forced to zero.</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUBaseInfo_8cpp_source.html#l02582">AMDGPUBaseInfo.cpp:2582</a></div></div>
<div class="ttc" id="astructllvm_1_1AMDGPU_1_1MIMGBaseOpcodeInfo_html"><div class="ttname"><a href="structllvm_1_1AMDGPU_1_1MIMGBaseOpcodeInfo.html">llvm::AMDGPU::MIMGBaseOpcodeInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUBaseInfo_8h_source.html#l00343">AMDGPUBaseInfo.h:343</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_html_a1864fe2c262fc3ee74aad3ca3e7f70ea"><div class="ttname"><a href="namespacellvm_1_1AMDGPU.html#a1864fe2c262fc3ee74aad3ca3e7f70ea">llvm::AMDGPU::isInlinableIntLiteralV216</a></div><div class="ttdeci">bool isInlinableIntLiteralV216(int32_t Literal)</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUBaseInfo_8cpp_source.html#l02443">AMDGPUBaseInfo.cpp:2443</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_a454f04c1cce23ff2b87305df8909ab33"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#a454f04c1cce23ff2b87305df8909ab33">llvm::SIInstrInfo::createPHISourceCopy</a></div><div class="ttdeci">MachineInstr * createPHISourceCopy(MachineBasicBlock &amp;MBB, MachineBasicBlock::iterator InsPt, const DebugLoc &amp;DL, Register Src, unsigned SrcSubReg, Register Dst) const override</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l08290">SIInstrInfo.cpp:8290</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_a0a7deb17cce3406bd32958ed7b234d89"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#a0a7deb17cce3406bd32958ed7b234d89">llvm::SIInstrInfo::isNonUniformBranchInstr</a></div><div class="ttdeci">bool isNonUniformBranchInstr(MachineInstr &amp;Instr) const</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l07671">SIInstrInfo.cpp:7671</a></div></div>
<div class="ttc" id="aSIInstrInfo_8cpp_html_a0dfd55eaf0bcb495f09ecf8c55b256b2aff2703cd2f24986fdb450978797990a9"><div class="ttname"><a href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2aff2703cd2f24986fdb450978797990a9">GFX9</a></div><div class="ttdeci">@ GFX9</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l07998">SIInstrInfo.cpp:7998</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_a69544ec8658eadeed98245dc37c3a541"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a69544ec8658eadeed98245dc37c3a541">llvm::MachineOperand::isUse</a></div><div class="ttdeci">bool isUse() const</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00379">MachineOperand.h:379</a></div></div>
<div class="ttc" id="aREADME__ALTIVEC_8txt_html_a9aacd9146afe44bf656cd664e2a88c8c"><div class="ttname"><a href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a></div><div class="ttdeci">(vector float) vec_cmpeq(*A, *B) C</div><div class="ttdef"><b>Definition:</b> <a href="README__ALTIVEC_8txt_source.html#l00086">README_ALTIVEC.txt:86</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_html_ab7679ce5eab5937b9da9e7702aff8cc5a9eb871898b75ab91e808faf50f5f41a5"><div class="ttname"><a href="namespacellvm_1_1AMDGPU.html#ab7679ce5eab5937b9da9e7702aff8cc5a9eb871898b75ab91e808faf50f5f41a5">llvm::AMDGPU::OPERAND_REG_INLINE_AC_FP16</a></div><div class="ttdeci">@ OPERAND_REG_INLINE_AC_FP16</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00192">SIDefines.h:192</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_a3f7a45f6e10668a5f702e26bca80d18e"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">llvm::MachineInstr::getOperand</a></div><div class="ttdeci">const MachineOperand &amp; getOperand(unsigned i) const</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00526">MachineInstr.h:526</a></div></div>
<div class="ttc" id="anamespacellvm_html_a0eea77e7bfa82e0219d2ec7b4efbc94f"><div class="ttname"><a href="namespacellvm.html#a0eea77e7bfa82e0219d2ec7b4efbc94f">llvm::popcount</a></div><div class="ttdeci">int popcount(T Value) noexcept</div><div class="ttdoc">Count the number of set bits in a value.</div><div class="ttdef"><b>Definition:</b> <a href="bit_8h_source.html#l00349">bit.h:349</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineRegisterInfo_html_a53ca7cff9e929ba372da9780fdd44b02"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#a53ca7cff9e929ba372da9780fdd44b02">llvm::MachineRegisterInfo::isReserved</a></div><div class="ttdeci">bool isReserved(MCRegister PhysReg) const</div><div class="ttdoc">isReserved - Returns true when PhysReg is a reserved register.</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8h_source.html#l00956">MachineRegisterInfo.h:956</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_a0605f773275c0461756eae0fb2321fa0"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#a0605f773275c0461756eae0fb2321fa0">llvm::SIInstrInfo::isMAI</a></div><div class="ttdeci">static bool isMAI(const MachineInstr &amp;MI)</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8h_source.html#l00661">SIInstrInfo.h:661</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPUISD_html_a739d53294bc38cd6b0b23332f9994c0eabf84d249106fbef805c08aae16f19968"><div class="ttname"><a href="namespacellvm_1_1AMDGPUISD.html#a739d53294bc38cd6b0b23332f9994c0eabf84d249106fbef805c08aae16f19968">llvm::AMDGPUISD::DS_ORDERED_COUNT</a></div><div class="ttdeci">@ DS_ORDERED_COUNT</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUISelLowering_8h_source.html#l00514">AMDGPUISelLowering.h:514</a></div></div>
<div class="ttc" id="aclassllvm_1_1GCNSubtarget_html_a0330bc04e02e5f966bb34b94faee3ea7"><div class="ttname"><a href="classllvm_1_1GCNSubtarget.html#a0330bc04e02e5f966bb34b94faee3ea7">llvm::GCNSubtarget::hasSDWAOmod</a></div><div class="ttdeci">bool hasSDWAOmod() const</div><div class="ttdef"><b>Definition:</b> <a href="GCNSubtarget_8h_source.html#l00682">GCNSubtarget.h:682</a></div></div>
<div class="ttc" id="aclassllvm_1_1GCNHazardRecognizer_html"><div class="ttname"><a href="classllvm_1_1GCNHazardRecognizer.html">llvm::GCNHazardRecognizer</a></div><div class="ttdef"><b>Definition:</b> <a href="GCNHazardRecognizer_8h_source.html#l00032">GCNHazardRecognizer.h:32</a></div></div>
<div class="ttc" id="aMCContext_8h_html"><div class="ttname"><a href="MCContext_8h.html">MCContext.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_a001d31fcea92be51d2999826b806606f"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a001d31fcea92be51d2999826b806606f">llvm::MachineOperand::setSubReg</a></div><div class="ttdeci">void setSubReg(unsigned subReg)</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00490">MachineOperand.h:490</a></div></div>
<div class="ttc" id="aSIInstrInfo_8cpp_html_ae6e6e83717666f42581170b4599cd238"><div class="ttname"><a href="SIInstrInfo_8cpp.html#ae6e6e83717666f42581170b4599cd238">getNumOperandsNoGlue</a></div><div class="ttdeci">static unsigned getNumOperandsNoGlue(SDNode *Node)</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l00074">SIInstrInfo.cpp:74</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_a7d0fced78b683ae1e38051a1313615d2"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#a7d0fced78b683ae1e38051a1313615d2">llvm::SIInstrInfo::isSOPK</a></div><div class="ttdeci">static bool isSOPK(const MachineInstr &amp;MI)</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8h_source.html#l00402">SIInstrInfo.h:402</a></div></div>
<div class="ttc" id="aSIInstrInfo_8cpp_html_a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791"><div class="ttname"><a href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a></div><div class="ttdeci">@ SI</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l07993">SIInstrInfo.cpp:7993</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIRegisterInfo_html_a51be90716cd9b3020e0ca8a4bce547c0"><div class="ttname"><a href="classllvm_1_1SIRegisterInfo.html#a51be90716cd9b3020e0ca8a4bce547c0">llvm::SIRegisterInfo::getLargestLegalSuperClass</a></div><div class="ttdeci">const TargetRegisterClass * getLargestLegalSuperClass(const TargetRegisterClass *RC, const MachineFunction &amp;MF) const override</div><div class="ttdef"><b>Definition:</b> <a href="SIRegisterInfo_8cpp_source.html#l00436">SIRegisterInfo.cpp:436</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetRegisterClass_html"><div class="ttname"><a href="classllvm_1_1TargetRegisterClass.html">llvm::TargetRegisterClass</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8h_source.html#l00045">TargetRegisterInfo.h:45</a></div></div>
<div class="ttc" id="anamespacellvm_1_1SIInstrFlags_html_ac8376ab01e1f2eb75e242eb464d3992da9a72e6ffd62dc38f5f4b7fd3e1f778da"><div class="ttname"><a href="namespacellvm_1_1SIInstrFlags.html#ac8376ab01e1f2eb75e242eb464d3992da9a72e6ffd62dc38f5f4b7fd3e1f778da">llvm::SIInstrFlags::FlatScratch</a></div><div class="ttdeci">@ FlatScratch</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00123">SIDefines.h:123</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_af7ee4c22ed353efa8afd9ea35e4af06f"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#af7ee4c22ed353efa8afd9ea35e4af06f">llvm::SIInstrInfo::isOperandLegal</a></div><div class="ttdeci">bool isOperandLegal(const MachineInstr &amp;MI, unsigned OpIdx, const MachineOperand *MO=nullptr) const</div><div class="ttdoc">Check if MO is a legal operand if it was the OpIdx Operand for MI.</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l05093">SIInstrInfo.cpp:5093</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1DPP_html_aa27612400d9f4f18653d361495d67b08aa109aa58f369471dd6f77dd44809a21f"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1DPP.html#aa27612400d9f4f18653d361495d67b08aa109aa58f369471dd6f77dd44809a21f">llvm::AMDGPU::DPP::DPP_UNUSED4_FIRST</a></div><div class="ttdeci">@ DPP_UNUSED4_FIRST</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00828">SIDefines.h:828</a></div></div>
<div class="ttc" id="aclassllvm_1_1GCNSubtarget_html_a426587719be9d9751e8c667734f0cc7a"><div class="ttname"><a href="classllvm_1_1GCNSubtarget.html#a426587719be9d9751e8c667734f0cc7a">llvm::GCNSubtarget::hasR128A16</a></div><div class="ttdeci">bool hasR128A16() const</div><div class="ttdef"><b>Definition:</b> <a href="GCNSubtarget_8h_source.html#l00914">GCNSubtarget.h:914</a></div></div>
<div class="ttc" id="aRISCVRedundantCopyElimination_8cpp_html_a1441f79530bc7f3a89118bb8067eac69"><div class="ttname"><a href="RISCVRedundantCopyElimination_8cpp.html#a1441f79530bc7f3a89118bb8067eac69">TBB</a></div><div class="ttdeci">const SmallVectorImpl&lt; MachineOperand &gt; MachineBasicBlock * TBB</div><div class="ttdef"><b>Definition:</b> <a href="RISCVRedundantCopyElimination_8cpp_source.html#l00076">RISCVRedundantCopyElimination.cpp:76</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetInstrInfo_html_aeeb52dce7ed6b6e3abc562031782d77d"><div class="ttname"><a href="classllvm_1_1TargetInstrInfo.html#aeeb52dce7ed6b6e3abc562031782d77d">llvm::TargetInstrInfo::expandPostRAPseudo</a></div><div class="ttdeci">virtual bool expandPostRAPseudo(MachineInstr &amp;MI) const</div><div class="ttdoc">This function is called for all pseudo instructions that remain after register allocation.</div><div class="ttdef"><b>Definition:</b> <a href="TargetInstrInfo_8h_source.html#l01103">TargetInstrInfo.h:1103</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineDominatorTree_html_ab9bfe560a7f52ac6baaffc536a848a3c"><div class="ttname"><a href="classllvm_1_1MachineDominatorTree.html#ab9bfe560a7f52ac6baaffc536a848a3c">llvm::MachineDominatorTree::changeImmediateDominator</a></div><div class="ttdeci">void changeImmediateDominator(MachineBasicBlock *N, MachineBasicBlock *NewIDom)</div><div class="ttdoc">changeImmediateDominator - This method is used to update the dominator tree information when a node's...</div><div class="ttdef"><b>Definition:</b> <a href="MachineDominators_8h_source.html#l00191">MachineDominators.h:191</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_a2be4041e5133aa22135fa2890cc7aeae"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a2be4041e5133aa22135fa2890cc7aeae">llvm::MachineInstr::addImplicitDefUseOperands</a></div><div class="ttdeci">void addImplicitDefUseOperands(MachineFunction &amp;MF)</div><div class="ttdoc">Add all implicit def and use operands to this instruction.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8cpp_source.html#l00086">MachineInstr.cpp:86</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIRegisterInfo_html_a77b95c7a5620b2e92ef8ca3aa8be15bd"><div class="ttname"><a href="classllvm_1_1SIRegisterInfo.html#a77b95c7a5620b2e92ef8ca3aa8be15bd">llvm::SIRegisterInfo::getRegClassForReg</a></div><div class="ttdeci">const TargetRegisterClass * getRegClassForReg(const MachineRegisterInfo &amp;MRI, Register Reg) const</div><div class="ttdef"><b>Definition:</b> <a href="SIRegisterInfo_8cpp_source.html#l02900">SIRegisterInfo.cpp:2900</a></div></div>
<div class="ttc" id="aSIInstrInfo_8cpp_html_a15bbc2e996b691d46e24ff65c21b046a"><div class="ttname"><a href="SIInstrInfo_8cpp.html#a15bbc2e996b691d46e24ff65c21b046a">indirectCopyToAGPR</a></div><div class="ttdeci">static void indirectCopyToAGPR(const SIInstrInfo &amp;TII, MachineBasicBlock &amp;MBB, MachineBasicBlock::iterator MI, const DebugLoc &amp;DL, MCRegister DestReg, MCRegister SrcReg, bool KillSrc, RegScavenger &amp;RS, bool RegsOverlap, Register ImpDefSuperReg=Register(), Register ImpUseSuperReg=Register())</div><div class="ttdoc">Handle copying from SGPR to AGPR, or from AGPR to AGPR on GFX908.</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l00553">SIInstrInfo.cpp:553</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIRegisterInfo_html_acc61376f4183268183912910024e1f2c"><div class="ttname"><a href="classllvm_1_1SIRegisterInfo.html#acc61376f4183268183912910024e1f2c">llvm::SIRegisterInfo::isAGPR</a></div><div class="ttdeci">bool isAGPR(const MachineRegisterInfo &amp;MRI, Register Reg) const</div><div class="ttdef"><b>Definition:</b> <a href="SIRegisterInfo_8cpp_source.html#l02919">SIRegisterInfo.cpp:2919</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIRegisterInfo_html_a954d76fe761bb4014b2da81cac2360cf"><div class="ttname"><a href="classllvm_1_1SIRegisterInfo.html#a954d76fe761bb4014b2da81cac2360cf">llvm::SIRegisterInfo::getHWRegIndex</a></div><div class="ttdeci">unsigned getHWRegIndex(MCRegister Reg) const</div><div class="ttdef"><b>Definition:</b> <a href="SIRegisterInfo_8h_source.html#l00168">SIRegisterInfo.h:168</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_html_a17fda9e2f2cb60c24bfdec02d7793b86"><div class="ttname"><a href="namespacellvm_1_1AMDGPU.html#a17fda9e2f2cb60c24bfdec02d7793b86">llvm::AMDGPU::getVOPe32</a></div><div class="ttdeci">LLVM_READONLY int getVOPe32(uint16_t Opcode)</div></div>
<div class="ttc" id="aLiveVariables_8h_html"><div class="ttname"><a href="LiveVariables_8h.html">LiveVariables.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIRegisterInfo_html_ad7eff7d73e979a05739b21cc353f748c"><div class="ttname"><a href="classllvm_1_1SIRegisterInfo.html#ad7eff7d73e979a05739b21cc353f748c">llvm::SIRegisterInfo::getChannelFromSubReg</a></div><div class="ttdeci">unsigned getChannelFromSubReg(unsigned SubReg) const</div><div class="ttdef"><b>Definition:</b> <a href="SIRegisterInfo_8h_source.html#l00369">SIRegisterInfo.h:369</a></div></div>
<div class="ttc" id="aclassllvm_1_1GCNSubtarget_html_aa1c8834f883c6607231b902a1f37ddbc"><div class="ttname"><a href="classllvm_1_1GCNSubtarget.html#aa1c8834f883c6607231b902a1f37ddbc">llvm::GCNSubtarget::getMaxPrivateElementSize</a></div><div class="ttdeci">unsigned getMaxPrivateElementSize(bool ForBufferRSrc=false) const</div><div class="ttdef"><b>Definition:</b> <a href="GCNSubtarget_8h_source.html#l00296">GCNSubtarget.h:296</a></div></div>
<div class="ttc" id="aclassllvm_1_1GCNSubtarget_html_a80ef035f066bb00307e5cccb694e20e2"><div class="ttname"><a href="classllvm_1_1GCNSubtarget.html#a80ef035f066bb00307e5cccb694e20e2">llvm::GCNSubtarget::hasGFX940Insts</a></div><div class="ttdeci">bool hasGFX940Insts() const</div><div class="ttdef"><b>Definition:</b> <a href="GCNSubtarget_8h_source.html#l01109">GCNSubtarget.h:1109</a></div></div>
<div class="ttc" id="aclassllvm_1_1GCNSubtarget_html_acfa61def62c3f39edaec6b28782f1992"><div class="ttname"><a href="classllvm_1_1GCNSubtarget.html#acfa61def62c3f39edaec6b28782f1992">llvm::GCNSubtarget::hasVOP3Literal</a></div><div class="ttdeci">bool hasVOP3Literal() const</div><div class="ttdef"><b>Definition:</b> <a href="GCNSubtarget_8h_source.html#l00792">GCNSubtarget.h:792</a></div></div>
<div class="ttc" id="aHexagonCopyToCombine_8cpp_html_a1d40004718218dbdf06b496766299101"><div class="ttname"><a href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a></div><div class="ttdeci">const HexagonInstrInfo * TII</div><div class="ttdef"><b>Definition:</b> <a href="HexagonCopyToCombine_8cpp_source.html#l00125">HexagonCopyToCombine.cpp:125</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_a7b39ecfd6793534206dbb095b0d464c7"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a7b39ecfd6793534206dbb095b0d464c7">llvm::MachineOperand::ChangeToImmediate</a></div><div class="ttdeci">void ChangeToImmediate(int64_t ImmVal, unsigned TargetFlags=0)</div><div class="ttdoc">ChangeToImmediate - Replace this operand with a new immediate operand of the specified value.</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8cpp_source.html#l00162">MachineOperand.cpp:162</a></div></div>
<div class="ttc" id="anamespacellvm_html_a646986783f35e0fef8988f0f28d2589f"><div class="ttname"><a href="namespacellvm.html#a646986783f35e0fef8988f0f28d2589f">llvm::Log2_32</a></div><div class="ttdeci">unsigned Log2_32(uint32_t Value)</div><div class="ttdoc">Return the floor log base 2 of the specified value, -1 if the value is zero.</div><div class="ttdef"><b>Definition:</b> <a href="MathExtras_8h_source.html#l00382">MathExtras.h:382</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveVariables_html_a007ef08997c0b0391aaebc27e257062c"><div class="ttname"><a href="classllvm_1_1LiveVariables.html#a007ef08997c0b0391aaebc27e257062c">llvm::LiveVariables::replaceKillInstruction</a></div><div class="ttdeci">void replaceKillInstruction(Register Reg, MachineInstr &amp;OldMI, MachineInstr &amp;NewMI)</div><div class="ttdoc">replaceKillInstruction - Update register kill info by replacing a kill instruction with a new one.</div><div class="ttdef"><b>Definition:</b> <a href="LiveVariables_8cpp_source.html#l00752">LiveVariables.cpp:752</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCInstrDesc_html"><div class="ttname"><a href="classllvm_1_1MCInstrDesc.html">llvm::MCInstrDesc</a></div><div class="ttdoc">Describe properties that are true of each instruction in the target description file.</div><div class="ttdef"><b>Definition:</b> <a href="MCInstrDesc_8h_source.html#l00198">MCInstrDesc.h:198</a></div></div>
<div class="ttc" id="alib_2Target_2README_8txt_html_ab24db72f7bd10b13351812874015861b"><div class="ttname"><a href="lib_2Target_2README_8txt.html#ab24db72f7bd10b13351812874015861b">First</a></div><div class="ttdeci">into llvm powi allowing the code generator to produce balanced multiplication trees First</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2README_8txt_source.html#l00054">README.txt:54</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html"><div class="ttname"><a href="classllvm_1_1MachineOperand.html">llvm::MachineOperand</a></div><div class="ttdoc">MachineOperand class - Representation of each machine instruction operand.</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00048">MachineOperand.h:48</a></div></div>
<div class="ttc" id="aSIInstrInfo_8cpp_html_a0dfd55eaf0bcb495f09ecf8c55b256b2a34ed94c87973e7ffc8c092d4c3bf8bba"><div class="ttname"><a href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a34ed94c87973e7ffc8c092d4c3bf8bba">SDWA9</a></div><div class="ttdeci">@ SDWA9</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l07996">SIInstrInfo.cpp:7996</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCInstrDesc_html_a8c8b632d74a4d458f9a1a95efa691dbd"><div class="ttname"><a href="classllvm_1_1MCInstrDesc.html#a8c8b632d74a4d458f9a1a95efa691dbd">llvm::MCInstrDesc::isCommutable</a></div><div class="ttdeci">bool isCommutable() const</div><div class="ttdoc">Return true if this may be a 2- or 3-address instruction (of the form &quot;X = op Y, Z,...</div><div class="ttdef"><b>Definition:</b> <a href="MCInstrDesc_8h_source.html#l00480">MCInstrDesc.h:480</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_abb7d43f6cef90b6a7954a38c64fd31d6"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#abb7d43f6cef90b6a7954a38c64fd31d6">llvm::SIInstrInfo::getSerializableTargetIndices</a></div><div class="ttdeci">ArrayRef&lt; std::pair&lt; int, const char * &gt; &gt; getSerializableTargetIndices() const override</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l07745">SIInstrInfo.cpp:7745</a></div></div>
<div class="ttc" id="anamespaceAMDGPU_html"><div class="ttname"><a href="namespaceAMDGPU.html">AMDGPU</a></div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUReplaceLDSUseWithPointer_8cpp_source.html#l00114">AMDGPUReplaceLDSUseWithPointer.cpp:114</a></div></div>
<div class="ttc" id="anamespacellvm_html_ab8aff98d3587ddb15f9e46ed88687f0f"><div class="ttname"><a href="namespacellvm.html#ab8aff98d3587ddb15f9e46ed88687f0f">llvm::M0</a></div><div class="ttdeci">unsigned M0(unsigned Val)</div><div class="ttdef"><b>Definition:</b> <a href="VE_8h_source.html#l00467">VE.h:467</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIRegisterInfo_html_aa7dbd22ec4e0cc058f8290a8b98cacc6"><div class="ttname"><a href="classllvm_1_1SIRegisterInfo.html#aa7dbd22ec4e0cc058f8290a8b98cacc6">llvm::SIRegisterInfo::getRegPressureLimit</a></div><div class="ttdeci">unsigned getRegPressureLimit(const TargetRegisterClass *RC, MachineFunction &amp;MF) const override</div><div class="ttdef"><b>Definition:</b> <a href="SIRegisterInfo_8cpp_source.html#l02948">SIRegisterInfo.cpp:2948</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_html_ab7679ce5eab5937b9da9e7702aff8cc5a96e7ee25f7665368353ac98b104770a1"><div class="ttname"><a href="namespacellvm_1_1AMDGPU.html#ab7679ce5eab5937b9da9e7702aff8cc5a96e7ee25f7665368353ac98b104770a1">llvm::AMDGPU::OPERAND_REG_IMM_FP64</a></div><div class="ttdeci">@ OPERAND_REG_IMM_FP64</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00164">SIDefines.h:164</a></div></div>
<div class="ttc" id="aclassllvm_1_1GCNSubtarget_html_a9f44cd05eefbb20a234a7e3b6369a7f8"><div class="ttname"><a href="classllvm_1_1GCNSubtarget.html#a9f44cd05eefbb20a234a7e3b6369a7f8">llvm::GCNSubtarget::isWave32</a></div><div class="ttdeci">bool isWave32() const</div><div class="ttdef"><b>Definition:</b> <a href="GCNSubtarget_8h_source.html#l01285">GCNSubtarget.h:1285</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIMachineFunctionInfo_html_a2afcc4a332bb78d31847fd4a394a5aeb"><div class="ttname"><a href="classllvm_1_1SIMachineFunctionInfo.html#a2afcc4a332bb78d31847fd4a394a5aeb">llvm::SIMachineFunctionInfo::getStackPtrOffsetReg</a></div><div class="ttdeci">Register getStackPtrOffsetReg() const</div><div class="ttdef"><b>Definition:</b> <a href="SIMachineFunctionInfo_8h_source.html#l00890">SIMachineFunctionInfo.h:890</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_a2a25c462b91ac5da41f4ab7edc32b650"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#a2a25c462b91ac5da41f4ab7edc32b650">llvm::MachineBasicBlock::rend</a></div><div class="ttdeci">reverse_iterator rend()</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00319">MachineBasicBlock.h:319</a></div></div>
<div class="ttc" id="anamespaceOpName_html"><div class="ttname"><a href="namespaceOpName.html">OpName</a></div><div class="ttdef"><b>Definition:</b> <a href="R600Defines_8h_source.html#l00062">R600Defines.h:62</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_af346776aba97ebc30be21629ac0eadb9"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#af346776aba97ebc30be21629ac0eadb9">llvm::SIInstrInfo::decomposeMachineOperandsTargetFlags</a></div><div class="ttdeci">std::pair&lt; unsigned, unsigned &gt; decomposeMachineOperandsTargetFlags(unsigned TF) const override</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l07785">SIInstrInfo.cpp:7785</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_ab9c89059d817934a6c4432b698ba8171"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#ab9c89059d817934a6c4432b698ba8171">llvm::SIInstrInfo::getInstrLatency</a></div><div class="ttdeci">unsigned getInstrLatency(const InstrItineraryData *ItinData, const MachineInstr &amp;MI, unsigned *PredCost=nullptr) const override</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l08349">SIInstrInfo.cpp:8349</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_a09787033a63326e79a0d1445d3e0de13"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#a09787033a63326e79a0d1445d3e0de13">llvm::SIInstrInfo::legalizeOperands</a></div><div class="ttdeci">MachineBasicBlock * legalizeOperands(MachineInstr &amp;MI, MachineDominatorTree *MDT=nullptr) const</div><div class="ttdoc">Legalize all operands in this instruction.</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l05829">SIInstrInfo.cpp:5829</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetRegisterClass_html_abee1c3236731101b249f6eeffd8cd7ba"><div class="ttname"><a href="classllvm_1_1TargetRegisterClass.html#abee1c3236731101b249f6eeffd8cd7ba">llvm::TargetRegisterClass::hasSuperClassEq</a></div><div class="ttdeci">bool hasSuperClassEq(const TargetRegisterClass *RC) const</div><div class="ttdoc">Returns true if RC is a super-class of or equal to this class.</div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8h_source.html#l00141">TargetRegisterInfo.h:141</a></div></div>
<div class="ttc" id="anamespacellvm_html_a7f2a3d4dcfee70225988aec53ff1e173"><div class="ttname"><a href="namespacellvm.html#a7f2a3d4dcfee70225988aec53ff1e173">llvm::report_fatal_error</a></div><div class="ttdeci">void report_fatal_error(Error Err, bool gen_crash_diag=true)</div><div class="ttdoc">Report a serious error, calling any installed error handler.</div><div class="ttdef"><b>Definition:</b> <a href="Testing_2Support_2Error_8cpp_source.html#l00145">Error.cpp:145</a></div></div>
<div class="ttc" id="aclassllvm_1_1RegScavenger_html_a14812153b6cf8c1cb26c3de8b96ba91c"><div class="ttname"><a href="classllvm_1_1RegScavenger.html#a14812153b6cf8c1cb26c3de8b96ba91c">llvm::RegScavenger::enterBasicBlockEnd</a></div><div class="ttdeci">void enterBasicBlockEnd(MachineBasicBlock &amp;MBB)</div><div class="ttdoc">Start tracking liveness from the end of basic block MBB.</div><div class="ttdef"><b>Definition:</b> <a href="RegisterScavenging_8cpp_source.html#l00087">RegisterScavenging.cpp:87</a></div></div>
<div class="ttc" id="aSIInstrInfo_8cpp_html_a0dfd55eaf0bcb495f09ecf8c55b256b2a6d57393b665c91c7e1cfbb339758f2ca"><div class="ttname"><a href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6d57393b665c91c7e1cfbb339758f2ca">GFX940</a></div><div class="ttdeci">@ GFX940</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l08002">SIInstrInfo.cpp:8002</a></div></div>
<div class="ttc" id="anamespacellvm_html_a7ca6bbc21c19a9a6b005aff44ca8562f"><div class="ttname"><a href="namespacellvm.html#a7ca6bbc21c19a9a6b005aff44ca8562f">llvm::getVRegSubRegDef</a></div><div class="ttdeci">MachineInstr * getVRegSubRegDef(const TargetInstrInfo::RegSubRegPair &amp;P, MachineRegisterInfo &amp;MRI)</div><div class="ttdoc">Return the defining instruction for a given reg:subreg pair skipping copy like instructions and subre...</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l08151">SIInstrInfo.cpp:8151</a></div></div>
<div class="ttc" id="aSIInstrInfo_8cpp_html_a0dfd55eaf0bcb495f09ecf8c55b256b2a4493d9f4cb31140c0c5493b260f144f3"><div class="ttname"><a href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a4493d9f4cb31140c0c5493b260f144f3">GFX80</a></div><div class="ttdeci">@ GFX80</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l07997">SIInstrInfo.cpp:7997</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_ac786791624fc85886f2db5c5e0601f1b"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#ac786791624fc85886f2db5c5e0601f1b">llvm::SIInstrInfo::moveFlatAddrToVGPR</a></div><div class="ttdeci">bool moveFlatAddrToVGPR(MachineInstr &amp;Inst) const</div><div class="ttdoc">Change SADDR form of a FLAT Inst to its VADDR form if saddr operand was moved to VGPR.</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l05446">SIInstrInfo.cpp:5446</a></div></div>
<div class="ttc" id="aclassllvm_1_1RegisterBank_html_abea60948498472cef86d66586ded919e"><div class="ttname"><a href="classllvm_1_1RegisterBank.html#abea60948498472cef86d66586ded919e">llvm::RegisterBank::getID</a></div><div class="ttdeci">unsigned getID() const</div><div class="ttdoc">Get the identifier of this register bank.</div><div class="ttdef"><b>Definition:</b> <a href="RegisterBank_8h_source.html#l00047">RegisterBank.h:47</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_html_ab7679ce5eab5937b9da9e7702aff8cc5ae0f1ac0de50b2280311f02d7e1f5b25e"><div class="ttname"><a href="namespacellvm_1_1AMDGPU.html#ab7679ce5eab5937b9da9e7702aff8cc5ae0f1ac0de50b2280311f02d7e1f5b25e">llvm::AMDGPU::OPERAND_REG_IMM_V2FP32</a></div><div class="ttdeci">@ OPERAND_REG_IMM_V2FP32</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00171">SIDefines.h:171</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_a23e6a2bae144c329c1291fce64db62af"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#a23e6a2bae144c329c1291fce64db62af">llvm::SIInstrInfo::FoldImmediate</a></div><div class="ttdeci">bool FoldImmediate(MachineInstr &amp;UseMI, MachineInstr &amp;DefMI, Register Reg, MachineRegisterInfo *MRI) const final</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l03030">SIInstrInfo.cpp:3030</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCInstrDesc_html_adcb5f001406dc2b45024dd582c444e6d"><div class="ttname"><a href="classllvm_1_1MCInstrDesc.html#adcb5f001406dc2b45024dd582c444e6d">llvm::MCInstrDesc::Opcode</a></div><div class="ttdeci">unsigned short Opcode</div><div class="ttdef"><b>Definition:</b> <a href="MCInstrDesc_8h_source.html#l00205">MCInstrDesc.h:205</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIRegisterInfo_html_a1be43761db2568933db89648201ab15c"><div class="ttname"><a href="classllvm_1_1SIRegisterInfo.html#a1be43761db2568933db89648201ab15c">llvm::SIRegisterInfo::getSubRegFromChannel</a></div><div class="ttdeci">static unsigned getSubRegFromChannel(unsigned Channel, unsigned NumRegs=1)</div><div class="ttdef"><b>Definition:</b> <a href="SIRegisterInfo_8cpp_source.html#l00529">SIRegisterInfo.cpp:529</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_a9ca2446049aa20c79381f60ef473763b"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#a9ca2446049aa20c79381f60ef473763b">llvm::SIInstrInfo::sopkIsZext</a></div><div class="ttdeci">static bool sopkIsZext(const MachineInstr &amp;MI)</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8h_source.html#l00722">SIInstrInfo.h:722</a></div></div>
<div class="ttc" id="anamespacellvm_html_a3b1c5788b85ffa254be0e834edf5cf8f"><div class="ttname"><a href="namespacellvm.html#a3b1c5788b85ffa254be0e834edf5cf8f">llvm::getUnderlyingObject</a></div><div class="ttdeci">const Value * getUnderlyingObject(const Value *V, unsigned MaxLookup=6)</div><div class="ttdoc">This method strips off any GEP address adjustments and pointer casts from the specified value,...</div><div class="ttdef"><b>Definition:</b> <a href="ValueTracking_8cpp_source.html#l04567">ValueTracking.cpp:4567</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_a61297a04e9cd91c9658b9affecdd9797"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#a61297a04e9cd91c9658b9affecdd9797">llvm::SIInstrInfo::getNamedOperand</a></div><div class="ttdeci">LLVM_READONLY MachineOperand * getNamedOperand(MachineInstr &amp;MI, unsigned OperandName) const</div><div class="ttdoc">Returns the operand named Op.</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l07466">SIInstrInfo.cpp:7466</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIRegisterInfo_html_af58d646af8dd60e4e514303dfa81de9c"><div class="ttname"><a href="classllvm_1_1SIRegisterInfo.html#af58d646af8dd60e4e514303dfa81de9c">llvm::SIRegisterInfo::isSGPRClass</a></div><div class="ttdeci">static bool isSGPRClass(const TargetRegisterClass *RC)</div><div class="ttdef"><b>Definition:</b> <a href="SIRegisterInfo_8h_source.html#l00186">SIRegisterInfo.h:186</a></div></div>
<div class="ttc" id="aSIInstrInfo_8cpp_html_abcb710fb84bc86d961b6afbaa4f65d25"><div class="ttname"><a href="SIInstrInfo_8cpp.html#abcb710fb84bc86d961b6afbaa4f65d25">shouldReadExec</a></div><div class="ttdeci">static bool shouldReadExec(const MachineInstr &amp;MI)</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l04072">SIInstrInfo.cpp:4072</a></div></div>
<div class="ttc" id="aCSEInfo_8cpp_html_a75f8a8519c2c9b30e7c06dc5e256fffa"><div class="ttname"><a href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a></div><div class="ttdeci">Analysis containing CSE Info</div><div class="ttdef"><b>Definition:</b> <a href="CSEInfo_8cpp_source.html#l00027">CSEInfo.cpp:27</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_a479dd1c44dc19d46f04837f4da7ce325"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#a479dd1c44dc19d46f04837f4da7ce325">llvm::SIInstrInfo::hasModifiers</a></div><div class="ttdeci">bool hasModifiers(unsigned Opcode) const</div><div class="ttdoc">Return true if this instruction has any modifiers.</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l03888">SIInstrInfo.cpp:3888</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIRegisterInfo_html"><div class="ttname"><a href="classllvm_1_1SIRegisterInfo.html">llvm::SIRegisterInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="SIRegisterInfo_8h_source.html#l00030">SIRegisterInfo.h:30</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIRegisterInfo_html_a8cb8776ee5f539fe6391a6d521af25f1"><div class="ttname"><a href="classllvm_1_1SIRegisterInfo.html#a8cb8776ee5f539fe6391a6d521af25f1">llvm::SIRegisterInfo::hasVGPRs</a></div><div class="ttdeci">static bool hasVGPRs(const TargetRegisterClass *RC)</div><div class="ttdef"><b>Definition:</b> <a href="SIRegisterInfo_8h_source.html#l00218">SIRegisterInfo.h:218</a></div></div>
<div class="ttc" id="anamespacellvm_1_1SIInstrFlags_html_ac8376ab01e1f2eb75e242eb464d3992da3cb08b10c27a453c57a2708e83859b47"><div class="ttname"><a href="namespacellvm_1_1SIInstrFlags.html#ac8376ab01e1f2eb75e242eb464d3992da3cb08b10c27a453c57a2708e83859b47">llvm::SIInstrFlags::SDWA</a></div><div class="ttdeci">@ SDWA</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00049">SIDefines.h:49</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIRegisterInfo_html_adbdf0119b398fd6464742936fe420056"><div class="ttname"><a href="classllvm_1_1SIRegisterInfo.html#adbdf0119b398fd6464742936fe420056">llvm::SIRegisterInfo::getVCC</a></div><div class="ttdeci">MCRegister getVCC() const</div><div class="ttdef"><b>Definition:</b> <a href="SIRegisterInfo_8cpp_source.html#l03027">SIRegisterInfo.cpp:3027</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_ad407b071bad6c9a435cade250ec8c8b6"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#ad407b071bad6c9a435cade250ec8c8b6">llvm::MachineOperand::setTargetFlags</a></div><div class="ttdeci">void setTargetFlags(unsigned F)</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00229">MachineOperand.h:229</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIRegisterInfo_html_aed9393956ff6935e29af9881de204f1f"><div class="ttname"><a href="classllvm_1_1SIRegisterInfo.html#aed9393956ff6935e29af9881de204f1f">llvm::SIRegisterInfo::getVGPR64Class</a></div><div class="ttdeci">const TargetRegisterClass * getVGPR64Class() const</div><div class="ttdef"><b>Definition:</b> <a href="SIRegisterInfo_8cpp_source.html#l03035">SIRegisterInfo.cpp:3035</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_a39d7080130a2d44447525617ead75825"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#a39d7080130a2d44447525617ead75825">llvm::SIInstrInfo::isGather4</a></div><div class="ttdeci">static bool isGather4(const MachineInstr &amp;MI)</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8h_source.html#l00510">SIInstrInfo.h:510</a></div></div>
<div class="ttc" id="aclassllvm_1_1AMDGPUSubtarget_html_a7e3a5c7c65932e9e3632516e3683de89"><div class="ttname"><a href="classllvm_1_1AMDGPUSubtarget.html#a7e3a5c7c65932e9e3632516e3683de89">llvm::AMDGPUSubtarget::has16BitInsts</a></div><div class="ttdeci">bool has16BitInsts() const</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUSubtarget_8h_source.html#l00148">AMDGPUSubtarget.h:148</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCOperandInfo_html_ad3abf78805559fecd7642d0c57032c56"><div class="ttname"><a href="classllvm_1_1MCOperandInfo.html#ad3abf78805559fecd7642d0c57032c56">llvm::MCOperandInfo::RegClass</a></div><div class="ttdeci">int16_t RegClass</div><div class="ttdoc">This specifies the register class enumeration of the operand if the operand is a register.</div><div class="ttdef"><b>Definition:</b> <a href="MCInstrDesc_8h_source.html#l00091">MCInstrDesc.h:91</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_html_ab7679ce5eab5937b9da9e7702aff8cc5a240a6f2882eded67e4b70c6bb2f18411"><div class="ttname"><a href="namespacellvm_1_1AMDGPU.html#ab7679ce5eab5937b9da9e7702aff8cc5a240a6f2882eded67e4b70c6bb2f18411">llvm::AMDGPU::OPERAND_REG_INLINE_C_V2INT32</a></div><div class="ttdeci">@ OPERAND_REG_INLINE_C_V2INT32</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00182">SIDefines.h:182</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_a31612a0bf935add36f82065133267d4a"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#a31612a0bf935add36f82065133267d4a">llvm::SIInstrInfo::legalizeGenericOperand</a></div><div class="ttdeci">void legalizeGenericOperand(MachineBasicBlock &amp;InsertMBB, MachineBasicBlock::iterator I, const TargetRegisterClass *DstRC, MachineOperand &amp;Op, MachineRegisterInfo &amp;MRI, const DebugLoc &amp;DL) const</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l05545">SIInstrInfo.cpp:5545</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineRegisterInfo_html_a5ecfe2828dd348fc0b23c8d1d73c4b75"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#a5ecfe2828dd348fc0b23c8d1d73c4b75">llvm::MachineRegisterInfo::reservedRegsFrozen</a></div><div class="ttdeci">bool reservedRegsFrozen() const</div><div class="ttdoc">reservedRegsFrozen - Returns true after freezeReservedRegs() was called to ensure the set of reserved...</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8h_source.html#l00931">MachineRegisterInfo.h:931</a></div></div>
<div class="ttc" id="aSIInstrInfo_8cpp_html_a3470310cdf2c94f6291244435073ad78"><div class="ttname"><a href="SIInstrInfo_8cpp.html#a3470310cdf2c94f6291244435073ad78">subtargetEncodingFamily</a></div><div class="ttdeci">static SIEncodingFamily subtargetEncodingFamily(const GCNSubtarget &amp;ST)</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l08006">SIInstrInfo.cpp:8006</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineRegisterInfo_html_a40d954b9cf9ee8b545a78725f2549cba"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#a40d954b9cf9ee8b545a78725f2549cba">llvm::MachineRegisterInfo::getVRegDef</a></div><div class="ttdeci">MachineInstr * getVRegDef(Register Reg) const</div><div class="ttdoc">getVRegDef - Return the machine instr that defines the specified virtual register or null if none is ...</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8cpp_source.html#l00398">MachineRegisterInfo.cpp:398</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_acad8fe90886f92eabced0c2f9bd0e6f5"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#acad8fe90886f92eabced0c2f9bd0e6f5">llvm::MachineOperand::getParent</a></div><div class="ttdeci">MachineInstr * getParent()</div><div class="ttdoc">getParent - Return the instruction that this operand belongs to.</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00243">MachineOperand.h:243</a></div></div>
<div class="ttc" id="anamespacellvm_html_aad80b46c754cc7216244a866ec9b1cb0"><div class="ttname"><a href="namespacellvm.html#aad80b46c754cc7216244a866ec9b1cb0">llvm::isIntN</a></div><div class="ttdeci">bool isIntN(unsigned N, int64_t x)</div><div class="ttdoc">Checks if an signed integer fits into the given (dynamic) bit width.</div><div class="ttdef"><b>Definition:</b> <a href="MathExtras_8h_source.html#l00261">MathExtras.h:261</a></div></div>
<div class="ttc" id="aclassllvm_1_1SetVector_html_aaf9ee38b9973681c1720aaf03af3a069"><div class="ttname"><a href="classllvm_1_1SetVector.html#aaf9ee38b9973681c1720aaf03af3a069">llvm::SetVector::empty</a></div><div class="ttdeci">bool empty() const</div><div class="ttdoc">Determine if the SetVector is empty or not.</div><div class="ttdef"><b>Definition:</b> <a href="SetVector_8h_source.html#l00072">SetVector.h:72</a></div></div>
<div class="ttc" id="anamespacellvm_1_1CallingConv_html_a5b166ae228ebbfdb96736d6022f3feeda16c3e679fa61136bfeb3c5c9b7542d9f"><div class="ttname"><a href="namespacellvm_1_1CallingConv.html#a5b166ae228ebbfdb96736d6022f3feeda16c3e679fa61136bfeb3c5c9b7542d9f">llvm::CallingConv::AMDGPU_CS</a></div><div class="ttdeci">@ AMDGPU_CS</div><div class="ttdoc">Used for Mesa/AMDPAL compute shaders.</div><div class="ttdef"><b>Definition:</b> <a href="CallingConv_8h_source.html#l00194">CallingConv.h:194</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstrBuilder_html_a1c5fadb14ff1d77faad0cb58a43252ab"><div class="ttname"><a href="classllvm_1_1MachineInstrBuilder.html#a1c5fadb14ff1d77faad0cb58a43252ab">llvm::MachineInstrBuilder::getReg</a></div><div class="ttdeci">Register getReg(unsigned Idx) const</div><div class="ttdoc">Get the register for the operand index.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00094">MachineInstrBuilder.h:94</a></div></div>
<div class="ttc" id="anamespacellvm_1_1SIInstrFlags_html_ac8376ab01e1f2eb75e242eb464d3992dab0e8527c8c81d2caa91d9b2bd1852574"><div class="ttname"><a href="namespacellvm_1_1SIInstrFlags.html#ac8376ab01e1f2eb75e242eb464d3992dab0e8527c8c81d2caa91d9b2bd1852574">llvm::SIInstrFlags::FLAT</a></div><div class="ttdeci">@ FLAT</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00059">SIDefines.h:59</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_ade90146180a53b9d9edc077b933e70bba4d206cbdcdd039cb05719c60fc873c89"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#ade90146180a53b9d9edc077b933e70bba4d206cbdcdd039cb05719c60fc873c89">llvm::SIInstrInfo::MO_FAR_BRANCH_OFFSET</a></div><div class="ttdeci">@ MO_FAR_BRANCH_OFFSET</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8h_source.html#l00171">SIInstrInfo.h:171</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html">llvm::MachineBasicBlock</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00094">MachineBasicBlock.h:94</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1UfmtGFX11_html_a5cb0b88974a1601339c538367073d209ad2933e2b4eeecbfbd0bbb780922604d8"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1UfmtGFX11.html#a5cb0b88974a1601339c538367073d209ad2933e2b4eeecbfbd0bbb780922604d8">llvm::AMDGPU::UfmtGFX11::UFMT_32_FLOAT</a></div><div class="ttdeci">@ UFMT_32_FLOAT</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00675">SIDefines.h:675</a></div></div>
<div class="ttc" id="aclassllvm_1_1GCNSubtarget_html_a42ffba7488c6f98d42703852d9d83361"><div class="ttname"><a href="classllvm_1_1GCNSubtarget.html#a42ffba7488c6f98d42703852d9d83361">llvm::GCNSubtarget::hasOffset3fBug</a></div><div class="ttdeci">bool hasOffset3fBug() const</div><div class="ttdef"><b>Definition:</b> <a href="GCNSubtarget_8h_source.html#l00922">GCNSubtarget.h:922</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstrBuilder_html_afb84ad0ad64ed2a34f473bbacc268501"><div class="ttname"><a href="classllvm_1_1MachineInstrBuilder.html#afb84ad0ad64ed2a34f473bbacc268501">llvm::MachineInstrBuilder::cloneMemRefs</a></div><div class="ttdeci">const MachineInstrBuilder &amp; cloneMemRefs(const MachineInstr &amp;OtherMI) const</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00213">MachineInstrBuilder.h:213</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_ade90146180a53b9d9edc077b933e70bbafe82a0bc03151bffd10d66929b1ed545"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#ade90146180a53b9d9edc077b933e70bbafe82a0bc03151bffd10d66929b1ed545">llvm::SIInstrInfo::MO_ABS32_LO</a></div><div class="ttdeci">@ MO_ABS32_LO</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8h_source.html#l00173">SIInstrInfo.h:173</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineRegisterInfo_html_aa363afffca4fc13a709673936b47fe33"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#aa363afffca4fc13a709673936b47fe33">llvm::MachineRegisterInfo::getRegClass</a></div><div class="ttdeci">const TargetRegisterClass * getRegClass(Register Reg) const</div><div class="ttdoc">Return the register class of the specified virtual register.</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8h_source.html#l00661">MachineRegisterInfo.h:661</a></div></div>
<div class="ttc" id="aADT_2tmp_8txt_html_a07ed0bfaa124c15897944fe3eaa971ab"><div class="ttname"><a href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a></div><div class="ttdeci">Class for arbitrary precision integers APInt is a functional replacement for common case unsigned integer type like unsigned long or uint64_t</div><div class="ttdef"><b>Definition:</b> <a href="ADT_2tmp_8txt_source.html#l00001">tmp.txt:1</a></div></div>
<div class="ttc" id="aclassllvm_1_1AMDGPUSubtarget_html_ae66cd705df2870244a05921f551ff131"><div class="ttname"><a href="classllvm_1_1AMDGPUSubtarget.html#ae66cd705df2870244a05921f551ff131">llvm::AMDGPUSubtarget::getWavefrontSize</a></div><div class="ttdeci">unsigned getWavefrontSize() const</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUSubtarget_8h_source.html#l00202">AMDGPUSubtarget.h:202</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineRegisterInfo_html_a86dd1b4ce6ff2d4a0b4593c5f7b2a3fd"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#a86dd1b4ce6ff2d4a0b4593c5f7b2a3fd">llvm::MachineRegisterInfo::isSSA</a></div><div class="ttdeci">bool isSSA() const</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8h_source.html#l00197">MachineRegisterInfo.h:197</a></div></div>
<div class="ttc" id="aclassllvm_1_1SrcOp_html_a9370c0de85c12bd0062063b7fcbc64ed"><div class="ttname"><a href="classllvm_1_1SrcOp.html#a9370c0de85c12bd0062063b7fcbc64ed">llvm::SrcOp::getImm</a></div><div class="ttdeci">int64_t getImm() const</div><div class="ttdef"><b>Definition:</b> <a href="MachineIRBuilder_8h_source.html#l00202">MachineIRBuilder.h:202</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_a15fe0ce54453ae7355ee50ef1beb52a0"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#a15fe0ce54453ae7355ee50ef1beb52a0">llvm::SIInstrInfo::getAddNoCarry</a></div><div class="ttdeci">MachineInstrBuilder getAddNoCarry(MachineBasicBlock &amp;MBB, MachineBasicBlock::iterator I, const DebugLoc &amp;DL, Register DestReg) const</div><div class="ttdoc">Return a partially built integer add instruction without carry.</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l07820">SIInstrInfo.cpp:7820</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1DPP_html_aa27612400d9f4f18653d361495d67b08a0946b16bcd77f9e3d92cc2b1f6ce7fca"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1DPP.html#aa27612400d9f4f18653d361495d67b08a0946b16bcd77f9e3d92cc2b1f6ce7fca">llvm::AMDGPU::DPP::DPP_UNUSED6_FIRST</a></div><div class="ttdeci">@ DPP_UNUSED6_FIRST</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00834">SIDefines.h:834</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIRegisterInfo_html_a83297079e933130ab3b78a428b7070e3"><div class="ttname"><a href="classllvm_1_1SIRegisterInfo.html#a83297079e933130ab3b78a428b7070e3">llvm::SIRegisterInfo::opCanUseLiteralConstant</a></div><div class="ttdeci">bool opCanUseLiteralConstant(unsigned OpType) const</div><div class="ttdef"><b>Definition:</b> <a href="SIRegisterInfo_8cpp_source.html#l02858">SIRegisterInfo.cpp:2858</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPUAS_html_ab1843c6566c95d94d6e36a857b8d2b3fabf4559ef958a13c33f6ec7ed13fd44e5"><div class="ttname"><a href="namespacellvm_1_1AMDGPUAS.html#ab1843c6566c95d94d6e36a857b8d2b3fabf4559ef958a13c33f6ec7ed13fd44e5">llvm::AMDGPUAS::GLOBAL_ADDRESS</a></div><div class="ttdeci">@ GLOBAL_ADDRESS</div><div class="ttdoc">Address space for global memory (RAT0, VTX0).</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPU_8h_source.html#l00373">AMDGPU.h:373</a></div></div>
<div class="ttc" id="anamespacellvm_1_1sys_1_1unicode_html_ae56aadf48006c8538ac3e9fc3bf220b9"><div class="ttname"><a href="namespacellvm_1_1sys_1_1unicode.html#ae56aadf48006c8538ac3e9fc3bf220b9">llvm::sys::unicode::SBase</a></div><div class="ttdeci">constexpr const char32_t SBase</div><div class="ttdef"><b>Definition:</b> <a href="UnicodeNameToCodepoint_8cpp_source.html#l00256">UnicodeNameToCodepoint.cpp:256</a></div></div>
<div class="ttc" id="aclassllvm_1_1AMDGPUSubtarget_html_a53c0ee4138bfbf9e0410a65e0eaa36e2a0a29519a2da61e1cf78d898e26fef446"><div class="ttname"><a href="classllvm_1_1AMDGPUSubtarget.html#a53c0ee4138bfbf9e0410a65e0eaa36e2a0a29519a2da61e1cf78d898e26fef446">llvm::AMDGPUSubtarget::GFX10</a></div><div class="ttdeci">@ GFX10</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUSubtarget_8h_source.html#l00041">AMDGPUSubtarget.h:41</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_ab92f90456dfda18d91d3531204e5cc33"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#ab92f90456dfda18d91d3531204e5cc33">llvm::SIInstrInfo::isLoadFromStackSlot</a></div><div class="ttdeci">unsigned isLoadFromStackSlot(const MachineInstr &amp;MI, int &amp;FrameIndex) const override</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l07556">SIInstrInfo.cpp:7556</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_a4fe4716676c6cd66f5db59639fc63bc8"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#a4fe4716676c6cd66f5db59639fc63bc8">llvm::SIInstrInfo::removeModOperands</a></div><div class="ttdeci">void removeModOperands(MachineInstr &amp;MI) const</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l03021">SIInstrInfo.cpp:3021</a></div></div>
<div class="ttc" id="aRISCVInsertVSETVLI_8cpp_html_ad4e26a8fdece2198ba75eff89753cd22"><div class="ttname"><a href="RISCVInsertVSETVLI_8cpp.html#ad4e26a8fdece2198ba75eff89753cd22">TSFlags</a></div><div class="ttdeci">uint64_t TSFlags</div><div class="ttdef"><b>Definition:</b> <a href="RISCVInsertVSETVLI_8cpp_source.html#l00635">RISCVInsertVSETVLI.cpp:635</a></div></div>
<div class="ttc" id="aclassllvm_1_1Register_html_aebafd86dde59b5a05b22e8720e808a9d"><div class="ttname"><a href="classllvm_1_1Register.html#aebafd86dde59b5a05b22e8720e808a9d">llvm::Register::isVirtual</a></div><div class="ttdeci">bool isVirtual() const</div><div class="ttdoc">Return true if the specified register number is in the virtual register namespace.</div><div class="ttdef"><b>Definition:</b> <a href="Register_8h_source.html#l00091">Register.h:91</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_html_ab7679ce5eab5937b9da9e7702aff8cc5aff389f984e981455b4107b4708a77e5b"><div class="ttname"><a href="namespacellvm_1_1AMDGPU.html#ab7679ce5eab5937b9da9e7702aff8cc5aff389f984e981455b4107b4708a77e5b">llvm::AMDGPU::OPERAND_REG_IMM_FP16_DEFERRED</a></div><div class="ttdeci">@ OPERAND_REG_IMM_FP16_DEFERRED</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00166">SIDefines.h:166</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineRegisterInfo_html_a3da9727b1d452d6dcab08fde547ab634"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#a3da9727b1d452d6dcab08fde547ab634">llvm::MachineRegisterInfo::clearKillFlags</a></div><div class="ttdeci">void clearKillFlags(Register Reg) const</div><div class="ttdoc">clearKillFlags - Iterate over all the uses of the given register and clear the kill flag from the Mac...</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8cpp_source.html#l00435">MachineRegisterInfo.cpp:435</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_html_ae0aedd4d5c55b5e5e71effbb234624b0"><div class="ttname"><a href="namespacellvm_1_1AMDGPU.html#ae0aedd4d5c55b5e5e71effbb234624b0">llvm::AMDGPU::isInlinableLiteralV216</a></div><div class="ttdeci">bool isInlinableLiteralV216(int32_t Literal, bool HasInv2Pi)</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUBaseInfo_8cpp_source.html#l02428">AMDGPUBaseInfo.cpp:2428</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html_a325f6b611ef9ec06798d3b4eb9572093"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#a325f6b611ef9ec06798d3b4eb9572093">llvm::MachineFunction::getSubtarget</a></div><div class="ttdeci">const TargetSubtargetInfo &amp; getSubtarget() const</div><div class="ttdoc">getSubtarget - Return the subtarget for which this machine code is being compiled.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00672">MachineFunction.h:672</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_a1bb14a9b3b3a3886cead6fd320980b3a"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#a1bb14a9b3b3a3886cead6fd320980b3a">llvm::SIInstrInfo::getSerializableDirectMachineOperandTargetFlags</a></div><div class="ttdeci">ArrayRef&lt; std::pair&lt; unsigned, const char * &gt; &gt; getSerializableDirectMachineOperandTargetFlags() const override</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l07790">SIInstrInfo.cpp:7790</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstrBuilder_html_a03258ce69ceadb08e189389468f7fd0a"><div class="ttname"><a href="classllvm_1_1MachineInstrBuilder.html#a03258ce69ceadb08e189389468f7fd0a">llvm::MachineInstrBuilder::addFrameIndex</a></div><div class="ttdeci">const MachineInstrBuilder &amp; addFrameIndex(int Idx) const</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00152">MachineInstrBuilder.h:152</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCInstrDesc_html_a2eae6ddcf171bdfe8cde452311ff4160"><div class="ttname"><a href="classllvm_1_1MCInstrDesc.html#a2eae6ddcf171bdfe8cde452311ff4160">llvm::MCInstrDesc::mayLoad</a></div><div class="ttdeci">bool mayLoad() const</div><div class="ttdoc">Return true if this instruction could possibly read memory.</div><div class="ttdef"><b>Definition:</b> <a href="MCInstrDesc_8h_source.html#l00437">MCInstrDesc.h:437</a></div></div>
<div class="ttc" id="aclassllvm_1_1cl_1_1opt_html"><div class="ttname"><a href="classllvm_1_1cl_1_1opt.html">llvm::cl::opt</a></div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l01410">CommandLine.h:1410</a></div></div>
<div class="ttc" id="aSIInstrInfo_8cpp_html_a99ae43a8879de19170e80277b5c54b88"><div class="ttname"><a href="SIInstrInfo_8cpp.html#a99ae43a8879de19170e80277b5c54b88">nodesHaveSameOperandValue</a></div><div class="ttdeci">static bool nodesHaveSameOperandValue(SDNode *N0, SDNode *N1, unsigned OpName)</div><div class="ttdoc">Returns true if both nodes have the same value for the given operand Op, or if both nodes do not have...</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l00083">SIInstrInfo.cpp:83</a></div></div>
<div class="ttc" id="aclassllvm_1_1GCNSubtarget_html_aa727d0bfbc501329be7c48c86d8bdb8c"><div class="ttname"><a href="classllvm_1_1GCNSubtarget.html#aa727d0bfbc501329be7c48c86d8bdb8c">llvm::GCNSubtarget::hasNegativeUnalignedScratchOffsetBug</a></div><div class="ttdeci">bool hasNegativeUnalignedScratchOffsetBug() const</div><div class="ttdef"><b>Definition:</b> <a href="GCNSubtarget_8h_source.html#l00972">GCNSubtarget.h:972</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_ade90146180a53b9d9edc077b933e70bba3e9ced1912f545db50d64c7932e9ae72"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#ade90146180a53b9d9edc077b933e70bba3e9ced1912f545db50d64c7932e9ae72">llvm::SIInstrInfo::MO_ABS32_HI</a></div><div class="ttdeci">@ MO_ABS32_HI</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8h_source.html#l00174">SIInstrInfo.h:174</a></div></div>
<div class="ttc" id="aSIInstrInfo_8cpp_html_a0cf3c7ba2564fa10526e70ecd607db74"><div class="ttname"><a href="SIInstrInfo_8cpp.html#a0cf3c7ba2564fa10526e70ecd607db74">expandSGPRCopy</a></div><div class="ttdeci">static void expandSGPRCopy(const SIInstrInfo &amp;TII, MachineBasicBlock &amp;MBB, MachineBasicBlock::iterator MI, const DebugLoc &amp;DL, MCRegister DestReg, MCRegister SrcReg, bool KillSrc, const TargetRegisterClass *RC, bool Forward)</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l00668">SIInstrInfo.cpp:668</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_a953f3ddec823a0c7db75e73dbf550632"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#a953f3ddec823a0c7db75e73dbf550632">llvm::SIInstrInfo::insertSelect</a></div><div class="ttdeci">void insertSelect(MachineBasicBlock &amp;MBB, MachineBasicBlock::iterator I, const DebugLoc &amp;DL, Register DstReg, ArrayRef&lt; MachineOperand &gt; Cond, Register TrueReg, Register FalseReg) const override</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l02890">SIInstrInfo.cpp:2890</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_html_a4d8680fb761cf1d88232de86f8fcecba"><div class="ttname"><a href="namespacellvm_1_1AMDGPU.html#a4d8680fb761cf1d88232de86f8fcecba">llvm::AMDGPU::getRegBitWidth</a></div><div class="ttdeci">unsigned getRegBitWidth(unsigned RCID)</div><div class="ttdoc">Get the size in bits of a register from the register class RC.</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUBaseInfo_8cpp_source.html#l02214">AMDGPUBaseInfo.cpp:2214</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_ae8ff2acea4fe63e48e8fc6cf0620ff78"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#ae8ff2acea4fe63e48e8fc6cf0620ff78">llvm::MachineInstr::getDebugLoc</a></div><div class="ttdeci">const DebugLoc &amp; getDebugLoc() const</div><div class="ttdoc">Returns the debug location id of this MachineInstr.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00445">MachineInstr.h:445</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_a960996ed89167b7ad321c647644d8dfb"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#a960996ed89167b7ad321c647644d8dfb">llvm::SIInstrInfo::isDPP</a></div><div class="ttdeci">static bool isDPP(const MachineInstr &amp;MI)</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8h_source.html#l00629">SIInstrInfo.h:629</a></div></div>
<div class="ttc" id="aSIInstrInfo_8cpp_html_a0dfd55eaf0bcb495f09ecf8c55b256b2a97bce951e4585a39601c04d86bb14ffd"><div class="ttname"><a href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a97bce951e4585a39601c04d86bb14ffd">VI</a></div><div class="ttdeci">@ VI</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l07994">SIInstrInfo.cpp:7994</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetRegisterInfo_html_ad0e6256f93a13938e8e59828d5677e32"><div class="ttname"><a href="classllvm_1_1TargetRegisterInfo.html#ad0e6256f93a13938e8e59828d5677e32">llvm::TargetRegisterInfo::getSpillSize</a></div><div class="ttdeci">unsigned getSpillSize(const TargetRegisterClass &amp;RC) const</div><div class="ttdoc">Return the size in bytes of the stack slot allocated to hold a spilled copy of a register from class ...</div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8h_source.html#l00285">TargetRegisterInfo.h:285</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_a1255befbcd6e034394681b1bcd3529ff"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a1255befbcd6e034394681b1bcd3529ff">llvm::MachineOperand::isUndef</a></div><div class="ttdeci">bool isUndef() const</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00404">MachineOperand.h:404</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_a975ccb82baef08d83e403c8818c52db8"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#a975ccb82baef08d83e403c8818c52db8">llvm::SIInstrInfo::isLowLatencyInstruction</a></div><div class="ttdeci">bool isLowLatencyInstruction(const MachineInstr &amp;MI) const</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l07524">SIInstrInfo.cpp:7524</a></div></div>
<div class="ttc" id="aSIInstrInfo_8cpp_html_a2e6a9e9fbac652264287bcc4542f8b54"><div class="ttname"><a href="SIInstrInfo_8cpp.html#a2e6a9e9fbac652264287bcc4542f8b54">followSubRegDef</a></div><div class="ttdeci">static bool followSubRegDef(MachineInstr &amp;MI, TargetInstrInfo::RegSubRegPair &amp;RSR)</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l08126">SIInstrInfo.cpp:8126</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_html_a901ba4ff66898215882da41143ddf69a"><div class="ttname"><a href="namespacellvm_1_1AMDGPU.html#a901ba4ff66898215882da41143ddf69a">llvm::AMDGPU::isInlinableIntLiteral</a></div><div class="ttdeci">LLVM_READNONE bool isInlinableIntLiteral(int64_t Literal)</div><div class="ttdoc">Is this literal inlinable, and not one of the values intended for floating point values.</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUBaseInfo_8h_source.html#l01239">AMDGPUBaseInfo.h:1239</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_a71b55958d73cd9fa8c5a32f5a6ac5a4c"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#a71b55958d73cd9fa8c5a32f5a6ac5a4c">llvm::SIInstrInfo::hasVALU32BitEncoding</a></div><div class="ttdeci">bool hasVALU32BitEncoding(unsigned Opcode) const</div><div class="ttdoc">Return true if this 64-bit VALU instruction has a 32-bit encoding.</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l03876">SIInstrInfo.cpp:3876</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_a61a42c85bd86c6ca4554e27d33c3f798"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a61a42c85bd86c6ca4554e27d33c3f798">llvm::MachineOperand::setIsDead</a></div><div class="ttdeci">void setIsDead(bool Val=true)</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00525">MachineOperand.h:525</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetRegisterInfo_html_ab5dddfd4ef6db864a18ecdbe51331b92"><div class="ttname"><a href="classllvm_1_1TargetRegisterInfo.html#ab5dddfd4ef6db864a18ecdbe51331b92">llvm::TargetRegisterInfo::regsOverlap</a></div><div class="ttdeci">bool regsOverlap(Register RegA, Register RegB) const</div><div class="ttdoc">Returns true if the two registers are equal or alias each other.</div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8h_source.html#l00421">TargetRegisterInfo.h:421</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_a2594ff53aaaa639014fafa681a4046ba"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#a2594ff53aaaa639014fafa681a4046ba">llvm::SIInstrInfo::getNamedImmOperand</a></div><div class="ttdeci">int64_t getNamedImmOperand(const MachineInstr &amp;MI, unsigned OpName) const</div><div class="ttdoc">Get required immediate operand.</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8h_source.html#l01040">SIInstrInfo.h:1040</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveIntervals_html_afbdfb2cc5decd8f22ea3ccc1ecea4028"><div class="ttname"><a href="classllvm_1_1LiveIntervals.html#afbdfb2cc5decd8f22ea3ccc1ecea4028">llvm::LiveIntervals::ReplaceMachineInstrInMaps</a></div><div class="ttdeci">SlotIndex ReplaceMachineInstrInMaps(MachineInstr &amp;MI, MachineInstr &amp;NewMI)</div><div class="ttdef"><b>Definition:</b> <a href="LiveIntervals_8h_source.html#l00274">LiveIntervals.h:274</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetRegisterInfo_html_a55ad07e4cbe29bea4cb69b78472b690e"><div class="ttname"><a href="classllvm_1_1TargetRegisterInfo.html#a55ad07e4cbe29bea4cb69b78472b690e">llvm::TargetRegisterInfo::getRegClass</a></div><div class="ttdeci">const TargetRegisterClass * getRegClass(unsigned i) const</div><div class="ttdoc">Returns the register class associated with the enumeration value.</div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8h_source.html#l00778">TargetRegisterInfo.h:778</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_html_ab7679ce5eab5937b9da9e7702aff8cc5a86ef6f68b415f39fcd28ae0dd431297c"><div class="ttname"><a href="namespacellvm_1_1AMDGPU.html#ab7679ce5eab5937b9da9e7702aff8cc5a86ef6f68b415f39fcd28ae0dd431297c">llvm::AMDGPU::OPERAND_REG_INLINE_C_INT64</a></div><div class="ttdeci">@ OPERAND_REG_INLINE_C_INT64</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00176">SIDefines.h:176</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_ab06dda088d3c7686f7dfcdb2b96323f5"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#ab06dda088d3c7686f7dfcdb2b96323f5">llvm::MachineOperand::getTargetFlags</a></div><div class="ttdeci">unsigned getTargetFlags() const</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00226">MachineOperand.h:226</a></div></div>
<div class="ttc" id="astructllvm_1_1TargetInstrInfo_1_1RegSubRegPair_html_aad7e848e562b1368d6ee4794d84957c6"><div class="ttname"><a href="structllvm_1_1TargetInstrInfo_1_1RegSubRegPair.html#aad7e848e562b1368d6ee4794d84957c6">llvm::TargetInstrInfo::RegSubRegPair::Reg</a></div><div class="ttdeci">Register Reg</div><div class="ttdef"><b>Definition:</b> <a href="TargetInstrInfo_8h_source.html#l00495">TargetInstrInfo.h:495</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_a4c9594c955fec80c73ddd964b5efd554"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a4c9594c955fec80c73ddd964b5efd554">llvm::MachineOperand::isReg</a></div><div class="ttdeci">bool isReg() const</div><div class="ttdoc">isReg - Tests if this is a MO_Register operand.</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00329">MachineOperand.h:329</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html"><div class="ttname"><a href="classllvm_1_1MachineInstr.html">llvm::MachineInstr</a></div><div class="ttdoc">Representation of each machine instruction.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00066">MachineInstr.h:66</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstrBuilder_html"><div class="ttname"><a href="classllvm_1_1MachineInstrBuilder.html">llvm::MachineInstrBuilder</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00069">MachineInstrBuilder.h:69</a></div></div>
<div class="ttc" id="anamespacellvm_html_afd734184546746d0ab64985a91368a14"><div class="ttname"><a href="namespacellvm.html#afd734184546746d0ab64985a91368a14">llvm::execMayBeModifiedBeforeAnyUse</a></div><div class="ttdeci">bool execMayBeModifiedBeforeAnyUse(const MachineRegisterInfo &amp;MRI, Register VReg, const MachineInstr &amp;DefMI)</div><div class="ttdoc">Return false if EXEC is not changed between the def of VReg at DefMI and all its uses.</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l08219">SIInstrInfo.cpp:8219</a></div></div>
<div class="ttc" id="aLiveIntervals_8h_html"><div class="ttname"><a href="LiveIntervals_8h.html">LiveIntervals.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIRegisterInfo_html_a929252209ec1fab87cd43439ed3365c7"><div class="ttname"><a href="classllvm_1_1SIRegisterInfo.html#a929252209ec1fab87cd43439ed3365c7">llvm::SIRegisterInfo::isVGPRClass</a></div><div class="ttdeci">static bool isVGPRClass(const TargetRegisterClass *RC)</div><div class="ttdef"><b>Definition:</b> <a href="SIRegisterInfo_8h_source.html#l00198">SIRegisterInfo.h:198</a></div></div>
<div class="ttc" id="aBuiltinGCs_8cpp_html_a9bf617fd3367180fb96cebccfaae8dfa"><div class="ttname"><a href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a></div><div class="ttdeci">static GCRegistry::Add&lt; StatepointGC &gt; D(&quot;statepoint-example&quot;, &quot;an example strategy for statepoint&quot;)</div></div>
<div class="ttc" id="aclassllvm_1_1Function_html_a5f494edc0a569c7fc9ff4181243be1ed"><div class="ttname"><a href="classllvm_1_1Function.html#a5f494edc0a569c7fc9ff4181243be1ed">llvm::Function::getCallingConv</a></div><div class="ttdeci">CallingConv::ID getCallingConv() const</div><div class="ttdoc">getCallingConv()/setCallingConv(CC) - These method get and set the calling convention of this functio...</div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00237">Function.h:237</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ARM__MB_html_ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2"><div class="ttname"><a href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">llvm::ARM_MB::ST</a></div><div class="ttdeci">@ ST</div><div class="ttdef"><b>Definition:</b> <a href="MCTargetDesc_2ARMBaseInfo_8h_source.html#l00073">ARMBaseInfo.h:73</a></div></div>
<div class="ttc" id="aELFObjHandler_8cpp_html_a9df82a8be2f17e80535a8937bf23e022"><div class="ttname"><a href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a></div><div class="ttdeci">uint64_t Addr</div><div class="ttdef"><b>Definition:</b> <a href="ELFObjHandler_8cpp_source.html#l00079">ELFObjHandler.cpp:79</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1DPP_html_aa27612400d9f4f18653d361495d67b08adfdacd1625ea09362131dda6be04997b"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1DPP.html#aa27612400d9f4f18653d361495d67b08adfdacd1625ea09362131dda6be04997b">llvm::AMDGPU::DPP::DPP_UNUSED6_LAST</a></div><div class="ttdeci">@ DPP_UNUSED6_LAST</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00835">SIDefines.h:835</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_html_abe1ffb7444626273ec47b5526acfdeeca82f70483c4222cdb713853c39905d3ed"><div class="ttname"><a href="namespacellvm_1_1AMDGPU.html#abe1ffb7444626273ec47b5526acfdeeca82f70483c4222cdb713853c39905d3ed">llvm::AMDGPU::TI_SCRATCH_RSRC_DWORD1</a></div><div class="ttdeci">@ TI_SCRATCH_RSRC_DWORD1</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPU_8h_source.html#l00355">AMDGPU.h:355</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_html_ab7679ce5eab5937b9da9e7702aff8cc5ac073c33efc03a1882ee8155b8d68a794"><div class="ttname"><a href="namespacellvm_1_1AMDGPU.html#ab7679ce5eab5937b9da9e7702aff8cc5ac073c33efc03a1882ee8155b8d68a794">llvm::AMDGPU::OPERAND_REG_INLINE_C_FP32</a></div><div class="ttdeci">@ OPERAND_REG_INLINE_C_FP32</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00178">SIDefines.h:178</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ARM__AM_html_a5d0557608eaebed12bc00812724ba2cdae6bcee28992dab735eaa43f5dfa48a09"><div class="ttname"><a href="namespacellvm_1_1ARM__AM.html#a5d0557608eaebed12bc00812724ba2cdae6bcee28992dab735eaa43f5dfa48a09">llvm::ARM_AM::add</a></div><div class="ttdeci">@ add</div><div class="ttdef"><b>Definition:</b> <a href="ARMAddressingModes_8h_source.html#l00039">ARMAddressingModes.h:39</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_a3fb468e3875bfa4c3c69d57a6eebbe17"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#a3fb468e3875bfa4c3c69d57a6eebbe17">llvm::SIInstrInfo::buildExtractSubReg</a></div><div class="ttdeci">unsigned buildExtractSubReg(MachineBasicBlock::iterator MI, MachineRegisterInfo &amp;MRI, MachineOperand &amp;SuperReg, const TargetRegisterClass *SuperRC, unsigned SubIdx, const TargetRegisterClass *SubRC) const</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l04994">SIInstrInfo.cpp:4994</a></div></div>
<div class="ttc" id="aclassllvm_1_1GCNSubtarget_html_a31e93bb82e5ea95995efb52febbe0d8f"><div class="ttname"><a href="classllvm_1_1GCNSubtarget.html#a31e93bb82e5ea95995efb52febbe0d8f">llvm::GCNSubtarget::hasNegativeScratchOffsetBug</a></div><div class="ttdeci">bool hasNegativeScratchOffsetBug() const</div><div class="ttdef"><b>Definition:</b> <a href="GCNSubtarget_8h_source.html#l00970">GCNSubtarget.h:970</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPUAS_html_ab1843c6566c95d94d6e36a857b8d2b3faec164f45437d8827346f2d8ec645479a"><div class="ttname"><a href="namespacellvm_1_1AMDGPUAS.html#ab1843c6566c95d94d6e36a857b8d2b3faec164f45437d8827346f2d8ec645479a">llvm::AMDGPUAS::PRIVATE_ADDRESS</a></div><div class="ttdeci">@ PRIVATE_ADDRESS</div><div class="ttdoc">Address space for private memory.</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPU_8h_source.html#l00378">AMDGPU.h:378</a></div></div>
<div class="ttc" id="aSIInstrInfo_8cpp_html_acbfeec0c25233691b4e70d7a527eebda"><div class="ttname"><a href="SIInstrInfo_8cpp.html#acbfeec0c25233691b4e70d7a527eebda">getRegOrUndef</a></div><div class="ttdeci">static TargetInstrInfo::RegSubRegPair getRegOrUndef(const MachineOperand &amp;RegOpnd)</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l08107">SIInstrInfo.cpp:8107</a></div></div>
<div class="ttc" id="astructllvm_1_1MachinePointerInfo_html"><div class="ttname"><a href="structllvm_1_1MachinePointerInfo.html">llvm::MachinePointerInfo</a></div><div class="ttdoc">This class contains a discriminated union of information about pointers in memory operands,...</div><div class="ttdef"><b>Definition:</b> <a href="MachineMemOperand_8h_source.html#l00039">MachineMemOperand.h:39</a></div></div>
<div class="ttc" id="aclassllvm_1_1GCNSubtarget_html_ae431b2e8fc0aee94b01cece42984d2dd"><div class="ttname"><a href="classllvm_1_1GCNSubtarget.html#ae431b2e8fc0aee94b01cece42984d2dd">llvm::GCNSubtarget::hasAddNoCarry</a></div><div class="ttdeci">bool hasAddNoCarry() const</div><div class="ttdef"><b>Definition:</b> <a href="GCNSubtarget_8h_source.html#l00665">GCNSubtarget.h:665</a></div></div>
<div class="ttc" id="aclassllvm_1_1LLVMContext_html"><div class="ttname"><a href="classllvm_1_1LLVMContext.html">llvm::LLVMContext</a></div><div class="ttdoc">This is an important class for using LLVM in a threaded context.</div><div class="ttdef"><b>Definition:</b> <a href="LLVMContext_8h_source.html#l00067">LLVMContext.h:67</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1DPP_html_aa27612400d9f4f18653d361495d67b08a24b903655c85bb90074e7d4c20ad665b"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1DPP.html#aa27612400d9f4f18653d361495d67b08a24b903655c85bb90074e7d4c20ad665b">llvm::AMDGPU::DPP::DPP_UNUSED8_LAST</a></div><div class="ttdeci">@ DPP_UNUSED8_LAST</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00844">SIDefines.h:844</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCOperandInfo_html_a9173ff0e651bbc7ce633a7c4b83d9586"><div class="ttname"><a href="classllvm_1_1MCOperandInfo.html#a9173ff0e651bbc7ce633a7c4b83d9586">llvm::MCOperandInfo::OperandType</a></div><div class="ttdeci">uint8_t OperandType</div><div class="ttdoc">Information about the type of the operand.</div><div class="ttdef"><b>Definition:</b> <a href="MCInstrDesc_8h_source.html#l00097">MCInstrDesc.h:97</a></div></div>
<div class="ttc" id="anamespacellvm_1_1numbers_html_a92f4283d4e0e2ea1776894b3ae93640f"><div class="ttname"><a href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">llvm::numbers::e</a></div><div class="ttdeci">constexpr double e</div><div class="ttdef"><b>Definition:</b> <a href="MathExtras_8h_source.html#l00031">MathExtras.h:31</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCInstrDesc_html_a47dd718cb7a3b36fd9f7ed6118df04af"><div class="ttname"><a href="classllvm_1_1MCInstrDesc.html#a47dd718cb7a3b36fd9f7ed6118df04af">llvm::MCInstrDesc::implicit_uses</a></div><div class="ttdeci">ArrayRef&lt; MCPhysReg &gt; implicit_uses() const</div><div class="ttdoc">Return a list of registers that are potentially read by any instance of this machine instruction.</div><div class="ttdef"><b>Definition:</b> <a href="MCInstrDesc_8h_source.html#l00565">MCInstrDesc.h:565</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_html_abe1ffb7444626273ec47b5526acfdeecaf272dd7e3cb82c0cfe63d334df30b2bd"><div class="ttname"><a href="namespacellvm_1_1AMDGPU.html#abe1ffb7444626273ec47b5526acfdeecaf272dd7e3cb82c0cfe63d334df30b2bd">llvm::AMDGPU::TI_CONSTDATA_START</a></div><div class="ttdeci">@ TI_CONSTDATA_START</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPU_8h_source.html#l00353">AMDGPU.h:353</a></div></div>
<div class="ttc" id="aSIInstrInfo_8cpp_html_a99bfc979f4349f70e0dd24ea53445ff0"><div class="ttname"><a href="SIInstrInfo_8cpp.html#a99bfc979f4349f70e0dd24ea53445ff0">getSGPRSpillRestoreOpcode</a></div><div class="ttdeci">static unsigned getSGPRSpillRestoreOpcode(unsigned Size)</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l01637">SIInstrInfo.cpp:1637</a></div></div>
<div class="ttc" id="aSIInstrInfo_8cpp_html_a38f4c0573a55639ee5de46f1d3a3ae99"><div class="ttname"><a href="SIInstrInfo_8cpp.html#a38f4c0573a55639ee5de46f1d3a3ae99">emitLoadSRsrcFromVGPRLoop</a></div><div class="ttdeci">static void emitLoadSRsrcFromVGPRLoop(const SIInstrInfo &amp;TII, MachineRegisterInfo &amp;MRI, MachineBasicBlock &amp;OrigBB, MachineBasicBlock &amp;LoopBB, MachineBasicBlock &amp;BodyBB, const DebugLoc &amp;DL, MachineOperand &amp;Rsrc)</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l05591">SIInstrInfo.cpp:5591</a></div></div>
<div class="ttc" id="anamespacellvm_1_1codeview_html_ad37302702bbcf0028581d2655698c27aa5fb63579fc981698f97d55bfecb213ea"><div class="ttname"><a href="namespacellvm_1_1codeview.html#ad37302702bbcf0028581d2655698c27aa5fb63579fc981698f97d55bfecb213ea">llvm::codeview::FrameCookieKind::Copy</a></div><div class="ttdeci">@ Copy</div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_a08b60e6be6801b1f90d723990ef68009"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#a08b60e6be6801b1f90d723990ef68009">llvm::SIInstrInfo::isDS</a></div><div class="ttdeci">static bool isDS(const MachineInstr &amp;MI)</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8h_source.html#l00492">SIInstrInfo.h:492</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_html_ab7679ce5eab5937b9da9e7702aff8cc5a5f53e66ffdcd70ad55a4bf78e485f76a"><div class="ttname"><a href="namespacellvm_1_1AMDGPU.html#ab7679ce5eab5937b9da9e7702aff8cc5a5f53e66ffdcd70ad55a4bf78e485f76a">llvm::AMDGPU::OPERAND_SRC_FIRST</a></div><div class="ttdeci">@ OPERAND_SRC_FIRST</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00215">SIDefines.h:215</a></div></div>
<div class="ttc" id="aclassllvm_1_1GCNSubtarget_html_a2daa95e19ef6f3a5d3be7f175d5bde59"><div class="ttname"><a href="classllvm_1_1GCNSubtarget.html#a2daa95e19ef6f3a5d3be7f175d5bde59">llvm::GCNSubtarget::hasMFMAInlineLiteralBug</a></div><div class="ttdeci">bool hasMFMAInlineLiteralBug() const</div><div class="ttdef"><b>Definition:</b> <a href="GCNSubtarget_8h_source.html#l00976">GCNSubtarget.h:976</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_aaee820701392c55ad54235d3d7201206"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#aaee820701392c55ad54235d3d7201206">llvm::MachineOperand::isDead</a></div><div class="ttdeci">bool isDead() const</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00394">MachineOperand.h:394</a></div></div>
<div class="ttc" id="aclassllvm_1_1SDNode_html_aa167dab8c514d863ec44909befac3050"><div class="ttname"><a href="classllvm_1_1SDNode.html#aa167dab8c514d863ec44909befac3050">llvm::SDNode::getOperand</a></div><div class="ttdeci">const SDValue &amp; getOperand(unsigned Num) const</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l00921">SelectionDAGNodes.h:921</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIRegisterInfo_html_a980c731f7723b02b66010f4fce010c0f"><div class="ttname"><a href="classllvm_1_1SIRegisterInfo.html#a980c731f7723b02b66010f4fce010c0f">llvm::SIRegisterInfo::isSGPRReg</a></div><div class="ttdeci">bool isSGPRReg(const MachineRegisterInfo &amp;MRI, Register Reg) const</div><div class="ttdef"><b>Definition:</b> <a href="SIRegisterInfo_8cpp_source.html#l02779">SIRegisterInfo.cpp:2779</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_a1c990a34866f377751f50f112cef61bc"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#a1c990a34866f377751f50f112cef61bc">llvm::SIInstrInfo::isSMRD</a></div><div class="ttdeci">static bool isSMRD(const MachineInstr &amp;MI)</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8h_source.html#l00482">SIInstrInfo.h:482</a></div></div>
<div class="ttc" id="anamespacellvm_1_1RegState_html_aef4cc0c855dc833e2a9d58a50703320da0fec8ba6f4a4dc758b725205985eee99"><div class="ttname"><a href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da0fec8ba6f4a4dc758b725205985eee99">llvm::RegState::Implicit</a></div><div class="ttdeci">@ Implicit</div><div class="ttdoc">Not emitted register (e.g. carry, or temporary result).</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00046">MachineInstrBuilder.h:46</a></div></div>
<div class="ttc" id="aMD5_8cpp_html_ac0eafdc9ee161b71e7af98af736952fd"><div class="ttname"><a href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a></div><div class="ttdeci">#define I(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00058">MD5.cpp:58</a></div></div>
<div class="ttc" id="anamespacellvm_html_a1a20c762703f9faa4263464684aae1ad"><div class="ttname"><a href="namespacellvm.html#a1a20c762703f9faa4263464684aae1ad">llvm::execMayBeModifiedBeforeUse</a></div><div class="ttdeci">bool execMayBeModifiedBeforeUse(const MachineRegisterInfo &amp;MRI, Register VReg, const MachineInstr &amp;DefMI, const MachineInstr &amp;UseMI)</div><div class="ttdoc">Return false if EXEC is not changed between the def of VReg at DefMI and the use at UseMI.</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l08186">SIInstrInfo.cpp:8186</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_html_a5ee59b5ad9e64f6b900b6cdd5567b15b"><div class="ttname"><a href="namespacellvm_1_1AMDGPU.html#a5ee59b5ad9e64f6b900b6cdd5567b15b">llvm::AMDGPU::isIntrinsicAlwaysUniform</a></div><div class="ttdeci">bool isIntrinsicAlwaysUniform(unsigned IntrID)</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUBaseInfo_8cpp_source.html#l02686">AMDGPUBaseInfo.cpp:2686</a></div></div>
<div class="ttc" id="aclassllvm_1_1RegScavenger_html"><div class="ttname"><a href="classllvm_1_1RegScavenger.html">llvm::RegScavenger</a></div><div class="ttdef"><b>Definition:</b> <a href="RegisterScavenging_8h_source.html#l00034">RegisterScavenging.h:34</a></div></div>
<div class="ttc" id="aSIInstrInfo_8cpp_html_a81a328aa5781f7c744daa43c44df83c6"><div class="ttname"><a href="SIInstrInfo_8cpp.html#a81a328aa5781f7c744daa43c44df83c6">findImplicitSGPRRead</a></div><div class="ttdeci">static Register findImplicitSGPRRead(const MachineInstr &amp;MI)</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l04050">SIInstrInfo.cpp:4050</a></div></div>
<div class="ttc" id="aSIInstrInfo_8cpp_html_a9a029ae88221a63092305945fd7fc4da"><div class="ttname"><a href="SIInstrInfo_8cpp.html#a9a029ae88221a63092305945fd7fc4da">reportIllegalCopy</a></div><div class="ttdeci">static void reportIllegalCopy(const SIInstrInfo *TII, MachineBasicBlock &amp;MBB, MachineBasicBlock::iterator MI, const DebugLoc &amp;DL, MCRegister DestReg, MCRegister SrcReg, bool KillSrc, const char *Msg=&quot;illegal SGPR to VGPR copy&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l00536">SIInstrInfo.cpp:536</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1DPP_html_aa27612400d9f4f18653d361495d67b08aea015d153c806aa1a5c75338d55017b5"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1DPP.html#aa27612400d9f4f18653d361495d67b08aea015d153c806aa1a5c75338d55017b5">llvm::AMDGPU::DPP::DPP_UNUSED2</a></div><div class="ttdeci">@ DPP_UNUSED2</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00819">SIDefines.h:819</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_ab97de5c81e48922426466768a69b38bf"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#ab97de5c81e48922426466768a69b38bf">llvm::SIInstrInfo::isLegalFLATOffset</a></div><div class="ttdeci">bool isLegalFLATOffset(int64_t Offset, unsigned AddrSpace, uint64_t FlatVariant) const</div><div class="ttdoc">Returns if Offset is legal for the subtarget as the offset to a FLAT encoded instruction.</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l07930">SIInstrInfo.cpp:7930</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_a23855b574f5790880e0cdfc2b6b39aad"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#a23855b574f5790880e0cdfc2b6b39aad">llvm::SIInstrInfo::legalizeOperandsFLAT</a></div><div class="ttdeci">void legalizeOperandsFLAT(MachineRegisterInfo &amp;MRI, MachineInstr &amp;MI) const</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l05527">SIInstrInfo.cpp:5527</a></div></div>
<div class="ttc" id="anamespacellvm_1_1MCOI_html_ad9dfed338ec3d47f30c593ee49cbf96da62a6ddcdddcce55f836b1720d29f90dc"><div class="ttname"><a href="namespacellvm_1_1MCOI.html#ad9dfed338ec3d47f30c593ee49cbf96da62a6ddcdddcce55f836b1720d29f90dc">llvm::MCOI::OPERAND_REGISTER</a></div><div class="ttdeci">@ OPERAND_REGISTER</div><div class="ttdef"><b>Definition:</b> <a href="MCInstrDesc_8h_source.html#l00061">MCInstrDesc.h:61</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIRegisterInfo_html_a549e07395027c7b32774e27e9f28bc91"><div class="ttname"><a href="classllvm_1_1SIRegisterInfo.html#a549e07395027c7b32774e27e9f28bc91">llvm::SIRegisterInfo::isVGPR</a></div><div class="ttdeci">bool isVGPR(const MachineRegisterInfo &amp;MRI, Register Reg) const</div><div class="ttdef"><b>Definition:</b> <a href="SIRegisterInfo_8cpp_source.html#l02912">SIRegisterInfo.cpp:2912</a></div></div>
<div class="ttc" id="anamespacellvm_1_1cl_html_a10a041239ae1870cfcc064bfaa79fb65"><div class="ttname"><a href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">llvm::cl::init</a></div><div class="ttdeci">initializer&lt; Ty &gt; init(const Ty &amp;Val)</div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00445">CommandLine.h:445</a></div></div>
<div class="ttc" id="aSIInstrInfo_8cpp_html_a750144640bbe8f2024eaf9296b3181dd"><div class="ttname"><a href="SIInstrInfo_8cpp.html#a750144640bbe8f2024eaf9296b3181dd">getIndirectVGPRWriteMovRelPseudoOpc</a></div><div class="ttdeci">static unsigned getIndirectVGPRWriteMovRelPseudoOpc(unsigned VecSize)</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l01355">SIInstrInfo.cpp:1355</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8154638df88e4eaa568b67b23d463dac"><div class="ttname"><a href="namespacellvm.html#a8154638df88e4eaa568b67b23d463dac">llvm::make_early_inc_range</a></div><div class="ttdeci">iterator_range&lt; early_inc_iterator_impl&lt; detail::IterOfRange&lt; RangeT &gt; &gt; &gt; make_early_inc_range(RangeT &amp;&amp;Range)</div><div class="ttdoc">Make a range that does early increment to allow mutation of the underlying range without disrupting i...</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l00721">STLExtras.h:721</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1DPP_html_aa27612400d9f4f18653d361495d67b08ab9dead8d5e63143c1abb4a508d4c6f30"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1DPP.html#aa27612400d9f4f18653d361495d67b08ab9dead8d5e63143c1abb4a508d4c6f30">llvm::AMDGPU::DPP::WAVE_SHL1</a></div><div class="ttdeci">@ WAVE_SHL1</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00827">SIDefines.h:827</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_aa7dc7faaab4856b8f0014b8283e26c7b"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#aa7dc7faaab4856b8f0014b8283e26c7b">llvm::MachineBasicBlock::getFirstNonPHI</a></div><div class="ttdeci">iterator getFirstNonPHI()</div><div class="ttdoc">Returns a pointer to the first instruction in this block that is not a PHINode instruction.</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8cpp_source.html#l00198">MachineBasicBlock.cpp:198</a></div></div>
<div class="ttc" id="aclassllvm_1_1GCNSubtarget_html_a0af7bcad0087b2e7738d1636e5e4793e"><div class="ttname"><a href="classllvm_1_1GCNSubtarget.html#a0af7bcad0087b2e7738d1636e5e4793e">llvm::GCNSubtarget::hasSDWAScalar</a></div><div class="ttdeci">bool hasSDWAScalar() const</div><div class="ttdef"><b>Definition:</b> <a href="GCNSubtarget_8h_source.html#l00686">GCNSubtarget.h:686</a></div></div>
<div class="ttc" id="anamespacellvm_1_1MCOI_html_ad9dfed338ec3d47f30c593ee49cbf96d"><div class="ttname"><a href="namespacellvm_1_1MCOI.html#ad9dfed338ec3d47f30c593ee49cbf96d">llvm::MCOI::OperandType</a></div><div class="ttdeci">OperandType</div><div class="ttdoc">Operands are tagged with one of the values of this enum.</div><div class="ttdef"><b>Definition:</b> <a href="MCInstrDesc_8h_source.html#l00058">MCInstrDesc.h:58</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1DPP_html_aa27612400d9f4f18653d361495d67b08a229a44fa66049a4fe6b24c7bfdcd986e"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1DPP.html#aa27612400d9f4f18653d361495d67b08a229a44fa66049a4fe6b24c7bfdcd986e">llvm::AMDGPU::DPP::DPP_LAST</a></div><div class="ttdeci">@ DPP_LAST</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00853">SIDefines.h:853</a></div></div>
<div class="ttc" id="anamespacellvm_html_acd1cd968cb420c82d70926920fcdc7d7"><div class="ttname"><a href="namespacellvm.html#acd1cd968cb420c82d70926920fcdc7d7">llvm::is_contained</a></div><div class="ttdeci">bool is_contained(R &amp;&amp;Range, const E &amp;Element)</div><div class="ttdoc">Wrapper function around std::find to detect if an element exists in a container.</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l01869">STLExtras.h:1869</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html_a1d483b4ac24a96c2250becb232ed4cb4"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#a1d483b4ac24a96c2250becb232ed4cb4">llvm::MachineFunction::CreateMachineBasicBlock</a></div><div class="ttdeci">MachineBasicBlock * CreateMachineBasicBlock(const BasicBlock *bb=nullptr)</div><div class="ttdoc">CreateMachineBasicBlock - Allocate a new MachineBasicBlock.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8cpp_source.html#l00446">MachineFunction.cpp:446</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_ab313591ae4ea1e3a4ab59121a7dc2a2b"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#ab313591ae4ea1e3a4ab59121a7dc2a2b">llvm::MachineOperand::getType</a></div><div class="ttdeci">MachineOperandType getType() const</div><div class="ttdoc">getType - Returns the MachineOperandType for this operand.</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00224">MachineOperand.h:224</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_ae0196eca3002f5fd8c339ea859ddd12f"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#ae0196eca3002f5fd8c339ea859ddd12f">llvm::SIInstrInfo::enforceOperandRCAlignment</a></div><div class="ttdeci">void enforceOperandRCAlignment(MachineInstr &amp;MI, unsigned OpName) const</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l08726">SIInstrInfo.cpp:8726</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIRegisterInfo_html_a940d8478e9124a309af6b98b9b1caef9"><div class="ttname"><a href="classllvm_1_1SIRegisterInfo.html#a940d8478e9124a309af6b98b9b1caef9">llvm::SIRegisterInfo::getBoolRC</a></div><div class="ttdeci">const TargetRegisterClass * getBoolRC() const</div><div class="ttdef"><b>Definition:</b> <a href="SIRegisterInfo_8h_source.html#l00326">SIRegisterInfo.h:326</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_a5c4551760d712abe6c1234a4997e22de"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#a5c4551760d712abe6c1234a4997e22de">llvm::SIInstrInfo::isSOP2</a></div><div class="ttdeci">static bool isSOP2(const MachineInstr &amp;MI)</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8h_source.html#l00386">SIInstrInfo.h:386</a></div></div>
<div class="ttc" id="aSIInstrInfo_8cpp_html_af6c596a28179cfc956ba49cb5fe643f9"><div class="ttname"><a href="SIInstrInfo_8cpp.html#af6c596a28179cfc956ba49cb5fe643f9">getAVSpillRestoreOpcode</a></div><div class="ttdeci">static unsigned getAVSpillRestoreOpcode(unsigned Size)</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l01742">SIInstrInfo.cpp:1742</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineRegisterInfo_html_aa18b5ef8a2c55e42b08affe5d0323e12"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#aa18b5ef8a2c55e42b08affe5d0323e12">llvm::MachineRegisterInfo::setSimpleHint</a></div><div class="ttdeci">void setSimpleHint(Register VReg, Register PrefReg)</div><div class="ttdoc">Specify the preferred (target independent) register allocation hint for the specified virtual registe...</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8h_source.html#l00808">MachineRegisterInfo.h:808</a></div></div>
<div class="ttc" id="anamespacellvm_1_1SISrcMods_html_a1d705f3f6f4a6c585d068369ef0f4916af0e8126187c47c5b74a1bdc635158144"><div class="ttname"><a href="namespacellvm_1_1SISrcMods.html#a1d705f3f6f4a6c585d068369ef0f4916af0e8126187c47c5b74a1bdc635158144">llvm::SISrcMods::OP_SEL_1</a></div><div class="ttdeci">@ OP_SEL_1</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00233">SIDefines.h:233</a></div></div>
<div class="ttc" id="aPeepholeOptimizer_8cpp_html_a16005492b382a6a76abae848b4af2b83"><div class="ttname"><a href="PeepholeOptimizer_8cpp.html#a16005492b382a6a76abae848b4af2b83">RegSubRegPair</a></div><div class="ttdeci">TargetInstrInfo::RegSubRegPair RegSubRegPair</div><div class="ttdef"><b>Definition:</b> <a href="PeepholeOptimizer_8cpp_source.html#l00099">PeepholeOptimizer.cpp:99</a></div></div>
<div class="ttc" id="aSIInstrInfo_8cpp_html_ad606e03c366b7e91da3b735a7126fe5a"><div class="ttname"><a href="SIInstrInfo_8cpp.html#ad606e03c366b7e91da3b735a7126fe5a">ModifierOpNames</a></div><div class="ttdeci">static constexpr unsigned ModifierOpNames[]</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l03016">SIInstrInfo.cpp:3016</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_ade90146180a53b9d9edc077b933e70bba878d31fbae9344bcf4e0b9a8928f4107"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#ade90146180a53b9d9edc077b933e70bba878d31fbae9344bcf4e0b9a8928f4107">llvm::SIInstrInfo::MO_REL32_LO</a></div><div class="ttdeci">@ MO_REL32_LO</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8h_source.html#l00167">SIInstrInfo.h:167</a></div></div>
<div class="ttc" id="aSILowerControlFlow_8cpp_html_a4868c5d81c5ccc98c47aeab6244346a0"><div class="ttname"><a href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a></div><div class="ttdeci">assert(ImpDefSCC.getReg()==AMDGPU::SCC &amp;&amp;ImpDefSCC.isDef())</div></div>
<div class="ttc" id="aSIInstrInfo_8cpp_html_a7326d1a0ae53d6dece409404840c5e6f"><div class="ttname"><a href="SIInstrInfo_8cpp.html#a7326d1a0ae53d6dece409404840c5e6f">getFoldableImm</a></div><div class="ttdeci">static bool getFoldableImm(Register Reg, const MachineRegisterInfo &amp;MRI, int64_t &amp;Imm, MachineInstr **DefMI=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l03345">SIInstrInfo.cpp:3345</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_aa4b208f7f6a759e6572b26d8b9ebb435"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#aa4b208f7f6a759e6572b26d8b9ebb435">llvm::SIInstrInfo::isAlwaysGDS</a></div><div class="ttdeci">bool isAlwaysGDS(uint16_t Opcode) const</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l03643">SIInstrInfo.cpp:3643</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1DPP_html_aa27612400d9f4f18653d361495d67b08a60f0e8dd618af278da015b2945a34b4e"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1DPP.html#aa27612400d9f4f18653d361495d67b08a60f0e8dd618af278da015b2945a34b4e">llvm::AMDGPU::DPP::BCAST15</a></div><div class="ttdeci">@ BCAST15</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00841">SIDefines.h:841</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIRegisterInfo_html_a4b7ead7725a07da4240f0edea1e4a2d6"><div class="ttname"><a href="classllvm_1_1SIRegisterInfo.html#a4b7ead7725a07da4240f0edea1e4a2d6">llvm::SIRegisterInfo::getRegSplitParts</a></div><div class="ttdeci">ArrayRef&lt; int16_t &gt; getRegSplitParts(const TargetRegisterClass *RC, unsigned EltSize) const</div><div class="ttdef"><b>Definition:</b> <a href="SIRegisterInfo_8cpp_source.html#l02884">SIRegisterInfo.cpp:2884</a></div></div>
<div class="ttc" id="anamespacellvm_1_1CallingConv_html_a5b166ae228ebbfdb96736d6022f3feeda27a385675142c462571165c839e41aa0"><div class="ttname"><a href="namespacellvm_1_1CallingConv.html#a5b166ae228ebbfdb96736d6022f3feeda27a385675142c462571165c839e41aa0">llvm::CallingConv::AMDGPU_KERNEL</a></div><div class="ttdeci">@ AMDGPU_KERNEL</div><div class="ttdoc">Used for AMDGPU code object kernels.</div><div class="ttdef"><b>Definition:</b> <a href="CallingConv_8h_source.html#l00197">CallingConv.h:197</a></div></div>
<div class="ttc" id="anamespacestd_html_ab8424022895aee3e366fb9a32f2883cb"><div class="ttname"><a href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a></div><div class="ttdeci">void swap(llvm::BitVector &amp;LHS, llvm::BitVector &amp;RHS)</div><div class="ttdoc">Implement std::swap in terms of BitVector swap.</div><div class="ttdef"><b>Definition:</b> <a href="BitVector_8h_source.html#l00853">BitVector.h:853</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_html_a9af58a5d20f2215a00b675f34db92771"><div class="ttname"><a href="namespacellvm_1_1AMDGPU.html#a9af58a5d20f2215a00b675f34db92771">llvm::AMDGPU::getAddrSizeMIMGOp</a></div><div class="ttdeci">unsigned getAddrSizeMIMGOp(const MIMGBaseOpcodeInfo *BaseOpcode, const MIMGDimInfo *Dim, bool IsA16, bool IsG16Supported)</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUBaseInfo_8cpp_source.html#l00245">AMDGPUBaseInfo.cpp:245</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html_a18fcadd076ad53e6df94e0ca7a80a9ef"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#a18fcadd076ad53e6df94e0ca7a80a9ef">llvm::MachineFunction::getFrameInfo</a></div><div class="ttdeci">MachineFrameInfo &amp; getFrameInfo()</div><div class="ttdoc">getFrameInfo - Return the frame info object for the current function.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00688">MachineFunction.h:688</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantSDNode_html_a5cb49674ec65724b4d9aecb48588a13a"><div class="ttname"><a href="classllvm_1_1ConstantSDNode.html#a5cb49674ec65724b4d9aecb48588a13a">llvm::ConstantSDNode::getZExtValue</a></div><div class="ttdeci">uint64_t getZExtValue() const</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l01601">SelectionDAGNodes.h:1601</a></div></div>
<div class="ttc" id="anamespacellvm_1_1CallingConv_html_a5b166ae228ebbfdb96736d6022f3feedad61318e853e529ac703f52a853efa1d1"><div class="ttname"><a href="namespacellvm_1_1CallingConv.html#a5b166ae228ebbfdb96736d6022f3feedad61318e853e529ac703f52a853efa1d1">llvm::CallingConv::AMDGPU_ES</a></div><div class="ttdeci">@ AMDGPU_ES</div><div class="ttdoc">Used for AMDPAL shader stage before geometry shader if geometry is in use.</div><div class="ttdef"><b>Definition:</b> <a href="CallingConv_8h_source.html#l00215">CallingConv.h:215</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_a4e21760f681d6f97f95c8414e7b83ea5"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#a4e21760f681d6f97f95c8414e7b83ea5">llvm::MachineBasicBlock::getParent</a></div><div class="ttdeci">const MachineFunction * getParent() const</div><div class="ttdoc">Return the MachineFunction containing this basic block.</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00265">MachineBasicBlock.h:265</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_acb4b6b90314d09d2b71e77d7127607c9"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#acb4b6b90314d09d2b71e77d7127607c9">llvm::SIInstrInfo::getBranchDestBlock</a></div><div class="ttdeci">MachineBasicBlock * getBranchDestBlock(const MachineInstr &amp;MI) const override</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l02490">SIInstrInfo.cpp:2490</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCBinaryExpr_html_aeb486a557befb75f998c127a1116501b"><div class="ttname"><a href="classllvm_1_1MCBinaryExpr.html#aeb486a557befb75f998c127a1116501b">llvm::MCBinaryExpr::createSub</a></div><div class="ttdeci">static const MCBinaryExpr * createSub(const MCExpr *LHS, const MCExpr *RHS, MCContext &amp;Ctx)</div><div class="ttdef"><b>Definition:</b> <a href="MCExpr_8h_source.html#l00610">MCExpr.h:610</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_html_ab7679ce5eab5937b9da9e7702aff8cc5a9242629e3f7e6539015220a3d77d7dc7"><div class="ttname"><a href="namespacellvm_1_1AMDGPU.html#ab7679ce5eab5937b9da9e7702aff8cc5a9242629e3f7e6539015220a3d77d7dc7">llvm::AMDGPU::OPERAND_REG_INLINE_AC_INT16</a></div><div class="ttdeci">@ OPERAND_REG_INLINE_AC_INT16</div><div class="ttdoc">Operands with an AccVGPR register or inline constant.</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00190">SIDefines.h:190</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstrBuilder_html_a47760ffd22a82283df0f5da521feca2a"><div class="ttname"><a href="classllvm_1_1MachineInstrBuilder.html#a47760ffd22a82283df0f5da521feca2a">llvm::MachineInstrBuilder::addMemOperand</a></div><div class="ttdeci">const MachineInstrBuilder &amp; addMemOperand(MachineMemOperand *MMO) const</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00202">MachineInstrBuilder.h:202</a></div></div>
<div class="ttc" id="aSIInstrInfo_8cpp_html_a0dfd55eaf0bcb495f09ecf8c55b256b2a694236b48c9eba2729c27e7b09ded5c3"><div class="ttname"><a href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a694236b48c9eba2729c27e7b09ded5c3">SDWA10</a></div><div class="ttdeci">@ SDWA10</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l08000">SIInstrInfo.cpp:8000</a></div></div>
<div class="ttc" id="aSIInstrInfo_8cpp_html_afe5db8c3cc834e5e22206e4a33aa09ac"><div class="ttname"><a href="SIInstrInfo_8cpp.html#afe5db8c3cc834e5e22206e4a33aa09ac">getVGPRSpillRestoreOpcode</a></div><div class="ttdeci">static unsigned getVGPRSpillRestoreOpcode(unsigned Size)</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l01672">SIInstrInfo.cpp:1672</a></div></div>
<div class="ttc" id="aclassllvm_1_1GCNSubtarget_html_a1fc0ea9be83e3d4cb2aeb2d7b2363e73"><div class="ttname"><a href="classllvm_1_1GCNSubtarget.html#a1fc0ea9be83e3d4cb2aeb2d7b2363e73">llvm::GCNSubtarget::hasGFX90AInsts</a></div><div class="ttdeci">bool hasGFX90AInsts() const</div><div class="ttdef"><b>Definition:</b> <a href="GCNSubtarget_8h_source.html#l01064">GCNSubtarget.h:1064</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_acf2a604407f622a88ca631dfa50dd3b0"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#acf2a604407f622a88ca631dfa50dd3b0">llvm::SIInstrInfo::isAtomic</a></div><div class="ttdeci">static bool isAtomic(const MachineInstr &amp;MI)</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8h_source.html#l00587">SIInstrInfo.h:587</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstrBuilder_html_ad08ed580345a51c50d9477dec1e65818"><div class="ttname"><a href="classllvm_1_1MachineInstrBuilder.html#ad08ed580345a51c50d9477dec1e65818">llvm::MachineInstrBuilder::addReg</a></div><div class="ttdeci">const MachineInstrBuilder &amp; addReg(Register RegNo, unsigned flags=0, unsigned SubReg=0) const</div><div class="ttdoc">Add a new virtual register operand.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00097">MachineInstrBuilder.h:97</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_html_a2fa58f3e19c6038d01bd699308237c14"><div class="ttname"><a href="namespacellvm_1_1AMDGPU.html#a2fa58f3e19c6038d01bd699308237c14">llvm::AMDGPU::getMIMGInfo</a></div><div class="ttdeci">const LLVM_READONLY MIMGInfo * getMIMGInfo(unsigned Opc)</div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_html_ab7679ce5eab5937b9da9e7702aff8cc5ad6dad922f054838a22df6973a79987be"><div class="ttname"><a href="namespacellvm_1_1AMDGPU.html#ab7679ce5eab5937b9da9e7702aff8cc5ad6dad922f054838a22df6973a79987be">llvm::AMDGPU::OPERAND_REG_INLINE_C_V2INT16</a></div><div class="ttdeci">@ OPERAND_REG_INLINE_C_V2INT16</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00180">SIDefines.h:180</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_ac0035d7c1c860501c877c20e6e93297b"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">llvm::MachineOperand::getReg</a></div><div class="ttdeci">Register getReg() const</div><div class="ttdoc">getReg - Returns the register number.</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00369">MachineOperand.h:369</a></div></div>
<div class="ttc" id="anamespacellvm_html_ae58c751054b01f206f9b9e34e461d25f"><div class="ttname"><a href="namespacellvm.html#ae58c751054b01f206f9b9e34e461d25f">llvm::InstructionUniformity</a></div><div class="ttdeci">InstructionUniformity</div><div class="ttdoc">Enum describing how instructions behave with respect to uniformity and divergence,...</div><div class="ttdef"><b>Definition:</b> <a href="Uniformity_8h_source.html#l00018">Uniformity.h:18</a></div></div>
<div class="ttc" id="anamespacellvm_1_1SIInstrFlags_html_ac8376ab01e1f2eb75e242eb464d3992da0666b703f5fe8ee884171492fb6a685a"><div class="ttname"><a href="namespacellvm_1_1SIInstrFlags.html#ac8376ab01e1f2eb75e242eb464d3992da0666b703f5fe8ee884171492fb6a685a">llvm::SIInstrFlags::MIMG</a></div><div class="ttdeci">@ MIMG</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00057">SIDefines.h:57</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_afd9b9b8655c008bf6cd6afb05d41b69e"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#afd9b9b8655c008bf6cd6afb05d41b69e">llvm::MachineBasicBlock::predecessors</a></div><div class="ttdeci">iterator_range&lt; pred_iterator &gt; predecessors()</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00390">MachineBasicBlock.h:390</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_html_ab7679ce5eab5937b9da9e7702aff8cc5af8ac73c62f6f1da6175d32824633a064"><div class="ttname"><a href="namespacellvm_1_1AMDGPU.html#ab7679ce5eab5937b9da9e7702aff8cc5af8ac73c62f6f1da6175d32824633a064">llvm::AMDGPU::OPERAND_REG_IMM_FP32_DEFERRED</a></div><div class="ttdeci">@ OPERAND_REG_IMM_FP32_DEFERRED</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00167">SIDefines.h:167</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScheduleDAGMI_html"><div class="ttname"><a href="classllvm_1_1ScheduleDAGMI.html">llvm::ScheduleDAGMI</a></div><div class="ttdoc">ScheduleDAGMI is an implementation of ScheduleDAGInstrs that simply schedules machine instructions ac...</div><div class="ttdef"><b>Definition:</b> <a href="MachineScheduler_8h_source.html#l00273">MachineScheduler.h:273</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetInstrInfo_html_ace192605e79bfe92ba9418af04ba4cf2"><div class="ttname"><a href="classllvm_1_1TargetInstrInfo.html#ace192605e79bfe92ba9418af04ba4cf2">llvm::TargetInstrInfo::createPHISourceCopy</a></div><div class="ttdeci">virtual MachineInstr * createPHISourceCopy(MachineBasicBlock &amp;MBB, MachineBasicBlock::iterator InsPt, const DebugLoc &amp;DL, Register Src, unsigned SrcSubReg, Register Dst) const</div><div class="ttdoc">During PHI eleimination lets target to make necessary checks and insert the copy to the PHI destinati...</div><div class="ttdef"><b>Definition:</b> <a href="TargetInstrInfo_8h_source.html#l01955">TargetInstrInfo.h:1955</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIMachineFunctionInfo_html_a8fe30fcccc3364b6ff5ee7ba28aed8f8"><div class="ttname"><a href="classllvm_1_1SIMachineFunctionInfo.html#a8fe30fcccc3364b6ff5ee7ba28aed8f8">llvm::SIMachineFunctionInfo::setHasSpilledVGPRs</a></div><div class="ttdeci">void setHasSpilledVGPRs(bool Spill=true)</div><div class="ttdef"><b>Definition:</b> <a href="SIMachineFunctionInfo_8h_source.html#l00914">SIMachineFunctionInfo.h:914</a></div></div>
<div class="ttc" id="aSIInstrInfo_8h_html"><div class="ttname"><a href="SIInstrInfo_8h.html">SIInstrInfo.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_html_ab7679ce5eab5937b9da9e7702aff8cc5aa10ec5681f77906549e7a745593139a9"><div class="ttname"><a href="namespacellvm_1_1AMDGPU.html#ab7679ce5eab5937b9da9e7702aff8cc5aa10ec5681f77906549e7a745593139a9">llvm::AMDGPU::OPERAND_REG_INLINE_AC_FP32</a></div><div class="ttdeci">@ OPERAND_REG_INLINE_AC_FP32</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00193">SIDefines.h:193</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_ac0890848fb02b90b1f7956063bc61cb3"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#ac0890848fb02b90b1f7956063bc61cb3">llvm::MachineOperand::isTargetIndex</a></div><div class="ttdeci">bool isTargetIndex() const</div><div class="ttdoc">isTargetIndex - Tests if this is a MO_TargetIndex operand.</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00343">MachineOperand.h:343</a></div></div>
<div class="ttc" id="aclassllvm_1_1SDNode_html_a1223d6e9a7dfb6e51299b894beccc679"><div class="ttname"><a href="classllvm_1_1SDNode.html#a1223d6e9a7dfb6e51299b894beccc679">llvm::SDNode::isMachineOpcode</a></div><div class="ttdeci">bool isMachineOpcode() const</div><div class="ttdoc">Test if this node has a post-isel opcode, directly corresponding to a MachineInstr opcode.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l00699">SelectionDAGNodes.h:699</a></div></div>
<div class="ttc" id="aAssumeBundleBuilder_8cpp_html_afb136e0532bcaed86521b462e6538d62"><div class="ttname"><a href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a></div><div class="ttdeci">assume Assume Builder</div><div class="ttdef"><b>Definition:</b> <a href="AssumeBundleBuilder_8cpp_source.html#l00651">AssumeBundleBuilder.cpp:651</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_a2d7ac7b1dd9a9e4ae81fb54010f324f9"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#a2d7ac7b1dd9a9e4ae81fb54010f324f9">llvm::SIInstrInfo::isSALU</a></div><div class="ttdeci">static bool isSALU(const MachineInstr &amp;MI)</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8h_source.html#l00354">SIInstrInfo.h:354</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html"><div class="ttname"><a href="classllvm_1_1APInt.html">llvm::APInt</a></div><div class="ttdoc">Class for arbitrary precision integers.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00075">APInt.h:75</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_a2d04c20f5631c0950af280cb294db89d"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#a2d04c20f5631c0950af280cb294db89d">llvm::SIInstrInfo::insertReturn</a></div><div class="ttdeci">void insertReturn(MachineBasicBlock &amp;MBB) const</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l01848">SIInstrInfo.cpp:1848</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html"><div class="ttname"><a href="classllvm_1_1MachineFunction.html">llvm::MachineFunction</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00258">MachineFunction.h:258</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCInstrDesc_html_a1652b3fb1337b788da41bd95a348990c"><div class="ttname"><a href="classllvm_1_1MCInstrDesc.html#a1652b3fb1337b788da41bd95a348990c">llvm::MCInstrDesc::mayStore</a></div><div class="ttdeci">bool mayStore() const</div><div class="ttdoc">Return true if this instruction could possibly modify memory.</div><div class="ttdef"><b>Definition:</b> <a href="MCInstrDesc_8h_source.html#l00443">MCInstrDesc.h:443</a></div></div>
<div class="ttc" id="aclassllvm_1_1SetVector_html_a72d928b7fc2c5f2d56c6ac0265fd9c6e"><div class="ttname"><a href="classllvm_1_1SetVector.html#a72d928b7fc2c5f2d56c6ac0265fd9c6e">llvm::SetVector::insert</a></div><div class="ttdeci">bool insert(const value_type &amp;X)</div><div class="ttdoc">Insert a new element into the SetVector.</div><div class="ttdef"><b>Definition:</b> <a href="SetVector_8h_source.html#l00141">SetVector.h:141</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_html_a04097b4ec5e8da48a2fb3c407900f938"><div class="ttname"><a href="namespacellvm_1_1AMDGPU.html#a04097b4ec5e8da48a2fb3c407900f938">llvm::AMDGPU::isInlinableLiteral16</a></div><div class="ttdeci">bool isInlinableLiteral16(int16_t Literal, bool HasInv2Pi)</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUBaseInfo_8cpp_source.html#l02409">AMDGPUBaseInfo.cpp:2409</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_html_ab7679ce5eab5937b9da9e7702aff8cc5aea3ce103b7ba06ee5ca50925e7064101"><div class="ttname"><a href="namespacellvm_1_1AMDGPU.html#ab7679ce5eab5937b9da9e7702aff8cc5aea3ce103b7ba06ee5ca50925e7064101">llvm::AMDGPU::OPERAND_REG_IMM_INT16</a></div><div class="ttdeci">@ OPERAND_REG_IMM_INT16</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00162">SIDefines.h:162</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_html_a8adcca4377f5dfb320d2f81a84a9998e"><div class="ttname"><a href="namespacellvm_1_1AMDGPU.html#a8adcca4377f5dfb320d2f81a84a9998e">llvm::AMDGPU::getMIMGBaseOpcodeInfo</a></div><div class="ttdeci">const LLVM_READONLY MIMGBaseOpcodeInfo * getMIMGBaseOpcodeInfo(unsigned BaseOpcode)</div></div>
<div class="ttc" id="aclassllvm_1_1MachineRegisterInfo_html_a4ea277721b4e63804715a62de87e9a72"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#a4ea277721b4e63804715a62de87e9a72">llvm::MachineRegisterInfo::use_nodbg_empty</a></div><div class="ttdeci">bool use_nodbg_empty(Register RegNo) const</div><div class="ttdoc">use_nodbg_empty - Return true if there are no non-Debug instructions using the specified register.</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8h_source.html#l00588">MachineRegisterInfo.h:588</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1CPol_html_a7d79a4b341da8ac60b91c1f4b1ea42c4aca1659af59093b2b14c2f8aad41e8e2a"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1CPol.html#a7d79a4b341da8ac60b91c1f4b1ea42c4aca1659af59093b2b14c2f8aad41e8e2a">llvm::AMDGPU::CPol::SCC</a></div><div class="ttdeci">@ SCC</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00316">SIDefines.h:316</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_html_ab7679ce5eab5937b9da9e7702aff8cc5a9f903a56d49f51a4697c5198aaea3459"><div class="ttname"><a href="namespacellvm_1_1AMDGPU.html#ab7679ce5eab5937b9da9e7702aff8cc5a9f903a56d49f51a4697c5198aaea3459">llvm::AMDGPU::OPERAND_REG_INLINE_AC_INT32</a></div><div class="ttdeci">@ OPERAND_REG_INLINE_AC_INT32</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00191">SIDefines.h:191</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_aa8d1d8d88835b75b05b14ab774785e8a"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#aa8d1d8d88835b75b05b14ab774785e8a">llvm::MachineBasicBlock::succ_empty</a></div><div class="ttdeci">bool succ_empty() const</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00388">MachineBasicBlock.h:388</a></div></div>
<div class="ttc" id="aSIInstrInfo_8cpp_html_a570cee6dbf51f5e1760c1e20a7b16b38"><div class="ttname"><a href="SIInstrInfo_8cpp.html#a570cee6dbf51f5e1760c1e20a7b16b38">adjustAllocatableRegClass</a></div><div class="ttdeci">static const TargetRegisterClass * adjustAllocatableRegClass(const GCNSubtarget &amp;ST, const SIRegisterInfo &amp;RI, const MachineRegisterInfo &amp;MRI, const MCInstrDesc &amp;TID, unsigned RCID, bool IsAllocatable)</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l04885">SIInstrInfo.cpp:4885</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScheduleDAG_html"><div class="ttname"><a href="classllvm_1_1ScheduleDAG.html">llvm::ScheduleDAG</a></div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8h_source.html#l00554">ScheduleDAG.h:554</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIRegisterInfo_html_a2188a3779b5fa9631631a60b3512c81e"><div class="ttname"><a href="classllvm_1_1SIRegisterInfo.html#a2188a3779b5fa9631631a60b3512c81e">llvm::SIRegisterInfo::get32BitRegister</a></div><div class="ttdeci">MCPhysReg get32BitRegister(MCPhysReg Reg) const</div><div class="ttdef"><b>Definition:</b> <a href="SIRegisterInfo_8cpp_source.html#l03111">SIRegisterInfo.cpp:3111</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_a16c0128051315d3d5cc1f32047c7449c"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#a16c0128051315d3d5cc1f32047c7449c">llvm::SIInstrInfo::mayAccessFlatAddressSpace</a></div><div class="ttdeci">bool mayAccessFlatAddressSpace(const MachineInstr &amp;MI) const</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l07657">SIInstrInfo.cpp:7657</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_afe1b887d2fad2d25f93580c261fea3a9"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#afe1b887d2fad2d25f93580c261fea3a9">llvm::SIInstrInfo::isVOP1</a></div><div class="ttdeci">static bool isVOP1(const MachineInstr &amp;MI)</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8h_source.html#l00426">SIInstrInfo.h:426</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_html_a062b134de5c9143eab05c83faab131e9"><div class="ttname"><a href="namespacellvm_1_1AMDGPU.html#a062b134de5c9143eab05c83faab131e9">llvm::AMDGPU::RSRC_DATA_FORMAT</a></div><div class="ttdeci">const uint64_t RSRC_DATA_FORMAT</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8h_source.html#l01324">SIInstrInfo.h:1324</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetMachine_html_a171c7253c2b03171bdf22c1bd910f674"><div class="ttname"><a href="classllvm_1_1TargetMachine.html#a171c7253c2b03171bdf22c1bd910f674">llvm::TargetMachine::getMCAsmInfo</a></div><div class="ttdeci">const MCAsmInfo * getMCAsmInfo() const</div><div class="ttdoc">Return target specific asm information.</div><div class="ttdef"><b>Definition:</b> <a href="Target_2TargetMachine_8h_source.html#l00213">TargetMachine.h:213</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_a7f0521fa2de44271fd4b909ea7351ef3"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#a7f0521fa2de44271fd4b909ea7351ef3">llvm::MachineBasicBlock::getFirstTerminator</a></div><div class="ttdeci">iterator getFirstTerminator()</div><div class="ttdoc">Returns an iterator to the first terminator instruction of this basic block.</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8cpp_source.html#l00240">MachineBasicBlock.cpp:240</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_ad34047d7a876baee37d1e4271f936e74"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#ad34047d7a876baee37d1e4271f936e74">llvm::SIInstrInfo::shouldClusterMemOps</a></div><div class="ttdeci">bool shouldClusterMemOps(ArrayRef&lt; const MachineOperand * &gt; BaseOps1, ArrayRef&lt; const MachineOperand * &gt; BaseOps2, unsigned NumLoads, unsigned NumBytes) const override</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l00481">SIInstrInfo.cpp:481</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIRegisterInfo_html_a2c4185689ad93fedfa57db7bfeb8ddd3"><div class="ttname"><a href="classllvm_1_1SIRegisterInfo.html#a2c4185689ad93fedfa57db7bfeb8ddd3">llvm::SIRegisterInfo::hasVectorRegisters</a></div><div class="ttdeci">static bool hasVectorRegisters(const TargetRegisterClass *RC)</div><div class="ttdef"><b>Definition:</b> <a href="SIRegisterInfo_8h_source.html#l00233">SIRegisterInfo.h:233</a></div></div>
<div class="ttc" id="aclassllvm_1_1ArrayRef_html"><div class="ttname"><a href="classllvm_1_1ArrayRef.html">llvm::ArrayRef</a></div><div class="ttdoc">ArrayRef - Represent a constant reference to an array (0 or more elements consecutively in memory),...</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00033">APInt.h:33</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_ad73e9b3e610bd8cac60e740a61fcf5bf"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#ad73e9b3e610bd8cac60e740a61fcf5bf">llvm::SIInstrInfo::insertBranch</a></div><div class="ttdeci">unsigned insertBranch(MachineBasicBlock &amp;MBB, MachineBasicBlock *TBB, MachineBasicBlock *FBB, ArrayRef&lt; MachineOperand &gt; Cond, const DebugLoc &amp;DL, int *BytesAdded=nullptr) const override</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l02774">SIInstrInfo.cpp:2774</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_acf5805a583f1403b04347f8c0f5df005"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#acf5805a583f1403b04347f8c0f5df005">llvm::SIInstrInfo::canInsertSelect</a></div><div class="ttdeci">bool canInsertSelect(const MachineBasicBlock &amp;MBB, ArrayRef&lt; MachineOperand &gt; Cond, Register DstReg, Register TrueReg, Register FalseReg, int &amp;CondCycles, int &amp;TrueCycles, int &amp;FalseCycles) const override</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l02848">SIInstrInfo.cpp:2848</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIRegisterInfo_html_add069634d629007ba8a03a426c6bfea7"><div class="ttname"><a href="classllvm_1_1SIRegisterInfo.html#add069634d629007ba8a03a426c6bfea7">llvm::SIRegisterInfo::isVectorSuperClass</a></div><div class="ttdeci">bool isVectorSuperClass(const TargetRegisterClass *RC) const</div><div class="ttdef"><b>Definition:</b> <a href="SIRegisterInfo_8h_source.html#l00208">SIRegisterInfo.h:208</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_ade90146180a53b9d9edc077b933e70bba5330b2c3f2242c9c700f91ae1372500e"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#ade90146180a53b9d9edc077b933e70bba5330b2c3f2242c9c700f91ae1372500e">llvm::SIInstrInfo::MO_REL32_HI</a></div><div class="ttdeci">@ MO_REL32_HI</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8h_source.html#l00169">SIInstrInfo.h:169</a></div></div>
<div class="ttc" id="aclassllvm_1_1SetVector_html_a3499f6a24500afba2c318295ad2d2d05"><div class="ttname"><a href="classllvm_1_1SetVector.html#a3499f6a24500afba2c318295ad2d2d05">llvm::SetVector::pop_back_val</a></div><div class="ttdeci">T pop_back_val()</div><div class="ttdef"><b>Definition:</b> <a href="SetVector_8h_source.html#l00225">SetVector.h:225</a></div></div>
<div class="ttc" id="astructllvm_1_1TargetInstrInfo_1_1RegSubRegPair_html_a66f92cf2247d7b3c3a351ff48dd42d7d"><div class="ttname"><a href="structllvm_1_1TargetInstrInfo_1_1RegSubRegPair.html#a66f92cf2247d7b3c3a351ff48dd42d7d">llvm::TargetInstrInfo::RegSubRegPair::SubReg</a></div><div class="ttdeci">unsigned SubReg</div><div class="ttdef"><b>Definition:</b> <a href="TargetInstrInfo_8h_source.html#l00496">TargetInstrInfo.h:496</a></div></div>
<div class="ttc" id="anamespacellvm_html_a57f2ca0e57f4f7b13f56f9aa16af3e0d"><div class="ttname"><a href="namespacellvm.html#a57f2ca0e57f4f7b13f56f9aa16af3e0d">llvm::min</a></div><div class="ttdeci">Expected&lt; ExpressionValue &gt; min(const ExpressionValue &amp;Lhs, const ExpressionValue &amp;Rhs)</div><div class="ttdef"><b>Definition:</b> <a href="FileCheck_8cpp_source.html#l00357">FileCheck.cpp:357</a></div></div>
<div class="ttc" id="aclassllvm_1_1SrcOp_html_ae229785d0c8a8ce25d34be18fe150a54"><div class="ttname"><a href="classllvm_1_1SrcOp.html#ae229785d0c8a8ce25d34be18fe150a54">llvm::SrcOp::getReg</a></div><div class="ttdeci">Register getReg() const</div><div class="ttdef"><b>Definition:</b> <a href="MachineIRBuilder_8h_source.html#l00180">MachineIRBuilder.h:180</a></div></div>
<div class="ttc" id="anamespacellvm_html_a61d13d6824ec46c31260a4fd0997eda0"><div class="ttname"><a href="namespacellvm.html#a61d13d6824ec46c31260a4fd0997eda0">llvm::any_of</a></div><div class="ttdeci">bool any_of(R &amp;&amp;range, UnaryPredicate P)</div><div class="ttdoc">Provide wrappers to std::any_of which take ranges instead of having to pass begin/end explicitly.</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l01742">STLExtras.h:1742</a></div></div>
<div class="ttc" id="aBasicBlockSections_8cpp_html_a5fd0741d696f28faf65b33f6c6af8fda"><div class="ttname"><a href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a></div><div class="ttdeci">SmallVector&lt; MachineOperand, 4 &gt; Cond</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlockSections_8cpp_source.html#l00137">BasicBlockSections.cpp:137</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_a1f6067626e3318b8569835d83acbd92e"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#a1f6067626e3318b8569835d83acbd92e">llvm::SIInstrInfo::usesConstantBus</a></div><div class="ttdeci">bool usesConstantBus(const MachineRegisterInfo &amp;MRI, const MachineOperand &amp;MO, const MCOperandInfo &amp;OpInfo) const</div><div class="ttdoc">Returns true if this operand uses the constant bus.</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l04022">SIInstrInfo.cpp:4022</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_a4d2c96836214c1f13357ffb99125fb4a"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#a4d2c96836214c1f13357ffb99125fb4a">llvm::MachineBasicBlock::successors</a></div><div class="ttdeci">iterator_range&lt; succ_iterator &gt; successors()</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00396">MachineBasicBlock.h:396</a></div></div>
<div class="ttc" id="aclassllvm_1_1StringRef_html"><div class="ttname"><a href="classllvm_1_1StringRef.html">llvm::StringRef</a></div><div class="ttdoc">StringRef - Represent a constant reference to a string, i.e.</div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00050">StringRef.h:50</a></div></div>
<div class="ttc" id="aclassllvm_1_1GCNSubtarget_html_a1b42b67d0df8ad1a351bbdc503c115a1"><div class="ttname"><a href="classllvm_1_1GCNSubtarget.html#a1b42b67d0df8ad1a351bbdc503c115a1">llvm::GCNSubtarget::hasFlatInstOffsets</a></div><div class="ttdeci">bool hasFlatInstOffsets() const</div><div class="ttdef"><b>Definition:</b> <a href="GCNSubtarget_8h_source.html#l00579">GCNSubtarget.h:579</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_ab92b353cd5e64914fd35af38bb31e61b"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#ab92b353cd5e64914fd35af38bb31e61b">llvm::SIInstrInfo::verifyInstruction</a></div><div class="ttdeci">bool verifyInstruction(const MachineInstr &amp;MI, StringRef &amp;ErrInfo) const override</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l04102">SIInstrInfo.cpp:4102</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_adf0023bdc4f05a7849c35b1c859580d8"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#adf0023bdc4f05a7849c35b1c859580d8">llvm::MachineBasicBlock::splice</a></div><div class="ttdeci">void splice(iterator Where, MachineBasicBlock *Other, iterator From)</div><div class="ttdoc">Take an instruction from MBB 'Other' at the position From, and insert it into this MBB right before '...</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l01037">MachineBasicBlock.h:1037</a></div></div>
<div class="ttc" id="aAMDGPU_8h_html"><div class="ttname"><a href="AMDGPU_8h.html">AMDGPU.h</a></div></div>
<div class="ttc" id="aAArch64SLSHardening_8cpp_html_ad5f691fdc1a09aaf6df5fef958b35a3d"><div class="ttname"><a href="AArch64SLSHardening_8cpp.html#ad5f691fdc1a09aaf6df5fef958b35a3d">MBBI</a></div><div class="ttdeci">MachineBasicBlock MachineBasicBlock::iterator MBBI</div><div class="ttdef"><b>Definition:</b> <a href="AArch64SLSHardening_8cpp_source.html#l00075">AArch64SLSHardening.cpp:75</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_a0363204b5fbab08a46f5a7cd7f376f78"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a0363204b5fbab08a46f5a7cd7f376f78">llvm::MachineInstr::getOpcode</a></div><div class="ttdeci">unsigned getOpcode() const</div><div class="ttdoc">Returns the opcode of this MachineInstr.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00516">MachineInstr.h:516</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineRegisterInfo_html_a01bf72631b0bc836a8c07fe840b13233"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#a01bf72631b0bc836a8c07fe840b13233">llvm::MachineRegisterInfo::hasOneNonDBGUse</a></div><div class="ttdeci">bool hasOneNonDBGUse(Register RegNo) const</div><div class="ttdoc">hasOneNonDBGUse - Return true if there is exactly one non-Debug use of the specified register.</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8cpp_source.html#l00417">MachineRegisterInfo.cpp:417</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_a8e66e9ca7739874b25b9337940c26a0a"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a8e66e9ca7739874b25b9337940c26a0a">llvm::MachineInstr::untieRegOperand</a></div><div class="ttdeci">void untieRegOperand(unsigned OpIdx)</div><div class="ttdoc">Break any tie involving OpIdx.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l01862">MachineInstr.h:1862</a></div></div>
<div class="ttc" id="anamespacellvm_html_a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4"><div class="ttname"><a href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">llvm::Offset</a></div><div class="ttdeci">@ Offset</div><div class="ttdef"><b>Definition:</b> <a href="DWP_8cpp_source.html#l00406">DWP.cpp:406</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScheduleDAG_html_a5a3d3d075a208011a24a0918b58d7daa"><div class="ttname"><a href="classllvm_1_1ScheduleDAG.html#a5a3d3d075a208011a24a0918b58d7daa">llvm::ScheduleDAG::MF</a></div><div class="ttdeci">MachineFunction &amp; MF</div><div class="ttdoc">Machine function.</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8h_source.html#l00559">ScheduleDAG.h:559</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIRegisterInfo_html_a2adf69ba524926c5454f5d259c1c4dac"><div class="ttname"><a href="classllvm_1_1SIRegisterInfo.html#a2adf69ba524926c5454f5d259c1c4dac">llvm::SIRegisterInfo::isProperlyAlignedRC</a></div><div class="ttdeci">bool isProperlyAlignedRC(const TargetRegisterClass &amp;RC) const</div><div class="ttdef"><b>Definition:</b> <a href="SIRegisterInfo_8cpp_source.html#l03128">SIRegisterInfo.cpp:3128</a></div></div>
<div class="ttc" id="aSupport_2ErrorHandling_8h_html_ace243f5c25697a1107cce46626b3dc94"><div class="ttname"><a href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a></div><div class="ttdeci">#define llvm_unreachable(msg)</div><div class="ttdoc">Marks that the current location is not supposed to be reachable.</div><div class="ttdef"><b>Definition:</b> <a href="Support_2ErrorHandling_8h_source.html#l00143">ErrorHandling.h:143</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_a3295a9f4a742f69dfa4d7bb91cced3a9"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#a3295a9f4a742f69dfa4d7bb91cced3a9">llvm::SIInstrInfo::isSDWA</a></div><div class="ttdeci">static bool isSDWA(const MachineInstr &amp;MI)</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8h_source.html#l00450">SIInstrInfo.h:450</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineRegisterInfo_html_ab87a00eb296cb02039f5a5580a54efd1"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#ab87a00eb296cb02039f5a5580a54efd1">llvm::MachineRegisterInfo::use_begin</a></div><div class="ttdeci">use_iterator use_begin(Register RegNo) const</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8h_source.html#l00486">MachineRegisterInfo.h:486</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineRegisterInfo_html_a8e27d94e24a9bc2d6c7d719bed9637e3"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#a8e27d94e24a9bc2d6c7d719bed9637e3">llvm::MachineRegisterInfo::setRegAllocationHint</a></div><div class="ttdeci">void setRegAllocationHint(Register VReg, unsigned Type, Register PrefReg)</div><div class="ttdoc">setRegAllocationHint - Specify a register allocation hint for the specified virtual register.</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8h_source.html#l00792">MachineRegisterInfo.h:792</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIRegisterInfo_html_aed80e0d9bfe4e57de24283efa7572eb4"><div class="ttname"><a href="classllvm_1_1SIRegisterInfo.html#aed80e0d9bfe4e57de24283efa7572eb4">llvm::SIRegisterInfo::spillSGPRToVGPR</a></div><div class="ttdeci">bool spillSGPRToVGPR() const</div><div class="ttdef"><b>Definition:</b> <a href="SIRegisterInfo_8h_source.html#l00069">SIRegisterInfo.h:69</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_ab979122f21b7fa46d3d2d9b21983068b"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#ab979122f21b7fa46d3d2d9b21983068b">llvm::MachineOperand::setIsUndef</a></div><div class="ttdeci">void setIsUndef(bool Val=true)</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00530">MachineOperand.h:530</a></div></div>
<div class="ttc" id="aclassuint32__t_html"><div class="ttname"><a href="classuint32__t.html">uint32_t</a></div></div>
<div class="ttc" id="aclassllvm_1_1MIBundleBuilder_html"><div class="ttname"><a href="classllvm_1_1MIBundleBuilder.html">llvm::MIBundleBuilder</a></div><div class="ttdoc">Helper class for constructing bundles of MachineInstrs.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00567">MachineInstrBuilder.h:567</a></div></div>
<div class="ttc" id="anamespacellvm_html_ae58c751054b01f206f9b9e34e461d25fa7a1920d61156abc05a60135aefe8bc67"><div class="ttname"><a href="namespacellvm.html#ae58c751054b01f206f9b9e34e461d25fa7a1920d61156abc05a60135aefe8bc67">llvm::InstructionUniformity::Default</a></div><div class="ttdeci">@ Default</div><div class="ttdoc">The result values are uniform if and only if all operands are uniform.</div></div>
<div class="ttc" id="aclassllvm_1_1ilist__node__impl_html_af719fc783be6589465137d997701a432"><div class="ttname"><a href="classllvm_1_1ilist__node__impl.html#af719fc783be6589465137d997701a432">llvm::ilist_node_impl::getIterator</a></div><div class="ttdeci">self_iterator getIterator()</div><div class="ttdef"><b>Definition:</b> <a href="ilist__node_8h_source.html#l00082">ilist_node.h:82</a></div></div>
<div class="ttc" id="aAArch64SLSHardening_8cpp_html_ad467c4ab9119043f9b7750ab986be61a"><div class="ttname"><a href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a></div><div class="ttdeci">MachineBasicBlock MachineBasicBlock::iterator DebugLoc DL</div><div class="ttdef"><b>Definition:</b> <a href="AArch64SLSHardening_8cpp_source.html#l00076">AArch64SLSHardening.cpp:76</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_a323a96a23d09892cc1b252bf1cba2732"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#a323a96a23d09892cc1b252bf1cba2732">llvm::SIInstrInfo::isVOP2</a></div><div class="ttdeci">static bool isVOP2(const MachineInstr &amp;MI)</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8h_source.html#l00434">SIInstrInfo.h:434</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_a241b0b6bb1961190125114fb88db4a27"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#a241b0b6bb1961190125114fb88db4a27">llvm::SIInstrInfo::optimizeCompareInstr</a></div><div class="ttdeci">bool optimizeCompareInstr(MachineInstr &amp;CmpInstr, Register SrcReg, Register SrcReg2, int64_t CmpMask, int64_t CmpValue, const MachineRegisterInfo *MRI) const override</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l08579">SIInstrInfo.cpp:8579</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_html_a7fba5af4359eeeef753f1c286ea8d0d7"><div class="ttname"><a href="namespacellvm_1_1AMDGPU.html#a7fba5af4359eeeef753f1c286ea8d0d7">llvm::AMDGPU::isSISrcOperand</a></div><div class="ttdeci">bool isSISrcOperand(const MCInstrDesc &amp;Desc, unsigned OpNo)</div><div class="ttdoc">Is this an AMDGPU specific source operand? These include registers, inline constants,...</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUBaseInfo_8cpp_source.html#l02162">AMDGPUBaseInfo.cpp:2162</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_html_af9f05d3701d61f10054f263eec92da45"><div class="ttname"><a href="namespacellvm_1_1AMDGPU.html#af9f05d3701d61f10054f263eec92da45">llvm::AMDGPU::isGraphics</a></div><div class="ttdeci">bool isGraphics(CallingConv::ID cc)</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUBaseInfo_8cpp_source.html#l01883">AMDGPUBaseInfo.cpp:1883</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineRegisterInfo_html_aea6bca2d194dea4aa5634cf5c394ebdc"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#aea6bca2d194dea4aa5634cf5c394ebdc">llvm::MachineRegisterInfo::removeRegOperandFromUseList</a></div><div class="ttdeci">void removeRegOperandFromUseList(MachineOperand *MO)</div><div class="ttdoc">Remove MO from its use-def list.</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8cpp_source.html#l00304">MachineRegisterInfo.cpp:304</a></div></div>
<div class="ttc" id="aclassAMDGPUGenInstrInfo_html"><div class="ttname"><a href="classAMDGPUGenInstrInfo.html">AMDGPUGenInstrInfo</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_a8616d2d8f4c04005569e89bcfe67e421"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#a8616d2d8f4c04005569e89bcfe67e421">llvm::SIInstrInfo::isMUBUF</a></div><div class="ttdeci">static bool isMUBUF(const MachineInstr &amp;MI)</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8h_source.html#l00466">SIInstrInfo.h:466</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_a002fd916e7206e01d512eeb06d405cf0"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a002fd916e7206e01d512eeb06d405cf0">llvm::MachineInstr::getParent</a></div><div class="ttdeci">const MachineBasicBlock * getParent() const</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00313">MachineInstr.h:313</a></div></div>
<div class="ttc" id="aSIInstrInfo_8cpp_html_a19e16a0f3c37ba1524eb85c891bfa760"><div class="ttname"><a href="SIInstrInfo_8cpp.html#a19e16a0f3c37ba1524eb85c891bfa760">compareMachineOp</a></div><div class="ttdeci">static bool compareMachineOp(const MachineOperand &amp;Op0, const MachineOperand &amp;Op1)</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l03831">SIInstrInfo.cpp:3831</a></div></div>
<div class="ttc" id="aclassllvm_1_1ArrayRef_html_a6bc2b53fce3b1d8975eea027d8a8eb90"><div class="ttname"><a href="classllvm_1_1ArrayRef.html#a6bc2b53fce3b1d8975eea027d8a8eb90">llvm::ArrayRef::front</a></div><div class="ttdeci">const T &amp; front() const</div><div class="ttdoc">front - Get the first element.</div><div class="ttdef"><b>Definition:</b> <a href="ArrayRef_8h_source.html#l00166">ArrayRef.h:166</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineMemOperand_html_aaa2020e47e35179234b9ea27d555b2dda7d12be6206e5b0026c71bbcd5cb76494"><div class="ttname"><a href="classllvm_1_1MachineMemOperand.html#aaa2020e47e35179234b9ea27d555b2dda7d12be6206e5b0026c71bbcd5cb76494">llvm::MachineMemOperand::MOLoad</a></div><div class="ttdeci">@ MOLoad</div><div class="ttdoc">The memory access reads data.</div><div class="ttdef"><b>Definition:</b> <a href="MachineMemOperand_8h_source.html#l00134">MachineMemOperand.h:134</a></div></div>
<div class="ttc" id="aAArch64AdvSIMDScalarPass_8cpp_html_aacd2ab195054a3e6a74bfbb9d5d571c8"><div class="ttname"><a href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a></div><div class="ttdeci">unsigned const MachineRegisterInfo * MRI</div><div class="ttdef"><b>Definition:</b> <a href="AArch64AdvSIMDScalarPass_8cpp_source.html#l00105">AArch64AdvSIMDScalarPass.cpp:105</a></div></div>
<div class="ttc" id="aclassllvm_1_1Register_html"><div class="ttname"><a href="classllvm_1_1Register.html">llvm::Register</a></div><div class="ttdoc">Wrapper class representing virtual and physical registers.</div><div class="ttdef"><b>Definition:</b> <a href="Register_8h_source.html#l00019">Register.h:19</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_a028a8c5113d40d8c3f4427053bf36738"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a028a8c5113d40d8c3f4427053bf36738">llvm::MachineOperand::getSubReg</a></div><div class="ttdeci">unsigned getSubReg() const</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00374">MachineOperand.h:374</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_adf5d3b4379e4e570f14f6700d6e87467"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#adf5d3b4379e4e570f14f6700d6e87467">llvm::SIInstrInfo::commuteInstructionImpl</a></div><div class="ttdeci">MachineInstr * commuteInstructionImpl(MachineInstr &amp;MI, bool NewMI, unsigned OpIdx0, unsigned OpIdx1) const override</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l02398">SIInstrInfo.cpp:2398</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_a4ab6232188433548694ea1a9a98d542f"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#a4ab6232188433548694ea1a9a98d542f">llvm::SIInstrInfo::CreateTargetMIHazardRecognizer</a></div><div class="ttdeci">ScheduleHazardRecognizer * CreateTargetMIHazardRecognizer(const InstrItineraryData *II, const ScheduleDAGMI *DAG) const override</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l07773">SIInstrInfo.cpp:7773</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1SendMsg_html_ad7fab8522e49be1b20c4db4fc431bd3c"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#ad7fab8522e49be1b20c4db4fc431bd3c">llvm::AMDGPU::SendMsg::Msg</a></div><div class="ttdeci">const CustomOperand&lt; const MCSubtargetInfo &amp; &gt; Msg[]</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUAsmUtils_8cpp_source.html#l00039">AMDGPUAsmUtils.cpp:39</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1DPP_html_aa27612400d9f4f18653d361495d67b08a40ba804f3ab3eae632ab10e37179a2e9"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1DPP.html#aa27612400d9f4f18653d361495d67b08a40ba804f3ab3eae632ab10e37179a2e9">llvm::AMDGPU::DPP::ROW_XMASK_LAST</a></div><div class="ttdeci">@ ROW_XMASK_LAST</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00852">SIDefines.h:852</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1VGPRIndexMode_html_af5252ebf458b72b49d66ec97f51841e3adf241b71cde6b36cee10241a2e89fda3"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1VGPRIndexMode.html#af5252ebf458b72b49d66ec97f51841e3adf241b71cde6b36cee10241a2e89fda3">llvm::AMDGPU::VGPRIndexMode::DST_ENABLE</a></div><div class="ttdeci">@ DST_ENABLE</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00265">SIDefines.h:265</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_a6ca25d96b652c00368600bd3845f5591"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#a6ca25d96b652c00368600bd3845f5591">llvm::SIInstrInfo::isKillTerminator</a></div><div class="ttdeci">static bool isKillTerminator(unsigned Opcode)</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l07856">SIInstrInfo.cpp:7856</a></div></div>
<div class="ttc" id="aclassllvm_1_1RegScavenger_html_a4f1af6e587ae8846628561570b54e2ee"><div class="ttname"><a href="classllvm_1_1RegScavenger.html#a4f1af6e587ae8846628561570b54e2ee">llvm::RegScavenger::enterBasicBlock</a></div><div class="ttdeci">void enterBasicBlock(MachineBasicBlock &amp;MBB)</div><div class="ttdoc">Start tracking liveness from the begin of basic block MBB.</div><div class="ttdef"><b>Definition:</b> <a href="RegisterScavenging_8cpp_source.html#l00082">RegisterScavenging.cpp:82</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_html_a96286d8f7d90ece30046d826bbb71422"><div class="ttname"><a href="namespacellvm_1_1AMDGPU.html#a96286d8f7d90ece30046d826bbb71422">llvm::AMDGPU::getCommuteRev</a></div><div class="ttdeci">LLVM_READONLY int getCommuteRev(uint16_t Opcode)</div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_ad1b876e5ef51615ffe027d180ea6c07f"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#ad1b876e5ef51615ffe027d180ea6c07f">llvm::SIInstrInfo::storeRegToStackSlot</a></div><div class="ttdeci">void storeRegToStackSlot(MachineBasicBlock &amp;MBB, MachineBasicBlock::iterator MI, Register SrcReg, bool isKill, int FrameIndex, const TargetRegisterClass *RC, const TargetRegisterInfo *TRI, Register VReg) const override</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l01578">SIInstrInfo.cpp:1578</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a4b437632fd9b97dd36010d85eb363efe"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4b437632fd9b97dd36010d85eb363efe">llvm::ISD::FrameIndex</a></div><div class="ttdeci">@ FrameIndex</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00080">ISDOpcodes.h:80</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineRegisterInfo_html_af16c39ee36e4633f821b6820f8bd52ef"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#af16c39ee36e4633f821b6820f8bd52ef">llvm::MachineRegisterInfo::replaceRegWith</a></div><div class="ttdeci">void replaceRegWith(Register FromReg, Register ToReg)</div><div class="ttdoc">replaceRegWith - Replace all instances of FromReg with ToReg in the machine function.</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8cpp_source.html#l00380">MachineRegisterInfo.cpp:380</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_a864a107b54979b53706e9d88f51c07e3"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#a864a107b54979b53706e9d88f51c07e3">llvm::SIInstrInfo::expandPostRAPseudo</a></div><div class="ttdeci">bool expandPostRAPseudo(MachineInstr &amp;MI) const override</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l01880">SIInstrInfo.cpp:1880</a></div></div>
<div class="ttc" id="aAArch64SLSHardening_8cpp_html_a5958512eae2979bd2eb383977996a600"><div class="ttname"><a href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a></div><div class="ttdeci">MachineBasicBlock &amp; MBB</div><div class="ttdef"><b>Definition:</b> <a href="AArch64SLSHardening_8cpp_source.html#l00074">AArch64SLSHardening.cpp:74</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_html_abe1ffb7444626273ec47b5526acfdeeca89d5abd5e008a11096b19f24eb566914"><div class="ttname"><a href="namespacellvm_1_1AMDGPU.html#abe1ffb7444626273ec47b5526acfdeeca89d5abd5e008a11096b19f24eb566914">llvm::AMDGPU::TI_SCRATCH_RSRC_DWORD3</a></div><div class="ttdeci">@ TI_SCRATCH_RSRC_DWORD3</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPU_8h_source.html#l00357">AMDGPU.h:357</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_html_ab7679ce5eab5937b9da9e7702aff8cc5ae51ff25f16b928b2b8712a613e4fd3db"><div class="ttname"><a href="namespacellvm_1_1AMDGPU.html#ab7679ce5eab5937b9da9e7702aff8cc5ae51ff25f16b928b2b8712a613e4fd3db">llvm::AMDGPU::OPERAND_REG_INLINE_AC_FP64</a></div><div class="ttdeci">@ OPERAND_REG_INLINE_AC_FP64</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00194">SIDefines.h:194</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_a4cb529d6108d5dfdf8479ac3b03c9812"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#a4cb529d6108d5dfdf8479ac3b03c9812">llvm::SIInstrInfo::legalizeOpWithMove</a></div><div class="ttdeci">void legalizeOpWithMove(MachineInstr &amp;MI, unsigned OpIdx) const</div><div class="ttdoc">Legalize the OpIndex operand of this instruction by inserting a MOV.</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l04967">SIInstrInfo.cpp:4967</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_a28183beb0c1d8ce3fcdbb11b26467b0d"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#a28183beb0c1d8ce3fcdbb11b26467b0d">llvm::SIInstrInfo::getMemOperandsWithOffsetWidth</a></div><div class="ttdeci">bool getMemOperandsWithOffsetWidth(const MachineInstr &amp;LdSt, SmallVectorImpl&lt; const MachineOperand * &gt; &amp;BaseOps, int64_t &amp;Offset, bool &amp;OffsetIsScalable, unsigned &amp;Width, const TargetRegisterInfo *TRI) const final</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l00294">SIInstrInfo.cpp:294</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1SDWA_html_a487d59303b94fbf4adddd9a08c30da0aa3bd07eb171e650bc021c8e2517e175d0"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1SDWA.html#a487d59303b94fbf4adddd9a08c30da0aa3bd07eb171e650bc021c8e2517e175d0">llvm::AMDGPU::SDWA::WORD_1</a></div><div class="ttdeci">@ WORD_1</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00781">SIDefines.h:781</a></div></div>
<div class="ttc" id="aAMDGPUInstrInfo_8h_html"><div class="ttname"><a href="AMDGPUInstrInfo_8h.html">AMDGPUInstrInfo.h</a></div></div>
<div class="ttc" id="aSIInstrInfo_8cpp_html_aa00f1c78a13c5a7a93b0dbc0e3031476"><div class="ttname"><a href="SIInstrInfo_8cpp.html#aa00f1c78a13c5a7a93b0dbc0e3031476">Fix16BitCopies</a></div><div class="ttdeci">static cl::opt&lt; bool &gt; Fix16BitCopies(&quot;amdgpu-fix-16-bit-physreg-copies&quot;, cl::desc(&quot;Fix copies between 32 and 16 bit registers by extending to 32 bit&quot;), cl::init(true), cl::ReallyHidden)</div></div>
<div class="ttc" id="aclassllvm_1_1LLVMContext_html_aad03ef5cfbe6e7cad076d9e45ba06592"><div class="ttname"><a href="classllvm_1_1LLVMContext.html#aad03ef5cfbe6e7cad076d9e45ba06592">llvm::LLVMContext::diagnose</a></div><div class="ttdeci">void diagnose(const DiagnosticInfo &amp;DI)</div><div class="ttdoc">Report a message to the currently installed diagnostic handler.</div><div class="ttdef"><b>Definition:</b> <a href="LLVMContext_8cpp_source.html#l00248">LLVMContext.cpp:248</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_a83e996ed26eacbf3033314b3df58b133"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a83e996ed26eacbf3033314b3df58b133">llvm::MachineOperand::ChangeToGA</a></div><div class="ttdeci">void ChangeToGA(const GlobalValue *GV, int64_t Offset, unsigned TargetFlags=0)</div><div class="ttdoc">ChangeToGA - Replace this operand with a new global address operand.</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8cpp_source.html#l00196">MachineOperand.cpp:196</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineRegisterInfo_html_af7f7e5eb5b55add81ed8fe39ac83b9c2"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#af7f7e5eb5b55add81ed8fe39ac83b9c2">llvm::MachineRegisterInfo::addRegOperandToUseList</a></div><div class="ttdeci">void addRegOperandToUseList(MachineOperand *MO)</div><div class="ttdoc">Add MO to the linked list of operands for its register.</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8cpp_source.html#l00265">MachineRegisterInfo.cpp:265</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_html_ab7679ce5eab5937b9da9e7702aff8cc5afbe953ff149274f4e4fdcb9495f0ee78"><div class="ttname"><a href="namespacellvm_1_1AMDGPU.html#ab7679ce5eab5937b9da9e7702aff8cc5afbe953ff149274f4e4fdcb9495f0ee78">llvm::AMDGPU::OPERAND_SRC_LAST</a></div><div class="ttdeci">@ OPERAND_SRC_LAST</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00216">SIDefines.h:216</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_a51b89f22fd1adb2250ed1a38ed01ff5a"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#a51b89f22fd1adb2250ed1a38ed01ff5a">llvm::SIInstrInfo::splitFlatOffset</a></div><div class="ttdeci">std::pair&lt; int64_t, int64_t &gt; splitFlatOffset(int64_t COffsetVal, unsigned AddrSpace, uint64_t FlatVariant) const</div><div class="ttdoc">Split COffsetVal into {immediate offset field, remainder offset} values.</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l07957">SIInstrInfo.cpp:7957</a></div></div>
<div class="ttc" id="aSIInstrInfo_8cpp_html_a8edb2219f51b89b23621bd1da1dfd6f8"><div class="ttname"><a href="SIInstrInfo_8cpp.html#a8edb2219f51b89b23621bd1da1dfd6f8">updateLiveVariables</a></div><div class="ttdeci">static void updateLiveVariables(LiveVariables *LV, MachineInstr &amp;MI, MachineInstr &amp;NewMI)</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l03368">SIInstrInfo.cpp:3368</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_html_ab7679ce5eab5937b9da9e7702aff8cc5a09dd1263fb2164c20f99f89f69e01a6e"><div class="ttname"><a href="namespacellvm_1_1AMDGPU.html#ab7679ce5eab5937b9da9e7702aff8cc5a09dd1263fb2164c20f99f89f69e01a6e">llvm::AMDGPU::OPERAND_KIMM32</a></div><div class="ttdeci">@ OPERAND_KIMM32</div><div class="ttdoc">Operand with 32-bit immediate that uses the constant bus.</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00186">SIDefines.h:186</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_ac52fb1cbf5beca84fddfdfe48e7e3133"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#ac52fb1cbf5beca84fddfdfe48e7e3133">llvm::SIInstrInfo::convertNonUniformIfRegion</a></div><div class="ttdeci">void convertNonUniformIfRegion(MachineBasicBlock *IfEntry, MachineBasicBlock *IfEnd) const</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l07675">SIInstrInfo.cpp:7675</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html_a4b21394c138cc5ae719510bb529ee099"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#a4b21394c138cc5ae719510bb529ee099">llvm::MachineFunction::getFunction</a></div><div class="ttdeci">Function &amp; getFunction()</div><div class="ttdoc">Return the LLVM function that this machine code represents.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00638">MachineFunction.h:638</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_html_af4cb2c8159c390d78b6a547ac87179ae"><div class="ttname"><a href="namespacellvm_1_1AMDGPU.html#af4cb2c8159c390d78b6a547ac87179ae">llvm::AMDGPU::isInlinableLiteral64</a></div><div class="ttdeci">bool isInlinableLiteral64(int64_t Literal, bool HasInv2Pi)</div><div class="ttdoc">Is this literal inlinable.</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUBaseInfo_8cpp_source.html#l02366">AMDGPUBaseInfo.cpp:2366</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetRegisterInfo_html_a251557179fe64bb09bd7e327c60c6b24"><div class="ttname"><a href="classllvm_1_1TargetRegisterInfo.html#a251557179fe64bb09bd7e327c60c6b24">llvm::TargetRegisterInfo::getRegSizeInBits</a></div><div class="ttdeci">unsigned getRegSizeInBits(const TargetRegisterClass &amp;RC) const</div><div class="ttdoc">Return the size in bits of a register from class RC.</div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8h_source.html#l00279">TargetRegisterInfo.h:279</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_html_ab7679ce5eab5937b9da9e7702aff8cc5a455e964e5660b09e16a498dd96cf0bd6"><div class="ttname"><a href="namespacellvm_1_1AMDGPU.html#ab7679ce5eab5937b9da9e7702aff8cc5a455e964e5660b09e16a498dd96cf0bd6">llvm::AMDGPU::OPERAND_REG_IMM_V2INT16</a></div><div class="ttdeci">@ OPERAND_REG_IMM_V2INT16</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00169">SIDefines.h:169</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_ab15461b62340553d2246296826167082"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#ab15461b62340553d2246296826167082">llvm::SIInstrInfo::getMCOpcodeFromPseudo</a></div><div class="ttdeci">const MCInstrDesc &amp; getMCOpcodeFromPseudo(unsigned Opcode) const</div><div class="ttdoc">Return the descriptor of the target-specific machine instruction that corresponds to the specified ps...</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8h_source.html#l01053">SIInstrInfo.h:1053</a></div></div>
<div class="ttc" id="aclassuint16__t_html"><div class="ttname"><a href="classuint16__t.html">uint16_t</a></div></div>
<div class="ttc" id="aSIInstrInfo_8cpp_html_a0dfd55eaf0bcb495f09ecf8c55b256b2a63f08305acefcdb3952e82d7052df751"><div class="ttname"><a href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a63f08305acefcdb3952e82d7052df751">SDWA</a></div><div class="ttdeci">@ SDWA</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l07995">SIInstrInfo.cpp:7995</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html_ae68d159179d37dc7969439d842e2644f"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#ae68d159179d37dc7969439d842e2644f">llvm::MachineFunction::getTarget</a></div><div class="ttdeci">const LLVMTargetMachine &amp; getTarget() const</div><div class="ttdoc">getTarget - Return the target machine this machine code is compiled with</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00668">MachineFunction.h:668</a></div></div>
<div class="ttc" id="aclassllvm_1_1AMDGPUSubtarget_html_a53c0ee4138bfbf9e0410a65e0eaa36e2aef8609af541a5b1b01484b29d0f62534"><div class="ttname"><a href="classllvm_1_1AMDGPUSubtarget.html#a53c0ee4138bfbf9e0410a65e0eaa36e2aef8609af541a5b1b01484b29d0f62534">llvm::AMDGPUSubtarget::VOLCANIC_ISLANDS</a></div><div class="ttdeci">@ VOLCANIC_ISLANDS</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUSubtarget_8h_source.html#l00039">AMDGPUSubtarget.h:39</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1SendMsg_html_a8594419a4ddfad2c9a79279c490e466d"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">llvm::AMDGPU::SendMsg::Op</a></div><div class="ttdeci">Op</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00357">SIDefines.h:357</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_a76f877e67f5943b857f8976d4a289848"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#a76f877e67f5943b857f8976d4a289848">llvm::SIInstrInfo::legalizeOperandsVOP2</a></div><div class="ttdeci">void legalizeOperandsVOP2(MachineRegisterInfo &amp;MRI, MachineInstr &amp;MI) const</div><div class="ttdoc">Legalize operands in MI by either commuting it or inserting a copy of src1.</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l05188">SIInstrInfo.cpp:5188</a></div></div>
<div class="ttc" id="aclassllvm_1_1GCNSubtarget_html_ad30b3c952ed576256171d49971ec9241"><div class="ttname"><a href="classllvm_1_1GCNSubtarget.html#ad30b3c952ed576256171d49971ec9241">llvm::GCNSubtarget::hasUnpackedD16VMem</a></div><div class="ttdeci">bool hasUnpackedD16VMem() const</div><div class="ttdef"><b>Definition:</b> <a href="GCNSubtarget_8h_source.html#l00669">GCNSubtarget.h:669</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_a8ed947ddafde5421d3f771f43f9c04d1"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#a8ed947ddafde5421d3f771f43f9c04d1">llvm::SIInstrInfo::isSegmentSpecificFLAT</a></div><div class="ttdeci">static bool isSegmentSpecificFLAT(const MachineInstr &amp;MI)</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8h_source.html#l00524">SIInstrInfo.h:524</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_a3435a2381e60e842e915f85c931b7dde"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#a3435a2381e60e842e915f85c931b7dde">llvm::MachineBasicBlock::insert</a></div><div class="ttdeci">instr_iterator insert(instr_iterator I, MachineInstr *M)</div><div class="ttdoc">Insert MI into the instruction list before I, possibly inside a bundle.</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8cpp_source.html#l01336">MachineBasicBlock.cpp:1336</a></div></div>
<div class="ttc" id="aclassllvm_1_1ilist__iterator_html"><div class="ttname"><a href="classllvm_1_1ilist__iterator.html">llvm::ilist_iterator</a></div><div class="ttdoc">Iterator for intrusive lists based on ilist_node.</div><div class="ttdef"><b>Definition:</b> <a href="ilist__iterator_8h_source.html#l00057">ilist_iterator.h:57</a></div></div>
<div class="ttc" id="aMachineFrameInfo_8h_html"><div class="ttname"><a href="MachineFrameInfo_8h.html">MachineFrameInfo.h</a></div></div>
<div class="ttc" id="anamespacellvm_html_ab3aae92be65f5f16f806ad48d474027e"><div class="ttname"><a href="namespacellvm.html#ab3aae92be65f5f16f806ad48d474027e">llvm::isTargetSpecificOpcode</a></div><div class="ttdeci">bool isTargetSpecificOpcode(unsigned Opcode)</div><div class="ttdoc">Check whether the given Opcode is a target-specific opcode.</div><div class="ttdef"><b>Definition:</b> <a href="TargetOpcodes_8h_source.html#l00036">TargetOpcodes.h:36</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_html_a5eb95c1fe12d25bcfe6d3b63f6148605"><div class="ttname"><a href="namespacellvm_1_1AMDGPU.html#a5eb95c1fe12d25bcfe6d3b63f6148605">llvm::AMDGPU::getAddr64Inst</a></div><div class="ttdeci">LLVM_READONLY int getAddr64Inst(uint16_t Opcode)</div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_ab96f3235c18e659758517d0532d606c9"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#ab96f3235c18e659758517d0532d606c9">llvm::MachineInstr::mayStore</a></div><div class="ttdeci">bool mayStore(QueryType Type=AnyInBundle) const</div><div class="ttdoc">Return true if this instruction could possibly modify memory.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l01069">MachineInstr.h:1069</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_a8c161f5f015730ac6853c802c3693a41"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a8c161f5f015730ac6853c802c3693a41">llvm::MachineInstr::hasUnmodeledSideEffects</a></div><div class="ttdeci">bool hasUnmodeledSideEffects() const</div><div class="ttdoc">Return true if this instruction has side effects that are not modeled by mayLoad / mayStore,...</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8cpp_source.html#l01458">MachineInstr.cpp:1458</a></div></div>
<div class="ttc" id="aclassllvm_1_1AMDGPUSubtarget_html_a8e96f06e7a928116dfdb37e0c725f990"><div class="ttname"><a href="classllvm_1_1AMDGPUSubtarget.html#a8e96f06e7a928116dfdb37e0c725f990">llvm::AMDGPUSubtarget::hasTrue16BitInsts</a></div><div class="ttdeci">bool hasTrue16BitInsts() const</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUSubtarget_8h_source.html#l00152">AMDGPUSubtarget.h:152</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_aaa68daaf8d7b773d012887c92c2023ce"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#aaa68daaf8d7b773d012887c92c2023ce">llvm::MachineOperand::getIndex</a></div><div class="ttdeci">int getIndex() const</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00576">MachineOperand.h:576</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_ac498c193dd1d1e364aa8e9b640f72826"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#ac498c193dd1d1e364aa8e9b640f72826">llvm::SIInstrInfo::getVALUOp</a></div><div class="ttdeci">unsigned getVALUOp(const MachineInstr &amp;MI) const</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l04803">SIInstrInfo.cpp:4803</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_html_ab7679ce5eab5937b9da9e7702aff8cc5a9babf1fd52dcf14ed0effdd6fe207007"><div class="ttname"><a href="namespacellvm_1_1AMDGPU.html#ab7679ce5eab5937b9da9e7702aff8cc5a9babf1fd52dcf14ed0effdd6fe207007">llvm::AMDGPU::OPERAND_REG_INLINE_C_V2FP16</a></div><div class="ttdeci">@ OPERAND_REG_INLINE_C_V2FP16</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00181">SIDefines.h:181</a></div></div>
<div class="ttc" id="anamespacellvm_1_1MCID_html_ab357441fcd1ea1f9b0d27c12700f6023a359237c780f7c8e40645575826da8a3c"><div class="ttname"><a href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a359237c780f7c8e40645575826da8a3c">llvm::MCID::Branch</a></div><div class="ttdeci">@ Branch</div><div class="ttdef"><b>Definition:</b> <a href="MCInstrDesc_8h_source.html#l00159">MCInstrDesc.h:159</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110ab969e7d43eb37a0398b5ded23bccc136"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ab969e7d43eb37a0398b5ded23bccc136">llvm::ISD::INLINEASM_BR</a></div><div class="ttdeci">@ INLINEASM_BR</div><div class="ttdoc">INLINEASM_BR - Branching version of inline asm. Used by asm-goto.</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l01027">ISDOpcodes.h:1027</a></div></div>
<div class="ttc" id="anamespacellvm_html_a57f971ad6c752a26d68bf9a990e52e9a"><div class="ttname"><a href="namespacellvm.html#a57f971ad6c752a26d68bf9a990e52e9a">llvm::getRegSequenceSubReg</a></div><div class="ttdeci">TargetInstrInfo::RegSubRegPair getRegSequenceSubReg(MachineInstr &amp;MI, unsigned SubReg)</div><div class="ttdoc">Return the SubReg component from REG_SEQUENCE.</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l08114">SIInstrInfo.cpp:8114</a></div></div>
<div class="ttc" id="aclassllvm_1_1RegScavenger_html_a34542ec002baa6b027a6d05644c6bb2e"><div class="ttname"><a href="classllvm_1_1RegScavenger.html#a34542ec002baa6b027a6d05644c6bb2e">llvm::RegScavenger::setRegUsed</a></div><div class="ttdeci">void setRegUsed(Register Reg, LaneBitmask LaneMask=LaneBitmask::getAll())</div><div class="ttdoc">Tell the scavenger a register is used.</div><div class="ttdef"><b>Definition:</b> <a href="RegisterScavenging_8cpp_source.html#l00051">RegisterScavenging.cpp:51</a></div></div>
<div class="ttc" id="aDiagnosticInfo_8h_html"><div class="ttname"><a href="DiagnosticInfo_8h.html">DiagnosticInfo.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1GCNSubtarget_html_aaac87839eb0077c44120678bcab56bc9"><div class="ttname"><a href="classllvm_1_1GCNSubtarget.html#aaac87839eb0077c44120678bcab56bc9">llvm::GCNSubtarget::hasG16</a></div><div class="ttdeci">bool hasG16() const</div><div class="ttdef"><b>Definition:</b> <a href="GCNSubtarget_8h_source.html#l00920">GCNSubtarget.h:920</a></div></div>
<div class="ttc" id="anamespacellvm_html_abee0df5f7f703bb4462aba260ba0a60f"><div class="ttname"><a href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">llvm::BitWidth</a></div><div class="ttdeci">constexpr unsigned BitWidth</div><div class="ttdef"><b>Definition:</b> <a href="BitmaskEnum_8h_source.html#l00147">BitmaskEnum.h:147</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_af724c54b41bc0a366bf3197f2855ce83"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#af724c54b41bc0a366bf3197f2855ce83">llvm::SIInstrInfo::areMemAccessesTriviallyDisjoint</a></div><div class="ttdeci">bool areMemAccessesTriviallyDisjoint(const MachineInstr &amp;MIa, const MachineInstr &amp;MIb) const override</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l03295">SIInstrInfo.cpp:3295</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_ad8e9b54f022eddc33ee49305e85d6b7f"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#ad8e9b54f022eddc33ee49305e85d6b7f">llvm::SIInstrInfo::expandMovDPP64</a></div><div class="ttdeci">std::pair&lt; MachineInstr *, MachineInstr * &gt; expandMovDPP64(MachineInstr &amp;MI) const</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l02285">SIInstrInfo.cpp:2285</a></div></div>
<div class="ttc" id="anamespacellvm_1_1TargetStackID_html_a71392100eb15ba746b1f898986f5d8a5"><div class="ttname"><a href="namespacellvm_1_1TargetStackID.html#a71392100eb15ba746b1f898986f5d8a5">llvm::TargetStackID::Value</a></div><div class="ttdeci">Value</div><div class="ttdef"><b>Definition:</b> <a href="TargetFrameLowering_8h_source.html#l00027">TargetFrameLowering.h:27</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_ac00c84cfc6dac484e038a2d4258933ef"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#ac00c84cfc6dac484e038a2d4258933ef">llvm::SIInstrInfo::buildExtractSubRegOrImm</a></div><div class="ttdeci">MachineOperand buildExtractSubRegOrImm(MachineBasicBlock::iterator MI, MachineRegisterInfo &amp;MRI, MachineOperand &amp;SuperReg, const TargetRegisterClass *SuperRC, unsigned SubIdx, const TargetRegisterClass *SubRC) const</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l05026">SIInstrInfo.cpp:5026</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCInstrDesc_html_ade5781c13cce7ee39fe5cc54dcebccd8"><div class="ttname"><a href="classllvm_1_1MCInstrDesc.html#ade5781c13cce7ee39fe5cc54dcebccd8">llvm::MCInstrDesc::isVariadic</a></div><div class="ttdeci">bool isVariadic() const</div><div class="ttdoc">Return true if this instruction can have a variable number of operands.</div><div class="ttdef"><b>Definition:</b> <a href="MCInstrDesc_8h_source.html#l00260">MCInstrDesc.h:260</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_html_af7672ecd68ad0182beb360a4453b51ba"><div class="ttname"><a href="namespacellvm_1_1AMDGPU.html#af7672ecd68ad0182beb360a4453b51ba">llvm::AMDGPU::getIfAddr64Inst</a></div><div class="ttdeci">LLVM_READONLY int getIfAddr64Inst(uint16_t Opcode)</div><div class="ttdoc">Check if Opcode is an Addr64 opcode.</div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_afb5a8099c7351303ef337ec57d5e8e24"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#afb5a8099c7351303ef337ec57d5e8e24">llvm::SIInstrInfo::isStackAccess</a></div><div class="ttdeci">unsigned isStackAccess(const MachineInstr &amp;MI, int &amp;FrameIndex) const</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l07535">SIInstrInfo.cpp:7535</a></div></div>
<div class="ttc" id="aclassllvm_1_1SDValue_html"><div class="ttname"><a href="classllvm_1_1SDValue.html">llvm::SDValue</a></div><div class="ttdoc">Unlike LLVM values, Selection DAG nodes may return multiple values as the result of a computation.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l00145">SelectionDAGNodes.h:145</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetInstrInfo_html_a5da941cb7cfe3ae9b3dae1f5caac8b78"><div class="ttname"><a href="classllvm_1_1TargetInstrInfo.html#a5da941cb7cfe3ae9b3dae1f5caac8b78">llvm::TargetInstrInfo::CreateTargetMIHazardRecognizer</a></div><div class="ttdeci">virtual ScheduleHazardRecognizer * CreateTargetMIHazardRecognizer(const InstrItineraryData *, const ScheduleDAGMI *DAG) const</div><div class="ttdoc">Allocate and return a hazard recognizer to use for this target when scheduling the machine instructio...</div><div class="ttdef"><b>Definition:</b> <a href="TargetInstrInfo_8cpp_source.html#l01191">TargetInstrInfo.cpp:1191</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_a6409b94615d6f974f7cea22ee2814862"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#a6409b94615d6f974f7cea22ee2814862">llvm::SIInstrInfo::getPreferredSelectRegClass</a></div><div class="ttdeci">const TargetRegisterClass * getPreferredSelectRegClass(unsigned Size) const</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l01125">SIInstrInfo.cpp:1125</a></div></div>
<div class="ttc" id="astructllvm_1_1AMDGPU_1_1MIMGInfo_html"><div class="ttname"><a href="structllvm_1_1AMDGPU_1_1MIMGInfo.html">llvm::AMDGPU::MIMGInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUBaseInfo_8h_source.html#l00443">AMDGPUBaseInfo.h:443</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCRegisterInfo_html_a97b138b96791a09a0d9b9c77f0fb6e85"><div class="ttname"><a href="classllvm_1_1MCRegisterInfo.html#a97b138b96791a09a0d9b9c77f0fb6e85">llvm::MCRegisterInfo::isSubRegister</a></div><div class="ttdeci">bool isSubRegister(MCRegister RegA, MCRegister RegB) const</div><div class="ttdoc">Returns true if RegB is a sub-register of RegA.</div><div class="ttdef"><b>Definition:</b> <a href="MCRegisterInfo_8h_source.html#l00560">MCRegisterInfo.h:560</a></div></div>
<div class="ttc" id="aSIInstrInfo_8cpp_html_a371a0e609706909389a3fe7359e16485"><div class="ttname"><a href="SIInstrInfo_8cpp.html#a371a0e609706909389a3fe7359e16485">offsetsDoNotOverlap</a></div><div class="ttdeci">static bool offsetsDoNotOverlap(int WidthA, int OffsetA, int WidthB, int OffsetB)</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l03263">SIInstrInfo.cpp:3263</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCSymbolRefExpr_html_a6a80122686401107aecb1cb750d4a698"><div class="ttname"><a href="classllvm_1_1MCSymbolRefExpr.html#a6a80122686401107aecb1cb750d4a698">llvm::MCSymbolRefExpr::create</a></div><div class="ttdeci">static const MCSymbolRefExpr * create(const MCSymbol *Symbol, MCContext &amp;Ctx)</div><div class="ttdef"><b>Definition:</b> <a href="MCExpr_8h_source.html#l00386">MCExpr.h:386</a></div></div>
<div class="ttc" id="anamespacellvm_1_1CallingConv_html_a5b166ae228ebbfdb96736d6022f3feeda5c0f66e45afd7c51f4ee51552d8fb606"><div class="ttname"><a href="namespacellvm_1_1CallingConv.html#a5b166ae228ebbfdb96736d6022f3feeda5c0f66e45afd7c51f4ee51552d8fb606">llvm::CallingConv::AMDGPU_HS</a></div><div class="ttdeci">@ AMDGPU_HS</div><div class="ttdoc">Used for Mesa/AMDPAL hull shaders (= tessellation control shaders).</div><div class="ttdef"><b>Definition:</b> <a href="CallingConv_8h_source.html#l00203">CallingConv.h:203</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_a2c6289dfab83449b3f69792b35277cac"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#a2c6289dfab83449b3f69792b35277cac">llvm::SIInstrInfo::isMTBUF</a></div><div class="ttdeci">static bool isMTBUF(const MachineInstr &amp;MI)</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8h_source.html#l00474">SIInstrInfo.h:474</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveIntervals_html"><div class="ttname"><a href="classllvm_1_1LiveIntervals.html">llvm::LiveIntervals</a></div><div class="ttdef"><b>Definition:</b> <a href="LiveIntervals_8h_source.html#l00053">LiveIntervals.h:53</a></div></div>
<div class="ttc" id="anamespacellvm_1_1TargetStackID_html_a71392100eb15ba746b1f898986f5d8a5a29a8016e50342e4598b3cb8a6601694f"><div class="ttname"><a href="namespacellvm_1_1TargetStackID.html#a71392100eb15ba746b1f898986f5d8a5a29a8016e50342e4598b3cb8a6601694f">llvm::TargetStackID::SGPRSpill</a></div><div class="ttdeci">@ SGPRSpill</div><div class="ttdef"><b>Definition:</b> <a href="TargetFrameLowering_8h_source.html#l00029">TargetFrameLowering.h:29</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineRegisterInfo_html_a7e2e403e3e1f758b87c25302090c96c2"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#a7e2e403e3e1f758b87c25302090c96c2">llvm::MachineRegisterInfo::clearVirtRegs</a></div><div class="ttdeci">void clearVirtRegs()</div><div class="ttdoc">clearVirtRegs - Remove all virtual registers (after physreg assignment).</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8cpp_source.html#l00198">MachineRegisterInfo.cpp:198</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_a31aa4c781d7a65b275b3de1882180675"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#a31aa4c781d7a65b275b3de1882180675">llvm::SIInstrInfo::buildShrunkInst</a></div><div class="ttdeci">MachineInstr * buildShrunkInst(MachineInstr &amp;MI, unsigned NewOpcode) const</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l03976">SIInstrInfo.cpp:3976</a></div></div>
<div class="ttc" id="aSIInstrInfo_8cpp_html_a0dfd55eaf0bcb495f09ecf8c55b256b2a5538f6e3d210f317b488081e8b04c57d"><div class="ttname"><a href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a5538f6e3d210f317b488081e8b04c57d">GFX11</a></div><div class="ttdeci">@ GFX11</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l08003">SIInstrInfo.cpp:8003</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_a10e708480cdc97c951368e06c13eac92"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a10e708480cdc97c951368e06c13eac92">llvm::MachineOperand::setImplicit</a></div><div class="ttdeci">void setImplicit(bool Val=true)</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00514">MachineOperand.h:514</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_ad2a37b361832888b7decb77cfdf3d465"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#ad2a37b361832888b7decb77cfdf3d465">llvm::SIInstrInfo::getSerializableMachineMemOperandTargetFlags</a></div><div class="ttdeci">ArrayRef&lt; std::pair&lt; MachineMemOperand::Flags, const char * &gt; &gt; getSerializableMachineMemOperandTargetFlags() const override</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l07805">SIInstrInfo.cpp:7805</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_html_ab7679ce5eab5937b9da9e7702aff8cc5af49dc86d5a2c2386386ce4c0023cfd0f"><div class="ttname"><a href="namespacellvm_1_1AMDGPU.html#ab7679ce5eab5937b9da9e7702aff8cc5af49dc86d5a2c2386386ce4c0023cfd0f">llvm::AMDGPU::OPERAND_REG_INLINE_C_V2FP32</a></div><div class="ttdeci">@ OPERAND_REG_INLINE_C_V2FP32</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00183">SIDefines.h:183</a></div></div>
<div class="ttc" id="aSIInstrInfo_8cpp_html_a7fc0854a9d3fced0dedf2c7f61fe7a72"><div class="ttname"><a href="SIInstrInfo_8cpp.html#a7fc0854a9d3fced0dedf2c7f61fe7a72">preserveCondRegFlags</a></div><div class="ttdeci">static void preserveCondRegFlags(MachineOperand &amp;CondReg, const MachineOperand &amp;OrigCond)</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l02768">SIInstrInfo.cpp:2768</a></div></div>
<div class="ttc" id="aclassllvm_1_1RegScavenger_html_afe23dbb6421b62ff369b85cd8436d483"><div class="ttname"><a href="classllvm_1_1RegScavenger.html#afe23dbb6421b62ff369b85cd8436d483">llvm::RegScavenger::forward</a></div><div class="ttdeci">void forward()</div><div class="ttdoc">Move the internal MBB iterator and update register states.</div><div class="ttdef"><b>Definition:</b> <a href="RegisterScavenging_8cpp_source.html#l00155">RegisterScavenging.cpp:155</a></div></div>
<div class="ttc" id="aclassllvm_1_1GCNSubtarget_html_a0e686c7c8f5b335f3edce1e6711ec168"><div class="ttname"><a href="classllvm_1_1GCNSubtarget.html#a0e686c7c8f5b335f3edce1e6711ec168">llvm::GCNSubtarget::hasOnlyRevVALUShifts</a></div><div class="ttdeci">bool hasOnlyRevVALUShifts() const</div><div class="ttdef"><b>Definition:</b> <a href="GCNSubtarget_8h_source.html#l00347">GCNSubtarget.h:347</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_a8221c74806acd5e0e133095c1bd6a3ce"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#a8221c74806acd5e0e133095c1bd6a3ce">llvm::SIInstrInfo::getDSShaderTypeValue</a></div><div class="ttdeci">static unsigned getDSShaderTypeValue(const MachineFunction &amp;MF)</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l08498">SIInstrInfo.cpp:8498</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_html_abe1ffb7444626273ec47b5526acfdeecac29025755991987ce428f17a06249777"><div class="ttname"><a href="namespacellvm_1_1AMDGPU.html#abe1ffb7444626273ec47b5526acfdeecac29025755991987ce428f17a06249777">llvm::AMDGPU::TI_SCRATCH_RSRC_DWORD0</a></div><div class="ttdeci">@ TI_SCRATCH_RSRC_DWORD0</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPU_8h_source.html#l00354">AMDGPU.h:354</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_a76f61c6784df6dc8402a8b9011041926"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a76f61c6784df6dc8402a8b9011041926">llvm::MachineOperand::isImm</a></div><div class="ttdeci">bool isImm() const</div><div class="ttdoc">isImm - Tests if this is a MO_Immediate operand.</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00331">MachineOperand.h:331</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_aba962e46a3ab42206182058420cb876f"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#aba962e46a3ab42206182058420cb876f">llvm::SIInstrInfo::foldMemoryOperandImpl</a></div><div class="ttdeci">MachineInstr * foldMemoryOperandImpl(MachineFunction &amp;MF, MachineInstr &amp;MI, ArrayRef&lt; unsigned &gt; Ops, MachineBasicBlock::iterator InsertPt, int FrameIndex, LiveIntervals *LIS=nullptr, VirtRegMap *VRM=nullptr) const override</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l08312">SIInstrInfo.cpp:8312</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_afe40d3ac1550829e52891bb120130ef5"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#afe40d3ac1550829e52891bb120130ef5">llvm::SIInstrInfo::SIInstrInfo</a></div><div class="ttdeci">SIInstrInfo(const GCNSubtarget &amp;ST)</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l00064">SIInstrInfo.cpp:64</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineMemOperand_html_aaa2020e47e35179234b9ea27d555b2ddaed357b1367bc90a56fefa4d1b0e17374"><div class="ttname"><a href="classllvm_1_1MachineMemOperand.html#aaa2020e47e35179234b9ea27d555b2ddaed357b1367bc90a56fefa4d1b0e17374">llvm::MachineMemOperand::MOStore</a></div><div class="ttdeci">@ MOStore</div><div class="ttdoc">The memory access writes data.</div><div class="ttdef"><b>Definition:</b> <a href="MachineMemOperand_8h_source.html#l00136">MachineMemOperand.h:136</a></div></div>
<div class="ttc" id="aSIInstrInfo_8cpp_html_a0dfd55eaf0bcb495f09ecf8c55b256b2"><div class="ttname"><a href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2">SIEncodingFamily</a></div><div class="ttdeci">SIEncodingFamily</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l07992">SIInstrInfo.cpp:7992</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1Hwreg_html_a6467ebe1e09a75203dd5f14bdfe21d11"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1Hwreg.html#a6467ebe1e09a75203dd5f14bdfe21d11">llvm::AMDGPU::Hwreg::Width</a></div><div class="ttdeci">Width</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00449">SIDefines.h:449</a></div></div>
<div class="ttc" id="aSIInstrInfo_8cpp_html_a1b973951954bbceebb9d37dfe591c22d"><div class="ttname"><a href="SIInstrInfo_8cpp.html#a1b973951954bbceebb9d37dfe591c22d">BranchOffsetBits</a></div><div class="ttdeci">static cl::opt&lt; unsigned &gt; BranchOffsetBits(&quot;amdgpu-s-branch-bits&quot;, cl::ReallyHidden, cl::init(16), cl::desc(&quot;Restrict range of branch instructions (DEBUG)&quot;))</div></div>
<div class="ttc" id="aclassllvm_1_1MIBundleBuilder_html_a52294651aae7bd2bc43b1e2e0617f3db"><div class="ttname"><a href="classllvm_1_1MIBundleBuilder.html#a52294651aae7bd2bc43b1e2e0617f3db">llvm::MIBundleBuilder::append</a></div><div class="ttdeci">MIBundleBuilder &amp; append(MachineInstr *MI)</div><div class="ttdoc">Insert MI into MBB by appending it to the instructions in the bundle.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00640">MachineInstrBuilder.h:640</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_af11a92503408a812be672ee3efc848d3"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#af11a92503408a812be672ee3efc848d3">llvm::MachineInstr::setDesc</a></div><div class="ttdeci">void setDesc(const MCInstrDesc &amp;TID)</div><div class="ttdoc">Replace the instruction descriptor (thus opcode) of the current instruction with a new one.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l01771">MachineInstr.h:1771</a></div></div>
<div class="ttc" id="aclassllvm_1_1SDNode_html_a7f96a3399d86d6f136aaa121de4217a3"><div class="ttname"><a href="classllvm_1_1SDNode.html#a7f96a3399d86d6f136aaa121de4217a3">llvm::SDNode::getMachineOpcode</a></div><div class="ttdeci">unsigned getMachineOpcode() const</div><div class="ttdoc">This may only be called if isMachineOpcode returns true.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l00704">SelectionDAGNodes.h:704</a></div></div>
<div class="ttc" id="aclassllvm_1_1GCNSubtarget_html_ace4de1de19cbe837c578fb3654b6c998"><div class="ttname"><a href="classllvm_1_1GCNSubtarget.html#ace4de1de19cbe837c578fb3654b6c998">llvm::GCNSubtarget::getGeneration</a></div><div class="ttdeci">Generation getGeneration() const</div><div class="ttdef"><b>Definition:</b> <a href="GCNSubtarget_8h_source.html#l00273">GCNSubtarget.h:273</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_ac3b161ec90385105cb46a08b52139e60"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#ac3b161ec90385105cb46a08b52139e60">llvm::MachineInstr::removeOperand</a></div><div class="ttdeci">void removeOperand(unsigned OpNo)</div><div class="ttdoc">Erase an operand from an instruction, leaving it with one fewer operand than it started with.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8cpp_source.html#l00279">MachineInstr.cpp:279</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_aa2d3a60e597b4a6cf24ee4ac12d2cdbf"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#aa2d3a60e597b4a6cf24ee4ac12d2cdbf">llvm::MachineOperand::isDebug</a></div><div class="ttdeci">bool isDebug() const</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00455">MachineOperand.h:455</a></div></div>
<div class="ttc" id="anamespacellvm_1_1RISCVMatInt_html_a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c"><div class="ttname"><a href="namespacellvm_1_1RISCVMatInt.html#a3c9bceaea514f7c01e87dcb184d3c972a3b5b9d77cc1b7c08af3a3cdba0c6736c">llvm::RISCVMatInt::Imm</a></div><div class="ttdeci">@ Imm</div><div class="ttdef"><b>Definition:</b> <a href="RISCVMatInt_8h_source.html#l00023">RISCVMatInt.h:23</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html">llvm::SIInstrInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8h_source.html#l00044">SIInstrInfo.h:44</a></div></div>
<div class="ttc" id="aGCNHazardRecognizer_8h_html"><div class="ttname"><a href="GCNHazardRecognizer_8h.html">GCNHazardRecognizer.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_html_a823f64d5695b8da6f9b418bd4dc55176"><div class="ttname"><a href="namespacellvm_1_1AMDGPU.html#a823f64d5695b8da6f9b418bd4dc55176">llvm::AMDGPU::RSRC_TID_ENABLE</a></div><div class="ttdeci">const uint64_t RSRC_TID_ENABLE</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8h_source.html#l01327">SIInstrInfo.h:1327</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_html_a79ce723bbdcb8a66b32fec6499ecd9f9"><div class="ttname"><a href="namespacellvm_1_1AMDGPU.html#a79ce723bbdcb8a66b32fec6499ecd9f9">llvm::AMDGPU::isInlinableLiteral32</a></div><div class="ttdeci">bool isInlinableLiteral32(int32_t Literal, bool HasInv2Pi)</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUBaseInfo_8cpp_source.html#l02383">AMDGPUBaseInfo.cpp:2383</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_ac6a93ad1fcae43e09eb8a6d4c55d79ca"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#ac6a93ad1fcae43e09eb8a6d4c55d79ca">llvm::SIInstrInfo::removeBranch</a></div><div class="ttdeci">unsigned removeBranch(MachineBasicBlock &amp;MBB, int *BytesRemoved=nullptr) const override</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l02748">SIInstrInfo.cpp:2748</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_ad5c2911f44ee301ccf57ae61b7915b5a"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#ad5c2911f44ee301ccf57ae61b7915b5a">llvm::SIInstrInfo::legalizeOperandsSMRD</a></div><div class="ttdeci">void legalizeOperandsSMRD(MachineRegisterInfo &amp;MRI, MachineInstr &amp;MI) const</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l05427">SIInstrInfo.cpp:5427</a></div></div>
<div class="ttc" id="anamespacellvm_1_1RegState_html_aef4cc0c855dc833e2a9d58a50703320da9ddde91ef09476d28a088fe57f8e2921"><div class="ttname"><a href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da9ddde91ef09476d28a088fe57f8e2921">llvm::RegState::Kill</a></div><div class="ttdeci">@ Kill</div><div class="ttdoc">The last use of a register.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00048">MachineInstrBuilder.h:48</a></div></div>
<div class="ttc" id="anamespacellvm_html_aac57d4100e9a9d02522fbd724568397d"><div class="ttname"><a href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">llvm::getKillRegState</a></div><div class="ttdeci">unsigned getKillRegState(bool B)</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00531">MachineInstrBuilder.h:531</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_a10a8333f33c54fcb73d4f41ee264ce8e"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#a10a8333f33c54fcb73d4f41ee264ce8e">llvm::SIInstrInfo::getDefaultRsrcDataFormat</a></div><div class="ttdeci">uint64_t getDefaultRsrcDataFormat() const</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l07475">SIInstrInfo.cpp:7475</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFrameInfo_html"><div class="ttname"><a href="classllvm_1_1MachineFrameInfo.html">llvm::MachineFrameInfo</a></div><div class="ttdoc">The MachineFrameInfo class represents an abstract stack frame until prolog/epilog code is inserted.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFrameInfo_8h_source.html#l00106">MachineFrameInfo.h:106</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineRegisterInfo_html_ac8347c6938efe4d9a4426b92ef57851e"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#ac8347c6938efe4d9a4426b92ef57851e">llvm::MachineRegisterInfo::use_end</a></div><div class="ttdeci">static use_iterator use_end()</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8h_source.html#l00489">MachineRegisterInfo.h:489</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1DPP_html_aa27612400d9f4f18653d361495d67b08aa1fb933a07c862608a52170e730163de"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1DPP.html#aa27612400d9f4f18653d361495d67b08aa1fb933a07c862608a52170e730163de">llvm::AMDGPU::DPP::ROW_NEWBCAST_FIRST</a></div><div class="ttdeci">@ ROW_NEWBCAST_FIRST</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00845">SIDefines.h:845</a></div></div>
<div class="ttc" id="anamespacellvm_html_a57d2f9ee99e9e68cff564d0d579c8163"><div class="ttname"><a href="namespacellvm.html#a57d2f9ee99e9e68cff564d0d579c8163">llvm::countr_zero</a></div><div class="ttdeci">int countr_zero(T Val)</div><div class="ttdoc">Count number of 0's from the least significant bit to the most stopping at the first 1.</div><div class="ttdef"><b>Definition:</b> <a href="bit_8h_source.html#l00179">bit.h:179</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_aee81828a7ba7ae3e86ed968067d671b4"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#aee81828a7ba7ae3e86ed968067d671b4">llvm::SIInstrInfo::commuteOpcode</a></div><div class="ttdeci">LLVM_READONLY int commuteOpcode(unsigned Opc) const</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l01050">SIInstrInfo.cpp:1050</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_html_a08b135e0f9484354a83410d97d698b22"><div class="ttname"><a href="namespacellvm_1_1AMDGPU.html#a08b135e0f9484354a83410d97d698b22">llvm::AMDGPU::getBasicFromSDWAOp</a></div><div class="ttdeci">LLVM_READONLY int getBasicFromSDWAOp(uint16_t Opcode)</div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_afcb818bd3e34498f8f72ca555a36d5eb"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#afcb818bd3e34498f8f72ca555a36d5eb">llvm::MachineOperand::isFPImm</a></div><div class="ttdeci">bool isFPImm() const</div><div class="ttdoc">isFPImm - Tests if this is a MO_FPImmediate operand.</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00335">MachineOperand.h:335</a></div></div>
<div class="ttc" id="aMachineScheduler_8h_html"><div class="ttname"><a href="MachineScheduler_8h.html">MachineScheduler.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstrBuilder_html_a28701ca789f2f68ce1219af1c03cffaf"><div class="ttname"><a href="classllvm_1_1MachineInstrBuilder.html#a28701ca789f2f68ce1219af1c03cffaf">llvm::MachineInstrBuilder::addSym</a></div><div class="ttdeci">const MachineInstrBuilder &amp; addSym(MCSymbol *Sym, unsigned char TargetFlags=0) const</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00267">MachineInstrBuilder.h:267</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_abecccbf97c3a9d0be384e6c639fcf2dc"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#abecccbf97c3a9d0be384e6c639fcf2dc">llvm::SIInstrInfo::isLegalRegOperand</a></div><div class="ttdeci">bool isLegalRegOperand(const MachineRegisterInfo &amp;MRI, const MCOperandInfo &amp;OpInfo, const MachineOperand &amp;MO) const</div><div class="ttdoc">Check if MO (a register operand) is a legal register for the given operand description.</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l05055">SIInstrInfo.cpp:5055</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1SDWA_html_a487d59303b94fbf4adddd9a08c30da0aaf4e7a9b6898b774104bfcd24a211d7e3"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1SDWA.html#a487d59303b94fbf4adddd9a08c30da0aaf4e7a9b6898b774104bfcd24a211d7e3">llvm::AMDGPU::SDWA::WORD_0</a></div><div class="ttdeci">@ WORD_0</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00780">SIDefines.h:780</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_a23fcb3c9cc9602657a3de8aa9ed0457d"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a23fcb3c9cc9602657a3de8aa9ed0457d">llvm::MachineInstr::findRegisterDefOperandIdx</a></div><div class="ttdeci">int findRegisterDefOperandIdx(Register Reg, bool isDead=false, bool Overlap=false, const TargetRegisterInfo *TRI=nullptr) const</div><div class="ttdoc">Returns the operand index that is a def of the specified register or -1 if it is not found.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8cpp_source.html#l01049">MachineInstr.cpp:1049</a></div></div>
<div class="ttc" id="anamespacellvm_html_a17e04afcf0c5efeb0eb6a9a45287b5e4"><div class="ttname"><a href="namespacellvm.html#a17e04afcf0c5efeb0eb6a9a45287b5e4">llvm::BuildMI</a></div><div class="ttdeci">MachineInstrBuilder BuildMI(MachineFunction &amp;MF, const MIMetadata &amp;MIMD, const MCInstrDesc &amp;MCID)</div><div class="ttdoc">Builder interface. Specify how to create the initial instruction itself.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00357">MachineInstrBuilder.h:357</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineRegisterInfo_html_a600a2d410c09a9486e828ea34e5a9566"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#a600a2d410c09a9486e828ea34e5a9566">llvm::MachineRegisterInfo::hasOneUse</a></div><div class="ttdeci">bool hasOneUse(Register RegNo) const</div><div class="ttdoc">hasOneUse - Return true if there is exactly one instruction using the specified register.</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8h_source.html#l00532">MachineRegisterInfo.h:532</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1DPP_html_aa27612400d9f4f18653d361495d67b08ab118342ef68df0708e1c6c1a9822e11f"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1DPP.html#aa27612400d9f4f18653d361495d67b08ab118342ef68df0708e1c6c1a9822e11f">llvm::AMDGPU::DPP::DPP_UNUSED5_FIRST</a></div><div class="ttdeci">@ DPP_UNUSED5_FIRST</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00831">SIDefines.h:831</a></div></div>
<div class="ttc" id="aclassllvm_1_1GCNSubtarget_html_a33a600e1b2e066f85e6a2bb588a7f3f1"><div class="ttname"><a href="classllvm_1_1GCNSubtarget.html#a33a600e1b2e066f85e6a2bb588a7f3f1">llvm::GCNSubtarget::getConstantBusLimit</a></div><div class="ttdeci">unsigned getConstantBusLimit(unsigned Opcode) const</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUSubtarget_8cpp_source.html#l00191">AMDGPUSubtarget.cpp:191</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_html_ae0376d4668bb0a8b7d4afa76f6ce3fee"><div class="ttname"><a href="namespacellvm_1_1AMDGPU.html#ae0376d4668bb0a8b7d4afa76f6ce3fee">llvm::AMDGPU::RSRC_INDEX_STRIDE_SHIFT</a></div><div class="ttdeci">const uint64_t RSRC_INDEX_STRIDE_SHIFT</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8h_source.html#l01326">SIInstrInfo.h:1326</a></div></div>
<div class="ttc" id="astructllvm_1_1MachinePointerInfo_html_ad8ce1aee13dbdcc05d20284a30e83170"><div class="ttname"><a href="structllvm_1_1MachinePointerInfo.html#ad8ce1aee13dbdcc05d20284a30e83170">llvm::MachinePointerInfo::getFixedStack</a></div><div class="ttdeci">static MachinePointerInfo getFixedStack(MachineFunction &amp;MF, int FI, int64_t Offset=0)</div><div class="ttdoc">Return a MachinePointerInfo record that refers to the specified FrameIndex.</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8cpp_source.html#l01049">MachineOperand.cpp:1049</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_a185895a367f8cba1b465d6fd2a660fe7"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#a185895a367f8cba1b465d6fd2a660fe7">llvm::SIInstrInfo::shouldScheduleLoadsNear</a></div><div class="ttdeci">bool shouldScheduleLoadsNear(SDNode *Load0, SDNode *Load1, int64_t Offset0, int64_t Offset1, unsigned NumLoads) const override</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l00524">SIInstrInfo.cpp:524</a></div></div>
<div class="ttc" id="aSIInstrInfo_8cpp_html_a3b14da54a3568ef712f4baaab1dd5dd8"><div class="ttname"><a href="SIInstrInfo_8cpp.html#a3b14da54a3568ef712f4baaab1dd5dd8">getAGPRSpillRestoreOpcode</a></div><div class="ttdeci">static unsigned getAGPRSpillRestoreOpcode(unsigned Size)</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l01707">SIInstrInfo.cpp:1707</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_ab2d91e7bec944efcbc39d8e30644f111"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#ab2d91e7bec944efcbc39d8e30644f111">llvm::MachineBasicBlock::begin</a></div><div class="ttdeci">iterator begin()</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00309">MachineBasicBlock.h:309</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_aff3eb40a3be5c2fb6f804f1e5649fd57"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#aff3eb40a3be5c2fb6f804f1e5649fd57">llvm::SIInstrInfo::insertIndirectBranch</a></div><div class="ttdeci">void insertIndirectBranch(MachineBasicBlock &amp;MBB, MachineBasicBlock &amp;NewDestBB, MachineBasicBlock &amp;RestoreBB, const DebugLoc &amp;DL, int64_t BrOffset, RegScavenger *RS) const override</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l02511">SIInstrInfo.cpp:2511</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_a86c872d6942793868e63eea201d0d8af"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#a86c872d6942793868e63eea201d0d8af">llvm::SIInstrInfo::analyzeCompare</a></div><div class="ttdeci">bool analyzeCompare(const MachineInstr &amp;MI, Register &amp;SrcReg, Register &amp;SrcReg2, int64_t &amp;CmpMask, int64_t &amp;CmpValue) const override</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l08520">SIInstrInfo.cpp:8520</a></div></div>
<div class="ttc" id="anamespacellvm_html_ae58c751054b01f206f9b9e34e461d25fa32c426b55435c648a805b1103c96dcdf"><div class="ttname"><a href="namespacellvm.html#ae58c751054b01f206f9b9e34e461d25fa32c426b55435c648a805b1103c96dcdf">llvm::InstructionUniformity::AlwaysUniform</a></div><div class="ttdeci">@ AlwaysUniform</div><div class="ttdoc">The result values are always uniform.</div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstrBuilder_html_a860467662b17cef898ece774ab400235"><div class="ttname"><a href="classllvm_1_1MachineInstrBuilder.html#a860467662b17cef898ece774ab400235">llvm::MachineInstrBuilder::setMIFlags</a></div><div class="ttdeci">const MachineInstrBuilder &amp; setMIFlags(unsigned Flags) const</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00273">MachineInstrBuilder.h:273</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_ade90146180a53b9d9edc077b933e70bbad2a7a2d26258b290db9b195d021623a2"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#ade90146180a53b9d9edc077b933e70bbad2a7a2d26258b290db9b195d021623a2">llvm::SIInstrInfo::MO_GOTPCREL32_HI</a></div><div class="ttdeci">@ MO_GOTPCREL32_HI</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8h_source.html#l00164">SIInstrInfo.h:164</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_html_abe1ffb7444626273ec47b5526acfdeecae8cfedcf88479cd7484e7342f2f2cc72"><div class="ttname"><a href="namespacellvm_1_1AMDGPU.html#abe1ffb7444626273ec47b5526acfdeecae8cfedcf88479cd7484e7342f2f2cc72">llvm::AMDGPU::TI_SCRATCH_RSRC_DWORD2</a></div><div class="ttdeci">@ TI_SCRATCH_RSRC_DWORD2</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPU_8h_source.html#l00356">AMDGPU.h:356</a></div></div>
<div class="ttc" id="aclassllvm_1_1Register_html_a4a6966b99e305bd6f01fb17c645ae3da"><div class="ttname"><a href="classllvm_1_1Register.html#a4a6966b99e305bd6f01fb17c645ae3da">llvm::Register::isValid</a></div><div class="ttdeci">bool isValid() const</div><div class="ttdef"><b>Definition:</b> <a href="Register_8h_source.html#l00126">Register.h:126</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_ade8d533000b775c514d9ac189b66c3a5"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#ade8d533000b775c514d9ac189b66c3a5">llvm::SIInstrInfo::isVALU</a></div><div class="ttdeci">static bool isVALU(const MachineInstr &amp;MI)</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8h_source.html#l00362">SIInstrInfo.h:362</a></div></div>
<div class="ttc" id="aregcomp_8c_html_a0240ac851181b84ac374872dc5434ee4"><div class="ttname"><a href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a></div><div class="ttdeci">#define N</div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_a682ba82f42f7903d0000ffbb13ea3b57"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a682ba82f42f7903d0000ffbb13ea3b57">llvm::MachineOperand::setReg</a></div><div class="ttdeci">void setReg(Register Reg)</div><div class="ttdoc">Change the register this operand corresponds to.</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8cpp_source.html#l00061">MachineOperand.cpp:61</a></div></div>
<div class="ttc" id="aAArch64ExpandPseudoInsts_8cpp_html_ad3ece0ac2421637044624c9b01c42466"><div class="ttname"><a href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a></div><div class="ttdeci">MachineInstrBuilder MachineInstrBuilder &amp; DefMI</div><div class="ttdef"><b>Definition:</b> <a href="AArch64ExpandPseudoInsts_8cpp_source.html#l00108">AArch64ExpandPseudoInsts.cpp:108</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_a432824f0975bb863478bf4ef3a5df258"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a432824f0975bb863478bf4ef3a5df258">llvm::MachineInstr::getNumOperands</a></div><div class="ttdeci">unsigned getNumOperands() const</div><div class="ttdoc">Retuns the total number of operands.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00519">MachineInstr.h:519</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIMachineFunctionInfo_html"><div class="ttname"><a href="classllvm_1_1SIMachineFunctionInfo.html">llvm::SIMachineFunctionInfo</a></div><div class="ttdoc">This class keeps track of the SPI_SP_INPUT_ADDR config register, which tells the hardware which inter...</div><div class="ttdef"><b>Definition:</b> <a href="SIMachineFunctionInfo_8h_source.html#l00358">SIMachineFunctionInfo.h:358</a></div></div>
<div class="ttc" id="anamespacellvm_1_1CallingConv_html_a5b166ae228ebbfdb96736d6022f3feeda91283117ce67ebdae50cc7730694d8f8"><div class="ttname"><a href="namespacellvm_1_1CallingConv.html#a5b166ae228ebbfdb96736d6022f3feeda91283117ce67ebdae50cc7730694d8f8">llvm::CallingConv::AMDGPU_PS</a></div><div class="ttdeci">@ AMDGPU_PS</div><div class="ttdoc">Used for Mesa/AMDPAL pixel shaders.</div><div class="ttdef"><b>Definition:</b> <a href="CallingConv_8h_source.html#l00191">CallingConv.h:191</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_a469e271fba3a9b52dad4fa54eaf44e2b"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a469e271fba3a9b52dad4fa54eaf44e2b">llvm::MachineInstr::addOperand</a></div><div class="ttdeci">void addOperand(MachineFunction &amp;MF, const MachineOperand &amp;Op)</div><div class="ttdoc">Add the specified operand to the instruction.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8cpp_source.html#l00187">MachineInstr.cpp:187</a></div></div>
<div class="ttc" id="aclassllvm_1_1ArrayRef_html_a85ffb6531d4cda988ea81f18d4e56fb7"><div class="ttname"><a href="classllvm_1_1ArrayRef.html#a85ffb6531d4cda988ea81f18d4e56fb7">llvm::ArrayRef::size</a></div><div class="ttdeci">size_t size() const</div><div class="ttdoc">size - Get the array size.</div><div class="ttdef"><b>Definition:</b> <a href="ArrayRef_8h_source.html#l00163">ArrayRef.h:163</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveVariables_html_af73ca972d296b25a689a90fb5a0713f3"><div class="ttname"><a href="classllvm_1_1LiveVariables.html#af73ca972d296b25a689a90fb5a0713f3">llvm::LiveVariables::getVarInfo</a></div><div class="ttdeci">VarInfo &amp; getVarInfo(Register Reg)</div><div class="ttdoc">getVarInfo - Return the VarInfo structure for the specified VIRTUAL register.</div><div class="ttdef"><b>Definition:</b> <a href="LiveVariables_8cpp_source.html#l00084">LiveVariables.cpp:84</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_a095ce2d870dadf620a4c887ecc0efef8"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#a095ce2d870dadf620a4c887ecc0efef8">llvm::MachineBasicBlock::empty</a></div><div class="ttdeci">bool empty() const</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00281">MachineBasicBlock.h:281</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPUAS_html_ab1843c6566c95d94d6e36a857b8d2b3faaa1e27e4fc68e5706a4b7bbaed447c14"><div class="ttname"><a href="namespacellvm_1_1AMDGPUAS.html#ab1843c6566c95d94d6e36a857b8d2b3faaa1e27e4fc68e5706a4b7bbaed447c14">llvm::AMDGPUAS::FLAT_ADDRESS</a></div><div class="ttdeci">@ FLAT_ADDRESS</div><div class="ttdoc">Address space for flat memory.</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPU_8h_source.html#l00372">AMDGPU.h:372</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineRegisterInfo_html_ad85285685fc46db3f2b3b0bf90bf9184"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#ad85285685fc46db3f2b3b0bf90bf9184">llvm::MachineRegisterInfo::constrainRegClass</a></div><div class="ttdeci">const TargetRegisterClass * constrainRegClass(Register Reg, const TargetRegisterClass *RC, unsigned MinNumRegs=0)</div><div class="ttdoc">constrainRegClass - Constrain the register class of the specified virtual register to be a common sub...</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8cpp_source.html#l00083">MachineRegisterInfo.cpp:83</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_html_ab7679ce5eab5937b9da9e7702aff8cc5a5df5b6b6089b9237400d2c422db445d8"><div class="ttname"><a href="namespacellvm_1_1AMDGPU.html#ab7679ce5eab5937b9da9e7702aff8cc5a5df5b6b6089b9237400d2c422db445d8">llvm::AMDGPU::OPERAND_REG_IMM_INT32</a></div><div class="ttdeci">@ OPERAND_REG_IMM_INT32</div><div class="ttdoc">Operands with register or 32-bit immediate.</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00160">SIDefines.h:160</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1DPP_html_aa27612400d9f4f18653d361495d67b08a0217c93a90ee9ecf413f258cf8ff0eb2"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1DPP.html#aa27612400d9f4f18653d361495d67b08a0217c93a90ee9ecf413f258cf8ff0eb2">llvm::AMDGPU::DPP::ROW_NEWBCAST_LAST</a></div><div class="ttdeci">@ ROW_NEWBCAST_LAST</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00846">SIDefines.h:846</a></div></div>
<div class="ttc" id="anamespacellvm_1_1MCOI_html_ad9dfed338ec3d47f30c593ee49cbf96da83076f86f6450732bc883b8723492eb2"><div class="ttname"><a href="namespacellvm_1_1MCOI.html#ad9dfed338ec3d47f30c593ee49cbf96da83076f86f6450732bc883b8723492eb2">llvm::MCOI::OPERAND_UNKNOWN</a></div><div class="ttdeci">@ OPERAND_UNKNOWN</div><div class="ttdef"><b>Definition:</b> <a href="MCInstrDesc_8h_source.html#l00059">MCInstrDesc.h:59</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineRegisterInfo_1_1defusechain__iterator_html"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo_1_1defusechain__iterator.html">llvm::MachineRegisterInfo::defusechain_iterator</a></div><div class="ttdoc">reg_begin/reg_end - Provide iteration support to walk over all definitions and uses of a register wit...</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8h_source.html#l00288">MachineRegisterInfo.h:288</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_a3d9b286b0c8c32ae52faedcc2a6130a7"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#a3d9b286b0c8c32ae52faedcc2a6130a7">llvm::SIInstrInfo::isLegalVSrcOperand</a></div><div class="ttdeci">bool isLegalVSrcOperand(const MachineRegisterInfo &amp;MRI, const MCOperandInfo &amp;OpInfo, const MachineOperand &amp;MO) const</div><div class="ttdoc">Check if MO would be a valid operand for the given operand definition OpInfo.</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l05082">SIInstrInfo.cpp:5082</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_a7d38ae4f1dfa5ec71b0f78fab996425b"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#a7d38ae4f1dfa5ec71b0f78fab996425b">llvm::SIInstrInfo::getOpRegClass</a></div><div class="ttdeci">const TargetRegisterClass * getOpRegClass(const MachineInstr &amp;MI, unsigned OpNo) const</div><div class="ttdoc">Return the correct register class for OpNo.</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l04950">SIInstrInfo.cpp:4950</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_ae268a410689383a83e98b5e83296e38a"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#ae268a410689383a83e98b5e83296e38a">llvm::MachineInstr::memoperands</a></div><div class="ttdeci">ArrayRef&lt; MachineMemOperand * &gt; memoperands() const</div><div class="ttdoc">Access to memory operands of the instruction.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00713">MachineInstr.h:713</a></div></div>
<div class="ttc" id="aSIInstrInfo_8cpp_html_a70e16ebf8bd9b6d4b89331190206e635"><div class="ttname"><a href="SIInstrInfo_8cpp.html#a70e16ebf8bd9b6d4b89331190206e635">resultDependsOnExec</a></div><div class="ttdeci">static bool resultDependsOnExec(const MachineInstr &amp;MI)</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l00131">SIInstrInfo.cpp:131</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVectorImpl_html"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html">llvm::SmallVectorImpl</a></div><div class="ttdoc">This class consists of common code factored out of the SmallVector class to reduce code duplication b...</div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8h_source.html#l00042">APFloat.h:42</a></div></div>
<div class="ttc" id="anamespacellvm_html_a6b0ac1fa4f05de76413c5e0ca6334035"><div class="ttname"><a href="namespacellvm.html#a6b0ac1fa4f05de76413c5e0ca6334035">llvm::reverse</a></div><div class="ttdeci">auto reverse(ContainerTy &amp;&amp;C)</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l00484">STLExtras.h:484</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_html_ab7679ce5eab5937b9da9e7702aff8cc5ae6c8f9b5c5805da722239e1e5d8cda5d"><div class="ttname"><a href="namespacellvm_1_1AMDGPU.html#ab7679ce5eab5937b9da9e7702aff8cc5ae6c8f9b5c5805da722239e1e5d8cda5d">llvm::AMDGPU::OPERAND_REG_INLINE_C_FP16</a></div><div class="ttdeci">@ OPERAND_REG_INLINE_C_FP16</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00177">SIDefines.h:177</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIRegisterInfo_html_a0e83ecd12d46c80703ce5d3ef34ead33"><div class="ttname"><a href="classllvm_1_1SIRegisterInfo.html#a0e83ecd12d46c80703ce5d3ef34ead33">llvm::SIRegisterInfo::getCompatibleSubRegClass</a></div><div class="ttdeci">const TargetRegisterClass * getCompatibleSubRegClass(const TargetRegisterClass *SuperRC, const TargetRegisterClass *SubRC, unsigned SubIdx) const</div><div class="ttdoc">Returns a register class which is compatible with SuperRC, such that a subregister exists with class ...</div><div class="ttdef"><b>Definition:</b> <a href="SIRegisterInfo_8cpp_source.html#l02816">SIRegisterInfo.cpp:2816</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_a046a35e36c4c1206711ea82ee9cb6d72"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#a046a35e36c4c1206711ea82ee9cb6d72">llvm::MachineBasicBlock::transferSuccessorsAndUpdatePHIs</a></div><div class="ttdeci">void transferSuccessorsAndUpdatePHIs(MachineBasicBlock *FromMBB)</div><div class="ttdoc">Transfers all the successors, as in transferSuccessors, and update PHI operands in the successor bloc...</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8cpp_source.html#l00911">MachineBasicBlock.cpp:911</a></div></div>
<div class="ttc" id="anamespacellvm_html_ab9c6b351507d3c0730f4290919d43a12"><div class="ttname"><a href="namespacellvm.html#ab9c6b351507d3c0730f4290919d43a12">llvm::ArrayRef</a></div><div class="ttdeci">ArrayRef(const T &amp;OneElt) -&gt; ArrayRef&lt; T &gt;</div></div>
<div class="ttc" id="aSIInstrInfo_8cpp_html_a70258bed1d4a09a7c8329869a7e934a1"><div class="ttname"><a href="SIInstrInfo_8cpp.html#a70258bed1d4a09a7c8329869a7e934a1">getAGPRSpillSaveOpcode</a></div><div class="ttdeci">static unsigned getAGPRSpillSaveOpcode(unsigned Size)</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l01508">SIInstrInfo.cpp:1508</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallSetVector_html"><div class="ttname"><a href="classllvm_1_1SmallSetVector.html">llvm::SmallSetVector</a></div><div class="ttdoc">A SetVector that performs no allocations if smaller than a certain size.</div><div class="ttdef"><b>Definition:</b> <a href="SetVector_8h_source.html#l00300">SetVector.h:300</a></div></div>
<div class="ttc" id="anamespacellvm_1_1SIInstrFlags_html_ac8376ab01e1f2eb75e242eb464d3992da06434d3505958806f243119630f8c976"><div class="ttname"><a href="namespacellvm_1_1SIInstrFlags.html#ac8376ab01e1f2eb75e242eb464d3992da06434d3505958806f243119630f8c976">llvm::SIInstrFlags::DPP</a></div><div class="ttdeci">@ DPP</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00050">SIDefines.h:50</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_a46f8aeadd124344d2708f5941a62e1b1"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#a46f8aeadd124344d2708f5941a62e1b1">llvm::SIInstrInfo::readlaneVGPRToSGPR</a></div><div class="ttdeci">Register readlaneVGPRToSGPR(Register SrcReg, MachineInstr &amp;UseMI, MachineRegisterInfo &amp;MRI) const</div><div class="ttdoc">Copy a value from a VGPR (SrcReg) to SGPR.</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l05385">SIInstrInfo.cpp:5385</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetRegisterClass_html_a8ea8ce186fc4a70ad542e74d015d84ed"><div class="ttname"><a href="classllvm_1_1TargetRegisterClass.html#a8ea8ce186fc4a70ad542e74d015d84ed">llvm::TargetRegisterClass::hasSubClassEq</a></div><div class="ttdeci">bool hasSubClassEq(const TargetRegisterClass *RC) const</div><div class="ttdoc">Returns true if RC is a sub-class of or equal to this class.</div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8h_source.html#l00129">TargetRegisterInfo.h:129</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIMachineFunctionInfo_html_ab5b19e21fc6b0765d7d551d2f07ae0f7"><div class="ttname"><a href="classllvm_1_1SIMachineFunctionInfo.html#ab5b19e21fc6b0765d7d551d2f07ae0f7">llvm::SIMachineFunctionInfo::setHasSpilledSGPRs</a></div><div class="ttdeci">void setHasSpilledSGPRs(bool Spill=true)</div><div class="ttdef"><b>Definition:</b> <a href="SIMachineFunctionInfo_8h_source.html#l00906">SIMachineFunctionInfo.h:906</a></div></div>
<div class="ttc" id="alib_2CodeGen_2README_8txt_html_a09776db24cf586ec9f1e18f3bae14099"><div class="ttname"><a href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a></div><div class="ttdeci">Common register allocation spilling lr str ldr sxth r3 ldr mla r4 can lr mov lr str ldr sxth r3 mla r4 and then merge mul and lr str ldr sxth r3 mla r4 It also increase the likelihood the store may become dead bb27 Successors according to LLVM BB</div><div class="ttdef"><b>Definition:</b> <a href="lib_2CodeGen_2README_8txt_source.html#l00039">README.txt:39</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveVariables_html"><div class="ttname"><a href="classllvm_1_1LiveVariables.html">llvm::LiveVariables</a></div><div class="ttdef"><b>Definition:</b> <a href="LiveVariables_8h_source.html#l00047">LiveVariables.h:47</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_abbf7fd6ca838658494b35472858597c9"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#abbf7fd6ca838658494b35472858597c9">llvm::SIInstrInfo::isVGPRCopy</a></div><div class="ttdeci">bool isVGPRCopy(const MachineInstr &amp;MI) const</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8h_source.html#l00796">SIInstrInfo.h:796</a></div></div>
<div class="ttc" id="anamespacellvm_html_af80bd4ec8a9b2f8e7d9d75ab708a55c2"><div class="ttname"><a href="namespacellvm.html#af80bd4ec8a9b2f8e7d9d75ab708a55c2">llvm::maxUIntN</a></div><div class="ttdeci">uint64_t maxUIntN(uint64_t N)</div><div class="ttdoc">Gets the maximum value for a N-bit unsigned integer.</div><div class="ttdef"><b>Definition:</b> <a href="MathExtras_8h_source.html#l00229">MathExtras.h:229</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_a75d714113557721ffd5bd3d06dc79642"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#a75d714113557721ffd5bd3d06dc79642">llvm::SIInstrInfo::isSGPRStackAccess</a></div><div class="ttdeci">unsigned isSGPRStackAccess(const MachineInstr &amp;MI, int &amp;FrameIndex) const</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l07548">SIInstrInfo.cpp:7548</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_html_ab7679ce5eab5937b9da9e7702aff8cc5a7bcafeceef57e87bc524d5cc035837d5"><div class="ttname"><a href="namespacellvm_1_1AMDGPU.html#ab7679ce5eab5937b9da9e7702aff8cc5a7bcafeceef57e87bc524d5cc035837d5">llvm::AMDGPU::OPERAND_REG_IMM_FP16</a></div><div class="ttdeci">@ OPERAND_REG_IMM_FP16</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00165">SIDefines.h:165</a></div></div>
<div class="ttc" id="aclassllvm_1_1DebugLoc_html"><div class="ttname"><a href="classllvm_1_1DebugLoc.html">llvm::DebugLoc</a></div><div class="ttdoc">A debug info location.</div><div class="ttdef"><b>Definition:</b> <a href="DebugLoc_8h_source.html#l00033">DebugLoc.h:33</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_adc3333d2d5974f4068df84f8706fc7d2"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#adc3333d2d5974f4068df84f8706fc7d2">llvm::SIInstrInfo::isFLAT</a></div><div class="ttdeci">static bool isFLAT(const MachineInstr &amp;MI)</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8h_source.html#l00518">SIInstrInfo.h:518</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_ad94f2f559486e50040a794798454f67f"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#ad94f2f559486e50040a794798454f67f">llvm::SIInstrInfo::insertEQ</a></div><div class="ttdeci">Register insertEQ(MachineBasicBlock *MBB, MachineBasicBlock::iterator I, const DebugLoc &amp;DL, Register SrcReg, int Value) const</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l01255">SIInstrInfo.cpp:1255</a></div></div>
<div class="ttc" id="astructllvm_1_1cl_1_1desc_html"><div class="ttname"><a href="structllvm_1_1cl_1_1desc.html">llvm::cl::desc</a></div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00411">CommandLine.h:411</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIRegisterInfo_html_a5f55007393b9c2edcdb84c55e5df5514"><div class="ttname"><a href="classllvm_1_1SIRegisterInfo.html#a5f55007393b9c2edcdb84c55e5df5514">llvm::SIRegisterInfo::opCanUseInlineConstant</a></div><div class="ttdeci">bool opCanUseInlineConstant(unsigned OpType) const</div><div class="ttdef"><b>Definition:</b> <a href="SIRegisterInfo_8cpp_source.html#l02825">SIRegisterInfo.cpp:2825</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_html_ab7679ce5eab5937b9da9e7702aff8cc5a9dfb8a7518a9154161c7a05b644e6e47"><div class="ttname"><a href="namespacellvm_1_1AMDGPU.html#ab7679ce5eab5937b9da9e7702aff8cc5a9dfb8a7518a9154161c7a05b644e6e47">llvm::AMDGPU::OPERAND_REG_INLINE_AC_V2INT16</a></div><div class="ttdeci">@ OPERAND_REG_INLINE_AC_V2INT16</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00195">SIDefines.h:195</a></div></div>
<div class="ttc" id="anamespacellvm_1_1RegState_html_aef4cc0c855dc833e2a9d58a50703320da2fee1a7db4e84247a193a9af1f907013"><div class="ttname"><a href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da2fee1a7db4e84247a193a9af1f907013">llvm::RegState::Dead</a></div><div class="ttdeci">@ Dead</div><div class="ttdoc">Unused definition.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00050">MachineInstrBuilder.h:50</a></div></div>
<div class="ttc" id="aRegisterScavenging_8h_html"><div class="ttname"><a href="RegisterScavenging_8h.html">RegisterScavenging.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_html_a5a55a26fbacd40b385e54565fdebc4dd"><div class="ttname"><a href="namespacellvm_1_1AMDGPU.html#a5a55a26fbacd40b385e54565fdebc4dd">llvm::AMDGPU::RSRC_ELEMENT_SIZE_SHIFT</a></div><div class="ttdeci">const uint64_t RSRC_ELEMENT_SIZE_SHIFT</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8h_source.html#l01325">SIInstrInfo.h:1325</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineDominatorTree_html"><div class="ttname"><a href="classllvm_1_1MachineDominatorTree.html">llvm::MachineDominatorTree</a></div><div class="ttdoc">DominatorTree Class - Concrete subclass of DominatorTreeBase that is used to compute a normal dominat...</div><div class="ttdef"><b>Definition:</b> <a href="MachineDominators_8h_source.html#l00051">MachineDominators.h:51</a></div></div>
<div class="ttc" id="anamespacellvm_1_1SIInstrFlags_html_ac8376ab01e1f2eb75e242eb464d3992dae51b91ec89e9fd6502c3339d1360c147"><div class="ttname"><a href="namespacellvm_1_1SIInstrFlags.html#ac8376ab01e1f2eb75e242eb464d3992dae51b91ec89e9fd6502c3339d1360c147">llvm::SIInstrFlags::WQM</a></div><div class="ttdeci">@ WQM</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00077">SIDefines.h:77</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_aa37e31e5df481d2f8a6f9f022886cf5e"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#aa37e31e5df481d2f8a6f9f022886cf5e">llvm::MachineInstr::tieOperands</a></div><div class="ttdeci">void tieOperands(unsigned DefIdx, unsigned UseIdx)</div><div class="ttdoc">Add a tie between the register operands at DefIdx and UseIdx.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8cpp_source.html#l01107">MachineInstr.cpp:1107</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScheduleHazardRecognizer_html"><div class="ttname"><a href="classllvm_1_1ScheduleHazardRecognizer.html">llvm::ScheduleHazardRecognizer</a></div><div class="ttdoc">HazardRecognizer - This determines whether or not an instruction can be issued this cycle,...</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleHazardRecognizer_8h_source.html#l00025">ScheduleHazardRecognizer.h:25</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_ac2421adbb9996e1b15f03a8abb6c70a8"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#ac2421adbb9996e1b15f03a8abb6c70a8">llvm::MachineInstr::eraseFromParent</a></div><div class="ttdeci">void eraseFromParent()</div><div class="ttdoc">Unlink 'this' from the containing basic block and delete it.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8cpp_source.html#l00705">MachineInstr.cpp:705</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstrBundleIterator_html"><div class="ttname"><a href="classllvm_1_1MachineInstrBundleIterator.html">llvm::MachineInstrBundleIterator&lt; MachineInstr &gt;</a></div></div>
<div class="ttc" id="anamespacellvm_html_a434f6a0d80fb13e4326e848a6391f057"><div class="ttname"><a href="namespacellvm.html#a434f6a0d80fb13e4326e848a6391f057">llvm::isPowerOf2_64</a></div><div class="ttdeci">constexpr bool isPowerOf2_64(uint64_t Value)</div><div class="ttdoc">Return true if the argument is a power of two &gt; 0 (64 bit edition.)</div><div class="ttdef"><b>Definition:</b> <a href="MathExtras_8h_source.html#l00297">MathExtras.h:297</a></div></div>
<div class="ttc" id="aclassllvm_1_1GCNSubtarget_html_a67eda8a7f0b4516f8f08d82651207c91"><div class="ttname"><a href="classllvm_1_1GCNSubtarget.html#a67eda8a7f0b4516f8f08d82651207c91">llvm::GCNSubtarget::hasSDWAOutModsVOPC</a></div><div class="ttdeci">bool hasSDWAOutModsVOPC() const</div><div class="ttdef"><b>Definition:</b> <a href="GCNSubtarget_8h_source.html#l00698">GCNSubtarget.h:698</a></div></div>
<div class="ttc" id="aSIInstrInfo_8cpp_html_a1b20766e517418d6dbe92cd0d6aa42ae"><div class="ttname"><a href="SIInstrInfo_8cpp.html#a1b20766e517418d6dbe92cd0d6aa42ae">isStride64</a></div><div class="ttdeci">static bool isStride64(unsigned Opc)</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l00282">SIInstrInfo.cpp:282</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_ac18c5827c119a73ea6f07b4ef4649654"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#ac18c5827c119a73ea6f07b4ef4649654">llvm::SIInstrInfo::getRegClass</a></div><div class="ttdeci">const TargetRegisterClass * getRegClass(const MCInstrDesc &amp;TID, unsigned OpNum, const TargetRegisterInfo *TRI, const MachineFunction &amp;MF) const override</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l04920">SIInstrInfo.cpp:4920</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_aea349efd44508e36429de592f1437b14"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#aea349efd44508e36429de592f1437b14">llvm::SIInstrInfo::hasModifiersSet</a></div><div class="ttdeci">bool hasModifiersSet(const MachineInstr &amp;MI, unsigned OpName) const</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l03895">SIInstrInfo.cpp:3895</a></div></div>
<div class="ttc" id="anamespacellvm_1_1SIInstrFlags_html_ac8376ab01e1f2eb75e242eb464d3992dacff05c63e6ff81eab46dc98fbb55791c"><div class="ttname"><a href="namespacellvm_1_1SIInstrFlags.html#ac8376ab01e1f2eb75e242eb464d3992dacff05c63e6ff81eab46dc98fbb55791c">llvm::SIInstrFlags::renamedInGFX9</a></div><div class="ttdeci">@ renamedInGFX9</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00086">SIDefines.h:86</a></div></div>
<div class="ttc" id="anamespacellvm_1_1RegState_html_aef4cc0c855dc833e2a9d58a50703320da72c17e2ff2d5af62a30e56ac152aa8d5"><div class="ttname"><a href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da72c17e2ff2d5af62a30e56ac152aa8d5">llvm::RegState::Define</a></div><div class="ttdeci">@ Define</div><div class="ttdoc">Register definition.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00044">MachineInstrBuilder.h:44</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineRegisterInfo_html_a557ce2bfb3c946e43d65d750b2537987"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#a557ce2bfb3c946e43d65d750b2537987">llvm::MachineRegisterInfo::moveOperands</a></div><div class="ttdeci">void moveOperands(MachineOperand *Dst, MachineOperand *Src, unsigned NumOps)</div><div class="ttdoc">Move NumOps operands from Src to Dst, updating use-def lists as needed.</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8cpp_source.html#l00333">MachineRegisterInfo.cpp:333</a></div></div>
<div class="ttc" id="anamespacellvm_1_1SISrcMods_html_a1d705f3f6f4a6c585d068369ef0f4916a3b095994a942145ccaaed4f175c7172a"><div class="ttname"><a href="namespacellvm_1_1SISrcMods.html#a1d705f3f6f4a6c585d068369ef0f4916a3b095994a942145ccaaed4f175c7172a">llvm::SISrcMods::OP_SEL_0</a></div><div class="ttdeci">@ OP_SEL_0</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00232">SIDefines.h:232</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_ad4705aea7dab2a011b09f6036a49087c"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#ad4705aea7dab2a011b09f6036a49087c">llvm::SIInstrInfo::mayReadEXEC</a></div><div class="ttdeci">bool mayReadEXEC(const MachineRegisterInfo &amp;MRI, const MachineInstr &amp;MI) const</div><div class="ttdoc">Returns true if the instruction could potentially depend on the value of exec.</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l03701">SIInstrInfo.cpp:3701</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCInstrDesc_html_a0ca904e64ee29c8812ed34e632d3c947"><div class="ttname"><a href="classllvm_1_1MCInstrDesc.html#a0ca904e64ee29c8812ed34e632d3c947">llvm::MCInstrDesc::getNumOperands</a></div><div class="ttdeci">unsigned getNumOperands() const</div><div class="ttdoc">Return the number of declared MachineOperands for this MachineInstruction.</div><div class="ttdef"><b>Definition:</b> <a href="MCInstrDesc_8h_source.html#l00237">MCInstrDesc.h:237</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html"><div class="ttname"><a href="classllvm_1_1Value.html">llvm::Value</a></div><div class="ttdoc">LLVM Value Representation.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00074">Value.h:74</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_a8e8f884db0a3faadefc981023902a1ec"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#a8e8f884db0a3faadefc981023902a1ec">llvm::SIInstrInfo::getInstructionUniformity</a></div><div class="ttdeci">InstructionUniformity getInstructionUniformity(const MachineInstr &amp;MI) const override final</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l08416">SIInstrInfo.cpp:8416</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_a125b690ac5caa9383822f14c597e792b"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#a125b690ac5caa9383822f14c597e792b">llvm::SIInstrInfo::getGenericInstructionUniformity</a></div><div class="ttdeci">InstructionUniformity getGenericInstructionUniformity(const MachineInstr &amp;MI) const</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l08367">SIInstrInfo.cpp:8367</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIRegisterInfo_html_a981883145186bf6da58e5bd7f6476f30"><div class="ttname"><a href="classllvm_1_1SIRegisterInfo.html#a981883145186bf6da58e5bd7f6476f30">llvm::SIRegisterInfo::getEquivalentSGPRClass</a></div><div class="ttdeci">const TargetRegisterClass * getEquivalentSGPRClass(const TargetRegisterClass *VRC) const</div><div class="ttdef"><b>Definition:</b> <a href="SIRegisterInfo_8cpp_source.html#l02806">SIRegisterInfo.cpp:2806</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_a339cb5c023edce57dbe8c60c466b0f68"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#a339cb5c023edce57dbe8c60c466b0f68">llvm::SIInstrInfo::getKillTerminatorFromPseudo</a></div><div class="ttdeci">const MCInstrDesc &amp; getKillTerminatorFromPseudo(unsigned Opcode) const</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l07866">SIInstrInfo.cpp:7866</a></div></div>
<div class="ttc" id="anamespacellvm_html_abfcab32516704f11d146c757f402ad5caa73815097c71f15fe54ab447a7ff00ba"><div class="ttname"><a href="namespacellvm.html#abfcab32516704f11d146c757f402ad5caa73815097c71f15fe54ab447a7ff00ba">llvm::DS_Error</a></div><div class="ttdeci">@ DS_Error</div><div class="ttdef"><b>Definition:</b> <a href="DiagnosticInfo_8h_source.html#l00050">DiagnosticInfo.h:50</a></div></div>
<div class="ttc" id="aSIInstrInfo_8cpp_html_a51d820fe919d94f220e21e9d1f7361ad"><div class="ttname"><a href="SIInstrInfo_8cpp.html#a51d820fe919d94f220e21e9d1f7361ad">memOpsHaveSameBaseOperands</a></div><div class="ttdeci">static bool memOpsHaveSameBaseOperands(ArrayRef&lt; const MachineOperand * &gt; BaseOps1, ArrayRef&lt; const MachineOperand * &gt; BaseOps2)</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l03252">SIInstrInfo.cpp:3252</a></div></div>
<div class="ttc" id="aclassllvm_1_1InstrItineraryData_html"><div class="ttname"><a href="classllvm_1_1InstrItineraryData.html">llvm::InstrItineraryData</a></div><div class="ttdoc">Itinerary data supplied by a subtarget to be used by a target.</div><div class="ttdef"><b>Definition:</b> <a href="MCInstrItineraries_8h_source.html#l00109">MCInstrItineraries.h:109</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_html_ab7679ce5eab5937b9da9e7702aff8cc5a206ff13aa7a98aac961a631569867e3d"><div class="ttname"><a href="namespacellvm_1_1AMDGPU.html#ab7679ce5eab5937b9da9e7702aff8cc5a206ff13aa7a98aac961a631569867e3d">llvm::AMDGPU::OPERAND_REG_IMM_INT64</a></div><div class="ttdeci">@ OPERAND_REG_IMM_INT64</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00161">SIDefines.h:161</a></div></div>
<div class="ttc" id="anamespacellvm_1_1RegState_html_aef4cc0c855dc833e2a9d58a50703320da833922eca2ad0eab70573ba1f5fba9af"><div class="ttname"><a href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da833922eca2ad0eab70573ba1f5fba9af">llvm::RegState::ImplicitDefine</a></div><div class="ttdeci">@ ImplicitDefine</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00063">MachineInstrBuilder.h:63</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_acbc921830578e2741be6549db716c0ce"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">llvm::MachineBasicBlock::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00311">MachineBasicBlock.h:311</a></div></div>
<div class="ttc" id="aAArch64AdvSIMDScalarPass_8cpp_html_a92a6b0a9b7228d190b0a7d8ae3ef03c7"><div class="ttname"><a href="AArch64AdvSIMDScalarPass_8cpp.html#a92a6b0a9b7228d190b0a7d8ae3ef03c7">SubReg</a></div><div class="ttdeci">unsigned SubReg</div><div class="ttdef"><b>Definition:</b> <a href="AArch64AdvSIMDScalarPass_8cpp_source.html#l00104">AArch64AdvSIMDScalarPass.cpp:104</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1DPP_html_aa27612400d9f4f18653d361495d67b08abbdea5eaa8b53c3c3ddc5446a1883d0e"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1DPP.html#aa27612400d9f4f18653d361495d67b08abbdea5eaa8b53c3c3ddc5446a1883d0e">llvm::AMDGPU::DPP::WAVE_ROR1</a></div><div class="ttdeci">@ WAVE_ROR1</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00836">SIDefines.h:836</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_a2c6c099091f6e286415971cc7979316a"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#a2c6c099091f6e286415971cc7979316a">llvm::SIInstrInfo::getIndirectGPRIDXPseudo</a></div><div class="ttdeci">const MCInstrDesc &amp; getIndirectGPRIDXPseudo(unsigned VecSize, bool IsIndirectSrc) const</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l01296">SIInstrInfo.cpp:1296</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_ae25e963e7382528026a78b5c2e31c435"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#ae25e963e7382528026a78b5c2e31c435">llvm::SIInstrInfo::pseudoToMCOpcode</a></div><div class="ttdeci">int pseudoToMCOpcode(int Opcode) const</div><div class="ttdoc">Return a target-specific opcode if Opcode is a pseudo instruction.</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l08044">SIInstrInfo.cpp:8044</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_ac8ce95857a66b3706a84d1fd5072f0dd"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#ac8ce95857a66b3706a84d1fd5072f0dd">llvm::MachineInstr::setPostInstrSymbol</a></div><div class="ttdeci">void setPostInstrSymbol(MachineFunction &amp;MF, MCSymbol *Symbol)</div><div class="ttdoc">Set a symbol that will be emitted just after the instruction itself.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8cpp_source.html#l00472">MachineInstr.cpp:472</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_html_a42e6f807e1852ff50f30ed48bce3abea"><div class="ttname"><a href="namespacellvm_1_1AMDGPU.html#a42e6f807e1852ff50f30ed48bce3abea">llvm::AMDGPU::getGlobalVaddrOp</a></div><div class="ttdeci">LLVM_READONLY int getGlobalVaddrOp(uint16_t Opcode)</div></div>
<div class="ttc" id="aclassllvm_1_1SrcOp_html"><div class="ttname"><a href="classllvm_1_1SrcOp.html">llvm::SrcOp</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineIRBuilder_8h_source.html#l00128">MachineIRBuilder.h:128</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1DPP_html_aa27612400d9f4f18653d361495d67b08afd69a50c5cc7f76e5361087c82338cca"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1DPP.html#aa27612400d9f4f18653d361495d67b08afd69a50c5cc7f76e5361087c82338cca">llvm::AMDGPU::DPP::DPP_UNUSED5_LAST</a></div><div class="ttdeci">@ DPP_UNUSED5_LAST</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00832">SIDefines.h:832</a></div></div>
<div class="ttc" id="aSIInstrInfo_8cpp_html_a3e1a0dd2de88c2c34c60cc5d4e127d94"><div class="ttname"><a href="SIInstrInfo_8cpp.html#a3e1a0dd2de88c2c34c60cc5d4e127d94">copyFlagsToImplicitVCC</a></div><div class="ttdeci">static void copyFlagsToImplicitVCC(MachineInstr &amp;MI, const MachineOperand &amp;Orig)</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l03963">SIInstrInfo.cpp:3963</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_a0673c8aeb9b580e1be469133adba37e5"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#a0673c8aeb9b580e1be469133adba37e5">llvm::SIInstrInfo::legalizeOperandsVOP3</a></div><div class="ttdeci">void legalizeOperandsVOP3(MachineRegisterInfo &amp;MRI, MachineInstr &amp;MI) const</div><div class="ttdoc">Fix operands in MI to satisfy constant bus requirements.</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l05299">SIInstrInfo.cpp:5299</a></div></div>
<div class="ttc" id="anamespacellvm_html_aac36edd0f1ce976f0025c98e88d3830ea76feb79109026728a20736a8c6504548"><div class="ttname"><a href="namespacellvm.html#aac36edd0f1ce976f0025c98e88d3830ea76feb79109026728a20736a8c6504548">llvm::RecurKind::Xor</a></div><div class="ttdeci">@ Xor</div><div class="ttdoc">Bitwise or logical XOR of integers.</div></div>
<div class="ttc" id="aSIInstrInfo_8cpp_html_a2f03a1ac84f3a1c4e5612c9293ea6244"><div class="ttname"><a href="SIInstrInfo_8cpp.html#a2f03a1ac84f3a1c4e5612c9293ea6244">getIndirectSGPRWriteMovRelPseudo64</a></div><div class="ttdeci">static unsigned getIndirectSGPRWriteMovRelPseudo64(unsigned VecSize)</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l01405">SIInstrInfo.cpp:1405</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_ad7f2dc64214551418f486026ffc95fa4"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#ad7f2dc64214551418f486026ffc95fa4">llvm::MachineOperand::isIdenticalTo</a></div><div class="ttdeci">bool isIdenticalTo(const MachineOperand &amp;Other) const</div><div class="ttdoc">Returns true if this operand is identical to the specified operand except for liveness related flags ...</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8cpp_source.html#l00306">MachineOperand.cpp:306</a></div></div>
<div class="ttc" id="aclassllvm_1_1Use_html"><div class="ttname"><a href="classllvm_1_1Use.html">llvm::Use</a></div><div class="ttdoc">A Use represents the edge between a Value definition and its users.</div><div class="ttdef"><b>Definition:</b> <a href="Use_8h_source.html#l00043">Use.h:43</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIRegisterInfo_html_ae1364aa9eb8390d678c037be69450deb"><div class="ttname"><a href="classllvm_1_1SIRegisterInfo.html#ae1364aa9eb8390d678c037be69450deb">llvm::SIRegisterInfo::hasAGPRs</a></div><div class="ttdeci">static bool hasAGPRs(const TargetRegisterClass *RC)</div><div class="ttdef"><b>Definition:</b> <a href="SIRegisterInfo_8h_source.html#l00223">SIRegisterInfo.h:223</a></div></div>
<div class="ttc" id="aclassllvm_1_1GCNSubtarget_html_a278004c824cd46c7504e68ec7c5f2d57"><div class="ttname"><a href="classllvm_1_1GCNSubtarget.html#a278004c824cd46c7504e68ec7c5f2d57">llvm::GCNSubtarget::hasMAIInsts</a></div><div class="ttdeci">bool hasMAIInsts() const</div><div class="ttdef"><b>Definition:</b> <a href="GCNSubtarget_8h_source.html#l00748">GCNSubtarget.h:748</a></div></div>
<div class="ttc" id="aMachineDominators_8h_html"><div class="ttname"><a href="MachineDominators_8h.html">MachineDominators.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCRegister_html"><div class="ttname"><a href="classllvm_1_1MCRegister.html">llvm::MCRegister</a></div><div class="ttdoc">Wrapper class representing physical registers. Should be passed by value.</div><div class="ttdef"><b>Definition:</b> <a href="MCRegister_8h_source.html#l00024">MCRegister.h:24</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_ab0d1155c8c38e84cbe387998fd2e517e"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#ab0d1155c8c38e84cbe387998fd2e517e">llvm::MachineOperand::isGlobal</a></div><div class="ttdeci">bool isGlobal() const</div><div class="ttdoc">isGlobal - Tests if this is a MO_GlobalAddress operand.</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00347">MachineOperand.h:347</a></div></div>
<div class="ttc" id="anamespacellvm_1_1Intrinsic_html_a80add6b3b1cdaec560907995127adc16"><div class="ttname"><a href="namespacellvm_1_1Intrinsic.html#a80add6b3b1cdaec560907995127adc16">llvm::Intrinsic::ID</a></div><div class="ttdeci">unsigned ID</div><div class="ttdef"><b>Definition:</b> <a href="TargetTransformInfo_8h_source.html#l00039">TargetTransformInfo.h:39</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_html_ab7679ce5eab5937b9da9e7702aff8cc5a52eeb3170ac03d3af5c8ea11b06ea93c"><div class="ttname"><a href="namespacellvm_1_1AMDGPU.html#ab7679ce5eab5937b9da9e7702aff8cc5a52eeb3170ac03d3af5c8ea11b06ea93c">llvm::AMDGPU::OPERAND_REG_INLINE_AC_V2FP16</a></div><div class="ttdeci">@ OPERAND_REG_INLINE_AC_V2FP16</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00196">SIDefines.h:196</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html_a31d7b26c45988dda37e32395313029eb"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html#a31d7b26c45988dda37e32395313029eb">llvm::SIInstrInfo::getInstBundleSize</a></div><div class="ttdeci">unsigned getInstBundleSize(const MachineInstr &amp;MI) const</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l07584">SIInstrInfo.cpp:7584</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1DPP_html_aa27612400d9f4f18653d361495d67b08a7c1b7d231bccabb7234e9b353c87a904"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1DPP.html#aa27612400d9f4f18653d361495d67b08a7c1b7d231bccabb7234e9b353c87a904">llvm::AMDGPU::DPP::ROW_SHARE_FIRST</a></div><div class="ttdeci">@ ROW_SHARE_FIRST</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00848">SIDefines.h:848</a></div></div>
<div class="ttc" id="anamespacellvm_1_1SISrcMods_html_a1d705f3f6f4a6c585d068369ef0f4916a1be8a1ab79f4d1830526cc8d48960168"><div class="ttname"><a href="namespacellvm_1_1SISrcMods.html#a1d705f3f6f4a6c585d068369ef0f4916a1be8a1ab79f4d1830526cc8d48960168">llvm::SISrcMods::ABS</a></div><div class="ttdeci">@ ABS</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00229">SIDefines.h:229</a></div></div>
<div class="ttc" id="astructllvm_1_1LiveVariables_1_1VarInfo_html_a76321b20db4feab750d85c2329cfcbc6"><div class="ttname"><a href="structllvm_1_1LiveVariables_1_1VarInfo.html#a76321b20db4feab750d85c2329cfcbc6">llvm::LiveVariables::VarInfo::AliveBlocks</a></div><div class="ttdeci">SparseBitVector AliveBlocks</div><div class="ttdoc">AliveBlocks - Set of blocks in which this value is alive completely through.</div><div class="ttdef"><b>Definition:</b> <a href="LiveVariables_8h_source.html#l00085">LiveVariables.h:85</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Aug 7 2023 10:10:14 for LLVM by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
